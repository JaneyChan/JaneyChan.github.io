const _0x1e5c40=(function(){let _0x15bfac=!![];return function(_0x559ba6,_0x484970){const _0x3ddb09=_0x15bfac?function(){if(_0x484970){const _0x4b7ad6=_0x484970['apply'](_0x559ba6,arguments);return _0x484970=null,_0x4b7ad6;}}:function(){};return _0x15bfac=![],_0x3ddb09;};}()),_0x364cc7=_0x1e5c40(this,function(){return _0x364cc7['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x364cc7)['search']('(((.+)+)+)'+'+$');});_0x364cc7();const _0xc42a3=(function(){let _0x49b3ce=!![];return function(_0x4803fe,_0x482b84){const _0x2eb5d0=_0x49b3ce?function(){if(_0x482b84){const _0x442736=_0x482b84['apply'](_0x4803fe,arguments);return _0x482b84=null,_0x442736;}}:function(){};return _0x49b3ce=![],_0x2eb5d0;};}());(function(){_0xc42a3(this,function(){const _0x4d348d=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5144be=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x24de9f=_0x53be1a('init');!_0x4d348d['test'](_0x24de9f+'chain')||!_0x5144be['test'](_0x24de9f+'input')?_0x24de9f('0'):_0x53be1a();})();}());const _0x36b1cd=(function(){let _0x363b10=!![];return function(_0xa3ba76,_0xf80b53){const _0x1c6408=_0x363b10?function(){if(_0xf80b53){const _0x556028=_0xf80b53['apply'](_0xa3ba76,arguments);return _0xf80b53=null,_0x556028;}}:function(){};return _0x363b10=![],_0x1c6408;};}()),_0x4d1c45=_0x36b1cd(this,function(){const _0x1e4a46=function(){let _0x5a237f;try{_0x5a237f=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x53eec5){_0x5a237f=window;}return _0x5a237f;},_0x24cde4=_0x1e4a46(),_0x3b5e69=_0x24cde4['console']=_0x24cde4['console']||{},_0x2d8398=['log','warn','info','error','exception','table','trace'];for(let _0x1b866e=0xc1a+-0x24b5*-0x1+0x77*-0x69;_0x1b866e<_0x2d8398['length'];_0x1b866e++){const _0x434ba8=_0x36b1cd['constructo'+'r']['prototype']['bind'](_0x36b1cd),_0x36374d=_0x2d8398[_0x1b866e],_0x120103=_0x3b5e69[_0x36374d]||_0x434ba8;_0x434ba8['__proto__']=_0x36b1cd['bind'](_0x36b1cd),_0x434ba8['toString']=_0x120103['toString']['bind'](_0x120103),_0x3b5e69[_0x36374d]=_0x434ba8;}});_0x4d1c45();var k0=Object['defineProp'+'erty'],U0=(_0x44a2c9,_0x3fdec8,_0x2637fb)=>_0x3fdec8 in _0x44a2c9?k0(_0x44a2c9,_0x3fdec8,{'enumerable':!(-0x16e7+0xe3b+0x8ac),'configurable':!(0x3*-0x80e+0x1900+0x1*-0xd6),'writable':!(-0x1dfa*-0x1+-0x24d7+0x6dd),'value':_0x2637fb}):_0x44a2c9[_0x3fdec8]=_0x2637fb,h=(_0xe14d71,_0xc96d12,_0x76d6c9)=>U0(_0xe14d71,typeof _0xc96d12!='symbol'?_0xc96d12+'':_0xc96d12,_0x76d6c9),B0=(_0x353c48=>(_0x353c48['HIGH']='high',_0x353c48['MEDIUM']='medium',_0x353c48['LOW']='low',_0x353c48['LOW_VR']='lowVR',_0x353c48))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x1bb55a=navigator['userAgent']['includes']('Macintosh'),_0xc2d06d=navigator['maxTouchPo'+'ints']===0x862+-0x77*-0x35+0x8*-0x420,_0x41d6c0=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x1bb55a&&_0xc2d06d&&_0x41d6c0;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x8faab4=navigator['userAgent']['toLowerCas'+'e']();return _0x8faab4['includes']('pico')||_0x8faab4['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x43c7bd=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x13fb16=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x43c7bd)?'iOS':/android/['test'](_0x43c7bd)?'Android':/mac/['test'](_0x13fb16)?'macOS':/win/['test'](_0x13fb16)?'Windows':/linux/['test'](_0x13fb16)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x110c*-0x1+-0x1f5d+0xe7e,this['MEDIUM_FPS'+'_THRESHOLD']=0xa4f+-0x39d*0x8+0x12b7,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0x2*-0xed1+-0x15db+0x7c3*-0x1)*(-0x80f+-0x2*0x23d+0x11*0xf9)*(0x2*0x147+0x21*-0x16+0x448)*(-0x1580+0x1238+0x8*0xe9),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x1d1+-0xb66*-0x2+0x1*-0x189b)*(0x150a+0x3*-0xb44+-0x861*-0x2)*(-0x1910+-0x1679*-0x1+-0x1*-0x697)*(0x195c+-0x581+-0xfdb),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0xcb1030){const _0x58d409=_0xcb1030['toLowerCas'+'e']();for(const [_0x175348,_0x26227f]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x58d409['includes'](_0x175348))return _0x26227f*(0x31*0x8e+-0x54f+-0x27*0x8d);return-0xc14*-0x2+-0x8cb*-0x3+-0x3257;}['getModelSc'+'ore'](_0xcd7b98,_0x5e4177){const _0x13b38a=_0xcd7b98['toLowerCas'+'e'](),_0x55acbd=_0x5e4177['toLowerCas'+'e']();for(const [_0x3bd423,_0x4b1654]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x13b38a['includes'](_0x3bd423)&&_0x4b1654['some'](_0x532d1e=>_0x532d1e['test'](_0x55acbd)))return 0x12d*-0x13+-0x92e+-0x29*-0xc7;for(const [_0x27612a,_0x32cafd]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x13b38a['includes'](_0x27612a)&&_0x32cafd['some'](_0x127623=>_0x127623['test'](_0x55acbd)))return 0xf*-0x7b+0x1573+-0x12a*0xc;for(const [_0x422785,_0x594aa7]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x13b38a['includes'](_0x422785)&&_0x594aa7['some'](_0x2a3b1d=>_0x2a3b1d['test'](_0x55acbd)))return-0x2635+-0x1*-0xf13+0x1754;return-0x268*-0x1+-0x1*-0xfb3+0x19*-0xb7;}['getMemoryS'+'core'](_0x4ef87d){return _0x4ef87d?_0x4ef87d>=-0xcb*0xa+-0x2806+0x5ed4?-0xae*0x19+0xc5*0x2+0xfd8:_0x4ef87d>=0x28f5+0x2c48*0x1+0x10f*-0x33?-0x719+-0xc3e*0x2+0x1fef:_0x4ef87d>=0x8f+0x5e*-0x72+0x40bd*0x1?-0x13a*-0x1d+-0x1*-0x1c8b+-0x3fcd:_0x4ef87d>=-0x1d8f*-0x1+0xcfb*-0x3+0x1902?0x9*-0x413+-0x824*0x4+0x9*0x7b9:_0x4ef87d>=-0x5f1+-0x1752+0x2513?-0x1725+-0x17d4+0x2f35:-0xc74*-0x3+-0x13fb+-0x53*0x35:-0x2*0x73c+-0x1335+0x21df;}['getDriverS'+'core'](_0x4c7121){if(!_0x4c7121)return-0x17eb+-0x1*0x4a1+0x1*0x1cbe;const _0x27ef82=_0x4c7121['match'](/20[2-9][0-9]/);if(_0x27ef82){const _0x125d42=parseInt(_0x27ef82[0x961+-0x19c8+0x1067]);if(_0x125d42>=0x1732+0x84+-0xfcf)return-0x12cb+0xf72+0x1*0x3bd;if(_0x125d42>=0x6*-0x5ff+-0x220c+-0x1*-0x4dec)return 0x1875+-0xd*-0x1e7+-0x30e0;if(_0x125d42>=0x15b4+-0x1*-0x939+0x1*-0x1708)return 0x2005+-0xb5*-0x2+-0x2133;}return 0x2338+-0xbbd*-0x1+0x1*-0x2ec3;}['evaluateGP'+'U'](_0x1acc62){const _0x44fc08=this['getVendorS'+'core'](_0x1acc62['vendor']),_0x497e68=this['getModelSc'+'ore'](_0x1acc62['vendor'],_0x1acc62['renderer']),_0xbd9178=this['getMemoryS'+'core'](_0x1acc62['memory']),_0x71c6bf=this['getDriverS'+'core'](_0x1acc62['driverVers'+'ion']);return console['log']('GPU:',_0x1acc62['vendor']),console['log']('GPU:',_0x1acc62['renderer']),console['log']('GPU:',_0x1acc62['driverVers'+'ion']),console['table'](_0x1acc62),_0x44fc08*(0x4a5*-0x1+0x3ad*-0x4+-0x27*-0x7f+0.3)+_0x497e68*(0x2*-0xd8e+0x34d*-0x3+-0x17b*-0x19+0.4)+_0xbd9178*(0x1e2d+0x13*0x3d+-0x22b4+0.2)+_0x71c6bf*(0x1a9b+0x1ba1+0x1*-0x363c+0.1);}['evaluateCP'+'U'](){const _0x195016=navigator['hardwareCo'+'ncurrency'];return _0x195016>=-0x1*-0x1c16+-0x19*0x11b+-0x6b?0x25a3+0xe22+-0x19*0x212:_0x195016>=0x18c1+0x3*-0xcae+0xd4d*0x1?0x19fd+0x7*-0x7+0x1*-0x19ca:-0x64a*0x1+-0x1336+0x1981;}['evaluateMe'+'mory'](_0xeb4aac){return typeof _0xeb4aac=='string'?-0x19*-0xd7+0x8df+-0x2*0xeef:_0xeb4aac['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x52c21e){const _0x2655a6=WS(),_0x137199=GS(),_0x327864=HS();if(_0x137199)return'medium';if(_0x327864)return'lowVR';if(_0x2655a6)return'low';const _0x4bf9c5=_0x52c21e['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x1a6*0xd+-0xef*0x14+0x281d*0x1:_0x52c21e['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x5*-0x318+0x17f1+-0x877:-0x655+0xe9+0x56d*0x1;let _0x4e97c4=-0x52*0x5c+-0xde6+-0x1*-0x2b5f;typeof _0x52c21e['gpuInfo']!='string'&&(_0x4e97c4=this['evaluateGP'+'U'](_0x52c21e['gpuInfo']));const _0x19eb6b=this['evaluateCP'+'U'](),_0x546559=this['evaluateMe'+'mory'](_0x52c21e['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0xe96*0x2+-0x484+0x3*-0x837:this['evaluateMe'+'mory'](_0x52c21e['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x1*-0x25e1+0x1*-0x19b1+-0xc2e:-0x48a+-0x8b+0x516,_0x5e1f25=_0x4bf9c5+_0x4e97c4+_0x19eb6b+_0x546559;return console['log']('GPU:',_0x4bf9c5,_0x4e97c4,_0x19eb6b,_0x546559),_0x5e1f25>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x5e1f25>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0xb89f4d){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0xb89f4d];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x48b9c2){var _0x4d8a95=Date['now']();return setTimeout(function(){_0x48b9c2({'didTimeout':!(-0x1fb+0x7*0x3b+-0x13*-0x5),'timeRemaining':function(){return Math['max'](0x21cc+0x1b8d+-0x3d59*0x1,0x16ee*0x1+-0x1d43+0x687-(Date['now']()-_0x4d8a95));}});},-0x130+-0xaa4+0xbd5);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x55b18b){clearTimeout(_0x55b18b);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x29cc0f,_0x3e002a){for(const _0x32cdc2 in _0x3e002a){const _0x1ea34c=_0x3e002a[_0x32cdc2];Array['isArray'](_0x1ea34c)?_0x29cc0f[_0x32cdc2]=ah([],_0x1ea34c):_0x1ea34c&&typeof _0x1ea34c=='object'?_0x29cc0f[_0x32cdc2]=ah({},_0x1ea34c):_0x29cc0f[_0x32cdc2]=_0x1ea34c;}return _0x29cc0f;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x193291=>{const _0x35c38d=Math['random']()*(0x2b*0xb0+0x50+0x48*-0x6a)|0x1135+0x2337+-0x14*0x29f;return(_0x193291==='x'?_0x35c38d:_0x35c38d&-0x538+0x9f*-0x27+-0x104*-0x1d|0x1531+0x868+-0x1d91)['toString'](-0x13f1+0xc4c+-0x1*-0x7b5);});}},xe={'delimiter':'/','join'(..._0x18518d){let _0x5084aa=_0x18518d[0x1b04+0x8c7*0x4+0x70*-0x8e];for(let _0x323d31=0x560+-0x9*0x234+0x4*0x39d;_0x323d31<_0x18518d['length']-(-0x1885+-0x1*0x1529+-0x5*-0x923);_0x323d31++){const _0x2e4a3d=_0x18518d[_0x323d31],_0x5f4ee9=_0x18518d[_0x323d31+(0x891+-0x23df*0x1+0x1b4f)];if(_0x5f4ee9[-0x1586+0x24b+0x133b]===xe['delimiter']){_0x5084aa=_0x5f4ee9;continue;}_0x2e4a3d&&_0x5f4ee9&&_0x2e4a3d[_0x2e4a3d['length']-(0x1f0+-0x5*-0x18b+-0x9a6)]!==xe['delimiter']&&_0x5f4ee9[-0x12dc*-0x1+0x27*-0x55+-0x5e9]!==xe['delimiter']?_0x5084aa+=xe['delimiter']+_0x5f4ee9:_0x5084aa+=_0x5f4ee9;}return _0x5084aa;},'normalize'(_0x42ea8a){const _0x52f671=_0x42ea8a['startsWith'](xe['delimiter']),_0x413ad2=_0x42ea8a['endsWith'](xe['delimiter']),_0x1ca25c=_0x42ea8a['split']('/');let _0xd31b5='',_0xd2c836=[];for(let _0x357fa9=-0x8c9+-0x14b*-0x1+0x77e*0x1;_0x357fa9<_0x1ca25c['length'];_0x357fa9++)if(_0x1ca25c[_0x357fa9]!==''&&_0x1ca25c[_0x357fa9]!=='.'){if(_0x1ca25c[_0x357fa9]==='..'&&_0xd2c836['length']>0xe69+0x447+0x2*-0x958){_0xd2c836=_0xd2c836['slice'](-0x2582+0x7*0x24b+0x1575,_0xd2c836['length']-(0x2260+-0x239*-0xe+-0x2*0x20be));continue;}_0x357fa9>0x1*-0x2272+-0x3f8*0x8+0x4232&&_0xd2c836['push'](xe['delimiter']),_0xd2c836['push'](_0x1ca25c[_0x357fa9]);}return _0xd31b5=_0xd2c836['join'](''),!_0x52f671&&_0xd31b5[-0x1008+0xa81*-0x3+0x2f8b]===xe['delimiter']&&(_0xd31b5=_0xd31b5['slice'](0x7d2+-0x73f+-0x92)),_0x413ad2&&_0xd31b5[_0xd31b5['length']-(-0x13a1*0x1+-0x11e7*-0x1+0x1bb)]!==xe['delimiter']&&(_0xd31b5+=xe['delimiter']),_0xd31b5;},'split'(_0x2f6166){const _0x7e470e=_0x2f6166['lastIndexO'+'f'](xe['delimiter']);return _0x7e470e!==-(-0x35*-0xa8+0x3c1*-0x1+-0x1f06)?[_0x2f6166['substring'](0x5a7+-0x1*0x41+0x2*-0x2b3,_0x7e470e),_0x2f6166['substring'](_0x7e470e+(0xf1c*0x1+0x1080+-0x1f9b))]:['',_0x2f6166];},'getBasename'(_0x2a24d2){return xe['split'](_0x2a24d2)[-0x7*-0x247+-0x1284+0x14a*0x2];},'getDirectory'(_0x1344f8){return xe['split'](_0x1344f8)[-0x23f3+0x1f56+0x49d];},'getExtension'(_0x379c9d){const _0x2f22bd=_0x379c9d['split']('?')[-0x1de*-0xc+0x2*0x48b+-0x1*0x1f7e]['split']('.')['pop']();return _0x2f22bd!==_0x379c9d?'.'+_0x2f22bd:'';},'isRelativePath'(_0x28a62a){return _0x28a62a['charAt'](-0xd83+-0xd3*-0x15+0x144*-0x3)!=='/'&&_0x28a62a['match'](/:\/\//)===null;},'extractPath'(_0x5d272b){let _0x1e3f5e='';const _0x5e751f=_0x5d272b['split']('/');let _0x4dcee8=-0x1*0xaf1+-0x133a+-0x1*-0x1e2b;if(_0x5e751f['length']>-0xa3*-0x1+0x1095+-0x1137){if(xe['isRelative'+'Path'](_0x5d272b)){if(_0x5e751f[-0x1*-0x12f0+0x19cd*0x1+0x1*-0x2cbd]==='.'){for(_0x4dcee8=0x19d*0x11+0x107e+-0x2beb*0x1;_0x4dcee8<_0x5e751f['length']-(0x3*0x5ad+-0x2*-0x86f+-0x21e4);++_0x4dcee8)_0x1e3f5e+=_0x4dcee8===-0x67*-0x6+0x1*0xa61+-0xccb?_0x5e751f[_0x4dcee8]:'/'+_0x5e751f[_0x4dcee8];}else{if(_0x5e751f[0x22af*0x1+-0x1f*0x85+-0x1294*0x1]==='..'){for(_0x4dcee8=0x153e+-0xb*-0x7+0x44f*-0x5;_0x4dcee8<_0x5e751f['length']-(-0x6*0x649+-0x1*0x1669+-0x4a*-0xd0);++_0x4dcee8)_0x1e3f5e+=_0x4dcee8===0x2b*-0xb5+-0x16f2+0x3559?_0x5e751f[_0x4dcee8]:'/'+_0x5e751f[_0x4dcee8];}else{for(_0x1e3f5e='.',_0x4dcee8=-0x2295+0x1f2a+0x36b;_0x4dcee8<_0x5e751f['length']-(0x4db*0x7+0x6*-0x8a+-0x1ec0);++_0x4dcee8)_0x1e3f5e+='/'+_0x5e751f[_0x4dcee8];}}}else{for(_0x4dcee8=0x1*0x1c54+-0x1*-0x254+-0x12*0x1b4;_0x4dcee8<_0x5e751f['length']-(0xbe3*-0x2+-0x1f*0x139+-0x5*-0xc56);++_0x4dcee8)_0x1e3f5e+=_0x4dcee8===0x3d1+0x1*0x505+0x8d6*-0x1?_0x5e751f[_0x4dcee8]:'/'+_0x5e751f[_0x4dcee8];}}return _0x1e3f5e;}},J0=()=>{let _0x38f050=!(-0xf*-0x285+0x163d+-0x3c07);try{const _0x87ce23=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x38f050=!(-0x1684+-0x1*0x232f+0x39b3*0x1),!(0x18b4+-0x4*0x985+0xd61);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x87ce23),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x87ce23);}catch{}return _0x38f050;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x158e+-0xc04*-0x2+0x27a*-0x1),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0x11373+-0x8099*-0x2+-0x1*-0xea41,jS=0x409d+-0x1508b+-0x1ebed*-0x1,Rm=0x3*0x87e5+0xd283*0x2+-0x260b5,rx=-0x136*-0xc+0x1776b+-0xa5f4,ax=0x3512+-0x6*-0xe2+-0x1a51,Om=0xb273*0x2+0x1*0x3c467+-0x33767,Fm=-0x31e2e+-0x26462+-0x3d91*-0x1f,nx=-0xc9f7*-0x3+0xec*0x48+0x396e*-0x3,ox=-0xba6*-0x2f+0x1*-0x36ecf+-0x4*-0xcfd5,lx=0x4c3*-0x8+-0x23c3*-0x1+0x2325,cx=-0x6b*-0x78+0xbcb+-0x1cf4,zf=0xa899*0x3+-0x9619+-0x65b2,Vf=-0x1c8cc+-0x1ccba+0x49395;function Gf(_0x201df9,_0x4284f1=0x17*-0xb5+-0x2b0*0x4+0x1b03){const _0x5cc4d3=_0x201df9['length'];if(_0x4284f1<-0x3*-0x62f+-0xe27*-0x1+0x1a*-0x142||_0x4284f1>=_0x5cc4d3)return null;const _0x4392d3=_0x201df9['charCodeAt'](_0x4284f1);if(_0x5cc4d3>0xc36+-0xd*0x20b+0xe5a&&_0x4392d3>=Bf&&_0x4392d3<=jS){const _0x371128=_0x201df9['charCodeAt'](_0x4284f1+(0x1f64+0x2195*-0x1+0x232));if(_0x371128>=Rm&&_0x371128<=rx)return{'code':(_0x4392d3-Bf)*(-0xaff+-0x5*0x11b+0x8e*0x25)+_0x371128-Rm+(-0x1fc9c+0x1a07*0x13+-0x10e17*-0x1),'long':!(-0x2*-0xeed+0x2e*-0xc+-0x1bb2)};}return{'code':_0x4392d3,'long':!(-0x14e*-0x18+-0x1*-0x9c8+-0x1*0x2917)};}function fr(_0x4b3c24,_0x249b67,_0x55a019){if(!_0x4b3c24)return!(0x45*-0xb+-0x1*0x195b+0x3*0x971);const _0x526220=Gf(_0x4b3c24);if(_0x526220){const _0x53e78c=_0x526220['code'];return _0x53e78c>=_0x249b67&&_0x53e78c<=_0x55a019;}return!(0x1*-0x266e+-0x209*0x1+0x2878);}function hx(_0x5eaf25,_0x5f5749){if(_0x5f5749===_0x5eaf25['length']-(-0x926+-0x97*0x26+0x1*0x1f91))return-0x3b0*0x9+0x1*-0x9f1+0x2b22;if(fr(_0x5eaf25[_0x5f5749],Bf,jS)){const _0x2ef908=_0x5eaf25['substring'](_0x5f5749,_0x5f5749+(0x1d30+0xc5b*-0x1+-0x10d3)),_0x103acc=_0x5eaf25['substring'](_0x5f5749+(-0xb2f*-0x2+0x529+0x581*-0x5),_0x5f5749+(0x26c3*-0x1+-0x70f*-0x5+0x37c));return fr(_0x103acc,nx,ox)||fr(_0x2ef908,Om,Fm)&&fr(_0x103acc,Om,Fm)?0x47*0x62+0x1dc5+-0x38ef:fr(_0x103acc,zf,Vf)?-0x14*0x1b3+0xbdf+0x1620:0xb09+0x7ca+0x12d1*-0x1;}return fr(_0x5eaf25[_0x5f5749+(0xbc*0x20+-0x569+0x1216*-0x1)],zf,Vf)?0x1589+0x10d*0x6+-0x1bd5:0x12a9+0x20c5*-0x1+0xe1d;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x511ffb,..._0x5a016f){for(let _0x156e2d=-0x17*0x4f+-0x256+0x96f;_0x156e2d<_0x5a016f['length'];_0x156e2d++)_0x511ffb=_0x511ffb['replace']('{'+_0x156e2d+'}',_0x5a016f[_0x156e2d]);return _0x511ffb;},'getCodePoint'(_0x172353,_0x40be7a){const _0xe08e90=Gf(_0x172353,_0x40be7a);return _0xe08e90&&_0xe08e90['code'];},'getCodePoints'(_0x2043ff){if(typeof _0x2043ff!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x3bcf09=0x168a+0x5eb+-0x1f*0xeb;const _0x2597e3=[];let _0xbf8fd2;for(;_0xbf8fd2=Gf(_0x2043ff,_0x3bcf09);)_0x2597e3['push'](_0xbf8fd2['code']),_0x3bcf09+=_0xbf8fd2['long']?-0x15b*-0x1+0x1357*-0x1+0x11fe:0x8ac*0x2+0x741*0x1+0x2*-0xc4c;return _0x2597e3;},'getSymbols'(_0x5bdd9e){if(typeof _0x5bdd9e!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x107795=0x26be+0x241a+-0x4ad8;const _0x15b965=_0x5bdd9e['length'],_0x5be479=[];let _0xdf27a4=0x15fd*-0x1+0xa19+-0x5f2*-0x2,_0x2bdc9b;for(;_0x107795<_0x15b965;){if(_0xdf27a4+=hx(_0x5bdd9e,_0x107795+_0xdf27a4),_0x2bdc9b=_0x5bdd9e[_0x107795+_0xdf27a4],fr(_0x2bdc9b,lx,cx)&&(_0x2bdc9b=_0x5bdd9e[_0x107795+_0xdf27a4++]),fr(_0x2bdc9b,zf,Vf)&&(_0x2bdc9b=_0x5bdd9e[_0x107795+_0xdf27a4++]),_0x2bdc9b&&_0x2bdc9b['charCodeAt'](0xef9+0x417+0x988*-0x2)===ax){_0x2bdc9b=_0x5bdd9e[_0x107795+_0xdf27a4++];continue;}const _0x33c842=_0x5bdd9e['substring'](_0x107795,_0x107795+_0xdf27a4);_0x5be479['push'](_0x33c842),_0x107795+=_0xdf27a4,_0xdf27a4=-0xf*-0x6e+-0x8b*0x43+0x1def;}return _0x5be479;},'fromCodePoint'(..._0x522d01){return _0x522d01['map'](_0x5bcd1e=>_0x5bcd1e>0x17dea+-0x4*-0x5297+-0x1c847?(_0x5bcd1e-=-0xb5da+0x940+0x1ac9a,String['fromCharCo'+'de']((_0x5bcd1e>>-0x29*-0x7b+0x229b+-0x3644)+(0xe*0x11e+0x25f*-0x9f+0x2415d),_0x5bcd1e%(-0x1*0x1346+-0xfcf*0x1+0x2715)+(0x1*0x6707+0x16*-0xae2+0x16465))):String['fromCharCo'+'de'](_0x5bcd1e))['join']('');}},Zr=class Zr{static['set'](_0x31c8d9,_0x377f5d=!(0x3*-0x8f9+0x99*-0x13+-0x2646*-0x1)){_0x377f5d?Zr['_traceChan'+'nels']['add'](_0x31c8d9):Zr['_traceChan'+'nels']['delete'](_0x31c8d9);}static['get'](_0x3e8383){return Zr['_traceChan'+'nels']['has'](_0x3e8383);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x1c*0xbe+-0x1*0x56e+0x1a37));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x4ae2bc){Vt['_loggedMes'+'sages']['has'](_0x4ae2bc)||(Vt['_loggedMes'+'sages']['add'](_0x4ae2bc),console['warn']('DEPRECATED'+':\x20'+_0x4ae2bc));}static['removed'](_0x26b93b){Vt['_loggedMes'+'sages']['has'](_0x26b93b)||(Vt['_loggedMes'+'sages']['add'](_0x26b93b),console['error']('REMOVED:\x20'+_0x26b93b));}static['assertDepr'+'ecated'](_0x1ac59d,_0x1ef0d0){_0x1ac59d||Vt['deprecated'](_0x1ef0d0);}static['assert'](_0x13bacc,..._0xdc5311){_0x13bacc||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0xdc5311);}static['assertDest'+'royed'](_0x207f81){var _0x1aeb36;if(_0x207f81!=null&&_0x207f81['__alreadyD'+'estroyed']){const _0x2d6721='['+((_0x1aeb36=_0x207f81['constructo'+'r'])==null?void(-0x6*-0x64d+0x848+0x2*-0x170b):_0x1aeb36['name'])+(']\x20with\x20nam'+'e\x20[')+_0x207f81['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x2d6721)||(Vt['_loggedMes'+'sages']['add'](_0x2d6721),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x2d6721,_0x207f81));}}static['call'](_0x3c6dba){_0x3c6dba();}static['log'](..._0xf96f67){console['log'](..._0xf96f67);}static['logOnce'](_0x22f50c,..._0x3564e1){Vt['_loggedMes'+'sages']['has'](_0x22f50c)||(Vt['_loggedMes'+'sages']['add'](_0x22f50c),console['log'](_0x22f50c,..._0x3564e1));}static['warn'](..._0x2c3fcd){console['warn'](..._0x2c3fcd);}static['warnOnce'](_0x13d54e,..._0x57112b){Vt['_loggedMes'+'sages']['has'](_0x13d54e)||(Vt['_loggedMes'+'sages']['add'](_0x13d54e),console['warn'](_0x13d54e,..._0x57112b));}static['error'](..._0xd687c8){console['error'](..._0xd687c8);}static['errorOnce'](_0x3d2cc6,..._0x5cedde){Vt['_loggedMes'+'sages']['has'](_0x3d2cc6)||(Vt['_loggedMes'+'sages']['add'](_0x3d2cc6),console['error'](_0x3d2cc6,..._0x5cedde));}static['trace'](_0x130d2d,..._0xd3d359){mi['get'](_0x130d2d)&&(console['groupColla'+'psed'](_0x130d2d['padEnd'](0xa*-0x230+-0x4a+0x92*0x27,'\x20')+'|',..._0xd3d359),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x58218d,_0x3c0441){_0x58218d&&(_0x58218d['name']=_0x3c0441);}static['setLabel'](_0x39c8ac,_0x2098a4){_0x39c8ac&&(_0x39c8ac['label']=_0x2098a4);}static['setDestroy'+'ed'](_0x41fffb){_0x41fffb&&(_0x41fffb['__alreadyD'+'estroyed']=!(0x15ae+0x1055+-0x2603));}}class dx{constructor(_0x1d0a86,_0x3ede68,_0x396999,_0x4cdfca,_0x54a8b2=!(0x29c*-0x1+-0xc3*0x1b+0x172e)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x1*0x1ab7+-0x2054+0x59e)),(this['handler']=_0x1d0a86,this['name']=_0x3ede68,this['callback']=_0x396999,this['scope']=_0x4cdfca,this['_once']=_0x54a8b2);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x72f41,_0x3314a8,_0x446a9b=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x72f41,_0x3314a8,_0x446a9b,!(-0x1092+0x59*0x6b+-0x14a0));}['once'](_0x3af5fd,_0x19e3f2,_0x5f546e=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x3af5fd,_0x19e3f2,_0x5f546e,!(0xfcf+0x50b+-0x14da));}set['removed'](_0x30a3b8){_0x30a3b8&&(this['_removed']=!(0x25f2+-0xf2*0x1d+-0x8*0x151));}get['removed'](){return this['_removed'];}['toJSON'](_0x4077eb){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x3badac,_0x4f4b35,_0x407233,_0x20b20c){if((!_0x3badac||typeof _0x3badac!='string'||!_0x4f4b35)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x3badac+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x4f4b35),this['_callbacks']['has'](_0x3badac)||this['_callbacks']['set'](_0x3badac,[]),this['_callbackA'+'ctive']['has'](_0x3badac)){const _0x4298a1=this['_callbackA'+'ctive']['get'](_0x3badac);_0x4298a1&&_0x4298a1===this['_callbacks']['get'](_0x3badac)&&this['_callbackA'+'ctive']['set'](_0x3badac,_0x4298a1['slice']());}const _0x26f892=new dx(this,_0x3badac,_0x4f4b35,_0x407233,_0x20b20c);return this['_callbacks']['get'](_0x3badac)['push'](_0x26f892),_0x26f892;}['on'](_0x379a58,_0x45fbf6,_0x482520=this){return this['_addCallba'+'ck'](_0x379a58,_0x45fbf6,_0x482520,!(0x177*0x1a+-0x1*0x585+-0x2090));}['once'](_0x1cf28e,_0x9ba169,_0x489012=this){return this['_addCallba'+'ck'](_0x1cf28e,_0x9ba169,_0x489012,!(0x1a23+0x2304+-0x1*0x3d27));}['off'](_0x32d097,_0x2bea6d,_0x463206){if(_0x32d097)this['_callbackA'+'ctive']['has'](_0x32d097)&&this['_callbackA'+'ctive']['get'](_0x32d097)===this['_callbacks']['get'](_0x32d097)&&this['_callbackA'+'ctive']['set'](_0x32d097,this['_callbackA'+'ctive']['get'](_0x32d097)['slice']());else{for(const [_0x2a9ed1,_0x4e1c45]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x2a9ed1)&&this['_callbacks']['get'](_0x2a9ed1)===_0x4e1c45&&this['_callbackA'+'ctive']['set'](_0x2a9ed1,_0x4e1c45['slice']());}if(_0x32d097){if(_0x2bea6d){const _0xcffd4=this['_callbacks']['get'](_0x32d097);if(!_0xcffd4)return this;for(let _0x275cdd=-0xf47+-0x26b4+-0xd*-0x427;_0x275cdd<_0xcffd4['length'];_0x275cdd++)_0xcffd4[_0x275cdd]['callback']===_0x2bea6d&&(_0x463206&&_0xcffd4[_0x275cdd]['scope']!==_0x463206||(_0xcffd4[_0x275cdd]['removed']=!(0x3*0x902+-0x1a*0xf1+-0x28c),_0xcffd4['splice'](_0x275cdd,0x1587*-0x1+-0xd2b*0x1+-0x1a7*-0x15),_0x275cdd--));_0xcffd4['length']===-0x1558+0x19*-0x49+-0xc5*-0x25&&this['_callbacks']['delete'](_0x32d097);}else{const _0x7daa23=this['_callbacks']['get'](_0x32d097);if(_0x7daa23){for(let _0x31d0f0=0x14*0x31+0xabb+0x1*-0xe8f;_0x31d0f0<_0x7daa23['length'];_0x31d0f0++)_0x7daa23[_0x31d0f0]['removed']=!(-0x620+-0x1ce5+0x2305);this['_callbacks']['delete'](_0x32d097);}}}else{for(const _0x4eb1bd of this['_callbacks']['values']())for(let _0x480baa=0x172f+-0x813+-0xf1c;_0x480baa<_0x4eb1bd['length'];_0x480baa++)_0x4eb1bd[_0x480baa]['removed']=!(-0x4*-0x1e+0x13*-0x1a+0x176);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x215cb7){const _0xef75dd=_0x215cb7['name'];_0x215cb7['removed']=!(0x1263+-0x7cb+-0xa98),this['_callbackA'+'ctive']['has'](_0xef75dd)&&this['_callbackA'+'ctive']['get'](_0xef75dd)===this['_callbacks']['get'](_0xef75dd)&&this['_callbackA'+'ctive']['set'](_0xef75dd,this['_callbackA'+'ctive']['get'](_0xef75dd)['slice']());const _0x3fd430=this['_callbacks']['get'](_0xef75dd);if(!_0x3fd430)return this;const _0x518103=_0x3fd430['indexOf'](_0x215cb7);return _0x518103!==-(-0x1a38*-0x1+-0xdeb+-0xc4c)&&(_0x3fd430['splice'](_0x518103,0x23ff+0x2025+-0x4423),_0x3fd430['length']===0x1a+-0x26f4+0x26da&&this['_callbacks']['delete'](_0xef75dd)),this;}['fire'](_0x321e2f,_0x15777b,_0x4768ff,_0x479cd0,_0x52f26e,_0xaadac2,_0x31eae0,_0x447b52,_0x459b57){if(!_0x321e2f)return this;const _0x1cbc01=this['_callbacks']['get'](_0x321e2f);if(!_0x1cbc01)return this;let _0x1076f7;this['_callbackA'+'ctive']['has'](_0x321e2f)?this['_callbackA'+'ctive']['get'](_0x321e2f)!==_0x1cbc01&&(_0x1076f7=_0x1cbc01['slice']()):this['_callbackA'+'ctive']['set'](_0x321e2f,_0x1cbc01);for(let _0x4df299=0x5b*-0x1d+-0x46+0x81*0x15;(_0x1076f7||this['_callbackA'+'ctive']['get'](_0x321e2f))&&_0x4df299<(_0x1076f7||this['_callbackA'+'ctive']['get'](_0x321e2f))['length'];_0x4df299++){const _0x4b84c4=(_0x1076f7||this['_callbackA'+'ctive']['get'](_0x321e2f))[_0x4df299];if(_0x4b84c4['callback']&&(_0x4b84c4['callback']['call'](_0x4b84c4['scope'],_0x15777b,_0x4768ff,_0x479cd0,_0x52f26e,_0xaadac2,_0x31eae0,_0x447b52,_0x459b57),_0x4b84c4['_once'])){const _0x3a8603=this['_callbacks']['get'](_0x321e2f),_0x30da5d=_0x3a8603?_0x3a8603['indexOf'](_0x4b84c4):-(-0x2b6*-0x1+0xef*0x26+-0x262f);if(_0x30da5d!==-(0x15*-0x49+0xaad*-0x1+0x10ab)){this['_callbackA'+'ctive']['get'](_0x321e2f)===_0x3a8603&&this['_callbackA'+'ctive']['set'](_0x321e2f,this['_callbackA'+'ctive']['get'](_0x321e2f)['slice']());const _0x4c542e=this['_callbacks']['get'](_0x321e2f);if(!_0x4c542e)continue;_0x4c542e[_0x30da5d]['removed']=!(0x12fd+-0x18a7+-0x1d*-0x32),_0x4c542e['splice'](_0x30da5d,0x6f9+-0x3*0xa5e+0x1822*0x1),_0x4c542e['length']===-0x2485*0x1+-0x34*-0x9a+-0x53d*-0x1&&this['_callbacks']['delete'](_0x321e2f);}}}return _0x1076f7||this['_callbackA'+'ctive']['delete'](_0x321e2f),this;}['hasEvent'](_0x44bccc){var _0x37afc1;return!!((_0x37afc1=this['_callbacks']['get'](_0x44bccc))!=null&&_0x37afc1['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x257af2,_0x5f3cd0){if(this['_index'][_0x257af2])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x257af2);const _0x42564c=this['_list']['push'](_0x5f3cd0)-(-0x17af+-0xf51+0x7cd*0x5);this['_index'][_0x257af2]=_0x42564c;}['has'](_0x9b17fa){return this['_index'][_0x9b17fa]!==void(0x1*0x1997+0x18ad+0x1922*-0x2);}['get'](_0x23e5a6){const _0x360a79=this['_index'][_0x23e5a6];return _0x360a79!==void(-0x21a6*0x1+0x1*0xd5a+-0x1b1*-0xc)?this['_list'][_0x360a79]:null;}['remove'](_0x247754){const _0x2bfc63=this['_index'][_0x247754];if(_0x2bfc63!==void(0x1*-0x9b1+-0x134d+-0x4d5*-0x6)){this['_list']['splice'](_0x2bfc63,-0x1a43+0x12b6+-0x3c7*-0x2),delete this['_index'][_0x247754];for(_0x247754 in this['_index']){const _0x42915a=this['_index'][_0x247754];_0x42915a>_0x2bfc63&&(this['_index'][_0x247754]=_0x42915a-(0x7*0xbc+0x1192+-0x16b5));}return!(-0x708+-0x2695+0x2d9d);}return!(-0x50b+-0x149b+0x19a7);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x1*-0x1565+-0x88*0x47+0x3b1d;for(const _0x71c21f in this['_index'])delete this['_index'][_0x71c21f];}}const ux=_0x4c0ad1=>{const _0x5a6f4e={};let _0x44f4f3=_0x5a6f4e;return()=>(_0x44f4f3===_0x5a6f4e&&(_0x44f4f3=_0x4c0ad1()),_0x44f4f3);},ii=class ii{static['loadScript'](_0x272374,_0x51f928){const _0x2ccba4=document['createElem'+'ent']('script');_0x2ccba4['setAttribu'+'te']('src',_0x272374),_0x2ccba4['onload']=()=>{_0x51f928(null);},_0x2ccba4['onerror']=()=>{_0x51f928('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x272374+'\x27');},document['body']['appendChil'+'d'](_0x2ccba4);}static['loadWasm'](_0x67177d,_0x16ca04,_0xc17d85){const _0x6b1348=ii['wasmSuppor'+'ted']()&&_0x16ca04['glueUrl']&&_0x16ca04['wasmUrl']?_0x16ca04['glueUrl']:_0x16ca04['fallbackUr'+'l'];_0x6b1348?ii['loadScript'](_0x6b1348,_0x481724=>{if(_0x481724)_0xc17d85(_0x481724,null);else{const _0x1f89da=window[_0x67177d];window[_0x67177d]=void(-0x15*-0x9e+0x2455*-0x1+0x175f),_0x1f89da({'locateFile':()=>_0x16ca04['wasmUrl'],'onAbort':()=>{_0xc17d85('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x1c4422=>{_0xc17d85(null,_0x1c4422);});}}):_0xc17d85('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x14c2b7){return ii['modules']['hasOwnProp'+'erty'](_0x14c2b7)||(ii['modules'][_0x14c2b7]={'config':null,'initializing':!(0x3d6+0x175*0x11+-0x1c9a),'instance':null,'callbacks':[]}),ii['modules'][_0x14c2b7];}static['initialize'](_0x1e4a24,_0x1d11af){if(_0x1d11af['initializi'+'ng'])return;const _0x5ad3a4=_0x1d11af['config'];(_0x5ad3a4['glueUrl']||_0x5ad3a4['wasmUrl']||_0x5ad3a4['fallbackUr'+'l'])&&(_0x1d11af['initializi'+'ng']=!(0x1eff+-0x1*-0x1f36+-0x3e35),ii['loadWasm'](_0x1e4a24,_0x5ad3a4,(_0xee3a17,_0x21ac21)=>{_0xee3a17?_0x5ad3a4['errorHandl'+'er']?_0x5ad3a4['errorHandl'+'er'](_0xee3a17):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x1e4a24+'\x20error='+_0xee3a17):(_0x1d11af['instance']=_0x21ac21,_0x1d11af['callbacks']['forEach'](_0x2abe12=>{_0x2abe12(_0x21ac21);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x52bf97=new WebAssembly['Module'](Uint8Array['of'](0x6*-0x3ad+-0x1f0*-0x6+0xa6e,-0x1eb2*-0x1+-0x1913+-0x16*0x3d,0x19a*-0x1+-0x20da*-0x1+-0x629*0x5,0x3d*0x1+0x2434+0x2404*-0x1,0x1*-0x21f5+-0x1553+0x3749,-0xb*0xe2+-0x1d7+0x1*0xb8d,-0x21ab+-0x1055+0x1900*0x2,-0xa33+-0x2316+0x2d49*0x1));if(_0x52bf97 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x52bf97)instanceof WebAssembly['Instance'];}}catch{}return!(0x1066+0x1d3c+-0x2da1);}));let Yr=ii;class YS{static['setConfig'](_0xa0a914,_0xb9830a){const _0x5d0559=Yr['getModule'](_0xa0a914);_0x5d0559['config']=_0xb9830a,_0x5d0559['callbacks']['length']>-0x2d1*-0x1+-0x2649+0x2378&&Yr['initialize'](_0xa0a914,_0x5d0559);}static['getConfig'](_0x3a23ac){var _0x311f75,_0x540202;return(_0x540202=(_0x311f75=Yr['modules'])==null?void(-0x155c+-0xc72+0x21ce):_0x311f75[_0x3a23ac])==null?void(-0x8b*0x22+0x95f*0x1+0x917):_0x540202['config'];}static['getInstanc'+'e'](_0x288bdb,_0x5c22bc){const _0x3df431=Yr['getModule'](_0x288bdb);_0x3df431['instance']?_0x5c22bc(_0x3df431['instance']):(_0x3df431['callbacks']['push'](_0x5c22bc),_0x3df431['config']&&Yr['initialize'](_0x288bdb,_0x3df431));}}class KS{constructor(_0x32b34f){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x946*-0x2+0xbbc+0x10*0x6d),(this['arraybuffe'+'r']=_0x32b34f,this['dataView']=new DataView(_0x32b34f));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x42f1d1=0x266d+-0xad7+-0x1b96){this['offset']=_0x42f1d1;}['skip'](_0xd47c){this['offset']+=_0xd47c;}['align'](_0x161d9b){this['offset']=this['offset']+_0x161d9b-(0x1*0x7a5+0x1*-0x2569+-0x1dc5*-0x1)&~(_0x161d9b-(-0x21ce+0x1005+0x11ca));}['_inc'](_0x45b3b5){return this['offset']+=_0x45b3b5,this['offset']-_0x45b3b5;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0xe00f51){let _0xb73053='';for(let _0x21d774=-0x205c*0x1+-0x138+0x2194;_0x21d774<_0xe00f51;++_0x21d774)_0xb73053+=this['readChar']();return _0xb73053;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x26c2+-0x22a7*0x1+-0xf*-0x4e5),!(0x23be+0x18b*-0x11+-0x983));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x4cf*-0x7+0x1593+-0x3738),!(0x43f*-0x1+0x162c+0xd*-0x161));}['readU64'](){return this['readU32']()+(-0x1796+-0x9*0x61+0x1b01)**(-0x1c34*0x1+-0xed5+0x2b29)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0xb0a+0x28*0xe5+0x279*-0xa),!(-0x73*0x11+0x1f4*0x3+0x1c8));}['readArray'](_0x4f6e8a){for(let _0xa7b6aa=-0x1f0e+0x1dbc+0x152;_0xa7b6aa<_0x4f6e8a['length'];++_0xa7b6aa)_0x4f6e8a[_0xa7b6aa]=this['readU8']();}['readLine'](){const _0x4a2cc1=this['dataView'];let _0x4c02b5='';for(;!(this['offset']>=_0x4a2cc1['byteLength']);){const _0x1db532=String['fromCharCo'+'de'](this['readU8']());if(_0x1db532==='\x0a')break;_0x4c02b5+=_0x1db532;}return _0x4c02b5;}}class oh{constructor(_0x50f3bc){h(this,'items',[]),h(this,'length',0x4ca+-0x928*0x2+0xd86*0x1),h(this,'loopIndex',-(-0x33*0x2+-0xe*-0x160+-0x12d9)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x50f3bc['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x1603b1){let _0x5394b4=-0x71b*0x2+0xc7e+0x8*0x37,_0x5c02c1=this['items']['length']-(-0x1681+0x9b8+0x1*0xcca);const _0x4b5edf=_0x1603b1[this['_sortBy']];let _0x424bbc,_0xa0da73;for(;_0x5394b4<=_0x5c02c1;)_0x424bbc=Math['floor']((_0x5394b4+_0x5c02c1)/(0x3*-0x845+-0x1290+0x2b61*0x1)),_0xa0da73=this['items'][_0x424bbc][this['_sortBy']],_0xa0da73<=_0x4b5edf?_0x5394b4=_0x424bbc+(-0x548+-0x1ac4+0x200d):_0xa0da73>_0x4b5edf&&(_0x5c02c1=_0x424bbc-(0x1cd4+0x984+-0x2657));return _0x5394b4;}['_doSort'](_0x296ff0,_0x574cfd){const _0x35c831=this['_sortBy'];return _0x296ff0[_0x35c831]-_0x574cfd[_0x35c831];}['insert'](_0x29143f){const _0x1039f1=this['_binarySea'+'rch'](_0x29143f);this['items']['splice'](_0x1039f1,0x7cd*-0x2+0x49*-0x4a+0x24b4,_0x29143f),this['length']++,this['loopIndex']>=_0x1039f1&&this['loopIndex']++;}['append'](_0x35c402){this['items']['push'](_0x35c402),this['length']++;}['remove'](_0x260dba){const _0x3f285a=this['items']['indexOf'](_0x260dba);_0x3f285a<0x16*-0x11e+-0xa08+-0x14*-0x1bb||(this['items']['splice'](_0x3f285a,0x1*-0x3e6+0x29*-0x2f+-0x10a*-0xb),this['length']--,this['loopIndex']>=_0x3f285a&&this['loopIndex']--);}['sort'](){const _0x3684e1=this['loopIndex']>=0x1b54+-0x1*-0x205b+-0x3*0x13e5?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x3684e1!==null&&(this['loopIndex']=this['items']['indexOf'](_0x3684e1));}}class Oo extends me{constructor(_0x3da6e5){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x3da6e5;}['add'](..._0x3c4e45){let _0x2eec6f=!(-0xf81+0x3df*0x9+-0x2c3*0x7);const _0x4a6f24=this['_processAr'+'guments'](_0x3c4e45,!(-0x24f2*0x1+-0xcb*0x2+0x4d1*0x8));if(!_0x4a6f24['length'])return _0x2eec6f;for(let _0x468a41=0x120*0x3+-0x21b4+-0x1*-0x1e54;_0x468a41<_0x4a6f24['length'];_0x468a41++)this['_index'][_0x4a6f24[_0x468a41]]||(_0x2eec6f=!(0xe*0x47+-0xa2a+0x8*0xc9),this['_index'][_0x4a6f24[_0x468a41]]=!(0x23b2+-0xcb4+0x3*-0x7aa),this['_list']['push'](_0x4a6f24[_0x468a41]),this['fire']('add',_0x4a6f24[_0x468a41],this['_parent']));return _0x2eec6f&&this['fire']('change',this['_parent']),_0x2eec6f;}['remove'](..._0x2211ca){let _0x3aa434=!(-0x1a1d+0xb4d+-0x1*-0xed1);if(!this['_list']['length'])return _0x3aa434;const _0x4187a9=this['_processAr'+'guments'](_0x2211ca,!(0x260c+0xa3d+0x2f*-0x107));if(!_0x4187a9['length'])return _0x3aa434;for(let _0x5db507=0x236+0x204*0x8+0x1*-0x1256;_0x5db507<_0x4187a9['length'];_0x5db507++)this['_index'][_0x4187a9[_0x5db507]]&&(_0x3aa434=!(-0x2*0xc7f+-0xbbb+0x24b9*0x1),delete this['_index'][_0x4187a9[_0x5db507]],this['_list']['splice'](this['_list']['indexOf'](_0x4187a9[_0x5db507]),-0x1f20+0x1004+0x35*0x49),this['fire']('remove',_0x4187a9[_0x5db507],this['_parent']));return _0x3aa434&&this['fire']('change',this['_parent']),_0x3aa434;}['clear'](){if(!this['_list']['length'])return;const _0x5bae10=this['_list']['slice'](-0x16c8+0x1f99+-0x8d1);this['_list']=[],this['_index']={};for(let _0x13c5d3=-0x13e2+0x1efe+-0xb1c;_0x13c5d3<_0x5bae10['length'];_0x13c5d3++)this['fire']('remove',_0x5bae10[_0x13c5d3],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x55ba90){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x55ba90)):!(0x967+0x1*-0x139d+0xa37);}['_has'](_0x15991d){if(!this['_list']['length']||!_0x15991d['length'])return!(-0x26b6+0x1*0x113d+-0xabd*-0x2);for(let _0x1e63a2=0x233*0x3+-0x12ea+0xc51;_0x1e63a2<_0x15991d['length'];_0x1e63a2++)if(_0x15991d[_0x1e63a2]['length']===0x83*-0x12+-0x1e65*0x1+-0xd*-0x30c){if(this['_index'][_0x15991d[_0x1e63a2][-0x7*-0x1fb+-0xe5*0xe+-0x31*0x7]])return!(0x17c8*0x1+0x16b6+-0x2e7e);}else{let _0x338d0f=!(0x198a*0x1+-0x1*0x16b6+0x2*-0x16a);for(let _0x5a9a2f=-0x1aaf+0xdb1*-0x2+0x3611;_0x5a9a2f<_0x15991d[_0x1e63a2]['length'];_0x5a9a2f++)if(!this['_index'][_0x15991d[_0x1e63a2][_0x5a9a2f]]){_0x338d0f=!(-0xb*0x31+-0x244d+0x2669);break;}if(_0x338d0f)return!(-0x1ab3+-0xc7*0xe+0x3*0xc87);}return!(0xf6d*0x2+-0x3*0x430+-0x1249);}['list'](){return this['_list']['slice'](0xf6f+-0x10*-0x241+0x1*-0x337f);}['_processAr'+'guments'](_0x37db5f,_0xa3dedb){const _0x313867=[];let _0x33188d=[];if(!_0x37db5f||!_0x37db5f['length'])return _0x313867;for(let _0x1e358e=0x46*0x59+0x2aa+-0x1b00;_0x1e358e<_0x37db5f['length'];_0x1e358e++)if(_0x37db5f[_0x1e358e]instanceof Array){_0xa3dedb||(_0x33188d=[]);for(let _0x50d648=-0x1*-0x24d9+-0x2*-0xd9b+-0x400f;_0x50d648<_0x37db5f[_0x1e358e]['length'];_0x50d648++)typeof _0x37db5f[_0x1e358e][_0x50d648]=='string'&&(_0xa3dedb?_0x313867['push'](_0x37db5f[_0x1e358e][_0x50d648]):_0x33188d['push'](_0x37db5f[_0x1e358e][_0x50d648]));!_0xa3dedb&&_0x33188d['length']&&_0x313867['push'](_0x33188d);}else typeof _0x37db5f[_0x1e358e]=='string'&&(_0xa3dedb?_0x313867['push'](_0x37db5f[_0x1e358e]):_0x313867['push']([_0x37db5f[_0x1e358e]]));return _0x313867;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x2b22dd){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x320e1d=_0x2b22dd['match'](px);this['scheme']=_0x320e1d[-0x1*-0x21e5+-0x1e67+-0x37c*0x1],this['authority']=_0x320e1d[-0x88e+-0x2512+0xfe*0x2e],this['path']=_0x320e1d[-0x9f2+-0xf61+0x1958],this['query']=_0x320e1d[-0x105e+-0x291+0x12f6],this['fragment']=_0x320e1d[0xa06+0x899*0x1+-0x4e*0x3d];}['toString'](){let _0x7d7824='';return this['scheme']&&(_0x7d7824+=this['scheme']+':'),this['authority']&&(_0x7d7824+='//'+this['authority']),_0x7d7824+=this['path'],this['query']&&(_0x7d7824+='?'+this['query']),this['fragment']&&(_0x7d7824+='#'+this['fragment']),_0x7d7824;}['getQuery'](){const _0x38fcc7={};if(this['query']){const _0x263ccc=decodeURIComponent(this['query'])['split']('&');for(const _0x38b870 of _0x263ccc){const _0x2227bb=_0x38b870['split']('=');_0x38fcc7[_0x2227bb[-0xcb1+-0x1*0xb2f+0x17e0]]=_0x2227bb[0x53a*0x5+-0x1*0x1a0b+0x16*-0x1];}}return _0x38fcc7;}['setQuery'](_0x246447){let _0x327784='';for(const _0x978a96 in _0x246447)_0x246447['hasOwnProp'+'erty'](_0x978a96)&&(_0x327784!==''&&(_0x327784+='&'),_0x327784+=encodeURIComponent(_0x978a96)+'='+encodeURIComponent(_0x246447[_0x978a96]));this['query']=_0x327784;}}const mx=-0x2*0x784+-0x254b+0x3453,tp=-0x8aa+0x8*-0x43+0x1d*0x5f,Nm=-0xc*0x34+-0xc12*-0x2+-0x15b0,_x=0x1cf8+0x241d+0x3*-0x15b0,Y={'DEG_TO_RAD':Math['PI']/(0x1b1*0x9+-0x1ebf*0x1+0x1*0x103a),'RAD_TO_DEG':(-0x1*0x1c3f+-0xda*-0x16+-0x1*-0xa37)/Math['PI'],'clamp'(_0x35c9c0,_0x424014,_0x15bbec){return _0x35c9c0>=_0x15bbec?_0x15bbec:_0x35c9c0<=_0x424014?_0x424014:_0x35c9c0;},'intToBytes24'(_0x4482e9){const _0x204612=_0x4482e9>>-0x2f5*0x2+0x643*0x4+0x1312*-0x1&0xadd+0xc3+-0xaa1,_0x503d97=_0x4482e9>>0x2*-0xf5c+0x243a*0x1+-0x2*0x2bd&0x58*0x48+-0x2555*0x1+0xd94,_0x59b250=_0x4482e9&-0xf0*-0x1c+-0x8*-0x409+-0x3989*0x1;return[_0x204612,_0x503d97,_0x59b250];},'intToBytes32'(_0x310d80){const _0x2a6021=_0x310d80>>0x275+0x15c0+0x181d*-0x1&0x5*0x72d+0x1*0x268f+-0x9*0x829,_0x416d6f=_0x310d80>>0xb*-0x68+0x1718+0x30*-0x63&-0xca1+-0x59f+-0x1*-0x133f,_0x2c63cc=_0x310d80>>-0x2*0x9c6+0x69*-0x37+-0x7*-0x605&0x1ab5+0xfb*0x19+-0x12b*0x2b,_0x2d1154=_0x310d80&0x1f1a+-0x18d5*-0x1+0x1250*-0x3;return[_0x2a6021,_0x416d6f,_0x2c63cc,_0x2d1154];},'bytesToInt24'(_0x3ef518,_0x2015af,_0x203dff){return _0x3ef518['length']&&(_0x203dff=_0x3ef518[0xd8a+0x1079*0x2+0x2*-0x173d],_0x2015af=_0x3ef518[0xcb7+-0x102b+0x3b*0xf],_0x3ef518=_0x3ef518[-0x1*-0x14f+-0x13da+0x128b]),_0x3ef518<<0x1c04+-0xca0+0xf54*-0x1|_0x2015af<<0x3e+0x1b2*-0x1+0x17c|_0x203dff;},'bytesToInt32'(_0x452f81,_0x9dcb70,_0x14072c,_0x2bd764){return _0x452f81['length']&&(_0x2bd764=_0x452f81[-0x1eb4+-0x1c86+0x3b3d],_0x14072c=_0x452f81[0x493*0x8+-0x1f89+0x1af*-0x3],_0x9dcb70=_0x452f81[-0x2576+0xe2*-0x12+0x9d*0x57],_0x452f81=_0x452f81[0xb3*-0x3+0x9c9+-0x7b0]),(_0x452f81<<0x74c+-0x2316+0x1be2|_0x9dcb70<<0x67*0x16+-0x1027+0x75d|_0x14072c<<-0x124*-0xb+-0xc92+0xe*0x1|_0x2bd764)>>>0xe1d+0x13d0+-0x3c5*0x9;},'lerp'(_0x4c475b,_0x5d28e3,_0x595705){return _0x4c475b+(_0x5d28e3-_0x4c475b)*Y['clamp'](_0x595705,-0xb7b+0x22a*-0xc+0x2573,-0xa81*0x1+-0x1be*-0x11+-0x131c*0x1);},'lerpAngle'(_0x296da2,_0x561127,_0x2450d7){return _0x561127-_0x296da2>0x100d*0x1+0x23c+-0x1195&&(_0x561127-=-0x988+-0x23*0x93+0x1f09),_0x561127-_0x296da2<-(-0x17*-0x26+0x7*0x5+-0x2d9)&&(_0x561127+=0x3d*-0x70+0xff*-0x1d+-0x1*-0x38fb),Y['lerp'](_0x296da2,_0x561127,Y['clamp'](_0x2450d7,-0x1371+0x1850+-0x4df,0xabf+-0x71*-0x2b+-0x1db9));},'powerOfTwo'(_0x5a2869){return _0x5a2869!==0x24f*0x7+-0x1bcb*0x1+0x5d1*0x2&&!(_0x5a2869&_0x5a2869-(0x3*0x69d+-0x2*0x1274+0x1112));},'nextPowerOfTwo'(_0xbd2436){return _0xbd2436--,_0xbd2436|=_0xbd2436>>0x1a47*0x1+0x2488+-0x3ece,_0xbd2436|=_0xbd2436>>-0x3*0xcbb+-0x1*-0x174b+0xee8,_0xbd2436|=_0xbd2436>>0x20e2+0x2471+0x454f*-0x1,_0xbd2436|=_0xbd2436>>-0xb47+-0xc2b+-0x1*-0x177a,_0xbd2436|=_0xbd2436>>0x1*-0x16cf+-0xda*0xd+0x21f1,_0xbd2436++,_0xbd2436;},'nearestPowerOfTwo'(_0x4572e4){return Math['pow'](0x23be+0x1*-0xc7c+-0x60*0x3e,Math['round'](Math['log2'](_0x4572e4)));},'random'(_0x4f8938,_0x495a87){const _0x4ec988=_0x495a87-_0x4f8938;return Math['random']()*_0x4ec988+_0x4f8938;},'smoothstep'(_0x154835,_0x441473,_0x4722d9){return _0x4722d9<=_0x154835?-0x5ea*-0x6+-0x8*0x3ad+0x30a*-0x2:_0x4722d9>=_0x441473?0xaa*-0x32+-0x8be*-0x3+0x6fb:(_0x4722d9=(_0x4722d9-_0x154835)/(_0x441473-_0x154835),_0x4722d9*_0x4722d9*(-0x18ea+0x401+0x14ec-(0x15c3+-0x283*0x1+-0x6*0x335)*_0x4722d9));},'smootherstep'(_0x484f42,_0x5c5967,_0x5e6ca9){return _0x5e6ca9<=_0x484f42?-0xd*-0x195+-0xc6e+0x1*-0x823:_0x5e6ca9>=_0x5c5967?0x1161*-0x2+-0x135c+0x55*0xa3:(_0x5e6ca9=(_0x5e6ca9-_0x484f42)/(_0x5c5967-_0x484f42),_0x5e6ca9*_0x5e6ca9*_0x5e6ca9*(_0x5e6ca9*(_0x5e6ca9*(0x1a65+-0xf77*0x1+0x8*-0x15d)-(-0x8*0x3f4+0x1585+0xa2a))+(0xada*-0x1+-0x165d+0x2141)));},'roundUp'(_0x34e964,_0x151b8b){return _0x151b8b===-0x1898+0xdfd+0xa9b?_0x34e964:Math['ceil'](_0x34e964/_0x151b8b)*_0x151b8b;},'between'(_0x3e7ad,_0x174cf4,_0x2ee202,_0x3afaf1){const _0x386e06=Math['min'](_0x174cf4,_0x2ee202),_0x2359e1=Math['max'](_0x174cf4,_0x2ee202);return _0x3afaf1?_0x3e7ad>=_0x386e06&&_0x3e7ad<=_0x2359e1:_0x3e7ad>_0x386e06&&_0x3e7ad<_0x2359e1;}},Tt=class Tt{constructor(_0x128a16=0x10d2+-0x176d+-0x69b*-0x1,_0x9a408f=0x6*0x269+0x1c4*0xb+0x10f1*-0x2,_0x58b7ff=0xfbe+0x758+-0x1716,_0x1a3377=-0xd*0x233+-0x1*-0x2ef+0x19a9*0x1){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0xa6a65d=_0x128a16['length'];_0xa6a65d===0xaab*-0x1+-0x6b5*0x3+0x1ecd||_0xa6a65d===-0xa*0xb+0x1234+-0x11c2?(this['r']=_0x128a16[-0xc7*0x2b+0x1b8+-0x1*-0x1fb5],this['g']=_0x128a16[-0x5f*-0x1a+0xae1+-0x2*0xa43],this['b']=_0x128a16[-0x162*-0x4+-0xaf*0xd+0x15*0x29],this['a']=_0x128a16[-0x18*0x68+0x8*-0x36a+-0x2513*-0x1]??0xaaa+0xf*-0x8b+-0x142*0x2):(this['r']=_0x128a16,this['g']=_0x9a408f,this['b']=_0x58b7ff,this['a']=_0x1a3377);}['clone'](){const _0x1b1882=this['constructo'+'r'];return new _0x1b1882(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x31fe10){return this['r']=_0x31fe10['r'],this['g']=_0x31fe10['g'],this['b']=_0x31fe10['b'],this['a']=_0x31fe10['a'],this;}['equals'](_0x550e49){return this['r']===_0x550e49['r']&&this['g']===_0x550e49['g']&&this['b']===_0x550e49['b']&&this['a']===_0x550e49['a'];}['set'](_0x489d89,_0x527d7a,_0x33e38a,_0x5ad81e=0x5*-0x6fd+0x1963+0x1*0x98f){return this['r']=_0x489d89,this['g']=_0x527d7a,this['b']=_0x33e38a,this['a']=_0x5ad81e,this;}['lerp'](_0x884951,_0x4affba,_0x5d3d22){return this['r']=_0x884951['r']+_0x5d3d22*(_0x4affba['r']-_0x884951['r']),this['g']=_0x884951['g']+_0x5d3d22*(_0x4affba['g']-_0x884951['g']),this['b']=_0x884951['b']+_0x5d3d22*(_0x4affba['b']-_0x884951['b']),this['a']=_0x884951['a']+_0x5d3d22*(_0x4affba['a']-_0x884951['a']),this;}['linear'](_0x48d4dc=this){return this['r']=Math['pow'](_0x48d4dc['r'],0x13*-0x193+-0x1186+0x2f71+0.20000000000000018),this['g']=Math['pow'](_0x48d4dc['g'],0x498*0x8+0x10e8+0x8f1*-0x6+0.20000000000000018),this['b']=Math['pow'](_0x48d4dc['b'],0x13b4+-0xb3e*-0x1+0xa*-0x318+0.20000000000000018),this['a']=_0x48d4dc['a'],this;}['gamma'](_0xdaaee=this){return this['r']=Math['pow'](_0xdaaee['r'],(-0x1*-0x65f+-0xa5f+0x401)/(0x20fa+0x419+-0xc5b*0x3+0.20000000000000018)),this['g']=Math['pow'](_0xdaaee['g'],(-0x4fb*-0x7+0x1888+-0x3b64)/(-0x57b*0x7+-0x18b5+0x3f14*0x1+0.20000000000000018)),this['b']=Math['pow'](_0xdaaee['b'],(0xa43+0x18*0x5e+-0x1312)/(-0x3*-0x9+-0x1*0x1526+0x150d*0x1+0.20000000000000018)),this['a']=_0xdaaee['a'],this;}['mulScalar'](_0x427d3f){return this['r']*=_0x427d3f,this['g']*=_0x427d3f,this['b']*=_0x427d3f,this;}['fromString'](_0x3f5a4f){const _0x10a0fd=parseInt(_0x3f5a4f['replace']('#','0x'),0x1f1a+-0x675*0x6+0x7b4);let _0x5528c7;return _0x3f5a4f['length']>-0x2c4*-0xb+0xb08+-0x296d?_0x5528c7=Y['intToBytes'+'32'](_0x10a0fd):(_0x5528c7=Y['intToBytes'+'24'](_0x10a0fd),_0x5528c7[0x1d7f+0x2*0x10d7+0x21b*-0x1e]=0xa*-0xbf+-0x54e+0xdc3),this['set'](_0x5528c7[-0x1*-0x1511+-0xa09+-0x1*0xb08]/(-0x7a0+-0x234e+-0xad*-0x41),_0x5528c7[0x3e*0x9+-0x23c9+-0x2cd*-0xc]/(-0x11f4+-0x1a7c+0x2d6f*0x1),_0x5528c7[0x993*-0x2+-0x2633*0x1+0x1*0x395b]/(-0x23f6+-0x5df+0xab5*0x4),_0x5528c7[0x2a1*0xd+0x1394*-0x1+-0xe96]/(0x7*-0xd1+-0x262b+0x2ce1)),this;}['fromArray'](_0x349ee6,_0x49edeb=-0x101*0x1+0x1*0x209+-0x108){return this['r']=_0x349ee6[_0x49edeb]??this['r'],this['g']=_0x349ee6[_0x49edeb+(0x24cb+0x6*0xd7+-0x29d4)]??this['g'],this['b']=_0x349ee6[_0x49edeb+(-0x1a50+0x1*-0xc10+0x2662)]??this['b'],this['a']=_0x349ee6[_0x49edeb+(0xa2e+-0xd2d+0x181*0x2)]??this['a'],this;}['toString'](_0x10bf2d,_0x24adb5){const {r:_0x3c7ef5,g:_0x4afd63,b:_0x5c8506,a:_0x3a1690}=this;if(_0x24adb5||_0x3c7ef5>0xaf+-0x1737*-0x1+-0x17e5||_0x4afd63>-0x14f+-0x26cb+-0x281b*-0x1||_0x5c8506>0x313*0x7+-0x1*-0x156f+-0x2af3)return _0x3c7ef5['toFixed'](0x4*0x469+0x1*0x1069+-0x220a)+',\x20'+_0x4afd63['toFixed'](0x25c+-0x2488+0x222f*0x1)+',\x20'+_0x5c8506['toFixed'](0x16d6+-0x133f+-0x394)+',\x20'+_0x3a1690['toFixed'](0x673*-0x5+0x89*0x7+0x1c83);let _0x3fa570='#'+((-0xab7+0x1bc9+0x11*-0x101<<-0x206f*0x1+-0x1fe4+-0x3*-0x1579)+(Math['round'](_0x3c7ef5*(0x1993+0xe86+0x181*-0x1a))<<-0x42c+-0x113+0x54f)+(Math['round'](_0x4afd63*(0x1c7b+0x2554+-0x40d0))<<0x11*0xdf+0xe*-0x209+-0xdb7*-0x1)+Math['round'](_0x5c8506*(0xe39+0x860+-0x159a)))['toString'](-0x2*0x643+0x2120+0xef*-0x16)['slice'](-0x71f+0x1b75+-0x1455);if(_0x10bf2d===!(0x3fa+0x5bf+-0x9b9)){const _0x29009b=Math['round'](_0x3a1690*(-0x1e13*0x1+0x1*0x1e1+0x1d31))['toString'](-0xb47+-0x874+-0x9*-0x233);this['a']<(-0x24b*-0x5+0x26c*-0x10+0x1b59)/(-0x184+-0x58c+-0x80f*-0x1)?_0x3fa570+='0'+_0x29009b:_0x3fa570+=_0x29009b;}return _0x3fa570;}['toArray'](_0x4ccebe=[],_0x30703d=0x1abd+0x1af7+-0x35b4,_0x516828=!(-0xbb7+-0x1b54+-0x270b*-0x1)){return _0x4ccebe[_0x30703d]=this['r'],_0x4ccebe[_0x30703d+(-0x1ac3+0x3c0+0x1*0x1704)]=this['g'],_0x4ccebe[_0x30703d+(0xc2a+-0x1e1d*-0x1+-0xe17*0x3)]=this['b'],_0x516828&&(_0x4ccebe[_0x30703d+(-0x8*-0x4f+-0x3*-0x2b3+0x7*-0x182)]=this['a']),_0x4ccebe;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x28a+0xc31*0x1+0x1*-0x9a7,-0x1*0xb15+-0x19c*-0x15+-0x16b7,-0xe40+-0x874+0x16b4,-0x20*-0x22+0x1*0xc1d+0x574*-0x3))),h(Tt,'BLUE',Object['freeze'](new Tt(-0x4*-0x78d+-0x1dd9+-0xd*0x7,0x3d1+0x2255+-0x2626,-0x1437+-0x2*-0x2ab+-0x771*-0x2,0x1*0x1b6b+0x62*-0x4a+0xea*0x1))),h(Tt,'CYAN',Object['freeze'](new Tt(0x1495*-0x1+0x263b+-0x11a6,-0x1312+-0x1*0x7ed+0x24*0xc0,-0x377+-0x568+0x8e0,0x15ea+0x1*-0x1d8+-0x1*0x1411))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x17*-0xc9+-0x2*0x395+-0xae5*0x1+0.5,-0x197f*-0x1+-0xa1e+-0xf61+0.5,0x4*0xc3+0x1*-0x7de+-0x4d2*-0x1+0.5,0x1*0x1f0c+-0x15*0x99+0x62a*-0x3))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x1*0x12fd+0x2*0x6e3+0x537,0x8*-0x275+-0x1*0x1e2e+-0x109d*-0x3,0x47*0x13+-0x2*-0x12a6+-0x11*0x281,0x206d+0x32f*-0x5+0x19*-0xa9))),h(Tt,'MAGENTA',Object['freeze'](new Tt(-0x2d*0x6d+0x9e3+0x5*0x1db,-0x1*0x1c15+-0x1*-0x611+0x1*0x1604,-0x1*-0xae8+-0x673*-0x5+-0xe*0x315,-0x4*-0x479+-0x3d+-0x9*0x1f6))),h(Tt,'RED',Object['freeze'](new Tt(-0x1*0x1d03+0x2f5+0x1a0f,0x15a1+-0x5*-0x52+-0x13*0x139,-0x192c+0x2f8*-0x3+-0xc*-0x2d7,-0x77e+-0x1*-0x115b+-0x9dc))),h(Tt,'WHITE',Object['freeze'](new Tt(0x18e6+-0x59*0x3+-0x17da,-0x1*-0x17c9+-0x10f3*-0x1+0x28bb*-0x1,0x2bf+0xf06+0x471*-0x4,-0x17*0xfb+-0x24bb*-0x1+-0xbf*0x13))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x153*0x1+-0x248b+-0x7f*-0x47,0x1276+-0x19a0+0x72b*0x1,-0x2700+-0x4ab+-0x1*-0x2bab,0x6*-0x51f+0x135d+0xb5e)));let ie=Tt;class ZS{constructor(_0x22b215,_0x141b19=0x1*0x1d5+0xc9b*0x1+-0xe70){h(this,'_curve'),h(this,'_left',-(0x2392+-0x180d+-0xb84)/(-0x50*-0x16+-0x104c+0x2*0x4b6)),h(this,'_right',(0xc*0x23d+0xef*0x25+0x2*-0x1eb3)/(-0x139*-0xe+0x2481+-0x359f)),h(this,'_recip',0x18b3*-0x1+0x1*-0x25b3+-0x3e66*-0x1),h(this,'_p0',0x4*0x1dc+0x1735+-0x621*0x5),h(this,'_p1',0x205*-0x1+0x133f+-0x2a*0x69),h(this,'_m0',-0x2505+0x57d+0x1f88),h(this,'_m1',-0x12*0x128+0x1f50+-0xa80),(this['_curve']=_0x22b215,this['_reset'](_0x141b19));}['evaluate'](_0x37bbcb,_0x26359e=!(-0x1e51+0x1c1c+0x236)){(_0x26359e||_0x37bbcb<this['_left']||_0x37bbcb>=this['_right'])&&this['_reset'](_0x37bbcb);let _0x239c76;const _0x25958c=this['_curve']['type'];if(_0x25958c===_x)_0x239c76=this['_p0'];else{const _0x5b0193=this['_recip']===0x4f*-0x1f+0xb7a+-0x1e9?0x2*0x329+0x1*-0x8f2+0xe0*0x3:(_0x37bbcb-this['_left'])*this['_recip'];_0x25958c===mx?_0x239c76=Y['lerp'](this['_p0'],this['_p1'],_0x5b0193):_0x25958c===tp?_0x239c76=Y['lerp'](this['_p0'],this['_p1'],_0x5b0193*_0x5b0193*(0x90d*-0x1+-0x1*0x20f4+0x1502*0x2-(-0x42d*0x9+-0x1*-0x1147+0x1450)*_0x5b0193)):_0x239c76=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5b0193);}return _0x239c76;}['_reset'](_0x35cd11){const _0x52bb92=this['_curve']['keys'],_0xe7002a=_0x52bb92['length'];if(!_0xe7002a)this['_left']=-(0x218d+-0x1*-0x2095+0xab*-0x63)/(0x113*-0x9+0x58a+0x97*0x7),this['_right']=(0x1*-0x191+0x7c7+0x635*-0x1)/(-0x7a5+-0x1678+0x1e1d),this['_recip']=0x2*-0x40+-0x203c+0x5*0x68c,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1*0x12c1+0x706+0x4d*0x27;else{if(_0x35cd11<_0x52bb92[-0x11*-0x114+-0xb3*-0x1+-0x1307][-0x264d+0x4*-0x139+0x2b31])this['_left']=-(0x1*-0x1a1c+0x693+0x138a)/(-0x769*-0x1+-0x1a1a+-0x3bd*-0x5),this['_right']=_0x52bb92[-0x9f*0x13+-0x48d+0x105a][0x2d8+-0x1d*-0x26+-0xa*0xb7],this['_recip']=-0x15f6+0x11*0x20b+-0xcc5,this['_p0']=this['_p1']=_0x52bb92[-0xa3a+0x119b*0x2+-0x18fc][-0x219a*0x1+-0x32d+0x8*0x499],this['_m0']=this['_m1']=-0x1*0xb0d+0x1039*0x2+-0x1*0x1565;else{if(_0x35cd11>=_0x52bb92[_0xe7002a-(-0x7cb+0xd*0xb1+0x5*-0x3d)][0x59*-0x5b+0x1474+0xb2f])this['_left']=_0x52bb92[_0xe7002a-(-0x648+-0x1e9e+0x24e7)][-0x1b9b+-0x1df2+0x1*0x398d],this['_right']=(0x12ff+0x2*-0x844+0xa*-0x3f)/(-0x799+-0x1ff2+0x35*0xbf),this['_recip']=-0x1*-0x751+0xe35+-0x1586,this['_p0']=this['_p1']=_0x52bb92[_0xe7002a-(0x191c+0x10a5+0xa70*-0x4)][0x2*-0x12bc+0x8b1+-0x998*-0x3],this['_m0']=this['_m1']=0xd45+-0x19d+0x2ea*-0x4;else{let _0x5879f7=0x17*-0x5e+0x148a+-0xc18;for(;_0x35cd11>=_0x52bb92[_0x5879f7+(-0x2475*-0x1+-0xaac*0x3+-0x470)][0x3e5*-0x7+-0x1f47+0x1d45*0x2];)_0x5879f7++;this['_left']=_0x52bb92[_0x5879f7][0x1c6e+0x3*-0x151+-0x187b],this['_right']=_0x52bb92[_0x5879f7+(-0x5df+0x223*0x4+-0x2ac)][-0xbe5+0x940+0x2a5];const _0x2c55e9=(0x253+0x816+-0xa68)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x2c55e9)?_0x2c55e9:0x1d0b+-0x2425+0x12f*0x6,this['_p0']=_0x52bb92[_0x5879f7][0x4b8*-0x4+-0xded+-0x1*-0x20ce],this['_p1']=_0x52bb92[_0x5879f7+(0x1fa5+0x1cc+-0x2170)][-0x1aaf+0x2159+0x1f*-0x37],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x52bb92,_0x5879f7);}}}}['_calcTange'+'nts'](_0xd29afd,_0x5ebd05){let _0x58276e;const _0x2da461=_0xd29afd[_0x5ebd05],_0x1cf525=_0xd29afd[_0x5ebd05+(0xf34+-0x10ba*-0x2+-0x30a7)];let _0x5b8f63;if(_0x5ebd05===-0x11ba+-0x1b*0x5d+-0x35*-0x85?_0x58276e=[_0xd29afd[0x230*-0x5+-0x2050+0x2b40][0x4be*-0x3+0xd4f*-0x2+-0xa36*-0x4]+(_0xd29afd[0x551*-0x5+0x8f*0x16+0xe4b][0x1*0x25ca+0x964+-0x1*0x2f2e]-_0xd29afd[0x2*0x21e+-0xfa7*-0x1+-0x13e2][-0x2047+-0x29e*-0xe+-0x45d]),_0xd29afd[-0x2*0x78b+-0xb14*0x3+0x3052][-0x9*0x454+-0x1*-0x1+0x26f4]+(_0xd29afd[0xa50+0x25cf+0x7f*-0x61][0x1*-0x199d+-0x2*0x70c+-0x2e*-0xdd]-_0xd29afd[0x194+-0x1865+0x16d2][0x7ed+-0xb31+0x345])]:_0x58276e=_0xd29afd[_0x5ebd05-(-0x2*0x44+-0x1*0x1358+0x13e1*0x1)],_0x5ebd05===_0xd29afd['length']-(0x28e+0x4*0x656+-0x1be4)?_0x5b8f63=[_0xd29afd[_0x5ebd05+(-0xf3*-0x27+-0xb*-0x55+-0x28ab)][0x1+0x17f2+-0x17f3*0x1]+(_0xd29afd[_0x5ebd05+(-0x50f*0x1+-0x2a*-0x52+0x3*-0x2cc)][-0x6ce*-0x2+-0x1465+0x243*0x3]-_0xd29afd[_0x5ebd05][-0x1f59+-0x5*0x1cd+0x285a]),_0xd29afd[_0x5ebd05+(-0x1*-0x515+-0x4c*0x7b+-0x2*-0xfb8)][-0x8*-0x9d+-0x6b*-0x58+-0x29af]+(_0xd29afd[_0x5ebd05+(0x355*0x3+-0x18d*-0xf+-0x2141)][-0xa69+0x125+0x945]-_0xd29afd[_0x5ebd05][0xb1*0xc+0x85*-0x2b+0x4*0x383])]:_0x5b8f63=_0xd29afd[_0x5ebd05+(-0x15d*0x7+-0x33f*-0x2+0x1d*0x1b)],this['_curve']['type']===Nm){const _0x5b7570=(-0x207d+-0x69e+0x271d)*(_0x1cf525[0xb26+-0x2*-0x104c+-0x2bbe]-_0x2da461[-0x15e0+0x1808+-0xc*0x2e])/(_0x1cf525[-0x5f*-0x12+0x3*-0x9c2+-0x4*-0x5a6]-_0x58276e[-0xc2c+0x4a+0xbe2]),_0x2f2908=(0x16af+-0x1*-0x5db+-0x58*0x53)*(_0x1cf525[0xf50*-0x2+0x1855+0x3*0x219]-_0x2da461[-0x10*0xa7+-0x12e7*0x1+0x431*0x7])/(_0x5b8f63[0x6e6+-0xe33*0x1+-0x10b*-0x7]-_0x2da461[0x13a*0x8+-0x1c7*-0x11+0x2807*-0x1]);this['_m0']=this['_curve']['tension']*(isFinite(_0x5b7570)?_0x5b7570:-0x1*-0x188f+-0x1499+0x3f6*-0x1)*(_0x1cf525[0x201e+0x21e6+-0x1601*0x3]-_0x58276e[-0x11fe*-0x2+0xd78+-0x3173*0x1]),this['_m1']=this['_curve']['tension']*(isFinite(_0x2f2908)?_0x2f2908:0xcb1+-0x1b13+-0x1*-0xe62)*(_0x5b8f63[-0x13*-0xb5+-0x66*-0x9+-0x1104]-_0x2da461[-0x3*0xb7+-0x9e9+0x7*0x1b9]);}else{const _0x45a868=(_0x1cf525[-0x1*-0x80e+-0x1a03*-0x1+-0x2211]-_0x2da461[-0xd*0xa4+-0x218d*-0x1+-0x1939])/(_0x2da461[0x1c1*-0xd+-0x2241+0x390e*0x1]-_0x58276e[0x2*-0xf6b+0x1*-0x377+0x224d]),_0x4a79a2=(_0x1cf525[0x87e+0x7*-0x421+0x1469]-_0x2da461[-0x1e1+-0x886*-0x1+-0x7*0xf3])/(_0x5b8f63[-0x139d+-0x553*0x7+-0x12*-0x329]-_0x1cf525[-0x11c0+-0x2415*0x1+0x35d5]),_0x227712=_0x2da461[-0x50e+0x278*-0x8+0x18cf]+(_0x58276e[-0x1*0x4e+-0xd*-0x53+-0x3e8]-_0x2da461[0x56*-0x5b+0x1c2a+-0x269*-0x1])*(isFinite(_0x45a868)?_0x45a868:-0x1d2c+-0x1eef+-0x3c1b*-0x1),_0x36bc0b=_0x1cf525[0x7*0x135+-0x1*-0x1827+-0x2099]+(_0x5b8f63[-0x3*-0x8a6+-0x1475+-0x57c]-_0x1cf525[-0x287*-0xd+-0x1*-0x16fe+-0x37d8])*(isFinite(_0x4a79a2)?_0x4a79a2:-0xbfe+-0x9a*-0x2+0xaca),_0x5ae542=this['_curve']['tension'];this['_m0']=_0x5ae542*(_0x1cf525[0x81e*0x3+-0x1942+0xe9]-_0x227712),this['_m1']=_0x5ae542*(_0x36bc0b-_0x2da461[-0x1b77+0x1194+0x9e4]);}}['_evaluateH'+'ermite'](_0x110bf1,_0x18229b,_0x15ded8,_0xebe188,_0x16cc4f){const _0xc337ca=_0x16cc4f*_0x16cc4f,_0x5c04e8=_0x16cc4f+_0x16cc4f,_0x444c26=-0xd*0xed+0xc9c+-0x1*0x92-_0x16cc4f,_0x616754=_0x444c26*_0x444c26;return _0x110bf1*((0x1*-0x1196+0x2*0xa93+-0x38f+_0x5c04e8)*_0x616754)+_0x15ded8*(_0x16cc4f*_0x616754)+_0x18229b*(_0xc337ca*(-0xefb+0x2607+-0x1709-_0x5c04e8))+_0xebe188*(_0xc337ca*(_0x16cc4f-(-0x45*-0x51+-0x938+-0xc9c)));}}class qs{constructor(_0x185a56){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x2338+-0x179e+-0xc6*0xf+0.5),h(this,'_eval',new ZS(this));if(_0x185a56){for(let _0x17a3f8=-0x10*0x15d+0x1537+-0x1*-0x99;_0x17a3f8<_0x185a56['length']-(-0x1*-0x85b+-0x225d+0x1a03*0x1);_0x17a3f8+=0xb*-0x5+0x202e+0x1*-0x1ff5)this['keys']['push']([_0x185a56[_0x17a3f8],_0x185a56[_0x17a3f8+(-0x1*0x1fd3+0x823+0x17b1)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x4801b2,_0x5c76a7){const _0x3c69c3=this['keys'],_0xbe0383=_0x3c69c3['length'];let _0x4f024f=-0x2093+-0xaf1*0x1+-0x45a*-0xa;for(;_0x4f024f<_0xbe0383&&!(_0x3c69c3[_0x4f024f][-0x1*-0x10d4+-0x1130+0x5c]>_0x4801b2);_0x4f024f++);const _0x37cba3=[_0x4801b2,_0x5c76a7];return this['keys']['splice'](_0x4f024f,-0xe*-0xf1+0x52c*0x6+-0x2*0x161b,_0x37cba3),_0x37cba3;}['get'](_0x257eee){return this['keys'][_0x257eee];}['sort'](){this['keys']['sort']((_0x14dcc7,_0x5325c4)=>_0x14dcc7[-0x3*-0x9a3+0x1a6c+-0x1*0x3755]-_0x5325c4[-0x1*0x257e+0x2017+-0x1cd*-0x3]);}['value'](_0x22e6c5){return this['_eval']['evaluate'](_0x22e6c5,!(-0xb57*-0x1+-0x589+0x2e7*-0x2));}['closest'](_0xf00b46){const _0x13c797=this['keys'],_0x42f99a=_0x13c797['length'];let _0xe8801=-0x18d+0x38+0x7*0x31,_0x2ca2f4=null;for(let _0x1ea84d=-0xcbf+0x178b+-0x2b3*0x4;_0x1ea84d<_0x42f99a;_0x1ea84d++){const _0x4285bb=Math['abs'](_0xf00b46-_0x13c797[_0x1ea84d][0x1*0x1827+0x18c8+-0x30ef*0x1]);if(_0xe8801>=_0x4285bb)_0xe8801=_0x4285bb,_0x2ca2f4=_0x13c797[_0x1ea84d];else break;}return _0x2ca2f4;}['clone'](){const _0x424b5d=new this['constructo'+'r']();return _0x424b5d['keys']=this['keys']['map'](_0x94420c=>[..._0x94420c]),_0x424b5d['type']=this['type'],_0x424b5d['tension']=this['tension'],_0x424b5d;}['quantize'](_0x537c57){_0x537c57=Math['max'](_0x537c57,0x1b09+0x67d*-0x3+-0x790);const _0x59d498=new Float32Array(_0x537c57),_0x245bf4=(0x20a3+-0x132a+-0xd78)/(_0x537c57-(-0x1080+0xe40+0x241));_0x59d498[0x1459*0x1+-0x1799+0x10*0x34]=this['_eval']['evaluate'](-0x19a9+-0xde9+-0x13c9*-0x2,!(-0x159f+-0x2ab+-0xc25*-0x2));for(let _0xf812b8=-0x5*-0x2dd+0x1161*-0x1+0x311;_0xf812b8<_0x537c57;_0xf812b8++)_0x59d498[_0xf812b8]=this['_eval']['evaluate'](_0x245bf4*_0xf812b8);return _0x59d498;}['quantizeCl'+'amped'](_0x492ee6,_0x96bec1,_0x3a474f){const _0x492bd9=this['quantize'](_0x492ee6);for(let _0x460c67=-0x213+0x178b+0xabc*-0x2;_0x460c67<_0x492bd9['length'];++_0x460c67)_0x492bd9[_0x460c67]=Math['min'](_0x3a474f,Math['max'](_0x96bec1,_0x492bd9[_0x460c67]));return _0x492bd9;}}class na{constructor(..._0x41385f){h(this,'curves',[]),h(this,'_type',tp);if(_0x41385f['length']>0x127a+-0x769+-0x3b0*0x3){for(let _0x49d7f1=0x1ba0+-0x51f*-0x3+-0x2afd;_0x49d7f1<_0x41385f['length'];_0x49d7f1++)this['curves']['push'](new qs(_0x41385f[_0x49d7f1]));}else{if(_0x41385f['length']===0x3*-0x3a5+0x13bf+-0x468*0x2)this['curves']['push'](new qs());else{const _0x380a12=_0x41385f[-0x1eab+0x6ed*0x5+-0x3*0x152];if(typeof _0x380a12=='number'){for(let _0x3c2c30=0x3*-0x323+0x229a+-0x1*0x1931;_0x3c2c30<_0x380a12;_0x3c2c30++)this['curves']['push'](new qs());}else{for(let _0x471463=0x2*0xac9+0xa93*0x3+-0x7*0x79d;_0x471463<_0x380a12['length'];_0x471463++)this['curves']['push'](new qs(_0x380a12[_0x471463]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x33bd73){this['_type']=_0x33bd73;for(let _0x20ee29=-0x253b+0x161c+0xf1f;_0x20ee29<this['curves']['length'];_0x20ee29++)this['curves'][_0x20ee29]['type']=_0x33bd73;}get['type'](){return this['_type'];}['get'](_0xb71e6c){return this['curves'][_0xb71e6c];}['value'](_0x53e4b6,_0x4b5492=[]){const _0x37a98b=this['curves']['length'];_0x4b5492['length']=_0x37a98b;for(let _0x598c47=0x24a0+-0x1ca+-0x4fa*0x7;_0x598c47<_0x37a98b;_0x598c47++)_0x4b5492[_0x598c47]=this['curves'][_0x598c47]['value'](_0x53e4b6);return _0x4b5492;}['clone'](){const _0x576a3d=new this['constructo'+'r']();_0x576a3d['curves']=[];for(let _0x179db7=0xab6+0x255f+-0x3015;_0x179db7<this['curves']['length'];_0x179db7++)_0x576a3d['curves']['push'](this['curves'][_0x179db7]['clone']());return _0x576a3d['_type']=this['_type'],_0x576a3d;}['quantize'](_0x549237){_0x549237=Math['max'](_0x549237,0xb*-0x121+0x47*0x2f+-0x9c);const _0x19820b=this['curves']['length'],_0x564258=new Float32Array(_0x549237*_0x19820b),_0x5e0165=(-0x811*-0x1+-0x1*-0x16c3+-0x1ed3)/(_0x549237-(-0xc90+-0x186*-0x12+-0x1*0xedb));for(let _0x30c1c6=0x9*-0x2b+-0x1*-0x1cef+-0x1b6c;_0x30c1c6<_0x19820b;_0x30c1c6++){const _0x26a149=new ZS(this['curves'][_0x30c1c6]);for(let _0x5fc92e=-0x367*0x8+-0x7b*0x2b+0x2fe1;_0x5fc92e<_0x549237;_0x5fc92e++)_0x564258[_0x5fc92e*_0x19820b+_0x30c1c6]=_0x26a149['evaluate'](_0x5e0165*_0x5fc92e);}return _0x564258;}['quantizeCl'+'amped'](_0x51026b,_0x305aa7,_0x2d759f){const _0x48ae21=this['quantize'](_0x51026b);for(let _0x25a032=-0x2*0x187+-0x23c7+0x26d5;_0x25a032<_0x48ae21['length'];++_0x25a032)_0x48ae21[_0x25a032]=Math['min'](_0x2d759f,Math['max'](_0x305aa7,_0x48ae21[_0x25a032]));return _0x48ae21;}}const Hf=new Float32Array(0x1154+0x31d*-0xb+-0x13*-0xe4),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x36d13f){Hf[0xcbc+0x10*-0xa0+-0x2bc]=_0x36d13f;const _0x431361=km[0x1*0x1bb+0x1d36+-0x59*0x59];let _0xd762f8=_0x431361>>0x7*-0x3ad+-0x2651+0x401c*0x1&-0x34*-0x1c1+0x515e+-0x2c92,_0x3794b8=_0x431361>>-0x6f7*-0x1+-0x10ce*-0x1+-0x17b9&-0x1d2a+-0x1*0x240b+0xa*0x752;const _0x384f02=_0x431361>>0xe7d+0x1*-0x100b+-0x1a5*-0x1&-0x493*0x4+0xcd8+0xd*0x7f;return _0x384f02<-0x1759*0x1+-0x7*0x7f+0x1b39?_0xd762f8:_0x384f02>-0xb*0x31d+0x1b8f+0x1*0x73e?(_0xd762f8|=-0x1*0x4f3f+-0xa055*0x1+0xb5ca*0x2,_0xd762f8|=(_0x384f02===-0x9d*-0x29+-0x1722+0xd*-0x14?0x12e9+-0xaa6+-0x843:0x23fe+0x41c+-0x2819)&&_0x431361&0x24b478+0xd3f45f+-0x48*0x1ad03,_0xd762f8):_0x384f02<-0x16cd+0x1378+0xa1*0x6?(_0x3794b8|=0x368+0x22dc+0xd*-0x254,_0xd762f8|=(_0x3794b8>>-0x1418+0x2114+-0xc8a-_0x384f02)+(_0x3794b8>>0x761*-0x2+0x22*0x89+-0x3b*0xd-_0x384f02&-0x2072+0x1a5e+0x3*0x207),_0xd762f8):(_0xd762f8|=_0x384f02-(0xc5*0x18+-0x533*-0x6+0x1*-0x313a)<<0x205*-0x4+-0x1*0x1b85+0x23a3|_0x3794b8>>-0x1*-0xe7d+0x243*0x9+0x9*-0x3df,_0xd762f8+=_0x3794b8&0x9*-0x18e+-0x1424+0xb61*0x3,_0xd762f8);}static['float2RGBA'+'8'](_0x11438e,_0x595437){Hf[-0xc15+-0xa06*0x3+0x2a27]=_0x11438e;const _0x1efc12=km[-0x2*0x347+0x2490+-0x1e02];_0x595437['r']=(_0x1efc12>>-0x15d2+0x1*0x1f47+-0x95d&-0x164*-0x1a+0x5*-0x170+-0x5d*0x4d)/(-0x26*0x92+0x2*-0xbb7+0x2e19),_0x595437['g']=(_0x1efc12>>-0x4*-0x879+0x1a63+-0x3c37&0x1*0x20c5+0x18c6+-0x388c)/(0x85d+-0x1*0x117d+0x1*0xa1f),_0x595437['b']=(_0x1efc12>>0x1ab3*-0x1+0x12e3+0x7d8&0x19*0xa+0x5*0x4c9+-0x3*0x7f8)/(-0x1*-0xa81+0x11*-0x1c1+0x144f),_0x595437['a']=(_0x1efc12&0xf6d*-0x1+0xa9f*-0x1+0x1b0b)/(-0xa67+-0x2641+0x31a7);}}const wt=class wt{constructor(_0x26576a=-0x5*0x173+-0xee6+-0x1*-0x1625,_0x44fd53=-0xe01*0x1+0x9ed+0x414,_0x55aacf=-0xff0+-0x11d6*-0x1+0x12*-0x1b){h(this,'x'),h(this,'y'),h(this,'z'),_0x26576a['length']===-0x49d*0x4+-0x36*0x1a+0x1*0x17f3?(this['x']=_0x26576a[0x1ae9+0x4*-0x4eb+-0x73d],this['y']=_0x26576a[0x16b+-0x251*-0xb+-0x2d*0x99],this['z']=_0x26576a[0x7ee*0x4+-0x1355+-0xc61*0x1]):(this['x']=_0x26576a,this['y']=_0x44fd53,this['z']=_0x55aacf);}['add'](_0x37be38){return this['x']+=_0x37be38['x'],this['y']+=_0x37be38['y'],this['z']+=_0x37be38['z'],this;}['add2'](_0x3810fa,_0x418060){return this['x']=_0x3810fa['x']+_0x418060['x'],this['y']=_0x3810fa['y']+_0x418060['y'],this['z']=_0x3810fa['z']+_0x418060['z'],this;}['addScalar'](_0x220f52){return this['x']+=_0x220f52,this['y']+=_0x220f52,this['z']+=_0x220f52,this;}['addScaled'](_0x665d36,_0x5a3c04){return this['x']+=_0x665d36['x']*_0x5a3c04,this['y']+=_0x665d36['y']*_0x5a3c04,this['z']+=_0x665d36['z']*_0x5a3c04,this;}['clone'](){const _0xeb8f72=this['constructo'+'r'];return new _0xeb8f72(this['x'],this['y'],this['z']);}['copy'](_0x20ed65){return this['x']=_0x20ed65['x'],this['y']=_0x20ed65['y'],this['z']=_0x20ed65['z'],this;}['cross'](_0x4a11c2,_0x17607){const _0x368970=_0x4a11c2['x'],_0x42e356=_0x4a11c2['y'],_0x214724=_0x4a11c2['z'],_0x2b2cde=_0x17607['x'],_0x41bce2=_0x17607['y'],_0x4041a5=_0x17607['z'];return this['x']=_0x42e356*_0x4041a5-_0x41bce2*_0x214724,this['y']=_0x214724*_0x2b2cde-_0x4041a5*_0x368970,this['z']=_0x368970*_0x41bce2-_0x2b2cde*_0x42e356,this;}['distance'](_0x4d308f){const _0x48afb4=this['x']-_0x4d308f['x'],_0x13cc66=this['y']-_0x4d308f['y'],_0x3b99dd=this['z']-_0x4d308f['z'];return Math['sqrt'](_0x48afb4*_0x48afb4+_0x13cc66*_0x13cc66+_0x3b99dd*_0x3b99dd);}['div'](_0x2069d4){return this['x']/=_0x2069d4['x'],this['y']/=_0x2069d4['y'],this['z']/=_0x2069d4['z'],this;}['div2'](_0x18b73b,_0x5d10ed){return this['x']=_0x18b73b['x']/_0x5d10ed['x'],this['y']=_0x18b73b['y']/_0x5d10ed['y'],this['z']=_0x18b73b['z']/_0x5d10ed['z'],this;}['divScalar'](_0x11b203){return this['x']/=_0x11b203,this['y']/=_0x11b203,this['z']/=_0x11b203,this;}['dot'](_0x327d7c){return this['x']*_0x327d7c['x']+this['y']*_0x327d7c['y']+this['z']*_0x327d7c['z'];}['equals'](_0x3be637){return this['x']===_0x3be637['x']&&this['y']===_0x3be637['y']&&this['z']===_0x3be637['z'];}['equalsAppr'+'ox'](_0x8e083c,_0x96b3bb=-0x4*-0x1b2+-0x3c+-0x1*0x68c+0.000001){return Math['abs'](this['x']-_0x8e083c['x'])<_0x96b3bb&&Math['abs'](this['y']-_0x8e083c['y'])<_0x96b3bb&&Math['abs'](this['z']-_0x8e083c['z'])<_0x96b3bb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x246e23,_0xd48c72,_0x5add05){return this['x']=_0x246e23['x']+_0x5add05*(_0xd48c72['x']-_0x246e23['x']),this['y']=_0x246e23['y']+_0x5add05*(_0xd48c72['y']-_0x246e23['y']),this['z']=_0x246e23['z']+_0x5add05*(_0xd48c72['z']-_0x246e23['z']),this;}['mul'](_0x484cd0){return this['x']*=_0x484cd0['x'],this['y']*=_0x484cd0['y'],this['z']*=_0x484cd0['z'],this;}['mul2'](_0x4f6046,_0x18e4f1){return this['x']=_0x4f6046['x']*_0x18e4f1['x'],this['y']=_0x4f6046['y']*_0x18e4f1['y'],this['z']=_0x4f6046['z']*_0x18e4f1['z'],this;}['mulScalar'](_0x49a725){return this['x']*=_0x49a725,this['y']*=_0x49a725,this['z']*=_0x49a725,this;}['normalize'](_0x395626=this){const _0x31972e=_0x395626['x']*_0x395626['x']+_0x395626['y']*_0x395626['y']+_0x395626['z']*_0x395626['z'];if(_0x31972e>-0x16aa+0x18ea+-0x20*0x12){const _0x1fed0a=(-0x238b+0xf1+0x229b)/Math['sqrt'](_0x31972e);this['x']=_0x395626['x']*_0x1fed0a,this['y']=_0x395626['y']*_0x1fed0a,this['z']=_0x395626['z']*_0x1fed0a;}return this;}['floor'](_0x385758=this){return this['x']=Math['floor'](_0x385758['x']),this['y']=Math['floor'](_0x385758['y']),this['z']=Math['floor'](_0x385758['z']),this;}['ceil'](_0x4b633a=this){return this['x']=Math['ceil'](_0x4b633a['x']),this['y']=Math['ceil'](_0x4b633a['y']),this['z']=Math['ceil'](_0x4b633a['z']),this;}['round'](_0x1efcc1=this){return this['x']=Math['round'](_0x1efcc1['x']),this['y']=Math['round'](_0x1efcc1['y']),this['z']=Math['round'](_0x1efcc1['z']),this;}['min'](_0x2e49ce){return _0x2e49ce['x']<this['x']&&(this['x']=_0x2e49ce['x']),_0x2e49ce['y']<this['y']&&(this['y']=_0x2e49ce['y']),_0x2e49ce['z']<this['z']&&(this['z']=_0x2e49ce['z']),this;}['max'](_0x5ea470){return _0x5ea470['x']>this['x']&&(this['x']=_0x5ea470['x']),_0x5ea470['y']>this['y']&&(this['y']=_0x5ea470['y']),_0x5ea470['z']>this['z']&&(this['z']=_0x5ea470['z']),this;}['project'](_0x4c906c){const _0x378e56=this['x']*_0x4c906c['x']+this['y']*_0x4c906c['y']+this['z']*_0x4c906c['z'],_0x156401=_0x4c906c['x']*_0x4c906c['x']+_0x4c906c['y']*_0x4c906c['y']+_0x4c906c['z']*_0x4c906c['z'],_0x2cc29e=_0x378e56/_0x156401;return this['x']=_0x4c906c['x']*_0x2cc29e,this['y']=_0x4c906c['y']*_0x2cc29e,this['z']=_0x4c906c['z']*_0x2cc29e,this;}['set'](_0x482c92,_0x79975b,_0x5181a4){return this['x']=_0x482c92,this['y']=_0x79975b,this['z']=_0x5181a4,this;}['sub'](_0x3f4db6){return this['x']-=_0x3f4db6['x'],this['y']-=_0x3f4db6['y'],this['z']-=_0x3f4db6['z'],this;}['sub2'](_0x273306,_0x451611){return this['x']=_0x273306['x']-_0x451611['x'],this['y']=_0x273306['y']-_0x451611['y'],this['z']=_0x273306['z']-_0x451611['z'],this;}['subScalar'](_0x482450){return this['x']-=_0x482450,this['y']-=_0x482450,this['z']-=_0x482450,this;}['fromArray'](_0x146b3f,_0x340d8b=0xa7*-0x2b+-0x1c7a+-0x1*-0x3887){return this['x']=_0x146b3f[_0x340d8b]??this['x'],this['y']=_0x146b3f[_0x340d8b+(-0x6b3*-0x1+0x192e+-0x1fe0)]??this['y'],this['z']=_0x146b3f[_0x340d8b+(0x774+-0x1*0x2151+-0x19df*-0x1)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x32bafb=[],_0x505dea=-0xec+0x4d4+-0x2*0x1f4){return _0x32bafb[_0x505dea]=this['x'],_0x32bafb[_0x505dea+(-0x19e7+-0x1982*0x1+0x336a)]=this['y'],_0x32bafb[_0x505dea+(-0x2*-0x70a+0x167+0xf79*-0x1)]=this['z'],_0x32bafb;}};h(wt,'ZERO',Object['freeze'](new wt(-0x11b*0x6+0x1dcb+-0x1729,-0x19d9+0xbdc+0x1*0xdfd,0x37*-0xb0+-0x1402+0x39d2*0x1))),h(wt,'HALF',Object['freeze'](new wt(0x209e+-0x2532+-0x2*-0x24a+0.5,-0xb5d*-0x1+-0x15c*0x1c+0x1ab3+0.5,-0x1370+-0x60c+-0xe*-0x1d2+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x2706+-0x23f3*0x1+0x4afa,0xf9*-0x22+-0x114c+-0x5*-0xa13,0x1231*-0x1+0xe15+-0xd*-0x51))),h(wt,'UP',Object['freeze'](new wt(0xa0c*-0x2+0x194e*0x1+-0x1*0x536,0xfaa+0xc5a+0x1c03*-0x1,-0x2*-0xed5+0x179e+0x3548*-0x1))),h(wt,'DOWN',Object['freeze'](new wt(-0x1758+-0x15ff+0x2d57,-(-0x1*0x1157+-0xe73+0x1fcb),-0x823+-0x2311+-0x229*-0x14))),h(wt,'RIGHT',Object['freeze'](new wt(0x11*-0x6d+0x5fc+0x142,0x16ba+0x503+-0x1bbd,-0xec5+0x1f61+-0x109c))),h(wt,'LEFT',Object['freeze'](new wt(-(0x3fb*0x1+-0x1e95*-0x1+-0x228f),-0x244f+-0x5a6+0x1d3*0x17,0x2f6+0x9*0x18d+-0x47*0x3d))),h(wt,'FORWARD',Object['freeze'](new wt(0x210c+-0x23f9+-0x1*-0x2ed,0x1*-0x1b38+0xef7+0xc41,-(-0x1ab7*0x1+0x2*0xde2+-0x4*0x43)))),h(wt,'BACK',Object['freeze'](new wt(-0x4f+-0xd56*0x2+-0x1afb*-0x1,0x20ea+0x8*0xb5+-0x2692,-0x1*0x224b+0x1ea4+-0x27*-0x18)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(-0x521+-0x155d+0x1a87)),this['data'][0x1e5f+-0x424+-0x1a3b]=this['data'][0xd7e+-0x5*-0x53d+0xd39*-0x3]=this['data'][-0x2*0x956+0x1b40+0x88c*-0x1]=-0x6*0x2f+0x1f87+-0xf36*0x2;}['clone'](){const _0x3e6205=this['constructo'+'r'];return new _0x3e6205()['copy'](this);}['copy'](_0x55cdef){const _0x3244a0=_0x55cdef['data'],_0x10a0b4=this['data'];return _0x10a0b4[-0x25*-0xa+0x76a*-0x3+0x14cc]=_0x3244a0[0x160d+0x123+-0x350*0x7],_0x10a0b4[0x22d5+0x15df+-0x38b3]=_0x3244a0[-0x10*0x135+-0x7eb*-0x2+0x37b],_0x10a0b4[-0x1f26+-0x1*0x1242+0xb*0x47e]=_0x3244a0[-0x69*0x1f+0x1*-0x171b+0x23d4],_0x10a0b4[0xb4+-0x251c+0x246b*0x1]=_0x3244a0[0x1a78+-0x1*0x1c13+-0x45*-0x6],_0x10a0b4[-0x2*-0x12b+-0x3*0x3ec+-0x3e*-0x27]=_0x3244a0[0xa*0x3e6+-0x1bb*-0x8+-0x34d0],_0x10a0b4[-0x3*0x482+-0x2*-0x2da+0x29d*0x3]=_0x3244a0[0x7*-0x31a+-0x23*0x89+0x2876],_0x10a0b4[-0x1983+0x1dc3+0x21d*-0x2]=_0x3244a0[0xf9e+0x5*0x359+-0x2055],_0x10a0b4[-0x2*0xd8d+-0x1834+-0x11*-0x305]=_0x3244a0[0x2111+-0x3*0xa93+-0x151],_0x10a0b4[-0x1051*-0x1+-0x46d+-0xbdc]=_0x3244a0[0x238*0x6+0x85*-0x13+-0x1*0x369],this;}['set'](_0x351c38){const _0x1d123b=this['data'];return _0x1d123b[-0x4d6*-0x3+-0x1*-0xa8b+-0xb*0x247]=_0x351c38[0x1697+0x110+-0x7*0x361],_0x1d123b[-0x1dc3*0x1+0x1*-0x24b+0x200f]=_0x351c38[0x12f*0x1e+0xd3c+-0x30bd],_0x1d123b[-0x2259+0x1a8f+0x4*0x1f3]=_0x351c38[0xc4+-0x23c7*0x1+0x2305],_0x1d123b[-0x2*0x1300+-0x1*0x49b+0x2a9e]=_0x351c38[0x50d*-0x1+0x1f1+0x31f],_0x1d123b[-0x22*-0x76+-0x86*0x25+-0x2*-0x1db]=_0x351c38[-0x98c+0x24*-0xa3+0x207c],_0x1d123b[0x13f9+0x2418+0x44*-0xd3]=_0x351c38[0x361+0x1b82+-0x1ede],_0x1d123b[-0x1391*0x1+0x1*0x359+-0x63*-0x2a]=_0x351c38[0x2121+-0xe92+-0x5*0x3b5],_0x1d123b[0x15c4+0xff+-0x16bc]=_0x351c38[-0x23*-0x5+0x1dd0+-0x1e78],_0x1d123b[-0x2*-0xc16+0x13c7+-0x1*0x2beb]=_0x351c38[-0x114d+-0x26ed+-0x1c21*-0x2],this;}['getX'](_0x3569dc=new D()){return _0x3569dc['set'](this['data'][0x6d*-0x55+0x212d+0x304],this['data'][0x47a+-0x2*0x2c8+0x5d*0x3],this['data'][-0x1*-0x49+-0xf77*-0x2+-0x1f35]);}['getY'](_0x300eb2=new D()){return _0x300eb2['set'](this['data'][0x1df9+0xb44+-0x3*0xdbe],this['data'][0x7d4*0x1+0x32b*-0x5+-0x3*-0x2ad],this['data'][-0x1bd0+0x187*-0xd+0x2fb0]);}['getZ'](_0x5699e4=new D()){return _0x5699e4['set'](this['data'][-0x3b*0x42+0x239e+-0x1462],this['data'][0x5*0x4bc+0x2*-0x4ff+-0x2bb*0x5],this['data'][0x16ac+0x83*-0x35+0x47b]);}['equals'](_0x353aa5){const _0x44189b=this['data'],_0x483fd9=_0x353aa5['data'];return _0x44189b[0x730+0xd84+-0x14b4]===_0x483fd9[0x875+-0x312*-0x9+0x2417*-0x1]&&_0x44189b[0x91f+-0x29*0x2f+-0x197]===_0x483fd9[0x61c+-0x22b6+-0x1c9b*-0x1]&&_0x44189b[0x84c+0xb*0xb5+-0x1011]===_0x483fd9[0x15b*-0x13+0x54e+-0x1475*-0x1]&&_0x44189b[-0xbed+-0x2*-0xe1d+-0x104a]===_0x483fd9[-0x5*0x575+0x174a+0x2*0x201]&&_0x44189b[0x16d5+-0x25d4+0xf03*0x1]===_0x483fd9[-0x1827+0xdf4+0xa37]&&_0x44189b[0x2315+-0x7*0xd9+-0x1d21]===_0x483fd9[0xd4c+0x7c4+-0x150b]&&_0x44189b[-0xb*-0x5e+-0x3d0+0x34*-0x1]===_0x483fd9[-0x963+0x1ee9+-0x2b0*0x8]&&_0x44189b[-0x24a6+-0x1085*0x1+0xb*0x4d6]===_0x483fd9[-0x94e+-0xf5*-0x11+0x18*-0x4a]&&_0x44189b[0x68c*0x1+-0x5*-0x2a5+-0x13bd]===_0x483fd9[-0x7*-0x4f2+-0x75e+0x34*-0x86];}['isIdentity'](){const _0x515eba=this['data'];return _0x515eba[-0xdba+0x2f*-0x8f+0x27fb*0x1]===0x32c*0x2+0x241d+0x153a*-0x2&&_0x515eba[0x25b9+0x20+-0x25d8]===-0x209b+-0x1a9a+0x3b35&&_0x515eba[0x1*0x2393+0x2d1+-0x2662*0x1]===0xbca+0x626+0x1c*-0xa4&&_0x515eba[-0xf2c+-0x3a7*0x7+0x28c0]===0x98+-0x2485*0x1+-0x11*-0x21d&&_0x515eba[0x5ad+0x1b7b+-0x2124]===-0x1e48+0x1790+0x6b9&&_0x515eba[-0x6ef*-0x5+0x117d*-0x2+0x54]===0x59*0x4f+-0x3d*0x23+0x330*-0x6&&_0x515eba[-0x99d+0x12bf+-0x91c]===-0x3*-0xb42+-0x637*-0x1+-0x1*0x27fd&&_0x515eba[-0x1*-0xc75+-0x2491+0x1823]===0x369+0x63*0x8+0x25*-0x2d&&_0x515eba[-0x1d*0x57+-0x14cf+0x1eb2*0x1]===-0x11f7+-0x13c7+-0x1*-0x25bf;}['setIdentit'+'y'](){const _0x27ebf1=this['data'];return _0x27ebf1[0x3*-0x912+-0x21eb*-0x1+-0x6b5]=0x182f*-0x1+-0x5*-0x1f9+-0x1*-0xe53,_0x27ebf1[0x3*0x997+0x2bf+-0x1f83]=-0x1*0xb8f+0x24d4+0x1*-0x1945,_0x27ebf1[0x378+-0x1316+0xfa0]=0x1*0x1f15+-0x21a0+0x28b,_0x27ebf1[-0x1bc2+-0x2b9*-0x3+0x139a]=0xf*0x1ff+-0xd9d+0xb*-0x17c,_0x27ebf1[-0x1f*0x13+-0x2*-0x9e3+-0x1175]=0x3*-0x241+-0x1*-0x1886+0x1*-0x11c2,_0x27ebf1[0x1bf2+0x1c15+0x1*-0x3802]=-0xa9*-0x1b+0x13e4+-0x25b7,_0x27ebf1[0x1*-0x1579+0x1184+0x3fb*0x1]=0x23df*-0x1+-0x883+0x1b5*0x1a,_0x27ebf1[0x692+-0x46a*-0x7+-0x2571]=-0x2*0x11d1+-0x1*-0x1a17+0x98b,_0x27ebf1[0x1c6c+-0x41c*0x8+0x47c]=0x46d+-0x167c+0x10*0x121,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x550676=this){const _0x13bd64=_0x550676['data'],_0x12eeee=this['data'];if(_0x13bd64===_0x12eeee){let _0x3d0721;_0x3d0721=_0x13bd64[0x245f*-0x1+-0x64d*0x2+0x30fa*0x1],_0x12eeee[-0x1899+-0x5*0x63f+0x37d5]=_0x13bd64[-0x1e00+0x6*-0x1a+-0xc9*-0x27],_0x12eeee[0x8*0x2d+-0x15f*0x1+-0x6]=_0x3d0721,_0x3d0721=_0x13bd64[-0x2512*0x1+-0x13c3*-0x1+0x1151],_0x12eeee[-0x105c+-0xf31*0x1+0x1*0x1f8f]=_0x13bd64[0x7d*0xc+0x75e+0x69a*-0x2],_0x12eeee[0x1*0x419+0x1bd4+-0x1fe7]=_0x3d0721,_0x3d0721=_0x13bd64[0x589+0x15*0xf9+0x1d*-0xe5],_0x12eeee[-0x1c0a+-0x669*-0x3+-0x4*-0x235]=_0x13bd64[-0x1069*0x1+0x19b1*0x1+0x941*-0x1],_0x12eeee[-0xb*-0x1ab+0x1ddd+0x302f*-0x1]=_0x3d0721;}else _0x12eeee[-0xb92+0x4f*0x43+-0x91b]=_0x13bd64[-0x466*0x6+0x20df+-0xed*0x7],_0x12eeee[0x879*-0x2+0x26a5+-0x15b2]=_0x13bd64[-0xb7*0x11+-0x61*0x13+-0x135d*-0x1],_0x12eeee[-0x11*-0x141+-0x1514+-0x3b*0x1]=_0x13bd64[0x281*0x1+-0x1*0x127b+0x1000],_0x12eeee[-0xc97+-0x156a+-0x2*-0x1102]=_0x13bd64[-0x15b*-0x1c+0x1*-0x11d1+-0x1422],_0x12eeee[-0x1eef+-0x62d+0x252*0x10]=_0x13bd64[0x37*0x1a+-0x128*0x20+0x1f6e],_0x12eeee[0x661*-0x3+-0x1f6a+0x1*0x3292]=_0x13bd64[0x1240+0x9d6*-0x1+-0x1*0x863],_0x12eeee[-0x3*0xa05+0x1*0xc1d+-0xa*-0x1cc]=_0x13bd64[-0x183b*0x1+-0x4f0+0x1d2d],_0x12eeee[0x3*0x397+0x7f*-0x43+-0x1bb*-0xd]=_0x13bd64[-0x22cd+-0xf4a+-0x3*-0x10b4],_0x12eeee[-0x1*-0xfa3+-0x11*-0x169+0x44*-0x95]=_0x13bd64[0xe9*-0x18+-0x1*-0x693+0xf4d];return this;}['setFromMat'+'4'](_0x5dd52a){const _0x4f102a=_0x5dd52a['data'],_0x2308fe=this['data'];return _0x2308fe[-0x20fd+0x1*-0x1835+0x3932]=_0x4f102a[0x268c+-0x781+-0x9*0x373],_0x2308fe[-0xd3e+0x115f*0x1+-0x4*0x108]=_0x4f102a[0x1*0x1baf+0xa+-0x4*0x6ee],_0x2308fe[-0x1d41+0x85d*0x4+-0x431]=_0x4f102a[-0x1*0x839+-0x17de+-0x53*-0x63],_0x2308fe[-0xdcc*-0x1+-0x199d+-0xbd4*-0x1]=_0x4f102a[-0xbb1+0x1227*0x1+-0x96*0xb],_0x2308fe[-0x2*0xef7+-0x2464+0x4256]=_0x4f102a[0x124b*0x1+0xe3b*-0x1+0x17*-0x2d],_0x2308fe[0x5*-0x4ee+0x1*-0x1a76+0x3321]=_0x4f102a[-0x1*0x1be5+-0xf81+0x4*0xadb],_0x2308fe[0x363+0xc2b*0x1+0x47*-0x38]=_0x4f102a[0x4ae*0x2+-0x2360+0x1a0c],_0x2308fe[-0x5*0x2b5+0x22b2+-0x1522]=_0x4f102a[-0xb92*0x2+0x1209+0x524],_0x2308fe[0x24d+0x125d+-0x14a2]=_0x4f102a[-0xc9a+-0x197+0xe3b*0x1],this;}['setFromQua'+'t'](_0x35b7ff){const _0x1f8225=_0x35b7ff['x'],_0x4e87a4=_0x35b7ff['y'],_0x54e575=_0x35b7ff['z'],_0x1538eb=_0x35b7ff['w'],_0x3682da=_0x1f8225+_0x1f8225,_0x387bf6=_0x4e87a4+_0x4e87a4,_0x838d48=_0x54e575+_0x54e575,_0x3aaadd=_0x1f8225*_0x3682da,_0x384a5d=_0x1f8225*_0x387bf6,_0x5864c5=_0x1f8225*_0x838d48,_0x2fa45c=_0x4e87a4*_0x387bf6,_0x3e7b7c=_0x4e87a4*_0x838d48,_0x59902d=_0x54e575*_0x838d48,_0xb869fb=_0x1538eb*_0x3682da,_0x323232=_0x1538eb*_0x387bf6,_0x37a49c=_0x1538eb*_0x838d48,_0x327e75=this['data'];return _0x327e75[-0x520+0x55b*-0x6+-0x1f6*-0x13]=-0x1a3e+-0xc4f+0x268e-(_0x2fa45c+_0x59902d),_0x327e75[-0x1817+0xf65*-0x1+0x277d]=_0x384a5d+_0x37a49c,_0x327e75[-0x265c+-0x22e7+0x4945]=_0x5864c5-_0x323232,_0x327e75[-0x13ce+-0x2337+0x24b*0x18]=_0x384a5d-_0x37a49c,_0x327e75[0xb*-0x187+0x1927+-0x856]=-0x3f4+-0x26d4+0x2ac9-(_0x3aaadd+_0x59902d),_0x327e75[-0x7f6*0x3+-0x7*0x3c6+0x1*0x3251]=_0x3e7b7c+_0xb869fb,_0x327e75[-0x5*0x101+-0x2c5*-0x1+-0x3*-0xc2]=_0x5864c5+_0x323232,_0x327e75[-0x971+-0x16*-0x194+-0x1940]=_0x3e7b7c-_0xb869fb,_0x327e75[-0x52*0x16+-0x384+-0x18*-0x71]=0x2b1+-0x3*0xbed+-0x2117*-0x1-(_0x3aaadd+_0x2fa45c),this;}['invertMat4'](_0x1cec76){const _0x42d4aa=_0x1cec76['data'],_0x162d63=_0x42d4aa[-0xa2e+0x180e+-0xde0],_0x38179a=_0x42d4aa[-0xae+0xe55*-0x2+-0xb*-0x2ab],_0x2abc2a=_0x42d4aa[0xf+-0x3f*0x9d+0x2696],_0x253a6d=_0x42d4aa[0x25fe+0x45a+-0x2a54],_0x1e5d22=_0x42d4aa[0x5*0x34b+-0x12*-0xdb+-0x1fd8],_0x299de7=_0x42d4aa[-0x25cd+0x2*0x836+0x1567*0x1],_0x1c628d=_0x42d4aa[0x1d4c+0x827+-0x135*0x1f],_0x4d8145=_0x42d4aa[0x2274+0x1739+0x44*-0xd9],_0x4c597d=_0x42d4aa[0x1*0x15d4+0x788*0x2+-0x24da],_0x28ee50=_0x4c597d*_0x1e5d22-_0x299de7*_0x4d8145,_0xea2752=-_0x4c597d*_0x38179a+_0x2abc2a*_0x4d8145,_0x35765f=_0x299de7*_0x38179a-_0x2abc2a*_0x1e5d22,_0x5454a7=-_0x4c597d*_0x253a6d+_0x299de7*_0x1c628d,_0x1d007e=_0x4c597d*_0x162d63-_0x2abc2a*_0x1c628d,_0x1f9f9c=-_0x299de7*_0x162d63+_0x2abc2a*_0x253a6d,_0x44af53=_0x4d8145*_0x253a6d-_0x1e5d22*_0x1c628d,_0x1640ee=-_0x4d8145*_0x162d63+_0x38179a*_0x1c628d,_0x63eef1=_0x1e5d22*_0x162d63-_0x38179a*_0x253a6d,_0x1dbf96=_0x162d63*_0x28ee50+_0x38179a*_0x5454a7+_0x2abc2a*_0x44af53;if(_0x1dbf96===0x3da+0x334+-0x6*0x12d)this['setIdentit'+'y']();else{const _0x59b724=(0x1*-0x20b1+-0x3*-0x1+-0x3*-0xae5)/_0x1dbf96,_0x5a441d=this['data'];_0x5a441d[0x17*0x13+-0x152+0x3*-0x21]=_0x28ee50*_0x59b724,_0x5a441d[0x705+-0x8dc+0x1d8]=_0xea2752*_0x59b724,_0x5a441d[-0x19*0x181+0x1*-0x94b+0x2ee6]=_0x35765f*_0x59b724,_0x5a441d[-0x2dd*-0x1+-0x25f1*0x1+-0x2b3*-0xd]=_0x5454a7*_0x59b724,_0x5a441d[0xb22+-0x1af0*0x1+0xf*0x10e]=_0x1d007e*_0x59b724,_0x5a441d[0x9a3*-0x4+-0x6ea+0x2d7b]=_0x1f9f9c*_0x59b724,_0x5a441d[0xcd3*-0x1+0x1*0x1e07+0x2*-0x897]=_0x44af53*_0x59b724,_0x5a441d[0x554*0x1+-0xb2*0xe+0x46f]=_0x1640ee*_0x59b724,_0x5a441d[0x14d8+0x45b+-0x192b]=_0x63eef1*_0x59b724;}return this;}['transformV'+'ector'](_0x35e8f9,_0x101d09=new D()){const _0x50203a=this['data'],{x:_0x294cc2,y:_0x2e2e14,z:_0xfcf13f}=_0x35e8f9;return _0x101d09['x']=_0x294cc2*_0x50203a[-0x64d*0x3+0xae*-0xb+0x1a61]+_0x2e2e14*_0x50203a[0x1cfc+0xf*-0x179+-0x1*0x6e2]+_0xfcf13f*_0x50203a[0x88e+-0x4*0x33b+0x464],_0x101d09['y']=_0x294cc2*_0x50203a[-0x103d+-0xe5*0x2+0x1208]+_0x2e2e14*_0x50203a[0x194b+-0x2571+0xc2a]+_0xfcf13f*_0x50203a[0x78f+0x163*-0x3+-0x35f],_0x101d09['z']=_0x294cc2*_0x50203a[-0x8f0+-0x4fd*0x1+0xdef]+_0x2e2e14*_0x50203a[0x1e95+0x38a*-0xa+0x4d4]+_0xfcf13f*_0x50203a[0x2502+-0x1f34+-0x5c6],_0x101d09;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x3d*-0x1+-0x2d7*0x9+0x1952,-0x23c4+-0xbe4*-0x2+0xbfc,0x1*0x1b6+0x1fa+0x8*-0x76,0x10b9+0x128f+-0x2348,-0x719+-0x820*-0x4+-0x7*0x3a1,-0x2*0xd59+0x1723*0x1+0x1*0x38f,0x3fa*-0x3+-0x577+0x1165,-0x157b+-0x2*-0x11a5+-0xdcf,0x47*0x2e+0x235d+-0x61*0x7f])));let _i=gn;const Gt=class Gt{constructor(_0x297eb8=-0xae7*-0x1+-0x1176+-0x68f*-0x1,_0x20923e=0x682*0x1+0xf4*-0x13+0xb9a){h(this,'x'),h(this,'y'),_0x297eb8['length']===-0x215e*-0x1+-0x737*0x3+-0x1*0xbb7?(this['x']=_0x297eb8[0x174b+-0x1*-0x92b+-0x2076],this['y']=_0x297eb8[0x5*0x412+0x1588*-0x1+0x1*0x12f]):(this['x']=_0x297eb8,this['y']=_0x20923e);}['add'](_0x4d686d){return this['x']+=_0x4d686d['x'],this['y']+=_0x4d686d['y'],this;}['add2'](_0x3182cf,_0x57e895){return this['x']=_0x3182cf['x']+_0x57e895['x'],this['y']=_0x3182cf['y']+_0x57e895['y'],this;}['addScalar'](_0x538798){return this['x']+=_0x538798,this['y']+=_0x538798,this;}['addScaled'](_0x139c75,_0x9a7608){return this['x']+=_0x139c75['x']*_0x9a7608,this['y']+=_0x139c75['y']*_0x9a7608,this;}['clone'](){const _0x4d8310=this['constructo'+'r'];return new _0x4d8310(this['x'],this['y']);}['copy'](_0x537e46){return this['x']=_0x537e46['x'],this['y']=_0x537e46['y'],this;}['cross'](_0x3abe56){return this['x']*_0x3abe56['y']-this['y']*_0x3abe56['x'];}['distance'](_0x595c5d){const _0x2c45c5=this['x']-_0x595c5d['x'],_0x30c827=this['y']-_0x595c5d['y'];return Math['sqrt'](_0x2c45c5*_0x2c45c5+_0x30c827*_0x30c827);}['div'](_0x40499d){return this['x']/=_0x40499d['x'],this['y']/=_0x40499d['y'],this;}['div2'](_0x5f02e2,_0x17c69d){return this['x']=_0x5f02e2['x']/_0x17c69d['x'],this['y']=_0x5f02e2['y']/_0x17c69d['y'],this;}['divScalar'](_0x1ce697){return this['x']/=_0x1ce697,this['y']/=_0x1ce697,this;}['dot'](_0x179d21){return this['x']*_0x179d21['x']+this['y']*_0x179d21['y'];}['equals'](_0x8ab67a){return this['x']===_0x8ab67a['x']&&this['y']===_0x8ab67a['y'];}['equalsAppr'+'ox'](_0x12967d,_0x557ffb=-0x42*0xa+-0x53+0x2e7+0.000001){return Math['abs'](this['x']-_0x12967d['x'])<_0x557ffb&&Math['abs'](this['y']-_0x12967d['y'])<_0x557ffb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x1c7694,_0x8680b4,_0x13445d){return this['x']=_0x1c7694['x']+_0x13445d*(_0x8680b4['x']-_0x1c7694['x']),this['y']=_0x1c7694['y']+_0x13445d*(_0x8680b4['y']-_0x1c7694['y']),this;}['mul'](_0x3727bf){return this['x']*=_0x3727bf['x'],this['y']*=_0x3727bf['y'],this;}['mul2'](_0x1dcbec,_0x135eb9){return this['x']=_0x1dcbec['x']*_0x135eb9['x'],this['y']=_0x1dcbec['y']*_0x135eb9['y'],this;}['mulScalar'](_0x27be27){return this['x']*=_0x27be27,this['y']*=_0x27be27,this;}['normalize'](_0x3f61f3=this){const _0x55ee34=_0x3f61f3['x']*_0x3f61f3['x']+_0x3f61f3['y']*_0x3f61f3['y'];if(_0x55ee34>0x6c*0x3a+-0x1*0xb4d+0x1*-0xd2b){const _0x24234c=(0x47*0x5f+0x2*-0xcaa+0xa*-0x1a)/Math['sqrt'](_0x55ee34);this['x']=_0x3f61f3['x']*_0x24234c,this['y']=_0x3f61f3['y']*_0x24234c;}return this;}['rotate'](_0x30741a){const _0x8165f0=Math['atan2'](this['x'],this['y'])+_0x30741a*Y['DEG_TO_RAD'],_0x399a4c=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x8165f0)*_0x399a4c,this['y']=Math['cos'](_0x8165f0)*_0x399a4c,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x2b951e){return Math['atan2'](this['x']*_0x2b951e['y']+this['y']*_0x2b951e['x'],this['x']*_0x2b951e['x']+this['y']*_0x2b951e['y'])*Y['RAD_TO_DEG'];}['floor'](_0x2759cd=this){return this['x']=Math['floor'](_0x2759cd['x']),this['y']=Math['floor'](_0x2759cd['y']),this;}['ceil'](_0x328092=this){return this['x']=Math['ceil'](_0x328092['x']),this['y']=Math['ceil'](_0x328092['y']),this;}['round'](_0x2dba56=this){return this['x']=Math['round'](_0x2dba56['x']),this['y']=Math['round'](_0x2dba56['y']),this;}['min'](_0x38fbf7){return _0x38fbf7['x']<this['x']&&(this['x']=_0x38fbf7['x']),_0x38fbf7['y']<this['y']&&(this['y']=_0x38fbf7['y']),this;}['max'](_0x21ab03){return _0x21ab03['x']>this['x']&&(this['x']=_0x21ab03['x']),_0x21ab03['y']>this['y']&&(this['y']=_0x21ab03['y']),this;}['set'](_0x312e6b,_0x5634ed){return this['x']=_0x312e6b,this['y']=_0x5634ed,this;}['sub'](_0xb27fc3){return this['x']-=_0xb27fc3['x'],this['y']-=_0xb27fc3['y'],this;}['sub2'](_0x36505e,_0x416202){return this['x']=_0x36505e['x']-_0x416202['x'],this['y']=_0x36505e['y']-_0x416202['y'],this;}['subScalar'](_0x1a47e6){return this['x']-=_0x1a47e6,this['y']-=_0x1a47e6,this;}['fromArray'](_0x2b3271,_0x1be369=0x1b14+-0x425+-0x39*0x67){return this['x']=_0x2b3271[_0x1be369]??this['x'],this['y']=_0x2b3271[_0x1be369+(-0x2164+-0x632+0x2797)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x49eb4c=[],_0x2ebdef=-0x2f5+0x701*0x1+-0x40c){return _0x49eb4c[_0x2ebdef]=this['x'],_0x49eb4c[_0x2ebdef+(-0x1588+-0xabd*0x1+0x36*0x99)]=this['y'],_0x49eb4c;}static['angleRad'](_0x899276,_0x2f5a16){return Math['atan2'](_0x899276['x']*_0x2f5a16['y']-_0x899276['y']*_0x2f5a16['x'],_0x899276['x']*_0x2f5a16['x']+_0x899276['y']*_0x2f5a16['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x1718+0x1fb5*0x1+-0x36cd,-0x7*0x2ad+0x1128+0x1*0x193))),h(Gt,'HALF',Object['freeze'](new Gt(0xdfb+0xa6f*0x1+-0x186a+0.5,0x5b1*-0x1+-0x2185+0x3*0xd12+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x21aa+0x1697+-0x2c5*-0x4,-0x131c+-0x2*0x45a+0x1bd1))),h(Gt,'UP',Object['freeze'](new Gt(0x1b8e+0x3d1*0x6+-0xc9d*0x4,0x1*-0x1898+-0x1*-0xd9f+0xafa))),h(Gt,'DOWN',Object['freeze'](new Gt(0x20d3*-0x1+0x49d+0x1c36*0x1,-(0x1df0+0x1*0xc3e+-0x2a2d*0x1)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x2215+-0x1*0x26a5+0x491,-0x2f3*-0x1+-0x1615*0x1+0x1322))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x1*0x21cb+0x46+-0x2210),0x28e*0x3+0x1*0x18c1+-0x206b)));let J=Gt;const pr=class pr{constructor(_0xb5c248=0xf07*0x1+-0x1*0x31d+-0x5*0x262,_0x7896ac=0xb29*-0x2+-0x1*0x1a2d+0x307f*0x1,_0xaa44ab=-0x1c91+0x790*-0x4+0x3ad1,_0x3bf55c=-0x2583+-0x1*0x1327+0x38aa){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0xb5c248['length']===-0x3*-0x819+0x4fd+-0xea2*0x2?(this['x']=_0xb5c248[0x257a+-0x1*0x1e42+-0x738],this['y']=_0xb5c248[0x254b+0x1cdb+-0x29*0x19d],this['z']=_0xb5c248[0xd*-0x219+-0x1e79+0x39c0],this['w']=_0xb5c248[-0x2067+-0x101*-0xc+0x1*0x145e]):(this['x']=_0xb5c248,this['y']=_0x7896ac,this['z']=_0xaa44ab,this['w']=_0x3bf55c);}['add'](_0x5c42a6){return this['x']+=_0x5c42a6['x'],this['y']+=_0x5c42a6['y'],this['z']+=_0x5c42a6['z'],this['w']+=_0x5c42a6['w'],this;}['add2'](_0x18dfc5,_0x248d6d){return this['x']=_0x18dfc5['x']+_0x248d6d['x'],this['y']=_0x18dfc5['y']+_0x248d6d['y'],this['z']=_0x18dfc5['z']+_0x248d6d['z'],this['w']=_0x18dfc5['w']+_0x248d6d['w'],this;}['addScalar'](_0x8fd5d8){return this['x']+=_0x8fd5d8,this['y']+=_0x8fd5d8,this['z']+=_0x8fd5d8,this['w']+=_0x8fd5d8,this;}['addScaled'](_0x287ca8,_0x26f1b3){return this['x']+=_0x287ca8['x']*_0x26f1b3,this['y']+=_0x287ca8['y']*_0x26f1b3,this['z']+=_0x287ca8['z']*_0x26f1b3,this['w']+=_0x287ca8['w']*_0x26f1b3,this;}['clone'](){const _0x567967=this['constructo'+'r'];return new _0x567967(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x5d3be3){return this['x']=_0x5d3be3['x'],this['y']=_0x5d3be3['y'],this['z']=_0x5d3be3['z'],this['w']=_0x5d3be3['w'],this;}['div'](_0x351587){return this['x']/=_0x351587['x'],this['y']/=_0x351587['y'],this['z']/=_0x351587['z'],this['w']/=_0x351587['w'],this;}['div2'](_0x7925cb,_0x547f50){return this['x']=_0x7925cb['x']/_0x547f50['x'],this['y']=_0x7925cb['y']/_0x547f50['y'],this['z']=_0x7925cb['z']/_0x547f50['z'],this['w']=_0x7925cb['w']/_0x547f50['w'],this;}['divScalar'](_0x3cc9c1){return this['x']/=_0x3cc9c1,this['y']/=_0x3cc9c1,this['z']/=_0x3cc9c1,this['w']/=_0x3cc9c1,this;}['dot'](_0x4ba47c){return this['x']*_0x4ba47c['x']+this['y']*_0x4ba47c['y']+this['z']*_0x4ba47c['z']+this['w']*_0x4ba47c['w'];}['equals'](_0x352868){return this['x']===_0x352868['x']&&this['y']===_0x352868['y']&&this['z']===_0x352868['z']&&this['w']===_0x352868['w'];}['equalsAppr'+'ox'](_0x5f32a9,_0x43c94a=-0x1dff+0x608+0x17f7+0.000001){return Math['abs'](this['x']-_0x5f32a9['x'])<_0x43c94a&&Math['abs'](this['y']-_0x5f32a9['y'])<_0x43c94a&&Math['abs'](this['z']-_0x5f32a9['z'])<_0x43c94a&&Math['abs'](this['w']-_0x5f32a9['w'])<_0x43c94a;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x595ae5,_0x40d305,_0x37bdcb){return this['x']=_0x595ae5['x']+_0x37bdcb*(_0x40d305['x']-_0x595ae5['x']),this['y']=_0x595ae5['y']+_0x37bdcb*(_0x40d305['y']-_0x595ae5['y']),this['z']=_0x595ae5['z']+_0x37bdcb*(_0x40d305['z']-_0x595ae5['z']),this['w']=_0x595ae5['w']+_0x37bdcb*(_0x40d305['w']-_0x595ae5['w']),this;}['mul'](_0x27c320){return this['x']*=_0x27c320['x'],this['y']*=_0x27c320['y'],this['z']*=_0x27c320['z'],this['w']*=_0x27c320['w'],this;}['mul2'](_0x24abdd,_0x30b51b){return this['x']=_0x24abdd['x']*_0x30b51b['x'],this['y']=_0x24abdd['y']*_0x30b51b['y'],this['z']=_0x24abdd['z']*_0x30b51b['z'],this['w']=_0x24abdd['w']*_0x30b51b['w'],this;}['mulScalar'](_0x31ec7c){return this['x']*=_0x31ec7c,this['y']*=_0x31ec7c,this['z']*=_0x31ec7c,this['w']*=_0x31ec7c,this;}['normalize'](_0x18c5e0=this){const _0x219022=_0x18c5e0['x']*_0x18c5e0['x']+_0x18c5e0['y']*_0x18c5e0['y']+_0x18c5e0['z']*_0x18c5e0['z']+_0x18c5e0['w']*_0x18c5e0['w'];if(_0x219022>-0xf1a+0xfd2+0x4*-0x2e){const _0x201e35=(0x24aa+0x1a8a+-0x3f33)/Math['sqrt'](_0x219022);this['x']=_0x18c5e0['x']*_0x201e35,this['y']=_0x18c5e0['y']*_0x201e35,this['z']=_0x18c5e0['z']*_0x201e35,this['w']=_0x18c5e0['w']*_0x201e35;}return this;}['floor'](_0x3f1f5e=this){return this['x']=Math['floor'](_0x3f1f5e['x']),this['y']=Math['floor'](_0x3f1f5e['y']),this['z']=Math['floor'](_0x3f1f5e['z']),this['w']=Math['floor'](_0x3f1f5e['w']),this;}['ceil'](_0x261332=this){return this['x']=Math['ceil'](_0x261332['x']),this['y']=Math['ceil'](_0x261332['y']),this['z']=Math['ceil'](_0x261332['z']),this['w']=Math['ceil'](_0x261332['w']),this;}['round'](_0x3f2b25=this){return this['x']=Math['round'](_0x3f2b25['x']),this['y']=Math['round'](_0x3f2b25['y']),this['z']=Math['round'](_0x3f2b25['z']),this['w']=Math['round'](_0x3f2b25['w']),this;}['min'](_0x144d4e){return _0x144d4e['x']<this['x']&&(this['x']=_0x144d4e['x']),_0x144d4e['y']<this['y']&&(this['y']=_0x144d4e['y']),_0x144d4e['z']<this['z']&&(this['z']=_0x144d4e['z']),_0x144d4e['w']<this['w']&&(this['w']=_0x144d4e['w']),this;}['max'](_0x1a4815){return _0x1a4815['x']>this['x']&&(this['x']=_0x1a4815['x']),_0x1a4815['y']>this['y']&&(this['y']=_0x1a4815['y']),_0x1a4815['z']>this['z']&&(this['z']=_0x1a4815['z']),_0x1a4815['w']>this['w']&&(this['w']=_0x1a4815['w']),this;}['set'](_0x37e8b3,_0x405f40,_0x437627,_0x36cb2c){return this['x']=_0x37e8b3,this['y']=_0x405f40,this['z']=_0x437627,this['w']=_0x36cb2c,this;}['sub'](_0x178ac0){return this['x']-=_0x178ac0['x'],this['y']-=_0x178ac0['y'],this['z']-=_0x178ac0['z'],this['w']-=_0x178ac0['w'],this;}['sub2'](_0x3d8222,_0x1eac40){return this['x']=_0x3d8222['x']-_0x1eac40['x'],this['y']=_0x3d8222['y']-_0x1eac40['y'],this['z']=_0x3d8222['z']-_0x1eac40['z'],this['w']=_0x3d8222['w']-_0x1eac40['w'],this;}['subScalar'](_0xebfc9c){return this['x']-=_0xebfc9c,this['y']-=_0xebfc9c,this['z']-=_0xebfc9c,this['w']-=_0xebfc9c,this;}['fromArray'](_0x27f507,_0x55093c=0x7*-0x245+-0xf57+0x1f3a){return this['x']=_0x27f507[_0x55093c]??this['x'],this['y']=_0x27f507[_0x55093c+(0x252c+-0xa7c+-0x1aaf)]??this['y'],this['z']=_0x27f507[_0x55093c+(0x1*-0x2f2+-0xbd*-0x21+-0x1569)]??this['z'],this['w']=_0x27f507[_0x55093c+(0x209a+-0x1c*0x43+-0x1943)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x523ba5=[],_0x485f97=0x2*0x160+-0x351*-0x1+-0x611*0x1){return _0x523ba5[_0x485f97]=this['x'],_0x523ba5[_0x485f97+(-0x16*-0x2c+0x19d9+0x4*-0x768)]=this['y'],_0x523ba5[_0x485f97+(-0x22c*0xd+0x4*0x93e+0x8ba*-0x1)]=this['z'],_0x523ba5[_0x485f97+(0x1a1f+0x41f*-0x8+0x6dc)]=this['w'],_0x523ba5;}};h(pr,'ZERO',Object['freeze'](new pr(-0x2e8*0xa+0x1033+0xcdd*0x1,-0xa21*0x1+0xf2a+0x1*-0x509,0x13a+-0x1*0x8ab+0x771,0x21*0x11a+-0x1087*0x2+-0x34c))),h(pr,'HALF',Object['freeze'](new pr(0x1909+-0x158b*0x1+0x12a*-0x3+0.5,0x575+0xa*0x373+-0x27f3+0.5,0x953+0x20*0xd3+-0x23b3+0.5,-0x278*-0xb+0x7c+-0x1ba4+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0x7ff+-0x85b+0x4f*0x35,-0x177a+-0x20b4+0x382f,0x20e5+-0x1aab+-0x3*0x213,-0x829*0x3+-0x241*-0x2+0x13fa)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x1*-0x619+0x1803+-0x1*0x11da)),this['data'][0x18b3+-0x1496+0x1*-0x41d]=this['data'][-0xa2a*-0x1+-0x16be*-0x1+-0x20e3]=this['data'][0x2*-0x829+0x17e1+0x4d*-0x19]=this['data'][0x14c9+0x193b+0xd*-0x389]=0x180d+-0xb62+0x2*-0x655;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x26661f,_0x5058d4,_0x72ca40,_0x5a78da,_0x59a310){_0x59a310?(_0x26661f['x']=_0x5a78da*Math['tan'](_0x5058d4*Math['PI']/(0xaa*-0x1e+-0x322+0x1876)),_0x26661f['y']=_0x26661f['x']/_0x72ca40):(_0x26661f['y']=_0x5a78da*Math['tan'](_0x5058d4*Math['PI']/(-0x1b6a+-0x1f8a+-0x3c5c*-0x1)),_0x26661f['x']=_0x26661f['y']*_0x72ca40);}['add2'](_0x3388eb,_0x50de18){const _0x108f61=_0x3388eb['data'],_0x3bb5d3=_0x50de18['data'],_0x53f713=this['data'];return _0x53f713[-0x5*-0x3fa+0x4*0x4bb+-0x26ce]=_0x108f61[-0xded+0x2668+-0x187b]+_0x3bb5d3[0x1c5b+-0x285+-0x19d6],_0x53f713[0x12d1*0x2+-0xf*0x19f+-0x8e*0x18]=_0x108f61[-0x1c24+0x2628+-0xa03]+_0x3bb5d3[0x29*0xe4+0x1445*-0x1+-0xbd*0x16],_0x53f713[0x1c*0x76+-0x1589+0x8a3]=_0x108f61[-0x1ce5+-0x7*0x23b+0x2c84]+_0x3bb5d3[-0x1993+0x1*0x3fd+0x1598],_0x53f713[-0x129f+0xbc0+0x6e2]=_0x108f61[-0xd*-0x117+-0xef2*0x1+0xca]+_0x3bb5d3[0x17ea*-0x1+0x1749+0x2*0x52],_0x53f713[-0x73*0xb+0xd2d*-0x2+0x1f4f]=_0x108f61[-0x377+-0xe9*0xa+0xc95]+_0x3bb5d3[0x1*0xbf+0x4*-0x155+-0x1*-0x499],_0x53f713[0x44*-0x8f+0xdc0+0x1841]=_0x108f61[-0x25e6+-0x1183*0x1+0x2b*0x14a]+_0x3bb5d3[0x212c+-0x5c*-0x1a+0xb*-0x3dd],_0x53f713[0x10a3*-0x2+-0x53*0x17+0x1*0x28c1]=_0x108f61[-0x15a3+-0x44b+0x19f4]+_0x3bb5d3[-0x1ca+-0x29*0x3e+0xbbe],_0x53f713[-0x177+0x1*-0x1965+0x1ae3]=_0x108f61[0x5*0x384+0x28e+-0x141b]+_0x3bb5d3[0x17*-0x86+0x1*-0x139+0xd4a],_0x53f713[-0x454+0xf*-0x14f+0x7ff*0x3]=_0x108f61[-0x1bd1+-0x87*-0x1b+0xd9c]+_0x3bb5d3[0x1*-0xc6f+-0x1a3b+0x26b2],_0x53f713[0x1dd+0x8*0x247+-0x1*0x140c]=_0x108f61[0x23ad*0x1+-0x16eb*-0x1+-0x3a8f]+_0x3bb5d3[0xcb9+0xef3+0x11b*-0x19],_0x53f713[-0x1*0x1765+0x139b*0x1+0xe*0x46]=_0x108f61[0x1af7+0x14a1*0x1+-0x7ed*0x6]+_0x3bb5d3[-0x10ba+0x1*0x8cb+0x7f9],_0x53f713[0x9a3+-0x1a51*0x1+0x10b9]=_0x108f61[-0x4*-0x969+-0x715*-0x1+-0x2cae]+_0x3bb5d3[0x1d31+-0x12*0x89+0x2*-0x9c2],_0x53f713[0x71*0x6+0x6*0x141+-0x360*0x3]=_0x108f61[0x43*-0x17+-0x2367+0x2978]+_0x3bb5d3[0x1e8*0x1+-0x1e6f+-0xd1*-0x23],_0x53f713[0x2667+-0x2*-0x1af+-0x29b8]=_0x108f61[0x1540+0x8b6+-0x1de9]+_0x3bb5d3[-0x99f+0x26b6*-0x1+0x3062],_0x53f713[-0x7f*0x21+-0x18a5*0x1+-0x7*-0x5de]=_0x108f61[0x1294+0x2*-0x3c9+-0xaf4]+_0x3bb5d3[0x3a*-0x1c+0x41a+0xe*0x2a],_0x53f713[-0x4b1+0x80f*-0x1+0xccf*0x1]=_0x108f61[-0x5*-0x6c6+-0xf63+-0x126c]+_0x3bb5d3[-0x5*0xb3+0x2017+-0x5b5*0x5],this;}['add'](_0x17630f){return this['add2'](this,_0x17630f);}['clone'](){const _0x2527d0=this['constructo'+'r'];return new _0x2527d0()['copy'](this);}['copy'](_0x7947ae){const _0x5e0fbe=_0x7947ae['data'],_0x2a659c=this['data'];return _0x2a659c[0x1ed5+0x1353+0x2*-0x1914]=_0x5e0fbe[-0x25ad+0xa78+0x1b35],_0x2a659c[0x1e1c+-0xc4d*0x1+-0x11ce]=_0x5e0fbe[0x8*0x498+-0xd+-0x24b2],_0x2a659c[-0xa5*0x1b+0x1*0x24c7+0x86*-0x25]=_0x5e0fbe[-0xa6*0x14+0xce*0x11+0x3*-0x3c],_0x2a659c[-0x218c*0x1+-0x1c2b*-0x1+0x14*0x45]=_0x5e0fbe[0x1f5b+0x1be7+-0x3b3f],_0x2a659c[-0x2207+0x1065*0x1+0x1*0x11a6]=_0x5e0fbe[-0x1*-0x17b6+-0x1813*0x1+0x61],_0x2a659c[0x14d8+-0x6d8+-0x4a9*0x3]=_0x5e0fbe[-0xa36+0x1976*0x1+-0x7*0x22d],_0x2a659c[0x6c2*0x2+0x1*-0x18d+-0xbf1]=_0x5e0fbe[-0x1*-0x25f9+-0x706+-0xd*0x261],_0x2a659c[0x1d57*-0x1+-0xcda+0x4*0xa8e]=_0x5e0fbe[0x1d6+-0x8d5+0x1f*0x3a],_0x2a659c[0x2536+-0x4*0x2b+-0x2*0x1241]=_0x5e0fbe[0x7f3*0x1+0x22*-0x121+0x1e77],_0x2a659c[0x95*-0x3b+-0xbf5+0x2e55]=_0x5e0fbe[-0x1*-0xf93+0x15b2+-0x94f*0x4],_0x2a659c[-0x3d*0x5f+0x1*0xf2b+0x3e*0x1f]=_0x5e0fbe[0x3*-0x39b+-0x13b4+-0x1*-0x1e8f],_0x2a659c[-0x2*-0xc83+0x92*0x9+-0x1e1d]=_0x5e0fbe[-0xb5a*0x1+-0x6e6+-0x7*-0x29d],_0x2a659c[-0x1ab8+0x42*-0x2f+0x15*0x1da]=_0x5e0fbe[-0x1ea0+-0x705+0x25b1*0x1],_0x2a659c[-0x1b4d*-0x1+0x78+0xddc*-0x2]=_0x5e0fbe[0x425*-0x1+0xa7a*0x3+-0x1b3c],_0x2a659c[-0x1f48+0x20e7*-0x1+0x8f*0x73]=_0x5e0fbe[0x1*0x19a3+-0x205+-0x1790],_0x2a659c[-0x1fcb+-0x13de+0x33b8]=_0x5e0fbe[-0x74d*-0x2+-0x285+-0x36*0x39],this;}['equals'](_0x5bfa00){const _0x4c18ac=this['data'],_0x5687cf=_0x5bfa00['data'];return _0x4c18ac[-0x1*0x515+0x14e3+-0xfce]===_0x5687cf[0xc27+0x5ef+0x1*-0x1216]&&_0x4c18ac[-0x1916+-0x627*-0x5+-0x5ac]===_0x5687cf[-0x23*0xc7+0x84b*-0x3+0x3417]&&_0x4c18ac[0x2452+-0x1*0x109+-0x2347]===_0x5687cf[0x1ba1*-0x1+-0xe6f*-0x1+0xd34]&&_0x4c18ac[-0x1*0xf3b+0xb75+0x3c9]===_0x5687cf[0x1*-0x1b74+-0x9d7+0x254e]&&_0x4c18ac[0x10d+-0xec8+-0x1*-0xdbf]===_0x5687cf[0xec5+-0xda5*-0x1+-0x1c66]&&_0x4c18ac[-0x1f7c+0x7*-0x11+-0x155*-0x18]===_0x5687cf[0x1aa+0x1276*0x1+-0x141b]&&_0x4c18ac[-0x1fe+0x12f4*0x1+0x2*-0x878]===_0x5687cf[-0x5*0x689+0x357+-0x757*-0x4]&&_0x4c18ac[-0x11cd*-0x2+0xa0d*-0x2+-0x11*0xe9]===_0x5687cf[-0x2169+-0x27c+0x23ec]&&_0x4c18ac[0x1*0x20ff+0x1aac+0x13e1*-0x3]===_0x5687cf[-0x23bf*-0x1+-0x1e97+-0x520]&&_0x4c18ac[-0x1*-0x14e6+0x5c*0x28+-0x1*0x233d]===_0x5687cf[0x262+0x264e+0x3*-0xd8d]&&_0x4c18ac[0x1dd7+0xe*-0x19d+-0x1*0x737]===_0x5687cf[0xeb3+0x191c+-0x27c5]&&_0x4c18ac[-0x114+-0x1b7d+0x1c9c]===_0x5687cf[0x112+0x1f04+-0x200b]&&_0x4c18ac[0x1f11*-0x1+-0x6*-0x5b3+-0x315]===_0x5687cf[-0x392+-0x1*0x1801+0x1*0x1b9f]&&_0x4c18ac[-0x960+-0x61f*0x1+-0x31c*-0x5]===_0x5687cf[-0xfd2+0x8*0x3d7+-0xed9]&&_0x4c18ac[-0x1e9c+0x127f*0x2+-0x654]===_0x5687cf[-0x340*0x9+-0x50*-0x12+0x17ae]&&_0x4c18ac[-0x75c+0xf6c+-0x801]===_0x5687cf[0x27*0x55+-0xbc7+-0x11d];}['isIdentity'](){const _0x37a5a9=this['data'];return _0x37a5a9[0xde0+-0x1*0x107f+0x29f]===0x24f4+-0x10*-0x49+0x1*-0x2983&&_0x37a5a9[-0xa*-0x3c9+0x120a+0x13*-0x2f1]===-0x14c4+-0xc*-0x27d+-0x918&&_0x37a5a9[0x1*0x19ee+-0x24c+-0x18*0xfc]===-0x5*0x166+0x2547*-0x1+0x2c45&&_0x37a5a9[0x37*0x80+-0x2577+0x9fa*0x1]===0xc15*-0x3+0x27*0x2e+-0x1f3*-0xf&&_0x37a5a9[-0x1914+0x191*-0xb+0x37*0xc5]===0x248f+0x1674+0x3b03*-0x1&&_0x37a5a9[0x1943+0x1e29*0x1+-0x3767]===-0x1661+-0xf69+0x25cb&&_0x37a5a9[-0xb*0xa8+-0x280*0x8+0x1b3e]===0xffb+0x1*0x1849+-0x6*0x6b6&&_0x37a5a9[0x1980*0x1+0x3b*0x9d+-0x3da8]===-0x10ff+0xd57*-0x1+0x161*0x16&&_0x37a5a9[-0x67d+0x1371+-0xcec]===-0x15e1+-0x879+0x1e5a&&_0x37a5a9[0x1*0x8d9+0xc1*0x2b+0x83f*-0x5]===0x1d69+0x44+-0x6b*0x47&&_0x37a5a9[0x2016+0xddf+-0x2deb]===0x1021+-0x1021+0x1*0x1&&_0x37a5a9[-0xbfe+-0xc8f+0x1898]===0x7*-0x45f+-0x1a8*-0x10+0x419&&_0x37a5a9[-0xc1f+-0x1*-0x1ca+0x1*0xa61]===0xc01+0x13c0+-0x1fc1&&_0x37a5a9[-0xb0f+-0x8e*-0x21+-0x399*0x2]===-0x1953+-0xba4+0x24f7&&_0x37a5a9[-0xb8e+-0x28a+0xe26]===0x227d+0x41d+-0x269a&&_0x37a5a9[0x1362+0x37*0x3a+0x1*-0x1fc9]===-0x2239+-0x20c4+0x42fe;}['mul2'](_0x37a36e,_0x1c419b){const _0x24eaa4=_0x37a36e['data'],_0x575743=_0x1c419b['data'],_0x4702b5=this['data'],_0x461269=_0x24eaa4[-0x2b*-0x1f+-0xadc+0x5a7],_0x40900e=_0x24eaa4[0x12e2+-0x2022*-0x1+-0x3303],_0x13f41b=_0x24eaa4[-0xd*0x2bd+0x32e+0x206d],_0xc424f2=_0x24eaa4[-0x1dfc+-0xd73+-0x53*-0x86],_0x4fe396=_0x24eaa4[0x13ca+-0xb13+0x8b3*-0x1],_0x795d61=_0x24eaa4[0x2*-0x853+0x204c+-0x1*0xfa1],_0x442f33=_0x24eaa4[0x239f*-0x1+0x24ce+-0x129],_0x5c679a=_0x24eaa4[-0x3*0xb8b+0x9e*-0xf+0x2bea],_0x11d215=_0x24eaa4[0x2*0xd8b+0xf*-0x55+-0x1613],_0x462d6a=_0x24eaa4[0x367+-0x7*0x73+-0x39],_0x258160=_0x24eaa4[0xd33*-0x1+-0x1*0x1749+0x2486],_0x55e768=_0x24eaa4[0xb*0xb2+0x108*0x20+-0x3*0xd89],_0x47c9ce=_0x24eaa4[0x22cb+-0xb*-0xc1+-0x2b0a],_0x24fa4=_0x24eaa4[-0x183*0x4+-0x7b*0x31+0x1da4],_0x30acd8=_0x24eaa4[0x581*-0x4+0x1987+0x127*-0x3],_0x193ec5=_0x24eaa4[-0x23e3+-0x1544+0x3936];let _0x441762,_0x1d8f23,_0x219617,_0x5909b8;return _0x441762=_0x575743[-0xe4e+-0x9*0x3b3+0x1*0x2f99],_0x1d8f23=_0x575743[-0x1b50+0x681*-0x5+0x3bd6],_0x219617=_0x575743[-0x7*0x571+0x17e*0x3+0x1*0x219f],_0x5909b8=_0x575743[0x9*0x204+0x13*-0x180+0xa5f],_0x4702b5[0x920+-0x17b*0x13+0x1301]=_0x461269*_0x441762+_0x4fe396*_0x1d8f23+_0x11d215*_0x219617+_0x47c9ce*_0x5909b8,_0x4702b5[-0x1*0x2e5+-0x46*-0x61+-0x8*0x2f4]=_0x40900e*_0x441762+_0x795d61*_0x1d8f23+_0x462d6a*_0x219617+_0x24fa4*_0x5909b8,_0x4702b5[0x173f+-0x1adf*-0x1+-0x321c]=_0x13f41b*_0x441762+_0x442f33*_0x1d8f23+_0x258160*_0x219617+_0x30acd8*_0x5909b8,_0x4702b5[0x4*-0x4c5+-0x717+0xd17*0x2]=_0xc424f2*_0x441762+_0x5c679a*_0x1d8f23+_0x55e768*_0x219617+_0x193ec5*_0x5909b8,_0x441762=_0x575743[0xa3a+0x16b5+-0x20eb],_0x1d8f23=_0x575743[0x1ab8+-0x8f3+-0x11c0],_0x219617=_0x575743[-0x2*-0x31e+0x1*-0x825+0x1ef],_0x5909b8=_0x575743[0x12d7+0x1e92*-0x1+0x12d*0xa],_0x4702b5[0x2673*0x1+0x66c+0x1*-0x2cdb]=_0x461269*_0x441762+_0x4fe396*_0x1d8f23+_0x11d215*_0x219617+_0x47c9ce*_0x5909b8,_0x4702b5[0x5bb+-0x16a2+0x43b*0x4]=_0x40900e*_0x441762+_0x795d61*_0x1d8f23+_0x462d6a*_0x219617+_0x24fa4*_0x5909b8,_0x4702b5[0x2157+-0x1f9d+0x2*-0xda]=_0x13f41b*_0x441762+_0x442f33*_0x1d8f23+_0x258160*_0x219617+_0x30acd8*_0x5909b8,_0x4702b5[-0x83e*0x1+0x12fd+-0xab8]=_0xc424f2*_0x441762+_0x5c679a*_0x1d8f23+_0x55e768*_0x219617+_0x193ec5*_0x5909b8,_0x441762=_0x575743[0x448+0x14fa+-0x193a],_0x1d8f23=_0x575743[-0x1265+-0x10d+0x137b],_0x219617=_0x575743[-0xa9d+-0x1f*0x91+0x13a*0x17],_0x5909b8=_0x575743[0x1*-0x5ad+-0x2*0xf5f+0x2476],_0x4702b5[-0x9c9*0x3+0x206+0x1b5d]=_0x461269*_0x441762+_0x4fe396*_0x1d8f23+_0x11d215*_0x219617+_0x47c9ce*_0x5909b8,_0x4702b5[0x1d21+0x152f+-0x3247]=_0x40900e*_0x441762+_0x795d61*_0x1d8f23+_0x462d6a*_0x219617+_0x24fa4*_0x5909b8,_0x4702b5[-0x98a+-0x2522+0x3*0xf92]=_0x13f41b*_0x441762+_0x442f33*_0x1d8f23+_0x258160*_0x219617+_0x30acd8*_0x5909b8,_0x4702b5[-0x9*0x20b+0xd3e+0x530]=_0xc424f2*_0x441762+_0x5c679a*_0x1d8f23+_0x55e768*_0x219617+_0x193ec5*_0x5909b8,_0x441762=_0x575743[0x56*0x1+-0x1d5b+-0x1d11*-0x1],_0x1d8f23=_0x575743[-0x63b+0x15b9+-0xf71],_0x219617=_0x575743[-0x1*0x9bb+-0xdf8+-0x3*-0x7eb],_0x5909b8=_0x575743[-0xc7*-0x1+0x2482+-0x772*0x5],_0x4702b5[-0x75f+-0x905*0x1+0x1070*0x1]=_0x461269*_0x441762+_0x4fe396*_0x1d8f23+_0x11d215*_0x219617+_0x47c9ce*_0x5909b8,_0x4702b5[0x1*-0x1bb9+-0x2*0x1190+0x3ee6]=_0x40900e*_0x441762+_0x795d61*_0x1d8f23+_0x462d6a*_0x219617+_0x24fa4*_0x5909b8,_0x4702b5[-0x9*0xe8+-0x2*-0x12c1+0xa*-0x2ee]=_0x13f41b*_0x441762+_0x442f33*_0x1d8f23+_0x258160*_0x219617+_0x30acd8*_0x5909b8,_0x4702b5[0x1069*-0x1+0x4*-0x511+0x24bc*0x1]=_0xc424f2*_0x441762+_0x5c679a*_0x1d8f23+_0x55e768*_0x219617+_0x193ec5*_0x5909b8,this;}['mulAffine2'](_0xdcd3a7,_0x15f558){const _0x222057=_0xdcd3a7['data'],_0x12cfe5=_0x15f558['data'],_0x3ece62=this['data'],_0x363d06=_0x222057[-0x25e3+-0xbd+-0x20*-0x135],_0x36b941=_0x222057[0xa8*0xd+-0x1*-0x91b+-0x11a2],_0x518fba=_0x222057[-0x1529+0x1ec3+0x2*-0x4cc],_0x731fc5=_0x222057[-0x14dc+0x509*-0x2+0x1ef2],_0x43087e=_0x222057[0x21*-0xd9+0x22*0x95+0x5*0x1a4],_0x3b9387=_0x222057[0x9*0x1ab+-0xeef+-0xe],_0x9e57fa=_0x222057[-0x1f9*-0x6+0x153f+-0x210d*0x1],_0x2af180=_0x222057[0x2695+-0x1e35+-0x857],_0x5cbe6e=_0x222057[-0xdb3+0x25d5+-0x606*0x4],_0x16d589=_0x222057[0x1*-0xe2f+-0x15d*-0xf+-0x638],_0x3a0e5a=_0x222057[0x1e23+0x423*0x1+0x1*-0x2239],_0x47b945=_0x222057[0xc2*0x2+0x4af*-0x2+0x7e8*0x1];let _0x491cfe,_0x19abd5,_0x10f79f;return _0x491cfe=_0x12cfe5[-0x377*0x3+-0x7*0x3+0xa7a],_0x19abd5=_0x12cfe5[-0x1bb*-0x11+0x1a27+-0x19*0x239],_0x10f79f=_0x12cfe5[0x2*-0xac+-0x1313+-0x146d*-0x1],_0x3ece62[-0x1*0x5ad+-0x21*-0x83+0x23e*-0x5]=_0x363d06*_0x491cfe+_0x731fc5*_0x19abd5+_0x9e57fa*_0x10f79f,_0x3ece62[-0x527*0x1+0x2*-0x704+0x1330]=_0x36b941*_0x491cfe+_0x43087e*_0x19abd5+_0x2af180*_0x10f79f,_0x3ece62[0x6c3*-0x2+-0x1bcd+0x2955]=_0x518fba*_0x491cfe+_0x3b9387*_0x19abd5+_0x5cbe6e*_0x10f79f,_0x3ece62[0xd*-0x67+-0x12ee*0x2+0xe5e*0x3]=0x2321+0x1497+-0x37b8,_0x491cfe=_0x12cfe5[0xe7*0x27+-0x38+0x1*-0x22f5],_0x19abd5=_0x12cfe5[-0x5*-0x43b+0x814+-0x1d36],_0x10f79f=_0x12cfe5[0x2*-0x10f5+0x13*-0x149+-0x3a5b*-0x1],_0x3ece62[0x1922+0x892+-0x21b0]=_0x363d06*_0x491cfe+_0x731fc5*_0x19abd5+_0x9e57fa*_0x10f79f,_0x3ece62[-0xb23*-0x1+0x9ae*-0x3+0x11ec]=_0x36b941*_0x491cfe+_0x43087e*_0x19abd5+_0x2af180*_0x10f79f,_0x3ece62[0x2bb+-0x1*-0xe41+-0x10f6]=_0x518fba*_0x491cfe+_0x3b9387*_0x19abd5+_0x5cbe6e*_0x10f79f,_0x3ece62[0x2102+-0x3c+-0x20bf]=0x1ef6+-0xb*0x8c+-0x1*0x18f2,_0x491cfe=_0x12cfe5[-0x25f4+-0xb27+0x3123],_0x19abd5=_0x12cfe5[0xcc6+-0x1a5*0x9+0x210],_0x10f79f=_0x12cfe5[0x246a+-0x1dd0+0x23*-0x30],_0x3ece62[0x1b4f*0x1+0x1022+-0x2b69*0x1]=_0x363d06*_0x491cfe+_0x731fc5*_0x19abd5+_0x9e57fa*_0x10f79f,_0x3ece62[0x2fc*0x6+-0x25f9+0xa6*0x1f]=_0x36b941*_0x491cfe+_0x43087e*_0x19abd5+_0x2af180*_0x10f79f,_0x3ece62[0x2*0xe51+0xd6*-0x1e+-0x384]=_0x518fba*_0x491cfe+_0x3b9387*_0x19abd5+_0x5cbe6e*_0x10f79f,_0x3ece62[0x690+-0x1c3a+0x1*0x15b5]=-0x48*-0x6e+0x2467*0x1+-0x1*0x4357,_0x491cfe=_0x12cfe5[-0x1a44+0x98c*0x1+0x10c4],_0x19abd5=_0x12cfe5[0x2278+0x1780+0x39eb*-0x1],_0x10f79f=_0x12cfe5[-0x14a0+0x21*0x4a+0xb24],_0x3ece62[-0x16*0x152+-0x2212+0x3f2a]=_0x363d06*_0x491cfe+_0x731fc5*_0x19abd5+_0x9e57fa*_0x10f79f+_0x16d589,_0x3ece62[0x1445+-0x9fd*-0x2+-0x2832]=_0x36b941*_0x491cfe+_0x43087e*_0x19abd5+_0x2af180*_0x10f79f+_0x3a0e5a,_0x3ece62[0x5dd+0x24a9+-0x2a78]=_0x518fba*_0x491cfe+_0x3b9387*_0x19abd5+_0x5cbe6e*_0x10f79f+_0x47b945,_0x3ece62[-0x3*-0x49+0x1*0x1537+0x467*-0x5]=0x46a+0x2371*-0x1+0x1f08,this;}['mul'](_0x1b5ba1){return this['mul2'](this,_0x1b5ba1);}['transformP'+'oint'](_0x10f2df,_0x4e99b7=new D()){const _0x5f1c88=this['data'],{x:_0x8c7b93,y:_0xbf8b7d,z:_0x52ff90}=_0x10f2df;return _0x4e99b7['x']=_0x8c7b93*_0x5f1c88[0x219f+0x1*0x11c3+0x19b1*-0x2]+_0xbf8b7d*_0x5f1c88[-0x70e+-0x1*0x2452+0x2b64]+_0x52ff90*_0x5f1c88[-0x398*-0x2+0x24a0+-0x2bc8]+_0x5f1c88[-0x1*0x1b25+-0x11*0x158+-0x3209*-0x1],_0x4e99b7['y']=_0x8c7b93*_0x5f1c88[-0x1*-0x1e59+-0xeed*0x2+-0x2*0x3f]+_0xbf8b7d*_0x5f1c88[0x10ba+-0x1eb+0x1*-0xeca]+_0x52ff90*_0x5f1c88[-0x23da+0x6ac+0x1d37*0x1]+_0x5f1c88[-0x2355+-0x1845+0x3ba7],_0x4e99b7['z']=_0x8c7b93*_0x5f1c88[-0x17f7+-0x2704+0x3efd]+_0xbf8b7d*_0x5f1c88[0x1cea*-0x1+-0xe1b+-0x3*-0xe59]+_0x52ff90*_0x5f1c88[0x1*-0x20d5+0x9a1*0x1+-0x173e*-0x1]+_0x5f1c88[-0x17d+0x1099+0x1*-0xf0e],_0x4e99b7;}['transformV'+'ector'](_0x4a1222,_0x11721d=new D()){const _0x500add=this['data'],{x:_0x3498e6,y:_0x40209f,z:_0x2f7eb0}=_0x4a1222;return _0x11721d['x']=_0x3498e6*_0x500add[0x1421*-0x1+0x143f+-0x1e]+_0x40209f*_0x500add[-0x2f*0xac+-0x4*-0x7db+0x16*0x2]+_0x2f7eb0*_0x500add[-0x809*-0x3+-0x1c7c+0x469*0x1],_0x11721d['y']=_0x3498e6*_0x500add[0x735+-0x1*0x2071+0x193d]+_0x40209f*_0x500add[-0xccb+0xad9+0x1f7*0x1]+_0x2f7eb0*_0x500add[0xad9+-0x149*-0x3+-0xeab],_0x11721d['z']=_0x3498e6*_0x500add[0x2*0x1c5+-0x3*-0x294+-0x2*0x5a2]+_0x40209f*_0x500add[0x1*0x4c7+-0x1d81*-0x1+-0x2242]+_0x2f7eb0*_0x500add[-0x1feb+0x8c1+-0x5a*-0x42],_0x11721d;}['transformV'+'ec4'](_0x13513d,_0x59a923=new re()){const _0x121a37=this['data'],{x:_0x462e1d,y:_0x41dac5,z:_0x3802d8,w:_0x58851f}=_0x13513d;return _0x59a923['x']=_0x462e1d*_0x121a37[-0x26da*0x1+-0x1c39+-0xb*-0x619]+_0x41dac5*_0x121a37[-0x2*-0x4a9+-0x99e+0x14*0x4]+_0x3802d8*_0x121a37[-0x1b42+-0x1c3d+-0x5*-0xb1b]+_0x58851f*_0x121a37[0xc0d+-0x882+-0x1*0x37f],_0x59a923['y']=_0x462e1d*_0x121a37[0x5*-0x53+0x1e2e+-0x56*0x55]+_0x41dac5*_0x121a37[-0x24b6*0x1+-0x41a+-0x1*-0x28d5]+_0x3802d8*_0x121a37[-0x1b*0xe2+-0x203f+0x381e]+_0x58851f*_0x121a37[-0x1*-0xe13+-0x139*-0x13+-0x2541],_0x59a923['z']=_0x462e1d*_0x121a37[0x2b7*0x3+0x210b*-0x1+0x18e8]+_0x41dac5*_0x121a37[0x3b1*-0x3+0xb8*-0xb+0x1301]+_0x3802d8*_0x121a37[-0x20+-0x1cbf+-0x3*-0x9a3]+_0x58851f*_0x121a37[0x2ea+-0x197d+0x78b*0x3],_0x59a923['w']=_0x462e1d*_0x121a37[-0x29*-0xbd+-0x1*0x122b+0xc17*-0x1]+_0x41dac5*_0x121a37[0x172e+-0x19e3+0x2bc]+_0x3802d8*_0x121a37[-0x6a8+0x2f3+0x3c0]+_0x58851f*_0x121a37[-0xc95+0x15*0x138+0x4*-0x33d],_0x59a923;}['setLookAt'](_0x5066c6,_0x5345a3,_0x5e9e4d){ei['sub2'](_0x5066c6,_0x5345a3)['normalize'](),Js['copy'](_0x5e9e4d)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x11fec6=this['data'];return _0x11fec6[-0x121c+-0xea4+-0x418*-0x8]=Os['x'],_0x11fec6[0x745+-0x2*0x195+-0xf*0x46]=Os['y'],_0x11fec6[-0x47a+-0x2*-0x16b+0x1a6]=Os['z'],_0x11fec6[-0x7*-0x1a5+0x3*-0xb71+0x16d3]=0xcce*-0x1+-0x2463+0x31*0x101,_0x11fec6[0x18a*0xe+-0x53*0x52+0x2*0x287]=Js['x'],_0x11fec6[0x1*0x155e+-0x24fd+0x1*0xfa4]=Js['y'],_0x11fec6[-0xe19+0x1672+0x853*-0x1]=Js['z'],_0x11fec6[0x6ed+0xc77*-0x2+0x1208]=0x1e20*0x1+0x24b2+0x42d2*-0x1,_0x11fec6[-0x20ec+-0x1726+0x381a]=ei['x'],_0x11fec6[-0xaca+-0x1a*-0x13d+-0x155f*0x1]=ei['y'],_0x11fec6[-0xc0f+-0x1c36+0x11*0x25f]=ei['z'],_0x11fec6[0x1bba+-0x4be*-0x1+0x1*-0x206d]=0x43*-0x14+0x14a1+-0xf65,_0x11fec6[0x246e+-0xb2*0x13+-0x2*0xb96]=_0x5066c6['x'],_0x11fec6[0x20c7+0x7*-0x2b+0x29*-0xc5]=_0x5066c6['y'],_0x11fec6[-0x1*0x1847+-0x1583+-0xf48*-0x3]=_0x5066c6['z'],_0x11fec6[0x3ab+0xfdd*-0x1+-0x1*-0xc41]=0x6c4*0x1+-0x107*0x20+0x23*0xbf,this;}['setFrustum'](_0x4dfe8e,_0x4f88d9,_0x15a62b,_0x2ebe68,_0x5c50c2,_0x34572e){const _0x5aef9e=(0x3*-0x537+-0x1195+-0x2*-0x109e)*_0x5c50c2,_0x1ac7f4=_0x4f88d9-_0x4dfe8e,_0x57ab61=_0x2ebe68-_0x15a62b,_0x491adf=_0x34572e-_0x5c50c2,_0x521998=this['data'];return _0x521998[0x488*0x8+-0x27*-0xf1+-0x48f7]=_0x5aef9e/_0x1ac7f4,_0x521998[0x165a+-0x1*0x1e49+0x7f0]=0xb7*0x26+0x596+-0x20c0,_0x521998[0x1*-0xaca+0x220b*-0x1+-0x1*-0x2cd7]=0x14fe*-0x1+-0x4cf*-0x1+0x1*0x102f,_0x521998[-0xf*-0x1cf+-0xd4c+-0x1d*0x7a]=-0x7f*0x4c+0x482*0x1+-0x2132*-0x1,_0x521998[0x264+0x201f+-0x227f]=0x1*-0x89c+0x1bad+-0x1311,_0x521998[0x89*0x1d+-0x325*0x5+0x39]=_0x5aef9e/_0x57ab61,_0x521998[0x22a*0x8+-0x5*-0x3dd+-0x249b]=-0x1*-0x20ba+-0xfc8+-0x10f2,_0x521998[-0x7*0x313+-0xf6e+0x24fa]=0x107f*0x1+0xe8c+-0x9*0x373,_0x521998[0x53*0x52+-0x2b*0xb9+-0x1*-0x485]=(_0x4f88d9+_0x4dfe8e)/_0x1ac7f4,_0x521998[-0x1b9+0x1*-0x2301+0x24c3]=(_0x2ebe68+_0x15a62b)/_0x57ab61,_0x521998[0x3*-0x89a+0x1f13+-0x53b]=(-_0x34572e-_0x5c50c2)/_0x491adf,_0x521998[-0xe42+-0x4*0x61b+-0x1af*-0x17]=-(-0x207c+-0x2*-0x1+0x207b),_0x521998[-0x1*-0x1e4f+-0x73e+-0x53*0x47]=-0x179a+0x1*0x962+-0x208*-0x7,_0x521998[-0x16*-0x2b+0x1b1c+0x1ec1*-0x1]=0x227c+-0xb69+-0x1713,_0x521998[-0x1eae+-0xae*-0x3+0x2*0xe59]=-_0x5aef9e*_0x34572e/_0x491adf,_0x521998[-0x170c+-0x109+-0x1e*-0xce]=0x9f8*0x1+0x92b+-0x3*0x661,this;}['setPerspec'+'tive'](_0x267c1a,_0x1e15c4,_0x58fa88,_0x5438db,_0x428c1f){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x267c1a,_0x1e15c4,_0x58fa88,_0x428c1f),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x58fa88,_0x5438db);}['setOrtho'](_0x2ee036,_0xf083d3,_0x3eb8f3,_0x4cde86,_0x20c1c1,_0x2f783b){const _0x2b9aa6=this['data'];return _0x2b9aa6[0x5f4+0x101e+0xb09*-0x2]=(0x2d2*0xb+0x26ae+0x22d9*-0x2)/(_0xf083d3-_0x2ee036),_0x2b9aa6[-0x3*-0x42+0x1a38+-0x1afd]=-0x2692+0x2047*0x1+0x3*0x219,_0x2b9aa6[0x2*-0x10c9+0x3*-0x5b7+-0x109*-0x31]=0xf*-0x53+0x1d5d+-0x1880,_0x2b9aa6[-0x11d*-0xb+-0x1*-0x12cd+-0x1f09]=-0x2509+-0x99e*-0x1+-0x1b6b*-0x1,_0x2b9aa6[0x16e6+0x1cad+0x338f*-0x1]=0xbcc+0x2*0xdf+-0xd8a,_0x2b9aa6[-0x1ed6+0x1b73+0x368]=(0x1661+-0xef*0xb+-0xc1a)/(_0x4cde86-_0x3eb8f3),_0x2b9aa6[-0x265f+-0x577+0xaf7*0x4]=0x26f5+0x198e+-0x4083,_0x2b9aa6[0x5*0x511+-0x17be+-0x190]=0x1c*-0xad+0xde9+-0x503*-0x1,_0x2b9aa6[-0xb8d+-0x24f3+0x3088]=-0xb47*0x3+0x1c9c+-0x7*-0xbf,_0x2b9aa6[0x1739+-0x9d*-0x26+-0x16*0x21d]=0x1*0x1a21+-0x1*-0x309+-0x1d2a,_0x2b9aa6[-0x69*0x1d+0x7a*-0x10+-0x3*-0x685]=-(-0xc70*-0x2+-0x16cb+-0x213)/(_0x2f783b-_0x20c1c1),_0x2b9aa6[-0x219*-0x3+0x1b91*0x1+-0x21d1]=-0x1296+-0x447+0x16dd,_0x2b9aa6[0x22a+0x25a5+0x57*-0x75]=-(_0xf083d3+_0x2ee036)/(_0xf083d3-_0x2ee036),_0x2b9aa6[-0x88a+-0x2479+0x2d10]=-(_0x4cde86+_0x3eb8f3)/(_0x4cde86-_0x3eb8f3),_0x2b9aa6[-0x4*-0x1a1+0x2630+0xfe*-0x2d]=-(_0x2f783b+_0x20c1c1)/(_0x2f783b-_0x20c1c1),_0x2b9aa6[-0x1b7*-0x13+0x1d51+-0x3dd7]=-0x134*-0x5+-0x1b1+0x4f*-0xe,this;}['setFromAxi'+'sAngle'](_0x5cf7e6,_0x48a0a6){_0x48a0a6*=Y['DEG_TO_RAD'];const {x:_0x36e455,y:_0x4d3f82,z:_0x5d898d}=_0x5cf7e6,_0x5a9a11=Math['cos'](_0x48a0a6),_0x3f0545=Math['sin'](_0x48a0a6),_0x7b6128=0x12eb+0xf2*-0x14+-0x2-_0x5a9a11,_0xb10081=_0x7b6128*_0x36e455,_0x16dc50=_0x7b6128*_0x4d3f82,_0x4d3df1=this['data'];return _0x4d3df1[0x5*0x45a+0xa3*0x32+-0x3598]=_0xb10081*_0x36e455+_0x5a9a11,_0x4d3df1[0x2029+0x60b+-0x2633]=_0xb10081*_0x4d3f82+_0x3f0545*_0x5d898d,_0x4d3df1[-0x1d26+-0x233b+0x35*0x137]=_0xb10081*_0x5d898d-_0x3f0545*_0x4d3f82,_0x4d3df1[0x18e5+-0x207d+-0x3b*-0x21]=-0x10a1+0x1f34+-0xe93,_0x4d3df1[0x2e0+-0x2*-0xb6c+0xcda*-0x2]=_0xb10081*_0x4d3f82-_0x3f0545*_0x5d898d,_0x4d3df1[-0x5*-0x78b+-0x17*0x191+-0x1ab]=_0x16dc50*_0x4d3f82+_0x5a9a11,_0x4d3df1[-0x2286+-0x19f1+-0x5f*-0xa3]=_0x16dc50*_0x5d898d+_0x3f0545*_0x36e455,_0x4d3df1[0x1*0x1d83+0xa6*-0x28+0x4*-0xe3]=0x97*-0x9+-0x5*-0x414+-0xf15,_0x4d3df1[-0x8d2+-0x173c+0x559*0x6]=_0xb10081*_0x5d898d+_0x3f0545*_0x4d3f82,_0x4d3df1[-0x2*-0x1352+-0x2336+0x1*-0x365]=_0x16dc50*_0x5d898d-_0x36e455*_0x3f0545,_0x4d3df1[0x2*0x3a1+-0x21*0x89+0xa71]=_0x7b6128*_0x5d898d*_0x5d898d+_0x5a9a11,_0x4d3df1[0x1*-0x193a+0x102b*0x2+-0xc9*0x9]=-0x851+0x173+-0x125*-0x6,_0x4d3df1[-0x1cf8+0x13b1+0x953]=0x1120+0x20f0+-0x3210,_0x4d3df1[0x1*-0x268a+-0x5f5*0x1+0x2c8c]=-0x1*0x53+-0x1181+-0x475*-0x4,_0x4d3df1[-0x1ea3+-0x214f*-0x1+-0x5*0x86]=0x19*0x17b+-0x20a+-0x22f9,_0x4d3df1[0x475*-0x8+-0x777+0x2b2e]=0x203f+-0x4ae+-0x1b90,this;}['setTransla'+'te'](_0x59ac72,_0x1e1c20,_0xec780d){const _0x552166=this['data'];return _0x552166[-0x1*0x1a4+-0x1dbf+0x1*0x1f63]=-0x12f0+-0x8a7+0x8*0x373,_0x552166[-0x1726+0x1543*0x1+0x1e4]=0x2617+-0x1*-0x4e6+-0x2afd,_0x552166[-0x11b+0x1*0xde8+-0xccb]=0xd2b*0x2+0x252+-0x395*0x8,_0x552166[0x1904+0x19d*0x17+0x96*-0x6a]=-0x33*-0x2d+-0x9a3+0xac,_0x552166[-0x1*-0x16d+0x17cf+0x1938*-0x1]=-0x138d+-0xb8f*-0x1+0x7fe,_0x552166[-0x109b+-0x1979+-0x33d*-0xd]=-0x1286*-0x2+-0x2*-0x83f+0x5*-0xab5,_0x552166[-0x3*-0x987+-0x2*-0x7b9+-0x2c01]=-0x141c+-0x49*-0x1b+0x3*0x423,_0x552166[0x118a+0x1bd5*-0x1+-0xa52*-0x1]=0x2666+0xe1a*0x1+0x10*-0x348,_0x552166[-0x8*0x2bd+0x1*-0x1e42+0x189*0x22]=0x117c+0x40e*-0x6+0x6d8,_0x552166[0x7*0x531+0x3b*0x21+-0xea3*0x3]=-0x1d68+0x1*-0x2345+0x40ad,_0x552166[0x670*-0x1+0x2eb+0x38f*0x1]=0x1*-0x1e67+-0x14b2+0x331a,_0x552166[0x2*-0xd78+0x1*-0xe61+-0x295c*-0x1]=-0x6d*-0x52+-0x20*0x10+-0x1*0x20ea,_0x552166[-0x979+0xc7*0x1a+-0x1*0xab1]=_0x59ac72,_0x552166[0x1*0x2381+0x2701+-0x4a75]=_0x1e1c20,_0x552166[0x16f*0x8+0x17ac+-0x2316]=_0xec780d,_0x552166[-0x1ba*0x1+0xb4+0x115]=0x17+-0x7*-0x2b7+0x9*-0x21f,this;}['setScale'](_0x2d53ca,_0x109c52,_0x446fe0){const _0x495a73=this['data'];return _0x495a73[-0x1f67+-0x4e0*-0x8+0x5*-0x185]=_0x2d53ca,_0x495a73[-0x14*-0x17c+0x4*-0x79c+0xc1]=-0x108f*0x1+0x16*0xe4+0x25*-0x15,_0x495a73[-0x142e+-0x107e+-0xa*-0x3ab]=-0x1*0x13d+0x17b9+0x4*-0x59f,_0x495a73[0x1587+0x2216+-0x287*0x16]=-0x714+0x24dd+-0x1dc9,_0x495a73[0x5*0x2a9+0x2511+-0x325a]=-0x84e+-0x5*0x6bb+0x29f5*0x1,_0x495a73[-0x1*-0xd8b+-0x2*0x38b+0x10*-0x67]=_0x109c52,_0x495a73[-0x1ec3+0x1*0x144d+0xa7c]=-0xbd9+-0x2*0x32a+-0x9*-0x205,_0x495a73[0x64d*0x6+-0x1db7*-0x1+-0x6a*0xa3]=0xe76*-0x2+0x24ed+0x1*-0x801,_0x495a73[-0x1*0x1416+-0x1fbb+0x33d9]=0x248b+0x270d+0x3b*-0x148,_0x495a73[0x2016+0xfc4*-0x1+-0x1049*0x1]=-0x1*0x4a7+0x240b+-0x1f64,_0x495a73[-0xe71+0x314+0xb67]=_0x446fe0,_0x495a73[0x2210+-0xbb0+0x1*-0x1655]=0x3b0*-0x2+-0xa66+0x11c6,_0x495a73[0xe9*0x22+-0x3*0x609+0x1*-0xccb]=-0x1*0x232f+0x13*-0x5+0x238e,_0x495a73[-0x35*0xd+-0x1354+0x1612]=0x5*-0x4a9+-0x25fd+0x3d4a,_0x495a73[-0xcb4+0x1619+-0x957]=0x551*0x4+0x47a+0x5*-0x526,_0x495a73[0x2439+0x8d*-0x31+-0x57*0x1b]=-0x2291+-0x1180*0x2+-0x82*-0x89,this;}['setViewpor'+'t'](_0x4e664c,_0x3e7dce,_0x35e2b0,_0x42c5df){const _0x4fd65d=this['data'];return _0x4fd65d[0x242a+0xf5d+-0x3387]=_0x35e2b0*(-0x1*0x1b31+0x12b3+-0x1*-0x87e+0.5),_0x4fd65d[0x204b+-0x146*-0x2+-0x7*0x4fa]=-0x25*0x1d+-0x435*-0x8+-0x1*0x1d77,_0x4fd65d[0xd87*0x2+-0x2*-0xc8a+-0x3420]=-0x1*-0x1ff9+-0x1*-0xe63+-0xb97*0x4,_0x4fd65d[-0x12d7+-0x1551+0x282b]=-0x1dc3+0x10af*0x1+0x1*0xd14,_0x4fd65d[-0xa*0x376+0x1f*0xdd+0x7dd]=0x8de*-0x2+-0x17*-0x65+-0x2e3*-0x3,_0x4fd65d[0xca3+-0x83+-0x409*0x3]=_0x42c5df*(-0xd*0x155+-0x1c4b*-0x1+-0x1*0xafa+0.5),_0x4fd65d[-0x214c*0x1+0x643+0x905*0x3]=-0x4c7*0x3+-0x192*0x18+0x3405,_0x4fd65d[0xccf*0x1+0x1c1d+0x1d*-0x169]=0x82*-0xf+-0x1d6*-0x2+0xa*0x65,_0x4fd65d[-0x23dd+0x1*-0x1526+-0x390b*-0x1]=0x249+-0x2b0*-0xd+-0x2539,_0x4fd65d[-0x2*-0x45f+0x1acd+-0x2382]=-0x25e*-0x10+0x23c1+-0x49a1,_0x4fd65d[0x23c9+0x1*0x2f+-0x23ee]=-0x5f+0x96f*0x1+0x122*-0x8+0.5,_0x4fd65d[0x8a4+0x17*-0xd2+-0xef*-0xb]=0xb74*-0x2+0x418+0x12d0,_0x4fd65d[0x946*0x1+0x8d*0x2b+-0x20e9]=_0x4e664c+_0x35e2b0*(-0x75d+-0x257*-0x7+0x4*-0x241+0.5),_0x4fd65d[-0x9*0x2e0+0x1e13+-0x426]=_0x3e7dce+_0x42c5df*(-0x5b7+0x3*-0x11b+-0x22*-0x44+0.5),_0x4fd65d[0x6*0x5a7+0x35e+-0x253a]=0x1c*-0x5d+0x1a1f+-0xff3+0.5,_0x4fd65d[0x2a1*0x5+0x105*0x22+-0x2fc0*0x1]=-0x3*-0xcd4+0xa3*0x24+-0x3d67*0x1,this;}['setReflect'+'ion'](_0x2ed9f9,_0x114d45){const _0x4c086c=_0x2ed9f9['x'],_0x4444c3=_0x2ed9f9['y'],_0x387dd9=_0x2ed9f9['z'],_0x18249c=this['data'];return _0x18249c[0x1*-0xfe5+-0x246f+0x3454]=0x1*0x1947+-0xda6+0x60*-0x1f-(0x1*0xcd0+-0x14a1+0x7d3)*_0x4c086c*_0x4c086c,_0x18249c[-0x1*-0x6aa+0x1*-0x2111+-0x1a*-0x104]=-(0x14b*0x3+-0xd85*0x1+-0x82*-0x13)*_0x4c086c*_0x4444c3,_0x18249c[-0x21f4+-0x2*-0x295+0x61*0x4c]=-(0x119f+-0x23b*0xd+0xb62)*_0x4c086c*_0x387dd9,_0x18249c[-0x1*0x1071+-0x1*-0x66c+0x3*0x358]=0x21d1+-0x1d04+0x1*-0x4cd,_0x18249c[0xd18+-0x3*0x996+0xfae]=-(0x1*0x234e+0x1*0x378+0x676*-0x6)*_0x4c086c*_0x4444c3,_0x18249c[0x567*-0x2+-0x1*0x70b+0x2*0x8ef]=-0x906+-0x1caa+-0x1*-0x25b1-(0xc0b*0x2+-0x1c8+-0x4*0x593)*_0x4444c3*_0x4444c3,_0x18249c[-0x5*-0x68e+-0x1*-0x100b+-0x30cb]=-(0x203f+-0xa4f+-0x322*0x7)*_0x4444c3*_0x387dd9,_0x18249c[-0x10a4+-0x2591+-0x216*-0x1a]=0xb*0xb+0x81e+-0x3*0x2dd,_0x18249c[0x1822+-0x1*-0xdc3+-0x25dd]=-(-0x2606+-0x3*0x14e+0x2*0x14f9)*_0x4c086c*_0x387dd9,_0x18249c[0x591+0x1988+0x11c*-0x1c]=-(-0xaa*0x5+0x5ba+-0x266)*_0x4444c3*_0x387dd9,_0x18249c[-0x26*-0x5+0x140e+-0x14c2]=-0x1573+-0xac5+-0x2039*-0x1-(0x35e*0x4+-0xf7f*-0x1+-0x1cf5)*_0x387dd9*_0x387dd9,_0x18249c[0x1b00+-0x1baa+0xb5*0x1]=-0x1*-0x138f+0x2*0xbc1+-0x2b11,_0x18249c[0x1530+0x2528+-0x3a4c]=-(0x26e5+0x1ec3+0x6f7*-0xa)*_0x4c086c*_0x114d45,_0x18249c[0x2088+0xf25*0x2+-0x1*0x3ec5]=-(0x6d*-0x3b+-0x170*-0x2+0x1*0x1641)*_0x4444c3*_0x114d45,_0x18249c[0x1b4c+-0x13*-0x101+-0x2e51]=-(0x1*0x1c79+-0x1*0x7ff+0x106*-0x14)*_0x387dd9*_0x114d45,_0x18249c[0x1f57*0x1+-0x328*0x8+0x608*-0x1]=0x1e7*-0x4+-0x1680+0x1e1d,this;}['invert'](_0x23816c=this){const _0x414978=_0x23816c['data'],_0x40fa3a=_0x414978[-0xc2b+0x2*0xacf+-0x973],_0x5c6353=_0x414978[0x1c52+-0xf84+-0xccd*0x1],_0x580b72=_0x414978[-0xfc0+-0x250d+0x34cf],_0x4a9cc0=_0x414978[-0x310+0x1*0x66a+-0x357],_0x1d3c79=_0x414978[0xb+-0xa46+0xa3f],_0x287b5c=_0x414978[0x16af+0x18b+-0x1835],_0x55fac0=_0x414978[0x7f8+0x2*-0xd88+0x131e],_0x926e4b=_0x414978[0x20ab+0x64a+-0x97*0x42],_0x104666=_0x414978[0x22*0xa8+-0x5fc+-0x413*0x4],_0x34b68e=_0x414978[0x1b47*-0x1+0x2*0x470+0x1270],_0x1903e5=_0x414978[0x17b2+-0xe2*0x2+-0x15e4],_0x138c18=_0x414978[0x10ae+-0x51f+0x5c2*-0x2],_0xed3985=_0x414978[0x29*-0x75+0x6*-0x642+0x13*0x2f7],_0x7280e0=_0x414978[0xf65+0xc9e+0x1*-0x1bf6],_0x1e84db=_0x414978[-0x1097+-0xdc2+0x1e67],_0x2d2383=_0x414978[0x1385*-0x2+-0x171c+-0x1*-0x3e35],_0x290e9c=_0x40fa3a*_0x287b5c-_0x5c6353*_0x1d3c79,_0x375d9c=_0x40fa3a*_0x55fac0-_0x580b72*_0x1d3c79,_0x311929=_0x40fa3a*_0x926e4b-_0x4a9cc0*_0x1d3c79,_0x376c5c=_0x5c6353*_0x55fac0-_0x580b72*_0x287b5c,_0x5d2da2=_0x5c6353*_0x926e4b-_0x4a9cc0*_0x287b5c,_0xfaf445=_0x580b72*_0x926e4b-_0x4a9cc0*_0x55fac0,_0x1a9e06=_0x104666*_0x7280e0-_0x34b68e*_0xed3985,_0xd4845=_0x104666*_0x1e84db-_0x1903e5*_0xed3985,_0x586307=_0x104666*_0x2d2383-_0x138c18*_0xed3985,_0x311781=_0x34b68e*_0x1e84db-_0x1903e5*_0x7280e0,_0x4696c7=_0x34b68e*_0x2d2383-_0x138c18*_0x7280e0,_0x1eb81e=_0x1903e5*_0x2d2383-_0x138c18*_0x1e84db,_0x185de5=_0x290e9c*_0x1eb81e-_0x375d9c*_0x4696c7+_0x311929*_0x311781+_0x376c5c*_0x586307-_0x5d2da2*_0xd4845+_0xfaf445*_0x1a9e06;if(_0x185de5===0x25c8+-0x17f7+-0xdd1)this['setIdentit'+'y']();else{const _0xc48eb8=(0x1*0x83e+0x79d*0x4+0x5*-0x7bd)/_0x185de5,_0x407c5f=this['data'];_0x407c5f[-0x999+-0x5*-0x293+0x346*-0x1]=(_0x287b5c*_0x1eb81e-_0x55fac0*_0x4696c7+_0x926e4b*_0x311781)*_0xc48eb8,_0x407c5f[-0x2324+0x1d71+-0xa*-0x92]=(-_0x5c6353*_0x1eb81e+_0x580b72*_0x4696c7-_0x4a9cc0*_0x311781)*_0xc48eb8,_0x407c5f[-0x2*-0xe7b+-0x19*0x11a+-0x16a]=(_0x7280e0*_0xfaf445-_0x1e84db*_0x5d2da2+_0x2d2383*_0x376c5c)*_0xc48eb8,_0x407c5f[0xbc*0x1f+0x273+-0x1934]=(-_0x34b68e*_0xfaf445+_0x1903e5*_0x5d2da2-_0x138c18*_0x376c5c)*_0xc48eb8,_0x407c5f[-0x14a*0xb+0x2578+-0x1746]=(-_0x1d3c79*_0x1eb81e+_0x55fac0*_0x586307-_0x926e4b*_0xd4845)*_0xc48eb8,_0x407c5f[-0x67e+-0x795+0xe18]=(_0x40fa3a*_0x1eb81e-_0x580b72*_0x586307+_0x4a9cc0*_0xd4845)*_0xc48eb8,_0x407c5f[-0x19eb+-0x2*0xf9a+-0x3925*-0x1]=(-_0xed3985*_0xfaf445+_0x1e84db*_0x311929-_0x2d2383*_0x375d9c)*_0xc48eb8,_0x407c5f[-0x3e+-0x83*0x1b+0x3*0x4b2]=(_0x104666*_0xfaf445-_0x1903e5*_0x311929+_0x138c18*_0x375d9c)*_0xc48eb8,_0x407c5f[-0x6ba+-0x8b*0x1+0x74d]=(_0x1d3c79*_0x4696c7-_0x287b5c*_0x586307+_0x926e4b*_0x1a9e06)*_0xc48eb8,_0x407c5f[-0x1625*-0x1+-0x3*0xc41+0xea7]=(-_0x40fa3a*_0x4696c7+_0x5c6353*_0x586307-_0x4a9cc0*_0x1a9e06)*_0xc48eb8,_0x407c5f[-0x2415+0x1c3+0x225c]=(_0xed3985*_0x5d2da2-_0x7280e0*_0x311929+_0x2d2383*_0x290e9c)*_0xc48eb8,_0x407c5f[-0x295*-0x2+0x52*-0x1f+-0x1*-0x4cf]=(-_0x104666*_0x5d2da2+_0x34b68e*_0x311929-_0x138c18*_0x290e9c)*_0xc48eb8,_0x407c5f[0x242d+0x1*0x779+-0x2b9a]=(-_0x1d3c79*_0x311781+_0x287b5c*_0xd4845-_0x55fac0*_0x1a9e06)*_0xc48eb8,_0x407c5f[-0x26e1*-0x1+-0xb*0x2f9+-0x621]=(_0x40fa3a*_0x311781-_0x5c6353*_0xd4845+_0x580b72*_0x1a9e06)*_0xc48eb8,_0x407c5f[-0xb2*-0x3+-0x1a9b*0x1+0x1893]=(-_0xed3985*_0x376c5c+_0x7280e0*_0x375d9c-_0x1e84db*_0x290e9c)*_0xc48eb8,_0x407c5f[0x1*-0x6b8+0x1*0x980+-0x2b9]=(_0x104666*_0x376c5c-_0x34b68e*_0x375d9c+_0x1903e5*_0x290e9c)*_0xc48eb8;}return this;}['set'](_0x2fa729){const _0x1ba24c=this['data'];return _0x1ba24c[0x1450+-0x1b31+0x6e1]=_0x2fa729[0x9*-0x22b+-0x14e7+0x286a*0x1],_0x1ba24c[0x4*-0x839+0x1*0x665+0x1a80]=_0x2fa729[-0x1*-0xa3d+0x14b9+0x631*-0x5],_0x1ba24c[-0x113d+-0xcb+0x905*0x2]=_0x2fa729[0xb0+0x5b4+-0x662],_0x1ba24c[-0x174c+-0x2701+0x10*0x3e5]=_0x2fa729[0x2381+-0x1a5*0xd+0xe1d*-0x1],_0x1ba24c[-0x15b0+0xee3*0x1+0x6d1]=_0x2fa729[-0x26ac+-0x1d8f+0x443f],_0x1ba24c[-0xa25*-0x1+-0x1*0x13bf+0x99f]=_0x2fa729[0x3*-0x3+-0x1*0x1861+0x186f],_0x1ba24c[0x161c+-0x1*0x655+-0xfc1*0x1]=_0x2fa729[-0x2349+-0x14b1+0x3800],_0x1ba24c[-0xf54+0x2282*0x1+-0x1327*0x1]=_0x2fa729[0x1*0x1ab9+0xc1*-0x1f+0x17*-0x25],_0x1ba24c[-0x8ba+0x1*-0x26e2+0x2fa4]=_0x2fa729[-0x1b2+-0xd*0x2d1+-0x41*-0x97],_0x1ba24c[0x314*0x8+-0x1*0x10e1+-0x7b6]=_0x2fa729[-0x1*-0x1e50+0x25aa+0x43f1*-0x1],_0x1ba24c[0x167*-0x1b+-0x259b*0x1+-0x4b82*-0x1]=_0x2fa729[0x1*-0x161+0x18ca*-0x1+0x1a35*0x1],_0x1ba24c[0x1342*-0x2+0x965+0xe95*0x2]=_0x2fa729[0x1*0x1e17+-0x231b+0x50f],_0x1ba24c[0x1*0x12a3+-0xcb*0x6+-0x1*0xdd5]=_0x2fa729[-0x2428+-0x1494+0x38c8],_0x1ba24c[0x7dc+0x2dd*-0x9+0x11f6]=_0x2fa729[0x10d*-0x5+0x3*-0xbcf+0x28bb*0x1],_0x1ba24c[-0x22e6+-0x6*-0x49e+0x740]=_0x2fa729[-0x22c6+-0x136c*-0x1+0xf68],_0x1ba24c[0x20e9+-0x1760*-0x1+-0x383a]=_0x2fa729[-0xba*-0x10+0xe5d+0xcf7*-0x2],this;}['setIdentit'+'y'](){const _0x1ffcd4=this['data'];return _0x1ffcd4[-0x1*0x1c43+-0x1406+-0x3049*-0x1]=0x647+-0x222c*-0x1+-0x2872,_0x1ffcd4[-0x18bc*-0x1+0x652+-0x1f0d]=0x7*-0x36f+-0x8a1+-0x1055*-0x2,_0x1ffcd4[-0x83*-0x1+-0x1b43*-0x1+-0x2*0xde2]=-0xf02+-0x1*-0x78b+0x777,_0x1ffcd4[0x50+-0x61a+0x5cd]=0x2430+0x2*0x1042+0x225a*-0x2,_0x1ffcd4[0xdfd*0x2+0x9b2+0x4*-0x96a]=0xfdf+0xd4e+0x61*-0x4d,_0x1ffcd4[-0x1dca+0x1079*0x2+-0x323]=-0xcd*0x2b+-0xf79+-0x10a3*-0x3,_0x1ffcd4[-0xd2a+0x9ab*-0x3+-0x607*-0x7]=-0x139f+-0xa93*0x2+0x28c5,_0x1ffcd4[0xdb*0xa+0x16d4+-0x1f5b]=-0x1df+-0xb65+0xd44*0x1,_0x1ffcd4[0x4*0x62f+0x26e5*0x1+0x1*-0x3f99]=-0x19fa+-0x1b*0x101+0x3515,_0x1ffcd4[-0x11c6+0x21f*0x5+-0x1*-0x734]=0x1*-0x2554+0x172d+0xe27*0x1,_0x1ffcd4[0x2*0x4b2+-0x2a1*-0xd+-0x2b87]=0xd1*-0x10+0x73*0xb+0x820,_0x1ffcd4[0xc01+0x1*0x16eb+-0x1*0x22e1]=0x829*0x4+-0x2ef+0xd*-0x249,_0x1ffcd4[-0x2524*-0x1+-0x15e8+-0xf30]=0x3*0x534+-0x1*0x1e95+0xef9*0x1,_0x1ffcd4[0x2527*0x1+0x14e3+0x1*-0x39fd]=0x3f*0x3e+-0x1*-0x1c27+-0x2b69,_0x1ffcd4[-0x2687+-0xe8c+-0x3521*-0x1]=0x1*-0x202+-0x2383*0x1+-0x781*-0x5,_0x1ffcd4[-0x983+0x1*0x189f+0x1*-0xf0d]=-0x340+0xe71+-0xb30,this;}['setTRS'](_0x49f582,_0x1005c0,_0x567cce){const _0x46a059=_0x1005c0['x'],_0x3bede7=_0x1005c0['y'],_0x234d2d=_0x1005c0['z'],_0x301347=_0x1005c0['w'],_0x55dd2e=_0x567cce['x'],_0x3cc4db=_0x567cce['y'],_0x568aa2=_0x567cce['z'],_0x272dd0=_0x46a059+_0x46a059,_0x3a66cc=_0x3bede7+_0x3bede7,_0x5ea834=_0x234d2d+_0x234d2d,_0x1f5ef6=_0x46a059*_0x272dd0,_0x4b4b9a=_0x46a059*_0x3a66cc,_0x13a7b5=_0x46a059*_0x5ea834,_0x495cc1=_0x3bede7*_0x3a66cc,_0x53967b=_0x3bede7*_0x5ea834,_0x5259bd=_0x234d2d*_0x5ea834,_0x28755c=_0x301347*_0x272dd0,_0x402f3a=_0x301347*_0x3a66cc,_0x4ac123=_0x301347*_0x5ea834,_0x459f13=this['data'];return _0x459f13[0xb10+0x2495+0x1*-0x2fa5]=(-0x2f9*0x9+-0x166e+0x3130-(_0x495cc1+_0x5259bd))*_0x55dd2e,_0x459f13[-0xfe0+0x49c+0xb45]=(_0x4b4b9a+_0x4ac123)*_0x55dd2e,_0x459f13[-0xe88+-0x1*-0x18eb+-0xa61]=(_0x13a7b5-_0x402f3a)*_0x55dd2e,_0x459f13[-0x59*-0x33+-0xd19+-0x49f]=0x1971*-0x1+-0xde*0x1d+0x3297,_0x459f13[-0x1*0xa57+-0x1416+-0x1*-0x1e71]=(_0x4b4b9a-_0x4ac123)*_0x3cc4db,_0x459f13[0x7*0x517+0x238e+-0x472a]=(0x39*-0x9a+0x19f6*0x1+0x855-(_0x1f5ef6+_0x5259bd))*_0x3cc4db,_0x459f13[0x1*0xa65+0x761+-0x11c0]=(_0x53967b+_0x28755c)*_0x3cc4db,_0x459f13[-0x1e73+-0x1*-0x1387+0xaf3]=0x1040+-0x942+-0xa*0xb3,_0x459f13[0x182e+0x26b5+-0x3edb]=(_0x13a7b5+_0x402f3a)*_0x568aa2,_0x459f13[0x15d2+-0x1a80+0x47*0x11]=(_0x53967b-_0x28755c)*_0x568aa2,_0x459f13[0x23a7+-0x11*-0x87+-0x24*0x13d]=(-0xd27+-0x447+0x116f*0x1-(_0x1f5ef6+_0x495cc1))*_0x568aa2,_0x459f13[0x5fd+0x8b*-0x1d+-0xc1*-0xd]=0x148*0x1+-0x19c7*-0x1+-0x905*0x3,_0x459f13[0x2*-0xd85+0x1*-0xe95+0x1*0x29ab]=_0x49f582['x'],_0x459f13[0x2227+0xe*-0x233+-0x350]=_0x49f582['y'],_0x459f13[-0x34b+-0x2b*0x83+0x195a]=_0x49f582['z'],_0x459f13[0xe5c+-0x2189+0x4cf*0x4]=-0x1*-0x26e0+0x46e+0x2e3*-0xf,this;}['transpose'](_0x2d9792=this){const _0x5de492=_0x2d9792['data'],_0x17448a=this['data'];if(_0x5de492===_0x17448a){let _0x648d06;_0x648d06=_0x5de492[0x2b0*0x7+-0x10a6+0x229*-0x1],_0x17448a[-0x38*0x89+-0x1e5a+0x3c53*0x1]=_0x5de492[0x26e3*0x1+-0x1be5*0x1+-0xafa],_0x17448a[0x204d*-0x1+0x20*-0xac+0x35d1]=_0x648d06,_0x648d06=_0x5de492[-0x22b8+0x6f4+0x1bc6],_0x17448a[-0x78b*-0x5+0xb85*-0x1+-0x1a30]=_0x5de492[-0x88e+-0x165*-0x7+0x7*-0x2b],_0x17448a[0x23ed+0x1c54+-0x4039]=_0x648d06,_0x648d06=_0x5de492[-0x559+-0x268+0x7c4],_0x17448a[-0x1*-0x1b13+-0x216d*-0x1+0xa3*-0x5f]=_0x5de492[0xdad+-0x1*0x18eb+0xb4a],_0x17448a[0x13*-0x53+-0x261a+-0x13*-0x255]=_0x648d06,_0x648d06=_0x5de492[-0x11c5*-0x2+0x1b7*-0x1+-0x21cd],_0x17448a[0x4bc*-0x4+-0x1cdc*-0x1+-0x1*0x9e6]=_0x5de492[0x197e+0x3a8+-0x1d1d],_0x17448a[0x21*-0xca+-0xdc*0x10+-0x1*-0x27d3]=_0x648d06,_0x648d06=_0x5de492[-0x42+0xb*-0x293+-0x2*-0xe4d],_0x17448a[0xc73+0x2a1+0xf0d*-0x1]=_0x5de492[-0x173*-0x11+-0x1*-0x184d+-0x9c7*0x5],_0x17448a[-0x1*-0xddf+-0x24f5+-0x1*-0x1723]=_0x648d06,_0x648d06=_0x5de492[-0xa7e+0xa25+0x64],_0x17448a[0x14c8+-0xcee+0x1*-0x7cf]=_0x5de492[-0x5ba+-0x18e8+0x1eb0],_0x17448a[0xb09+-0xbf*0xe+-0x89]=_0x648d06;}else _0x17448a[0x11e*-0x2+-0x48*0x12+0x74c]=_0x5de492[0xe*0x49+0x2*0x645+-0x1088],_0x17448a[-0x674+0x2249+0x89*-0x34]=_0x5de492[-0x3*-0x43e+-0x53*-0x5a+-0x29e4],_0x17448a[-0x3a*-0x6f+0x1006*-0x1+-0x91e]=_0x5de492[-0x1968*-0x1+0x1e66+-0x37c6],_0x17448a[-0xb72+-0x1c55+0x27ca*0x1]=_0x5de492[-0x48b*-0x1+0x3*-0x685+0xf10],_0x17448a[0x19f*-0xb+0xca8+0x531]=_0x5de492[-0x11*0x1d+-0x1702+0x18f0],_0x17448a[0x114e*0x1+0xdcd+0x1f16*-0x1]=_0x5de492[0x214c+0x1*0x2485+0xc*-0x5d1],_0x17448a[0x21db+0x7*0x15b+-0x2b52]=_0x5de492[0x25b1*0x1+0xdf*0x6+-0x2ae2],_0x17448a[0x1370+0x3c7*-0x3+-0x2*0x40a]=_0x5de492[-0xa3d+0x5*-0x4ab+0x21a1],_0x17448a[0x3*-0xb57+0x10e7*-0x2+-0x1*-0x43db]=_0x5de492[0x20c3+-0xf8f+0x3e*-0x47],_0x17448a[-0xd9*0x19+-0x1*-0x26d8+-0x119e]=_0x5de492[-0x5e*-0xa+-0x1158+-0x1*-0xdb2],_0x17448a[0x3d6*0x2+-0x1*0x1901+-0x1*-0x115f]=_0x5de492[-0x119*-0x23+-0x1*0x188e+-0xdd3],_0x17448a[-0x1b4d*0x1+0x3*-0x823+0x33c1]=_0x5de492[0x1ba0+-0x1daa+-0x8*-0x43],_0x17448a[0x106b+-0x12f4+0x295]=_0x5de492[0x100f*0x1+0x13*-0x1c9+0x3*0x5f5],_0x17448a[-0x3*0xc86+0x1*-0x1afb+0x409a]=_0x5de492[-0x2403+-0x39*0x41+-0xc1*-0x43],_0x17448a[-0xdc*0x10+0x479+-0x1*-0x955]=_0x5de492[-0xe*-0x28c+-0xd3a+0x1*-0x1663],_0x17448a[-0x1acb*0x1+-0x7*0x6f+0x1de3]=_0x5de492[0x1*0x25b4+-0x65*0x60+0x3b];return this;}['getTransla'+'tion'](_0x4f3526=new D()){return _0x4f3526['set'](this['data'][0x11b1+0x3b*0x23+-0x892*0x3],this['data'][-0x1529+-0x1*0x9d9+0x1f0f],this['data'][0x2ef*0x5+-0x24*-0x60+0x1*-0x1c1d]);}['getX'](_0x4bfb95=new D()){return _0x4bfb95['set'](this['data'][-0x764+0x983*0x3+-0x1525],this['data'][-0x8*-0x335+0x2*0xc2f+0x5*-0xa01],this['data'][0x61f*0x3+0x26ee+-0x3949]);}['getY'](_0x4ad99c=new D()){return _0x4ad99c['set'](this['data'][-0x55*-0x59+0x3e*0xd+-0x20af],this['data'][0xdd+0x1*-0x11b6+0x2*0x86f],this['data'][0x1ce6+-0x6df*0x5+0x57b]);}['getZ'](_0x1888fd=new D()){return _0x1888fd['set'](this['data'][0x11f*-0x1d+0x609+0x1a82],this['data'][0x898+0x1d1*-0x12+0x1823],this['data'][-0x2*0x7bf+-0x1227+0x21af]);}['getScale'](_0x498aa5=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x498aa5['set'](Os['length'](),Js['length'](),ei['length']()),_0x498aa5;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x4*0x37b+-0x4b*0xd+0x3*-0x35f?-(0xf17+0x1*-0x3d8+-0xb3e):0x50*-0x43+-0x1*-0x1c3d+-0x1*0x74c;}['setFromEul'+'erAngles'](_0x863e46,_0x1812f9,_0x3fa112){_0x863e46*=Y['DEG_TO_RAD'],_0x1812f9*=Y['DEG_TO_RAD'],_0x3fa112*=Y['DEG_TO_RAD'];const _0x2d37dd=Math['sin'](-_0x863e46),_0x2376e1=Math['cos'](-_0x863e46),_0x555cc3=Math['sin'](-_0x1812f9),_0x27aaff=Math['cos'](-_0x1812f9),_0x103e17=Math['sin'](-_0x3fa112),_0x52ab3a=Math['cos'](-_0x3fa112),_0x7ba498=this['data'];return _0x7ba498[-0x2185*-0x1+0x2292+0x4417*-0x1]=_0x27aaff*_0x52ab3a,_0x7ba498[0x78*0x44+0x1932+-0x3911]=-_0x27aaff*_0x103e17,_0x7ba498[0x157d+-0x2482+0xf07]=_0x555cc3,_0x7ba498[0x3be*-0x3+0x226d+-0x1*0x1730]=0x1cea+0x148b*-0x1+-0x85f,_0x7ba498[0x1f60+0x130f+-0x326b]=_0x2376e1*_0x103e17+_0x52ab3a*_0x2d37dd*_0x555cc3,_0x7ba498[0x1c2d*0x1+0x1fea+-0xb*0x576]=_0x2376e1*_0x52ab3a-_0x2d37dd*_0x555cc3*_0x103e17,_0x7ba498[-0x1*-0xd17+0x6d*0x4f+-0x6ac*0x7]=-_0x27aaff*_0x2d37dd,_0x7ba498[-0x1*0xca7+-0x139c+0x204a]=0x4f4*-0x7+-0x1f81+0x422d*0x1,_0x7ba498[-0x403+-0x988+0xd93]=_0x2d37dd*_0x103e17-_0x2376e1*_0x52ab3a*_0x555cc3,_0x7ba498[-0x3f6+-0x1051+-0x4*-0x514]=_0x52ab3a*_0x2d37dd+_0x2376e1*_0x555cc3*_0x103e17,_0x7ba498[-0x2e7*0x4+-0x725+0x12cb]=_0x2376e1*_0x27aaff,_0x7ba498[-0x2*-0xd9+0x249c+-0x2643]=-0x1*-0x5d1+-0x1477+-0xea6*-0x1,_0x7ba498[0xcce+-0x12cb+0x609]=-0x1056+0x1a5f+-0xa09,_0x7ba498[0x4*0x8+0x1eae+-0x1ec1]=0x2063+-0x7fe+-0x1865,_0x7ba498[-0x46e+-0x223b+-0x26b7*-0x1]=0x8*0x3f3+0x2374+-0x430c,_0x7ba498[0x1bc2+0x657*-0x4+-0x257]=0x1*0x113d+0x175e+-0x289a,this;}['getEulerAn'+'gles'](_0x125f27=new D()){this['getScale'](Hl);const _0x290bf7=Hl['x'],_0x3f6a96=Hl['y'],_0xbcb2b1=Hl['z'];if(_0x290bf7===0x1*-0x1a0c+-0x1f1*0xd+-0x3349*-0x1||_0x3f6a96===0x34*-0x4d+-0x6f7*0x2+0x1d92||_0xbcb2b1===0x1*0x17a8+0x1*-0x1f4e+-0x3d3*-0x2)return _0x125f27['set'](-0x18df+-0x1d*-0xd+-0x2*-0xbb3,0xd*-0x59+0xe0d+-0x3d*0x28,0x1*0x2df+-0x2*0xf02+0x1b25);const _0x174aeb=this['data'],_0x44b121=Math['asin'](-_0x174aeb[0x1e1c+0x26c3+-0x44dd]/_0x290bf7),_0x40ce37=Math['PI']*(-0x17a9+0xd*0x3d+0xe*0x178+0.5);let _0x5e90f4,_0x2fce0c;return _0x44b121<_0x40ce37?_0x44b121>-_0x40ce37?(_0x5e90f4=Math['atan2'](_0x174aeb[0x6*-0x8e+0x1b1*0x12+0x88*-0x33]/_0x3f6a96,_0x174aeb[-0x135d+0xfc6*-0x1+-0x1*-0x232d]/_0xbcb2b1),_0x2fce0c=Math['atan2'](_0x174aeb[0x1ba3+-0x1*0x12ff+0x21*-0x43]/_0x290bf7,_0x174aeb[-0x16d0+0x546*-0x2+0x215c]/_0x290bf7)):(_0x2fce0c=0x11be+0xba*0x2a+-0xd5*0x3a,_0x5e90f4=-Math['atan2'](_0x174aeb[0x71f+-0x2018+0x18fd]/_0x3f6a96,_0x174aeb[0xf5*-0x23+0x4e9*0x6+-0x6*-0xad]/_0x3f6a96)):(_0x2fce0c=-0xb7b+-0x25da+0x3155,_0x5e90f4=Math['atan2'](_0x174aeb[-0x2403+0x18b2+-0x1*-0xb55]/_0x3f6a96,_0x174aeb[0x1e0b+-0x1192+-0x63a*0x2]/_0x3f6a96)),_0x125f27['set'](_0x5e90f4,_0x44b121,_0x2fce0c)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x1acb+-0xe0b*0x1+0x1*0x28d6,0x2f*0xc9+0x752+0x1*-0x2c39,-0x21*-0x3+0x644*-0x4+0x1*0x18ad,-0x15a+0x1de8+-0xa*0x2db,0xd7e+0x1*0x2a9+-0x1*0x1027,-0x64*0x1e+0x68d+-0x7*-0xbd,0x1*0x517+-0xe6f+0x958,0x1f7b+-0x254d*0x1+0x5*0x12a,-0x1661+-0x2*0x6f+0x173f,-0x1120+-0x21e1+0x3301,-0x1*0x254+0x1*0x8df+-0x68b,-0xf5b*-0x1+0x2077+-0x2fd2,-0x1e36+0x34a*-0x6+0x31f2,-0x6*-0x48e+-0x2b9*0xb+0x29f,-0x1*0x1c1+-0x3f*0x91+0x2570,-0x171b+0x2052+-0x937])));let te=Qr;const Sn=class Sn{constructor(_0x436357=0x2644+0x2263*-0x1+0x3*-0x14b,_0x47fd3b=-0x1c78+0x1*-0x25a5+0x421d,_0x1837d7=-0xf18*0x1+-0x1dd2*0x1+0x2cea,_0xd584c8=-0x1b36+-0x731*0x1+0x2268){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x436357['length']===0xe51*-0x1+0x1*-0xd24+0x21d*0xd?(this['x']=_0x436357[0x12f1*-0x2+0x1eab+0x737*0x1],this['y']=_0x436357[-0xa72+-0x7cd+0x1240],this['z']=_0x436357[-0x17cc+0x20c0+0x2*-0x479],this['w']=_0x436357[0x17b8+-0x22*-0xf0+-0x1f*0x1cb]):(this['x']=_0x436357,this['y']=_0x47fd3b,this['z']=_0x1837d7,this['w']=_0xd584c8);}['clone'](){const _0x3f2b04=this['constructo'+'r'];return new _0x3f2b04(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1c87c7=this){return this['x']=_0x1c87c7['x']*-(0x1b05*-0x1+-0x8fc+-0x16*-0x1a3),this['y']=_0x1c87c7['y']*-(-0x176+-0x1449+-0x15c*-0x10),this['z']=_0x1c87c7['z']*-(-0x16fb+-0x1988+0x1cc*0x1b),this['w']=_0x1c87c7['w'],this;}['copy'](_0x2d0ae0){return this['x']=_0x2d0ae0['x'],this['y']=_0x2d0ae0['y'],this['z']=_0x2d0ae0['z'],this['w']=_0x2d0ae0['w'],this;}['dot'](_0x4ee338){return this['x']*_0x4ee338['x']+this['y']*_0x4ee338['y']+this['z']*_0x4ee338['z']+this['w']*_0x4ee338['w'];}['equals'](_0x29242f){return this['x']===_0x29242f['x']&&this['y']===_0x29242f['y']&&this['z']===_0x29242f['z']&&this['w']===_0x29242f['w'];}['equalsAppr'+'ox'](_0x551803,_0x5022cd=0x1114*-0x1+0x6*-0x41b+0x29b6+0.000001){return Math['abs'](this['x']-_0x551803['x'])<_0x5022cd&&Math['abs'](this['y']-_0x551803['y'])<_0x5022cd&&Math['abs'](this['z']-_0x551803['z'])<_0x5022cd&&Math['abs'](this['w']-_0x551803['w'])<_0x5022cd;}['getAxisAng'+'le'](_0x41c71e){let _0x1d0975=Math['acos'](this['w'])*(0x1286+0x8c0+0x4*-0x6d1);const _0x3b7c40=Math['sin'](_0x1d0975/(-0x1bc9+0x14a*-0x13+0x3449));return _0x3b7c40!==0x531+0x2e1*-0xd+0x203c*0x1?(_0x41c71e['x']=this['x']/_0x3b7c40,_0x41c71e['y']=this['y']/_0x3b7c40,_0x41c71e['z']=this['z']/_0x3b7c40,(_0x41c71e['x']<0x21e*0x11+-0x2f*-0x39+0x2e75*-0x1||_0x41c71e['y']<-0x35f+-0x16*-0xe3+0xf3*-0x11||_0x41c71e['z']<-0x167a+0x1e9+0x1491)&&(_0x41c71e['x']*=-(0x26b*-0x2+0x9e8+-0x1*0x511),_0x41c71e['y']*=-(0x1*0x2419+-0x595*0x1+-0x1*0x1e83),_0x41c71e['z']*=-(-0x4f8+0x1b2c+-0x1633),_0x1d0975*=-(-0x1a75+-0x56e+-0x274*-0xd))):(_0x41c71e['x']=0x2275+-0x872+-0x1a02,_0x41c71e['y']=-0x1*-0x377+-0x1d*-0x117+0x86*-0x43,_0x41c71e['z']=-0x22f1+-0x9*-0x42b+0x2f*-0xe),_0x1d0975*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x112bff=new D()){let _0x25545b,_0xb1f4ba,_0xafbd29;const _0xe9c845=this['x'],_0x5af231=this['y'],_0x939677=this['z'],_0x189d0f=this['w'],_0x1a4880=(0x1a7f+-0x1d4c+0x1*0x2cf)*(_0x189d0f*_0x5af231-_0xe9c845*_0x939677);return _0x1a4880<=-(-0x4e5*-0x3+-0x268f*-0x1+-0x353e+0.99999)?(_0x25545b=(-0x2*-0x121d+0x1*0x2f3+-0x1*0x272b)*Math['atan2'](_0xe9c845,_0x189d0f),_0xb1f4ba=-Math['PI']/(-0x1ca*0x7+-0x9*0x409+0x30d9),_0xafbd29=0x1f32+-0x75c*0x3+-0x91e):_0x1a4880>=-0xaf9*-0x1+-0x7*-0xf4+-0x11a5+0.99999?(_0x25545b=(-0x463*-0x7+0x43b*0x3+-0x15b2*0x2)*Math['atan2'](_0xe9c845,_0x189d0f),_0xb1f4ba=Math['PI']/(0x24e8+0x5*-0x796+0x108),_0xafbd29=0x66e*0x6+-0x1858+-0x38f*0x4):(_0x25545b=Math['atan2']((0xb23+-0x1c99+0x45e*0x4)*(_0x189d0f*_0xe9c845+_0x5af231*_0x939677),0x1b35+0xbc2+-0x26f6-(-0x8*-0x150+0x89f*-0x3+0xf5f)*(_0xe9c845*_0xe9c845+_0x5af231*_0x5af231)),_0xb1f4ba=Math['asin'](_0x1a4880),_0xafbd29=Math['atan2']((0x159a*0x1+0x2168+0x3700*-0x1)*(_0x189d0f*_0x939677+_0xe9c845*_0x5af231),0x1057+0x122f+-0x2285-(-0xecd+-0x21c1+0x103*0x30)*(_0x5af231*_0x5af231+_0x939677*_0x939677))),_0x112bff['set'](_0x25545b,_0xb1f4ba,_0xafbd29)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x41173b=this){return this['conjugate'](_0x41173b)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x8da07e,_0x5b04f7,_0x32dcb4){const _0x149304=(0x17b*0x11+-0x2235+0x1*0x90b-_0x32dcb4)*(_0x8da07e['dot'](_0x5b04f7)<0x3*0x6a5+0x247e+-0x386d?-(-0x1*0x1afb+-0x5a6+0x20a2):0x1cc9*-0x1+0x1e4e*-0x1+-0x1e8*-0x1f);return this['x']=_0x8da07e['x']*_0x149304+_0x5b04f7['x']*_0x32dcb4,this['y']=_0x8da07e['y']*_0x149304+_0x5b04f7['y']*_0x32dcb4,this['z']=_0x8da07e['z']*_0x149304+_0x5b04f7['z']*_0x32dcb4,this['w']=_0x8da07e['w']*_0x149304+_0x5b04f7['w']*_0x32dcb4,this['normalize']();}['mul'](_0x3ecd52){const _0x1fc96d=this['x'],_0x9add31=this['y'],_0x4189f7=this['z'],_0x508cc9=this['w'],_0x301b43=_0x3ecd52['x'],_0x32415a=_0x3ecd52['y'],_0x37ccfd=_0x3ecd52['z'],_0x317aa5=_0x3ecd52['w'];return this['x']=_0x508cc9*_0x301b43+_0x1fc96d*_0x317aa5+_0x9add31*_0x37ccfd-_0x4189f7*_0x32415a,this['y']=_0x508cc9*_0x32415a+_0x9add31*_0x317aa5+_0x4189f7*_0x301b43-_0x1fc96d*_0x37ccfd,this['z']=_0x508cc9*_0x37ccfd+_0x4189f7*_0x317aa5+_0x1fc96d*_0x32415a-_0x9add31*_0x301b43,this['w']=_0x508cc9*_0x317aa5-_0x1fc96d*_0x301b43-_0x9add31*_0x32415a-_0x4189f7*_0x37ccfd,this;}['mulScalar'](_0x3ce7d0,_0x56eda5=this){return this['x']=_0x56eda5['x']*_0x3ce7d0,this['y']=_0x56eda5['y']*_0x3ce7d0,this['z']=_0x56eda5['z']*_0x3ce7d0,this['w']=_0x56eda5['w']*_0x3ce7d0,this;}['mul2'](_0x100ddc,_0x370f4a){const _0x6ac9f0=_0x100ddc['x'],_0x21a6c5=_0x100ddc['y'],_0x55fa22=_0x100ddc['z'],_0x5a88e3=_0x100ddc['w'],_0x59db27=_0x370f4a['x'],_0xe2c090=_0x370f4a['y'],_0x101387=_0x370f4a['z'],_0x1950d0=_0x370f4a['w'];return this['x']=_0x5a88e3*_0x59db27+_0x6ac9f0*_0x1950d0+_0x21a6c5*_0x101387-_0x55fa22*_0xe2c090,this['y']=_0x5a88e3*_0xe2c090+_0x21a6c5*_0x1950d0+_0x55fa22*_0x59db27-_0x6ac9f0*_0x101387,this['z']=_0x5a88e3*_0x101387+_0x55fa22*_0x1950d0+_0x6ac9f0*_0xe2c090-_0x21a6c5*_0x59db27,this['w']=_0x5a88e3*_0x1950d0-_0x6ac9f0*_0x59db27-_0x21a6c5*_0xe2c090-_0x55fa22*_0x101387,this;}['normalize'](_0x5d18f1=this){let _0x2fbbf3=_0x5d18f1['length']();return _0x2fbbf3===0x109e+-0x1*-0x562+-0x1600?(this['x']=this['y']=this['z']=-0x3*-0xcd2+-0x2596+-0xe0,this['w']=-0x2*0x878+-0x8*0x24b+0x2349):(_0x2fbbf3=(-0x27*0xb7+0x26ee+-0x7*0x194)/_0x2fbbf3,this['x']=_0x5d18f1['x']*_0x2fbbf3,this['y']=_0x5d18f1['y']*_0x2fbbf3,this['z']=_0x5d18f1['z']*_0x2fbbf3,this['w']=_0x5d18f1['w']*_0x2fbbf3),this;}['set'](_0x203729,_0x2eed36,_0x26dea7,_0x3cd465){return this['x']=_0x203729,this['y']=_0x2eed36,this['z']=_0x26dea7,this['w']=_0x3cd465,this;}['setFromAxi'+'sAngle'](_0x12f6f0,_0x420fe9){_0x420fe9*=(-0x1542+0x9d*0x13+-0x1*-0x99b+0.5)*Y['DEG_TO_RAD'];const _0x2492e5=Math['sin'](_0x420fe9),_0x5c3f69=Math['cos'](_0x420fe9);return this['x']=_0x2492e5*_0x12f6f0['x'],this['y']=_0x2492e5*_0x12f6f0['y'],this['z']=_0x2492e5*_0x12f6f0['z'],this['w']=_0x5c3f69,this;}['setFromEul'+'erAngles'](_0x40c338,_0x406eb8,_0x2fb546){if(_0x40c338 instanceof D){const _0x554efc=_0x40c338;_0x40c338=_0x554efc['x'],_0x406eb8=_0x554efc['y'],_0x2fb546=_0x554efc['z'];}const _0x368934=(-0x3*0x32d+-0x1ea9+0x1*0x2830+0.5)*Y['DEG_TO_RAD'];_0x40c338*=_0x368934,_0x406eb8*=_0x368934,_0x2fb546*=_0x368934;const _0x486edd=Math['sin'](_0x40c338),_0x12335f=Math['cos'](_0x40c338),_0x590d0e=Math['sin'](_0x406eb8),_0x192141=Math['cos'](_0x406eb8),_0x22412e=Math['sin'](_0x2fb546),_0xd7f316=Math['cos'](_0x2fb546);return this['x']=_0x486edd*_0x192141*_0xd7f316-_0x12335f*_0x590d0e*_0x22412e,this['y']=_0x12335f*_0x590d0e*_0xd7f316+_0x486edd*_0x192141*_0x22412e,this['z']=_0x12335f*_0x192141*_0x22412e-_0x486edd*_0x590d0e*_0xd7f316,this['w']=_0x12335f*_0x192141*_0xd7f316+_0x486edd*_0x590d0e*_0x22412e,this;}['setFromMat'+'4'](_0x2eb7f0){const _0x3295df=_0x2eb7f0['data'];let _0x247edb=_0x3295df[0x286*0x2+-0x23*0x103+-0x1e5d*-0x1],_0x5e0c31=_0x3295df[-0x7ee*-0x4+0x9*-0x4d+-0x1d02],_0x3ea8a2=_0x3295df[-0xc*-0x1f3+0x1836+0xbe6*-0x4],_0x1e6195=_0x3295df[-0x159a+-0x2012*0x1+-0x35b*-0x10],_0x5835fd=_0x3295df[-0x13e9*0x1+0x1a15+-0x627],_0x3d4408=_0x3295df[0x1*0xf32+-0x2400+0x56*0x3e],_0x417825=_0x3295df[0xfb6+0x20f1*0x1+0x567*-0x9],_0xd0bf8=_0x3295df[-0x1986+-0x246f+0x3dfe],_0x22a88e=_0x3295df[-0x2295+-0x3*0x75+0x1*0x23fe],_0x2e4434;return _0x2e4434=_0x247edb*_0x247edb+_0x5e0c31*_0x5e0c31+_0x3ea8a2*_0x3ea8a2,_0x2e4434===0x1bb2*-0x1+-0x1c9d+0x384f?this['set'](0x1322+0xdb7+-0x1*0x20d9,0x9*-0xb5+-0x14b*0x5+0xcd4,-0x2693+-0x39f+0x2a32,0x1737+0x1c*-0x24+-0x1346):(_0x2e4434=(0x3b6+-0x180+-0x235)/Math['sqrt'](_0x2e4434),_0x247edb*=_0x2e4434,_0x5e0c31*=_0x2e4434,_0x3ea8a2*=_0x2e4434,_0x2e4434=_0x1e6195*_0x1e6195+_0x5835fd*_0x5835fd+_0x3d4408*_0x3d4408,_0x2e4434===0x1a73+0x1*0x7c2+-0x2235?this['set'](0x120*-0x17+0x2ee+-0x16*-0x10b,-0x7*-0x3ed+0x11*0x1ac+0x1*-0x37e7,0xfc3+0x1*0xca9+0x1ac*-0x11,0x1d*0x5+-0x4a3+0x413):(_0x2e4434=(0x1a3d+-0x1d*-0xfb+0x36ab*-0x1)/Math['sqrt'](_0x2e4434),_0x1e6195*=_0x2e4434,_0x5835fd*=_0x2e4434,_0x3d4408*=_0x2e4434,_0x2e4434=_0x417825*_0x417825+_0xd0bf8*_0xd0bf8+_0x22a88e*_0x22a88e,_0x2e4434===0x342+0x20b7+-0x23f9*0x1?this['set'](0x268a+-0x118e+-0x11*0x13c,0x3c6+-0x3*-0x1a1+-0x8a9,0x26c7+0x1561+0x785*-0x8,0x887*0x1+0x16ab*0x1+-0x1f31):(_0x2e4434=(0x204*-0xc+-0x1168+0x17*0x1cf)/Math['sqrt'](_0x2e4434),_0x417825*=_0x2e4434,_0xd0bf8*=_0x2e4434,_0x22a88e*=_0x2e4434,_0x22a88e<-0xa7*-0x1f+-0x16f8+0x2bf?_0x247edb>_0x5835fd?this['set'](0x2529+0x1*0x254f+-0x6c5*0xb+_0x247edb-_0x5835fd-_0x22a88e,_0x5e0c31+_0x1e6195,_0x417825+_0x3ea8a2,_0x3d4408-_0xd0bf8):this['set'](_0x5e0c31+_0x1e6195,0xc4b+-0x55*0x3b+-0x74d*-0x1-_0x247edb+_0x5835fd-_0x22a88e,_0x3d4408+_0xd0bf8,_0x417825-_0x3ea8a2):_0x247edb<-_0x5835fd?this['set'](_0x417825+_0x3ea8a2,_0x3d4408+_0xd0bf8,0x1337+-0xd29*0x2+0xb6*0xa-_0x247edb-_0x5835fd+_0x22a88e,_0x5e0c31-_0x1e6195):this['set'](_0x3d4408-_0xd0bf8,_0x417825-_0x3ea8a2,_0x5e0c31-_0x1e6195,-0x602+-0x2*0x11a7+0x2951+_0x247edb+_0x5835fd+_0x22a88e),this['mulScalar']((-0x12a*-0x7+-0x1*0x14d9+0x6*0x21e)/this['length']()))));}['setFromDir'+'ections'](_0x187bed,_0x47793f){const _0x3949bf=-0x1*-0x133e+0x138+0x1*-0x1475+_0x187bed['dot'](_0x47793f);return _0x3949bf<Number['EPSILON']?Math['abs'](_0x187bed['x'])>Math['abs'](_0x187bed['y'])?(this['x']=-_0x187bed['z'],this['y']=0xb61+-0x3a*-0x3d+0x1933*-0x1,this['z']=_0x187bed['x'],this['w']=0x5f3*0x1+-0x5*0x52d+0x13ee*0x1):(this['x']=-0x13ce+-0x1*0x15b2+0x40*0xa6,this['y']=-_0x187bed['z'],this['z']=_0x187bed['y'],this['w']=-0x1*0x1d1b+0x1d57+-0x1e*0x2):(this['x']=_0x187bed['y']*_0x47793f['z']-_0x187bed['z']*_0x47793f['y'],this['y']=_0x187bed['z']*_0x47793f['x']-_0x187bed['x']*_0x47793f['z'],this['z']=_0x187bed['x']*_0x47793f['y']-_0x187bed['y']*_0x47793f['x'],this['w']=_0x3949bf),this['normalize']();}['slerp'](_0x393837,_0x5dff57,_0x1ab288){const _0x4211ff=_0x393837['x'],_0xc9d4f1=_0x393837['y'],_0x2d88f0=_0x393837['z'],_0x286b62=_0x393837['w'];let _0x30c398=_0x5dff57['x'],_0x4d9c27=_0x5dff57['y'],_0x57d15b=_0x5dff57['z'],_0x3a8112=_0x5dff57['w'],_0x47a010=_0x286b62*_0x3a8112+_0x4211ff*_0x30c398+_0xc9d4f1*_0x4d9c27+_0x2d88f0*_0x57d15b;if(_0x47a010<-0x4a*-0x4b+-0x563+0x104b*-0x1&&(_0x3a8112=-_0x3a8112,_0x30c398=-_0x30c398,_0x4d9c27=-_0x4d9c27,_0x57d15b=-_0x57d15b,_0x47a010=-_0x47a010),Math['abs'](_0x47a010)>=0x25d3*-0x1+0x1537+0x1*0x109d)return this['w']=_0x286b62,this['x']=_0x4211ff,this['y']=_0xc9d4f1,this['z']=_0x2d88f0,this;const _0x18aba2=Math['acos'](_0x47a010),_0x12f08b=Math['sqrt'](-0x5c5+-0x2f2+0x8b8-_0x47a010*_0x47a010);if(Math['abs'](_0x12f08b)<-0x236+-0x142+-0xc*-0x4a+0.001)return this['w']=_0x286b62*(-0xca1*-0x3+0x12f5+-0x38d8+0.5)+_0x3a8112*(0x1f6e+-0x334*-0xb+-0x42aa+0.5),this['x']=_0x4211ff*(-0x430*0x1+0x146f+-0x1*0x103f+0.5)+_0x30c398*(-0x1b97+-0x1126+0x2cbd+0.5),this['y']=_0xc9d4f1*(-0x6*0x2c8+0x25fd+0x29*-0x85+0.5)+_0x4d9c27*(-0x3dd+0xd9*0x6+-0x1*0x139+0.5),this['z']=_0x2d88f0*(0x428+0x1a42+-0x1e6a+0.5)+_0x57d15b*(0x8db+0xa1d*-0x2+-0x29*-0x47+0.5),this;const _0x174a96=Math['sin']((0x36a*-0x2+-0x13df+0x1ab4-_0x1ab288)*_0x18aba2)/_0x12f08b,_0x51cd34=Math['sin'](_0x1ab288*_0x18aba2)/_0x12f08b;return this['w']=_0x286b62*_0x174a96+_0x3a8112*_0x51cd34,this['x']=_0x4211ff*_0x174a96+_0x30c398*_0x51cd34,this['y']=_0xc9d4f1*_0x174a96+_0x4d9c27*_0x51cd34,this['z']=_0x2d88f0*_0x174a96+_0x57d15b*_0x51cd34,this;}['transformV'+'ector'](_0xb356e3,_0x2ab43b=new D()){const _0x146a9a=_0xb356e3['x'],_0x4431dc=_0xb356e3['y'],_0x28cc51=_0xb356e3['z'],_0x3795ee=this['x'],_0x9072df=this['y'],_0xe782cc=this['z'],_0x3cf3cb=this['w'],_0x455e6f=_0x3cf3cb*_0x146a9a+_0x9072df*_0x28cc51-_0xe782cc*_0x4431dc,_0x10c5e5=_0x3cf3cb*_0x4431dc+_0xe782cc*_0x146a9a-_0x3795ee*_0x28cc51,_0x4793a3=_0x3cf3cb*_0x28cc51+_0x3795ee*_0x4431dc-_0x9072df*_0x146a9a,_0xc08fe5=-_0x3795ee*_0x146a9a-_0x9072df*_0x4431dc-_0xe782cc*_0x28cc51;return _0x2ab43b['x']=_0x455e6f*_0x3cf3cb+_0xc08fe5*-_0x3795ee+_0x10c5e5*-_0xe782cc-_0x4793a3*-_0x9072df,_0x2ab43b['y']=_0x10c5e5*_0x3cf3cb+_0xc08fe5*-_0x9072df+_0x4793a3*-_0x3795ee-_0x455e6f*-_0xe782cc,_0x2ab43b['z']=_0x4793a3*_0x3cf3cb+_0xc08fe5*-_0xe782cc+_0x455e6f*-_0x9072df-_0x10c5e5*-_0x3795ee,_0x2ab43b;}['fromArray'](_0xd111a9,_0x1a1ca8=0x6e6+-0x10f*0x11+0x3*0x3b3){return this['x']=_0xd111a9[_0x1a1ca8]??this['x'],this['y']=_0xd111a9[_0x1a1ca8+(-0xb91+0x21b8+0xd2*-0x1b)]??this['y'],this['z']=_0xd111a9[_0x1a1ca8+(0x70b*-0x1+-0x14cb+-0xc*-0x252)]??this['z'],this['w']=_0xd111a9[_0x1a1ca8+(-0x15e2+-0xac+0x1691)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3a2b00=[],_0x121a97=-0x1ee8+0xc51*-0x3+0x43db){return _0x3a2b00[_0x121a97]=this['x'],_0x3a2b00[_0x121a97+(0xf16+-0x1c66+0xd51)]=this['y'],_0x3a2b00[_0x121a97+(0x19a5+0x2f*-0xb+-0x179e)]=this['z'],_0x3a2b00[_0x121a97+(-0x113c+0x1833+-0xb2*0xa)]=this['w'],_0x3a2b00;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0x100c+-0xaff+-0x50d,0x6*-0x186+0xab7+0x193*-0x1,-0xaf2+0x1*0x36e+0x784,0x4*-0x2+-0x1eb0+-0x8f*-0x37))),h(Sn,'ZERO',Object['freeze'](new Sn(0x89*-0xf+0x2493+-0x1c8c,0xe5d+-0x271*-0x7+-0x1f74,-0x1057+-0x1df*0x6+0x1*0x1b91,-0x1*-0x1d84+0x6d0+-0x2454)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x2a7bb3,_0x1db359){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(-0xdf+0x527*-0x3+0x1054+0.5,-0x1*-0x205a+0x2207+0x4261*-0x1+0.5,-0x427+0x9d0+0x1*-0x5a9+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x2a7bb3&&this['center']['copy'](_0x2a7bb3),_0x1db359&&this['halfExtent'+'s']['copy'](_0x1db359));}['add'](_0x49455c){const _0x5c570c=this['center'],_0x53c150=_0x5c570c['x'],_0x1cf65c=_0x5c570c['y'],_0x22ffac=_0x5c570c['z'],_0x59e9e4=this['halfExtent'+'s'],_0x1afe80=_0x59e9e4['x'],_0x265762=_0x59e9e4['y'],_0x241d1e=_0x59e9e4['z'];let _0x3095ba=_0x53c150-_0x1afe80,_0x5cd66e=_0x53c150+_0x1afe80,_0x3c89be=_0x1cf65c-_0x265762,_0x2c1e85=_0x1cf65c+_0x265762,_0x8f4669=_0x22ffac-_0x241d1e,_0x3bd610=_0x22ffac+_0x241d1e;const _0x36b127=_0x49455c['center'],_0x20d8fc=_0x36b127['x'],_0x5421d2=_0x36b127['y'],_0x322f5d=_0x36b127['z'],_0xbfba7=_0x49455c['halfExtent'+'s'],_0x349e69=_0xbfba7['x'],_0x5230b1=_0xbfba7['y'],_0x1a112a=_0xbfba7['z'],_0x210e62=_0x20d8fc-_0x349e69,_0x2f12ae=_0x20d8fc+_0x349e69,_0x3edf8d=_0x5421d2-_0x5230b1,_0x4bb7cf=_0x5421d2+_0x5230b1,_0x28fe63=_0x322f5d-_0x1a112a,_0x23a5ba=_0x322f5d+_0x1a112a;_0x210e62<_0x3095ba&&(_0x3095ba=_0x210e62),_0x2f12ae>_0x5cd66e&&(_0x5cd66e=_0x2f12ae),_0x3edf8d<_0x3c89be&&(_0x3c89be=_0x3edf8d),_0x4bb7cf>_0x2c1e85&&(_0x2c1e85=_0x4bb7cf),_0x28fe63<_0x8f4669&&(_0x8f4669=_0x28fe63),_0x23a5ba>_0x3bd610&&(_0x3bd610=_0x23a5ba),_0x5c570c['x']=(_0x3095ba+_0x5cd66e)*(-0x2577+0x14e9+0x108e+0.5),_0x5c570c['y']=(_0x3c89be+_0x2c1e85)*(-0xa6b+-0x180b+-0x113b*-0x2+0.5),_0x5c570c['z']=(_0x8f4669+_0x3bd610)*(-0x1*0x6a3+0x8a6*-0x1+0x22f*0x7+0.5),_0x59e9e4['x']=(_0x5cd66e-_0x3095ba)*(-0xd40+0x1ff*-0xb+0x2335+0.5),_0x59e9e4['y']=(_0x2c1e85-_0x3c89be)*(-0x268f+-0x9*0x254+0x3b83*0x1+0.5),_0x59e9e4['z']=(_0x3bd610-_0x8f4669)*(0x3*-0x515+-0xd3+-0xb*-0x176+0.5);}['copy'](_0x144f63){this['center']['copy'](_0x144f63['center']),this['halfExtent'+'s']['copy'](_0x144f63['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x380d51){const _0x280659=this['getMax'](),_0x555aad=this['getMin'](),_0x3e54df=_0x380d51['getMax'](),_0x403a25=_0x380d51['getMin']();return _0x555aad['x']<=_0x3e54df['x']&&_0x280659['x']>=_0x403a25['x']&&_0x555aad['y']<=_0x3e54df['y']&&_0x280659['y']>=_0x403a25['y']&&_0x555aad['z']<=_0x3e54df['z']&&_0x280659['z']>=_0x403a25['z'];}['_intersect'+'sRay'](_0x1665f6,_0x1d9978){const _0x1f13be=Pa['copy'](this['getMin']())['sub'](_0x1665f6['origin']),_0x4de8c1=Ma['copy'](this['getMax']())['sub'](_0x1665f6['origin']),_0x5ef344=_0x1665f6['direction'];_0x5ef344['x']===0xd*-0x2b6+0xa67*0x1+0x18d7?(_0x1f13be['x']=_0x1f13be['x']<-0x2365+0xb6*-0x4+0x263d?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4de8c1['x']=_0x4de8c1['x']<-0x1*-0x1a90+0x1367*-0x1+0x3*-0x263?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1f13be['x']/=_0x5ef344['x'],_0x4de8c1['x']/=_0x5ef344['x']),_0x5ef344['y']===0x100f+-0x49f*-0x3+-0xef6*0x2?(_0x1f13be['y']=_0x1f13be['y']<0x1*0x10c+-0x19c8+-0x18bc*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4de8c1['y']=_0x4de8c1['y']<0x34*0x46+0x1*0x167a+-0x24b2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1f13be['y']/=_0x5ef344['y'],_0x4de8c1['y']/=_0x5ef344['y']),_0x5ef344['z']===0x7*0xcc+-0xd31*0x1+-0x1*-0x79d?(_0x1f13be['z']=_0x1f13be['z']<0x305*-0x9+0x13a*-0x2+0x1da1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4de8c1['z']=_0x4de8c1['z']<0x1bbe+0xaa0+-0x3*0xcca?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1f13be['z']/=_0x5ef344['z'],_0x4de8c1['z']/=_0x5ef344['z']);const _0x195573=Um['set'](Math['min'](_0x1f13be['x'],_0x4de8c1['x']),Math['min'](_0x1f13be['y'],_0x4de8c1['y']),Math['min'](_0x1f13be['z'],_0x4de8c1['z'])),_0x283012=Bm['set'](Math['max'](_0x1f13be['x'],_0x4de8c1['x']),Math['max'](_0x1f13be['y'],_0x4de8c1['y']),Math['max'](_0x1f13be['z'],_0x4de8c1['z'])),_0x1ce649=Math['min'](Math['min'](_0x283012['x'],_0x283012['y']),_0x283012['z']),_0x44979f=Math['max'](Math['max'](_0x195573['x'],_0x195573['y']),_0x195573['z']),_0xaecc02=_0x1ce649>=_0x44979f&&_0x44979f>=0x11f*-0x1+-0x6d*-0x29+-0x1056;return _0xaecc02&&_0x1d9978['copy'](_0x1665f6['direction'])['mulScalar'](_0x44979f)['add'](_0x1665f6['origin']),_0xaecc02;}['_fastInter'+'sectsRay'](_0x5289a2){const _0x3c4b5f=Pa,_0x1bbd8b=Ma,_0x2d7bdd=Um,_0x3be42d=Bm,_0x3b947d=gx,_0x147d02=_0x5289a2['direction'];return _0x3c4b5f['sub2'](_0x5289a2['origin'],this['center']),_0x3be42d['set'](Math['abs'](_0x3c4b5f['x']),Math['abs'](_0x3c4b5f['y']),Math['abs'](_0x3c4b5f['z'])),_0x2d7bdd['mul2'](_0x3c4b5f,_0x147d02),!(_0x3be42d['x']>this['halfExtent'+'s']['x']&&_0x2d7bdd['x']>=0x1d42+-0x12*-0x109+-0x2fe4||_0x3be42d['y']>this['halfExtent'+'s']['y']&&_0x2d7bdd['y']>=-0x1*0xeec+0x1e7*-0x5+0x186f*0x1||_0x3be42d['z']>this['halfExtent'+'s']['z']&&_0x2d7bdd['z']>=0xe*-0xe+-0x105f+-0x29*-0x6b||(_0x3b947d['set'](Math['abs'](_0x147d02['x']),Math['abs'](_0x147d02['y']),Math['abs'](_0x147d02['z'])),_0x1bbd8b['cross'](_0x147d02,_0x3c4b5f),_0x1bbd8b['set'](Math['abs'](_0x1bbd8b['x']),Math['abs'](_0x1bbd8b['y']),Math['abs'](_0x1bbd8b['z'])),_0x1bbd8b['x']>this['halfExtent'+'s']['y']*_0x3b947d['z']+this['halfExtent'+'s']['z']*_0x3b947d['y'])||_0x1bbd8b['y']>this['halfExtent'+'s']['x']*_0x3b947d['z']+this['halfExtent'+'s']['z']*_0x3b947d['x']||_0x1bbd8b['z']>this['halfExtent'+'s']['x']*_0x3b947d['y']+this['halfExtent'+'s']['y']*_0x3b947d['x']);}['intersects'+'Ray'](_0x33b82a,_0x50878a){return _0x50878a?this['_intersect'+'sRay'](_0x33b82a,_0x50878a):this['_fastInter'+'sectsRay'](_0x33b82a);}['setMinMax'](_0x2ab7bb,_0x4fc917){this['center']['add2'](_0x4fc917,_0x2ab7bb)['mulScalar'](0x1c72+-0x1b34+0x13e*-0x1+0.5),this['halfExtent'+'s']['sub2'](_0x4fc917,_0x2ab7bb)['mulScalar'](-0x128f*0x1+0x1111+-0x2*-0xbf+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x24caa5){const _0x5f2db0=this['getMin'](),_0xd1fb95=this['getMax']();return!(_0x24caa5['x']<_0x5f2db0['x']||_0x24caa5['x']>_0xd1fb95['x']||_0x24caa5['y']<_0x5f2db0['y']||_0x24caa5['y']>_0xd1fb95['y']||_0x24caa5['z']<_0x5f2db0['z']||_0x24caa5['z']>_0xd1fb95['z']);}['setFromTra'+'nsformedAa'+'bb'](_0xba7f42,_0x284387,_0x2546af=!(-0x170d+-0x487+-0x133*-0x17)){const _0x5f328b=_0xba7f42['center'],_0x343933=_0xba7f42['halfExtent'+'s'],_0x395ba7=_0x284387['data'];let _0x26785b=_0x395ba7[-0x1*0x226e+-0x1e9f+0x15*0x319],_0x25e48f=_0x395ba7[0x8fa+-0xb7f*0x1+-0x3b*-0xb],_0x57c872=_0x395ba7[0xe05+0x21f+-0x101c],_0x4a9993=_0x395ba7[0x17b6+-0x3*0xc4a+0xd29],_0x277c6f=_0x395ba7[0x1dac+0x1f9*0xb+-0x335a],_0x2ee3ab=_0x395ba7[0x7c+0x2088+-0x20fb],_0x11ab87=_0x395ba7[0x18d*-0x6+-0x5*-0x665+0x16a9*-0x1],_0xdd8181=_0x395ba7[-0x33d*0x4+-0x5e*-0x29+-0x4*0x85],_0x10b464=_0x395ba7[-0x185e+-0x1c9*0xd+0x2f9d];if(_0x2546af){let _0x5532c3=_0x26785b*_0x26785b+_0x25e48f*_0x25e48f+_0x57c872*_0x57c872;if(_0x5532c3>0x3*-0x13f+-0x1*0x189c+-0x3b*-0x7b){const _0x341d7a=(0x2b*-0x97+-0x1245+0x2ba3)/Math['sqrt'](_0x5532c3);_0x26785b*=_0x341d7a,_0x25e48f*=_0x341d7a,_0x57c872*=_0x341d7a;}if(_0x5532c3=_0x4a9993*_0x4a9993+_0x277c6f*_0x277c6f+_0x2ee3ab*_0x2ee3ab,_0x5532c3>-0x12e2+0x1e6f+-0xb8d){const _0x58016c=(0x14d3+-0x16e4+0x109*0x2)/Math['sqrt'](_0x5532c3);_0x4a9993*=_0x58016c,_0x277c6f*=_0x58016c,_0x2ee3ab*=_0x58016c;}if(_0x5532c3=_0x11ab87*_0x11ab87+_0xdd8181*_0xdd8181+_0x10b464*_0x10b464,_0x5532c3>0x33b+0x758*-0x2+-0x7*-0x1a3){const _0x53b669=(0x14ce+0x1dd6+-0x32a3*0x1)/Math['sqrt'](_0x5532c3);_0x11ab87*=_0x53b669,_0xdd8181*=_0x53b669,_0x10b464*=_0x53b669;}}this['center']['set'](_0x395ba7[-0x1*-0x267c+-0x2*0xb03+-0x1*0x106a]+_0x26785b*_0x5f328b['x']+_0x25e48f*_0x5f328b['y']+_0x57c872*_0x5f328b['z'],_0x395ba7[-0x18*0x5c+-0xbbd+0x146a]+_0x4a9993*_0x5f328b['x']+_0x277c6f*_0x5f328b['y']+_0x2ee3ab*_0x5f328b['z'],_0x395ba7[-0x15be+0x1f4c+0x4*-0x260]+_0x11ab87*_0x5f328b['x']+_0xdd8181*_0x5f328b['y']+_0x10b464*_0x5f328b['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x26785b)*_0x343933['x']+Math['abs'](_0x25e48f)*_0x343933['y']+Math['abs'](_0x57c872)*_0x343933['z'],Math['abs'](_0x4a9993)*_0x343933['x']+Math['abs'](_0x277c6f)*_0x343933['y']+Math['abs'](_0x2ee3ab)*_0x343933['z'],Math['abs'](_0x11ab87)*_0x343933['x']+Math['abs'](_0xdd8181)*_0x343933['y']+Math['abs'](_0x10b464)*_0x343933['z']);}static['computeMin'+'Max'](_0x141f6f,_0x3d94ac,_0x18a414,_0x7ffe98=_0x141f6f['length']/(0x2e*-0xa7+0x1a94+0x371)){if(_0x7ffe98>0x1a*0x35+0x2257+-0x27b9){let _0x53b494=_0x141f6f[0x108*-0x2+-0x5*-0x2cf+0x1*-0xbfb],_0xc43b69=_0x141f6f[0x4f4+-0x1c8*-0x1+-0x1*0x6bb],_0x38bcf4=_0x141f6f[-0xaf7+0x1*0xbb4+-0xbb],_0x3c5efd=_0x53b494,_0xd7a5fa=_0xc43b69,_0x5d5190=_0x38bcf4;const _0x564447=_0x7ffe98*(0x17*-0x5c+-0x3ec*-0x6+0x163*-0xb);for(let _0x322037=0x61a*-0x1+0x1*0x2435+-0x1e18;_0x322037<_0x564447;_0x322037+=0x1796+-0xef7+-0x89c){const _0x4f1296=_0x141f6f[_0x322037],_0x251b44=_0x141f6f[_0x322037+(-0x1*-0x1d63+0x1ce6+-0x3a48)],_0x24b4c9=_0x141f6f[_0x322037+(-0x8*-0xc+-0x5b3*-0x1+0x1*-0x611)];_0x4f1296<_0x53b494&&(_0x53b494=_0x4f1296),_0x251b44<_0xc43b69&&(_0xc43b69=_0x251b44),_0x24b4c9<_0x38bcf4&&(_0x38bcf4=_0x24b4c9),_0x4f1296>_0x3c5efd&&(_0x3c5efd=_0x4f1296),_0x251b44>_0xd7a5fa&&(_0xd7a5fa=_0x251b44),_0x24b4c9>_0x5d5190&&(_0x5d5190=_0x24b4c9);}_0x3d94ac['set'](_0x53b494,_0xc43b69,_0x38bcf4),_0x18a414['set'](_0x3c5efd,_0xd7a5fa,_0x5d5190);}}['compute'](_0x390755,_0x103e72){De['computeMin'+'Max'](_0x390755,Pa,Ma,_0x103e72),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x355a9b){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x355a9b)<=_0x355a9b['radius']*_0x355a9b['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0xf6739c){const _0x45b9b1=this['getMin'](),_0x393c23=this['getMax']();let _0x20bf9d=-0x156d+0x259f*0x1+-0x1032;const _0x1cd184=['x','y','z'];for(let _0xaca234=-0x1d55+0x1*-0x1c61+0x39b6;_0xaca234<0x13c3+0x1*0x4+-0x13c4;++_0xaca234){let _0x3cabe1=-0x1eb*-0x7+-0x106b*-0x2+-0x2e43;const _0x4268bd=_0xf6739c['center'][_0x1cd184[_0xaca234]],_0x2169de=_0x45b9b1[_0x1cd184[_0xaca234]],_0x12111b=_0x393c23[_0x1cd184[_0xaca234]];let _0x2d7782=0x184c+0x835+-0x1*0x2081;_0x4268bd<_0x2169de&&(_0x2d7782=_0x2169de-_0x4268bd,_0x3cabe1+=_0x2d7782*_0x2d7782),_0x4268bd>_0x12111b&&(_0x2d7782=_0x4268bd-_0x12111b,_0x3cabe1+=_0x2d7782*_0x2d7782),_0x20bf9d+=_0x3cabe1;}return _0x20bf9d;}['_expand'](_0x3cd2c0,_0x6125e){Pa['add2'](this['getMin'](),_0x3cd2c0),Ma['add2'](this['getMax'](),_0x6125e),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x2d89cc=new D(),_0x5f17ab=0x2454+-0x1*-0x146b+-0x38bf*0x1+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x2d89cc),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x2d89cc,this['radius']=_0x5f17ab);}['containsPo'+'int'](_0x34a9c3){const _0x3ad4a1=Wl['sub2'](_0x34a9c3,this['center'])['lengthSq'](),_0x382e3d=this['radius'];return _0x3ad4a1<_0x382e3d*_0x382e3d;}['intersects'+'Ray'](_0x262f23,_0x2c4b75){const _0x28df58=Wl['copy'](_0x262f23['origin'])['sub'](this['center']),_0x2562ca=_0x28df58['dot'](Sx['copy'](_0x262f23['direction'])['normalize']()),_0x4b8245=_0x28df58['dot'](_0x28df58)-this['radius']*this['radius'];if(_0x4b8245>0x1a4f+-0x1*-0x179+-0x1fc*0xe&&_0x2562ca>0x2f+0xcc5+-0xcf4)return!(0x6*-0x293+0x139e+-0x42b);const _0x8c32b0=_0x2562ca*_0x2562ca-_0x4b8245;if(_0x8c32b0<0x14d1+-0x7*-0x15d+0x1e5c*-0x1)return!(-0x76*0x28+-0xa6*0x39+0x3767);const _0x4fee42=Math['abs'](-_0x2562ca-Math['sqrt'](_0x8c32b0));return _0x2c4b75&&_0x2c4b75['copy'](_0x262f23['direction'])['mulScalar'](_0x4fee42)['add'](_0x262f23['origin']),!(0x1*0x4f9+-0x1*-0x1475+-0x196e);}['intersects'+'BoundingSp'+'here'](_0x230530){Wl['sub2'](_0x230530['center'],this['center']);const _0x5a8dce=_0x230530['radius']+this['radius'];return Wl['lengthSq']()<=_0x5a8dce*_0x5a8dce;}}class QS{constructor(_0x572994=D['UP'],_0x394a0d=0x15e9*0x1+0xf6a+-0x2553){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x572994),this['distance']=_0x394a0d);}['clone'](){const _0x54843f=this['constructo'+'r'];return new _0x54843f()['copy'](this);}['copy'](_0x2a3fd9){return this['normal']['copy'](_0x2a3fd9['normal']),this['distance']=_0x2a3fd9['distance'],this;}['intersects'+'Line'](_0x24edc1,_0x526fe2,_0x230a39){const _0x353f77=this['distance'],_0x561f25=this['normal']['dot'](_0x24edc1)+_0x353f77,_0x5d62ec=this['normal']['dot'](_0x526fe2)+_0x353f77,_0x5a2aff=_0x561f25/(_0x561f25-_0x5d62ec),_0x2b9e38=_0x5a2aff>=0x1*0x525+0x1b59+-0x207e&&_0x5a2aff<=-0x1*-0x80e+-0x1*-0x170a+0x1*-0x1f17;return _0x2b9e38&&_0x230a39&&_0x230a39['lerp'](_0x24edc1,_0x526fe2,_0x5a2aff),_0x2b9e38;}['intersects'+'Ray'](_0x350cf2,_0x454bd0){const _0x2134e0=this['normal']['dot'](_0x350cf2['direction']);if(_0x2134e0===0x1f0d+-0x1090+-0xe7d)return!(0x13bb+0x1c39+0x1eb*-0x19);const _0x40db97=-(this['normal']['dot'](_0x350cf2['origin'])+this['distance'])/_0x2134e0;return _0x40db97>=-0x2331+0x2*-0x1336+0x499d&&_0x454bd0&&_0x454bd0['copy'](_0x350cf2['direction'])['mulScalar'](_0x40db97)['add'](_0x350cf2['origin']),_0x40db97>=0x8e8+-0x56*-0x2b+0x31*-0x7a;}['normalize'](){const _0x50e395=(-0x1fd7+-0x1*-0x192a+0x6ae)/this['normal']['length']();return this['normal']['mulScalar'](_0x50e395),this['distance']*=_0x50e395,this;}['set'](_0x3fb273,_0x4e6cfc,_0x3f69e1,_0x332356){return this['normal']['set'](_0x3fb273,_0x4e6cfc,_0x3f69e1),this['distance']=_0x332356,this;}['setFromPoi'+'ntNormal'](_0x2f0e81,_0x3b13be){return this['normal']['copy'](_0x3b13be),this['distance']=-this['normal']['dot'](_0x2f0e81),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x27d16a=0x111d+0x1*-0x287+-0xe96;_0x27d16a<-0x1767+-0xb*-0xf4+-0x1*-0xcf1;_0x27d16a++)this['planes'][_0x27d16a]=new QS();}['clone'](){const _0x2fd91a=this['constructo'+'r'];return new _0x2fd91a()['copy'](this);}['copy'](_0x1b38e2){for(let _0x36a8ec=-0x1b5a*-0x1+0xfa2+-0x83*0x54;_0x36a8ec<0xb09+-0x20*-0x89+-0x1c23;_0x36a8ec++)this['planes'][_0x36a8ec]['copy'](_0x1b38e2['planes'][_0x36a8ec]);return this;}['setFromMat'+'4'](_0x520981){const [_0x24c142,_0x2d23d1,_0x1f476e,_0x59fcc2,_0xd67fb3,_0x4fd609,_0x541bce,_0x4b5af8,_0x48670f,_0x10a5e5,_0x1627c9,_0x1eb287,_0x1e24ac,_0x3ebdd1,_0x48a888,_0x50fb3a]=_0x520981['data'],_0x3e85aa=this['planes'];_0x3e85aa[-0xbdf+0xac8+0x5d*0x3]['set'](_0x59fcc2-_0x24c142,_0x4b5af8-_0xd67fb3,_0x1eb287-_0x48670f,_0x50fb3a-_0x1e24ac)['normalize'](),_0x3e85aa[0xe13+-0x13fb+0x11*0x59]['set'](_0x59fcc2+_0x24c142,_0x4b5af8+_0xd67fb3,_0x1eb287+_0x48670f,_0x50fb3a+_0x1e24ac)['normalize'](),_0x3e85aa[-0x1280*-0x1+-0x264d+0x13cf*0x1]['set'](_0x59fcc2+_0x2d23d1,_0x4b5af8+_0x4fd609,_0x1eb287+_0x10a5e5,_0x50fb3a+_0x3ebdd1)['normalize'](),_0x3e85aa[0x11*0xbf+0x87e*-0x2+-0xc*-0x5c]['set'](_0x59fcc2-_0x2d23d1,_0x4b5af8-_0x4fd609,_0x1eb287-_0x10a5e5,_0x50fb3a-_0x3ebdd1)['normalize'](),_0x3e85aa[0x1*-0x1633+-0x2668*-0x1+-0x1031*0x1]['set'](_0x59fcc2-_0x1f476e,_0x4b5af8-_0x541bce,_0x1eb287-_0x1627c9,_0x50fb3a-_0x48a888)['normalize'](),_0x3e85aa[0x20c*-0x3+-0x140*-0x7+0x27*-0x11]['set'](_0x59fcc2+_0x1f476e,_0x4b5af8+_0x541bce,_0x1eb287+_0x1627c9,_0x50fb3a+_0x48a888)['normalize']();}['containsPo'+'int'](_0xad638a){for(let _0x448b65=-0x784+0xcfa*-0x2+-0x48*-0x77;_0x448b65<-0xd64+-0x1*0x1b13+0x1*0x287d;_0x448b65++){const {normal:_0x569c0c,distance:_0x185efa}=this['planes'][_0x448b65];if(_0x569c0c['dot'](_0xad638a)+_0x185efa<=0x1cf8+-0x1ad0+-0x228)return!(-0x1df9+0x1102+-0x5*-0x298);}return!(0x1d3f+0x147e*-0x1+-0x1*0x8c1);}['containsSp'+'here'](_0xc6f5bf){const {center:_0x4471a0,radius:_0x483fdb}=_0xc6f5bf;let _0x3e19d5=-0x9fc+-0x1871*0x1+0x4eb*0x7;for(let _0x30f1a9=0x1c5*0x4+0x71*-0x11+0x6d;_0x30f1a9<-0x186*-0xa+-0xbda+0x2*-0x1ae;_0x30f1a9++){const {normal:_0x569c6c,distance:_0x383218}=this['planes'][_0x30f1a9],_0x5f4e31=_0x569c6c['dot'](_0x4471a0)+_0x383218;if(_0x5f4e31<=-_0x483fdb)return-0x211a+0x1c76*0x1+0x9*0x84;_0x5f4e31>_0x483fdb&&_0x3e19d5++;}return _0x3e19d5===0x7a9+-0x4*0x69c+-0x1*-0x12cd?0x6*0x67+-0x151e+0x12b6:-0x168e+-0x25a7+0x1*0x3c36;}}class Dn{constructor(_0x431da6,_0x22539e){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x431da6&&this['origin']['copy'](_0x431da6),_0x22539e&&this['direction']['copy'](_0x22539e));}['set'](_0x222da7,_0x31a626){return this['origin']['copy'](_0x222da7),this['direction']['copy'](_0x31a626),this;}['copy'](_0x9a2532){return this['set'](_0x9a2532['origin'],_0x9a2532['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0x1ebd+-0x32*-0x43+-0xd*0x35f,ue=-0x26ad*-0x1+-0x7ce+-0x1ede,ip=-0x38+-0x1b3+0x1ed,rp=-0x148d*-0x1+0x8d9+-0x1d66,Ft=0x184e*-0x1+0x61*0x50+-0x1d*0x35,vx=0x661+0x247f+0x2*-0x156f,JS=0x2*-0x8b5+0xb*0x52+0xde8,xx=-0x4*-0x520+0x910+-0x1d8b,jh=-0x2*0x2b4+0xa09+-0x49b,Yh=-0x205d*-0x1+-0xdc4+-0x1291,fs=0x7a+-0x1608+0x158e,Tx=-0x1ed2+0x451+-0x1*-0x1a83,wx=0xa81*0x3+0xdd1+0x509*-0x9,Ex=0x17e*-0x9+0x12e7+-0x575,ms=-0x1*-0xdc6+0x91*0x7+0x13*-0xef,lh=0x18*0x15c+-0xb70+-0x13f*0x11,ey=-0x2482*-0x1+-0x1fa4+-0x4dc,bx=0x1285+0x58f*0x7+-0x1*0x396b,jo=-0x41b*-0x7+0x1*-0xe10+-0xeac,Yo=0x5c2+-0x99+-0x527,ch=-0xb1f+0x1*-0x3d1+-0xc*-0x13f,bt=-0x23da+-0x329*0x7+0x39f9,pa=-0x835*0x4+-0x1ed6+-0x1539*-0x3,Fo=-0xa*-0x3c2+-0x250b+-0x87,Ax=0x13eb*-0x1+-0xaa4+0xd*0x25a,Te=0x1*-0x171d+-0x4ae+0x5*0x58f,vt=-0x25ce+-0x8e2+0x2eb1,Kh=-0x1714+-0xe3f+0x2555,Zh=-0x19bb*0x1+0x4*-0x5ab+0x1835*0x2,Qh=0x3*-0x3cb+0x1c9*0x13+-0x3c1*0x6,ma=-0x4*0x4b1+0x705*-0x2+0x20d3,Cx=0x1*-0xf09+0xfac+0xa3*-0x1,hh=-0x17*-0xdd+-0x12c9+-0xd*0x15,dh=-0x261a+-0xc08+0x3224,Wf=0x2*0x1062+-0x2626+0x565*0x1,Px=-0x2*0xb1+-0xb1*-0x1+0xb5,Mx=-0x25*-0x101+-0x1102+-0x141e,Dx=0x5e*-0x61+-0x2dd*0x2+-0x423*-0xa,Wi=-0x10b*-0x1b+0x593+-0x21b5,$f=-0xd*0xc5+-0x177*-0x11+0x773*-0x2,Yi=-0xe*-0x14b+-0x1*0x687+-0xb92,wr=0x1*0x228e+-0x17*0x173+-0x137,ty=-0x7*0x14b+0x598*0x3+-0x7bb,sy=-0x14f*0xb+0x2*0x796+0x1*-0xc6,ap=0x950*-0x1+-0xc3+0xa15,Jh=-0x1453+-0x1718+-0x22*-0x147,np=0x17cb*-0x1+0x20cc+-0x8fd,ed=-0x622*0x1+0x89c*-0x1+0x1*0xec3,Cr=-0x174*0x7+0x1c18+-0x11e6,Ne=-0x16dd*-0x1+0x1*0x2692+0x18*-0x28f,td=-0x3*0x49e+0xe23+-0x41,op=0xd23+-0x6e7*-0x1+0x3*-0x6ab,vl=-0x2690+0x1315*-0x2+-0x11*-0x484,ui=-0x1d99+0xdad+0xff7,nt=0x464*-0x8+0xdcc+0x1560,Ye=-0x780+-0xeb0+0x1*0x163d,Xt=-0x2*-0x641+0x183*-0x5+-0x4e5,Ji=0x1*0x19a9+0x2632+0x3fcc*-0x1,$i=0x64a+-0x9*0xf3+0x251,sd=0x12f9+0xd0*-0x28+0xd98,In=-0x1*0x742+-0x207e+-0x2*-0x13e9,lp=-0x124b*0x1+-0x10a*-0x1a+0x52*-0x1b,_s=0x56e+0x16db*-0x1+-0x1*-0x1181,id=0x1cd8+0x38*0x66+-0x3313,cp=-0x2e*0x8b+0x38a*-0x6+0x2e4c,hp=0x253d*-0x1+-0x23*0x8d+0x389b,xl=-0x27b+-0x4*0x4c7+-0x7*-0x319,Tl=0x96e+0x139e+-0x1cf3,rd=-0x4*0x720+-0x5*-0x1f3+-0x1*-0x12db,ad=-0x1e13+-0x111e+0x2f4c,iy=0xf3+0xcc9*0x3+-0x2732,ry=-0x1d23*0x1+-0xeee+-0x122*-0x27,ay=-0xc38+0xe6f+-0x219*0x1,ny=-0x1496+-0x18ee+0x2da3,dp=0x55d*-0x7+-0x16*0x6d+0x2f09*0x1,oy=0x20ac+-0x14e8+-0xba3,fp=-0x1*-0x88b+-0x1*0x599+0x12*-0x28,up=-0x2522+-0x2*0x277+-0x1*-0x2a33,pp=0x17d5*-0x1+-0x1*-0x129a+0x55f,Ki=-0x9d4+-0x7*-0x56b+-0x1bf4*0x1,mp=-0xb5*0xe+0x400*-0x6+-0x2*-0x1106,ly=0x267d+0x215a+-0x1f0*0x25,_p=-0xe*0x1b2+-0x1*0x201b+0x37ff,gp=-0x1f9*0xa+0x1*-0x649+0x32*0x86,Sp=-0x1*-0x9d2+0x1f30+-0x28d8,yp=-0x2*-0x7f1+-0x1*0xcbe+-0x1*0x2f9,vp=0x84c+-0x23d+0x89*-0xb,cy=0x20b8+0x247b+-0x4506,xp=0x2698+0x6cd*0x4+-0x419e,nd=0x37+0x1a12*-0x1+-0x8ae*-0x3,Tp=0x1*-0x137e+0x1b3*-0xa+0x24ac,Ue=-0x70a+0x24e*0x2+0x29f*0x1,od=0x91b*-0x1+-0x5*-0x18d+-0x6*-0x42,wp=0x1a07+-0x1082+-0x952,Ep=0x9bb+-0x137e+-0x9f7*-0x1,bp=0x31*0x16+0x166b+-0x1a6c,Xf=-0x1a1a+-0x1aee+0x353e,qf=-0xc5*-0x1d+0x613*-0x3+-0x3e1,jf=-0xa51+0x1d25+-0x4*0x4a7,Yf=0x12cb+0x74c+-0x19da,Kf=-0x5dd*-0x6+-0x749+-0x1*0x1ba7,Zf=0xa04+-0x19b7+-0x7f9*-0x2,hy=0x8*0x32b+-0x60e+-0x130a*0x1,dy=0x2005+-0xb75+-0x144f,fy=0x1b4b+-0xcc+-0x1a3d,uy=-0x34*-0x79+-0x5af+-0x12a2,Qf=0x1ef3+0x220b+0x2*-0x205d,vn=0x1*0x1c72+0x1076+-0x2ca3*0x1,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0x213e*0x1+-0x84c+0x199*0x1a)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x3b5*0x1+0x89*0xf+-0xbbc)}],[sy,{'name':'L8','size':0x1,'ldr':!(0x1374*-0x2+-0x2*-0x313+0x20c2)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x20f9+-0x1cad+0x3da6)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0x17dd*0x1+-0xeca+-0x913)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x18b1+0x1*-0x32b+-0x4*-0x6f7)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x5f2+-0xc8+0x7b*0xe)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0x1*-0x1981+-0x12f9+-0x688)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0x2*0x201+0x1e4b+0x8c3*-0x3)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0x996*0x3+0x19d7+-0x3699),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x303+0x6b3+-0x9b6),'srgb':!(0x25d+0xd7f+-0x8c*0x1d)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x1*0xb36+-0x2b*-0x6b+-0x1d2f),'srgb':!(-0x1bd5+0x14c4+0x711)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x2*0xe12+-0x2*0x35c+-0x156c)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0x1a70+0x1fc*0x5+-0x245c),'srgb':!(-0x5fd+-0x2d1*-0x9+0x33a*-0x6)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x17*-0x6b+-0xab5*-0x2+-0xa9*0x2f),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x11d6+-0x17c9+0x299f),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x2e7+0x2*0x118d+-0x2601),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0xda*0x15+-0x1cd3+0x2eb5)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1255+-0x3*-0x40b+-0x1e76),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x19e2+-0x62c+0x200e),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x11cb+0xf34+0x297),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x248+0x10aa+-0x20e*0x7),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1601+0x34*-0x31+0x1ff5),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x1c73+0x592+0xb57*-0x3),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x17c5+-0x1713*0x1+0x2ed8),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x2158+0x3*-0xbd3+0xdf*0x4f)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x252b+-0x1*-0x1528+-0x2c7*0x15)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x13*-0x10+0x685+-0x555),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x11db+-0x250e+0x36e9),'srgb':!(0x6c6+0x1c*-0x85+0x7c6)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x16d2+0x22*0x3f+-0x1f30),'srgb':!(-0x259d*0x1+-0x3bc+0x2959)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x15*0x14d+0x1739+0x418),'srgb':!(0x185*0x4+0x2159+-0x276d)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x17*0x116+-0x3ad*-0x1+0x98d*-0x3),'srgb':!(-0x1*-0xf35+0x1250*-0x1+-0x1*-0x31b)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1c97+0xa*0x34d+-0x3d99),'srgb':!(-0x102d+0x1b68+0x23f*-0x5)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1e9d+-0x1d95+0x4*-0x42),'srgb':!(-0x1037+-0x7bd+0x17f4)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x409*0x9+-0x4ff+0x2950),'srgb':!(-0xe*-0x97+-0x95*0xa+0xd*-0x30)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x22d4+-0x5*0x6ac+0x2218*0x2)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x1*-0x2624+0x2090+0xee*0x6)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0xbe8+0x1e5c+-0x43a*0xa)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x74*0x37+-0x1*-0x340+0x15ac)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0x2234+-0x1165*-0x2+0x44fe*-0x1)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x1*-0x1b79+-0x1*0x437+0x1fb0)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0xb8*-0xc+-0x797*-0x5+-0x2e93*0x1)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x7*0x3e2+0x12fc+0x419*0x2)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x1e9a+-0x14cb*0x1+-0x9cf)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x1de+0x17f0+0x71*-0x32)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x1960+-0xae9*-0x2+0x38e)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x3*0x86+-0x13f8+0x3*0x622)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x4ca*0x8+0x16b5*0x1+0xf9b)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x9c*-0x2b+-0x1*-0x71d+0x1317)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x2051*-0x1+-0x934+-0x171d)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x1f*-0x97+-0x6d*0x17+0x1c14)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x1014+0xb*-0xb+-0xdf*-0x13)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x1c71+-0x20f8+0x487)}]]),Ix=_0x474f94=>{var _0x528488;return((_0x528488=Nt['get'](_0x474f94))==null?void(0x11*0x182+0x252a+-0x3ecc):_0x528488['blockSize'])!==void(-0x19e+0x453+-0x2b5);},fh=_0x16af74=>{var _0x5062b1;return((_0x5062b1=Nt['get'](_0x16af74))==null?void(0x16eb+0x3d*-0x6+-0x157d*0x1):_0x5062b1['srgb'])===!(-0x2d2*0x9+0x13a5+0x5bd);},dn=_0x2f3991=>{var _0x281496;return((_0x281496=Nt['get'](_0x2f3991))==null?void(0x2419+0xc*-0x13a+-0x1*0x1561):_0x281496['isInt'])===!(0x989*0x1+0x876+-0x11ff);},ld=_0x1c857d=>{var _0x54f253;return((_0x54f253=Nt['get'](_0x1c857d))==null?void(-0x4fd+0x1*-0x174b+-0xb5*-0x28):_0x54f253['srgbFormat'])||_0x1c857d;},Lx=_0x3eda0=>{for(const [_0x470e27,_0x19a3fa]of Nt)if(_0x19a3fa['srgbFormat']===_0x3eda0)return _0x470e27;return _0x3eda0;},py=_0x197c95=>{const _0x411ebc=Nt['get'](_0x197c95);return!!(_0x411ebc!=null&&_0x411ebc['ldr']&&!(_0x411ebc!=null&&_0x411ebc['srgb']));},my=_0x66a266=>{switch(_0x66a266){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x1541*-0x1+-0x61*-0x1d+-0x12*-0x92,hd=0x248*0x9+-0x1*0x21c1+0xd3a,_y=0x237f+0x22e1+-0x465e,gy=0x5df*0x2+0x1*-0x1435+0x87a,js=0x1021*0x1+0x15b8+-0x25d5,Er=-0x3*0xbd0+-0x1010+0x3385,oa=0x2612+-0x2163+0x1*-0x4a9,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0xf03+-0x139e*0x1+-0x1*-0x22a2,xn=-0x8c0+-0x115a*-0x1+0x3*-0x2de,kx=0x18e*0x7+0x1*-0x1864+0xd84,Ux=0x9f3*-0x1+-0x1056*0x1+0x1a4c,Bx=0x6bf+0x374+-0xa2e,$l=-0x2462+-0x761+-0x11*-0x293,yy=-0x1226+0x3c3+0x4*0x399,Od=-0x49b*0x6+-0x1ca1+0x14f*0x2b,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x88*0x32+-0x21bc+0x72d*0x1,Pr=0x1ed6+0x2*-0x88+-0x1dc4,vy=0x427*0x7+-0x261*-0x5+-0x28f3,xy='2d',zx=-0xa2a*0x3+-0x8d*-0x12+-0x4*-0x525,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1cb1+-0xe51+-0x14*0xb8,la=0xc36+0x676+-0x12ab,fd=-0x49+-0x8*-0x3a3+-0x1ccd,Ml=-0x1663+-0xf*0x59+0x1b9d*0x1,Ty=-0x1*0x8ea+0x1c2f+-0x9f*0x1f,el=-0x1fe*0x3+-0x3*-0x405+-0xc2*0x8,Ve=-0x2210+-0x1b3f+0x8c3*0x7,Tn=0x1efd+0x1871+-0x376e,_a=0x2*-0x65f+-0xd*0x2f5+-0x38*-0xea,Xs=0x1*-0x1399+-0x164*0x1+0x14ff,ga=0x967*0x1+0x24e0+-0x234*0x15,ds=0x2*0x1343+0xe*-0x80+-0x1f82,Rn=-0x217f+0xf*0xaf+-0x1743*-0x1,ca=-0x2*-0x232+-0x1eae+0x1a50,ha=-0x1670+-0x27*0x8d+-0xea6*-0x3,da=-0x7d9*-0x3+-0x1b5f+0x3dc,tl=0x2*-0xf7f+-0x1*-0x10cb+0xe3c,sl=0x1851*-0x1+0x7*-0x403+-0x68e*-0x8,il=-0x1772*0x1+-0x2659+0xc5e*0x5,_h=-0x2f*-0xa3+-0x24a2+-0x13*-0x5b,On=0xaa*0x26+-0x10e3+-0x84c,li=0x1*0x26a2+0x65d*0x1+-0x2cf1,Hx=-0x156c+-0x44*-0x53+-0x91*0x1,Wx=0x559+0x1d*-0x19+0x9d*-0x4,ud=-0x35*-0x7b+0xea3+-0x2809,$x=-0x5*-0x4f2+0x11*-0x21+0x1*-0x1677,Xx=0x7e*-0x15+-0x2276+-0x223*-0x15,qx=0x11*-0x107+-0x1a57*0x1+-0x52*-0x89,pd=0x1ac4+-0x21bc+0x5f*0x13,md=0x1517*0x1+0x1160+-0x2661,Lp=0x1177*-0x2+-0x1a*0x63+-0xb*-0x419,wy=-0x7*0x361+0xc06+0xbb9,jx=-0x10d2+0x106+0xfe5,Fn=-0x26ab+0x2*0x1b9+-0x2353*-0x1,Nn=0x44*-0x81+-0x74c+0x29ab,kn=0x1*0xbf+0x2325+-0x23c8,Un=0x1*-0xdd4+-0xb*0x16a+0x1d7f,Bn=0x1*-0x1453+0x1*-0x255f+-0x250*-0x19,_d=-0x11*-0x102+0x1*-0x24f6+0x13f3,gd=0x170b+-0x47*0x45+-0x3c8,zn=-0xc*-0x10+-0x131c+-0x127d*-0x1,Sd=0x26*0x2a+-0x8d7+-0x1*-0x2bd,yd=-0xc*0x17+-0x89*0x17+0x6*0x241,Vn=0x1e07+0xa6d*0x1+0xc*-0x35c,vd=-0x16*0x61+-0xca2+0x2f*0x73,xd=0x113c+-0x4df*-0x1+-0x15f5,gh=-0x1*0x1b99+0x1684+-0x14*-0x43,Rp=-0x1b62+0x2392+-0x808,Op=-0x5*0x6dd+0x1789+0xaf1,Yx=0x1c71+-0x15f5+-0x652,Kx=-0xdf7+0x9cc+-0x456*-0x1,Zx=-0x2347+-0x2ef*-0x4+0xd*0x1d3,Qx=0x25f*0xa+-0x4*0x449+-0x665*0x1,Jx=0x5*-0x517+0x1086+0x91b,eT=0x249*0xa+0x57*0x16+-0x1e25,tT=0x65*-0x61+0x1*0x21fd+-0x2*-0x23c,sT=0x784+0x25*0x10d+-0x2e34*0x1,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x1aec94,_0x4c2cc1)=>{_0x1aec94['forEach'](_0x5c40e9=>rT['set'](_0x5c40e9,_0x4c2cc1));});const aT='webgl2',Fp=-0x41f+0x1e2+0x2*0x11f,by=0x1790+-0x1adc+0x34e,nT=0x1a06+0x1a29*0x1+-0x5*0xa6f,oT='ldr',Ay=-0xf*-0x12+-0x1*0x2250+0x28f*0xd,Cy=-0x226e+-0x1566+0x37d6*0x1,Py=-0x1*0x36f+-0x271*-0xd+-0x1c4a,My=-0x767*-0x3+0x3c2*-0x5+-0x363,Dy=-0x13*0x84+0x1e*0x12a+-0x644*0x4,Iy=0x107*-0x9+-0x1b*0x131+0x298a,Ly=-0x202*0x4+-0x370+0xbb8,Ry=-0x449*-0x2+-0x795*0x1+-0x7d,lT=-0x1a61+-0xd47+-0x28a7*-0x1,rl=0xbee+0x2*0x14f+-0xe8c,Oy=0x3*-0x926+0x1ca6+-0x133,su=-0xc4f*0x1+0xb7*-0x15+-0x3*-0x91c,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0xa*0x1fd+0xb89*-0x1+-0x1f6c*-0x1,-0x109+0x1*0x2f5+-0x1eb*0x1,-0x1ab7+0x3*0x4b+-0x19d8*-0x1,-0xd*0x7c+0x92*0x2c+-0x12ca,0x5*0x1be+0x17af+-0x2061,-0x260a+-0x1eeb+0x44f9,-0x259+-0x19c3+0x1c20,-0xa*-0x18c+0x2517+0x1*-0x348d],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x43*0x71+-0x12c3*0x1+0xacf*-0x1,-0x1a29*0x1+-0x7*-0x48b+-0xe*0x67,0x261d+-0x3*0x6c3+-0x11d0],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x1*0x2345+0x1e8d+0x2*0x25c,Le[gs]=0xb8*-0x6+0x1e04+-0x19b3,Le[gi]=-0x215c+0xd7b*0x1+0x13e3,Le[us]=-0x2433+-0x91f+0x2d55,Le[Wt]=-0x525+-0x681*-0x1+-0x158,Le[is]=0x2*0x1069+-0x31f*-0xb+-0x4322,Le[ba]=-0x1*-0x16a4+0x1*-0x25de+0xf40,Le[wl]=0x3*-0x737+-0x236+0x17e2,Le[El]=0x1b1e+-0x1f*0x10+-0x1926,Le[bl]=0x18f6+0x1b*0x3+-0x167*0x12,Le[Al]=0x1dcb+-0x4*0x4f0+-0xa01,Le[Cl]=-0xc70+0x7*-0x466+-0x3ef*-0xb,Le[Pl]=-0xc2b+-0x18ad+0x4*0x939,Le[yi]=-0x18f0+-0x1*0x964+0x2261,Le[Jf]=0x1974+-0x12e2*-0x2+0x77*-0x88,Le[uh]=0xb*-0x127+-0xe3*-0x1b+0x3c1*-0x3,Le[Ap]=-0x3a*-0x52+0x1463+-0x26f5*0x1,Le[Cp]=-0x17*-0xe7+-0xd1e+-0x7a0,Le[Pp]=-0x249b*0x1+-0x190a+0x23*0x1c3,Le[Rx]=-0xbbd+-0xa03+0x15c5,Le[Ox]=-0x1606+-0x1c8+-0x2*-0xbea,Le[Fx]=0x15d2+-0x1f51+-0x1*-0x986,Le[Ko]=-0x1bf6+0x1*-0x1cf7+-0x7*-0x823,Le[Zo]=0x1385*0x2+0x1*0xbb+-0x27bc,Le[Nx]=-0x166*-0x11+-0x2509+0xd4d,Le[Mp]=-0xdc0+0x2352+-0x21*0xa7,Le[Dp]=0x92c+-0x837*0x3+0xf85,Le[ph]=-0x1ada+0x1eac+-0x5*0xc1,Le[Ip]=-0x1b10+-0xe86+0x29a4,Le[Ln]=0x935+0x5*0x2b+-0x1*0x9fd;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x1747+-0xe15+0x499*-0x2;}static['pushGpuMar'+'ker'](_0x59155a,_0x1e62fb){mr['markers']['push'](_0x1e62fb),_0x59155a['pushMarker'](_0x1e62fb);}static['popGpuMark'+'er'](_0x4ceaf0){mr['markers']['length']&&mr['markers']['pop'](),_0x4ceaf0['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0xf9c+-0x4ce+0x3*-0x39a;class Td{constructor(_0x5e5d44,_0x6a99d3){h(this,'slot',-(-0x185f+0x1cba+-0x45a)),h(this,'scopeId',null),(this['name']=_0x5e5d44,this['visibility']=_0x6a99d3);}}class kp extends Td{}class fT extends Td{constructor(_0x2b04d0,_0x4e8ef1,_0x1d2623=!(-0x19fd+0x1863+0x3*0x89)){super(_0x2b04d0,_0x4e8ef1),h(this,'format',''),(this['readOnly']=_0x1d2623,w['assert'](_0x1d2623||!(_0x4e8ef1&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x5293ef,_0x3feb38,_0xf9d085=xy,_0x100b16=zx,_0x5c6311=!(-0x2404+0x2647+-0x243),_0x3b3893=null){super(_0x5293ef,_0x3feb38),this['textureDim'+'ension']=_0xf9d085,this['sampleType']=_0x100b16,this['hasSampler']=_0x5c6311,this['samplerNam'+'e']=_0x3b3893??_0x5293ef+'_sampler';}}class uT extends Td{constructor(_0x170134,_0x2cff43=Ne,_0x3d33f5=xy,_0x472ff0=!(-0x419*0x1+0x23*0x44+-0x1*0x533),_0x537227=!(0x891+0x163c+-0x291*0xc)){super(_0x170134,nT),this['format']=_0x2cff43,this['textureDim'+'ension']=_0x3d33f5,this['write']=_0x472ff0,this['read']=_0x537227;}}class Ny{constructor(_0x2d2852,_0xffe81b){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0xffe81b));let _0x3bf5bd=-0x16e7+-0xf83*0x1+0x37e*0xb;_0xffe81b['forEach'](_0x41a758=>{_0x41a758['slot']=_0x3bf5bd++,_0x41a758 instanceof Gm&&_0x41a758['hasSampler']&&_0x3bf5bd++,_0x41a758 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x41a758):_0x41a758 instanceof Gm?this['textureFor'+'mats']['push'](_0x41a758):_0x41a758 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x41a758):_0x41a758 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x41a758):w['assert']('Invalid\x20bi'+'nd\x20format',_0x41a758);}),this['device']=_0x2d2852;const _0x233042=_0x2d2852['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x3e296f,_0x42ebd9)=>this['bufferForm'+'atsMap']['set'](_0x3e296f['name'],_0x42ebd9)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x3adc62,_0x17942f)=>{this['textureFor'+'matsMap']['set'](_0x3adc62['name'],_0x17942f),_0x3adc62['scopeId']=_0x233042['resolve'](_0x3adc62['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0xab389b,_0x34c7fb)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0xab389b['name'],_0x34c7fb),_0xab389b['scopeId']=_0x233042['resolve'](_0xab389b['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x4a99ee,_0x5bd9ea)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x4a99ee['name'],_0x5bd9ea),_0x4a99ee['scopeId']=_0x233042['resolve'](_0x4a99ee['name']);}),this['impl']=_0x2d2852['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x29eb1b){const _0x4e714a=this['textureFor'+'matsMap']['get'](_0x29eb1b);return _0x4e714a!==void(0x6b5*0x1+0x130a+-0x19bf)?this['textureFor'+'mats'][_0x4e714a]:null;}['getStorage'+'Texture'](_0x40ecb8){const _0x566f58=this['storageTex'+'tureFormat'+'sMap']['get'](_0x40ecb8);return _0x566f58!==void(0x2*-0x921+0x742*0x1+0xb00)?this['storageTex'+'tureFormat'+'s'][_0x566f58]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x332859,_0x57ead6){return this['_cache']['has'](_0x332859)||(this['_cache']['set'](_0x332859,_0x57ead6()),_0x332859['on']('destroy',()=>{this['remove'](_0x332859);}),_0x332859['on']('devicelost',()=>{var _0x1da395,_0x55f886;(_0x55f886=(_0x1da395=this['_cache']['get'](_0x332859))==null?void(-0x124f+0x2*0x9cc+-0x149):_0x1da395['loseContex'+'t'])==null||_0x55f886['call'](_0x1da395,_0x332859);})),this['_cache']['get'](_0x332859);}['remove'](_0x33e537){var _0x5e6e08,_0xc022c8;(_0xc022c8=(_0x5e6e08=this['_cache']['get'](_0x33e537))==null?void(0xd9d+-0x423+-0x97a):_0x5e6e08['destroy'])==null||_0xc022c8['call'](_0x5e6e08,_0x33e537),this['_cache']['delete'](_0x33e537);}}class Xi{static['calcLevelD'+'imension'](_0x4b32f5,_0x490a47){return Math['max'](_0x4b32f5>>_0x490a47,-0x52f*-0x3+-0xb3*-0x25+-0x296b);}static['calcMipLev'+'elsCount'](_0x46ede9,_0x490455,_0xf161fb=0x9*0x120+0x522+-0xf41){return 0x1843*-0x1+0xe*-0x12a+-0x2890*-0x1+Math['floor'](Math['log2'](Math['max'](_0x46ede9,_0x490455,_0xf161fb)));}static['calcLevelG'+'puSize'](_0x4e8663,_0x567e8e,_0x16bfc0,_0x3ff3b9){var _0x1f03b8;const _0x8b8730=Nt['get'](_0x3ff3b9);w['assert'](_0x8b8730!==void(0x254c+-0x5*-0x2bd+-0x32fd),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x3ff3b9);const _0x50b01a=((_0x1f03b8=Nt['get'](_0x3ff3b9))==null?void(0x110d+-0x1c56+0xb49):_0x1f03b8['size'])??-0xe4b+-0x7*0x141+0x1712;if(_0x50b01a>-0xa9d+0x658+0x445)return _0x4e8663*_0x567e8e*_0x16bfc0*_0x50b01a;const _0x1c7945=_0x8b8730['blockSize']??0x1*-0x20fb+0xb7*-0x15+-0x1*-0x2ffe;let _0x337692=Math['floor']((_0x4e8663+(-0x1*0xb99+-0x2418+-0x8e*-0x56))/(0x16*-0x1a5+-0x10c1*0x2+0x1*0x45b4));const _0x10da26=Math['floor']((_0x567e8e+(-0x2214*-0x1+-0x10ce+-0x1143))/(-0xaa3*0x1+-0x351*0x1+-0x2*-0x6fc)),_0x54950e=Math['floor']((_0x16bfc0+(0x11fd+0x53*-0xe+-0x2b0*0x5))/(-0x130+0x1*-0x167d+0x17b1));return(_0x3ff3b9===xl||_0x3ff3b9===Tl)&&(_0x337692=Math['max'](Math['floor'](_0x337692/(0x1bb5+-0x556*0x5+-0x105*0x1)),0x2*0xcca+0x1b*0xb6+0x49*-0x9d)),_0x337692*_0x10da26*_0x54950e*_0x1c7945;}static['calcGpuSiz'+'e'](_0x5d0f27,_0x1a547a,_0x1271bd,_0xe42c5a,_0x5ddbf4,_0x5b2867){let _0x8ca392=0x5fd+-0x4fa+-0x25*0x7;for(;_0x8ca392+=Xi['calcLevelG'+'puSize'](_0x5d0f27,_0x1a547a,_0x1271bd,_0xe42c5a),!(!_0x5ddbf4||_0x5d0f27===0x55a*-0x2+0x2706+-0xb*0x293&&_0x1a547a===0x22e4+0x1*0x6b9+-0x299c&&_0x1271bd===-0x3*0x781+0x17c3+-0x13f);)_0x5d0f27=Math['max'](_0x5d0f27>>-0x3f7+0xe+0x3ea,-0x14a7*0x1+-0x1763+0x1c3*0x19),_0x1a547a=Math['max'](_0x1a547a>>0x15e6+-0x29*-0xe3+-0x3a40,0x4*-0x991+0x15dd+-0x20d*-0x8),_0x1271bd=Math['max'](_0x1271bd>>-0x1ddd+-0x2*-0x19c+0x1aa6,-0x22d3+-0x159c+0x3870);return _0x8ca392*(_0x5b2867?0x609+0xb85*-0x1+0x582:0x948+-0x21f*0xb+0xe0e);}}let pT=-0x53a*0x1+0x14e4+-0xa*0x191;class _e{constructor(_0x3785ac,_0x16d76f={}){h(this,'name'),h(this,'_gpuSize',-0x16ca+-0x1*-0xdfb+0x29*0x37),h(this,'id',pT++),h(this,'_invalid',!(0x215f+0x166f+-0x37cd)),h(this,'_lockedLev'+'el',-(-0x35d+-0x2521*-0x1+-0x21c3)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0xb8a*0x1+0xba3+-0x19),h(this,'_storage',!(0x1*-0x2621+-0x1267+0x3889*0x1)),h(this,'_numLevels',-0x470+-0xab6+-0x1*-0xf26),h(this,'_numLevels'+'Requested');var _0x2dbfe7;this['device']=_0x3785ac,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x16d76f['width']||Number['isInteger'](_0x16d76f['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x16d76f),w['assert'](!_0x16d76f['height']||Number['isInteger'](_0x16d76f['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x16d76f),w['assert'](!_0x16d76f['depth']||Number['isInteger'](_0x16d76f['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x16d76f),this['name']=_0x16d76f['name']??'',this['_width']=Math['floor'](_0x16d76f['width']??-0x1413+-0x1*0x1d+-0x3*-0x6bc),this['_height']=Math['floor'](_0x16d76f['height']??-0xcfb*-0x2+-0x16*0x8d+0x2c4*-0x5),this['_format']=_0x16d76f['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x16d76f['minFilter']=Te,_0x16d76f['magFilter']=Te),this['_volume']=_0x16d76f['volume']??!(0x479*-0x1+0x822+-0x3a8),this['_depth']=Math['floor'](_0x16d76f['depth']??0x4*0x43b+0x30*-0x7c+-0x655*-0x1),this['_arrayLeng'+'th']=Math['floor'](_0x16d76f['arrayLengt'+'h']??0x113*0x15+0xfdb*-0x1+-0x6b4),this['_storage']=_0x16d76f['storage']??!(0x4*-0x59f+-0x2189+0x3806),this['_cubemap']=_0x16d76f['cubemap']??!(0x9*-0x385+0x167*-0xd+0x31e9),this['_flipY']=_0x16d76f['flipY']??!(0x15a+0x2*0x68f+0x17*-0xa1),this['_premultip'+'lyAlpha']=_0x16d76f['premultipl'+'yAlpha']??!(0xc8+-0x1*-0x1993+-0x1a5a),this['_mipmaps']=_0x16d76f['mipmaps']??!(-0xac7+0x10e3+-0x61c),this['_numLevels'+'Requested']=_0x16d76f['numLevels'],_0x16d76f['numLevels']!==void(-0xe94+-0x1dd6+0x2c6a)&&(this['_numLevels']=_0x16d76f['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x16d76f['minFilter']??ma,this['_magFilter']=_0x16d76f['magFilter']??vt,this['_anisotrop'+'y']=_0x16d76f['anisotropy']??0xc05+0x2400+-0x3004,this['_addressU']=_0x16d76f['addressU']??yt,this['_addressV']=_0x16d76f['addressV']??yt,this['_addressW']=_0x16d76f['addressW']??yt,this['_compareOn'+'Read']=_0x16d76f['compareOnR'+'ead']??!(0x1545+0x1c1*0x13+-0x3697),this['_compareFu'+'nc']=_0x16d76f['compareFun'+'c']??hh,this['_type']=_0x16d76f['type']??Ds,w['assert'](!_0x16d76f['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x16d76f['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x16d76f['projection']&&_0x16d76f['projection']!==tu&&(this['projection']=_0x16d76f['projection']),this['profilerHi'+'nt']=_0x16d76f['profilerHi'+'nt']??0x12*-0x165+-0x973+0x5*0x6e9,this['_levels']=_0x16d76f['levels'];const _0x334209=!!_0x16d76f['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x334209),_0x3785ac['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x2dbfe7=Nt['get'](this['format']))==null?void(0x2bd+0x3*0x223+-0x926*0x1):_0x2dbfe7['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x3c43a7=this['device'];if(_0x3c43a7){const _0x4ad22a=_0x3c43a7['textures']['indexOf'](this);_0x4ad22a!==-(0x23ca+-0x684+-0x1d45)&&_0x3c43a7['textures']['splice'](_0x4ad22a,0x376*-0x8+-0x1*-0x8ab+-0x1306*-0x1),_0x3c43a7['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x3c43a7),this['adjustVram'+'SizeTracki'+'ng'](_0x3c43a7['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x12e758=!(0x2*0xa+0x7b9*0x2+0xf86*-0x1)){var _0xf2332a;const {device:_0x86b49d}=this;(_0xf2332a=this['impl'])==null||_0xf2332a['destroy'](_0x86b49d),this['impl']=null,this['impl']=_0x86b49d['createText'+'ureImpl'](this),this['dirtyAll'](),_0x12e758&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x1632bc,_0x2a9e1b,_0x1dda60=-0x2661+0x270e+0x4*-0x2b){const _0x7fdb61=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x7fdb61['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x7fdb61),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x1632bc),this['_height']=Math['floor'](_0x2a9e1b),this['_depth']=Math['floor'](_0x1dda60),this['_updateNum'+'Level'](),this['impl']=_0x7fdb61['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x3eab97,_0xb2d800){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0xb2d800+('\x20vram.text'+'ure:\x20')+_0x3eab97['tex']+'\x20=>\x20'+(_0x3eab97['tex']+_0xb2d800)),_0x3eab97['tex']+=_0xb2d800,this['profilerHi'+'nt']===eu?_0x3eab97['texShadow']+=_0xb2d800:this['profilerHi'+'nt']===Pr?_0x3eab97['texAsset']+=_0xb2d800:this['profilerHi'+'nt']===vy&&(_0x3eab97['texLightma'+'p']+=_0xb2d800);}['propertyCh'+'anged'](_0x2027bb){this['impl']['propertyCh'+'anged'](_0x2027bb),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x2445f0=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x371*0x6+0xe3*0xb+0xae6,_0x3faaf6=this['_numLevels'+'Requested'];_0x3faaf6!==void(-0xf*0x47+0x55*-0x43+-0x1*-0x1a68)&&_0x3faaf6>_0x2445f0&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x2445f0,this),this['_numLevels']=Math['min'](_0x3faaf6??_0x2445f0,_0x2445f0),this['_mipmaps']=this['_numLevels']>-0x2194+0x8*0x199+0x6ef*0x3;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x224bfc){this['_minFilter']!==_0x224bfc&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x224bfc,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x513d7b){this['_magFilter']!==_0x513d7b&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x513d7b,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x17ec11){this['_addressU']!==_0x17ec11&&(this['_addressU']=_0x17ec11,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x300c0a){this['_addressV']!==_0x300c0a&&(this['_addressV']=_0x300c0a,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x415dcf){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x415dcf!==this['_addressW']&&(this['_addressW']=_0x415dcf,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x33a6f9){this['_compareOn'+'Read']!==_0x33a6f9&&(this['_compareOn'+'Read']=_0x33a6f9,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x59a60f){this['_compareFu'+'nc']!==_0x59a60f&&(this['_compareFu'+'nc']=_0x59a60f,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x49e3f3){this['_anisotrop'+'y']!==_0x49e3f3&&(this['_anisotrop'+'y']=_0x49e3f3,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x333abf){this['_mipmaps']!==_0x333abf&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x333abf,_0x333abf&&(this['_needsMipm'+'apsUpload']=!(-0x1aa*0x1+0x3a*0x46+-0xe32)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x2c8134=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x22*0x20+0xed+0x354);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x2c8134,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x2c6+-0x3*-0x5c4+0x2*-0x743;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x19723b){this['_type']!==_0x19723b&&(this['_type']=_0x19723b,this['device']['_shadersDi'+'rty']=!(0x2131+-0x23e2+0x35*0xd));}get['type'](){return this['_type'];}set['srgb'](_0x11b982){var _0x3b47f8,_0x40edbf,_0x198f00,_0x4b7428;const _0x309f3d=fh(this['format']);if(_0x11b982!==_0x309f3d){if(_0x11b982){const _0x4e55fd=ld(this['format']);this['_format']!==_0x4e55fd&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x3b47f8=Nt['get'](this['format']))==null?void(-0x4*-0x594+-0x12a4+-0x3ac):_0x3b47f8['name'])+'\x20->\x20'+((_0x40edbf=Nt['get'](_0x4e55fd))==null?void(-0x2*0xd8b+0x2*-0x12d5+0x40c0):_0x40edbf['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x4e55fd,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1c*0x21+-0xdbe+-0xa22*-0x1));}else{const _0x2bc1f1=Lx(this['format']);this['_format']!==_0x2bc1f1&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x198f00=Nt['get'](this['format']))==null?void(-0x1e9a+-0x282*0x3+0x2620):_0x198f00['name'])+'\x20->\x20'+((_0x4b7428=Nt['get'](_0x2bc1f1))==null?void(0x26b7+-0x91d*-0x1+-0x1*0x2fd4):_0x4b7428['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x2bc1f1,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x3*0x7fb+-0x1*-0x1eef+-0x6fe));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x5c9878){this['_flipY']!==_0x5c9878&&(this['_flipY']=_0x5c9878,this['_needsUplo'+'ad']=!(-0xd*0x2a1+0xf1b+-0x1*-0x1312));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x56c576){this['_premultip'+'lyAlpha']!==_0x56c576&&(this['_premultip'+'lyAlpha']=_0x56c576,this['_needsUplo'+'ad']=!(0x13a7+-0x1ca5*0x1+-0x47f*-0x2));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x2384+0x529+0x1*0x1e5b),!(-0x5d+0x1cbc+0x9*-0x327),!(-0x2*-0xa1a+-0x2f*-0x1f+-0x7*0x3b3),!(0x88c*0x3+0x1*-0x34d+-0x1657),!(-0x29*0xf1+-0x196e+0x4007),!(0x1292+-0x1279*-0x1+-0x250b)]]:[!(-0x97*-0x6+-0x118c+0xe02)],this['_needsUplo'+'ad']=!(-0xb65*-0x2+0x1159+-0x2823),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x1ef8+-0x9*-0x3d2+-0x123*0x3),this['propertyCh'+'anged'](lT);}['lock'](_0x153562={}){_0x153562['level']??(_0x153562['level']=0x463*-0x8+-0x309*0x4+0x2f3c),_0x153562['face']??(_0x153562['face']=-0x1*-0x1f4e+0x91*-0x39+0xfb),_0x153562['mode']??(_0x153562['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x153562['mode']===yy||_0x153562['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x153562['mode'],this['_lockedLev'+'el']=_0x153562['level'];const _0x40148b=this['cubemap']?this['_levels'][_0x153562['face']]:this['_levels'];if((_0x40148b==null?void(-0x10c0+-0xe*-0x103+0x296):_0x40148b[_0x153562['level']])===null){const _0x4ec946=Math['max'](0x1c9*0x1+0x1252+-0x141a,this['_width']>>_0x153562['level']),_0x1aaad8=Math['max'](0x1*0x1c97+-0x158c+-0x70a,this['_height']>>_0x153562['level']),_0x2b267d=Math['max'](-0xe87+-0x2*-0x13f+0xc0a,this['_depth']>>_0x153562['level']),_0x4c1414=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x4ec946,_0x1aaad8,_0x2b267d,this['_format']));_0x40148b[_0x153562['level']]=new(my(this['_format']))(_0x4c1414);}return _0x40148b==null?void(-0x192+-0x76c+-0x1*-0x8fe):_0x40148b[_0x153562['level']];}['setSource'](_0x40b27a,_0x273347=0x10f*0x1f+-0x176d+0x1*-0x964){let _0x51da2e=!(0x10e6+0x1*0xe7d+0x67*-0x4e),_0x1c7db7,_0x236329;if(this['_cubemap']){if(_0x40b27a[-0x20e7*0x1+-0x5e6+0xb*0x387]){_0x1c7db7=_0x40b27a[0x65*0x1+0x5*0x351+-0x87d*0x2]['width']||-0x479+0x506+-0x8d,_0x236329=_0x40b27a[-0x8f7+0x23d3+-0x4*0x6b7]['height']||0x3f*-0x62+-0x1*-0x593+0x128b;for(let _0x36c80d=-0x1dfb+-0x23f7+-0x2e*-0x16f;_0x36c80d<0x2*0x43d+0xb*-0x21a+-0x755*-0x2;_0x36c80d++){const _0x11655c=_0x40b27a[_0x36c80d];if(!_0x11655c||_0x11655c['width']!==_0x1c7db7||_0x11655c['height']!==_0x236329||!this['device']['_isBrowser'+'Interface'](_0x11655c)){_0x51da2e=!(-0x7*0x2d3+-0x3e6*-0xa+-0x1337);break;}}}else _0x51da2e=!(-0x65b*-0x5+-0xe*0x2c+0x1*-0x1d5f);if(!_0x51da2e){for(let _0x4d07d8=0x1*-0x8bf+0x2263+-0x19a4;_0x4d07d8<-0x230f*-0x1+-0x1*-0x1c71+-0x3f7a;_0x4d07d8++)this['_levels'][_0x273347][_0x4d07d8]!==_0x40b27a[_0x4d07d8]&&(this['_levelsUpd'+'ated'][_0x273347][_0x4d07d8]=!(-0x1e9e+-0x49a+0x2338));}}else this['device']['_isBrowser'+'Interface'](_0x40b27a)||(_0x51da2e=!(0x20b*-0x1+-0x3*-0x9e8+-0x1bad)),_0x51da2e||(_0x40b27a!==this['_levels'][_0x273347]&&(this['_levelsUpd'+'ated'][_0x273347]=!(-0x1c40+0x1*0x142a+0x8a*0xf)),_0x40b27a instanceof HTMLVideoElement?(_0x1c7db7=_0x40b27a['videoWidth'],_0x236329=_0x40b27a['videoHeigh'+'t']):(_0x1c7db7=_0x40b27a['width'],_0x236329=_0x40b27a['height']));if(_0x51da2e){if(this['_width']=-0x392*0x1+0x1fa5+0x1c0f*-0x1,this['_height']=-0xc7a+0x7*0x13d+0x3d3,this['_cubemap']){for(let _0x2cce5c=-0x109d+0x4cc*0x4+-0x293;_0x2cce5c<-0x4f5*-0x1+0x9f*-0x2+-0x9*0x69;_0x2cce5c++)this['_levels'][_0x273347][_0x2cce5c]=null,this['_levelsUpd'+'ated'][_0x273347][_0x2cce5c]=!(-0x4c*0x79+0x34*0x18+0x1f0c);}else this['_levels'][_0x273347]=null,this['_levelsUpd'+'ated'][_0x273347]=!(-0xdb4+0x2*0x1348+0x25*-0xac);}else _0x273347===0x1e98+0x1*-0x2209+-0x371*-0x1&&(this['_width']=_0x1c7db7,this['_height']=_0x236329),this['_levels'][_0x273347]=_0x40b27a;(this['_invalid']!==_0x51da2e||!_0x51da2e)&&(this['_invalid']=_0x51da2e,this['upload']());}['getSource'](_0x3132e8=0xe5e+0x17b*0x17+0x14f*-0x25){return this['_levels'][_0x3132e8];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x148*-0x1d+-0x1*-0x1331+-0x3858),this['_lockedMod'+'e']=$l;}['upload'](){var _0x5b3a47,_0x259924;this['_needsUplo'+'ad']=!(-0xcaf+0x661+0x64e),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x259924=(_0x5b3a47=this['impl'])['uploadImme'+'diate'])==null||_0x259924['call'](_0x5b3a47,this['device'],this);}['read'](_0x45bb29,_0x5a3fdc,_0x23a574,_0x39ec76,_0x309f59={}){var _0x56d2c7,_0x2fcc1a;return(_0x2fcc1a=(_0x56d2c7=this['impl'])['read'])==null?void(0x2533+0x5a+0x1*-0x258d):_0x2fcc1a['call'](_0x56d2c7,_0x45bb29,_0x5a3fdc,_0x23a574,_0x39ec76,_0x309f59);}['write'](_0x5a061c,_0x11b676,_0x5d8e66,_0x56e5cb,_0x10f843){var _0x347f91,_0x521e17;return(_0x521e17=(_0x347f91=this['impl'])['write'])==null?void(-0x138a+-0x26fd+0x3a87):_0x521e17['call'](_0x347f91,_0x5a061c,_0x11b676,_0x5d8e66,_0x56e5cb,_0x10f843);}}const mT={'white':[0x1a1c+0x14bd+-0x2dda,-0x5*-0x56b+-0x798+-0x1280,-0xb17*-0x2+0x23be+-0x38ed,-0x1986+-0x1*-0x2503+-0xa7e],'gray':[-0x1b1f+0xe6f+-0x698*-0x2,0x5ef*-0x4+-0x1bb5*0x1+0x1*0x33f1,-0x145a+-0x1*0x185e+0x2d38,-0x25a6+0x16a4+0x1001],'black':[0x186a+-0x15d1+0x13*-0x23,0x2*-0x25b+0x2325+0x1e6f*-0x1,-0x10bb+-0xd87*-0x1+0x334,0x183e+-0x3*0xc5b+-0xdd2*-0x1],'normal':[0x1+-0xd*0x251+0x1e9c,-0x1a*-0x28+-0x1394+0x1004,-0xdd*0x2b+-0x487*0x6+-0x1052*-0x4,0x219+-0x4*0x1bc+-0x1f2*-0x3],'pink':[-0x324*-0x6+0x2*0xc29+0x55*-0x7f,0x247b+0x1e89+-0x4284,0x12ad+0x7*0x3b7+-0x2baf,0x2483+0x441*-0x1+0x1f43*-0x1]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x17467e=>{_0x17467e['destroy']();});}}const gT=new Kt(),fa=(_0x35c2ea,_0x553114)=>{const _0x5e5b8b=gT['get'](_0x35c2ea,()=>new _T());if(!_0x5e5b8b['map']['has'](_0x553114)){const _0x5173ee=new _e(_0x35c2ea,{'name':'built-in-t'+'exture-'+_0x553114,'width':0x1,'height':0x1,'format':Ne}),_0x14563b=_0x5173ee['lock'](),_0xd5b6f=mT[_0x553114];w['assert'](_0xd5b6f,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x553114+('\x27\x20not\x20foun'+'d')),_0x14563b['set'](_0xd5b6f),_0x5173ee['unlock'](),_0x5e5b8b['map']['set'](_0x553114,_0x5173ee);}return _0x5e5b8b['map']['get'](_0x553114);};let ST=-0xa9b+-0xa34+0x2f9*0x7;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x316ee0,_0x1c3ae6,_0x22befe){h(this,'renderVers'+'ionUpdated',-(0x22f2+0x67*0xa+-0x11d*0x23)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x316ee0,this['format']=_0x1c3ae6,this['dirty']=!(-0x2559*0x1+-0x1ed+0x13a3*0x2),this['impl']=_0x316ee0['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x22befe,_0x22befe&&this['setUniform'+'Buffer'](Np,_0x22befe),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x1c3ae6));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x40f7d9,_0x498d71){const _0x4cf0fc=this['format']['bufferForm'+'atsMap']['get'](_0x40f7d9);w['assert'](_0x4cf0fc!==void(-0x5ca+-0x15d9+-0x19*-0x11b),'Setting\x20a\x20'+'uniform\x20['+_0x40f7d9+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x4cf0fc]!==_0x498d71&&(this['uniformBuf'+'fers'][_0x4cf0fc]=_0x498d71,this['dirty']=!(-0x1*-0x551+-0x3*0x487+0x844));}['setStorage'+'Buffer'](_0x3443ca,_0x345a4e){const _0x5c9018=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x3443ca);w['assert'](_0x5c9018!==void(0x1*-0x10cf+0xfc7+0x2c*0x6),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x3443ca+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x5c9018]!==_0x345a4e&&(this['storageBuf'+'fers'][_0x5c9018]=_0x345a4e,this['dirty']=!(0xd76+0x2b*-0x3f+-0x2e1));}['setTexture'](_0x2cbfc4,_0x968876){const _0x553cc3=this['format']['textureFor'+'matsMap']['get'](_0x2cbfc4);w['assert'](_0x553cc3!==void(0xa11+-0x711+-0x300),'Setting\x20a\x20'+'texture\x20['+_0x2cbfc4+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x553cc3]!==_0x968876?(this['textures'][_0x553cc3]=_0x968876,this['dirty']=!(-0x3d2*0x9+0x5*-0xf6+0xb0*0x39)):this['renderVers'+'ionUpdated']<_0x968876['renderVers'+'ionDirty']&&(this['dirty']=!(0x277*-0x1+0x98b*0x1+-0x6*0x12e));}['setStorage'+'Texture'](_0x593b0b,_0x5bd6b2){const _0x332ccd=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x593b0b);w['assert'](_0x332ccd!==void(0x1722+0x4d+-0x176f),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x593b0b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x332ccd]!==_0x5bd6b2?(this['storageTex'+'tures'][_0x332ccd]=_0x5bd6b2,this['dirty']=!(0x24c+-0x14f1+0x12a5)):this['renderVers'+'ionUpdated']<_0x5bd6b2['renderVers'+'ionDirty']&&(this['dirty']=!(-0x485*0x5+-0xe1*-0x7+0x1072));}['updateUnif'+'ormBuffers'](){for(let _0x171cd9=-0xed*-0x27+-0x870+-0x1bab;_0x171cd9<this['uniformBuf'+'fers']['length'];_0x171cd9++)this['uniformBuf'+'fers'][_0x171cd9]['update']();}['update'](){const {textureFormats:_0x40f1ad,storageTextureFormats:_0x1bd488,storageBufferFormats:_0x4e077c}=this['format'];for(let _0x34f7e6=0x38*-0x71+-0x946+-0x26*-0xe5;_0x34f7e6<_0x40f1ad['length'];_0x34f7e6++){const _0x19728c=_0x40f1ad[_0x34f7e6];let _0x4c3fe9=_0x19728c['scopeId']['value'];_0x4c3fe9||(_0x19728c['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4c3fe9=fa(this['device'],'white')),_0x19728c['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4c3fe9=fa(this['device'],'pink')),_0x4c3fe9||(w['errorOnce']('Texture\x20'+_0x19728c['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x4c3fe9=fa(this['device'],'pink'))),this['setTexture'](_0x19728c['name'],_0x4c3fe9);}for(let _0x6a4a2b=0x2*0x86b+-0x11f0+0x5e*0x3;_0x6a4a2b<_0x1bd488['length'];_0x6a4a2b++){const _0x33ad02=_0x1bd488[_0x6a4a2b],_0x91c0de=_0x33ad02['scopeId']['value'];w['assert'](_0x91c0de,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x33ad02['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x33ad02['name'],_0x91c0de);}for(let _0x344bea=-0x614+-0x2de*-0x2+0x58;_0x344bea<_0x4e077c['length'];_0x344bea++){const _0x3dc7b5=_0x4e077c[_0x344bea],_0x95494=_0x3dc7b5['scopeId']['value'];w['assert'](_0x95494,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x3dc7b5['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x3dc7b5['name'],_0x95494);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x176e9d=-0x161c+-0x1084*0x1+0x26a0;_0x176e9d<this['uniformBuf'+'fers']['length'];_0x176e9d++){const _0x428a48=this['uniformBuf'+'fers'][_0x176e9d];this['uniformBuf'+'ferOffsets'][_0x176e9d]=_0x428a48['offset'],this['renderVers'+'ionUpdated']<_0x428a48['renderVers'+'ionDirty']&&(this['dirty']=!(-0x9*0x14e+0x468+0x3*0x272));}this['dirty']&&(this['dirty']=!(-0x4a9+0x6*0x5d5+0x795*-0x4),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x5cb446,_0x9f7221,_0x196647,_0x10b271=-0x2582+0x94a+0x5*0x5a5){return _0x5cb446&~(_0x10b271<<_0x196647)|_0x9f7221<<_0x196647;},'get'(_0x3d2e58,_0x13c545,_0x50fd64=0x444+-0x1a8d+-0x12*-0x13d){return _0x3d2e58>>_0x13c545&_0x50fd64;},'all'(_0x749c38,_0x341ea2,_0x21f97e=0x681+0x6*0x1ac+-0x1088){const _0x1d9724=_0x21f97e<<_0x341ea2;return(_0x749c38&_0x1d9724)===_0x1d9724;},'any'(_0x13e9a8,_0x54e58d,_0x408cb0=-0x2143+-0xcd6+0x2e1a){return(_0x13e9a8&_0x408cb0<<_0x54e58d)!==0x2*-0xc1d+0x38*0x29+0xf42;}},Xl=0xec2+-0xbe1*0x2+0x907,ir=0x110a+0x13b3+0x3ab*-0xa,Hm=0x667*0x1+-0x265d+0x1ff6,Wm=0x467*-0x8+0x230f+0x2*0x16,$m=-0xe63+0x4ba+0x9b0,Xm=-0x191a+0x15fc+-0x329*-0x1,qm=0x25a0+0x1609+-0x3b9b,jm=0x26ec+0x2678+0x26a9*-0x2,iu=-0x1175*0x1+-0x220+0x5f*0x35,Ym=0x1*-0x841+-0x3*-0x9f0+-0xabc*0x2,Km=0x5*-0xe5+0x859*-0x2+-0x1543*-0x1,Zm=0x18c0+0x4b2*-0x2+0x1*-0xf43,Qm=-0xf08+-0x2234+0x34a*0xf,yT=-0x51a*-0x3+-0x24a3+-0x1564*-0x1,vT=iu,ri=class ri{constructor(_0x4a2256=!(0x1c*0xd3+0xaf1*0x1+-0x2204),_0x265363=fs,_0x37ab4c=Ft,_0x42e9d0=rp,_0x3afe6b,_0x23cdf7,_0x51fda4,_0x14e68f=!(0x1e58+0x175a+-0x35b2),_0x151825=!(0x1*-0xcb8+-0x122f+0x1ee7),_0x4cb364=!(0x1*-0x559+-0x1f01+0x245a),_0x111096=!(0x1*-0x549+0x13e4+-0xe9b)){h(this,'target0',0x412*0x1+0x77*0x4a+-0x2678),(this['setColorBl'+'end'](_0x265363,_0x37ab4c,_0x42e9d0),this['setAlphaBl'+'end'](_0x3afe6b??_0x265363,_0x23cdf7??_0x37ab4c,_0x51fda4??_0x42e9d0),this['setColorWr'+'ite'](_0x14e68f,_0x151825,_0x4cb364,_0x111096),this['blend']=_0x4a2256);}set['blend'](_0x328565){this['target0']=qe['set'](this['target0'],_0x328565?-0x2387+-0x10b8*-0x1+0x38*0x56:0x3b7+-0x5*-0xe5+-0x830,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x41f191,_0x45f945,_0x230097){this['target0']=qe['set'](this['target0'],_0x41f191,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x45f945,Wm,ir),this['target0']=qe['set'](this['target0'],_0x230097,$m,ir);}['setAlphaBl'+'end'](_0x38cd04,_0x372d6f,_0x29136e){this['target0']=qe['set'](this['target0'],_0x38cd04,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x372d6f,qm,ir),this['target0']=qe['set'](this['target0'],_0x29136e,jm,ir);}['setColorWr'+'ite'](_0x56189c,_0x242d5b,_0x1428ec,_0xb55434){this['redWrite']=_0x56189c,this['greenWrite']=_0x242d5b,this['blueWrite']=_0x1428ec,this['alphaWrite']=_0xb55434;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x3c4ef5){this['target0']=qe['set'](this['target0'],_0x3c4ef5?-0x4*-0x2d4+0xc80+0x73*-0x35:-0xc9*-0x9+0x1*-0x14cb+0xdba*0x1,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x1f05a2){this['target0']=qe['set'](this['target0'],_0x1f05a2?0x1*-0xc55+-0xe2a+0x350*0x8:-0x127a+0xb64+0x38b*0x2,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x3fdfc8){this['target0']=qe['set'](this['target0'],_0x3fdfc8?-0x2701+-0xbaa+0x10e4*0x3:0x1c4e+0xa*-0x18b+-0x338*0x4,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x11578c){this['target0']=qe['set'](this['target0'],_0x11578c?0xa*-0x130+-0xeda+0x3*0x8e9:-0x268f+-0x23c7+0x4a56,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x27ddc8){return this['target0']=_0x27ddc8['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x59620f){return this['target0']===_0x59620f['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0x1529+-0x185d+0x334),void(0x174d+-0x1ca*-0x8+-0x259d),void(-0x24dd+-0x166e+0x3b4b),void(-0x505*0x5+0x13*0x169+-0x1*0x1b2),void(-0x7+-0x1*0x14ae+0x3*0x6e7),void(0x219c+0x1fad+-0x4149),void(-0x547+0x1889+0x11*-0x122),!(0x216c+0x1d0*-0x8+-0x12eb),!(0x65*-0x57+-0x5c6*0x4+0x396c),!(-0xc39+0x224+0xa16),!(0xf27+-0x22be+0xe4*0x16)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(0x1*0x1499+-0x110*0x5+-0xf49),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0xa6*-0xd+-0x1*0x10d3+0x1941),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0xfa7+-0x3*-0x823+-0x2810);}['get'](_0x5370a3){let _0x209335=this['map']['get'](_0x5370a3);return _0x209335===void(-0x9e*-0x1f+0x1b10+-0x2e32)&&(_0x209335=this['id']++,this['map']['set'](_0x5370a3,_0x209335)),_0x209335;}}const xT=new Bp(),Jm=-0x41f*0x3+0x56*0x2b+-0x1*0x20e,e_=0x1f5*-0x7+0x1*0x18fb+-0xb48,t_=0x1a6*0x13+0x10ae+-0x2ffd,_r=class _r{constructor(_0x1af8ac=Wf,_0x51a98f=!(0x77b*0x3+0xb58+-0x21c9*0x1)){h(this,'data',-0x1f5c+-0x45*0x6+0x20fa),h(this,'_depthBias',0x720+0x1626+0x9c2*-0x3),h(this,'_depthBias'+'Slope',-0x1dbe+-0x1c10+0x39ce),h(this,'key',0x1fb6+-0xad3*0x2+-0x17*0x70),(this['func']=_0x1af8ac,this['write']=_0x51a98f);}set['test'](_0x335534){this['func']=_0x335534?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x1804f6){this['data']=qe['set'](this['data'],_0x1804f6?0x47*-0x2b+-0xf0c+-0x1*-0x1afa:-0x2465+0xde8+0x1*0x167d,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x59462d){this['data']=qe['set'](this['data'],_0x59462d,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x4853f9){this['_depthBias']=_0x4853f9,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x2b03f9){this['_depthBias'+'Slope']=_0x2b03f9,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x5ab92a){return this['data']=_0x5ab92a['data'],this['_depthBias']=_0x5ab92a['_depthBias'],this['_depthBias'+'Slope']=_0x5ab92a['_depthBias'+'Slope'],this['key']=_0x5ab92a['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x36ca8b,_depthBias:_0x52476e,_depthBiasSlope:_0x5330af}=this,_0x3e863a=_0x36ca8b+'-'+_0x52476e+'-'+_0x5330af;this['key']=xT['get'](_0x3e863a);}['equals'](_0x3c5a89){return this['key']===_0x3c5a89['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x7*0x167+0xf*0xc2+0xa97*-0x2)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x40c+0xf7+0x503*-0x1))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0xb25+0x74*-0xa+0xfad),h(this,'revision',-0xa10*-0x1+-0x2099+0x3*0x783);}['equals'](_0x4eaf8e){return this['globalId']===_0x4eaf8e['globalId']&&this['revision']===_0x4eaf8e['revision'];}['copy'](_0x4a3790){this['globalId']=_0x4a3790['globalId'],this['revision']=_0x4a3790['revision'];}['reset'](){this['globalId']=0x1a8a+0xa8c+-0x2f*0xca,this['revision']=-0x50a*-0x6+0x24ac+-0x8*0x85d;}}let s_=-0x1c51+0x2*0xc15+0x427;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0xdcad28){this['name']=_0xdcad28,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x5d5d47){}['setValue'](_0xb42eb6){this['value']=_0xb42eb6,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x5f134e){this['name']=_0x5f134e,this['variables']=new Map();}['resolve'](_0x540ada){return this['variables']['has'](_0x540ada)||this['variables']['set'](_0x540ada,new wT(_0x540ada)),this['variables']['get'](_0x540ada);}['removeValu'+'e'](_0x25ef5e){for(const _0x1fbca0 in this['variables']){const _0x8b7244=this['variables'][_0x1fbca0];_0x8b7244['value']===_0x25ef5e&&(_0x8b7244['value']=null);}}}let bT=-0x2*-0x8f2+-0x22*-0x4+-0x126c;class Is{constructor(_0x4f12f2,_0x4fa56d,_0x63984e,_0x19cd44){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x8f+0x1a3*-0x5+-0x26*-0x3b&&(!_0x19cd44||typeof _0x19cd44=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x19cd44==null?void(0x7*0x12e+-0x570+-0x26*0x13):_0x19cd44['usage'])??ms,this['device']=_0x4f12f2,this['format']=_0x4fa56d,this['numVertice'+'s']=_0x63984e,this['id']=bT++,this['impl']=_0x4f12f2['createVert'+'exBufferIm'+'pl'](this,_0x4fa56d,_0x19cd44),this['numBytes']=_0x4fa56d['verticesBy'+'teSize']?_0x4fa56d['verticesBy'+'teSize']:_0x4fa56d['size']*_0x63984e,this['adjustVram'+'SizeTracki'+'ng'](_0x4f12f2['_vram'],this['numBytes']));const _0x586f34=_0x19cd44==null?void(-0x1*-0x1829+-0x266e+0xe45):_0x19cd44['data'];_0x586f34?this['setData'](_0x586f34):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x553144=this['device'],_0x8bb1d1=_0x553144['buffers']['indexOf'](this);_0x8bb1d1!==-(-0x117d+0x404*-0x8+0x319e)&&_0x553144['buffers']['splice'](_0x8bb1d1,-0xc2e+0x486+0x35*0x25),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x553144),this['adjustVram'+'SizeTracki'+'ng'](_0x553144['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x1a6305,_0x267b95){w['trace'](q0,this['id']+'\x20size:\x20'+_0x267b95+'\x20vram.vb:\x20'+_0x1a6305['vb']+'\x20=>\x20'+(_0x1a6305['vb']+_0x267b95)),_0x1a6305['vb']+=_0x267b95;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4ebda6){return _0x4ebda6['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x4ebda6['byteLength']),!(-0x5*-0x546+-0x2033*-0x1+-0x3a90)):(this['storage']=_0x4ebda6,this['unlock'](),!(0x1929+0x99*0x1e+-0x2b17));}}function hi(_0x311333){if(_0x311333==null)return 0x5*0x54a+0xcad+-0x271f;let _0x542f68=0x1d7f*-0x1+-0x2*0xabb+0x5*0xa31;for(let _0x1e3f4b=-0x982+0x35b*0x1+0x627,_0x4292b2=_0x311333['length'];_0x1e3f4b<_0x4292b2;_0x1e3f4b++)_0x542f68=(_0x542f68<<-0x19c0+0x2*-0x107e+0x3ac1)-_0x542f68+_0x311333['charCodeAt'](_0x1e3f4b),_0x542f68|=0x20c7+-0xf92+-0x1135*0x1;return _0x542f68;}function By(_0x5d0f98){let _0x2a2e07=-0x1*-0x44a2660f+0xf5552842+-0xb8daf08c;for(let _0x500c4b=0x1312*-0x1+-0x2*-0x1025+-0xd38;_0x500c4b<_0x5d0f98['length'];_0x500c4b++)_0x2a2e07^=_0x5d0f98[_0x500c4b],_0x2a2e07*=-0xff*0x32cd+0x3f177a*-0x7+-0x776*-0x644a;return _0x2a2e07>>>0x2*-0xc12+-0x1*-0x1a17+-0x1f3;}const AT=new Bp(),CT=[0x2223+0x50d+-0x272e,0x947+0x198c+-0x1*0x22cf,-0x521*0x7+0x1895+0xb5a,0xc72+0xce3+-0x1*0x1949,-0xb7a+0x699+0x4f1],PT=new Kt();class kt{constructor(_0x11cf99,_0x10b1a3,_0x254a88){this['device']=_0x11cf99,this['_elements']=[],this['hasUv0']=!(0x1a62+-0xf72+0x1*-0xaef),this['hasUv1']=!(0x6f9+-0xdcf+0x6d7),this['hasColor']=!(-0x16*0xf+0xa*-0x233+0x3*0x7c3),this['hasTangent'+'s']=!(0x10*-0x26f+0xf3b+0x17b6),this['verticesBy'+'teSize']=0x671*-0x1+0x1851+0x8f0*-0x2,this['vertexCoun'+'t']=_0x254a88,this['interleave'+'d']=_0x254a88===void(-0x1912+0x1ee*-0x9+0x1*0x2a70),this['instancing']=!(0x15c*0x2+-0x9e*0x25+-0x33*-0x65),this['size']=_0x10b1a3['reduce']((_0x18c323,_0x26a17d)=>_0x18c323+Math['ceil'](_0x26a17d['components']*No[_0x26a17d['type']]/(0x4d*0x49+-0xe74+-0x1*0x77d))*(-0x1*0x10a3+-0x20a+0x3bd*0x5),0x1d5e+0xb4e+0x1*-0x28ac);let _0xb44ef6=-0x1*0x22d0+0x219d+0x133,_0x15e56a;for(let _0x591ea5=-0x31*-0x83+-0x1046*0x1+-0x8cd,_0xc519b8=_0x10b1a3['length'];_0x591ea5<_0xc519b8;_0x591ea5++){const _0x55b589=_0x10b1a3[_0x591ea5];_0x15e56a=_0x55b589['components']*No[_0x55b589['type']],w['assert'](kt['isElementV'+'alid'](_0x11cf99,_0x55b589),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x55b589['semantic']+'\x20:\x20'+cT[_0x55b589['type']]+'\x20x\x20'+_0x55b589['components']),_0x254a88&&(_0xb44ef6=Y['roundUp'](_0xb44ef6,_0x15e56a),w['assert'](_0x15e56a%(0x51a*0x5+0x2*0x49+-0x1a10)===-0x75a+0x1*-0x1a35+0x218f,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x15e56a));const _0x4e0da8=_0x55b589['asInt']??!(0x187*0x1+0x1aee+-0x1c74),_0xaca924=_0x4e0da8?!(-0x11*-0x8d+0x1b39+-0x1*0x2495):_0x55b589['normalize']??!(-0x1*-0x215f+0xaab*0x2+-0x36b4),_0x48a89d={'name':_0x55b589['semantic'],'offset':_0x254a88?_0xb44ef6:_0x55b589['hasOwnProp'+'erty']('offset')?_0x55b589['offset']:_0xb44ef6,'stride':_0x254a88?_0x15e56a:_0x55b589['hasOwnProp'+'erty']('stride')?_0x55b589['stride']:this['size'],'dataType':_0x55b589['type'],'numComponents':_0x55b589['components'],'normalize':_0xaca924,'size':_0x15e56a,'asInt':_0x4e0da8};this['_elements']['push'](_0x48a89d),_0x254a88?_0xb44ef6+=_0x15e56a*_0x254a88:_0xb44ef6+=Math['ceil'](_0x15e56a/(0x1*-0x428+0x6f*-0x38+-0x25f*-0xc))*(-0x440*0x8+0x1*0x265f+-0x45b),_0x55b589['semantic']===is?this['hasUv0']=!(-0x188b+0xfb*-0x5+0x1d72):_0x55b589['semantic']===ba?this['hasUv1']=!(0x3*-0xa42+-0x639*0x2+0x6*0x734):_0x55b589['semantic']===Wt?this['hasColor']=!(0x3*0x59+-0x159b+0x1490):_0x55b589['semantic']===yi&&(this['hasTangent'+'s']=!(-0x1*-0xf5+-0x331*-0x1+-0x1*0x426));}_0x254a88&&(this['verticesBy'+'teSize']=_0xb44ef6),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x224b50){return PT['get'](_0x224b50,()=>new kt(_0x224b50,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x483e41,_0x36e62d){const _0x22b77e=_0x36e62d['components']*No[_0x36e62d['type']];return!(_0x483e41['isWebGPU']&&!CT['includes'](_0x22b77e));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x236043=[],_0x3a485b=[],_0x120562=this['_elements']['length'];for(let _0x4815cc=-0x10ef+-0xb*0x2dd+0x306e;_0x4815cc<_0x120562;_0x4815cc++){const {name:_0x33d7b,dataType:_0x1bcf39,numComponents:_0x1e2dec,normalize:_0x22a6de,offset:_0x1a2ff6,stride:_0xace6f5,size:_0x47f4d0,asInt:_0x44e1e7}=this['_elements'][_0x4815cc],_0x25e271=_0x33d7b+_0x1bcf39+_0x1e2dec+_0x22a6de+_0x44e1e7;_0x236043['push'](_0x25e271);const _0x4004ac=_0x25e271+_0x1a2ff6+_0xace6f5+_0x47f4d0;_0x3a485b['push'](_0x4004ac);}_0x236043['sort']();const _0xf8f045=_0x236043['join']();this['batchingHa'+'sh']=hi(_0xf8f045),this['shaderProc'+'essingHash'+'String']=_0xf8f045,this['renderingH'+'ashString']=_0x3a485b['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x4a10a1={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x185b+0x1*0x1fe9+-0x3844)),h(this,'_key'),(this['_func']=_0x4a10a1['func']??Wi,this['_ref']=_0x4a10a1['ref']??0x297+-0x259*0xb+-0xb9e*-0x2,this['_readMask']=_0x4a10a1['readMask']??0x1*-0x2423+-0x2a7*-0x8+0xfea,this['_writeMask']=_0x4a10a1['writeMask']??-0xb33*-0x2+0x28a+-0x17f1,this['_fail']=_0x4a10a1['fail']??xn,this['_zfail']=_0x4a10a1['zfail']??xn,this['_zpass']=_0x4a10a1['zpass']??xn,this['_evalKey']());}set['func'](_0x11462f){this['_func']=_0x11462f,this['_dirty']=!(0x197e+0x144b*-0x1+-0x533);}get['func'](){return this['_func'];}set['ref'](_0x3486ff){this['_ref']=_0x3486ff,this['_dirty']=!(0x853+0x4f9+-0x6a6*0x2);}get['ref'](){return this['_ref'];}set['fail'](_0x4a8592){this['_fail']=_0x4a8592,this['_dirty']=!(-0xb6d+0xfb*0x4+0x781*0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0x5f32fc){this['_zfail']=_0x5f32fc,this['_dirty']=!(-0x238+0x1be3+-0x19ab);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x54e518){this['_zpass']=_0x54e518,this['_dirty']=!(0x311+0x14b8+-0x1*0x17c9);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x1f5118){this['_readMask']=_0x1f5118,this['_dirty']=!(0x1964+0x13*-0xab+-0xcb3*0x1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x3ec70b){this['_writeMask']=_0x3ec70b,this['_dirty']=!(-0x76f+0x240c+0x1c9d*-0x1);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x1935f1,_ref:_0x751a5c,_fail:_0x2c5d2d,_zfail:_0x45baa5,_zpass:_0x2fd8de,_readMask:_0x5c6093,_writeMask:_0x52bacc}=this,_0x3db5e9=_0x1935f1+','+_0x751a5c+','+_0x2c5d2d+','+_0x45baa5+','+_0x2fd8de+','+_0x5c6093+','+_0x52bacc;this['_key']=MT['get'](_0x3db5e9),this['_dirty']=!(-0x1668+0x2456+-0xded);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x5a6fc3){return this['_func']=_0x5a6fc3['_func'],this['_ref']=_0x5a6fc3['_ref'],this['_readMask']=_0x5a6fc3['_readMask'],this['_writeMask']=_0x5a6fc3['_writeMask'],this['_fail']=_0x5a6fc3['_fail'],this['_zfail']=_0x5a6fc3['_zfail'],this['_zpass']=_0x5a6fc3['_zpass'],this['_dirty']=_0x5a6fc3['_dirty'],this['_key']=_0x5a6fc3['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x573908,_0x128a91){var _0x3314c9,_0x2f714c,_0x5de6de,_0x28f529,_0x4880ee,_0x9c2be;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0xa89+-0x161c+0x9c*0x13)),h(this,'isWebGPU',!(0x1f9d+0x5*-0x5e9+0x1*-0x20f)),h(this,'isWebGL2',!(-0x1*-0x8d3+0x1568*0x1+0x92*-0x35)),h(this,'isHdr',!(-0x1ef3+-0xd*0x171+-0x1*-0x31b1)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0x235*0x11+-0x1f6*-0x1+-0x237b),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x1*-0x907+-0x1*0x206b+-0xdd1*-0x3),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x19fa+0x169a+0xad*0x5),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x5*0x5ff+-0x21b5+-0x3*-0x153b)),h(this,'supportsSt'+'orageTextu'+'reRead',!(-0x188*0xe+-0x86*-0x1c+0x6c9)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x16e2+0x25b7*0x1+-0x1*0x3c99),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x1*0xa21+-0x46*0x85+0x2e80)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0xa*0x2cf+0x16*0x96+-0x1*0x28f9)),h(this,'supportsCl'+'ipDistance'+'s',!(0xf4f+0x2b7*0xa+-0xf7*0x2c)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x4b2*-0x5+-0x1a59+0xb8*0x4)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x1*-0x1742+0x7f5*-0x1+0x2*-0x7a6)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x82a*-0x2+-0x221c*-0x1+-0x11c7)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x676+0xfc7+-0x163d*0x1,-0x2*0xb3c+-0xb17+0x218f,-0x140c+0x6*0x4d6+0x23e*-0x4,0x1d73+0x1*-0x1e89+0x117],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0xc5b*-0x1+0x220d+-0x3*0x73b)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x573908,'setAttribu'+'te'in _0x573908&&_0x573908['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x128a91},(_0x3314c9=this['initOption'+'s'])['alpha']??(_0x3314c9['alpha']=!(-0x23d4+0x15ec+0x4*0x37a)),(_0x2f714c=this['initOption'+'s'])['depth']??(_0x2f714c['depth']=!(0x1afb+-0x208e+0x1*0x593)),(_0x5de6de=this['initOption'+'s'])['stencil']??(_0x5de6de['stencil']=!(0x6b+-0x1*0x23ad+-0x1*-0x2342)),(_0x28f529=this['initOption'+'s'])['antialias']??(_0x28f529['antialias']=!(0x44*-0x10+0x23bd+-0x1f7d*0x1)),(_0x4880ee=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x4880ee['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x9c2be=this['initOption'+'s'])['displayFor'+'mat']??(_0x9c2be['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0xe22+-0xf9d+0x17c,window['devicePixe'+'lRatio']):-0x8*-0x397+-0x34d*-0x6+-0x3085*0x1,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x70*0xb+-0x16d1+0x1*0x1201,this['_shaderSwi'+'tchesPerFr'+'ame']=0x255d+0xc1*0x1+-0x29*0xee,this['_primsPerF'+'rame']=[]);for(let _0x591eb8=cd;_0x591eb8<=oa;_0x591eb8++)this['_primsPerF'+'rame'][_0x591eb8]=-0x9*-0x189+-0x264b*0x1+-0x187a*-0x1;this['_renderTar'+'getCreatio'+'nTime']=-0x185c+0x4*-0x15c+0xee6*0x2,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x20*-0x1e+0x6f4*0x2+-0x28*0x71);}['postInit'](){const _0x222108=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x546b4f=new Float32Array([-(0xd5e+0x767+-0x14c4),-(0x160b*0x1+0x2124+-0x372e),0x80b+-0x3f5*-0x1+-0x25*0x53,-(-0x1*0x40+0xd7*-0x6+0x54b),-(-0xe7*-0x2+0x5*-0x5ff+-0x1*-0x1c2e),-0x1288+-0x5*-0x86+0xfeb,0x2156+-0x4fd+0x4*-0x716,0x2*0x10b+-0x7*0x44b+-0x1bf8*-0x1]);this['quadVertex'+'Buffer']=new Is(this,_0x222108,-0x13aa+-0x16*-0x65+0xb0*0x10,{'data':_0x546b4f});}['initCapsDe'+'fines'](){const {capsDefines:_0x36dae4}=this;_0x36dae4['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x36dae4['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x36dae4['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x2812af,_0xef3fa1,_0x5afc4e;this['fire']('destroy'),(_0x2812af=this['quadVertex'+'Buffer'])==null||_0x2812af['destroy'](),this['quadVertex'+'Buffer']=null,(_0xef3fa1=this['dynamicBuf'+'fers'])==null||_0xef3fa1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x5afc4e=this['gpuProfile'+'r'])==null||_0x5afc4e['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x338681){this['fire']('destroy:sh'+'ader',_0x338681);const _0x42478b=this['shaders']['indexOf'](_0x338681);_0x42478b!==-(0xd6*0x2b+-0xa*0x3e3+-0x2ed*-0x1)&&this['shaders']['splice'](_0x42478b,0x1*0x1f8b+0x1371+-0x32fb);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x407dc6;this['contextLos'+'t']=!(0x527*-0x5+-0x6c1+0x2084),this['backBuffer'+'Size']['set'](-(0x11d9+0x1f*-0x10d+0xebb*0x1),-(-0x831*0x3+0x1*0xcc7+0x39*0x35));for(const _0xc6e516 of this['textures'])_0xc6e516['loseContex'+'t']();for(const _0x2f965c of this['buffers'])_0x2f965c['loseContex'+'t']();for(const _0x408474 of this['targets'])_0x408474['loseContex'+'t']();(_0x407dc6=this['gpuProfile'+'r'])==null||_0x407dc6['loseContex'+'t']();}['restoreCon'+'text'](){var _0x4e2c70,_0x590aa7;this['contextLos'+'t']=!(-0x117d+-0xa*-0x377+-0x1128),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x410b4c of this['buffers'])_0x410b4c['unlock']();(_0x590aa7=(_0x4e2c70=this['gpuProfile'+'r'])==null?void(-0x1823+-0x827+0x204a):_0x4e2c70['restoreCon'+'text'])==null||_0x590aa7['call'](_0x4e2c70);}['toJSON'](_0x457d7f){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x128d*0x2+0x551+-0x1*-0x1fc9),this['shaderAsyn'+'cCompile']=!(-0x1*-0x805+-0xfaa+-0x16*-0x59),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=-0x732+0xa4e*0x2+-0xd6a,this['sx']=this['sy']=this['sw']=this['sh']=-0x1280+-0x137a+0x25fa,this['blendColor']=new ie(0xac9*0x1+0xe9d+-0x1966,0xd50+-0x195c*-0x1+-0x42*0x96,0x1*-0x1f93+-0x7*0x1ea+0x2cf9*0x1,-0x1*0x1a35+0x43*0x4d+-0x1f*-0x32);}['setStencil'+'State'](_0x37ab29,_0x2cb424){w['assert'](!(0x10ec+-0x227b+0x1190*0x1));}['setBlendSt'+'ate'](_0x487f66){w['assert'](!(0x12d9+-0x5c*0x30+0x3*-0x88));}['setBlendCo'+'lor'](_0xc00597,_0x182ad5,_0x817a24,_0x1688b0){w['assert'](!(-0x1*-0x81e+-0x2*0x125f+-0x98b*-0x3));}['setDepthSt'+'ate'](_0x3ac382){w['assert'](!(-0x279*0x3+0x44*-0x8+0x1a*0x5e));}['setCullMod'+'e'](_0x32eb2b){w['assert'](!(0x694+-0x6a3+-0x10*-0x1));}['setRenderT'+'arget'](_0x566358){this['renderTarg'+'et']=_0x566358;}['setVertexB'+'uffer'](_0x4d6596){_0x4d6596&&this['vertexBuff'+'ers']['push'](_0x4d6596);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x1*-0x23c2+-0x1d*0x22+-0x1fe8;}['getIndirec'+'tDrawSlot'](){return-0x10f3*-0x2+0xa57*0x2+-0x3e6*0xe;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x371ea1){if(_0x371ea1['initialize'+'d'])return;const _0xd590f1=de();this['fire']('fbo:create',{'timestamp':_0xd590f1,'target':this}),_0x371ea1['init'](),this['targets']['add'](_0x371ea1),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0xd590f1;}['draw'](_0x2e77f3,_0x3e0f28,_0x2f7de1,_0x5d7556,_0x2d438b=!(0x2*-0x598+0x1d9*-0x1+0xd09),_0x5aa527=!(-0x1481*0x1+0x1d*-0x74+0x21a5)){w['assert'](!(-0x1c94+0x6f*0xe+-0x781*-0x3));}['_isBrowser'+'Interface'](_0x506cb1){return this['_isImageBr'+'owserInter'+'face'](_0x506cb1)||this['_isImageCa'+'nvasInterf'+'ace'](_0x506cb1)||this['_isImageVi'+'deoInterfa'+'ce'](_0x506cb1);}['_isImageBr'+'owserInter'+'face'](_0x14037a){return typeof ImageBitmap<'u'&&_0x14037a instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x14037a instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x58b5f2){return typeof HTMLCanvasElement<'u'&&_0x58b5f2 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x7b6484){return typeof HTMLVideoElement<'u'&&_0x7b6484 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x502e62,_0x74f6aa){const _0x3d5011=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x1f93+-0x14ff+0xa93*-0x1),_0x203adc=Math['floor'](_0x502e62*_0x3d5011),_0x14c6ca=Math['floor'](_0x74f6aa*_0x3d5011);(_0x203adc!==this['canvas']['width']||_0x14c6ca!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x203adc,_0x14c6ca);}['setResolut'+'ion'](_0x108525,_0x81daeb){this['canvas']['width']=_0x108525,this['canvas']['height']=_0x81daeb,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x108525,_0x81daeb);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x18a84c=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x18a84c['width'],this['clientRect']['height']=_0x18a84c['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x8cfed7){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xcfb*0x1+-0x1bec+0x1*0xef2);}set['maxPixelRa'+'tio'](_0x296fec){this['_maxPixelR'+'atio']=_0x296fec;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x24f4e2){}['endRenderP'+'ass'](_0x1919f2){}['startCompu'+'tePass'](_0x27d44){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xc0c*-0x2+-0xb41+-0xcd7,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x26ca7e=this['textures']['slice']();_0x26ca7e['sort']((_0x32e368,_0x3a23d4)=>_0x3a23d4['gpuSize']-_0x32e368['gpuSize']),w['log']('Textures:\x20'+_0x26ca7e['length']);let _0x114197=-0x3b9*-0x5+0x2487+-0x3724;_0x26ca7e['forEach']((_0x259593,_0x3ecd67)=>{const _0x1409d4=_0x259593['gpuSize'];_0x114197+=_0x1409d4,w['log'](_0x3ecd67+'.\x20'+_0x259593['name']+'\x20'+_0x259593['width']+'x'+_0x259593['height']+'\x20VRAM:\x20'+(_0x1409d4/(0x2*0x35+0x3*0x9fe+-0x1a64)/(0x1051+-0xf28+-0x1*-0x2d7))['toFixed'](-0x15ef+-0x10db+-0xbf*-0x34)+'\x20MB');}),w['log']('Total:\x20'+(_0x114197/(0x15*0x8d+0x1b4c+0x7*-0x4fb)/(0x11d4+-0x931+0x4a3*-0x1))['toFixed'](0x49c*0x2+0x22*-0x30+-0x2d6)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x1b3f90=>_0x1b3f90['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x36aa11,_0x1740e8='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x403b49=[In,nt,Xt],_0xe0aa2a=!(0x2164+-0x1aa5+-0x6bf),_0xc97456=-0x1*-0x6b9+0x1f*0x25+-0xb33){for(let _0x469bf2=-0xf83+0x1*0x9bb+0x5c8;_0x469bf2<_0x403b49['length'];_0x469bf2++){const _0x1b9a39=_0x403b49[_0x469bf2];switch(_0x1b9a39){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x1b9a39;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x1b9a39;break;case Xt:if(this['isWebGPU']&&_0xc97456>-0x2286*0x1+0x1*-0x2038+0x42bf)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xe0aa2a||this['textureFlo'+'atFilterab'+'le']))return _0x1b9a39;break;}}}['validateAt'+'tributes'](_0xbe7811,_0x3404c7,_0x2f9f66){w['call'](()=>{ql['clear'](),_0x3404c7==null||_0x3404c7['elements']['forEach'](_0x1ea09a=>ql['add'](Le[_0x1ea09a['name']])),_0x2f9f66==null||_0x2f9f66['elements']['forEach'](_0x4e5fae=>ql['add'](Le[_0x4e5fae['name']]));for(const [_0x1911c2,_0x2a6d46]of _0xbe7811['attributes'])ql['has'](_0x1911c2)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x2a6d46+(']\x20at\x20locat'+'ion\x20')+_0x1911c2+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0xbe7811,'vb0Format':_0x3404c7,'vb1Format':_0x2f9f66});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x9*0x53+0x42e+-0x17*0x4f;class gt{constructor(_0xe1e339={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x353abb,_0xd5fcd0,_0x1125f7,_0x63f70d,_0x5c8af0,_0x5032ca;w['assert'](!(_0xe1e339 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x2da546=((_0x353abb=_0xe1e339['colorBuffe'+'r'])==null?void(0x1*0x1b59+-0x146*0xb+-0xd57):_0x353abb['device'])??((_0xd5fcd0=_0xe1e339['colorBuffe'+'rs'])==null?void(-0x942+0x985*0x1+0x43*-0x1):_0xd5fcd0[-0xa1c*0x1+0x1aaa+-0x108e]['device'])??((_0x1125f7=_0xe1e339['depthBuffe'+'r'])==null?void(0x19*0xe2+-0x1ddb+0x1*0x7c9):_0x1125f7['device'])??_0xe1e339['graphicsDe'+'vice'];w['assert'](_0x2da546,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x2da546;const {maxSamples:_0x28f59c}=this['_device'];if(this['_samples']=Math['min'](_0xe1e339['samples']??-0x79*0x1c+-0x111*0x9+-0x16d6*-0x1,_0x28f59c),_0x2da546['isWebGPU']&&(this['_samples']=this['_samples']>-0x5a1*-0x5+0x25db+-0x5*0xd33?_0x28f59c:0x25e4+0x40f+-0x29f2),this['_colorBuff'+'er']=_0xe1e339['colorBuffe'+'r'],_0xe1e339['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0xe1e339['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0xe1e339['depthBuffe'+'r'],this['_face']=_0xe1e339['face']??-0xad*-0x1c+-0x1fb+-0x1*0x10f1,this['_depthBuff'+'er']){const _0xe93e8d=this['_depthBuff'+'er']['_format'];_0xe93e8d===$i||_0xe93e8d===vn?(this['_depth']=!(0x522*-0x3+-0x8bd*0x1+0x1823),this['_stencil']=!(-0x1ca*-0xb+-0x15af+0x202)):_0xe93e8d===sd?(this['_depth']=!(0xd6a+-0x1*-0xe39+-0x11b*0x19),this['_stencil']=!(0x11*-0x157+-0x1*-0x2091+0x1*-0x9ca)):_0xe93e8d===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x7*0x1b7+0x208+0x1*0x9fa?(this['_depth']=!(-0x25*-0x3a+-0x53f*0x3+-0x7*-0x10d),this['_stencil']=!(-0x92a*-0x1+-0xc9c+0x373)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x65b*0x2+-0x1978+0x262f),this['_stencil']=!(0x18fc+0x10af+-0x29aa));}else this['_depth']=_0xe1e339['depth']??!(0x1247*-0x2+-0x7*0x3f9+0x405d),this['_stencil']=_0xe1e339['stencil']??!(0x4f7+0x158e+0x1*-0x1a84);_0xe1e339['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0xe1e339['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0xe1e339['colorBuffe'+'rs'][0xfb9+0xb1e*0x1+-0x1ad7])),this['autoResolv'+'e']=_0xe1e339['autoResolv'+'e']??!(-0x1*0x22f9+0x6*0x491+0x793),this['name']=_0xe1e339['name'],this['name']||(this['name']=(_0x63f70d=this['_colorBuff'+'er'])==null?void(0xbd6+0x25c0+-0x3196):_0x63f70d['name']),this['name']||(this['name']=(_0x5c8af0=this['_depthBuff'+'er'])==null?void(0x10da+-0x228f+-0x11b5*-0x1):_0x5c8af0['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0xe1e339['flipY']??!(0x1*-0x2035+-0x3*0x2a0+0x2816),this['_mipLevel']=_0xe1e339['mipLevel']??-0x1826+0x2*-0x3d1+0x1fc8,this['_mipLevel']>0x1e9a+0x2365+-0x221*0x1f&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0xe1e339}),this['_mipLevel']=-0x4*-0x5c1+-0x1a5a+0x356),this['_mipmaps']=_0xe1e339['mipLevel']===void(-0xb8b+-0x848*-0x4+0x19*-0xdd),this['validateMr'+'t'](),this['impl']=_0x2da546['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x5032ca=this['_colorBuff'+'ers'])!=null&&_0x5032ca['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x239e1f=this['_device'];_0x239e1f&&(_0x239e1f['targets']['delete'](this),_0x239e1f['renderTarg'+'et']===this&&_0x239e1f['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1ddbb3=this['_device'];_0x1ddbb3&&this['impl']['destroy'](_0x1ddbb3);}['destroyTex'+'tureBuffer'+'s'](){var _0x27f230,_0x3e9cf2;(_0x27f230=this['_depthBuff'+'er'])==null||_0x27f230['destroy'](),this['_depthBuff'+'er']=null,(_0x3e9cf2=this['_colorBuff'+'ers'])==null||_0x3e9cf2['forEach'](_0x687dbf=>{_0x687dbf['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x19a6e7,_0x5be9c2){var _0x2c6ea3,_0x4c37fb;if(this['width']!==_0x19a6e7||this['height']!==_0x5be9c2){if(this['mipLevel']>0x9*-0x2ba+0x425+0x1465){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x3981e4=this['_device'];this['destroyFra'+'meBuffers'](),_0x3981e4['renderTarg'+'et']===this&&_0x3981e4['setRenderT'+'arget'](null),(_0x2c6ea3=this['_depthBuff'+'er'])==null||_0x2c6ea3['resize'](_0x19a6e7,_0x5be9c2),(_0x4c37fb=this['_colorBuff'+'ers'])==null||_0x4c37fb['forEach'](_0x4fe65a=>{_0x4fe65a['resize'](_0x19a6e7,_0x5be9c2);}),this['validateMr'+'t'](),this['impl']=_0x3981e4['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x4e0d34,height:_0x5ed614,cubemap:_0x25f76f,volume:_0x286989}=this['_colorBuff'+'ers'][0x21ee+0x2*0xdd6+-0x3d9a];for(let _0x1f0b24=-0x5*-0x3d1+0x182a+-0x7b*0x5a;_0x1f0b24<this['_colorBuff'+'ers']['length'];_0x1f0b24++){const _0x55456b=this['_colorBuff'+'ers'][_0x1f0b24];w['assert'](_0x55456b['width']===_0x4e0d34,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x55456b['height']===_0x5ed614,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x55456b['cubemap']===_0x25f76f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x55456b['volume']===_0x286989,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x275301=!(0x171a+0x1*-0x3b4+0x1a*-0xbf),_0x5d1b26=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x3be*0x9+-0xb82+0x2d31*0x1&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x275301?'[color]':'')+':'+(_0x5d1b26?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x275301,_0x5d1b26),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x340c2d,_0x52e170,_0x472647){if(!this['_device']){if(_0x340c2d['_device'])this['_device']=_0x340c2d['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x7f*0x1d+-0x1010+-0xf3a*-0x2);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x340c2d['name']+'->'+this['name']);const _0x3b32e0=this['_device']['copyRender'+'Target'](_0x340c2d,this,_0x52e170,_0x472647);return Q['popGpuMark'+'er'](this['_device']),_0x3b32e0;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x154490){var _0x3fd5ac;return(_0x3fd5ac=this['_colorBuff'+'ers'])==null?void(-0x1e80+0x2*0x52f+-0x6b6*-0x3):_0x3fd5ac[_0x154490];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x8b0a9,_0x4ba471;let _0x4139ba=((_0x8b0a9=this['_colorBuff'+'er'])==null?void(-0x312+0x15d*0x2+0x58):_0x8b0a9['width'])||((_0x4ba471=this['_depthBuff'+'er'])==null?void(0x3b7*0x9+-0x1*-0x1a5+0xa*-0x382):_0x4ba471['width'])||this['_device']['width'];return this['_mipLevel']>-0x2054+0x247*-0x5+-0x24d*-0x13&&(_0x4139ba=Xi['calcLevelD'+'imension'](_0x4139ba,this['_mipLevel'])),_0x4139ba;}get['height'](){var _0xce3325,_0x1af67f;let _0x39a7e9=((_0xce3325=this['_colorBuff'+'er'])==null?void(0x460+-0x1995+0x1535):_0xce3325['height'])||((_0x1af67f=this['_depthBuff'+'er'])==null?void(-0x8a8+0xfa5+-0x6fd):_0x1af67f['height'])||this['_device']['height'];return this['_mipLevel']>-0x1522+0x174c+-0x22a&&(_0x39a7e9=Xi['calcLevelD'+'imension'](_0x39a7e9,this['_mipLevel'])),_0x39a7e9;}['isColorBuf'+'ferSrgb'](_0x4f8fdf=0x2*0x9a3+-0x18aa+0x564){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x436a14=this['getColorBu'+'ffer'](_0x4f8fdf);return _0x436a14?fh(_0x436a14['format']):!(0x13dd+-0x2046+0xc6a);}}const IT={'equals'(_0x30c40d,_0x42d6ee){if(_0x30c40d['length']!==_0x42d6ee['length'])return!(0x1a2+0x1d5e+-0x1eff);for(let _0x3e8891=0x4f1*-0x3+-0x1*0x1cdf+0x2bb2;_0x3e8891<_0x30c40d['length'];_0x3e8891++)if(_0x30c40d[_0x3e8891]!==_0x42d6ee[_0x3e8891])return!(0x1085*-0x1+-0x3*-0x199+0xbbb);return!(-0x3d2+-0x1*-0x26ba+-0x22e8);}};class wd{constructor(){h(this,'_refCount',0x707+0x1f52+-0x1*0x2659);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x4bc70c){super(),h(this,'object'),(this['object']=_0x4bc70c,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0xa6baa7=>{var _0x4ef6b7;(_0x4ef6b7=_0xa6baa7['object'])==null||_0x4ef6b7['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x181bc8){const _0x5f50cc=this['cache']['get'](_0x181bc8);return _0x5f50cc?(_0x5f50cc['incRefCoun'+'t'](),_0x5f50cc['object']):null;}['set'](_0x527fae,_0x5d219f){w['assert'](!this['cache']['has'](_0x527fae),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x527fae,'object':_0x5d219f}),this['cache']['set'](_0x527fae,new LT(_0x5d219f));}['release'](_0x3958f5){var _0x2f6d56;const _0x28f109=this['cache']['get'](_0x3958f5);_0x28f109?(_0x28f109['decRefCoun'+'t'](),_0x28f109['refCount']===0x2a1*-0xd+0x1*0x11d7+0x1056&&(this['cache']['delete'](_0x3958f5),(_0x2f6d56=_0x28f109['object'])==null||_0x2f6d56['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x3958f5});}}class OT extends RT{['loseContex'+'t'](_0x8012d1){this['clear']();}}const FT=new Kt(),Fd=_0x5219f2=>FT['get'](_0x5219f2,()=>new OT()),At=[];At[Xs]=0x2179+0x7*-0xfd+0x3cb*-0x7,At[ga]=-0x2672+-0x1da2+0x4416,At[ds]=-0x1b40+-0x1170+0x2cb3,At[Rn]=-0xfce+-0x155d+-0x13*-0x1f5,At[_a]=0x17b3+-0x2*0xc73+-0x4d*-0x4,At[ca]=-0x2192+-0x1*0x8d2+0x2a66,At[ha]=0x10e8+0x16b8+-0x279d,At[da]=-0x795+-0xd8*0x9+0xf31,At[Tn]=0x1ac7*-0x1+0x446*-0x2+0x2354,At[tl]=-0x1*-0x1a02+0x44f*-0x3+-0xd13,At[sl]=0x1940+0x138*-0x2+-0x16cd,At[il]=0xb*0x163+-0x1*-0x1522+-0x245f,At[_h]=0x7*-0x107+-0x218c+0x28c5,At[On]=-0x22f4+0x4eb*-0x7+0x7*0x9eb,At[li]=-0x10b+0x1*-0x6dd+0x7f8,At[Fn]=0x13be+0x7d9+-0x1b96,At[Nn]=-0xfe*0x2+0x5ba+0x1*-0x3bc,At[kn]=-0x11b0+0x12aa+-0xf7*0x1,At[Un]=0x21ad+-0x71*-0x45+0x401e*-0x1;class dt{constructor(_0x3c2d73,_0x5d350a,_0x5ccdb7=0x923*-0x1+0x2d6+-0x1*-0x64d){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x3c2d73,this['name']=_0x5ccdb7?_0x3c2d73+'[0]':_0x3c2d73,this['type']=_0x5d350a,this['numCompone'+'nts']=At[_0x5d350a],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5d350a+'\x20used\x20for\x20'+_0x3c2d73),this['updateType']=_0x5d350a,_0x5ccdb7>-0x1*-0x2482+0xee+0x2*-0x12b8)switch(_0x5d350a){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x5d350a]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3c2d73+'\x27.'),w['call'](()=>{this['invalid']=!(-0x20c5+-0x2b0+0x2375);});break;}this['count']=_0x5ccdb7,w['assert'](!isNaN(_0x5ccdb7),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3c2d73+'['+_0x5ccdb7+']'),w['call'](()=>{isNaN(_0x5ccdb7)&&(this['invalid']=!(-0x5*-0x310+-0x71*-0x3a+-0x1475*0x2));});let _0x11b60e=this['numCompone'+'nts'];_0x5ccdb7&&(_0x11b60e=Y['roundUp'](_0x11b60e,-0x1*0x1733+-0x1b15+0x1926*0x2)),this['byteSize']=_0x11b60e*(0x1c57+0x2441+-0x4094*0x1),_0x5ccdb7&&(this['byteSize']*=_0x5ccdb7),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5d350a+'\x20used\x20for\x20'+_0x3c2d73);}get['isArrayTyp'+'e'](){return this['count']>0x2*-0x1289+0x814+0x2*0xe7f;}['calculateO'+'ffset'](_0x5378c6){let _0x2302f7=this['byteSize']<=-0x886*-0x1+0x1779+0x1ff7*-0x1?this['byteSize']:0x1408+-0x93a*0x4+0x10f0;this['count']&&(_0x2302f7=0x235e+-0x1d+-0x2331),_0x5378c6=Y['roundUp'](_0x5378c6,_0x2302f7),this['offset']=_0x5378c6/(-0x3*0xacb+-0x1543*0x1+0x35a8);}}class zy{constructor(_0x5b10f3,_0x19f3d3){h(this,'byteSize',0x1997*0x1+0x2*0x4bb+-0x230d*0x1),h(this,'map',new Map()),(this['scope']=_0x5b10f3['scope'],this['uniforms']=_0x19f3d3);let _0x22e349=0x1*-0x19e3+-0x2574+0x3f57;for(let _0x2073d7=-0x619*-0x3+-0x1*-0x3ad+-0x15f8;_0x2073d7<_0x19f3d3['length'];_0x2073d7++){const _0x8b7ad=_0x19f3d3[_0x2073d7];_0x8b7ad['calculateO'+'ffset'](_0x22e349),_0x22e349=_0x8b7ad['offset']*(0x10cd+-0x2ee+0x1*-0xddb)+_0x8b7ad['byteSize'],_0x8b7ad['scopeId']=this['scope']['resolve'](_0x8b7ad['name']),this['map']['set'](_0x8b7ad['name'],_0x8b7ad);}this['byteSize']=Y['roundUp'](_0x22e349,-0xc83+-0x1b7*-0x9+-0x2dc);}['get'](_0x2cabba){return this['map']['get'](_0x2cabba);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x2d29cb,_0x4ae479=new Map(),_0x51dfa3={}){Lt['sourceName']=_0x51dfa3['sourceName'],_0x2d29cb=this['stripComme'+'nts'](_0x2d29cb),_0x2d29cb=_0x2d29cb['split'](/\r?\n/)['map'](_0x30628e=>_0x30628e['trimEnd']())['join']('\x0a');const _0xc4341f=new Map(),_0x35ccab=new Map();if(_0x2d29cb=this['_preproces'+'s'](_0x2d29cb,_0xc4341f,_0x35ccab,_0x4ae479,_0x51dfa3['stripDefin'+'es']),_0x2d29cb===null)return null;const _0x4bb39e=new Map();return _0xc4341f['forEach']((_0x3498a1,_0x126565)=>{Number['isInteger'](parseFloat(_0x3498a1))&&!_0x3498a1['includes']('.')&&_0x4bb39e['set'](_0x126565,_0x3498a1);}),_0x2d29cb=this['stripComme'+'nts'](_0x2d29cb),_0x2d29cb=this['stripUnuse'+'dColorAtta'+'chments'](_0x2d29cb,_0x51dfa3),_0x2d29cb=this['RemoveEmpt'+'yLines'](_0x2d29cb),_0x2d29cb=this['processArr'+'aySize'](_0x2d29cb,_0x4bb39e),_0x2d29cb=this['injectDefi'+'nes'](_0x2d29cb,_0x35ccab),_0x2d29cb;}static['stripUnuse'+'dColorAtta'+'chments'](_0x17e769,_0x2e5d68){if(_0x2e5d68['stripUnuse'+'dColorAtta'+'chments']){const _0x1d3b1f=new Map(),_0x22d811=_0x17e769['match'](a_);if(_0x22d811==null||_0x22d811['forEach'](_0x4ac7f8=>{const _0x11a1d5=parseInt(_0x4ac7f8['charAt'](_0x4ac7f8['length']-(0x2165+-0x158e*0x1+0xca*-0xf)),0xf0a+0x7f4*-0x1+-0x29*0x2c);_0x1d3b1f['set'](_0x11a1d5,(_0x1d3b1f['get'](_0x11a1d5)??-0x125b*-0x2+-0x1327+0x383*-0x5)+(-0xa5+0x4*0x520+-0x13da));}),Array['from'](_0x1d3b1f['values']())['some'](_0x64c5e2=>_0x64c5e2===-0x1a23+0x1aec+-0xc8)){const _0x575d57=_0x17e769['split']('\x0a'),_0x5e42e8=[];for(let _0x10f762=-0x10ed+-0x2227+0x3314;_0x10f762<_0x575d57['length'];_0x10f762++){const _0x37920c=_0x575d57[_0x10f762]['match'](a_);if(_0x37920c){const _0x4ddf29=parseInt(_0x37920c[-0x1*0x7ab+0x3f3+0x3b8]['charAt'](_0x37920c[-0x187*0x1+0x2c*-0x13+0x4cb]['length']-(0x4*0x6a3+-0x1*0x1807+0x2*-0x142)),0x2*0x11b3+0xb44+0x2*-0x1750);if(_0x4ddf29>0x45c*0x3+-0x1e1a*0x1+0x1106*0x1&&_0x1d3b1f['get'](_0x4ddf29)===-0x3*-0x8+0x1*0xfc7+-0x54a*0x3)continue;}_0x5e42e8['push'](_0x575d57[_0x10f762]);}_0x17e769=_0x5e42e8['join']('\x0a');}}return _0x17e769;}static['stripComme'+'nts'](_0x2c1a0c){return _0x2c1a0c['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0xc8ce1e,_0x365d14){return _0xc8ce1e!==null&&_0x365d14['forEach']((_0x2b8c04,_0x517334)=>{_0xc8ce1e=_0xc8ce1e['replace'](new RegExp('\x5c['+_0x517334+'\x5c]','g'),'['+_0x2b8c04+']');}),_0xc8ce1e;}static['injectDefi'+'nes'](_0x5b3104,_0x4f55a5){if(_0x5b3104!==null&&_0x4f55a5['size']>0x1987+-0x1d*-0x121+-0x54c*0xb){const _0x5965da=_0x5b3104['split']('\x0a');_0x4f55a5['forEach']((_0x518b3a,_0x24e751)=>{const _0x46d0ea=new RegExp(_0x24e751,'g');for(let _0x4862ac=0x9*-0x124+-0x45*-0x85+-0x1995;_0x4862ac<_0x5965da['length'];_0x4862ac++)_0x5965da[_0x4862ac]['includes']('#')||(_0x5965da[_0x4862ac]=_0x5965da[_0x4862ac]['replace'](_0x46d0ea,_0x518b3a));}),_0x5b3104=_0x5965da['join']('\x0a');}return _0x5b3104;}static['RemoveEmpt'+'yLines'](_0x4c3da6){return _0x4c3da6!==null&&(_0x4c3da6=_0x4c3da6['split'](/\r?\n/)['map'](_0x2e1173=>_0x2e1173['trim']()===''?'':_0x2e1173)['join']('\x0a'),_0x4c3da6=_0x4c3da6['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x4c3da6;}static['_preproces'+'s'](_0x1644a5,_0x502f38=new Map(),_0x15eefc,_0x4baf29,_0x2add61){var _0x18c24b;const _0x265a5=_0x1644a5,_0x8de01a=[];let _0x57d717=!(-0x1*0x108d+0x2627+-0x13*0x123),_0xcf2786;for(;(_0xcf2786=Fs['exec'](_0x1644a5))!==null&&!_0x57d717;){const _0x2d0120=_0xcf2786[0x1cd2+-0x147c+0x9*-0xed];switch(_0x2d0120){case'define':{Nd['lastIndex']=_0xcf2786['index'];const _0x3c6d4c=Nd['exec'](_0x1644a5);w['assert'](_0x3c6d4c,'Invalid\x20['+_0x2d0120+']:\x20'+_0x1644a5['substring'](_0xcf2786['index'],_0xcf2786['index']+(-0xd37+0x13a0+-0x605))+'...'),_0x57d717||(_0x57d717=_0x3c6d4c===null);const _0x288bff=_0x3c6d4c[0x1e42*0x1+0x17e3+-0x3624];r_['lastIndex']=_0x3c6d4c['index'];const _0x1cab5c=r_['exec'](_0x288bff)[-0x24*0x67+-0xb9a+0x1a16];let _0x20f1ea=_0x288bff['substring'](_0x1cab5c['length'])['trim']();_0x20f1ea===''&&(_0x20f1ea='true');const _0x2c81b0=Lt['_keep'](_0x8de01a);let _0xb03646=_0x2add61;if(_0x2c81b0){const _0x4a5423=_0x1cab5c['startsWith']('{')&&_0x1cab5c['endsWith']('}');_0x4a5423&&(_0xb03646=!(-0x8aa+-0x4de+0xd88)),_0x4a5423?_0x15eefc['set'](_0x1cab5c,_0x20f1ea):_0x502f38['set'](_0x1cab5c,_0x20f1ea),_0xb03646&&(_0x1644a5=_0x1644a5['substring'](0xb6f+-0x16f*0x11+-0xcf*-0x10,_0x3c6d4c['index']-(-0x10ca+-0x1*-0x13ff+-0x334))+_0x1644a5['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x3c6d4c['index']-(-0x13bf*-0x1+0x1046+0x1*-0x2404));}w['trace'](Lr,_0x2d0120+':\x20['+_0x1cab5c+']\x20'+_0x20f1ea+'\x20'+(_0x2c81b0?'':'IGNORED')),_0xb03646||(Fs['lastIndex']=_0x3c6d4c['index']+_0x3c6d4c[0x16*0x1c+0x11e+-0x386]['length']);break;}case'undef':{kd['lastIndex']=_0xcf2786['index'];const _0x566e03=kd['exec'](_0x1644a5),_0x2e91ec=_0x566e03[-0x284+0xb5*0x29+-0x1e4*0xe]['trim'](),_0x2ed5fb=Lt['_keep'](_0x8de01a);_0x2ed5fb&&(_0x502f38['delete'](_0x2e91ec),_0x2add61&&(_0x1644a5=_0x1644a5['substring'](-0x1*0x184d+-0x4*-0x623+-0x3f,_0x566e03['index']-(-0xe*0x1d+0x1*0xcdb+-0xce*0xe))+_0x1644a5['substring'](kd['lastIndex']),Fs['lastIndex']=_0x566e03['index']-(0xa81+0x13*-0x3e+0x5e6*-0x1))),w['trace'](Lr,_0x2d0120+':\x20['+_0x2e91ec+']\x20'+(_0x2ed5fb?'':'IGNORED')),_0x2add61||(Fs['lastIndex']=_0x566e03['index']+_0x566e03[0x24c6+0xd9a+-0x3260]['length']);break;}case'extension':{i_['lastIndex']=_0xcf2786['index'];const _0x4f78c5=i_['exec'](_0x1644a5);if(w['assert'](_0x4f78c5,'Invalid\x20['+_0x2d0120+']:\x20'+_0x1644a5['substring'](_0xcf2786['index'],_0xcf2786['index']+(0x6*-0x269+0xb*0x375+-0x15d*0x11))+'...'),_0x57d717||(_0x57d717=_0x4f78c5===null),_0x4f78c5){const _0x7934f2=_0x4f78c5[0x197*0xe+-0x62*-0x1a+-0x55*0x61],_0x3525ee=Lt['_keep'](_0x8de01a);_0x3525ee&&_0x502f38['set'](_0x7934f2,'true'),w['trace'](Lr,_0x2d0120+':\x20['+_0x7934f2+']\x20'+(_0x3525ee?'':'IGNORED'));}Fs['lastIndex']=_0x4f78c5['index']+_0x4f78c5[0x710*0x2+0x7*-0x20e+-0xb*-0x6]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0xcf2786['index'];const _0x404022=Ud['exec'](_0x1644a5),_0x28d847=_0x404022[0x1150+-0xaad*0x3+-0xeb9*-0x1],_0xd82dfc=Lt['evaluate'](_0x28d847,_0x502f38);_0x57d717||(_0x57d717=_0xd82dfc['error']);let _0x48f465=_0xd82dfc['result'];_0x2d0120==='ifndef'&&(_0x48f465=!_0x48f465),_0x8de01a['push']({'anyKeep':_0x48f465,'keep':_0x48f465,'start':_0xcf2786['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x2d0120+':\x20['+_0x28d847+']\x20=>\x20'+_0x48f465),Fs['lastIndex']=_0x404022['index']+_0x404022[-0x1e96+-0x24e2*0x1+0x4378]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0xcf2786['index'];const _0x437bec=Bd['exec'](_0x1644a5),_0x2ee994=_0x8de01a['pop']();if(!_0x2ee994){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x437bec[-0x761+-0x23af+0x2b11]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1644a5['substring'](_0xcf2786['index'],_0xcf2786['index']+(0x5*-0x3dd+-0x1976+0x175*0x1f))+'...',{'source':_0x265a5}),_0x57d717=!(0x1cc0+-0x25f*-0x2+-0x217e);continue;}const _0x299d78=_0x2ee994['keep']?_0x1644a5['substring'](_0x2ee994['end'],_0xcf2786['index']):'';w['trace'](Lr,_0x2d0120+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x299d78!=='')),_0x1644a5=_0x1644a5['substring'](0xb3b*0x3+0x9b2*0x2+-0x6b*0x7f,_0x2ee994['start'])+_0x299d78+_0x1644a5['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x2ee994['start']+_0x299d78['length'];const _0x49bf23=_0x437bec[-0x4a9+-0x1f7a+0x101*0x24];if(_0x49bf23==='else'||_0x49bf23==='elif'){let _0x665204=!(-0x778+-0x1cab*0x1+0x2424);if(!_0x2ee994['anyKeep']){if(_0x49bf23==='else')_0x665204=!_0x2ee994['keep'];else{const _0x390886=Lt['evaluate'](_0x437bec[0xd83+0x1d05+-0x2a86*0x1],_0x502f38);_0x665204=_0x390886['result'],_0x57d717||(_0x57d717=_0x390886['error']);}}_0x8de01a['push']({'anyKeep':_0x2ee994['anyKeep']||_0x665204,'keep':_0x665204,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x2d0120+':\x20['+_0x437bec[0x21c7*-0x1+-0x5*-0x133+0x2*0xde5]+']\x20=>\x20'+_0x665204);}break;}case'include':{zd['lastIndex']=_0xcf2786['index'];const _0x12ab91=zd['exec'](_0x1644a5);if(_0x57d717||(_0x57d717=_0x12ab91===null),!_0x12ab91){w['assert'](_0x12ab91,'Invalid\x20['+_0x2d0120+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x1644a5['substring'](_0xcf2786['index'],_0xcf2786['index']+(-0x1*0xa27+0x8*-0x3bf+0x2883))+'...'),_0x57d717=!(-0xf*0x207+0x220d+-0x3a4);continue;}const _0x47f79d=_0x12ab91[-0x2ab+-0x4*-0x6ac+-0xc02*0x2]['trim'](),_0x2bbe92=(_0x18c24b=_0x12ab91[-0x7ec+-0x25dc+0x2dca])==null?void(0x204e+-0x7*-0x515+0x1*-0x43e1):_0x18c24b['trim'](),_0x85d71d=Lt['_keep'](_0x8de01a);if(_0x85d71d){let _0x5e5594=_0x4baf29==null?void(-0x13*0x3a+0x79e+-0x350):_0x4baf29['get'](_0x47f79d);if(_0x5e5594!==void(0x4d0+-0x3*0x349+0x50b)){if(_0x5e5594=this['stripComme'+'nts'](_0x5e5594),_0x2bbe92){const _0x3e540b=_0x502f38['get'](_0x2bbe92),_0x30fa89=parseFloat(_0x3e540b);if(Number['isInteger'](_0x30fa89)){let _0x582463='';for(let _0x321631=-0x22d*0x1+0xdf4*0x1+-0xbc7;_0x321631<_0x30fa89;_0x321631++)_0x582463+=_0x5e5594['replace'](VT,String(_0x321631));_0x5e5594=_0x582463;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x2bbe92+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x1644a5['substring'](_0xcf2786['index'],_0xcf2786['index']+(0x13ce+0xb02+0x84*-0x3b))+'...',{'originalSource':_0x265a5,'source':_0x1644a5}),_0x57d717=!(-0x2c8+-0xfb*0x5+0x7af);}_0x1644a5=_0x1644a5['substring'](0x17c2+0x2b*-0xde+0xd88,_0x12ab91['index']-(-0x24e4*0x1+0x1375+0x1170))+_0x5e5594+_0x1644a5['substring'](zd['lastIndex']),Fs['lastIndex']=_0x12ab91['index']-(-0x1*-0x904+-0x7d1+0x11*-0x12);}else{console['error']('Include\x20\x22'+_0x47f79d+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x265a5,'source':_0x1644a5}),_0x57d717=!(0x3*-0xbfa+0x124c+0x11a2*0x1);continue;}}w['trace'](Lr,_0x2d0120+':\x20['+_0x47f79d+']\x20'+(_0x85d71d?'':'IGNORED'));break;}}}return _0x8de01a['length']>-0x1504*-0x1+0x1ae6+-0x2fea&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x57d717=!(0x223c+0x1502+-0x373e)),_0x57d717?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x265a5}),null):_0x1644a5;}static['_keep'](_0x2759f5){for(let _0x115f0d=-0x1f97+0x6*-0x250+0x2d77;_0x115f0d<_0x2759f5['length'];_0x115f0d++)if(!_0x2759f5[_0x115f0d]['keep'])return!(-0x1*-0x337+0x802+-0xb38);return!(-0x4ce+-0x2*-0x8a+0x3ba);}static['evaluateAt'+'omicExpres'+'sion'](_0x4ed53c,_0x3cd430){let _0x34513b=!(-0x6*0x458+-0xa5*0x37+0x3d84);_0x4ed53c=_0x4ed53c['trim']();let _0x43c371=!(-0xd85+-0x2029*-0x1+-0xd*0x16f);if(_0x4ed53c==='true')return{'result':!(-0x1014+-0x2f*-0x6b+-0x391*0x1),'error':_0x34513b};if(_0x4ed53c==='false')return{'result':!(0x87*0x25+0x268f+-0x3a11),'error':_0x34513b};const _0x5836ed=NT['exec'](_0x4ed53c);if(_0x5836ed){_0x43c371=_0x5836ed[-0xa73*-0x1+-0x425*-0x3+-0x16e1]==='!',_0x4ed53c=_0x5836ed[-0x3*0x829+-0x14a+0x1*0x19c7]['trim']();const _0x19fa47=_0x3cd430['has'](_0x4ed53c);return{'result':_0x43c371?!_0x19fa47:_0x19fa47,'error':_0x34513b};}const _0x4379c5=BT['exec'](_0x4ed53c);if(_0x4379c5){const _0x50c476=_0x3cd430['get'](_0x4379c5[-0x67*-0x1+0x13de+-0x1444]['trim']())??_0x4379c5[-0x417+-0x1994+-0x1a6*-0x12]['trim'](),_0x269de0=_0x3cd430['get'](_0x4379c5[-0x1*-0xfdf+-0x1*-0x503+-0x1*0x14df]['trim']())??_0x4379c5[-0x25b+0x1c*0x18+-0x1*0x42]['trim'](),_0x2041aa=_0x4379c5[-0xf3a*0x2+0x1a3*0x4+0xbf5*0x2]['trim']();let _0x2d078c=!(0xe13+-0x4fd*0x1+-0x915);switch(_0x2041aa){case'==':_0x2d078c=_0x50c476===_0x269de0;break;case'!=':_0x2d078c=_0x50c476!==_0x269de0;break;case'<':_0x2d078c=_0x50c476<_0x269de0;break;case'<=':_0x2d078c=_0x50c476<=_0x269de0;break;case'>':_0x2d078c=_0x50c476>_0x269de0;break;case'>=':_0x2d078c=_0x50c476>=_0x269de0;break;default:_0x34513b=!(0x21*0x122+-0xba4+-0x293*0xa);}return{'result':_0x2d078c,'error':_0x34513b};}return{'result':_0x3cd430['has'](_0x4ed53c),'error':_0x34513b};}static['processPar'+'entheses'](_0x1e42ea,_0x2fe536){let _0xafdaed=!(-0xe3c+0x20c+0xc31),_0x175a23=_0x1e42ea['trim']();for(;_0x175a23['startsWith']('(')&&_0x175a23['endsWith'](')');){let _0xbbbe9b=-0x1b27+0x8a8+0x127f,_0x3079df=!(-0x7aa+-0x73*-0x47+-0x183b*0x1);for(let _0x2d69d7=-0x1*-0x142c+-0x1*0x2582+0x2*0x8ab;_0x2d69d7<_0x175a23['length']-(0x27a+0x2*0x5b1+-0xddb);_0x2d69d7++)if(_0x175a23[_0x2d69d7]==='(')_0xbbbe9b++;else{if(_0x175a23[_0x2d69d7]===')'&&(_0xbbbe9b--,_0xbbbe9b===-0x1d7a+0x4e1*0x7+0x3f*-0x13)){_0x3079df=!(0x6*0x48+-0x18a1+0x10b*0x16);break;}}if(_0x3079df)_0x175a23=_0x175a23['slice'](0x7*0x97+0x1ce2+-0x28a*0xd,-(0x1*-0xca3+-0xa1*-0x7+0x83d))['trim']();else break;}for(;;){let _0x11852b=!(-0x1b26+-0x1e7+-0x1d0e*-0x1),_0x99a18b=-0x39a*0x3+0x10*0x75+0x95*0x6,_0x54c45c=-0x6d*-0x5+0x3*0xbe3+0x2b3*-0xe,_0x3b5f7f=-(-0x86e+-0x7*0x381+-0x107b*-0x2),_0x4c7e14=-(0x1599*-0x1+0x21ea+-0x314*0x4),_0x8023b=-0x4*0x98e+0x1b4a*-0x1+0x4182;for(let _0x3c775b=-0xaff+-0x109*0xe+0x197d;_0x3c775b<_0x175a23['length'];_0x3c775b++)if(_0x175a23[_0x3c775b]==='('){const _0x9970e=_0x175a23['substring'](-0x14b*-0x3+-0x5*-0x2dd+0x89*-0x22,_0x3c775b);UT['test'](_0x9970e)?_0x8023b++:_0x8023b===0x93d+0x5*0x4c+-0xab9&&(_0x99a18b++,_0x99a18b>_0x54c45c&&(_0x54c45c=_0x99a18b,_0x3b5f7f=_0x3c775b),_0x11852b=!(-0xb36+0x1357+-0x821));}else _0x175a23[_0x3c775b]===')'&&(_0x8023b>0x6*0x616+0x865*-0x2+-0x13ba?_0x8023b--:_0x99a18b>0x8ed*-0x3+-0x1e71*0x1+0x2*0x1c9c&&(_0x99a18b===_0x54c45c&&_0x3b5f7f!==-(0x2523+0x256f+-0x4a91)&&(_0x4c7e14=_0x3c775b),_0x99a18b--));if(!_0x11852b||_0x3b5f7f===-(0x1*-0x2501+-0x210*-0x7+0x1692)||_0x4c7e14===-(-0x115*0x11+0x13*-0x1e1+0x4eb*0xb))break;const _0x390af3=_0x175a23['substring'](_0x3b5f7f+(-0xc57+-0xf17*-0x1+-0x2bf),_0x4c7e14),{result:_0x518c41,error:_0x401ba4}=Lt['evaluate'](_0x390af3,_0x2fe536);_0xafdaed=_0xafdaed||_0x401ba4,_0x175a23=_0x175a23['substring'](0x29*-0xa5+0x433+0x163a,_0x3b5f7f)+(_0x518c41?'true':'false')+_0x175a23['substring'](_0x4c7e14+(-0x23c3+0x1de9+0x5db));}return{'expression':_0x175a23,'error':_0xafdaed};}static['evaluate'](_0x4889af,_0x4aa0c6){const _0x1c04c8=zT['exec'](_0x4889af)===null;w['assert'](_0x1c04c8,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x4889af);let _0x2a437b=_0x4889af,_0x40d509=!(-0x1*-0x150b+-0x4*-0x1e1+-0x1ae*0x11);if(_0x4889af['replace'](kT,'')['indexOf']('(')!==-(0x1*0x4cd+0x1*-0x482+-0x4a)){const _0x418e55=Lt['processPar'+'entheses'](_0x4889af,_0x4aa0c6);_0x2a437b=_0x418e55['expression'],_0x40d509=_0x418e55['error'];}if(_0x40d509)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x4889af+'\x22'),{'result':!(0x2*0x2f3+-0xd00*-0x2+0x1*-0x1fe5),'error':!(0x26*-0x13+0x46f*0x2+-0x183*0x4)};const _0x27b35d=_0x2a437b['split']('||');for(const _0x83653e of _0x27b35d){const _0xdc53af=_0x83653e['split']('&&');let _0x5bf69a=!(-0x1d*-0x6b+0x1b0+-0xdcf);for(const _0x3d4a42 of _0xdc53af){const {result:_0x2bfc9b,error:_0x16f8b8}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x3d4a42['trim'](),_0x4aa0c6);if(!_0x2bfc9b||_0x16f8b8){_0x5bf69a=!(0x913+0x1c3a+0x2*-0x12a6);break;}}if(_0x5bf69a)return{'result':!(-0x4e6*-0x1+-0x11f7+0xd11),'error':!_0x1c04c8};}return{'result':!(0x1*0x1a5f+-0x46*-0x6b+-0x37a0),'error':!_0x1c04c8};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x3173c6,_0x2e69d4){w['assert'](_0x2e69d4),w['assert'](!_0x2e69d4['vertexDefi'+'nes']||_0x2e69d4['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x2e69d4['vertexIncl'+'udes']||_0x2e69d4['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x2e69d4['fragmentDe'+'fines']||_0x2e69d4['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x2e69d4['fragmentIn'+'cludes']||_0x2e69d4['fragmentIn'+'cludes']instanceof Map);const _0x245ae8=_0x5b5431=>{let _0x3752d5=_0x5b5431['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x3752d5)||(_0x3752d5=[_0x3752d5]),_0x3752d5;},_0x40bf99=(_0x51d0d3,_0x51a805,_0x4d8d46,_0x5f1a2b)=>{const _0x487a37=_0x3173c6['isWebGPU']?_0x51d0d3:_0x51a805;let _0x5e34dc='';if(!_0x4d8d46){const _0x2134f4=_0x245ae8(_0x5f1a2b);for(let _0x31bde3=0x629+0x557*0x7+-0x2b8a;_0x31bde3<_0x3173c6['maxColorAt'+'tachments'];_0x31bde3++){_0x5e34dc+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x31bde3+'\x0a';const _0x5f1b27=_0x2134f4[_0x31bde3]??'vec4';_0x5e34dc+='#define\x20ou'+'tType_'+_0x31bde3+'\x20'+_0x5f1b27+'\x0a';}}return _0x5e34dc+_0x487a37;},_0x5b9392=(_0x470730,_0x4e5b44)=>{let _0x241e0f='';if(!_0x470730){const _0x36eee8=_0x245ae8(_0x4e5b44);for(let _0x219841=0x1aa+-0x145*-0xd+-0x122b*0x1;_0x219841<_0x3173c6['maxColorAt'+'tachments'];_0x219841++){const _0x378ba2=_0x36eee8[_0x219841]??'vec4',_0x446bc2=Fy['get'](_0x378ba2);w['assert'](_0x446bc2,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x378ba2+'\x20->\x20'+_0x446bc2),_0x241e0f+='alias\x20pcOu'+'tType'+_0x219841+'\x20=\x20'+_0x446bc2+';\x0a';}}return _0x241e0f;},_0x423737=_0x2e69d4['name']??'Untitled';let _0x1327ea,_0x2baa9c;const _0xe8f7c4=Jt['getDefines'+'Code'](_0x3173c6,_0x2e69d4['vertexDefi'+'nes']),_0x61b45=Jt['getDefines'+'Code'](_0x3173c6,_0x2e69d4['fragmentDe'+'fines']);return _0x2e69d4['shaderLang'+'uage']===it?(_0x1327ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x5b9392(!(-0x9e*-0x11+0x2673+0xb*-0x473),_0x2e69d4)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xe8f7c4+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2e69d4['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x2baa9c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x5b9392(!(-0xd1d+-0x18f5+0x2613),_0x2e69d4)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x61b45+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2e69d4['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x2e69d4['vertexCode']),_0x1327ea=Jt['versionCod'+'e'](_0x3173c6)+_0x40bf99(Wy,Gy,!(0x2528*-0x1+-0x24ed+0x4a15),_0x2e69d4)+_0xe8f7c4+Jt['precisionC'+'ode'](_0x3173c6)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x423737)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2e69d4['vertexCode'],w['assert'](_0x2e69d4['fragmentCo'+'de']),_0x2baa9c=(_0x2e69d4['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x3173c6)+_0x40bf99(Hy,Vy,!(-0x23ab*-0x1+-0x1*0x1478+-0x1*0xf32),_0x2e69d4)+_0x61b45+Jt['precisionC'+'ode'](_0x3173c6)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x423737)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x2e69d4['fragmentCo'+'de']),{'name':_0x423737,'shaderLanguage':_0x2e69d4['shaderLang'+'uage']??Fe,'attributes':_0x2e69d4['attributes'],'vshader':_0x1327ea,'vincludes':_0x2e69d4['vertexIncl'+'udes'],'fincludes':_0x2e69d4['fragmentIn'+'cludes'],'fshader':_0x2baa9c,'useTransformFeedback':_0x2e69d4['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x2e69d4['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2e69d4['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x5191c1,_0xcb14f){let _0x198fc2='';return _0x5191c1['capsDefine'+'s']['forEach']((_0xfc24c0,_0x214441)=>{_0x198fc2+='#define\x20'+_0x214441+'\x20'+_0xfc24c0+'\x0a';}),_0x198fc2+='\x0a',_0xcb14f==null||_0xcb14f['forEach']((_0x3b6b29,_0x20e0d4)=>{_0x198fc2+='#define\x20'+_0x20e0d4+'\x20'+_0x3b6b29+'\x0a';}),_0x198fc2+='\x0a',_0x198fc2;}static['getShaderN'+'ameCode'](_0x950ad){return'#define\x20SH'+'ADER_NAME\x20'+_0x950ad+'\x0a';}static['versionCod'+'e'](_0x65bcfb){return _0x65bcfb['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x303ecf,_0x1865f5){_0x1865f5&&_0x1865f5!=='highp'&&_0x1865f5!=='mediump'&&_0x1865f5!=='lowp'&&(_0x1865f5=null),_0x1865f5&&(_0x1865f5==='highp'&&_0x303ecf['maxPrecisi'+'on']!=='highp'&&(_0x1865f5='mediump'),_0x1865f5==='mediump'&&_0x303ecf['maxPrecisi'+'on']==='lowp'&&(_0x1865f5='lowp'));const _0x1dff08=_0x1865f5||_0x303ecf['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x1dff08+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1dff08+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x1dff08+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1dff08+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x1dff08+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x1dff08+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x1dff08+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x1fb54c){const _0xd1fb23={};let _0x53df57=-0x1dc1+-0x16*0x17d+0x3e7f,_0xb5fc37=_0x1fb54c['indexOf']('attribute');for(;_0xb5fc37>=-0xa*-0x317+-0x2+-0x3*0xa4c&&!(_0xb5fc37>-0x29*-0x26+-0x1*-0x1b4f+-0x2165&&_0x1fb54c[_0xb5fc37-(-0x1*0x22d4+-0x11d6+0x34ab)]==='/');){let _0xec59bf=!(0x453+0x2*-0xe18+0x263*0xa);if(_0xb5fc37>0xed*0x9+0x9b*-0x1+-0x7ba){let _0x5d596a=_0x1fb54c['lastIndexO'+'f']('\x0a',_0xb5fc37);_0x5d596a=_0x5d596a!==-(0x8f8+-0x209*-0x3+-0xf12)?_0x5d596a+(0x16da+0x8aa+-0x1f83):-0x1fd*0x7+0x227b+0x2f0*-0x7,_0x1fb54c['substring'](_0x5d596a,_0xb5fc37)['includes']('#')&&(_0xec59bf=!(0x1d6c+-0x2*-0xcd7+0x92f*-0x6));}if(!_0xec59bf){const _0x586b9e=_0x1fb54c['indexOf'](';',_0xb5fc37),_0x529b5a=_0x1fb54c['lastIndexO'+'f']('\x20',_0x586b9e),_0x18081c=_0x1fb54c['substring'](_0x529b5a+(0xa1f+-0x1a8c+0x57a*0x3),_0x586b9e);if(_0xd1fb23[_0x18081c])w['warn']('Attribute\x20'+'['+_0x18081c+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x1fb54c});else{const _0xf6a280=GT[_0x18081c];_0xf6a280!==void(-0x266*0x9+0x3e*0x4f+0x274)?_0xd1fb23[_0x18081c]=_0xf6a280:(_0xd1fb23[_0x18081c]='ATTR'+_0x53df57,_0x53df57++);}}_0xb5fc37=_0x1fb54c['indexOf']('attribute',_0xb5fc37+(-0x12c7+0x19c+0x274*0x7));}return _0xd1fb23;}}let HT=-0x5*-0x73e+-0x1b04+-0x932;class qy{constructor(_0x4938df,_0x2ca20d){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x4938df,this['definition']=_0x2ca20d,this['name']=_0x2ca20d['name']||'Untitled',this['init'](),_0x2ca20d['cshader'])w['assert'](_0x4938df['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x2ca20d['vshader']&&!_0x2ca20d['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x2ca20d['cshader']=ko['run'](_0x2ca20d['cshader'],_0x2ca20d['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0x1f6e+-0x1bf1+0x3b5f*0x1)});else{w['assert'](_0x2ca20d['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x2ca20d['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x2ca20d['vshader'],this['fUnmodifie'+'d']=_0x2ca20d['fshader'];});const _0x49faf5=_0x2ca20d['shaderLang'+'uage']===it;_0x2ca20d['vshader']=ko['run'](_0x2ca20d['vshader'],_0x2ca20d['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x49faf5}),_0x2ca20d['shaderLang'+'uage']===Fe&&(_0x2ca20d['attributes']??(_0x2ca20d['attributes']=Jt['collectAtt'+'ributes'](_0x2ca20d['vshader'])));const _0x1a0365=_0x4938df['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x2ca20d['fshader']=ko['run'](_0x2ca20d['fshader'],_0x2ca20d['fincludes'],{'stripUnusedColorAttachments':_0x1a0365,'stripDefines':_0x49faf5,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x2ca20d['vshader']||!_0x2ca20d['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0xdf+-0x106a*-0x2+0x1*-0x21b3);return;}}this['impl']=_0x4938df['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1f*-0x6+0x1319*0x1+0x2*-0x92f),this['failed']=!(0x254a+-0x113a+-0x140f);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0xf71ace,_0x461912,_0x454320){const _0x357c7f=_0xf71ace['storageFlo'+'at32'];_0x357c7f[_0x454320]=_0x461912;},Be[ga]=(_0x3eb67b,_0x2add30,_0x163048)=>{const _0x52ef5b=_0x3eb67b['storageFlo'+'at32'];_0x52ef5b[_0x163048]=_0x2add30[0x1c7b*0x1+-0x2240+0x5c5],_0x52ef5b[_0x163048+(-0x172*0x2+-0x7b2*0x5+0x5e9*0x7)]=_0x2add30[-0x2153*0x1+-0xfc8+0x382*0xe];},Be[ds]=(_0x3969ce,_0x1405bf,_0x539b19)=>{const _0xe262fd=_0x3969ce['storageFlo'+'at32'];_0xe262fd[_0x539b19]=_0x1405bf[0x5*-0x33+-0xa86+0x3*0x3d7],_0xe262fd[_0x539b19+(-0x7*0x434+-0x1*0x1723+-0x692*-0x8)]=_0x1405bf[0x1d*0x11f+-0x1*-0x8cb+-0x294d],_0xe262fd[_0x539b19+(0x36f*-0x2+0x1443+-0xd63)]=_0x1405bf[0xcc8*0x1+0x1c95+0xdc9*-0x3];},Be[Rn]=(_0x2b1015,_0x18ee4f,_0x37790b)=>{const _0x3fad9a=_0x2b1015['storageFlo'+'at32'];_0x3fad9a[_0x37790b]=_0x18ee4f[-0x1ca3+-0xd5a+0x29fd],_0x3fad9a[_0x37790b+(0x10dd+-0x4f1+0x71*-0x1b)]=_0x18ee4f[0x2690+-0x686+-0x2009],_0x3fad9a[_0x37790b+(-0x1472+-0x170f*0x1+-0x8d*-0x4f)]=_0x18ee4f[-0xbcd*-0x3+-0x1f6e*-0x1+-0x42d3],_0x3fad9a[_0x37790b+(0x16*-0x106+-0x54*0x5c+0x5*0xa8b)]=_0x18ee4f[0x583*0x5+0x1a24+-0x35b0];},Be[_a]=function(_0x194df1,_0x155238,_0xfbf3fd){const _0xd6284a=_0x194df1['storageInt'+'32'];_0xd6284a[_0xfbf3fd]=_0x155238;},Be[ca]=function(_0x4b26f7,_0x42b761,_0x3d276f){const _0x977e93=_0x4b26f7['storageInt'+'32'];_0x977e93[_0x3d276f]=_0x42b761[0x10*-0x8+-0x4f4+0x4*0x15d],_0x977e93[_0x3d276f+(-0x12fa+0x209e+-0x1*0xda3)]=_0x42b761[0x4e8*0x7+0x3a9*0x5+-0x34a4];},Be[ha]=function(_0x2ffb6c,_0x37bc10,_0x343737){const _0x125c1b=_0x2ffb6c['storageInt'+'32'];_0x125c1b[_0x343737]=_0x37bc10[0x22f+-0xa6*0x7+0xc9*0x3],_0x125c1b[_0x343737+(-0x1035+0x6e2*-0x1+0x1718)]=_0x37bc10[0x920*-0x1+0x1cb5+-0x1394],_0x125c1b[_0x343737+(-0x1d7f+0x86d*-0x1+0x25ee)]=_0x37bc10[-0x23cd+-0x1f90+0x435f];},Be[da]=function(_0x4038b6,_0x35da78,_0x3cd226){const _0x5a38ca=_0x4038b6['storageInt'+'32'];_0x5a38ca[_0x3cd226]=_0x35da78[0xcfc+0x5bf*0x2+-0x187a],_0x5a38ca[_0x3cd226+(0xcff+0xafa*0x3+0x1*-0x2dec)]=_0x35da78[0x25*-0x89+-0x1241+0x260f],_0x5a38ca[_0x3cd226+(-0x3*-0x3fc+0x17f7+-0x23e9)]=_0x35da78[0xc3*0x31+-0x7cd*0x2+-0x15b7],_0x5a38ca[_0x3cd226+(-0x1c5f+0x1*-0x1aad+0xb03*0x5)]=_0x35da78[-0x8ed*-0x1+0x1*0x105c+-0x1946];},Be[_h]=(_0x41d918,_0x1c89c8,_0x36fc25)=>{const _0x583918=_0x41d918['storageFlo'+'at32'];_0x583918[_0x36fc25]=_0x1c89c8[0x1e30+0x69e+0x542*-0x7],_0x583918[_0x36fc25+(0x2cd+-0xdbb*0x1+0xaef)]=_0x1c89c8[0x133f*-0x1+-0xf74+-0x4*-0x8ad],_0x583918[_0x36fc25+(0x103f*0x2+-0x216b*0x1+0x1*0xf1)]=_0x1c89c8[-0x1*0x17a5+-0x885*-0x4+-0x11*0x9d],_0x583918[_0x36fc25+(-0x1*-0x1c7c+-0x1fd*-0xb+-0x3256)]=_0x1c89c8[0x23d6+0x8df+-0x2cb2],_0x583918[_0x36fc25+(0x2498*0x1+0x709+0x1*-0x2b99)]=_0x1c89c8[0x77c+0xcd6+-0x144e],_0x583918[_0x36fc25+(-0x1*-0x238f+0x10e7*0x1+-0x346d)]=_0x1c89c8[0x1d71*0x1+0x3*0x161+-0x218f];},Be[On]=(_0xbff115,_0x22f228,_0x2df018)=>{const _0x3a99a0=_0xbff115['storageFlo'+'at32'];_0x3a99a0[_0x2df018]=_0x22f228[0x3*-0x2bf+-0xcc+-0x9*-0x101],_0x3a99a0[_0x2df018+(-0x26dc*-0x1+0x31d*0xa+-0x45fd)]=_0x22f228[0x13a4+0x12b8+-0x265b],_0x3a99a0[_0x2df018+(0x11*0x119+0x2470+-0x3717)]=_0x22f228[-0x92e+0x1a56+-0x1126],_0x3a99a0[_0x2df018+(-0x1954+-0x9*-0xc0+-0x5*-0x3b8)]=_0x22f228[0x2a4+-0x33*0x4+0x43*-0x7],_0x3a99a0[_0x2df018+(-0x56c+0x248a+-0x1f19)]=_0x22f228[0x1fa*-0x9+-0x4e*-0x4a+-0x4be],_0x3a99a0[_0x2df018+(0x24c7+-0xe+0x1*-0x24b3)]=_0x22f228[0x1*-0x23ad+0x225a*-0x1+-0x1*-0x460c],_0x3a99a0[_0x2df018+(0x2173+-0x9*-0x35f+-0x3fc2)]=_0x22f228[0x17db+-0x13b1+0x6a*-0xa],_0x3a99a0[_0x2df018+(-0xd7e*-0x1+0x503+-0x1278)]=_0x22f228[-0xf*0x1a3+0x72f+0x1165],_0x3a99a0[_0x2df018+(-0x205+0x2*0x183+-0xf7)]=_0x22f228[0x1771*-0x1+0xfc7+0x7b2];},Be[ud]=function(_0x5cc87f,_0x1d252e,_0x30a74c,_0x612c10){const _0x286ae1=_0x5cc87f['storageFlo'+'at32'];for(let _0x2116fb=-0x6df*0x4+0x2fe+0x187e;_0x2116fb<_0x612c10;_0x2116fb++)_0x286ae1[_0x30a74c+_0x2116fb*(-0xd*0x17e+-0x1c*0xfe+0x2f32)]=_0x1d252e[_0x2116fb];},Be[pd]=(_0x1221ce,_0x366fd1,_0x1c7008,_0x516108)=>{const _0x94c98e=_0x1221ce['storageFlo'+'at32'];for(let _0x4a5fb7=0x1*-0x1369+-0x1673+0x11a*0x26;_0x4a5fb7<_0x516108;_0x4a5fb7++)_0x94c98e[_0x1c7008+_0x4a5fb7*(-0x11*-0x9b+0x270d+0xb*-0x47c)]=_0x366fd1[_0x4a5fb7*(-0x10e2+-0x30*0x8+-0x1*-0x1264)],_0x94c98e[_0x1c7008+_0x4a5fb7*(-0x4*0x1e7+-0x2596+0x2d36)+(-0xc2b+-0x1141+-0x9*-0x345)]=_0x366fd1[_0x4a5fb7*(-0x1cdc+-0xb7e+0x285c)+(-0x1472+0x745+0xd2e)];},Be[md]=(_0x371ffa,_0x36d490,_0x2fab86,_0x3479d0)=>{const _0x3bd77d=_0x371ffa['storageFlo'+'at32'];for(let _0x2395d6=0x4*0x515+0x3*0x337+0x1df9*-0x1;_0x2395d6<_0x3479d0;_0x2395d6++)_0x3bd77d[_0x2fab86+_0x2395d6*(-0x1*-0x1115+0x1b*-0x167+0x14cc)]=_0x36d490[_0x2395d6*(0x1*-0x1faa+-0xc98+0x2c45)],_0x3bd77d[_0x2fab86+_0x2395d6*(-0x1cca+-0x986*-0x1+0x1348)+(-0x3f9*0x6+0x23f3+-0xc1c)]=_0x36d490[_0x2395d6*(-0xbff+0xc95+-0x1*0x93)+(-0x1*-0x1e49+-0x1b4d+-0x2fb)],_0x3bd77d[_0x2fab86+_0x2395d6*(0x1e72+0x1666+-0x34d4)+(-0x19c1+0x1d*-0xe5+0x33b4)]=_0x36d490[_0x2395d6*(-0x1*0x7f+0x2*-0x18f+0x3a0)+(-0x2*-0x221+0x22*-0x5+0x2*-0x1cb)];},Be[Fn]=(_0xf64636,_0x8af816,_0x1d6fef,_0x514ce8)=>{const _0x43a742=_0xf64636['storageUin'+'t32'];_0x43a742[_0x1d6fef]=_0x8af816;},Be[Nn]=(_0x2b8317,_0x4e75c5,_0xcacc03,_0x141e64)=>{const _0x592543=_0x2b8317['storageUin'+'t32'];_0x592543[_0xcacc03]=_0x4e75c5[0x1*0x1e73+-0x1*-0x1565+-0x33d8],_0x592543[_0xcacc03+(-0x30b*0xb+0x8d9+0x5*0x4ed)]=_0x4e75c5[-0x8*0x11+0x2384+-0x22fb];},Be[kn]=(_0x4697e4,_0x23ea95,_0x15d5fb,_0x314c21)=>{const _0x2b2ae5=_0x4697e4['storageUin'+'t32'];_0x2b2ae5[_0x15d5fb]=_0x23ea95[0x1e8+0x10b3+-0x129b],_0x2b2ae5[_0x15d5fb+(-0x1dca+-0x15+0x1de0)]=_0x23ea95[-0xf61+-0x1cc6+0x2c28],_0x2b2ae5[_0x15d5fb+(0x1cf1+0x1*0x2216+-0x11*0x3b5)]=_0x23ea95[-0x3c0+-0x1078*0x1+0x143a];},Be[Un]=(_0x2a2069,_0x5035b7,_0x2160bb,_0x36474e)=>{const _0x130e0b=_0x2a2069['storageUin'+'t32'];_0x130e0b[_0x2160bb]=_0x5035b7[-0x1465+0x2de*0x7+0x53*0x1],_0x130e0b[_0x2160bb+(0x1a19*0x1+0x1e5b+-0x3873*0x1)]=_0x5035b7[0x195b+0x1650+-0x2faa],_0x130e0b[_0x2160bb+(-0x1f81*-0x1+-0x1fac+0x2d)]=_0x5035b7[0x1a4*-0x3+-0x6d*-0x53+-0x1e69],_0x130e0b[_0x2160bb+(0x821*0x4+0x6*-0x14d+0x1*-0x18b3)]=_0x5035b7[0x3*-0x212+0x1*-0x1455+-0xd47*-0x2];},Be[Bn]=function(_0x2530e0,_0x5664c6,_0x2a0407,_0x1c7f7b){const _0x4a0544=_0x2530e0['storageInt'+'32'];for(let _0x1160e4=-0x1fc4+-0x4f4*-0x1+0x1ad0;_0x1160e4<_0x1c7f7b;_0x1160e4++)_0x4a0544[_0x2a0407+_0x1160e4*(0x24a0+-0x2706+0x3*0xce)]=_0x5664c6[_0x1160e4];},Be[gd]=Be[Bn],Be[_d]=function(_0x1a8efc,_0x3e2d1c,_0x89f7f1,_0x396383){const _0x4e4117=_0x1a8efc['storageUin'+'t32'];for(let _0x2cb7c5=-0x2*-0x6ce+-0x1*0x1bc7+0xe2b;_0x2cb7c5<_0x396383;_0x2cb7c5++)_0x4e4117[_0x89f7f1+_0x2cb7c5*(0x2540*-0x1+0xc3+0x2481)]=_0x3e2d1c[_0x2cb7c5];},Be[zn]=(_0x17eee8,_0x56d82f,_0x312836,_0x44b2f7)=>{const _0x4528c2=_0x17eee8['storageInt'+'32'];for(let _0x4bca04=0x10*-0x248+0xa2*-0x35+0x460a;_0x4bca04<_0x44b2f7;_0x4bca04++)_0x4528c2[_0x312836+_0x4bca04*(0x165c+-0x5c*0x41+0x104)]=_0x56d82f[_0x4bca04*(0x1274+-0x84*-0x3c+-0x3162)],_0x4528c2[_0x312836+_0x4bca04*(0x5e0+0xc6e+0x2*-0x925)+(-0x204a*-0x1+-0x212a+0xe1)]=_0x56d82f[_0x4bca04*(0x60*-0x61+-0x2418+0x487a)+(-0x239*-0xb+-0x233c+0xaca)];},Be[yd]=Be[zn],Be[Sd]=(_0x368307,_0x3e1093,_0x5b0caa,_0x2f83e0)=>{const _0x45a888=_0x368307['storageUin'+'t32'];for(let _0x358776=-0x48d*0x5+-0x45*0x37+0x2594;_0x358776<_0x2f83e0;_0x358776++)_0x45a888[_0x5b0caa+_0x358776*(-0x21b1+0x7f*-0x2+0x1a7*0x15)]=_0x3e1093[_0x358776*(-0x1343*-0x2+-0x245f+-0x225)],_0x45a888[_0x5b0caa+_0x358776*(0x1*-0x1b03+-0x160a+0x3111)+(-0x342+0x3da+-0x97)]=_0x3e1093[_0x358776*(0xd33+-0x3f5*-0x7+0x4*-0xa39)+(-0x1b7*0x11+0x1*-0x779+0x24a1)];},Be[Vn]=(_0x5c91d8,_0x15e61c,_0x455e8e,_0x5b011a)=>{const _0xc37696=_0x5c91d8['storageInt'+'32'];for(let _0x55b5ae=0x37*-0x1e+0x23b+0x437;_0x55b5ae<_0x5b011a;_0x55b5ae++)_0xc37696[_0x455e8e+_0x55b5ae*(0x47d*-0x8+0xd4*0x1+-0x463*-0x8)]=_0x15e61c[_0x55b5ae*(-0x1bfa+-0x1*0x2317+0x3f14)],_0xc37696[_0x455e8e+_0x55b5ae*(0x2421*0x1+-0x1b59+0x4*-0x231)+(0x9b8+-0x1872+0xebb)]=_0x15e61c[_0x55b5ae*(0x5*-0x17+-0x7*0x39c+-0x4a*-0x59)+(-0x1cb*-0x3+-0x1*-0x28e+-0x1d*0x46)],_0xc37696[_0x455e8e+_0x55b5ae*(-0x300+0x3*0x691+-0x10af)+(0x5bd*-0x5+0x7e3+0x14d0)]=_0x15e61c[_0x55b5ae*(0xb21+0x1c12*-0x1+0x46*0x3e)+(0x18fd+0x1797+-0x3092)];},Be[xd]=Be[Vn],Be[vd]=(_0x5ea089,_0xca20d2,_0x5c08e4,_0xc25c4e)=>{const _0x96dee7=_0x5ea089['storageUin'+'t32'];for(let _0x1c53e3=-0x1614+0x1*-0x3ad+0x19c1;_0x1c53e3<_0xc25c4e;_0x1c53e3++)_0x96dee7[_0x5c08e4+_0x1c53e3*(0x16cc+0xa08+-0x20d0)]=_0xca20d2[_0x1c53e3*(0x1*-0x1085+0x7e9+0x89f*0x1)],_0x96dee7[_0x5c08e4+_0x1c53e3*(-0x260e*-0x1+-0x4*-0x35c+-0x337a)+(0xd6*-0x1a+0x976+0xc47)]=_0xca20d2[_0x1c53e3*(-0x2ba*0xd+0x232c+0x49)+(-0xcf2+0x8dd*-0x1+0x10*0x15d)],_0x96dee7[_0x5c08e4+_0x1c53e3*(0x49e+0x1359+-0x17f3*0x1)+(-0x1*0x101f+-0x8*0xb5+0x15c9)]=_0xca20d2[_0x1c53e3*(0x214*0x1+-0x1738+0x1527)+(0x10cb+0x1*-0x257+-0xe72)];};class zp{constructor(_0x483ce0,_0x406836,_0x4319e3=!(-0x231b*0x1+0x2*-0xaa3+0x1*0x3861)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x2082+-0x22*0x4c+0x616*0x7);if(this['device']=_0x483ce0,this['format']=_0x406836,this['persistent']=_0x4319e3,w['assert'](_0x406836),_0x4319e3){this['impl']=_0x483ce0['createUnif'+'ormBufferI'+'mpl'](this);const _0x22996f=new ArrayBuffer(_0x406836['byteSize']);this['assignStor'+'age'](new Int32Array(_0x22996f)),_0x483ce0['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x1fb107=this['device'];this['impl']['destroy'](_0x1fb107),_0x1fb107['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xd*0x201+0x24d*0x7+0x9f2:this['allocation']['offset'];}['assignStor'+'age'](_0x3b19c0){this['storageInt'+'32']=_0x3b19c0,this['storageUin'+'t32']=new Uint32Array(_0x3b19c0['buffer'],_0x3b19c0['byteOffset'],_0x3b19c0['byteLength']/(0x1fe*0xe+0x51b*-0x3+-0x5*0x283)),this['storageFlo'+'at32']=new Float32Array(_0x3b19c0['buffer'],_0x3b19c0['byteOffset'],_0x3b19c0['byteLength']/(0x18a3+0x2635+0x4*-0xfb5));}['loseContex'+'t'](){var _0x59119a;(_0x59119a=this['impl'])==null||_0x59119a['loseContex'+'t']();}['setUniform'](_0x345083,_0x3cc841){w['assert'](_0x345083);const _0x387ce1=_0x345083['offset'];if(_0x3cc841!=null){const _0x4a975a=Be[_0x345083['updateType']];_0x4a975a?_0x4a975a(this,_0x3cc841,_0x387ce1,_0x345083['count']):this['storageFlo'+'at32']['set'](_0x3cc841,_0x387ce1);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x345083['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x345083['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x513d7d,_0x1e1b9f){const _0x7104b3=this['format']['map']['get'](_0x513d7d);w['assert'](_0x7104b3,'Uniform\x20na'+'me\x20['+_0x513d7d+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x7104b3&&this['setUniform'](_0x7104b3,_0x1e1b9f);}['startUpdat'+'e'](_0x1a23f9){if(!this['persistent']){const _0x1732e0=this['allocation'],_0xbd69bd=_0x1732e0['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x1732e0,this['format']['byteSize']),this['assignStor'+'age'](_0x1732e0['storage']),_0x1a23f9&&(_0x1a23f9['bindGroup']=_0x1732e0['gpuBuffer']['getBindGro'+'up'](this),_0x1a23f9['offsets'][-0x39d+-0x1dfb+-0x1ae*-0x14]=_0x1732e0['offset']),_0xbd69bd!==_0x1732e0['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x272edb){this['startUpdat'+'e'](_0x272edb);const _0x2b6c46=this['format']['uniforms'];for(let _0x4e6c5b=-0x215b*0x1+0x1e*-0xf9+0x3e89;_0x4e6c5b<_0x2b6c46['length'];_0x4e6c5b++){const _0x51038a=_0x2b6c46[_0x4e6c5b]['scopeId']['value'];this['setUniform'](_0x2b6c46[_0x4e6c5b],_0x51038a);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x1241+-0x14a0+0x26e2)),h(this,'_enableReq'+'uest',!(0x2520+-0x1*-0x6fc+-0x2c1b)),h(this,'_frameTime',0xdcb+0x1*0x2469+-0xc8d*0x4);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x515dfb){this['_enableReq'+'uest']=_0x515dfb;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x6b9*0x2+0x3*-0xc35+0x3211));}['request'](_0x2295cb){this['pastFrameA'+'llocations']['set'](_0x2295cb,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x18d783,_0x2dd430){if(_0x2dd430){const _0x2a486a=this['pastFrameA'+'llocations']['get'](_0x18d783);if(w['assert'](_0x2a486a['length']===_0x2dd430['length']),_0x2dd430['length']>0x2*0x3c4+0x5b*0x47+-0x20c5&&(this['_frameTime']=_0x2dd430['reduce']((_0x1f34c1,_0x54e12c)=>_0x1f34c1+_0x54e12c,-0xbdc+0xd5+0xb07*0x1)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x18d783+'\x20--');let _0x2ffb0c=0x66e+0x1e6c+0x35*-0xb2;for(let _0x52b42c=0x3a9*0x3+0xc07+0xb81*-0x2;_0x52b42c<_0x2a486a['length'];++_0x52b42c){const _0x47ddf2=_0x2a486a[_0x52b42c];_0x2ffb0c+=_0x2dd430[_0x52b42c],w['trace'](Gl,_0x2dd430[_0x52b42c]['toFixed'](0x1d*0x112+0xd62+-0x2c6a)+'\x20ms\x20'+_0x47ddf2);}w['trace'](Gl,_0x2ffb0c['toFixed'](-0x1e9a+-0xc12+-0x9*-0x4be)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x18d783);}['getSlot'](_0x415b09){const _0x466784=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x415b09),_0x466784;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x15f5fb){this['bufferId']&&(_0x15f5fb['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x670c87,_0x15a654,_0x46cc3a,_0x29d297){const _0x4f3be6=_0x670c87['gl'];if(this['bufferId'])_0x4f3be6['bindBuffer'](_0x46cc3a,this['bufferId']),_0x4f3be6['bufferSubD'+'ata'](_0x46cc3a,-0x1757+0x1186*0x1+0x5d1*0x1,_0x29d297);else{let _0x1767f8;switch(_0x15a654){case ms:_0x1767f8=_0x4f3be6['STATIC_DRA'+'W'];break;case lh:_0x1767f8=_0x4f3be6['DYNAMIC_DR'+'AW'];break;case ey:_0x1767f8=_0x4f3be6['STREAM_DRA'+'W'];break;case bx:_0x1767f8=_0x4f3be6['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4f3be6['createBuff'+'er'](),_0x4f3be6['bindBuffer'](_0x46cc3a,this['bufferId']),_0x4f3be6['bufferData'](_0x46cc3a,_0x29d297,_0x1767f8);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x47bb44){super['destroy'](_0x47bb44),_0x47bb44['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2a08f4){const _0x3f7096=_0x2a08f4['device'];super['unlock'](_0x3f7096,_0x2a08f4['usage'],_0x3f7096['gl']['ARRAY_BUFF'+'ER'],_0x2a08f4['storage']);}}class qT extends jy{constructor(_0x1a4af7){super();const _0x1a1f8b=_0x1a4af7['device']['gl'],_0x4895e7=_0x1a4af7['format'];_0x4895e7===$f?this['glFormat']=_0x1a1f8b['UNSIGNED_B'+'YTE']:_0x4895e7===Yi?this['glFormat']=_0x1a1f8b['UNSIGNED_S'+'HORT']:_0x4895e7===wr&&(this['glFormat']=_0x1a1f8b['UNSIGNED_I'+'NT']);}['unlock'](_0x514ffe){const _0x2c1e46=_0x514ffe['device'];super['unlock'](_0x2c1e46,_0x514ffe['usage'],_0x2c1e46['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x514ffe['storage']);}}class jT{constructor(_0x55de2c,_0x2f53e7,_0x4e6509,_0x3657ae){if(this['locationId']=_0x3657ae,this['scopeId']=_0x55de2c['scope']['resolve'](_0x2f53e7),this['version']=new Uy(),_0x2f53e7['substring'](_0x2f53e7['length']-(-0x189*0x4+0xb0e+-0x4e7))==='[0]')switch(_0x4e6509){case Xs:_0x4e6509=ud;break;case _a:_0x4e6509=Bn;break;case Fn:_0x4e6509=_d;break;case Tn:_0x4e6509=gd;break;case ga:_0x4e6509=pd;break;case ca:_0x4e6509=zn;break;case Nn:_0x4e6509=Sd;break;case tl:_0x4e6509=yd;break;case ds:_0x4e6509=md;break;case ha:_0x4e6509=Vn;break;case kn:_0x4e6509=vd;break;case sl:_0x4e6509=xd;break;case Rn:_0x4e6509=Lp;break;case da:_0x4e6509=gh;break;case Un:_0x4e6509=Rp;break;case il:_0x4e6509=Op;break;}this['dataType']=_0x4e6509,this['value']=[null,null,null,null],this['array']=[];}}let l_=0x1db8+0x911*-0x2+-0xb96;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x36bfd5){this['map']['forEach'](_0x1514cf=>{_0x36bfd5['gl']['deleteShad'+'er'](_0x1514cf);});}['loseContex'+'t'](_0x331ea0){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x58632e){h(this,'compileDur'+'ation',-0x76+-0x142e+-0x2*-0xa52),(this['init'](),this['compile'](_0x58632e['device'],_0x58632e),this['link'](_0x58632e['device'],_0x58632e),_0x58632e['device']['shaders']['push'](_0x58632e));}['destroy'](_0x3e8267){this['glProgram']&&(_0x3e8267['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x54ae64,_0xabdcb){this['compile'](_0x54ae64,_0xabdcb),this['link'](_0x54ae64,_0xabdcb);}['compile'](_0x2610fa,_0x5b136c){const _0xd5cd1c=_0x5b136c['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x2610fa,_0xd5cd1c['vshader'],!(0x39*0x9b+0x28*0xa7+0x1*-0x3c9b)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x2610fa,_0xd5cd1c['fshader'],!(0x1*0xf71+-0x1*-0x243f+-0x1*0x33af));}['link'](_0x3d4f47,_0x2995cf){if(this['glProgram'])return;const _0x400ec4=_0x3d4f47['gl'];if(_0x400ec4['isContextL'+'ost']())return;let _0x13498f=0x21a0+-0x1158+-0x1048;w['call'](()=>{this['compileDur'+'ation']=0x89f+-0x21e9*-0x1+-0x2a88,_0x13498f=de();});const _0x6f171c=_0x400ec4['createProg'+'ram']();this['glProgram']=_0x6f171c,_0x400ec4['attachShad'+'er'](_0x6f171c,this['glVertexSh'+'ader']),_0x400ec4['attachShad'+'er'](_0x6f171c,this['glFragment'+'Shader']);const _0x23cab5=_0x2995cf['definition'],_0x36184c=_0x23cab5['attributes'];if(_0x23cab5['useTransfo'+'rmFeedback']){const _0x1d1741=[];for(const _0x36beac in _0x36184c)_0x36184c['hasOwnProp'+'erty'](_0x36beac)&&_0x1d1741['push']('out_'+_0x36beac);_0x400ec4['transformF'+'eedbackVar'+'yings'](_0x6f171c,_0x1d1741,_0x400ec4['INTERLEAVE'+'D_ATTRIBS']);}const _0x133ac6={};for(const _0x34f429 in _0x36184c)if(_0x36184c['hasOwnProp'+'erty'](_0x34f429)){const _0x4363c0=_0x36184c[_0x34f429],_0x60dd6d=Le[_0x4363c0];w['assert'](!_0x133ac6['hasOwnProp'+'erty'](_0x60dd6d),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x133ac6[_0x60dd6d]+'\x20and\x20'+_0x34f429),_0x133ac6[_0x60dd6d]=_0x34f429,_0x400ec4['bindAttrib'+'Location'](_0x6f171c,_0x60dd6d,_0x34f429);}_0x400ec4['linkProgra'+'m'](_0x6f171c),w['call'](()=>{this['compileDur'+'ation']=de()-_0x13498f;}),_0x3d4f47['_shaderSta'+'ts']['linked']++,_0x23cab5['tag']===Sy&&_0x3d4f47['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x315c58,_0x1ee8ec,_0x4a2cea){const _0x2c7ee6=_0x315c58['gl'];if(_0x2c7ee6['isContextL'+'ost']())return null;const _0x4df462=(_0x4a2cea?ZT:QT)['get'](_0x315c58,()=>new KT());let _0x2c0b56=_0x4df462['map']['get'](_0x1ee8ec);if(!_0x2c0b56){const _0xd55953=de();_0x315c58['fire']('shader:com'+'pile:start',{'timestamp':_0xd55953,'target':_0x315c58}),_0x2c0b56=_0x2c7ee6['createShad'+'er'](_0x4a2cea?_0x2c7ee6['VERTEX_SHA'+'DER']:_0x2c7ee6['FRAGMENT_S'+'HADER']),_0x2c7ee6['shaderSour'+'ce'](_0x2c0b56,_0x1ee8ec),_0x2c7ee6['compileSha'+'der'](_0x2c0b56),_0x4df462['map']['set'](_0x1ee8ec,_0x2c0b56);const _0x2dd1fa=de();_0x315c58['fire']('shader:com'+'pile:end',{'timestamp':_0x2dd1fa,'target':_0x315c58}),_0x315c58['_shaderSta'+'ts']['compileTim'+'e']+=_0x2dd1fa-_0xd55953,_0x4a2cea?_0x315c58['_shaderSta'+'ts']['vsCompiled']++:_0x315c58['_shaderSta'+'ts']['fsCompiled']++;}return _0x2c0b56;}['finalize'](_0x1c4064,_0x527a83){var _0x595b94,_0x47f581;const _0x2b3471=_0x1c4064['gl'];if(_0x2b3471['isContextL'+'ost']())return!(0xb*-0x257+-0x3fb*-0x2+0x29*0x6f);const _0x41587a=this['glProgram'],_0x5c3cb1=_0x527a83['definition'],_0x551753=de();_0x1c4064['fire']('shader:lin'+'k:start',{'timestamp':_0x551753,'target':_0x1c4064});let _0x2436af=-0x17c5*-0x1+0x185f+-0x3024;if(w['call'](()=>{_0x2436af=de();}),!_0x2b3471['getProgram'+'Parameter'](_0x41587a,_0x2b3471['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x1c4064,_0x527a83,this['glVertexSh'+'ader'],_0x5c3cb1['vshader'],'vertex')||!this['_isCompile'+'d'](_0x1c4064,_0x527a83,this['glFragment'+'Shader'],_0x5c3cb1['fshader'],'fragment'))return!(-0x1fe*-0x7+0x1*0x2113+0xbc1*-0x4);const _0xc73bf5='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x2b3471['getProgram'+'InfoLog'](_0x41587a);return _0x5c3cb1['translated'+'Frag']=(_0x595b94=_0x2b3471['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xa2a+0x389+0x1*0x6a1):_0x595b94['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x5c3cb1['translated'+'Vert']=(_0x47f581=_0x2b3471['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1ec2+0x6e1*-0x4+-0x33e):_0x47f581['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0xc73bf5,_0x5c3cb1),console['error'](_0xc73bf5),!(0x1348+0x248a+0x513*-0xb);}const _0x5a647e=_0x2b3471['getProgram'+'Parameter'](_0x41587a,_0x2b3471['ACTIVE_ATT'+'RIBUTES']);_0x527a83['attributes']['clear']();for(let _0x27874d=-0x1*0x3df+-0x11a9+-0xd4*-0x1a;_0x27874d<_0x5a647e;_0x27874d++){const _0x26cca0=_0x2b3471['getActiveA'+'ttrib'](_0x41587a,_0x27874d),_0x55270c=_0x2b3471['getAttribL'+'ocation'](_0x41587a,_0x26cca0['name']);YT['has'](_0x26cca0['name'])||(_0x5c3cb1['attributes'][_0x26cca0['name']]===void(-0x237a+0x1d52+0x628)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x26cca0['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x527a83['label']+']',_0x527a83),_0x527a83['failed']=!(-0x1985+-0x7*-0xa7+0x14f4)):_0x527a83['attributes']['set'](_0x55270c,_0x26cca0['name']));}const _0x2de257=_0x1c4064['_samplerTy'+'pes'],_0x58f248=_0x2b3471['getProgram'+'Parameter'](_0x41587a,_0x2b3471['ACTIVE_UNI'+'FORMS']);for(let _0x35364d=-0x5*0x772+0xad6+0x1a64;_0x35364d<_0x58f248;_0x35364d++){const _0x3f4647=_0x2b3471['getActiveU'+'niform'](_0x41587a,_0x35364d),_0x3a8d62=_0x2b3471['getUniform'+'Location'](_0x41587a,_0x3f4647['name']),_0x56312a=new jT(_0x1c4064,_0x3f4647['name'],_0x1c4064['pcUniformT'+'ype'][_0x3f4647['type']],_0x3a8d62);_0x2de257['has'](_0x3f4647['type'])?this['samplers']['push'](_0x56312a):this['uniforms']['push'](_0x56312a);}_0x527a83['ready']=!(0x148b*-0x1+-0x1fb7+0x3442);const _0x59944=de();return _0x1c4064['fire']('shader:lin'+'k:end',{'timestamp':_0x59944,'target':_0x1c4064}),_0x1c4064['_shaderSta'+'ts']['compileTim'+'e']+=_0x59944-_0x551753,w['call'](()=>{const _0x11b6f3=de()-_0x2436af;this['compileDur'+'ation']+=_0x11b6f3,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x527a83['id']+']\x20'+_0x527a83['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x7a4+-0x1e3a+0x1697)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x2383+-0x16*-0x22+-0x266e)+'ms');}),!(0xebd+0x1*-0x1135+0x278);}['_isCompile'+'d'](_0x261302,_0x3e306f,_0x16669b,_0x560f42,_0xc1e9f1){const _0x5b3d85=_0x261302['gl'];if(!_0x5b3d85['getShaderP'+'arameter'](_0x16669b,_0x5b3d85['COMPILE_ST'+'ATUS'])){const _0x3b99c3=_0x5b3d85['getShaderI'+'nfoLog'](_0x16669b),[_0x50ae91,_0x331bbf]=this['_processEr'+'ror'](_0x560f42,_0x3b99c3),_0x3705db='Failed\x20to\x20'+'compile\x20'+_0xc1e9f1+'\x20shader:\x0a\x0a'+_0x3b99c3+'\x0a'+_0x50ae91+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x331bbf['shader']=_0x3e306f,console['error'](_0x3705db,_0x331bbf),console['error'](_0x3705db),!(0xb23*-0x1+0xe9*-0x11+-0x9*-0x2f5);}return!(-0xef4+-0xbfd+0x1*0x1af1);}['isLinked'](_0x4b8086){const {extParallelShaderCompile:_0x10f328}=_0x4b8086;return _0x10f328?_0x4b8086['gl']['getProgram'+'Parameter'](this['glProgram'],_0x10f328['COMPLETION'+'_STATUS_KH'+'R']):!(-0x16fc+-0x6b0+-0x1a6*-0x12);}['_processEr'+'ror'](_0x47768b,_0x1b735c){const _0x195fd8={};let _0x3abe5c='';if(_0x47768b){const _0x326f25=_0x47768b['split']('\x0a');let _0x157c99=-0x1308+0x13f+0x11c9,_0x4005ee=_0x326f25['length'];if(_0x1b735c&&_0x1b735c['startsWith']('ERROR:')){const _0x2dd903=_0x1b735c['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x2dd903&&(_0x195fd8['message']=_0x2dd903[-0x1*0x2327+0x1e01+-0x529*-0x1],_0x195fd8['line']=parseInt(_0x2dd903[-0x1e3e+-0x13*0x1ff+0x442d],0xa0b*0x1+-0x971+-0x90),_0x157c99=Math['max'](0x7+-0x4*-0x367+-0x1*0xda3,_0x195fd8['line']-(0x21d7+-0xb*-0x33d+-0x4570)),_0x4005ee=Math['min'](_0x326f25['length'],_0x195fd8['line']+(0x34e+-0x1*-0x1cf1+-0x203a)));}for(let _0x1c16cb=_0x157c99;_0x1c16cb<_0x4005ee;_0x1c16cb++){const _0x4a3c21=_0x1c16cb+(-0x1585+-0x873+0x1df9)===_0x195fd8['line']?'>\x20':'\x20\x20';_0x3abe5c+=''+_0x4a3c21+(_0x1c16cb+(-0x31*0x2+-0xff+-0x2*-0xb1))+':\x09'+_0x326f25[_0x1c16cb]+'\x0a';}_0x195fd8['source']=_0x47768b;}return[_0x3abe5c,_0x195fd8];}}function c_(_0xd4fed6,_0x1c2078){const _0x538003=_0xd4fed6['width'],_0x3ef297=_0xd4fed6['height'];if(_0x538003>_0x1c2078||_0x3ef297>_0x1c2078){const _0x39d24c=_0x1c2078/Math['max'](_0x538003,_0x3ef297),_0x2d5aa0=Math['floor'](_0x538003*_0x39d24c),_0x163de2=Math['floor'](_0x3ef297*_0x39d24c);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x1c2078+('.\x20Resizing'+'\x20from\x20')+_0x538003+',\x20'+_0x3ef297+'\x20to\x20'+_0x2d5aa0+',\x20'+_0x163de2+'.');const _0x448fd8=document['createElem'+'ent']('canvas');return _0x448fd8['width']=_0x2d5aa0,_0x448fd8['height']=_0x163de2,_0x448fd8['getContext']('2d')['drawImage'](_0xd4fed6,-0xe81+-0x83*0x16+-0x19c3*-0x1,0x97*0x1d+0x1*0x2627+-0xb*0x506,_0x538003,_0x3ef297,-0x1253+-0x236*0x5+0x9cb*0x3,-0x1e8d+-0x1a20+0x38ad,_0x2d5aa0,_0x163de2),_0x448fd8;}return _0xd4fed6;}class ew{constructor(_0x183848){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x7*0x2bd+-0x243b+-0x7*-0x7ea),this['texture']=_0x183848;}['destroy'](_0x467a86){if(this['_glTexture']){for(let _0x17458b=0xf8b*0x1+0x9a2+-0x192d*0x1;_0x17458b<_0x467a86['textureUni'+'ts']['length'];_0x17458b++){const _0x5cc4f8=_0x467a86['textureUni'+'ts'][_0x17458b];for(let _0x273141=-0x84f+0xb13+0x1*-0x2c4;_0x273141<_0x5cc4f8['length'];_0x273141++)_0x5cc4f8[_0x273141]===this['_glTexture']&&(_0x5cc4f8[_0x273141]=null);}_0x467a86['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x349f4b){this['dirtyParam'+'eterFlags']|=_0x349f4b;}['initialize'](_0x3f7f65,_0x3c3c61){const _0xc1dc2f=_0x3f7f65['gl'];switch(this['_glTexture']=_0xc1dc2f['createText'+'ure'](),this['_glTarget']=_0x3c3c61['_cubemap']?_0xc1dc2f['TEXTURE_CU'+'BE_MAP']:_0x3c3c61['_volume']?_0xc1dc2f['TEXTURE_3D']:_0x3c3c61['array']?_0xc1dc2f['TEXTURE_2D'+'_ARRAY']:_0xc1dc2f['TEXTURE_2D'],_0x3c3c61['_format']){case ty:this['_glFormat']=_0xc1dc2f['ALPHA'],this['_glInterna'+'lFormat']=_0xc1dc2f['ALPHA'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0xc1dc2f['LUMINANCE'],this['_glInterna'+'lFormat']=_0xc1dc2f['LUMINANCE'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0xc1dc2f['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0xc1dc2f['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0xc1dc2f['RED'],this['_glInterna'+'lFormat']=_0xc1dc2f['R8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0xc1dc2f['RG'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGB565'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGB5_A1'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA4'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGB8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0xc1dc2f['SRGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0xc1dc2f['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0xc1dc2f['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0xc1dc2f['SRGB'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0xc1dc2f['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0xc1dc2f['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x3f7f65['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0x3f7f65['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0xc1dc2f['RED'],this['_glInterna'+'lFormat']=_0xc1dc2f['R16F'],this['_glPixelTy'+'pe']=_0xc1dc2f['HALF_FLOAT'];break;case wp:this['_glFormat']=_0xc1dc2f['RG'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG16F'],this['_glPixelTy'+'pe']=_0xc1dc2f['HALF_FLOAT'];break;case ui:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGB16F'],this['_glPixelTy'+'pe']=_0xc1dc2f['HALF_FLOAT'];break;case nt:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA16F'],this['_glPixelTy'+'pe']=_0xc1dc2f['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGB32F'],this['_glPixelTy'+'pe']=_0xc1dc2f['FLOAT'];break;case Xt:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA32F'],this['_glPixelTy'+'pe']=_0xc1dc2f['FLOAT'];break;case Ji:this['_glFormat']=_0xc1dc2f['RED'],this['_glInterna'+'lFormat']=_0xc1dc2f['R32F'],this['_glPixelTy'+'pe']=_0xc1dc2f['FLOAT'];break;case $i:this['_glFormat']=_0xc1dc2f['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xc1dc2f['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0xc1dc2f['FLOAT'];break;case vn:this['_glFormat']=_0xc1dc2f['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xc1dc2f['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0xc1dc2f['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0xc1dc2f['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0xc1dc2f['RGB'],this['_glInterna'+'lFormat']=_0xc1dc2f['SRGB8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0xc1dc2f['RGBA'],this['_glInterna'+'lFormat']=_0xc1dc2f['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R8I'],this['_glPixelTy'+'pe']=_0xc1dc2f['BYTE'];break;case oy:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R8UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R16I'],this['_glPixelTy'+'pe']=_0xc1dc2f['SHORT'];break;case up:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R16UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R32I'],this['_glPixelTy'+'pe']=_0xc1dc2f['INT'];break;case Ki:this['_glFormat']=_0xc1dc2f['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xc1dc2f['R32UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG8I'],this['_glPixelTy'+'pe']=_0xc1dc2f['BYTE'];break;case ly:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG8UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG16I'],this['_glPixelTy'+'pe']=_0xc1dc2f['SHORT'];break;case gp:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG16UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG32I'],this['_glPixelTy'+'pe']=_0xc1dc2f['INT'];break;case yp:this['_glFormat']=_0xc1dc2f['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RG32UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA8I'],this['_glPixelTy'+'pe']=_0xc1dc2f['BYTE'];break;case cy:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA8UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA16I'],this['_glPixelTy'+'pe']=_0xc1dc2f['SHORT'];break;case nd:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA16UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA32I'],this['_glPixelTy'+'pe']=_0xc1dc2f['INT'];break;case Ue:this['_glFormat']=_0xc1dc2f['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xc1dc2f['RGBA32UI'],this['_glPixelTy'+'pe']=_0xc1dc2f['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x3cb*0xa+-0x2e*-0xc1+0x341);}['upload'](_0x4b2649,_0x552a21){w['assert'](_0x552a21['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x552a21);const _0x2aa5c7=_0x4b2649['gl'];if(!_0x552a21['_needsUplo'+'ad']&&(_0x552a21['_needsMipm'+'apsUpload']&&_0x552a21['_mipmapsUp'+'loaded']||!_0x552a21['pot']))return;let _0x35fae1=-0xd37+0x1*-0x16eb+-0x5*-0x73a,_0x5d789b,_0x331ae8;const _0x397997=_0x552a21['numLevels'];for(_0x552a21['array']&&_0x2aa5c7['texStorage'+'3D'](_0x2aa5c7['TEXTURE_2D'+'_ARRAY'],_0x397997,this['_glInterna'+'lFormat'],_0x552a21['_width'],_0x552a21['_height'],_0x552a21['_arrayLeng'+'th']);_0x552a21['_levels'][_0x35fae1]||_0x35fae1===0x532+0x11e9+-0x171b;){if(!_0x552a21['_needsUplo'+'ad']&&_0x35fae1===0x4e3*0x7+0x13*0xdc+-0x3289){_0x35fae1++;continue;}else{if(_0x35fae1&&(!_0x552a21['_needsMipm'+'apsUpload']||!_0x552a21['_mipmaps']))break;}if(_0x5d789b=_0x552a21['_levels'][_0x35fae1],_0x331ae8=(-0x182d*-0x1+0x1362*-0x2+0xe98)/Math['pow'](-0xdf2+0xcdd+0x117,_0x35fae1),_0x35fae1===0x1cbd+0xe0*0x3+-0x4*0x7d7&&!_0x552a21['_compresse'+'d']&&!_0x552a21['_integerFo'+'rmat']&&_0x552a21['_levels']['length']<_0x397997&&(_0x2aa5c7['generateMi'+'pmap'](this['_glTarget']),_0x552a21['_mipmapsUp'+'loaded']=!(-0xb83*-0x2+0x163e+-0x4*0xb51)),_0x552a21['_cubemap']){let _0x5f1c73;if(_0x4b2649['_isBrowser'+'Interface'](_0x5d789b[0x97+-0x1e6+-0x5*-0x43]))for(_0x5f1c73=-0x23c6+-0x1*0x14f4+0x38ba;_0x5f1c73<-0x1b47+-0x1594+-0x104b*-0x3;_0x5f1c73++){if(!_0x552a21['_levelsUpd'+'ated'][0x2a4+0x226c+-0x2510][_0x5f1c73])continue;let _0x38e3b5=_0x5d789b[_0x5f1c73];_0x4b2649['_isImageBr'+'owserInter'+'face'](_0x38e3b5)&&(_0x38e3b5['width']>_0x4b2649['maxCubeMap'+'Size']||_0x38e3b5['height']>_0x4b2649['maxCubeMap'+'Size'])&&(_0x38e3b5=c_(_0x38e3b5,_0x4b2649['maxCubeMap'+'Size']),_0x35fae1===0x2*0x63d+0x5e*-0x37+0x7b8&&(_0x552a21['_width']=_0x38e3b5['width'],_0x552a21['_height']=_0x38e3b5['height'])),_0x4b2649['setUnpackF'+'lipY'](!(-0x1*0x1f71+-0x3f9+0x236b)),_0x4b2649['setUnpackP'+'remultiply'+'Alpha'](_0x552a21['_premultip'+'lyAlpha']),this['_glCreated']?_0x2aa5c7['texSubImag'+'e2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,-0x30a*0x4+0x1*0x80a+0x41e,0x3fb*-0x1+-0x88*-0x16+-0x7b5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x38e3b5):_0x2aa5c7['texImage2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x38e3b5);}else for(_0x331ae8=(0x9e4+0x57*0x5e+-0x29d5)/Math['pow'](-0x79d*0x1+0x4e7*-0x1+-0xe*-0xe5,_0x35fae1),_0x5f1c73=-0xde*-0x1+-0x117a+0x109c;_0x5f1c73<0x1b4f+-0x1bd2+0x89;_0x5f1c73++){if(!_0x552a21['_levelsUpd'+'ated'][0x1*-0xa7f+0x102e+-0x5af][_0x5f1c73])continue;const _0x4fcc57=_0x5d789b[_0x5f1c73];_0x552a21['_compresse'+'d']?this['_glCreated']&&_0x4fcc57?_0x2aa5c7['compressed'+'TexSubImag'+'e2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,0x1*0x751+0x7cd+-0xf1e,-0x583*-0x7+0x38f*-0x3+-0x1be8,Math['max'](_0x552a21['_width']*_0x331ae8,-0x1f05+0x4ff+0x8ad*0x3),Math['max'](_0x552a21['_height']*_0x331ae8,0xc3d+0x420+-0x105c),this['_glInterna'+'lFormat'],_0x4fcc57):_0x2aa5c7['compressed'+'TexImage2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](_0x552a21['_width']*_0x331ae8,0x1*0x16b4+-0x2682+0xfcf),Math['max'](_0x552a21['_height']*_0x331ae8,0x1176+-0x21cd+0x1058),0x2*0xb70+0x3c1*-0x2+-0xf5e,_0x4fcc57):(_0x4b2649['setUnpackF'+'lipY'](!(-0x185*0x17+-0x29*-0x6+0x21fe)),_0x4b2649['setUnpackP'+'remultiply'+'Alpha'](_0x552a21['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4fcc57?_0x2aa5c7['texSubImag'+'e2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,-0x12*0x22b+-0x181*0x7+-0x2b*-0x127,-0x1a*0x13a+-0x3*-0x533+-0x61*-0x2b,Math['max'](_0x552a21['_width']*_0x331ae8,0x1*0x1b59+-0x2692+0xb3a),Math['max'](_0x552a21['_height']*_0x331ae8,-0x1*0x13e7+-0x69*0x4c+0x3314),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4fcc57):_0x2aa5c7['texImage2D'](_0x2aa5c7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5f1c73,_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](_0x552a21['_width']*_0x331ae8,-0x1ae5+0x1*-0x46f+0x1f55),Math['max'](_0x552a21['_height']*_0x331ae8,0x110b+0x1100+-0x220a),0x5*-0x5b0+0x5fb+-0x1675*-0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4fcc57));}}else{if(_0x552a21['_volume'])_0x552a21['_compresse'+'d']?_0x2aa5c7['compressed'+'TexImage3D'](_0x2aa5c7['TEXTURE_3D'],_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](_0x552a21['_width']*_0x331ae8,0xbd4+0x4b6+0x1089*-0x1),Math['max'](_0x552a21['_height']*_0x331ae8,0x1aad+-0xeb6*-0x1+-0x2962),Math['max'](_0x552a21['_depth']*_0x331ae8,-0x2090+-0x553+-0x2*-0x12f2),-0x1bc8*-0x1+-0x1*-0x161c+-0x31e4,_0x5d789b):(_0x4b2649['setUnpackF'+'lipY'](!(-0x2623+0x3*-0x897+-0x3fe9*-0x1)),_0x4b2649['setUnpackP'+'remultiply'+'Alpha'](_0x552a21['_premultip'+'lyAlpha']),_0x2aa5c7['texImage3D'](_0x2aa5c7['TEXTURE_3D'],_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](_0x552a21['_width']*_0x331ae8,0x1446+0x74b*-0x3+0x19c),Math['max'](_0x552a21['_height']*_0x331ae8,0xb17*-0x1+-0x2*-0xee4+-0x12b0),Math['max'](_0x552a21['_depth']*_0x331ae8,0x1355*0x1+-0x13fb+0xa7),-0x158b*-0x1+0x96*-0xa+-0x49*0x37,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b));else{if(_0x552a21['array']&&typeof _0x5d789b=='object'){if(_0x552a21['_arrayLeng'+'th']===_0x5d789b['length']){if(_0x552a21['_compresse'+'d']){for(let _0x34da8c=0x3*0xd2+-0x1*-0x3f2+0xcd*-0x8;_0x34da8c<_0x552a21['_arrayLeng'+'th'];_0x34da8c++)_0x2aa5c7['compressed'+'TexSubImag'+'e3D'](_0x2aa5c7['TEXTURE_2D'+'_ARRAY'],_0x35fae1,-0x77*-0x29+-0x7c8+-0xb47*0x1,-0x27*0x49+0x220e+-0x16ef,_0x34da8c,Math['max'](Math['floor'](_0x552a21['_width']*_0x331ae8),-0x26e2+0xdb*0x7+0x1073*0x2),Math['max'](Math['floor'](_0x552a21['_height']*_0x331ae8),-0xf*0x58+0xb*0x47+0x1e*0x12),0x2*-0x832+0x12f1+0x28c*-0x1,this['_glInterna'+'lFormat'],_0x5d789b[_0x34da8c]);}else{for(let _0x7bb173=0x249d+-0x14b4+0x1*-0xfe9;_0x7bb173<_0x552a21['_arrayLeng'+'th'];_0x7bb173++)_0x2aa5c7['texSubImag'+'e3D'](_0x2aa5c7['TEXTURE_2D'+'_ARRAY'],_0x35fae1,-0x955*0x3+-0x1167+0x2d66,-0xb*0xdd+0xf9a+-0x209*0x3,_0x7bb173,Math['max'](Math['floor'](_0x552a21['_width']*_0x331ae8),-0x1955+-0x20a7+0x5*0xb99),Math['max'](Math['floor'](_0x552a21['_height']*_0x331ae8),-0x2d*0xa5+-0x14d3+0x31d5*0x1),-0x1*0x14e3+-0x20d*-0x11+0x31*-0x49,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b[_0x7bb173]);}}}else{if(_0x4b2649['_isBrowser'+'Interface'](_0x5d789b)){_0x4b2649['_isImageBr'+'owserInter'+'face'](_0x5d789b)&&(_0x5d789b['width']>_0x4b2649['maxTexture'+'Size']||_0x5d789b['height']>_0x4b2649['maxTexture'+'Size'])&&(_0x5d789b=c_(_0x5d789b,_0x4b2649['maxTexture'+'Size']),_0x35fae1===0x665*-0x2+0x1b6e*-0x1+0x2838&&(_0x552a21['_width']=_0x5d789b['width'],_0x552a21['_height']=_0x5d789b['height']));const _0x184acf=_0x5d789b['width']||_0x5d789b['videoWidth'],_0x5b375f=_0x5d789b['height']||_0x5d789b['videoHeigh'+'t'];_0x4b2649['setUnpackF'+'lipY'](_0x552a21['_flipY']),_0x4b2649['setUnpackP'+'remultiply'+'Alpha'](_0x552a21['_premultip'+'lyAlpha']),this['_glCreated']&&_0x552a21['_width']===_0x184acf&&_0x552a21['_height']===_0x5b375f&&!_0x4b2649['_isImageVi'+'deoInterfa'+'ce'](_0x5d789b)?_0x2aa5c7['texSubImag'+'e2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,0xc59*-0x1+0x1*0x117b+-0x9*0x92,-0x459*-0x3+-0x1acb+0xdc0,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b):(_0x2aa5c7['texImage2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b),_0x35fae1===0x5b7+0x72*0x34+-0x1cdf&&(_0x552a21['_width']=_0x184acf,_0x552a21['_height']=_0x5b375f));}else _0x331ae8=(-0x1*0x1295+0x225e+-0xfc8)/Math['pow'](0x484+-0xedb+0x1*0xa59,_0x35fae1),_0x552a21['_compresse'+'d']?this['_glCreated']&&_0x5d789b?_0x2aa5c7['compressed'+'TexSubImag'+'e2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,0x125c+-0x24fb+-0x15*-0xe3,-0x1*0x119+-0x1edb+0x1ff4,Math['max'](Math['floor'](_0x552a21['_width']*_0x331ae8),-0x40e+0xa*-0x67+-0x815*-0x1),Math['max'](Math['floor'](_0x552a21['_height']*_0x331ae8),-0x327+-0x4a6+-0x4a*-0x1b),this['_glInterna'+'lFormat'],_0x5d789b):_0x2aa5c7['compressed'+'TexImage2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x552a21['_width']*_0x331ae8),0x1f6f+-0xf7*-0x21+-0x3f45),Math['max'](Math['floor'](_0x552a21['_height']*_0x331ae8),0x5*0x5bb+-0x61*0x25+-0xea1),0x20a7*0x1+0x1c9*-0xf+0x178*-0x4,_0x5d789b):(_0x4b2649['setUnpackF'+'lipY'](!(-0x448*-0x5+-0x1*0x1bf+-0x13a8)),_0x4b2649['setUnpackP'+'remultiply'+'Alpha'](_0x552a21['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5d789b?_0x2aa5c7['texSubImag'+'e2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,-0x1*-0x1e49+-0x215f+0x316,0x23ae+-0x1aeb+0x8c3*-0x1,Math['max'](_0x552a21['_width']*_0x331ae8,0x16e4+-0x35f*0x3+0x3*-0x442),Math['max'](_0x552a21['_height']*_0x331ae8,0x1*0x34+-0x6*-0x71+-0x2d9),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b):_0x2aa5c7['texImage2D'](_0x2aa5c7['TEXTURE_2D'],_0x35fae1,this['_glInterna'+'lFormat'],Math['max'](_0x552a21['_width']*_0x331ae8,-0xf1*-0x27+0x2*0x3ab+-0x2c0c),Math['max'](_0x552a21['_height']*_0x331ae8,-0x2491+-0xe0c+0x49a*0xb),-0x1*-0x815+0x256c+0x3*-0xf2b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d789b));_0x35fae1===-0x329+-0x5d3+-0x2*-0x47e?_0x552a21['_mipmapsUp'+'loaded']=!(0x1612+0x1*0x1b9d+-0x31ae):_0x552a21['_mipmapsUp'+'loaded']=!(-0x9d*-0x33+0x1*0x1b55+-0x554*0xb);}}}_0x35fae1++;}if(_0x552a21['_needsUplo'+'ad']){if(_0x552a21['_cubemap']){for(let _0x4b52b1=0x1*-0x932+-0x2124+-0x2*-0x152b;_0x4b52b1<-0xe2f+0x1*0x19fc+-0xbc7;_0x4b52b1++)_0x552a21['_levelsUpd'+'ated'][0x2457+0xb93*-0x3+-0x3*0x8a][_0x4b52b1]=!(-0x3*0x996+-0x113d+0x2e00);}else _0x552a21['_levelsUpd'+'ated'][0x18a9+0x26f3+-0x8a*0x76]=!(0x4ef*-0x7+0x2699+-0x40f);}!_0x552a21['_compresse'+'d']&&!_0x552a21['_integerFo'+'rmat']&&_0x552a21['_mipmaps']&&_0x552a21['_needsMipm'+'apsUpload']&&_0x552a21['_levels']['length']===0x1*0x1247+0x24c1*0x1+-0x3707&&(_0x2aa5c7['generateMi'+'pmap'](this['_glTarget']),_0x552a21['_mipmapsUp'+'loaded']=!(-0x1eda+-0xadb*0x1+0x3*0xde7)),_0x552a21['_gpuSize']&&_0x552a21['adjustVram'+'SizeTracki'+'ng'](_0x4b2649['_vram'],-_0x552a21['_gpuSize']),_0x552a21['_gpuSize']=_0x552a21['gpuSize'],_0x552a21['adjustVram'+'SizeTracki'+'ng'](_0x4b2649['_vram'],_0x552a21['_gpuSize']),this['_glCreated']=!(0x75*-0x1d+-0xb51+0x1*0x1892);}['read'](_0x237822,_0x1709da,_0x329546,_0x1aff7a,_0x3bd3a2){const _0xf69d3d=this['texture'];return _0xf69d3d['device']['readTextur'+'eAsync'](_0xf69d3d,_0x237822,_0x1709da,_0x329546,_0x1aff7a,_0x3bd3a2);}['write'](_0x3ff65f,_0x46ebb5,_0x5e63c8,_0x34fddc,_0x262ad0){const {texture:_0x46b9f4}=this,{device:_0x17483c}=_0x46b9f4;return _0x17483c['setTexture'](_0x46b9f4,0x10d*-0x1b+0xfa*-0x17+0x32d5),_0x17483c['writeTextu'+'reAsync'](_0x46b9f4,_0x3ff65f,_0x46ebb5,_0x5e63c8,_0x34fddc,_0x262ad0);}}class tw{constructor(_0xbf340d,_0xc7fc5b){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0xbf340d,this['resolveFB']=_0xc7fc5b);}['destroy'](_0x3c54f7){this['msaaFB']&&(_0x3c54f7['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x3c54f7['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x1*0x1b73+-0xcf2*-0x3+-0xb62));}['destroy'](_0x12b20a){var _0x3a2ea0;const _0x15282d=_0x12b20a['gl'];this['_isInitial'+'ized']=!(-0x1679+0x327*-0x7+0x2c8b),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x15282d['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x15282d['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x15282d['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x4999af=>{_0x15282d['deleteRend'+'erbuffer'](_0x4999af);}),this['_glMsaaCol'+'orBuffers']['length']=0x1b8d+0x1b17+-0x36a4,(_0x3a2ea0=this['colorMrtFr'+'amebuffers'])==null||_0x3a2ea0['forEach'](_0xadba60=>{_0xadba60['destroy'](_0x15282d);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x12b20a)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x1beb*-0x1+-0x9e8+-0x1203);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x2b5031,_0x5bd2b3){var _0x388b6b,_0x423336;const _0x2f1b89=_0x2b5031['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0xc9f*0x2+-0x1f32+0x5f4);const _0x48314f=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1a7e+-0x8fb*0x1+-0x3*-0xbd3))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x5bd2b3['width']<=-0x52b+-0xf83*-0x2+-0x19db||_0x5bd2b3['height']<=-0x1*-0x10bb+0x46e+-0x1529)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x5bd2b3['width']+'\x20x\x20'+_0x5bd2b3['height'],_0x5bd2b3);}),this['_glFrameBu'+'ffer']=_0x2f1b89['createFram'+'ebuffer'](),_0x2b5031['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x21da2b=((_0x388b6b=_0x5bd2b3['_colorBuff'+'ers'])==null?void(0x2*-0x8dc+0x19c9+-0x19d*0x5):_0x388b6b['length'])??-0x3*-0x3a7+0x191f+-0x2414,_0x42ebbb=_0x2f1b89['COLOR_ATTA'+'CHMENT0'];for(let _0xb7f650=-0x77d+-0x224f+-0x217*-0x14;_0xb7f650<_0x21da2b;++_0xb7f650){const _0xe5cf29=_0x5bd2b3['getColorBu'+'ffer'](_0xb7f650);_0xe5cf29&&(_0xe5cf29['impl']['_glTexture']||(_0xe5cf29['_width']=Math['min'](_0xe5cf29['width'],_0x2b5031['maxRenderB'+'ufferSize']),_0xe5cf29['_height']=Math['min'](_0xe5cf29['height'],_0x2b5031['maxRenderB'+'ufferSize']),_0x2b5031['setTexture'](_0xe5cf29,0x25c*-0x1+0x2118+0x7af*-0x4)),_0x2f1b89['framebuffe'+'rTexture2D'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x42ebbb+_0xb7f650,_0xe5cf29['_cubemap']?_0x2f1b89['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5bd2b3['_face']:_0x2f1b89['TEXTURE_2D'],_0xe5cf29['impl']['_glTexture'],_0x5bd2b3['mipLevel']),_0x48314f['push'](_0x42ebbb+_0xb7f650));}_0x2f1b89['drawBuffer'+'s'](_0x48314f);const _0x2aaf36=_0x5bd2b3['_depthBuff'+'er'];if(_0x2aaf36||_0x5bd2b3['_depth']){const _0x2673a0=_0x5bd2b3['_stencil']?_0x2f1b89['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2f1b89['DEPTH_ATTA'+'CHMENT'];if(_0x2aaf36)_0x2aaf36['impl']['_glTexture']||(_0x2aaf36['_width']=Math['min'](_0x2aaf36['width'],_0x2b5031['maxRenderB'+'ufferSize']),_0x2aaf36['_height']=Math['min'](_0x2aaf36['height'],_0x2b5031['maxRenderB'+'ufferSize']),_0x2b5031['setTexture'](_0x2aaf36,-0x2f2*-0x9+-0x5ee+-0x1494)),_0x2f1b89['framebuffe'+'rTexture2D'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x2673a0,_0x2aaf36['_cubemap']?_0x2f1b89['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5bd2b3['_face']:_0x2f1b89['TEXTURE_2D'],_0x5bd2b3['_depthBuff'+'er']['impl']['_glTexture'],_0x5bd2b3['mipLevel']);else{if(!(_0x5bd2b3['_samples']>0x1*0x17c+0xe1*-0x6+0x3cb)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x2f1b89['createRend'+'erbuffer']());const _0x141c06=_0x5bd2b3['_stencil']?_0x2f1b89['DEPTH24_ST'+'ENCIL8']:_0x2f1b89['DEPTH_COMP'+'ONENT32F'];_0x2f1b89['bindRender'+'buffer'](_0x2f1b89['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2f1b89['renderbuff'+'erStorage'](_0x2f1b89['RENDERBUFF'+'ER'],_0x141c06,_0x5bd2b3['width'],_0x5bd2b3['height']),_0x2f1b89['framebuffe'+'rRenderbuf'+'fer'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x2673a0,_0x2f1b89['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2f1b89['bindRender'+'buffer'](_0x2f1b89['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x2b5031,_0x5bd2b3));}if(_0x5bd2b3['_samples']>-0x134b+-0x362*-0x1+0x3*0x54e){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x2f1b89['createFram'+'ebuffer'](),_0x2b5031['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x494540=((_0x423336=_0x5bd2b3['_colorBuff'+'ers'])==null?void(0x180f+0x4ba+-0x1cc9):_0x423336['length'])??0x1*-0x5cb+-0x73e+0x47*0x2f;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x514+-0xe11*-0x1+-0x8fd)){const _0x1cfeae=_0x2f1b89['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1cfeae);const _0x558c91=_0x2b5031['backBuffer'+'Format']===Ne?_0x2f1b89['RGBA8']:_0x2f1b89['RGB8'];_0x2f1b89['bindRender'+'buffer'](_0x2f1b89['RENDERBUFF'+'ER'],_0x1cfeae),_0x2f1b89['renderbuff'+'erStorageM'+'ultisample'](_0x2f1b89['RENDERBUFF'+'ER'],_0x5bd2b3['_samples'],_0x558c91,_0x5bd2b3['width'],_0x5bd2b3['height']),_0x2f1b89['framebuffe'+'rRenderbuf'+'fer'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x2f1b89['COLOR_ATTA'+'CHMENT0'],_0x2f1b89['RENDERBUFF'+'ER'],_0x1cfeae);}else for(let _0x251f28=-0x1*0x751+-0x772*-0x2+-0x793;_0x251f28<_0x494540;++_0x251f28){const _0x327150=_0x5bd2b3['getColorBu'+'ffer'](_0x251f28);if(_0x327150){const _0xdc4bb1=_0x2f1b89['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0xdc4bb1),_0x2f1b89['bindRender'+'buffer'](_0x2f1b89['RENDERBUFF'+'ER'],_0xdc4bb1),_0x2f1b89['renderbuff'+'erStorageM'+'ultisample'](_0x2f1b89['RENDERBUFF'+'ER'],_0x5bd2b3['_samples'],_0x327150['impl']['_glInterna'+'lFormat'],_0x5bd2b3['width'],_0x5bd2b3['height']),_0x2f1b89['framebuffe'+'rRenderbuf'+'fer'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x2f1b89['COLOR_ATTA'+'CHMENT0']+_0x251f28,_0x2f1b89['RENDERBUFF'+'ER'],_0xdc4bb1);}}if(_0x5bd2b3['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x23611d=_0x5bd2b3['_stencil']?_0x2f1b89['DEPTH24_ST'+'ENCIL8']:_0x2f1b89['DEPTH_COMP'+'ONENT32F'],_0x2bfe5f=_0x5bd2b3['_stencil']?_0x2f1b89['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2f1b89['DEPTH_ATTA'+'CHMENT'];let _0x802c69;const _0x3431b5=_0x5bd2b3['_depthBuff'+'er'];_0x3431b5&&(_0x802c69=_0x3431b5['id']+':'+_0x5bd2b3['width']+':'+_0x5bd2b3['height']+':'+_0x5bd2b3['_samples']+':'+_0x23611d+':'+_0x2bfe5f,this['_glMsaaDep'+'thBuffer']=Fd(_0x2b5031)['get'](_0x802c69)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x2f1b89['createRend'+'erbuffer'](),_0x2f1b89['bindRender'+'buffer'](_0x2f1b89['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x2f1b89['renderbuff'+'erStorageM'+'ultisample'](_0x2f1b89['RENDERBUFF'+'ER'],_0x5bd2b3['_samples'],_0x23611d,_0x5bd2b3['width'],_0x5bd2b3['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x2f1b89['deleteRend'+'erbuffer'](this);},_0x3431b5&&Fd(_0x2b5031)['set'](_0x802c69,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x802c69,_0x2f1b89['framebuffe'+'rRenderbuf'+'fer'](_0x2f1b89['FRAMEBUFFE'+'R'],_0x2bfe5f,_0x2f1b89['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x2b5031,_0x5bd2b3,'MSAA')),_0x494540>-0x64*0x35+0x178*-0x6+-0xb*-0x2af&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x2b5031,_0x5bd2b3,_0x494540),_0x2b5031['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x2f1b89['drawBuffer'+'s'](_0x48314f));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x9ac388,_0x4ea504,_0x50ef17){const _0x11969f=_0x9ac388['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x69b94a=0x4d5+-0x1b34+0x165f;_0x69b94a<_0x50ef17;++_0x69b94a){const _0x23000b=_0x4ea504['getColorBu'+'ffer'](_0x69b94a),_0x563b44=_0x11969f['createFram'+'ebuffer']();_0x9ac388['setFramebu'+'ffer'](_0x563b44);const _0x35785d=this['_glMsaaCol'+'orBuffers'][_0x69b94a];_0x11969f['bindRender'+'buffer'](_0x11969f['RENDERBUFF'+'ER'],_0x35785d),_0x11969f['renderbuff'+'erStorageM'+'ultisample'](_0x11969f['RENDERBUFF'+'ER'],_0x4ea504['_samples'],_0x23000b['impl']['_glInterna'+'lFormat'],_0x4ea504['width'],_0x4ea504['height']),_0x11969f['framebuffe'+'rRenderbuf'+'fer'](_0x11969f['FRAMEBUFFE'+'R'],_0x11969f['COLOR_ATTA'+'CHMENT0'],_0x11969f['RENDERBUFF'+'ER'],_0x35785d),_0x11969f['drawBuffer'+'s']([_0x11969f['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x9ac388,_0x4ea504,'MSAA-MRT-s'+'rc'+_0x69b94a));const _0x2bf46c=_0x11969f['createFram'+'ebuffer']();_0x9ac388['setFramebu'+'ffer'](_0x2bf46c),_0x11969f['framebuffe'+'rTexture2D'](_0x11969f['FRAMEBUFFE'+'R'],_0x11969f['COLOR_ATTA'+'CHMENT0'],_0x23000b['_cubemap']?_0x11969f['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ea504['_face']:_0x11969f['TEXTURE_2D'],_0x23000b['impl']['_glTexture'],0x6*-0x45e+-0x1*-0x2159+-0x725),this['colorMrtFr'+'amebuffers'][_0x69b94a]=new tw(_0x563b44,_0x2bf46c),w['call'](()=>this['_checkFbo'](_0x9ac388,_0x4ea504,'MSAA-MRT-d'+'st'+_0x69b94a));}}['_checkFbo'](_0x4372ec,_0x1b7886,_0x572ef1=''){const _0x13eb0e=_0x4372ec['gl'],_0x34340d=_0x13eb0e['checkFrame'+'bufferStat'+'us'](_0x13eb0e['FRAMEBUFFE'+'R']);let _0x146aaa;switch(_0x34340d){case _0x13eb0e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x146aaa='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x13eb0e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x146aaa='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x13eb0e['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x146aaa='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x13eb0e['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x146aaa='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x146aaa,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x146aaa+(',\x20render\x20t'+'arget:\x20')+_0x1b7886['name']+'\x20'+_0x572ef1,_0x1b7886);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x117*0x1c+-0x121*0x17+0x387b,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x16d4+0xc3+-0x1797),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x27c+0x1*-0x5cc+0x848),this['_isInitial'+'ized']=!(-0x1f35+-0xf0f+0x2e45);}['internalRe'+'solve'](_0x4bad55,_0x6c1860,_0x164bb8,_0x5c2338,_0xddee1c){w['assert'](_0x6c1860!==_0x164bb8,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x4bad55['setScissor'](-0x1efc+0x1250+0x656*0x2,0x1226+0x22f+-0x1455,_0x5c2338['width'],_0x5c2338['height']);const _0x2fab1f=_0x4bad55['gl'];_0x2fab1f['bindFrameb'+'uffer'](_0x2fab1f['READ_FRAME'+'BUFFER'],_0x6c1860),_0x2fab1f['bindFrameb'+'uffer'](_0x2fab1f['DRAW_FRAME'+'BUFFER'],_0x164bb8),_0x2fab1f['blitFrameb'+'uffer'](-0x16a2+-0x2217+0x38b9*0x1,0x115a+0x1d29+0xbd*-0x3f,_0x5c2338['width'],_0x5c2338['height'],-0x1*-0x20ed+-0x19d9+-0x2*0x38a,-0xbfb*-0x1+0x178a*-0x1+0xb8f,_0x5c2338['width'],_0x5c2338['height'],_0xddee1c,_0x2fab1f['NEAREST']);}['resolve'](_0xf26b24,_0x1201d1,_0x2801be,_0x9f1de2){const _0x5bb140=_0xf26b24['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x2801be)for(let _0x14de29=-0x1*0x10a5+-0xfe1+0x17*0x16a;_0x14de29<this['colorMrtFr'+'amebuffers']['length'];_0x14de29++){const _0x347dd=this['colorMrtFr'+'amebuffers'][_0x14de29];Q['pushGpuMar'+'ker'](_0xf26b24,'RESOLVE-MR'+'T'+_0x14de29),this['internalRe'+'solve'](_0xf26b24,_0x347dd['msaaFB'],_0x347dd['resolveFB'],_0x1201d1,_0x5bb140['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0xf26b24);}_0x9f1de2&&(Q['pushGpuMar'+'ker'](_0xf26b24,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0xf26b24,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1201d1,_0x5bb140['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0xf26b24));}else Q['pushGpuMar'+'ker'](_0xf26b24,'RESOLVE'),this['internalRe'+'solve'](_0xf26b24,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1201d1,(_0x2801be?_0x5bb140['COLOR_BUFF'+'ER_BIT']:0x3*0x6c5+-0x1a98+0x649)|(_0x9f1de2?_0x5bb140['DEPTH_BUFF'+'ER_BIT']:0x324+-0x1e74+0x10*0x1b5)),Q['popGpuMark'+'er'](_0xf26b24);_0x5bb140['bindFrameb'+'uffer'](_0x5bb140['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x11a141){this['queries']['forEach'](_0x433223=>_0x11a141['deleteQuer'+'y'](_0x433223)),this['queries']=null;}}class rw extends $T{constructor(_0x4f8096){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x4f8096,this['ext']=_0x4f8096['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x514ef8=>this['device']['gl']['deleteQuer'+'y'](_0x514ef8)),this['frameQueri'+'es']['forEach'](_0x2ad6e0=>this['device']['gl']['deleteQuer'+'y'](_0x2ad6e0)),this['previousFr'+'ameQueries']['forEach'](_0x40a2fb=>_0x40a2fb['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x4852d9){if(this['ext']){const _0x4db85b=this['getSlot'](_0x4852d9),_0x2bc39c=this['getQuery']();return this['frameQueri'+'es'][_0x4db85b]=_0x2bc39c,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x2bc39c),_0x4db85b;}}['end'](_0x5cf84f){_0x5cf84f!==void(0x34a*-0x7+0x196a+0x9*-0x44)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0xecb9fb=this['ext'],_0x3b4012=this['device']['gl'],_0x17207c=this['device']['renderVers'+'ion'],_0x62a4df=this['frameQueri'+'es'];if(_0x62a4df['length']>0x1*-0x652+0x1d15+-0x16c3){this['frameQueri'+'es']=[];const _0x2e21d7=new iw();_0x2e21d7['queries']=_0x62a4df,_0x2e21d7['renderVers'+'ion']=_0x17207c,this['previousFr'+'ameQueries']['push'](_0x2e21d7);}if(this['previousFr'+'ameQueries']['length']>0x9f3+0x5ef+-0xfe2){const _0x287f9d=this['previousFr'+'ameQueries'][0x1fda+0x20df+-0x3*0x1593],_0x2ed9e8=_0x287f9d['queries'],_0x5e4aae=_0x2ed9e8[_0x2ed9e8['length']-(-0x7*0x10f+-0x20d3+0x1*0x283d)],_0x262e5c=_0x3b4012['getQueryPa'+'rameter'](_0x5e4aae,_0x3b4012['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x300751=_0x3b4012['getParamet'+'er'](_0xecb9fb['GPU_DISJOI'+'NT_EXT']);if(_0x262e5c&&!_0x300751){this['previousFr'+'ameQueries']['shift']();const _0x1be1bd=this['timings'];_0x1be1bd['length']=-0x185d+0x4a7+-0x9db*-0x2;for(let _0x45dfe5=0x34b*-0x1+-0x19fa+0x1d45;_0x45dfe5<_0x2ed9e8['length'];_0x45dfe5++){const _0x174435=_0x2ed9e8[_0x45dfe5],_0x1dcabf=_0x3b4012['getQueryPa'+'rameter'](_0x174435,_0x3b4012['QUERY_RESU'+'LT']);_0x1be1bd[_0x45dfe5]=_0x1dcabf*(-0x1df2+-0x227c+0x406e+0.000001),this['freeQuerie'+'s']['push'](_0x174435);}this['report'](_0x287f9d['renderVers'+'ion'],_0x1be1bd);}_0x300751&&(this['previousFr'+'ameQueries']['forEach'](_0x5a66a5=>{this['report'](_0x5a66a5['renderVers'+'ion'],null),_0x5a66a5['destroy'](_0x3b4012);}),this['previousFr'+'ameQueries']['length']=0x12*-0x1c3+-0x194f+0x3905);}super['request'](_0x17207c);}}}const Da=[];class aw extends $e{constructor(_0x53982f,_0x1ac308={}){super(_0x53982f,_0x1ac308),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x2b4*-0xa+0x26f5*0x1+0x67*-0xa4)),(_0x1ac308=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x23c6+0xd1c+0x16ab),this['_contextLo'+'stHandler']=_0x3fffe9=>{_0x3fffe9['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x516c8e=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x516c8e&&_0x516c8e['includes']('AppleWebKi'+'t')&&(_0x516c8e['includes']('15.4')||_0x516c8e['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x1ac308['antialias']=!(0xe8*-0x10+-0x3*0xb8c+0x3125),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x283f78=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x15b3f4=_0x283f78?_0x283f78[0x29*-0x65+0x153b+-0x50d]:null;if(_0x15b3f4){const _0x1e3c09=parseFloat(_0x15b3f4);(Ae['name']==='windows'&&(_0x1e3c09>=-0x43f*0x1+0x1cab+-0x17f4||_0x1e3c09===-0x1f93+-0x4a*-0x11+-0x6c7*-0x4)||Ae['name']==='android'&&_0x1e3c09>=-0x6*-0x2de+0x12d5+-0x2385)&&(_0x1ac308['antialias']=!(0x1176+0x130f+0x2484*-0x1),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x15b3f4));}}this['backBuffer'+'Antialias']=_0x1ac308['antialias']??!(0x1937+0x22d5+-0x1*0x3c0b),_0x1ac308['antialias']=!(0x53c*-0x1+-0x5*0x19+0x5ba);const _0x4e93f3=_0x1ac308['gl']??_0x53982f['getContext']('webgl2',_0x1ac308);if(!_0x4e93f3)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x4e93f3,this['isWebGL2']=!(0x1*0xe8f+-0x3f5*-0x8+-0x2e37),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x5768c3=Ae['browserNam'+'e']==='chrome',_0x3e9169=Ae['browserNam'+'e']==='safari',_0x31ece4=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x5*-0x757+-0x1ac9+-0x3b*0x2b);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x3e9169,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x31ece4&&_0x5768c3&&!_0x1ac308['alpha'],_0x53982f['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1633+0x1*0x1e9b+-0x867)),_0x53982f['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1e13*0x1+-0x3a+-0x50d*-0x6)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x3e9169&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x4e93f3['SAMPLER_2D'],_0x4e93f3['SAMPLER_CU'+'BE'],_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x4e93f3['INT_SAMPLE'+'R_2D'],_0x4e93f3['SAMPLER_2D'+'_SHADOW'],_0x4e93f3['SAMPLER_CU'+'BE_SHADOW'],_0x4e93f3['SAMPLER_3D'],_0x4e93f3['INT_SAMPLE'+'R_3D'],_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x4e93f3['SAMPLER_2D'+'_ARRAY'],_0x4e93f3['INT_SAMPLE'+'R_2D_ARRAY'],_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x4e93f3['REPEAT'],_0x4e93f3['CLAMP_TO_E'+'DGE'],_0x4e93f3['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x4e93f3['FUNC_ADD'],_0x4e93f3['FUNC_SUBTR'+'ACT'],_0x4e93f3['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x4e93f3['MIN'],_0x4e93f3['MAX']],this['glBlendFun'+'ctionColor']=[_0x4e93f3['ZERO'],_0x4e93f3['ONE'],_0x4e93f3['SRC_COLOR'],_0x4e93f3['ONE_MINUS_'+'SRC_COLOR'],_0x4e93f3['DST_COLOR'],_0x4e93f3['ONE_MINUS_'+'DST_COLOR'],_0x4e93f3['SRC_ALPHA'],_0x4e93f3['SRC_ALPHA_'+'SATURATE'],_0x4e93f3['ONE_MINUS_'+'SRC_ALPHA'],_0x4e93f3['DST_ALPHA'],_0x4e93f3['ONE_MINUS_'+'DST_ALPHA'],_0x4e93f3['CONSTANT_C'+'OLOR'],_0x4e93f3['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x4e93f3['ZERO'],_0x4e93f3['ONE'],_0x4e93f3['SRC_COLOR'],_0x4e93f3['ONE_MINUS_'+'SRC_COLOR'],_0x4e93f3['DST_COLOR'],_0x4e93f3['ONE_MINUS_'+'DST_COLOR'],_0x4e93f3['SRC_ALPHA'],_0x4e93f3['SRC_ALPHA_'+'SATURATE'],_0x4e93f3['ONE_MINUS_'+'SRC_ALPHA'],_0x4e93f3['DST_ALPHA'],_0x4e93f3['ONE_MINUS_'+'DST_ALPHA'],_0x4e93f3['CONSTANT_A'+'LPHA'],_0x4e93f3['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x4e93f3['NEVER'],_0x4e93f3['LESS'],_0x4e93f3['EQUAL'],_0x4e93f3['LEQUAL'],_0x4e93f3['GREATER'],_0x4e93f3['NOTEQUAL'],_0x4e93f3['GEQUAL'],_0x4e93f3['ALWAYS']],this['glStencilO'+'p']=[_0x4e93f3['KEEP'],_0x4e93f3['ZERO'],_0x4e93f3['REPLACE'],_0x4e93f3['INCR'],_0x4e93f3['INCR_WRAP'],_0x4e93f3['DECR'],_0x4e93f3['DECR_WRAP'],_0x4e93f3['INVERT']],this['glClearFla'+'g']=[0x16*0x15+-0x108e+0x760*0x2,_0x4e93f3['COLOR_BUFF'+'ER_BIT'],_0x4e93f3['DEPTH_BUFF'+'ER_BIT'],_0x4e93f3['COLOR_BUFF'+'ER_BIT']|_0x4e93f3['DEPTH_BUFF'+'ER_BIT'],_0x4e93f3['STENCIL_BU'+'FFER_BIT'],_0x4e93f3['STENCIL_BU'+'FFER_BIT']|_0x4e93f3['COLOR_BUFF'+'ER_BIT'],_0x4e93f3['STENCIL_BU'+'FFER_BIT']|_0x4e93f3['DEPTH_BUFF'+'ER_BIT'],_0x4e93f3['STENCIL_BU'+'FFER_BIT']|_0x4e93f3['COLOR_BUFF'+'ER_BIT']|_0x4e93f3['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x179e+0x3e4*-0x1+-0xdc1*-0x2,_0x4e93f3['BACK'],_0x4e93f3['FRONT'],_0x4e93f3['FRONT_AND_'+'BACK']],this['glFilter']=[_0x4e93f3['NEAREST'],_0x4e93f3['LINEAR'],_0x4e93f3['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x4e93f3['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x4e93f3['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x4e93f3['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x4e93f3['POINTS'],_0x4e93f3['LINES'],_0x4e93f3['LINE_LOOP'],_0x4e93f3['LINE_STRIP'],_0x4e93f3['TRIANGLES'],_0x4e93f3['TRIANGLE_S'+'TRIP'],_0x4e93f3['TRIANGLE_F'+'AN']],this['glType']=[_0x4e93f3['BYTE'],_0x4e93f3['UNSIGNED_B'+'YTE'],_0x4e93f3['SHORT'],_0x4e93f3['UNSIGNED_S'+'HORT'],_0x4e93f3['INT'],_0x4e93f3['UNSIGNED_I'+'NT'],_0x4e93f3['FLOAT'],_0x4e93f3['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x4e93f3['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x4e93f3['INT']]=_a,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x4e93f3['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x4e93f3['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x4e93f3['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x4e93f3['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x4e93f3['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x4e93f3['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x4e93f3['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x4e93f3['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x4e93f3['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x4e93f3['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x4e93f3['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x4e93f3['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x4e93f3['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x4e93f3['TEXTURE_2D']]=0x73*0x53+-0x8b5*-0x3+-0x3f68,this['targetToSl'+'ot'][_0x4e93f3['TEXTURE_CU'+'BE_MAP']]=-0xaca*0x1+-0x204a+0x2b15,this['targetToSl'+'ot'][_0x4e93f3['TEXTURE_3D']]=0xc1*-0x2+0x10ad+-0xf29;let _0x172312,_0x472cdc,_0x28d402,_0x4178a4,_0x44f194;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x5d3ffc,_0x4b883d){_0x5d3ffc['value']!==_0x4b883d&&(_0x4e93f3['uniform1i'](_0x5d3ffc['locationId'],_0x4b883d),_0x5d3ffc['value']=_0x4b883d);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0xce9d3d,_0xf4e8f2){_0xce9d3d['value']!==_0xf4e8f2&&(_0x4e93f3['uniform1f'](_0xce9d3d['locationId'],_0xf4e8f2),_0xce9d3d['value']=_0xf4e8f2);},this['commitFunc'+'tion'][ga]=function(_0x308e33,_0x184b11){_0x44f194=_0x308e33['value'],_0x172312=_0x184b11[-0x1b2d+0xcc8*0x1+0xb*0x14f],_0x472cdc=_0x184b11[-0x22d0+-0x6d*-0x59+-0x2*0x18a],(_0x44f194[-0x1109+0x4c1*0x5+-0x6bc]!==_0x172312||_0x44f194[-0x3b5+0x89f*0x4+0x12f*-0x1a]!==_0x472cdc)&&(_0x4e93f3['uniform2fv'](_0x308e33['locationId'],_0x184b11),_0x44f194[-0x469*0x1+-0x62c*0x6+-0x2971*-0x1]=_0x172312,_0x44f194[-0xc9a+-0x2*0xfcb+-0x4e9*-0x9]=_0x472cdc);},this['commitFunc'+'tion'][ds]=function(_0x3b4770,_0x4f494b){_0x44f194=_0x3b4770['value'],_0x172312=_0x4f494b[-0x1240*-0x1+-0xc12+-0x62e],_0x472cdc=_0x4f494b[0x13f2+0x178+-0x1569],_0x28d402=_0x4f494b[-0x97*0x1a+-0x9*0x27e+-0x5*-0x78e],(_0x44f194[0x1*0x25b0+0x2*0xd41+0x5d6*-0xb]!==_0x172312||_0x44f194[-0x1351+0x8cd*0x2+-0x37*-0x8]!==_0x472cdc||_0x44f194[-0xfda*-0x1+-0x1565+-0xcb*-0x7]!==_0x28d402)&&(_0x4e93f3['uniform3fv'](_0x3b4770['locationId'],_0x4f494b),_0x44f194[0xe4*-0xf+0x5*0x5a9+-0xef1]=_0x172312,_0x44f194[-0x3*-0x256+0x18d0+-0x1fd1]=_0x472cdc,_0x44f194[0x1214+-0x1*-0x1b27+-0x3*0xf13]=_0x28d402);},this['commitFunc'+'tion'][Rn]=function(_0x32006e,_0x1e44a3){_0x44f194=_0x32006e['value'],_0x172312=_0x1e44a3[-0x2*-0x133e+-0x50e+-0x216e],_0x472cdc=_0x1e44a3[0x25*-0xff+-0x7e7*-0x1+0x1cf5],_0x28d402=_0x1e44a3[0x619+-0x3*-0x19b+-0xae8],_0x4178a4=_0x1e44a3[0x65*-0x2e+0x282*0xd+0x1*-0xe71],(_0x44f194[0x9a6+-0x2*-0x107f+-0x2aa4]!==_0x172312||_0x44f194[0x2661+-0x1*0x1387+-0x12d9]!==_0x472cdc||_0x44f194[0x1*-0x1085+0x8*-0x262+-0x3*-0xbdd]!==_0x28d402||_0x44f194[-0x2*-0x10f3+0x3*-0x584+-0x1157*0x1]!==_0x4178a4)&&(_0x4e93f3['uniform4fv'](_0x32006e['locationId'],_0x1e44a3),_0x44f194[0x707+-0x9*0x293+0x1024]=_0x172312,_0x44f194[-0x2*-0x194+-0x215d+-0x1e36*-0x1]=_0x472cdc,_0x44f194[-0x27c+-0x82*-0x29+-0x1254]=_0x28d402,_0x44f194[0x2205*-0x1+0x4d*0x7b+-0x2f7]=_0x4178a4);},this['commitFunc'+'tion'][ca]=function(_0x8c36bf,_0x3f5034){_0x44f194=_0x8c36bf['value'],_0x172312=_0x3f5034[-0x1*0x23a1+0x11fa+-0x1*-0x11a7],_0x472cdc=_0x3f5034[-0x213f+0xeae+0x1292],(_0x44f194[0x1*-0x1c5e+0x188*0x14+-0x2*0x121]!==_0x172312||_0x44f194[0xf09+-0x1db7+0xeaf*0x1]!==_0x472cdc)&&(_0x4e93f3['uniform2iv'](_0x8c36bf['locationId'],_0x3f5034),_0x44f194[-0x1f0f*-0x1+0x22bc+-0x41cb]=_0x172312,_0x44f194[-0x621+0x7a8+-0x186]=_0x472cdc);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x279696,_0x4a4b9d){_0x44f194=_0x279696['value'],_0x172312=_0x4a4b9d[-0x21f4+-0xfad+-0x7*-0x717],_0x472cdc=_0x4a4b9d[0xe1b*0x1+-0x26c6+0x18ac],_0x28d402=_0x4a4b9d[0x31a*0x3+-0x4ac+-0x4a0],(_0x44f194[0x6*0x1f2+-0x1*-0xc6f+-0x181b]!==_0x172312||_0x44f194[0x2281+0x7*-0x273+0x3*-0x5c9]!==_0x472cdc||_0x44f194[-0x250+0x13b9+-0x1167]!==_0x28d402)&&(_0x4e93f3['uniform3iv'](_0x279696['locationId'],_0x4a4b9d),_0x44f194[-0x201e*-0x1+-0x1*-0x1e7+-0x2205]=_0x172312,_0x44f194[0x1*-0x1ca9+-0x101*0x1+0x1dab]=_0x472cdc,_0x44f194[-0x61b*-0x1+-0x1b65*-0x1+0x3*-0xb2a]=_0x28d402);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x1a7b8b,_0x542358){_0x44f194=_0x1a7b8b['value'],_0x172312=_0x542358[0x5*-0x696+-0x756+-0xd6c*-0x3],_0x472cdc=_0x542358[0xbbd+-0x11fe+0x6*0x10b],_0x28d402=_0x542358[-0x467+0x1a95+-0x162c],_0x4178a4=_0x542358[0x384+0x247e+-0x27ff*0x1],(_0x44f194[-0x57c+0xa55*0x2+-0x43*0x3a]!==_0x172312||_0x44f194[0x763*-0x1+-0x19b7+0x153*0x19]!==_0x472cdc||_0x44f194[-0x152*0x8+0x16f*0x19+-0x1945*0x1]!==_0x28d402||_0x44f194[-0xd12+-0x200c+0x2d21]!==_0x4178a4)&&(_0x4e93f3['uniform4iv'](_0x1a7b8b['locationId'],_0x542358),_0x44f194[0xa47+-0x1d1a+0x12d3]=_0x172312,_0x44f194[-0x74*0x34+0x163a+-0x7*-0x31]=_0x472cdc,_0x44f194[0x274+0x14c*-0x14+0x177e]=_0x28d402,_0x44f194[0x5*0x701+0x979+-0x2c7b]=_0x4178a4);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x20495b,_0x317d89){_0x4e93f3['uniformMat'+'rix2fv'](_0x20495b['locationId'],!(-0x19d+0x23bf*-0x1+0x779*0x5),_0x317d89);},this['commitFunc'+'tion'][On]=function(_0x591508,_0x29ba18){_0x4e93f3['uniformMat'+'rix3fv'](_0x591508['locationId'],!(0x2136*-0x1+0x26fa+-0x127*0x5),_0x29ba18);},this['commitFunc'+'tion'][li]=function(_0x27f98c,_0x5d576a){_0x4e93f3['uniformMat'+'rix4fv'](_0x27f98c['locationId'],!(-0x2467+0xda8+0x16c0),_0x5d576a);},this['commitFunc'+'tion'][ud]=function(_0x2623d5,_0x289859){_0x4e93f3['uniform1fv'](_0x2623d5['locationId'],_0x289859);},this['commitFunc'+'tion'][pd]=function(_0x59d029,_0x270829){_0x4e93f3['uniform2fv'](_0x59d029['locationId'],_0x270829);},this['commitFunc'+'tion'][md]=function(_0x508d2d,_0x30b605){_0x4e93f3['uniform3fv'](_0x508d2d['locationId'],_0x30b605);},this['commitFunc'+'tion'][Lp]=function(_0x4eac12,_0x50dee1){_0x4e93f3['uniform4fv'](_0x4eac12['locationId'],_0x50dee1);},this['commitFunc'+'tion'][Fn]=function(_0x3c85bb,_0x3d72ae){_0x3c85bb['value']!==_0x3d72ae&&(_0x4e93f3['uniform1ui'](_0x3c85bb['locationId'],_0x3d72ae),_0x3c85bb['value']=_0x3d72ae);},this['commitFunc'+'tion'][Nn]=function(_0x164a09,_0x1148f2){_0x44f194=_0x164a09['value'],_0x172312=_0x1148f2[0x17f1+0x1631+0x49d*-0xa],_0x472cdc=_0x1148f2[-0x31*-0x53+0xe5*-0xd+-0x441],(_0x44f194[0x223*-0x5+-0xe9*-0x29+0x3ce*-0x7]!==_0x172312||_0x44f194[-0x2f4*0x9+0x1307+0x78e]!==_0x472cdc)&&(_0x4e93f3['uniform2ui'+'v'](_0x164a09['locationId'],_0x1148f2),_0x44f194[-0x18ae+-0x7e1+-0x208f*-0x1]=_0x172312,_0x44f194[-0x1*-0x1529+0x1d*-0x14d+0x1091]=_0x472cdc);},this['commitFunc'+'tion'][kn]=function(_0x20b47f,_0x2e8031){_0x44f194=_0x20b47f['value'],_0x172312=_0x2e8031[0x1725+0x21a6+-0x38cb],_0x472cdc=_0x2e8031[0x26b4+0x58*0x5+-0x3*0xd79],_0x28d402=_0x2e8031[-0x1149+-0x27d+0x13c8],(_0x44f194[-0x1529+0x320+0x1*0x1209]!==_0x172312||_0x44f194[0x4b5*-0x6+0xfb3*0x2+-0x327*0x1]!==_0x472cdc||_0x44f194[-0xd34+0x1319+-0x5e3]!==_0x28d402)&&(_0x4e93f3['uniform3ui'+'v'](_0x20b47f['locationId'],_0x2e8031),_0x44f194[0xa*0x2f+0xa98*-0x3+0x1df2]=_0x172312,_0x44f194[-0xaa5*0x3+-0xd8b*0x1+0x2d7b]=_0x472cdc,_0x44f194[0x1f24+0x53b+0xc1f*-0x3]=_0x28d402);},this['commitFunc'+'tion'][Un]=function(_0x6ba9bd,_0x40ff75){_0x44f194=_0x6ba9bd['value'],_0x172312=_0x40ff75[-0x1c5+0x1337+0x1d*-0x9a],_0x472cdc=_0x40ff75[0x1db0+0x53*-0x35+-0xc80],_0x28d402=_0x40ff75[0x1*-0x1a89+-0x20f2+0x3b7d],_0x4178a4=_0x40ff75[-0x1*0x1f7b+0x5*0x1fd+0x9*0x265],(_0x44f194[0x1ee8+-0x18aa*-0x1+-0x3792]!==_0x172312||_0x44f194[-0x6*-0x321+0x79*0x44+-0x32e9]!==_0x472cdc||_0x44f194[-0x2190+0xf68+-0x1*-0x122a]!==_0x28d402||_0x44f194[0x1*-0x1836+-0x8fe+-0x2137*-0x1]!==_0x4178a4)&&(_0x4e93f3['uniform4ui'+'v'](_0x6ba9bd['locationId'],_0x40ff75),_0x44f194[-0x1*-0x1d5f+-0x12*0x20b+0x767]=_0x172312,_0x44f194[0x1c9d+-0x17*0x182+-0x206*-0x3]=_0x472cdc,_0x44f194[0x2*0x160+0x2*0x46a+-0x1*0xb92]=_0x28d402,_0x44f194[0x1965+0x9a*-0x1a+-0x9be]=_0x4178a4);},this['commitFunc'+'tion'][Bn]=function(_0x196761,_0x3944c8){_0x4e93f3['uniform1iv'](_0x196761['locationId'],_0x3944c8);},this['commitFunc'+'tion'][_d]=function(_0x58f9ea,_0x540d3d){_0x4e93f3['uniform1ui'+'v'](_0x58f9ea['locationId'],_0x540d3d);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x5bbe07,_0xc2f970){_0x4e93f3['uniform2iv'](_0x5bbe07['locationId'],_0xc2f970);},this['commitFunc'+'tion'][Sd]=function(_0x3e28e0,_0x3f5a55){_0x4e93f3['uniform2ui'+'v'](_0x3e28e0['locationId'],_0x3f5a55);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x5ace4b,_0x4b35de){_0x4e93f3['uniform3iv'](_0x5ace4b['locationId'],_0x4b35de);},this['commitFunc'+'tion'][vd]=function(_0x194f2e,_0x1bc417){_0x4e93f3['uniform3ui'+'v'](_0x194f2e['locationId'],_0x1bc417);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x2fe260,_0x480a50){_0x4e93f3['uniform4iv'](_0x2fe260['locationId'],_0x480a50);},this['commitFunc'+'tion'][Rp]=function(_0x5a30fa,_0x51b31e){_0x4e93f3['uniform4ui'+'v'](_0x5a30fa['locationId'],_0x51b31e);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0xaa013d,_0x17ea4b){_0x4e93f3['uniformMat'+'rix4fv'](_0xaa013d['locationId'],!(-0x1100+0xfef+0x112),_0x17ea4b);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x5d21c1=this['gl'];this['feedback']&&_0x5d21c1['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x2339+0x49d+-0x11*-0x1cd)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x2674+-0x1*0xe4d+0x232*-0xb)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x3ac407){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x3ac407;}['updateBack'+'bufferForm'+'at'](_0x466500){const _0x5dfe89=this['gl'];_0x5dfe89['bindFrameb'+'uffer'](_0x5dfe89['FRAMEBUFFE'+'R'],_0x466500);const _0x496435=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x496435?Ne:Cr;}['updateBack'+'buffer'](){const _0xfdaafc=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0xfdaafc)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1*0x19cd+-0x1470*0x1+0x2e3e*0x1),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x544176,_0x449de5){return new XT();}['createInde'+'xBufferImp'+'l'](_0x1a6bf5){return new qT(_0x1a6bf5);}['createShad'+'erImpl'](_0x95f110){return new JT(_0x95f110);}['createText'+'ureImpl'](_0x1616f8){return new ew(_0x1616f8);}['createRend'+'erTargetIm'+'pl'](_0x27709a){return new sw();}['pushMarker'](_0x3123a8){if(Ae['browser']&&window['spector']){const _0x41270b=Q['toString']();window['spector']['setMarker'](_0x41270b+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x166a26=Q['toString']();_0x166a26['length']?window['spector']['setMarker'](_0x166a26+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x53962e=this['gl'];let _0x3881c6='highp';if(_0x53962e['getShaderP'+'recisionFo'+'rmat']){const _0x2a0c63=_0x53962e['getShaderP'+'recisionFo'+'rmat'](_0x53962e['VERTEX_SHA'+'DER'],_0x53962e['HIGH_FLOAT']),_0x115a05=_0x53962e['getShaderP'+'recisionFo'+'rmat'](_0x53962e['VERTEX_SHA'+'DER'],_0x53962e['MEDIUM_FLO'+'AT']),_0x576542=_0x53962e['getShaderP'+'recisionFo'+'rmat'](_0x53962e['FRAGMENT_S'+'HADER'],_0x53962e['HIGH_FLOAT']),_0x54767f=_0x53962e['getShaderP'+'recisionFo'+'rmat'](_0x53962e['FRAGMENT_S'+'HADER'],_0x53962e['MEDIUM_FLO'+'AT']);if(_0x2a0c63&&_0x115a05&&_0x576542&&_0x54767f){const _0x355857=_0x2a0c63['precision']>0x1fa7+-0x1163+-0x1*0xe44&&_0x576542['precision']>0x20a6+-0x79*-0x27+0x5ad*-0x9,_0x335018=_0x115a05['precision']>0x2*-0x12be+0xc0*-0x27+0x42bc&&_0x54767f['precision']>-0x702+-0x19c9*-0x1+-0xd1*0x17;_0x355857||(_0x335018?(_0x3881c6='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x3881c6='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x3881c6;}['getExtensi'+'on'](){for(let _0x27aaf2=0x2230+0x1*0x14f7+0x1*-0x3727;_0x27aaf2<arguments['length'];_0x27aaf2++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x27aaf2])!==-(0x38*0x8+0xe*-0x80+0x541))return this['gl']['getExtensi'+'on'](arguments[_0x27aaf2]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x3f00d4=this['gl'];this['supportedE'+'xtensions']=_0x3f00d4['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x6c2+-0xd49+-0x1*-0x140b),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x2dbe8a=this['gl'];let _0x183830;const _0x54e682=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x1dceae=_0x2dbe8a['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x1dceae==null?void(0x8bf+-0x31*-0x8e+-0x11*0x21d):_0x1dceae['antialias'])??!(0x125d+0x5*0x5a2+-0xa*0x4a7),this['supportsSt'+'encil']=(_0x1dceae==null?void(-0x1*-0x1539+0x78*0x4c+0x1*-0x38d9):_0x1dceae['stencil'])??!(-0x1*0x9ad+0x101f*0x2+-0x1690),this['maxTexture'+'Size']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_3D_TEX'+'TURE_SIZE']),_0x183830=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x183830?_0x2dbe8a['getParamet'+'er'](_0x183830['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x183830?_0x2dbe8a['getParamet'+'er'](_0x183830['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x5ed5f6=/\bMali-G52+/,_0x1bc9dd=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x54e682['match'](_0x1bc9dd))&&!this['unmaskedRe'+'nderer']['match'](_0x5ed5f6),_0x183830=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x183830?_0x2dbe8a['getParamet'+'er'](_0x183830['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x7b5+0x1e92+-0x1*0x2646;const _0x49fb37=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x49fb37?_0x2dbe8a['getParamet'+'er'](_0x2dbe8a['MAX_SAMPLE'+'S']):0xc92*-0x1+-0x1e1f+-0x88a*-0x5,this['maxSamples']=Math['min'](this['maxSamples'],-0xf3e+0x25b0+-0x166e),this['samples']=_0x49fb37&&this['backBuffer'+'Antialias']?this['maxSamples']:0x1*-0x6cc+0xf47+-0xa*0xd9,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0xd*0x251+0x2*0x931+-0x3077&&(this['supportsAr'+'eaLights']=!(-0xd5*-0xc+-0x15*0xa7+0x3b8)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x261636=this['gl'];_0x261636['disable'](_0x261636['BLEND']),_0x261636['blendFunc'](_0x261636['ONE'],_0x261636['ZERO']),_0x261636['blendEquat'+'ion'](_0x261636['FUNC_ADD']),_0x261636['colorMask'](!(0x1bc7+0x1593+-0x315a*0x1),!(0x35f+0xe36+0x283*-0x7),!(0xecc+-0xdfe+-0xce),!(0x1860+0x25d8+0x4*-0xf8e)),_0x261636['blendColor'](0x5*-0x697+-0x2*0xab5+0x365d,-0x223f*0x1+-0x2*-0x949+0xfad*0x1,-0x1662+0x19dd*-0x1+0x303f,0x20f+-0x1f73+0x1*0x1d64),_0x261636['enable'](_0x261636['CULL_FACE']),this['cullFace']=_0x261636['BACK'],_0x261636['cullFace'](_0x261636['BACK']),_0x261636['enable'](_0x261636['DEPTH_TEST']),_0x261636['depthFunc'](_0x261636['LEQUAL']),_0x261636['depthMask'](!(-0xd*-0x1a6+-0x1341+-0x22d)),this['stencil']=!(-0x1e64+0x26e0*0x1+-0x87b),_0x261636['disable'](_0x261636['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x1a*0x7f+-0xdda+0x2*0x7a,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x8c4+0x253b*-0x1+0x1d76,_0x261636['stencilFun'+'c'](_0x261636['ALWAYS'],0x1*-0x16eb+0x62*0x65+0x1d*-0x8b,0x4cd*-0x3+0xcb+0xe9b),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=0x7*0x43+-0x8*-0x35f+-0x1bce,this['stencilWri'+'teMaskBack']=-0x83*-0x5+-0x5b+0x67*-0x3,_0x261636['stencilOp'](_0x261636['KEEP'],_0x261636['KEEP'],_0x261636['KEEP']),_0x261636['stencilMas'+'k'](-0x1b7c+0x42*-0x37+0x2aa9),this['alphaToCov'+'erage']=!(-0xa09+0x1c5*-0x13+0x2ba9),this['raster']=!(0x28*0x8+0x105b+-0x119b),_0x261636['disable'](_0x261636['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x261636['disable'](_0x261636['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x4*0x98+0x11e7+-0xf86*0x1),_0x261636['disable'](_0x261636['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x1432+0x140*-0x9+-0x8f1,_0x261636['clearDepth'](0x1154*0x2+0x223e+-0x44e5),this['clearColor']=new ie(-0x1ae9+0x7*0x1cb+-0x2*-0x72e,0x592*-0x2+0x1d8f+-0x3af*0x5,-0x4c7*-0x6+0x52*-0x5f+0x2*0xe2,0x145e+-0x1*-0x1505+-0x2963),_0x261636['clearColor'](-0x25f+0x20c1+-0x1e62,-0xef9+0xcdb+0x21e,0x12b1+0xc8e+-0x1f3f,0x7d3*0x2+-0x7c3*0x3+0x7a3),this['clearStenc'+'il']=-0x35f*0x3+-0x1*-0x233d+0x1*-0x1920,_0x261636['clearStenc'+'il'](-0x319*-0x1+0x6*-0x2cf+0xdc1),_0x261636['hint'](_0x261636['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x261636['NICEST']),_0x261636['enable'](_0x261636['SCISSOR_TE'+'ST']),_0x261636['pixelStore'+'i'](_0x261636['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x261636['NONE']),this['unpackFlip'+'Y']=!(-0x1*-0x2179+-0x7d2*-0x2+-0xc47*0x4),_0x261636['pixelStore'+'i'](_0x261636['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x459+-0x26ca+0x1f6*0x16)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x551*0x5+-0x2015+0x581*0x1),_0x261636['pixelStore'+'i'](_0x261636['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x10a9+0x179+-0x1221)),_0x261636['pixelStore'+'i'](_0x261636['UNPACK_ALI'+'GNMENT'],-0x156a+0x3+0x1568);}['initTextur'+'eUnits'](_0x5ab75b=0x203a+0x3b4+0x11ef*-0x2){this['textureUni'+'ts']=[];for(let _0x411663=-0xe2*-0xd+0x2dc+0xa*-0x16f;_0x411663<_0x5ab75b;_0x411663++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x8d5+0x241a*-0x1+0x1*0x2cef,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x4551e1 of this['shaders'])_0x4551e1['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x5212c6 of this['shaders'])_0x5212c6['restoreCon'+'text']();}['setViewpor'+'t'](_0x867e2c,_0x55b187,_0x4b6c2e,_0x4fc913){(this['vx']!==_0x867e2c||this['vy']!==_0x55b187||this['vw']!==_0x4b6c2e||this['vh']!==_0x4fc913)&&(this['gl']['viewport'](_0x867e2c,_0x55b187,_0x4b6c2e,_0x4fc913),this['vx']=_0x867e2c,this['vy']=_0x55b187,this['vw']=_0x4b6c2e,this['vh']=_0x4fc913);}['setScissor'](_0x538173,_0x592398,_0x41a877,_0x550eab){(this['sx']!==_0x538173||this['sy']!==_0x592398||this['sw']!==_0x41a877||this['sh']!==_0x550eab)&&(this['gl']['scissor'](_0x538173,_0x592398,_0x41a877,_0x550eab),this['sx']=_0x538173,this['sy']=_0x592398,this['sw']=_0x41a877,this['sh']=_0x550eab);}['setFramebu'+'ffer'](_0x292367){if(this['activeFram'+'ebuffer']!==_0x292367){const _0x348122=this['gl'];_0x348122['bindFrameb'+'uffer'](_0x348122['FRAMEBUFFE'+'R'],_0x292367),this['activeFram'+'ebuffer']=_0x292367;}}['copyRender'+'Target'](_0x3097ff,_0x1b111e,_0x1cf712,_0x3dbe94){var _0x55a4c0,_0x5a4aff;const _0x4fb729=this['gl'];if(_0x3097ff===this['backBuffer']&&(_0x3097ff=null),_0x1cf712){if(_0x1b111e){if(_0x3097ff){if(!_0x3097ff['_colorBuff'+'er']||!_0x1b111e['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x2613+-0x5*-0x52d+0x3ff3*-0x1);if(_0x3097ff['_colorBuff'+'er']['_format']!==_0x1b111e['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x426*0x8+-0x375+-0x1dba);}}else{if(!_0x3097ff['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x1*0x2513+-0x215c+0x1db*-0x2);}}if(_0x3dbe94&&_0x3097ff&&!_0x3097ff['_depth']){if(!_0x3097ff['_depthBuff'+'er']||!_0x1b111e['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x942+0x397+0x5ac);if(_0x3097ff['_depthBuff'+'er']['_format']!==_0x1b111e['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x5e*0x28+-0x24b*0x3+-0x29a*0x3);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x18a9ad=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x1b111e,this['updateBegi'+'n']();const _0x36ffd4=_0x3097ff?_0x3097ff['impl']['_glFrameBu'+'ffer']:(_0x55a4c0=this['backBuffer'])==null?void(0x13d8+0x1171+-0x5*0x775):_0x55a4c0['impl']['_glFrameBu'+'ffer'],_0xcdd00=_0x1b111e?_0x1b111e['impl']['_glFrameBu'+'ffer']:(_0x5a4aff=this['backBuffer'])==null?void(0xe94+-0xb92+0x16*-0x23):_0x5a4aff['impl']['_glFrameBu'+'ffer'];w['assert'](_0x36ffd4!==_0xcdd00,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x4fb729['bindFrameb'+'uffer'](_0x4fb729['READ_FRAME'+'BUFFER'],_0x36ffd4),_0x4fb729['bindFrameb'+'uffer'](_0x4fb729['DRAW_FRAME'+'BUFFER'],_0xcdd00);const _0x130e8e=_0x3097ff?_0x3097ff['width']:_0x1b111e?_0x1b111e['width']:this['width'],_0x250562=_0x3097ff?_0x3097ff['height']:_0x1b111e?_0x1b111e['height']:this['height'];return _0x4fb729['blitFrameb'+'uffer'](-0x269b+-0x970+0x300b,0x24c6+-0x1*-0x2559+-0x4a1f*0x1,_0x130e8e,_0x250562,0x15b8+0x12b4+0x1436*-0x2,0x4b4+-0x866*-0x2+-0x1580,_0x130e8e,_0x250562,(_0x1cf712?_0x4fb729['COLOR_BUFF'+'ER_BIT']:-0x1*-0x227f+-0x1*0x1d95+-0x4ea)|(_0x3dbe94?_0x4fb729['DEPTH_BUFF'+'ER_BIT']:-0x1f36+0xca*-0x9+-0x994*-0x4),_0x4fb729['NEAREST']),this['renderTarg'+'et']=_0x18a9ad,_0x4fb729['bindFrameb'+'uffer'](_0x4fb729['FRAMEBUFFE'+'R'],_0x18a9ad?_0x18a9ad['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0xefa+-0x64b+0x441*0x5);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x147cc8){const _0x254a5c=_0x147cc8['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x254a5c,w['assert'](_0x254a5c),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x147cc8['name']+'\x20RT:'+_0x254a5c['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x5bcb16,height:_0x1a1ba8}=_0x254a5c;this['setViewpor'+'t'](-0x377*0x4+0x5*0x1c3+-0x50d*-0x1,0x1367+-0x1d*0x7b+0x28*-0x23,_0x5bcb16,_0x1a1ba8),this['setScissor'](0x23e5+0x2c7+-0x1*0x26ac,0x5a4*0x1+0x16bb+-0x1c5f,_0x5bcb16,_0x1a1ba8);const _0x1c9410=_0x147cc8['colorOps'],_0x3d5279=_0x147cc8['depthStenc'+'ilOps'];if(_0x1c9410!=null&&_0x1c9410['clear']||_0x3d5279['clearDepth']||_0x3d5279['clearStenc'+'il']){let _0x54f4e6=0x1b0e*0x1+0x28b+-0x1d99;const _0x5c8cfe={};_0x1c9410!=null&&_0x1c9410['clear']&&(_0x54f4e6|=jo,_0x5c8cfe['color']=[_0x1c9410['clearValue']['r'],_0x1c9410['clearValue']['g'],_0x1c9410['clearValue']['b'],_0x1c9410['clearValue']['a']]),_0x3d5279['clearDepth']&&(_0x54f4e6|=Yo,_0x5c8cfe['depth']=_0x3d5279['clearDepth'+'Value']),_0x3d5279['clearStenc'+'il']&&(_0x54f4e6|=ch,_0x5c8cfe['stencil']=_0x3d5279['clearStenc'+'ilValue']),_0x5c8cfe['flags']=_0x54f4e6,this['clear'](_0x5c8cfe);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x8*0x4e+0x9d7+-0xc47),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0xe76078){var _0x4f9da3;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x5b78e9=this['renderTarg'+'et'],_0x3d81f0=_0xe76078['colorArray'+'Ops']['length'];if(_0x5b78e9){Da['length']=0x267c+0x2071+-0x46ed*0x1;const _0x3d53b9=this['gl'];for(let _0x5d21b6=-0x1fd+-0x25a8+0x27a5;_0x5d21b6<_0x3d81f0;_0x5d21b6++){const _0x4e2250=_0xe76078['colorArray'+'Ops'][_0x5d21b6];_0x4e2250['store']||_0x4e2250['resolve']||Da['push'](_0x3d53b9['COLOR_ATTA'+'CHMENT0']+_0x5d21b6);}_0x5b78e9!==this['backBuffer']&&(_0xe76078['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x3d53b9['DEPTH_ATTA'+'CHMENT']),_0xe76078['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x3d53b9['STENCIL_AT'+'TACHMENT'])),Da['length']>0xc48*-0x2+0x11e*0x19+-0x35e&&_0xe76078['fullSizeCl'+'earRect']&&_0x3d53b9['invalidate'+'Framebuffe'+'r'](_0x3d53b9['DRAW_FRAME'+'BUFFER'],Da),_0x3d81f0&&((_0x4f9da3=_0xe76078['colorOps'])!=null&&_0x4f9da3['resolve'])&&_0xe76078['samples']>0x1*0x179f+-0x1375*-0x1+-0x2b13*0x1&&_0x5b78e9['autoResolv'+'e']&&_0x5b78e9['resolve'](!(0xeab+-0x2*0xb29+0x7a7*0x1),!(0x1eb+0x2491+-0x1*0x267b)),_0x5b78e9['depthBuffe'+'r']&&_0xe76078['depthStenc'+'ilOps']['resolveDep'+'th']&&_0xe76078['samples']>-0x9d2+-0x1ee1+-0x412*-0xa&&_0x5b78e9['autoResolv'+'e']&&_0x5b78e9['resolve'](!(-0x3c*-0x52+0x3*-0x557+-0x2*0x199),!(0x2147+-0x132c+0x1*-0xe1b));for(let _0x59519c=-0xe63*0x2+0x47*0x61+0x1df*0x1;_0x59519c<_0x3d81f0;_0x59519c++)if(_0xe76078['colorArray'+'Ops'][_0x59519c]['genMipmaps']){const _0x43d89a=_0x5b78e9['_colorBuff'+'ers'][_0x59519c];_0x43d89a&&_0x43d89a['impl']['_glTexture']&&_0x43d89a['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x59519c),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x264c+-0x74f+-0x6*0x52a)),this['bindTextur'+'e'](_0x43d89a),this['gl']['generateMi'+'pmap'](_0x43d89a['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x11fe+0x3e*-0x55+0x2695),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x3e52bf){this['_defaultFr'+'amebuffer']!==_0x3e52bf&&(this['_defaultFr'+'amebuffer']=_0x3e52bf,this['_defaultFr'+'amebufferC'+'hanged']=!(0x152+0x7*0x2ea+0x22c*-0xa));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x2700ac=-0x69d+0x1d5f+-0x16c2;_0x2700ac<this['textureUni'+'ts']['length'];++_0x2700ac)for(let _0x23ef62=0x10*-0x71+0x7c6+-0xb6;_0x23ef62<-0x1*-0x1181+0x1eac+-0x302a;++_0x23ef62)this['textureUni'+'ts'][_0x2700ac][_0x23ef62]=null;}const _0x9dd0e0=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x9dd0e0);const _0x34995c=_0x9dd0e0['impl'];_0x34995c['initialize'+'d']||this['initRender'+'Target'](_0x9dd0e0),this['setFramebu'+'ffer'](_0x34995c['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x413fa2=this['renderTarg'+'et'];if(_0x413fa2&&_0x413fa2!==this['backBuffer']){_0x413fa2['_samples']>-0xf81+0x1dc3+-0xe41&&_0x413fa2['autoResolv'+'e']&&_0x413fa2['resolve']();const _0x30bda7=_0x413fa2['_colorBuff'+'er'];_0x30bda7&&_0x30bda7['impl']['_glTexture']&&_0x30bda7['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1*0xc5d+0x3*-0xc91+0x3211)),this['bindTextur'+'e'](_0x30bda7),this['gl']['generateMi'+'pmap'](_0x30bda7['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x3e6542){if(this['unpackFlip'+'Y']!==_0x3e6542){this['unpackFlip'+'Y']=_0x3e6542;const _0x3b00e7=this['gl'];_0x3b00e7['pixelStore'+'i'](_0x3b00e7['UNPACK_FLI'+'P_Y_WEBGL'],_0x3e6542);}}['setUnpackP'+'remultiply'+'Alpha'](_0x1780ed){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x1780ed){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x1780ed;const _0x37a987=this['gl'];_0x37a987['pixelStore'+'i'](_0x37a987['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x1780ed);}}['activeText'+'ure'](_0x7a8592){this['textureUni'+'t']!==_0x7a8592&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x7a8592),this['textureUni'+'t']=_0x7a8592);}['bindTextur'+'e'](_0x53761d){const _0x193cee=_0x53761d['impl'],_0x40790a=_0x193cee['_glTarget'],_0x144294=_0x193cee['_glTexture'],_0x33bf83=this['textureUni'+'t'],_0x312b6b=this['targetToSl'+'ot'][_0x40790a];this['textureUni'+'ts'][_0x33bf83][_0x312b6b]!==_0x144294&&(this['gl']['bindTextur'+'e'](_0x40790a,_0x144294),this['textureUni'+'ts'][_0x33bf83][_0x312b6b]=_0x144294);}['bindTextur'+'eOnUnit'](_0x244f26,_0x5946cb){const _0x33a1e0=_0x244f26['impl'],_0x212ccc=_0x33a1e0['_glTarget'],_0x25677f=_0x33a1e0['_glTexture'],_0x22093e=this['targetToSl'+'ot'][_0x212ccc];this['textureUni'+'ts'][_0x5946cb][_0x22093e]!==_0x25677f&&(this['activeText'+'ure'](_0x5946cb),this['gl']['bindTextur'+'e'](_0x212ccc,_0x25677f),this['textureUni'+'ts'][_0x5946cb][_0x22093e]=_0x25677f);}['setTexture'+'Parameters'](_0x229f39){const _0x595245=this['gl'],_0x11a52f=_0x229f39['impl']['dirtyParam'+'eterFlags'],_0x2fd6b4=_0x229f39['impl']['_glTarget'];if(_0x11a52f&Ay){let _0x596fc2=_0x229f39['_minFilter'];(!_0x229f39['_mipmaps']||_0x229f39['_compresse'+'d']&&_0x229f39['_levels']['length']===-0x3*-0xc63+0x9*0xa3+-0x1*0x2ae3)&&(_0x596fc2===Kh||_0x596fc2===Zh?_0x596fc2=Te:(_0x596fc2===Qh||_0x596fc2===ma)&&(_0x596fc2=vt)),_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x596fc2]);}if(_0x11a52f&Cy&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x229f39['_magFilter']]),_0x11a52f&Py&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x229f39['_addressU']]),_0x11a52f&My&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x229f39['_addressV']]),_0x11a52f&Dy&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x229f39['_addressW']]),_0x11a52f&Iy&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_CO'+'MPARE_MODE'],_0x229f39['_compareOn'+'Read']?_0x595245['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x595245['NONE']),_0x11a52f&Ly&&_0x595245['texParamet'+'eri'](_0x2fd6b4,_0x595245['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x229f39['_compareFu'+'nc']]),_0x11a52f&Ry){const _0x25b6ec=this['extTexture'+'FilterAnis'+'otropic'];_0x25b6ec&&_0x595245['texParamet'+'erf'](_0x2fd6b4,_0x25b6ec['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x229f39['_anisotrop'+'y']),-0x1*-0x166f+-0x10*-0x5+-0x16be,this['maxAnisotr'+'opy']));}}['setTexture'](_0x53d395,_0xe14d3d){const _0x25cc1f=_0x53d395['impl'];_0x25cc1f['_glTexture']||_0x25cc1f['initialize'](this,_0x53d395),_0x25cc1f['dirtyParam'+'eterFlags']>0x2*-0xfdd+0xa25+0x1595||_0x53d395['_needsUplo'+'ad']||_0x53d395['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0xe14d3d),this['bindTextur'+'e'](_0x53d395),_0x25cc1f['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x53d395),_0x25cc1f['dirtyParam'+'eterFlags']=-0x1*0x23e9+0x1dfa+-0x7*-0xd9),(_0x53d395['_needsUplo'+'ad']||_0x53d395['_needsMipm'+'apsUpload'])&&(_0x25cc1f['upload'](this,_0x53d395),_0x53d395['_needsUplo'+'ad']=!(-0xf21+0x1*-0x1f9a+0x2ebc),_0x53d395['_needsMipm'+'apsUpload']=!(-0xeec*0x1+-0x1bcc+0x1*0x2ab9))):this['bindTextur'+'eOnUnit'](_0x53d395,_0xe14d3d);}['createVert'+'exArray'](_0x17aeea){let _0x2d2df7,_0x362531;const _0x2d0135=_0x17aeea['length']>0x16f+0x255e+-0x26cc;if(_0x2d0135){_0x2d2df7='';for(let _0x35d25a=-0x26a6+-0x1d5f+0xb*0x62f;_0x35d25a<_0x17aeea['length'];_0x35d25a++){const _0x4c5132=_0x17aeea[_0x35d25a];_0x2d2df7+=_0x4c5132['id']+_0x4c5132['format']['renderingH'+'ash'];}_0x362531=this['_vaoMap']['get'](_0x2d2df7);}if(!_0x362531){const _0x457e9d=this['gl'];_0x362531=_0x457e9d['createVert'+'exArray'](),_0x457e9d['bindVertex'+'Array'](_0x362531),_0x457e9d['bindBuffer'](_0x457e9d['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x81e18d=!(-0xa2*0x1+-0xa3e+0x22d*0x5);for(let _0x3a1525=-0x29a+0x25b5+-0x231b;_0x3a1525<_0x17aeea['length'];_0x3a1525++){const _0x3647ea=_0x17aeea[_0x3a1525];_0x457e9d['bindBuffer'](_0x457e9d['ARRAY_BUFF'+'ER'],_0x3647ea['impl']['bufferId']);const _0x768460=_0x3647ea['format']['elements'];for(let _0x4df7b5=0x1*-0x1bd4+0x365*-0xb+0x53*0xc9;_0x4df7b5<_0x768460['length'];_0x4df7b5++){const _0x52898b=_0x768460[_0x4df7b5],_0x130513=Le[_0x52898b['name']];_0x130513===0x24da+-0xd64+-0x1776&&(_0x81e18d=!(0x220d+-0x1*-0x4dd+-0x26ea)),_0x52898b['asInt']?_0x457e9d['vertexAttr'+'ibIPointer'](_0x130513,_0x52898b['numCompone'+'nts'],this['glType'][_0x52898b['dataType']],_0x52898b['stride'],_0x52898b['offset']):_0x457e9d['vertexAttr'+'ibPointer'](_0x130513,_0x52898b['numCompone'+'nts'],this['glType'][_0x52898b['dataType']],_0x52898b['normalize'],_0x52898b['stride'],_0x52898b['offset']),_0x457e9d['enableVert'+'exAttribAr'+'ray'](_0x130513),_0x3647ea['format']['instancing']&&_0x457e9d['vertexAttr'+'ibDivisor'](_0x130513,-0x8a1*0x3+-0x6*-0x4cd+-0x2ea);}}_0x457e9d['bindVertex'+'Array'](null),_0x457e9d['bindBuffer'](_0x457e9d['ARRAY_BUFF'+'ER'],null),_0x2d0135&&this['_vaoMap']['set'](_0x2d2df7,_0x362531),_0x81e18d||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x362531;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x39ebfa){const _0x485abf=this['gl'];let _0x279ee7;if(this['vertexBuff'+'ers']['length']===0x1f82+-0x2644+0x6c3){const _0x3dcc3d=this['vertexBuff'+'ers'][0x86e+0x26*0x2+-0x8ba];w['assert'](_0x3dcc3d['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x3dcc3d['impl']['vao']||(_0x3dcc3d['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x279ee7=_0x3dcc3d['impl']['vao'];}else _0x279ee7=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x279ee7&&(this['boundVao']=_0x279ee7,_0x485abf['bindVertex'+'Array'](_0x279ee7));const _0x2065ad=_0x39ebfa?_0x39ebfa['impl']['bufferId']:null;_0x485abf['bindBuffer'](_0x485abf['ELEMENT_AR'+'RAY_BUFFER'],_0x2065ad);}['draw'](_0x2ab0c2,_0x3f9c13,_0x8b3101,_0x3f1f81,_0x3e2edf=!(-0x4ff+0x21d2+-0x1cd3*0x1),_0x1a3f07=!(0x46*0x24+-0x1adf*-0x1+0x1*-0x24b7)){const _0x921ac5=this['shader'];if(_0x921ac5&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x3a2f6f=this['gl'];_0x3e2edf&&(w['call'](()=>{var _0xe6f22e,_0x305218;return this['validateAt'+'tributes'](this['shader'],(_0xe6f22e=this['vertexBuff'+'ers'][0x2*0xb9b+0x18ae+-0x2fe4])==null?void(-0x1*0xccd+-0x25ae+-0x327b*-0x1):_0xe6f22e['format'],(_0x305218=this['vertexBuff'+'ers'][-0x2*0x69e+-0x1aee+0x282b])==null?void(-0xee2+0x49*0x3a+-0x1a8):_0x305218['format']);}),this['setBuffers'](_0x3f9c13));let _0x499c37=-0xd8+0x58f*0x3+-0xfd5;const _0x30930d=_0x921ac5['impl']['samplers'];for(let _0xc20e07=0x5*-0x275+-0x4*0x7cd+-0xe7f*-0x3,_0x3cb359=_0x30930d['length'];_0xc20e07<_0x3cb359;_0xc20e07++){const _0x22a301=_0x30930d[_0xc20e07];let _0x3b033c=_0x22a301['scopeId']['value'];if(!_0x3b033c){const _0x3a4754=_0x22a301['scopeId']['name'];w['assert'](_0x3a4754!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x3a4754!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x3a4754==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x3b033c=fa(this,'white')),_0x3a4754==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x3b033c=fa(this,'pink')),_0x3b033c||(w['errorOnce']('Shader\x20'+_0x921ac5['name']+'\x20requires\x20'+_0x3a4754+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x921ac5),_0x3b033c=fa(this,'pink'));}if(_0x3b033c instanceof _e){const _0x49742d=_0x3b033c;this['setTexture'](_0x49742d,_0x499c37),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x45d+-0xfe8+0xb8d&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x49742d?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x49742d}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x49742d&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x49742d})),_0x22a301['slot']!==_0x499c37&&(_0x3a2f6f['uniform1i'](_0x22a301['locationId'],_0x499c37),_0x22a301['slot']=_0x499c37),_0x499c37++;}else{_0x22a301['array']['length']=0x20*-0x6b+0x22*-0x79+0x1d72;const _0x45c0fb=_0x3b033c['length'];for(let _0x1504f6=0x1*-0xe2+0xbb*0x31+-0x22e9;_0x1504f6<_0x45c0fb;_0x1504f6++){const _0x5a1c83=_0x3b033c[_0x1504f6];this['setTexture'](_0x5a1c83,_0x499c37),_0x22a301['array'][_0x1504f6]=_0x499c37,_0x499c37++;}_0x3a2f6f['uniform1iv'](_0x22a301['locationId'],_0x22a301['array']);}}const _0x4f86f4=_0x921ac5['impl']['uniforms'];for(let _0x1a0d36=-0x3d*0x9f+-0x26dd+0x4cc0,_0x40b714=_0x4f86f4['length'];_0x1a0d36<_0x40b714;_0x1a0d36++){const _0x2679f9=_0x4f86f4[_0x1a0d36],_0x1861da=_0x2679f9['scopeId'],_0x30038c=_0x2679f9['version'],_0xd67bc4=_0x1861da['versionObj'+'ect']['version'];if(_0x30038c['globalId']!==_0xd67bc4['globalId']||_0x30038c['revision']!==_0xd67bc4['revision']){_0x30038c['globalId']=_0xd67bc4['globalId'],_0x30038c['revision']=_0xd67bc4['revision'];const _0x50fc8e=_0x1861da['value'];_0x50fc8e!=null?this['commitFunc'+'tion'][_0x2679f9['dataType']](_0x2679f9,_0x50fc8e):w['warnOnce']('Shader\x20['+_0x921ac5['label']+(']\x20requires'+'\x20uniform\x20[')+_0x2679f9['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x3a2f6f['bindBuffer'+'Base'](_0x3a2f6f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1*-0x136e+-0x19*0x77+0x1f0d,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x3a2f6f['beginTrans'+'formFeedba'+'ck'](_0x3a2f6f['POINTS']));const _0x2d7e61=this['glPrimitiv'+'e'][_0x2ab0c2['type']],_0x428f3a=_0x2ab0c2['count'];if(_0x2ab0c2['indexed']){w['assert'](_0x3f9c13['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x37b757=_0x3f9c13['impl']['glFormat'],_0x295db9=_0x2ab0c2['base']*_0x3f9c13['bytesPerIn'+'dex'];_0x8b3101>-0x5*-0x5b1+0xba9+-0x316*0xd?_0x3a2f6f['drawElemen'+'tsInstance'+'d'](_0x2d7e61,_0x428f3a,_0x37b757,_0x295db9,_0x8b3101):_0x3a2f6f['drawElemen'+'ts'](_0x2d7e61,_0x428f3a,_0x37b757,_0x295db9);}else{const _0x298b01=_0x2ab0c2['base'];_0x8b3101>0xd*0x24b+-0x1060+0x13*-0xb5?_0x3a2f6f['drawArrays'+'Instanced'](_0x2d7e61,_0x298b01,_0x428f3a,_0x8b3101):_0x3a2f6f['drawArrays'](_0x2d7e61,_0x298b01,_0x428f3a);}this['transformF'+'eedbackBuf'+'fer']&&(_0x3a2f6f['endTransfo'+'rmFeedback'](),_0x3a2f6f['bindBuffer'+'Base'](_0x3a2f6f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x7a9*-0x1+0xf35+-0x1*0x16de,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x2ab0c2['type']]+=_0x2ab0c2['count']*(_0x8b3101>-0x1*0x13ad+0x35*0xa9+0x1*-0xf4f?_0x8b3101:-0x2559+0x2*-0xb5f+0x3c18);}_0x1a3f07&&this['clearVerte'+'xBuffer']();}['clear'](_0x250ce2){const _0x56abac=this['defaultCle'+'arOptions'];_0x250ce2=_0x250ce2||_0x56abac;const _0x3dbbf9=_0x250ce2['flags']??_0x56abac['flags'];if(_0x3dbbf9!==-0x1*-0x3e5+-0x1d75+0x664*0x4){const _0x53b73a=this['gl'];if(_0x3dbbf9&jo){const _0x57d9fc=_0x250ce2['color']??_0x56abac['color'],_0x34d9db=_0x57d9fc[-0x23e5*0x1+-0x22d1+0x46b6],_0x3f3a20=_0x57d9fc[0x1b0a+0x22fa+-0x3e03],_0x2fbda1=_0x57d9fc[-0x95*-0x1d+-0x247e+0x139f],_0x477029=_0x57d9fc[0xbb4+-0x137d*-0x1+-0xd*0x266],_0x98ab1c=this['clearColor'];(_0x34d9db!==_0x98ab1c['r']||_0x3f3a20!==_0x98ab1c['g']||_0x2fbda1!==_0x98ab1c['b']||_0x477029!==_0x98ab1c['a'])&&(this['gl']['clearColor'](_0x34d9db,_0x3f3a20,_0x2fbda1,_0x477029),this['clearColor']['set'](_0x34d9db,_0x3f3a20,_0x2fbda1,_0x477029)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x3dbbf9&Yo){const _0x345d04=_0x250ce2['depth']??_0x56abac['depth'];_0x345d04!==this['clearDepth']&&(this['gl']['clearDepth'](_0x345d04),this['clearDepth']=_0x345d04),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x3dbbf9&ch){const _0x261685=_0x250ce2['stencil']??_0x56abac['stencil'];_0x261685!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x261685),this['clearStenc'+'il']=_0x261685),_0x53b73a['stencilMas'+'k'](0x107+0xf83+0xad*-0x17),this['stencilWri'+'teMaskFron'+'t']=-0x7ce+-0x1d3*-0x3+0x354,this['stencilWri'+'teMaskBack']=-0x2*0xf49+-0x1e1f+0x3db0;}_0x53b73a['clear'](this['glClearFla'+'g'][_0x3dbbf9]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x2fbbb8,_0x3daedb,_0x2fe490,_0x29b74a,_0x5e6e90){const _0x71c8a1=this['gl'];_0x71c8a1['readPixels'](_0x2fbbb8,_0x3daedb,_0x2fe490,_0x29b74a,_0x71c8a1['RGBA'],_0x71c8a1['UNSIGNED_B'+'YTE'],_0x5e6e90);}['clientWait'+'Async'](_0x377ba8,_0x4a09ff){const _0x4470b7=this['gl'],_0x10f9df=_0x4470b7['fenceSync'](_0x4470b7['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x1*-0x8df+0x264d+0x1d6e*-0x1);return this['submit'](),new Promise((_0x512e24,_0x3c5226)=>{function _0x43396a(){const _0x5cfab9=_0x4470b7['clientWait'+'Sync'](_0x10f9df,_0x377ba8,0x1*0xb11+0x3e*0x1a+-0x7f*0x23);_0x5cfab9===_0x4470b7['TIMEOUT_EX'+'PIRED']?setTimeout(_0x43396a,_0x4a09ff):(_0x4470b7['deleteSync'](_0x10f9df),_0x5cfab9===_0x4470b7['WAIT_FAILE'+'D']?_0x3c5226(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x512e24());}_0x43396a();});}async['readPixels'+'Async'](_0x19f6e6,_0x28ab00,_0x119705,_0x56a224,_0x2ef0c1){var _0x66c1e1;const _0xbc4021=this['gl'],_0x5b8639=(_0x66c1e1=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1e6+0x7b9+-0x99f):_0x66c1e1['impl'],_0x5603c1=(_0x5b8639==null?void(-0x21f3*-0x1+-0x125*-0x18+0x3d6b*-0x1):_0x5b8639['_glFormat'])??_0xbc4021['RGBA'],_0x2b7069=(_0x5b8639==null?void(0x4cd*0x1+-0x1*-0x1f2d+-0x2*0x11fd):_0x5b8639['_glPixelTy'+'pe'])??_0xbc4021['UNSIGNED_B'+'YTE'],_0x3633ac=_0xbc4021['createBuff'+'er']();return _0xbc4021['bindBuffer'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],_0x3633ac),_0xbc4021['bufferData'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],_0x2ef0c1['byteLength'],_0xbc4021['STREAM_REA'+'D']),_0xbc4021['readPixels'](_0x19f6e6,_0x28ab00,_0x119705,_0x56a224,_0x5603c1,_0x2b7069,-0x1eb*-0x6+0x131d+-0xd*0x25b),_0xbc4021['bindBuffer'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x1eb*0x12+0x1507+0xd7f,0xe*-0x126+-0xa79+0x3*0x8df),_0xbc4021['bindBuffer'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],_0x3633ac),_0xbc4021['getBufferS'+'ubData'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],-0x5a+0x7*0x1d+0x71*-0x1,_0x2ef0c1),_0xbc4021['bindBuffer'](_0xbc4021['PIXEL_PACK'+'_BUFFER'],null),_0xbc4021['deleteBuff'+'er'](_0x3633ac),_0x2ef0c1;}['readTextur'+'eAsync'](_0x1e04be,_0x2b44b2,_0x129dd2,_0x47c6e9,_0x7b2504,_0x154977){const _0x54ed6a=_0x154977['face']??0x4a0+-0x1*0x2051+0x3*0x93b,_0x147983=_0x154977['renderTarg'+'et']??new gt({'colorBuffer':_0x1e04be,'depth':!(0x1*-0x1584+0x2201+0x1*-0xc7c),'face':_0x54ed6a});w['assert'](_0x147983['colorBuffe'+'r']===_0x1e04be);const _0x4b8bd0=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x47c6e9,_0x7b2504,0x1*0xf65+-0x1ca1+0xd3d,_0x1e04be['_format'])),_0x25c6a7=_0x154977['data']??new(my(_0x1e04be['_format']))(_0x4b8bd0);return this['setRenderT'+'arget'](_0x147983),this['initRender'+'Target'](_0x147983),new Promise((_0x289770,_0x4bce43)=>{this['readPixels'+'Async'](_0x2b44b2,_0x129dd2,_0x47c6e9,_0x7b2504,_0x25c6a7)['then'](_0x14d779=>{_0x154977['renderTarg'+'et']||_0x147983['destroy'](),_0x289770(_0x14d779);})['catch'](_0x4bce43);});}async['writeTextu'+'reAsync'](_0x8e8b29,_0xf234ee,_0x1fc05b,_0x58ec3c,_0x544218,_0x469568){const _0x12a04a=this['gl'],_0x370fb4=_0x8e8b29['impl'],_0x316438=(_0x370fb4==null?void(0x2072+-0x13ae+0x26*-0x56):_0x370fb4['_glFormat'])??_0x12a04a['RGBA'],_0x1e489d=(_0x370fb4==null?void(-0x1*-0x2048+0x1ec3+0x3f0b*-0x1):_0x370fb4['_glPixelTy'+'pe'])??_0x12a04a['UNSIGNED_B'+'YTE'],_0x3d12c6=_0x12a04a['createBuff'+'er']();_0x12a04a['bindBuffer'](_0x12a04a['PIXEL_UNPA'+'CK_BUFFER'],_0x3d12c6),_0x12a04a['bufferData'](_0x12a04a['PIXEL_UNPA'+'CK_BUFFER'],_0x469568,_0x12a04a['STREAM_DRA'+'W']),_0x12a04a['bindTextur'+'e'](_0x12a04a['TEXTURE_2D'],_0x370fb4['_glTexture']),_0x12a04a['texSubImag'+'e2D'](_0x12a04a['TEXTURE_2D'],-0x1efb+0x7*0x435+0xc4*0x2,_0xf234ee,_0x1fc05b,_0x58ec3c,_0x544218,_0x316438,_0x1e489d,-0x29*-0x35+-0xadd+-0x130*-0x2),_0x12a04a['bindBuffer'](_0x12a04a['PIXEL_UNPA'+'CK_BUFFER'],null),_0x8e8b29['_needsUplo'+'ad']=!(-0x17f9+0xd47*0x1+-0x1*-0xab3),_0x8e8b29['_mipmapsUp'+'loaded']=!(-0x213d+-0x12fa+0x3438),await this['clientWait'+'Async'](0xe9a+0xa1e+0x38*-0x71,-0x20c9+0x20c8+0x11*0x1);}['setAlphaTo'+'Coverage'](_0x203bcc){this['alphaToCov'+'erage']!==_0x203bcc&&(this['alphaToCov'+'erage']=_0x203bcc,_0x203bcc?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x67768b){if(this['transformF'+'eedbackBuf'+'fer']!==_0x67768b){this['transformF'+'eedbackBuf'+'fer']=_0x67768b;const _0x3812e5=this['gl'];_0x67768b?(this['feedback']||(this['feedback']=_0x3812e5['createTran'+'sformFeedb'+'ack']()),_0x3812e5['bindTransf'+'ormFeedbac'+'k'](_0x3812e5['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x3812e5['bindTransf'+'ormFeedbac'+'k'](_0x3812e5['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x5c0fe5){this['raster']!==_0x5c0fe5&&(this['raster']=_0x5c0fe5,_0x5c0fe5?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x58f263){if(this['stencil']!==_0x58f263){const _0x41b3a4=this['gl'];_0x58f263?_0x41b3a4['enable'](_0x41b3a4['STENCIL_TE'+'ST']):_0x41b3a4['disable'](_0x41b3a4['STENCIL_TE'+'ST']),this['stencil']=_0x58f263;}}['setStencil'+'Func'](_0x495cd6,_0x571c9f,_0x3535e0){(this['stencilFun'+'cFront']!==_0x495cd6||this['stencilRef'+'Front']!==_0x571c9f||this['stencilMas'+'kFront']!==_0x3535e0||this['stencilFun'+'cBack']!==_0x495cd6||this['stencilRef'+'Back']!==_0x571c9f||this['stencilMas'+'kBack']!==_0x3535e0)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x495cd6],_0x571c9f,_0x3535e0),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x495cd6,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x571c9f,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x3535e0);}['setStencil'+'FuncFront'](_0x43792a,_0x88b181,_0x30c574){if(this['stencilFun'+'cFront']!==_0x43792a||this['stencilRef'+'Front']!==_0x88b181||this['stencilMas'+'kFront']!==_0x30c574){const _0x5848f8=this['gl'];_0x5848f8['stencilFun'+'cSeparate'](_0x5848f8['FRONT'],this['glComparis'+'on'][_0x43792a],_0x88b181,_0x30c574),this['stencilFun'+'cFront']=_0x43792a,this['stencilRef'+'Front']=_0x88b181,this['stencilMas'+'kFront']=_0x30c574;}}['setStencil'+'FuncBack'](_0x1c7cb4,_0x1b1f6e,_0x56506d){if(this['stencilFun'+'cBack']!==_0x1c7cb4||this['stencilRef'+'Back']!==_0x1b1f6e||this['stencilMas'+'kBack']!==_0x56506d){const _0x2a19b3=this['gl'];_0x2a19b3['stencilFun'+'cSeparate'](_0x2a19b3['BACK'],this['glComparis'+'on'][_0x1c7cb4],_0x1b1f6e,_0x56506d),this['stencilFun'+'cBack']=_0x1c7cb4,this['stencilRef'+'Back']=_0x1b1f6e,this['stencilMas'+'kBack']=_0x56506d;}}['setStencil'+'Operation'](_0x327d14,_0x259b32,_0x5e617c,_0x19e39b){(this['stencilFai'+'lFront']!==_0x327d14||this['stencilZfa'+'ilFront']!==_0x259b32||this['stencilZpa'+'ssFront']!==_0x5e617c||this['stencilFai'+'lBack']!==_0x327d14||this['stencilZfa'+'ilBack']!==_0x259b32||this['stencilZpa'+'ssBack']!==_0x5e617c)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x327d14],this['glStencilO'+'p'][_0x259b32],this['glStencilO'+'p'][_0x5e617c]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x327d14,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x259b32,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x5e617c),(this['stencilWri'+'teMaskFron'+'t']!==_0x19e39b||this['stencilWri'+'teMaskBack']!==_0x19e39b)&&(this['gl']['stencilMas'+'k'](_0x19e39b),this['stencilWri'+'teMaskFron'+'t']=_0x19e39b,this['stencilWri'+'teMaskBack']=_0x19e39b);}['setStencil'+'OperationF'+'ront'](_0x44b715,_0xc1938a,_0x4fc3bd,_0x2b53b6){(this['stencilFai'+'lFront']!==_0x44b715||this['stencilZfa'+'ilFront']!==_0xc1938a||this['stencilZpa'+'ssFront']!==_0x4fc3bd)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x44b715],this['glStencilO'+'p'][_0xc1938a],this['glStencilO'+'p'][_0x4fc3bd]),this['stencilFai'+'lFront']=_0x44b715,this['stencilZfa'+'ilFront']=_0xc1938a,this['stencilZpa'+'ssFront']=_0x4fc3bd),this['stencilWri'+'teMaskFron'+'t']!==_0x2b53b6&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x2b53b6),this['stencilWri'+'teMaskFron'+'t']=_0x2b53b6);}['setStencil'+'OperationB'+'ack'](_0x97876d,_0x212f51,_0x2b90ed,_0x27625b){(this['stencilFai'+'lBack']!==_0x97876d||this['stencilZfa'+'ilBack']!==_0x212f51||this['stencilZpa'+'ssBack']!==_0x2b90ed)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x97876d],this['glStencilO'+'p'][_0x212f51],this['glStencilO'+'p'][_0x2b90ed]),this['stencilFai'+'lBack']=_0x97876d,this['stencilZfa'+'ilBack']=_0x212f51,this['stencilZpa'+'ssBack']=_0x2b90ed),this['stencilWri'+'teMaskBack']!==_0x27625b&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x27625b),this['stencilWri'+'teMaskBack']=_0x27625b);}['setBlendSt'+'ate'](_0x256743){const _0x19bca9=this['blendState'];if(!_0x19bca9['equals'](_0x256743)){const _0x11dff3=this['gl'],{blend:_0xa3260d,colorOp:_0x4aaa90,alphaOp:_0x6c86f,colorSrcFactor:_0x51b01f,colorDstFactor:_0x5bb91c,alphaSrcFactor:_0x41b144,alphaDstFactor:_0x433ea6}=_0x256743;if(_0x19bca9['blend']!==_0xa3260d&&(_0xa3260d?_0x11dff3['enable'](_0x11dff3['BLEND']):_0x11dff3['disable'](_0x11dff3['BLEND'])),_0x19bca9['colorOp']!==_0x4aaa90||_0x19bca9['alphaOp']!==_0x6c86f){const _0x561723=this['glBlendEqu'+'ation'];_0x11dff3['blendEquat'+'ionSeparat'+'e'](_0x561723[_0x4aaa90],_0x561723[_0x6c86f]);}(_0x19bca9['colorSrcFa'+'ctor']!==_0x51b01f||_0x19bca9['colorDstFa'+'ctor']!==_0x5bb91c||_0x19bca9['alphaSrcFa'+'ctor']!==_0x41b144||_0x19bca9['alphaDstFa'+'ctor']!==_0x433ea6)&&_0x11dff3['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x51b01f],this['glBlendFun'+'ctionColor'][_0x5bb91c],this['glBlendFun'+'ctionAlpha'][_0x41b144],this['glBlendFun'+'ctionAlpha'][_0x433ea6]),_0x19bca9['allWrite']!==_0x256743['allWrite']&&this['gl']['colorMask'](_0x256743['redWrite'],_0x256743['greenWrite'],_0x256743['blueWrite'],_0x256743['alphaWrite']),_0x19bca9['copy'](_0x256743);}}['setBlendCo'+'lor'](_0x7105d3,_0x35c86e,_0x52645b,_0x32edf7){const _0x56bf71=this['blendColor'];(_0x7105d3!==_0x56bf71['r']||_0x35c86e!==_0x56bf71['g']||_0x52645b!==_0x56bf71['b']||_0x32edf7!==_0x56bf71['a'])&&(this['gl']['blendColor'](_0x7105d3,_0x35c86e,_0x52645b,_0x32edf7),_0x56bf71['set'](_0x7105d3,_0x35c86e,_0x52645b,_0x32edf7));}['setStencil'+'State'](_0x9de77c,_0x4b30b9){_0x9de77c||_0x4b30b9?(this['setStencil'+'Test'](!(0x1*0x1a2b+0x7f8+-0x2223)),_0x9de77c===_0x4b30b9?(this['setStencil'+'Func'](_0x9de77c['func'],_0x9de77c['ref'],_0x9de77c['readMask']),this['setStencil'+'Operation'](_0x9de77c['fail'],_0x9de77c['zfail'],_0x9de77c['zpass'],_0x9de77c['writeMask'])):(_0x9de77c??(_0x9de77c=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x9de77c['func'],_0x9de77c['ref'],_0x9de77c['readMask']),this['setStencil'+'OperationF'+'ront'](_0x9de77c['fail'],_0x9de77c['zfail'],_0x9de77c['zpass'],_0x9de77c['writeMask']),_0x4b30b9??(_0x4b30b9=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x4b30b9['func'],_0x4b30b9['ref'],_0x4b30b9['readMask']),this['setStencil'+'OperationB'+'ack'](_0x4b30b9['fail'],_0x4b30b9['zfail'],_0x4b30b9['zpass'],_0x4b30b9['writeMask']))):this['setStencil'+'Test'](!(0x1b1+0x2*0x844+0x8*-0x247));}['setDepthSt'+'ate'](_0x20b479){const _0x5f5b1d=this['depthState'];if(!_0x5f5b1d['equals'](_0x20b479)){const _0x33a270=this['gl'],_0x4e0906=_0x20b479['write'];_0x5f5b1d['write']!==_0x4e0906&&_0x33a270['depthMask'](_0x4e0906);let {func:_0x4e7b97,test:_0x5c5524}=_0x20b479;!_0x5c5524&&_0x4e0906&&(_0x5c5524=!(-0x1a2e*0x1+-0x17fa+0x3228),_0x4e7b97=Wi),_0x5f5b1d['func']!==_0x4e7b97&&_0x33a270['depthFunc'](this['glComparis'+'on'][_0x4e7b97]),_0x5f5b1d['test']!==_0x5c5524&&(_0x5c5524?_0x33a270['enable'](_0x33a270['DEPTH_TEST']):_0x33a270['disable'](_0x33a270['DEPTH_TEST']));const {depthBias:_0x29977f,depthBiasSlope:_0x122f64}=_0x20b479;_0x29977f||_0x122f64?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0xb2*0x36+0x1d25+-0x42b1),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x33a270['polygonOff'+'set'](_0x122f64,_0x29977f)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1c62+0x4*-0x373+-0xe95),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5f5b1d['copy'](_0x20b479);}}['setCullMod'+'e'](_0x361668){if(this['cullMode']!==_0x361668){if(_0x361668===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x302f14=this['glCull'][_0x361668];this['cullFace']!==_0x302f14&&(this['gl']['cullFace'](_0x302f14),this['cullFace']=_0x302f14);}this['cullMode']=_0x361668;}}['setShader'](_0x153ed6,_0x18c491=!(0x18ab+0x2278+-0x3b22)){_0x153ed6!==this['shader']&&(this['shader']=_0x153ed6,this['shaderAsyn'+'cCompile']=_0x18c491,this['shaderVali'+'d']=void(-0x7ae+-0x8f0*-0x2+-0x57*0x1e),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x2b9219}=this,{impl:_0x4ba146}=_0x2b9219;this['shaderVali'+'d']===void(-0x1540+0x1ecb+-0x98b)&&(_0x2b9219['failed']?this['shaderVali'+'d']=!(0x9*0xfe+0x1*0x240b+-0x167c*0x2):_0x2b9219['ready']||(this['shaderAsyn'+'cCompile']?_0x4ba146['isLinked'](this)?_0x4ba146['finalize'](this,_0x2b9219)||(_0x2b9219['failed']=!(-0x133*-0x14+0xb56+-0x19b*0x16),this['shaderVali'+'d']=!(-0x7f6*0x4+0x1d16+-0x7*-0x65)):this['shaderVali'+'d']=!(-0x295+0x4d*-0x29+0xc9*0x13):_0x4ba146['finalize'](this,_0x2b9219)||(_0x2b9219['failed']=!(0x161c+0x139b+0x1*-0x29b7),this['shaderVali'+'d']=!(0x172c+-0x6*-0x1c2+0x3bf*-0x9)))),this['shaderVali'+'d']===void(-0x15b7+0x2315+-0x3a*0x3b)&&(this['gl']['useProgram'](_0x4ba146['glProgram']),this['shaderVali'+'d']=!(-0x233*-0xb+-0x3f9+-0x1438));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x46acfd=this['gl'];this['_vaoMap']['forEach']((_0xc24baa,_0x365cf0,_0x43a783)=>{_0x46acfd['deleteVert'+'exArray'](_0xc24baa);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x26fa08){_0x26fa08?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x47c401=-0x563*0x7+0x1*-0xc64+0x5*0xa19){const _0x5db448=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x5db448['loseContex'+'t'](),setTimeout(()=>_0x5db448['restoreCon'+'text'](),_0x47c401);}}let nw=-0x1*-0xc1f+0x1*-0x1543+0x924;class br{constructor(_0x4d7553,_0x386f9c,_0x4dc091,_0x17a504=ms,_0x430003,_0x4db6f3){this['device']=_0x4d7553,this['format']=_0x386f9c,this['numIndices']=_0x4dc091,this['usage']=_0x17a504,this['id']=nw++,this['impl']=_0x4d7553['createInde'+'xBufferImp'+'l'](this,_0x4db6f3);const _0x1005bd=hT[_0x386f9c];this['bytesPerIn'+'dex']=_0x1005bd,this['numBytes']=this['numIndices']*_0x1005bd,_0x430003?this['setData'](_0x430003):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x4d7553['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5bcff0=this['device'],_0x432230=_0x5bcff0['buffers']['indexOf'](this);_0x432230!==-(-0x1c02+0x50*0x43+0x713)&&_0x5bcff0['buffers']['splice'](_0x432230,-0xa80*-0x2+-0x1b93+0x694),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5bcff0),this['adjustVram'+'SizeTracki'+'ng'](_0x5bcff0['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3850c6,_0x390f07){w['trace'](j0,this['id']+'\x20size:\x20'+_0x390f07+'\x20vram.ib:\x20'+_0x3850c6['ib']+'\x20=>\x20'+(_0x3850c6['ib']+_0x390f07)),_0x3850c6['ib']+=_0x390f07;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x28ef30){return _0x28ef30['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x28ef30['byteLength']),!(0x14cf+-0x9ca+-0xf*0xbc)):(this['storage']=_0x28ef30,this['unlock'](),!(0x63*0x31+-0x1*0x264e+0x135b));}['_lockTyped'+'Array'](){const _0x57b0a0=this['lock']();return this['format']===wr?new Uint32Array(_0x57b0a0):this['format']===Yi?new Uint16Array(_0x57b0a0):new Uint8Array(_0x57b0a0);}['writeData'](_0x11e7f5,_0x5e13f5){const _0x1a4673=this['_lockTyped'+'Array']();if(_0x11e7f5['length']>_0x5e13f5){if(ArrayBuffer['isView'](_0x11e7f5))_0x11e7f5=_0x11e7f5['subarray'](-0x32*-0xd+0x101c+-0x2*0x953,_0x5e13f5),_0x1a4673['set'](_0x11e7f5);else{for(let _0x49427a=0x118+-0xe09+-0x1*-0xcf1;_0x49427a<_0x5e13f5;_0x49427a++)_0x1a4673[_0x49427a]=_0x11e7f5[_0x49427a];}}else _0x1a4673['set'](_0x11e7f5);this['unlock']();}['readData'](_0x505ba5){const _0x924701=this['_lockTyped'+'Array'](),_0x3d20ab=this['numIndices'];if(ArrayBuffer['isView'](_0x505ba5))_0x505ba5['set'](_0x924701);else{_0x505ba5['length']=-0x116+0x1*-0x259f+0x26b5;for(let _0x2cec01=-0x1dcb+0x1ca8+0x123;_0x2cec01<_0x3d20ab;_0x2cec01++)_0x505ba5[_0x2cec01]=_0x924701[_0x2cec01];}return _0x3d20ab;}}class ow{constructor(){h(this,'clearValue',new ie(0x1f*-0x8f+-0x25b2+0x3703,0x2434+-0x16de+-0xd56,0xb*0x119+-0x1*-0xeb9+-0x1acc,0x1c7f+0x19*0x159+-0x3e2f)),h(this,'clearValue'+'Linear',new ie(-0x1df7+0x71d+0x16da,0x67*-0x1+0x1b65+-0x1afe,-0x16ec+-0x439+0x1b25,-0x8*0x83+-0x2*0xcfe+0x1e15)),h(this,'clear',!(-0x121f*0x1+-0x2d*-0xc2+-0xffa)),h(this,'store',!(0x6b*0x11+0x1*0x1309+-0x1a23)),h(this,'resolve',!(-0x108d+0x240f+-0x1382*0x1)),h(this,'genMipmaps',!(-0x7c*-0x3+0x214c*0x1+-0x22bf));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x3d*0xa+0xa2a+0xb5*-0xb),h(this,'clearStenc'+'ilValue',0x1f*0xa7+-0x155b+0x1d*0xa),h(this,'clearDepth',!(0x1537*0x1+0x1e98+0x2ba*-0x13)),h(this,'clearStenc'+'il',!(-0x342+0xe31+-0xaee)),h(this,'storeDepth',!(0x1*0x243f+0x1cf7+-0x4135)),h(this,'resolveDep'+'th',!(0x1433*-0x1+-0x6e*-0x2+0x8*0x26b)),h(this,'storeStenc'+'il',!(-0x9d*-0x13+-0x1d16+0x1170));}}class ys{constructor(_0x42d8d0){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x2b*0x9c+-0x7*-0x397+0x11*-0x305)),h(this,'_skipStart',!(-0xc76+0x1043+-0x3cc)),h(this,'_skipEnd',!(0xa92+-0x4c2+-0x5cf)),h(this,'executeEna'+'bled',!(-0x33c+-0x342+0x67e)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x13f3+0x1a0d+-0x2e*0x100),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0xdf*-0x7+0x33f*0x9+-0x171e)),h(this,'fullSizeCl'+'earRect',!(0x1*-0x761+-0x2354+0x2ab5)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x42d8d0),this['device']=_0x42d8d0);}get['colorOps'](){return this['colorArray'+'Ops'][0x1c62+-0x860+-0x1402];}set['name'](_0x1f12e9){this['_name']=_0x1f12e9;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0xce6af2){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0xce6af2;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x22ab8b){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x22ab8b;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x2a6f9d){this['_options']=_0x2a6f9d,_0x2a6f9d&&(this['scaleX']=this['scaleX']??0xe80+0xc80+-0x1aff,this['scaleY']=this['scaleY']??-0x29*0x36+0x13c*0x2+0x62f);}get['options'](){return this['_options'];}['init'](_0x3504f7=null,_0x347447){this['options']=_0x347447,this['renderTarg'+'et']=_0x3504f7,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x2267*0x1+-0x2f5*0xb+0x42ef),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x7aa840,_0x4d379d,_0xdb167b,_0xea3b0c;const _0xb47fe5=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0xb47fe5!=null&&_0xb47fe5['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x26ed+0xdd7+-0x34c4));const _0x5742a0=_0xb47fe5?((_0x7aa840=_0xb47fe5['_colorBuff'+'ers'])==null?void(0x1*0x5bd+0x1*-0x154b+0x2*0x7c7):_0x7aa840['length'])??-0x34c*0x1+-0xa0f+0xd5b:0x6d*0x44+0x183c+-0x352f;this['colorArray'+'Ops']['length']=-0x1*-0x2e7+0x1*0xe4d+-0x1134;for(let _0x165550=-0x60e+0x1*-0x2187+0x2795;_0x165550<_0x5742a0;_0x165550++){const _0x51159e=new ow();this['colorArray'+'Ops'][_0x165550]=_0x51159e,this['samples']===-0x1e*-0x45+0x21*-0x65+-0x4f0*-0x1&&(_0x51159e['store']=!(0x35*-0x30+0xf98+-0x5a8),_0x51159e['resolve']=!(-0x51+0x2*-0xc1a+0x2*0xc43));const _0x2126eb=(_0xdb167b=(_0x4d379d=this['renderTarg'+'et'])==null?void(-0x433+0x33b*-0xb+-0x2*-0x13de):_0x4d379d['_colorBuff'+'ers'])==null?void(-0x104e+0x1795+-0x747):_0xdb167b[_0x165550];if((_0xea3b0c=this['renderTarg'+'et'])!=null&&_0xea3b0c['mipmaps']&&(_0x2126eb!=null&&_0x2126eb['mipmaps'])){const _0x4d094f=dn(_0x2126eb['_format']);_0x51159e['genMipmaps']=!_0x4d094f;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x15f405=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x25ad79=Math['floor'](_0x15f405['width']*this['scaleX']),_0x48d3d5=Math['floor'](_0x15f405['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x25ad79,_0x48d3d5);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x2adbc1){this['_enabled']!==_0x2adbc1&&(this['_enabled']=_0x2adbc1,_0x2adbc1?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x47920f){const _0x1f2507=this['colorArray'+'Ops']['length'];for(let _0x2176af=0x5*0x467+-0xbf*0x5+0x1a*-0xb4;_0x2176af<_0x1f2507;_0x2176af++){const _0x325ee0=this['colorArray'+'Ops'][_0x2176af];_0x47920f&&(_0x325ee0['clearValue']['copy'](_0x47920f),_0x325ee0['clearValue'+'Linear']['linear'](_0x47920f)),_0x325ee0['clear']=!!_0x47920f;}}['setClearDe'+'pth'](_0x4b7540){_0x4b7540&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x4b7540),this['depthStenc'+'ilOps']['clearDepth']=_0x4b7540!==void(-0x4f*0x23+-0x786+-0x1253*-0x1);}['setClearSt'+'encil'](_0x38a6a8){_0x38a6a8&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x38a6a8),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x38a6a8!==void(-0x95b*0x2+-0x152e+-0x2e*-0xde);}['render'](){if(this['enabled']){const _0x1f2e24=this['device'],_0x44610a=this['renderTarg'+'et']!==void(0x9a3*0x3+-0xf2c+-0xdbd);w['call'](()=>{this['log'](_0x1f2e24,_0x1f2e24['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x44610a&&!this['_skipStart']&&_0x1f2e24['startRende'+'rPass'](this),this['execute'](),_0x44610a&&!this['_skipEnd']&&_0x1f2e24['endRenderP'+'ass'](this)),this['after'](),_0x1f2e24['renderPass'+'Index']++;}}['log'](_0x403560,_0x44dbc9=0x1f97+0x2460+-0x43f7){var _0x2e538c,_0xc17cd0,_0x429cb1;if(mi['get'](Pm)||mi['get'](cn)){const _0x2d53d6=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x403560['backBuffer']:null),_0x259ccc=!!(_0x2d53d6!=null&&_0x2d53d6['impl']['assignedCo'+'lorTexture'])||(_0x2d53d6==null?void(0x20de+0x1e13*-0x1+-0x5*0x8f):_0x2d53d6['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xfc0+0x842*-0x1+0x1802),_0x290153=((_0x2e538c=_0x2d53d6==null?void(0x1154*-0x2+-0x4ef*-0x2+-0xa7*-0x26):_0x2d53d6['_colorBuff'+'ers'])==null?void(-0x1ca*-0xd+-0x1*-0x6f+0x4bd*-0x5):_0x2e538c['length'])??(_0x259ccc?-0xa63+-0x125*-0x7+0x261:0xe6d+0xd0f*-0x1+-0x5*0x46),_0x273425=_0x2d53d6==null?void(0x2625+-0xd0a+-0x191b):_0x2d53d6['depth'],_0xa67a63=_0x2d53d6==null?void(0x1099+0x1358+-0x3*0xbfb):_0x2d53d6['stencil'],_0x4f9ffc=_0x2d53d6==null?void(0x2682+-0xcd7+-0x1*0x19ab):_0x2d53d6['mipLevel'],_0x1788e4=_0x2d53d6?'\x20RT:\x20'+(_0x2d53d6?_0x2d53d6['name']:'NULL')+'\x20'+(_0x290153>0x61*-0x43+0x4f*-0x47+0x2f4c?'[Color'+(_0x290153>-0x3a0*-0x7+0x1df*0x13+0x22d*-0x1c?'\x20x\x20'+_0x290153:'')+']':'')+(_0x273425?'[Depth]':'')+(_0xa67a63?'[Stencil]':'')+'\x20'+_0x2d53d6['width']+'\x20x\x20'+_0x2d53d6['height']+(this['samples']>0x6*0x371+0xb8c+-0x1*0x2032?'\x20samples:\x20'+this['samples']:'')+(_0x4f9ffc>0x40a+-0x10c5+-0xcbb*-0x1?'\x20mipLevel:'+'\x20'+_0x4f9ffc:''):'',_0x34e5c4=this['_skipStart']?'++':_0x44dbc9['toString']()['padEnd'](0x1154+0x164*0x11+0x147b*-0x2,'\x20');w['trace'](Pm,_0x34e5c4+':\x20'+this['name']['padEnd'](-0xb*0x175+-0x227*-0x1+-0x2*-0x6fa,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x1788e4['padEnd'](-0x7a2+0x9bf*0x1+-0x1ff));for(let _0x41d09d=0x46*0x5f+-0xb4e+-0x139*0xc;_0x41d09d<_0x290153;_0x41d09d++){const _0x43645d=this['colorArray'+'Ops'][_0x41d09d],_0x1d8548=(_0xc17cd0=Nt['get'](_0x259ccc?_0x403560['backBuffer'+'Format']:_0x2d53d6['getColorBu'+'ffer'](_0x41d09d)['format']))==null?void(0xe71+0x1a85+-0x28f6):_0xc17cd0['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x41d09d+']:\x20'+(_0x43645d['clear']?'clear':'load')+'->'+(_0x43645d['store']?'store':'discard')+'\x20'+(_0x43645d['resolve']?'resolve\x20':'')+(_0x43645d['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x1d8548+']\x20'+(_0x43645d['clear']?'[clear:\x20'+_0x43645d['clearValue']['toString'](!(-0xfc5+0x112+0x1*0xeb3),!(0x2567+-0x1ed2+-0x5*0x151))+']':''));}if(this['depthStenc'+'ilOps']){const _0x5b2588=''+(_0x2d53d6['depthBuffe'+'r']?'\x20[format:\x20'+((_0x429cb1=Nt['get'](_0x2d53d6['depthBuffe'+'r']['format']))==null?void(-0x2517+0x33*0x5b+0x12f6):_0x429cb1['name'])+']':'');_0x273425&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x5b2588+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0xa67a63&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x5b2588+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x2edc72){this['array'][this['index']]=_0x2edc72;}function hw(_0x5284d1,_0x477f98){this['array'][this['index']]=_0x5284d1,this['array'][this['index']+(-0x2336*-0x1+-0x1593+0x2*-0x6d1)]=_0x477f98;}function dw(_0x406f6b,_0xdcd62c,_0x26b187){this['array'][this['index']]=_0x406f6b,this['array'][this['index']+(-0x1*0xefb+0x1*0x936+0x5c6)]=_0xdcd62c,this['array'][this['index']+(0x82a+-0x24b*-0xb+-0x2161)]=_0x26b187;}function fw(_0xeafa68,_0x5b9643,_0x64886f,_0x4eba59){this['array'][this['index']]=_0xeafa68,this['array'][this['index']+(0x326+-0x13ed+0x10c8)]=_0x5b9643,this['array'][this['index']+(-0x3*-0x821+0x163d+0x132*-0x27)]=_0x64886f,this['array'][this['index']+(0x1081+-0x5b4+-0xaca)]=_0x4eba59;}function uw(_0x3b2d94,_0x5e232c,_0x4ca42d){this['array'][_0x3b2d94]=_0x5e232c[_0x4ca42d];}function pw(_0x3a7bbf,_0x2d29c4,_0x1091fe){this['array'][_0x3a7bbf]=_0x2d29c4[_0x1091fe],this['array'][_0x3a7bbf+(-0x1*-0x9f2+-0x293*0xe+0x1a19)]=_0x2d29c4[_0x1091fe+(-0x5*-0x487+0x248*-0x1+-0x145a)];}function mw(_0x32f844,_0x5b2db6,_0x1441a3){this['array'][_0x32f844]=_0x5b2db6[_0x1441a3],this['array'][_0x32f844+(0xf36+-0x10dc+0x1a7)]=_0x5b2db6[_0x1441a3+(0x47*-0x59+0x1cf*-0xb+0x65*0x71)],this['array'][_0x32f844+(0x559*0x2+0x5*-0x65e+0x1526)]=_0x5b2db6[_0x1441a3+(-0x1b8c+0x376+0x1818)];}function _w(_0x22af65,_0x29adae,_0x8d88b5){this['array'][_0x22af65]=_0x29adae[_0x8d88b5],this['array'][_0x22af65+(-0x4*-0x7b5+0x1fae+-0x3e81)]=_0x29adae[_0x8d88b5+(0x1673+0x83+-0x16f5)],this['array'][_0x22af65+(-0x98*0x4+0x2090*0x1+-0x1e2e)]=_0x29adae[_0x8d88b5+(-0x1712+-0x1b6b*-0x1+0x457*-0x1)],this['array'][_0x22af65+(0x1612+-0x1fc6*0x1+-0x33d*-0x3)]=_0x29adae[_0x8d88b5+(0x1970+0x18ea*0x1+0x107*-0x31)];}function gw(_0x3e3fde,_0x531362,_0x3e1bd8){_0x531362[_0x3e1bd8]=this['array'][_0x3e3fde];}function Sw(_0x2ebd5f,_0x49ea71,_0x1df3b7){_0x49ea71[_0x1df3b7]=this['array'][_0x2ebd5f],_0x49ea71[_0x1df3b7+(-0x2420+-0x193*0x1+0x2*0x12da)]=this['array'][_0x2ebd5f+(-0x21ff+0x57b*-0x6+0x2171*0x2)];}function yw(_0x8542d3,_0x37df85,_0x40926a){_0x37df85[_0x40926a]=this['array'][_0x8542d3],_0x37df85[_0x40926a+(-0x159*-0x19+0x3ea*0x5+-0x3542)]=this['array'][_0x8542d3+(0x79*0x22+0xbc2+0x1a3*-0x11)],_0x37df85[_0x40926a+(-0x1*-0x181d+0x1a71+0x14*-0x287)]=this['array'][_0x8542d3+(0x18f+-0xa*0x15b+0x7*0x1b7)];}function vw(_0x26d3ad,_0x2c3e41,_0x27bf65){_0x2c3e41[_0x27bf65]=this['array'][_0x26d3ad],_0x2c3e41[_0x27bf65+(0x21b6+-0x463*0x8+0x163)]=this['array'][_0x26d3ad+(-0x189+-0xd50+-0x1*-0xeda)],_0x2c3e41[_0x27bf65+(0x16b2+-0x178*-0xa+0x4*-0x958)]=this['array'][_0x26d3ad+(0x16d0+-0xace+-0xc*0x100)],_0x2c3e41[_0x27bf65+(-0x1*-0x100f+-0x25a2+0x399*0x6)]=this['array'][_0x26d3ad+(0x1*0x2305+-0x1*0x6d7+-0x1c2b)];}class xw{constructor(_0x1eb9af,_0x58d638,_0x48aec0){switch(this['index']=0x1f23+0x13d0+-0x32f3,this['numCompone'+'nts']=_0x58d638['numCompone'+'nts'],_0x48aec0['interleave'+'d']?this['array']=new wn[_0x58d638['dataType']](_0x1eb9af,_0x58d638['offset']):this['array']=new wn[_0x58d638['dataType']](_0x1eb9af,_0x58d638['offset'],_0x48aec0['vertexCoun'+'t']*_0x58d638['numCompone'+'nts']),this['stride']=_0x58d638['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x58d638['numCompone'+'nts']){case-0x38c+0x13e8+0x4f*-0x35:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0xa64+-0xe81+0x18e7:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x1834+-0x895*0x1+0x9*-0x1bc:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0xe2+-0x21d5*0x1+0x22bb:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x4c3b35){return this['array'][this['index']+_0x4c3b35];}['set'](_0x25c696,_0x1ee743,_0x5c896a,_0x34b615){}['getToArray'](_0x2250fe,_0x3144a7,_0x180ddd){}['setFromArr'+'ay'](_0x18dc78,_0x32a7b7,_0x4d953e){}}class Uo{constructor(_0x43ee58){this['vertexBuff'+'er']=_0x43ee58,this['vertexForm'+'atSize']=_0x43ee58['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x5f692=this['vertexBuff'+'er']['getFormat']();for(let _0x2f5b65=-0xa*-0x1de+-0x731*0x5+0x1149;_0x2f5b65<_0x5f692['elements']['length'];_0x2f5b65++){const _0xa6f19e=_0x5f692['elements'][_0x2f5b65];this['accessors'][_0x2f5b65]=new xw(this['buffer'],_0xa6f19e,_0x5f692),this['element'][_0xa6f19e['name']]=this['accessors'][_0x2f5b65];}}['next'](_0x52f351=0xd5b+-0x56e+-0x7ec){let _0x611840=0x263*-0x9+-0x49*0x39+-0x14*-0x1e3;const _0x2b66dd=this['accessors'],_0x4549aa=this['accessors']['length'];for(;_0x611840<_0x4549aa;){const _0x4706ed=_0x2b66dd[_0x611840++];_0x4706ed['index']+=_0x52f351*_0x4706ed['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x32bc40,_0x4be11d,_0x5a9b9d){const _0x1a58fd=this['element'][_0x32bc40];if(_0x1a58fd){_0x5a9b9d>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x5a9b9d+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x5a9b9d=this['vertexBuff'+'er']['numVertice'+'s']);const _0x44f928=_0x1a58fd['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x4ac3d0=0x886+-0xc75+-0x13*-0x35;for(let _0x45d686=0x1f6a*-0x1+-0x138e+0x32f8*0x1;_0x45d686<_0x5a9b9d;_0x45d686++)_0x1a58fd['setFromArr'+'ay'](_0x4ac3d0,_0x4be11d,_0x45d686*_0x44f928),_0x4ac3d0+=_0x1a58fd['stride'];}else{if(_0x4be11d['length']>_0x5a9b9d*_0x44f928){const _0x277210=_0x5a9b9d*_0x44f928;if(ArrayBuffer['isView'](_0x4be11d))_0x4be11d=_0x4be11d['subarray'](-0x2ab*-0x3+-0xa98+0x297,_0x277210),_0x1a58fd['array']['set'](_0x4be11d);else{for(let _0x1dde7a=0x29*-0x35+-0x231d+-0x2b9a*-0x1;_0x1dde7a<_0x277210;_0x1dde7a++)_0x1a58fd['array'][_0x1dde7a]=_0x4be11d[_0x1dde7a];}}else _0x1a58fd['array']['set'](_0x4be11d);}}}['readData'](_0x4e51b6,_0x2ac81c){const _0x372315=this['element'][_0x4e51b6];let _0x363319=0x61*-0x2e+-0x1a53+-0x2bc1*-0x1;if(_0x372315){_0x363319=this['vertexBuff'+'er']['numVertice'+'s'];let _0x4e7aec;const _0x359ca8=_0x372315['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2ac81c)&&(_0x2ac81c['length']=-0x34f+0x195*0x12+-0x17b*0x11),_0x372315['index']=0x12f2+-0x4b*0x63+0x203*0x5;let _0x193388=0xf2d+0x268b*-0x1+0x175e;for(_0x4e7aec=0x7*0x33d+0x9*-0x3b7+0xac4;_0x4e7aec<_0x363319;_0x4e7aec++)_0x372315['getToArray'](_0x193388,_0x2ac81c,_0x4e7aec*_0x359ca8),_0x193388+=_0x372315['stride'];}else{if(ArrayBuffer['isView'](_0x2ac81c))_0x2ac81c['set'](_0x372315['array']);else{_0x2ac81c['length']=-0x10*0x24e+0x1ab1*-0x1+0x3f91;const _0x4cdba2=_0x363319*_0x359ca8;for(_0x4e7aec=0x164*-0x1+-0x3d5*-0x6+-0x159a;_0x4e7aec<_0x4cdba2;_0x4e7aec++)_0x2ac81c[_0x4e7aec]=_0x372315['array'][_0x4e7aec];}}}return _0x363319;}}const Tw=-(-0x22ac+0xa*0x221+0xd63);class ww{constructor(_0x22e2ef,_0x7eed2a){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x7eed2a&&(this['key']=_0x7eed2a['keyCode'],this['element']=_0x7eed2a['target'],this['event']=_0x7eed2a);}}const jl=new ww();function Vd(_0x12a9bf){return jl['key']=_0x12a9bf['keyCode'],jl['element']=_0x12a9bf['target'],jl['event']=_0x12a9bf,jl;}function Yl(_0x6fbe20){return typeof _0x6fbe20=='string'?_0x6fbe20['toUpperCas'+'e']()['charCodeAt'](-0x21dd*-0x1+-0xd2c*-0x2+-0x3c35*0x1):_0x6fbe20;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x523973,_0x347bf0={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x523973&&this['attach'](_0x523973),this['preventDef'+'ault']=_0x347bf0['preventDef'+'ault']||!(-0x2184+0xe3*0x5+0x11*0x1b6),this['stopPropag'+'ation']=_0x347bf0['stopPropag'+'ation']||!(0x1*0x1e16+0xfb*0x1+0x38*-0x8e));}['attach'](_0x37de76){this['_element']&&this['detach'](),this['_element']=_0x37de76,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x23ce+0x1b39+0x896)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1e4e+0x71*-0x2b+-0x12*-0x2bd)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x26e4+0xeb4+0x1831)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x208b+0x1c12+0x6*0xbf)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x22e3*-0x1+-0x598+0x287c));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x595+-0xba*0x9+0xc20)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x9*0x2ef+0x2025+0xd*-0x71));}['toKeyIdent'+'ifier'](_0xbdcc24){_0xbdcc24=Yl(_0xbdcc24);const _0x3a1ced=Ew[_0xbdcc24['toString']()];if(_0x3a1ced)return _0x3a1ced;let _0x10d382=_0xbdcc24['toString'](0x952+0xd*0x4f+-0xd45)['toUpperCas'+'e']();const _0x54e39b=_0x10d382['length'];for(let _0x5873d2=-0x2d4*-0xb+-0x26b4+0x4*0x1e6;_0x5873d2<-0x105d+0xc38+-0x1*-0x429-_0x54e39b;_0x5873d2++)_0x10d382='0'+_0x10d382;return'U+'+_0x10d382;}['_handleKey'+'Down'](_0x45a5d7){const _0xa548b8=_0x45a5d7['keyCode']||_0x45a5d7['charCode'];if(_0xa548b8===void(-0x84+-0x5fb+0x67f))return;const _0x45659e=this['toKeyIdent'+'ifier'](_0xa548b8);this['_keymap'][_0x45659e]=!(0x1*0xf05+-0x1591*0x1+0x4*0x1a3),this['fire']('keydown',Vd(_0x45a5d7)),this['preventDef'+'ault']&&_0x45a5d7['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x45a5d7['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x56f68b){const _0x253bb6=_0x56f68b['keyCode']||_0x56f68b['charCode'];if(_0x253bb6===void(0x495+0x1*0x1c31+0x347*-0xa))return;const _0x28ea20=this['toKeyIdent'+'ifier'](_0x253bb6);delete this['_keymap'][_0x28ea20],this['fire']('keyup',Vd(_0x56f68b)),this['preventDef'+'ault']&&_0x56f68b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x56f68b['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x9fec1a){this['fire']('keypress',Vd(_0x9fec1a)),this['preventDef'+'ault']&&_0x9fec1a['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x9fec1a['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x19dfdd in this['_lastmap'])delete this['_lastmap'][_0x19dfdd];for(const _0x125084 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x125084)&&(this['_lastmap'][_0x125084]=this['_keymap'][_0x125084]);}['isPressed'](_0x5b16d7){const _0x343fa2=Yl(_0x5b16d7),_0x15ea01=this['toKeyIdent'+'ifier'](_0x343fa2);return!!this['_keymap'][_0x15ea01];}['wasPressed'](_0x2a2c31){const _0xb11071=Yl(_0x2a2c31),_0x3ae4d1=this['toKeyIdent'+'ifier'](_0xb11071);return!!this['_keymap'][_0x3ae4d1]&&!this['_lastmap'][_0x3ae4d1];}['wasRelease'+'d'](_0x4120c7){const _0x39f989=Yl(_0x4120c7),_0x482155=this['toKeyIdent'+'ifier'](_0x39f989);return!this['_keymap'][_0x482155]&&!!this['_lastmap'][_0x482155];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x18f6be,_0x1d6797){h(this,'x',-0x8a8+0x231f+-0x1a77*0x1),h(this,'y',-0x14*-0x194+-0xbcf+0x185*-0xd),h(this,'dx',0x223e+-0xc1c+-0x1622),h(this,'dy',0x323+-0xe6b+-0x169*-0x8),h(this,'button',Tw),h(this,'wheelDelta',0xf5+0x16f2+-0x17e7),h(this,'element'),h(this,'ctrlKey',!(0x13a0+-0x12b4+0x2f*-0x5)),h(this,'altKey',!(-0x6*0x24b+-0x1eb2*0x1+0x13*0x257)),h(this,'shiftKey',!(0x7a7+-0x11e+-0x688)),h(this,'metaKey',!(-0x2541+0x2e*0x10+0x2262)),h(this,'event');let _0x57b535={'x':0x0,'y':0x0};if(_0x1d6797){if(_0x1d6797 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x57b535=_0x18f6be['_getTarget'+'Coords'](_0x1d6797);}else _0x1d6797={};if(_0x57b535)this['x']=_0x57b535['x'],this['y']=_0x57b535['y'];else{if(ru())this['x']=-0xa49*-0x3+0x1cb4+-0x1*0x3b8f,this['y']=-0x20c0+0x1f8b+0x135;else return;}_0x1d6797['type']==='wheel'&&(_0x1d6797['deltaY']>-0x2141+-0x496+-0x3*-0xc9d?this['wheelDelta']=-0x1f37*0x1+-0x16*-0x1ac+-0x164*0x4:_0x1d6797['deltaY']<0x7c*-0x3a+0x13*-0x17c+0x384c&&(this['wheelDelta']=-(-0x3ca*-0x8+-0x519+-0xc9b*0x2))),ru()?(this['dx']=_0x1d6797['movementX']||_0x1d6797['webkitMove'+'mentX']||_0x1d6797['mozMovemen'+'tX']||0x5*-0xc2+0x131*0x1+0x299*0x1,this['dy']=_0x1d6797['movementY']||_0x1d6797['webkitMove'+'mentY']||_0x1d6797['mozMovemen'+'tY']||-0x997+-0x90f*0x3+-0x2*-0x1262):(this['dx']=this['x']-_0x18f6be['_lastX'],this['dy']=this['y']-_0x18f6be['_lastY']),(_0x1d6797['type']==='mousedown'||_0x1d6797['type']==='mouseup')&&(this['button']=_0x1d6797['button']),this['buttons']=_0x18f6be['_buttons']['slice'](-0x9e+-0xb*0x74+0x59a),this['element']=_0x1d6797['target'],this['ctrlKey']=_0x1d6797['ctrlKey']??!(-0x77a*-0x1+-0x1f46+0x17cd),this['altKey']=_0x1d6797['altKey']??!(0x1d*-0x53+-0x1*0x25c3+0x3*0xfb9),this['shiftKey']=_0x1d6797['shiftKey']??!(0x372*0x9+0x26b3+0xb9e*-0x6),this['metaKey']=_0x1d6797['metaKey']??!(0xf1e+-0x2093+0x1176),this['event']=_0x1d6797;}}class sa extends me{constructor(_0x2739ac){super(),h(this,'_lastX',-0x408*0x8+0x1b10+0x4*0x14c),h(this,'_lastY',0x2f*-0xe+-0x2109+-0x1*-0x239b),h(this,'_buttons',[!(0x155b+0x1ca1+-0x31fb),!(0x22d2+0xd4f*0x1+0x8c*-0x58),!(-0x5*0xc7+-0x1*0x2591+0x2975)]),h(this,'_lastbutto'+'ns',[!(0x1*-0x2455+-0x23ab+0x4801),!(0xc88+0x1b83+-0x5*0x802),!(0xdd5+-0x25a3+0x5*0x4c3)]),h(this,'_target',null),h(this,'_attached',!(-0x2*-0x10c1+-0xfae+-0x11d3)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x32650c=>{_0x32650c['preventDef'+'ault']();},this['attach'](_0x2739ac));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x401593){if(this['_target']=_0x401593,this['_attached'])return;this['_attached']=!(0x23ad+-0x1871*0x1+-0x2*0x59e);const _0x32b17b={'passive':!(-0xbb*0x21+0x1a78+-0x1*0x25c)},_0x2ac55c=Ae['passiveEve'+'nts']?_0x32b17b:!(-0x1*0x7db+0x15d+0x67f);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x2ac55c),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x2ac55c),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x2ac55c),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x2ac55c);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x77*0x1d+-0x1fa0+0x2e*0x65),this['_target']=null;const _0x59854d={'passive':!(-0x5cc+0x6ac+-0x1*0xdf)},_0x338079=Ae['passiveEve'+'nts']?_0x59854d:!(0x233b+-0x5*0x5d9+-0x5fd);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x338079),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x338079),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x338079),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x338079);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x3f1157,_0x119f3d){if(!document['body']['requestPoi'+'nterLock']){_0x119f3d&&_0x119f3d();return;}const _0xaccb1d=()=>{_0x3f1157(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xaccb1d);},_0x436fec=()=>{_0x119f3d(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x436fec);};_0x3f1157&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xaccb1d,!(0xb*-0x371+-0x604+-0xd*-0x360)),_0x119f3d&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x436fec,!(-0x1*0x445+0x823*0x1+0x3dd*-0x1)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x2e05f8){if(!document['exitPointe'+'rLock'])return;const _0x2f7f97=()=>{_0x2e05f8(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x2f7f97);};_0x2e05f8&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x2f7f97,!(-0x1e8*-0x9+0x6*0x381+-0x1d*0x151)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1931+-0x7*0x69+-0xe08*-0x2]=this['_buttons'][0xc1a+0x11fe+-0x6*0x504],this['_lastbutto'+'ns'][-0x1e5e+0x86e+0x15f1*0x1]=this['_buttons'][-0x3*0x5c9+0x2*-0xba4+0x28a4],this['_lastbutto'+'ns'][0x21ee+0x6*-0x21d+0x1*-0x153e]=this['_buttons'][-0x1*0x8c1+-0x10b6+0x1979];}['isPressed'](_0x3fab4b){return this['_buttons'][_0x3fab4b];}['wasPressed'](_0x4b969c){return this['_buttons'][_0x4b969c]&&!this['_lastbutto'+'ns'][_0x4b969c];}['wasRelease'+'d'](_0x3605c8){return!this['_buttons'][_0x3605c8]&&this['_lastbutto'+'ns'][_0x3605c8];}['_handleUp'](_0x581560){this['_buttons'][_0x581560['button']]=!(-0x1d41+0x1dfa+-0x8*0x17);const _0x5666b9=new ta(this,_0x581560);_0x5666b9['event']&&this['fire']('mouseup',_0x5666b9);}['_handleDow'+'n'](_0x46b40a){this['_buttons'][_0x46b40a['button']]=!(-0xb82*-0x1+0xdc7*-0x1+0x53*0x7);const _0x1a6915=new ta(this,_0x46b40a);_0x1a6915['event']&&this['fire']('mousedown',_0x1a6915);}['_handleMov'+'e'](_0x4483ce){const _0x36e333=new ta(this,_0x4483ce);_0x36e333['event']&&(this['fire']('mousemove',_0x36e333),this['_lastX']=_0x36e333['x'],this['_lastY']=_0x36e333['y']);}['_handleWhe'+'el'](_0x4ea3b4){const _0x35780e=new ta(this,_0x4ea3b4);_0x35780e['event']&&this['fire']('mousewheel',_0x35780e);}['_getTarget'+'Coords'](_0x433a44){const _0x489093=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x14b1e4=Math['floor'](_0x489093['left']),_0x198476=Math['floor'](_0x489093['top']);return _0x433a44['clientX']<_0x14b1e4||_0x433a44['clientX']>=_0x14b1e4+this['_target']['clientWidt'+'h']||_0x433a44['clientY']<_0x198476||_0x433a44['clientY']>=_0x198476+this['_target']['clientHeig'+'ht']?null:{'x':_0x433a44['clientX']-_0x14b1e4,'y':_0x433a44['clientY']-_0x198476};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x1ae314){let _0x4bbfec=-0x3*-0xc3+-0x1d*-0x99+-0x345*0x6,_0x3173e7=-0x45*0x2b+0xec0+-0x329*0x1,_0x4dd981=_0x1ae314['target'];for(;!(_0x4dd981 instanceof HTMLElement)&&_0x4dd981;)_0x4dd981=_0x4dd981['parentNode'];for(;_0x4dd981;)_0x4bbfec+=_0x4dd981['offsetLeft']-_0x4dd981['scrollLeft'],_0x3173e7+=_0x4dd981['offsetTop']-_0x4dd981['scrollTop'],_0x4dd981=_0x4dd981['offsetPare'+'nt'];return{'x':_0x1ae314['pageX']-_0x4bbfec,'y':_0x1ae314['pageY']-_0x3173e7};}class d_{constructor(_0x3e3137){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0xc97d50=Wc(_0x3e3137);this['id']=_0x3e3137['identifier'],this['x']=_0xc97d50['x'],this['y']=_0xc97d50['y'],this['target']=_0x3e3137['target'],this['touch']=_0x3e3137;}}class Kl{constructor(_0x1f474c,_0x11f6e0){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x11f6e0['target'],this['event']=_0x11f6e0,this['touches']=Array['from'](_0x11f6e0['touches'])['map'](_0x34080d=>new d_(_0x34080d)),this['changedTou'+'ches']=Array['from'](_0x11f6e0['changedTou'+'ches'])['map'](_0x472c28=>new d_(_0x472c28)));}['getTouchBy'+'Id'](_0x4b5cde,_0x22efe0){return _0x22efe0['find'](_0x9a1beb=>_0x9a1beb['id']===_0x4b5cde)||null;}}class Zl extends me{constructor(_0x1f635a){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x1f635a);}['attach'](_0x4fcf6a){this['_element']&&this['detach'](),this['_element']=_0x4fcf6a,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x220f+0x7*-0xef+-0x13*-0x223)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x209d+0x303*-0x5+-0x5*-0x989)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(-0x1796+-0x1c05+-0x12*-0x2de)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x58a*-0x1+-0x6ea+0x3*0x427));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0x92a+0x1*-0xd21+0x3f8)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x782+-0x170a+0x4f*0x63)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x17*-0x13a+-0x4d*-0x2b+-0x2924)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x144+0x4c4+-0x37f))),this['_element']=null;}['_handleTou'+'chStart'](_0x5aba23){this['fire']('touchstart',new Kl(this,_0x5aba23));}['_handleTou'+'chEnd'](_0x5b1d60){this['fire']('touchend',new Kl(this,_0x5b1d60));}['_handleTou'+'chMove'](_0x3b132f){_0x3b132f['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x3b132f));}['_handleTou'+'chCancel'](_0x2fb1ec){this['fire']('touchcance'+'l',new Kl(this,_0x2fb1ec));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x28a38c,_0x4f1f47,_0x3b5c28){typeof _0x4f1f47=='function'&&(_0x3b5c28=_0x4f1f47,_0x4f1f47={});const _0xe900ee=this['request']('GET',_0x28a38c,_0x4f1f47,_0x3b5c28),{progress:_0x4c59d0}=_0x4f1f47;if(_0x4c59d0){const _0x2526b0=_0x155f6b=>{_0x155f6b['lengthComp'+'utable']&&_0x4c59d0['fire']('progress',_0x155f6b['loaded'],_0x155f6b['total']);},_0x3644f1=_0x4a67ff=>{_0x2526b0(_0x4a67ff),_0xe900ee['removeEven'+'tListener']('loadstart',_0x2526b0),_0xe900ee['removeEven'+'tListener']('progress',_0x2526b0),_0xe900ee['removeEven'+'tListener']('loadend',_0x3644f1);};_0xe900ee['addEventLi'+'stener']('loadstart',_0x2526b0),_0xe900ee['addEventLi'+'stener']('progress',_0x2526b0),_0xe900ee['addEventLi'+'stener']('loadend',_0x3644f1);}return _0xe900ee;}['post'](_0x5b44f1,_0x9c2775,_0x16db09,_0x21a1c9){return typeof _0x16db09=='function'&&(_0x21a1c9=_0x16db09,_0x16db09={}),_0x16db09['postdata']=_0x9c2775,this['request']('POST',_0x5b44f1,_0x16db09,_0x21a1c9);}['put'](_0x118dff,_0x1bf581,_0x28c607,_0x59f7ba){return typeof _0x28c607=='function'&&(_0x59f7ba=_0x28c607,_0x28c607={}),_0x28c607['postdata']=_0x1bf581,this['request']('PUT',_0x118dff,_0x28c607,_0x59f7ba);}['del'](_0x57d51d,_0x644a5,_0x118f3d){return typeof _0x644a5=='function'&&(_0x118f3d=_0x644a5,_0x644a5={}),this['request']('DELETE',_0x57d51d,_0x644a5,_0x118f3d);}['request'](_0x24c306,_0x2e9a90,_0x3e6376,_0x4ae4b6){let _0x372f7f,_0x2f930d,_0xe1db00,_0x518859=!(0x9e*-0x31+0x17cd+0x672);if(typeof _0x3e6376=='function'&&(_0x4ae4b6=_0x3e6376,_0x3e6376={}),_0x3e6376['retry']&&(_0x3e6376=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x3e6376)),_0x3e6376['callback']=_0x4ae4b6,_0x3e6376['async']==null&&(_0x3e6376['async']=!(0x1ab9+0xf*-0xe2+-0x11*0xcb)),_0x3e6376['headers']==null&&(_0x3e6376['headers']={}),_0x3e6376['postdata']!=null){if(_0x3e6376['postdata']instanceof Document)_0xe1db00=_0x3e6376['postdata'];else{if(_0x3e6376['postdata']instanceof FormData)_0xe1db00=_0x3e6376['postdata'];else{if(_0x3e6376['postdata']instanceof Object){let _0x53b56c=_0x3e6376['headers']['Content-Ty'+'pe'];switch(_0x53b56c===void(0x1d*0x3f+-0x367+-0x3bc)&&(_0x3e6376['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x53b56c=_0x3e6376['headers']['Content-Ty'+'pe']),_0x53b56c){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0xe1db00='';let _0x46d46c=!(0x1aad+0x1*0x841+-0x1177*0x2);for(const _0x427c88 in _0x3e6376['postdata'])if(_0x3e6376['postdata']['hasOwnProp'+'erty'](_0x427c88)){_0x46d46c?_0x46d46c=!(0xf43*-0x1+-0x23d7+-0x331b*-0x1):_0xe1db00+='&';const _0x3e2898=encodeURIComponent(_0x427c88),_0x4138f0=encodeURIComponent(_0x3e6376['postdata'][_0x427c88]);_0xe1db00+=_0x3e2898+'='+_0x4138f0;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x53b56c==null&&(_0x3e6376['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0xe1db00=JSON['stringify'](_0x3e6376['postdata']);break;}}else _0xe1db00=_0x3e6376['postdata'];}}}if(_0x3e6376['cache']===!(-0x14c4+-0x2682+-0x3b47*-0x1)){const _0x398a9e=de();_0x372f7f=new Rd(_0x2e9a90),_0x372f7f['query']?_0x372f7f['query']=_0x372f7f['query']+'&ts='+_0x398a9e:_0x372f7f['query']='ts='+_0x398a9e,_0x2e9a90=_0x372f7f['toString']();}_0x3e6376['query']&&(_0x372f7f=new Rd(_0x2e9a90),_0x2f930d=ah(_0x372f7f['getQuery'](),_0x3e6376['query']),_0x372f7f['setQuery'](_0x2f930d),_0x2e9a90=_0x372f7f['toString']());const _0x2115bf=new XMLHttpRequest();_0x2115bf['open'](_0x24c306,_0x2e9a90,_0x3e6376['async']),_0x2115bf['withCreden'+'tials']=_0x3e6376['withCreden'+'tials']!==void(0x2d0+0x17e8+-0x1ab8)?_0x3e6376['withCreden'+'tials']:!(-0x1e3f+-0xf10*-0x2+0x20),_0x2115bf['responseTy'+'pe']=_0x3e6376['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x2e9a90);for(const _0x4642b7 in _0x3e6376['headers'])_0x3e6376['headers']['hasOwnProp'+'erty'](_0x4642b7)&&_0x2115bf['setRequest'+'Header'](_0x4642b7,_0x3e6376['headers'][_0x4642b7]);_0x2115bf['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x24c306,_0x2e9a90,_0x3e6376,_0x2115bf);},_0x2115bf['onerror']=()=>{this['_onError'](_0x24c306,_0x2e9a90,_0x3e6376,_0x2115bf),_0x518859=!(-0x2525*-0x1+-0x2351+-0x1d4);};try{_0x2115bf['send'](_0xe1db00);}catch(_0x26ef4a){_0x518859||_0x3e6376['error'](_0x2115bf['status'],_0x2115bf,_0x26ef4a);}return _0x2115bf;}['_guessResp'+'onseType'](_0x324a88){const _0x9c3afc=new Rd(_0x324a88),_0x2b8b36=xe['getExtensi'+'on'](_0x9c3afc['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x2b8b36)>=0x1e78+-0x23fc+0x584?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2b8b36==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x2b8b36==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x5a97ee){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x5a97ee)>=0x2313+0x15f8+-0x35b*0x11;}['_isBinaryR'+'esponseTyp'+'e'](_0xf5933c){return _0xf5933c===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0xf5933c===Oe['ResponseTy'+'pe']['BLOB']||_0xf5933c===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x2ccdcf,_0x16e46d,_0xe158fc,_0x38f916){if(_0x38f916['readyState']===-0x449*0x2+0x70d+0x189)switch(_0x38f916['status']){case 0x1284+0x876+-0x1afa:{_0x38f916['responseUR'+'L']&&_0x38f916['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x2ccdcf,_0x16e46d,_0xe158fc,_0x38f916):this['_onError'](_0x2ccdcf,_0x16e46d,_0xe158fc,_0x38f916);break;}case 0x1*-0x133f+-0x5*-0x493+-0x16c*0x2:case 0xad1*0x1+-0x124*0x13+-0x254*-0x5:case 0x8b*0xd+0x112e+-0x176f:case 0xa72+-0x243b+0x1af9:{this['_onSuccess'](_0x2ccdcf,_0x16e46d,_0xe158fc,_0x38f916);break;}default:{this['_onError'](_0x2ccdcf,_0x16e46d,_0xe158fc,_0x38f916);break;}}}['_onSuccess'](_0x91d088,_0x20bd2f,_0x9b860,_0x4b8cc3){let _0x38af65,_0x520ba7;const _0xbb5db6=_0x4b8cc3['getRespons'+'eHeader']('Content-Ty'+'pe');_0xbb5db6&&(_0x520ba7=_0xbb5db6['split'](';')[-0x1cc9+0x2*-0x3ce+0x533*0x7]['trim']());try{this['_isBinaryC'+'ontentType'](_0x520ba7)||this['_isBinaryR'+'esponseTyp'+'e'](_0x4b8cc3['responseTy'+'pe'])?_0x38af65=_0x4b8cc3['response']:_0x520ba7===Oe['ContentTyp'+'e']['JSON']||_0x20bd2f['split']('?')[-0x1*0x144d+0x1f86+-0xb39]['endsWith']('.json')?_0x38af65=JSON['parse'](_0x4b8cc3['responseTe'+'xt']):_0x4b8cc3['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x520ba7===Oe['ContentTyp'+'e']['XML']?_0x38af65=_0x4b8cc3['responseXM'+'L']:_0x38af65=_0x4b8cc3['responseTe'+'xt'],_0x9b860['callback'](null,_0x38af65);}catch(_0x2f2089){_0x9b860['callback'](_0x2f2089);}}['_onError'](_0xeca6aa,_0x37a784,_0x412163,_0x1ce0af){if(!_0x412163['retrying']){if(_0x412163['retry']&&_0x412163['retries']<_0x412163['maxRetries']){_0x412163['retries']++,_0x412163['retrying']=!(0x1838+-0x1fc5+-0x78d*-0x1);const _0x287b1b=Y['clamp'](Math['pow'](0xcaa+0x125*-0x18+0x768*0x2,_0x412163['retries'])*Oe['retryDelay'],-0x6*-0x60d+0x749+-0x2b97,_0x412163['maxRetryDe'+'lay']||-0x127d*0x2+0x17c9+-0x1*-0x20b9);console['log'](_0xeca6aa+':\x20'+_0x37a784+'\x20-\x20Error\x20'+_0x1ce0af['status']+('.\x20Retrying'+'\x20in\x20')+_0x287b1b+'\x20ms'),setTimeout(()=>{_0x412163['retrying']=!(0xd87*0x2+-0x1*0xa26+-0x10e7),this['request'](_0xeca6aa,_0x37a784,_0x412163,_0x412163['callback']);},_0x287b1b);}else _0x412163['callback'](_0x1ce0af['status']===-0x8c4+0x2af*0xc+-0x1770?'Network\x20er'+'ror':_0x1ce0af['status'],null);}}};(function(){let _0x54cd29;try{const _0x2aa441=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x54cd29=_0x2aa441();}catch(_0x19b1d3){_0x54cd29=window;}_0x54cd29['setInterva'+'l'](_0x53be1a,0x152f+0x16f3+-0x1c82);}()),(h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',0x3a*0x73+0x23a1+0xd*-0x4b7));let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x3c572b){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x3c572b;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x53299b){this['position']['copy'](_0x53299b);const _0x34ca23=this['listener'];_0x34ca23&&('positionX'in _0x34ca23?(_0x34ca23['positionX']['value']=_0x53299b['x'],_0x34ca23['positionY']['value']=_0x53299b['y'],_0x34ca23['positionZ']['value']=_0x53299b['z']):_0x34ca23['setPositio'+'n']&&_0x34ca23['setPositio'+'n'](_0x53299b['x'],_0x53299b['y'],_0x53299b['z']));}['setOrienta'+'tion'](_0x538ddd){this['orientatio'+'n']['copy'](_0x538ddd);const _0x56287e=this['listener'];if(_0x56287e){const _0x4c1a8c=_0x538ddd['data'];'forwardX'in _0x56287e?(_0x56287e['forwardX']['value']=-_0x4c1a8c[0x42c+0x1b31+-0x1f55],_0x56287e['forwardY']['value']=-_0x4c1a8c[0xbdf+-0x8*-0x3b5+-0x2*0x14bf],_0x56287e['forwardZ']['value']=-_0x4c1a8c[0x851+-0x1513+0xccc],_0x56287e['upX']['value']=_0x4c1a8c[0x1857+-0x1aee+0x29b],_0x56287e['upY']['value']=_0x4c1a8c[-0x1*0x1da2+-0x1a93+0x3*0x12be],_0x56287e['upZ']['value']=_0x4c1a8c[-0xd6d+0xa9b+0x2d8]):_0x56287e['setOrienta'+'tion']&&_0x56287e['setOrienta'+'tion'](-_0x4c1a8c[-0x1*0x5c1+0x7a*0x26+-0xc53],-_0x4c1a8c[0x1545+-0x14b8+-0x84],-_0x4c1a8c[0x175d+-0xf1*0x8+0x137*-0xd],_0x4c1a8c[-0xc17*-0x2+-0xe14+-0x50b*0x2],_0x4c1a8c[0x35c+0x611+-0x1*0x968],_0x4c1a8c[-0x2503*-0x1+0xb79*-0x3+-0x292]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0xc8c2cc=this['_manager']['context'];return _0xc8c2cc?_0xc8c2cc['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x46f+-0x787+-0x1*-0x319),this['listener']=new Cw(this),this['_volume']=0x18d8+-0x7d7+-0x1100;}set['volume'](_0x2d3e2e){_0x2d3e2e=Y['clamp'](_0x2d3e2e,0xa97+0x219e+-0x1*0x2c35,-0x24f9+0x1825+0xcd5),this['_volume']=_0x2d3e2e,this['fire']('volumechan'+'ge',_0x2d3e2e);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x3ff*-0x7+0x4f*-0x6b+0x50c),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x22d*-0x1+0x2*-0xbbc+0x154c),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x2adc73;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x2adc73=this['_context'])==null||_0x2adc73['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x529a8a=this['_context']['createBuff'+'erSource']();_0x529a8a['buffer']=this['_context']['createBuff'+'er'](0x15ce+0x1ba4+0x1*-0x3171,0x3af+-0x1*-0x1df9+0x21a7*-0x1,this['_context']['sampleRate']),_0x529a8a['connect'](this['_context']['destinatio'+'n']),_0x529a8a['start'](-0x655*0x1+0x60d*-0x2+0x126f*0x1),_0x529a8a['onended']=_0x7ed172=>{_0x529a8a['disconnect'](0x1c04+0x13ff*0x1+0x3003*-0x1),this['fire']('resume');};},_0x385bb6=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x385bb6);})['catch'](_0x41b263=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x41b263);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0xb76ada=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0xb76ada);})['catch'](_0xcd3b13=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0xcd3b13);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x329175=>{window['addEventLi'+'stener'](_0x329175,this['_unlockHan'+'dlerFunc'],!(-0x1987+0x12af*-0x1+-0x93*-0x4d));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x162c9c=>{window['removeEven'+'tListener'](_0x162c9c,this['_unlockHan'+'dlerFunc'],!(0x1d77+0x37+0x1dad*-0x1));});}}class Mw{constructor(_0x23bb99){h(this,'audio'),h(this,'buffer'),_0x23bb99 instanceof Audio?this['audio']=_0x23bb99:this['buffer']=_0x23bb99;}get['duration'](){let _0x4cf439=-0x1597+0x1ee3+-0x94c;return this['buffer']?_0x4cf439=this['buffer']['duration']:this['audio']&&(_0x4cf439=this['audio']['duration']),_0x4cf439||-0x1b3*-0x4+-0x2194+0x1ac8;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x14d4+-0x39*-0x66+-0x1e2,fn=0x1d5e+0x3f3*-0x9+0x62e,Hs=0x142f+0x1a8a+-0x2eb7*0x1;function es(_0x327dad,_0x153cd2){return _0x327dad%_0x153cd2||0x1*0x6ad+0x47b*0x1+0xee*-0xc;}class As extends me{constructor(_0x44ac92,_0x195899,_0x1c10ab){super(),h(this,'source',null),(this['_manager']=_0x44ac92,this['_volume']=_0x1c10ab['volume']!==void(0x242+0x5e9*-0x6+0x4*0x84d)?Y['clamp'](Number(_0x1c10ab['volume'])||0x1bfe+-0x2631+0x7*0x175,0x3*0x3d5+0x1229*0x1+-0x1da8,0x22f5+0x1744*0x1+-0x3a38):0x35*0x6d+-0x13*0x65+0x7*-0x227,this['_pitch']=_0x1c10ab['pitch']!==void(-0x10bc+-0x59*-0xc+0xc90)?Math['max'](0x1885*0x1+0x1*-0x5d5+-0x12b0+0.01,Number(_0x1c10ab['pitch'])||0xad9*-0x3+0x4*0x832+0x1*-0x3d):0x509*0x4+-0xd26+0x6fd*-0x1,this['_loop']=!!(_0x1c10ab['loop']!==void(-0xc9c+-0x7*-0x18d+0x1c1)&&_0x1c10ab['loop']),this['_sound']=_0x195899,this['_state']=Hs,this['_suspended']=!(-0x4*0x30b+0x1fa9+-0x137c),this['_suspendEn'+'dEvent']=0xd*0x1e9+-0xdf*0x9+-0x5aa*0x3,this['_suspendIn'+'stanceEven'+'ts']=!(0xb47+0x7*0xb4+-0x1032*0x1),this['_playWhenL'+'oaded']=!(0x108e+-0x2301+0x1273),this['_startTime']=Math['max'](-0x21c+0x2d8+-0xbc,Number(_0x1c10ab['startTime'])||-0xdd5*0x2+-0x1509+0x30b3),this['_duration']=Math['max'](0x1*-0x862+0x7d0+0x2*0x49,Number(_0x1c10ab['duration'])||0x26ee+-0x1188+-0x1566),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x1c10ab['onPlay'],this['_onPauseCa'+'llback']=_0x1c10ab['onPause'],this['_onResumeC'+'allback']=_0x1c10ab['onResume'],this['_onStopCal'+'lback']=_0x1c10ab['onStop'],this['_onEndCall'+'back']=_0x1c10ab['onEnd'],Dl()?(this['_startedAt']=-0x19a2+-0x1c06+0x35a8,this['_currentTi'+'me']=-0xda+0x1cce+-0x1bf4,this['_currentOf'+'fset']=0x349*-0x5+-0x1*-0x12e7+0x27a*-0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x14a9+0x9*0x319+-0x3089),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x26e2+-0x170d+-0xfd4),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x4bcf8f){if(!(_0x4bcf8f<0x212f+0x11*-0xdf+-0x1c*0xa8)){if(this['_state']===Zt){const _0xa63d9f=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x2389+-0x9a+-0xb*0x32d),this['stop'](),this['_startOffs'+'et']=_0x4bcf8f,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0xa63d9f;}else this['_startOffs'+'et']=_0x4bcf8f,this['_currentTi'+'me']=_0x4bcf8f;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x1*0x1174+0x3*0x228+-0x13*-0x94:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x3fbd88){this['_duration']=Math['max'](-0x106c+0x2428+-0x13bc,Number(_0x3fbd88)||0x161a+-0xb0d+-0x3*0x3af);const _0x170450=this['_state']===Zt;this['stop'](),_0x170450&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x1a3d+0x21*-0xdb+0x1fe;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x90fa88){this['_loop']=!!_0x90fa88,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x406ecd){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x406ecd)||-0x1399+-0x1d71+0x1*0x310a,-0x1968*0x1+0xf1+0x1877*0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x31f631){this['_sound']=_0x31f631,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x18f164){this['_startTime']=Math['max'](0x1*0x1e5a+-0x2*0x7ab+-0x782*0x2,Number(_0x18f164)||0xd1*0xf+-0x14e*-0x1+-0xd8d);const _0x168b0d=this['_state']===Zt;this['stop'](),_0x168b0d&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x7e22e0){_0x7e22e0=Y['clamp'](_0x7e22e0,0x1726+0x22*-0x1d+-0x2*0x9a6,-0x207f+0x1918+0x768),this['_volume']=_0x7e22e0,this['gain']&&(this['gain']['gain']['value']=_0x7e22e0*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x142a+-0x2b*0x26+-0x24*0x62){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x1e*0x74+-0x477+0x3*-0x30b),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x19f0+0x26c3+-0x62*0xa9),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1093*-0x1+-0xf79+-0x119),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x95*0x2b+0x1*-0xf0e+-0x7*-0x5ba):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x59*-0x54+0xf97*0x1+-0x2ccb*0x1),!(0x4d5*-0x1+-0xed*0x19+0x1bfb)):(this['_playAudio'+'Immediate'](),!(-0x3fe*-0x1+-0x8cc+0x4ce));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x594+0x1*0x2156+-0x26e9),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x394ba6=es(this['_startOffs'+'et'],this['duration']);_0x394ba6=es(this['_startTime']+_0x394ba6,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x3b9+0x659*0x2+0x8f9*-0x1,_0x394ba6,this['_duration']):this['source']['start'](0x3*0x349+-0x3*-0x3a+-0x383*0x3,_0x394ba6),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0xb7f+0x1204+0x1*-0x1d83,this['_currentOf'+'fset']=_0x394ba6,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x10af+0x1747+-0x697),this['_state']!==Zt?!(-0x3*0xbcb+-0x8c*0x1c+0x32b2):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0xfea+-0x5*0x3ce+-0x158*-0x1a),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1df0+0x519+0x2309*-0x1));}['resume'](){if(this['_state']!==fn)return!(0x13f4+0x22fe+0x1d*-0x1e5);let _0xd7a3a4=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xd7a3a4=es(this['_startOffs'+'et'],this['duration']),_0xd7a3a4=es(this['_startTime']+_0xd7a3a4,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1*-0x1782+-0x3*-0x2a+-0x1704*-0x1,_0xd7a3a4,this['_duration']):this['source']['start'](0x1*-0x254f+0xae1+0xd37*0x2,_0xd7a3a4),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xd7a3a4,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1bf1*0x1+0x4ba+0x25*-0xe2),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x7e*0xe+0x47*0x45+-0xc3f);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0xa*-0xdc+0x1490+-0x1d27),this['_state']===Hs)return!(-0x1fb2*-0x1+-0x96*0x25+-0xa03);const _0x33095d=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x260c+-0x18d4+0x7dc*0x8,this['_currentTi'+'me']=0xb71+0x1d*0xa+-0xc93,this['_currentOf'+'fset']=-0x209b+0x131e+0xd7d,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x33095d&&this['source']&&this['source']['stop'](-0x1*0x113c+-0x1*0x23c+-0x1*-0x1378),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x22d2+-0x247b+0x1a9);}['setExterna'+'lNodes'](_0x1bda8d,_0x35d845){if(!_0x1bda8d){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x35d845||(_0x35d845=_0x1bda8d);const _0x6fd22c=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x1bda8d&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x6fd22c),this['_firstNode']=_0x1bda8d,this['_connector'+'Node']['connect'](_0x1bda8d)),this['_lastNode']!==_0x35d845&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x6fd22c),this['_lastNode']=_0x35d845,this['_lastNode']['connect'](_0x6fd22c));}['clearExter'+'nalNodes'](){const _0x23b8f0=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x23b8f0),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x23b8f0);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x177da3=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x177da3['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](-0x8f*-0x27+0x1d5b+-0x3324),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x829+0x1*-0x1c2e+-0xb*-0x1d2):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1963+-0x3*-0x3ee+0xd9a*0x1),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0xfa*0x13+-0x1581+0x5*0x803));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x11c9+-0x1996*-0x1+0xe*-0x319):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1a*0x1f+-0xca5*0x2+0x1625),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1240+0x76*0x29+-0xa6));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x2226+0x8*-0x171+-0x2daf*-0x1):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x1647+0x169c+-0x2ce2),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x20b*-0x5+0x6cd+0x36a));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x1*0x3bc+-0x25f*0x5+0x820):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x197f+-0x2bb*0x1+0x1*-0x16c3),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x1*0x120d+0x57e+0xc8f*0x1));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1a95*-0x1+-0xae6*0x3+-0x19*-0x25f);let _0x590f37=es(this['_startOffs'+'et'],this['duration']);_0x590f37=es(this['_startTime']+_0x590f37,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x590f37;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1463*-0x1+-0x7ea*-0x1+0xc7a),this['source']=this['_sound']['audio']['cloneNode'](!(0x5*-0x566+0x48a+0x3be*0x6)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x56653e){_0x56653e=Y['clamp'](_0x56653e,-0x11a7+-0xddf+0x1f86,0xf65+-0x1da2+-0x1*-0xe3e),this['_volume']=_0x56653e,this['source']&&(this['source']['volume']=_0x56653e*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x28191e){this['_pitch']=Math['max'](Number(_0x28191e)||0x2*-0x50b+-0x2120+0x2*0x159b,0x49*0x67+-0xa25+-0x99d*0x2+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x1ecbf5){this['stop'](),this['_sound']=_0x1ecbf5;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x1884+0x2694+0xc*-0x542:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x5300c6){_0x5300c6<0x7f6*-0x1+0x1e3+0x613*0x1||(this['_startOffs'+'et']=_0x5300c6,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x5300c6,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=-0x318b+0x1a07+0x3e94;class sn extends As{constructor(_0x1eed75,_0x12fe89,_0x33088a={}){super(_0x1eed75,_0x12fe89,_0x33088a),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x33088a['position']&&(this['position']=_0x33088a['position']),this['maxDistanc'+'e']=_0x33088a['maxDistanc'+'e']!==void(-0x1639+-0x1*0x15ab+0x2be4)?Number(_0x33088a['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x33088a['refDistanc'+'e']!==void(-0x1c77*0x1+-0x49*0x77+0x3e66)?Number(_0x33088a['refDistanc'+'e']):-0xd9a+-0x1d7b*0x1+-0xa*-0x44f,this['rollOffFac'+'tor']=_0x33088a['rollOffFac'+'tor']!==void(0x3f2+0x33*0x97+0x119*-0x1f)?Number(_0x33088a['rollOffFac'+'tor']):0xa4c*0x2+-0xe80+-0x617,this['distanceMo'+'del']=_0x33088a['distanceMo'+'del']!==void(-0x205d*-0x1+0x16df+0x7*-0x7e4)?_0x33088a['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xa434d1){this['_position']['copy'](_0xa434d1);const _0x1fbc64=this['panner'];'positionX'in _0x1fbc64?(_0x1fbc64['positionX']['value']=_0xa434d1['x'],_0x1fbc64['positionY']['value']=_0xa434d1['y'],_0x1fbc64['positionZ']['value']=_0xa434d1['z']):_0x1fbc64['setPositio'+'n']&&_0x1fbc64['setPositio'+'n'](_0xa434d1['x'],_0xa434d1['y'],_0xa434d1['z']);}get['position'](){return this['_position'];}set['velocity'](_0x303bd6){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x303bd6);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x5a48f8){this['panner']['maxDistanc'+'e']=_0x5a48f8;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x41f5ba){this['panner']['refDistanc'+'e']=_0x41f5ba;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x246ade){this['panner']['rolloffFac'+'tor']=_0x246ade;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x3dc0b9){this['panner']['distanceMo'+'del']=_0x3dc0b9;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x826600,_0x43ab8d,_0x2b893b,_0x1199bb,_0x18dc27,_0x3a6dfb){l=l['sub2'](_0x826600,_0x43ab8d);const _0x360553=l['length']();if(_0x360553<_0x2b893b)return 0x8ce+-0x646+-0x287*0x1;if(_0x360553>_0x1199bb)return-0xd1*-0x26+-0x1*0x122c+0x2f*-0x46;let _0x14b392=0x1*0x1b1b+-0x77e+-0x1*0x139d;return _0x3a6dfb===Vp?_0x14b392=-0x185*0x3+0x1*0x1972+0x12*-0x129-_0x18dc27*(_0x360553-_0x2b893b)/(_0x1199bb-_0x2b893b):_0x3a6dfb===bw?_0x14b392=_0x2b893b/(_0x2b893b+_0x18dc27*(_0x360553-_0x2b893b)):_0x3a6dfb===Aw&&(_0x14b392=Math['pow'](_0x360553/_0x2b893b,-_0x18dc27)),Y['clamp'](_0x14b392,0x16ed*0x1+-0x31f*0x8+-0x20b*-0x1,0x7f*0x1b+-0x11fd+0x499);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x57d054){if(this['_position']['copy'](_0x57d054),this['source']){const _0x57bfd9=this['_manager']['listener']['getPositio'+'n'](),_0x3bfb63=t(_0x57bfd9,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x2aa684=this['volume'];this['source']['volume']=_0x2aa684*_0x3bfb63*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x4ac284){this['_maxDistan'+'ce']=_0x4ac284;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x2e86e6){this['_refDistan'+'ce']=_0x2e86e6;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0xafda00){this['_rollOffFa'+'ctor']=_0xafda00;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0xe597a1){this['_distanceM'+'odel']=_0xe597a1;}});}const Gp=-0x10d0+-0x1ff9*-0x1+-0xf29,Hp=0x20b1+0xb*-0x2d3+-0x1*0x19f,Zs=0x20f+0x12f8+-0x1505,Cs=-0xa39*-0x1+-0x184a*-0x1+-0x2280,Gn=-0xbd5*0x3+-0xc54+0x14b*0x25,Wp=0x24d+0x165a*-0x1+0x1412,Ed=-0x17*-0xcc+-0x1507+0x2b9,$p=0x1d98+0x249b+-0x422c,Xp=-0x5*-0x59c+0x9*0x37f+-0x3b7b*0x1,qp=-0x1475+-0x115d+-0x25db*-0x1,jp=0x2036+-0x191f+-0x70d,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x1*0x1b7d+0x3*0x77f+-0x31fa,Yp=0x1800+0x1*-0x218b+0x98d,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0xc82+0x1c08+-0x288a*0x1,Ky=0x1189*-0x1+0x19fd*-0x1+0x2b95,er=0x5*0x54+-0x97*0xb+0x4d9*0x1,ps=-0x2572*-0x1+-0x9b*-0x2f+-0x41e6,Kp=0x75+0x1eb0+-0x1f23,Zp=-0x372*-0x9+0x2*0x2ed+-0x24d9,Il=0x116a+0xd1+0x1237*-0x1,ve=-0x26da+-0x55b+0x2c35,Ke=-0x2a*0x13+-0x1*-0x1bc5+-0x18a6,Ze=0x44*-0x53+0xbf*0x27+-0x70b,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=0x1b*0x120+0x2275+-0x4071,Ys=0xf*-0x235+0x76d+0x19ae,Zy=-0x31*0xca+0x2416+0x295,Qy=-0xc0e+-0x2268+0x2e78,Jy=0x33*0x7b+0x117*0x19+-0xa59*0x5,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x2*-0xaf6+-0xd16+-0x179*0x6,ev=-0x12ab+-0xcff+0x1fab,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x98+-0x6*-0x5da+0x1*-0x2284,au=-0x3*0x17d+0x214a+-0x1cd1,Jp=0xa6b*0x2+-0xa4d+-0x543*0x2,kw=-0xe92+-0x1c82+0x2b18,tv=0x25b*-0xb+-0x266b+0x121*0x39,al=-0x228+-0x20*-0xc5+-0x1672,sv=-0x4f*-0x1b+0x184c+-0x209a,iv=-0x1d5e*-0x1+0x7d5*-0x1+-0x5*0x44d,Uw=-0x193f*0x1+-0x12*0x16a+0x32bc,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0xda*-0xe+0x19b6+0x25a2*-0x1)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x425*-0x3+-0x4bd*-0x1+-0x112c)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x2*-0x761+-0x2dc+0x1*0x119e)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(0x388*-0x1+-0x14a5+0x182d)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1bab+-0x7*-0x3bd+-0x35d6)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x1f*0xf0+-0x717+0x2427)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x1*0x1dc3+-0xc65+0x4c*0x8e)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0x2*0x5bc+0x2681+-0x903*0x3)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x2330+0x10dd*0x1+-0x19*0x215)}]]),Bw=-0x1dc1+0x13f1+0x1*0xacf,em=0x2400+-0xbda+0x7*-0x373,nu=0x24d+0x125f*-0x1+0x1012,rv=-0x17c6+-0x1*0x11bf+0x3*0xdd7,ai=-0x5*-0x41f+-0x6*0x19+-0xcd*0x19,zw=-0x21cc*0x1+-0x1*-0x83f+0x198e,yh=0x9*0x399+0x96f+-0x29d0,Vw=0x13*0x1c9+-0x31c+-0x1ece,ni=0x17a1+-0x53*0x75+0xe4e,En=0x1355+0x2325+-0x3679,un=0x1*-0x24d4+-0x6b8+-0x2*-0x15c6,$r=0x4b*0x42+0x1*0xf4d+-0x22a2,Jl=-0x1bbe+0x665*0x2+0xef6,tm=-0xd33+-0x109*0x9+-0x4*-0x5a1,av=0x381+0x1d18+-0x2098,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x1*-0x13f9+0x2*-0xe23+0x303f,Xc=0x1d72+0x19c5+0x2*-0x1b9b,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x3c4*0x5+-0x17dd+-0x2ab1*-0x1,UU=0x1cbe+-0x2c*0x2f+-0x14a9,BU=-0x2*-0xa39+-0x184d+0x1*0x3dd,zU=0xe09*-0x1+-0x65*-0x15+-0x3b*-0x19,VU=-0xf0*0xb+0xae*-0x23+0x221e,GU=0x2575+-0x6b*0x10+-0xf6*0x20,nv=0x1d59+-0x1710+-0x643,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x2079+0xc26+0x1d9*0xb,bd=0x4*-0x449+-0x1f00+0x3025,cv=0x157a+-0x1b70+0x5f8,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x1d15*-0x1+-0x391+0x20a7,nl=-0x410*0x3+-0xae7*0x1+-0x1719*-0x1,nm=0x647*0x1+0x1947+-0x1f8a,dv=-0x2681+0x1*-0x806+-0xf85*-0x3,fv=-0x401*0x3+0xcd4+0xc1*-0x1,ol=-0x2080+0x22c9+0x229*-0x1,ou=0x47*0x49+0x45b*-0x7+-0x2*-0x53f,uv=0x77e*0x1+-0x2144+0x1a46,Eh=0xf91*0x1+-0x2*0x105b+-0x1*-0x1225,om=0x19*-0x13c+0xe7c+0x1260,ll=-0x4*0x661+0x1b60+0x224,cl=-0x1462+-0x1c82*0x1+0x38e4,pv=-0x1f7+-0x1be9+0x5bc*0x8,hl=-0x1e74+0x1*-0x3d3f+0x1*0x7bb3,qc=-0x687f+0x2a2*-0xf+-0x17*-0x90b,Ps=0x61f+-0x1250*0x1+0xc31,xr=0x419*-0x1+0x94f+-0x535*0x1,lm=-0x21d3+0x130+0x20a5,Ss=0xb8a+-0x1f85+0x13fc,di=-0x319+0x264b+-0x2330,fi=0x1*-0x1b2f+-0x230e+0x3e41,Aa=-0x35*0x3a+-0x54c+0x114e,Rl=-0x3ba+0x1559+-0x1c3*0xa,cm=-0x7b2+-0xd*-0x2ff+0x1*-0x1f3f,Zn=-0x3*-0x337+-0x3*0x802+0x4cc*0x3,ci=0x102e+0x1c75*0x1+-0x2ca3,Pt=0x15d6+-0x53*-0x6+-0x17c7*0x1,Mt=-0x2*-0xa4e+0x8*0x461+-0x37a2,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0x29*0x6d+-0x1cdd+0xb69,ec=0x1761+0x982*-0x1+0xddf*-0x1,Yc=0x1bf7+-0x1f*-0x104+-0x3b73,jw=-0x1*-0x595+-0x10f*0x1f+-0x13*-0x16f,Yw=-0x3a9+0x105e+-0xcb3,m_=0x1bb2+0x1b2f+-0x2*0x1b6f,Kw=0x116f+-0x25ec+0x1481,Zw=0x176b+0x24b*-0x10+-0x6*-0x237,hm=-0x6da+0x112e+-0xa54,lu=0x1*0x1be8+0x8ed+0x24d4*-0x1,Ce=-0x20f3+0x6a2+0x1a51*0x1,je=-0x1231*-0x2+0x264+-0x26c5,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x5443be,_0x220274,_0x5291b7){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x5443be,this['bindGroupF'+'ormats'][rl]=_0x220274,this['vertexForm'+'at']=_0x5291b7);}['hasUniform'](_0x489fdc){for(let _0x20d661=-0x7*-0x3a9+-0x23c6*-0x1+-0x3d65;_0x20d661<this['uniformFor'+'mats']['length'];_0x20d661++){const _0x192b59=this['uniformFor'+'mats'][_0x20d661];if(_0x192b59!=null&&_0x192b59['get'](_0x489fdc))return!(0x81d+0x37*-0x8c+0x15f7);}return!(0x220a+-0xdb*0x29+0xe*0x13);}['hasTexture'](_0xddfc00){for(let _0x3b578e=0xb5*0x34+0x5*0x737+-0x1d*0x283;_0x3b578e<this['bindGroupF'+'ormats']['length'];_0x3b578e++){const _0x34a097=this['bindGroupF'+'ormats'][_0x3b578e];if(_0x34a097!=null&&_0x34a097['getTexture'](_0xddfc00))return!(-0x1ac*0xd+-0x581+-0x13*-0x16f);}return!(0xa9f*-0x2+-0x3d+0x37*0x64);}['getVertexE'+'lement'](_0x49e452){var _0x52e0ae;return(_0x52e0ae=this['vertexForm'+'at'])==null?void(0x24ef+0x161a+-0x3b09):_0x52e0ae['elements']['find'](_0xba7565=>_0xba7565['name']===_0x49e452);}['generateKe'+'y'](_0x89d53){var _0x6d7a08;let _0x227bfc=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x89d53['isWebGPU']&&(_0x227bfc+=(_0x6d7a08=this['vertexForm'+'at'])==null?void(-0x1df1+-0x6*-0x3ee+-0x1*-0x65d):_0x6d7a08['shaderProc'+'essingHash'+'String']),_0x227bfc;}}const gv=new Kt();function Hn(_0x19f871){const _0x2780f7=gv['get'](_0x19f871);return w['assert'](_0x2780f7),_0x2780f7;}function cE(_0x4cafcf,_0x4aeeee){w['assert'](_0x4aeeee),gv['get'](_0x4cafcf,()=>_0x4aeeee);}class ya{static['definesHas'+'h'](_0x460982){const _0x2574d0=Array['from'](_0x460982)['sort']((_0x2c2159,_0x81574d)=>_0x2c2159[0x2*0x82e+0x25*0xb6+-0x2aaa]>_0x81574d[-0x3*0x81b+0x6d*-0x1+0x18be]?0xd11+-0x1a64+0x6aa*0x2:-(0x2*0x11f7+0x1039*-0x2+0x3*-0x129));return hi(JSON['stringify'](_0x2574d0));}}const hE=new Kt();class dE{constructor(_0x300764,_0x5c0bf6,_0xb4431a={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x300764),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x300764),this['name']=_0x300764,this['index']=_0x5c0bf6,Object['assign'](this,_0xb4431a),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x399eec;this['isShadow']?_0x399eec='SHADOW':this['isForward']?_0x399eec='FORWARD':this['index']===Zn&&(_0x399eec='PICK'),this['defines']['set'](_0x399eec+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0xc2*-0x20+0xa1a+0xe26);const _0x1b48c8=(_0x129e1e,_0x2d5aab,_0x1d33e5)=>{const _0x198a95=this['allocate'](_0x129e1e,_0x1d33e5);w['assert'](_0x198a95['index']===_0x2d5aab);};_0x1b48c8('forward',Aa,{'isForward':!(0x898+-0x2301+-0x1*-0x1a69)}),_0x1b48c8('prepass',Rl),_0x1b48c8('shadow',cm),_0x1b48c8('pick',Zn);}static['get'](_0x499f47){return w['assert'](_0x499f47),hE['get'](_0x499f47,()=>new Si());}['allocate'](_0x413880,_0x5e6ad9){let _0x3f9720=this['passesName'+'d']['get'](_0x413880);return _0x3f9720===void(0xb5e+0xe4e+-0x3e*0x6a)&&(_0x3f9720=new dE(_0x413880,this['nextIndex'],_0x5e6ad9),this['passesName'+'d']['set'](_0x3f9720['name'],_0x3f9720),this['passesInde'+'xed'][_0x3f9720['index']]=_0x3f9720,this['nextIndex']++),_0x3f9720;}['getByIndex'](_0x48e099){const _0x5d512d=this['passesInde'+'xed'][_0x48e099];return w['assert'](_0x5d512d),_0x5d512d;}['getByName'](_0xd268a5){return this['passesName'+'d']['get'](_0xd268a5);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x1*0x23bd+0x2655+-0x297)),h(this,'_key','');}['set'](_0x4de453,_0x2048ef){return(!this['has'](_0x4de453)||this['get'](_0x4de453)!==_0x2048ef)&&this['markDirty'](),super['set'](_0x4de453,_0x2048ef);}['add'](_0x59f214){for(const [_0x56b85a,_0x8bab0f]of Object['entries'](_0x59f214))this['set'](_0x56b85a,_0x8bab0f);return this;}['delete'](_0x21b12a){const _0x165bd5=this['has'](_0x21b12a),_0x529fce=super['delete'](_0x21b12a);return _0x165bd5&&_0x529fce&&this['markDirty'](),_0x529fce;}['clear'](){this['size']>-0x252d+0x651+0x4f*0x64&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0x16a0+-0x18fd+0x25d),this['_keyDirty']=!(0x74*0x17+0x1*0xdee+-0xc2d*0x2);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x1237+-0x1b8e+-0x17*-0x68);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x5*0x286+-0x1*-0x2167+-0x2e04),this['_key']=Array['from'](this['entries']())['sort'](([_0x342f8e],[_0x2e694a])=>_0x342f8e<_0x2e694a?-(0x22af+-0x11df+-0x10cf):_0x342f8e>_0x2e694a?-0x6f*0x41+-0x1*0x1f34+-0x1*-0x3b64:0x1*-0x2441+-0x197+0x25d8)['map'](([_0x888d29,_0x138825])=>_0x888d29+'='+hi(_0x138825))['join'](',')),this['_key'];}['copy'](_0x2874e1){this['clear']();for(const [_0x3a300b,_0x124bb4]of _0x2874e1)this['set'](_0x3a300b,_0x124bb4);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x5211f4,_0x18b543=Fe){const _0x547d16=fE['get'](_0x5211f4,()=>new Pe());return _0x18b543===Fe?_0x547d16['glsl']:_0x547d16['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x1*-0x23a2+0x1d57+-0x40f9||this['wgsl']['size']>0x10*-0x133+0x207b+-0xd4b;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x29db96){return this['version']=_0x29db96['version'],this['glsl']['copy'](_0x29db96['glsl']),this['wgsl']['copy'](_0x29db96['wgsl']),this;}}class bh{static['merge'](..._0x426b22){const _0x5667ea=new Map(_0x426b22[0x16d3*0x1+-0xd77+0x4ae*-0x2]??[]);for(let _0x499fd1=-0x354*-0x7+0x1499+-0x2be4;_0x499fd1<_0x426b22['length'];_0x499fd1++){const _0x5d7e50=_0x426b22[_0x499fd1];if(_0x5d7e50){for(const [_0x2a74f1,_0x53d01c]of _0x5d7e50)_0x5667ea['set'](_0x2a74f1,_0x53d01c);}}return _0x5667ea;}}class uE extends ya{constructor(_0x592806,_0xd61baf){super(),this['key']=_0x592806,this['shaderDefi'+'nition']=_0xd61baf;}['generateKe'+'y'](_0x469225){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x5cc7fb,_0x189102){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x50bbfa,_0x3d30eb){const _0x137bf2=Hn(_0x50bbfa);let _0x237e1c=_0x137bf2['getCachedS'+'hader'](_0x3d30eb['uniqueName']);if(!_0x237e1c){const _0xdf3f6c=_0x50bbfa['isWebGPU']&&(!!_0x3d30eb['vertexWGSL']||!!_0x3d30eb['vertexChun'+'k'])&&(!!_0x3d30eb['fragmentWG'+'SL']||!!_0x3d30eb['fragmentCh'+'unk']),_0x12a4d3=Pe['get'](_0x50bbfa,_0xdf3f6c?it:Fe),_0x56fbce=_0x3d30eb['vertexChun'+'k']?_0x12a4d3['get'](_0x3d30eb['vertexChun'+'k']):_0xdf3f6c?_0x3d30eb['vertexWGSL']:_0x3d30eb['vertexGLSL'],_0x594ae0=_0x3d30eb['fragmentCh'+'unk']?_0x12a4d3['get'](_0x3d30eb['fragmentCh'+'unk']):_0xdf3f6c?_0x3d30eb['fragmentWG'+'SL']:_0x3d30eb['fragmentGL'+'SL'];w['assert'](_0x56fbce,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x3d30eb),w['assert'](_0x594ae0,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x3d30eb);const _0x17a496=bh['merge'](_0x12a4d3,_0x3d30eb['fragmentIn'+'cludes']),_0x2dfe58=bh['merge'](_0x12a4d3,_0x3d30eb['vertexIncl'+'udes']);_0x237e1c=new qy(_0x50bbfa,Jt['createDefi'+'nition'](_0x50bbfa,{'name':_0x3d30eb['uniqueName'],'shaderLanguage':_0xdf3f6c?it:Fe,'attributes':_0x3d30eb['attributes'],'vertexCode':_0x56fbce,'fragmentCode':_0x594ae0,'useTransformFeedback':_0x3d30eb['useTransfo'+'rmFeedback'],'vertexIncludes':_0x2dfe58,'vertexDefines':_0x3d30eb['vertexDefi'+'nes'],'fragmentIncludes':_0x17a496,'fragmentDefines':_0x3d30eb['fragmentDe'+'fines'],'fragmentOutputTypes':_0x3d30eb['fragmentOu'+'tputTypes']})),_0x137bf2['setCachedS'+'hader'](_0x3d30eb['uniqueName'],_0x237e1c);}return _0x237e1c;}static['getCoreDef'+'ines'](_0x34433a,_0x474ec2){const _0x8ed4b1=new Map(_0x34433a['defines']);return _0x474ec2['cameraShad'+'erParams']['defines']['forEach']((_0x53222b,_0x5b0834)=>_0x8ed4b1['set'](_0x5b0834,_0x53222b)),Si['get'](_0x474ec2['device'])['getByIndex'](_0x474ec2['pass'])['defines']['forEach']((_0x38fe5c,_0x4e3cfb)=>_0x8ed4b1['set'](_0x4e3cfb,_0x38fe5c)),_0x8ed4b1;}static['processSha'+'der'](_0x3c1b60,_0x117863){w['assert'](_0x3c1b60);const _0x57b80a=_0x3c1b60['definition'],_0x4315e6=(_0x57b80a['name']??'shader')+'-id-'+_0x3c1b60['id'],_0x247edf=new uE(_0x4315e6,_0x57b80a),_0x41ceab='shader',_0x2ea14b=Hn(_0x3c1b60['device']);w['assert'](!_0x2ea14b['isRegister'+'ed'](_0x41ceab)),_0x2ea14b['register'](_0x41ceab,_0x247edf);const _0x33da3f=_0x2ea14b['getProgram'](_0x41ceab,{},_0x117863);return _0x2ea14b['unregister'](_0x41ceab),_0x33da3f;}static['addScreenD'+'epthChunkD'+'efines'](_0x10cc6d,_0x505d22,_0x5b1dff){_0x505d22['sceneDepth'+'MapLinear']&&_0x5b1dff['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x10cc6d['textureFlo'+'atRenderab'+'le']&&_0x5b1dff['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x1df0*0x1+0x6*-0xd1+0x22d7)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x5a60ac){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x1aeab0=_0x5a60ac['device'];if(this['shader']=_0x5a60ac,w['assert'](_0x5a60ac),_0x1aeab0['supportsUn'+'iformBuffe'+'rs']){const _0x285bf8=new Ad();this['shader']=$t['processSha'+'der'](_0x5a60ac,_0x285bf8);const _0x2ee2b6=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x2ee2b6&&(this['uniformBuf'+'fer']=new zp(_0x1aeab0,_0x2ee2b6,!(0x1*-0x2303+0x11fd+0x1107)));const _0x582005=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x582005),this['bindGroup']=new Up(_0x1aeab0,_0x582005),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5f41f1,_0x567de9;(_0x5f41f1=this['uniformBuf'+'fer'])==null||_0x5f41f1['destroy'](),this['uniformBuf'+'fer']=null,(_0x567de9=this['bindGroup'])==null||_0x567de9['destroy'](),this['bindGroup']=null;}['render'](_0x332407,_0x5a5a17){const _0x4fc50b=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x4fc50b,'QuadRender'),_0x332407&&(so['set'](_0x4fc50b['vx'],_0x4fc50b['vy'],_0x4fc50b['vw'],_0x4fc50b['vh']),io['set'](_0x4fc50b['sx'],_0x4fc50b['sy'],_0x4fc50b['sw'],_0x4fc50b['sh']),_0x5a5a17=_0x5a5a17??_0x332407,_0x4fc50b['setViewpor'+'t'](_0x332407['x'],_0x332407['y'],_0x332407['z'],_0x332407['w']),_0x4fc50b['setScissor'](_0x5a5a17['x'],_0x5a5a17['y'],_0x5a5a17['z'],_0x5a5a17['w'])),_0x4fc50b['setVertexB'+'uffer'](_0x4fc50b['quadVertex'+'Buffer'],0xb3*-0x33+0x1f39*0x1+-0x1*-0x470);const _0x151c9d=this['shader'];if(_0x4fc50b['setShader'](_0x151c9d),_0x4fc50b['supportsUn'+'iformBuffe'+'rs']){_0x4fc50b['setBindGro'+'up'](rl,_0x4fc50b['emptyBindG'+'roup']);const _0x4e6fdd=this['bindGroup'];_0x4e6fdd['update'](),_0x4fc50b['setBindGro'+'up'](Oy,_0x4e6fdd);const _0x41041c=this['uniformBuf'+'fer'];_0x41041c?(_0x41041c['update'](Gd),_0x4fc50b['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x4fc50b['setBindGro'+'up'](su,_0x4fc50b['emptyBindG'+'roup']);}_0x4fc50b['draw'](pE),_0x332407&&(_0x4fc50b['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x4fc50b['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x4fc50b);}}class mE extends ys{constructor(_0x3cbec4,_0x4df10d,_0x9cbf50,_0x52949f){super(_0x3cbec4),this['quad']=_0x4df10d,this['rect']=_0x9cbf50,this['scissorRec'+'t']=_0x52949f;}['execute'](){const {device:_0x2187f0}=this;Q['pushGpuMar'+'ker'](_0x2187f0,this['name']+':'+this['quad']['shader']['name']),_0x2187f0['setCullMod'+'e'](bt),_0x2187f0['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2187f0['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x2187f0);}}const _E=new re();function Ar(_0x5bea2b,_0x33bfab,_0x126399,_0x275cc8,_0x59e41d){w['assert'](_0x33bfab!==void(-0xec4+-0xf6c+0x1e30));const _0x33f03f=arguments[0x184c+-0x1*-0x1e3f+-0x2*0x1b43];w['call'](()=>{_0x33f03f!==void(-0xa7c+-0x204d*0x1+0x2ac9)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x4e9665=new Ah(_0x126399);_0x275cc8||(_0x275cc8=_E,_0x275cc8['x']=0x35*-0xb5+0x155d+0x101c,_0x275cc8['y']=0x2154+0x2b8+-0x6*0x602,_0x275cc8['z']=_0x33bfab?_0x33bfab['width']:_0x5bea2b['width'],_0x275cc8['w']=_0x33bfab?_0x33bfab['height']:_0x5bea2b['height']);const _0x2b65a4=new mE(_0x5bea2b,_0x4e9665,_0x275cc8,_0x59e41d);_0x2b65a4['init'](_0x33bfab),_0x2b65a4['colorOps']['clear']=!(-0x1*-0x6ab+-0x228d*-0x1+0x2937*-0x1),_0x2b65a4['depthStenc'+'ilOps']['clearDepth']=!(-0x488*-0x5+0x35*-0x49+-0x78a),_0x5bea2b['isWebGPU']&&_0x33bfab===null&&_0x5bea2b['samples']>-0x16e8+0xb*-0xfd+0xb8*0x2f&&(_0x2b65a4['colorOps']['store']=!(-0x1ac*-0x16+-0x2129+-0x39f)),_0x2b65a4['render'](),_0x4e9665['destroy']();}class g_{constructor(_0x5c4747,_0x255e78,_0x364b19){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x5c4747,this['dynamic']=_0x255e78,this['batchGroup'+'Id']=_0x364b19);}['destroy'](_0x1c8461,_0x33e797){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x1c8461,_0x33e797),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x21bc76,_0x320771){for(let _0x1cf6be=-0x1b6f+-0x9a3*0x4+-0x7*-0x96d;_0x1cf6be<_0x320771['length'];_0x1cf6be++){const _0x573e3c=_0x21bc76['layers']['getLayerBy'+'Id'](_0x320771[_0x1cf6be]);_0x573e3c&&_0x573e3c['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x287d26,_0x29d9c1){for(let _0x529546=0x38c+-0x4*-0x184+0x1ec*-0x5;_0x529546<_0x29d9c1['length'];_0x529546++){const _0x3cb882=_0x287d26['layers']['getLayerBy'+'Id'](_0x29d9c1[_0x529546]);_0x3cb882&&_0x3cb882['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1ce6+0x1605+0x6e1]['aabb']);for(let _0x344b2d=-0x12dc+0x26f5+-0x1418;_0x344b2d<this['origMeshIn'+'stances']['length'];_0x344b2d++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x344b2d]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x18fa+-0x21*0x60+0x2ab*0xe;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x3d752c,_0x4440c3,_0x405777,_0x321a02,_0x51c9c2=[er]){h(this,'_ui',!(-0x1175+-0x86b*-0x3+0x39*-0x23)),h(this,'_sprite',!(-0x117*-0x1b+0x1c25+-0x3991)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x3d752c,this['name']=_0x4440c3,this['dynamic']=_0x405777,this['maxAabbSiz'+'e']=_0x321a02,this['layers']=_0x51c9c2);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x533704){h(this,'bones'),(this['_dirty']=!(0x419+0x3*-0x910+-0x1717*-0x1),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x26*0xa+-0x1259+0x13d6),this['_updateBef'+'oreCull']=!(-0xac3+-0x2059+-0x2b1c*-0x1),_0x533704&&this['initSkin'](_0x533704));}set['rootBone'](_0x2f0a03){this['_rootBone']=_0x2f0a03;}get['rootBone'](){return this['_rootBone'];}['init'](_0x29bda9,_0x9adf1a){const _0x358b72=_0x9adf1a*(-0x4*0x71f+-0x1*0x918+0x1*0x2597);let _0x3a89c5=Math['ceil'](Math['sqrt'](_0x358b72));_0x3a89c5=Y['roundUp'](_0x3a89c5,-0x1b8e+0x1*-0x1add+-0x1b37*-0x2);const _0x53ada3=Math['ceil'](_0x358b72/_0x3a89c5);this['boneTextur'+'e']=new _e(_0x29bda9,{'width':_0x3a89c5,'height':_0x53ada3,'format':Xt,'mipmaps':!(0x19ba+-0x11*0x11f+-0x6aa),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x2fb10f,_0x39766b){this['rootBone']=_0x2fb10f;const _0x50ffa0=this['skin'],_0x5e3519=[];for(let _0x30165c=0x9*-0x26c+-0x1*-0xd3d+-0x7*-0x139;_0x30165c<_0x50ffa0['boneNames']['length'];_0x30165c++){const _0x39b25d=_0x50ffa0['boneNames'][_0x30165c];let _0x24b248=_0x2fb10f['findByName'](_0x39b25d);_0x24b248||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x39b25d+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x39766b['name']+(',\x20rootBone'+':\x20')+_0x2fb10f['name']),_0x24b248=_0x39766b),_0x5e3519['push'](_0x24b248);}this['bones']=_0x5e3519;}['initSkin'](_0x3433ba){this['skin']=_0x3433ba,this['bones']=[];const _0x51e725=_0x3433ba['inverseBin'+'dPose']['length'];this['init'](_0x3433ba['device'],_0x51e725),this['matrices']=[];for(let _0x456a6e=0x47*-0x79+-0x2682+0x4811;_0x456a6e<_0x51e725;_0x456a6e++)this['matrices'][_0x456a6e]=new te();}['uploadBone'+'s'](_0x2c3e28){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x9c4cdf,_0x2c0d7e){if(this['_skinUpdat'+'eIndex']!==_0x2c0d7e){this['_skinUpdat'+'eIndex']=_0x2c0d7e,S_['copy'](_0x9c4cdf['getWorldTr'+'ansform']())['invert']();for(let _0x450528=this['bones']['length']-(0x23c+0x186d+-0x1aa8);_0x450528>=0x1e24+-0x2425+-0x35*-0x1d;_0x450528--)this['matrices'][_0x450528]['mulAffine2'](S_,this['bones'][_0x450528]['getWorldTr'+'ansform']()),this['matrices'][_0x450528]['mulAffine2'](this['matrices'][_0x450528],this['skin']['inverseBin'+'dPose'][_0x450528]);}}['updateMatr'+'ices'](_0xa22b78,_0x34f144){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0xa22b78,_0x34f144);}['updateMatr'+'ixPalette'](_0x43824a,_0x1c7bd2){this['_updateMat'+'rices'](_0x43824a,_0x1c7bd2);const _0x818d08=this['matrixPale'+'tte'],_0xf551e7=this['bones']['length'];for(let _0x57b3e4=-0x201+0x1d21+0x20*-0xd9;_0x57b3e4<_0xf551e7;_0x57b3e4++){const _0x54cb78=this['matrices'][_0x57b3e4]['data'],_0x3578d4=_0x57b3e4*(-0x1358+-0x8*0x81+0x1*0x176c);_0x818d08[_0x3578d4]=_0x54cb78[0xb*0xf+0x819+-0x8be],_0x818d08[_0x3578d4+(-0x26f1+-0x1*-0xacb+0x1c27)]=_0x54cb78[0x1395+0x15b*0x1c+-0x5f*0x9b],_0x818d08[_0x3578d4+(0x1*0x110c+-0x1e79+-0xb5*-0x13)]=_0x54cb78[0xa*-0x91+0xb97*0x2+0x45f*-0x4],_0x818d08[_0x3578d4+(0x9e9*-0x1+-0x17bc+0x2ce*0xc)]=_0x54cb78[0x757*-0x1+0x1cb*-0x3+0x1*0xcc4],_0x818d08[_0x3578d4+(0x717+0xe58+-0x1*0x156b)]=_0x54cb78[-0x4*-0x3ea+0x1*-0x2061+0x10ba],_0x818d08[_0x3578d4+(0x1*-0x1143+0x26*0x16+-0x17*-0x9c)]=_0x54cb78[-0x1e97+-0x68c*0x1+0x74*0x52],_0x818d08[_0x3578d4+(0x3*0x82f+0x1c33+-0x34ba)]=_0x54cb78[0x1*-0x389+0x1483+-0x1*0x10f1],_0x818d08[_0x3578d4+(-0x1f+0x2086+-0x4*0x818)]=_0x54cb78[-0x1e*-0x4e+0x74*0x29+-0x1*0x1bab],_0x818d08[_0x3578d4+(0x1775+0x15c5*-0x1+0x4*-0x6a)]=_0x54cb78[-0x11a5+-0x1*0x571+0x1718],_0x818d08[_0x3578d4+(-0x7c8+-0x1f24+0x26f5)]=_0x54cb78[-0xb4c+0x7*0x592+-0x1bac],_0x818d08[_0x3578d4+(-0x4*0x73b+-0x1157+0x1b*0x1b7)]=_0x54cb78[-0x21c7*-0x1+0x1bd*0xf+-0x3bd0],_0x818d08[_0x3578d4+(-0x152f*-0x1+0x1*0x1168+-0x268c)]=_0x54cb78[-0x9a*0x16+0x107*0x17+-0xa57];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x3e5477,_0x55f541,_0x4ea03e){super();const _0x3c705b=_0x55f541['length'];this['init'](_0x3e5477,_0x3c705b),this['device']=_0x3e5477,this['rootNode']=_0x4ea03e,this['bones']=_0x55f541;}['updateMatr'+'ices'](_0x1ca95e,_0x33e0cb){}['updateMatr'+'ixPalette'](_0x86048b,_0x165ef9){const _0x2beb19=this['matrixPale'+'tte'],_0x2cdbd0=this['bones']['length'];for(let _0x2d6383=-0x47+-0x1*0x879+-0x8*-0x118;_0x2d6383<_0x2cdbd0;_0x2d6383++){const _0x128930=this['bones'][_0x2d6383]['getWorldTr'+'ansform']()['data'],_0x281bf1=_0x2d6383*(0x1895+0xbaf*0x3+-0x1d*0x20e);_0x2beb19[_0x281bf1]=_0x128930[0x209b+0x38d+-0x2428],_0x2beb19[_0x281bf1+(0x50e*-0x1+0x15a0+-0x1091)]=_0x128930[0x1c*0x6+0x10ee*-0x2+-0x109c*-0x2],_0x2beb19[_0x281bf1+(0xa03*-0x2+-0x1*-0x1190+0x278)]=_0x128930[-0x1108+-0xbd0+0x1ce0],_0x2beb19[_0x281bf1+(0x1f76+0x1f56+-0x1*0x3ec9)]=_0x128930[0x2*-0x96b+0x2025+-0xd43],_0x2beb19[_0x281bf1+(-0xeba+-0x2*0xd6a+0x2992)]=_0x128930[0x11e*0x1c+-0x505+-0x1a42],_0x2beb19[_0x281bf1+(0x1*0x75a+-0xf68+0x813)]=_0x128930[0x433+-0x29*0xcd+-0x2d*-0xa3],_0x2beb19[_0x281bf1+(-0x2586+-0xc89*0x2+0x3e9e)]=_0x128930[0x54a+-0x135c+0xe1b],_0x2beb19[_0x281bf1+(0x8b*-0x40+-0x680+0x2947)]=_0x128930[0x6d2+-0x2*-0x27a+-0xbb9],_0x2beb19[_0x281bf1+(-0xd*-0x2a5+0x35+-0x228e)]=_0x128930[0x12e+-0x1*-0x2685+0x9*-0x469],_0x2beb19[_0x281bf1+(-0x14bf*0x1+-0x1267+-0x599*-0x7)]=_0x128930[0x2c5*-0x8+0x2690+-0x1062],_0x2beb19[_0x281bf1+(0x3*0x977+0xff2+0x2c4d*-0x1)]=_0x128930[0x1*0x1c4b+0x21f7+0x16*-0x2d4],_0x2beb19[_0x281bf1+(-0xc9d*-0x1+0x1b0a+-0x279c)]=_0x128930[0x3*-0x97a+-0x1*0x2353+0x3fcf];}this['uploadBone'+'s'](this['device']);}}let gE=-0x1aed+-0x1e7*0x2+-0x1ebb*-0x1;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x6d*0x3d+-0x9fe*-0x1+-0x23f6),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x10c*0x23+-0x7*-0x487+0x4f3,this['maxIndices']=0x7*-0x2bd+-0x605+0x1930,this['vertexCoun'+'t']=-0x1*-0x1819+-0xaae+-0xd6b,this['indexCount']=0x230d+-0xa59*0x1+-0xba*0x22,this['vertexStre'+'amsUpdated']=!(-0x2315*-0x1+-0x9+-0x230b*0x1),this['indexStrea'+'mUpdated']=!(0x7*-0x18e+-0xff6*0x2+-0xe45*-0x3),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x2745a2,_0x279bd5){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x2745a2,'Vertex\x20str'+'eam\x20'+_0x279bd5+'\x20has\x20'+_0x2745a2+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x2745a2;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x4c1+0x854+-0xd12),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x75e+0x2487+-0x2be2),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x25f0+-0x738+0x2d2a),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x6*-0x51d+0x2*0x6fb+0x10bc);class SE{constructor(_0x43bad2,_0xb1e730,_0x49c5e7,_0x19b93b,_0x5d455b){this['data']=_0x43bad2,this['componentC'+'ount']=_0xb1e730,this['dataType']=_0x49c5e7,this['dataTypeNo'+'rmalize']=_0x19b93b,this['asInt']=_0x5d455b;}}class Ge extends wd{constructor(_0x214149,_0x44196e){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x1*0x26e+0x1b2+-0x420),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0x211*-0x7+0x89e+-0x1714*0x1)),h(this,'_storageVe'+'rtex',!(-0xd*0x2b3+-0x175c+0x3a74)),(this['id']=gE++,w['assert'](_0x214149,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x214149,this['_storageIn'+'dex']=(_0x44196e==null?void(-0x4*0x5a1+0x196*0xf+-0x146):_0x44196e['storageInd'+'ex'])||!(-0xd40*-0x2+-0x720+-0x135f),this['_storageVe'+'rtex']=(_0x44196e==null?void(0x65c*-0x4+-0x6a9+-0x3*-0xab3):_0x44196e['storageVer'+'tex'])||!(-0x4*0x6a1+0x1832+-0x5*-0x77));}static['fromGeomet'+'ry'](_0x4f62f0,_0x5e1e04,_0x1b9de6={}){const _0x57fdf5=new Ge(_0x4f62f0,_0x1b9de6),{positions:_0x227bac,normals:_0x411b85,tangents:_0x490772,colors:_0x3d70ab,uvs:_0xe172e,uvs1:_0x303a76,blendIndices:_0x3970c4,blendWeights:_0x5e0940,indices:_0x3447cb}=_0x5e1e04;return _0x227bac&&_0x57fdf5['setPositio'+'ns'](_0x227bac),_0x411b85&&_0x57fdf5['setNormals'](_0x411b85),_0x490772&&_0x57fdf5['setVertexS'+'tream'](yi,_0x490772,-0x110a*-0x1+0x10f1+-0x21f7*0x1),_0x3d70ab&&_0x57fdf5['setColors3'+'2'](_0x3d70ab),_0xe172e&&_0x57fdf5['setUvs'](0x2f2+0xf1*-0x1f+-0x8bf*-0x3,_0xe172e),_0x303a76&&_0x57fdf5['setUvs'](-0xe61+0x18*-0xa1+0x1d7a,_0x303a76),_0x3970c4&&_0x57fdf5['setVertexS'+'tream'](us,_0x3970c4,-0x1*0x246b+0x22d3*-0x1+0x4742,_0x3970c4['length']/(0x646*0x5+-0x15*-0x189+0x49*-0xdf),la),_0x5e0940&&_0x57fdf5['setVertexS'+'tream'](gi,_0x5e0940,0x267b+0x13c1+-0x3a38),_0x3447cb&&_0x57fdf5['setIndices'](_0x3447cb),_0x57fdf5['update'](),_0x57fdf5;}set['morph'](_0x3a4941){_0x3a4941!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x3a4941,_0x3a4941&&_0x3a4941['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x5caf80){this['_aabb']=_0x5caf80,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x58b420=this['morph'];_0x58b420&&(this['morph']=null,_0x58b420['refCount']<0x1c1e+-0x11*-0xf9+0x2ca6*-0x1&&_0x58b420['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x2bfcce=-0x23b4+0xca6*-0x3+0x49a6;_0x2bfcce<this['indexBuffe'+'r']['length'];_0x2bfcce++)this['_destroyIn'+'dexBuffer'](_0x2bfcce);this['indexBuffe'+'r']['length']=-0x5d4+-0x1*-0x798+-0x1c4,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x4f6896){this['indexBuffe'+'r'][_0x4f6896]&&(this['indexBuffe'+'r'][_0x4f6896]['destroy'](),this['indexBuffe'+'r'][_0x4f6896]=null);}['_initBoneA'+'abbs'](_0xefd18c){this['boneAabb']=[],this['boneUsed']=[];let _0x1c74d1,_0x14cd28,_0x167666,_0x45846b,_0x4c2705;const _0x2b5d50=[],_0x1c376e=[],_0x245f9f=this['boneUsed'],_0x3ff59f=this['skin']['boneNames']['length'];let _0x3c13d8,_0xebcc8d,_0xc5c980;for(let _0x4ae6c4=-0x2126+-0x1*-0x249b+-0x375;_0x4ae6c4<_0x3ff59f;_0x4ae6c4++)_0x2b5d50[_0x4ae6c4]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x1c376e[_0x4ae6c4]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0xdb6253=new Uo(this['vertexBuff'+'er']),_0x557790=_0xdb6253['element'][Me],_0x5894eb=_0xdb6253['element'][gi],_0x51ab52=_0xdb6253['element'][us],_0x391a24=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x5e7f67=-0x401+0x2345+-0x1f44;_0x5e7f67<_0x391a24;_0x5e7f67++){for(let _0x53cdd9=-0x2234+-0x1*-0x2ed+-0x1d7*-0x11;_0x53cdd9<-0x1d09+-0x47*0x4f+0x32f6*0x1;_0x53cdd9++)if(_0x5894eb['array'][_0x5894eb['index']+_0x53cdd9]>-0xe57+0x878*0x3+-0xb11){const _0x266259=_0x51ab52['array'][_0x51ab52['index']+_0x53cdd9];if(_0x245f9f[_0x266259]=!(-0x1cd4+0x100a*0x1+-0x665*-0x2),_0x1c74d1=_0x557790['array'][_0x557790['index']],_0x14cd28=_0x557790['array'][_0x557790['index']+(0xe67+-0xdfb+-0x6b)],_0x167666=_0x557790['array'][_0x557790['index']+(-0xec+-0x1e17+0x1*0x1f05)],_0x45846b=_0x1c376e[_0x266259],_0x4c2705=_0x2b5d50[_0x266259],_0x4c2705['x']>_0x1c74d1&&(_0x4c2705['x']=_0x1c74d1),_0x4c2705['y']>_0x14cd28&&(_0x4c2705['y']=_0x14cd28),_0x4c2705['z']>_0x167666&&(_0x4c2705['z']=_0x167666),_0x45846b['x']<_0x1c74d1&&(_0x45846b['x']=_0x1c74d1),_0x45846b['y']<_0x14cd28&&(_0x45846b['y']=_0x14cd28),_0x45846b['z']<_0x167666&&(_0x45846b['z']=_0x167666),_0xefd18c){let _0x22c3d5=_0x3c13d8=_0x1c74d1,_0x136d7d=_0xebcc8d=_0x14cd28,_0x26d927=_0xc5c980=_0x167666;for(let _0x2f0b4d=-0x2*0x45c+-0x2e*0x2d+0x10ce;_0x2f0b4d<_0xefd18c['length'];_0x2f0b4d++){const _0x2088ea=_0xefd18c[_0x2f0b4d],_0x223013=_0x2088ea['deltaPosit'+'ions'][_0x5e7f67*(0x15c*-0x7+-0x73*0x25+0xd13*0x2)],_0x1f55af=_0x2088ea['deltaPosit'+'ions'][_0x5e7f67*(-0x6a6+-0x3*-0x11b+0x358)+(-0x50*0x2d+-0x3c9*0x3+-0x65b*-0x4)],_0x544b5e=_0x2088ea['deltaPosit'+'ions'][_0x5e7f67*(-0x208+0x249b+-0x2290)+(-0x2f9+0x29b*0xe+-0x23*0xf5)];_0x223013<-0x445+0x466+-0x21?_0x22c3d5+=_0x223013:_0x3c13d8+=_0x223013,_0x1f55af<-0x3*0x1ff+-0x1bd9+0x21d6?_0x136d7d+=_0x1f55af:_0xebcc8d+=_0x1f55af,_0x544b5e<-0xe01*-0x2+0x11*-0xb3+-0x101f?_0x26d927+=_0x544b5e:_0xc5c980+=_0x544b5e;}_0x4c2705['x']>_0x22c3d5&&(_0x4c2705['x']=_0x22c3d5),_0x4c2705['y']>_0x136d7d&&(_0x4c2705['y']=_0x136d7d),_0x4c2705['z']>_0x26d927&&(_0x4c2705['z']=_0x26d927),_0x45846b['x']<_0x3c13d8&&(_0x45846b['x']=_0x3c13d8),_0x45846b['y']<_0xebcc8d&&(_0x45846b['y']=_0xebcc8d),_0x45846b['z']<_0xc5c980&&(_0x45846b['z']=_0xc5c980);}}_0xdb6253['next']();}const _0x36bd29=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x13ff03=>_0x13ff03['name']===Me);if(_0x36bd29&&_0x36bd29['normalize']){const _0x202547=((()=>{switch(_0x36bd29['dataType']){case dd:return _0x48a03b=>Math['max'](_0x48a03b/(-0x877+-0x1*0x1b88+-0x36*-0xad),-(0x26d6+-0x250+-0x2485));case la:return _0x41ddbd=>_0x41ddbd/(0x23bf+-0x31d*-0x3+-0x2c17*0x1);case fd:return _0x20101d=>Math['max'](_0x20101d/(-0x4cf*0xb+0xa9*-0x23+0xcbff),-(0x829*-0x4+0x1a8c+0x619));case Ml:return _0x33210c=>_0x33210c/(0x1896e+-0x4*0x1be8+-0x19cf);default:return _0x37bd9a=>_0x37bd9a;}})());for(let _0x514226=0x18c5+-0x2698+0xdd3;_0x514226<_0x3ff59f;_0x514226++)if(_0x245f9f[_0x514226]){const _0x38410c=_0x2b5d50[_0x514226],_0x3c98d8=_0x1c376e[_0x514226];_0x38410c['set'](_0x202547(_0x38410c['x']),_0x202547(_0x38410c['y']),_0x202547(_0x38410c['z'])),_0x3c98d8['set'](_0x202547(_0x3c98d8['x']),_0x202547(_0x3c98d8['y']),_0x202547(_0x3c98d8['z']));}}for(let _0xfc4dd8=0x896*-0x4+-0x195*-0xf+0xa9d;_0xfc4dd8<_0x3ff59f;_0xfc4dd8++){const _0x3b9cf4=new De();_0x3b9cf4['setMinMax'](_0x2b5d50[_0xfc4dd8],_0x1c376e[_0xfc4dd8]),this['boneAabb']['push'](_0x3b9cf4);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x3*0x291+-0x92*0x18+0x1563&&this['indexBuffe'+'r'][0x4*0x394+-0x5fa+-0xb*0xc2]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x72f+0x1d6d+-0x1b6*0xd]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0xa1*0x2b+-0x544+0xdf*-0x19]['numIndices']));}['clear'](_0x584177,_0x2b1ba0,_0x4c7cfe=-0x1*-0x16e1+-0x219f+0xabe,_0x2b1727=-0x2*-0x728+-0x1dbb+0xf6b){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x2*-0xd33+0x18*-0xd0+-0xeb*-0x32),this['_geometryD'+'ata']['maxVertice'+'s']=_0x4c7cfe,this['_geometryD'+'ata']['maxIndices']=_0x2b1727,this['_geometryD'+'ata']['verticesUs'+'age']=_0x584177?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x2b1ba0?ms:lh;}['setVertexS'+'tream'](_0x4b8051,_0x2c8d82,_0x3e182b,_0x2962ef,_0xe370bc=Ve,_0x3df0bb=!(-0x1*-0xd13+-0x19b7+0xd*0xf9),_0x3e562b=!(0x1*0x511+-0x86+0x1*-0x48a)){this['_initGeome'+'tryData']();const _0x12e7f1=_0x2962ef||_0x2c8d82['length']/_0x3e182b;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x12e7f1,_0x4b8051),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1a1d+0x1e*0xa9+0x64f),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4b8051]=new SE(_0x2c8d82,_0x3e182b,_0xe370bc,_0x3df0bb,_0x3e562b);}['getVertexS'+'tream'](_0x22ced8,_0x866e5e){let _0x427a53=0x18c9+0x89b*-0x1+-0x26*0x6d,_0x5bc5f5=!(-0x3*0x164+-0x8e3+0xd10*0x1);if(this['_geometryD'+'ata']){const _0x497342=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x22ced8];_0x497342&&(_0x5bc5f5=!(-0x4b3+0x1*0xd71+-0x3*0x2ea),_0x427a53=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x866e5e)?_0x866e5e['set'](_0x497342['data']):(_0x866e5e['length']=0x94f+0x247+0x2*-0x5cb,_0x866e5e['push'](_0x497342['data'])));}return _0x5bc5f5||this['vertexBuff'+'er']&&(_0x427a53=new Uo(this['vertexBuff'+'er'])['readData'](_0x22ced8,_0x866e5e)),_0x427a53;}['setPositio'+'ns'](_0x5005a7,_0x271771=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0xd8cb11){this['setVertexS'+'tream'](Me,_0x5005a7,_0x271771,_0xd8cb11,Ve,!(0x54*0x5d+0x1*-0x3e5+-0x1a9e));}['setNormals'](_0x4e290c,_0x30659e=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x41c001){this['setVertexS'+'tream'](gs,_0x4e290c,_0x30659e,_0x41c001,Ve,!(0xe3*0x8+-0x2e*0x3e+0x40d));}['setUvs'](_0x2056d0,_0x804d59,_0x46eff0=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x34f08c){this['setVertexS'+'tream'](zm+_0x2056d0,_0x804d59,_0x46eff0,_0x34f08c,Ve,!(0x3*0x52d+0xed1+0x1e57*-0x1));}['setColors'](_0x1e0d0,_0x42ea93=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2b3011){this['setVertexS'+'tream'](Wt,_0x1e0d0,_0x42ea93,_0x2b3011,Ve,!(0x19a1+0x3*0x90f+-0x34cd));}['setColors3'+'2'](_0x5c94ed,_0x26f915){this['setVertexS'+'tream'](Wt,_0x5c94ed,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x26f915,la,!(-0x7*0x203+-0x9fb+-0x58*-0x46));}['setIndices'](_0xa0ca86,_0x183738){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0xd40+-0x1e9b+0x115b),this['_geometryD'+'ata']['indices']=_0xa0ca86,this['_geometryD'+'ata']['indexCount']=_0x183738||_0xa0ca86['length'];}['getPositio'+'ns'](_0x5d5f76){return this['getVertexS'+'tream'](Me,_0x5d5f76);}['getNormals'](_0x3586b3){return this['getVertexS'+'tream'](gs,_0x3586b3);}['getUvs'](_0x529e57,_0x1c1c36){return this['getVertexS'+'tream'](zm+_0x529e57,_0x1c1c36);}['getColors'](_0xd9814a){return this['getVertexS'+'tream'](Wt,_0xd9814a);}['getIndices'](_0x14c232){let _0x220644=-0xd*0x79+0x3*-0x5ee+0x17ef;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0xe7ba20=this['_geometryD'+'ata']['indices'];if(_0x220644=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x14c232))_0x14c232['set'](_0xe7ba20);else{_0x14c232['length']=0x1*0x25cd+0xbe9+-0x65*0x7e;for(let _0x31104c=-0x1*0x2009+0x1*0x7bd+0x184c,_0x4f4f1b=_0xe7ba20['length'];_0x31104c<_0x4f4f1b;_0x31104c++)_0x14c232['push'](_0xe7ba20[_0x31104c]);}}else this['indexBuffe'+'r']['length']>-0x4*0x83+-0x23f+0x44b&&this['indexBuffe'+'r'][-0x20a6+0x55a+0x1b4c]&&(_0x220644=this['indexBuffe'+'r'][0x20f2+0x47f*-0x3+-0x1375]['readData'](_0x14c232));return _0x220644;}['update'](_0x20e7a5=js,_0x41be68=!(-0x1*-0x452+-0x2477+-0xd3*-0x27)){if(this['_geometryD'+'ata']){if(_0x41be68){const _0x17742f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x17742f&&_0x17742f['componentC'+'ount']===0x2596+-0x1085+-0xa*0x21b&&(this['_aabb']['compute'](_0x17742f['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0xf783b3=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0xf783b3=!(-0x1655*0x1+-0x1e21+0x3476),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0xf783b3&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x5da2ad=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x5da2ad=!(-0x24a*-0x1+0x2*-0x683+0xabc),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x5da2ad&&this['indexBuffe'+'r']['length']>0x2029*0x1+0x3e7*-0x2+-0x185b&&this['indexBuffe'+'r'][-0x185+0x25bb*0x1+0x135*-0x1e]&&(this['indexBuffe'+'r'][-0x267c+-0x755+0x2dd1*0x1]['destroy'](),this['indexBuffe'+'r'][0x17*0x66+0x1413+-0x9bf*0x3]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x59d*0x5+-0xe59*0x1+0x8*-0x1b7]['type']=_0x20e7a5,this['indexBuffe'+'r']['length']>0x1b27+0x1*0xbe7+0x2*-0x1387&&this['indexBuffe'+'r'][0xa9e+0xd8f+-0x182d]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x280*0x6+0x521*0x2+-0x4be*-0x1]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x236e+0x1377+0x3d*0x43]['indexed']=!(0xa71+0x13aa+-0x1e1b)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x44d+-0x22b7*-0x1+-0x1e6a]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x8e3+0x81f+0x26e*-0x7]['indexed']=!(0x11f9+-0xd98+-0x1*0x460)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x6a3*0x4+-0x236e*-0x1+-0x8e2,this['_geometryD'+'ata']['indexCount']=-0x7c8*-0x4+-0x1*-0x7b7+-0x26d7,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x11*-0x23d+-0x1f88+-0x4*0x1a1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x116b+0x1511*-0x1+-0x1*-0x267d),this['_geometryD'+'ata']['recreate']=!(0x6a*-0x49+0x1483+0x9b8),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x193645){const _0x2a49f1=[];for(const _0x4491a8 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x570470=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4491a8];_0x2a49f1['push']({'semantic':_0x4491a8,'components':_0x570470['componentC'+'ount'],'type':_0x570470['dataType'],'normalize':_0x570470['dataTypeNo'+'rmalize'],'asInt':_0x570470['asInt']});}return new kt(this['device'],_0x2a49f1,_0x193645);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x402b84=this['_geometryD'+'ata']['maxVertice'+'s'],_0x384d1b=this['_buildVert'+'exFormat'](_0x402b84);this['vertexBuff'+'er']=new Is(this['device'],_0x384d1b,_0x402b84,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x76017f=new Uo(this['vertexBuff'+'er']),_0x309b9e=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x90144c in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x15cad9=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x90144c];_0x76017f['writeData'](_0x90144c,_0x15cad9['data'],_0x309b9e),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x90144c];}_0x76017f['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1f73+-0x832+-0x1741||!this['indexBuffe'+'r'][-0x229e+0x114f+0x279*0x7]){const _0x17f3e9=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1f8398=_0x17f3e9>-0x731*0x1d+-0x1dcde+0x3ad6a||_0x17f3e9===-0x265c+0xa2d*0x2+0x1202?wr:Yi,_0x181f1f=this['_storageIn'+'dex']?{'storage':!(0x146*0xb+-0x5d1+-0x1*0x831)}:void(-0x2617+-0xbb9+-0x31d0*-0x1);this['indexBuffe'+'r'][0x1312+0x1644+-0x8f*0x4a]=new br(this['device'],_0x1f8398,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1bb*0x1+-0x1bc9+0x1a0e),_0x181f1f);}const _0x5b1d42=this['_geometryD'+'ata']['indices'];_0x5b1d42&&(this['indexBuffe'+'r'][0x15b7+-0x127f+-0x338]['writeData'](_0x5b1d42,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x33535f){_0x33535f===$r?this['generateWi'+'reframe']():_0x33535f===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x978+-0x23c7+0x1a4f,'indexed':!(0x7*-0x170+-0x1fac+0x29bd)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x3b278b=this['vertexBuff'+'er']['numVertice'+'s'],_0x200547=[];let _0x34ce77;if(this['indexBuffe'+'r']['length']>0x18f7+0x15*-0xdc+-0x6eb&&this['indexBuffe'+'r'][0x1*-0x1b4f+-0xc9d+0x27ec]){const _0x1df2f8=[[0x6f*-0x4a+0x384+0x1c92,0x18b9*0x1+-0x192d+0x75],[0x9ef*0x2+0x2d2*0xb+-0x32e3,0x4ed+-0x1*0x18e6+0x13fb],[-0xc1*0xa+0x5*0x1d6+0xd1*-0x2,0x1a62+-0x1*-0x2615+0x1*-0x4077]],_0x590254=this['primitive'][un]['base'],_0x4f20f9=this['primitive'][un]['count'],_0x9c105f=this['primitive'][un]['baseVertex']||-0x1*0xbf0+0x3*0xc2c+-0x2c*0x8f,_0x50d34e=this['indexBuffe'+'r'][un],_0x2026ba=new Sh[_0x50d34e['format']](_0x50d34e['storage']),_0x17e162=new Set();for(let _0x213451=_0x590254;_0x213451<_0x590254+_0x4f20f9;_0x213451+=-0x210b+0x1f4d+-0x1c1*-0x1)for(let _0x1df6aa=-0x163e+0x2c*-0x84+0x2cee;_0x1df6aa<-0xc*0x164+0x2*-0x42+0x1137;_0x1df6aa++){const _0x4ccb53=_0x2026ba[_0x213451+_0x1df2f8[_0x1df6aa][-0x1*-0x1d5a+-0x25*-0xdd+-0x3d4b]]+_0x9c105f,_0x5685cb=_0x2026ba[_0x213451+_0x1df2f8[_0x1df6aa][0x15f*-0x1a+0x134e*-0x2+0x4a43]]+_0x9c105f,_0x4670cb=_0x4ccb53>_0x5685cb?_0x5685cb*_0x3b278b+_0x4ccb53:_0x4ccb53*_0x3b278b+_0x5685cb;_0x17e162['has'](_0x4670cb)||(_0x17e162['add'](_0x4670cb),_0x200547['push'](_0x4ccb53,_0x5685cb));}_0x34ce77=_0x50d34e['format'];}else{for(let _0x32a842=0x8*0x34+-0x1ef*-0x1+-0x1*0x38f;_0x32a842<_0x3b278b;_0x32a842+=0x1cf1*0x1+0x4c4+0x21b2*-0x1)_0x200547['push'](_0x32a842,_0x32a842+(0x74b+0xb28+0x3*-0x626),_0x32a842+(-0x5*-0x689+-0x209e+-0xe),_0x32a842+(-0x1c53+-0x1d91+-0x2*-0x1cf3),_0x32a842+(-0x2ab*-0x8+0x33f*0x6+0x8*-0x51a),_0x32a842);_0x34ce77=_0x200547['length']>-0x155b1+0x8*0x565+0x22a88?wr:Yi;}const _0x154f0c=new br(this['vertexBuff'+'er']['device'],_0x34ce77,_0x200547['length']);new Sh[_0x154f0c['format']](_0x154f0c['storage'])['set'](_0x200547),_0x154f0c['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x200547['length'],'indexed':!(-0x77d+-0x1af+0x92c)},this['indexBuffe'+'r'][$r]=_0x154f0c;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x17243e,_0x1c939e){return _0x17243e instanceof Function?_0x17243e:_0x3cb46f=>{let _0x2728dc=_0x3cb46f[_0x17243e];return _0x2728dc instanceof Function&&(_0x2728dc=_0x2728dc()),_0x2728dc===_0x1c939e;};}function Sv(_0x4a4f5b,_0x3a7582){if(_0x3a7582(_0x4a4f5b))return _0x4a4f5b;const _0x268b1a=_0x4a4f5b['_children'],_0x2c43c0=_0x268b1a['length'];for(let _0x4c1aef=-0x820+0x1*-0x2e8+0xb08;_0x4c1aef<_0x2c43c0;++_0x4c1aef){const _0x4660b0=Sv(_0x268b1a[_0x4c1aef],_0x3a7582);if(_0x4660b0)return _0x4660b0;}return null;}class Ie extends me{constructor(_0x3be7e7='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(-0x175d*-0x1+-0x1*-0x2462+0x6*-0x9f5,0x1ad4+0x18fb+-0x33ce,-0x137*-0xb+-0xe57+0xfb)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0x6a0+-0x1bc0+-0x1*-0x2261)),h(this,'_aabbVer',-0x1*-0xae2+0x26d1+-0x31b3),h(this,'_frozen',!(0x18*0xb1+-0xf6*0x7+-0x1*0x9dd)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x57c+0x84b+-0xdc6)),h(this,'_worldScal'+'eSign',0x21dc+-0x24a1+0x1*0x2c5),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x3ad+0x247c+-0x20cf)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x13be+-0x1ff1+-0x83*-0x65),h(this,'_enabled',!(0x21b+-0x1*0x41b+-0x100*-0x2)),h(this,'_enabledIn'+'Hierarchy',!(0x2699+0x1227+-0x38bf)),h(this,'scaleCompe'+'nsation',!(-0x1*0x1d1b+-0x1ae5*-0x1+-0x3f*-0x9)),this['name']=_0x3be7e7;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1*-0x3b5+0x322*-0x7+-0x2*-0x91d));}get['normalMatr'+'ix'](){const _0x19528f=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x19528f['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x25*-0x56+0x747*0x1+0x4*0x14a)),_0x19528f;}set['enabled'](_0x303042){var _0x163347;this['_enabled']!==_0x303042&&(this['_enabled']=_0x303042,(_0x303042&&((_0x163347=this['_parent'])!=null&&_0x163347['enabled'])||!_0x303042)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x303042));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x16a37e=this['_parent'];if(!_0x16a37e)return'';let _0x43c2a0=this['name'];for(;_0x16a37e&&_0x16a37e['_parent'];)_0x43c2a0=_0x16a37e['name']+'/'+_0x43c2a0,_0x16a37e=_0x16a37e['_parent'];return _0x43c2a0;}get['root'](){let _0x12c2eb=this;for(;_0x12c2eb['_parent'];)_0x12c2eb=_0x12c2eb['_parent'];return _0x12c2eb;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1fd301,_0x20c151){_0x1fd301['_onHierarc'+'hyStateCha'+'nged'](_0x20c151);const _0x250bed=_0x1fd301['_children'];for(let _0x563b5f=-0x7ae+0x1f9d+-0x17ef,_0x9e079c=_0x250bed['length'];_0x563b5f<_0x9e079c;_0x563b5f++)_0x250bed[_0x563b5f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x250bed[_0x563b5f],_0x20c151);}['_onHierarc'+'hyStateCha'+'nged'](_0x5bef74){this['_enabledIn'+'Hierarchy']=_0x5bef74,_0x5bef74&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x102c13){_0x102c13['name']=this['name'];const _0x45539e=this['tags']['_list'];_0x102c13['tags']['clear']();for(let _0x4dd0b4=-0xda9*-0x1+0x157b+-0x2324;_0x4dd0b4<_0x45539e['length'];_0x4dd0b4++)_0x102c13['tags']['add'](_0x45539e[_0x4dd0b4]);_0x102c13['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x102c13['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x102c13['localScale']['copy'](this['localScale']),_0x102c13['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x102c13['position']['copy'](this['position']),_0x102c13['rotation']['copy'](this['rotation']),_0x102c13['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x102c13['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x102c13['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x102c13['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x102c13['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x102c13['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x102c13['_aabbVer']=this['_aabbVer']+(-0x26ab+-0x4b2*0x3+0x34c2),_0x102c13['_enabled']=this['_enabled'],_0x102c13['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x102c13['_enabledIn'+'Hierarchy']=!(0x1bc6+-0x13dd+-0x7e8*0x1);}['clone'](){const _0x57c5c1=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x57c5c1),_0x57c5c1;}['copy'](_0x8760ae){return _0x8760ae['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4e0f9c=this['_children'];for(;_0x4e0f9c['length'];){const _0x4c0388=_0x4e0f9c['pop']();_0x4c0388['_parent']=null,_0x4c0388['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x4b2be4,_0x384e74){const _0x2a2a4f=[],_0x54ddc8=b_(_0x4b2be4,_0x384e74);return this['forEach'](_0x182b04=>{_0x54ddc8(_0x182b04)&&_0x2a2a4f['push'](_0x182b04);}),_0x2a2a4f;}['findOne'](_0xc9200e,_0x89b5af){const _0x46b74a=b_(_0xc9200e,_0x89b5af);return Sv(this,_0x46b74a);}['findByTag'](..._0x265c84){const _0x3ce44b=[],_0x21c1ad=(_0x5d09e0,_0x152b3d)=>{_0x152b3d&&_0x5d09e0['tags']['has'](..._0x265c84)&&_0x3ce44b['push'](_0x5d09e0);for(let _0x274941=0x19db+0x1cf9*-0x1+0x31e;_0x274941<_0x5d09e0['_children']['length'];_0x274941++)_0x21c1ad(_0x5d09e0['_children'][_0x274941],!(-0xce+-0x5*-0x86+-0x1d0));};return _0x21c1ad(this,!(0xb06+0x14*0x7+-0x7*0x1a7)),_0x3ce44b;}['findByName'](_0x514abe){return this['findOne']('name',_0x514abe);}['findByPath'](_0x28674a){const _0x2494f3=Array['isArray'](_0x28674a)?_0x28674a:_0x28674a['split']('/');let _0x270d37=this;for(let _0x4219e7=-0x4*-0x67+-0x166a+0x1*0x14ce,_0x315b57=_0x2494f3['length'];_0x4219e7<_0x315b57;++_0x4219e7)if(_0x270d37=_0x270d37['children']['find'](_0x43f134=>_0x43f134['name']===_0x2494f3[_0x4219e7]),!_0x270d37)return null;return _0x270d37;}['forEach'](_0x35bb97,_0x422dfa){_0x35bb97['call'](_0x422dfa,this);const _0x7fdf2f=this['_children'],_0x34d785=_0x7fdf2f['length'];for(let _0x305a64=0x1*-0x1def+-0x1864+0x1*0x3653;_0x305a64<_0x34d785;++_0x305a64)_0x7fdf2f[_0x305a64]['forEach'](_0x35bb97,_0x422dfa);}['isDescenda'+'ntOf'](_0x22520b){let _0x3a00ec=this['_parent'];for(;_0x3a00ec;){if(_0x3a00ec===_0x22520b)return!(0x1e81*0x1+-0x1f8b+0x10a);_0x3a00ec=_0x3a00ec['_parent'];}return!(0x1e71+-0x1*0xe6c+-0x5*0x334);}['isAncestor'+'Of'](_0x5dd4ea){return _0x5dd4ea['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1a02*0x1+0xfbb+-0x4*0xa6f)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x1*0x6b5+0x9ff+-0x1a5*0x2&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x53f2ed;(_0x53f2ed=this['_parent'])==null||_0x53f2ed['removeChil'+'d'](this);}['reparent'](_0x35df9d,_0xce6338){this['remove'](),_0x35df9d&&(_0xce6338>=-0x2537+-0x2*-0xb7d+-0x2d*-0x51?_0x35df9d['insertChil'+'d'](this,_0xce6338):_0x35df9d['addChild'](this));}['setLocalEu'+'lerAngles'](_0x44320e,_0x1c6694,_0x5767da){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x44320e,_0x1c6694,_0x5767da),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0xd13ed2,_0x4cc7fe,_0x57a5b6){_0xd13ed2 instanceof D?this['localPosit'+'ion']['copy'](_0xd13ed2):this['localPosit'+'ion']['set'](_0xd13ed2,_0x4cc7fe,_0x57a5b6),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x2f1a13,_0x1a8091,_0x47b71b,_0x589eb3){_0x2f1a13 instanceof le?this['localRotat'+'ion']['copy'](_0x2f1a13):this['localRotat'+'ion']['set'](_0x2f1a13,_0x1a8091,_0x47b71b,_0x589eb3),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x36f14a,_0x164c66,_0x36a667){_0x36f14a instanceof D?this['localScale']['copy'](_0x36f14a):this['localScale']['set'](_0x36f14a,_0x164c66,_0x36a667),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x47f+-0x5f7*-0x1+-0xa76),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x9d7da1=this['_parent'];for(;_0x9d7da1;)_0x9d7da1['_frozen']=!(-0x19c1+0x1925*-0x1+-0x32e7*-0x1),_0x9d7da1=_0x9d7da1['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x16b1+0xe9f*-0x2+0x33f0),this['_dirtyWorl'+'d']=!(0xcb6*0x1+-0x86+-0xc30);for(let _0x31a409=0x19db+0x62a+-0x2005;_0x31a409<this['_children']['length'];_0x31a409++)this['_children'][_0x31a409]['_dirtyWorl'+'d']||this['_children'][_0x31a409]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x12*-0x11b+-0xdd*-0x11+-0x7*-0xbf),this['_worldScal'+'eSign']=0x2*0x9a9+0x12b3*0x1+-0x2605,this['_aabbVer']++;}['setPositio'+'n'](_0x44c83d,_0xcaa36a,_0x57170b){_0x44c83d instanceof D?rs['copy'](_0x44c83d):rs['set'](_0x44c83d,_0xcaa36a,_0x57170b),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x2b6457,_0x21a571,_0x16147d,_0x403e51){if(_0x2b6457 instanceof le?as['copy'](_0x2b6457):as['set'](_0x2b6457,_0x21a571,_0x16147d,_0x403e51),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x41a797=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x41a797)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x35bacd,_0x348758){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x35bacd),this['localRotat'+'ion']['copy'](_0x348758);else{const _0xd91947=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0xd91947)['invert'](),ro['transformP'+'oint'](_0x35bacd,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x348758);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x3c0c42,_0xc3a750,_0x501ac6){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3c0c42,_0xc3a750,_0x501ac6),this['_parent']!==null){const _0x218132=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x218132)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x27b1e2){this['_prepareIn'+'sertChild'](_0x27b1e2),this['_children']['push'](_0x27b1e2),this['_onInsertC'+'hild'](_0x27b1e2);}['addChildAn'+'dSaveTrans'+'form'](_0x487ca9){const _0x54ffe8=_0x487ca9['getPositio'+'n'](),_0x59d6e2=_0x487ca9['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x487ca9),_0x487ca9['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x54ffe8)),_0x487ca9['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x59d6e2)),this['_children']['push'](_0x487ca9),this['_onInsertC'+'hild'](_0x487ca9);}['insertChil'+'d'](_0x1fddf7,_0x311392){this['_prepareIn'+'sertChild'](_0x1fddf7),this['_children']['splice'](_0x311392,-0x1ee5+0xae2*-0x1+-0xded*-0x3,_0x1fddf7),this['_onInsertC'+'hild'](_0x1fddf7);}['_prepareIn'+'sertChild'](_0x1b92b2){_0x1b92b2['remove'](),w['assert'](_0x1b92b2!==this,'GraphNode\x20'+(_0x1b92b2==null?void(-0x186b+-0x14f9+0x2d64):_0x1b92b2['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x1b92b2),'GraphNode\x20'+(_0x1b92b2==null?void(-0x6*0x419+-0x1718+0x2fae*0x1):_0x1b92b2['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x1d8c54,_0x490939,_0x342d0e){this['fire'](_0x1d8c54,_0x342d0e);for(let _0x2d7e62=0x19f*0xd+0x12b8+-0x27cb;_0x2d7e62<this['_children']['length'];_0x2d7e62++)this['_children'][_0x2d7e62]['_fireOnHie'+'rarchy'](_0x490939,_0x490939,_0x342d0e);}['_onInsertC'+'hild'](_0x5f289c){_0x5f289c['_parent']=this;const _0x28d3a2=_0x5f289c['_enabled']&&this['enabled'];_0x5f289c['_enabledIn'+'Hierarchy']!==_0x28d3a2&&(_0x5f289c['_enabledIn'+'Hierarchy']=_0x28d3a2,_0x5f289c['_notifyHie'+'rarchyStat'+'eChanged'](_0x5f289c,_0x28d3a2)),_0x5f289c['_updateGra'+'phDepth'](),_0x5f289c['_dirtifyWo'+'rld'](),this['_frozen']&&_0x5f289c['_unfreezeP'+'arentToRoo'+'t'](),_0x5f289c['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x5f289c);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x73*0x1f+-0x14db+0x6ef):-0x239*-0x3+-0xc35*-0x3+-0x2b4a;for(let _0x45576a=-0x7a3+0x1bde+-0x1*0x143b,_0x4ea06e=this['_children']['length'];_0x45576a<_0x4ea06e;_0x45576a++)this['_children'][_0x45576a]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x303a66){const _0x4f5299=this['_children']['indexOf'](_0x303a66);_0x4f5299!==-(-0x4e7+-0x6ec*-0x1+-0x56*0x6)&&(this['_children']['splice'](_0x4f5299,-0x1b00+0x1d*-0xb4+0x44f*0xb),_0x303a66['_parent']=null,_0x303a66['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x303a66));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0xd8d+0xc1*-0x1d+0x851)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x566ea4;const _0x105050=this['_parent'];let _0x292f92=this['localScale'],_0x5b0782=_0x105050;if(_0x5b0782){for(;_0x5b0782&&_0x5b0782['scaleCompe'+'nsation'];)_0x5b0782=_0x5b0782['_parent'];_0x5b0782&&(_0x5b0782=_0x5b0782['_parent'],_0x5b0782&&(_0x566ea4=_0x5b0782['worldTrans'+'form']['getScale'](),T_['mul2'](_0x566ea4,this['localScale']),_0x292f92=T_));}Wd['setFromMat'+'4'](_0x105050['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x27cbb7=_0x105050['worldTrans'+'form'];_0x105050['scaleCompe'+'nsation']&&(w_['mul2'](_0x566ea4,_0x105050['getLocalSc'+'ale']()),v_['setTRS'](_0x105050['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x27cbb7=v_),_0x27cbb7['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x292f92);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x156c*-0x1+-0x1046+-0x525);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x3*0x552+-0x9*0x1df+0x20cd),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x3e4af3=this['_children'];for(let _0x40970b=0xb9*-0x1+0xf*0xf4+0x2b7*-0x5,_0x32b79f=_0x3e4af3['length'];_0x40970b<_0x32b79f;_0x40970b++)_0x3e4af3[_0x40970b]['syncHierar'+'chy']();}['lookAt'](_0x326aac,_0xa8f200,_0x1e61a8,_0x515fa5=-0x2482+0x183d+0xc45,_0x5b43ba=-0x824*-0x1+0x731*0x2+-0x481*0x5,_0x19d28f=-0x22b8+0xa65*-0x2+0x7*0x7ee){if(_0x326aac instanceof D)$d['copy'](_0x326aac),_0xa8f200 instanceof D?tc['copy'](_0xa8f200):tc['copy'](D['UP']);else{if(_0x1e61a8===void(-0x1bcd+0x50*0x64+-0x373))return;$d['set'](_0x326aac,_0xa8f200,_0x1e61a8),tc['set'](_0x515fa5,_0x5b43ba,_0x19d28f);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x2c54f1,_0x5291f5,_0x106f3a){_0x2c54f1 instanceof D?rs['copy'](_0x2c54f1):rs['set'](_0x2c54f1,_0x5291f5,_0x106f3a),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x3a9274,_0x555d03,_0x5cf034){_0x3a9274 instanceof D?rs['copy'](_0x3a9274):rs['set'](_0x3a9274,_0x555d03,_0x5cf034),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x1e34d4,_0x3cced5,_0x2bd880){if(as['setFromEul'+'erAngles'](_0x1e34d4,_0x3cced5,_0x2bd880),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x43915e=this['getRotatio'+'n'](),_0x3feacb=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x3feacb)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x43915e);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x566964,_0x127240,_0x18cf01){as['setFromEul'+'erAngles'](_0x566964,_0x127240,_0x18cf01),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x3938eb){const _0x50b960=yv['get'](_0x3938eb);return w['assert'](_0x50b960),_0x50b960;}function xE(_0x3e06b0,_0x349d8b){w['assert'](_0x349d8b),yv['get'](_0x3e06b0,()=>_0x349d8b);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x54b230,_0x29a627)=>{_0x29a627['destroy']();}),this['cache']['clear']();}['incRef'](_0x2e61cc){const _0x809d01=(this['cache']['get'](_0x2e61cc)||0x16*-0x18d+0x4*0xd0+0x1ede)+(-0xa0e+-0x49a*-0x6+0x1*-0x118d);this['cache']['set'](_0x2e61cc,_0x809d01);}['decRef'](_0x3e710f){if(_0x3e710f){let _0x3e44b3=this['cache']['get'](_0x3e710f);_0x3e44b3&&(_0x3e44b3--,_0x3e44b3===0x4fb+-0xe10+0x915*0x1?(this['cache']['delete'](_0x3e710f),_0x3e710f['destroy']()):this['cache']['set'](_0x3e710f,_0x3e44b3));}}}class zi{static['incRef'](_0x515b9){this['cache']['incRef'](_0x515b9);}static['decRef'](_0x4a0ebe){this['cache']['decRef'](_0x4a0ebe);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x1110+-0x14ef+0x1*0x25ff;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x226c+0x22eb+0x1*-0x4553);class bE{constructor(_0x5718f6){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0xf*0x20b+-0x180f+0x36b5)),this['count']=_0x5718f6;}['destroy'](){var _0x40a559;this['_destroyVe'+'rtexBuffer']&&((_0x40a559=this['vertexBuff'+'er'])==null||_0x40a559['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x865*0x1+0x5d5+0x2*-0x71b));}['get'](_0x4bb73f){return this['map']['get'](_0x4bb73f)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x356d36){if(!this['bindGroup']){const _0x177645=this['shader'];w['assert'](_0x177645);const _0x98fe9d=_0x177645['meshBindGr'+'oupFormat'];w['assert'](_0x98fe9d),this['bindGroup']=new Up(_0x356d36,_0x98fe9d),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x222fad){if(!this['uniformBuf'+'fer']){const _0x3cb623=this['shader'];w['assert'](_0x3cb623);const _0x349a07=_0x3cb623['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x349a07),this['uniformBuf'+'fer']=new zp(_0x222fad,_0x349a07,!(-0x150*0x15+0xa41*-0x1+0x2*0x12e9));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x1c2f84,_0x30df99;(_0x1c2f84=this['bindGroup'])==null||_0x1c2f84['destroy'](),this['bindGroup']=null,(_0x30df99=this['uniformBuf'+'fer'])==null||_0x30df99['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x54cd4f,_0x52b5ed,_0xb55346=null){h(this,'castShadow',!(0x1f6d+-0x1ee3*-0x1+-0x3e4f)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0x1569+0x1*0x167e+-0x2be7*0x1)),h(this,'drawOrder',0x1da2+-0xab5+-0x64f*0x3),h(this,'_drawBucke'+'t',-0x86*0x3d+0xf18*-0x2+0x3e9d),h(this,'node'),h(this,'visible',!(0x2*-0xc07+-0x1*0xd3+-0x18e1*-0x1)),h(this,'visibleThi'+'sFrame',!(0x681+-0x55*-0x30+-0x1670)),h(this,'flipFacesF'+'actor',-0x1*-0x17e5+0xab4+-0x2298),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x1*0x22f2+0x5*0x161+-0x29d7)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x2459*0x1+0x9f6+0x1a64)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x4a6*-0x6+0x363+0x1882)),h(this,'_aabbMeshV'+'er',-(-0x3*0x4a1+-0x1465+0x1*0x2249)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x15b6*0x1+0x292*0x9+-0x1c*0xd)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x182*0x17+0x2*-0x42d+-0x14*0x151),h(this,'_sortKeyFo'+'rward',0x23ed+0x1041+0x2*-0x1a17),h(this,'_sortKeyDy'+'namic',0xc28+-0x1*0x50b+-0x71d),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x49*0x8+0x2b7*-0x5+0xfdb)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0xf62+-0x1*-0x1c55+0x2*-0x15db)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x9*0x35+0x1c4e+-0x1a61),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x54cd4f instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0xb55346,this['_mesh']=_0x54cd4f,_0x54cd4f['incRefCoun'+'t'](),this['material']=_0x52b5ed,_0x54cd4f['vertexBuff'+'er']){const _0x4536b2=_0x54cd4f['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x4536b2['hasUv0']?nm:0xb2d+-0x183b+0x22d*0x6,this['_shaderDef'+'s']|=_0x4536b2['hasUv1']?dv:0x235*-0x5+0x19a9+-0xea0,this['_shaderDef'+'s']|=_0x4536b2['hasColor']?fv:0x1*0x959+0x1b61+-0x24ba,this['_shaderDef'+'s']|=_0x4536b2['hasTangent'+'s']?om:0x2144+0x1d71+0x3eb5*-0x1;}this['updateKey']();}set['drawBucket'](_0x1c44f1){this['_drawBucke'+'t']=Math['floor'](_0x1c44f1)&-0x130c*0x1+0x3*-0x29f+-0x178*-0x13,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x47f7f2){this['_renderSty'+'le']=_0x47f7f2,this['mesh']['prepareRen'+'derState'](_0x47f7f2);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x5d56c8){_0x5d56c8!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x5d56c8,_0x5d56c8&&_0x5d56c8['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x23ae99){this['_aabb']=_0x23ae99;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x40d07d=this['_customAab'+'b'],_0x37facf=!!_0x40d07d;if(!_0x40d07d){if(_0x40d07d=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x953560=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x953560);}const _0x64e208=this['mesh']['boneUsed'];let _0x472273=!(-0x2ca*0x6+-0x49*-0x4+-0x3e6*-0x4);for(let _0x464315=-0xd7e+-0x256a+0x12*0x2d4;_0x464315<this['mesh']['boneAabb']['length'];_0x464315++)_0x64e208[_0x464315]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x464315],this['skinInstan'+'ce']['matrices'][_0x464315]),_0x472273?(_0x472273=!(0x203c*-0x1+0x2*0xe39+0x3cb),_0x40d07d['center']['copy'](sc['center']),_0x40d07d['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x40d07d['add'](sc));_0x37facf=!(-0x19dd+-0x17*-0x184+0x7*-0x149);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x40d07d['center']['copy'](this['mesh']['aabb']['center']),_0x40d07d['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x40d07d['center']['set'](-0x1a20+-0x5ae*-0x3+0x48b*0x2,-0x1ae7+-0x24d*0xe+0x3b1d,-0x23ed*0x1+0x1487+0x3*0x522),_0x40d07d['halfExtent'+'s']['set'](0x55*0x49+-0x9*-0x2a9+0x7*-0x6e2,-0x28b+-0x153d+0x17c8*0x1,-0x9*0x19f+-0x1447+0x22de)),this['mesh']&&this['mesh']['morph']){const _0x357681=this['mesh']['morph']['aabb'];_0x40d07d['_expand'](_0x357681['getMin'](),_0x357681['getMax']());}_0x37facf=!(0x50*-0x55+-0x1afd+-0x358d*-0x1),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x37facf&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x40d07d,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x5db8ee=>{_0x5db8ee['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x448d6b,_0x332831,_0x522976,_0x1c04bb,_0x11370a,_0x54b80b,_0x51a67a){var _0x5894f0;const _0x225885=this['_shaderDef'+'s'];Rr[-0x5d5+0x699*0x5+-0x1b28]=_0x448d6b,Rr[0x11e7+0xfa1*0x1+-0x2187]=_0x332831,Rr[0x895+0x1505+-0x1d98]=_0x225885,Rr[-0x122d+-0x22d*0x1+0x191*0xd]=_0x1c04bb['hash'];const _0x339382=By(Rr);let _0x5520b0=this['_shaderCac'+'he']['get'](_0x339382);if(!_0x5520b0){const _0xb60ad1=this['_material'];if(_0x5520b0=new CE(),_0x5520b0['shader']=_0xb60ad1['variants']['get'](_0x339382),_0x5520b0['hashes']=new Uint32Array(Rr),!_0x5520b0['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x382e2f=_0xb60ad1['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x522976,'objDefs':_0x225885,'cameraShaderParams':_0x1c04bb,'pass':_0x448d6b,'sortedLights':_0x51a67a,'viewUniformFormat':_0x11370a,'viewBindGroupFormat':_0x54b80b,'vertexFormat':(_0x5894f0=this['mesh']['vertexBuff'+'er'])==null?void(0xd+-0x289*-0x2+-0x51f):_0x5894f0['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0xb60ad1['variants']['set'](_0x339382,_0x382e2f),_0x5520b0['shader']=_0x382e2f;}this['_shaderCac'+'he']['set'](_0x339382,_0x5520b0);}return w['call'](()=>{IT['equals'](_0x5520b0['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5520b0;}set['material'](_0x4a5eea){this['clearShade'+'rs']();const _0x489144=this['_material'];_0x489144&&_0x489144['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4a5eea,_0x4a5eea&&(_0x4a5eea['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4a5eea['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x2c5ffd){_0x2c5ffd!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x2c5ffd,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x3329da){this['_calculate'+'SortDistan'+'ce']=_0x3329da;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x52b1ac){this['_receiveSh'+'adow']!==_0x52b1ac&&(this['_receiveSh'+'adow']=_0x52b1ac,this['_updateSha'+'derDefs'](_0x52b1ac?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x2a4b0e){this['_updateSha'+'derDefs'](_0x2a4b0e?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x46b*-0x1+-0x1*0x299+-0xe9*0x2;}set['skinInstan'+'ce'](_0x2648c0){this['_skinInsta'+'nce']=_0x2648c0,this['_updateSha'+'derDefs'](_0x2648c0?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x2e578e){var _0x43d60c;(_0x43d60c=this['_morphInst'+'ance'])==null||_0x43d60c['destroy'](),this['_morphInst'+'ance']=_0x2e578e;let _0x49726d=this['_shaderDef'+'s'];_0x49726d=_0x2e578e&&_0x2e578e['morph']['morphPosit'+'ions']?_0x49726d|ll:_0x49726d&~ll,_0x49726d=_0x2e578e&&_0x2e578e['morph']['morphNorma'+'ls']?_0x49726d|cl:_0x49726d&~cl,_0x49726d=_0x2e578e&&_0x2e578e['morph']['intRenderF'+'ormat']?_0x49726d|hl:_0x49726d&~hl,this['_updateSha'+'derDefs'](_0x49726d);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x123cbc){this['_screenSpa'+'ce']!==_0x123cbc&&(this['_screenSpa'+'ce']=_0x123cbc,this['_updateSha'+'derDefs'](_0x123cbc?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x3f1db9){this['_sortKeyFo'+'rward']=_0x3f1db9;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x2e3a07){const _0x363720=this['_shaderDef'+'s']&-0x8403+0x1d0e+0x2*0xb37a;this['_updateSha'+'derDefs'](_0x363720|_0x2e3a07<<-0x456+0x16af+-0x1249);}get['mask'](){return this['_shaderDef'+'s']>>-0x137*0x1f+0x160e+-0xfab*-0x1;}set['instancing'+'Count'](_0x567cd2){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x567cd2);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x355+0x2*-0xf8d+0x1*0x1bc5;}['destroy'](){var _0x269c65,_0x26db9e,_0x3fbdbf;const _0x1ca88e=this['mesh'];_0x1ca88e&&(this['mesh']=null,_0x1ca88e['refCount']<-0x5*-0x147+0x2622+-0x2c84&&_0x1ca88e['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1642+-0x859+0x1*-0xde9],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0xa2d+0x7ed+-0x1*-0x241],null),(_0x269c65=this['_skinInsta'+'nce'])==null||_0x269c65['destroy'](),this['_skinInsta'+'nce']=null,(_0x26db9e=this['morphInsta'+'nce'])==null||_0x26db9e['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3fbdbf=this['instancing'+'Data'])==null||_0x3fbdbf['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x402c21,_0x273b27){if(_0x402c21){for(let _0x48dac6=0x1*-0xdcd+-0x1dec+0x2bb9;_0x48dac6<_0x402c21['length'];_0x48dac6++){_0x402c21[_0x48dac6]['_renderSty'+'le']=_0x273b27;const _0x378eab=_0x402c21[_0x48dac6]['mesh'];qd['has'](_0x378eab)||(qd['add'](_0x378eab),_0x378eab['prepareRen'+'derState'](_0x273b27));}qd['clear']();}}['_isVisible'](_0x28b601){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x28b601):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x28b601['frustum']['containsSp'+'here'](Xd)>-0xdc9+0x2178+-0x13af):!(-0x34f+-0xb65+-0x2f1*-0x5);}['updateKey'](){const {material:_0x113687}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x7de*-0x4+0x1cf7+-0x3c58|(_0x113687['alphaToCov'+'erage']||_0x113687['alphaTest']?-0x5d5dd*0xd+0x1*0x54de14+0x36fe25:0x198c+-0xa*0x382+0x7a*0x14)|_0x113687['id']&-0xcaab6+0x38b4f*-0xd+0x7abdb8;}['setInstanc'+'ing'](_0x5e1598,_0x6607d4=!(0x1bdf+-0x220a+0x62c)){_0x5e1598?(this['instancing'+'Data']=new bE(_0x5e1598['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x5e1598,_0x5e1598['format']['instancing']=!(-0x2eb+0x2f*0x65+-0xfa0),this['cull']=_0x6607d4):(this['instancing'+'Data']=null,this['cull']=!(-0x1475+0x237b+-0xf06)),this['_updateSha'+'derDefs'](_0x5e1598?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x384213,_0xbb0063){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x384213==null?void(0x8*0x149+-0x13f3+0x9ab):_0x384213['camera'])??null,_0xbb0063),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x4e1ead;this['_allocIndi'+'rectData']();const _0x172900=(_0x4e1ead=this['mesh'])==null?void(0x25e0+-0x1*-0x96e+0x17a7*-0x2):_0x4e1ead['primitive'][this['renderStyl'+'e']],_0x413c37=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x413c37[0x80d+-0x1bcb+0x13be]=_0x172900['count'],_0x413c37[0x1*-0x2063+0x1ce6+0x2*0x1bf]=_0x172900['base'],_0x413c37[-0x1*0x113d+-0x1*0x8b9+0x4*0x67e]=_0x172900['baseVertex'],_0x413c37;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x3690c0){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x3690c0));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x27fc6f){return this['parameters'][_0x27fc6f];}['setParamet'+'er'](_0x3f7000,_0x1b0321,_0x1ab625=-0x15*-0x8c11757+-0x1f3ee4fff+-0x581*-0x67f15b){const _0x367986=this['parameters'][_0x3f7000];_0x367986?(_0x367986['data']=_0x1b0321,_0x367986['passFlags']=_0x1ab625):this['parameters'][_0x3f7000]={'scopeId':null,'data':_0x1b0321,'passFlags':_0x1ab625};}['setRealtim'+'eLightmap'](_0x4c220f,_0x46012e){const _0x35d74e=this['getParamet'+'er'](_0x4c220f);_0x35d74e!==_0x46012e&&(_0x35d74e&&zi['decRef'](_0x35d74e['data']),_0x46012e?(zi['incRef'](_0x46012e),this['setParamet'+'er'](_0x4c220f,_0x46012e)):this['deletePara'+'meter'](_0x4c220f));}['deletePara'+'meter'](_0x496513){this['parameters'][_0x496513]&&delete this['parameters'][_0x496513];}['setParamet'+'ers'](_0x461f7a,_0x16147a){const _0x43cd64=this['parameters'];for(const _0x21386d in _0x43cd64){const _0xb0ea54=_0x43cd64[_0x21386d];_0xb0ea54['passFlags']&_0x16147a&&(_0xb0ea54['scopeId']||(_0xb0ea54['scopeId']=_0x461f7a['scope']['resolve'](_0x21386d)),_0xb0ea54['scopeId']['setValue'](_0xb0ea54['data']));}}['setLightma'+'pped'](_0x12fca0){_0x12fca0?this['mask']=(this['mask']|di)&-(-0x1d55+-0x1b06+0x3861):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x5c8+0x204b+-0x269*0xb],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x92*0x42+0x21a3+-0x4746],null),this['_shaderDef'+'s']&=-(0x1*-0x1b2f+-0xc*0x135+0x3a6c),this['mask']=(this['mask']|Ss)&-(0x7ab+0x1a39+-0x21dd));}['setCustomA'+'abb'](_0x3e6f4e){_0x3e6f4e?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x3e6f4e):this['_customAab'+'b']=_0x3e6f4e['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x1002+0x3e*0x60+-0x2741)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x4*-0x265+-0x200c*-0x1+-0x8*0x2cf,-0x1c02+0x3*0xa31+-0x148*0x2,-0x1ea9+-0x789+-0x2635*-0x1,-0xd10+0x8e7+0x42b,0x183c+0xf*-0x1f9+0x55e,0xa5+0x2*-0x6d+0x36],ME=[-0x1c6a+-0x2285+-0x1*-0x3eef,0xf45+0x443*0x5+0x3*-0xc31,-0xbd5+0x1f*-0x1+0xbf7,-0x2581+-0xa6d+0x4cb*0xa,0xf2f+-0x1a35+0xb09,-0x4ea+-0x22e4+-0x34*-0xc4],A_=new _i();function C_(_0x5d8b8e,_0x36d32a){if(_0x5d8b8e&&!_0x36d32a||!_0x5d8b8e&&_0x36d32a)return!(0x14*0x18a+0x67*0x9+-0x2266);if(_0x5d8b8e=_0x5d8b8e['data'],_0x36d32a=_0x36d32a['data'],_0x5d8b8e===_0x36d32a)return!(-0x170e+0x225d+-0xb4f);if(_0x5d8b8e instanceof Float32Array&&_0x36d32a instanceof Float32Array){if(_0x5d8b8e['length']!==_0x36d32a['length'])return!(0x1*-0xf07+0xbc6+-0x342*-0x1);for(let _0x365ad0=-0x718+-0x338+0xa50;_0x365ad0<_0x5d8b8e['length'];_0x365ad0++)if(_0x5d8b8e[_0x365ad0]!==_0x36d32a[_0x365ad0])return!(-0xed6+-0x1bf+-0xb*-0x182);return!(0x5af+-0xd6*0x25+-0x193f*-0x1);}return!(-0x1f3e+-0x1a6b+0x1*0x39aa);}function DE(_0x1ad45d,_0x384c4c){for(const _0x3c89c0 in _0x1ad45d)if(_0x1ad45d['hasOwnProp'+'erty'](_0x3c89c0)&&!C_(_0x1ad45d[_0x3c89c0],_0x384c4c[_0x3c89c0]))return!(-0x33b+0x779*0x1+0x23*-0x1f);for(const _0x2f9f8a in _0x384c4c)if(_0x384c4c['hasOwnProp'+'erty'](_0x2f9f8a)&&!C_(_0x384c4c[_0x2f9f8a],_0x1ad45d[_0x2f9f8a]))return!(0x4f5+-0xd82+-0x92*-0xf);return!(-0x4ca*0x8+0xb4e*0x1+0x1b02);}function jd(_0x5bb8af){return _0x5bb8af['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x517f8d,_0x12c862,_0x1d4697){this['device']=_0x517f8d,this['rootNode']=_0x12c862,this['scene']=_0x1d4697,this['_init']=!(-0x1fb7+0x1*-0x15e1+0x3599*0x1),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1cad*0x1+-0x1*-0x815+0x24c2*-0x1,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x338e27,_0x5c4259,_0x375881,_0x50605f,_0x415e33){if(_0x50605f===void(-0xc*0x71+0x12*-0xeb+0x15d2*0x1)&&(_0x50605f=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x50605f]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x50605f+('\x20already\x20e'+'xists.'));return;}const _0x249dc4=new St(_0x50605f,_0x338e27,_0x5c4259,_0x375881,_0x415e33);return this['_batchGrou'+'ps'][_0x50605f]=_0x249dc4,_0x249dc4;}['removeGrou'+'p'](_0x2b12a5){if(!this['_batchGrou'+'ps'][_0x2b12a5]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x2b12a5+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0xb47897=[];for(let _0x462cab=0x21f7+0x2309*0x1+-0x4500;_0x462cab<this['_batchList']['length'];_0x462cab++)this['_batchList'][_0x462cab]['batchGroup'+'Id']===_0x2b12a5?this['destroyBat'+'ch'](this['_batchList'][_0x462cab]):_0xb47897['push'](this['_batchList'][_0x462cab]);this['_batchList']=_0xb47897,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x2b12a5),delete this['_batchGrou'+'ps'][_0x2b12a5];}['markGroupD'+'irty'](_0x47a9da){this['_dirtyGrou'+'ps']['indexOf'](_0x47a9da)<0x1f25+0x2f*0xb5+0x14*-0x338&&this['_dirtyGrou'+'ps']['push'](_0x47a9da);}['getGroupBy'+'Name'](_0x26ebe2){const _0x3215d1=this['_batchGrou'+'ps'];for(const _0x3ed2ce in _0x3215d1)if(_0x3215d1['hasOwnProp'+'erty'](_0x3ed2ce)&&_0x3215d1[_0x3ed2ce]['name']===_0x26ebe2)return _0x3215d1[_0x3ed2ce];return null;}['getBatches'](_0xe8472){const _0x53eaee=[],_0x491cf6=this['_batchList']['length'];for(let _0x3e7516=0x49*-0x11+0xf46+0x11*-0x9d;_0x3e7516<_0x491cf6;_0x3e7516++){const _0x3689a3=this['_batchList'][_0x3e7516];_0x3689a3['batchGroup'+'Id']===_0xe8472&&_0x53eaee['push'](_0x3689a3);}return _0x53eaee;}['_removeMod'+'elsFromBat'+'chGroup'](_0x2679e9,_0x325433){if(_0x2679e9['enabled']){_0x2679e9['model']&&_0x2679e9['model']['batchGroup'+'Id']===_0x325433&&(_0x2679e9['model']['batchGroup'+'Id']=-(-0x1*-0x227+-0x1f8e+0x1d68)),_0x2679e9['render']&&_0x2679e9['render']['batchGroup'+'Id']===_0x325433&&(_0x2679e9['render']['batchGroup'+'Id']=-(-0xd7e+0x1*-0x166f+0x23ee)),_0x2679e9['element']&&_0x2679e9['element']['batchGroup'+'Id']===_0x325433&&(_0x2679e9['element']['batchGroup'+'Id']=-(-0x1*0x4fd+0x86*0x1f+-0xb3c)),_0x2679e9['sprite']&&_0x2679e9['sprite']['batchGroup'+'Id']===_0x325433&&(_0x2679e9['sprite']['batchGroup'+'Id']=-(0x29*-0x84+0x221b+-0xcf6));for(let _0x16937d=-0x5ad+-0xa95+0x1042;_0x16937d<_0x2679e9['_children']['length'];_0x16937d++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x2679e9['_children'][_0x16937d],_0x325433);}}['insert'](_0x39b947,_0x507a5c,_0x106229){const _0x25c688=this['_batchGrou'+'ps'][_0x507a5c];w['assert'](_0x25c688,'Invalid\x20ba'+'tch\x20'+_0x507a5c+'\x20insertion'),_0x25c688&&_0x25c688['_obj'][_0x39b947]['indexOf'](_0x106229)<-0x2606+0xa3*0x23+0xed*0x11&&(_0x25c688['_obj'][_0x39b947]['push'](_0x106229),this['markGroupD'+'irty'](_0x507a5c));}['remove'](_0x2a6900,_0x28b380,_0x216896){const _0x56cc36=this['_batchGrou'+'ps'][_0x28b380];if(w['assert'](_0x56cc36,'Invalid\x20ba'+'tch\x20'+_0x28b380+'\x20insertion'),_0x56cc36){const _0x2d48ef=_0x56cc36['_obj'][_0x2a6900]['indexOf'](_0x216896);_0x2d48ef>=-0x5*-0x7a2+-0xe2f+-0x17fb&&(_0x56cc36['_obj'][_0x2a6900]['splice'](_0x2d48ef,0x43*0x6+0x20ae+-0x223f),this['markGroupD'+'irty'](_0x28b380));}}['_extractRe'+'nder'](_0xbc057c,_0x574207,_0x1be08f,_0x44a98b){return _0xbc057c['render']&&(_0x574207=_0x44a98b[_0xbc057c['render']['batchGroup'+'Id']]=_0x574207['concat'](_0xbc057c['render']['meshInstan'+'ces']),_0xbc057c['render']['removeFrom'+'Layers']()),_0x574207;}['_extractMo'+'del'](_0x2c12ae,_0x226acb,_0x207327,_0x20befa){return _0x2c12ae['model']&&_0x2c12ae['model']['model']&&(_0x226acb=_0x20befa[_0x2c12ae['model']['batchGroup'+'Id']]=_0x226acb['concat'](_0x2c12ae['model']['meshInstan'+'ces']),_0x2c12ae['model']['removeMode'+'lFromLayer'+'s'](),_0x2c12ae['model']['_batchGrou'+'p']=_0x207327),_0x226acb;}['_extractEl'+'ement'](_0x2a9dff,_0x577623,_0x1ff6a2){if(!_0x2a9dff['element'])return;let _0x37be09=!(-0xffc+0x16a5+-0x6a8);_0x2a9dff['element']['_text']&&_0x2a9dff['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x263c+0xbcf+0x1a6d?(_0x577623['push'](_0x2a9dff['element']['_text']['_model']['meshInstan'+'ces'][0xe8*0x1b+-0xf55+-0x923*0x1]),_0x2a9dff['element']['removeMode'+'lFromLayer'+'s'](_0x2a9dff['element']['_text']['_model']),_0x37be09=!(-0x1*0x1642+-0x1f3b+0x357d)):_0x2a9dff['element']['_image']&&(_0x577623['push'](_0x2a9dff['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x2a9dff['element']['removeMode'+'lFromLayer'+'s'](_0x2a9dff['element']['_image']['_renderabl'+'e']['model']),_0x2a9dff['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x577623['push'](_0x2a9dff['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x2a9dff['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x2a9dff['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x2a9dff['element']['_dirtifyMa'+'sk'](),_0x2a9dff['element']['_onPrerend'+'er']())),_0x37be09=!(-0x2555+0x19ad+0x4*0x2ea)),_0x37be09&&(_0x1ff6a2['_ui']=!(0x20a1+-0x232f*0x1+0xda*0x3),_0x2a9dff['element']['_batchGrou'+'p']=_0x1ff6a2);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x59c7a8,_0x4ffe0e){for(let _0x2eb867=-0x1e9b+0x1957+0x544;_0x2eb867<_0x4ffe0e['length'];_0x2eb867++){const _0x5e804d=_0x4ffe0e[_0x2eb867],_0x5293e3=this['_batchGrou'+'ps'][_0x5e804d];if(!_0x5293e3)continue;let _0x206ecc=_0x59c7a8[_0x5e804d];_0x206ecc||(_0x206ecc=_0x59c7a8[_0x5e804d]=[]);for(let _0x335c5f=-0x17d0+-0x212a+0x38fa;_0x335c5f<_0x5293e3['_obj']['model']['length'];_0x335c5f++)_0x206ecc=this['_extractMo'+'del'](_0x5293e3['_obj']['model'][_0x335c5f],_0x206ecc,_0x5293e3,_0x59c7a8);for(let _0x6fc6c2=0x4*0x877+0x389*0x3+0x2c77*-0x1;_0x6fc6c2<_0x5293e3['_obj']['render']['length'];_0x6fc6c2++)_0x206ecc=this['_extractRe'+'nder'](_0x5293e3['_obj']['render'][_0x6fc6c2],_0x206ecc,_0x5293e3,_0x59c7a8);for(let _0x256fea=0x1b*-0x3+-0xa*-0xa9+-0x1*0x649;_0x256fea<_0x5293e3['_obj']['element']['length'];_0x256fea++)this['_extractEl'+'ement'](_0x5293e3['_obj']['element'][_0x256fea],_0x206ecc,_0x5293e3);for(let _0x5d1e37=0x103c+0x76*0x1d+-0x1*0x1d9a;_0x5d1e37<_0x5293e3['_obj']['sprite']['length'];_0x5d1e37++){const _0x1333f9=_0x5293e3['_obj']['sprite'][_0x5d1e37];_0x1333f9['sprite']&&_0x1333f9['sprite']['_meshInsta'+'nce']&&(_0x5293e3['dynamic']||_0x1333f9['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x206ecc['push'](_0x1333f9['sprite']['_meshInsta'+'nce']),_0x1333f9['sprite']['removeMode'+'lFromLayer'+'s'](),_0x5293e3['_sprite']=!(-0xb*0xda+-0xf3+0xa51),_0x1333f9['sprite']['_batchGrou'+'p']=_0x5293e3);}}}['generate'](_0x37151b){const _0x36108d={};_0x37151b||(_0x37151b=Object['keys'](this['_batchGrou'+'ps']));const _0x5797ed=[];for(let _0x56b35c=0x1*-0x20f+-0x25d4*-0x1+-0x23c5;_0x56b35c<this['_batchList']['length'];_0x56b35c++){if(_0x37151b['indexOf'](this['_batchList'][_0x56b35c]['batchGroup'+'Id'])<0x9a8+-0x1b6+-0x1*0x7f2){_0x5797ed['push'](this['_batchList'][_0x56b35c]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x56b35c]);}if(this['_batchList']=_0x5797ed,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x36108d,_0x37151b),_0x37151b===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x4a8+0x20e*-0xe+0x216c;else{const _0x1b5bdc=[];for(let _0x108511=0x7a5*0x4+0x1*-0x5ff+0xd9*-0x1d;_0x108511<this['_dirtyGrou'+'ps']['length'];_0x108511++)_0x37151b['indexOf'](this['_dirtyGrou'+'ps'][_0x108511])<-0x8f*0x4+0x1237+0x1*-0xffb&&_0x1b5bdc['push'](this['_dirtyGrou'+'ps'][_0x108511]);this['_dirtyGrou'+'ps']=_0x1b5bdc;}let _0x43462b,_0x1f0dba,_0x5dcaeb,_0x318c79;for(const _0x2188f6 in _0x36108d)if(_0x36108d['hasOwnProp'+'erty'](_0x2188f6)){if(_0x43462b=_0x36108d[_0x2188f6],_0x5dcaeb=this['_batchGrou'+'ps'][_0x2188f6],!_0x5dcaeb){w['error']('batch\x20grou'+'p\x20'+_0x2188f6+'\x20not\x20found');continue;}_0x1f0dba=this['prepare'](_0x43462b,_0x5dcaeb['dynamic'],_0x5dcaeb['maxAabbSiz'+'e'],_0x5dcaeb['_ui']||_0x5dcaeb['_sprite']);for(let _0x17bf72=-0x71*0x37+-0x435+0x4*0x71f;_0x17bf72<_0x1f0dba['length'];_0x17bf72++)_0x318c79=this['create'](_0x1f0dba[_0x17bf72],_0x5dcaeb['dynamic'],parseInt(_0x2188f6,0x83c+0x194c+0x6*-0x595)),_0x318c79&&_0x318c79['addToLayer'+'s'](this['scene'],_0x5dcaeb['layers']);}}['prepare'](_0x283f09,_0x1d0755,_0x2fe96b=Number['POSITIVE_I'+'NFINITY'],_0x41fa44){if(_0x283f09['length']===0x589+0x5c8+0x1*-0xb51)return[];const _0x4a0223=_0x2fe96b*(0xdb5+-0x1*0xccd+-0xe8+0.5),_0x178dfc=0x26f*0x1+0x26df*-0x1+0x2870,_0x5c9e32=0xb1a18993+-0x8044*0x84d3+0x90eb3e78,_0x4eac27=new De(),_0x43152f=new De();let _0x91538a=null,_0x2aeab9;const _0x14a353=[];let _0x2cd9c4=0x17*0x15c+0x632*0x2+-0x2ba8;_0x41fa44&&_0x283f09['sort']((_0x10a2dd,_0x2bed0a)=>_0x10a2dd['drawOrder']-_0x2bed0a['drawOrder']);let _0x15a06b=_0x283f09,_0x1108ec;const _0x19b426=_0x41fa44?function(_0x56e185){_0x91538a?_0x91538a['add'](_0x56e185['aabb']):_0x91538a=_0x56e185['aabb']['clone'](),_0x1108ec['push'](_0x56e185);}:function(_0x1b8ff7){_0x1108ec['push'](_0x1b8ff7);};for(;_0x15a06b['length']>-0x1843+-0x16ba*-0x1+0x189*0x1;){_0x14a353[_0x2cd9c4]=[_0x15a06b[0x10bf+0x11bf+-0x227e]],_0x1108ec=[];const _0x281f41=_0x15a06b[-0x19*0x11e+0x44e+-0x38*-0x6c]['material'],_0x6ac5e5=_0x15a06b[0x145+-0x8c*-0xb+-0x749]['layer'],_0x5ae6dc=_0x15a06b[0x1dbd*-0x1+-0x1826+0x35e3]['_shaderDef'+'s'],_0x39cd0c=_0x15a06b[0x14*0x113+0xc21+-0x219d]['parameters'],_0x497f02=_0x15a06b[0x1dd9+-0x4*0x24b+-0x14ad]['stencilFro'+'nt'];let _0x2c4c21=_0x15a06b[-0x3*-0x82e+0x15bd+-0x2e47]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x52bae7=_0x15a06b[-0xa*0x365+0x1c9f+0x553]['drawOrder'];_0x4eac27['copy'](_0x15a06b[-0xe69+-0x23c+0x10a5*0x1]['aabb']);const _0x2f9ede=jd(_0x15a06b[0x166f+0x1cf3*-0x1+0x684]),_0x55ba5a=_0x15a06b[-0x1a8+-0xbdf+0x1*0xd87]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3dd786=_0x15a06b[0x5*-0x421+0x9cb+0xada]['mesh']['primitive'][0x1*-0x1abb+-0x1a+0x1ad5]['indexed'];_0x91538a=null;for(let _0x34af54=0x9*0x112+-0xaae+-0x10d*-0x1;_0x34af54<_0x15a06b['length'];_0x34af54++){const _0x4c4812=_0x15a06b[_0x34af54];if(_0x1d0755&&_0x14a353[_0x2cd9c4]['length']>=_0x178dfc){_0x1108ec=_0x1108ec['concat'](_0x15a06b['slice'](_0x34af54));break;}if(_0x281f41!==_0x4c4812['material']||_0x6ac5e5!==_0x4c4812['layer']||_0x55ba5a!==_0x4c4812['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3dd786!==_0x4c4812['mesh']['primitive'][-0x9b+0x22b1*0x1+-0x2216*0x1]['indexed']||_0x5ae6dc!==_0x4c4812['_shaderDef'+'s']||_0x2c4c21+_0x4c4812['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x5c9e32){_0x19b426(_0x4c4812);continue;}if(_0x43152f['copy'](_0x4eac27),_0x43152f['add'](_0x4c4812['aabb']),_0x43152f['halfExtent'+'s']['x']>_0x4a0223||_0x43152f['halfExtent'+'s']['y']>_0x4a0223||_0x43152f['halfExtent'+'s']['z']>_0x4a0223){_0x19b426(_0x4c4812);continue;}if(_0x497f02&&(!(_0x2aeab9=_0x4c4812['stencilFro'+'nt'])||_0x497f02['func']!==_0x2aeab9['func']||_0x497f02['zpass']!==_0x2aeab9['zpass'])){_0x19b426(_0x4c4812);continue;}if(_0x2f9ede!==jd(_0x4c4812)){_0x19b426(_0x4c4812);continue;}if(!DE(_0x39cd0c,_0x4c4812['parameters'])){_0x19b426(_0x4c4812);continue;}if(_0x41fa44&&_0x91538a&&_0x91538a['intersects'](_0x4c4812['aabb'])&&_0x4c4812['drawOrder']!==_0x52bae7){_0x19b426(_0x4c4812);continue;}_0x4eac27['add'](_0x4c4812['aabb']),_0x2c4c21+=_0x4c4812['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x14a353[_0x2cd9c4]['push'](_0x4c4812);}_0x2cd9c4++,_0x15a06b=_0x1108ec;}return _0x14a353;}['collectBat'+'chedMeshDa'+'ta'](_0x55f1ff,_0x38d542){let _0x3a1430=null,_0x5258de=0x9*-0x63+0x1*-0x4e1+0x85c,_0x5f0146=0x325*0x3+-0x51b*0x3+0x5e2,_0x917cb=null;for(let _0x275678=-0x1637+-0xcc6+0x22fd;_0x275678<_0x55f1ff['length'];_0x275678++)if(_0x55f1ff[_0x275678]['visible']){const _0x2ec149=_0x55f1ff[_0x275678]['mesh'],_0x5b44cb=_0x2ec149['vertexBuff'+'er']['numVertice'+'s'];if(_0x5258de+=_0x5b44cb,_0x2ec149['primitive'][0x92b+-0x2*0x1a8+0x1*-0x5db]['indexed'])_0x5f0146+=_0x2ec149['primitive'][0x1f79+0x3a2+-0x2b*0xd1]['count'];else{const _0x3def3e=_0x2ec149['primitive'][-0x7ab+-0x1765+0x1f10]['type'];(_0x3def3e===oa||_0x3def3e===Er)&&_0x2ec149['primitive'][-0x36+-0x995+0x9cb]['count']===-0x2195+0x267d+-0x4e4&&(_0x5f0146+=-0x4*-0x694+-0x102e*0x1+-0xa1c);}if(!_0x3a1430){_0x917cb=_0x55f1ff[_0x275678]['material'],_0x3a1430={};const _0x4841c1=_0x2ec149['vertexBuff'+'er']['format']['elements'];for(let _0xf7589c=-0x194a+0x149f*0x1+-0x5*-0xef;_0xf7589c<_0x4841c1['length'];_0xf7589c++){const _0x599c91=_0x4841c1[_0xf7589c]['name'];_0x3a1430[_0x599c91]={'numComponents':_0x4841c1[_0xf7589c]['numCompone'+'nts'],'dataType':_0x4841c1[_0xf7589c]['dataType'],'normalize':_0x4841c1[_0xf7589c]['normalize'],'count':0x0};}_0x38d542&&(_0x3a1430[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x12*-0x1ad+-0x13f9+0x4*-0x28c),'count':0x0});}}return{'streams':_0x3a1430,'batchNumVerts':_0x5258de,'batchNumIndices':_0x5f0146,'material':_0x917cb};}['create'](_0x55c0aa,_0x162a35,_0x6551ca){const _0x5299ed=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x199c+0x6*0x106+0x9bc*0x2));let _0x42ad11=null,_0x4b104e,_0x204139,_0x47cfcf,_0x4095d0=null;const _0x5183ee=this['collectBat'+'chedMeshDa'+'ta'](_0x55c0aa,_0x162a35);if(_0x5183ee['streams']){const _0x43f3fc=_0x5183ee['streams'];let _0x40d6f0=_0x5183ee['material'];const _0x12f845=_0x5183ee['batchNumVe'+'rts'],_0x322633=_0x5183ee['batchNumIn'+'dices'];_0x4095d0=new g_(_0x55c0aa,_0x162a35,_0x6551ca),this['_batchList']['push'](_0x4095d0);let _0xa8f0e5,_0x5c39d4,_0x2ece8d,_0xb4cb60,_0x48ba2f=-0x57e+-0x1e8c+-0x526*-0x7,_0x5ba85e=-0x23d7+0x1c98+0x73f,_0x809559;const _0x385163=_0x12f845<=-0x86d9+-0x1825*0xe+0xeb*0x31a?Uint16Array:Uint32Array,_0x5d08c3=new _0x385163(_0x322633);for(_0x4b104e in _0x43f3fc)_0x42ad11=_0x43f3fc[_0x4b104e],_0x42ad11['typeArrayT'+'ype']=wn[_0x42ad11['dataType']],_0x42ad11['elementByt'+'eSize']=No[_0x42ad11['dataType']],_0x42ad11['buffer']=new _0x42ad11['typeArrayT'+'ype'](_0x12f845*_0x42ad11['numCompone'+'nts']);for(let _0x4da7ee=0x1*0x25f9+-0x1159*0x2+-0x347*0x1;_0x4da7ee<_0x55c0aa['length'];_0x4da7ee++)if(_0x55c0aa[_0x4da7ee]['visible']){_0x204139=_0x55c0aa[_0x4da7ee]['mesh'],_0x47cfcf=_0x204139['vertexBuff'+'er']['numVertice'+'s'],_0x162a35||(_0x809559=_0x55c0aa[_0x4da7ee]['node']['getWorldTr'+'ansform']());for(_0x4b104e in _0x43f3fc)if(_0x4b104e!==us){_0x42ad11=_0x43f3fc[_0x4b104e];const _0x1c2976=new _0x42ad11['typeArrayT'+'ype'](_0x42ad11['buffer']['buffer'],_0x42ad11['elementByt'+'eSize']*_0x42ad11['count']),_0x39e237=_0x204139['getVertexS'+'tream'](_0x4b104e,_0x1c2976)*_0x42ad11['numCompone'+'nts'];if(_0x42ad11['count']+=_0x39e237,!_0x162a35&&_0x42ad11['numCompone'+'nts']>=-0x186c+-0x2125+0x3994){if(_0x4b104e===Me){const _0x4b35b6=_0x809559['data'],_0x496913=_0x4b35b6[-0xc79+0x1e8*0xa+-0x697],_0x3331d4=_0x4b35b6[-0x299+-0xfe1*-0x2+-0x1d28],_0x104e6c=_0x4b35b6[0x26bd+0x25*-0x67+-0x17d8],_0x56d6bd=_0x4b35b6[-0x15f7+-0x61e*0x1+0x1c19],_0x5cd4f8=_0x4b35b6[-0x16d5+0x4*-0x389+-0x3b3*-0xa],_0x5ba8a4=_0x4b35b6[-0x7fd+0x5c2*-0x5+-0x24cd*-0x1],_0x38ebe6=_0x4b35b6[0x12b*0x16+0x24e0+-0xa*0x641],_0x18839d=_0x4b35b6[-0x122b+0x8f1+0x943],_0x47b959=_0x4b35b6[0x1*-0x1d6f+-0x1*-0xef3+0xe86],_0xc07fbc=_0x4b35b6[-0x24e7+-0x57d+0x2a70],_0x45e7ea=_0x4b35b6[0x837+0x80c+-0x1036],_0x4457f7=_0x4b35b6[-0x3*0x31a+-0x195f+0x1*0x22bb];let _0x58d3ee,_0x52ac09,_0x17e3be;for(let _0x35217b=0x1c51*-0x1+-0x30f+0x1f60;_0x35217b<_0x39e237;_0x35217b+=_0x42ad11['numCompone'+'nts'])_0x58d3ee=_0x1c2976[_0x35217b],_0x52ac09=_0x1c2976[_0x35217b+(-0x1afa+-0x1c75+0x3770)],_0x17e3be=_0x1c2976[_0x35217b+(0x11*-0x125+0x1c9c+0x1*-0x925)],_0x1c2976[_0x35217b]=_0x58d3ee*_0x496913+_0x52ac09*_0x56d6bd+_0x17e3be*_0x38ebe6+_0xc07fbc,_0x1c2976[_0x35217b+(-0x1183+-0x215d+0x32e1)]=_0x58d3ee*_0x3331d4+_0x52ac09*_0x5cd4f8+_0x17e3be*_0x18839d+_0x45e7ea,_0x1c2976[_0x35217b+(0x2382+0x30*-0x89+-0x274*0x4)]=_0x58d3ee*_0x104e6c+_0x52ac09*_0x5ba8a4+_0x17e3be*_0x47b959+_0x4457f7;}else{if(_0x4b104e===gs||_0x4b104e===yi){A_['invertMat4'](_0x809559)['transpose']();const [_0x3fb87c,_0x21d761,_0x2f0855,_0x37a898,_0x254ab2,_0x1c0614,_0x387d0e,_0x86049c,_0x1751a7]=A_['data'];let _0x3abd8d,_0x3dc026,_0x12ff17;for(let _0x2139ac=-0x1546+-0x67*-0x43+0x123*-0x5;_0x2139ac<_0x39e237;_0x2139ac+=_0x42ad11['numCompone'+'nts'])_0x3abd8d=_0x1c2976[_0x2139ac],_0x3dc026=_0x1c2976[_0x2139ac+(0x1fbb+0x9e*0x3d+-0x4560)],_0x12ff17=_0x1c2976[_0x2139ac+(-0x21d4+-0x1*-0xc83+0x1553)],_0x1c2976[_0x2139ac]=_0x3abd8d*_0x3fb87c+_0x3dc026*_0x37a898+_0x12ff17*_0x387d0e,_0x1c2976[_0x2139ac+(-0x25d0+-0xd67*0x1+0x3338)]=_0x3abd8d*_0x21d761+_0x3dc026*_0x254ab2+_0x12ff17*_0x86049c,_0x1c2976[_0x2139ac+(0xe61+0x1a7e+0xb*-0x3b7)]=_0x3abd8d*_0x2f0855+_0x3dc026*_0x1c0614+_0x12ff17*_0x1751a7;}}}}if(_0x162a35){_0x42ad11=_0x43f3fc[us];for(let _0x1f43cf=0x1490+-0x9f0*-0x3+0x34*-0xf8;_0x1f43cf<_0x47cfcf;_0x1f43cf++)_0x42ad11['buffer'][_0x42ad11['count']++]=_0x4da7ee;}if(_0x204139['primitive'][0x2*0x9de+-0x1a3+0x29*-0x71]['indexed']){_0xa8f0e5=_0x204139['primitive'][-0x25bd*0x1+0x1*0xa57+0x1b66]['base'],_0x5c39d4=_0x204139['primitive'][0x207*-0xd+0x1162+0x8f9]['baseVertex']||0x1dcc+-0x19e2*-0x1+-0x37ae,_0x2ece8d=_0x204139['primitive'][0x11*-0x1bf+-0x1e51+0x3c00]['count'];const _0x288754=_0x204139['indexBuffe'+'r'][0x387+0x2*-0x12b3+0x21df]['getFormat']();_0xb4cb60=new Sh[_0x288754](_0x204139['indexBuffe'+'r'][0x1b9e+0xf*0x275+0x5*-0xce5]['storage']);}else{_0x5c39d4=-0x9*0xd5+-0x2406*-0x1+0x983*-0x3;const _0x549c05=_0x204139['primitive'][-0x922+0x54*-0x49+0x34f*0xa]['type'];if(_0x549c05===oa||_0x549c05===Er){if(_0x204139['primitive'][0xa*0x10f+-0x1*-0x10a9+-0x1b3f]['count']===0x1cd6+-0x2f*-0x67+-0x3*0xfe9)_0xa8f0e5=-0x575*-0x4+-0x19c7*0x1+0x151*0x3,_0x2ece8d=0x6a2+0x7bf*-0x3+0x81*0x21,_0xb4cb60=_0x549c05===oa?PE:ME;else{_0x2ece8d=0x1f6a+0x42d*-0x5+0x1d*-0x5d;continue;}}}for(let _0x26cdc4=0x167+0x3f3+-0x55a;_0x26cdc4<_0x2ece8d;_0x26cdc4++)_0x5d08c3[_0x26cdc4+_0x5ba85e]=_0xb4cb60[_0xa8f0e5+_0x26cdc4]+_0x5c39d4+_0x48ba2f;_0x5ba85e+=_0x2ece8d,_0x48ba2f+=_0x47cfcf;}_0x204139=new Ge(this['device']);for(_0x4b104e in _0x43f3fc)_0x42ad11=_0x43f3fc[_0x4b104e],_0x204139['setVertexS'+'tream'](_0x4b104e,_0x42ad11['buffer'],_0x42ad11['numCompone'+'nts'],void(-0x1798+-0x23a2+0x3b3a),_0x42ad11['dataType'],_0x42ad11['normalize']);_0x5d08c3['length']>-0x1aed+-0x4*0x2fb+0x9*0x451&&_0x204139['setIndices'](_0x5d08c3),_0x204139['update'](js,!(-0xc*0x83+-0x1482+0x1aa7)),_0x162a35&&(_0x40d6f0=_0x40d6f0['clone'](),_0x40d6f0['update']());const _0x370d62=new He(_0x204139,_0x40d6f0,this['rootNode']);_0x370d62['castShadow']=_0x4095d0['origMeshIn'+'stances'][0x123e+0x1*0x2583+-0x7*0x7f7]['castShadow'],_0x370d62['parameters']=_0x4095d0['origMeshIn'+'stances'][0x31*0xb2+-0x8de+0x1934*-0x1]['parameters'],_0x370d62['layer']=_0x4095d0['origMeshIn'+'stances'][0x7ca+-0x2491+0x1cc7]['layer'],_0x370d62['_shaderDef'+'s']=_0x4095d0['origMeshIn'+'stances'][0xb81+-0x23a7+0xb*0x232]['_shaderDef'+'s'],_0x370d62['batching']=!(-0x275+-0x213d+0x5f3*0x6),_0x370d62['cull']=_0x4095d0['origMeshIn'+'stances'][-0x44+0x20f*0x11+-0x22bb]['cull'];const _0x42c3ab=this['_batchGrou'+'ps'][_0x6551ca];if(_0x42c3ab&&_0x42c3ab['_ui']&&(_0x370d62['cull']=!(0x19b+-0x2519*-0x1+-0x26b3*0x1)),_0x162a35){const _0x5d2cf3=[];for(let _0x2ffb21=-0x427*0x3+0x7a*-0x23+0x1d23;_0x2ffb21<_0x4095d0['origMeshIn'+'stances']['length'];_0x2ffb21++)_0x5d2cf3['push'](_0x4095d0['origMeshIn'+'stances'][_0x2ffb21]['node']);_0x370d62['skinInstan'+'ce']=new y_(this['device'],_0x5d2cf3,this['rootNode']);}_0x370d62['_updateAab'+'b']=!(-0x5*-0x73b+-0x225*-0x1+-0x264b),_0x370d62['drawOrder']=_0x4095d0['origMeshIn'+'stances'][0x911+-0x114d+0x1*0x83c]['drawOrder'],_0x370d62['stencilFro'+'nt']=_0x4095d0['origMeshIn'+'stances'][-0x229+0x18df+-0x16b6]['stencilFro'+'nt'],_0x370d62['stencilBac'+'k']=_0x4095d0['origMeshIn'+'stances'][0x3*-0xa2d+-0x377*-0x7+0x646]['stencilBac'+'k'],_0x370d62['flipFacesF'+'actor']=jd(_0x4095d0['origMeshIn'+'stances'][0x26e1+-0x2485+0x25c*-0x1]),_0x370d62['castShadow']=_0x4095d0['origMeshIn'+'stances'][-0x238*-0x1+0x81a+-0xa52]['castShadow'],_0x4095d0['meshInstan'+'ce']=_0x370d62,_0x4095d0['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x5299ed,_0x4095d0;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x36*0x92+-0x33*0x49+0x39*-0x49&&this['generate'](this['_dirtyGrou'+'ps']);const _0x266a53=de();for(let _0x2b744f=-0x1*0x33d+-0x161f+0x195c;_0x2b744f<this['_batchList']['length'];_0x2b744f++)this['_batchList'][_0x2b744f]['dynamic']&&this['_batchList'][_0x2b744f]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x266a53;}['clone'](_0x3a0d8,_0x5e6543){const _0x33db84=new g_(_0x5e6543,_0x3a0d8['dynamic'],_0x3a0d8['batchGroup'+'Id']);this['_batchList']['push'](_0x33db84);const _0x352bdb=[];for(let _0x2a7e52=0x1*0x1ba7+0x414*0x9+-0x405b;_0x2a7e52<_0x5e6543['length'];_0x2a7e52++)_0x352bdb['push'](_0x5e6543[_0x2a7e52]['node']);return _0x33db84['meshInstan'+'ce']=new He(_0x3a0d8['meshInstan'+'ce']['mesh'],_0x3a0d8['meshInstan'+'ce']['material'],_0x3a0d8['meshInstan'+'ce']['node']),_0x33db84['meshInstan'+'ce']['_updateAab'+'b']=!(-0x18d9+-0x1ed1+0x37ab*0x1),_0x33db84['meshInstan'+'ce']['parameters']=_0x5e6543[0x4*-0xdf+-0xc0b*-0x1+-0x88f]['parameters'],_0x33db84['meshInstan'+'ce']['cull']=_0x5e6543[0x2cc+-0x1bd0+0x1904]['cull'],_0x33db84['meshInstan'+'ce']['layer']=_0x5e6543[0x110c+-0x2*-0xb65+0x27d6*-0x1]['layer'],_0x3a0d8['dynamic']&&(_0x33db84['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x352bdb,this['rootNode'])),_0x33db84['meshInstan'+'ce']['castShadow']=_0x3a0d8['meshInstan'+'ce']['castShadow'],_0x33db84;}['destroyBat'+'ch'](_0x39faa6){_0x39faa6['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x39faa6['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x25656f,_0x5e817b,_0x29c4ca){if((_0x25656f==null?void(0x1a40+-0x247f*-0x1+-0x3ebf):_0x25656f['colorBuffe'+'r']['format'])!==_0x29c4ca)return!(-0x18e6+-0x74f+0x1e5*0x11);const _0x12c1c4=(_0x5e817b==null?void(-0x7*-0x9a+0x20f1*-0x1+0x1cbb*0x1):_0x5e817b['width'])||this['device']['width'],_0x2807e7=(_0x5e817b==null?void(0x4*0x16b+-0xf31*0x2+0x18b6):_0x5e817b['height'])||this['device']['height'];return!_0x25656f||_0x12c1c4!==_0x25656f['width']||_0x2807e7!==_0x25656f['height'];}['allocateRe'+'nderTarget'](_0x359762,_0x5d0c13,_0x2ecc28,_0x367ff4){const _0x52772e=new _e(_0x2ecc28,{'name':P_,'format':_0x367ff4,'width':_0x5d0c13?_0x5d0c13['colorBuffe'+'r']['width']:_0x2ecc28['width'],'height':_0x5d0c13?_0x5d0c13['colorBuffe'+'r']['height']:_0x2ecc28['height'],'mipmaps':!(0x13da+0x17eb+0x2bc5*-0x1),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x359762?(_0x359762['destroyFra'+'meBuffers'](),_0x359762['_colorBuff'+'er']=_0x52772e,_0x359762['_colorBuff'+'ers']=[_0x52772e]):_0x359762=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x52772e,'depth':!(-0x1cca*0x1+0xb3*0x13+-0x18d*-0xa),'stencil':!(-0x559+0x4*-0x84+0x49*0x1a),'autoResolve':!(0xf81+-0x143e*0x1+0x2*0x25f)}),_0x359762;}['releaseRen'+'derTarget'](_0x2b859f){_0x2b859f&&(_0x2b859f['destroyTex'+'tureBuffer'+'s'](),_0x2b859f['destroy']());}['frameUpdat'+'e'](){const _0x4d9d7e=this['device'],_0x19b683=this['source'],_0x121227=(_0x19b683==null?void(-0xd5d+0x9*0x3dc+-0x1*0x155f):_0x19b683['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x19b683==null?void(-0x4*-0x79f+0x59f+0x4f*-0x75):_0x19b683['colorBuffe'+'r'],_0x121227)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x19b683,_0x4d9d7e,_0x121227));const _0x71d9fa=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4d9d7e['scope']['resolve'](P_)['setValue'](_0x71d9fa);}['execute'](){const _0x10211d=this['device'];Q['pushGpuMar'+'ker'](_0x10211d,'GRAB-COLOR');const _0x482148=this['source'],_0x285669=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x10211d['isWebGPU']?(_0x10211d['copyRender'+'Target'](_0x482148,this['colorRende'+'rTarget'],!(0x14a3+0x1*0x120d+-0x1*0x26b0),!(0x83*0x41+-0x2b*0x4e+-0x1428)),_0x10211d['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x10211d['copyRender'+'Target'](_0x482148,this['colorRende'+'rTarget'],!(0x42*0x88+0x669*-0x1+-0x98d*0x3),!(0x26dc+0xe4+-0x27bf)),_0x10211d['activeText'+'ure'](_0x10211d['maxCombine'+'dTextures']-(-0x2a6+0x1ea0+-0x1bf9)),_0x10211d['bindTextur'+'e'](_0x285669),_0x10211d['gl']['generateMi'+'pmap'](_0x285669['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x10211d);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x1f9e4d,_0x306485){super(_0x1f9e4d),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x306485;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x1374ea,_0x4f0f12){const _0x20559c=(_0x4f0f12==null?void(-0x1*0x569+0x1*-0xfc1+-0x12d*-0x12):_0x4f0f12['width'])||this['device']['width'],_0x260038=(_0x4f0f12==null?void(-0x2265+-0x329+-0xfd*-0x26):_0x4f0f12['height'])||this['device']['height'];return!_0x1374ea||_0x20559c!==_0x1374ea['width']||_0x260038!==_0x1374ea['height'];}['allocateRe'+'nderTarget'](_0x524019,_0x5f5397,_0xdae32,_0x297501,_0x4551e2){const _0x12e3c0=new _e(_0xdae32,{'name':M_,'format':_0x297501,'width':_0x5f5397?_0x5f5397['colorBuffe'+'r']['width']:_0xdae32['width'],'height':_0x5f5397?_0x5f5397['colorBuffe'+'r']['height']:_0xdae32['height'],'mipmaps':!(-0x43+-0x214e+0x10c9*0x2),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x524019?(_0x524019['destroyFra'+'meBuffers'](),_0x4551e2?_0x524019['_depthBuff'+'er']=_0x12e3c0:(_0x524019['_colorBuff'+'er']=_0x12e3c0,_0x524019['_colorBuff'+'ers']=[_0x12e3c0])):_0x524019=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x4551e2?null:_0x12e3c0,'depthBuffer':_0x4551e2?_0x12e3c0:null,'depth':!_0x4551e2,'stencil':_0xdae32['supportsSt'+'encil'],'autoResolve':!(-0x41*-0x63+0x16da+0x94*-0x53)}),_0x524019;}['releaseRen'+'derTarget'](_0x132aef){_0x132aef&&(_0x132aef['destroyTex'+'tureBuffer'+'s'](),_0x132aef['destroy']());}['before'](){var _0x4ebea4,_0x51fdfc;const _0x33cb02=this['camera'],_0x52293d=this['device'],_0xd59f7f=(_0x33cb02==null?void(-0x1b21+-0x191b+-0x1*-0x343c):_0x33cb02['renderTarg'+'et'])??_0x52293d['backBuffer'];let _0x8179bc=!(0x2f*-0xb2+0xd3+0x1fdb),_0x586ad8=_0xd59f7f['stencil']?sd:$i;_0x52293d['isWebGPU']&&_0xd59f7f['samples']>0x1b8f+0x235f+-0x3eed&&(_0x586ad8=Ji,_0x8179bc=!(-0x24ad+0x2292+0x21c));const _0xf57f58=((_0x4ebea4=_0x33cb02['renderTarg'+'et'])==null?void(-0x629+0x10f6+-0xacd):_0x4ebea4['depthBuffe'+'r'])??((_0x51fdfc=_0x33cb02['renderTarg'+'et'])==null?void(-0x1f60+0x9a8+0x15b8):_0x51fdfc['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0xf57f58)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x33cb02['renderTarg'+'et'],_0x52293d,_0x586ad8,_0x8179bc));const _0x264701=_0x8179bc?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x52293d['scope']['resolve'](M_)['setValue'](_0x264701);}['execute'](){const _0x2eef9a=this['device'];if(Q['pushGpuMar'+'ker'](_0x2eef9a,'GRAB-DEPTH'),_0x2eef9a['isWebGL2']&&_0x2eef9a['renderTarg'+'et']['samples']>-0x6*-0x5c6+0x23c8+0x9*-0x7d3){const _0xcce003=_0x2eef9a['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x427489=this['depthRende'+'rTarget'];_0x2eef9a['renderTarg'+'et']=_0x427489,_0x2eef9a['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x2eef9a,_0xcce003,_0x427489['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x2eef9a['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x2eef9a['copyRender'+'Target'](_0x2eef9a['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x1119*-0x1+0x1*0x1abb+-0x2bd3),!(0xc81+0x1b23+-0x27a4));Q['popGpuMark'+'er'](_0x2eef9a);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0x26d5*0x1+-0x345+0x2a1b)),h(this,'_ssaoEnabl'+'ed',!(-0x5*-0xe9+-0x163f+0x11b3)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x10b6+0xd2f+0x8*0x71)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0x5d*-0x2c+0x13e7+-0x1*0x23e3));}get['hash'](){if(this['_hash']===void(0x4*-0x2c5+-0x5*-0x566+-0xfea)){const _0x1a47a4=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x1a47a4);}return this['_hash'];}get['defines'](){const _0x3c42ad=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0xb44+0x160e+0xb*-0xfb),_0x3c42ad['clear'](),this['_sceneDept'+'hMapLinear']&&_0x3c42ad['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x4f0+0x3*0x6e1+-0xfb3)),_0x3c42ad['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x3c42ad['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x3c42ad['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x3c42ad;}['markDirty'](){this['_hash']=void(0x11*-0x1cc+0x9d3+0x14b9),this['_definesDi'+'rty']=!(0x1b08+-0x1*-0x255b+-0x4063);}set['fog'](_0x56c13c){this['_fog']!==_0x56c13c&&(this['_fog']=_0x56c13c,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4fb80c){this['_ssaoEnabl'+'ed']!==_0x4fb80c&&(this['_ssaoEnabl'+'ed']=_0x4fb80c,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x40fbff){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x2450+-0x25bd+0x16d),this['_gammaCorr'+'ection']!==_0x40fbff&&(this['_gammaCorr'+'ection']=_0x40fbff,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x2a90c6){this['_toneMappi'+'ng']!==_0x2a90c6&&(this['_toneMappi'+'ng']=_0x2a90c6,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x24f8c7){this['_srgbRende'+'rTarget']!==_0x24f8c7&&(this['_srgbRende'+'rTarget']=_0x24f8c7,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x3ae416){this['_sceneDept'+'hMapLinear']!==_0x3ae416&&(this['_sceneDept'+'hMapLinear']=_0x3ae416,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0xb1*-0xe+0x2277+-0x2c25),(this['_aspectRat'+'io']=(0xb*0x283+-0x1000+0x3f*-0x2f)/(0x18cd+-0x1*-0x2386+-0x3c4a),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(-0x256*0x9+0x25f4+-0x10ee+0.75,-0x3*-0x1e1+-0x2*0x6d+-0x4c9+0.75,0xc91*-0x3+0x870+0x1d43*0x1+0.75,0x1f08+0x25f0+0x21*-0x217),this['_clearColo'+'rBuffer']=!(0x2*0x6a3+0x18b4+0x2*-0x12fd),this['_clearDept'+'h']=0x2*0x85a+-0x7*-0x194+0x1*-0x1bbf,this['_clearDept'+'hBuffer']=!(-0x26e+-0x40f*0x6+0x1ac8),this['_clearSten'+'cil']=0x25*-0x2f+0x1*-0x1923+0x1fee,this['_clearSten'+'cilBuffer']=!(0x2*-0x4af+0x184*0x1+-0x192*-0x5),this['_cullFaces']=!(-0x1003*0x2+0x1*0x225e+0x2*-0x12c),this['_farClip']=0xf17+-0x7*0x303+-0x1*-0x9e6,this['_flipFaces']=!(0x2*-0xcec+0x2*0x88+0x18c9*0x1),this['_fov']=0x151*0x14+-0x39a*-0xa+0x3*-0x14b9,this['_frustumCu'+'lling']=!(0x89*-0x9+-0x1aca+0x117*0x1d),this['_horizonta'+'lFov']=!(-0x24d9+0xe98+0x1642),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x1a*0x38+-0x9*0xc0+0x110+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x60a*-0x1+-0x1951+0x1f65,this['_projectio'+'n']=ni,this['_rect']=new re(0x1*-0x10d6+-0x123b+-0x1*-0x2311,0x5*-0x30a+-0x1*-0x13ed+0x1*-0x4bb,-0x26cf+0x1d93+-0x5*-0x1d9,-0x20c5*-0x1+0x568+0x1c*-0x15d),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x23d0+-0x1a43+0x3e13,-0x406+-0x6*0x511+0x89b*0x4,0x887+-0x2*-0x88a+-0x199a,0xcb9+0x2565+-0x321d),this['_scissorRe'+'ctClear']=!(0xe*0x5a+0x10cf+-0x6*0x39f),this['_aperture']=0x26a2+0x29*-0xaf+-0xa8b,this['_shutter']=(0xa99+0x2138+-0x2bd*0x10)/(0xfce+-0x1016+0x430),this['_sensitivi'+'ty']=-0xda6*-0x1+-0x4cd*-0x5+-0x21bf,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x1423*-0x1+0x10bc+0x367),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0x21bb*0x1+0x22da+0x1*-0x4495),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(0x7e3+0xfc3+-0x7e2*0x3),this['_shaderMat'+'ricesVersi'+'on']=0x17b*-0x17+-0x1*-0xde2+-0x1*-0x142b,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x8a8+0xc7c+0xa92*-0x2,0x1*0x244d+0x29*-0x8+0x1*-0x2305,-0x13c8+-0xe94+-0xc*-0x2dd,0x1*-0x197b+-0x752*0x2+0x281f],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x2e9901,_0xd8a8d3;(_0x2e9901=this['renderPass'+'ColorGrab'])==null||_0x2e9901['destroy'](),this['renderPass'+'ColorGrab']=null,(_0xd8a8d3=this['renderPass'+'DepthGrab'])==null||_0xd8a8d3['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0xd53+0xf03*-0x1+0x1c56;}['_storeShad'+'erMatrices'](_0x1a8775,_0x3c6ddb,_0x5064e4,_0x5130a0){this['_shaderMat'+'ricesVersi'+'on']!==_0x5130a0&&(this['_shaderMat'+'ricesVersi'+'on']=_0x5130a0,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x1a8775),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x1a8775),this['_viewProjI'+'nverse']['invert'](_0x1a8775),this['_jitters'][-0x1490+-0xf71+0x2403*0x1]=this['_jitters'][0xacd*0x1+0x210d+0x74f*-0x6],this['_jitters'][-0x1914+0xd*-0x12f+0x287a]=this['_jitters'][0x1*-0x2225+0x7*-0x38b+0x3af3*0x1],this['_jitters'][0x454+0x59*-0x53+0x1887]=_0x3c6ddb,this['_jitters'][0xce0+0x7*0x529+-0x187f*0x2]=_0x5064e4);}get['fullSizeCl'+'earRect'](){const _0x2bea8f=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x2bea8f['x']===0x42d*0x7+0xff9+-0x2d34&&_0x2bea8f['y']===-0x190f+-0x1*0x143f+0x2d4e&&_0x2bea8f['z']===-0x229+-0x1157+0x1*0x1381&&_0x2bea8f['w']===0x1abf*-0x1+-0x24ab+-0x5*-0xcaf;}set['aspectRati'+'o'](_0x113703){this['_aspectRat'+'io']!==_0x113703&&(this['_aspectRat'+'io']=_0x113703,this['_projMatDi'+'rty']=!(0x8*0x448+0xb43*-0x2+-0xbba));}get['aspectRati'+'o'](){var _0x1b2ff5;return(_0x1b2ff5=this['xr'])!=null&&_0x1b2ff5['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x321667){this['_aspectRat'+'ioMode']!==_0x321667&&(this['_aspectRat'+'ioMode']=_0x321667,this['_projMatDi'+'rty']=!(0x1448+-0xa0*-0x28+-0x4*0xb52));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x3ae23f){this['_calculate'+'Projection']=_0x3ae23f,this['_projMatDi'+'rty']=!(-0x116a*0x1+-0x3d*-0x67+-0x1*0x721);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x2acf7f){this['_calculate'+'Transform']=_0x2acf7f;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x391626){this['_clearColo'+'r']['copy'](_0x391626);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x1ef34b){this['_clearColo'+'rBuffer']=_0x1ef34b;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x1ae17e){this['_clearDept'+'h']=_0x1ae17e;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x1c89c6){this['_clearDept'+'hBuffer']=_0x1c89c6;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x520226){this['_clearSten'+'cil']=_0x520226;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x507087){this['_clearSten'+'cilBuffer']=_0x507087;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x52396c){this['_cullFaces']=_0x52396c;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x661151){this['_farClip']!==_0x661151&&(this['_farClip']=_0x661151,this['_projMatDi'+'rty']=!(-0x1bb*-0x7+-0x7a9*-0x5+-0x326a));}get['farClip'](){var _0xfb8317;return(_0xfb8317=this['xr'])!=null&&_0xfb8317['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x3392bb){this['_flipFaces']=_0x3392bb;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x15fe7c){this['_fov']!==_0x15fe7c&&(this['_fov']=_0x15fe7c,this['_projMatDi'+'rty']=!(-0x14c1*-0x1+-0x1a45+0x584));}get['fov'](){var _0x1b2ebc;return(_0x1b2ebc=this['xr'])!=null&&_0x1b2ebc['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x467fec){this['_frustumCu'+'lling']=_0x467fec;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x3fc155){this['_horizonta'+'lFov']!==_0x3fc155&&(this['_horizonta'+'lFov']=_0x3fc155,this['_projMatDi'+'rty']=!(0xa93+0x2e2+-0xd75));}get['horizontal'+'Fov'](){var _0x5150df;return(_0x5150df=this['xr'])!=null&&_0x5150df['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x2733d0){this['_layers']=_0x2733d0['slice'](0x82*-0x37+0x1ee7+0x1*-0x2f9),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x3b4084){this['_nearClip']!==_0x3b4084&&(this['_nearClip']=_0x3b4084,this['_projMatDi'+'rty']=!(0x53*-0x3+0x209*0x5+-0x934));}get['nearClip'](){var _0x1357b1;return(_0x1357b1=this['xr'])!=null&&_0x1357b1['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x32927a){this['_node']=_0x32927a;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x1f9598){this['_orthoHeig'+'ht']!==_0x1f9598&&(this['_orthoHeig'+'ht']=_0x1f9598,this['_projMatDi'+'rty']=!(0x257e+0x1c71*-0x1+-0x90d));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x48797b){this['_projectio'+'n']!==_0x48797b&&(this['_projectio'+'n']=_0x48797b,this['_projMatDi'+'rty']=!(0x1d8a+0x102c+-0x2db6));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x202389){this['_rect']['copy'](_0x202389);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x233c15){this['_renderTar'+'get']=_0x233c15;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x5988c4){this['_scissorRe'+'ct']['copy'](_0x5988c4);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x566e4b=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x566e4b)['invert'](),this['_viewMatDi'+'rty']=!(-0x88f+0x115a+-0x8ca);}return this['_viewMat'];}set['aperture'](_0x234f29){this['_aperture']=_0x234f29;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x1423c4){this['_sensitivi'+'ty']=_0x1423c4;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x17e200){this['_shutter']=_0x17e200;}get['shutter'](){return this['_shutter'];}set['xr'](_0x15f87c){this['_xr']!==_0x15f87c&&(this['_xr']=_0x15f87c,this['_projMatDi'+'rty']=!(0x1*0xe21+-0x193+0x1*-0xc8e));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x341900){return this['_aspectRat'+'io']=_0x341900['_aspectRat'+'io'],this['_farClip']=_0x341900['_farClip'],this['_fov']=_0x341900['_fov'],this['_horizonta'+'lFov']=_0x341900['_horizonta'+'lFov'],this['_nearClip']=_0x341900['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x341900['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x341900['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x341900['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x341900['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x341900['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x341900['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x341900['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x341900['calculateT'+'ransform'],this['clearColor']=_0x341900['clearColor'],this['clearColor'+'Buffer']=_0x341900['clearColor'+'Buffer'],this['clearDepth']=_0x341900['clearDepth'],this['clearDepth'+'Buffer']=_0x341900['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x341900['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x341900['clearStenc'+'ilBuffer'],this['cullFaces']=_0x341900['cullFaces'],this['flipFaces']=_0x341900['flipFaces'],this['frustumCul'+'ling']=_0x341900['frustumCul'+'ling'],this['layers']=_0x341900['layers'],this['orthoHeigh'+'t']=_0x341900['orthoHeigh'+'t'],this['projection']=_0x341900['projection'],this['rect']=_0x341900['rect'],this['renderTarg'+'et']=_0x341900['renderTarg'+'et'],this['scissorRec'+'t']=_0x341900['scissorRec'+'t'],this['aperture']=_0x341900['aperture'],this['shutter']=_0x341900['shutter'],this['sensitivit'+'y']=_0x341900['sensitivit'+'y'],this['shaderPass'+'Info']=_0x341900['shaderPass'+'Info'],this['jitter']=_0x341900['jitter'],this['_projMatDi'+'rty']=!(-0x59*-0x51+0x1909+0x16*-0x26b),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x53a896,_0x292852){var _0x36e573;_0x292852?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x53a896)):((_0x36e573=this['renderPass'+'ColorGrab'])==null||_0x36e573['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x1f0594,_0x2366f2,_0x1485c4){var _0x2f9705;_0x1485c4?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x1f0594,this)):((_0x2f9705=this['renderPass'+'DepthGrab'])==null||_0x2f9705['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x4*0x5de+0x11eb+-0x2*0x14b1));}['worldToScr'+'een'](_0x26ce60,_0x59a08d,_0x521d18,_0x58aa4b=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x26ce60,_0x58aa4b);const _0x1f1c23=this['_viewProjM'+'at']['data'],_0x1758d1=_0x26ce60['x']*_0x1f1c23[0xec6+-0x16a+-0x473*0x3]+_0x26ce60['y']*_0x1f1c23[-0x1f92+0x2576+0x1*-0x5dd]+_0x26ce60['z']*_0x1f1c23[0x497*0x3+0x1411+-0x21cb]+(0x4c8+-0x9ce*0x1+0x507*0x1)*_0x1f1c23[-0x17+0x1a87*0x1+-0x1a61];_0x58aa4b['x']=(_0x58aa4b['x']/_0x1758d1+(-0x2556+0x1633*-0x1+0x3b8a))*(-0x7f0+0x22b5*0x1+-0x1ac5+0.5),_0x58aa4b['y']=(0x1a00+-0x3*0x42+-0x1939-_0x58aa4b['y']/_0x1758d1)*(-0xe1e+0x15c*0x7+0x49a+0.5);const {x:_0x1b243d,y:_0xddab6c,z:_0xce8641,w:_0x2a9bf4}=this['_rect'];return _0x58aa4b['x']=_0x58aa4b['x']*_0xce8641*_0x59a08d+_0x1b243d*_0x59a08d,_0x58aa4b['y']=_0x58aa4b['y']*_0x2a9bf4*_0x521d18+(0x1*-0x25bd+-0x65f*-0x5+0x1*0x5e3-_0xddab6c-_0x2a9bf4)*_0x521d18,_0x58aa4b;}['screenToWo'+'rld'](_0x24e7ba,_0x3d7c5f,_0x1c54c7,_0x1755ae,_0x2824ae,_0x4cc269=new D()){const {x:_0x58eb80,y:_0xbdcb4,z:_0x434011,w:_0x1e131f}=this['_rect'],_0x11c982=this['farClip']-this['nearClip'];if(La['set']((_0x24e7ba-_0x58eb80*_0x1755ae)/(_0x434011*_0x1755ae),-0x576+-0x1249+0x17c0-(_0x3d7c5f-(0x1*0x1fca+-0x10cb+-0xefe-_0xbdcb4-_0x1e131f)*_0x2824ae)/(_0x1e131f*_0x2824ae),_0x1c54c7/_0x11c982),La['mulScalar'](0xfb1+-0x669+-0x1*0x946),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x583924=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x583924['transformP'+'oint'](ao,D_);const _0x2bbbfa=this['_node']['getPositio'+'n']();_0x4cc269['sub2'](D_,_0x2bbbfa),_0x4cc269['normalize'](),_0x4cc269['mulScalar'](_0x1c54c7),_0x4cc269['add'](_0x2bbbfa);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x4cc269);return _0x4cc269;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0xca1ac8=this['_orthoHeig'+'ht'],_0x230b9f=_0xca1ac8*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x230b9f,_0x230b9f,-_0xca1ac8,_0xca1ac8,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1826+-0x20*0x110+0x9db);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x312700=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x4fd*0x7+-0xad8+0x2e27)/this['_sensitivi'+'ty']);return(-0x229c+-0x35*0x1f+0xd*0x328)/(Math['pow'](-0x1026+-0xda*0xe+-0x2*-0xe0a,_0x312700)*(-0x145e+0x1*0x20c6+-0xc67+0.19999999999999996));}['getScreenS'+'ize'](_0x1ac378){if(this['_projectio'+'n']===ni){const _0x138ce9=this['_node']['getPositio'+'n']()['distance'](_0x1ac378['center']);if(_0x138ce9<_0x1ac378['radius'])return 0x1d21+0x1f*-0x7+-0x1c47;const _0x213a30=Math['asin'](_0x1ac378['radius']/_0x138ce9),_0x20c7bb=Math['tan'](_0x213a30),_0x264179=Math['tan'](this['fov']/(0x29*-0xf+0x162+0x1*0x107)*Y['DEG_TO_RAD']);return Math['min'](_0x20c7bb/_0x264179,0x25bf*0x1+0x1f16+-0x44d4);}return Y['clamp'](_0x1ac378['radius']/this['_orthoHeig'+'ht'],-0xebd*0x1+0x2696+0xf*-0x197,-0x26f5*0x1+-0x2f*0x75+0x3c71);}['getFrustum'+'Corners'](_0x4870c7=this['nearClip'],_0x54bb02=this['farClip']){const _0x4b66d9=this['fov']*Math['PI']/(-0x1*-0x1609+0x24c1+-0x3a16);let _0x3e46f5,_0x39df7f;this['projection']===ni?this['horizontal'+'Fov']?(_0x3e46f5=_0x4870c7*Math['tan'](_0x4b66d9/(-0xd*0xdf+-0x1*0x1df5+-0x1*-0x294a)),_0x39df7f=_0x3e46f5/this['aspectRati'+'o']):(_0x39df7f=_0x4870c7*Math['tan'](_0x4b66d9/(0x9f4+-0x25af+-0x9*-0x315)),_0x3e46f5=_0x39df7f*this['aspectRati'+'o']):(_0x39df7f=this['_orthoHeig'+'ht'],_0x3e46f5=_0x39df7f*this['aspectRati'+'o']);const _0x44d059=OE;return _0x44d059[0x1*0x174b+-0x1c*-0x161+-0x3de7]['x']=_0x3e46f5,_0x44d059[-0x17e7+-0x58*0x57+0x35cf]['y']=-_0x39df7f,_0x44d059[-0x1a96+0x82*-0xd+0x2130]['z']=-_0x4870c7,_0x44d059[0xdb6+-0x2*0x1065+-0x3d1*-0x5]['x']=_0x3e46f5,_0x44d059[-0x215*-0xc+0x1e3*-0x2+-0x1535]['y']=_0x39df7f,_0x44d059[0x663*-0x3+-0x18bd+0x2be7]['z']=-_0x4870c7,_0x44d059[0x4ec+-0x2550+-0x3a*-0x8f]['x']=-_0x3e46f5,_0x44d059[0x1e72+-0x4*0x8b8+0x470]['y']=_0x39df7f,_0x44d059[-0x3f1*-0x2+-0x13*0x1ed+0x1cb7]['z']=-_0x4870c7,_0x44d059[-0x1*0x176c+0x7*0x328+-0x7*-0x31]['x']=-_0x3e46f5,_0x44d059[-0x1cda+0x59*0xc+-0x3*-0x83b]['y']=-_0x39df7f,_0x44d059[-0x1c*-0x2+0x1*-0x1297+0x931*0x2]['z']=-_0x4870c7,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x3e46f5=_0x54bb02*Math['tan'](_0x4b66d9/(0x13c5+-0x7*-0x467+-0x3294)),_0x39df7f=_0x3e46f5/this['aspectRati'+'o']):(_0x39df7f=_0x54bb02*Math['tan'](_0x4b66d9/(-0x23f3+0x15dc+0x4b3*0x3)),_0x3e46f5=_0x39df7f*this['aspectRati'+'o'])),_0x44d059[0x1*0xd87+0x6ae+-0x1431]['x']=_0x3e46f5,_0x44d059[-0x2*0x62b+-0x1350+0x1faa]['y']=-_0x39df7f,_0x44d059[0x14fe+-0x2429+0xf2f]['z']=-_0x54bb02,_0x44d059[0x19ba+-0x2531*0x1+0x7*0x1a4]['x']=_0x3e46f5,_0x44d059[-0x1c78+0x5*0x5e9+-0x4*0x44]['y']=_0x39df7f,_0x44d059[0x160+0x352+-0x4ad]['z']=-_0x54bb02,_0x44d059[-0x152*-0x13+-0x18c4+-0x26*0x2]['x']=-_0x3e46f5,_0x44d059[0x244+-0x2b*-0xe6+-0x28e0]['y']=_0x39df7f,_0x44d059[0xd*-0x16f+-0x546+-0x22d*-0xb]['z']=-_0x54bb02,_0x44d059[0x2b*0x61+0x4f*0x5b+-0x2c59]['x']=-_0x3e46f5,_0x44d059[0x1*-0x1d2f+-0x160c+0x3342]['y']=-_0x39df7f,_0x44d059[0x2252+0x172d+-0x3978]['z']=-_0x54bb02,_0x44d059;}['setXrPrope'+'rties'](_0x530545){Object['assign'](this['_xrPropert'+'ies'],_0x530545),this['_projMatDi'+'rty']=!(-0x1*0x1091+-0x48f*-0x3+0x4a*0xa);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0xf77abb,_0x4d0d7c,_0x46fa00){const _0x15803c=new Fl();switch(_0x15803c['node']=new Ie(_0xf77abb),_0x15803c['aspectRati'+'o']=0x1*0xa30+-0x20b*0x2+-0x619,_0x15803c['aspectRati'+'oMode']=lu,_0x15803c['_scissorRe'+'ctClear']=!(0x321+0xb17*-0x1+-0x1*-0x7f6),_0x4d0d7c){case Ke:_0x15803c['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x46fa00]),_0x15803c['fov']=0xfbf*0x2+-0x236f+0x44b,_0x15803c['projection']=ni;break;case Ze:_0x15803c['projection']=ni;break;case ve:_0x15803c['projection']=En;break;}return _0x15803c;}static['evalSpotCo'+'okieMatrix'](_0x32c5cc){let _0x283a6d=gr['_spotCooki'+'eCamera'];_0x283a6d||(_0x283a6d=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x283a6d),_0x283a6d['fov']=_0x32c5cc['_outerCone'+'Angle']*(0x1204+0x225a+-0x4*0xd17);const _0x57355c=_0x283a6d['_node'];_0x57355c['setPositio'+'n'](_0x32c5cc['_node']['getPositio'+'n']()),_0x57355c['setRotatio'+'n'](_0x32c5cc['_node']['getRotatio'+'n']()),_0x57355c['rotateLoca'+'l'](-(0x5e4+-0x1*-0x68e+0xac*-0x12),-0x8be+0x166*-0x1+0xa24,-0xf93+-0x308+0x129b),L_['setTRS'](_0x57355c['getPositio'+'n'](),_0x57355c['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x283a6d['projection'+'Matrix'],L_);const _0x57a96d=_0x32c5cc['cookieMatr'+'ix'],_0x1f7eb1=_0x32c5cc['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x1f7eb1['x'],_0x1f7eb1['y'],_0x1f7eb1['z'],_0x1f7eb1['w']),_0x57a96d['mul2'](O_,R_),_0x57a96d;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0x81*-0xf+0x1d26+0x1597*-0x1,-0x194+-0x120a+0x13f8,0x2*0xa6+-0x21fa+0x2162*0x1),new le()['setFromEul'+'erAngles'](0x136d+-0x96c+0x1*-0xa01,-(0x1*-0x1175+-0x2*-0x92f+-0xb*0xd),-0x236*-0x4+0xa49*0x2+-0x1cb6),new le()['setFromEul'+'erAngles'](0x1b*0xe9+-0x21a0+-0x53*-0x1d,0x25dc+-0xc5b*-0x1+-0x3237,-0x1*0x22b7+-0x2*-0x1bd+0xb*0x2d7),new le()['setFromEul'+'erAngles'](-(-0x9*-0x3eb+-0x1e6b+-0x47e),0x7c*0x8+0x15e4+-0x19c4,-0x3*0x406+-0xe56+0x1a68),new le()['setFromEul'+'erAngles'](-0x118c+-0x5a*0x52+-0x1730*-0x2,0x1e35+0x1*0x148e+-0x320f,0x1*0x1459+-0x113*0x7+-0x2*0x610),new le()['setFromEul'+'erAngles'](0x2067+-0x7bd+-0x18aa,-0x42e*0x3+-0x26c9*-0x1+-0x1a3f*0x1,-0x367+-0xabd+0xed8)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x53*-0x71+0x2*-0x5ad+0x3003),FE=new D(-(-0x1254+0x363+0xef1+0.5),0x3ad*-0x5+-0x11*0xe5+0x2196,0xd*0x4b+-0x22ca+-0x4d*-0x67),NE=new D(0x1366+-0x1*0x16ae+0x348,-0xbcf*0x2+-0xfd*-0x21+-0x8ff,0x6*-0x205+-0x1802+-0x20*-0x121+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x10768f,_0x280409)=>Object['keys'](_0x10768f)['map'](_0x319bf7=>'#define\x20{'+_0x280409+_0x319bf7+'}\x20'+_0x10768f[_0x319bf7])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x2e1548){h(this,'areaLights'+'Enabled',!(-0x8b*0xa+-0x1e1a+-0x33b*-0xb)),(this['device']=_0x2e1548,Pe['get'](_0x2e1548,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x2e1548,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x2*-0x7e8+0xfcb*0x1+0x6),this['shadowsEna'+'bled']=!(0xd*0x21b+-0x2392+0x1e*0x46),this['areaLights'+'Enabled']=!(0x16a1*-0x1+-0x3d*0x3a+0x2474),this['maxLights']=-0x1*0x1b47+0x5*0x6eb+-0x21b*0x3);const _0xa0436b=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x124+-0x1a12+0x1b3a)*_0xa0436b*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0xa0436b,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x1f6+-0x5*-0x6ef+-0x24a1,this['invMaxAtte'+'nuation']=0x2*-0x985+-0x128f*-0x1+0x7b,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x297490;(_0x297490=this['lightsText'+'ure'])==null||_0x297490['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x3a3061,_0x4a82b2,_0x184042,_0x5651b3,_0xf9b2a7){return new _e(_0x3a3061,{'name':_0xf9b2a7,'width':_0x4a82b2,'height':_0x184042,'mipmaps':!(0x677*-0x1+-0x29*0xbc+-0x2494*-0x1),'format':_0x5651b3,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x4a9e51,_0x1c03ab){this['boundsMin']['copy'](_0x4a9e51),this['boundsDelt'+'a']['copy'](_0x1c03ab);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x2f4dcf,_0x302a25){_0x302a25['_node']['getWorldTr'+'ansform']()['getY'](_0x2f4dcf)['mulScalar'](-(-0x1ec0+0xdc5+-0x10fc*-0x1)),_0x2f4dcf['normalize']();}['getLightAr'+'eaSizes'](_0x47a321){const _0x24f0fe=_0x47a321['_node']['getWorldTr'+'ansform']();return _0x24f0fe['transformV'+'ector'](FE,vs),Or[-0x1b89+0x1*-0x173f+-0x82*-0x64]=vs['x'],Or[0x35*-0x57+0x153d+-0x339]=vs['y'],Or[0x2123+-0x2*-0x33d+-0x279b]=vs['z'],_0x24f0fe['transformV'+'ector'](NE,vs),Or[0xe71+-0x811+-0x65d]=vs['x'],Or[0x15b2*0x1+-0x108e+-0x520]=vs['y'],Or[-0x1*0x1c0+0x6*-0x127+0x1*0x8af]=vs['z'],Or;}['addLightDa'+'ta'](_0x5ac71b,_0x71d5b2){const _0x30c6be=_0x5ac71b['_type']===Ze,_0x30f686=_0x5ac71b['atlasViewp'+'ortAllocat'+'ed'],_0x2355a2=this['cookiesEna'+'bled']&&!!_0x5ac71b['_cookie']&&_0x30f686,_0x21fc14=this['areaLights'+'Enabled']&&_0x5ac71b['shape']!==Ys,_0x34ba6b=this['shadowsEna'+'bled']&&_0x5ac71b['castShadow'+'s']&&_0x30f686,_0x4f9963=_0x5ac71b['_node']['getPositio'+'n']();let _0x34e554=null,_0x4f2d04=null;_0x30c6be?_0x34ba6b?_0x34e554=_0x5ac71b['getRenderD'+'ata'](null,0x62*-0x17+0xba3+-0x2d5)['shadowMatr'+'ix']:_0x2355a2&&(_0x34e554=Wn['evalSpotCo'+'okieMatrix'](_0x5ac71b)):(_0x34ba6b||_0x2355a2)&&(_0x4f2d04=_0x5ac71b['atlasViewp'+'ort']);const _0x3b1326=this['lightsFloa'+'t'],_0x4f73cf=this['lightsUint'],_0x30e585=_0x71d5b2*this['lightsText'+'ure']['width']*(0x40f+-0x2*-0x12b3+-0x2971);_0x3b1326[_0x30e585+(0x3*0x211+-0xcbb+0x68c)*at['POSITION_R'+'ANGE']+(0x153d+0x1*0x49d+-0x19da)]=_0x4f9963['x'],_0x3b1326[_0x30e585+(0xf96+0x79a+-0x172c)*at['POSITION_R'+'ANGE']+(-0x2*0xb48+0x71e*0x1+0xf73*0x1)]=_0x4f9963['y'],_0x3b1326[_0x30e585+(0xa88+0x15a9*0x1+-0x202d)*at['POSITION_R'+'ANGE']+(-0x1308+0x302+0x1008)]=_0x4f9963['z'],_0x3b1326[_0x30e585+(-0x85f+0x21d+0x646)*at['POSITION_R'+'ANGE']+(-0x793+-0x1*-0x4eb+0x2ab)]=_0x5ac71b['attenuatio'+'nEnd'];const _0x438b41=_0x5ac71b['clusteredD'+'ata'];if(_0x4f73cf[_0x30e585+(-0x1*0x1eaa+-0x4f*0x56+0x727*0x8)*at['COLOR_ANGL'+'ES_BIAS']+(0x1d43+0x1*-0x270b+0x9c8)]=_0x438b41[-0x2f*0x43+0x1*0x3c4+0x889],_0x4f73cf[_0x30e585+(-0x25*-0x8d+0xb*-0x187+-0x390)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2018+-0x18a9+-0x5*-0xb5a)]=_0x438b41[0x1*-0xc8a+0x1902+-0xc77],_0x4f73cf[_0x30e585+(0x31*-0x47+0x1341+-0x5a6)*at['COLOR_ANGL'+'ES_BIAS']+(0x10d6+0x17f3+0x8f*-0x49)]=_0x438b41[-0x2006*-0x1+-0x4b4+-0xda8*0x2],_0x5ac71b['castShadow'+'s']){const _0x7d756d=_0x5ac71b['getRenderD'+'ata'](null,-0xc80+0xb1a+-0x166*-0x1),_0x2dd366=_0x5ac71b['_getUnifor'+'mBiasValue'+'s'](_0x7d756d),_0x3de03b=Mn['float2Half'](_0x2dd366['bias']),_0x1b9978=Mn['float2Half'](_0x2dd366['normalBias']);_0x4f73cf[_0x30e585+(0x140e+0x1b1+-0x1*0x15bb)*at['COLOR_ANGL'+'ES_BIAS']+(-0x2*-0x9c7+0xd48+-0x20d3)]=_0x3de03b|_0x1b9978<<0x769+0x7e6+-0xf3f;}if(_0x30c6be&&(this['getSpotDir'+'ection'](vs,_0x5ac71b),_0x3b1326[_0x30e585+(-0x1*0x1c41+0x100f*0x1+0x1*0xc36)*at['DIRECTION_'+'FLAGS']+(0x254e+-0x2*0x11a7+-0x200)]=vs['x'],_0x3b1326[_0x30e585+(0xe3c+-0x3e7+-0xa51)*at['DIRECTION_'+'FLAGS']+(0x1b87+-0x80*0x2f+-0x406)]=vs['y'],_0x3b1326[_0x30e585+(-0x18d*0x4+0x5*0x4ff+-0x12c3)*at['DIRECTION_'+'FLAGS']+(-0x625+-0x595*0x5+0x2210)]=vs['z']),_0x4f73cf[_0x30e585+(0x7a9+0x3e8+0x1*-0xb8d)*at['DIRECTION_'+'FLAGS']+(0x301*0x9+-0x1b50+0x4a)]=_0x5ac71b['getCluster'+'edFlags'](_0x34ba6b,_0x2355a2),_0x34e554){const _0x26128a=_0x34e554['data'];for(let _0x4904c0=-0x1cc0+-0xd25+-0x145*-0x21;_0x4904c0<-0x10+0x1cee+-0x1cce;_0x4904c0++)_0x3b1326[_0x30e585+(-0x1*0x7c7+-0xdc1*-0x1+-0x6d*0xe)*at['PROJ_MAT_0']+_0x4904c0]=_0x26128a[_0x4904c0];}if(_0x4f2d04&&(_0x3b1326[_0x30e585+(0x4*-0x47e+-0x21f+0x141b)*at['ATLAS_VIEW'+'PORT']+(-0x1fcf+-0x8ee+-0x1*-0x28bd)]=_0x4f2d04['x'],_0x3b1326[_0x30e585+(0x21e3+0x1*-0x190d+-0x8d2)*at['ATLAS_VIEW'+'PORT']+(0x109d*-0x1+-0x1a23*-0x1+0x985*-0x1)]=_0x4f2d04['y'],_0x3b1326[_0x30e585+(0x1*-0x36b+-0x1fd*-0x1+0xb9*0x2)*at['ATLAS_VIEW'+'PORT']+(0x24db+0xa9+-0x2582)]=_0x4f2d04['z']/(-0x7d9*-0x2+0x4*0x5a8+-0x264f)),_0x21fc14){const _0x39d391=this['getLightAr'+'eaSizes'](_0x5ac71b);_0x3b1326[_0x30e585+(-0x243+0x1*0x551+-0x30a)*at['AREA_DATA_'+'WIDTH']+(0x138e+0x1*-0x232+-0x115c)]=_0x39d391[0x18aa+-0x4*-0x1ab+-0x1f56],_0x3b1326[_0x30e585+(-0x382*0x5+0x2bc+0xed2)*at['AREA_DATA_'+'WIDTH']+(0xa3*-0x11+-0x16d9+0x21ad)]=_0x39d391[-0x9e7+0x1d3a+0x1352*-0x1],_0x3b1326[_0x30e585+(-0x1d5f*0x1+-0x1f9d+0x3d00)*at['AREA_DATA_'+'WIDTH']+(-0x1b54+-0xea*-0x1a+0x392)]=_0x39d391[-0x4b0+-0x1*-0x47e+0x2*0x1a],_0x3b1326[_0x30e585+(-0x1*-0x5fb+-0x510*-0x7+-0x2967)*at['AREA_DATA_'+'HEIGHT']+(0x8c7*-0x1+0x6f7+-0x8*-0x3a)]=_0x39d391[0x9d*-0x1b+0x17*0xa4+0x1d6],_0x3b1326[_0x30e585+(0x267*-0xd+-0xb*-0x79+0x1a0c)*at['AREA_DATA_'+'HEIGHT']+(-0xfde+0x33a+0xca5)]=_0x39d391[-0xb57+-0x20*-0x115+-0x1745],_0x3b1326[_0x30e585+(0x1846+-0x1141+-0x1*0x701)*at['AREA_DATA_'+'HEIGHT']+(-0x10c9+0x18ef*-0x1+0x1*0x29ba)]=_0x39d391[-0x1df2*-0x1+0x2f5+-0x20e2];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0xdc5+-0xd*-0x139+-0xdaa;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x5f302e){h(this,'clusterTex'+'ture'),(this['device']=_0x5f302e,this['name']='Untitled',this['reportCoun'+'t']=-0x25f0+0x1d94+0x85c,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(0xb87+0x869*0x1+-0x13ef,0x26f6+-0xb82+-0x1b73*0x1,0x1d02+0x10e1+-0x2de2),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x8a*0x3d+-0x144c+-0x649*0x2,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x5f302e),this['registerUn'+'iforms'](_0x5f302e));}set['maxCellLig'+'htCount'](_0x21ce7c){_0x21ce7c!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x21ce7c,this['_cellsDirt'+'y']=!(0x23b+0x1*0x25d6+-0x2811*0x1));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x10ab0a){ic['copy'](_0x10ab0a)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x18fd+0x476*-0x1+0x3*0x9d1));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x22dd15){this['_clusterSk'+'ipId']=_0x22dd15['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x22dd15['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x22dd15['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x22dd15['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x34*0xbf+-0x5d+-0x266c),this['_clusterBo'+'undsMinId']=_0x22dd15['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x1*0x6e3+0x7b0+-0xe90),this['_clusterBo'+'undsDeltaI'+'d']=_0x22dd15['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x17*-0xef+-0x9ea+0x1f66),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x22dd15['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1c24*-0x1+-0x1*-0x649+-0x1*0x226a),this['_clusterCe'+'llsDotId']=_0x22dd15['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x24ba+-0x7*-0x316+-0x3a51),this['_clusterCe'+'llsMaxId']=_0x22dd15['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x5*0x6b6+0x98f*-0x4+0x4b1);}['updatePara'+'ms'](_0x791c20){_0x791c20&&(this['cells']=_0x791c20['cells'],this['maxCellLig'+'htCount']=_0x791c20['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x791c20['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x791c20['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x791c20['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x174c+-0x25ac+0x3cf9);const _0x44d31a=this['_cells']['x'],_0x519bd7=this['_cells']['y'],_0x1fd5a7=this['_cells']['z'],_0x256292=_0x44d31a*_0x519bd7*_0x1fd5a7,_0x343844=this['maxCellLig'+'htCount']*_0x256292;let _0x50120d=Math['ceil'](Math['sqrt'](_0x343844));_0x50120d=Y['roundUp'](_0x50120d,this['maxCellLig'+'htCount']);const _0x2d62be=Math['ceil'](_0x343844/_0x50120d);w['assert'](_0x50120d<=k_&&_0x2d62be<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x190d*-0x1+-0xbb9+-0x4*0x355]=_0x44d31a,this['_clusterCe'+'llsMaxData'][-0x5*0x5f2+-0x2*-0xc92+0x497]=_0x519bd7,this['_clusterCe'+'llsMaxData'][0x5d+-0x1e3f+0x1de4]=_0x1fd5a7,this['_clusterCe'+'llsDotData'][-0x6*0x14b+-0x65b+0xe1d]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1d1+0x1d12+-0x1b40]=_0x44d31a*_0x1fd5a7*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x23*0x91+0x5*0x1b1+0xb60]=_0x44d31a*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x343844),this['counts']=new Int32Array(_0x256292),this['_clusterTe'+'xtureSizeD'+'ata'][-0x2320+0x11e+-0x1*-0x2202]=_0x50120d,this['_clusterTe'+'xtureSizeD'+'ata'][0x695*0x1+0x1233+0x18c7*-0x1]=(-0x223+0x1*0xff1+0x1*-0xdcd)/_0x50120d,this['_clusterTe'+'xtureSizeD'+'ata'][-0xf*-0x263+0x1ac5+0x2*-0x1f48]=(0xcce+0xc09+-0x18d6)/_0x2d62be,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x50120d,_0x2d62be,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x9f*-0x3+0x1dfe+-0x3*0x960?0x4e3*-0x1+0x760*-0x2+0x13a3:-0x2*-0x3fe+-0x1d22+0x11d*0x13),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x3e3034=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1c48+-0x25*0xaf+-0xff*0x3]=this['_cells']['x']/_0x3e3034['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x11ab+0x74b*0x1+0x1*0xa61]=this['_cells']['y']/_0x3e3034['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1409+-0x48d*0x3+0x21b2]=this['_cells']['z']/_0x3e3034['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x1d52*-0x1+0x3*-0xb23+-0x3ebb*-0x1]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1f49+0x161b+-0x92f*-0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x3f7*-0x7+0x16de+0x3*-0x10df]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x26ce+0x3df*0x3+-0x326b*0x1]=_0x3e3034['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xb6d+-0x1183+0x1cf1]=_0x3e3034['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x5*0x26b+-0x2*-0x11b0+0x1*-0x2f75]=_0x3e3034['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x46d1cb,_0x3683b8,_0x429e7b){_0x3683b8['copy'](_0x46d1cb['min']),_0x3683b8['sub'](this['boundsMin']),_0x3683b8['div'](this['boundsDelt'+'a']),_0x3683b8['mul2'](_0x3683b8,this['cells']),_0x3683b8['floor'](),_0x429e7b['copy'](_0x46d1cb['max']),_0x429e7b['sub'](this['boundsMin']),_0x429e7b['div'](this['boundsDelt'+'a']),_0x429e7b['mul2'](_0x429e7b,this['cells']),_0x429e7b['ceil'](),_0x3683b8['max'](D['ZERO']),_0x429e7b['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x4a8a5c){const _0x5f5063=this['lightsBuff'+'er']['maxLights'],_0x26615c=this['_usedLight'+'s'];let _0x16bbc4=-0x11*0x1a1+0x1df*0x3+0x1615;_0x4a8a5c['forEach'](_0x401b18=>{const _0x3aaf54=!!(_0x401b18['mask']&(Ss|di)),_0x52a25d=_0x401b18['type']===Ze&&_0x401b18['_outerCone'+'Angle']===0x23f2+0x237c+-0xdf*0x52;if(_0x401b18['enabled']&&_0x401b18['type']!==ve&&_0x401b18['visibleThi'+'sFrame']&&_0x401b18['intensity']>-0x1f53+0x33c+0x3*0x95d&&_0x3aaf54&&!_0x52a25d){if(_0x16bbc4<_0x5f5063){let _0x45c82c;_0x16bbc4<_0x26615c['length']?_0x45c82c=_0x26615c[_0x16bbc4]:(_0x45c82c=new U_(),_0x26615c['push'](_0x45c82c)),_0x45c82c['light']=_0x401b18,_0x401b18['getBoundin'+'gBox'](Yd),_0x45c82c['min']['copy'](Yd['getMin']()),_0x45c82c['max']['copy'](Yd['getMax']()),_0x16bbc4++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5f5063-(-0x2194+0x1dab+-0x3ea*-0x1))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x26615c['length']=_0x16bbc4;}['evaluateBo'+'unds'](){const _0x5e77cb=this['_usedLight'+'s'],_0x13e7fd=this['boundsMin'],_0x3c1868=this['boundsMax'];if(_0x5e77cb['length']>-0x25c3+-0x73*0x11+0x2d67){_0x13e7fd['copy'](_0x5e77cb[0x23ed+-0x3df*0x1+0xaaf*-0x3]['min']),_0x3c1868['copy'](_0x5e77cb[-0x4cd*0x6+0x1528+0x7a7]['max']);for(let _0x37c4d2=-0x995*-0x2+-0x1ec3+0xb9b;_0x37c4d2<_0x5e77cb['length'];_0x37c4d2++)_0x13e7fd['min'](_0x5e77cb[_0x37c4d2]['min']),_0x3c1868['max'](_0x5e77cb[_0x37c4d2]['max']);}else _0x13e7fd['set'](-0x2349+-0x1*-0x1aab+0x89e,0x17c2+-0x1b22+-0x48*-0xc,0x4*-0x36a+0x228f+-0x1*0x14e7),_0x3c1868['set'](0x1767*0x1+-0x16af+-0xb7,-0x20ae+0x2366+-0x2b7,-0x1500+0x1d89*-0x1+0x328a);this['boundsDelt'+'a']['sub2'](_0x3c1868,_0x13e7fd),this['lightsBuff'+'er']['setBounds'](_0x13e7fd,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x3af27f){this['counts']['fill'](-0x3fb+0x2292+-0x1e97),this['clusters']['fill'](-0x1*0xb21+-0x15d8+0x20f9),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3af27f?_0x3af27f['areaLights'+'Enabled']:!(0xfe8+0x1*0xe08+0x1*-0x1def);const _0x5ae05e=this['_cells']['x'],_0x581a97=this['_cells']['z'],_0x24aa9e=this['counts'],_0x39a574=this['_maxCellLi'+'ghtCount'],_0x5b9102=this['clusters'],_0x4a3888=this['maxCellLig'+'htCount'];let _0x25714b=!(-0x117*0x15+0x62b*-0x1+0x1d0f);const _0xf0404e=this['_usedLight'+'s'];for(let _0x56ceaf=0xeb8+-0x131a+-0x463*-0x1;_0x56ceaf<_0xf0404e['length'];_0x56ceaf++){const _0x45a5c3=_0xf0404e[_0x56ceaf],_0x4d7786=_0x45a5c3['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x4d7786,_0x56ceaf),this['evalLightC'+'ellMinMax'](_0x45a5c3,rc,ac);const _0x526184=rc['x'],_0x155965=ac['x'],_0x4c1582=rc['y'],_0x5e61bf=ac['y'],_0x31b528=rc['z'],_0x38f271=ac['z'];for(let _0x34c852=_0x526184;_0x34c852<=_0x155965;_0x34c852++)for(let _0xb8f266=_0x31b528;_0xb8f266<=_0x38f271;_0xb8f266++)for(let _0x5493b3=_0x4c1582;_0x5493b3<=_0x5e61bf;_0x5493b3++){const _0x5afa75=_0x34c852+_0x5ae05e*(_0xb8f266+_0x5493b3*_0x581a97),_0x4e4c83=_0x24aa9e[_0x5afa75];_0x4e4c83<_0x39a574?(_0x5b9102[_0x4a3888*_0x5afa75+_0x4e4c83]=_0x56ceaf,_0x24aa9e[_0x5afa75]=_0x4e4c83+(-0x17c2+0x23f*-0xb+-0x468*-0xb)):_0x25714b=!(0x2515+-0x1*-0x448+-0x295d);}}_0x25714b&&this['reportCoun'+'t']<0x941*0x2+-0x51b*-0x4+0x26e9*-0x1&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x618*0x2+-0x2a6*-0x2+-0x44*-0x1a?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x2c14b9,_0x1271d8=null){this['updatePara'+'ms'](_0x1271d8),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x2c14b9),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x1271d8),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x13e1+-0x2*0x484+-0xad7+0.39996322972865306,Nl={'circlePoint'(_0x42a4a4){const _0x3e4452=Math['sqrt'](Math['random']()),_0x7ac70d=Math['random']()*(-0x20*0x6d+0x14*0x99+0x1ae)*Math['PI'];_0x42a4a4['x']=_0x3e4452*Math['cos'](_0x7ac70d),_0x42a4a4['y']=_0x3e4452*Math['sin'](_0x7ac70d);},'circlePointDeterministic'(_0x7757bb,_0x4704f8,_0x140d29){const _0x54eb61=_0x4704f8*B_,_0x396cf9=Math['sqrt'](_0x4704f8)/Math['sqrt'](_0x140d29);_0x7757bb['x']=_0x396cf9*Math['cos'](_0x54eb61),_0x7757bb['y']=_0x396cf9*Math['sin'](_0x54eb61);},'spherePointDeterministic'(_0x51c5b6,_0x5933a8,_0x11e697,_0x22099e=0x1725+-0x1f49+0x2*0x412,_0x1be10f=0x12a1+0x236a+0x1*-0x360a){_0x22099e=-0xbd*-0x28+-0x13c9+-0x1d*0x56-(-0xf*-0x166+0x2d8+-0x4*0x5f4)*_0x22099e,_0x1be10f=0xb*0x2f5+0x155+-0x21db-(0x1669+-0x5*0x5f3+0x758)*_0x1be10f;const _0x20a7a9=Y['lerp'](_0x22099e,_0x1be10f,_0x5933a8/_0x11e697),_0x101ad1=Math['sqrt'](0xd9f*-0x1+0x1959*0x1+0xbb9*-0x1-_0x20a7a9*_0x20a7a9),_0x351718=B_*_0x5933a8;_0x51c5b6['x']=Math['cos'](_0x351718)*_0x101ad1,_0x51c5b6['y']=_0x20a7a9,_0x51c5b6['z']=Math['sin'](_0x351718)*_0x101ad1;},'radicalInverse'(_0x3904fa){let _0xb251b6=(_0x3904fa<<0x1*0x13ca+-0x351*-0xb+-0x3835*0x1|_0x3904fa>>>0x1809*0x1+-0x382*-0x5+-0x2983)>>>0x2181+-0x1ebd+-0x2c4;return _0xb251b6=((_0xb251b6&0x8fb48d*0xc5+0x1*0x2274d8d7+0x1*-0x3bb57403)<<-0x1*0xa8e+-0xc24+-0x1*-0x16b3|(_0xb251b6&-0x33b116d*-0x9+0x8f014ab8+-0x16a3ce3)>>>0x269a+0x799*-0x5+-0x9c)>>>0x2410+0x17d5*0x1+0x39*-0x10d,_0xb251b6=((_0xb251b6&-0xeef424*0x47+0x78a0db3+0x6deedb7c)<<0x3*0x935+-0x2*-0x9a9+-0x2eef|(_0xb251b6&0xf1bfc6*-0xc0+0xb36c72b3*-0x1+-0xa0571*-0x386f)>>>0x383*0x9+0xb*0x2a3+-0x2*0x1e4d)>>>-0xfb6+-0x72b+0x16e1,_0xb251b6=((_0xb251b6&0xd44a79*-0xd+-0x75a4259+-0x28d9f81*-0xd)<<-0x7c5*-0x5+0x4b1*0x1+-0x26b*0x12|(_0xb251b6&-0x1a1fb9*0x8b7+-0xf4626cce+0x2c8fdd2fd)>>>0x1*-0x883+0x79b+0xec)>>>-0x1*-0x34+-0x1*-0x16bf+-0x16f3,_0xb251b6=((_0xb251b6&0x14bf4f3+0xe72504+0x1ecf4c*-0xa)<<-0x1ead*-0x1+0xb55+-0x14fd*0x2|(_0xb251b6&0x1391*0x5690c+-0x1f7d99f*0x99+0x1c245ab3b*0x1)>>>0xde3+0x13*-0x8e+-0x351)>>>-0x5a5+0xffd*-0x2+0x259f,_0xb251b6*(0x1*-0x40a+-0x1*0x132f+0x5*0x4a5+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x1ab934){return BE[_0x1ab934]??'decodeGamm'+'a';}static['encodeFunc'](_0x23c072){return zE[_0x23c072]??'encodeGamm'+'a';}}const z_=_0x5c66e0=>{switch(_0x5c66e0){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x5180be,_0x286297,_0x2e7954)=>{if(_0x5180be<=-0xdcb+0x1dde+0x1013*-0x1)_0x286297[_0x2e7954+(-0x1c46+-0xc*0x80+-0xd6*-0x29)]=0x2039+-0x2693+0x65a,_0x286297[_0x2e7954+(-0x2ca*-0x7+0xd74+0x17*-0x16f)]=-0x136f*-0x1+-0x16d2+0x363,_0x286297[_0x2e7954+(0x71a+0x1fa*0x6+-0x12f4)]=-0x1df2+0x375*-0x5+0x2f3b,_0x286297[_0x2e7954+(0x12fd*0x1+-0x1ba6*0x1+0x2e4*0x3)]=-0x1d31+-0x4e1*-0x1+-0x1850*-0x1;else{if(_0x5180be>=-0x208c+0x9*0x4d+-0xa*-0x2fc)_0x286297[_0x2e7954+(-0x2fa+-0x1247*0x2+0x2788)]=-0x162c+0x1*0x439+0x12f2,_0x286297[_0x2e7954+(0x188d+0x1fab*-0x1+0x71f*0x1)]=-0x19af+0x139f+-0x184*-0x4,_0x286297[_0x2e7954+(0x77a+0x21cb+-0xdc1*0x3)]=-0x1*0x2333+0x1d*-0x3a+-0x11*-0x275,_0x286297[_0x2e7954+(-0xd1e+-0x3*-0x4d5+-0x15e)]=0x685+0x6d0+0x1*-0xd55;else{let _0x14a398=(0xb*0x63+-0x1*0x26f9+0x22b9*0x1)*_0x5180be%(0x1*0x132d+0xfb*-0xd+0x23*-0x2f),_0x3e5c24=(0xde7*-0x1+0x29*0x5b+-0x53*-0x1)*_0x5180be%(-0x262f+0x14ac+0x1184),_0x50c0a2=(-0x111*-0x8e+-0xf6b5*-0x2+-0x186d7)*_0x5180be%(-0x1027+0x4b*-0x2f+0x1ded);const _0x5e7cb9=(-0x1265566+0x14*-0xd7ca5+0x36e3*0xee3)*_0x5180be%(0x1091*-0x1+-0x9f6+0x1a88);_0x14a398-=_0x3e5c24/(0x547*-0x7+0x121e+0x76*0x2b),_0x3e5c24-=_0x50c0a2/(-0x1b08+0xf95*-0x1+0x2*0x15ce),_0x50c0a2-=_0x5e7cb9/(0x1c59+0xa53+-0x25ad),_0x286297[_0x2e7954+(0x80f+-0x262d+0x1e1e)]=Math['min'](0x1*-0x71f+0x26f*-0x10+0x2f0e,Math['floor'](_0x14a398*(-0x111+0x13*-0x116+-0xd*-0x1bf))),_0x286297[_0x2e7954+(0x1*0x1049+-0x12df+0x1*0x297)]=Math['min'](-0x1e5f*-0x1+-0x4*-0x452+-0x2ea8,Math['floor'](_0x3e5c24*(-0x6d*0x2b+0xd4a+0x605))),_0x286297[_0x2e7954+(0x2*-0x15b+-0x3c9+-0xf*-0x6f)]=Math['min'](0x11c9*-0x2+0x1*0x1649+0x8*0x1c9,Math['floor'](_0x50c0a2*(-0x19f5+-0x1*0x1ef+-0x56*-0x56))),_0x286297[_0x2e7954+(0x2*0x473+-0x222*-0x11+-0x2d25)]=Math['min'](0x2643*0x1+-0x2*-0xee9+-0x4316,Math['floor'](_0x5e7cb9*(0x3*-0x8af+-0x27*0xad+0x3568)));}}},VE=_0x44801a=>{const _0x5681e5=_0x44801a['length'],_0x311050=Math['min'](_0x5681e5,-0x1ac2+0x1*0x1e3d+0x17b*-0x1),_0x236a27=Math['ceil'](_0x5681e5/_0x311050),_0x1070ab=new Uint8Array(_0x311050*_0x236a27*(0x2494*-0x1+0xf1*0x1f+0x769));let _0x38cab2=0x1*0xb62+-0x631+0x531*-0x1;for(let _0x1d04c8=-0x1*0x26d+-0x666+0x2f1*0x3;_0x1d04c8<_0x5681e5;_0x1d04c8+=0x61*0x35+-0x13*0x121+0x76*0x3)nc(_0x44801a[_0x1d04c8+(0x5cb+0x175*0x19+-0x2a38)]*(0x2367+-0x39c*0x3+-0x2bb*0x9+0.5)+(0x1f7+0x25dc*0x1+-0x27d3+0.5),_0x1070ab,_0x38cab2+(-0x108d+-0x249f+0x352c)),nc(_0x44801a[_0x1d04c8+(-0x4a*-0x1d+0x2622*0x1+-0x2e83)]*(-0x1c4a*-0x1+0x2241+0x3*-0x14d9+0.5)+(0x16f1+0xbda+-0x22cb+0.5),_0x1070ab,_0x38cab2+(0x2103*0x1+0x1fb1+-0x78*0x8a)),nc(_0x44801a[_0x1d04c8+(-0xddd+0x2088+0x12a9*-0x1)]*(0x2495+0x519+-0x3ca*0xb+0.5)+(0x208d+0xb64+-0x2bf1+0.5),_0x1070ab,_0x38cab2+(-0xa97*-0x1+0x15a3+-0x2032)),nc(_0x44801a[_0x1d04c8+(-0x1d*-0xf1+0x2*-0x119f+0x7f4)]/(0x384+-0xb*-0x21d+-0x1abb),_0x1070ab,_0x38cab2+(-0xdef+0x1*-0x13b2+-0x21ad*-0x1)),_0x38cab2+=0xd*0x43+0x16e5+0x49*-0x5c;return{'width':_0x311050,'height':_0x236a27,'data':_0x1070ab};},GE=(_0x584cfd,_0x381a24,_0x566afb,_0x11e5e6)=>{const _0x2a6474=_0x566afb*(-0x185*-0x2+0x1*0x1049+-0x2b*0x73)*Math['PI'],_0x39079a=Math['pow'](-0x59*0x3b+-0x1*-0x2363+-0xedf-_0x381a24,(-0xcff+-0x1*-0x1f75+-0x1275)/(_0x11e5e6+(-0x33b*-0x5+0x254f+-0x3575))),_0x6ac646=Math['sqrt'](-0x5*0x1b5+-0xbd7*-0x3+-0x1afb-_0x39079a*_0x39079a);_0x584cfd['set'](Math['cos'](_0x2a6474)*_0x6ac646,Math['sin'](_0x2a6474)*_0x6ac646,_0x39079a)['normalize']();},HE=(_0x228f5f,_0x3038c8,_0x312c30)=>{const _0xce6892=_0x312c30*(0x1ad4+0xd6f*0x2+-0x35b0)*Math['PI'],_0x3a7bc1=Math['sqrt'](0x2535+-0x24d*-0x1+-0x2781-_0x3038c8),_0x30763d=Math['sqrt'](_0x3038c8);_0x228f5f['set'](Math['cos'](_0xce6892)*_0x30763d,Math['sin'](_0xce6892)*_0x30763d,_0x3a7bc1)['normalize']();},WE=(_0x5c07fe,_0x3be9d1,_0x1d6fce,_0x4884b7)=>{const _0x135997=_0x1d6fce*(-0x63*-0x52+0xc77+0x1*-0x2c2b)*Math['PI'],_0x38b734=Math['sqrt']((0x21ec*-0x1+-0x26e1+0x2467*0x2-_0x3be9d1)/(-0x1*0x1f1b+0xab2+-0xd*-0x192+(_0x4884b7*_0x4884b7-(-0x1ebb+0x9*0x351+0xe3))*_0x3be9d1)),_0x1d0ea4=Math['sqrt'](-0x1*0xb4d+-0x1*-0xac1+0x8d-_0x38b734*_0x38b734);_0x5c07fe['set'](Math['cos'](_0x135997)*_0x1d0ea4,Math['sin'](_0x135997)*_0x1d0ea4,_0x38b734)['normalize']();},$E=(_0x4f3a3e,_0xb248c0)=>{const _0x518572=_0x4f3a3e*_0xb248c0,_0x10996b=_0xb248c0/(0x1*0x2225+-0x20d1+0x3*-0x71-_0x4f3a3e*_0x4f3a3e+_0x518572*_0x518572);return _0x10996b*_0x10996b*((-0x1c*0x18+0x116f+-0xece)/Math['PI']);},XE=(_0x178309,_0x53aebf)=>{const _0x513ffe=new D(),_0xeb93b4=[];for(let _0x8dd862=-0x23*0x97+-0x1eb*-0x12+-0xde1;_0x8dd862<_0x178309;++_0x8dd862)GE(_0x513ffe,_0x8dd862/_0x178309,Nl['radicalInv'+'erse'](_0x8dd862),_0x53aebf),_0xeb93b4['push'](_0x513ffe['x'],_0x513ffe['y'],_0x513ffe['z'],0x8*-0x295+-0xb9+-0x1561*-0x1);return _0xeb93b4;},qE=(_0x44693c,_0x3835aa)=>{const _0x33a5c3=_0x3835aa/_0x44693c,_0x3f1760=new D(),_0x1ea60a=[];for(let _0x3c1f4c=0x5ff+-0x5*0x55+-0x456;_0x3c1f4c<_0x44693c;++_0x3c1f4c){HE(_0x3f1760,_0x3c1f4c/_0x44693c,Nl['radicalInv'+'erse'](_0x3c1f4c));const _0x310285=_0x3f1760['z']/Math['PI'],_0x2ca5c6=(0x1db1+0x6*-0x1ba+-0x1355*0x1+0.5)*Math['log2'](_0x33a5c3/_0x310285);_0x1ea60a['push'](_0x3f1760['x'],_0x3f1760['y'],_0x3f1760['z'],_0x2ca5c6);}return _0x1ea60a;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x5d75e0,_0x1c9e48)=>{const _0x20920c=jE[_0x5d75e0];return _0x20920c&&_0x20920c[_0x1c9e48]||_0x5d75e0;},KE=(_0xac1e9e,_0x21c219,_0x22e902)=>{const _0xab9c9c=_0x22e902/_0xac1e9e,_0x58edc0=0xf76+0xacc+-0x1a41-Math['log2'](_0x21c219)/(0x67*0x11+0x191e+-0x5f*0x56),_0x360b5f=_0x58edc0*_0x58edc0,_0x62dbec=new D(),_0x164172=new D(),_0x33a286=new D(-0x4*-0x886+-0xd3*0x16+-0x9*0x1c6,0x2413+-0x143b+-0xfd8,-0xa*0x13c+0x20c4+-0x146b),_0x2bcf74=[],_0x3dd9be=YE(_0xac1e9e,_0x21c219);for(let _0x5a2ccc=0x182*-0x7+-0x1b1c+-0xc8e*-0x3;_0x5a2ccc<_0x3dd9be;++_0x5a2ccc){WE(_0x62dbec,_0x5a2ccc/_0x3dd9be,Nl['radicalInv'+'erse'](_0x5a2ccc),_0x360b5f);const _0x4420d3=_0x62dbec['z'];if(_0x164172['set'](_0x62dbec['x'],_0x62dbec['y'],_0x62dbec['z'])['mulScalar']((-0x14b1+0x257f+-0x10cc)*_0x4420d3)['sub'](_0x33a286),_0x164172['z']>0x1*-0x1410+-0x30c+0x171c){const _0x5bc39c=$E(Math['min'](0x24d1+-0x7a*-0x2a+-0x38d4,_0x4420d3),_0x360b5f)/(-0x1a43+0x42+0x1*0x1a05)+(-0x715*-0x1+-0x2f7*-0x9+-0x21c4+0.001),_0x32a64e=(-0x78e*-0x4+0x22d7+0xd03*-0x5+0.5)*Math['log2'](_0xab9c9c/_0x5bc39c);_0x2bcf74['push'](_0x164172['x'],_0x164172['y'],_0x164172['z'],_0x32a64e);}}for(;_0x2bcf74['length']<_0xac1e9e*(0x23f1+0x7ae*0x2+-0x3349);)_0x2bcf74['push'](0x4*-0x12d+-0x1705+0x2f*0x97,-0x615+-0xda1*-0x1+-0x78c,0x2165+0x4fe*0x4+-0x355d,-0x6*0x21a+-0x14a4+0x2140);return _0x2bcf74;},ZE=(_0x2b2967,_0x3449f2,_0x5f4ebf)=>{const _0x24a2ff=VE(_0x5f4ebf);return new _e(_0x2b2967,{'name':_0x3449f2,'width':_0x24a2ff['width'],'height':_0x24a2ff['height'],'mipmaps':!(0x942+-0x2255+0x1914),'minFilter':Te,'magFilter':Te,'levels':[_0x24a2ff['data']]});};class xv{constructor(_0x28e5c0=!(0xe72+-0x1*0xb3e+0x4*-0xcd)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x28e5c0;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x99084f,_0x2d60a4)=>{_0x99084f['destroy']();});}['get'](_0x2e1b39,_0x3071fe){if(!this['map']['has'](_0x2e1b39)){const _0x26076c=_0x3071fe();return this['map']['set'](_0x2e1b39,_0x26076c),_0x26076c;}return this['map']['get'](_0x2e1b39);}}const QE=new xv(!(-0x133*-0x11+0x6e*0x31+-0x110*0x27)),JE=new Kt(),dm=(_0xdc7cce,_0x2feb58,_0x17dd6a)=>JE['get'](_0xdc7cce,()=>new xv())['get'](_0x2feb58,()=>ZE(_0xdc7cce,_0x2feb58,QE['get'](_0x2feb58,_0x17dd6a))),eb=(_0x29695a,_0x28186c,_0x57e472)=>{const _0x52b428='lambert-sa'+'mples-'+_0x28186c+'-'+_0x57e472;return dm(_0x29695a,_0x52b428,()=>qE(_0x28186c,_0x57e472));},tb=(_0x3fd752,_0xf094a3,_0x4f20ac)=>{const _0x349ecf='phong-samp'+'les-'+_0xf094a3+'-'+_0x4f20ac;return dm(_0x3fd752,_0x349ecf,()=>XE(_0xf094a3,_0x4f20ac));},sb=(_0xcac546,_0x5c726d,_0x9021d2,_0x463304)=>{const _0x3d1a4f='ggx-sample'+'s-'+_0x5c726d+'-'+_0x9021d2+'-'+_0x463304;return dm(_0xcac546,_0x3d1a4f,()=>KE(_0x5c726d,_0x9021d2,_0x463304));};function vi(_0x22a1ca,_0x131a54,_0x27ced9={}){var _0x5d596d,_0x19f5dc;w['assert'](_0x22a1ca instanceof _e&&_0x131a54 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x1f6c3d=_0x27ced9['seamPixels']??0x3*-0x6b+-0x1b3c+0x1c7d,_0x231820=(((_0x5d596d=_0x27ced9['rect'])==null?void(-0x3*-0x6e2+0x6f3+-0x1b99):_0x5d596d['z'])??_0x131a54['width'])-_0x1f6c3d*(-0xb82+-0xd3b+-0x7*-0x389),_0x16fc3e=(((_0x19f5dc=_0x27ced9['rect'])==null?void(-0xf0*-0x17+-0x216d+-0x1*-0xbdd):_0x19f5dc['w'])??_0x131a54['height'])-_0x1f6c3d*(-0x1be6+0x3d1*0x5+0x8d3);if(_0x231820<0xd18*-0x2+0x1b7*-0x3+-0x15*-0x17e||_0x16fc3e<-0x1*-0x5da+0x1637+-0x4*0x704)return!(-0x1cb*0xe+-0x15ec+0x1*0x2f07);const _0x193487={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x284a1e=_0x27ced9['hasOwnProp'+'erty']('specularPo'+'wer')?_0x27ced9['specularPo'+'wer']:-0x5*-0x351+-0x26e9*0x1+-0x1655*-0x1,_0x4a0fb4=_0x27ced9['hasOwnProp'+'erty']('face')?_0x27ced9['face']:null,_0x36f863=_0x27ced9['hasOwnProp'+'erty']('distributi'+'on')?_0x27ced9['distributi'+'on']:_0x284a1e===0x2419+0x5*-0x4a3+-0xce9?'none':'phong',_0x98df17=_0x193487[_0x36f863]||'reproject',_0x3628f9=_0x98df17['startsWith']('prefilterS'+'amples'),_0x4623ab=Tr['decodeFunc'](_0x22a1ca['encoding']),_0x32ed64=Tr['encodeFunc'](_0x131a54['encoding']),_0x5818bb='sample'+z_(_0x22a1ca['projection']),_0x53ef45='getDirecti'+'on'+z_(_0x131a54['projection']),_0x42dd74=_0x27ced9['hasOwnProp'+'erty']('numSamples')?_0x27ced9['numSamples']:-0x303+0x18a9+0x12*-0xfb,_0x11ff4c='ReprojectS'+'hader:'+_0x98df17+'_'+_0x4623ab+'_'+_0x32ed64+'_'+_0x5818bb+'_'+_0x53ef45+'_'+_0x42dd74,_0x26f3bd=_0x22a1ca['device'];let _0x45dce7=Hn(_0x26f3bd)['getCachedS'+'hader'](_0x11ff4c);if(!_0x45dce7){const _0x47364a=new Map();_0x3628f9&&_0x47364a['set']('USE_SAMPLE'+'S_TEX',''),_0x22a1ca['cubemap']&&_0x47364a['set']('CUBEMAP_SO'+'URCE',''),_0x47364a['set']('{PROCESS_F'+'UNC}',_0x98df17),_0x47364a['set']('{DECODE_FU'+'NC}',_0x4623ab),_0x47364a['set']('{ENCODE_FU'+'NC}',_0x32ed64),_0x47364a['set']('{SOURCE_FU'+'NC}',_0x5818bb),_0x47364a['set']('{TARGET_FU'+'NC}',_0x53ef45),_0x47364a['set']('{NUM_SAMPL'+'ES}',_0x42dd74),_0x47364a['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x42dd74))['toFixed'](-0x8*0xc2+0x17*0xbe+-0xb01));const _0x17eb30=_0x26f3bd['isWebGPU'],_0x14aced=Pe['get'](_0x26f3bd,_0x17eb30?it:Fe),_0x53f24a=new Map();_0x53f24a['set']('decodePS',_0x14aced['get']('decodePS')),_0x53f24a['set']('encodePS',_0x14aced['get']('encodePS')),_0x45dce7=$t['createShad'+'er'](_0x26f3bd,{'uniqueName':_0x11ff4c,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x53f24a,'fragmentDefines':_0x47364a});}Q['pushGpuMar'+'ker'](_0x26f3bd,'ReprojectT'+'exture'),_0x26f3bd['setBlendSt'+'ate'](pt['NOBLEND']);const _0x1beb52=_0x26f3bd['scope']['resolve'](_0x22a1ca['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x1beb52),_0x1beb52['setValue'](_0x22a1ca);const _0x54acb8=_0x26f3bd['scope']['resolve']('params'),_0x1faa4b=_0x26f3bd['scope']['resolve']('uvMod');_0x1f6c3d>0x22f9*-0x1+-0x2653+-0x4*-0x1253?_0x1faa4b['setValue']([(_0x231820+_0x1f6c3d*(0x2690+-0x16+-0x8*0x4cf))/_0x231820,(_0x16fc3e+_0x1f6c3d*(0x101*0x13+-0x143b+0x2*0x95))/_0x16fc3e,-_0x1f6c3d/_0x231820,-_0x1f6c3d/_0x16fc3e]):_0x1faa4b['setValue']([0x19ee+-0x517+-0x14d6,-0x2682+-0xf3b+-0x35be*-0x1,0x3*-0x85d+-0x11de+0x7*0x623,0x57f+-0x22fd+0x19*0x12e]);const _0x30406b=[0x5*0x379+0xdf*0x29+-0x3514,_0x131a54['width']*_0x131a54['height']*(_0x131a54['cubemap']?-0x1*-0x26bf+-0x1bac+-0xb0d:0x1*0x793+-0x2*0x2ab+-0x23c),_0x22a1ca['width']*_0x22a1ca['height']*(_0x22a1ca['cubemap']?0x29*0x44+0x204b+-0x17d*0x1d:0x3f0+0x2b4+-0x6a3)];if(_0x3628f9){const _0xac1526=_0x22a1ca['width']*_0x22a1ca['height']*(_0x22a1ca['cubemap']?0x14c6*-0x1+0x118d+0x33f:0x266b+0x138d+-0x39f7),_0x5a3c44=_0x36f863==='ggx'?sb(_0x26f3bd,_0x42dd74,_0x284a1e,_0xac1526):_0x36f863==='lambert'?eb(_0x26f3bd,_0x42dd74,_0xac1526):tb(_0x26f3bd,_0x42dd74,_0x284a1e);_0x26f3bd['scope']['resolve']('samplesTex')['setValue'](_0x5a3c44),_0x26f3bd['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0xd4e+-0x1504+0x7b7)/_0x5a3c44['width'],(-0x2105+-0x89*-0x11+0x17ed)/_0x5a3c44['height']]);}for(let _0x3788db=-0x4d3+-0x4*-0x8bf+-0x1e29;_0x3788db<(_0x131a54['cubemap']?0x248e+-0x3*0x90f+-0x95b:-0x1*0xef2+0x163f+0x74c*-0x1);_0x3788db++)if(_0x4a0fb4===null||_0x3788db===_0x4a0fb4){const _0x264a79=new gt({'colorBuffer':_0x131a54,'face':_0x3788db,'depth':!(0x2567+0x1548+0x1d57*-0x2),'flipY':_0x26f3bd['isWebGPU']});_0x30406b[-0xca5*0x3+0xf0d*0x1+0x16e2]=_0x3788db,_0x54acb8['setValue'](_0x30406b),Ar(_0x26f3bd,_0x264a79,_0x45dce7,_0x27ced9==null?void(-0x1*-0x9b2+-0xd28*0x1+0x376):_0x27ced9['rect']),_0x264a79['destroy']();}return Q['popGpuMark'+'er'](_0x26f3bd),!(0x1*0x1a75+0x7ea*0x1+-0x3*0xb75);}const Kd=(_0x3e0a3d,_0x70a6d=0xfb*-0xb+0x2219+-0x1750)=>-0x7*-0x115+0x1*0x45b+-0xbed*0x1+Math['floor'](Math['log2'](Math['max'](_0x3e0a3d,_0x70a6d))),ib=_0x54a0ac=>_0x54a0ac['textureHal'+'fFloatRend'+'erable'],rb=_0x2ccf8e=>_0x2ccf8e['textureFlo'+'atRenderab'+'le'],ab=_0x2aa11b=>ib(_0x2aa11b)?nt:rb(_0x2aa11b)?Xt:Ne,nb=_0x35afc8=>Ne,ob=(_0x1d637f,_0x503860,_0x18bf05,_0x5589b8)=>new _e(_0x1d637f,{'name':'lighting-'+_0x503860,'cubemap':!(0xfa*-0x2+0x269*0x4+-0x7b0),'width':_0x503860,'height':_0x503860,'format':_0x18bf05,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(0x3*0x1c5+-0xa61*-0x3+-0x2471)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x2a8a25,_0x61ae9c){const _0x11fcc8=_0x2a8a25['device'];Q['pushGpuMar'+'ker'](_0x11fcc8,'genSkyboxC'+'ubemap');const _0x1dca88=ob(_0x11fcc8,_0x61ae9c||(_0x2a8a25['cubemap']?_0x2a8a25['width']:_0x2a8a25['width']/(0x217b+-0xec8*-0x2+-0x3f07)),Ne);return vi(_0x2a8a25,_0x1dca88,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x11fcc8),_0x1dca88;}static['generateLi'+'ghtingSour'+'ce'](_0x2ac731,_0x4a930b){const _0x12714d=_0x2ac731['device'];Q['pushGpuMar'+'ker'](_0x12714d,'genLightin'+'gSource');const _0x5ed76d=ab(_0x12714d),_0x515795=(_0x4a930b==null?void(0x881+-0x1*0x5ee+0x1*-0x293):_0x4a930b['target'])||new _e(_0x12714d,{'name':'lighting-s'+'ource','cubemap':!(-0xdf*0x13+0xd91+0xbf*0x4),'width':(_0x4a930b==null?void(0x1b92+-0x2*-0xb29+-0x31e4):_0x4a930b['size'])||-0x1*0x1051+-0x2*-0x48c+-0x7b9*-0x1,'height':(_0x4a930b==null?void(0x2c5*-0x5+-0xae1+0x18ba):_0x4a930b['size'])||-0x3*0x233+-0x2232+-0xb*-0x3c1,'format':_0x5ed76d,'type':_0x5ed76d===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x3*-0x347+0x1008+-0x19dd)});return vi(_0x2ac731,_0x515795,{'numSamples':_0x2ac731['mipmaps']?-0xd29+0x1268+0xb*-0x7a:-0xd*0x9e+-0x11*0x20c+-0x39a*-0xd}),Q['popGpuMark'+'er'](_0x12714d),_0x515795;}static['generateAt'+'las'](_0x4d9b37,_0x23b77b){const _0x5ee84c=_0x4d9b37['device'],_0x196de7=nb();Q['pushGpuMar'+'ker'](_0x5ee84c,'genAtlas');const _0x46295c=(_0x23b77b==null?void(-0x2471+0x31d*-0xc+0x49cd):_0x23b77b['target'])||new _e(_0x5ee84c,{'name':'envAtlas','width':(_0x23b77b==null?void(-0x1*-0xac5+0x2e3+-0xda8*0x1):_0x23b77b['size'])||-0x15d1+-0x1ff9+0x37ca,'height':(_0x23b77b==null?void(0x45c+0x9ff+-0xe5b):_0x23b77b['size'])||0x110*-0x14+-0xca0+-0x47c*-0x8,'format':_0x196de7,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x922+0x1*-0x1eb8+0xd49*0x3)});Q['pushGpuMar'+'ker'](_0x5ee84c,'mipmaps');const _0x4ed692=_0x46295c['width']/(0x36*-0x1c+0x2*0x4f8+-0x208),_0x1ea74a=new re(-0x3*0xd8+-0x8*-0x2ab+-0x56*0x38,-0x1ff9+-0x111b+-0x417*-0xc,(0x1ebd+-0x1d7*-0x3+0x6da*-0x5)*_0x4ed692,(0x101*0x22+0x69*0x57+-0x44d1)*_0x4ed692),_0xcd010a=Kd(-0x1c29+-0x1*-0xf2f+0xdfa*0x1)-Kd(0x20a3+0x1b3f+-0xc2*0x4f);for(let _0x2aadd7=0xfbb+-0x1*-0x117a+-0x2135*0x1;_0x2aadd7<_0xcd010a;++_0x2aadd7)vi(_0x4d9b37,_0x46295c,{'numSamples':0x1,'rect':_0x1ea74a,'seamPixels':_0x4ed692}),_0x1ea74a['x']+=_0x1ea74a['w'],_0x1ea74a['y']+=_0x1ea74a['w'],_0x1ea74a['z']=Math['max'](0x3*-0x50f+0x2215+-0x12e7,Math['floor'](_0x1ea74a['z']*(0x734*0x1+-0xafd*-0x2+-0x1d2e+0.5))),_0x1ea74a['w']=Math['max'](-0x2f*-0xc2+-0x2*0xc10+0xad*-0x11,Math['floor'](_0x1ea74a['w']*(-0x17d6+-0x8b*-0x17+0xb59+0.5)));Q['popGpuMark'+'er'](_0x5ee84c),Q['pushGpuMar'+'ker'](_0x5ee84c,'reflection'+'s'),_0x1ea74a['set'](0x3ec*-0x1+0x12ae+-0xec2,(-0x1380+-0x2*0x664+-0x163*-0x18)*_0x4ed692,(-0xd0+0x1f6e+0x2*-0xecf)*_0x4ed692,(0x22*0xfa+-0xdf1*0x1+-0x3*0x641)*_0x4ed692);for(let _0x50d27d=0x222d+0x6c*0x4f+-0x4380;_0x50d27d<0x1842+-0x3a*0xa3+0x1*0xcb3;++_0x50d27d)vi(_0x4d9b37,_0x46295c,{'numSamples':(_0x23b77b==null?void(-0x340*-0xb+0x22b6+-0x1d*0x26e):_0x23b77b['numReflect'+'ionSamples'])||-0x1a59+-0xbc1+0x2a1a,'distribution':(_0x23b77b==null?void(0x1*0xb03+0x1*-0xd5d+0x25a):_0x23b77b['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x500+0xe3a+-0x939,0x23ee+0x22ca+0x6f8*-0x9>>_0x50d27d*(-0x22ac+-0x4*0x40e+0x32e6)),'rect':_0x1ea74a,'seamPixels':_0x4ed692}),_0x1ea74a['y']+=_0x1ea74a['w'],_0x1ea74a['z']=Math['max'](0xbc*-0x13+0x16cd+-0x8d8,Math['floor'](_0x1ea74a['z']*(-0x1*-0x634+0x86+0xf6*-0x7+0.5))),_0x1ea74a['w']=Math['max'](0xa1+0x240c+0x1*-0x24ac,Math['floor'](_0x1ea74a['w']*(0x6*0x124+-0x1*-0x1d7d+-0x83*0x47+0.5)));return Q['popGpuMark'+'er'](_0x5ee84c),Q['pushGpuMar'+'ker'](_0x5ee84c,'ambient'),_0x1ea74a['set']((-0x333+-0x1508+0xd*0x1e7)*_0x4ed692,(-0x7*0x3ad+0x308+0x1*0x1833)*_0x4ed692,(-0x2211+-0x1*0x1fc3+-0x4214*-0x1)*_0x4ed692,(-0x10b2+-0xbda*-0x1+-0x18*-0x35)*_0x4ed692),vi(_0x4d9b37,_0x46295c,{'numSamples':(_0x23b77b==null?void(0x18dd*0x1+0xe9*0x17+-0x2dcc):_0x23b77b['numAmbient'+'Samples'])||0x1d75+-0x23c0+0xe4b,'distribution':'lambert','rect':_0x1ea74a,'seamPixels':_0x4ed692}),Q['popGpuMark'+'er'](_0x5ee84c),Q['popGpuMark'+'er'](_0x5ee84c),_0x46295c;}static['generatePr'+'efilteredA'+'tlas'](_0x29afad,_0x2e053a){const _0x36e880=_0x29afad[0x1781+-0xf69+0x38*-0x25]['device'],_0x3b616c=_0x29afad[-0x214+-0xe*-0x2c9+0x5*-0x762]['format'],_0x53f0c3=_0x29afad[-0xfb3*0x2+0xb0*-0x8+-0x1*-0x24e6]['type'];Q['pushGpuMar'+'ker'](_0x36e880,'genPrefilt'+'eredAtlas');const _0x104f37=(_0x2e053a==null?void(-0x2071*-0x1+-0x18e9+0x3c4*-0x2):_0x2e053a['target'])||new _e(_0x36e880,{'name':'envPrefilt'+'eredAtlas','width':(_0x2e053a==null?void(-0x1*-0x1a01+0xdab*-0x1+0x2*-0x62b):_0x2e053a['size'])||-0x17a1+-0xe0*-0x18+0x4a1,'height':(_0x2e053a==null?void(0x65*0x23+-0x1b1e+0xd4f*0x1):_0x2e053a['size'])||0xa80+0xa05+-0x1285,'format':_0x3b616c,'type':_0x53f0c3,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0xb9+-0xe0b+0xd53)});Q['pushGpuMar'+'ker'](_0x36e880,'mipmaps');const _0x5a8682=_0x104f37['width']/(0x18de+0x2be+0x254*-0xb),_0x3bf675=new re(-0xa43+-0x13a*-0x9+-0xc7,-0x19d3+-0x2478+0x3e4b,(0x2*0x6ea+-0x1f1d+0x1*0x1349)*_0x5a8682,(0x4*0x36d+-0x1f*-0x89+-0x1d4b)*_0x5a8682),_0x3b1a64=Kd(-0x35*0x8e+-0xe99+0x2dff*0x1);for(let _0x5ee033=0x7c*0x8+0x200d+0x1*-0x23ed;_0x5ee033<_0x3b1a64;++_0x5ee033)vi(_0x29afad[0x1276+-0x7b6+-0xac0*0x1],_0x104f37,{'numSamples':0x1,'rect':_0x3bf675,'seamPixels':_0x5a8682}),_0x3bf675['x']+=_0x3bf675['w'],_0x3bf675['y']+=_0x3bf675['w'],_0x3bf675['z']=Math['max'](-0xdd6+0x30*0x34+0x15d*0x3,Math['floor'](_0x3bf675['z']*(-0xf1d+0x5*-0x1f7+0x18f0+0.5))),_0x3bf675['w']=Math['max'](-0x25a5+-0x17da+-0x10*-0x3d8,Math['floor'](_0x3bf675['w']*(-0x1f4b*0x1+0x374+0x1bd7+0.5)));Q['popGpuMark'+'er'](_0x36e880),Q['pushGpuMar'+'ker'](_0x36e880,'reflection'+'s'),_0x3bf675['set'](-0x1241+0x2*0x3a1+0xaff,(-0x74d+-0xe0e+0x165b*0x1)*_0x5a8682,(0x2f*-0x4f+0x1*-0x1ed+0x116e)*_0x5a8682,(-0x11d0+-0x18f5*-0x1+-0x6a5)*_0x5a8682);for(let _0x28bbc5=-0x1*0x1aed+-0x10bf+0x3*0xe8f;_0x28bbc5<_0x29afad['length'];++_0x28bbc5)vi(_0x29afad[_0x28bbc5],_0x104f37,{'numSamples':0x1,'rect':_0x3bf675,'seamPixels':_0x5a8682}),_0x3bf675['y']+=_0x3bf675['w'],_0x3bf675['z']=Math['max'](-0x1*0x212+0x6d*-0x3+0x16*0x27,Math['floor'](_0x3bf675['z']*(-0x1*0xbd5+-0x3*0x4b1+0x19e8+0.5))),_0x3bf675['w']=Math['max'](-0x1955+-0x877*0x2+0x2*0x1522,Math['floor'](_0x3bf675['w']*(0x4*-0x161+0x34b*0x5+-0xaf3+0.5)));return Q['popGpuMark'+'er'](_0x36e880),Q['pushGpuMar'+'ker'](_0x36e880,'ambient'),_0x3bf675['set']((-0x149e+-0x1b5d+0x563*0x9)*_0x5a8682,(0x1754*0x1+0x7f1+0x1*-0x1dc5)*_0x5a8682,(0x43*-0x1d+-0x19f*0x16+-0x1*-0x2b81)*_0x5a8682,(-0x16*0xec+0x21e+0x124a)*_0x5a8682),_0x2e053a!=null&&_0x2e053a['legacyAmbi'+'ent']?vi(_0x29afad[-0x2414+0x1*-0x36e+0x2787],_0x104f37,{'numSamples':0x1,'rect':_0x3bf675,'seamPixels':_0x5a8682}):vi(_0x29afad[0x353+0x253e+0x1f*-0x14f],_0x104f37,{'numSamples':(_0x2e053a==null?void(-0x1cce+-0x11ed+0x2ebb):_0x2e053a['numSamples'])||-0x1*-0x1df2+-0x7e2*0x3+-0x1*-0x1b4,'distribution':'lambert','rect':_0x3bf675,'seamPixels':_0x5a8682}),Q['popGpuMark'+'er'](_0x36e880),Q['popGpuMark'+'er'](_0x36e880),_0x104f37;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x2d57e2,_0x3ef390)=>{const _0x3dcdbc=_0x2d57e2['split']('.')['map'](_0x3e1a63=>parseInt(_0x3e1a63,-0x5b*0x32+-0x1*0x77b+0x194b)),_0x3def2a=_0x3ef390['split']('.')['map'](_0x2107d0=>parseInt(_0x2107d0,0x4ac*0x8+0x7f1+-0x2d47));return _0x3dcdbc[0x178c+0x1b1*-0x4+-0xb3*0x18]<_0x3def2a[-0x3*-0xd2+-0x63b+0x3c5]||_0x3dcdbc[-0x4*0x223+-0xc39+0x199*0xd]===_0x3def2a[0x2f3+-0x7*-0x364+-0x1aaf]&&_0x3dcdbc[0x6f1+0x1d*0x125+-0x2821*0x1]<_0x3def2a[0x51f*0x7+0x50b*0x3+-0x32f9];},hb=(_0x53aa57,_0x44ee4e)=>{for(const _0x2a6979 of _0x53aa57['keys']())if(V_['hasOwnProp'+'erty'](_0x2a6979)){const _0x46b99a=V_[_0x2a6979];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2a6979+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x46b99a+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0xb7d8f1=lb[_0x2a6979];_0xb7d8f1&&(!_0x44ee4e||cb(_0x44ee4e,_0xb7d8f1))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2a6979+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0xb7d8f1+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x44ee4e||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x390052,_0x245780,_0x330610=!(-0x1f01+-0x6e2+0x25e3)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x390052,this['options']=_0x245780);const _0x12ab35=_0x245780['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x390052['isWebGPU']&&_0x330610&&(_0x12ab35!=null&&_0x12ab35['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x245780['userAttrib'+'utes']){for(const [_0x5674f8,_0x582456]of Object['entries'](_0x245780['userAttrib'+'utes']))this['attributes'][_0x582456]=_0x5674f8;}const _0x3bedea=Pe['get'](_0x390052,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x3bedea),_0x12ab35){const _0x740dd8=this['shaderLang'+'uage']===Fe?_0x12ab35['glsl']:_0x12ab35['wgsl'];w['call'](()=>{hb(_0x740dd8,_0x12ab35['version']);}),_0x740dd8['forEach']((_0x465f3a,_0x319c9e)=>{for(const _0x56c7d9 in Zd)Zd['hasOwnProp'+'erty'](_0x56c7d9)&&_0x465f3a['indexOf'](_0x56c7d9)>=-0x31*-0xb5+0x1*0x1b15+-0x3dba&&(this['attributes'][_0x56c7d9]=Zd[_0x56c7d9]);this['chunks']['set'](_0x319c9e,_0x465f3a);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x245780['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x245780['lights']['length']>-0x6*-0x149+0x39*-0x1f+0x1*-0xcf||_0x245780['dirLightMa'+'pEnabled']||_0x245780['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x245780['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x245780['useSpecula'+'r']||_0x245780['ambientSH']||_0x245780['useHeights']||_0x245780['enableGGXS'+'pecular']||_0x245780['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x245780['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x245780['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x245780['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x245780['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x2f5252,_0x1241a8,_0x269e49=''){_0x2f5252&&this['fDefines']['set'](_0x1241a8,_0x269e49);}['generateVe'+'rtexShader'](_0x2a74a0,_0x32c2c9,_0x421aa7){const {options:_0x197694,vDefines:_0x5e360b,attributes:_0x39de02}=this,_0x5b5b92=new Map();if(_0x5b5b92['set']('vPositionW','vec3'),(_0x197694['nineSliced'+'Mode']===Pt||_0x197694['nineSliced'+'Mode']===Mt)&&_0x5e360b['set']('NINESLICED',!(0x25*-0xf+-0x11b*0x15+0x1962)),this['options']['linearDept'+'h']&&(_0x5e360b['set']('LINEAR_DEP'+'TH',!(0x1273+0x2120+-0x3393)),_0x5b5b92['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x5e360b['set']('NORMALS',!(0x6c4+-0x354*-0xb+-0x10*0x2b6)),this['options']['useInstanc'+'ing']){const _0x45d7ce=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x45d7ce['get']('transformI'+'nstancingV'+'S')&&(_0x39de02['instance_l'+'ine1']=Mp,_0x39de02['instance_l'+'ine2']=Dp,_0x39de02['instance_l'+'ine3']=Ip,_0x39de02['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x39de02['vertex_nor'+'mal']=gs,_0x5b5b92['set']('vNormalW','vec3'),_0x197694['hasTangent'+'s']&&(_0x197694['useHeights']||_0x197694['useNormals']||_0x197694['useClearCo'+'atNormals']||_0x197694['enableGGXS'+'pecular'])?(_0x5e360b['set']('TANGENTS',!(0x2*0x80f+-0x1975+0x957)),_0x39de02['vertex_tan'+'gent']=yi,_0x5b5b92['set']('vTangentW','vec3'),_0x5b5b92['set']('vBinormalW','vec3')):_0x197694['enableGGXS'+'pecular']&&(_0x5e360b['set']('GGX_SPECUL'+'AR',!(-0x24b*0x6+0x81b*0x1+0x5a7)),_0x5b5b92['set']('vObjectSpa'+'ceUpW','vec3')));const _0xf39328=0xd19*0x1+-0x10f8+0x3*0x14b;for(let _0x352c8f=0x430*0x8+0x1588+-0x3708;_0x352c8f<_0xf39328;_0x352c8f++)_0x2a74a0[_0x352c8f]&&(_0x5e360b['set']('UV'+_0x352c8f,!(-0x3*-0xceb+0x3*0x9ca+-0x441f)),_0x39de02['vertex_tex'+'Coord'+_0x352c8f]='TEXCOORD'+_0x352c8f),_0x32c2c9[_0x352c8f]&&(_0x5e360b['set']('UV'+_0x352c8f+('_UNMODIFIE'+'D'),!(0x126a+0x7*0x45d+0x53*-0x97)),_0x5b5b92['set']('vUv'+_0x352c8f,'vec2'));let _0x34f595=0x14bf*0x1+0x1*-0x347+-0x1178;const _0x2d3b46=new Set();_0x421aa7['forEach'](_0x25a1d2=>{const {id:_0xdc5a10,uv:_0x411170,name:_0x33850e}=_0x25a1d2,_0x2c2db2=_0xdc5a10+_0x411170*(-0xc3*-0x2d+-0x1e7*-0xb+-0x36d0);if(!_0x2d3b46['has'](_0x2c2db2)){_0x2d3b46['add'](_0x2c2db2),_0x5b5b92['set']('vUV'+_0x411170+'_'+_0xdc5a10,'vec2');const _0xdc009='texture_'+_0x33850e+('MapTransfo'+'rm');_0x5e360b['set']('{TRANSFORM'+'_NAME_'+_0x34f595+'}',_0xdc009),_0x5e360b['set']('{TRANSFORM'+'_UV_'+_0x34f595+'}',_0x411170),_0x5e360b['set']('{TRANSFORM'+'_ID_'+_0x34f595+'}',_0xdc5a10),_0x34f595++;}}),_0x5e360b['set']('UV_TRANSFO'+'RMS_COUNT',_0x34f595),_0x197694['vertexColo'+'rs']&&(_0x39de02['vertex_col'+'or']=Wt,_0x5e360b['set']('VERTEX_COL'+'OR',!(-0x830+0xc7a+-0x6*0xb7)),_0x5b5b92['set']('vVertexCol'+'or','vec4')),_0x197694['useMsdf']&&_0x197694['msdfTextAt'+'tribute']&&(_0x39de02['vertex_out'+'lineParame'+'ters']=Ko,_0x39de02['vertex_sha'+'dowParamet'+'ers']=Zo,_0x5e360b['set']('MSDF',!(-0x1cd*0x3+-0xc7*0x27+0x7f*0x48))),(_0x197694['useMorphPo'+'sition']||_0x197694['useMorphNo'+'rmal'])&&(_0x5e360b['set']('MORPHING',!(0x41b*0x4+0x990+0x2*-0xcfe)),_0x197694['useMorphTe'+'xtureBased'+'Int']&&_0x5e360b['set']('MORPHING_I'+'NT',!(-0x7*-0x3d8+0x21fb+-0x8f*0x6d)),_0x197694['useMorphPo'+'sition']&&_0x5e360b['set']('MORPHING_P'+'OSITION',!(0x1cdf+0x7*-0x39+-0x1b50)),_0x197694['useMorphNo'+'rmal']&&_0x5e360b['set']('MORPHING_N'+'ORMAL',!(-0x3*0x75a+-0x2305+0x3913)),_0x39de02['morph_vert'+'ex_id']=Ln),_0x197694['skin']&&(_0x39de02['vertex_bon'+'eIndices']=us,_0x197694['batch']?_0x5e360b['set']('BATCH',!(0xd40+0xd6*-0x27+-0x9ad*-0x2)):(_0x39de02['vertex_bon'+'eWeights']=gi,_0x5e360b['set']('SKIN',!(0x1d4d+0x860+-0x1*0x25ad)))),_0x197694['useInstanc'+'ing']&&_0x5e360b['set']('INSTANCING',!(0x1208+0x1e3f+-0x3047)),_0x197694['screenSpac'+'e']&&_0x5e360b['set']('SCREENSPAC'+'E',!(0x1029+0x2*0x779+-0x1f1b)),_0x197694['pixelSnap']&&_0x5e360b['set']('PIXELSNAP',!(-0x3*-0xcbf+0x4a9+-0x22*0x143)),_0x5b5b92['forEach']((_0x2e324c,_0x5b22a3)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x5b22a3['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x5b22a3+':\x20'+Fy['get'](_0x2e324c)+';\x0a':'varying\x20'+_0x2e324c+'\x20'+_0x5b22a3+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x1ad1f5,_0x151599){const _0x344ee9=this['fDefines'],_0x427ce8=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x427ce8['lights']['length']),_0x1ad1f5&&_0x344ee9['set']('AREA_LIGHT'+'S',!(-0x6eb+-0x248c+0xe7d*0x3)),_0x151599&&this['lighting']&&(_0x344ee9['set']('LIT_CLUSTE'+'RED_LIGHTS',!(-0x21*-0x76+0x623*0x1+0x445*-0x5)),_0x427ce8['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x344ee9['set']('CLUSTER_CO'+'OKIES',!(0x1c*0xdd+-0x2b*-0xcb+0x853*-0x7)),_0x427ce8['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x344ee9['set']('CLUSTER_AR'+'EALIGHTS',!(0x19c6+-0x517+-0x14af)),_0x427ce8['lightMaskD'+'ynamic']&&_0x344ee9['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x1487+0x4d9*-0x2+-0x3b*0x2f)),_0x427ce8['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x427ce8['noShadow'])){const _0x5989c9=qi['get'](_0x427ce8['clusteredL'+'ightingSha'+'dowType']);_0x344ee9['set']('CLUSTER_SH'+'ADOWS',!(0x1*-0x1389+-0x243f+0x37c8)),_0x344ee9['set']('SHADOW_KIN'+'D_'+_0x5989c9['kind'],!(0x1e88+-0x1*-0x2+-0x1e8a)),_0x344ee9['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x5989c9['kind'],!(-0x10*-0x10a+0x1*0x15b+-0x11fb));}for(let _0x4f47bf=0x1e84+0x386*0x5+-0x65*0x7a;_0x4f47bf<_0x427ce8['lights']['length'];_0x4f47bf++){const _0x52a5b1=_0x427ce8['lights'][_0x4f47bf],_0xd4bee1=_0x52a5b1['_type'];if(_0x151599&&_0xd4bee1!==ve)continue;const _0x47cfb3=_0x1ad1f5&&_0x52a5b1['_shape']?_0x52a5b1['_shape']:Ys,_0x4c8e6f=_0x52a5b1['_shadowTyp'+'e'],_0x4396f7=_0x52a5b1['castShadow'+'s']&&!_0x427ce8['noShadow'],_0x4deca8=qi['get'](_0x4c8e6f);w['assert'](_0x4deca8),_0x344ee9['set']('LIGHT'+_0x4f47bf,!(-0x678+0x1eb4+0x40a*-0x6)),_0x344ee9['set']('LIGHT'+_0x4f47bf+'TYPE',''+u_[_0xd4bee1]),_0x344ee9['set']('LIGHT'+_0x4f47bf+'SHADOWTYPE',''+_0x4deca8['name']),_0x344ee9['set']('LIGHT'+_0x4f47bf+'SHAPE',''+Fw[_0x47cfb3]),_0x344ee9['set']('LIGHT'+_0x4f47bf+'FALLOFF',''+Nw[_0x52a5b1['_falloffMo'+'de']]),_0x52a5b1['affectSpec'+'ularity']&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('AFFECT_SPE'+'CULARITY'),!(-0x1*-0x1711+-0x915+0x37f*-0x4)),_0x52a5b1['_cookie']&&(_0xd4bee1===Ze&&!_0x52a5b1['_cookie']['_cubemap']||_0xd4bee1===Ke&&_0x52a5b1['_cookie']['_cubemap'])&&(_0x344ee9['set']('LIGHT'+_0x4f47bf+'COOKIE',!(-0x4*0x47f+-0xe8*0xd+0x9ec*0x3)),_0x344ee9['set']('{LIGHT'+_0x4f47bf+('COOKIE_CHA'+'NNEL}'),_0x52a5b1['_cookieCha'+'nnel']),_0xd4bee1===Ze&&(_0x52a5b1['_cookieTra'+'nsform']&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('COOKIE_TRA'+'NSFORM'),!(0x1d*-0x73+-0xc9d*-0x3+-0x18d0)),_0x52a5b1['_cookieFal'+'loff']&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('COOKIE_FAL'+'LOFF'),!(-0x9cf+0xe55+-0x486)))),_0x4396f7&&(_0x344ee9['set']('LIGHT'+_0x4f47bf+'CASTSHADOW',!(0x1f4+0x1592+0x1786*-0x1)),_0x4deca8['pcf']&&_0x344ee9['set']('LIGHT'+_0x4f47bf+'SHADOW_PCF',!(-0x21b8+-0xa2c+0x2be4)),_0x52a5b1['_normalOff'+'setBias']&&!_0x52a5b1['_isVsm']&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x268f+0x1e25*-0x1+0x435*-0x2)),_0xd4bee1===ve&&(_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x1cf9*-0x1+-0x1ec7+0x1ce)),_0x52a5b1['cascadeBle'+'nd']>-0x313*0x1+0x269f+-0x238c&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x1*-0x169f+0x2689+-0x3d28)),_0x52a5b1['numCascade'+'s']>0x1ee3*-0x1+0x2*-0x689+0x2bf6&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_CA'+'SCADES'),!(0x1233+-0x1b+-0x608*0x3))),(_0x4deca8['pcf']||_0x4deca8['pcss']||this['device']['isWebGPU'])&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x48b*-0x1+0x271*0x9+-0x116e)),_0xd4bee1===Ke&&_0x344ee9['set']('LIGHT'+_0x4f47bf+('_SHADOW_SA'+'MPLE_POINT'),!(-0x1a96+-0x65*0x34+0x2f1a))),_0x4396f7&&(_0x344ee9['set']('SHADOW_KIN'+'D_'+_0x4deca8['kind'],!(-0x4*-0x80+0x598+-0x798)),_0xd4bee1===ve&&_0x344ee9['set']('SHADOW_DIR'+'ECTIONAL',!(0x11fc+-0x1346+0x14a)));}}['prepareFor'+'wardPass'](_0x309890){const {options:_0xf14596}=this,_0x2b34b6=_0xf14596['clusteredL'+'ightingEna'+'bled']&&_0xf14596['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0xf14596['lights']['some'](_0x4563eb=>_0x4563eb['_shape']&&_0x4563eb['_shape']!==Ys),_0x5e4d1c=!_0xf14596['lightMapEn'+'abled']||_0xf14596['lightMapWi'+'thoutAmbie'+'nt'],_0x44fc12=this['needsNorma'+'l']&&(_0xf14596['useNormals']||_0xf14596['useClearCo'+'atNormals']||_0xf14596['enableGGXS'+'pecular']&&!_0xf14596['useHeights']);_0xf14596['useSpecula'+'r']&&(this['fDefineSet'](!(0x14de*-0x1+0x279+0x1265),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0xf14596['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0xf14596['fresnelMod'+'el']>-0xa0c+0xe0b+-0xb*0x5d,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0xf14596['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0xf14596['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0xf14596['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0xf14596['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0xf14596['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0xf14596['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0xf14596['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0xf14596['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0xf14596['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0xf14596['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0xf14596['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0xf14596['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0xf14596['skyboxInte'+'nsity']>0x1*-0x57f+0xca*0x7+-0x1*0x7,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0xf14596['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0xf14596['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x44fc12,'LIT_TBN'),this['fDefineSet'](_0x5e4d1c,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0xf14596['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0xf14596['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0xf14596['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0xf14596['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0xf14596['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0xf14596['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0xf14596['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0xf14596['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0xf14596['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0xf14596['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0xf14596['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0xf14596['ssao'],'LIT_SSAO'),this['fDefineSet'](_0xf14596['useAo'],'LIT_AO'),this['fDefineSet'](_0xf14596['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0xf14596['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0xf14596['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0xf14596['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0xa9f*0x2+-0x1f42*0x1+0x3480),'LIT_FRESNE'+'L_MODEL',Rw[_0xf14596['fresnelMod'+'el']]),this['fDefineSet'](!(-0xe46+0x5c7+0x87f*0x1),'LIT_NONE_S'+'LICE_MODE',qw[_0xf14596['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x2f*-0x7d+0x8*0x4b7+-0x3cab),'LIT_BLEND_'+'TYPE',Yy[_0xf14596['blendType']]),this['fDefineSet'](!(-0x2c4+0x2210+-0x1*0x1f4c),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0xf14596['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0xd*-0x2b3+0x2*0x935+-0x3581),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0xf14596['occludeSpe'+'cular']]),this['fDefineSet'](!(0x1*0x32d+-0x1f*0x13a+0x22d9),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0xf14596['reflection'+'Source']]),this['fDefineSet'](!(-0x1d33+-0x1*0xf45+-0xb1e*-0x4),'LIT_AMBIEN'+'T_SOURCE',Xw[_0xf14596['ambientSou'+'rce']]),this['fDefineSet'](!(-0x2*0xbf5+-0x1*-0x1e9f+-0x6b5),'{lightingU'+'v}',_0x309890??''),this['fDefineSet'](!(-0x10a9+0x775+0x934),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0xf14596['reflection'+'Encoding'])),this['fDefineSet'](!(0x8*0x2e7+-0x203c+0x904),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0xf14596['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x3cc+-0x2*0x1198+0x2*0xfb2),'{ambientDe'+'code}',Tr['decodeFunc'](_0xf14596['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x2b34b6,_0xf14596['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x38c361}=this,_0x2bd134=this['shaderPass'+'Info']['lightType'],_0x40b03d=this['shaderPass'+'Info']['shadowType'],_0x1b602f=qi['get'](_0x40b03d);w['assert'](_0x1b602f);const _0x201995=_0x2bd134===ve||!_0x1b602f['vsm']&&_0x2bd134===Ze;this['fDefineSet'](_0x201995,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x58f*-0x3+-0x79+-0x1034),'LIGHT_TYPE',''+u_[_0x2bd134]),this['fDefineSet'](!(0xcdb+0x9b6+-0x35*0x6d),'SHADOW_TYP'+'E',''+_0x1b602f['name']),this['fDefineSet'](_0x38c361['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x5c86d3,_0x193839,_0x5ca12b){const _0x2df506=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x5c86d3??''),this['includes']['set']('frontendCo'+'dePS',_0x193839??''),_0x2df506['pass']===Zn||_0x2df506['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x5ca12b)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x191b*-0x1+0x1c33+-0x1*0x354d)),h(this,'shaderChun'+'ks',null),h(this,'pass',0x70d+0xc*0x161+-0x1*0x1799),h(this,'alphaTest',!(0x1*0xaf3+-0x57a+0xc8*-0x7)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x4c*0x6+-0x1cdd*-0x1+-0xd4*0x25)),h(this,'screenSpac'+'e',!(-0x5*0x5db+0x7f*-0x5+0x1fc3)),h(this,'skin',!(-0x33*0x55+0x1*-0x2552+0x1b21*0x2)),h(this,'batch',!(0x16a5+0x8*-0x373+0x4f4*0x1)),h(this,'useInstanc'+'ing',!(-0x3*0x47b+-0x1*0x1951+0x26c3)),h(this,'useMorphPo'+'sition',!(0x7f2*0x4+-0x19d5+-0x5f2*0x1)),h(this,'useMorphNo'+'rmal',!(0x697+0x1ed8+0x12b7*-0x2)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x1e6e+0xe47+-0x2cb4)),h(this,'nineSliced'+'Mode',-0x31*0x7a+0x15*0x189+-0x8e3),h(this,'clusteredL'+'ightingEna'+'bled',!(0x25*-0xd9+0x55*0x35+0xdc4)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x5c8+0x121*0x4+-0xa4b)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x1035*-0x1+0x21*-0xb9+0x13*0x67)),h(this,'clusteredL'+'ightingSha'+'dowType',0x1f3c+-0x2561+-0x625*-0x1),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x11f+0x58*-0x44+0x1880)),h(this,'vertexColo'+'rs',!(0x26a6+0x93d+0xe3*-0x36)),h(this,'lightMapEn'+'abled',!(-0x178b+0x1*0x1705+0x87)),h(this,'dirLightMa'+'pEnabled',!(0x12*0x6+-0xd9*-0x4+0x1*-0x3cf)),h(this,'useHeights',!(0x2b*-0x24+-0x1*-0x622+-0x15)),h(this,'useNormals',!(-0x1ea8+-0x1*0x26b+0x2114*0x1)),h(this,'useClearCo'+'atNormals',!(-0x1c9*0xb+-0x11*-0xb1+0x7e3)),h(this,'useAo',!(0x24cb+0x67c+0x2*-0x15a3)),h(this,'diffuseMap'+'Enabled',!(-0x1*0xf4e+0x1d*0x5f+-0x246*-0x2)),h(this,'pixelSnap',!(-0x1*-0x240b+-0x4a*-0xc+-0x2782)),h(this,'ambientSH',!(-0x4*-0x2d7+-0x3*-0x214+-0x1197)),h(this,'ssao',!(-0x12c4*-0x2+0xa*-0xf4+-0x1bff)),h(this,'twoSidedLi'+'ghting',!(-0x5*0x5b9+0xcc9+0x243*0x7)),h(this,'occludeDir'+'ect',!(0xdcc*-0x2+0x1c96+0x17*-0xb)),h(this,'occludeSpe'+'cular',-0x19*0x45+-0x1*-0x1fc7+-0x190a),h(this,'occludeSpe'+'cularFloat',!(0xc72+-0x1*-0x3d0+0x56b*-0x3)),h(this,'useMsdf',!(0xf+-0x19d2+0x19c4)),h(this,'msdfTextAt'+'tribute',!(-0xa6*0x22+0x4f*0x1f+0xc7c)),h(this,'alphaToCov'+'erage',!(-0x8c5+0x964*0x1+-0x9e)),h(this,'opacityFad'+'esSpecular',!(-0x92b*0x1+0x1d*-0x112+0x2836)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x81b*-0x2+0x267b+-0x36b1),h(this,'useSpecula'+'r',!(0x1*0x13a5+-0x36*0x3a+-0x768)),h(this,'useSpecula'+'rityFactor',!(-0xb3*0x29+-0x17*0x83+0x1ed*0x15)),h(this,'enableGGXS'+'pecular',!(-0x214+-0x1*0x55f+-0x27c*-0x3)),h(this,'fresnelMod'+'el',0x12*-0x47+-0x4*-0x3b3+-0x5*0x1f6),h(this,'useRefract'+'ion',!(-0x371*0x1+0xb07*-0x2+-0x20*-0xcc)),h(this,'useClearCo'+'at',!(-0x1d*0x43+-0x5*0xd5+0xbc1)),h(this,'useSheen',!(-0xa16*0x3+0x15c5+0x87e*0x1)),h(this,'useIridesc'+'ence',!(-0xcfb*0x1+-0x5*0x24a+0x186e)),h(this,'useMetalne'+'ss',!(0x203*0xf+0x1*0x657+-0x2483)),h(this,'useDynamic'+'Refraction',!(0x3*0x3a5+-0x9a*0x16+0x24e)),h(this,'dispersion',!(0x2b3+-0xeef+-0x1*-0xc3d)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x2212*0x1+0xa9*-0x1b+0x1ff*0x1a)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x1f1e+0x1752+-0xae3*0x5),h(this,'useCubeMap'+'Rotation',!(0x20c1+-0x179e+-0x922)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x17e4+-0x23df+0x3b*0x34)),h(this,'lights',[]),h(this,'noShadow',!(-0x1968+0x1*-0x205+-0x1*-0x1b6e)),h(this,'lightMaskD'+'ynamic',-0x2490+0x2cb*0x8+0xe38),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0xc4e+-0x394+-0x1*-0xfe3)),h(this,'shadowCatc'+'her',!(-0xb62+-0x1751+0x22b4));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x4f*0x25+-0x152*0x15+0x1050)),h(this,'specularTi'+'nt',!(-0xa9*0x9+0x39f+0x253*0x1)),h(this,'metalnessT'+'int',!(0xdad*-0x1+-0x1330+0x20de)),h(this,'glossTint',!(-0x24f6+-0x1c5*-0x16+0x1*-0x1f7)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x49*-0xa+-0x794*0x1+0xa6f*0x1)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x190b+0x236a+-0xa5e)),h(this,'clearCoatP'+'ackedNorma'+'l',!(0x2c+-0x1055+0x102a)),h(this,'glossInver'+'t',!(0x21dd+-0x2470+0x294)),h(this,'sheenGloss'+'Invert',!(0x1a*-0xd+-0x1de3*-0x1+-0x1c90*0x1)),h(this,'clearCoatG'+'lossInvert',!(-0x113*-0x1d+-0x2b0+-0x1c76)),h(this,'useAO',!(0xaf9+-0x1a95+0xf9d)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x5b16b4){return'lit'+Object['keys'](_0x5b16b4)['sort']()['map'](_0x4a2883=>{var _0x3f9dcc;return _0x4a2883==='shaderChun'+'ks'?((_0x3f9dcc=_0x5b16b4['shaderChun'+'ks'])==null?void(0x34d*0x8+-0x1e0b+0x3a3):_0x3f9dcc['key'])??'':_0x4a2883==='lights'?Ev['generateLi'+'ghtsKey'](_0x5b16b4):_0x4a2883+_0x5b16b4[_0x4a2883];})['join']('\x0a');},'generateLightsKey'(_0x10c76d){return'lights:'+_0x10c76d['lights']['map'](_0x1750a7=>!_0x10c76d['clusteredL'+'ightingEna'+'bled']||_0x1750a7['_type']===ve?_0x1750a7['key']+',':'')['join']('');}},bn=[],Qd=_0x4d582b=>Object['keys'](_0x4d582b)['filter'](_0x239774=>_0x239774!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x1f6308){let _0x4276fa;return _0x1f6308===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x1f6308)),_0x4276fa=this['propsMin']):_0x1f6308===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x1f6308)),_0x4276fa=this['props']):_0x4276fa=Qd(_0x1f6308),'standard:\x0a'+ya['definesHas'+'h'](_0x1f6308['defines'])+'\x0a'+_0x4276fa['map'](_0x288400=>_0x288400+_0x1f6308[_0x288400])['join']('\x0a')+Ev['generateKe'+'y'](_0x1f6308['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x5e78ce,_0x48284e,_0x4857e6){const _0x1bc2ce=_0x4857e6[_0x5e78ce],_0x12fbab=_0x4857e6[_0x48284e],_0x308569=_0x4857e6['litOptions']['pass']===Aa;let _0x5aca4d;return _0x308569&&_0x4857e6['litOptions']['nineSliced'+'Mode']===Pt||_0x308569&&_0x4857e6['litOptions']['nineSliced'+'Mode']===Mt?_0x5aca4d='nineSliced'+'Uv':(_0x1bc2ce===-0x12c7+-0x1392+0x2659?_0x5aca4d='vUv'+_0x12fbab:_0x5aca4d='vUV'+_0x12fbab+'_'+_0x1bc2ce,_0x4857e6['heightMap']&&_0x5e78ce!=='heightMapT'+'ransform'&&(_0x5aca4d+='\x20+\x20dUvOffs'+'et')),_0x5aca4d;}['_validateM'+'apChunk'](_0x4ce790,_0x182035,_0x4b7e44){w['call'](()=>{const _0x55de4d=_0x4b7e44['get'](_0x182035)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x33f366=[],_0x5b56a7=(_0x4ba9c8,_0x438787)=>{_0x55de4d['includes'](_0x4ba9c8)&&_0x33f366['push']('\x20\x20'+_0x4ba9c8+'\x20->\x20'+_0x438787);};[['$UV','{STD_'+_0x4ce790+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x4ce790+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x4ce790+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x4ce790+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x4ce790+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x4ce790+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x4ce790+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0xe7c9a2,_0x22797d])=>_0x5b56a7(_0xe7c9a2,_0x22797d)),[['MAPFLOAT','STD_'+_0x4ce790+'_CONSTANT'],['MAPCOLOR','STD_'+_0x4ce790+'_CONSTANT'],['MAPVERTEX','STD_'+_0x4ce790+'_VERTEX'],['MAPTEXTURE','STD_'+_0x4ce790+'_TEXTURE'],['MAPINVERT','STD_'+_0x4ce790+'_INVERT']]['forEach'](([_0x1ce87c,_0x5a129d])=>_0x5b56a7(_0x1ce87c,_0x5a129d)),_0x55de4d['includes']('$texture2D'+'SAMPLE')&&_0x5b56a7('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x33f366['length']>-0x20a1+-0x1*-0xf78+-0x1*-0x1129&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x182035+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x33f366['join']('\x0a'),{'code':_0x55de4d});});}['_addMapDef'+'ines'](_0x475b11,_0x1222c7,_0x38556b,_0x5e1cee,_0x17e0e3,_0xac1ad3,_0x282004=null){const _0x33d620=_0x1222c7+'Map',_0x5f33e6=_0x1222c7['toUpperCas'+'e'](),_0x397a2b=_0x33d620+'Uv',_0xa2f18f=_0x33d620+'Identifier',_0x50d6c4=_0x33d620+'Transform',_0x5e4912=_0x33d620+'Channel',_0x588de4=_0x1222c7+('VertexColo'+'rChannel'),_0x5837a5=_0x1222c7+'Tint',_0x42d863=_0x1222c7+('VertexColo'+'r'),_0x42a89f=_0x1222c7+'Mode',_0x406b86=_0x1222c7+'Invert',_0x1aaa0f=_0x5e1cee[_0x5837a5],_0x47e8d2=_0x5e1cee[_0x42d863],_0x3ff7a0=_0x5e1cee[_0x33d620],_0x391673=_0x5e1cee[_0xa2f18f],_0x105b96=_0x5e1cee[_0x42a89f],_0x534e35=_0x17e0e3['get'](_0x38556b);if(w['assert'](_0x534e35,'Shader\x20chu'+'nk\x20'+_0x38556b+('\x20not\x20found'+'.')),w['call'](()=>{_0x534e35&&this['_validateM'+'apChunk'](_0x5f33e6,_0x38556b,_0x17e0e3);}),_0x3ff7a0){_0x475b11['set']('STD_'+_0x5f33e6+'_TEXTURE','');const _0x2b6f69=this['_getUvSour'+'ceExpressi'+'on'](_0x50d6c4,_0x397a2b,_0x5e1cee);_0x475b11['set']('{STD_'+_0x5f33e6+('_TEXTURE_U'+'V}'),_0x2b6f69),_0x475b11['set']('{STD_'+_0x5f33e6+('_TEXTURE_C'+'HANNEL}'),_0x5e1cee[_0x5e4912]);const _0x2fd518='{STD_'+_0x5f33e6+('_TEXTURE_N'+'AME}');if(_0x534e35['includes'](_0x2fd518)){let _0x46931c='texture_'+_0x33d620;const _0x48d46b=_0xac1ad3[_0x391673];_0x48d46b?_0x46931c=_0x48d46b:(_0xac1ad3[_0x391673]=_0x46931c,_0x475b11['set']('STD_'+_0x5f33e6+('_TEXTURE_A'+'LLOCATE'),'')),_0x475b11['set'](_0x2fd518,_0x46931c);}if(_0x282004){const _0x4b640a=_0x5e1cee[_0x5e4912]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x282004);_0x475b11['set']('{STD_'+_0x5f33e6+('_TEXTURE_D'+'ECODE}'),_0x4b640a);}}_0x47e8d2&&(_0x475b11['set']('STD_'+_0x5f33e6+'_VERTEX',''),_0x475b11['set']('{STD_'+_0x5f33e6+('_VERTEX_CH'+'ANNEL}'),_0x5e1cee[_0x588de4])),_0x105b96&&_0x475b11['set']('{STD_'+_0x5f33e6+('_DETAILMOD'+'E}'),_0x105b96),_0x1aaa0f&&_0x475b11['set']('STD_'+_0x5f33e6+'_CONSTANT',''),_0x5e1cee[_0x406b86]&&_0x475b11['set']('STD_'+_0x5f33e6+'_INVERT','');}['_correctCh'+'annel'](_0x2a789b,_0x1fa57c,_0x57f379){if(_0x57f379[_0x2a789b]>0x604+0x1283*-0x2+0x1f02){if(_0x57f379[_0x2a789b]<_0x1fa57c['length'])return _0x1fa57c['substring'](0x1b87+-0x43a*0x5+-0x665*0x1,_0x57f379[_0x2a789b]);if(_0x57f379[_0x2a789b]>_0x1fa57c['length']){let _0x1e1908=_0x1fa57c;const _0x39d7fe=_0x1e1908['charAt'](_0x1e1908['length']-(-0x3*0x9b1+0x1d89*0x1+0x9*-0xd)),_0x5b8832=_0x57f379[_0x2a789b]-_0x1e1908['length'];for(let _0x36c414=0x4ab*0x2+0x133*0xd+-0x18ed;_0x36c414<_0x5b8832;_0x36c414++)_0x1e1908+=_0x39d7fe;return _0x1e1908;}return _0x1fa57c;}}['createVert'+'exShader'](_0x114dab,_0x21dd9b){const _0x1bbb5a=[],_0x2a9a0c=[],_0x312f18=[];for(const _0x5a6dac in bn){const _0x5334f0=_0x5a6dac+'Map';if(_0x21dd9b[_0x5a6dac+('VertexColo'+'r')]){const _0x495074=_0x5a6dac+('VertexColo'+'rChannel');_0x21dd9b[_0x495074]=this['_correctCh'+'annel'](_0x5a6dac,_0x21dd9b[_0x495074],bn);}if(_0x21dd9b[_0x5334f0]){const _0x10fb3f=_0x5334f0+'Channel',_0x1bbcaf=_0x5334f0+'Transform',_0x2a6b4a=_0x5334f0+'Uv';_0x21dd9b[_0x2a6b4a]=Math['min'](_0x21dd9b[_0x2a6b4a],0x1e39*-0x1+0x8a6+0x2*0xaca),_0x21dd9b[_0x10fb3f]=this['_correctCh'+'annel'](_0x5a6dac,_0x21dd9b[_0x10fb3f],bn);const _0x5b293c=_0x21dd9b[_0x2a6b4a];_0x1bbb5a[_0x5b293c]=!(-0x24f7+0x26a2+0x1ab*-0x1),_0x2a9a0c[_0x5b293c]=_0x2a9a0c[_0x5b293c]||_0x21dd9b[_0x5334f0]&&!_0x21dd9b[_0x1bbcaf],_0x21dd9b[_0x1bbcaf]&&_0x312f18['push']({'name':_0x5a6dac,'id':_0x21dd9b[_0x1bbcaf],'uv':_0x21dd9b[_0x2a6b4a]});}}_0x21dd9b['forceUv1']&&(_0x1bbb5a[-0x31*-0xbc+-0x16a6+0xd55*-0x1]=!(-0x11c9+0x2701+0x61*-0x38),_0x2a9a0c[-0x2d7*-0x3+-0x36*0x8d+0x11e*0x13]=_0x2a9a0c[-0x213*-0x11+0x7d+-0x23bf]!==void(-0x1*0x19df+-0x1*-0x2048+-0x669)?_0x2a9a0c[0x25ac+-0x9*0x35f+-0x754]:!(-0x211a+-0x1020+0x313a)),_0x114dab['generateVe'+'rtexShader'](_0x1bbb5a,_0x2a9a0c,_0x312f18);}['prepareFra'+'gmentDefin'+'es'](_0x4269db,_0x4fe206,_0x33b3b6){const _0x57dc32=(_0x2635c,_0x4fd555,_0x35c9a8='')=>{_0x2635c&&_0x4fe206['set'](_0x4fd555,_0x35c9a8);};_0x57dc32(_0x4269db['lightMap'],'STD_LIGHTM'+'AP',''),_0x57dc32(_0x4269db['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x57dc32(_0x4269db['dirLightMa'+'p']&&_0x4269db['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x57dc32(_0x4269db['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x57dc32(_0x4269db['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x57dc32(_0x4269db['aoMap']||_0x4269db['aoVertexCo'+'lor']||_0x4269db['useAO'],'STD_AO',''),_0x57dc32(!(0x2313+-0xe2b+-0x14e8),'STD_OPACIT'+'Y_DITHER',iE[_0x33b3b6['isForward']?_0x4269db['litOptions']['opacityDit'+'her']:_0x4269db['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x59c76b,_0x402fce){const _0x599aa4=Si['get'](_0x59c76b)['getByIndex'](_0x402fce['litOptions']['pass']),_0x4a5e17=_0x599aa4['isForward'],_0x41faa5=new db(_0x59c76b,_0x402fce['litOptions']);this['createVert'+'exShader'](_0x41faa5,_0x402fce);const _0x41cac8={};_0x402fce['litOptions']['fresnelMod'+'el']=_0x402fce['litOptions']['fresnelMod'+'el']===-0x37a+-0x93f+-0xcb9*-0x1?Yp:_0x402fce['litOptions']['fresnelMod'+'el'];const _0x5e9df8=_0x41faa5['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x402fce,_0x5e9df8,_0x599aa4);let _0x3b9f05='';if(_0x4a5e17){if(_0x402fce['heightMap']&&this['_addMapDef'+'ines'](_0x5e9df8,'height','parallaxPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),(_0x402fce['litOptions']['blendType']!==Cs||_0x402fce['litOptions']['alphaTest']||_0x402fce['litOptions']['alphaToCov'+'erage']||_0x402fce['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x5e9df8,'opacity','opacityPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),_0x41faa5['needsNorma'+'l']){if((_0x402fce['normalMap']||_0x402fce['clearCoatN'+'ormalMap'])&&!_0x402fce['litOptions']['hasTangent'+'s']){const _0xdc4108=_0x402fce['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x3b9f05=this['_getUvSour'+'ceExpressi'+'on'](_0xdc4108+'Transform',_0xdc4108+'Uv',_0x402fce);}this['_addMapDef'+'ines'](_0x5e9df8,'normalDeta'+'il','normalMapP'+'S',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x5e9df8,'normal','normalMapP'+'S',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['packedNorm'+'al']?'xy':'xyz');}_0x402fce['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x5e9df8,'diffuseDet'+'ail','diffusePS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x5e9df8,'diffuse','diffusePS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['diffuseEnc'+'oding']),_0x402fce['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x5e9df8,'refraction','transmissi'+'onPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'thickness','thicknessP'+'S',_0x402fce,_0x41faa5['chunks'],_0x41cac8)),_0x402fce['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x5e9df8,'iridescenc'+'e','iridescenc'+'ePS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x402fce,_0x41faa5['chunks'],_0x41cac8)),(_0x41faa5['lighting']&&_0x402fce['litOptions']['useSpecula'+'r']||_0x41faa5['reflection'+'s'])&&(_0x402fce['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x5e9df8,'sheen','sheenPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x5e9df8,'sheenGloss','sheenGloss'+'PS',_0x402fce,_0x41faa5['chunks'],_0x41cac8)),_0x402fce['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x5e9df8,'metalness','metalnessP'+'S',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'ior','iorPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8)),_0x402fce['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x5e9df8,'specularit'+'yFactor','specularit'+'yFactorPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),_0x402fce['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x5e9df8,'specular','specularPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x5e9df8,'gloss','glossPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8)),_0x402fce['aoDetail']&&this['_addMapDef'+'ines'](_0x5e9df8,'aoDetail','aoPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),(_0x402fce['aoMap']||_0x402fce['aoVertexCo'+'lor']||_0x402fce['useAO'])&&this['_addMapDef'+'ines'](_0x5e9df8,'ao','aoPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'emissive','emissivePS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['emissiveEn'+'coding']),_0x402fce['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x5e9df8,'clearCoat','clearCoatP'+'S',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),this['_addMapDef'+'ines'](_0x5e9df8,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x402fce['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x5e9df8,'anisotropy','anisotropy'+'PS',_0x402fce,_0x41faa5['chunks'],_0x41cac8),(_0x402fce['lightMap']||_0x402fce['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x5e9df8,'light','lightmapPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8,_0x402fce['lightMapEn'+'coding']);}else{const _0x29796e=_0x402fce['litOptions']['opacitySha'+'dowDither'];(_0x402fce['litOptions']['alphaTest']||_0x29796e)&&this['_addMapDef'+'ines'](_0x5e9df8,'opacity','opacityPS',_0x402fce,_0x41faa5['chunks'],_0x41cac8);}_0x41faa5['generateFr'+'agmentShad'+'er'](_0x41faa5['chunks']['get']('stdDeclara'+'tionPS'),_0x41faa5['chunks']['get']('stdFrontEn'+'dPS'),_0x3b9f05);const _0x5c15a6=bh['merge'](_0x41faa5['chunks'],_0x41faa5['includes']),_0x59487e=_0x41faa5['vDefines'];_0x402fce['defines']['forEach']((_0x14f916,_0x20e2f1)=>_0x59487e['set'](_0x20e2f1,_0x14f916)),_0x402fce['defines']['forEach']((_0x260eb0,_0x54e627)=>_0x5e9df8['set'](_0x54e627,_0x260eb0));const _0x27e7c1=Jt['createDefi'+'nition'](_0x59c76b,{'name':'StandardSh'+'ader','attributes':_0x41faa5['attributes'],'shaderLanguage':_0x41faa5['shaderLang'+'uage'],'vertexCode':_0x41faa5['vshader'],'fragmentCode':_0x41faa5['fshader'],'vertexIncludes':_0x5c15a6,'fragmentIncludes':_0x5c15a6,'fragmentDefines':_0x5e9df8,'vertexDefines':_0x59487e});return _0x41faa5['shaderPass'+'Info']['isForward']&&(_0x27e7c1['tag']=Sy),_0x27e7c1;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x1382*-0x1+-0x18f7+0x2f7*0xf;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(-0x29*-0x9+0x890*-0x1+-0x1*-0x720)),h(this,'parameters',{}),h(this,'alphaTest',-0x1f55+0x1f3d+0x8*0x3),h(this,'alphaToCov'+'erage',!(-0x4*-0x7f2+-0x7ea+-0x17dd)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x2*0x11b+-0x12a*-0x11+-0x1e*0x96)),h(this,'_shaderVer'+'sion',-0x12c7*-0x1+0x171+0x287*-0x8),h(this,'_scene',null),h(this,'dirty',!(-0x208b+0x1*-0x21a9+0x1*0x4234)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x3f779b=Fe){const _0x12c8a7=this['shaderChun'+'ks'];return _0x3f779b===Fe?_0x12c8a7['glsl']:_0x12c8a7['wgsl'];}set['shaderChun'+'ksVersion'](_0x31a3f0){this['shaderChun'+'ks']['version']=_0x31a3f0;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x51b5f6){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x51b5f6;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x58eba7){this['_depthStat'+'e']['depthBias']=_0x58eba7;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x542353){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x542353;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x50d56f){this['_blendStat'+'e']['redWrite']=_0x50d56f;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x2c6088){this['_blendStat'+'e']['greenWrite']=_0x2c6088;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x527c73){this['_blendStat'+'e']['blueWrite']=_0x527c73;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x3afed9){this['_blendStat'+'e']['alphaWrite']=_0x3afed9;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x14125d=this['transparen'+'t'],_0x27f080=this['meshInstan'+'ces'];for(let _0x5efef3=0x7fc+-0x421+0x3*-0x149;_0x5efef3<_0x27f080['length'];_0x5efef3++)_0x27f080[_0x5efef3]['transparen'+'t']=_0x14125d;}set['blendState'](_0x53c546){this['_blendStat'+'e']['copy'](_0x53c546),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x43ccde){const _0x3edfe4=ss[_0x43ccde];w['assert'](_0x3edfe4,'Unknown\x20bl'+'end\x20mode\x20'+_0x43ccde),this['_blendStat'+'e']['setColorBl'+'end'](_0x3edfe4['op'],_0x3edfe4['src'],_0x3edfe4['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x3edfe4['alphaOp']??_0x3edfe4['op'],_0x3edfe4['alphaSrc']??_0x3edfe4['src'],_0x3edfe4['alphaDst']??_0x3edfe4['dst']);const _0x5d54e5=_0x43ccde!==Cs;this['_blendStat'+'e']['blend']!==_0x5d54e5&&(this['_blendStat'+'e']['blend']=_0x5d54e5,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x551a20,colorSrcFactor:_0x82fc96,colorDstFactor:_0x5c77f2,alphaOp:_0x1f8c6a,alphaSrcFactor:_0x3493f3,alphaDstFactor:_0x4d3af3}=this['_blendStat'+'e'];for(let _0x1c6a8c=0x1*-0xae7+-0x1c71+0x2758;_0x1c6a8c<ss['length'];_0x1c6a8c++){const _0x393456=ss[_0x1c6a8c];if(_0x393456['src']===_0x82fc96&&_0x393456['dst']===_0x5c77f2&&_0x393456['op']===_0x551a20&&_0x393456['src']===_0x3493f3&&_0x393456['dst']===_0x4d3af3&&_0x393456['op']===_0x1f8c6a)return _0x1c6a8c;}return Zs;}set['depthState'](_0x48da78){this['_depthStat'+'e']['copy'](_0x48da78);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x445040){this['_depthStat'+'e']['test']=_0x445040;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x33995f){this['_depthStat'+'e']['func']=_0x33995f;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3afee2){this['_depthStat'+'e']['write']=_0x3afee2;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x50726e){var _0xf49f97,_0x20004d;this['name']=_0x50726e['name'],this['alphaTest']=_0x50726e['alphaTest'],this['alphaToCov'+'erage']=_0x50726e['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x50726e['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x50726e['_depthStat'+'e']),this['cull']=_0x50726e['cull'],this['stencilFro'+'nt']=(_0xf49f97=_0x50726e['stencilFro'+'nt'])==null?void(-0x8bd*-0x3+-0x337*-0x8+-0x33ef):_0xf49f97['clone'](),_0x50726e['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x50726e['stencilFro'+'nt']===_0x50726e['stencilBac'+'k']?this['stencilFro'+'nt']:_0x50726e['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x515a38 in _0x50726e['parameters'])_0x50726e['parameters']['hasOwnProp'+'erty'](_0x515a38)&&this['_setParame'+'terSimple'](_0x515a38,_0x50726e['parameters'][_0x515a38]['data']);return this['defines']['clear'](),_0x50726e['defines']['forEach']((_0x1d5ffe,_0x52ba18)=>this['defines']['set'](_0x52ba18,_0x1d5ffe)),this['_shaderChu'+'nks']=_0x50726e['hasShaderC'+'hunks']?new Pe():null,(_0x20004d=this['_shaderChu'+'nks'])==null||_0x20004d['copy'](_0x50726e['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x4b788a=this['meshInstan'+'ces'];for(let _0x4b8a4c=-0x1*0xfa7+0xdfd+0x1aa;_0x4b8a4c<_0x4b788a['length'];_0x4b8a4c++)_0x4b788a[_0x4b8a4c]['updateKey']();}['updateUnif'+'orms'](_0xa128d2,_0x2b6dc1){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x1f0cfd){w['assert'](!(-0x37*0x45+-0xeb7*-0x1+0x1d),'Not\x20implem'+'ented');}['update'](){var _0x5d9757,_0x334c42;if(Object['keys'](this['_oldChunks'])['length']>-0xadc*0x2+-0x163d+0x16b*0x1f){for(const [_0x50103a,_0x27f9cf]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x50103a,_0x27f9cf),delete this['_oldChunks'][_0x50103a];}(this['_definesDi'+'rty']||(_0x5d9757=this['_shaderChu'+'nks'])!=null&&_0x5d9757['isDirty']())&&(this['_definesDi'+'rty']=!(0x269*0x4+-0x2*0x966+0x929),(_0x334c42=this['_shaderChu'+'nks'])==null||_0x334c42['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x1*-0xb65+0x237+-0x86*0x1a);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x151751=this['meshInstan'+'ces'],_0x5138f8=_0x151751['length'];for(let _0x57bbbd=0x539*-0x1+-0xd04+0xa1*0x1d;_0x57bbbd<_0x5138f8;_0x57bbbd++)_0x151751[_0x57bbbd]['clearShade'+'rs']();}['getParamet'+'er'](_0x37614c){return this['parameters'][_0x37614c];}['_setParame'+'terSimple'](_0x1b79f7,_0x5e646d){w['call'](()=>{_0x5e646d===void(-0x1d*0xe3+-0x163+-0x2*-0xd8d)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x1b79f7+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x2c396a=this['parameters'][_0x1b79f7];_0x2c396a?_0x2c396a['data']=_0x5e646d:this['parameters'][_0x1b79f7]={'scopeId':null,'data':_0x5e646d};}['setParamet'+'er'](_0x439aaf,_0x20cccb){if(_0x20cccb===void(-0x1*-0x21d7+-0x84f+-0x1988)&&typeof _0x439aaf=='object'){const _0x440288=_0x439aaf;if(_0x440288['length']){for(let _0x161fd8=0x9*-0xfe+0xa9*0x1a+0x1*-0x83c;_0x161fd8<_0x440288['length'];_0x161fd8++)this['setParamet'+'er'](_0x440288[_0x161fd8]);return;}_0x439aaf=_0x440288['name'],_0x20cccb=_0x440288['value'];}this['_setParame'+'terSimple'](_0x439aaf,_0x20cccb);}['deletePara'+'meter'](_0x4f3a71){this['parameters'][_0x4f3a71]&&delete this['parameters'][_0x4f3a71];}['setParamet'+'ers'](_0x4b548a,_0xb5be8){const _0x44bdcf=this['parameters'];_0xb5be8===void(0xd0a+-0x1*-0x1671+0x1f*-0x125)&&(_0xb5be8=_0x44bdcf);for(const _0x36ba5d in _0xb5be8){const _0x20e583=_0x44bdcf[_0x36ba5d];_0x20e583&&(_0x20e583['scopeId']||(_0x20e583['scopeId']=_0x4b548a['scope']['resolve'](_0x36ba5d)),_0x20e583['scopeId']['setValue'](_0x20e583['data']));}}['setDefine'](_0x46f069,_0x5e9816){let _0x79fc2c=!(-0x151f+0x244*-0xe+0x34d8);const {defines:_0x1105f7}=this;_0x5e9816!==void(0x509+-0x8*-0x202+-0x1519)&&_0x5e9816!==!(-0xaef*0x1+-0x1*-0xb96+-0x53*0x2)?(_0x79fc2c=!_0x1105f7['has'](_0x46f069)||_0x1105f7['get'](_0x46f069)!==_0x5e9816,_0x1105f7['set'](_0x46f069,_0x5e9816)):(_0x79fc2c=_0x1105f7['has'](_0x46f069),_0x1105f7['delete'](_0x46f069)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x79fc2c);}['getDefine'](_0x2c6e1a){return this['defines']['has'](_0x2c6e1a);}['destroy'](){this['variants']['clear']();for(let _0x5dbb86=0x2377*0x1+0x2201+0x9c*-0x72;_0x5dbb86<this['meshInstan'+'ces']['length'];_0x5dbb86++){const _0x15d8e4=this['meshInstan'+'ces'][_0x5dbb86];if(_0x15d8e4['clearShade'+'rs'](),_0x15d8e4['_material']=null,_0x15d8e4['mesh']){const _0x36b31c=Qn(_0x15d8e4['mesh']['device']);this!==_0x36b31c&&(_0x15d8e4['material']=_0x36b31c);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x16a7+0x1*-0x2015+0x36bc;}['addMeshIns'+'tanceRef'](_0x12fcd4){this['meshInstan'+'ces']['push'](_0x12fcd4);}['removeMesh'+'InstanceRe'+'f'](_0x25f78d){const _0x2f6248=this['meshInstan'+'ces'],_0x2c0bcb=_0x2f6248['indexOf'](_0x25f78d);_0x2c0bcb!==-(0x1*0xfed+-0x1af0+0xb04)&&_0x2f6248['splice'](_0x2c0bcb,0x87*0x17+-0x17*0x14b+-0x9*-0x1f5);}}class Ws{static['update'](_0x33feab,_0x2c84d7,_0x34fb80,_0x4b4b6e,_0x1e9659,_0x4946e2,_0x5efa65){Ws['updateShar'+'edOptions'](_0x33feab,_0x2c84d7,_0x34fb80,_0x1e9659,_0x4946e2),Ws['updateMate'+'rialOption'+'s'](_0x33feab,_0x2c84d7),Ws['updateEnvO'+'ptions'](_0x33feab,_0x2c84d7,_0x34fb80,_0x4b4b6e),Ws['updateLigh'+'tingOption'+'s'](_0x33feab,_0x2c84d7,_0x34fb80,_0x1e9659,_0x5efa65);}static['updateShar'+'edOptions'](_0x4fd246,_0x5005f0,_0x2405e4,_0x300d97,_0x3b48c0){_0x4fd246['shaderChun'+'ks']=_0x5005f0['shaderChun'+'ks'],_0x4fd246['pass']=_0x3b48c0,_0x4fd246['alphaTest']=_0x5005f0['alphaTest']>-0x62*0x11+0x19f3*-0x1+0x2075,_0x4fd246['blendType']=_0x5005f0['blendType'],_0x4fd246['screenSpac'+'e']=_0x300d97&&(_0x300d97&Eh)!==0x8b+0x53*-0x33+0xffe,_0x4fd246['skin']=_0x300d97&&(_0x300d97&nl)!==0x5*-0xb1+-0x3*-0x6bb+0xee*-0x12,_0x4fd246['useInstanc'+'ing']=_0x300d97&&(_0x300d97&ol)!==-0xd16+0x1e05+-0x10ef,_0x4fd246['useMorphPo'+'sition']=_0x300d97&&(_0x300d97&ll)!==0x427*0x1+-0x19e4+0x15*0x109,_0x4fd246['useMorphNo'+'rmal']=_0x300d97&&(_0x300d97&cl)!==-0x1*0x156e+-0x92f+0x11*0x1cd,_0x4fd246['useMorphTe'+'xtureBased'+'Int']=_0x300d97&&(_0x300d97&hl)!==-0x973+-0x1e1d+0x279*0x10,_0x4fd246['hasTangent'+'s']=_0x300d97&&(_0x300d97&om)!==-0x2516+0x1f57*0x1+0x1*0x5bf,_0x4fd246['nineSliced'+'Mode']=_0x5005f0['nineSliced'+'Mode']||ci,_0x5005f0['useLightin'+'g']&&_0x2405e4['clusteredL'+'ightingEna'+'bled']?(_0x4fd246['clusteredL'+'ightingEna'+'bled']=!(0x205f+0x3*-0x4d2+-0x28f*0x7),_0x4fd246['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2405e4['lighting']['cookiesEna'+'bled'],_0x4fd246['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2405e4['lighting']['shadowsEna'+'bled'],_0x4fd246['clusteredL'+'ightingSha'+'dowType']=_0x2405e4['lighting']['shadowType'],_0x4fd246['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2405e4['lighting']['areaLights'+'Enabled']):(_0x4fd246['clusteredL'+'ightingEna'+'bled']=!(-0xcc9+0x2152+-0x1488),_0x4fd246['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0xa86+0x1*0x16f3+0x1*-0xc6c),_0x4fd246['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x200d+-0x1a9+-0x1e63*0x1),_0x4fd246['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x302+-0x2215+-0xea*-0x22));}static['updateMate'+'rialOption'+'s'](_0x28a218,_0x3dafca){_0x28a218['separateAm'+'bient']=!(0x1d6e+-0x1*0x45b+-0x1912),_0x28a218['pixelSnap']=_0x3dafca['pixelSnap'],_0x28a218['ambientSH']=_0x3dafca['ambientSH'],_0x28a218['twoSidedLi'+'ghting']=_0x3dafca['twoSidedLi'+'ghting'],_0x28a218['occludeDir'+'ect']=_0x3dafca['occludeDir'+'ect'],_0x28a218['occludeSpe'+'cular']=_0x3dafca['occludeSpe'+'cular'],_0x28a218['occludeSpe'+'cularFloat']=_0x3dafca['occludeSpe'+'cularInten'+'sity']!==0x1f5c+-0x19*-0xb3+-0x30d6,_0x28a218['useMsdf']=!(-0x3b7*-0x1+0x63a*0x2+-0x102a),_0x28a218['msdfTextAt'+'tribute']=!(0x8cd+-0x4b9+-0x413),_0x28a218['alphaToCov'+'erage']=_0x3dafca['alphaToCov'+'erage'],_0x28a218['opacityFad'+'esSpecular']=_0x3dafca['opacityFad'+'esSpecular'],_0x28a218['opacityDit'+'her']=_0x3dafca['opacityDit'+'her'],_0x28a218['cubeMapPro'+'jection']=tm,_0x28a218['useSpecula'+'r']=_0x3dafca['hasSpecula'+'r'],_0x28a218['useSpecula'+'rityFactor']=_0x3dafca['hasSpecula'+'rityFactor'],_0x28a218['enableGGXS'+'pecular']=_0x3dafca['ggxSpecula'+'r'],_0x28a218['fresnelMod'+'el']=_0x3dafca['fresnelMod'+'el'],_0x28a218['useRefract'+'ion']=_0x3dafca['hasRefract'+'ion'],_0x28a218['useClearCo'+'at']=_0x3dafca['hasClearCo'+'at'],_0x28a218['useSheen']=_0x3dafca['hasSheen'],_0x28a218['useIridesc'+'ence']=_0x3dafca['hasIrrides'+'cence'],_0x28a218['useMetalne'+'ss']=_0x3dafca['hasMetalne'+'ss'],_0x28a218['useDynamic'+'Refraction']=_0x3dafca['dynamicRef'+'raction'],_0x28a218['dispersion']=_0x3dafca['dispersion']>-0x246a+-0xef9*-0x1+0x1571,_0x28a218['vertexColo'+'rs']=!(0x1*-0x1d29+0x1c50+-0xda*-0x1),_0x28a218['lightMapEn'+'abled']=_0x3dafca['hasLightin'+'g'],_0x28a218['dirLightMa'+'pEnabled']=_0x3dafca['dirLightMa'+'p'],_0x28a218['useHeights']=_0x3dafca['hasHeights'],_0x28a218['useNormals']=_0x3dafca['hasNormals'],_0x28a218['useClearCo'+'atNormals']=_0x3dafca['hasClearCo'+'atNormals'],_0x28a218['useAo']=_0x3dafca['hasAo'],_0x28a218['diffuseMap'+'Enabled']=_0x3dafca['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x2bd508,_0x278148,_0x5a245e,_0x2e0d89){_0x2bd508['fog']=_0x278148['useFog']?_0x2e0d89['fog']:Kn,_0x2bd508['gamma']=_0x2e0d89['shaderOutp'+'utGamma'],_0x2bd508['toneMap']=_0x278148['useTonemap']?_0x2e0d89['toneMappin'+'g']:nv,_0x278148['useSkybox']&&_0x5a245e['envAtlas']&&_0x5a245e['skybox']?(_0x2bd508['reflection'+'Source']=xh,_0x2bd508['reflection'+'Encoding']=_0x5a245e['envAtlas']['encoding'],_0x2bd508['reflection'+'CubemapEnc'+'oding']=_0x5a245e['skybox']['encoding']):_0x278148['useSkybox']&&_0x5a245e['envAtlas']?(_0x2bd508['reflection'+'Source']=vh,_0x2bd508['reflection'+'Encoding']=_0x5a245e['envAtlas']['encoding']):_0x278148['useSkybox']&&_0x5a245e['skybox']?(_0x2bd508['reflection'+'Source']=Th,_0x2bd508['reflection'+'Encoding']=_0x5a245e['skybox']['encoding']):(_0x2bd508['reflection'+'Source']=vr,_0x2bd508['reflection'+'Encoding']=null),_0x278148['ambientSH']?(_0x2bd508['ambientSou'+'rce']=im,_0x2bd508['ambientEnc'+'oding']=null):_0x2bd508['reflection'+'Source']!==vr&&_0x5a245e['envAtlas']?(_0x2bd508['ambientSou'+'rce']=rm,_0x2bd508['ambientEnc'+'oding']=_0x5a245e['envAtlas']['encoding']):(_0x2bd508['ambientSou'+'rce']=am,_0x2bd508['ambientEnc'+'oding']=null);const _0x171894=_0x2bd508['reflection'+'Source']!==vr;_0x2bd508['skyboxInte'+'nsity']=_0x171894,_0x2bd508['useCubeMap'+'Rotation']=_0x171894&&_0x5a245e['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x584a8a,_0x57b818,_0x128cc7,_0x4f4db7,_0x47289c){if(_0x584a8a['lightMapWi'+'thoutAmbie'+'nt']=!(-0x95*0x4+0x18*-0x175+0x9*0x425),_0x57b818['useLightin'+'g']){const _0x25f5a8=[],_0x48be0f=_0x4f4db7?_0x4f4db7>>-0x935+-0x1a84+0x23c9:Ss;_0x584a8a['lightMaskD'+'ynamic']=!!(_0x48be0f&Ss),_0x584a8a['lightMapWi'+'thoutAmbie'+'nt']=!(0x1d1+0x1c22*-0x1+0x1a52),_0x47289c&&(Ws['collectLig'+'hts'](ve,_0x47289c[ve],_0x25f5a8,_0x48be0f),_0x128cc7['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x47289c[Ke],_0x25f5a8,_0x48be0f),Ws['collectLig'+'hts'](Ze,_0x47289c[Ze],_0x25f5a8,_0x48be0f))),_0x584a8a['lights']=_0x25f5a8;}else _0x584a8a['lights']=[];(_0x584a8a['lights']['length']===-0xa09*-0x2+-0x1e04+0x9f2&&!_0x128cc7['clusteredL'+'ightingEna'+'bled']||(_0x4f4db7&wh)!==-0x473+0x16fb*-0x1+0x1b6e)&&(_0x584a8a['noShadow']=!(0x3*-0x655+-0x115f*-0x1+0x1a0));}static['collectLig'+'hts'](_0x35a5bd,_0x3f1d06,_0x1bb7ec,_0x577761){for(let _0x347c76=0x1*0xb09+0x23e4+-0x2eed;_0x347c76<_0x3f1d06['length'];_0x347c76++){const _0x353d31=_0x3f1d06[_0x347c76];_0x353d31['enabled']&&_0x353d31['mask']&_0x577761&&_0x1bb7ec['push'](_0x353d31);}}}const G_=(_0x3323be,_0xaafde4)=>{if(_0x3323be['length']!==_0xaafde4['length'])return!(0x4ba+0x129*-0x1+-0x390);for(let _0x14ddec=0x121*-0x1+-0x11da+0x12fb;_0x14ddec<_0x3323be['length'];++_0x14ddec)if(_0x3323be[_0x14ddec]!==_0xaafde4[_0x14ddec])return!(-0x1*-0x189a+-0x1*0x1997+0x1*0xfe);return!(-0x1bf+0x23bb+-0x4*0x87f);},pb=_0x29d905=>_0x29d905['r']!==0x3*-0x6f9+0x119*-0xe+-0x5*-0x742||_0x29d905['g']!==0x1*-0x1346+0x2*0xd7f+-0x1*0x7b7||_0x29d905['b']!==0xa9d+-0x22*0x9e+0xa60,mb=_0xe92e77=>_0xe92e77['r']!==-0x153d+0x2338+0x3*-0x4a9||_0xe92e77['g']!==-0x1f3d+-0x372+-0x22af*-0x1||_0xe92e77['b']!==0xc39+0x21*-0x54+-0x165;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x1ca622,_0x4ecd34,_0x1e52f0,_0x179e49,_0x21a27a,_0x1f34a6){this['_updateSha'+'redOptions'](_0x1ca622,_0x4ecd34,_0x1e52f0,_0x179e49,_0x21a27a),this['_updateMin'+'Options'](_0x1ca622,_0x1e52f0,_0x21a27a),this['_updateUVO'+'ptions'](_0x1ca622,_0x1e52f0,_0x179e49,!(-0x107*0x13+-0x4bc+0x1841));}['updateRef'](_0x3677c3,_0x4309b9,_0x5a3c38,_0x5933d8,_0x18d10d,_0x3ad81f,_0x266975){this['_updateSha'+'redOptions'](_0x3677c3,_0x4309b9,_0x5933d8,_0x18d10d,_0x3ad81f),this['_updateEnv'+'Options'](_0x3677c3,_0x5933d8,_0x4309b9,_0x5a3c38),this['_updateMat'+'erialOptio'+'ns'](_0x3677c3,_0x5933d8,_0x4309b9),_0x3677c3['litOptions']['hasTangent'+'s']=_0x18d10d&&(_0x18d10d&om)!==-0x2e4+-0xeb1+0x1195*0x1,this['_updateLig'+'htOptions'](_0x3677c3,_0x4309b9,_0x5933d8,_0x18d10d,_0x266975),this['_updateUVO'+'ptions'](_0x3677c3,_0x5933d8,_0x18d10d,!(-0x1*-0x2223+-0x52a*0x1+-0x1cf8*0x1),_0x5a3c38);}['_updateSha'+'redOptions'](_0x4c06e6,_0x1c3927,_0x5e0736,_0x1bac2a,_0x1486be){_0x4c06e6['forceUv1']=_0x5e0736['forceUv1'],_0x5e0736['userAttrib'+'utes']&&(_0x4c06e6['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x5e0736['userAttrib'+'utes']['entries']())),_0x4c06e6['litOptions']['shaderChun'+'ks']=_0x5e0736['shaderChun'+'ks'],_0x4c06e6['litOptions']['pass']=_0x1486be,_0x4c06e6['litOptions']['alphaTest']=_0x5e0736['alphaTest']>-0x1e*-0xc9+0xd00+0x248e*-0x1,_0x4c06e6['litOptions']['blendType']=_0x5e0736['blendType'],_0x4c06e6['litOptions']['screenSpac'+'e']=_0x1bac2a&&(_0x1bac2a&Eh)!==-0x163d+0xa53*-0x1+0x2090,_0x4c06e6['litOptions']['skin']=_0x1bac2a&&(_0x1bac2a&nl)!==0x2c1+0x19*-0x6e+0x7fd,_0x4c06e6['litOptions']['batch']=_0x1bac2a&&(_0x1bac2a&qc)!==0xe02+-0x602+-0x800,_0x4c06e6['litOptions']['useInstanc'+'ing']=_0x1bac2a&&(_0x1bac2a&ol)!==0x448*-0x6+0x9*-0x297+-0x1055*-0x3,_0x4c06e6['litOptions']['useMorphPo'+'sition']=_0x1bac2a&&(_0x1bac2a&ll)!==-0xd57+-0xa*0x75+0x11e9,_0x4c06e6['litOptions']['useMorphNo'+'rmal']=_0x1bac2a&&(_0x1bac2a&cl)!==0x1*0x1cae+-0x4e1*-0x7+-0x3ed5,_0x4c06e6['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x1bac2a&&(_0x1bac2a&hl)!==0x2460*-0x1+0xd36*-0x1+0x3196,_0x4c06e6['litOptions']['nineSliced'+'Mode']=_0x5e0736['nineSliced'+'Mode']||0x1c0+0x16*-0x27+0x19a,_0x1c3927['clusteredL'+'ightingEna'+'bled']&&_0x5e0736['useLightin'+'g']?(_0x4c06e6['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1a36+0x904+0x1132),_0x4c06e6['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x1c3927['lighting']['cookiesEna'+'bled'],_0x4c06e6['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x1c3927['lighting']['shadowsEna'+'bled'],_0x4c06e6['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x1c3927['lighting']['shadowType'],_0x4c06e6['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x1c3927['lighting']['areaLights'+'Enabled']):(_0x4c06e6['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x17f*-0x11+0x29*0x1d+0x1*-0x1e13),_0x4c06e6['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1*-0x981+-0x17dc+-0x2*-0x10af),_0x4c06e6['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1fd4+-0x2*-0x1cd+-0x236d),_0x4c06e6['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x24cc+0x59*0x17+-0x5b*0x7e));}['_updateUVO'+'ptions'](_0x4da91e,_0x29c28b,_0x5c3188,_0x4a4317,_0x2f2b50){let _0x59d88c=!(-0x235c+0xb8d*-0x3+0x4604),_0x5717f1=!(0x1367*0x2+0x3*-0x829+-0x2f*0x4e),_0x30f4f3=!(-0x1bc6+-0x16a*0x5+0x22d9);_0x5c3188&&(_0x59d88c=(_0x5c3188&nm)!==-0xf59*0x1+-0x96f+0x18c8,_0x5717f1=(_0x5c3188&dv)!==0x519+-0x107*0x17+0x8*0x251,_0x30f4f3=(_0x5c3188&fv)!==-0x2*-0xb21+-0x880+-0x6*0x24b),_0x4da91e['litOptions']['vertexColo'+'rs']=!(0x1684+0x36d*-0x3+0x1d*-0x6c),this['_mapXForms']=[];const _0x232af7={};for(const _0x314a1d in bn)this['_updateTex'+'Options'](_0x4da91e,_0x29c28b,_0x314a1d,_0x59d88c,_0x5717f1,_0x30f4f3,_0x4a4317,_0x232af7);this['_mapXForms']=null,_0x4da91e['litOptions']['ssao']=_0x2f2b50==null?void(-0x5af+0x1eb4+-0x1905):_0x2f2b50['ssaoEnable'+'d'],_0x4da91e['useAO']=_0x4da91e['litOptions']['ssao'],_0x4da91e['litOptions']['lightMapEn'+'abled']=_0x4da91e['lightMap'],_0x4da91e['litOptions']['dirLightMa'+'pEnabled']=_0x4da91e['dirLightMa'+'p'],_0x4da91e['litOptions']['useHeights']=_0x4da91e['heightMap'],_0x4da91e['litOptions']['useNormals']=_0x4da91e['normalMap'],_0x4da91e['litOptions']['useClearCo'+'atNormals']=_0x4da91e['clearCoatN'+'ormalMap'],_0x4da91e['litOptions']['useAo']=_0x4da91e['aoMap']||_0x4da91e['aoVertexCo'+'lor']||_0x4da91e['litOptions']['ssao'],_0x4da91e['litOptions']['diffuseMap'+'Enabled']=_0x4da91e['diffuseMap'];}['_updateTex'+'Options'](_0x229940,_0x22e5a2,_0x4b356d,_0x4caf6e,_0x56f545,_0x19a9a2,_0x33e4b6,_0x462a0e){const _0x37257e=_0x4b356d==='opacity';if(!_0x33e4b6||_0x37257e){const _0x453971=_0x4b356d+'Map',_0x18b325=_0x4b356d+('VertexColo'+'r'),_0x3d3a31=_0x4b356d+('VertexColo'+'rChannel'),_0x3907f5=_0x453971+'Channel',_0x2c5fdb=_0x453971+'Transform',_0x4e7f2a=_0x453971+'Uv',_0xdb516=_0x453971+'Identifier';if(_0x4b356d!=='light'&&(_0x229940[_0x453971]=!(0x19f*-0x4+0x15d3+-0xd*0x12e),_0x229940[_0xdb516]=void(-0x15*0x4d+-0x20fe*0x1+0x274f),_0x229940[_0x3907f5]='',_0x229940[_0x2c5fdb]=0xd4d+-0x1c*-0x10c+0x2a9d*-0x1,_0x229940[_0x4e7f2a]=-0x21d*-0x11+0x6f5+-0x2ae2),_0x229940[_0x18b325]=!(0x1*0x38f+0x174d+-0xb*0x271),_0x229940[_0x3d3a31]='',_0x37257e&&_0x22e5a2['blendType']===Cs&&_0x22e5a2['alphaTest']===-0x24f1+-0x2f6*0xa+-0x765*-0x9&&!_0x22e5a2['alphaToCov'+'erage']&&_0x22e5a2['opacityDit'+'her']===Sa)return;if(_0x4b356d!=='height'&&_0x22e5a2[_0x18b325]&&_0x19a9a2&&(_0x229940[_0x18b325]=_0x22e5a2[_0x18b325],_0x229940[_0x3d3a31]=_0x22e5a2[_0x3d3a31],_0x229940['litOptions']['vertexColo'+'rs']=!(0x37*0x1+0x97*-0x6+0x353*0x1)),_0x22e5a2[_0x453971]){let _0x1355c7=!(-0x1eed+-0x203d+0x150e*0x3);if(_0x22e5a2[_0x4e7f2a]===0x1db2+-0x14bf+-0x8f3&&!_0x4caf6e&&(_0x1355c7=!(0xef6*0x2+0x3e5+-0x2*0x10e8)),_0x22e5a2[_0x4e7f2a]===-0x24a0+-0x36*-0xad+0x23&&!_0x56f545&&(_0x1355c7=!(0x1251+-0xda6+-0x4aa)),_0x1355c7){const _0xcd0503=_0x22e5a2[_0x453971]['id'];let _0x270ff4=_0x462a0e[_0xcd0503];_0x270ff4===void(-0xee0+0x1f19+-0x1039)&&(_0x462a0e[_0xcd0503]=_0x4b356d,_0x270ff4=_0x4b356d),_0x229940[_0x453971]=!!_0x22e5a2[_0x453971],_0x229940[_0xdb516]=_0x270ff4,_0x229940[_0x2c5fdb]=this['_getMapTra'+'nsformID'](_0x22e5a2['getUniform'](_0x2c5fdb),_0x22e5a2[_0x4e7f2a]),_0x229940[_0x3907f5]=_0x22e5a2[_0x3907f5],_0x229940[_0x4e7f2a]=_0x22e5a2[_0x4e7f2a];}}}}['_updateMin'+'Options'](_0x5dda9e,_0x398519,_0x15b08e){const _0x42ea36=_0x15b08e===Rl;_0x5dda9e['litOptions']['opacitySha'+'dowDither']=_0x42ea36?_0x398519['opacityDit'+'her']:_0x398519['opacitySha'+'dowDither'],_0x5dda9e['litOptions']['linearDept'+'h']=_0x42ea36,_0x5dda9e['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0xff067e,_0xe0bdda,_0x21e66b){var _0x3f0d90,_0x5d7cc1,_0x513322,_0x1df096,_0x2380fa,_0x54205b;const _0x494ce5=!!(_0xe0bdda['useMetalne'+'ss']||_0xe0bdda['specularMa'+'p']||_0xe0bdda['sphereMap']||_0xe0bdda['cubeMap']||mb(_0xe0bdda['specular'])||_0xe0bdda['specularit'+'yFactor']>-0x1a5*-0x8+0x1062+0x18e*-0x13&&_0xe0bdda['useMetalne'+'ss']||_0xe0bdda['enableGGXS'+'pecular']||_0xe0bdda['clearCoat']>0x10f0+-0x843+-0x8ad),_0x57edd1=!_0xe0bdda['useMetalne'+'ss']||_0xe0bdda['useMetalne'+'ssSpecular'+'Color'],_0x2f2e00=_0x494ce5&&(_0xe0bdda['specularTi'+'nt']||!_0xe0bdda['specularMa'+'p']&&!_0xe0bdda['specularVe'+'rtexColor'])&&pb(_0xe0bdda['specular']),_0x5cfaa9=_0x494ce5&&_0xe0bdda['useMetalne'+'ssSpecular'+'Color']&&(_0xe0bdda['specularit'+'yFactorTin'+'t']||_0xe0bdda['specularit'+'yFactor']<-0x1349+-0x1*-0x1d4d+-0xb*0xe9&&!_0xe0bdda['specularit'+'yFactorMap']),_0x5bbbda=_0xb4fcf5=>_0xb4fcf5?_0xb4fcf5['format']===vl||_0xb4fcf5['type']===Jo:!(-0x24d9+-0x1*-0x266f+-0x195),_0x1382a4=(_0x1995cb,_0x779945)=>Math['abs'](_0x1995cb-_0x779945)<-0xf*-0x14+-0x7b7+0x68b+0.0001;_0xff067e['specularTi'+'nt']=_0x2f2e00,_0xff067e['specularit'+'yFactorTin'+'t']=_0x5cfaa9,_0xff067e['metalnessT'+'int']=_0xe0bdda['useMetalne'+'ss']&&_0xe0bdda['metalness']<-0x163b+0x1*0x131b+0x321*0x1,_0xff067e['glossTint']=!(0x1be8+0xd0+-0x1cb8),_0xff067e['diffuseEnc'+'oding']=(_0x3f0d90=_0xe0bdda['diffuseMap'])==null?void(0x8b2+0x1*-0xf93+-0x1*-0x6e1):_0x3f0d90['encoding'],_0xff067e['diffuseDet'+'ailEncodin'+'g']=(_0x5d7cc1=_0xe0bdda['diffuseDet'+'ailMap'])==null?void(-0x1fc*0x1+-0x86c+0xa68):_0x5d7cc1['encoding'],_0xff067e['emissiveEn'+'coding']=(_0x513322=_0xe0bdda['emissiveMa'+'p'])==null?void(-0x20f9+-0x8*-0x463+-0x21f):_0x513322['encoding'],_0xff067e['lightMapEn'+'coding']=(_0x1df096=_0xe0bdda['lightMap'])==null?void(0x1*0x16f9+-0x2*0x128f+0xe25):_0x1df096['encoding'],_0xff067e['packedNorm'+'al']=_0x5bbbda(_0xe0bdda['normalMap']),_0xff067e['refraction'+'Tint']=_0x1382a4(_0xe0bdda['refraction'],0x7*0x1b1+0x1de6+0x14de*-0x2),_0xff067e['refraction'+'IndexTint']=_0x1382a4(_0xe0bdda['refraction'+'Index'],(0xe0+-0x29c*-0x7+-0x1323)/(-0xee1+-0x5*-0x57d+-0xc8f+0.5)),_0xff067e['thicknessT'+'int']=_0xe0bdda['useDynamic'+'Refraction']&&_0xe0bdda['thickness']!==-0x1*0x911+0x2176+-0x1864,_0xff067e['specularEn'+'coding']=(_0x2380fa=_0xe0bdda['specularMa'+'p'])==null?void(-0x15f1+0xf8*-0x3+0x18d9):_0x2380fa['encoding'],_0xff067e['sheenEncod'+'ing']=(_0x54205b=_0xe0bdda['sheenMap'])==null?void(-0x24a2+0xb*0x2f9+0x3ef):_0x54205b['encoding'],_0xff067e['aoMapUv']=_0xe0bdda['aoUvSet'],_0xff067e['aoDetail']=!!_0xe0bdda['aoDetailMa'+'p'],_0xff067e['diffuseDet'+'ail']=!!_0xe0bdda['diffuseDet'+'ailMap'],_0xff067e['normalDeta'+'il']=!!_0xe0bdda['normalMap'],_0xff067e['normalDeta'+'ilPackedNo'+'rmal']=_0x5bbbda(_0xe0bdda['normalDeta'+'ilMap']),_0xff067e['diffuseDet'+'ailMode']=_0xe0bdda['diffuseDet'+'ailMode'],_0xff067e['aoDetailMo'+'de']=_0xe0bdda['aoDetailMo'+'de'],_0xff067e['clearCoatG'+'loss']=!!_0xe0bdda['clearCoatG'+'loss'],_0xff067e['clearCoatP'+'ackedNorma'+'l']=_0x5bbbda(_0xe0bdda['clearCoatN'+'ormalMap']),_0xff067e['iorTint']=_0x1382a4(_0xe0bdda['refraction'+'Index'],(0x97c+-0x1*0xa8e+-0x1*-0x113)/(0x1870+0x8d1+-0x214*0x10+0.5)),_0x21e66b['forcePassT'+'hroughSpec'+'ular']&&(_0xff067e['specularEn'+'coding']='linear',_0xff067e['sheenEncod'+'ing']='linear'),_0xff067e['iridescenc'+'eTint']=_0xe0bdda['iridescenc'+'e']!==-0xaa0+-0x1bb1+0x442*0x9,_0xff067e['glossInver'+'t']=_0xe0bdda['glossInver'+'t'],_0xff067e['sheenGloss'+'Invert']=_0xe0bdda['sheenGloss'+'Invert'],_0xff067e['clearCoatG'+'lossInvert']=_0xe0bdda['clearCoatG'+'lossInvert'],_0xff067e['useSpecula'+'rColor']=_0x57edd1,_0xff067e['litOptions']['separateAm'+'bient']=!(0x21b7+0x1a3+-0x2359),_0xff067e['litOptions']['pixelSnap']=_0xe0bdda['pixelSnap'],_0xff067e['litOptions']['ambientSH']=!!_0xe0bdda['ambientSH'],_0xff067e['litOptions']['twoSidedLi'+'ghting']=_0xe0bdda['twoSidedLi'+'ghting'],_0xff067e['litOptions']['occludeSpe'+'cular']=_0xe0bdda['occludeSpe'+'cular'],_0xff067e['litOptions']['occludeSpe'+'cularFloat']=_0xe0bdda['occludeSpe'+'cularInten'+'sity']!==0x7bd+-0x14*-0x169+-0x23f0,_0xff067e['litOptions']['useMsdf']=!!_0xe0bdda['msdfMap'],_0xff067e['litOptions']['msdfTextAt'+'tribute']=!!_0xe0bdda['msdfTextAt'+'tribute'],_0xff067e['litOptions']['alphaToCov'+'erage']=_0xe0bdda['alphaToCov'+'erage'],_0xff067e['litOptions']['opacityFad'+'esSpecular']=_0xe0bdda['opacityFad'+'esSpecular'],_0xff067e['litOptions']['opacityDit'+'her']=_0xe0bdda['opacityDit'+'her'],_0xff067e['litOptions']['cubeMapPro'+'jection']=_0xe0bdda['cubeMapPro'+'jection'],_0xff067e['litOptions']['occludeDir'+'ect']=_0xe0bdda['occludeDir'+'ect'],_0xff067e['litOptions']['useSpecula'+'r']=_0x494ce5,_0xff067e['litOptions']['useSpecula'+'rityFactor']=(_0x5cfaa9||!!_0xe0bdda['specularit'+'yFactorMap'])&&_0xe0bdda['useMetalne'+'ssSpecular'+'Color'],_0xff067e['litOptions']['enableGGXS'+'pecular']=_0xe0bdda['enableGGXS'+'pecular'],_0xff067e['litOptions']['fresnelMod'+'el']=_0xe0bdda['fresnelMod'+'el'],_0xff067e['litOptions']['useRefract'+'ion']=(_0xe0bdda['refraction']||!!_0xe0bdda['refraction'+'Map'])&&(_0xe0bdda['useDynamic'+'Refraction']||_0xff067e['litOptions']['reflection'+'Source']!==vr),_0xff067e['litOptions']['useClearCo'+'at']=!!_0xe0bdda['clearCoat'],_0xff067e['litOptions']['useSheen']=_0xe0bdda['useSheen'],_0xff067e['litOptions']['useIridesc'+'ence']=_0xe0bdda['useIridesc'+'ence']&&_0xe0bdda['iridescenc'+'e']!==0x72*0x57+-0xaf5+-0x943*0x3,_0xff067e['litOptions']['useMetalne'+'ss']=_0xe0bdda['useMetalne'+'ss'],_0xff067e['litOptions']['useDynamic'+'Refraction']=_0xe0bdda['useDynamic'+'Refraction'],_0xff067e['litOptions']['dispersion']=_0xe0bdda['dispersion']>0xa58+0x4*0x3be+-0x1950,_0xff067e['litOptions']['shadowCatc'+'her']=_0xe0bdda['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x25cafe,_0x174a25,_0x103dc4,_0x340f40){_0x25cafe['litOptions']['fog']=_0x174a25['useFog']?_0x340f40['fog']:Kn,_0x25cafe['litOptions']['gamma']=_0x340f40['shaderOutp'+'utGamma'],_0x25cafe['litOptions']['toneMap']=_0x174a25['useTonemap']?_0x340f40['toneMappin'+'g']:nv;let _0x2ac6ee=!(0x6f7+-0xf38+-0x2*-0x421);if(_0x174a25['envAtlas']&&_0x174a25['cubeMap']?(_0x25cafe['litOptions']['reflection'+'Source']=xh,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x174a25['envAtlas']['encoding'],_0x25cafe['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x174a25['cubeMap']['encoding']):_0x174a25['envAtlas']?(_0x25cafe['litOptions']['reflection'+'Source']=vh,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x174a25['envAtlas']['encoding']):_0x174a25['cubeMap']?(_0x25cafe['litOptions']['reflection'+'Source']=Th,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x174a25['cubeMap']['encoding']):_0x174a25['sphereMap']?(_0x25cafe['litOptions']['reflection'+'Source']=hv,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x174a25['sphereMap']['encoding']):_0x174a25['useSkybox']&&_0x103dc4['envAtlas']&&_0x103dc4['skybox']?(_0x25cafe['litOptions']['reflection'+'Source']=xh,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x103dc4['envAtlas']['encoding'],_0x25cafe['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x103dc4['skybox']['encoding'],_0x2ac6ee=!(0xc*-0x269+0x6bc+0x1630)):_0x174a25['useSkybox']&&_0x103dc4['envAtlas']?(_0x25cafe['litOptions']['reflection'+'Source']=vh,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x103dc4['envAtlas']['encoding'],_0x2ac6ee=!(-0x17ad+0x11*-0x77+-0x4*-0x7e5)):_0x174a25['useSkybox']&&_0x103dc4['skybox']?(_0x25cafe['litOptions']['reflection'+'Source']=Th,_0x25cafe['litOptions']['reflection'+'Encoding']=_0x103dc4['skybox']['encoding'],_0x2ac6ee=!(-0x143*-0x10+-0x2033+0xc03)):(_0x25cafe['litOptions']['reflection'+'Source']=vr,_0x25cafe['litOptions']['reflection'+'Encoding']=null),_0x174a25['ambientSH'])_0x25cafe['litOptions']['ambientSou'+'rce']=im,_0x25cafe['litOptions']['ambientEnc'+'oding']=null;else{const _0x1ccf1f=_0x174a25['envAtlas']||(_0x174a25['useSkybox']&&_0x103dc4['envAtlas']?_0x103dc4['envAtlas']:null);_0x1ccf1f&&!_0x174a25['sphereMap']?(_0x25cafe['litOptions']['ambientSou'+'rce']=rm,_0x25cafe['litOptions']['ambientEnc'+'oding']=_0x1ccf1f['encoding']):(_0x25cafe['litOptions']['ambientSou'+'rce']=am,_0x25cafe['litOptions']['ambientEnc'+'oding']=null);}_0x25cafe['litOptions']['skyboxInte'+'nsity']=_0x2ac6ee,_0x25cafe['litOptions']['useCubeMap'+'Rotation']=_0x2ac6ee&&_0x103dc4['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x5c2959,_0x1e8d58,_0x435cd3,_0x59e006,_0x39c95e){if(_0x5c2959['lightMap']=!(-0x36a+-0x23*0xa+0x4c9),_0x5c2959['lightMapCh'+'annel']='',_0x5c2959['lightMapUv']=-0x248e*0x1+-0x14f9+0x3987,_0x5c2959['lightMapTr'+'ansform']=-0x469*-0x3+-0x2037+0x12fc,_0x5c2959['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x2*0xb2+-0x1*-0x313+-0x476),_0x5c2959['dirLightMa'+'p']=!(0xda2+-0x1*0x5a+-0xd47),_0x59e006&&(_0x5c2959['litOptions']['noShadow']=(_0x59e006&wh)!==0x1c09+-0x3d3+0xc1b*-0x2,(_0x59e006&ou)!==0x2398+-0x687+-0x1d11&&(_0x5c2959['lightMapEn'+'coding']=_0x1e8d58['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x5c2959['lightMap']=!(0xa*-0xdc+0x16ba+-0xe22),_0x5c2959['lightMapCh'+'annel']='rgb',_0x5c2959['lightMapUv']=-0xb4e*0x1+-0x2382+0x2ed1,_0x5c2959['lightMapTr'+'ansform']=-0x1*0xcb3+0x8*0x124+0x131*0x3,_0x5c2959['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x435cd3['lightMap'],(_0x59e006&uv)!==-0x12bf*0x1+0x29*0xf1+-0x21*0x9a&&(_0x5c2959['dirLightMa'+'p']=!(0x1e43*0x1+0x53*0x67+0x38*-0x123)),(_0x59e006&pv)!==0x8b6*-0x2+0x4a2*0x7+-0xf02&&(_0x5c2959['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*0x1283+-0x819+-0xa69)))),_0x435cd3['useLightin'+'g']){const _0x363c7b=[],_0x4e4c04=_0x59e006?_0x59e006>>-0x11*-0xbf+0x10dd*-0x1+0x43e:Ss;_0x5c2959['litOptions']['lightMaskD'+'ynamic']=!!(_0x4e4c04&Ss),_0x39c95e&&(Ws['collectLig'+'hts'](ve,_0x39c95e[ve],_0x363c7b,_0x4e4c04),_0x1e8d58['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x39c95e[Ke],_0x363c7b,_0x4e4c04),Ws['collectLig'+'hts'](Ze,_0x39c95e[Ze],_0x363c7b,_0x4e4c04))),_0x5c2959['litOptions']['lights']=_0x363c7b;}else _0x5c2959['litOptions']['lights']=[];_0x5c2959['litOptions']['lights']['length']===0x19f3+-0x76+0x4b*-0x57&&!_0x1e8d58['clusteredL'+'ightingEna'+'bled']&&(_0x5c2959['litOptions']['noShadow']=!(0x6ad+-0x1eb7*-0x1+0x2*-0x12b2));}['_getMapTra'+'nsformID'](_0x28989f,_0x2fd9b8){if(!_0x28989f)return-0x2223+-0x18da+0x3afd*0x1;let _0x4b2eac=this['_mapXForms'][_0x2fd9b8];_0x4b2eac||(_0x4b2eac=[],this['_mapXForms'][_0x2fd9b8]=_0x4b2eac);for(let _0x106418=0x9*0xa2+0x52*0x1d+-0x4*0x3bf;_0x106418<_0x4b2eac['length'];_0x106418++)if(G_(_0x4b2eac[_0x106418][-0x26d6+-0x5f*-0xb+0x22c1]['value'],_0x28989f[0x26d9+-0x18cc+-0xe0d]['value'])&&G_(_0x4b2eac[_0x106418][-0x2551*0x1+0x171a+0xe38]['value'],_0x28989f[0x1b54+-0x3*-0xca3+-0x413c]['value']))return _0x106418+(0xf*0x91+-0xcb0+0x432);return _0x4b2eac['push'](_0x28989f);}}function rt(_0x2f29c2,_0x1a4176=!(0x3df*-0x5+0xb88+0x1*0x7d3),_0x38763b=!(0x131*0xc+0x1*-0xdd3+-0x79)){const _0x78e026={};return _0x78e026[_0x2f29c2+'Map']='texture',_0x78e026[_0x2f29c2+'MapTiling']='vec2',_0x78e026[_0x2f29c2+'MapOffset']='vec2',_0x78e026[_0x2f29c2+('MapRotatio'+'n')]='number',_0x78e026[_0x2f29c2+'MapUv']='number',_0x1a4176&&(_0x78e026[_0x2f29c2+'MapChannel']='string',_0x38763b&&(_0x78e026[_0x2f29c2+('VertexColo'+'r')]='boolean',_0x78e026[_0x2f29c2+('VertexColo'+'rChannel')]='string')),_0x78e026;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0xcff*-0x2+-0x869+0x1*0x2267),!(0x2492+0x1*0x1077+-0x3508)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x13*0x1ad+-0x11*-0x71+-0x1*0x2758),!(0xbe4+0x47b+-0x105e)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x1*-0x45d+-0x1*0x383+-0xd9)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x5*0x4ef+0x14c*-0x2+-0x1*-0x1b44)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x17*-0x8c+-0xe9a+0x207)),'normalDetailMapBumpiness':'number',...rt('height',!(0x1fd*0x3+0x460+-0xa57),!(0x3b7*-0x7+0x1357*0x1+0x6ab)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x5949bf=>{this['_'+_0x5949bf]=Kc[_0x5949bf]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x170c53){return super['copy'](_0x170c53),Object['keys'](Kc)['forEach'](_0x17dcc4=>{this[_0x17dcc4]=_0x170c53[_0x17dcc4];}),this['userAttrib'+'utes']=new Map(_0x170c53['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x4571f9,_0x4a7c5a){this['userAttrib'+'utes']['set'](_0x4a7c5a,_0x4571f9);}['_setParame'+'ter'](_0x493888,_0xfb104d){no['add'](_0x493888),this['setParamet'+'er'](_0x493888,_0xfb104d);}['_setParame'+'ters'](_0x2a1af5){_0x2a1af5['forEach'](_0x5e3d90=>{this['_setParame'+'ter'](_0x5e3d90['name'],_0x5e3d90['value']);});}['_processPa'+'rameters'](_0x2ebfe7){const _0x45c166=this[_0x2ebfe7];_0x45c166['forEach'](_0x51c8e9=>{no['has'](_0x51c8e9)||delete this['parameters'][_0x51c8e9];}),this[_0x2ebfe7]=no,no=_0x45c166,no['clear']();}['_updateMap'](_0x3ef0f8){const _0x6e8f36=_0x3ef0f8+'Map',_0x2604de=this[_0x6e8f36];if(_0x2604de){this['_setParame'+'ter']('texture_'+_0x6e8f36,_0x2604de);const _0x6e8d4a=_0x6e8f36+'Transform',_0x2a6573=this['getUniform'](_0x6e8d4a);_0x2a6573&&this['_setParame'+'ters'](_0x2a6573);}}['_allocUnif'+'orm'](_0x5ef376,_0x5d9660){let _0x33bd06=this['_uniformCa'+'che'][_0x5ef376];return _0x33bd06||(_0x33bd06=_0x5d9660(),this['_uniformCa'+'che'][_0x5ef376]=_0x33bd06),_0x33bd06;}['getUniform'](_0x1ecd62,_0x98d68d,_0x210ba6){return bv[_0x1ecd62](this,_0x98d68d,_0x210ba6);}['updateUnif'+'orms'](_0x1a8ac9,_0x2fd093){const _0x510a35=_0x4e2fae=>this['getUniform'](_0x4e2fae,_0x1a8ac9,_0x2fd093);this['_setParame'+'ter']('material_a'+'mbient',_0x510a35('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x510a35('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0xb71*0x3+-0x1138+-0x16*0xc7)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x510a35('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x510a35('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x510a35('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0x207*-0x1+-0xa01*-0x2+0x1609*-0x1&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1a7e+-0x2a*-0x2b+-0x218c&&this['emissive']['g']===0x1*0x7a9+0x5f2*-0x6+-0x1c03*-0x1&&this['emissive']['b']===-0x2a7*0x7+0xd69*-0x2+0x2d63&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x510a35('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x212e+-0x33d*-0x4+-0x1*-0x143a&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1c1e+0x2*-0x8f5+0x1*0x2e08&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x510a35('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x5*0x7cf+0x2059+-0x4764?0x6b*0x1a+-0x1449+0x96b:(0x20ae+0x1aac+-0x3b59)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1996+-0x2e1*-0x1+0x16b6)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x510a35('cubeMapPro'+'jectionBox'));for(const _0x5bbf8e in bn)this['_updateMap'](_0x5bbf8e);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x510a35('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x1a8ac9,_0x2fd093);}['updateEnvU'+'niforms'](_0x269d27,_0x56775a){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x56775a['envAtlas']&&_0x56775a['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x56775a['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x56775a['skybox'])):_0x56775a['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x56775a['envAtlas']):_0x56775a['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x56775a['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x134355){const {device:_0x13d5bd,scene:_0x4acfe3,pass:_0x43a1e0,objDefs:_0x42acca,sortedLights:_0x38a124,cameraShaderParams:_0x43380b}=_0x134355;this['updateEnvU'+'niforms'](_0x13d5bd,_0x4acfe3);const _0x39fb4a=Si['get'](_0x13d5bd)['getByIndex'](_0x43a1e0),_0x128ca6=_0x43a1e0===Zn||_0x43a1e0===Rl||_0x39fb4a['isShadow'];let _0x142850=_0x128ca6?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x142850['defines']=$t['getCoreDef'+'ines'](this,_0x134355),_0x128ca6?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x142850,_0x4acfe3,this,_0x42acca,_0x43a1e0,_0x38a124):this['shaderOptB'+'uilder']['updateRef'](_0x142850,_0x4acfe3,_0x43380b,this,_0x42acca,_0x43a1e0,_0x38a124),this['useFog']||_0x142850['defines']['set']('FOG','NONE'),_0x142850['defines']['set']('TONEMAP',ov[_0x142850['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x142850=this['onUpdateSh'+'ader'](_0x142850));const _0x476681=new Ad(_0x134355['viewUnifor'+'mFormat'],_0x134355['viewBindGr'+'oupFormat'],_0x134355['vertexForm'+'at']),_0x27564d=Hn(_0x13d5bd);_0x27564d['register']('standard',Jd);const _0x4f37e9=_0x27564d['getProgram']('standard',_0x142850,_0x476681,this['userId']);return this['_dirtyShad'+'er']=!(-0x1ef1+-0xd71+0x2c63),_0x4f37e9;}['destroy'](){for(const _0x145fa5 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x145fa5]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x339eb0,_0x8077e8)=>{bv[_0x339eb0]=_0x8077e8;},um=(_0x380bcb,_0x4e959b,_0x460b00,_0x5c0053)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x380bcb,{'get':_0x5c0053||function(){return this['_'+_0x380bcb];},'set':_0x460b00}),Kc[_0x380bcb]={'value':_0x4e959b};},Sb=_0x330c53=>{const _0xc6e3c4='_'+_0x330c53['name'],_0x26c966=_0x330c53['dirtyShade'+'rFunc']||(()=>!(-0x1*-0x138e+0x2*-0xa18+0x1*0xa2)),_0x3b6227=function(_0x1d4bb0){const _0x21e47b=this[_0xc6e3c4];_0x21e47b!==_0x1d4bb0&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x26c966(_0x21e47b,_0x1d4bb0),this[_0xc6e3c4]=_0x1d4bb0);};um(_0x330c53['name'],()=>_0x330c53['defaultVal'+'ue'],_0x3b6227,_0x330c53['getterFunc']);},yb=_0x2544f2=>{const _0x2db6a3='_'+_0x2544f2['name'],_0x2f6f36=_0x2544f2['dirtyShade'+'rFunc']||(()=>!(0xfc*-0xb+-0x19*0xbe+0x1d62)),_0x11eeb9=function(_0x2e39e2){const _0x3dd70f=this[_0x2db6a3];_0x3dd70f['equals'](_0x2e39e2)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2f6f36(_0x3dd70f,_0x2e39e2),this[_0x2db6a3]=_0x3dd70f['copy'](_0x2e39e2));};um(_0x2544f2['name'],()=>_0x2544f2['defaultVal'+'ue']['clone'](),_0x11eeb9,_0x2544f2['getterFunc']);},Es=_0x19af66=>_0x19af66['defaultVal'+'ue']&&_0x19af66['defaultVal'+'ue']['clone']?yb(_0x19af66):Sb(_0x19af66);function et(_0x4b2148,_0x5e6422='rgb',_0x35c15e=!(0x2024+0x517*0x1+-0x253b),_0x2cb5a2=-0xf26+-0x22b8+0x1*0x31de){bn[_0x4b2148]=_0x5e6422['length']||-(0x1359+-0x250c+0x11b4),Es({'name':_0x4b2148+'Map','defaultValue':null,'dirtyShaderFunc':(_0x1e0a1c,_0x20e58b)=>!!_0x1e0a1c!=!!_0x20e58b||_0x1e0a1c&&(_0x1e0a1c['type']!==_0x20e58b['type']||_0x1e0a1c['format']!==_0x20e58b['format'])}),Es({'name':_0x4b2148+'MapTiling','defaultValue':new J(-0x3*0x509+0x1517*-0x1+0x3*0xc11,-0x680+0x1315*0x1+-0xc94)}),Es({'name':_0x4b2148+'MapOffset','defaultValue':new J(-0x2*-0x2a0+0x14*-0x53+0x13c,0x895*-0x1+0xa3*0x2e+-0x14b5)}),Es({'name':_0x4b2148+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x4b2148+'MapUv','defaultValue':_0x2cb5a2}),_0x5e6422&&(Es({'name':_0x4b2148+'MapChannel','defaultValue':_0x5e6422}),_0x35c15e&&(Es({'name':_0x4b2148+('VertexColo'+'r'),'defaultValue':!(-0x132a*-0x1+0xee6*0x1+-0x220f)}),Es({'name':_0x4b2148+('VertexColo'+'rChannel'),'defaultValue':_0x5e6422})));const _0x3a0bf7=_0x4b2148+'MapTiling',_0x157633=_0x4b2148+'MapOffset',_0x3b0045=_0x4b2148+('MapRotatio'+'n'),_0x4f8927=_0x4b2148+('MapTransfo'+'rm');Pd(_0x4f8927,(_0x1454c1,_0x55343e,_0x570fca)=>{const _0x6b257d=_0x1454c1[_0x3a0bf7],_0x111ee2=_0x1454c1[_0x157633],_0x4d7e94=_0x1454c1[_0x3b0045];if(_0x6b257d['x']===-0x476+-0x8df+0xd56&&_0x6b257d['y']===-0x5a8+0x2077+-0x1ace&&_0x111ee2['x']===-0xd3e+-0x5b+-0x1*-0xd99&&_0x111ee2['y']===0x1*-0x7b7+-0x11a7+0x195e&&_0x4d7e94===-0x2630+0x216a+0x4c6)return null;const _0x45a796=_0x1454c1['_allocUnif'+'orm'](_0x4f8927,()=>[{'name':'texture_'+_0x4f8927+'0','value':new Float32Array(-0x1e65*0x1+0x193f+0x1*0x529)},{'name':'texture_'+_0x4f8927+'1','value':new Float32Array(-0x244f+0x26b6+-0x66*0x6)}]),_0xa0e159=Math['cos'](_0x4d7e94*Y['DEG_TO_RAD']),_0x2d31c7=Math['sin'](_0x4d7e94*Y['DEG_TO_RAD']),_0x3a76ee=_0x45a796[0x15*0xdf+-0x1a69+0x81e]['value'];_0x3a76ee[-0x1*-0xc02+-0x2191+-0x158f*-0x1]=_0xa0e159*_0x6b257d['x'],_0x3a76ee[0x3*-0x7be+-0x1*0x366+0x1aa1]=-_0x2d31c7*_0x6b257d['y'],_0x3a76ee[0x588*-0x2+0x1*-0x295+0xda7]=_0x111ee2['x'];const _0x15a603=_0x45a796[0x1012+0x79f+-0x17b0]['value'];return _0x15a603[0x3*-0x4bd+0xbc3+-0x4*-0x9d]=_0x2d31c7*_0x6b257d['x'],_0x15a603[-0x1a23*-0x1+0x1341+-0x2d63]=_0xa0e159*_0x6b257d['y'],_0x15a603[-0x1*-0x122b+0x1*0x1ad1+-0x167d*0x2]=-0x1*0x2216+-0x297+0x24ae-_0x6b257d['y']-_0x111ee2['y'],_0x45a796;});}function Ra(_0x26fe59,_0x5f0678){Es({'name':_0x26fe59,'defaultValue':_0x5f0678,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x412+-0x19c*0xf+0x1c36),this['_'+_0x26fe59];}}),Pd(_0x26fe59,(_0xfcd807,_0x40576c,_0x434402)=>{const _0x12c23f=_0xfcd807['_allocUnif'+'orm'](_0x26fe59,()=>new Float32Array(-0x33d*0x2+0x3d*0x81+-0x1840)),_0x481664=_0xfcd807[_0x26fe59];return oc['linear'](_0x481664),_0x12c23f[-0x646*-0x1+-0x72f*0x2+0x818]=oc['r'],_0x12c23f[0x1c0b+-0x7c5+0x1445*-0x1]=oc['g'],_0x12c23f[0x26ff*-0x1+-0x18d1+0x3fd2]=oc['b'],_0x12c23f;});}function ze(_0x475c17,_0x100620,_0x1f0e7c){Es({'name':_0x475c17,'defaultValue':_0x100620,'dirtyShaderFunc':(_0x99a7cd,_0x37f5d3)=>(_0x99a7cd===-0x1407+0xb0b+0x8fc||_0x99a7cd===0x1563+0xa*-0x34+0x2*-0x9ad)!=(_0x37f5d3===0xf43*-0x2+0x216f+-0x2e9||_0x37f5d3===0x404*0x3+-0x60*-0x7+0xeab*-0x1)}),Pd(_0x475c17,_0x1f0e7c);}function oo(_0x2c57d5,_0x5be819){Es({'name':_0x2c57d5,'defaultValue':null,'dirtyShaderFunc':(_0x384d2e,_0x36da79)=>!!_0x384d2e==!!_0x36da79}),Pd(_0x2c57d5,_0x5be819);}function ke(_0x435140,_0x4c3334){Es({'name':_0x435140,'defaultValue':_0x4c3334});}function vb(){Ra('ambient',new ie(0x179*-0x16+0x9e3*-0x3+0x30*0x14b,-0x1c2b+0x1ac5+0x167,-0x1c84+0x1161*-0x1+0x7d*0x5e)),Ra('diffuse',new ie(-0x8b*0x27+-0x560+0x1a8e,-0xe03+-0x9*-0x281+-0x885,-0x2661+0x7b7+0x1eab)),Ra('specular',new ie(-0x160b+-0x2685+0x4c*0xcc,0x20ae+0x2*0x9f7+-0x349c,0x18e*-0x4+0x68b*-0x3+0x19d9)),Ra('emissive',new ie(-0x293*-0x4+0x969*-0x3+0x11ef,-0x1d3f*0x1+0x6d*-0x18+0x2777,-0x1cd8+0xe5e*-0x1+0x2b36)),Ra('sheen',new ie(-0x1a5*0x6+0x1dbc+-0x13dd,-0x1*-0x16ce+-0xfa4+-0x729,0x1af*-0xd+-0xb23+0x2107)),Ra('attenuatio'+'n',new ie(0x37*-0x3e+0x2458+-0x47*0x53,0xb0d+0x1844+0x4*-0x8d4,-0x17bf*-0x1+0x13ba*-0x1+-0x404)),ze('emissiveIn'+'tensity',0x22d9+-0x65*0x62+0x3d2),ze('specularit'+'yFactor',-0x1e6f+-0x255e+-0x1*-0x43ce),ze('sheenGloss',0x585+-0x2*-0x76d+-0x145f),ze('gloss',0x12af+0x210+-0x14bf+0.25),ze('aoIntensit'+'y',-0x9b7+-0x2185*0x1+0x2b3d),ze('heightMapF'+'actor',0x6*-0x22d+-0x1*0x1260+0x1f6f,(_0x29f84e,_0x5e77ba,_0x36bac7)=>_0x29f84e['heightMapF'+'actor']*(-0x1610+-0x2*-0x767+-0x1*-0x742+0.025)),ze('opacity',0x28d*0xa+0x11f1+-0x2b72),ze('alphaFade',-0x17f*-0xa+0x12ca*-0x1+0x3d5),ze('alphaTest',-0x696+0x171c+0x2c1*-0x6),ze('bumpiness',0xb9c*-0x2+0x247*0x2+0x213*0x9),ze('normalDeta'+'ilMapBumpi'+'ness',-0x48*0x83+-0x368*0x1+0x2841*0x1),ze('reflectivi'+'ty',0x17*-0x6b+-0x1187+0x1b25),ze('occludeSpe'+'cularInten'+'sity',-0x759+-0x5ff+0x33*0x43),ze('refraction',0xd18*0x1+0x1*0xb35+-0x184d*0x1),ze('refraction'+'Index',(0xfed+-0x2045+-0x117*-0xf)/(-0xdad+0xd86+0x28+0.5)),ze('dispersion',-0x1*-0x1dda+0x21a8*-0x1+0x3ce),ze('thickness',-0x526*0x2+0x959+0xf3),ze('attenuatio'+'nDistance',-0x254c+0x250b+0x41),ze('metalness',0x14e+-0x1a*-0x42+-0x801),ze('anisotropy'+'Intensity',-0x8d9+0x61*-0x39+0x1e72),ze('anisotropy'+'Rotation',-0x1804+-0x5bf+0x191*0x13),ze('clearCoat',-0x1*-0x1de0+-0x5*0x751+-0x6b5*-0x1),ze('clearCoatG'+'loss',0x16fb*-0x1+-0xc4*-0x5+0x1328),ze('clearCoatB'+'umpiness',0x2434+0x214c*-0x1+-0x1*0x2e7),ze('aoUvSet',-0x952*0x2+0x1*-0xc73+0x1f17,null),ze('iridescenc'+'e',0x16e6+0xe21*-0x1+0x5*-0x1c1),ze('iridescenc'+'eRefractio'+'nIndex',(-0x49*0x81+0x1a*-0xc2+-0xe*-0x409)/(-0xd66+0x4*-0x483+-0x1*-0x1f73+0.5)),ze('iridescenc'+'eThickness'+'Min',0x1f2b+-0x1*-0x17f5+-0x1f8*0x1c),ze('iridescenc'+'eThickness'+'Max',0xbe+0xeb7+-0xf75),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x44ce86,_0x4ee59e,_0x113165)=>{const _0x11b283=_0x44ce86['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1f32*0x1+0x771*-0x5+0x606)},{'name':'envBoxMax','value':new Float32Array(-0x24f+-0x1af*0x13+0x224f)}]),_0x255a06=_0x44ce86['cubeMapPro'+'jectionBox']['getMin'](),_0x29728e=_0x11b283[0x472+0x415+-0x3b*0x25]['value'];_0x29728e[-0xb*-0x3+0x2b*0xb+0x1*-0x1fa]=_0x255a06['x'],_0x29728e[-0x2*0x453+0x73*0x9+0x49c]=_0x255a06['y'],_0x29728e[-0x1c0e+-0xfc*0x5+-0x2*-0x107e]=_0x255a06['z'];const _0x3d2387=_0x44ce86['cubeMapPro'+'jectionBox']['getMax'](),_0x4e5285=_0x11b283[-0x1b19+-0x4*0x26+0xa*0x2c5]['value'];return _0x4e5285[0x2237+-0x4*0x10f+-0x1dfb]=_0x3d2387['x'],_0x4e5285[0x714+0x40*-0x23+0x1ad]=_0x3d2387['y'],_0x4e5285[-0x55*0x3a+-0x13*0x20e+-0x11*-0x36e]=_0x3d2387['z'],_0x11b283;}),ke('specularTi'+'nt',!(0xe69+-0x2224+0x13bc)),ke('specularit'+'yFactorTin'+'t',!(0x1*-0xf21+0x1*0x455+-0x5*-0x229)),ke('useMetalne'+'ss',!(-0x2c*0x89+-0xc*-0x319+-0xd9f)),ke('useMetalne'+'ssSpecular'+'Color',!(0xea1+0x1af1+-0x2991)),ke('useSheen',!(-0x308+-0x15e3+-0x13f*-0x14)),ke('enableGGXS'+'pecular',!(0x1c25+-0x2530+0x90c)),ke('occludeDir'+'ect',!(0x27*-0xe5+-0xb2d*0x1+0x2e11)),ke('opacityFad'+'esSpecular',!(0x236*-0xf+-0x1*0x10a8+0x18e9*0x2)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x377*-0xa+0xbb8+-0x2e5d)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x63d*0x3+0x1661+-0x2918)),ke('useLightin'+'g',!(0xe0d+0x1a88+-0x3*0xd87)),ke('useTonemap',!(-0xe74+-0x15f+0xfd3)),ke('useSkybox',!(-0x1476+0x102b*0x1+0x44b)),ke('forceUv1',!(-0x1b0f+0x638*-0x6+0x2030*0x2)),ke('pixelSnap',!(0xa63*0x2+-0x14*-0xae+-0x225d)),ke('twoSidedLi'+'ghting',!(0x2*0x782+0x212c+-0x1*0x302f)),ke('nineSliced'+'Mode',void(0x6b*0xa+-0x9a*0x35+0x1bb4)),ke('msdfTextAt'+'tribute',!(0x11*-0x4f+0x1581+0xdb*-0x13)),ke('useIridesc'+'ence',!(-0x1cae+-0x2*-0x11c9+0x1*-0x6e3)),ke('glossInver'+'t',!(-0x6*0x14+0x17c9+0x1*-0x1750)),ke('sheenGloss'+'Invert',!(0x2*0x258+-0xd6*0x20+0x1611)),ke('clearCoatG'+'lossInvert',!(-0x1d92+0x5*0x4e5+0x51a)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x10c7+-0x44d+0x707*0x3)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0xd*-0x10+0x16e0+0x160f*-0x1)),et('ao','g'),et('light','rgb',!(0x61*0x22+-0x2c8+-0xa1a*0x1),-0x159*-0x3+0x7c0*0x1+-0xbca),et('msdf',''),et('diffuseDet'+'ail','rgb',!(0x964*-0x2+0x6e0+0x1*0xbe9)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x79*-0x3a+-0x7fd+-0x136c)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x50e7c2=function(){return this['_prefilter'+'edCubemaps'];},_0x2b7930=function(_0x293aea){const _0x3e56f3=this['_prefilter'+'edCubemaps'];_0x293aea=_0x293aea||[];let _0x43cbe7=!(0x3*-0x968+-0x3e7*-0x2+-0x146b*-0x1),_0x15e0e0=!(0x5*0x669+0x104d+-0x305a);for(let _0x3a21a1=0x2*0x5ce+-0x2347+-0x1*-0x17ab;_0x3a21a1<-0x9e+0x161c+-0x394*0x6;++_0x3a21a1){const _0x22abb5=_0x293aea[_0x3a21a1]||null;_0x3e56f3[_0x3a21a1]!==_0x22abb5&&(_0x3e56f3[_0x3a21a1]=_0x22abb5,_0x43cbe7=!(-0xf12+0x5*0x6cf+-0x12f9*0x1)),_0x15e0e0=_0x15e0e0&&!!_0x3e56f3[_0x3a21a1];}_0x43cbe7&&(_0x15e0e0?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3e56f3,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x3*0x269+-0x21c1+0x1a86));},_0x2ab2f9=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x2ab2f9['slice'](),_0x2b7930,_0x50e7c2);}vb();const Rt=class Rt{static['render'](_0x1b5bc8,_0x27de1d){const _0xdad945=_0x27de1d['device'],_0x5468f3=_0x1b5bc8['cells'],_0x3b8e00=_0x1b5bc8['lightsBuff'+'er'],_0x2cf100=_0x3b8e00['boundsMin'],_0x5c060e=_0x3b8e00['boundsDelt'+'a'],_0x4f2009=_0x2cf100['clone']()['add'](_0x5c060e),_0x544819=_0x3b8e00['boundsDelt'+'a']['clone']()['div'](_0x5468f3),_0xc5dbb7=Rt['gridPositi'+'ons'],_0x4d035a=Rt['gridColors'],_0x7ef0c7=new ie(-0x1084*0x2+0x469*0x4+0xf64+0.3,0x207d+0x16aa+0x3727*-0x1+0.3,-0x29f+-0x55*-0x3+0x20*0xd+0.3),_0x36d3df=(_0x3ba638,_0x27bc12,_0x4641df,_0x4391b8,_0x3c8379,_0x9e3793,_0x52ef94,_0x632ac,_0x3dcf89)=>{for(let _0x1f915d=-0x1436+0x6c+0x2*0x9e5;_0x1f915d<=_0x3ba638;_0x1f915d++)for(let _0x18d625=0x86*0x2c+0x7b9+0x1*-0x1ec1;_0x18d625<=_0x27bc12;_0x18d625++){const _0x883808=_0x4641df+_0x1f915d*_0x4391b8,_0x680a99=_0x3c8379+_0x18d625*_0x9e3793;_0x3dcf89===-0x11d5+-0x1c15+0x2dea?_0xc5dbb7['push'](_0x883808,_0x52ef94,_0x680a99,_0x883808,_0x632ac,_0x680a99):_0x3dcf89===-0x1*0xf5d+-0xa*-0x398+0xa49*-0x2?_0xc5dbb7['push'](_0x883808,_0x680a99,_0x52ef94,_0x883808,_0x680a99,_0x632ac):_0x3dcf89===-0x1a41+-0xe+-0x1*-0x1a51&&_0xc5dbb7['push'](_0x52ef94,_0x883808,_0x680a99,_0x632ac,_0x883808,_0x680a99);}};if(_0x36d3df(_0x5468f3['x'],_0x5468f3['z'],_0x2cf100['x'],_0x544819['x'],_0x2cf100['z'],_0x544819['z'],_0x2cf100['y'],_0x4f2009['y'],-0x1*-0x18a6+-0x1f4b+0x15*0x51),_0x36d3df(_0x5468f3['x'],_0x5468f3['y'],_0x2cf100['x'],_0x544819['x'],_0x2cf100['y'],_0x544819['y'],_0x2cf100['z'],_0x4f2009['z'],-0x9*-0x400+-0xb1+-0x234e),_0x36d3df(_0x5468f3['y'],_0x5468f3['z'],_0x2cf100['y'],_0x544819['y'],_0x2cf100['z'],_0x544819['z'],_0x2cf100['x'],_0x4f2009['x'],0x2498+-0x1*-0x1c45+0x40db*-0x1),_0xc5dbb7['length']){const _0x1a9e6d=_0xc5dbb7['length']/(0x12d7+-0x539*0x6+-0x1*-0xc82);if(_0x1a9e6d!==_0x4d035a['length']/(-0xec0+-0x225+0x6f*0x27)){_0x4d035a['length']=0x2*-0x6f3+0xe1c+-0x36;for(let _0x413b3a=0x149e+0x1fde+-0x347c;_0x413b3a<_0x1a9e6d;_0x413b3a++)_0x4d035a['push'](_0x7ef0c7['r'],_0x7ef0c7['g'],_0x7ef0c7['b'],_0x7ef0c7['a']);}_0x27de1d['drawLineAr'+'rays'](_0xc5dbb7,_0x4d035a),_0xc5dbb7['length']=-0x62*-0x30+-0x1ac+-0x10b4;}let _0x12a862=Rt['mesh'];_0x12a862||(_0x12a862=new Ge(_0xdad945),_0x12a862['clear'](!(0x1cb0+-0x392*-0xa+-0x4064),!(0x1*0xb66+-0x1c2d*0x1+0x1*0x10c7)),Rt['mesh']=_0x12a862);const _0x243209=[],_0x20e488=[],_0x4640ca=[],_0x440483=_0x1b5bc8['_cells']['x'],_0x3ad294=_0x1b5bc8['_cells']['z'],_0x2e69ec=_0x1b5bc8['counts'],_0x258df5=_0x1b5bc8['_maxCellLi'+'ghtCount'],_0x5391ab=new D(),_0x15f4d2=new D(),_0x32353a=new D(),_0x5c3560=_0x5c060e['clone']()['div'](_0x5468f3);let _0x1de3ca=-0x21e7*0x1+-0x36a*-0x2+0x1b13;for(let _0x14fbfd=0xf0*0x27+0xb0*-0x16+-0x8*0x2ae;_0x14fbfd<_0x5468f3['x'];_0x14fbfd++)for(let _0x2037d9=0x201+0xe10+-0x1011;_0x2037d9<_0x5468f3['z'];_0x2037d9++)for(let _0x14a95a=0xb4f+-0x2288+-0x1d*-0xcd;_0x14a95a<_0x5468f3['y'];_0x14a95a++){const _0x1ca8cd=_0x14fbfd+_0x440483*(_0x2037d9+_0x14a95a*_0x3ad294),_0x5b7f96=_0x2e69ec[_0x1ca8cd];if(_0x5b7f96>0x24ae+0x9f0+-0x2e9e){_0x5391ab['x']=_0x2cf100['x']+_0x5c3560['x']*_0x14fbfd,_0x5391ab['y']=_0x2cf100['y']+_0x5c3560['y']*_0x14a95a,_0x5391ab['z']=_0x2cf100['z']+_0x5c3560['z']*_0x2037d9,_0x15f4d2['add2'](_0x5391ab,_0x5c3560),_0x243209['push'](_0x5391ab['x'],_0x5391ab['y'],_0x15f4d2['z']),_0x243209['push'](_0x15f4d2['x'],_0x5391ab['y'],_0x15f4d2['z']),_0x243209['push'](_0x15f4d2['x'],_0x15f4d2['y'],_0x15f4d2['z']),_0x243209['push'](_0x5391ab['x'],_0x15f4d2['y'],_0x15f4d2['z']),_0x243209['push'](_0x15f4d2['x'],_0x5391ab['y'],_0x5391ab['z']),_0x243209['push'](_0x5391ab['x'],_0x5391ab['y'],_0x5391ab['z']),_0x243209['push'](_0x5391ab['x'],_0x15f4d2['y'],_0x5391ab['z']),_0x243209['push'](_0x15f4d2['x'],_0x15f4d2['y'],_0x5391ab['z']),_0x32353a['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x5b7f96/_0x258df5)['round']();for(let _0x1ad610=0x224b+0x9*0x20f+-0x34d2;_0x1ad610<0x1815+-0x2*0x838+-0x79d;_0x1ad610++)_0x20e488['push'](_0x32353a['x'],_0x32353a['y'],_0x32353a['z'],-0xfc*-0x26+0x1*-0xe67+-0x2*0xb80);_0x4640ca['push'](_0x1de3ca*(0x2*-0x92+-0x17b+0x2a7)+(0x13e1+0x2*0xed1+-0x3183),_0x1de3ca*(0x2341+0xedd+-0x1*0x3216)+(0x1cc8+-0x493*-0x5+0x1*-0x33a6),_0x1de3ca*(0x1189+-0x1*0xb61+-0x620)+(0xddc+-0x1*0x22e4+-0x1*-0x150b)),_0x4640ca['push'](_0x1de3ca*(-0x1*0xbfb+-0xb*0x20b+0x4*0x89f)+(-0x232+-0x2*0x9c7+0x3*0x741),_0x1de3ca*(0xab3*0x1+0x21b5+-0x2c60)+(0x2ab*0x5+-0x1623+0x8cd),_0x1de3ca*(0x1554+-0xda*-0x8+-0x1c1c)+(-0x1171+-0xc6*-0x21+-0x35*0x27)),_0x4640ca['push'](_0x1de3ca*(-0x219e+0x6*0x408+-0x976*-0x1)+(-0x3b*0x65+-0x1a18+-0x2f*-0x10d),_0x1de3ca*(0x1201+0x181f*0x1+0x3*-0xe08)+(0x5ba*-0x1+-0x1*-0x10b5+-0xaf6),_0x1de3ca*(0x26f1+0x10c5+0x37ae*-0x1)+(0x1d03+0x1fe4+-0x79c*0x8)),_0x4640ca['push'](_0x1de3ca*(0x1a14+-0x2587*0x1+0xb7b)+(-0xec*-0x1+0x1*-0x2227+0x2142),_0x1de3ca*(0x4ef*-0x5+0xe*0x28e+-0xb11)+(0x240f+-0xd4a+-0x16c0),_0x1de3ca*(0x3*-0x412+-0xf5c+0x1b9a)+(0x13*-0x19c+-0x3*0x373+0x28f3)),_0x4640ca['push'](_0x1de3ca*(0x1*0x652+0x219*0x11+0x29f3*-0x1)+(0x6b*0x33+0xfb5+-0x2503),_0x1de3ca*(-0x2*0x87c+-0x16b*0x9+-0x13*-0x191)+(0x1*-0x7f+-0x3b9*0x5+0x131e),_0x1de3ca*(0xa64+0x9f*-0x9+0xb*-0x6f)+(-0xbf0+0x1dac+-0x11b6*0x1)),_0x4640ca['push'](_0x1de3ca*(0x1*0xdcd+-0x128a+-0x6f*-0xb)+(-0xee+-0xd*0x265+-0x2011*-0x1),_0x1de3ca*(-0x1d23+-0x853+0x257e)+(0x2085+-0xffa+0x97*-0x1c),_0x1de3ca*(-0x14d1+-0x118*0x17+-0x1*-0x2e01)+(0x7*-0x2f5+-0x1c9+0x1682*0x1)),_0x4640ca['push'](_0x1de3ca*(-0x1ea6+-0x10d*-0x1+0x1da1)+(-0x65*-0x1d+0xa0a+0x2*-0xabd),_0x1de3ca*(-0x183*0xb+0x856*-0x3+0x29ab)+(-0x55e+-0x14*-0x157+-0x156e),_0x1de3ca*(-0x308*0x1+0xdf3*-0x1+-0x5*-0x367)+(0x1b*-0xe2+0x210c+-0x16*0x6b)),_0x4640ca['push'](_0x1de3ca*(-0x8*0x3c6+0x173d+0x6fb)+(-0x170b*0x1+-0x2074+0x377f),_0x1de3ca*(-0x245f*0x1+-0x2*0xf28+0x3*0x163d)+(0x4fd+0x449*0x7+-0x22f7),_0x1de3ca*(-0x19*0x181+-0x49*0x86+0x37*0x161)+(0x5*-0x59+-0x29d*0x1+0x45e)),_0x4640ca['push'](_0x1de3ca*(-0x273*-0x8+0x4a2+0x1832*-0x1)+(0x73*-0x17+0x1887*0x1+-0x15*0xad),_0x1de3ca*(-0xf49+0x8*-0x3b0+0x2cd1)+(-0x204b+-0xe00+-0x1*-0x2e4f),_0x1de3ca*(0x20d9+0x22c7+-0xc*0x5a2)+(0x100c+-0x1063+0x59)),_0x4640ca['push'](_0x1de3ca*(-0x1d48+0x8c5+0x148b)+(-0x2476*-0x1+0x273+-0x26e5),_0x1de3ca*(-0xb56*0x3+-0x3c7*0x5+0x34ed)+(-0x25c7+-0x2672*0x1+-0x7a0*-0xa),_0x1de3ca*(-0xf21+-0x79c+-0x16c5*-0x1)+(-0x1b3c+0x1e1d+0xf*-0x31)),_0x4640ca['push'](_0x1de3ca*(0x5fe+0xe9b*-0x2+0x1740)+(0x237+-0xc0c+0xd*0xc2),_0x1de3ca*(0xc*0x2ff+0x1aef+-0x3edb)+(0x201d*0x1+-0x8ff*-0x2+-0x65*0x7f),_0x1de3ca*(0x1f3c+-0x43*-0xd+0x3*-0xb89)+(0x1a05*0x1+-0x7*0x1de+-0xced)),_0x4640ca['push'](_0x1de3ca*(-0xcc+0x94a+0x72*-0x13)+(-0xb43+0xf1d+0x1*-0x3da),_0x1de3ca*(0x1fd+-0x127*0x15+0x163e)+(-0x1dc*-0x1+0xe55*-0x2+0x5*0x55d),_0x1de3ca*(0x57*0x39+-0x2188+-0xad*-0x15)+(-0x5f0+-0x478+-0x1*-0xa6e)),_0x1de3ca++;}}if(_0x1de3ca){if(_0x12a862['setPositio'+'ns'](_0x243209),_0x12a862['setNormals'](new Float32Array(_0x243209['length'])),_0x12a862['setColors3'+'2'](_0x20e488),_0x12a862['setIndices'](_0x4640ca),_0x12a862['update'](js,!(-0xb*0x218+0x1*-0x106d+0x13bb*0x2)),!Rt['meshInstan'+'ce']){const _0x5ac397=new Ut();_0x5ac397['useLightin'+'g']=!(0xe5*0x3+-0x14cb+-0x121d*-0x1),_0x5ac397['emissive']=new ie(-0x3*0x106+-0x210b+0x241e,-0x46a*0x6+0x721*0x1+0x135c,0x1037*0x1+0x2*0xd3c+-0x2aae),_0x5ac397['emissiveVe'+'rtexColor']=!(0x1*-0x8a+0x1bd9*-0x1+0x1c63),_0x5ac397['blendType']=Ed,_0x5ac397['depthWrite']=!(0x2*-0x259+0x1299+0x2*-0x6f3),_0x5ac397['update']();const _0x38dcc7=new Ie('WorldClust'+'ersDebug');_0x38dcc7['worldTrans'+'form']=te['IDENTITY'],_0x38dcc7['_dirtyWorl'+'d']=_0x38dcc7['_dirtyNorm'+'al']=!(0x5*0x6c2+-0x1d2a+-0x7*0xa9),Rt['meshInstan'+'ce']=new He(_0x12a862,_0x5ac397,_0x38dcc7),Rt['meshInstan'+'ce']['cull']=!(-0xdfb+-0x1a15+0x2811);}const _0x58aac0=Rt['meshInstan'+'ce'];_0x27de1d['immediate']['drawMesh'](_0x58aac0['material'],_0x58aac0['node']['worldTrans'+'form'],null,_0x58aac0,_0x27de1d['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0xb*0x362+0x16f*-0xd+-0x129e*-0x3,0x210f+0x9b*-0x33+-0x22d,-0x3+-0x5f7+0x5fb)),h(Rt,'colorHigh',new D(-0xd*-0x19d+0x3*-0x371+0x22*-0x4f,0x3de+-0x1*-0x32d+-0x259*0x3,-0x1*0x2703+0x54a+0x21b9));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x5e38f5=atob(xb);Vi=Uint8Array['from'](_0x5e38f5,_0x31d087=>_0x31d087['charCodeAt'](-0x1*-0x26d5+0x1364+-0x3a39*0x1));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x21b876=0x412*-0x4+0x146*-0x1d+0x2*0x1a9b){h(this,'seed',-0xbdb*-0x1+-0x26f7+0x1b1c),(this['seed']=_0x21b876*(-0x911+0x1bba+0x2b*-0x6f),Av());}['_next'](){this['seed']=(this['seed']+(-0x1a5a+0x1f*0x107+0x17*-0x3d))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x56d+-0x21*0x121+0x1*0x2bad);}['vec4'](_0x106fdd=new re()){return this['_next'](),_0x106fdd['set'](Vi[this['seed']],Vi[this['seed']+(-0x9e*-0x1+-0x22c8+0x222b)],Vi[this['seed']+(-0x24ad*-0x1+0xa7*-0xd+-0x386*0x8)],Vi[this['seed']+(0x2035+0x4cf*0x3+-0x2e9f*0x1)])['mulScalar']((-0x260*-0x2+0x2ea*0x7+-0x1925)/(0x1022*-0x1+0x7*0x1a3+0x5ac));}}const Eb=[new D(-(0x79*0x15+-0x48*-0x69+-0x2774),0x72c+0x2396+0x1561*-0x2,-0x13f*0x9+0x16f3+-0xbbc),new D(0x3*-0x57b+-0x118c*0x2+0x338a,-0x2267+-0x61*-0x53+0x2f4,0xbdd*0x1+0x1a1*-0x1+-0xa3c),new D(-0x9*-0xda+0xcf6+-0x14a0,-(0xd08*-0x1+-0x257*-0xc+0xf0b*-0x1),0x200a+0x3d0+-0x23da),new D(-0xa4*-0x22+0x1aa3+-0x306b,-0x163c+0x1*-0x1759+-0x1*-0x2d96,-0x25d1*-0x1+0x1fe2+-0x45b3),new D(0x15c1+-0x697+0x6*-0x287,-0x1*-0x17e3+-0xb9e+0x3*-0x417,-(-0x626+-0x22b8+0x1*0x28df)),new D(0x266*0xe+0x189b+-0x3a2f,0x29*0xbd+-0x971+-0x14d4,-0x24e7+0x1a2*0x14+0x4*0x110)];class bb{constructor(){h(this,'colors',new Float32Array(-0x1030+-0xc2f*0x2+0x1*0x28a0));}['update'](_0x2c5939,_0x48fec5){const _0x49c345=this['colors'],{r:_0x4ec516,g:_0xdae682,b:_0x11b152}=_0x2c5939;for(let _0x44ea40=0xf67+0x5*0x641+-0x2eac;_0x44ea40<-0x86a+-0x1587+0x1*0x1df7;_0x44ea40++)_0x49c345[_0x44ea40*(-0x1*-0x3f+-0x1ef9+0x81*0x3d)]=_0x4ec516,_0x49c345[_0x44ea40*(-0x1*-0x16fa+-0x1498+-0x25f*0x1)+(-0x527*-0x5+0x2229+0x3*-0x13f9)]=_0xdae682,_0x49c345[_0x44ea40*(0x2f*0x2e+0x106e+-0x18dd)+(0x3*0x6a3+-0x28*0xe5+-0x3*-0x54b)]=_0x11b152;for(let _0x2911d1=0xc0*-0x13+0x1b3a+-0xcfa;_0x2911d1<_0x48fec5['length'];_0x2911d1++){const _0x4f5f1e=_0x48fec5[_0x2911d1];if(_0x4f5f1e['_type']===ve)for(let _0x56b35b=-0x12f5+-0x1aa6+0x91f*0x5;_0x56b35b<0x2*0x869+-0x1330+-0x6*-0x66;_0x56b35b++){const _0x3d840f=Math['max'](Eb[_0x56b35b]['dot'](_0x4f5f1e['_direction']),-0x3*-0x3cb+0x1e1f+-0x2980)*_0x4f5f1e['_intensity'],_0x4d9493=_0x4f5f1e['_color'];_0x49c345[_0x56b35b*(0x10db*-0x1+0xabc+-0x1*-0x622)]+=_0x4d9493['r']*_0x3d840f,_0x49c345[_0x56b35b*(0x5dc+0x2a1*0x1+-0x87a)+(-0x131*0x11+-0x1a31+0x2f*0xfd)]+=_0x4d9493['g']*_0x3d840f,_0x49c345[_0x56b35b*(-0x26b+-0x2060+0x22ce)+(-0x19*0x34+0x1b5a+0xb22*-0x2)]+=_0x4d9493['b']*_0x3d840f;}}}}const Ab=(_0x15003a,_0x191ff8,_0xace247,_0x3a5abc)=>{const _0x251858=new _e(_0x15003a,{'name':''+_0x191ff8+_0xace247,'width':_0xace247,'height':_0xace247,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x1681*0x1+-0x244d+-0x3acf*-0x1)});return _0x251858['lock']()['set'](_0x3a5abc),_0x251858['unlock'](),_0x251858;},Cb=new Kt(),Pb=_0x813938=>Cb['get'](_0x813938,()=>{const _0x15b816=Tb(),_0x1cfbc8=Math['sqrt'](_0x15b816['length']/(-0xd*-0x2db+-0x2587+-0x6c*-0x1));return Ab(_0x813938,'BlueNoise',_0x1cfbc8,_0x15b816);});class va{constructor(_0x319f2b,_0x3b948e){this['texture']=_0x319f2b,this['cached']=!(0xee2+-0x35f+-0xb82),this['renderTarg'+'ets']=_0x3b948e;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x3febb4=this['renderTarg'+'ets'];for(let _0xc832b7=-0x21e1+-0x10f+0x22f0;_0xc832b7<_0x3febb4['length'];_0xc832b7++)_0x3febb4[_0xc832b7]['destroy']();this['renderTarg'+'ets']['length']=-0x1c11+0xd49+-0xb*-0x158;}static['create'](_0x44e884,_0x186d98){let _0x57c654=null;return _0x186d98['_type']===Ke?_0x57c654=this['createCube'+'map'](_0x44e884,_0x186d98['_shadowRes'+'olution'],_0x186d98['_shadowTyp'+'e']):_0x57c654=this['create2dMa'+'p'](_0x44e884,_0x186d98['_shadowRes'+'olution'],_0x186d98['_shadowTyp'+'e']),_0x57c654;}static['createAtla'+'s'](_0x253c74,_0xf94e06,_0x4df09e){const _0x1e74a1=this['create2dMa'+'p'](_0x253c74,_0xf94e06,_0x4df09e),_0x4e5426=_0x1e74a1['renderTarg'+'ets'],_0x1a28ea=_0x4e5426[-0x99e+0x1d2e+-0x8*0x272];for(let _0x4c1c9a=0xdba+0x1*0x221f+-0x2fd9;_0x4c1c9a<0x829*-0x3+-0x15bb+0x2e3b;_0x4c1c9a++)_0x4e5426['push'](_0x1a28ea);return _0x1e74a1;}static['create2dMa'+'p'](_0x73423f,_0x3066ff,_0x26892a){var _0xaeae56;const _0x2f62ac=qi['get'](_0x26892a);w['assert'](_0x2f62ac);let _0x230d6c=_0x2f62ac['format'];_0x230d6c===Ji&&!_0x73423f['textureFlo'+'atRenderab'+'le']&&_0x73423f['textureHal'+'fFloatRend'+'erable']&&(_0x230d6c=od);const _0x353d4d=(_0xaeae56=Nt['get'](_0x230d6c))==null?void(0x2*-0x4f7+-0xc88*0x1+0x23f*0xa):_0xaeae56['name'];let _0x201703=vt;_0x26892a===Jp&&(_0x201703=_0x73423f['extTexture'+'FloatLinea'+'r']?vt:Te),_0x26892a===al&&(_0x201703=Te);const _0x3ca5f3=new _e(_0x73423f,{'profilerHint':eu,'format':_0x230d6c,'width':_0x3066ff,'height':_0x3066ff,'mipmaps':!(-0x1dfc+0x3*-0x655+-0x72*-0x6e),'minFilter':_0x201703,'magFilter':_0x201703,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x353d4d});let _0x1fb101=null;return _0x2f62ac!=null&&_0x2f62ac['pcf']?(_0x3ca5f3['compareOnR'+'ead']=!(-0x1f23+0x1d52+0xf*0x1f),_0x3ca5f3['compareFun'+'c']=hh,_0x1fb101=new gt({'depthBuffer':_0x3ca5f3})):_0x1fb101=new gt({'colorBuffer':_0x3ca5f3,'depth':!(-0x771+0x2250+-0x8f5*0x3)}),_0x73423f['isWebGPU']&&(_0x1fb101['flipY']=!(0x5*0x1f9+-0x1*0x1296+0x8b9)),new va(_0x3ca5f3,[_0x1fb101]);}static['createCube'+'map'](_0x4ab993,_0xb9fdf7,_0x4b0b11){var _0x4da3dd;const _0x149a92=qi['get'](_0x4b0b11);w['assert'](_0x149a92);const _0x2361cd=(_0x4da3dd=Nt['get'](_0x149a92['format']))==null?void(0x14f2+0x21c4+-0x36b6*0x1):_0x4da3dd['name'],_0xbb8aee=_0x4b0b11===al,_0x1bb807=_0xbb8aee?Te:vt,_0x143034=new _e(_0x4ab993,{'profilerHint':eu,'format':_0x149a92==null?void(0x4*0x89f+-0x409*-0x9+-0x46cd):_0x149a92['format'],'width':_0xb9fdf7,'height':_0xb9fdf7,'cubemap':!(-0x1707+0x1941+-0x23a),'mipmaps':!(-0x135a+-0xd29+0x2084),'minFilter':_0x1bb807,'magFilter':_0x1bb807,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x2361cd});_0xbb8aee||(_0x143034['compareOnR'+'ead']=!(0x9*-0x14b+0x2423*0x1+-0x1880),_0x143034['compareFun'+'c']=hh);const _0x42571a=[];for(let _0x4da3ad=0xd10+0x1d*-0x79+-0x37*-0x3;_0x4da3ad<0x3*0x31a+0x22cc+-0x2c14;_0x4da3ad++)_0xbb8aee?_0x42571a['push'](new gt({'colorBuffer':_0x143034,'face':_0x4da3ad,'depth':!(0x1b0*-0xa+0x109d+0x43)})):_0x42571a['push'](new gt({'depthBuffer':_0x143034,'face':_0x4da3ad}));return new va(_0x143034,_0x42571a);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x4526c6){this['size']=Math['floor'](_0x4526c6['w']*(-0x35*-0x99+0xaf9*0x3+-0x3c98)),this['used']=!(0xd36+-0x1*0xc4c+0xe9*-0x1),this['lightId']=-(0xd*0x169+0x1*-0x47c+0x2*-0x6ec),this['rect']=_0x4526c6;}}class Ib{constructor(_0x36109d){this['device']=_0x36109d,this['version']=0x6c2+0x16fa+-0x1dbb,this['shadowAtla'+'sResolutio'+'n']=0x1612+-0x343*0x5+0x23d,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x45*-0x5+0x1dc6+0x4*-0x7c7,this['cookieAtla'+'sResolutio'+'n']=-0x15e0+0xe02+0x1*0x7e2,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x1af*-0x3+0x1268+-0xd5a),'mipmaps':!(0x2*0x1168+0x7c*0x47+-0x1711*0x3),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x11d7*-0x1+0xd35+-0x1f0b),'flipY':!(-0x2146+0x1429*0x1+0xd1d)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(-0x177a+0x185*-0x16+-0x1*-0x38e8,0x3*0x615+-0x93d*-0x3+-0x9f*0x4a),new J(0x8*0x222+0x1866*0x1+-0x2976,0x2*0x9e3+0x72e*0x2+-0x2221),new J(-0xc7a+-0x5*-0x223+0x1cc,-0xa35+0x1bb2+-0x25*0x79),new J(-0x1877*0x1+0x1*-0xd5a+0x25d2,0x18*-0x134+-0x399*-0x1+0x1948),new J(-0x1*0x611+-0xbd1+0x11e4,0xd79*-0x1+0x842+0x537),new J(0xf1b+-0x2291+0x1378,0x164*-0x1+0x1659+-0x9*0x254)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x26ad+0x1af*-0xd+0x7*0x8a7),this['allocateCo'+'okieAtlas'](0xcee+-0x190c+0x6b*0x1d),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x7b9060;(_0x7b9060=this['shadowAtla'+'s'])==null||_0x7b9060['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1045a3,_0x469f8e;(_0x1045a3=this['cookieAtla'+'s'])==null||_0x1045a3['destroy'](),this['cookieAtla'+'s']=null,(_0x469f8e=this['cookieRend'+'erTarget'])==null||_0x469f8e['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x49bac6,_0x2dc8ee=$s){var _0x135253;const _0x2e2e9b=(_0x135253=this['shadowAtla'+'s'])==null?void(-0x883+-0x22*-0x2a+0x2ef*0x1):_0x135253['texture']['format'],_0xf31056=qi['get'](_0x2dc8ee)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x49bac6||_0x2e2e9b!==_0xf31056){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x49bac6,_0x2dc8ee),this['shadowAtla'+'s']['cached']=!(0x10*0x247+0x814+-0x2c84);const _0x3b932f=(0x4f0+-0x1732+0x1246)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x3b932f,_0x3b932f,-(0x95d+-0xc*-0x2b0+-0x299b*0x1)*_0x3b932f,-(-0x23c+-0x12cf*-0x1+-0x1091)*_0x3b932f);}}['allocateCo'+'okieAtlas'](_0x464bec){this['cookieAtla'+'s']['width']!==_0x464bec&&(this['cookieRend'+'erTarget']['resize'](_0x464bec,_0x464bec),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x61*0x36+-0xe1b+0x41*-0x19),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x1988f3=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x6d9*0x1+0xa81+-0x3a8]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x1988f3),this['_shadowAtl'+'asParams'][-0x187a*0x1+-0x216d+-0x51*-0xb7]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0xacd+-0xe3*-0x11+-0x19df]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x3a7c03,_0x29a9b4){let _0x4f2148=_0x29a9b4['atlasSplit'];if(!_0x4f2148){const _0xe65283=Math['ceil'](Math['sqrt'](_0x3a7c03));_0x4f2148=Db,_0x4f2148[0x2292+-0xbd6*-0x3+0x1e*-0x256]=_0xe65283,_0x4f2148['length']=-0x5*-0x37+0x1fd3+-0x1*0x20e5;}if(!((_0x1a69e2,_0x9f7a1b)=>_0x1a69e2['length']===_0x9f7a1b['length']&&_0x1a69e2['every']((_0x258d15,_0x1d18ef)=>_0x258d15===_0x9f7a1b[_0x1d18ef]))(_0x4f2148,this['atlasSplit'])){this['version']++,this['slots']['length']=0x21fe+0x15bb+-0x1*0x37b9,this['atlasSplit']['length']=0x185b+-0x6d*-0x31+-0x2d38,this['atlasSplit']['push'](..._0x4f2148);const _0x4d1436=this['atlasSplit'][0x1850+0x551*-0x5+0x1*0x245];if(_0x4d1436>-0x4*0x878+0x1*0xd8d+0x1454){const _0x5663fa=(0x22cd+-0x17f1+-0xadb)/_0x4d1436;for(let _0x1ca283=0x2108*-0x1+-0x45*-0x8c+-0x4*0x12d;_0x1ca283<_0x4d1436;_0x1ca283++)for(let _0x3c8bd9=-0x1*-0x1a2f+-0x1*0x1525+-0x50a;_0x3c8bd9<_0x4d1436;_0x3c8bd9++){const _0x1a5c95=new re(_0x1ca283*_0x5663fa,_0x3c8bd9*_0x5663fa,_0x5663fa,_0x5663fa),_0x178896=this['atlasSplit'][0x292+-0xba8+0xd*0xb3+_0x1ca283*_0x4d1436+_0x3c8bd9];if(_0x178896>0x247d+0x26bf+-0x4b3b){for(let _0x22a0a7=-0xbb9*-0x3+0x9d*-0x36+-0x20d;_0x22a0a7<_0x178896;_0x22a0a7++)for(let _0x1a3b1f=0x1723+0x1fad+-0x36d0;_0x1a3b1f<_0x178896;_0x1a3b1f++){const _0x1d9259=_0x5663fa/_0x178896,_0x2af58d=new re(_0x1a5c95['x']+_0x22a0a7*_0x1d9259,_0x1a5c95['y']+_0x1a3b1f*_0x1d9259,_0x1d9259,_0x1d9259);this['slots']['push'](new tf(_0x2af58d));}}else this['slots']['push'](new tf(_0x1a5c95));}}else this['slots']['push'](new tf(new re(0x2462*-0x1+-0x3d9*0x3+0x2fed*0x1,-0x3*0x559+0x19fb*-0x1+0x3d2*0xb,0xdec+0x18d5+-0xa0*0x3e,0x1c12+0x3ba+0xa99*-0x3)));this['slots']['sort']((_0x2e8a0f,_0x27e986)=>_0x27e986['size']-_0x2e8a0f['size']);}}['collectLig'+'hts'](_0x4f426f,_0x599ba3){const _0x289ee8=_0x599ba3['cookiesEna'+'bled'],_0x292c70=_0x599ba3['shadowsEna'+'bled'];let _0x14ae0a=!(0x59*-0x4a+-0x70c+-0xaed*-0x3),_0x487b03=!(0x2de+0x525+0x19*-0x52);const _0x2e0396=Mb;return _0x2e0396['length']=-0xa*-0x2dd+0x8e6+-0x962*0x4,(_0x289ee8||_0x292c70)&&(_0x286725=>{for(let _0x350de1=0x8be*-0x3+-0x17*-0x6d+-0x1*-0x106f;_0x350de1<_0x286725['length'];_0x350de1++){const _0x5720a5=_0x286725[_0x350de1];if(_0x5720a5['visibleThi'+'sFrame']){const _0x5b4ab6=_0x292c70&&_0x5720a5['castShadow'+'s'],_0x1f2929=_0x289ee8&&!!_0x5720a5['cookie'];_0x14ae0a||(_0x14ae0a=_0x5b4ab6),_0x487b03||(_0x487b03=_0x1f2929),(_0x5b4ab6||_0x1f2929)&&_0x2e0396['push'](_0x5720a5);}}})(_0x4f426f),_0x2e0396['sort']((_0x5ba3af,_0x8364c5)=>_0x8364c5['maxScreenS'+'ize']-_0x5ba3af['maxScreenS'+'ize']),_0x14ae0a&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x599ba3['shadowType']),_0x487b03&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x14ae0a||_0x487b03)&&this['subdivide'](_0x2e0396['length'],_0x599ba3),_0x2e0396;}['setupSlot'](_0x2f5931,_0x99aa75){_0x2f5931['atlasViewp'+'ort']['copy'](_0x99aa75);const _0xd7fb80=_0x2f5931['numShadowF'+'aces'];for(let _0x353f73=-0x9ee+-0x1917*-0x1+-0x1*0xf29;_0x353f73<_0xd7fb80;_0x353f73++)if(_0x2f5931['castShadow'+'s']||_0x2f5931['_cookie']){if(xi['copy'](_0x99aa75),ef['copy'](_0x99aa75),_0x2f5931['_type']===Ze&&xi['add'](this['scissorVec']),_0x2f5931['_type']===Ke){const _0x41aa67=xi['z']/(0x581+0x706*0x5+-0xa27*0x4),_0xd6f600=this['cubeSlotsO'+'ffsets'][_0x353f73];xi['x']+=_0x41aa67*_0xd6f600['x'],xi['y']+=_0x41aa67*_0xd6f600['y'],xi['z']=_0x41aa67,xi['w']=_0x41aa67,ef['copy'](xi);}if(_0x2f5931['castShadow'+'s']){const _0x4d521d=_0x2f5931['getRenderD'+'ata'](null,_0x353f73);_0x4d521d['shadowView'+'port']['copy'](xi),_0x4d521d['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x5a055a,_0x5ab528,_0x5db4a8){_0x5a055a['atlasViewp'+'ortAllocat'+'ed']=!(-0x124a+-0x4*0x18e+-0x1882*-0x1);const _0x3ae1bb=this['slots'][_0x5ab528];_0x3ae1bb['lightId']=_0x5a055a['id'],_0x3ae1bb['used']=!(0xd62+-0x181f+0x1*0xabd),_0x5db4a8&&(_0x5a055a['atlasSlotU'+'pdated']=!(-0x17e+0x6*0x3fb+-0x1664),_0x5a055a['atlasVersi'+'on']=this['version'],_0x5a055a['atlasSlotI'+'ndex']=_0x5ab528);}['update'](_0x37f8a7,_0x3465a9){this['shadowAtla'+'sResolutio'+'n']=_0x3465a9['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3465a9['cookieAtla'+'sResolutio'+'n'];const _0x3be84a=this['collectLig'+'hts'](_0x37f8a7,_0x3465a9);if(_0x3be84a['length']>-0xdc5+-0x2f7+0x10bc){const _0xb8cc0e=this['slots'];for(let _0x3a1883=0x12*0x85+0x8bf+-0x1219;_0x3a1883<_0xb8cc0e['length'];_0x3a1883++)_0xb8cc0e[_0x3a1883]['used']=!(-0x2c2+0x224a+-0x1f87);const _0x332fad=Math['min'](_0x3be84a['length'],_0xb8cc0e['length']);for(let _0x56dae3=0xe88+-0x136*-0x15+-0x42*0x9b;_0x56dae3<_0x332fad;_0x56dae3++){const _0x101de0=_0x3be84a[_0x56dae3];_0x101de0['castShadow'+'s']&&(_0x101de0['_shadowMap']=this['shadowAtla'+'s']);const _0x34f997=_0xb8cc0e[_0x101de0['atlasSlotI'+'ndex']];if(_0x101de0['atlasVersi'+'on']===this['version']&&_0x101de0['id']===(_0x34f997==null?void(-0x9*-0x11+0x11*0x56+0x55*-0x13):_0x34f997['lightId'])){const _0x97b954=_0xb8cc0e[_0x101de0['atlasSlotI'+'ndex']];_0x97b954['size']===_0xb8cc0e[_0x56dae3]['size']&&!_0x97b954['used']&&this['assignSlot'](_0x101de0,_0x101de0['atlasSlotI'+'ndex'],!(-0xa22+-0x8c3+0x12e6));}}let _0xa66442=0x1ae8+-0x2172+-0x1f*-0x36;for(let _0x35fbcb=0x22a5+0x1*-0xbaa+-0x16fb;_0x35fbcb<_0x332fad;_0x35fbcb++){for(;_0xa66442<_0xb8cc0e['length']&&_0xb8cc0e[_0xa66442]['used'];)_0xa66442++;const _0x48bb21=_0x3be84a[_0x35fbcb];_0x48bb21['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x48bb21,_0xa66442,!(-0x10c3+-0x19d+-0x3*-0x620));const _0x1beded=_0xb8cc0e[_0x48bb21['atlasSlotI'+'ndex']];this['setupSlot'](_0x48bb21,_0x1beded['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x35bd67=>{_0x35bd67['forEach'](_0x1bcfb1=>{_0x1bcfb1['destroy']();});}),this['cache']['clear']();}['getKey'](_0x5602c0){const _0x51482b=_0x5602c0['_type']===Ke,_0x5dfc54=_0x5602c0['_shadowTyp'+'e'],_0xe0d4ec=_0x5602c0['_shadowRes'+'olution'];return _0x51482b+'-'+_0x5dfc54+'-'+_0xe0d4ec;}['get'](_0x26d2a9,_0x49bc7d){const _0x1f13f3=this['getKey'](_0x49bc7d),_0x1c1b07=this['cache']['get'](_0x1f13f3);if(_0x1c1b07&&_0x1c1b07['length'])return _0x1c1b07['pop']();const _0x5f2eb4=va['create'](_0x26d2a9,_0x49bc7d);return _0x5f2eb4['cached']=!(-0x4*-0x6fd+0x1*-0x171d+-0x4d7),_0x5f2eb4;}['add'](_0x14501e,_0x3b5335){const _0x2a9771=this['getKey'](_0x14501e),_0x22a011=this['cache']['get'](_0x2a9771);_0x22a011?_0x22a011['push'](_0x3b5335):this['cache']['set'](_0x2a9771,[_0x3b5335]);}}class Rb extends ys{constructor(_0xd3fe54,_0x9b62a7,_0x463383,_0x472686,_0x3c29f2){super(_0xd3fe54),Ea['setName'](this,this['name']+'-'+_0x463383['_node']['name']),this['requiresCu'+'bemaps']=!(0x6c+0x8cb+-0x936),this['shadowRend'+'erer']=_0x9b62a7,this['light']=_0x463383,this['face']=_0x472686,this['applyVsm']=_0x3c29f2,this['shadowCame'+'ra']=_0x9b62a7['prepareFac'+'e'](_0x463383,null,_0x472686),_0x9b62a7['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x1a6b+-0x117d+-0x8ee*0x1));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1*0xd36+0x2dd*-0xa+0x167*0xb));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x3b2f4a,_0x550b91){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x3b2f4a,this['shadowRend'+'erer']=_0x550b91,this['device']=_0x3b2f4a['device']);}['cull'](_0x335852,_0x2c199e,_0x525019=null){const _0x402b7e=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x335852['visibleThi'+'sFrame']=!(-0x158e+0x1258+0x336),_0x402b7e||_0x335852['_shadowMap']||(_0x335852['_shadowMap']=va['create'](this['device'],_0x335852));const _0x5debac=_0x335852['_type'],_0x5a6439=_0x5debac===Ze?0x6*-0x461+0x1bbb+0x5d*-0x4:0x18*-0xc9+0x1a95+-0x7b7;for(let _0x404be6=0xe*-0x1ee+-0x194*-0x7+-0x7*-0x248;_0x404be6<_0x5a6439;_0x404be6++){const _0x4e6940=_0x335852['getRenderD'+'ata'](null,_0x404be6),_0x5f327d=_0x4e6940['shadowCame'+'ra'];_0x5f327d['nearClip']=_0x335852['attenuatio'+'nEnd']/(0xd24+0xdd8+-0xd3*0x1c),_0x5f327d['farClip']=_0x335852['attenuatio'+'nEnd'];const _0x330e1e=_0x5f327d['_node'],_0x20b7e0=_0x335852['_node'];if(_0x330e1e['setPositio'+'n'](_0x20b7e0['getPositio'+'n']()),_0x5debac===Ze)_0x5f327d['fov']=_0x335852['_outerCone'+'Angle']*(0x8*-0x47d+-0x511*0x5+0x3d3f),_0x330e1e['setRotatio'+'n'](_0x20b7e0['getRotatio'+'n']()),_0x330e1e['rotateLoca'+'l'](-(0x7e3+-0x193b+0x2f3*0x6),-0x2506+0x1*-0x1709+-0x1405*-0x3,-0x1f09+-0x84*0x40+0x4009);else{if(_0x5debac===Ke){if(_0x402b7e){const _0x35cd49=(0x2044+0x1e85+-0x3ec7)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x335852['atlasViewp'+'ort']['z']/(0x5*0x72d+0x3ab*-0x9+-0x2db))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x5f327d['fov']=Math['atan'](0x68a+0x1ede+-0x2567+_0x35cd49)*Y['RAD_TO_DEG']*(-0x127*0x1c+0xe63+0x11e3*0x1);}else _0x5f327d['fov']=0xb8a+0x1bb9*-0x1+0x1089;}}this['renderer']['updateCame'+'raFrustum'](_0x5f327d),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x2c199e,_0x335852,_0x4e6940['visibleCas'+'ters'],_0x5f327d,_0x525019);}}['prepareLig'+'hts'](_0x518301,_0x14749c){let _0x1d9197;for(let _0x5cfd9b=-0x1*-0x8bd+-0x1*0x1eb+-0x6d2;_0x5cfd9b<_0x14749c['length'];_0x5cfd9b++){const _0x526512=_0x14749c[_0x5cfd9b];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x526512)&&_0x526512['atlasViewp'+'ortAllocat'+'ed']){_0x518301['push'](_0x526512);for(let _0xc3a0d5=0x1968+0x1b62+-0x34ca;_0xc3a0d5<_0x526512['numShadowF'+'aces'];_0xc3a0d5++)_0x1d9197=this['shadowRend'+'erer']['prepareFac'+'e'](_0x526512,null,_0xc3a0d5);}}return _0x1d9197;}['buildNonCl'+'usteredRen'+'derPasses'](_0x3c55b8,_0x317d75){for(let _0x19a6c1=-0x1b8f+-0x1f86+0x3b15;_0x19a6c1<_0x317d75['length'];_0x19a6c1++){const _0x30ceed=_0x317d75[_0x19a6c1];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x30ceed)){const _0x190827=_0x30ceed['_type']===Ze,_0x52a93e=_0x30ceed['numShadowF'+'aces'];for(let _0x2aee44=0x133c+0x1b55+-0x2e91;_0x2aee44<_0x52a93e;_0x2aee44++){const _0x1f8b11=new Rb(this['device'],this['shadowRend'+'erer'],_0x30ceed,_0x2aee44,_0x190827);_0x3c55b8['addRenderP'+'ass'](_0x1f8b11);}}}}}class Fb extends ys{constructor(_0x192ac3,_0xae236,_0x22dc2b,_0xccc59e,_0x2d02df){super(_0x192ac3),Ea['setName'](this,this['name']+'-'+_0x22dc2b['_node']['name']),this['shadowRend'+'erer']=_0xae236,this['light']=_0x22dc2b,this['camera']=_0xccc59e,this['allCascade'+'sRendering']=_0x2d02df;}['execute'](){const {light:_0x45b328,camera:_0x362048,shadowRenderer:_0x3f34ca,allCascadesRendering:_0x2dd56b}=this,_0x423194=_0x45b328['numShadowF'+'aces'],_0x139912=_0x45b328['shadowUpda'+'teOverride'+'s'];for(let _0x548f30=0x4*-0x177+0x53*0x10+0xac;_0x548f30<_0x423194;_0x548f30++)(_0x139912==null?void(-0x1984+-0x1*0x2263+0x3be7):_0x139912[_0x548f30])!==Ps&&_0x3f34ca['renderFace'](_0x45b328,_0x362048,_0x548f30,!_0x2dd56b),(_0x139912==null?void(0x342*0x1+-0x1*0x205f+0x1d1d):_0x139912[_0x548f30])===xr&&(_0x139912[_0x548f30]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x22ccad,_0x411956,_0x46b820){Xe[0x244b+0x95c*-0x1+-0x1aef]['x']=Xe[0x1bc*0x2+-0x1ff2+-0x1c7b*-0x1]['x']=Xe[-0x5a1*0x2+0x2d9*-0x7+-0x475*-0x7]['x']=Xe[-0x1*0xa37+0x5*-0x5cd+0x79*0x53]['x']=_0x411956['x'],Xe[-0x1fd7+0x61*0x2d+0x7*0x21d]['y']=Xe[0x2b*-0xdf+0x2*0x50d+-0xe2*-0x1f]['y']=Xe[-0x8b6+0x50*-0xd+0xccd]['y']=Xe[-0x3*0x676+-0x1*0x1c33+0x7ef*0x6]['y']=_0x411956['y'],Xe[-0x13cc+-0x10e7*0x1+0x1*0x24b5]['z']=Xe[0x3*-0x6f3+0x1bf6+0x38d*-0x2]['z']=Xe[0x8f6+-0x1198+0x8a8]['z']=Xe[0x10*0x12a+-0xe*0x10+0x1*-0x11b9]['z']=_0x411956['z'],Xe[-0x998+-0x3*0x7b4+0x20b8]['x']=Xe[0x8f4*-0x3+0x575*0x6+0x5dd*-0x1]['x']=Xe[0x13f3+0xe*0x10a+0x1*-0x2279]['x']=Xe[-0x6*0x4a3+0x220c+0x633*-0x1]['x']=_0x46b820['x'],Xe[-0xc70+-0xf13+0x1b83]['y']=Xe[-0x1*0x267d+0x25ef+0x24*0x4]['y']=Xe[-0x135d+-0x9a0+-0xa5*-0x2d]['y']=Xe[-0x2569+-0x85f*-0x2+0x1*0x14b1]['y']=_0x46b820['y'],Xe[0x173*0x17+0x77*0x3a+-0x3c4b]['z']=Xe[-0x26b3+0x1729+0xf8b]['z']=Xe[0xd6*-0x9+-0x3a*-0x3e+0x77*-0xe]['z']=Xe[-0xbaf*-0x2+-0x162c+0x7*-0x2b]['z']=_0x46b820['z'];let _0x5b74a8=0x425a6e447*-0x1+0xb02*0x31d25+-0x73534*-0xe13b,_0x5310f0=-(-0xcbd05*-0x4ce7+0x2a9c95dfe*0x1+0x60d997c6*-0xb);for(let _0x1331c1=-0xb6b+0x251*0xb+-0x1c2*0x8;_0x1331c1<-0xba5*-0x3+0x9db+-0x2cc2;++_0x1331c1){_0x22ccad['transformP'+'oint'](Xe[_0x1331c1],Xe[_0x1331c1]);const _0x1276f8=Xe[_0x1331c1]['z'];_0x1276f8<_0x5b74a8&&(_0x5b74a8=_0x1276f8),_0x1276f8>_0x5310f0&&(_0x5310f0=_0x1276f8);}return sf['min']=_0x5b74a8,sf['max']=_0x5310f0,sf;}class kb{constructor(_0x566bcf,_0x23b802){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x566bcf,this['shadowRend'+'erer']=_0x23b802,this['device']=_0x566bcf['device']);}['cull'](_0x1fade4,_0x17045a,_0x54a028,_0xb16f64=null){_0x1fade4['visibleThi'+'sFrame']=!(-0x212b+-0xb80+0x2cab),_0x1fade4['_shadowMap']||(_0x1fade4['_shadowMap']=va['create'](this['device'],_0x1fade4));const _0x16bfae=_0x54a028['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x1fade4,_0x16bfae,Math['min'](_0x54a028['_farClip'],_0x1fade4['shadowDist'+'ance']));const _0x4e12ac=_0x1fade4['shadowUpda'+'teOverride'+'s'];for(let _0x36155e=-0xfb*0x22+0x22ff+0x1*-0x1a9;_0x36155e<_0x1fade4['numCascade'+'s']&&(_0x4e12ac==null?void(-0x5e*0x24+0x2347+-0x160f*0x1):_0x4e12ac[_0x36155e])!==Ps;_0x36155e++){const _0x4be057=_0x1fade4['getRenderD'+'ata'](_0x54a028,_0x36155e),_0x369327=_0x4be057['shadowCame'+'ra'];_0x369327['renderTarg'+'et']=_0x1fade4['_shadowMap']['renderTarg'+'ets'][-0x1977+-0x1b03+0x8bf*0x6],_0x4be057['shadowView'+'port']['copy'](_0x1fade4['cascades'][_0x36155e]),_0x4be057['shadowScis'+'sor']['copy'](_0x1fade4['cascades'][_0x36155e]);const _0x289894=_0x369327['_node'],_0x328fb2=_0x1fade4['_node'];_0x289894['setPositio'+'n'](_0x328fb2['getPositio'+'n']()),_0x289894['setRotatio'+'n'](_0x328fb2['getRotatio'+'n']()),_0x289894['rotateLoca'+'l'](-(-0x1*-0x6d9+-0x264+-0x41b*0x1),0x467+-0x2*-0x11f6+-0x2853,-0x4b9+-0x25c3+0x2a7c);const _0x49ded5=_0x36155e===-0xd*-0x8d+0x13be+0x1*-0x1ae7?_0x16bfae:_0x1fade4['_shadowCas'+'cadeDistan'+'ces'][_0x36155e-(-0x6f*0x49+-0x5*0x7c6+0xbc1*0x6)],_0x1cf30f=_0x1fade4['_shadowCas'+'cadeDistan'+'ces'][_0x36155e],_0x2fcc26=_0x54a028['getFrustum'+'Corners'](_0x49ded5,_0x1cf30f);Ti['set'](0x1*0x204b+-0x20ee+0x1*0xa3,-0x14b+0xc*-0x20e+0x7*0x3b5,0x15ba+-0x3*0x23+0x6b*-0x33);const _0x345701=_0x54a028['node']['getWorldTr'+'ansform']();for(let _0x47639f=0x1426+-0x3f8*-0x4+-0x6a*0x57;_0x47639f<-0x254f+-0x136a+0x38c1;_0x47639f++)_0x345701['transformP'+'oint'](_0x2fcc26[_0x47639f],_0x2fcc26[_0x47639f]),Ti['add'](_0x2fcc26[_0x47639f]);Ti['mulScalar']((-0xa*0x2cd+-0xb*0xb7+0x23e0)/(-0x1*-0x2663+-0x132f*-0x1+-0x1e*0x1eb));let _0x10627f=-0x2285+-0x26f+0x127a*0x2;for(let _0x9537e2=0x26ad+-0x932+0x1*-0x1d7b;_0x9537e2<0x1e5b+0x2*-0xd0f+-0x435;_0x9537e2++){const _0x1aa521=_0x2fcc26[_0x9537e2]['sub'](Ti)['length']();_0x1aa521>_0x10627f&&(_0x10627f=_0x1aa521);}const _0x2bfa47=_0x289894['right'],_0xd965cc=_0x289894['up'],_0x4770c3=_0x289894['forward'],_0x54ab9a=(0x106*0x14+-0x26d8+0x2a0*0x7+0.25)*_0x1fade4['_shadowRes'+'olution']/_0x10627f,_0x34075c=Math['ceil'](Ti['dot'](_0xd965cc)*_0x54ab9a)/_0x54ab9a,_0x188b9e=Math['ceil'](Ti['dot'](_0x2bfa47)*_0x54ab9a)/_0x54ab9a,_0x41c75c=_0xd965cc['mulScalar'](_0x34075c),_0x33e4e6=_0x2bfa47['mulScalar'](_0x188b9e),_0x1e08a9=Ti['dot'](_0x4770c3),_0x4549e5=_0x4770c3['mulScalar'](_0x1e08a9);Ti['add2'](_0x41c75c,_0x33e4e6)['add'](_0x4549e5),_0x289894['setPositio'+'n'](Ti),_0x289894['translateL'+'ocal'](0xa0d+0x1*0x140d+-0x1e1a,-0x1*-0x24b1+-0x1*-0x655+-0x2*0x1583,-0x81b99+-0x121*-0x19df+-0x215*0x2ce),_0x369327['nearClip']=0x1*-0x125f+-0x1d*-0x109+-0xba6+0.01,_0x369327['farClip']=-0x1a9c29+0x13b75d+0x25694c,_0x369327['orthoHeigh'+'t']=_0x10627f,this['renderer']['updateCame'+'raFrustum'](_0x369327),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x17045a,_0x1fade4,_0x4be057['visibleCas'+'ters'],_0x369327,_0xb16f64);const _0x5203f3=0x1a28+0xd4*-0x4+0x3*-0x79d<<_0x36155e,_0xfeecf=_0x4be057['visibleCas'+'ters'],_0x84fa19=_0xfeecf['length'];let _0x526985=-0x6c9+-0xf7f+0x1648;for(let _0x2e8e4c=0xdd6+-0x2703*0x1+0x5*0x509;_0x2e8e4c<_0x84fa19;_0x2e8e4c++){const _0x36aaf1=_0xfeecf[_0x2e8e4c];_0x36aaf1['shadowCasc'+'adeMask']&_0x5203f3&&(_0xfeecf[_0x526985++]=_0x36aaf1,_0x526985===-0xf37*-0x1+0x9*0x10b+-0x1*0x1899?lc['copy'](_0x36aaf1['aabb']):lc['add'](_0x36aaf1['aabb']));}_0x84fa19!==_0x526985&&(_0xfeecf['length']=_0x526985),H_['copy'](_0x289894['getWorldTr'+'ansform']())['invert']();const _0x5154b4=Nb(H_,lc['getMin'](),lc['getMax']());_0x289894['translateL'+'ocal'](-0x6*0x275+-0x5*0x248+0x1*0x1a26,-0x1*-0x5c6+0x4*-0x94e+-0x1*-0x1f72,_0x5154b4['max']+(-0x10a3+0xd09+0x39a*0x1+0.1)),_0x369327['farClip']=_0x5154b4['max']-_0x5154b4['min']+(0x90f*-0x2+-0x56e*0x7+0x3820+0.2),_0x4be057['projection'+'Compensati'+'on']=_0x10627f;}}['generateSp'+'litDistanc'+'es'](_0x14fc7c,_0x1740aa,_0x276dde){_0x14fc7c['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x276dde);for(let _0x198bf1=-0x10f6*0x2+-0x318+0x2505;_0x198bf1<_0x14fc7c['numCascade'+'s'];_0x198bf1++){const _0x24306e=_0x198bf1/_0x14fc7c['numCascade'+'s'],_0x57a1ff=_0x1740aa+(_0x276dde-_0x1740aa)*_0x24306e,_0x1238dc=_0x1740aa*(_0x276dde/_0x1740aa)**_0x24306e,_0x268bca=Y['lerp'](_0x57a1ff,_0x1238dc,_0x14fc7c['cascadeDis'+'tribution']);_0x14fc7c['_shadowCas'+'cadeDistan'+'ces'][_0x198bf1-(-0x65*-0x1f+0x1ec5+-0x2aff)]=_0x268bca;}}['getLightRe'+'nderPass'](_0xde7f26,_0x404c16){w['assert'](_0xde7f26&&_0xde7f26['_type']===ve);let _0x794b7f=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xde7f26)){const _0x370ff7=_0xde7f26['numShadowF'+'aces'],_0x2548d3=_0xde7f26['shadowUpda'+'teOverride'+'s'];let _0x31afd0=!(-0x59d+0x2e3*-0x5+0xa06*0x2),_0x3b6ee5;for(let _0x1a2b58=-0x29*-0x7f+0x1fdb+-0x3432;_0x1a2b58<_0x370ff7;_0x1a2b58++)(_0x2548d3==null?void(-0x1*-0x3c8+-0x1bfd+0x1835):_0x2548d3[_0x1a2b58])===Ps&&(_0x31afd0=!(0x19d5+0xce*0x2f+-0x3fa6)),_0x3b6ee5=this['shadowRend'+'erer']['prepareFac'+'e'](_0xde7f26,_0x404c16,_0x1a2b58);_0x794b7f=new Fb(this['device'],this['shadowRend'+'erer'],_0xde7f26,_0x404c16,_0x31afd0),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x794b7f,_0x3b6ee5,_0x31afd0);}return _0x794b7f;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(-0xea5+-0x2067*-0x1+-0x11c0),lo=new re(-0x1731+-0x18bf+-0x1*-0x2ff1,-0x148e+0x1a06*-0x1+0xf87*0x3,-0xc8+-0xbfb*-0x1+0xb33*-0x1,0xa57+-0x12a9+0x852),X_=new te();function Ub(_0x519343,_0x42f045){return Math['exp'](-(_0x519343*_0x519343)/((0x1*0x1697+0x1*-0x244d+0xdb8)*_0x42f045*_0x42f045));}function Bb(_0x47a1a5){const _0x2c4259=(_0x47a1a5-(0x26ae+-0x2042+0x1f*-0x35))/(-0x7fd*0x3+-0x1241+0x2a3e),_0x31b613=(_0x47a1a5-(0x3*0x3f5+-0x14dd*-0x1+-0x20bb))*(-0x1d6a+-0xb87+-0xdf*-0x2f+0.5),_0x52a239=new Array(_0x47a1a5);let _0x4a78fc=0x1a5a+-0x1d14+-0x2ba*-0x1;for(let _0x2ada2e=0x278*0x1+0x1c5e+-0x2*0xf6b;_0x2ada2e<_0x47a1a5;++_0x2ada2e)_0x52a239[_0x2ada2e]=Ub(_0x2ada2e-_0x31b613,_0x2c4259),_0x4a78fc+=_0x52a239[_0x2ada2e];for(let _0x43153c=0x1006+-0x19b5+0x9af;_0x43153c<_0x47a1a5;++_0x43153c)_0x52a239[_0x43153c]/=_0x4a78fc;return _0x52a239;}class Cv{constructor(_0x20a9d9,_0x2ad4a6){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x20a9d9['device'],this['renderer']=_0x20a9d9,this['lightTextu'+'reAtlas']=_0x2ad4a6);const _0x4d91a1=this['device']['scope'];this['sourceId']=_0x4d91a1['resolve']('source'),this['pixelOffse'+'tId']=_0x4d91a1['resolve']('pixelOffse'+'t'),this['weightId']=_0x4d91a1['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x4d91a1['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x4*-0x583+0x2126+-0x3731),!(0x9bd+0x26d7+-0x9b7*0x5),!(0x1e+-0x9*-0x153+-0xe*0xdc),!(0xe8f*-0x1+-0xe40+0x1cd0));}static['createShad'+'owCamera'](_0x17e8fb,_0x16042b,_0x284a28){const _0x22d23c=Wn['create']('ShadowCame'+'ra',_0x16042b,_0x284a28),_0x2162ab=qi['get'](_0x17e8fb);w['assert'](_0x2162ab);const _0x23cd8c=(_0x2162ab==null?void(0x1*-0x18e+0xf5c+-0xdce*0x1):_0x2162ab['vsm'])??!(-0x1140+0x216c+-0x102b),_0x397682=(_0x2162ab==null?void(-0x26b*0x1+-0x92f+0x1e*0x63):_0x2162ab['pcf'])??!(0x2*0x1cd+-0x1139+-0xda0*-0x1);return _0x23cd8c?_0x22d23c['clearColor']=new ie(-0x203a+0x1e13+0x227,-0xb44+-0x237+0xd7b,0x6ad*-0x5+-0x12*-0x36+0x1d95*0x1,-0x76f+-0x24*0x24+0xc7f):_0x22d23c['clearColor']=new ie(0xcde+0xf95+-0xe39*0x2,0xebe*0x2+0x1b5b*-0x1+0x8*-0x44,-0x7*0x12f+0x1*0xf31+-0x6e7,-0x10d+0x230f+0x6cd*-0x5),_0x22d23c['clearDepth'+'Buffer']=!(0xd6d+-0x14bb+-0x3a7*-0x2),_0x22d23c['clearStenc'+'ilBuffer']=!(-0xb6c+0xd*-0x15d+0x1d26),_0x22d23c['clearColor'+'Buffer']=!_0x397682,_0x22d23c;}['_cullShado'+'wCastersIn'+'ternal'](_0xd160c9,_0x314473,_0x3d092c){const _0x2baab2=_0xd160c9['length'];for(let _0xfa7b39=-0x1*-0xb51+-0x717+-0x21d*0x2;_0xfa7b39<_0x2baab2;_0xfa7b39++){const _0x748fa9=_0xd160c9[_0xfa7b39];_0x748fa9['castShadow']&&(!_0x748fa9['cull']||_0x748fa9['_isVisible'](_0x3d092c))&&(_0x748fa9['visibleThi'+'sFrame']=!(0x16aa*-0x1+0x9bb+0x1*0xcef),_0x314473['push'](_0x748fa9));}}['cullShadow'+'Casters'](_0x4c56a8,_0x8bc374,_0x4d5116,_0x21229b,_0x3d12e2){var _0x2623e6,_0x5407d6;if((_0x2623e6=this['renderer']['scene'])==null||_0x2623e6['fire'](mv,_0x21229b),_0x4d5116['length']=-0x14*-0x4a+0x1696+-0x1*0x1c5e,_0x3d12e2)this['_cullShado'+'wCastersIn'+'ternal'](_0x3d12e2,_0x4d5116,_0x21229b);else{const _0xdfd8be=_0x4c56a8['layerList'],_0x458b07=_0xdfd8be['length'];for(let _0x164e2b=-0x2605+0x8c*-0x44+0x4b35;_0x164e2b<_0x458b07;_0x164e2b++){const _0x4b95af=_0xdfd8be[_0x164e2b];_0x4b95af['_lightsSet']['has'](_0x8bc374)&&(rf['has'](_0x4b95af)||(rf['add'](_0x4b95af),this['_cullShado'+'wCastersIn'+'ternal'](_0x4b95af['shadowCast'+'ers'],_0x4d5116,_0x21229b)));}rf['clear']();}_0x4d5116['sort'](this['sortCompar'+'eShader']),(_0x5407d6=this['renderer']['scene'])==null||_0x5407d6['fire'](_v,_0x21229b);}['sortCompar'+'eShader'](_0x10d296,_0x32cb94){const _0x2f5fca=_0x10d296['_sortKeySh'+'adow'],_0x412066=_0x32cb94['_sortKeySh'+'adow'];return _0x2f5fca===_0x412066?_0x32cb94['mesh']['id']-_0x10d296['mesh']['id']:_0x412066-_0x2f5fca;}['setupRende'+'rState'](_0x4d807c,_0x377790){const _0x2f9594=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x377790['_isPcf']:_0x377790['_isPcf']&&_0x377790['_type']!==Ke;_0x4d807c['setBlendSt'+'ate'](_0x2f9594?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x4d807c['setDepthSt'+'ate'](_0x377790['shadowDept'+'hState']),_0x4d807c['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x5758d9,_0x4de71c,_0x1ba620,_0x375233){const _0x57ccc2=_0x4de71c['_node'];_0x5758d9['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x57ccc2['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x5758d9['attenuatio'+'nEnd'])),W_['setTRS'](_0x57ccc2['getPositio'+'n'](),_0x57ccc2['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x4de71c['projection'+'Matrix'],W_);const _0x1b825c=_0x1ba620['shadowView'+'port'];_0x4de71c['rect']=_0x1b825c,_0x4de71c['scissorRec'+'t']=_0x1ba620['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x1b825c['x'],_0x1b825c['y'],_0x1b825c['z'],_0x1b825c['w']),_0x1ba620['shadowMatr'+'ix']['mul2'](X_,$_),_0x5758d9['_type']===ve&&_0x5758d9['_shadowMat'+'rixPalette']['set'](_0x1ba620['shadowMatr'+'ix']['data'],_0x375233*(0x188c+-0x467+0x61*-0x35));}['getShadowP'+'ass'](_0x5a7667){var _0x3a9b6c;const _0x181b1e=_0x5a7667['_type'],_0x56f9e3=_0x5a7667['_shadowTyp'+'e'];let _0x3824c8=(_0x3a9b6c=this['shadowPass'+'Cache'][_0x181b1e])==null?void(0x1345+-0x1a2f*0x1+-0x127*-0x6):_0x3a9b6c[_0x56f9e3];if(!_0x3824c8){const _0x3dd402='ShadowPass'+'_'+_0x181b1e+'_'+_0x56f9e3;_0x3824c8=Si['get'](this['device'])['allocate'](_0x3dd402,{'isShadow':!(0x2e*-0x7d+0x2589+-0x11*0xe3),'lightType':_0x181b1e,'shadowType':_0x56f9e3}),this['shadowPass'+'Cache'][_0x181b1e]||(this['shadowPass'+'Cache'][_0x181b1e]=[]),this['shadowPass'+'Cache'][_0x181b1e][_0x56f9e3]=_0x3824c8;}return _0x3824c8['index'];}['submitCast'+'ers'](_0x3948d9,_0xb7945f,_0x2ae699){var _0x40e01d;const _0x5503c1=this['device'],_0x39a402=this['renderer'],_0x5cd753=_0x39a402['scene'],_0x4b123d=0x37c+-0x1b2d+0x2a2*0x9<<cm,_0x2e65d8=this['getShadowP'+'ass'](_0xb7945f),_0x480885=_0x2ae699['shaderPara'+'ms'],_0x4200e8=_0x2ae699['renderTarg'+'et']['flipY']?-(0x451*0x1+-0x11*0x104+-0x33d*-0x4):-0x101f+-0x33*0x9e+0x2f9a,_0x99e1ce=_0x3948d9['length'];for(let _0x387c77=-0x49a+-0x17*0x58+0x641*0x2;_0x387c77<_0x99e1ce;_0x387c77++){const _0x6dea57=_0x3948d9[_0x387c77],_0x3786cd=_0x6dea57['mesh'],_0x57daca=_0x6dea57['instancing'+'Data'];if(_0x57daca&&_0x57daca['count']<=-0x1526+0x1d25+-0x7ff)continue;_0x6dea57['ensureMate'+'rial'](_0x5503c1);const _0x4070e1=_0x6dea57['material'];Q['pushGpuMar'+'ker'](_0x5503c1,'Node:\x20'+_0x6dea57['node']['name']+(',\x20Material'+':\x20')+_0x4070e1['name']),_0x39a402['setBaseCon'+'stants'](_0x5503c1,_0x4070e1),_0x39a402['setSkinnin'+'g'](_0x5503c1,_0x6dea57),_0x4070e1['dirty']&&(_0x4070e1['updateUnif'+'orms'](_0x5503c1,_0x5cd753),_0x4070e1['dirty']=!(0x12*-0x16e+-0x1e24+0x37e1)),_0x39a402['setupCullM'+'ode'](!(0x2065+-0x1500+-0xb65),_0x4200e8,_0x6dea57),_0x4070e1['setParamet'+'ers'](_0x5503c1),_0x6dea57['setParamet'+'ers'](_0x5503c1,_0x4b123d);const _0x474e5b=_0x6dea57['getShaderI'+'nstance'](_0x2e65d8,-0x887*0x1+-0x3*0x2ef+0x1154,_0x5cd753,_0x480885,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x27e2e2=_0x474e5b['shader'];if(w['assert'](_0x27e2e2,'no\x20shader\x20'+'for\x20pass\x20'+_0x2e65d8,_0x4070e1),_0x27e2e2['failed'])continue;_0x6dea57['_sortKeySh'+'adow']=_0x27e2e2['id'],_0x5503c1['setShader'](_0x27e2e2),_0x39a402['setVertexB'+'uffers'](_0x5503c1,_0x3786cd),_0x39a402['setMorphin'+'g'](_0x5503c1,_0x6dea57['morphInsta'+'nce']),_0x57daca&&_0x5503c1['setVertexB'+'uffer'](_0x57daca['vertexBuff'+'er']),_0x39a402['setMeshIns'+'tanceMatri'+'ces'](_0x6dea57),_0x39a402['setupMeshU'+'niformBuff'+'ers'](_0x474e5b);const _0x5481c6=_0x6dea57['renderStyl'+'e'],_0x5902c3=(_0x40e01d=_0x6dea57['indirectDa'+'ta'])==null?void(0x2c+0xacc+-0xaf8):_0x40e01d['get'](_0x2ae699);_0x5503c1['draw'](_0x3786cd['primitive'][_0x5481c6],_0x3786cd['indexBuffe'+'r'][_0x5481c6],_0x57daca==null?void(0xc6d+0x2b*0x2+-0xcc3):_0x57daca['count'],_0x5902c3),_0x39a402['_shadowDra'+'wCalls']++,_0x57daca&&_0x39a402['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x5503c1);}}['needsShado'+'wRendering'](_0x4913f7){const _0x312012=_0x4913f7['enabled']&&_0x4913f7['castShadow'+'s']&&_0x4913f7['shadowUpda'+'teMode']!==Ps&&_0x4913f7['visibleThi'+'sFrame'];return _0x4913f7['shadowUpda'+'teMode']===xr&&(_0x4913f7['shadowUpda'+'teMode']=Ps),_0x312012&&(this['renderer']['_shadowMap'+'Updates']+=_0x4913f7['numShadowF'+'aces']),_0x312012;}['getLightRe'+'nderData'](_0x3ccb2c,_0x29599b,_0xc0426a){return _0x3ccb2c['getRenderD'+'ata'](_0x3ccb2c['_type']===ve?_0x29599b:null,_0xc0426a);}['setupRende'+'rPass'](_0x32b91c,_0x67e112,_0x26a9c5){const _0x23715b=_0x67e112['renderTarg'+'et'];_0x32b91c['init'](_0x23715b),_0x32b91c['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x1ded*0x1+0x1802+0x2f6*0x2,_0x32b91c['depthStenc'+'ilOps']['clearDepth']=_0x26a9c5,_0x23715b['depthBuffe'+'r']?_0x32b91c['depthStenc'+'ilOps']['storeDepth']=!(0x2*0x845+-0x1*0x1606+0x24*0x27):(_0x32b91c['colorOps']['clearValue']['copy'](_0x67e112['clearColor']),_0x32b91c['colorOps']['clear']=_0x26a9c5,_0x32b91c['depthStenc'+'ilOps']['storeDepth']=!(0x248b+0x16b3+-0xbd9*0x5)),_0x32b91c['requiresCu'+'bemaps']=!(0x1*0x20af+-0x10c6+0x7f4*-0x2);}['prepareFac'+'e'](_0x376c26,_0x64cca0,_0x4d3057){const _0x175e76=_0x376c26['_type'],_0x337653=this['getLightRe'+'nderData'](_0x376c26,_0x64cca0,_0x4d3057)['shadowCame'+'ra'],_0x51aa52=_0x175e76===ve?-0x26fb*-0x1+-0x4bd*0x1+-0x223e:_0x4d3057;return _0x337653['renderTarg'+'et']=_0x376c26['_shadowMap']['renderTarg'+'ets'][_0x51aa52],_0x337653;}['renderFace'](_0x5671af,_0x10455e,_0x34b001,_0x36764c,_0xa047d8=!(-0xaa3*0x1+0x65*-0x27+0x1a06)){const _0x160f6d=this['device'],_0x566591=de();Q['pushGpuMar'+'ker'](_0x160f6d,'SHADOW\x20'+_0x5671af['_node']['name']+'\x20FACE\x20'+_0x34b001);const _0x3a358f=this['getLightRe'+'nderData'](_0x5671af,_0x10455e,_0x34b001),_0x2029d0=_0x3a358f['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x5671af,_0x2029d0,_0x3a358f,_0x34b001);const _0x345502=_0x2029d0['renderTarg'+'et'],_0x4bd202=this['renderer'];_0x4bd202['setCameraU'+'niforms'](_0x2029d0,_0x345502),_0x160f6d['supportsUn'+'iformBuffe'+'rs']&&_0x4bd202['setupViewU'+'niformBuff'+'ers'](_0x3a358f['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0xa047d8?(_0x4bd202['setupViewp'+'ort'](_0x2029d0,_0x345502),_0x36764c&&_0x4bd202['clear'](_0x2029d0)):_0x4bd202['clearView'](_0x2029d0,_0x345502,!(-0x1690+-0x15+0x16a5),!(0xc*-0x207+-0x11ab+0x2a00)),this['setupRende'+'rState'](_0x160f6d,_0x5671af),this['submitCast'+'ers'](_0x3a358f['visibleCas'+'ters'],_0x5671af,_0x2029d0),Q['popGpuMark'+'er'](_0x160f6d),_0x4bd202['_shadowMap'+'Time']+=de()-_0x566591;}['render'](_0x3f662f,_0x362207,_0x3883b0=!(0x509+0x19*0x3a+-0xab3)){if(this['needsShado'+'wRendering'](_0x3f662f)){const _0x167c5e=_0x3f662f['numShadowF'+'aces'];for(let _0x535c49=0x1794+0x178e+-0x2f22;_0x535c49<_0x167c5e;_0x535c49++)this['prepareFac'+'e'](_0x3f662f,_0x362207,_0x535c49),this['renderFace'](_0x3f662f,_0x362207,_0x535c49,!(0x2*0xf48+0x640+-0x24d0),_0x3883b0);this['renderVsm'](_0x3f662f,_0x362207);}}['renderVsm'](_0x59834d,_0x326382){_0x59834d['_isVsm']&&_0x59834d['_vsmBlurSi'+'ze']>0x2349+0x262b+-0x4973*0x1&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x59834d['_type']===ve)&&this['applyVsmBl'+'ur'](_0x59834d,_0x326382);}['getVsmBlur'+'Shader'](_0x2e8daf,_0x3ded3b){const _0x53b999=this['blurVsmSha'+'der'];let _0x47879c=_0x53b999[_0x2e8daf][_0x3ded3b];if(!_0x47879c){this['blurVsmWei'+'ghts'][_0x3ded3b]=Bb(_0x3ded3b);const _0x1f0a2a=new Map();_0x1f0a2a['set']('{SAMPLES}',_0x3ded3b),_0x2e8daf===0x5*0x337+0x264b+-0x365d&&_0x1f0a2a['set']('GAUSS',''),_0x47879c=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x2e8daf+_0x3ded3b,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x1f0a2a}),_0x53b999[_0x2e8daf][_0x3ded3b]=_0x47879c;}return _0x47879c;}['applyVsmBl'+'ur'](_0x4f4658,_0x34823b){const _0x4e7fff=this['device'];Q['pushGpuMar'+'ker'](_0x4e7fff,'VSM\x20'+_0x4f4658['_node']['name']),_0x4e7fff['setBlendSt'+'ate'](pt['NOBLEND']);const _0x50bab3=_0x4f4658['getRenderD'+'ata'](_0x4f4658['_type']===ve?_0x34823b:null,-0xb78*-0x3+-0x141*0xe+-0x10da)['shadowCame'+'ra']['renderTarg'+'et'],_0x4022de=this['renderer']['shadowMapC'+'ache']['get'](_0x4e7fff,_0x4f4658),_0x343b10=_0x4022de['renderTarg'+'ets'][-0x2*-0x1124+0x4c0+0x4*-0x9c2],_0xcffc34=_0x4f4658['vsmBlurMod'+'e'],_0x2295d5=_0x4f4658['_vsmBlurSi'+'ze'],_0xbb364b=this['getVsmBlur'+'Shader'](_0xcffc34,_0x2295d5);lo['z']=_0x4f4658['_shadowRes'+'olution']-(0xaa2*-0x2+0x2334+0x6f7*-0x2),lo['w']=lo['z'],this['sourceId']['setValue'](_0x50bab3['colorBuffe'+'r']),Fr[0x337*-0x7+0x3b*-0x16+0x1b93]=(0x26cc+-0x996+0x1d35*-0x1)/_0x4f4658['_shadowRes'+'olution'],Fr[-0x73c+-0xf14*-0x1+-0x29d*0x3]=-0x1e66+0x1f51+0xeb*-0x1,this['pixelOffse'+'tId']['setValue'](Fr),_0xcffc34===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x2295d5]),Ar(_0x4e7fff,_0x343b10,_0xbb364b,null,lo),this['sourceId']['setValue'](_0x343b10['colorBuffe'+'r']),Fr[0x1839+0x1*0x1343+-0x2b7b]=Fr[0x1*0x1bb+0x6e7+-0x8a2*0x1],Fr[0x2071+-0x2291+-0x220*-0x1]=0xf9b+0xb6e+-0x1b09,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x4e7fff,_0x50bab3,_0xbb364b,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x4f4658,_0x4022de),Q['popGpuMark'+'er'](_0x4e7fff);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x5b9f41){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x5b9f41;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0xd10e6d=>{_0xd10e6d['destroy']();}),this['_allocated']['length']=-0x185b*-0x1+-0x123d+-0x61e;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x37b1f6=new cu(this['device']);_0x37b1f6['name']='ClusterEmp'+'ty',_0x37b1f6['update']([]),this['_empty']=_0x37b1f6;}return this['_empty'];}['assign'](_0x5645fe){const _0xd47797=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0xbb3+-0x1*0x179f+0xbec,this['_clusters']['clear']();const _0x244aba=_0x5645fe['length'];for(let _0x3f444e=-0x1d5f*-0x1+0x1e3*-0x2+0x1*-0x1999;_0x3f444e<_0x244aba;_0x3f444e++){const _0x4bb75c=_0x5645fe[_0x3f444e]['renderActi'+'ons'];if(_0x4bb75c){const _0x1b4755=_0x4bb75c['length'];for(let _0x558059=0x4*0x56+0xc*-0x31d+0x901*0x4;_0x558059<_0x1b4755;_0x558059++){const _0x2b8404=_0x4bb75c[_0x558059];_0x2b8404['lightClust'+'ers']=null;const _0x2ec893=_0x2b8404['layer'];if(_0x2ec893['hasCluster'+'edLights']&&_0x2ec893['meshInstan'+'ces']['length']){const _0x21a303=_0x2ec893['getLightId'+'Hash'](),_0x366aa0=this['_clusters']['get'](_0x21a303);let _0x1d8007=_0x366aa0==null?void(-0x23*-0x7d+0x495+0x49*-0x4c):_0x366aa0['lightClust'+'ers'];_0x1d8007||(_0x1d8007=cc['pop']()??new cu(this['device']),Ea['setName'](_0x1d8007,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x1d8007),this['_clusters']['set'](_0x21a303,_0x2b8404)),_0x2b8404['lightClust'+'ers']=_0x1d8007;}_0x2b8404['lightClust'+'ers']||(_0x2b8404['lightClust'+'ers']=_0xd47797);}}}cc['forEach'](_0x3d612c=>_0x3d612c['destroy']()),cc['length']=-0x200d+0x2c1+0x1d4c;}['update'](_0x2e1fee,_0x51b291){this['assign'](_0x2e1fee),this['_clusters']['forEach'](_0x4f6e0e=>{const _0x1dcdd7=_0x4f6e0e['layer'];_0x4f6e0e['lightClust'+'ers']['update'](_0x1dcdd7['clusteredL'+'ightsSet'],_0x51b291);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x540857,_0x55193e){super(_0x540857),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x3*0x5c9+0x5*0x1c1+0x2dd*0x3)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x55193e,this['requiresCu'+'bemaps']=!(-0x9*0x1e2+-0x22d9+-0x30c*-0x11),this['blitTextur'+'eId']=_0x540857['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x540857['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x540857['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x18366c,_0x164506,_0x379912;(_0x18366c=this['_quadRende'+'rer2D'])==null||_0x18366c['destroy'](),this['_quadRende'+'rer2D']=null,(_0x164506=this['_quadRende'+'rerCube'])==null||_0x164506['destroy'](),this['_quadRende'+'rerCube']=null,(_0x379912=this['_evtDevice'+'Restored'])==null||_0x379912['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x442380,_0x225073){w['assert'](_0x442380);const _0x177e11=new pm(_0x442380['device'],_0x225073);return _0x177e11['init'](_0x442380),_0x177e11['colorOps']['clear']=!(-0x214a+-0x235b+0x44a6),_0x177e11['depthStenc'+'ilOps']['clearDepth']=!(-0xa5d+0x4*0x45d+0x2*-0x38b),_0x177e11;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x176a+-0x14f*-0xb+0x1*-0x25cf);}['update'](_0x73e1fe){const _0x37de85=this['_filteredL'+'ights'];this['filter'](_0x73e1fe,_0x37de85),this['executeEna'+'bled']=_0x37de85['length']>0x1e6*-0x1+0x2427+-0x2241;}['filter'](_0x2fef0f,_0x2e9601){for(let _0x159069=0x8*-0x7+0x1665+-0x162d*0x1;_0x159069<_0x2fef0f['length'];_0x159069++){const _0x1606a3=_0x2fef0f[_0x159069];_0x1606a3['_type']!==ve&&_0x1606a3['atlasViewp'+'ortAllocat'+'ed']&&(!_0x1606a3['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x1606a3['enabled']&&_0x1606a3['cookie']&&_0x1606a3['visibleThi'+'sFrame']&&_0x2e9601['push'](_0x1606a3));}this['_forceCopy']=!(0xb9a+0x1948*-0x1+0xdaf);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x4b3d33=0xf35*-0x2+0x17da+-0x38*-0x1e;_0x4b3d33<-0x1b88+0x2148+-0x5ba*0x1;_0x4b3d33++){const _0x5b0c1c=Wn['create'](null,Ke,_0x4b3d33),_0x4f2685=_0x5b0c1c['projection'+'Matrix'],_0x28a99c=_0x5b0c1c['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x4b3d33]=new te()['mul2'](_0x4f2685,_0x28a99c)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x236719=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x236719);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x1407df=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x1407df);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x214879=this['device'];_0x214879['setBlendSt'+'ate'](pt['NOBLEND']),_0x214879['setCullMod'+'e'](bt),_0x214879['setDepthSt'+'ate'](Yt['NODEPTH']),_0x214879['setStencil'+'State']();const _0x34eb31=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x213c9b=this['_cubeSlots'+'Offsets'],_0x5c16e5=this['_filteredL'+'ights'];for(let _0x2bdd93=0xc2b+0xccf+-0x18fa;_0x2bdd93<_0x5c16e5['length'];_0x2bdd93++){const _0x2371ef=_0x5c16e5[_0x2bdd93];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x2371ef['_node']['name']);const _0x3341d3=_0x2371ef['numShadowF'+'aces'],_0x167522=_0x3341d3>0xf01+0x2353+-0x3253*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x3341d3>0x6c7*0x1+-0x1*0x1ca5+0x15df&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x2371ef['cookie']);for(let _0x4fd91d=-0x25*-0x103+-0x905*-0x1+0x2*-0x173a;_0x4fd91d<_0x3341d3;_0x4fd91d++){if(rr['copy'](_0x2371ef['atlasViewp'+'ort']),_0x3341d3>0x11*0x161+0x1*-0x1b6c+0x3fc){const _0x1a699b=rr['z']/(0x913+0x1dea+-0xcfe*0x3),_0x3101e3=_0x213c9b[_0x4fd91d];rr['x']+=_0x1a699b*_0x3101e3['x'],rr['y']+=_0x1a699b*_0x3101e3['y'],rr['z']=_0x1a699b,rr['w']=_0x1a699b,this['invViewPro'+'jId']['setValue'](af[_0x4fd91d]['data']);}rr['mulScalar'](_0x34eb31),_0x167522['render'](rr);}Q['popGpuMark'+'er'](_0x214879);}_0x5c16e5['length']=0x36*-0x6b+-0x1734+0x2*0x16e3;}}class Vb extends ys{constructor(_0x910ac4,_0x3681d3,_0x3650d4){super(_0x910ac4),this['requiresCu'+'bemaps']=!(-0x1ab7*0x1+0x1e1*0x4+-0x4cd*-0x4),this['shadowRend'+'erer']=_0x3681d3,this['shadowRend'+'ererLocal']=_0x3650d4;}['update'](_0x4121a9){const _0xd4bd2c=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4f4baa=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0xd4bd2c,_0x4121a9),_0x540efb=_0xd4bd2c['length'];this['enabled']=_0x540efb>-0x1*-0x2cc+0xf0d*-0x1+0xc41,_0x540efb&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x4f4baa,!(0x7a5*-0x3+-0x1*-0x2425+-0xd35));}['execute'](){const _0x410261=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0xd4bae5=_0x410261['length'];for(let _0x169b93=0x25a9+0x14e3+-0x3a8c;_0x169b93<_0xd4bae5;_0x169b93++){const _0x54dbf4=_0x410261[_0x169b93];for(let _0x49c99a=-0xb*-0x332+-0xd*0x2d7+0x1c5;_0x49c99a<_0x54dbf4['numShadowF'+'aces'];_0x49c99a++)this['shadowRend'+'erer']['renderFace'](_0x54dbf4,null,_0x49c99a,!(-0x22cc+-0x18d4*-0x1+0x9f8));}_0x410261['length']=-0x1*0x1ebd+-0x496*0x7+0x3ed7;}}class Gb extends ys{constructor(_0x1eb4a6,_0x22a933,_0x3896c3,_0x295294,_0x4ee762){super(_0x1eb4a6),this['renderer']=_0x22a933,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x4ee762['cookieRend'+'erTarget'],_0x4ee762['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x1eb4a6,_0x3896c3,_0x295294),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x3ca3a9,_0x301cef,_0x4f7a53,_0x1a7898,_0x40d82f){this['frameGraph']=_0x3ca3a9,this['cookiesRen'+'derPass']['enabled']=_0x4f7a53,_0x4f7a53&&this['cookiesRen'+'derPass']['update'](_0x1a7898),this['shadowRend'+'erPass']['enabled']=_0x301cef,_0x301cef&&this['shadowRend'+'erPass']['update'](_0x40d82f);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x2da5b2=de(),{renderer:_0x408ba1}=this,{scene:_0x2a798d}=_0x408ba1;_0x408ba1['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x2a798d['lighting']),_0x408ba1['_lightClus'+'tersTime']+=de()-_0x2da5b2,_0x408ba1['_lightClus'+'ters']=_0x408ba1['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x8*0x3b6+0x8d2+0x1341*-0x2;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](-0x142+0xb05+0x4e1*-0x2,-(0x860+0x150d+-0x1d6c),0x26d2+0xf76+0x5*-0xadb),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x1fa7+0xf97+0x2f3d*-0x1,-0x1*-0x425+-0x16d+0x3a*-0xc,0x618+-0x3*0x65f+0xd05,0x141*-0x9+0x49f+0x6aa*0x1,0x14f*0x15+-0x58e+0x74f*-0x3,0x106*-0x2+-0x3a7+0x5b4,-0xef*0x7+-0x12f2+0x197b,-0xd66+0x4*0x2b3+0x12*0x25,-0x1*-0x1f05+-0x1*0x1f6+-0xad*0x2b,0x1*-0x1253+-0x7*-0x362+-0x55b,0x1d9e*0x1+-0x23dc+-0x2*-0x31f+0.5,0x37*-0x6+-0x13fe+0x1548,-0x52+-0xb*0x38b+0x274b,-0x9ef+-0xd1d*-0x1+-0x32e,0x943*-0x3+0xc50+-0xe9*-0x11+0.5,-0x1d38+-0x1*-0x2356+-0x61d]),K_=[new J(0x1f*-0x34+-0x1134+0xbc0*0x2+0.5,0x22c*-0x8+0x258+-0xd*-0x128+0.333333),new J(0x1528+-0x1b0c+0x5e4+0.25,0x1836+-0x11e5+-0x651+0.666667),new J(0x851*-0x2+0x1107*0x1+-0x65+0.75,-0x14e9+-0x263d*0x1+-0x3b26*-0x1+0.111111),new J(0x1dbf+-0x19bb+-0x404+0.125,0x1e4a+0x1200+-0x304a+0.444444),new J(0x1*-0x19fe+-0x2cb+0x1*0x1cc9+0.625,-0x101*-0x11+0x6a6+-0xd*0x1d3+0.777778),new J(0x1010+-0x727+0x1*-0x8e9+0.375,-0x25d7+0x26f6*0x1+-0x11f*0x1+0.222222),new J(-0x1bbf+0x26a7+-0x574*0x2+0.875,-0x1c0a+-0x1*0x1a2+-0x1*-0x1dac+0.555556),new J(0xc1a*-0x2+0x1e5*-0x7+0x2577+0.0625,-0x26ec+0x531+0x21bb*0x1+0.888889),new J(-0x21f5*-0x1+0x2571+0x2*-0x23b3+0.5625,0x2428+0x1707+-0x3b2f*0x1+0.037037),new J(-0x48b+-0xb2a*0x2+0x1adf+0.3125,0x49*-0xa+0xb7a+-0x8a0+0.37037),new J(0x1ed*-0x1+-0xd25+0x2*0x789+0.8125,-0x1*-0x261d+0x7*0x44b+0x6d1*-0xa+0.703704),new J(-0x2*-0x124e+0x16c+0x1304*-0x2+0.1875,0x731*0x1+-0x1*-0x44f+0x2*-0x5c0+0.148148),new J(0xc64+0x17c8+0x5*-0x73c+0.6875,-0x22d*0x11+0x422+-0x1*-0x20db+0.481481),new J(-0x11e7*-0x2+0x6*-0x5+-0x8ec*0x4+0.4375,0xb*-0x71+-0x265e+0x2b39+0.814815),new J(-0x1501+0x3*-0x2cf+0x1d6e+0.9375,0x6bb*-0x3+0x1aa4+-0xd*0x7f+0.259259),new J(0x38b*0x1+0x725+-0xab0+0.03125,0x488*0x5+0x54c+-0x1bf4+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x1162ba){h(this,'clustersDe'+'bugRendere'+'d',!(0xb64+-0xe7a*0x2+0x1191)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0xf3e*-0x1+0x28*-0x86+0x24a9)),(this['device']=_0x1162ba,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x1162ba),this['lightTextu'+'reAtlas']=new Ib(_0x1162ba),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x3*0x4cd+0x22ac+-0x1445,this['_morphTime']=0x12f7+0x1*-0xef4+-0x403,this['_cullTime']=0x1562*0x1+0x2681*-0x1+0x5b5*0x3,this['_shadowMap'+'Time']=0x14f5+0x18e1+-0x2dd6,this['_lightClus'+'tersTime']=0x1*0x1063+0x1*-0x614+-0xa4f,this['_layerComp'+'ositionUpd'+'ateTime']=0x2*-0x1c4+0x1618+-0x1290,this['_shadowDra'+'wCalls']=0x23c+-0x2c*0x78+0x1264,this['_skinDrawC'+'alls']=0x570+-0x7*-0x25a+0x2*-0xaf3,this['_instanced'+'DrawCalls']=-0x4*-0x494+-0x854+0x3*-0x354,this['_shadowMap'+'Updates']=0xf9e*0x2+0x1512+-0x344e,this['_numDrawCa'+'llsCulled']=0x4*-0xce+0xb0*0x1c+-0x1008,this['_camerasRe'+'ndered']=0x682+-0x1b9+0x1*-0x4c9,this['_lightClus'+'ters']=-0x1027+-0x1175+-0x1*-0x219c);const _0xab92e4=_0x1162ba['scope'];this['boneTextur'+'eId']=_0xab92e4['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0xab92e4['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0xab92e4['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0xab92e4['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x4b5+-0x6a*-0x55+-0xf3d*0x2),this['viewPosId']=_0xab92e4['resolve']('view_posit'+'ion'),this['projId']=_0xab92e4['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0xab92e4['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0xab92e4['resolve']('matrix_vie'+'w'),this['viewId3']=_0xab92e4['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0xab92e4['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0xab92e4['resolve']('projection'+'FlipY'),this['tbnBasis']=_0xab92e4['resolve']('tbnBasis'),this['nearClipId']=_0xab92e4['resolve']('camera_nea'+'r'),this['farClipId']=_0xab92e4['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x3*-0x2dc+-0x6d9*-0x5+-0x2acd),this['cameraPara'+'msId']=_0xab92e4['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0xab92e4['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0x1c*0xe6+0x1c8c+-0x364),this['blueNoiseJ'+'itterVersi'+'on']=-0xc5f*-0x1+-0x2479*0x1+0x181a,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x12*0x3d+-0x2618+0x21d2),this['blueNoiseJ'+'itterId']=_0xab92e4['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0xab92e4['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0xab92e4['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0xab92e4['resolve']('texture_op'+'acityMap'),this['exposureId']=_0xab92e4['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0xab92e4['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x185f+0x1*0x1849+0x16),this['morphPosit'+'ionTex']=_0xab92e4['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0xab92e4['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0xab92e4['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0xab92e4['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x34319b,_0x40b3bd){const _0x201be5=this['device'],_0x27ba7b=_0x40b3bd?_0x40b3bd['width']:_0x201be5['width'],_0x18a870=_0x40b3bd?_0x40b3bd['height']:_0x201be5['height'],_0x26c190=_0x34319b['rect'];let _0x1e28ab=Math['floor'](_0x26c190['x']*_0x27ba7b),_0x488448=Math['floor'](_0x26c190['y']*_0x18a870),_0x2d75b5=Math['floor'](_0x26c190['z']*_0x27ba7b),_0x1b285b=Math['floor'](_0x26c190['w']*_0x18a870);if(_0x201be5['setViewpor'+'t'](_0x1e28ab,_0x488448,_0x2d75b5,_0x1b285b),_0x34319b['_scissorRe'+'ctClear']){const _0x590979=_0x34319b['scissorRec'+'t'];_0x1e28ab=Math['floor'](_0x590979['x']*_0x27ba7b),_0x488448=Math['floor'](_0x590979['y']*_0x18a870),_0x2d75b5=Math['floor'](_0x590979['z']*_0x27ba7b),_0x1b285b=Math['floor'](_0x590979['w']*_0x18a870);}_0x201be5['setScissor'](_0x1e28ab,_0x488448,_0x2d75b5,_0x1b285b);}['setCameraU'+'niforms'](_0x205398,_0xca35c2){var _0x4965a3,_0x148fdf;const _0x31aed4=_0xca35c2==null?void(-0x1*0x79f+-0x1c82*0x1+-0x1*-0x2421):_0xca35c2['flipY'];let _0x3b0fba=null;if(_0x205398['xr']&&_0x205398['xr']['session']){const _0x1eb274=((_0x148fdf=(_0x4965a3=_0x205398['_node'])==null?void(0x17c1+0x204*-0x3+-0x1*0x11b5):_0x4965a3['parent'])==null?void(-0x1f6+-0xb3*-0x28+-0x1a02):_0x148fdf['getWorldTr'+'ansform']())||null;_0x3b0fba=_0x205398['xr']['views']['list'];for(let _0x554794=0x1523+-0xe*-0x125+-0x2529;_0x554794<_0x3b0fba['length'];_0x554794++){const _0x4f45eb=_0x3b0fba[_0x554794];_0x4f45eb['updateTran'+'sforms'](_0x1eb274),_0x205398['frustum']['setFromMat'+'4'](_0x4f45eb['projViewOf'+'fMat']);}}else{let _0x45319c=_0x205398['projection'+'Matrix'];_0x205398['calculateP'+'rojection']&&_0x205398['calculateP'+'rojection'](_0x45319c,ec);let _0x462ce8=_0x205398['getProject'+'ionMatrixS'+'kybox']();_0x31aed4&&(_0x45319c=Hb['mul2'](j_,_0x45319c),_0x462ce8=Wb['mul2'](j_,_0x462ce8)),this['device']['isWebGPU']&&(_0x45319c=$b['mul2'](Y_,_0x45319c),_0x462ce8=Xb['mul2'](Y_,_0x462ce8));const {jitter:_0x26a834}=_0x205398;let _0x4c16ca=-0x304+-0x164f+0x3*0x871,_0x5ae004=0x5*0xf0+0x240e+-0x28be;if(_0x26a834>-0x1300+0x3*0x436+0x5*0x146){const _0x41933f=_0xca35c2?_0xca35c2['width']:this['device']['width'],_0xae42f3=_0xca35c2?_0xca35c2['height']:this['device']['height'],_0x5d035f=K_[this['device']['renderVers'+'ion']%K_['length']];_0x4c16ca=_0x26a834*(_0x5d035f['x']*(-0xe4*0x7+-0xbc3+-0x1201*-0x1)-(-0x23e4+-0x9*-0x279+0xda4))/_0x41933f,_0x5ae004=_0x26a834*(_0x5d035f['y']*(-0xd10+0x16e1+-0x9cf)-(0x19d*-0x7+-0x4fd*-0x2+0x1*0x152))/_0xae42f3,_0x45319c=qb['copy'](_0x45319c),_0x45319c['data'][0x1269+-0x1*0x144+-0x111d*0x1]=_0x4c16ca,_0x45319c['data'][-0x1*0x1bc9+-0x363*0x8+-0x9*-0x61a]=_0x5ae004,_0x462ce8=jb['copy'](_0x462ce8),_0x462ce8['data'][-0x986*-0x2+0x2*-0x893+-0x1de]=_0x4c16ca,_0x462ce8['data'][0x2401*-0x1+-0x3*0x1ae+0x1de*0x16]=_0x5ae004,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x1db1a6=_0x26a834>-0x177+0x215f*-0x1+0x22d6?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x6*0x431+-0x319+0x1c3f]=_0x1db1a6['x'],this['blueNoiseJ'+'itterData'][-0x6b6+0x1fa3+-0x18ec]=_0x1db1a6['y'],this['blueNoiseJ'+'itterData'][0x1*0x1cf+0x2486+0x1*-0x2653]=_0x1db1a6['z'],this['blueNoiseJ'+'itterData'][-0x1cd1+-0x225f*0x1+0x3f33]=_0x1db1a6['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x45319c['data']),this['projSkybox'+'Id']['setValue'](_0x462ce8['data']),_0x205398['calculateT'+'ransform'])_0x205398['calculateT'+'ransform'](nr,ec);else{const _0x48ac1a=_0x205398['_node']['getPositio'+'n'](),_0x32907f=_0x205398['_node']['getRotatio'+'n']();nr['setTRS'](_0x48ac1a,_0x32907f,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x45319c,Oa),this['viewProjId']['setValue'](ar['data']),_0x205398['_storeShad'+'erMatrices'](ar,_0x4c16ca,_0x5ae004,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x31aed4?-(-0x1352*0x2+-0xdf0+0x3495):-0x7f2+-0x1bc2+0x23b5),this['dispatchVi'+'ewPos'](_0x205398['_node']['getPositio'+'n']()),_0x205398['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x31aed4?-(-0x5*-0xdf+0xff7*-0x1+0xb9d):0x64c+0x2*-0xe6b+0xc7*0x1d);const _0x511458=_0x205398['_nearClip'],_0xbf1a4a=_0x205398['_farClip'];return this['nearClipId']['setValue'](_0x511458),this['farClipId']['setValue'](_0xbf1a4a),this['cameraPara'+'ms'][0x2ed*-0x3+0x1ad4+-0x1*0x120d]=(-0x44*0xe+-0x13f*0x11+0x18e8)/_0xbf1a4a,this['cameraPara'+'ms'][0x14d0+-0x66b+-0xe64]=_0xbf1a4a,this['cameraPara'+'ms'][-0xe3*-0x14+-0x1086+-0x134*0x1]=_0x511458,this['cameraPara'+'ms'][-0x3d9+0x38a*0x4+-0xa4c]=_0x205398['projection']===En?0x1c6a+0x2*0xcff+-0x3667:-0x1*-0x1b6b+-0x4c3+-0x16a8,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x205398['getExposur'+'e']():this['scene']['exposure']),_0x3b0fba;}['clear'](_0x22e2aa,_0x21b596,_0x42af81,_0x175a6a){const _0x181d71=(_0x21b596??_0x22e2aa['_clearColo'+'rBuffer']?jo:-0xc4+-0xa24+0x4*0x2ba)|(_0x42af81??_0x22e2aa['_clearDept'+'hBuffer']?Yo:-0x5bf*0x1+-0x1c0b+-0xad*-0x32)|(_0x175a6a??_0x22e2aa['_clearSten'+'cilBuffer']?ch:-0x2050+0xd1b+0x21*0x95);if(_0x181d71){const _0xa3c68b=this['device'];Q['pushGpuMar'+'ker'](_0xa3c68b,'CLEAR'),_0xa3c68b['clear']({'color':[_0x22e2aa['_clearColo'+'r']['r'],_0x22e2aa['_clearColo'+'r']['g'],_0x22e2aa['_clearColo'+'r']['b'],_0x22e2aa['_clearColo'+'r']['a']],'depth':_0x22e2aa['_clearDept'+'h'],'stencil':_0x22e2aa['_clearSten'+'cil'],'flags':_0x181d71}),Q['popGpuMark'+'er'](_0xa3c68b);}}['setCamera'](_0x26dab7,_0x5d34dd,_0x3b956,_0x25c271=null){this['setCameraU'+'niforms'](_0x26dab7,_0x5d34dd),this['clearView'](_0x26dab7,_0x5d34dd,_0x3b956,!(0x89d+-0x373*0x3+0x1bd));}['clearView'](_0x18a565,_0x4b2f07,_0x59cea1,_0x2b0d0e){const _0x181a80=this['device'];if(Q['pushGpuMar'+'ker'](_0x181a80,'CLEAR-VIEW'),_0x181a80['setRenderT'+'arget'](_0x4b2f07),_0x181a80['updateBegi'+'n'](),_0x2b0d0e&&(_0x181a80['setColorWr'+'ite'](!(0x3a7+-0x2b*0xde+0x21a3),!(0x6*0x99+-0x1297*-0x1+-0x162d),!(0x24ba+-0xa79*0x3+-0x54f),!(-0x15e5+-0x1fc*-0x13+-0xfcf)),_0x181a80['setDepthWr'+'ite'](!(-0x13bd+-0x1d7d+0x313a))),this['setupViewp'+'ort'](_0x18a565,_0x4b2f07),_0x59cea1){const _0x18070a=_0x18a565['_clearOpti'+'ons'];_0x181a80['clear'](_0x18070a||{'color':[_0x18a565['_clearColo'+'r']['r'],_0x18a565['_clearColo'+'r']['g'],_0x18a565['_clearColo'+'r']['b'],_0x18a565['_clearColo'+'r']['a']],'depth':_0x18a565['_clearDept'+'h'],'flags':(_0x18a565['_clearColo'+'rBuffer']?jo:-0x2196+0x3*0x21d+-0xe1*-0x1f)|(_0x18a565['_clearDept'+'hBuffer']?Yo:-0x1*-0x6da+0x1aad*0x1+-0x2187)|(_0x18a565['_clearSten'+'cilBuffer']?ch:0x805+-0x1503+-0x67f*-0x2),'stencil':_0x18a565['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x181a80);}['setupCullM'+'ode'](_0x117796,_0x3d80c7,_0x105bf0){const _0x2a0d36=_0x105bf0['material'];let _0x42c4a7=bt;if(_0x117796){let _0x4f4d8d=-0x7*0x391+-0x1*-0x19cf+-0x1*0xd7;(_0x2a0d36['cull']===Fo||_0x2a0d36['cull']===pa)&&(_0x4f4d8d=_0x3d80c7*_0x105bf0['flipFacesF'+'actor']*_0x105bf0['node']['worldScale'+'Sign']),_0x4f4d8d<0x11b4+-0x1*0x1ae9+-0x1*-0x935?_0x42c4a7=_0x2a0d36['cull']===Fo?pa:Fo:_0x42c4a7=_0x2a0d36['cull'];}this['device']['setCullMod'+'e'](_0x42c4a7),_0x42c4a7===bt&&_0x2a0d36['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x105bf0['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2303d1){if(_0x2303d1['xr']&&_0x2303d1['xr']['views']['list']['length']){const _0x39e5db=_0x2303d1['xr']['views']['list'][0x13a2+-0x1020+0x1c1*-0x2];ar['mul2'](_0x39e5db['projMat'],_0x39e5db['viewOffMat']),_0x2303d1['frustum']['setFromMat'+'4'](ar);return;}const _0x4f9af9=_0x2303d1['projection'+'Matrix'];if(_0x2303d1['calculateP'+'rojection']&&_0x2303d1['calculateP'+'rojection'](_0x4f9af9,ec),_0x2303d1['calculateT'+'ransform'])_0x2303d1['calculateT'+'ransform'](nr,ec);else{const _0x329545=_0x2303d1['_node']['getPositio'+'n'](),_0x292050=_0x2303d1['_node']['getRotatio'+'n']();nr['setTRS'](_0x329545,_0x292050,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x4f9af9,Oa),_0x2303d1['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x32b13f,_0x33565b){_0x32b13f['setCullMod'+'e'](_0x33565b['cull']),_0x33565b['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x33565b['opacityMap']),(_0x33565b['opacityMap']||_0x33565b['alphaTest']>-0x589*-0x1+-0xcc9+0x740)&&this['alphaTestI'+'d']['setValue'](_0x33565b['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x30dda8){nf++;const _0x585dde=_0x30dda8['length'];if(_0x585dde===0x637+-0x13fc+0xdc5)return;const _0x5bee0c=de();for(let _0x596933=0x1e08+-0x1*0x50a+-0xe*0x1c9;_0x596933<_0x585dde;_0x596933++){const _0xd5cb7a=_0x30dda8[_0x596933]['skinInstan'+'ce'];_0xd5cb7a&&(_0xd5cb7a['updateMatr'+'ices'](_0x30dda8[_0x596933]['node'],nf),_0xd5cb7a['_dirty']=!(-0x1ed4+0x1f*-0x56+0x293e*0x1));}this['_skinTime']+=de()-_0x5bee0c;}['updateGpuS'+'kinMatrice'+'s'](_0x3d899d){const _0x20f249=de();for(const _0x30a7d9 of _0x3d899d){const _0x885a09=_0x30a7d9['skinInstan'+'ce'];_0x885a09&&_0x885a09['_dirty']&&(_0x885a09['updateMatr'+'ixPalette'](_0x30a7d9['node'],nf),_0x885a09['_dirty']=!(0x18*0x3b+0x203b*-0x1+0x1ab4));}this['_skinTime']+=de()-_0x20f249;}['updateMorp'+'hing'](_0x28545e){const _0x4cc1e1=de();for(const _0x4a6cb6 of _0x28545e){const _0x15df30=_0x4a6cb6['morphInsta'+'nce'];_0x15df30&&_0x15df30['_dirty']&&_0x15df30['update']();}this['_morphTime']+=de()-_0x4cc1e1;}['updateGSpl'+'ats'](_0x58e11a){var _0x691c4f;for(const _0x3f773c of _0x58e11a)(_0x691c4f=_0x3f773c['gsplatInst'+'ance'])==null||_0x691c4f['update']();}['gpuUpdate'](_0x5b3fd3){this['updateGpuS'+'kinMatrice'+'s'](_0x5b3fd3),this['updateMorp'+'hing'](_0x5b3fd3),this['updateGSpl'+'ats'](_0x5b3fd3);}['setVertexB'+'uffers'](_0xcbc51f,_0x48b829){_0xcbc51f['setVertexB'+'uffer'](_0x48b829['vertexBuff'+'er']);}['setMorphin'+'g'](_0x377b1a,_0x271723){_0x271723&&(_0x271723['prepareRen'+'dering'](_0x377b1a),_0x377b1a['setVertexB'+'uffer'](_0x271723['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x271723['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x271723['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x271723['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x4205bb,_0x14ff6e){const _0x4b834f=_0x14ff6e['skinInstan'+'ce'];if(_0x4b834f){this['_skinDrawC'+'alls']++;const _0x19c984=_0x4b834f['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x19c984);}}['dispatchVi'+'ewPos'](_0x3b9d46){const _0x486d6f=this['viewPos'];_0x486d6f[-0x21a4*0x1+0xfb*-0x1+-0x1*-0x229f]=_0x3b9d46['x'],_0x486d6f[-0x1776+0x1062+0x715]=_0x3b9d46['y'],_0x486d6f[0x888+-0x1ded+-0x1*-0x1567]=_0x3b9d46['z'],this['viewPosId']['setValue'](_0x486d6f);}['initViewBi'+'ndGroupFor'+'mat'](_0x42f0d6){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x308e31=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x42f0d6&&_0x308e31['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x308e31);const _0xe93feb=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0xe93feb);}}['setupViewU'+'niforms'](_0x37f2c2,_0x248859){this['projId']['setValue'](_0x37f2c2['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x37f2c2['projMat']['data']),this['viewId']['setValue'](_0x37f2c2['viewOffMat']['data']),this['viewInvId']['setValue'](_0x37f2c2['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x37f2c2['viewMat3']['data']),this['viewProjId']['setValue'](_0x37f2c2['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x37f2c2['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x248859);}['setupViewU'+'niformBuff'+'ers'](_0x5af35d,_0x3cc9dc,_0x3fcd20,_0x7d747f){w['assert'](Array['isArray'](_0x5af35d),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x3ab5d1}=this,_0x357c1f=(_0x7d747f==null?void(-0xfa3+0x1*0x1df+0xdc4):_0x7d747f['length'])??0x21aa+0x2347*-0x1+0x19e;for(;_0x5af35d['length']<_0x357c1f;){const _0x247109=new zp(_0x3ab5d1,_0x3cc9dc,!(-0x12c1+-0x2392+-0xd95*-0x4)),_0x51e06d=new Up(_0x3ab5d1,_0x3fcd20,_0x247109);Ea['setName'](_0x51e06d,'ViewBindGr'+'oup_'+_0x51e06d['id']),_0x5af35d['push'](_0x51e06d);}if(_0x7d747f)for(let _0x43c92c=0x3b*0x8f+0x1*-0x4d+-0x20a8;_0x43c92c<_0x357c1f;_0x43c92c++){const _0x1314b5=_0x7d747f[_0x43c92c];this['setupViewU'+'niforms'](_0x1314b5,_0x43c92c);const _0xb1e375=_0x5af35d[_0x43c92c];_0xb1e375['defaultUni'+'formBuffer']['update'](),_0xb1e375['update']();}else{const _0x20e467=_0x5af35d[0x10*-0x24a+-0xadf+0x2f7f];_0x20e467['defaultUni'+'formBuffer']['update'](),_0x20e467['update']();}_0x7d747f||_0x3ab5d1['setBindGro'+'up'](rl,_0x5af35d[-0x1*-0x1b46+-0x3f2+0x1*-0x1754]);}['setupMeshU'+'niformBuff'+'ers'](_0x48e71d){const _0x255489=this['device'];if(_0x255489['supportsUn'+'iformBuffe'+'rs']){const _0x645b01=_0x48e71d['getBindGro'+'up'](_0x255489);_0x645b01['update'](),_0x255489['setBindGro'+'up'](Oy,_0x645b01),_0x48e71d['getUniform'+'Buffer'](_0x255489)['update'](hf),_0x255489['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x5dfe1e,_0x3c08bb=!(0x5bc+-0x9f9*-0x3+-0x23a6)){const _0x20885b=_0x5dfe1e['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x20885b['data']),_0x3c08bb&&this['normalMatr'+'ixId']['setValue'](_0x5dfe1e['node']['normalMatr'+'ix']['data']);}['cull'](_0x430898,_0x1e6926,_0x152304){const _0x4a3e5c=de(),_0x30e67b=_0x152304['opaque'];_0x30e67b['length']=0x21f+0x9b7+0x25e*-0x5;const _0x3d7e58=_0x152304['transparen'+'t'];_0x3d7e58['length']=-0x180b+0x9d5*0x2+0x461;const _0x276243=_0x430898['frustumCul'+'ling'],_0x3ffedb=_0x1e6926['length'];for(let _0x29cf46=0x4ca+0x1*0x2b+-0x4f5;_0x29cf46<_0x3ffedb;_0x29cf46++){const _0x140c1b=_0x1e6926[_0x29cf46];_0x140c1b['visible']&&(!_0x276243||!_0x140c1b['cull']||_0x140c1b['_isVisible'](_0x430898))&&(_0x140c1b['visibleThi'+'sFrame']=!(-0x4*0x527+-0x1296+0x2732),(_0x140c1b['transparen'+'t']?_0x3d7e58:_0x30e67b)['push'](_0x140c1b),(_0x140c1b['skinInstan'+'ce']||_0x140c1b['morphInsta'+'nce']||_0x140c1b['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x140c1b),_0x140c1b['gsplatInst'+'ance']&&_0x140c1b['gsplatInst'+'ance']['cameras']['push'](_0x430898)));}this['_cullTime']+=de()-_0x4a3e5c,this['_numDrawCa'+'llsCulled']+=_0x276243?_0x3ffedb:0x228b+0xc01+-0x2e8c;}['collectLig'+'hts'](_0x3a6481){this['lights']['length']=-0x1939+0x1b61+-0x228,this['localLight'+'s']['length']=0xb3*-0x35+-0x211b+0x462a*0x1;const _0x5d72a7=this['scene']['_stats'];_0x5d72a7['dynamicLig'+'hts']=0x3b*-0x77+-0x1*0xd7f+0x28ec,_0x5d72a7['bakedLight'+'s']=0x11a5+0x24bc+-0x1*0x3661;const _0xd9c20=_0x3a6481['layerList']['length'];for(let _0xcc71bd=-0xb56+-0xb92+0x8*0x2dd;_0xcc71bd<_0xd9c20;_0xcc71bd++){const _0x142357=_0x3a6481['layerList'][_0xcc71bd];if(!cf['has'](_0x142357)){cf['add'](_0x142357);const _0x4ff54c=_0x142357['_lights'];for(let _0x3a8ec1=-0x131e*-0x1+0x174*-0xc+-0x2*0xd7;_0x3a8ec1<_0x4ff54c['length'];_0x3a8ec1++){const _0x59cf80=_0x4ff54c[_0x3a8ec1];lf['has'](_0x59cf80)||(lf['add'](_0x59cf80),this['lights']['push'](_0x59cf80),_0x59cf80['_type']!==ve&&this['localLight'+'s']['push'](_0x59cf80),(_0x59cf80['mask']&Ss||_0x59cf80['mask']&di)&&_0x5d72a7['dynamicLig'+'hts']++,_0x59cf80['mask']&fi&&_0x5d72a7['bakedLight'+'s']++);}}}_0x5d72a7['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x2f8a70,_0x16de61){const _0x3d0b14=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x4c1935=this['scene']['physicalUn'+'its'];for(let _0x1f7376=0x1666+0x1083+-0x7*0x58f;_0x1f7376<_0x16de61['length'];_0x1f7376++){const _0x2fe9f7=_0x16de61[_0x1f7376];if(_0x2fe9f7['enabled']){if(_0x2fe9f7['_type']!==ve){if(_0x2fe9f7['getBoundin'+'gSphere'](of),_0x2f8a70['frustum']['containsSp'+'here'](of)){_0x2fe9f7['visibleThi'+'sFrame']=!(-0x4*0x22+-0x532+0x5ba),_0x2fe9f7['usePhysica'+'lUnits']=_0x4c1935;const _0x3c946c=_0x2f8a70['getScreenS'+'ize'](of);_0x2fe9f7['maxScreenS'+'ize']=Math['max'](_0x2fe9f7['maxScreenS'+'ize'],_0x3c946c);}else _0x3d0b14||_0x2fe9f7['castShadow'+'s']&&!_0x2fe9f7['shadowMap']&&(_0x2fe9f7['visibleThi'+'sFrame']=!(-0x23e3*-0x1+0x2*-0xdb3+-0x87d));}else _0x2fe9f7['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x3ca586){const _0x540276=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x5dbf87=-0x49*0x3b+0x608*0x2+0x4c3;_0x5dbf87<this['localLight'+'s']['length'];_0x5dbf87++){const _0x2d0991=this['localLight'+'s'][_0x5dbf87];_0x2d0991['_type']!==ve&&(_0x540276?_0x2d0991['atlasSlotU'+'pdated']&&_0x2d0991['shadowUpda'+'teMode']===Ps&&(_0x2d0991['shadowUpda'+'teMode']=xr):_0x2d0991['shadowUpda'+'teMode']===Ps&&_0x2d0991['castShadow'+'s']&&(_0x2d0991['getRenderD'+'ata'](null,-0x31*0x10+-0x7ad*0x3+-0x1a17*-0x1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x2d0991['shadowUpda'+'teMode']=xr)),_0x2d0991['visibleThi'+'sFrame']&&_0x2d0991['castShadow'+'s']&&_0x2d0991['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x2d0991,_0x3ca586));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x2d36e5=_0x3ca586['cameras'];for(let _0x3a256b=0x25d8+0x1d2f+-0x1*0x4307;_0x3a256b<_0x2d36e5['length'];_0x3a256b++){const _0x110d43=_0x2d36e5[_0x3a256b];if(_0x110d43['enabled']){const _0x53fcfc=_0x110d43['camera'];let _0x39de15;const _0x32ced7=_0x53fcfc['layers'];for(let _0x585085=0x1bf1+0x6f1*0x5+0xa71*-0x6;_0x585085<_0x32ced7['length'];_0x585085++){const _0x1ecb7e=_0x3ca586['getLayerBy'+'Id'](_0x32ced7[_0x585085]);if(_0x1ecb7e){const _0x57fd7a=_0x1ecb7e['splitLight'+'s'][ve];for(let _0x1063a2=0xf7b+-0x4*-0x519+-0x23df;_0x1063a2<_0x57fd7a['length'];_0x1063a2++){const _0x2e5470=_0x57fd7a[_0x1063a2];_0x2e5470['castShadow'+'s']&&!Fa['has'](_0x2e5470)&&(Fa['add'](_0x2e5470),_0x39de15=_0x39de15??[],_0x39de15['push'](_0x2e5470),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2e5470,_0x3ca586,_0x53fcfc));}}}_0x39de15&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x53fcfc,_0x39de15),Fa['clear']();}}}['cullCompos'+'ition'](_0x23d828){const _0xd60f38=de(),{scene:_0x4b1e20}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xbfcc31=_0x23d828['cameras']['length'];this['_camerasRe'+'ndered']+=_0xbfcc31;for(let _0x5f428b=0x2*-0x2dd+0xced*0x2+0xe*-0x170;_0x5f428b<_0xbfcc31;_0x5f428b++){const _0x568672=_0x23d828['cameras'][_0x5f428b];_0x4b1e20==null||_0x4b1e20['fire'](mv,_0x568672);const _0x26d947=_0x568672['renderTarg'+'et'];_0x568672['frameUpdat'+'e'](_0x26d947),this['updateCame'+'raFrustum'](_0x568672['camera']);const _0x470a99=_0x568672['layers'];for(let _0x5640c0=0x1f1b*-0x1+-0x8*0x4b5+0x44c3;_0x5640c0<_0x470a99['length'];_0x5640c0++){const _0x21cedb=_0x23d828['getLayerBy'+'Id'](_0x470a99[_0x5640c0]);if(_0x21cedb&&_0x21cedb['enabled']){this['cullLights'](_0x568672['camera'],_0x21cedb['_lights']);const _0x2af5e7=_0x21cedb['getCulledI'+'nstances'](_0x568672['camera']);this['cull'](_0x568672['camera'],_0x21cedb['meshInstan'+'ces'],_0x2af5e7);}}_0x4b1e20==null||_0x4b1e20['fire'](_v,_0x568672);}_0x4b1e20['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x23d828),_0x4b1e20==null||_0x4b1e20['fire'](lE),this['_cullTime']+=de()-_0xd60f38;}['updateShad'+'ers'](_0x42e953,_0x36a2b7){const _0x4136ab=_0x42e953['length'];for(let _0x14a301=-0x2543+-0x2*-0x920+0x1303;_0x14a301<_0x4136ab;_0x14a301++){const _0x1070e5=_0x42e953[_0x14a301]['material'];if(_0x1070e5&&!Fa['has'](_0x1070e5)&&(Fa['add'](_0x1070e5),_0x1070e5['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x36a2b7&&(!_0x1070e5['useLightin'+'g']||_0x1070e5['emitter']&&!_0x1070e5['emitter']['lighting']))continue;_0x1070e5['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x30d25a){const _0x513992=this['scene'],_0x46e003=_0x513992['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0xa2f167=0x1c8*-0x3+0x1d3a+0xbf1*-0x2;const _0x5032e0=_0x30d25a['layerList'],_0x39832e=_0x5032e0['length'];for(let _0x335411=0x1d03+0x13*-0x3a+-0x18b5;_0x335411<_0x39832e;_0x335411++){const _0x1d62fa=_0x5032e0[_0x335411]['meshInstan'+'ces'],_0x1e5cf6=_0x1d62fa['length'];_0xa2f167+=_0x1e5cf6;for(let _0x54e89b=-0x1*0x2239+0xe4b+0x13ee;_0x54e89b<_0x1e5cf6;_0x54e89b++){const _0xc46ddb=_0x1d62fa[_0x54e89b];_0xc46ddb['visibleThi'+'sFrame']=!(0x1c*-0x26+-0x1f7b*-0x1+0x10d*-0x1a),_0x46e003&&df['push'](_0xc46ddb),_0xc46ddb['skinInstan'+'ce']&&ff['push'](_0xc46ddb);}}if(_0x513992['_stats']['meshInstan'+'ces']=_0xa2f167,_0x46e003){const _0x1a5c20=!_0x513992['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x1a5c20),_0x513992['updateShad'+'ers']=!(0xd2f+-0x2181+0x1453),this['device']['_shadersDi'+'rty']=!(-0x26db*0x1+0xf0*-0x2+0xa2f*0x4),_0x513992['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x478+0x24f3+-0x296b,ff['length']=0x85f+-0x35*0x26+-0x1*0x81;const _0x31e786=this['lights'],_0x32f724=_0x31e786['length'];for(let _0x29ff6b=0x1f4+-0x776+-0x5e*-0xf;_0x29ff6b<_0x32f724;_0x29ff6b++)_0x31e786[_0x29ff6b]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x493960){const _0x19d9e5=de(),_0x338846=_0x493960['layerList']['length'],_0x382e46=this['scene']['_shaderVer'+'sion'];for(let _0x4ce44f=0x13d*-0x5+0x1373+-0xd42;_0x4ce44f<_0x338846;_0x4ce44f++){const _0x3141e6=_0x493960['layerList'][_0x4ce44f];_0x3141e6['_shaderVer'+'sion']=_0x382e46,_0x3141e6['_skipRende'+'rCounter']=0xc6c+0xd7f+0x19eb*-0x1,_0x3141e6['_forwardDr'+'awCalls']=0x2*0xbaa+0x386*-0x6+-0x70*0x5,_0x3141e6['_shadowDra'+'wCalls']=0xe78+0x3df*0x5+-0x21d3,_0x3141e6['_renderTim'+'e']=-0x24a1*-0x1+-0xf3*-0x4+-0x286d*0x1;}_0x493960['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x19d9e5;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1be0+0x117c+-0x2d5b*0x1),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x159c+-0x6b1*0x5+-0x26*-0x173),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0xeea+-0x8*-0x7b+-0x1*0x12c1),this['clearDepth']=!(0x43*-0x1+-0x1ffd+0x2041*0x1),this['clearStenc'+'il']=!(-0x15f3+0x12bb+0xb*0x4b),this['triggerPos'+'tprocess']=!(0x68f+-0x182a+-0x142*-0xe),this['firstCamer'+'aUse']=!(0x435*-0x1+0x2*-0x3b2+-0x129*-0xa),this['lastCamera'+'Use']=!(-0x1649*0x1+-0x18d5+0x2f1f),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x5*0x25b+-0xf60+-0x13c*-0x16));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x509769=>{_0x509769['defaultUni'+'formBuffer']['destroy'](),_0x509769['destroy']();}),this['viewBindGr'+'oups']['length']=0x1b4d+-0xdc5+-0xd88;}['setupClear'+'s'](_0x496575,_0x34b247){this['clearColor']=(_0x496575==null?void(0x9*0x35f+-0x1cb5*0x1+0xd1*-0x2):_0x496575['clearColor'+'Buffer'])||_0x34b247['clearColor'+'Buffer'],this['clearDepth']=(_0x496575==null?void(-0xd*-0x115+-0x19f0+0xbdf):_0x496575['clearDepth'+'Buffer'])||_0x34b247['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x496575==null?void(0x5*0x16d+-0x276+-0x5*0xef):_0x496575['clearStenc'+'ilBuffer'])||_0x34b247['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x3e00d5,_0x553738,_0x16a7cb,_0x5d376b){super(_0x3e00d5),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x11a5*-0x1+-0x1*0x655+-0xb4f)),(this['layerCompo'+'sition']=_0x553738,this['scene']=_0x16a7cb,this['renderer']=_0x5d376b);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x3*0x195+0x2274+-0x1db5;}['addRenderA'+'ction'](_0x437a9c){this['renderActi'+'ons']['push'](_0x437a9c);}['addLayer'](_0x441c40,_0x395c07,_0x2e04b2,_0x212a52=!(-0x30e*0x1+0xec3+-0x51*0x25)){w['assert'](_0x441c40),w['assert'](this['renderTarg'+'et']!==void(-0x2b8+0x1bd1*0x1+-0x1919),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x441c40['camera']['layersSet']['has'](_0x395c07['id']),'Camera\x20'+_0x441c40['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x395c07['name']+'.');const _0x10615a=new Pv();if(_0x10615a['renderTarg'+'et']=this['renderTarg'+'et'],_0x10615a['camera']=_0x441c40,_0x10615a['layer']=_0x395c07,_0x10615a['transparen'+'t']=_0x2e04b2,_0x212a52){const _0x5bfc04=this['renderActi'+'ons']['length']===-0x12f+0x15d1+-0x14a2;_0x10615a['setupClear'+'s'](_0x5bfc04?_0x441c40:void(0x1*0x2a+0x6*0x15d+-0x10b*0x8),_0x395c07);}this['addRenderA'+'ction'](_0x10615a);}['addLayers'](_0x2e7f1d,_0x388d09,_0x3f00c2,_0x5b57cc,_0x136c48,_0xcad64d=!(0x1d26+-0x15af+-0x31*0x27)){const {layerList:_0x4287e0,subLayerList:_0x326af5}=_0x2e7f1d;let _0x180a3b=_0x5b57cc,_0x486522=_0x3f00c2;for(;_0x486522<_0x4287e0['length'];){const _0x419347=_0x4287e0[_0x486522],_0x3e2e0f=_0x326af5[_0x486522];if(_0x388d09['camera']['layersSet']['has'](_0x419347['id'])&&(this['addLayer'](_0x388d09,_0x419347,_0x3e2e0f,_0x180a3b),_0x180a3b=!(-0x155c+-0x17*-0x60+0xcbd)),_0x486522++,_0x419347['id']===_0x136c48&&_0x3e2e0f===_0xcad64d)break;}return _0x486522;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x40d128,renderActions:_0x162a10}=this;for(let _0x347d17=-0x1*-0x1583+-0xb5d+-0xa26;_0x347d17<_0x162a10['length'];_0x347d17++){const _0x14183d=_0x162a10[_0x347d17]['camera']['camera'],_0x1c6013=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x14183d);if(_0x1c6013)for(let _0x168d8e=-0x2249+-0x1e08+0x4051;_0x168d8e<_0x1c6013['length'];_0x168d8e++){const _0x33f276=_0x1c6013[_0x168d8e];if(_0x40d128['dirLightSh'+'adows']['get'](_0x33f276)!==_0x14183d){_0x40d128['dirLightSh'+'adows']['set'](_0x33f276,_0x14183d);const _0x4611e2=_0x40d128['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x33f276,_0x14183d);_0x4611e2&&this['beforePass'+'es']['push'](_0x4611e2);}}}}['updateClea'+'rs'](){const _0x54e32b=this['renderActi'+'ons'][-0x6*0xeb+-0x14*0x13b+0x606*0x5];if(_0x54e32b){const _0x248668=_0x54e32b['camera']['camera'],_0x219d30=_0x248668['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x219d30&&_0x54e32b['clearColor']?_0x248668['clearColor']:void(-0x4*-0x73+-0x15*-0x1f+0x1*-0x457)),this['setClearDe'+'pth'](_0x219d30&&_0x54e32b['clearDepth']&&!this['noDepthCle'+'ar']?_0x248668['clearDepth']:void(-0x6*-0x2b4+-0x1*0xd4+-0xf64)),this['setClearSt'+'encil'](_0x219d30&&_0x54e32b['clearStenc'+'il']?_0x248668['clearStenc'+'il']:void(0x23f1+-0x30*0x1+-0x9*0x3f9));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x2e9c2f}=this;for(let _0x61b68a=-0xe89+0x61d+0x86c;_0x61b68a<_0x2e9c2f['length'];_0x61b68a++){const _0x87c859=_0x2e9c2f[_0x61b68a];_0x87c859['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x87c859['camera']);}}['execute'](){const {layerComposition:_0x2111e1,renderActions:_0x3f9041}=this;for(let _0xcd9650=-0x1f*-0x4f+-0x1dc4+0x1433*0x1;_0xcd9650<_0x3f9041['length'];_0xcd9650++){const _0x250f86=_0x3f9041[_0xcd9650],_0x1e5a79=_0x250f86['layer'];w['call'](()=>{_0x2111e1['getLayerBy'+'Name'](_0x1e5a79['name'])||w['warnOnce']('Layer\x20'+_0x1e5a79['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x2111e1['isEnabled'](_0x1e5a79,_0x250f86['transparen'+'t'])&&this['renderRend'+'erAction'](_0x250f86,_0xcd9650===0x737*-0x1+0x3f*0x40+-0x13*0x73);}}['after'](){for(let _0x4a13b8=0x3*-0x641+-0x1c91*0x1+0x2f54;_0x4a13b8<this['renderActi'+'ons']['length'];_0x4a13b8++){const _0x3382da=this['renderActi'+'ons'][_0x4a13b8];_0x3382da['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x3382da['camera']);}this['beforePass'+'es']['length']=0x3*-0x2b5+-0x26b0+0x1*0x2ecf;}['renderRend'+'erAction'](_0x23f26e,_0x5136ac){var _0x564b06;const {renderer:_0x4caf12,scene:_0x23fcda}=this,_0x546fd4=_0x4caf12['device'],{layer:_0x239e66,transparent:_0x11ebbb,camera:_0x346f77}=_0x23f26e;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x346f77?_0x346f77['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x239e66['name']+'('+(_0x11ebbb?'TRANSP':'OPAQUE')+')');const _0x1b835e=de();if(_0x346f77){const _0x1e6733=_0x346f77['gammaCorre'+'ction'],_0x2091e8=_0x346f77['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x16f+-0xec+-0x83)&&(_0x346f77['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1*-0x233f+-0x5*-0x7a6+-0x2ff*0x1)&&(_0x346f77['toneMappin'+'g']=this['toneMappin'+'g']),_0x23fcda['fire'](nE,_0x346f77,_0x239e66,_0x11ebbb);const _0x5c4a19={'lightClusters':_0x23f26e['lightClust'+'ers']},_0xde81f3=((_0x564b06=_0x346f77['camera']['shaderPass'+'Info'])==null?void(0x20e2+0x113a+0xc*-0x42d):_0x564b06['index'])??Aa;(!_0x5136ac||!_0x346f77['camera']['fullSizeCl'+'earRect'])&&(_0x5c4a19['clearColor']=_0x23f26e['clearColor'],_0x5c4a19['clearDepth']=_0x23f26e['clearDepth'],_0x5c4a19['clearStenc'+'il']=_0x23f26e['clearStenc'+'il']);const _0x215396=_0x23f26e['renderTarg'+'et']??_0x546fd4['backBuffer'];_0x4caf12['renderForw'+'ardLayer'](_0x346f77['camera'],_0x215396,_0x239e66,_0x11ebbb,_0xde81f3,_0x23f26e['viewBindGr'+'oups'],_0x5c4a19),_0x546fd4['setBlendSt'+'ate'](pt['NOBLEND']),_0x546fd4['setStencil'+'State'](null,null),_0x546fd4['setAlphaTo'+'Coverage'](!(0x1efc+0x1*-0x10bd+-0xe3e)),_0x23fcda['fire'](oE,_0x346f77,_0x239e66,_0x11ebbb),this['gammaCorre'+'ction']!==void(0x158f*0x1+-0x9*0x2fb+-0x544*-0x1)&&(_0x346f77['gammaCorre'+'ction']=_0x1e6733),this['toneMappin'+'g']!==void(-0x1d91+0x11ab+0xbe6)&&(_0x346f77['toneMappin'+'g']=_0x2091e8);}Q['popGpuMark'+'er'](this['device']),_0x239e66['_renderTim'+'e']+=de()-_0x1b835e;}['log'](_0x4c1440,_0x228e7a){if(super['log'](_0x4c1440,_0x228e7a),mi['get'](cn)){const {layerComposition:_0x43ac02}=this;this['renderActi'+'ons']['forEach']((_0x210803,_0x31bb9a)=>{const _0x29d25c=_0x210803['layer'],_0x4cf2f1=_0x29d25c['enabled']&&_0x43ac02['isEnabled'](_0x29d25c,_0x210803['transparen'+'t']),_0x168ef6=_0x210803['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x31bb9a+':'+('\x20Cam:\x20'+(_0x168ef6?_0x168ef6['entity']['name']:'-'))['padEnd'](-0x7a9*-0x1+-0x220e+-0x1*-0x1a7b,'\x20')+('\x20Lay:\x20'+_0x29d25c['name'])['padEnd'](-0x115b+-0x2*0x1234+0x35d9,'\x20')+(_0x210803['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4cf2f1?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x29d25c['meshInstan'+'ces']['length'])['padEnd'](0x2e1*-0x1+-0x23e9+0x26cf,'\x20'));});}}}class Zb extends ys{constructor(_0x1ee1da,_0x37440b,_0x289616){super(_0x1ee1da),this['renderer']=_0x37440b,this['renderActi'+'on']=_0x289616,this['requiresCu'+'bemaps']=!(-0x1*0x2619+-0x2406+-0x251*-0x20);}['execute'](){const _0x58c3ea=this['renderActi'+'on'],_0x1de705=_0x58c3ea['camera'];w['assert'](_0x58c3ea['triggerPos'+'tprocess']&&_0x1de705['onPostproc'+'essing']),_0x1de705['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0xe*0x62+0x3*-0x5ad+-0x1*-0x1663,this['shaderInst'+'ances']['length']=0x1ec3+-0x721+-0x17a2,this['isNewMater'+'ial']['length']=-0x58*-0x2b+0xcf4+-0x1bbc,this['lightMaskC'+'hanged']['length']=0x11*0x155+0x28e*0xc+0x1*-0x354d;}};function Jb(_0x21015e){const _0x479ee8=[];for(let _0x1e1bd5=0x205f+-0x27b+0x1de4*-0x1;_0x1e1bd5<_0x21015e;++_0x1e1bd5){const _0x48fb7d=Math['sqrt'](_0x1e1bd5+(0x1*-0xe9+0x36e+-0x285+0.5))/Math['sqrt'](_0x21015e);_0x479ee8['push'](_0x48fb7d);}return _0x479ee8;}function eA(_0xebe1a0){const _0x1f326b=[];for(let _0x5958dc=-0x1865+0x1d89*-0x1+-0x213*-0x1a;_0x5958dc<_0xebe1a0;_0x5958dc++){const _0x9f063f=_0x5958dc/_0xebe1a0,_0x2b01ab=Math['sqrt'](_0x9f063f*_0x9f063f);_0x1f326b['push'](_0x2b01ab);}return _0x1f326b;}const Ni=class Ni extends Yb{constructor(_0x35fe3e){super(_0x35fe3e);const _0x5af7ad=this['device'];this['_forwardDr'+'awCalls']=-0x23e1+-0xb*-0xcd+-0x906*-0x3,this['_materialS'+'witches']=0x92+0x1614+0x1be*-0xd,this['_depthMapT'+'ime']=-0x1db2+0x5*0x525+0x3f9,this['_forwardTi'+'me']=-0x4be*-0x6+0xd0*-0x1c+-0x2da*0x2,this['_sortTime']=-0xba9+-0x1ad+0x2*0x6ab;const _0x41feb8=_0x5af7ad['scope'];this['fogColorId']=_0x41feb8['resolve']('fog_color'),this['fogStartId']=_0x41feb8['resolve']('fog_start'),this['fogEndId']=_0x41feb8['resolve']('fog_end'),this['fogDensity'+'Id']=_0x41feb8['resolve']('fog_densit'+'y'),this['ambientId']=_0x41feb8['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x41feb8['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x41feb8['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x41feb8['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x41feb8['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x41feb8['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0xb63+0x21b2+-0x2d11),this['fogColor']=new Float32Array(0x4c2*0x2+0x303+-0xc84),this['ambientCol'+'or']=new Float32Array(0x1004*-0x1+-0x43*-0x76+-0x1*0xedb),this['pcssDiskSa'+'mples']=Jb(-0xa72+-0xed+-0x1*-0xb6f),this['pcssSphere'+'Samples']=eA(-0x1f6*0x13+-0xb1a*-0x3+0x404);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x43d7b4){const _0xeeb147=this['ambientCol'+'or'];if(or['linear'](_0x43d7b4['ambientLig'+'ht']),_0xeeb147[-0x3fe+-0x249f+0x119*0x25]=or['r'],_0xeeb147[0x17f4+0x3e*0x8c+-0x39db]=or['g'],_0xeeb147[0x1f*0x1f+0x3*-0x8b+0x2*-0x10f]=or['b'],_0x43d7b4['physicalUn'+'its']){for(let _0xcd8fd9=-0xa00+-0x7f*-0x41+-0x55*0x43;_0xcd8fd9<-0xcfb+0x35*0x28+-0x25b*-0x2;_0xcd8fd9++)_0xeeb147[_0xcd8fd9]*=_0x43d7b4['ambientLum'+'inance'];}this['ambientId']['setValue'](_0xeeb147),this['skyboxInte'+'nsityId']['setValue'](_0x43d7b4['physicalUn'+'its']?_0x43d7b4['skyboxLumi'+'nance']:_0x43d7b4['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x43d7b4['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x15b5fd,_0x1bf6a6){const _0x3f92be='light'+_0x1bf6a6;this['lightColor'+'Id'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_color'),this['lightDir'][_0x1bf6a6]=new Float32Array(-0xc85+0xa0b+0x27d),this['lightDirId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_direction'),this['lightShado'+'wMapId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_radius'),this['lightPos'][_0x1bf6a6]=new Float32Array(-0x3ff*-0x6+0x1*-0x101+0x1*-0x16f6),this['lightPosId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_position'),this['lightWidth'][_0x1bf6a6]=new Float32Array(0x1ec3+-0x3*-0x4be+-0x2cfa),this['lightWidth'+'Id'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_halfWidth'),this['lightHeigh'+'t'][_0x1bf6a6]=new Float32Array(0x2145+0x599*-0x1+-0x1ba9*0x1),this['lightHeigh'+'tId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+'_cookie'),this['lightCooki'+'eIntId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x1bf6a6]=_0x15b5fd['resolve'](_0x3f92be+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x1baf9e,_0x3d569b,_0x75d2a6,_0x278cc5,_0x527f0a){this['lightPos'][_0x3d569b][0xd9*-0x1c+-0x1*0x18a0+0x14*0x26b]=_0x278cc5['x']-_0x75d2a6['x']*_0x527f0a,this['lightPos'][_0x3d569b][-0x1b0f+0x1b76+-0x11*0x6]=_0x278cc5['y']-_0x75d2a6['y']*_0x527f0a,this['lightPos'][_0x3d569b][-0x1af*-0x12+-0x2700+-0x2*-0x45a]=_0x278cc5['z']-_0x75d2a6['z']*_0x527f0a,this['lightPosId'][_0x3d569b]['setValue'](this['lightPos'][_0x3d569b]);const _0x1191ad=_0x1baf9e['transformV'+'ector'](new D(-(-0x1732+0x13*-0x107+0x5*0x88b+0.5),0x89c+0x9e3*0x1+-0x1*0x127f,-0x1*0x15d9+-0x206e+0x3647));this['lightWidth'][_0x3d569b][-0x2*-0x49d+0x125a+-0x1b94]=_0x1191ad['x']*_0x527f0a,this['lightWidth'][_0x3d569b][-0xdf8+-0x6*-0x62f+-0x1f*0xbf]=_0x1191ad['y']*_0x527f0a,this['lightWidth'][_0x3d569b][-0x10ec+-0x136b+0x2459]=_0x1191ad['z']*_0x527f0a,this['lightWidth'+'Id'][_0x3d569b]['setValue'](this['lightWidth'][_0x3d569b]);const _0x37edad=_0x1baf9e['transformV'+'ector'](new D(0x2*-0xf7c+0x1187+0xd71,0x1*0x20b5+-0x84a+-0x186b*0x1,-0x22*0x71+0x17e0+-0xe3*0xa+0.5));this['lightHeigh'+'t'][_0x3d569b][-0xcbe+-0x602+-0x18*-0xc8]=_0x37edad['x']*_0x527f0a,this['lightHeigh'+'t'][_0x3d569b][-0x1d14+-0x1359+0x1*0x306e]=_0x37edad['y']*_0x527f0a,this['lightHeigh'+'t'][_0x3d569b][0xb3*0x2e+0x75c+-0x2784]=_0x37edad['z']*_0x527f0a,this['lightHeigh'+'tId'][_0x3d569b]['setValue'](this['lightHeigh'+'t'][_0x3d569b]);}['dispatchDi'+'rectLights'](_0x213053,_0x2979f0,_0x151458){let _0x445106=-0x129c+0x67e+0xc1e;const _0x13ddb2=this['device']['scope'];for(let _0x3c60ae=0x806+0x3d7+-0xbdd;_0x3c60ae<_0x213053['length'];_0x3c60ae++){if(!(_0x213053[_0x3c60ae]['mask']&_0x2979f0))continue;const _0x3ba0ba=_0x213053[_0x3c60ae],_0x2105ee=_0x3ba0ba['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x445106]||this['_resolveLi'+'ght'](_0x13ddb2,_0x445106),this['lightColor'+'Id'][_0x445106]['setValue'](_0x3ba0ba['_colorLine'+'ar']),_0x2105ee['getY'](_0x3ba0ba['_direction'])['mulScalar'](-(0x3e5*-0x5+0x13*0x15f+-0x693)),_0x3ba0ba['_direction']['normalize'](),this['lightDir'][_0x445106][-0x2246+0x10e3+0x1163*0x1]=_0x3ba0ba['_direction']['x'],this['lightDir'][_0x445106][0x1a28+-0xcb0*-0x3+-0x1*0x4037]=_0x3ba0ba['_direction']['y'],this['lightDir'][_0x445106][0x3d0*-0x2+0x143b*-0x1+0x1bdd]=_0x3ba0ba['_direction']['z'],this['lightDirId'][_0x445106]['setValue'](this['lightDir'][_0x445106]),_0x3ba0ba['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x2105ee,_0x445106,_0x3ba0ba['_direction'],_0x151458['_node']['getPositio'+'n'](),_0x151458['farClip']),_0x3ba0ba['castShadow'+'s']){const _0x11bb8d=_0x3ba0ba['getRenderD'+'ata'](_0x151458,-0xe*0x21d+0x2506+-0x770),_0x635af5=_0x3ba0ba['_getUnifor'+'mBiasValue'+'s'](_0x11bb8d);this['lightShado'+'wMapId'][_0x445106]['setValue'](_0x11bb8d['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x445106]['setValue'](_0x11bb8d['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x445106]['setValue'](_0x3ba0ba['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x445106]['setValue'](_0x3ba0ba['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x445106]['setValue'](_0x3ba0ba['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x445106]['setValue'](-0xb*-0x5f+0x8cb+0xcdf*-0x1-_0x3ba0ba['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x445106]['setValue'](_0x3ba0ba['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x445106]['setValue'](_0x3ba0ba['_softShado'+'wParams']),_0x11bb8d['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x445106]['setValue'](_0x3ba0ba['penumbraSi'+'ze']/_0x11bb8d['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x11bb8d['projection'+'Compensati'+'on']);const _0x2b051e=_0x3ba0ba['_shadowCam'+'eraParams'];_0x2b051e['length']=-0x583+-0xd57+0x12de,_0x2b051e[-0x1c2c+0x3be+0x186e]=-0xe14+-0x31f+0x1133,_0x2b051e[-0xf13+-0x1*-0x2111+-0x11fd]=_0x11bb8d['shadowCame'+'ra']['_farClip'],_0x2b051e[0x8f2+0x14ba+-0xed5*0x2]=_0x11bb8d['shadowCame'+'ra']['_nearClip'],_0x2b051e[-0xa0e+0x1b01+0x2*-0x878]=0x159*0x17+0x157d*0x1+-0x5*0xa7f,this['lightCamer'+'aParamsId'][_0x445106]['setValue'](_0x2b051e);const _0x3b7297=_0x3ba0ba['_shadowRen'+'derParams'];_0x3b7297['length']=0x2214+-0x13ff+-0xe11,_0x3b7297[-0xf69+0x1f3f+-0xfd6*0x1]=_0x3ba0ba['_shadowRes'+'olution'],_0x3b7297[-0x188f+0x11db+0x6b5]=_0x635af5['normalBias'],_0x3b7297[0xd*0x29+0x167*-0x3+0x222]=_0x635af5['bias'],_0x3b7297[0xf09*-0x1+-0x31d*-0x2+0x8d2]=-0x2537+-0x1*0x1541+0x3a78,this['lightShado'+'wParamsId'][_0x445106]['setValue'](_0x3b7297);}_0x445106++;}return _0x445106;}['setLTCPosi'+'tionalLigh'+'t'](_0x5d5839,_0x2f614f){const _0x146916=_0x5d5839['transformV'+'ector'](new D(-(0xf95+0x20e6+-0x3f*0xc5+0.5),0x1*-0x14d1+0x2*-0x9fe+0x28cd,-0xaf*0x7+0x1df9*-0x1+0x22c2));this['lightWidth'][_0x2f614f][-0x3*0x60d+0x1*-0x1abc+0x2ce3*0x1]=_0x146916['x'],this['lightWidth'][_0x2f614f][-0x1250+0xf84*-0x2+0x3159]=_0x146916['y'],this['lightWidth'][_0x2f614f][0x22d4+-0x1f62+-0x370]=_0x146916['z'],this['lightWidth'+'Id'][_0x2f614f]['setValue'](this['lightWidth'][_0x2f614f]);const _0x11f9fb=_0x5d5839['transformV'+'ector'](new D(-0x1573*0x1+-0x1e0d+0x3380,-0x15b1+-0xf22+-0x359*-0xb,-0x764+0x2373+-0x1*0x1c0f+0.5));this['lightHeigh'+'t'][_0x2f614f][-0x1*0x248d+-0x165a+0x377*0x11]=_0x11f9fb['x'],this['lightHeigh'+'t'][_0x2f614f][0x2682+0xccf*-0x2+-0xce3]=_0x11f9fb['y'],this['lightHeigh'+'t'][_0x2f614f][0xbd7*-0x1+0x131*-0x2+0xe3b]=_0x11f9fb['z'],this['lightHeigh'+'tId'][_0x2f614f]['setValue'](this['lightHeigh'+'t'][_0x2f614f]);}['dispatchOm'+'niLight'](_0x5c3fba,_0x1a90d5,_0x177488){const _0x3d2541=_0x1a90d5['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x177488]||this['_resolveLi'+'ght'](_0x5c3fba,_0x177488),this['lightRadiu'+'sId'][_0x177488]['setValue'](_0x1a90d5['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x177488]['setValue'](_0x1a90d5['_colorLine'+'ar']),_0x3d2541['getTransla'+'tion'](_0x1a90d5['_position']),this['lightPos'][_0x177488][-0x25fd*-0x1+0xe39+-0x1a1b*0x2]=_0x1a90d5['_position']['x'],this['lightPos'][_0x177488][-0x1bb5+0x1*0x125d+0x959]=_0x1a90d5['_position']['y'],this['lightPos'][_0x177488][-0x2318+-0x1d02+-0xb*-0x5d4]=_0x1a90d5['_position']['z'],this['lightPosId'][_0x177488]['setValue'](this['lightPos'][_0x177488]),_0x1a90d5['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3d2541,_0x177488),_0x1a90d5['castShadow'+'s']){const _0x3b7ec5=_0x1a90d5['getRenderD'+'ata'](null,0xdae+0x1e88+-0x161b*0x2);this['lightShado'+'wMapId'][_0x177488]['setValue'](_0x3b7ec5['shadowBuff'+'er']);const _0x34a01e=_0x1a90d5['_getUnifor'+'mBiasValue'+'s'](_0x3b7ec5),_0x290c2f=_0x1a90d5['_shadowRen'+'derParams'];_0x290c2f['length']=0x85*0x36+-0x1*0x106e+-0xb9c,_0x290c2f[-0xab*0x11+0x2*0x7+-0xb*-0x107]=_0x1a90d5['_shadowRes'+'olution'],_0x290c2f[0x164f*-0x1+-0x39e*0x2+0xf4*0x1f]=_0x34a01e['normalBias'],_0x290c2f[0x9c4*-0x1+-0x7*0x97+0x1*0xde7]=_0x34a01e['bias'],_0x290c2f[-0x19c2+0xb6f+0xe56]=(0x2*0x1223+-0xb*-0x336+-0x4797)/_0x1a90d5['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x177488]['setValue'](_0x290c2f),this['lightShado'+'wIntensity'][_0x177488]['setValue'](_0x1a90d5['shadowInte'+'nsity']);const _0x131e31=_0x1a90d5['penumbraSi'+'ze']/_0x3b7ec5['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x177488]['setValue'](_0x131e31);const _0x146566=_0x1a90d5['_shadowCam'+'eraParams'];_0x146566['length']=-0xa0b+0x5ee+-0x1*-0x421,_0x146566[0x1953+-0x2701+0x67*0x22]=-0x8a6+-0x990+-0x2a*-0x6f,_0x146566[-0x229e+-0x1993*-0x1+0x90c]=_0x3b7ec5['shadowCame'+'ra']['_farClip'],_0x146566[0x1*-0x3e5+0xce5+-0x8fe]=_0x3b7ec5['shadowCame'+'ra']['_nearClip'],_0x146566[0x7da+-0x1b3d+0x1366]=-0xfcf+-0x24a9+0xb8*0x49,this['lightCamer'+'aParamsId'][_0x177488]['setValue'](_0x146566);}_0x1a90d5['_cookie']&&(this['lightCooki'+'eId'][_0x177488]['setValue'](_0x1a90d5['_cookie']),this['lightShado'+'wMatrixId'][_0x177488]['setValue'](_0x3d2541['data']),this['lightCooki'+'eIntId'][_0x177488]['setValue'](_0x1a90d5['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x47b0c6,_0x1cefbe,_0x22658e){const _0x4dff84=_0x1cefbe['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x22658e]||this['_resolveLi'+'ght'](_0x47b0c6,_0x22658e),this['lightInAng'+'leId'][_0x22658e]['setValue'](_0x1cefbe['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x22658e]['setValue'](_0x1cefbe['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x22658e]['setValue'](_0x1cefbe['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x22658e]['setValue'](_0x1cefbe['_colorLine'+'ar']),_0x4dff84['getTransla'+'tion'](_0x1cefbe['_position']),this['lightPos'][_0x22658e][-0x269*0x1+0x57*0x13+-0x206*0x2]=_0x1cefbe['_position']['x'],this['lightPos'][_0x22658e][-0x23ab+0x122*0x1+-0x1145*-0x2]=_0x1cefbe['_position']['y'],this['lightPos'][_0x22658e][0x1*0xf7+0x43*0x17+0x37d*-0x2]=_0x1cefbe['_position']['z'],this['lightPosId'][_0x22658e]['setValue'](this['lightPos'][_0x22658e]),_0x1cefbe['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4dff84,_0x22658e),_0x4dff84['getY'](_0x1cefbe['_direction'])['mulScalar'](-(0x1dd3+0x1597+-0x29*0x141)),_0x1cefbe['_direction']['normalize'](),this['lightDir'][_0x22658e][-0x25b6+-0x2338+0x48ee]=_0x1cefbe['_direction']['x'],this['lightDir'][_0x22658e][-0x183a+0x7*0x52f+0x607*-0x2]=_0x1cefbe['_direction']['y'],this['lightDir'][_0x22658e][-0x9f*-0x36+0x17b*-0xa+-0x11*0x11a]=_0x1cefbe['_direction']['z'],this['lightDirId'][_0x22658e]['setValue'](this['lightDir'][_0x22658e]),_0x1cefbe['castShadow'+'s']){const _0x3a97be=_0x1cefbe['getRenderD'+'ata'](null,0x30a+-0xb5*-0x32+0x2f4*-0xd);this['lightShado'+'wMapId'][_0x22658e]['setValue'](_0x3a97be['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x22658e]['setValue'](_0x3a97be['shadowMatr'+'ix']['data']);const _0x332a7b=_0x1cefbe['_getUnifor'+'mBiasValue'+'s'](_0x3a97be),_0x7c09c7=_0x1cefbe['_shadowRen'+'derParams'];_0x7c09c7['length']=0x2548+-0x478+-0x1066*0x2,_0x7c09c7[0x6d5+-0x5e*-0x55+0x1*-0x260b]=_0x1cefbe['_shadowRes'+'olution'],_0x7c09c7[-0x1f18+-0x105a*-0x1+-0x19*-0x97]=_0x332a7b['normalBias'],_0x7c09c7[-0x1*-0x1201+0x15cd*0x1+0x13e6*-0x2]=_0x332a7b['bias'],_0x7c09c7[-0x4a9*0x2+0x1*-0x986+-0x649*-0x3]=(-0x1839+0x2ab*-0x5+0x1*0x2591)/_0x1cefbe['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x22658e]['setValue'](_0x7c09c7),this['lightShado'+'wIntensity'][_0x22658e]['setValue'](_0x1cefbe['shadowInte'+'nsity']);const _0x3c760e=_0x1cefbe['penumbraSi'+'ze']/_0x3a97be['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x47cc9c=_0x3a97be['shadowCame'+'ra']['_fov']*Math['PI']/(0x1423*0x1+0x1a7d+0x1*-0x2dec),_0x3c266e=(-0xfd*-0xb+-0x3*0x85+-0x94f*0x1)/Math['tan'](_0x47cc9c/(0x1008+-0x8f5+-0x25b*0x3));this['lightShado'+'wSearchAre'+'aId'][_0x22658e]['setValue'](_0x3c760e*_0x3c266e);const _0x14b7e6=_0x1cefbe['_shadowCam'+'eraParams'];_0x14b7e6['length']=-0x9b6+0x5a5*-0x1+0xf5f,_0x14b7e6[-0x2486+-0x2da+-0x54*-0x78]=0x52*-0xb+-0xece+0x1254,_0x14b7e6[-0x1d05+0x1*0x1493+0x873]=_0x3a97be['shadowCame'+'ra']['_farClip'],_0x14b7e6[-0x1e97*-0x1+0xada+-0x296f]=_0x3a97be['shadowCame'+'ra']['_nearClip'],_0x14b7e6[-0x18f*-0x15+-0x14e6+-0x11*0xb2]=-0x7*0xd7+-0x1a59+0x203a,this['lightCamer'+'aParamsId'][_0x22658e]['setValue'](_0x14b7e6);}if(_0x1cefbe['_cookie']){if(!_0x1cefbe['castShadow'+'s']){const _0x597c8f=Wn['evalSpotCo'+'okieMatrix'](_0x1cefbe);this['lightShado'+'wMatrixId'][_0x22658e]['setValue'](_0x597c8f['data']);}this['lightCooki'+'eId'][_0x22658e]['setValue'](_0x1cefbe['_cookie']),this['lightCooki'+'eIntId'][_0x22658e]['setValue'](_0x1cefbe['cookieInte'+'nsity']),_0x1cefbe['_cookieTra'+'nsform']&&(_0x1cefbe['_cookieTra'+'nsformUnif'+'orm'][-0xb*0x2f+0x116d+0x8*-0x1ed]=_0x1cefbe['_cookieTra'+'nsform']['x'],_0x1cefbe['_cookieTra'+'nsformUnif'+'orm'][0x1*0x4cf+0x3*-0x503+-0x369*-0x3]=_0x1cefbe['_cookieTra'+'nsform']['y'],_0x1cefbe['_cookieTra'+'nsformUnif'+'orm'][-0x727*0x2+-0x118f+-0x1*-0x1fdf]=_0x1cefbe['_cookieTra'+'nsform']['z'],_0x1cefbe['_cookieTra'+'nsformUnif'+'orm'][-0xe*0xbc+0x495+0x1*0x5b6]=_0x1cefbe['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x22658e]['setValue'](_0x1cefbe['_cookieTra'+'nsformUnif'+'orm']),_0x1cefbe['_cookieOff'+'setUniform'][-0x12fe+-0x2*0x93c+0x2576]=_0x1cefbe['_cookieOff'+'set']['x'],_0x1cefbe['_cookieOff'+'setUniform'][0x11d*0x19+-0x261f+-0x1*-0xa4b]=_0x1cefbe['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x22658e]['setValue'](_0x1cefbe['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x5cd881,_0x30a777,_0x2d5799){let _0x585633=_0x2d5799;const _0x43f42a=this['device']['scope'],_0x49e7cf=_0x5cd881[Ke],_0x365029=_0x49e7cf['length'];for(let _0x541cad=-0x17ba+0x1*-0x1c5f+0x3419;_0x541cad<_0x365029;_0x541cad++){const _0x56b54f=_0x49e7cf[_0x541cad];_0x56b54f['mask']&_0x30a777&&(this['dispatchOm'+'niLight'](_0x43f42a,_0x56b54f,_0x585633),_0x585633++);}const _0xf7a1a3=_0x5cd881[Ze],_0x39ebe1=_0xf7a1a3['length'];for(let _0x1e27de=-0x8ad*0x1+-0x1*0x10db+0x1988;_0x1e27de<_0x39ebe1;_0x1e27de++){const _0x29aa99=_0xf7a1a3[_0x1e27de];_0x29aa99['mask']&_0x30a777&&(this['dispatchSp'+'otLight'](_0x43f42a,_0x29aa99,_0x585633),_0x585633++);}}['renderForw'+'ardPrepare'+'Materials'](_0x1ee38d,_0x2232ba,_0x40cdfe,_0x23f0b3,_0x16d1af,_0xfc9492){const _0x5c5ce7=_0x1ee38d['fogParams']??this['scene']['fog'],_0x473e8a=_0x1ee38d['shaderPara'+'ms'];_0x473e8a['fog']=_0x5c5ce7['type'],_0x473e8a['srgbRender'+'Target']=(_0x2232ba==null?void(0x1*0x150b+0x2*0x124c+-0x39a3):_0x2232ba['isColorBuf'+'ferSrgb'](0x25bf+-0x487*0x7+0x2*-0x307))??!(0x699+-0xc41+-0x3f*-0x17);const _0x94db7=(_0x3621f,_0x2cd726,_0x322184,_0x1c381b)=>{Nr['drawCalls']['push'](_0x3621f),Nr['shaderInst'+'ances']['push'](_0x2cd726),Nr['isNewMater'+'ial']['push'](_0x322184),Nr['lightMaskC'+'hanged']['push'](_0x1c381b);};Nr['clear']();const _0x1ecaab=this['device'],_0x414d09=this['scene'],_0x3ecbca=_0x414d09['clusteredL'+'ightingEna'+'bled'],_0x37fb11=(_0x16d1af==null?void(-0xf6b*-0x2+0x1843+0x7*-0x7df):_0x16d1af['getLightHa'+'sh'](_0x3ecbca))??0xdc1*0x1+-0x1*-0x2fe+-0x10bf;let _0x36a1ef=null,_0x178bcd,_0x1f8be8;const _0x2ea774=_0x40cdfe['length'];for(let _0x39febe=0x11be+0x2073+-0x1*0x3231;_0x39febe<_0x2ea774;_0x39febe++){const _0x10355a=_0x40cdfe[_0x39febe];if(_0x1ee38d===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x16d1af){if(_0x16d1af['_skipRende'+'rCounter']>=_0x16d1af['skipRender'+'After'])continue;_0x16d1af['_skipRende'+'rCounter']++;}const _0x2e10ad=_0x10355a['instancing'+'Data'];if(_0x2e10ad&&_0x2e10ad['count']<=0x2638+-0x7a1+-0x29*0xbf)continue;_0x10355a['ensureMate'+'rial'](_0x1ecaab);const _0x1b632a=_0x10355a['material'],_0x18e54a=_0x10355a['_shaderDef'+'s'],_0x27ec4d=_0x10355a['mask'];_0x1b632a&&_0x1b632a===_0x36a1ef&&_0x18e54a!==_0x178bcd&&(_0x36a1ef=null),_0x1b632a!==_0x36a1ef&&(this['_materialS'+'witches']++,_0x1b632a['_scene']=_0x414d09,_0x1b632a['dirty']&&(Q['pushGpuMar'+'ker'](_0x1ecaab,'Node:\x20'+_0x10355a['node']['name']+(',\x20Material'+':\x20')+_0x1b632a['name']),_0x1b632a['updateUnif'+'orms'](_0x1ecaab,_0x414d09),_0x1b632a['dirty']=!(0x1*-0xd95+0xbc9*0x3+0x1*-0x15c5),Q['popGpuMark'+'er'](_0x1ecaab)));const _0x186314=_0x10355a['getShaderI'+'nstance'](_0xfc9492,_0x37fb11,_0x414d09,_0x473e8a,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x23f0b3);_0x94db7(_0x10355a,_0x186314,_0x1b632a!==_0x36a1ef,!_0x36a1ef||_0x27ec4d!==_0x1f8be8),_0x36a1ef=_0x1b632a,_0x178bcd=_0x18e54a,_0x1f8be8=_0x27ec4d;}return Nr;}['renderForw'+'ardInterna'+'l'](_0xa32a2e,_0x1dd30b,_0x400518,_0x4a5a8b,_0x40ffb5,_0x5aced0,_0x209246){var _0xf97a84,_0x59cbdf;const _0x42f158=this['device'],_0x1e042a=this['scene'],_0x4e621f=0x2d*-0x75+0x1*0x21fe+0x35b*-0x4<<_0x4a5a8b,_0x3d2fa4=_0x5aced0?-(0xe9*-0xe+0xf47+-0x288):-0x13*-0x12d+-0x19c9+0x373,_0x3d03f8=_0x1e042a['clusteredL'+'ightingEna'+'bled'],_0x1025e8=(_0xf97a84=_0xa32a2e['xr'])!=null&&_0xf97a84['session']&&_0xa32a2e['xr']['views']['list']['length']?_0xa32a2e['xr']['views']['list']:null,_0x4bcae5=_0x1dd30b['drawCalls']['length'];for(let _0x32a5cc=-0x1*-0x2494+0x19b9+-0x1*0x3e4d;_0x32a5cc<_0x4bcae5;_0x32a5cc++){const _0x47836a=_0x1dd30b['drawCalls'][_0x32a5cc],_0x7de158=_0x1dd30b['isNewMater'+'ial'][_0x32a5cc],_0x47842d=_0x1dd30b['lightMaskC'+'hanged'][_0x32a5cc],_0x59903a=_0x1dd30b['shaderInst'+'ances'][_0x32a5cc],_0x25e2b5=_0x47836a['material'],_0x5e8f9c=_0x47836a['mask'];if(_0x59903a['shader']['failed'])continue;if(_0x7de158){if(_0x42f158['setShader'](_0x59903a['shader'],!(-0x6d3+-0x1*0x1c19+0x22ed)),_0x25e2b5['setParamet'+'ers'](_0x42f158),_0x47842d){const _0x5608e7=this['dispatchDi'+'rectLights'](_0x400518[ve],_0x5e8f9c,_0xa32a2e);_0x3d03f8||this['dispatchLo'+'calLights'](_0x400518,_0x5e8f9c,_0x5608e7);}this['alphaTestI'+'d']['setValue'](_0x25e2b5['alphaTest']),_0x42f158['setBlendSt'+'ate'](_0x25e2b5['blendState']),_0x42f158['setDepthSt'+'ate'](_0x25e2b5['depthState']),_0x42f158['setAlphaTo'+'Coverage'](_0x25e2b5['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x42f158,'Node:\x20'+_0x47836a['node']['name']+(',\x20Material'+':\x20')+_0x25e2b5['name']),this['setupCullM'+'ode'](_0xa32a2e['_cullFaces'],_0x3d2fa4,_0x47836a);const _0x19fc36=_0x47836a['stencilFro'+'nt']??_0x25e2b5['stencilFro'+'nt'],_0x38654f=_0x47836a['stencilBac'+'k']??_0x25e2b5['stencilBac'+'k'];_0x42f158['setStencil'+'State'](_0x19fc36,_0x38654f),_0x47836a['setParamet'+'ers'](_0x42f158,_0x4e621f),_0x42f158['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x47836a['id']);const _0x16b297=_0x47836a['mesh'];this['setVertexB'+'uffers'](_0x42f158,_0x16b297),this['setMorphin'+'g'](_0x42f158,_0x47836a['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x42f158,_0x47836a);const _0x1a0024=_0x47836a['instancing'+'Data'];_0x1a0024&&_0x42f158['setVertexB'+'uffer'](_0x1a0024['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x47836a,!(-0x1*0xb3f+0x134+0xa0b)),this['setupMeshU'+'niformBuff'+'ers'](_0x59903a);const _0x11d904=_0x47836a['renderStyl'+'e'],_0x427c00=_0x16b297['indexBuffe'+'r'][_0x11d904];_0x40ffb5==null||_0x40ffb5(_0x47836a,_0x32a5cc);const _0x4e3367=(_0x59cbdf=_0x47836a['indirectDa'+'ta'])==null?void(-0x1e10+-0x14a1+-0x13*-0x2ab):_0x59cbdf['get'](_0xa32a2e);if(_0x1025e8)for(let _0x447b3e=-0x4d9*-0x1+-0x8db*-0x1+-0xdb4;_0x447b3e<_0x1025e8['length'];_0x447b3e++){const _0x51ea8d=_0x1025e8[_0x447b3e];if(_0x42f158['setViewpor'+'t'](_0x51ea8d['viewport']['x'],_0x51ea8d['viewport']['y'],_0x51ea8d['viewport']['z'],_0x51ea8d['viewport']['w']),_0x42f158['supportsUn'+'iformBuffe'+'rs']){const _0x4b0d97=_0x209246[_0x447b3e];_0x42f158['setBindGro'+'up'](rl,_0x4b0d97);}else this['setupViewU'+'niforms'](_0x51ea8d,_0x447b3e);const _0x402a43=_0x447b3e===0x9c*0x36+-0xf1*-0x1f+-0x3e17,_0x1ea6f3=_0x447b3e===_0x1025e8['length']-(0x1bf1+-0x185*0xd+-0x82f);_0x42f158['draw'](_0x16b297['primitive'][_0x11d904],_0x427c00,_0x1a0024==null?void(-0x1c40+-0x257*-0x4+0x12e4):_0x1a0024['count'],_0x4e3367,_0x402a43,_0x1ea6f3),this['_forwardDr'+'awCalls']++,_0x47836a['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x42f158['draw'](_0x16b297['primitive'][_0x11d904],_0x427c00,_0x1a0024==null?void(-0x2318+-0x2de*0x1+0x12fb*0x2):_0x1a0024['count'],_0x4e3367),this['_forwardDr'+'awCalls']++,_0x47836a['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x32a5cc<_0x4bcae5-(-0x60a+0x21fe+-0x2d*0x9f)&&!_0x1dd30b['isNewMater'+'ial'][_0x32a5cc+(0x14e1+-0x1*-0x14d3+-0x29b3)]&&_0x25e2b5['setParamet'+'ers'](_0x42f158,_0x47836a['parameters']),Q['popGpuMark'+'er'](_0x42f158);}}['renderForw'+'ard'](_0x24f89a,_0x52aca1,_0x2148c9,_0x195f3d,_0x214f2a,_0x4b4214,_0x56fdbc,_0x5b9f04,_0x5a9b19){const _0x3d6525=de(),_0x26518a=this['renderForw'+'ardPrepare'+'Materials'](_0x24f89a,_0x52aca1,_0x2148c9,_0x195f3d,_0x56fdbc,_0x214f2a);this['renderForw'+'ardInterna'+'l'](_0x24f89a,_0x26518a,_0x195f3d,_0x214f2a,_0x4b4214,_0x5b9f04,_0x5a9b19),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x3d6525;}['renderForw'+'ardLayer'](_0x403222,_0x47dc40,_0x290896,_0x2e0c22,_0x565971,_0x587876,_0x3a250b={}){const {scene:_0x5dde2a,device:_0x708489}=this,_0x2524ae=_0x5dde2a['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x403222,_0x47dc40);let _0x2afc49,_0x5f0c32;if(_0x290896){const _0x3a514c=de();_0x290896['sortVisibl'+'e'](_0x403222,_0x2e0c22),this['_sortTime']+=de()-_0x3a514c;const _0x23066c=_0x290896['getCulledI'+'nstances'](_0x403222);_0x2afc49=_0x2e0c22?_0x23066c['transparen'+'t']:_0x23066c['opaque'],_0x5dde2a['immediate']['onPreRende'+'rLayer'](_0x290896,_0x2afc49,_0x2e0c22),_0x290896['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x5dde2a['ambientLig'+'ht'],_0x290896['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x5f0c32=_0x290896['splitLight'+'s'];}else _0x2afc49=_0x3a250b['meshInstan'+'ces'],_0x5f0c32=_0x3a250b['splitLight'+'s']??Qb;if(w['assert'](_0x2afc49,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x2524ae){const _0x244ca7=_0x3a250b['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x244ca7['activate'](),_0x290896&&!this['clustersDe'+'bugRendere'+'d']&&_0x5dde2a['lighting']['debugLayer']===_0x290896['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x1d94+-0x17ff+0x3593),hu['render'](_0x244ca7,this['scene']));}_0x5dde2a['_activeCam'+'era']=_0x403222;const _0x313694=_0x403222['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x313694);const _0x5acbe5=this['setCameraU'+'niforms'](_0x403222,_0x47dc40);_0x708489['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x587876,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5acbe5);const _0x17047c=_0x3a250b['clearColor']??!(0x1590+-0x115*0x4+0xb*-0x191),_0x18fbce=_0x3a250b['clearDepth']??!(-0x3*0x3d+0xadb+-0xa23),_0x53e3cc=_0x3a250b['clearStenc'+'il']??!(0x16*-0xd5+0x1dbc+-0xb6d);(_0x17047c||_0x18fbce||_0x53e3cc)&&this['clear'](_0x403222,_0x17047c,_0x18fbce,_0x53e3cc);const _0x21715a=!!(_0x403222['_flipFaces']^(_0x47dc40==null?void(0x5*0xb+-0x12a1+0x935*0x2):_0x47dc40['flipY'])),_0x118c60=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x403222,_0x47dc40,_0x2afc49,_0x5f0c32,_0x565971,null,_0x290896,_0x21715a,_0x587876),_0x290896&&(_0x290896['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x118c60);}['setFogCons'+'tants'](_0xb59a64){if(_0xb59a64['type']!==Kn){or['linear'](_0xb59a64['color']);const _0x3f6381=this['fogColor'];_0x3f6381[0xd44+0x166*0x7+-0x1c6*0xd]=or['r'],_0x3f6381[0xbfb*0x3+0x26e6+-0x4ad6]=or['g'],_0x3f6381[0xbf0+0x1d47+0x1*-0x2935]=or['b'],this['fogColorId']['setValue'](_0x3f6381),_0xb59a64['type']===Iw?(this['fogStartId']['setValue'](_0xb59a64['start']),this['fogEndId']['setValue'](_0xb59a64['end'])):this['fogDensity'+'Id']['setValue'](_0xb59a64['density']);}}['setSceneCo'+'nstants'](){const _0x45bf3e=this['scene'];this['dispatchGl'+'obalLights'](_0x45bf3e);const _0x6968ca=this['device'];this['_screenSiz'+'e'][-0x931+-0xd3d*-0x1+0x25*-0x1c]=_0x6968ca['width'],this['_screenSiz'+'e'][-0x571+0x24a8+-0x5e*0x55]=_0x6968ca['height'],this['_screenSiz'+'e'][-0x1404+-0x26b*-0xe+-0xc*0x127]=(-0x1fdc+-0x2441+0x441e)/_0x6968ca['width'],this['_screenSiz'+'e'][-0x49*0x39+-0x1e78+0x2ebc]=(0x1174+-0x855*0x3+0x78c)/_0x6968ca['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x4db285,_0x5ca692){const _0x1e4271=this['scene'];if(_0x4db285['reset'](),_0x1e4271['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x53a8d0,cookiesEnabled:_0x488c7c}=_0x1e4271['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x4db285,_0x53a8d0,_0x488c7c,this['lights'],this['localLight'+'s']),_0x4db285['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x4db285,this['localLight'+'s']);let _0x557587=0x8e0+-0x60e*0x6+0x1b74,_0x59ef91=!(0x11ae*-0x1+-0xc79+0x1e27),_0x1ecdcd=null;const _0xc88c00=_0x5ca692['_renderAct'+'ions'];for(let _0x1ad739=_0x557587;_0x1ad739<_0xc88c00['length'];_0x1ad739++){const _0x1c9156=_0xc88c00[_0x1ad739],{layer:_0x36636a,camera:_0x17385c}=_0x1c9156;if(_0x1c9156['useCameraP'+'asses'])w['call'](()=>{_0x17385c['postEffect'+'s']['effects']['length']>0x65a+-0x1dcb+0x1771&&w['warnOnce']('Camera\x20\x27'+_0x17385c['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x17385c['camera']['renderPass'+'es']['forEach'](_0x5bf30a=>{_0x4db285['addRenderP'+'ass'](_0x5bf30a);});else{const _0x57d294=_0x36636a['id']===ps,_0x4b9705=_0x57d294&&(_0x17385c['renderScen'+'eColorMap']||_0x17385c['renderScen'+'eDepthMap']);_0x59ef91&&(_0x59ef91=!(0x1c34+-0x2b*0x71+-0x938),_0x557587=_0x1ad739,_0x1ecdcd=_0x1c9156['renderTarg'+'et']);const _0x2f6ffa=_0xc88c00[_0x1ad739+(0xf78+0x3*-0x1ee+-0x9ad)],_0xb315b1=(_0x2f6ffa?!_0x2f6ffa['useCameraP'+'asses']&&_0x2f6ffa['layer']['id']===ps:!(-0x260*-0x1+-0xd9*0x2e+0x249f))&&(_0x17385c['renderScen'+'eColorMap']||_0x17385c['renderScen'+'eDepthMap']),_0x16e76b=_0x2f6ffa?_0x2f6ffa['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x2f6ffa['camera']['camera']):!(0x1d70+-0xf93+-0xddc);if(!_0x2f6ffa||_0x2f6ffa['renderTarg'+'et']!==_0x1ecdcd||_0x16e76b||_0xb315b1||_0x4b9705){if(_0x57d294&&_0x557587===_0x1ad739||this['addMainRen'+'derPass'](_0x4db285,_0x5ca692,_0x1ecdcd,_0x557587,_0x1ad739),_0x57d294){if(_0x17385c['renderScen'+'eColorMap']){const _0x23335f=_0x17385c['camera']['renderPass'+'ColorGrab'];_0x23335f['source']=_0x17385c['renderTarg'+'et'],_0x4db285['addRenderP'+'ass'](_0x23335f);}_0x17385c['renderScen'+'eDepthMap']&&_0x4db285['addRenderP'+'ass'](_0x17385c['camera']['renderPass'+'DepthGrab']);}if(_0x1c9156['triggerPos'+'tprocess']&&(_0x17385c!=null&&_0x17385c['onPostproc'+'essing'])){const _0x303e0e=new Zb(this['device'],this,_0x1c9156);_0x4db285['addRenderP'+'ass'](_0x303e0e);}_0x59ef91=!(0x6ea+0xe2*0x23+-0x79*0x50);}}}}['addMainRen'+'derPass'](_0x1b673f,_0x41b45c,_0x602aa5,_0x5f51fb,_0x3f92f3){const _0x2ac55d=new Kb(this['device'],_0x41b45c,this['scene'],this);_0x2ac55d['init'](_0x602aa5);const _0x43df24=_0x41b45c['_renderAct'+'ions'];for(let _0x58c528=_0x5f51fb;_0x58c528<=_0x3f92f3;_0x58c528++)_0x2ac55d['addRenderA'+'ction'](_0x43df24[_0x58c528]);_0x1b673f['addRenderP'+'ass'](_0x2ac55d);}['update'](_0x25ce74){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x25ce74),this['collectLig'+'hts'](_0x25ce74),this['beginFrame'](_0x25ce74),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x25ce74),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x7ab+-0x1*-0x2077+-0x2822),h(Ni,'skipRender'+'After',0x140d+0x16a0+-0x2aad);let fl=Ni,uf=0x1*-0x15dd+-0x1697+0x2c74;const co=[],hc=new Set();function tA(_0x28deb9,_0x3c2137){return _0x28deb9['drawOrder']-_0x3c2137['drawOrder'];}function sA(_0x4bd25a,_0x24acac){const _0x5827e7=_0x4bd25a['_sortKeyFo'+'rward'],_0x3113a4=_0x24acac['_sortKeyFo'+'rward'];return _0x5827e7===_0x3113a4?_0x24acac['mesh']['id']-_0x4bd25a['mesh']['id']:_0x3113a4-_0x5827e7;}function iA(_0x5d8757,_0x4d292a){return _0x4d292a['_sortKeyDy'+'namic']-_0x5d8757['_sortKeyDy'+'namic'];}function rA(_0xc8ce02,_0x328d9e){return _0xc8ce02['_sortKeyDy'+'namic']-_0x328d9e['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x169a58={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0xe*0x2bc+-0x18e6+0x3f2e*0x1)),h(this,'requiresLi'+'ghtCube',!(-0x3f*-0x5+0xa*0x3ce+-0x2746)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(-0xdc*-0x4+0x263d+-0x29ac)),(_0x169a58['id']!==void(0x19ff+-0x4*-0x133+-0x1ecb)?(this['id']=_0x169a58['id'],uf=Math['max'](this['id']+(0xcae+0x14f*0x1+-0x37f*0x4),uf)):this['id']=uf++,this['name']=_0x169a58['name'],this['_enabled']=_0x169a58['enabled']??!(0x1*0x26e5+-0x253e+0x1a7*-0x1),this['_refCounte'+'r']=this['_enabled']?-0x135a+0x506*0x5+-0x1*0x5c3:0x466*-0x7+0x27*-0xa3+0x379f,this['opaqueSort'+'Mode']=_0x169a58['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x169a58['transparen'+'tSortMode']??m_,_0x169a58['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x169a58['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x169a58['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x169a58['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x169a58['clearStenc'+'ilBuffer'],this['onEnable']=_0x169a58['onEnable'],this['onDisable']=_0x169a58['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x59*-0x5d+-0x361+-0x1cf4,this['_lightHash'+'Dirty']=!(0x8*0x282+0x1d72+0x1*-0x3181),this['_lightIdHa'+'sh']=0x56*0x13+0xd9c+-0x2*0x9ff,this['_lightIdHa'+'shDirty']=!(-0x874+-0x13f+0x9b4),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0xaad+-0x1746+0x21f3,this['_renderTim'+'e']=-0x1ff4+-0x8*0x1a+-0x576*-0x6,this['_forwardDr'+'awCalls']=-0x891*0x3+0x8*-0x4dd+0x409b*0x1,this['_shadowDra'+'wCalls']=-0x876+0x3*-0xc1f+-0x3*-0xef1,this['_shaderVer'+'sion']=-(0xe9*-0x19+0x2262+-0x174*0x8));}set['enabled'](_0x24c269){_0x24c269!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0xbb5+0x11f4+-0x1da9*0x1),this['_enabled']=_0x24c269,_0x24c269?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x41bcae){this['_clearColo'+'rBuffer']=_0x41bcae,this['_dirtyComp'+'osition']=!(-0x2e+-0x139*0xd+0x1013);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x3591ba){this['_clearDept'+'hBuffer']=_0x3591ba,this['_dirtyComp'+'osition']=!(-0xcd3+0xc85*0x1+0x1a*0x3);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x54c895){this['_clearSten'+'cilBuffer']=_0x54c895,this['_dirtyComp'+'osition']=!(-0xe0a+0x91*0x15+0x225*0x1);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x2*-0x233+0x2294+-0x26fa;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x642*0x1+0x1ccc+-0x230e&&(this['_enabled']=!(0x21*0xb5+-0x12*0x17b+0x3*0x11b),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x5*-0x6cf+-0xb6c+0x2d78)this['_enabled']=!(-0x5*0x62b+0x117*0x11+-0x1*-0xc51),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x1c57*-0x1+0x1bb1+-0x3808){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x58c91f,_0x1d0e9c){const _0x2552c8=this['meshInstan'+'ces'],_0x498e9d=this['meshInstan'+'cesSet'];for(let _0x5a7d8c=0x1cf*-0xf+0x174a+0x3d7;_0x5a7d8c<_0x58c91f['length'];_0x5a7d8c++){const _0x2f50a0=_0x58c91f[_0x5a7d8c];_0x498e9d['has'](_0x2f50a0)||(_0x2552c8['push'](_0x2f50a0),_0x498e9d['add'](_0x2f50a0),hc['add'](_0x2f50a0['material']));}if(_0x1d0e9c||this['addShadowC'+'asters'](_0x58c91f),hc['size']>-0x109a+0x16b5+0x3*-0x209){const _0x2a06df=this['_shaderVer'+'sion'];hc['forEach'](_0xeec875=>{_0x2a06df>=0x1f19*0x1+0x16*-0xf1+0x1*-0xa63&&_0xeec875['_shaderVer'+'sion']!==_0x2a06df&&(_0xeec875['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0xeec875['clearVaria'+'nts'](),_0xeec875['_shaderVer'+'sion']=_0x2a06df);}),hc['clear']();}}['removeMesh'+'Instances'](_0x57e729,_0x5110fa){const _0x21dfdc=this['meshInstan'+'ces'],_0x2072f1=this['meshInstan'+'cesSet'];for(let _0x5d95fb=-0x2*0x33e+0x9*-0xb5+0xcd9;_0x5d95fb<_0x57e729['length'];_0x5d95fb++){const _0x5d1459=_0x57e729[_0x5d95fb];if(_0x2072f1['has'](_0x5d1459)){_0x2072f1['delete'](_0x5d1459);const _0x5d8737=_0x21dfdc['indexOf'](_0x5d1459);_0x5d8737>=0x186+-0x15a4+0x141e&&_0x21dfdc['splice'](_0x5d8737,-0x40e+-0xc5*-0x1d+-0x616*0x3);}}_0x5110fa||this['removeShad'+'owCasters'](_0x57e729);}['addShadowC'+'asters'](_0x1c19cc){const _0x40586e=this['shadowCast'+'ers'],_0x4a4271=this['shadowCast'+'ersSet'];for(let _0x2ea165=-0x5*-0x115+-0xfad+0x522*0x2;_0x2ea165<_0x1c19cc['length'];_0x2ea165++){const _0x217d48=_0x1c19cc[_0x2ea165];_0x217d48['castShadow']&&!_0x4a4271['has'](_0x217d48)&&(_0x4a4271['add'](_0x217d48),_0x40586e['push'](_0x217d48));}}['removeShad'+'owCasters'](_0x46e481){const _0x351742=this['shadowCast'+'ers'],_0x227214=this['shadowCast'+'ersSet'];for(let _0x111537=0x260*-0x3+-0x1cfa+0x241a;_0x111537<_0x46e481['length'];_0x111537++){const _0x254f4e=_0x46e481[_0x111537];if(_0x227214['has'](_0x254f4e)){_0x227214['delete'](_0x254f4e);const _0x323030=_0x351742['indexOf'](_0x254f4e);_0x323030>=0x13c4+0x219c+-0x3560&&_0x351742['splice'](_0x323030,-0x443*-0x1+-0x3*-0xc09+-0x285d*0x1);}}}['clearMeshI'+'nstances'](_0x594c5e=!(0x262f+-0x10ae+-0x560*0x4)){this['meshInstan'+'ces']['length']=-0x2458+0x1*0x21a1+-0x2b7*-0x1,this['meshInstan'+'cesSet']['clear'](),_0x594c5e||(this['shadowCast'+'ers']['length']=0x74a*0x1+-0xf9a+-0x70*-0x13,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x681+-0xa3*-0x3d+-0x2056),this['_lightIdHa'+'shDirty']=!(0x18b3+-0xd2a+-0x1*0xb89),this['_splitLigh'+'tsDirty']=!(-0x264a*-0x1+0x1844+-0x3e8e);}['hasLight'](_0x4ab548){return this['_lightsSet']['has'](_0x4ab548);}['addLight'](_0x2657fa){const _0x146ea3=_0x2657fa['light'];this['_lightsSet']['has'](_0x146ea3)||(this['_lightsSet']['add'](_0x146ea3),this['_lights']['push'](_0x146ea3),this['markLights'+'Dirty']()),_0x146ea3['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x146ea3);}['removeLigh'+'t'](_0x318264){const _0x5abc6c=_0x318264['light'];this['_lightsSet']['has'](_0x5abc6c)&&(this['_lightsSet']['delete'](_0x5abc6c),this['_lights']['splice'](this['_lights']['indexOf'](_0x5abc6c),0x5d8+-0x9ae+0x3d7),this['markLights'+'Dirty']()),_0x5abc6c['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x5abc6c);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x33d7e4=>_0x33d7e4['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0xa*-0x332+-0xb2*-0xc+-0x284c,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x305*-0xb+-0x265*-0x3+0x1f*0xd7);const _0x4c7ac7=this['_splitLigh'+'ts'];for(let _0x3e0fb3=-0x6d1+-0x139c+0x1a6d;_0x3e0fb3<_0x4c7ac7['length'];_0x3e0fb3++)_0x4c7ac7[_0x3e0fb3]['length']=0x8*0x12c+0x7*0x2f5+-0x1*0x1e13;const _0x48c064=this['_lights'];for(let _0x1600be=-0x700+-0xee2+0x1*0x15e2;_0x1600be<_0x48c064['length'];_0x1600be++){const _0x5cdf9a=_0x48c064[_0x1600be];_0x5cdf9a['enabled']&&_0x4c7ac7[_0x5cdf9a['_type']]['push'](_0x5cdf9a);}for(let _0x4f82a6=0x10*0x58+0x1f29*-0x1+-0x19a9*-0x1;_0x4f82a6<_0x4c7ac7['length'];_0x4f82a6++)_0x4c7ac7[_0x4f82a6]['sort']((_0x37c8ae,_0x5a11fa)=>_0x37c8ae['key']-_0x5a11fa['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0xc3295f,_0x2e46a8,_0x5152c4){let _0x5b1534=0x1*-0xa05+-0x13*-0x79+-0x26*-0x7;const _0x5becc1=this['_lights'];for(let _0x41b656=0x5*0x34c+0x62*-0x52+-0x3*-0x4f8;_0x41b656<_0x5becc1['length'];_0x41b656++){const _0x37a54b=_0x5becc1[_0x41b656]['type']!==ve;(_0xc3295f&&_0x37a54b||_0x2e46a8&&!_0x37a54b)&&co['push'](_0x5152c4?_0x5becc1[_0x41b656]['id']:_0x5becc1[_0x41b656]['key']);}return co['length']>-0x174e*-0x1+-0x12aa+-0x2*0x252&&(co['sort'](),_0x5b1534=By(co),co['length']=-0x12c1*0x2+0x5d*0xd+0x4d*0x6d),_0x5b1534;}['getLightHa'+'sh'](_0x2e81f7){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1f3b+0xab*0x15+0x1135),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x2e81f7,!(0x138+0x261*0x9+-0x16a1),!(0x1bd+-0x179d+0x1*0x15e1))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x89b*-0x4+-0x1f1*0x13+-0x4f*-0x8),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0xc*-0x209+0x14d0+0x39c),!(0x6*0x3e1+0x1b8f+-0x32d4*0x1),!(0x2531+-0xc7d*0x2+-0xc37))),this['_lightIdHa'+'sh'];}['addCamera'](_0x5c90d5){this['camerasSet']['has'](_0x5c90d5['camera'])||(this['camerasSet']['add'](_0x5c90d5['camera']),this['cameras']['push'](_0x5c90d5),this['_dirtyComp'+'osition']=!(0x870+-0x1*-0x80f+-0x107f));}['removeCame'+'ra'](_0x41a5c6){if(this['camerasSet']['has'](_0x41a5c6['camera'])){this['camerasSet']['delete'](_0x41a5c6['camera']);const _0x47c206=this['cameras']['indexOf'](_0x41a5c6);this['cameras']['splice'](_0x47c206,0x133*0xb+-0x57*0x27+0x11),this['_dirtyComp'+'osition']=!(-0x1f91+0xdf*-0xb+0x2926*0x1);}}['clearCamer'+'as'](){this['cameras']['length']=-0x1d4+0x161+0x73,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x1*-0xd46+-0x1899+0x25df);}['_calculate'+'SortDistan'+'ces'](_0x42a1a1,_0x2f6911,_0xbce008){const _0x20ead1=_0x42a1a1['length'],{x:_0x424143,y:_0x5726a4,z:_0x17ba95}=_0x2f6911,{x:_0x5cc809,y:_0x5de5fb,z:_0x20991a}=_0xbce008;for(let _0x2e8b9a=-0x1c3+-0x1*0x20ef+0x22b2;_0x2e8b9a<_0x20ead1;_0x2e8b9a++){const _0x1a0845=_0x42a1a1[_0x2e8b9a];let _0x2e3d65;if(_0x1a0845['calculateS'+'ortDistanc'+'e'])_0x2e3d65=_0x1a0845['calculateS'+'ortDistanc'+'e'](_0x1a0845,_0x2f6911,_0xbce008);else{const _0x14330e=_0x1a0845['aabb']['center'];_0x2e3d65=(_0x14330e['x']-_0x424143)*_0x5cc809+(_0x14330e['y']-_0x5726a4)*_0x5de5fb+(_0x14330e['z']-_0x17ba95)*_0x20991a;}const _0x3f6a14=_0x1a0845['_drawBucke'+'t']*(-0x1*0x2b48caa5+-0x29eb*-0xcaeb+0x45a9abec);_0x1a0845['_sortKeyDy'+'namic']=_0x3f6a14+_0x2e3d65;}}['getCulledI'+'nstances'](_0x1d63ca){let _0x363da7=this['_visibleIn'+'stances']['get'](_0x1d63ca);return _0x363da7||(_0x363da7=new nA(),this['_visibleIn'+'stances']['set'](_0x1d63ca,_0x363da7)),_0x363da7;}['sortVisibl'+'e'](_0x333fe0,_0xb44588){const _0x117961=_0xb44588?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x117961===Yc)return;const _0x54a748=this['getCulledI'+'nstances'](_0x333fe0),_0x560389=_0xb44588?_0x54a748['transparen'+'t']:_0x54a748['opaque'],_0x2c2404=_0x333fe0['node'];if(_0x117961===Zw){const _0x4e5aa3=_0x2c2404['getPositio'+'n'](),_0x430b37=_0x2c2404['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x560389,_0x560389['length'],_0x4e5aa3,_0x430b37),this['customSort'+'Callback']&&_0x560389['sort'](this['customSort'+'Callback']);}else{if(_0x117961===m_||_0x117961===Kw){const _0x2cfd34=_0x2c2404['getPositio'+'n'](),_0x3bb7bc=_0x2c2404['forward'];this['_calculate'+'SortDistan'+'ces'](_0x560389,_0x2cfd34,_0x3bb7bc);}_0x560389['sort'](aA[_0x117961]);}}}const oA=(_0x23d11c,_0x48cc4e)=>_0x23d11c['priority']-_0x48cc4e['priority'],ul=_0x20407c=>_0x20407c['sort'](oA);class du extends me{constructor(_0x5925a4='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x47c+0x103f*0x2+-0x24f9)),(this['name']=_0x5925a4,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0xb3095b=>_0xb3095b['destroy']()),this['_renderAct'+'ions']['length']=-0xa2d+-0x2*0x1d3+0xdd3;}['markDirty'](){this['_dirty']=!(0x25*0x6f+0x65a+-0x31*0x75);}['_update'](){const _0x5db2ab=this['layerList']['length'];if(!this['_dirty']){for(let _0x135f4a=0x7*0x329+-0x13*-0xb8+-0x23c7;_0x135f4a<_0x5db2ab;_0x135f4a++)if(this['layerList'][_0x135f4a]['_dirtyComp'+'osition']){this['_dirty']=!(-0x1375+-0x2233+0x2*0x1ad4);break;}}if(this['_dirty']){this['_dirty']=!(0x11*-0x113+0xfb*0x10+0x16*0x1e),this['cameras']['length']=0x952+-0x6b+0x8e7*-0x1;for(let _0x1742c8=0xa*-0x94+0x187b+-0x12b3;_0x1742c8<_0x5db2ab;_0x1742c8++){const _0x530eb7=this['layerList'][_0x1742c8];_0x530eb7['_dirtyComp'+'osition']=!(0x67*-0x47+-0x2*0x1211+0xca*0x52);for(let _0x6c781=0x35*-0x65+-0x21dd*-0x1+-0xcf4;_0x6c781<_0x530eb7['cameras']['length'];_0x6c781++){const _0x15e4d8=_0x530eb7['cameras'][_0x6c781];this['cameras']['indexOf'](_0x15e4d8)<0x24dd+0x1*-0x2627+0xb*0x1e&&this['cameras']['push'](_0x15e4d8);}}this['cameras']['length']>0xa4a+-0x7*-0x21f+-0x1922&&ul(this['cameras']);let _0x42b4e8=-0x1146+0x1f0a+-0xdc4;this['destroyRen'+'derActions']();for(let _0xa379a7=0x612*-0x4+-0x4e*-0x22+-0xc*-0x129;_0xa379a7<this['cameras']['length'];_0xa379a7++){const _0x4d7802=this['cameras'][_0xa379a7];if(_0x4d7802['camera']['renderPass'+'es']['length']>-0x1287+-0x18eb*-0x1+-0x664){this['addDummyRe'+'nderAction'](_0x42b4e8,_0x4d7802),_0x42b4e8++;continue;}let _0x490aae=!(0xf1a+0x1*0x1c18+-0x2b32);const _0x431b06=_0x42b4e8;let _0x13d80a=null,_0x54c884=!(-0x833*0x1+-0xef*0x7+0xebd);for(let _0x370bf8=0x255c+0x2*-0x7e1+0x23*-0x9e;_0x370bf8<_0x5db2ab;_0x370bf8++){const _0x44aabe=this['layerList'][_0x370bf8];if(_0x44aabe['enabled']&&this['subLayerEn'+'abled'][_0x370bf8]&&_0x44aabe['cameras']['length']>-0x15*0x3f+0xd03+0x3ec*-0x2&&_0x4d7802['layers']['indexOf'](_0x44aabe['id'])>=-0x1*-0x23d0+-0x1*-0x33f+-0x270f){!_0x54c884&&_0x44aabe['id']===_0x4d7802['disablePos'+'tEffectsLa'+'yer']&&(_0x54c884=!(-0x467+0x11aa+0x1*-0xd43),_0x13d80a&&(_0x13d80a['triggerPos'+'tprocess']=!(-0x1667+0x153f+0x128)));const _0x15b288=this['subLayerLi'+'st'][_0x370bf8];_0x13d80a=this['addRenderA'+'ction'](_0x42b4e8,_0x44aabe,_0x15b288,_0x4d7802,_0x490aae,_0x54c884),_0x42b4e8++,_0x490aae=!(-0x2*0xb8c+-0x3df+0x1af8);}}_0x431b06<_0x42b4e8&&(_0x13d80a['lastCamera'+'Use']=!(0x2053+-0x3*0x8c4+-0x607*0x1)),!_0x54c884&&_0x13d80a&&(_0x13d80a['triggerPos'+'tprocess']=!(-0x1368+-0x3*0x84f+0x2c55)),_0x4d7802['renderTarg'+'et']&&_0x4d7802['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x431b06-(0x99*-0x21+-0x1*0x14e7+-0x28a1*-0x1),_0x4d7802);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x549870){w['assert'](this['_renderAct'+'ions']['length']===_0x549870);const _0x2057ae=new Pv();return this['_renderAct'+'ions']['push'](_0x2057ae),_0x2057ae;}['addDummyRe'+'nderAction'](_0x227ca9,_0x5509c5){const _0x5afa6b=this['getNextRen'+'derAction'](_0x227ca9);_0x5afa6b['camera']=_0x5509c5,_0x5afa6b['useCameraP'+'asses']=!(-0x991+-0x258c+0x2f1d);}['addRenderA'+'ction'](_0x5b0943,_0x101a00,_0x14b38f,_0x570af7,_0x54d9ce,_0x322dab){let _0x12993d=_0x101a00['id']!==ps?_0x570af7['renderTarg'+'et']:null,_0x2d8598=!(-0x1c5d+0xfb*-0xb+0x2727);const _0xc47aa4=this['_renderAct'+'ions'];for(let _0x26c281=_0x5b0943-(0x1989+-0x20b4+0x72c);_0x26c281>=0x15bb+-0x2171*0x1+0xbb6*0x1;_0x26c281--)if(_0xc47aa4[_0x26c281]['camera']===_0x570af7&&_0xc47aa4[_0x26c281]['renderTarg'+'et']===_0x12993d){_0x2d8598=!(-0x2538+0x24b8+0x4*0x20);break;}_0x322dab&&_0x570af7['postEffect'+'sEnabled']&&(_0x12993d=null);const _0x1024e0=this['getNextRen'+'derAction'](_0x5b0943);_0x1024e0['triggerPos'+'tprocess']=!(-0x6e*0x17+-0x135+-0xb18*-0x1),_0x1024e0['layer']=_0x101a00,_0x1024e0['transparen'+'t']=_0x14b38f,_0x1024e0['camera']=_0x570af7,_0x1024e0['renderTarg'+'et']=_0x12993d,_0x1024e0['firstCamer'+'aUse']=_0x54d9ce,_0x1024e0['lastCamera'+'Use']=!(-0x1652*0x1+-0x1350+0x29a3);const _0x46f079=_0x54d9ce||!_0x2d8598,_0x208d6d=_0x101a00['clearColor'+'Buffer']||_0x101a00['clearDepth'+'Buffer']||_0x101a00['clearStenc'+'ilBuffer'];return(_0x46f079||_0x208d6d)&&_0x1024e0['setupClear'+'s'](_0x46f079?_0x570af7:void(-0x11*0x1c6+0x2dd*0x3+-0x1*-0x158f),_0x101a00),_0x1024e0;}['propagateR'+'enderTarge'+'t'](_0x5cc204,_0x2637cd){for(let _0x5b1ac8=_0x5cc204;_0x5b1ac8>=0x2413+-0x1*-0x493+-0x1d9*0x16;_0x5b1ac8--){const _0x4848d4=this['_renderAct'+'ions'][_0x5b1ac8],_0x4e1980=_0x4848d4['layer'];if(_0x4848d4['renderTarg'+'et']&&_0x4e1980['id']!==ps)break;if(_0x4e1980['id']===ps)continue;if(_0x4848d4['useCameraP'+'asses'])break;const _0x2a14b=_0x4848d4==null?void(0x2*-0xb3e+0x807+0xe75*0x1):_0x4848d4['camera']['camera'];if(_0x2a14b&&(!_0x2637cd['camera']['rect']['equals'](_0x2a14b['rect'])||!_0x2637cd['camera']['scissorRec'+'t']['equals'](_0x2a14b['scissorRec'+'t'])))break;_0x4848d4['renderTarg'+'et']=_0x2637cd['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x187b88=-0x206c+0x1be3+0x489;_0x187b88<this['_renderAct'+'ions']['length'];_0x187b88++){const _0x20bfae=this['_renderAct'+'ions'][_0x187b88],_0x37bad9=_0x20bfae['camera'];if(_0x20bfae['useCameraP'+'asses'])w['trace'](Vl,_0x187b88+('CustomPass'+'es\x20Cam:\x20')+(_0x37bad9?_0x37bad9['entity']['name']:'-'));else{const _0x690a2b=_0x20bfae['layer'],_0x4b8d8a=_0x690a2b['enabled']&&this['isEnabled'](_0x690a2b,_0x20bfae['transparen'+'t']),_0x23fe9f=(_0x20bfae['clearColor']?'Color\x20':'.....\x20')+(_0x20bfae['clearDepth']?'Depth\x20':'.....\x20')+(_0x20bfae['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x187b88+('\x20Cam:\x20'+(_0x37bad9?_0x37bad9['entity']['name']:'-'))['padEnd'](0x1208*-0x2+0x3*-0x9+0x2441*0x1,'\x20')+('\x20Lay:\x20'+_0x690a2b['name'])['padEnd'](-0x14a0+-0x15ea+0x2aa0,'\x20')+(_0x20bfae['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4b8d8a?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x20bfae['renderTarg'+'et']?_0x20bfae['renderTarg'+'et']['name']:'-'))['padEnd'](-0x238+0x8d*-0x6+0x5a4,'\x20')+'\x20Clear:\x20'+_0x23fe9f+(_0x20bfae['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x20bfae['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x20bfae['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x64cc47){const _0x4d178a=this['layerIdMap']['get'](_0x64cc47['id'])===_0x64cc47;return w['assert'](!_0x4d178a,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x64cc47['name']),_0x4d178a;}['_isSublaye'+'rAdded'](_0x4f3b6d,_0x35739e){return(_0x35739e?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x4f3b6d)!==void(-0xcab*0x3+-0x1*0x17e4+-0x1*-0x3de5)?(w['error']('Sublayer\x20'+_0x4f3b6d['name']+(',\x20transpar'+'ent:\x20')+_0x35739e+('\x20is\x20alread'+'y\x20added.')),!(-0x12a4+0x5ed*-0x3+0x246b)):!(0x1d7e+-0xd60*-0x2+-0x383d);}['push'](_0xe53c57){this['_isLayerAd'+'ded'](_0xe53c57)||(this['layerList']['push'](_0xe53c57),this['layerList']['push'](_0xe53c57),this['_opaqueOrd'+'er'][_0xe53c57['id']]=this['subLayerLi'+'st']['push'](!(0xce+0x7*-0x411+0x1baa))-(-0x4bd*-0x3+-0x217d*-0x1+0x1*-0x2fb3),this['_transpare'+'ntOrder'][_0xe53c57['id']]=this['subLayerLi'+'st']['push'](!(-0xf5*-0x15+-0x1bd9+0xf8*0x8))-(-0x16a2*-0x1+0x727*0x2+-0x1f*0x131),this['subLayerEn'+'abled']['push'](!(-0xccd+-0x230f+0x17ee*0x2)),this['subLayerEn'+'abled']['push'](!(0x1491+-0x1d*0x17+-0x11f6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1752+0x399+-0xbb*-0x1b),this['fire']('add',_0xe53c57));}['insert'](_0x554546,_0x44ee96){if(this['_isLayerAd'+'ded'](_0x554546))return;this['layerList']['splice'](_0x44ee96,-0x442+0x1d4b+-0x1909,_0x554546,_0x554546),this['subLayerLi'+'st']['splice'](_0x44ee96,-0x3*-0x10+-0xeec*-0x1+-0x3c7*0x4,!(-0x1*-0x1cc2+-0x22a5+0x5e4),!(-0xe19+-0x422*0x9+0x334b));const _0x7d1b40=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x44ee96,_0x7d1b40-(0x2389+-0x218f+0x1*-0x1f9)),this['_updateTra'+'nsparentOr'+'der'](_0x44ee96,_0x7d1b40-(-0x293*0x6+0x141b+-0x12a*0x4)),this['subLayerEn'+'abled']['splice'](_0x44ee96,0xf5d+0x207d+-0x2fda,!(0x75e*0x2+0x199d+-0x1*0x2859),!(-0x33+0x1703*-0x1+0x1736)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1537*0x1+0x124f+-0x2786),this['fire']('add',_0x554546);}['remove'](_0x1edd1d){let _0x529cb4=this['layerList']['indexOf'](_0x1edd1d);for(delete this['_opaqueOrd'+'er'][_0x529cb4],delete this['_transpare'+'ntOrder'][_0x529cb4];_0x529cb4>=-0x33b+0x1*-0x1d2f+0xace*0x3;)this['layerList']['splice'](_0x529cb4,-0x16f7+-0x1*0x685+0x1d7d),this['subLayerLi'+'st']['splice'](_0x529cb4,0x6d5+-0x2*0xf0e+0x1748),this['subLayerEn'+'abled']['splice'](_0x529cb4,-0x54+-0x4a6+0x4fb),_0x529cb4=this['layerList']['indexOf'](_0x1edd1d),this['_dirty']=!(-0x1*-0x1dbf+-0xdfc+-0xfc3),this['fire']('remove',_0x1edd1d);const _0x1cd450=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x248d+-0x2e*-0x56+0x1eb*0xb,_0x1cd450-(0x16e8+0x203+0x18ea*-0x1)),this['_updateTra'+'nsparentOr'+'der'](0x5e*-0x43+0xff7*-0x2+-0x324*-0x12,_0x1cd450-(-0x5*0x6e7+-0x16fb+0x397f)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0xe3970f){this['_isSublaye'+'rAdded'](_0xe3970f,!(-0xfb4*-0x2+0x22*0x107+0x4255*-0x1))||(this['layerList']['push'](_0xe3970f),this['_opaqueOrd'+'er'][_0xe3970f['id']]=this['subLayerLi'+'st']['push'](!(-0x1e9f+0x1*-0x137b+0x321b))-(-0x1*-0x156b+-0x2006+0xa9c),this['subLayerEn'+'abled']['push'](!(-0x723+0x1e5d+-0x173a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x680*-0x1+-0xa07+-0x1087*-0x1),this['fire']('add',_0xe3970f));}['insertOpaq'+'ue'](_0x1bd372,_0x36ada7){if(this['_isSublaye'+'rAdded'](_0x1bd372,!(0x7*0x16b+-0x8ba+0x2*-0x99)))return;this['layerList']['splice'](_0x36ada7,-0x1*-0x184c+0x1679*-0x1+-0x1d3,_0x1bd372),this['subLayerLi'+'st']['splice'](_0x36ada7,0x6c2*0x1+0x137*-0xd+-0x909*-0x1,!(-0xea8+-0x1bbc+0x2a65));const _0x43f661=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x36ada7,_0x43f661-(-0x1*0x76a+-0x1*0xc89+0x13f4)),this['subLayerEn'+'abled']['splice'](_0x36ada7,-0x25f4+-0xc6a+-0x2a*-0x133,!(0x93c+0x3*0x5aa+-0x1a3a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xc0c*0x2+-0x84d+-0xfcb),this['fire']('add',_0x1bd372);}['removeOpaq'+'ue'](_0x54d3a6){for(let _0x8ef5c1=0x17fb+0x5dd+-0x1dd8,_0x14a24b=this['layerList']['length'];_0x8ef5c1<_0x14a24b;_0x8ef5c1++)if(this['layerList'][_0x8ef5c1]===_0x54d3a6&&!this['subLayerLi'+'st'][_0x8ef5c1]){this['layerList']['splice'](_0x8ef5c1,0xbba+-0x3*0x513+0x380),this['subLayerLi'+'st']['splice'](_0x8ef5c1,-0x10c4+0x1a4e+-0x989),_0x14a24b--,this['_updateOpa'+'queOrder'](_0x8ef5c1,_0x14a24b-(-0x108c+-0x59+0x10e6)),this['subLayerEn'+'abled']['splice'](_0x8ef5c1,0x9*0x8e+-0x26a*0x1+-0x293),this['_dirty']=!(-0x1c2e*-0x1+0x9d+-0x111*0x1b),this['layerList']['indexOf'](_0x54d3a6)<0x39c+0x1*0x4eb+-0x887&&this['fire']('remove',_0x54d3a6);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x5023ec){this['_isSublaye'+'rAdded'](_0x5023ec,!(0x181*-0xd+0x2b*0x2+0x1337))||(this['layerList']['push'](_0x5023ec),this['_transpare'+'ntOrder'][_0x5023ec['id']]=this['subLayerLi'+'st']['push'](!(0xa63*-0x1+-0x187*-0x1+-0x6c*-0x15))-(0x3*-0x81+-0x19d4+-0x7d*-0x38),this['subLayerEn'+'abled']['push'](!(0x38f*0x1+0x2*-0x93c+0xee9)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1598+-0x598+-0x5*-0x570),this['fire']('add',_0x5023ec));}['insertTran'+'sparent'](_0x58a508,_0x65c0ac){if(this['_isSublaye'+'rAdded'](_0x58a508,!(-0x7c4+0x1*-0xf5a+-0xb*-0x21a)))return;this['layerList']['splice'](_0x65c0ac,-0x2609+0x4*0x342+0x1901,_0x58a508),this['subLayerLi'+'st']['splice'](_0x65c0ac,-0xb4d+0x2693*0x1+-0x1b46,!(-0x1*0x23f1+0x12bd+0x1134*0x1));const _0xc23dd6=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x65c0ac,_0xc23dd6-(0x1eab+0x20ce+-0x3*0x1528)),this['subLayerEn'+'abled']['splice'](_0x65c0ac,0x1*0x19c1+0x1f5*0x11+-0x3b06,!(0x8*0x2a2+0x11ba+0x7c2*-0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*-0x26c9+-0x261f+-0x5c*-0xd6),this['fire']('add',_0x58a508);}['removeTran'+'sparent'](_0x3af965){for(let _0x23bdd0=0x3*0x60f+0x1927+-0x2b54,_0x26f3e1=this['layerList']['length'];_0x23bdd0<_0x26f3e1;_0x23bdd0++)if(this['layerList'][_0x23bdd0]===_0x3af965&&this['subLayerLi'+'st'][_0x23bdd0]){this['layerList']['splice'](_0x23bdd0,-0x150e+-0xf4a+-0x2459*-0x1),this['subLayerLi'+'st']['splice'](_0x23bdd0,0x67f*-0x3+0x23a3+-0x1025*0x1),_0x26f3e1--,this['_updateTra'+'nsparentOr'+'der'](_0x23bdd0,_0x26f3e1-(0x3*0x4a5+-0x1861+-0x6b*-0x19)),this['subLayerEn'+'abled']['splice'](_0x23bdd0,0x856+-0x2220+-0x3*-0x899),this['_dirty']=!(-0x1f0d+-0x191*0x1+0x343*0xa),this['layerList']['indexOf'](_0x3af965)<-0x2088+0x2083+0x5&&this['fire']('remove',_0x3af965);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0xf72208){return this['layerOpaqu'+'eIndexMap']['get'](_0xf72208)??-(-0xf00+0x17f6+-0x8f5*0x1);}['getTranspa'+'rentIndex'](_0x5783ad){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x5783ad)??-(-0x6*-0x43f+0x77*0x39+-0x33f8);}['isEnabled'](_0x1f7112,_0x3d3e84){if(_0x1f7112['enabled']){const _0xc5bd23=_0x3d3e84?this['getTranspa'+'rentIndex'](_0x1f7112):this['getOpaqueI'+'ndex'](_0x1f7112);if(_0xc5bd23>=-0x1*0x19c6+-0x283+0x1c49)return this['subLayerEn'+'abled'][_0xc5bd23];}return!(-0x64c+0x20*-0x83+-0x183*-0xf);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x47181c=0x16+0x1f50+-0x1f66;_0x47181c<this['layerList']['length'];_0x47181c++){const _0x2a431a=this['layerList'][_0x47181c];this['layerIdMap']['set'](_0x2a431a['id'],_0x2a431a),this['layerNameM'+'ap']['set'](_0x2a431a['name'],_0x2a431a),(this['subLayerLi'+'st'][_0x47181c]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x2a431a,_0x47181c);}}['getLayerBy'+'Id'](_0x36287c){return this['layerIdMap']['get'](_0x36287c)??null;}['getLayerBy'+'Name'](_0x138080){return this['layerNameM'+'ap']['get'](_0x138080)??null;}['_updateOpa'+'queOrder'](_0x28aa2d,_0x2f8deb){for(let _0xca103b=_0x28aa2d;_0xca103b<=_0x2f8deb;_0xca103b++)this['subLayerLi'+'st'][_0xca103b]===!(0x101c+-0x23d5*0x1+0x1f9*0xa)&&(this['_opaqueOrd'+'er'][this['layerList'][_0xca103b]['id']]=_0xca103b);}['_updateTra'+'nsparentOr'+'der'](_0x2d17de,_0x5b5098){for(let _0x2092df=_0x2d17de;_0x2092df<=_0x5b5098;_0x2092df++)this['subLayerLi'+'st'][_0x2092df]===!(0x1d0b+0x1913*-0x1+-0xfe*0x4)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2092df]['id']]=_0x2092df);}['_sortLayer'+'sDescendin'+'g'](_0x35f255,_0xa3448e,_0x53b1a9){let _0x2104c1=-(-0xa6f+0x60b+-0x19*-0x2d),_0x16a809=-(0x2555+0xc3e+-0x3192);for(let _0x16ba9c=0x1ca8+-0x234c+0x6a4*0x1,_0x5f4197=_0x35f255['length'];_0x16ba9c<_0x5f4197;_0x16ba9c++){const _0x282841=_0x35f255[_0x16ba9c];_0x53b1a9['hasOwnProp'+'erty'](_0x282841)&&(_0x2104c1=Math['max'](_0x2104c1,_0x53b1a9[_0x282841]));}for(let _0x214e0c=0x1*-0x26ef+0x1*-0x23b1+0xc70*0x6,_0x308d19=_0xa3448e['length'];_0x214e0c<_0x308d19;_0x214e0c++){const _0x399a6b=_0xa3448e[_0x214e0c];_0x53b1a9['hasOwnProp'+'erty'](_0x399a6b)&&(_0x16a809=Math['max'](_0x16a809,_0x53b1a9[_0x399a6b]));}return _0x2104c1===-(0xb17+0x1*0x23a+-0x11c*0xc)&&_0x16a809!==-(-0x4*0x46f+-0x2*-0x2f5+0xbd3*0x1)?-0x1702+0xb*0x16e+0x5*0x175:_0x16a809===-(0x1b8+0x1*0x147f+-0x1*0x1636)&&_0x2104c1!==-(0x23a7+-0x2b9*0x3+-0x15*0x14f)?-(0x1*-0xdba+0x12d1+-0x1*0x516):_0x16a809-_0x2104c1;}['sortTransp'+'arentLayer'+'s'](_0x2a8e11,_0x542885){return this['_sortLayer'+'sDescendin'+'g'](_0x2a8e11,_0x542885,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4abad9,_0x1c68d6){return this['_sortLayer'+'sDescendin'+'g'](_0x4abad9,_0x1c68d6,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x90b+0x451+0x5*0xf2,-0x51*0x20+-0x215d+0x2b7d,-0x1*0x8cd+-0x2*-0xffd+-0x172c,0x39d*0x5+0x16f*0x7+0x1c19*-0x1)],[new re(-0x1*-0x221c+0x104b+-0x3267*0x1,0x17*-0x54+0x1297+-0xb0b,0x39*-0x29+-0x13ab+0x4*0x733+0.5,-0x1*0x4d1+0x2355+-0x7*0x45c+0.5),new re(0x517+-0x5*0x618+0x1961,0x1a63+0x9c1*0x3+-0x37a6+0.5,-0x9f7*0x2+-0x1cb*-0x6+0x496*0x2+0.5,0x190f+0xd*0x22d+0x6*-0x8e4+0.5)],[new re(0x2*0x50b+0x2494+-0x2eaa,-0x14b1+0x9f*-0x12+0x1fdf,0x1dcb+0x1*0xb51+-0x291c+0.5,-0x542+0x2*-0x15e+-0x7fe*-0x1+0.5),new re(0x1056+0x129*0x3+-0x13d1,0x1*-0x1198+0x628+0xb70+0.5,0xf33*0x1+0x29f*0x2+-0x1471+0.5,0xfb2+-0x49*-0x83+-0x9*0x5e5+0.5),new re(-0x1*-0xc11+-0x1bb9+-0x2*-0x7d4+0.5,-0x205b+-0x2a9+-0x2*-0x1182,-0xe92*0x2+0x19f6+0x32e+0.5,0x112+0x1*-0xa72+0x960+0.5)],[new re(-0x18b2+-0x7*-0x411+-0x3c5,0x1bb*-0xe+-0x1b*0x110+0x1*0x34ea,0x1186+0x1cc9+-0x2e4f*0x1+0.5,-0x6*0x4fd+-0x1*-0x12bf+0xb2f*0x1+0.5),new re(0x1*-0x167b+0x126f+0x1c*0x25,-0x1*0x3f5+0x315*-0x5+-0x25*-0x86+0.5,-0x17fe+-0x1681+-0x1*-0x2e7f+0.5,0xe3*-0x3+0x2250+0x1*-0x1fa7+0.5),new re(-0x4*-0x346+0xe7b+-0x3*0x931+0.5,-0x1024+0x37*-0x66+0x260e,0x1db+0x1*0xd2b+-0xf06+0.5,-0x142a+0xfa6+0x484+0.5),new re(0xbc*-0x5+-0x1*-0x146f+-0x10c3+0.5,-0x161*0x5+0xc83*-0x2+0x1feb+0.5,-0xf34+0x119c+-0x16*0x1c+0.5,-0x213f*0x1+0x1aad*0x1+0x692+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x7*-0x206+0x32*-0x95+0x2b44;class dA{constructor(_0x115498,_0x4dd7eb,_0x17b159){this['light']=_0x17b159,this['camera']=_0x115498,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x17b159['_shadowTyp'+'e'],_0x17b159['_type'],_0x4dd7eb),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x1*-0x547+-0xdb*0x1a+0x1b85,0x3*0xb3c+-0x525+-0x1c8f,0xc01+-0x1*0x1544+0x4a2*0x2,0x29*0xce+0x9*0x55+-0x23fa),this['shadowScis'+'sor']=new re(-0x223*-0x3+0x2*-0xcf4+0x137f,-0xa13+0xcd5+-0x2c2,0x4*0x913+-0x47*-0x35+-0x32fe,-0xd49+0xb*-0x21d+0x2489),this['projection'+'Compensati'+'on']=-0x2373+0xced+-0x3e*-0x5d,this['face']=_0x4dd7eb,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x90a3d5=>{_0x90a3d5['defaultUni'+'formBuffer']['destroy'](),_0x90a3d5['destroy']();}),this['viewBindGr'+'oups']['length']=0x10f0+0x5*0x687+0x7*-0x715;}get['shadowBuff'+'er'](){const _0x9fc571=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x9fc571?this['light']['_isPcf']?_0x9fc571['depthBuffe'+'r']:_0x9fc571['colorBuffe'+'r']:null;}}class pl{constructor(_0x212c3a,_0x196416){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0xb9e*-0x1+0x1*0x1e00+0x5f2*-0x7),h(this,'clusteredD'+'ata',new Uint32Array(-0x2*0xd13+0x66e*0x1+0x13bb)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x212c3a,this['clusteredL'+'ighting']=_0x196416,this['id']=hA++,this['_evtDevice'+'Restored']=_0x212c3a['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x100*0x8+-0x12f2+-0x1*-0x1af2+0.8,0x278+0x2451+0x26c9*-0x1+0.8,-0x1a66+-0x1e7f*-0x1+-0x1*0x419+0.8),this['_intensity']=0x1ef*0x2+-0x8*-0x70+-0x75d,this['_affectSpe'+'cularity']=!(0x623*0x6+-0x91a+0x8*-0x377),this['_luminance']=-0x7f4+0x139c+-0xba8,this['_castShado'+'ws']=!(-0xe30+-0x629*-0x2+0x1df),this['_enabled']=!(-0x1*-0x692+0x259a+-0x1*0x2c2b),this['_mask']=Ss,this['isStatic']=!(-0xf21+0x17b2+0x2*-0x448),this['key']=0x1207+-0x630+0x7*-0x1b1,this['bakeDir']=!(0x1d8b+0x164+-0x1eef),this['bakeNumSam'+'ples']=-0x3cd*-0x9+0xf44+-0x3178,this['bakeArea']=-0xbff+-0x17e2+0x23e1,this['attenuatio'+'nStart']=0x1*-0xff+-0x1f0c+-0x2b*-0xbf,this['attenuatio'+'nEnd']=-0x10f0+-0x1752+0x284c,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0xccf*0x1+-0x21dc+0x7c9*0x6,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0xa3+0x143a+-0x1397+0.01)*(-0x7*0x77+-0x3*0x4fd+0x1238+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x6e5*0x2+-0x1ba8+0xddf,this['_cookieFal'+'loff']=!(0x92d+0x182b*-0x1+0xefe),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x2338+-0x2447+-0x113*-0x1),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x5bb+0x11b2+-0xbf5*0x1),this['_cookieTra'+'nsformSet']=!(0xa*-0x312+-0x187a+0x372f),this['_cookieOff'+'setSet']=!(-0x470+-0x1261*0x1+-0xb69*-0x2),this['_innerCone'+'Angle']=0x1c8d+-0x1*-0x2521+-0x4186,this['_outerCone'+'Angle']=-0x3e7+-0x6c6*-0x4+-0x2*0xb82,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x183b+0x529*-0x5+-0x3209*-0x1,this['_cascadeBl'+'end']=-0x263a+0x1*0x1ec1+0x779,this['cascadeDis'+'tribution']=-0x1*0x115f+-0x2fd+0x145c+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0xd*-0x17e+-0x17*0x3b+0x2*0xc5b),this['_updateLin'+'earColor'](),this['_position']=new D(0x2152+-0x5e6*-0x3+0x14*-0x28d,-0x4*-0x1ae+0x11a8+-0x820*0x3,-0xa*0x1b+0xd2e*0x1+-0xc20),this['_direction']=new D(-0x90+-0x10c3*-0x2+-0x2*0x107b,-0x19ac+-0xaa7+0x2453,0x1*-0x80e+-0x1*0x2331+0x2b3f),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0xd*-0xf1+0x270+0xa81)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0xae5*-0x1+0x11ad*-0x1+0x45*0x6a),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x9f*-0x18+0x1655+-0x1*0x2515,this['_shadowRes'+'olution']=0x1585+-0xf50+0x71*-0x5,this['_shadowBia'+'s']=-(-0x1*-0x9c2+0x34*-0x46+0x476+0.0005),this['_shadowInt'+'ensity']=-0x8ad+0xac+0x802,this['_normalOff'+'setBias']=-0x2*-0x325+0x27e*-0x9+0x1024,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x1*-0x1498+0xe59*0x1+0x640),this['_isPcf']=!(-0x96c+-0x2d*-0xbe+-0x2*0xbfd),this['_softShado'+'wParams']=new Float32Array(0x1fbb+-0x8b2+-0x1705),this['shadowSamp'+'les']=0x4*-0x8ba+0x8c7*-0x4+0x4614,this['shadowBloc'+'kerSamples']=-0x8d7+-0x1*0x18c3+-0x8b*-0x3e,this['penumbraSi'+'ze']=-0xf05*0x1+-0x2*-0xca6+-0xa46,this['penumbraFa'+'lloff']=-0x25c4+0x12e6+0x12df,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x124*0x3+0x1*0x13bb+-0x104e),this['atlasVersi'+'on']=0x43*0x6d+0xe*-0x20f+0x4b,this['atlasSlotI'+'ndex']=-0x1*-0x20db+0xe87*-0x1+-0x1254,this['atlasSlotU'+'pdated']=!(0x1*-0xc8b+0x21c+0xa70),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xd*0x1e9+-0x1729+0x2fff),this['maxScreenS'+'ize']=-0x25*-0x3+0x254b+0x2*-0x12dd,this['_updateSha'+'dowBias']());}['destroy'](){var _0x6ebf6b;(_0x6ebf6b=this['_evtDevice'+'Restored'])==null||_0x6ebf6b['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0xd4fbc7=-0x1*0x13+0x1bea+0x1bd7*-0x1;_0xd4fbc7<this['_renderDat'+'a']['length'];_0xd4fbc7++)this['_renderDat'+'a'][_0xd4fbc7]['destroy']();this['_renderDat'+'a']['length']=-0x2558+-0x2626+-0x3*-0x192a;}}['addLayer'](_0x4e2e7c){this['layers']['add'](_0x4e2e7c);}['removeLaye'+'r'](_0xaa588b){this['layers']['delete'](_0xaa588b);}set['shadowSamp'+'les'](_0x182aa6){this['_softShado'+'wParams'][0xe08+0x1*-0xffb+0x1f3]=_0x182aa6;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x580+0x4b*-0x39+0x1*0xb33];}set['shadowBloc'+'kerSamples'](_0x646ea6){this['_softShado'+'wParams'][-0x3*-0xb65+0x4*0x43d+-0x3322]=_0x646ea6;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x14df+0x1*0xcd2+0x80e];}set['shadowBias'](_0x2783b8){this['_shadowBia'+'s']!==_0x2783b8&&(this['_shadowBia'+'s']=_0x2783b8,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x5bb450){(!this['cascades']||this['numCascade'+'s']!==_0x5bb450)&&(this['cascades']=lA[_0x5bb450-(-0x2*-0xbb9+0x65f+-0x1dd0)],this['_shadowMat'+'rixPalette']=new Float32Array(0x827*-0x3+-0x2267*0x1+0x3b1c),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x36f*-0x9+-0x1*-0xb65+0x4*-0xa92),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0xf7e316){this['_cascadeBl'+'end']!==_0xf7e316&&(this['_cascadeBl'+'end']=_0xf7e316,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x55c601){this['_shadowMap']!==_0x55c601&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x55c601);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2df203){this['_mask']!==_0x2df203&&(this['_mask']=_0x2df203,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x963800=this['_type'];return _0x963800===ve?this['numCascade'+'s']:_0x963800===Ke?0x5*-0x236+-0x651+-0x49*-0x3d:0x1c*-0x130+-0x189f+-0x2*-0x1cf0;}set['type'](_0x4c2d09){if(this['_type']===_0x4c2d09)return;this['_type']=_0x4c2d09,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x3f3daa=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x3f3daa;}get['type'](){return this['_type'];}set['shape'](_0x22fee0){if(this['_shape']===_0x22fee0)return;this['_shape']=_0x22fee0,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x4f772a=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x4f772a;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x104a29){this['_usePhysic'+'alUnits']!==_0x104a29&&(this['_usePhysic'+'alUnits']=_0x104a29,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x5f197d){if(this['_shadowTyp'+'e']===_0x5f197d)return;let _0x52b5da=qi['get'](_0x5f197d);_0x52b5da||(_0x5f197d=$s);const _0x2050fb=this['device'];_0x5f197d===al&&!_0x2050fb['textureFlo'+'atRenderab'+'le']&&!_0x2050fb['textureHal'+'fFloatRend'+'erable']&&(_0x5f197d=$s),this['_type']===Ke&&_0x5f197d!==tv&&_0x5f197d!==$s&&_0x5f197d!==sv&&_0x5f197d!==iv&&_0x5f197d!==al&&(_0x5f197d=$s),_0x5f197d===Jp&&(!_0x2050fb['textureFlo'+'atRenderab'+'le']||!_0x2050fb['textureFlo'+'atFilterab'+'le'])&&(_0x5f197d=au),_0x5f197d===au&&!_0x2050fb['textureHal'+'fFloatRend'+'erable']&&(_0x5f197d=$s),_0x52b5da=qi['get'](_0x5f197d),this['_isVsm']=(_0x52b5da==null?void(-0x146*0x1+-0xe2*0x2+0x30a):_0x52b5da['vsm'])??!(0x9*-0x31f+-0x2563+0x417b),this['_isPcf']=(_0x52b5da==null?void(0x1cd*-0x6+-0x25c*0x7+0xd*0x21a):_0x52b5da['pcf'])??!(0x224b+0x11*-0x11+-0x2129),this['_shadowTyp'+'e']=_0x5f197d,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x16b15b){this['_enabled']!==_0x16b15b&&(this['_enabled']=_0x16b15b,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x4cfb71){this['_castShado'+'ws']!==_0x4cfb71&&(this['_castShado'+'ws']=_0x4cfb71,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x62*-0x3e+0x1f6e+-0x7b2;}set['shadowInte'+'nsity'](_0x6f272){this['_shadowInt'+'ensity']!==_0x6f272&&(this['_shadowInt'+'ensity']=_0x6f272,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x3ca6da){this['_shadowRes'+'olution']!==_0x3ca6da&&(this['_type']===Ke?_0x3ca6da=Math['min'](_0x3ca6da,this['device']['maxCubeMap'+'Size']):_0x3ca6da=Math['min'](_0x3ca6da,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x3ca6da,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x42cd22){this['_vsmBlurSi'+'ze']!==_0x42cd22&&(_0x42cd22%(-0x3e*-0x63+-0x172+-0x1686)===-0xa1*0xe+-0x2a*-0x7d+-0x4*0x2ed&&_0x42cd22++,this['_vsmBlurSi'+'ze']=_0x42cd22);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x35edc5){if(this['_normalOff'+'setBias']!==_0x35edc5){const _0x14e611=!this['_normalOff'+'setBias']&&_0x35edc5||this['_normalOff'+'setBias']&&!_0x35edc5;this['_normalOff'+'setBias']=_0x35edc5,_0x14e611&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x4e2b6f){this['_falloffMo'+'de']!==_0x4e2b6f&&(this['_falloffMo'+'de']=_0x4e2b6f,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0xfa9b33){this['_innerCone'+'Angle']!==_0xfa9b33&&(this['_innerCone'+'Angle']=_0xfa9b33,this['_innerCone'+'AngleCos']=Math['cos'](_0xfa9b33*Math['PI']/(-0x864+0x68f*-0x1+-0xfa7*-0x1)),this['updateClus'+'terData'](!(-0x5*-0x1a+-0x2*0xc09+0x1791),!(0x10b8+0x9c3+-0x1*0x1a7b)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x1690d9){this['_outerCone'+'Angle']!==_0x1690d9&&(this['_outerCone'+'Angle']=_0x1690d9,this['_updateOut'+'erAngle'](_0x1690d9),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x3ce4b3){this['_penumbraS'+'ize']=_0x3ce4b3,this['_softShado'+'wParams'][0x4f*0x6e+-0xb60+0x4c*-0x4c]=_0x3ce4b3;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0xbef58d){this['_softShado'+'wParams'][-0x2*-0x4bd+-0x6*-0xc+-0x9bf]=_0xbef58d;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x2570+-0x1c9a+-0x8d3];}['_updateOut'+'erAngle'](_0x2bf2ab){const _0x291c55=_0x2bf2ab*Math['PI']/(-0x94*-0x1+0x50c+0xfc*-0x5);this['_outerCone'+'AngleCos']=Math['cos'](_0x291c55),this['_outerCone'+'AngleSin']=Math['sin'](_0x291c55),this['updateClus'+'terData'](!(0x19a*-0x1+-0x94b+-0xba*-0xf),!(-0x1*-0x103d+-0x231d+0x12e0));}set['intensity'](_0x2b72cc){this['_intensity']!==_0x2b72cc&&(this['_intensity']=_0x2b72cc,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x15c10b){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x15c10b,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x18869a){this['_luminance']!==_0x18869a&&(this['_luminance']=_0x18869a,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x1ac9+0x1ae*-0x2+-0x176d,-0x115*-0x2+-0x1*0x233f+0x2115,0x17aa+-0xa9c+-0xd0d,0xd81*0x2+-0x1*0xbc3+-0xf3e)),this['_atlasView'+'port'];}set['cookie'](_0x568ade){this['_cookie']!==_0x568ade&&(this['_cookie']=_0x568ade,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x421b80){this['_cookieFal'+'loff']!==_0x421b80&&(this['_cookieFal'+'loff']=_0x421b80,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x53c54d){if(this['_cookieCha'+'nnel']!==_0x53c54d){if(_0x53c54d['length']<0x2599+-0x2*-0xe9b+-0x42cc){const _0x2fe8fe=_0x53c54d['charAt'](_0x53c54d['length']-(-0x2*-0xd06+-0x3d0+-0x163b)),_0x565c15=-0x1b*0x17+0xb3*0x1a+-0x7df*0x2-_0x53c54d['length'];for(let _0x384c52=0xad+-0x1dfd+0x38*0x86;_0x384c52<_0x565c15;_0x384c52++)_0x53c54d+=_0x2fe8fe;}this['_cookieCha'+'nnel']=_0x53c54d,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x540fbc){this['_cookieTra'+'nsform']!==_0x540fbc&&(this['_cookieTra'+'nsform']=_0x540fbc,this['_cookieTra'+'nsformSet']=!!_0x540fbc,_0x540fbc&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0xb7e+0x22b7+-0x2e34)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0xdb1244){if(this['_cookieOff'+'set']===_0xdb1244)return;!!(this['_cookieTra'+'nsformSet']||_0xdb1244)&&!_0xdb1244&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x1aba+0x1174+0x4a3*0x2,-0x961+0x17b8+-0xe57*0x1):this['_cookieOff'+'set']=_0xdb1244,this['_cookieOff'+'setSet']=!!_0xdb1244,_0xdb1244&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x10b5+0xf0c+0x2*0xd5,-0x2503*-0x1+-0x25*0xc+-0x2346,0xde5+0x1*0x1e2+-0xfc7,-0x32*-0x2d+0x2*0x983+-0x1bd0),this['_cookieTra'+'nsformSet']=!(0x8*-0x416+0x1316+-0x1*-0xd9b)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0xbda+-0x1c3e+0x4*0x419,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xe21+0x238*0xe+-0x16*0xc5),this['atlasSlotU'+'pdated']=!(0x1*-0x1d3+0x1826+0x1652*-0x1);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x48e424=0x281*-0xb+0x135e+0x82d;_0x48e424<this['shadowUpda'+'teOverride'+'s']['length'];_0x48e424++)this['shadowUpda'+'teOverride'+'s'][_0x48e424]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x48e424]=xr);}}['getRenderD'+'ata'](_0x165d29,_0x2da412){for(let _0xca87a5=-0x2544+0x1387*-0x1+-0x1*-0x38cb;_0xca87a5<this['_renderDat'+'a']['length'];_0xca87a5++){const _0x1b100c=this['_renderDat'+'a'][_0xca87a5];if(_0x1b100c['camera']===_0x165d29&&_0x1b100c['face']===_0x2da412)return _0x1b100c;}const _0x498d74=new dA(_0x165d29,_0x2da412,this);return this['_renderDat'+'a']['push'](_0x498d74),_0x498d74;}['clone'](){const _0x15ae15=new pl(this['device'],this['clusteredL'+'ighting']);return _0x15ae15['type']=this['_type'],_0x15ae15['setColor'](this['_color']),_0x15ae15['intensity']=this['_intensity'],_0x15ae15['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x15ae15['luminance']=this['_luminance'],_0x15ae15['castShadow'+'s']=this['castShadow'+'s'],_0x15ae15['_enabled']=this['_enabled'],_0x15ae15['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x15ae15['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x15ae15['falloffMod'+'e']=this['_falloffMo'+'de'],_0x15ae15['shadowType']=this['_shadowTyp'+'e'],_0x15ae15['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x15ae15['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x15ae15['vsmBias']=this['vsmBias'],_0x15ae15['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x15ae15['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x15ae15['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x15ae15['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x15ae15['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x15ae15['numCascade'+'s']=this['numCascade'+'s'],_0x15ae15['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x15ae15['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x15ae15['shape']=this['_shape'],_0x15ae15['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x15ae15['shadowBias']=this['shadowBias'],_0x15ae15['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x15ae15['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x15ae15['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x15ae15['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x15ae15['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x15ae15['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x15ae15['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x15ae15['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x15ae15;}static['getLightUn'+'itConversi'+'on'](_0x2a3d89,_0x38f618=Math['PI']/(-0x17ce*0x1+-0x25+0x3*0x7fd),_0xe4fdb9=0x4*-0x6de+-0x4*0x5a+0x1ce0){switch(_0x2a3d89){case Ze:{const _0x279176=Math['cos'](_0x38f618),_0x25821c=Math['cos'](_0xe4fdb9);return(0x1c23+-0x6*0x5a1+-0x1*-0x5a5)*Math['PI']*(0x7c7*-0x5+-0x88+0x276c-_0x25821c+(_0x25821c-_0x279176)/(0x2169*-0x1+0x567*-0x5+0x3c6e));}case Ke:return(-0x1*0x6f3+0xd4+-0x623*-0x1)*Math['PI'];case ve:return-0x3*-0xace+-0x4*0x175+-0x1*0x1a95;}}['_getUnifor'+'mBiasValue'+'s'](_0x598427){const _0x5e569e=_0x598427['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x1*-0x1384+-0x5a5*0x1+-0x39*-0x71+0.00001)*(0x240a+-0x66f+-0x1d87*0x1):wi['bias']=this['shadowBias']*(-0x1055+-0x1*0x236b+0xd6*0x3e),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x26d5+-0x3d1*0x5+-0x13b9)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0xcef+-0x1dc8+0x10d9+0.00001)*(0xa93*0x1+-0x4*0x326+0x219):wi['bias']=this['shadowBias']/_0x5e569e*(-0x227e+0xaf8+0x17ea),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x5e569e/(0x11*0x22b+0x10*0x83+-0x2d04)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x425937){if(this['_type']===Ze){const _0x539326=this['attenuatio'+'nEnd'],_0x4aeb5c=this['_outerCone'+'Angle'],_0x160fc3=this['_outerCone'+'AngleCos'],_0xcdb7da=this['_node'];dc['copy'](_0xcdb7da['up']),_0x4aeb5c>-0x427*-0x3+0xa*0x173+-0x1ac6?(_0x425937['radius']=_0x539326*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x539326*_0x160fc3)):(_0x425937['radius']=_0x539326/((-0x11d3+0xc2*0x1+0x1*0x1113)*_0x160fc3),dc['mulScalar'](-_0x425937['radius'])),_0x425937['center']['add2'](_0xcdb7da['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x425937['center']=this['_node']['getPositio'+'n'](),_0x425937['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x190a55){if(this['_type']===Ze){const _0x2cb2af=this['attenuatio'+'nEnd'],_0x3ef5a0=this['_outerCone'+'Angle'],_0x1db44b=this['_node'],_0x2f2ede=Math['abs'](Math['sin'](_0x3ef5a0*Y['DEG_TO_RAD'])*_0x2cb2af);_0x190a55['center']['set'](0x6ad*0x1+-0x3*-0x3d5+-0x122c,-_0x2cb2af*(-0x31f+-0x18a2+-0x1bc1*-0x1+0.5),-0x398+0x215e+-0x1dc6),_0x190a55['halfExtent'+'s']['set'](_0x2f2ede,_0x2cb2af*(0x1*0xbca+0x14a5+-0x13*0x1b5+0.5),_0x2f2ede),_0x190a55['setFromTra'+'nsformedAa'+'bb'](_0x190a55,_0x1db44b['getWorldTr'+'ansform'](),!(0x2571+0xa7*0x3+0x6*-0x691));}else this['_type']===Ke&&(_0x190a55['center']['copy'](this['_node']['getPositio'+'n']()),_0x190a55['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x26d7+0x32f*-0x4+-0x29*0xa3,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1827+0xcb5+-0x151*0x1c;else{const _0x2fbe87=this['shadowBias']*-(-0xec8+-0x10e8+0x43*0x88);this['shadowDept'+'hState']['depthBias']=_0x2fbe87,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x2fbe87;}}['_updateLin'+'earColor'](){let _0x307942=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x307942=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x371d60=this['_color'],_0x5dda80=this['_colorLine'+'ar'];_0x307942>=-0xe*0x1c6+-0x1244*-0x1+0x29*0x29?ho['linear'](_0x371d60)['mulScalar'](_0x307942):ho['copy'](_0x371d60)['mulScalar'](_0x307942)['linear'](),_0x5dda80[0x87d+-0x516*0x2+0x1af]=ho['r'],_0x5dda80[-0x40c*-0x9+0x1*0xd37+-0x31a2]=ho['g'],_0x5dda80[0x151*-0x17+0x1289+0xbc0]=ho['b'],this['updateClus'+'terData'](!(-0x44c*0x8+-0x1*0x1f+0x227f));}['setColor'](){arguments['length']===0x1*-0x10f0+0xc88+-0x1*-0x469?this['_color']['set'](arguments[0xfc5+-0x1d66*0x1+0xda1*0x1]['r'],arguments[0x2d4+0x2257+0x37*-0xad]['g'],arguments[0x2330+0x25a3+0xb5*-0x67]['b']):arguments['length']===-0x1355+-0x1*0x191c+0x2c74&&this['_color']['set'](arguments[0x1f5*0xf+0x23a8+-0x11*0x3d3],arguments[0x204b+0x1*-0xe0b+-0x123f],arguments[0x1a33+-0x2ca+-0x1767]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x26bd8e=>{_0x26bd8e['hasLight'](this)&&_0x26bd8e['markLights'+'Dirty']();});}['updateKey'](){let _0x1bd235=this['_type']<<-0x53*0x3+0xb6b*-0x2+0x17ec|this['_shadowTyp'+'e']<<-0x1542+0xd*-0x114+0x235f|this['_falloffMo'+'de']<<-0x2c*-0xad+0x6*-0xcf+-0x18cb|(this['_normalOff'+'setBias']!==0x7d*-0x29+0xda3+0x662*0x1?0x529+-0x10c+-0x2*0x20e:0x2001+0x7a2+-0x27a3)<<-0x6*-0x5db+-0x1289*-0x2+-0x481e|(this['_cookie']?-0xbe1*-0x1+-0x2045*0x1+0x1465*0x1:-0x23c5+-0x1*-0x1ccc+0x6f9)<<-0x7e3+-0x6c5+0x157*0xb|(this['_cookieFal'+'loff']?-0xcf*-0x2e+-0xb*0x1d9+-0x7f*0x22:-0x4*0x56b+0x1ea6+-0x8fa)<<-0x1*0x261d+0x1554+0x1*0x10dd|pf[this['_cookieCha'+'nnel']['charAt'](0x3*-0x73+-0xa05+0xb5e)]<<0x1861+0xec7+-0x2716|(this['_cookieTra'+'nsform']?0x234b+0xb*-0x1f4+-0x24d*0x6:0x1*-0xe6+0x197f+-0x1899)<<0x80b+0x96*0x5+-0xaed|this['_shape']<<-0x1*0x1387+-0x2*-0xfb6+-0xbdb|(this['numCascade'+'s']>-0x248a+0x26fe+-0x2*0x13a?0x349+0x56a+-0x8b2:-0xb73+-0x457+0xfca)<<0x1366+0x175f+-0x2abc|(this['_cascadeBl'+'end']>0x9b1*0x1+0x23a1*0x1+-0x2*0x16a9?-0x3*0xdf+0x1*0x2171+-0x1ed3:0x195b*0x1+-0x1f36+-0x5db*-0x1)<<0x13ca+-0x2034+0x2*0x639|(this['affectSpec'+'ularity']?0x1*-0xacb+0xa2a*-0x1+0x14f6:-0x1*0xb50+-0xd*-0x1ac+-0x74*0x17)<<0x4*0x119+0xe32+-0x1*0x128f|this['mask']<<0xfef*0x1+-0xc00+-0x3e9|(this['_castShado'+'ws']?-0x2053*0x1+-0x112*-0xc+0x137c:-0xc7+0x3*0xb0e+-0x2063)<<-0xa*0x23+-0x18d5+0x5*0x53e;this['_cookieCha'+'nnel']['length']===-0x102d+0x825+0x80b&&(_0x1bd235|=pf[this['_cookieCha'+'nnel']['charAt'](0x377+-0x8e5+0x56f)]<<0x2382+0x25*-0x9f+0x1*-0xc77,_0x1bd235|=pf[this['_cookieCha'+'nnel']['charAt'](-0x1a44+-0x4ae*0x2+0x23a2)]<<0x1606+-0x975*-0x1+-0x1f6d),_0x1bd235!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x1bd235;}['updateClus'+'teredFlags'](){const _0x2ec6ab=!!(this['mask']&Ss),_0x154b1d=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x1658+0x5a6+-0x1bfd:0x2f9*0x7+-0x827*0x3+0x3a6)<<0x1b7f+-0x8a0+-0x12c1*0x1|(this['_shape']&0x265*-0x1+-0xd*0x9a+0xa3a)<<0x2*-0xfa6+0x802+0x1766|(this['_falloffMo'+'de']&0xde6*0x2+-0x1406+-0x7c5)<<-0xf4d*-0x1+0x53*0x57+0x1*-0x2b67|(cA[this['_cookieCha'+'nnel']]??-0x5*0x709+-0xb5d+0x7*0x6a6)<<-0x1*0x1b46+-0x1*-0x102+0x1a5b|(_0x2ec6ab?0x5*0x166+-0x7*-0x100+-0xdfd:0x1*0x1f91+-0x37*-0x2+0x1fff*-0x1)<<-0x1*0x24cd+-0x6*-0x9e+0x1*0x212f|(_0x154b1d?0x1cd0+-0x12b9+-0xa16:-0x266a+0x5e1+0x2089)<<0xbd6+0x9a9*0x2+-0x2b*0xb9;}['getCluster'+'edFlags'](_0x1b1a01,_0x58d809){return this['clusteredF'+'lags']|((_0x1b1a01?Math['floor'](this['shadowInte'+'nsity']*(0x16d*0xf+-0x25ad+-0x3*-0x5c3)):-0x1329*0x1+0x53a+0xdef)&0x5a2+0x21f*-0x1+-0x284)<<-0x5c*0x59+-0x19d4+0x8*0x73a|((_0x58d809?Math['floor'](this['cookieInte'+'nsity']*(-0x193e+0x32e*-0xb+0x3d37)):-0x2073*-0x1+-0x1*-0x98b+-0x29fe)&-0x45*0x6b+0x2e3*-0x9+0x37d1)<<-0x1ab2+0xb7d*-0x1+0x2637*0x1;}['updateClus'+'terData'](_0x19b587,_0x4d68ea){const {clusteredData16:_0x24131e}=this,_0x494b21=Mn['float2Half'];_0x19b587&&(_0x24131e[-0xca4*0x1+0xb02+0x1a2]=_0x494b21(Y['clamp'](this['_colorLine'+'ar'][0x13d5*-0x1+-0x4f0+-0x18c5*-0x1]/$c,0x629+-0x1507+0xede,-0x1699b*0x1+0xba2*-0xe+0x30c57)),_0x24131e[-0x26c3+-0x21d*-0x4+0x1e50]=_0x494b21(Y['clamp'](this['_colorLine'+'ar'][-0x1db8+0x508+0x18b1]/$c,-0x8bf*0x3+-0x251c+0x3f59,-0x8d1a*0x2+0x16e1f+0xabf5)),_0x24131e[0x115*0x3+-0x17*0x71+0x6ea]=_0x494b21(Y['clamp'](this['_colorLine'+'ar'][0x1846+-0x6*-0x62b+-0x3d46]/$c,0xfda+0x2d7*0x2+0x1588*-0x1,0x7*-0x23aa+-0x5d90+-0x6*-0x63d9))),_0x4d68ea&&(_0x24131e[0x4fb+0x635+0x1*-0xb2c]=_0x494b21(this['_innerCone'+'AngleCos']),_0x24131e[0xa*0x137+0x4*-0x1a5+-0x58d]=_0x494b21(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0xc872fe,_0x3c20a7,_0x46d9aa){h(this,'_areaLight'+'sEnabled',!(0xf5e+0x131d+0x2*-0x113d)),h(this,'_cells',new D(-0x1930+0x1f00+-0x5c6,-0x9*-0x3b+0x71*-0x3f+-0x3*-0x895,0xdda+0x17df+-0xb*0x36d)),h(this,'_maxLights'+'PerCell',-0xa0d+0x2165+-0x773*0x3),h(this,'_shadowsEn'+'abled',!(0xcbb+0x1276+-0x5*0x63d)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0xfe8+0x2183*-0x1+-0x45*-0x5f),h(this,'_cookiesEn'+'abled',!(0x939+-0xb*-0x2b7+-0x2715)),h(this,'_cookieAtl'+'asResoluti'+'on',0x11*-0x1a9+-0x106e+0x3*0x118d),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0xc872fe,this['_maxTextur'+'eSize']=_0x3c20a7,this['_dirtyLigh'+'tsFnc']=_0x46d9aa);}['applySetti'+'ngs'](_0x2bc5f3){this['shadowsEna'+'bled']=_0x2bc5f3['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x2bc5f3['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x2bc5f3['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x2bc5f3['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x2bc5f3['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x2bc5f3['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x2bc5f3['lightingSh'+'adowType']??this['shadowType'],_0x2bc5f3['lightingCe'+'lls']&&(this['cells']=new D(_0x2bc5f3['lightingCe'+'lls']));}set['cells'](_0x3cca5d){this['_cells']['copy'](_0x3cca5d);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x14f52e){this['_maxLights'+'PerCell']=Y['clamp'](_0x14f52e,-0x1576+-0x1131*0x2+0x37d9,0x1*0x2653+-0x133f+-0x1215);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0xf2f1d2){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0xf2f1d2,-0x7*0x121+-0x1e28+0x262f,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x262562){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x262562,-0xaa8+0x106e+-0x5a6,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x2e919c){this['_shadowTyp'+'e']!==_0x2e919c&&(this['_shadowTyp'+'e']=_0x2e919c,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x309fce){this['_cookiesEn'+'abled']!==_0x309fce&&(this['_cookiesEn'+'abled']=_0x309fce,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x47d5f3){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x47d5f3&&(this['_areaLight'+'sEnabled']=_0x47d5f3,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5dcf46){this['_shadowsEn'+'abled']!==_0x5dcf46&&(this['_shadowsEn'+'abled']=_0x5dcf46,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0xec52c0){this['morph']=_0xec52c0,_0xec52c0['incRefCoun'+'t'](),this['device']=_0xec52c0['device'];const _0x4c7880=_0xec52c0['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x4c7880),this['_weights']=[],this['_weightMap']=new Map();for(let _0x4196a8=-0x1ce9+-0x1*0x159b+-0x1942*-0x2;_0x4196a8<_0xec52c0['_targets']['length'];_0x4196a8++){const _0x47a611=_0xec52c0['_targets'][_0x4196a8];_0x47a611['name']&&this['_weightMap']['set'](_0x47a611['name'],_0x4196a8),this['setWeight'](_0x4196a8,_0x47a611['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x4c7880),this['_shaderMor'+'phIndex']=new Uint32Array(_0x4c7880);const _0x17a723=(_0x32adcf,_0x451fb6)=>(this[_0x451fb6]=_0xec52c0['_createTex'+'ture'](_0x32adcf,_0xec52c0['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x451fb6],'depth':!(0x1ddc+-0x1dc+-0x1bff)}));_0xec52c0['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x17a723('MorphRTPos','texturePos'+'itions')),_0xec52c0['morphNorma'+'ls']&&(this['rtNormals']=_0x17a723('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0xec52c0['morphTextu'+'reWidth'],_0xec52c0['morphTextu'+'reHeight']]);const _0x4c37f5=_0xec52c0['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x4c37f5['x']*(0x15bd+0x1a20+-0x3*0xff3),_0x4c37f5['y']*(0xf1*0x20+-0x5*-0x54b+-0x3893),_0x4c37f5['z']*(0x6*0x86+-0x150+-0x1d0)]);const _0x4102e2=_0xec52c0['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x4102e2['x']*(-0x527+0x596+0x6d*-0x1),_0x4102e2['y']*(-0x1181+0x24bc+-0x85*0x25),_0x4102e2['z']*(0x1*-0x260d+-0x38*0x58+0x35f*0x11)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x485*-0x4+-0x3*-0x78e+-0x494*0x1,-0x25d*0x8+-0xac9+0x1*0x1db3,0x52b+0x162e+-0x1b57]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x70b+-0x4d4+0xbe0),-(0x3d*-0x1+0x1e59+0xa09*-0x3),-(0x2659*-0x1+-0xdab*-0x1+0x18af)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x1bce+-0x67*0x5+0x1*0x1dd2);}['destroy'](){var _0x2ab301,_0x12b040,_0x20496f,_0x3b87a1;this['shader']=null;const _0x31a780=this['morph'];_0x31a780&&(this['morph']=null,_0x31a780['decRefCoun'+'t'](),_0x31a780['refCount']<-0x205*0xd+-0x97a+0x23bc&&_0x31a780['destroy']()),(_0x2ab301=this['rtPosition'+'s'])==null||_0x2ab301['destroy'](),this['rtPosition'+'s']=null,(_0x12b040=this['texturePos'+'itions'])==null||_0x12b040['destroy'](),this['texturePos'+'itions']=null,(_0x20496f=this['rtNormals'])==null||_0x20496f['destroy'](),this['rtNormals']=null,(_0x3b87a1=this['textureNor'+'mals'])==null||_0x3b87a1['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x18d214){if(typeof _0x18d214=='string'){const _0x2321dd=this['_weightMap']['get'](_0x18d214);return _0x2321dd===void(-0xf8b+-0x1d*0x127+0x30f6)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x18d214+'.'),_0x2321dd;}return _0x18d214;}['getWeight'](_0x2b59a1){const _0x199e50=this['_getWeight'+'Index'](_0x2b59a1);return this['_weights'][_0x199e50];}['setWeight'](_0x4f8088,_0x5f3f18){const _0xc53210=this['_getWeight'+'Index'](_0x4f8088);w['assert'](_0xc53210>=0x1c2+0x4*-0x94f+-0xef*-0x26&&_0xc53210<this['morph']['_targets']['length']),this['_weights'][_0xc53210]=_0x5f3f18,this['_dirty']=!(0x315+-0x1*0xe8+-0x22d);}['_createSha'+'der'](_0x47446b){const _0x2fcff6=new Map();_0x2fcff6['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x47446b),this['morph']['intRenderF'+'ormat']&&_0x2fcff6['set']('MORPH_INT','');const _0x3cc992=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x47446b+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x2fcff6,'fragmentOutputTypes':[_0x3cc992]});}['_updateTex'+'tureRender'+'Target'](_0x1a5acc,_0x4c5006,_0x563f5d){const {morph:_0xa9b3a3,device:_0x199bf2}=this;this['setAabbUni'+'forms'](_0x563f5d),this['morphTextu'+'reId']['setValue'](_0x563f5d?_0xa9b3a3['targetsTex'+'turePositi'+'ons']:_0xa9b3a3['targetsTex'+'tureNormal'+'s']),_0x199bf2['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x4c5006),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x199bf2,_0x1a5acc,this['shader']);}['_updateTex'+'tureMorph'](_0x5b2808){const _0x22f063=this['device'];Q['pushGpuMar'+'ker'](_0x22f063,'MorphUpdat'+'e'),(_0x5b2808>-0x1*0x14e6+-0x1*0x73b+-0x1*-0x1c21||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x5b2808,!(0x62f*-0x2+-0x1bc4+0x2822)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x5b2808,!(0x1844+0x1916+-0x3159)),this['zeroTextur'+'es']=_0x5b2808===0x911+-0x24*0xd+-0x73d),Q['popGpuMark'+'er'](_0x22f063);}['setAabbUni'+'forms'](_0x596584=!(-0x3*-0xcad+0x252e+-0x5c9*0xd)){this['aabbSizeId']['setValue'](_0x596584?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x596584?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x6f58e4){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x2f*0x3d+-0x4*0x329+-0xbec*-0x2);const _0x35c1ae=this['morph']['_targets'],_0x104e9c=0xc5+-0x173f*0x1+0xb3d*0x2+0.00001,_0x15f7bc=this['_shaderMor'+'phWeights'],_0x271b57=this['_shaderMor'+'phIndex'];let _0x4f786e=0x17f6+0x2da+-0x42*0x68;for(let _0x1207be=-0xb93+0x1b22+-0x239*0x7;_0x1207be<_0x35c1ae['length'];_0x1207be++)Math['abs'](this['getWeight'](_0x1207be))>_0x104e9c&&(_0x15f7bc[_0x4f786e]=this['getWeight'](_0x1207be),_0x271b57[_0x4f786e]=_0x1207be,_0x4f786e++);this['_updateTex'+'tureMorph'](_0x4f786e);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x3c6+-0x22fc+0x1f36,this['_immutable']=!(0x1258+0x1*-0x8d2+-0x985));}['getGraph'](){return this['graph'];}['setGraph'](_0x50a20e){this['graph']=_0x50a20e;}['getCameras'](){return this['cameras'];}['setCameras'](_0xda7303){this['cameras']=_0xda7303;}['getLights'](){return this['lights'];}['setLights'](_0xb5002f){this['lights']=_0xb5002f;}['getMateria'+'ls'](){const _0x5b7a74=[];for(let _0x246a47=0x49*-0x3d+-0x8c3+0x345*0x8;_0x246a47<this['meshInstan'+'ces']['length'];_0x246a47++){const _0x3053b1=this['meshInstan'+'ces'][_0x246a47];_0x5b7a74['indexOf'](_0x3053b1['material'])===-(-0x1deb+0x315*-0x1+0x2101)&&_0x5b7a74['push'](_0x3053b1['material']);}return _0x5b7a74;}['clone'](){const _0x34f12c=[],_0x6723eb=[],_0x15990f=function(_0x40b342){const _0x2ad0db=_0x40b342['clone']();_0x34f12c['push'](_0x40b342),_0x6723eb['push'](_0x2ad0db);for(let _0x4e84f0=-0x7a2*0x1+0x265+-0x1bf*-0x3;_0x4e84f0<_0x40b342['_children']['length'];_0x4e84f0++)_0x2ad0db['addChild'](_0x15990f(_0x40b342['_children'][_0x4e84f0]));return _0x2ad0db;},_0x43f1d4=_0x15990f(this['graph']),_0x4b4283=[],_0x49dccf=[],_0x4c95da=[];for(let _0x6384c2=0x1*-0x1de3+0x2592+-0x7af;_0x6384c2<this['skinInstan'+'ces']['length'];_0x6384c2++){const _0x5458c6=this['skinInstan'+'ces'][_0x6384c2]['skin'],_0x3a92cf=new Ol(_0x5458c6),_0x2d7aed=[];for(let _0x441a29=0x8*0x15d+-0x1*-0x1919+-0x2401*0x1;_0x441a29<_0x5458c6['boneNames']['length'];_0x441a29++){const _0x46fe34=_0x5458c6['boneNames'][_0x441a29],_0xf4ee73=_0x43f1d4['findByName'](_0x46fe34);_0x2d7aed['push'](_0xf4ee73);}_0x3a92cf['bones']=_0x2d7aed,_0x49dccf['push'](_0x3a92cf);}for(let _0x140e13=-0x3d*-0x37+-0x214*0x1+0x1*-0xb07;_0x140e13<this['morphInsta'+'nces']['length'];_0x140e13++){const _0x3476d0=this['morphInsta'+'nces'][_0x140e13]['morph'],_0x32e796=new xa(_0x3476d0);_0x4c95da['push'](_0x32e796);}for(let _0x2972de=-0x3f5*0x7+0x250c*-0x1+0x40bf;_0x2972de<this['meshInstan'+'ces']['length'];_0x2972de++){const _0x1114f7=this['meshInstan'+'ces'][_0x2972de],_0x5b1ae8=_0x34f12c['indexOf'](_0x1114f7['node']),_0x5d7d63=new He(_0x1114f7['mesh'],_0x1114f7['material'],_0x6723eb[_0x5b1ae8]);if(_0x1114f7['skinInstan'+'ce']){const _0x4a631a=this['skinInstan'+'ces']['indexOf'](_0x1114f7['skinInstan'+'ce']);_0x5d7d63['skinInstan'+'ce']=_0x49dccf[_0x4a631a];}if(_0x1114f7['morphInsta'+'nce']){const _0x54e6c9=this['morphInsta'+'nces']['indexOf'](_0x1114f7['morphInsta'+'nce']);_0x5d7d63['morphInsta'+'nce']=_0x4c95da[_0x54e6c9];}_0x4b4283['push'](_0x5d7d63);}const _0x2a3954=new sr();return _0x2a3954['graph']=_0x43f1d4,_0x2a3954['meshInstan'+'ces']=_0x4b4283,_0x2a3954['skinInstan'+'ces']=_0x49dccf,_0x2a3954['morphInsta'+'nces']=_0x4c95da,_0x2a3954['getGraph']()['syncHierar'+'chy'](),_0x2a3954;}['destroy'](){const _0x51778a=this['meshInstan'+'ces'];for(let _0x2a4546=-0x51*0x3d+-0xb33+-0x1e8*-0x10;_0x2a4546<_0x51778a['length'];_0x2a4546++)_0x51778a[_0x2a4546]['destroy']();this['meshInstan'+'ces']['length']=0x4e+0x1ce7+-0x1*0x1d35;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x10ba5e,_0x43968b,{preferHighPrecision:_0x185799=!(0x2177+0x199+-0x5*0x703)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x43968b,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x43968b);const _0xbf2f33=_0x43968b;this['preferHigh'+'Precision']=_0x185799,w['assert'](_0x10ba5e['every'](_0x13e691=>!_0x13e691['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x10ba5e['slice']();const _0x12ce49=_0xbf2f33['textureHal'+'fFloatRend'+'erable']?nt:void(-0x1*0x1609+0xe*-0x279+-0x1*-0x38a7),_0x46641=_0xbf2f33['textureFlo'+'atRenderab'+'le']?Xt:void(-0xaf6*0x2+-0x4*-0x382+0x7e4*0x1);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x46641??_0x12ce49:_0x12ce49??_0x46641,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x105ed8,_0x13d95a,_0x56dbf5;(_0x105ed8=this['vertexBuff'+'erIds'])==null||_0x105ed8['destroy'](),this['vertexBuff'+'erIds']=null,(_0x13d95a=this['targetsTex'+'turePositi'+'ons'])==null||_0x13d95a['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x56dbf5=this['targetsTex'+'tureNormal'+'s'])==null||_0x56dbf5['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x4963a3=new D(),_0x2be8d3=new D();for(let _0x219dc3=0x1df9+-0x2d7+-0x17*0x12e;_0x219dc3<this['_targets']['length'];_0x219dc3++){const _0xf04a38=this['_targets'][_0x219dc3]['aabb'];_0x4963a3['min'](_0xf04a38['getMin']()),_0x2be8d3['max'](_0xf04a38['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x4963a3,_0x2be8d3);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x3d58e9=-0x1de*0x1+0x6ca+-0x8c*0x9;_0x3d58e9<this['_targets']['length'];_0x3d58e9++)this['_targets'][_0x3d58e9]['_postInit']();}['_findSpars'+'eSet'](_0x594f6b,_0x43392c,_0x8ad61c){let _0x92fa7d=-0x33*0x96+0x1316+0x7*0x18b;const _0x4b38cd=_0x594f6b[-0x1d4d+-0x231d*0x1+0xa*0x671]['length'];for(let _0x398777=0x4d*0x15+-0x1*0x13b2+0xd61;_0x398777<_0x4b38cd;_0x398777+=-0x268a+-0x98c+0x3019){let _0x5d4160=!(-0x8a*-0xc+0x2ca+-0x941);for(let _0x164512=0x1b7*-0x7+-0x1*0x1a2f+0xd0*0x2f;_0x164512<_0x594f6b['length'];_0x164512++){const _0x483e8c=_0x594f6b[_0x164512];if(_0x483e8c[_0x398777]!==0x15fb+-0xca9*-0x1+0x6*-0x5c6||_0x483e8c[_0x398777+(0x2*-0x10e8+-0xbb7*0x2+0xb73*0x5)]!==0x1*0xab3+0xe37*0x1+-0x18ea||_0x483e8c[_0x398777+(-0x162f+0x2085+-0xa54)]!==0x853*0x2+-0x2165+0x10bf){_0x5d4160=!(-0x2d6+0x11f1*0x2+-0xbc*0x2d);break;}}_0x5d4160?(_0x43392c['push'](_0x92fa7d),_0x8ad61c['push'](_0x398777/(-0x1*0x7f+0x2423*-0x1+0x24a5)),_0x92fa7d++):_0x43392c['push'](0x2422+-0x7*-0x279+-0x3571);}return _0x92fa7d;}['_initTextu'+'reBased'](){const _0x3a1300=[],_0x4a09de=[],_0x29ad9f=this['_targets'];for(let _0x37e00b=0x21cc+0x914+-0x1c*0x188;_0x37e00b<_0x29ad9f['length'];_0x37e00b++){const _0x54810b=_0x29ad9f[_0x37e00b];_0x54810b['options']['deltaPosit'+'ions']&&(_0x3a1300['push'](_0x54810b['options']['deltaPosit'+'ions']),_0x4a09de['push'](!(0xa97*0x3+0x23e+-0x2203))),_0x54810b['options']['deltaNorma'+'ls']&&(_0x3a1300['push'](_0x54810b['options']['deltaNorma'+'ls']),_0x4a09de['push'](!(-0x4a*0x31+-0x1b0d*-0x1+-0xce2)));}const _0x5a0336=[],_0x4f2542=[],_0xbde3fd=this['_findSpars'+'eSet'](_0x3a1300,_0x5a0336,_0x4f2542),_0x4af448=this['device']['maxTexture'+'Size'];let _0x44e4bf=Math['ceil'](Math['sqrt'](_0xbde3fd));_0x44e4bf=Math['min'](_0x44e4bf,_0x4af448);const _0x4306aa=Math['ceil'](_0xbde3fd/_0x44e4bf);if(_0x4306aa>_0x4af448){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x44e4bf+'x'+_0x4306aa+(',\x20max\x20text'+'ure\x20size:\x20')+_0x4af448+'x'+_0x4af448+'.');return;}this['morphTextu'+'reWidth']=_0x44e4bf,this['morphTextu'+'reHeight']=_0x4306aa;let _0x415650=!(-0x5*0x4a8+0x25f0+0x1*-0xea7);const _0x977441=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x415650=!(0x1*-0x2597+0x1*0xcb+-0xf*-0x274));const _0x42127c=[],_0x226598=[],_0x1f6d4b=_0x44e4bf*_0x4306aa*(0x1f30+0x203*-0xb+0x90b*-0x1);for(let _0x48cb86=-0xd22+-0x42*0x91+-0x4*-0xca1;_0x48cb86<_0x3a1300['length'];_0x48cb86++){const _0x4f85d4=_0x3a1300[_0x48cb86],_0x143788=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x1f6d4b):new Float32Array(_0x1f6d4b);if((_0x4a09de[_0x48cb86]?_0x42127c:_0x226598)['push'](_0x143788),_0x415650)for(let _0x30a291=-0x2672+0x263d+0x35;_0x30a291<_0x4f2542['length'];_0x30a291++){const _0x42462c=_0x4f2542[_0x30a291]*(-0x1c8b+0x214e+-0x8*0x98),_0x524c63=_0x30a291*(0xc*-0x1da+0x17ca*0x1+-0xc7*0x2)+(-0x109a+-0x1*0x1976+-0xa85*-0x4);_0x143788[_0x524c63]=_0x977441(_0x4f85d4[_0x42462c]),_0x143788[_0x524c63+(-0xb3*-0x13+0x2ac+-0xff4)]=_0x977441(_0x4f85d4[_0x42462c+(0x14a4+-0xa*0x293+-0x51b*-0x1)]),_0x143788[_0x524c63+(0x245+0x13*-0xf7+0x1012)]=_0x977441(_0x4f85d4[_0x42462c+(0xc1*-0x10+0x14d*-0x13+0x24c9)]);}else for(let _0x8bbd57=0xb8d+0x4*-0x8+-0xb6d;_0x8bbd57<_0x4f2542['length'];_0x8bbd57++){const _0xf3e874=_0x4f2542[_0x8bbd57]*(-0x22c4+0x26b4+-0x3ed),_0x25123b=_0x8bbd57*(-0x13ab+0x127c+0x133)+(0x1*0xb06+0x1*0x655+0x1157*-0x1);_0x143788[_0x25123b]=_0x4f85d4[_0xf3e874],_0x143788[_0x25123b+(0x1de4+0x2a6+-0x2089)]=_0x4f85d4[_0xf3e874+(0x1*-0xe+-0x1417+0xa13*0x2)],_0x143788[_0x25123b+(-0xb14*0x3+-0x18*0x15a+0x41ae)]=_0x4f85d4[_0xf3e874+(-0xdfe+0x236c+0xab6*-0x2)];}}_0x42127c['length']>0x1cc1+0x1a58+-0x41*0xd9&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x29ad9f['length'],[_0x42127c]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x226598['length']>-0x2146*-0x1+-0x7bc+-0x198a&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x29ad9f['length'],[_0x226598]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x5b964c=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0x89*-0x5+-0x26b0+-0x295d*-0x1)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x5b964c,_0x5a0336['length']),_0x5a0336['length'],{'data':new Uint32Array(_0x5a0336)}),!(-0x4d*-0x3+0x1037+0x7*-0x272);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x105*-0x1+0x23d3*-0x1+-0x7*-0x4f9),this['_morphNorm'+'als']=!(-0xaf8+0x4f*-0x2b+0x1d*0xd6);for(let _0x58a1a1=0xe3d+-0x2*0xaf8+0x7b3;_0x58a1a1<this['_targets']['length'];_0x58a1a1++){const _0x2d46ce=this['_targets'][_0x58a1a1];_0x2d46ce['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x1c21+0xdb3+-0x1*-0xe6e)),_0x2d46ce['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x1*0x1a66+0x1ceb+-0x3751));}}['_createTex'+'ture'](_0x5d9ff5,_0x2918ce,_0x5ab292,_0x56efc0){return new _e(this['device'],{'levels':_0x56efc0,'arrayLength':_0x5ab292,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x2918ce,'cubemap':!(0x15d*-0x17+0xc83*-0x2+-0x3862*-0x1),'mipmaps':!(-0x12b*0x4+-0x88f+-0x2*-0x69e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x5d9ff5});}}class Md{constructor(_0x48a222){h(this,'used',!(0x5cb+-0x1170+0x1aa*0x7)),(w['assert'](arguments['length']===-0x1f*-0xb1+-0xc6d+-0x901),this['options']=_0x48a222,this['_name']=_0x48a222['name'],this['_defaultWe'+'ight']=_0x48a222['defaultWei'+'ght']||0x66e+-0x20c0+0x1a52,this['_aabb']=_0x48a222['aabb'],this['deltaPosit'+'ions']=_0x48a222['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x48a222['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x48a222['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x10*0x13d+0x605+-0x185*0x11);}}let Ei,Z_=0xd90+-0x1284+0x4f5;const ce=0x2383*0x1+-0x1367+-0x1018,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x9c823e){return _0x9c823e-Math['floor'](_0x9c823e);}function fA(_0x4d9603){return Math['max'](Math['min'](_0x4d9603,-0x75b*0x5+-0xb0*-0x2c+-0xb*-0x98),0x1f84+-0x26*0x8d+-0xa96);}function gf(_0x4cbff0,_0x46d134){return _0x4cbff0-_0x46d134*Math['floor'](_0x4cbff0/_0x46d134);}function uA(_0x54610f){let _0x1ba291=pn(_0x54610f),_0x39a892=pn((0x12db+0x211*-0x5+-0x787)*_0x54610f),_0x241c7a=pn((0x1b05d+0x1380c+-0x1ea68)*_0x54610f),_0x933ae5=pn((0x102dcb*0xba+0x8aa186c*0x1+0xad916eb*-0x1)*_0x54610f);return _0x1ba291-=_0x39a892/(-0x10a0*0x2+0x73*0x4a+0x1*0x101),_0x39a892-=_0x241c7a/(0x20f6+0x2*-0xac1+-0xa75),_0x241c7a-=_0x933ae5/(-0x3fd+-0x1089+-0x313*-0x7),_0x933ae5-=_0x933ae5/(-0x12*0x95+-0xaa5+0x161e),[_0x1ba291,_0x39a892,_0x241c7a,_0x933ae5];}function uc(_0x573de6){let _0x5c57fd=pn(_0x573de6),_0x182a6b=pn((0x2108+0x2181+-0x418a)*_0x573de6);return _0x5c57fd-=_0x182a6b/(-0x2014+0xb5f*0x1+0x2*0xada),_0x182a6b-=_0x182a6b/(0x15d*-0x8+0x4e6+0x701*0x1),[_0x5c57fd,_0x182a6b];}class pA{constructor(_0x3f5750){this['_emitter']=_0x3f5750;}['calcSpawnP'+'osition'](_0x5e812b,_0x318ef5,_0x24d538,_0x329ad2,_0xcbb215){const _0x10917f=this['_emitter'],_0x32e1a6=Math['random'](),_0x489993=Math['random'](),_0x57b3c7=Math['random'](),_0xde31ce=Math['random']();if(_0x10917f['useCpu']&&(_0x5e812b[_0xcbb215*ce+(0x5db+-0x42b*0x9+0x2*0xfd4)+_0x10917f['numParticl'+'esPot']*(-0x26e4+-0x1ff2+0x46d8*0x1)*ce]=_0x32e1a6,_0x5e812b[_0xcbb215*ce+(-0x2202+0x1586+0xc7d)+_0x10917f['numParticl'+'esPot']*(-0x1f40+-0x128*-0x4+-0xe*-0x1e7)*ce]=_0x489993,_0x5e812b[_0xcbb215*ce+(-0x1e7a+0xe*-0x15+0x1fa2)+_0x10917f['numParticl'+'esPot']*(-0x2381+-0x1da4+0x4127*0x1)*ce]=_0x57b3c7),tt['x']=_0x32e1a6-(-0x2*0x59c+0x1501+-0x9c9+0.5),tt['y']=_0x489993-(0x69*0x31+0x12*-0x1a6+0x993+0.5),tt['z']=_0x57b3c7-(-0x602+-0x24f9+0x2afb+0.5),_0x10917f['emitterSha'+'pe']===ai){const _0x3e339=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x15e25d=_0x3e339+(0x229c+0x15*0x95+-0x2ed5+0.5-_0x3e339)*_0x24d538[-0x2*-0x11a5+0x4*0x4a2+0x35d2*-0x1],_0x322a67=_0x3e339+(-0x1f89+0x24f3+-0x56a+0.5-_0x3e339)*_0x24d538[-0x57d+-0x3*-0xc87+-0x5*0x66b],_0x22fdf6=_0x3e339+(-0x148b+0xe08*0x1+0x683+0.5-_0x3e339)*_0x24d538[-0x1947*-0x1+0x1845+0x1*-0x318a];tt['x']=_0x15e25d*(_0x3e339===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x1812+-0x2245+0xa35)*tt['x']),tt['y']=_0x322a67*(_0x3e339===Math['abs'](tt['y'])?Math['sign'](tt['y']):(0x3c7+-0x1*-0xdcc+0x5db*-0x3)*tt['y']),tt['z']=_0x22fdf6*(_0x3e339===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x2683+-0x4b9*0x1+-0x10e4*0x2)*tt['z']),_0x10917f['localSpace']?ti['copy'](_0x318ef5['transformP'+'oint'](tt)):ti['copy'](_0x329ad2)['add'](_0x318ef5['transformP'+'oint'](tt));}else{tt['normalize']();const _0x14b0e7=_0x10917f['emitterRad'+'ius']===0x1eac+0x2*0x970+0x7*-0x714?-0x19f4*-0x1+-0x32*-0x57+-0x2*0x1579:_0x10917f['emitterRad'+'iusInner']/_0x10917f['emitterRad'+'ius'],_0x28472=_0xde31ce*(-0x1cae+-0x1121+0x2dd0-_0x14b0e7)+_0x14b0e7;_0x10917f['localSpace']?ti['copy'](tt['mulScalar'](_0x28472*_0x10917f['emitterRad'+'ius'])):ti['copy'](_0x329ad2)['add'](tt['mulScalar'](_0x28472*_0x10917f['emitterRad'+'ius']));}let _0x464461=-Y['lerp'](_0x10917f['rate'],_0x10917f['rate2'],_0x32e1a6)*_0xcbb215;if(_0x10917f['pack8']){const _0x4e447a=(ti['x']-_0x10917f['worldBound'+'s']['center']['x'])/_0x10917f['worldBound'+'sSize']['x']+(0x2b9+0x1fa4+-0x225d*0x1+0.5),_0x30dff5=(ti['y']-_0x10917f['worldBound'+'s']['center']['y'])/_0x10917f['worldBound'+'sSize']['y']+(0x13*-0x130+-0x1*-0x1f67+-0x8d7+0.5),_0x3eea65=(ti['z']-_0x10917f['worldBound'+'s']['center']['z'])/_0x10917f['worldBound'+'sSize']['z']+(-0xfbc*-0x1+-0x311*0xa+0x2*0x777+0.5);let _0x24379b=Y['lerp'](_0x10917f['startAngle']*Y['DEG_TO_RAD'],_0x10917f['startAngle'+'2']*Y['DEG_TO_RAD'],_0x32e1a6);_0x24379b=_0x24379b%(Math['PI']*(0x1c26+-0x13a1+-0x883*0x1))/(Math['PI']*(-0x1bdc+-0x5*-0xd5+0x17b5));const _0xec96b4=uc(_0x4e447a);_0x5e812b[_0xcbb215*ce]=_0xec96b4[0x130c+-0x3ce+-0xf3e],_0x5e812b[_0xcbb215*ce+(0x101c+-0x381+-0xc9a)]=_0xec96b4[0x22c+0x1*0x2309+-0x2534];const _0x2a53b3=uc(_0x30dff5);_0x5e812b[_0xcbb215*ce+(-0xf07+-0x1d91+0x2c9a)]=_0x2a53b3[-0x13*-0xd6+0xe2*-0xd+-0x468],_0x5e812b[_0xcbb215*ce+(-0xd76+0x3e*0x47+-0x3b9)]=_0x2a53b3[0x1d*-0x143+-0xe*-0x25c+0x390];const _0x5d2f43=uc(_0x3eea65);_0x5e812b[_0xcbb215*ce+(-0x24c5+-0x262d+0x4af2)+_0x10917f['numParticl'+'esPot']*ce]=_0x5d2f43[-0x2370+0x49*0x22+0x19be],_0x5e812b[_0xcbb215*ce+(0x6b0+-0x13+-0x234*0x3)+_0x10917f['numParticl'+'esPot']*ce]=_0x5d2f43[0x1aac+0x1*-0x1b5d+-0x2*-0x59];const _0x4a22e4=uc(_0x24379b);_0x5e812b[_0xcbb215*ce+(-0x835+0xda*0x7+0x241)+_0x10917f['numParticl'+'esPot']*ce]=_0x4a22e4[-0xdcc+0x1683+0x1*-0x8b7],_0x5e812b[_0xcbb215*ce+(-0x26a2+0x1*0xf6a+-0x1*-0x173b)+_0x10917f['numParticl'+'esPot']*ce]=_0x4a22e4[0x4a9*-0x3+-0x4*0x86f+-0xc*-0x3fa];const _0xb04075=-0x1571+0x251b+-0xfa9;_0x5e812b[_0xcbb215*ce+(0x1*0x120d+-0x17c4+0x5ba)+_0x10917f['numParticl'+'esPot']*ce*(-0x5*0x63f+0x1*-0x3ec+0x2329)]=_0xb04075;const _0x5a8b9d=Math['max'](_0x10917f['lifetime'],(_0x10917f['numParticl'+'es']-(-0x2505+-0xfa1+0x34a7))*Math['max'](_0x10917f['rate'],_0x10917f['rate2'])),_0x3d975c=_0x10917f['lifetime']+(-0xa*-0x1a5+-0x13b5+0x344);_0x464461=(_0x464461+_0x5a8b9d)/(_0x5a8b9d+_0x3d975c);const _0x2209b6=uA(_0x464461);_0x5e812b[_0xcbb215*ce+(0x5*-0x30e+-0x1*0x71f+0x1665)+_0x10917f['numParticl'+'esPot']*ce*(-0x8da+0x18f4+-0x1017)]=_0x2209b6[-0x230*0xc+-0x26b6+0x67f*0xa],_0x5e812b[_0xcbb215*ce+(-0x770*-0x3+0xbac+-0x1*0x21fb)+_0x10917f['numParticl'+'esPot']*ce*(-0x31*0x67+-0xe8b+0x1*0x2245)]=_0x2209b6[0x2635+-0x121f+0x35*-0x61],_0x5e812b[_0xcbb215*ce+(-0x13*0xcd+-0x17eb*0x1+0x2724)+_0x10917f['numParticl'+'esPot']*ce*(-0x1d5c*-0x1+0x1*0x1fc2+0x3d1b*-0x1)]=_0x2209b6[-0x149*-0x15+0x198f+-0x348a],_0x5e812b[_0xcbb215*ce+(-0x3*-0x1ab+0x198f+-0x1e8d)+_0x10917f['numParticl'+'esPot']*ce*(-0x2*-0x1b1+0x21b5*0x1+-0x2514)]=_0x2209b6[0x3df+0x1*-0xe87+0xaab];}else _0x5e812b[_0xcbb215*ce]=ti['x'],_0x5e812b[_0xcbb215*ce+(-0xd*0x2c4+-0xe64+0x3259*0x1)]=ti['y'],_0x5e812b[_0xcbb215*ce+(0x5*-0x449+-0x21c0+-0x3*-0x1265)]=ti['z'],_0x5e812b[_0xcbb215*ce+(0x230d*-0x1+-0xf7+0x2407)]=Y['lerp'](_0x10917f['startAngle']*Y['DEG_TO_RAD'],_0x10917f['startAngle'+'2']*Y['DEG_TO_RAD'],_0x32e1a6),_0x5e812b[_0xcbb215*ce+(0x3b9*-0xa+0x64a+0x1ef3)+_0x10917f['numParticl'+'esPot']*ce]=_0x464461;}['update'](_0x2fc543,_0xaddca9,_0x1a66c1,_0x21ce4c,_0x2e85d3,_0x333756,_0x4773cd,_0xa38aa2){let _0x5a541e,_0x5a86ae,_0x1addd9;const _0x106787=this['_emitter'];if(_0x106787['meshInstan'+'ce']['node']){const _0x422d77=_0x106787['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x1f49b4=0x1b52+-0x12bf+0x893*-0x1;_0x1f49b4<0xb56+-0x2142+0x128*0x13;_0x1f49b4++)mf['data'][_0x1f49b4]=_0x422d77['data'][_0x1f49b4];_f['copy'](mf),_f['invert'](),Ei=_0x106787['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x333756=_0x106787['meshInstan'+'ce']['node']===null||_0x106787['localSpace']?D['ZERO']:_0x106787['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x27a3f4=_0x106787['camera']?_0x106787['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x232bdc=_0x106787['useMesh']?0x1*-0x86d+-0xa5+0x923:-0x1a8c+-0x8*0x26b+0x51b*0x9;let _0x2dab73,_0x429f01,_0x393452,_0x46e839,_0x317a19,_0xde6e82,_0x3d9240,_0x3f7f06,_0x4df439;const _0x247e9d=_0x106787['precision']-(0x3ce*-0x1+0x23d4+-0x2005*0x1);for(let _0x35b98c=-0x16*-0x101+-0x15*0x5d+-0xe75;_0x35b98c<_0x106787['numParticl'+'es'];_0x35b98c++){const _0x4a2b35=Math['floor'](_0x106787['vbCPU'][_0x35b98c*_0x106787['numParticl'+'eVerts']*(_0x106787['useMesh']?0x1*0x58d+0x8*-0x193+-0x1b*-0x43:-0x1910*0x1+0x1*0x389+0x44f*0x5)+(-0xf62*0x1+-0x5*0x1ff+0x1960)]),_0x3e24b5=_0x1a66c1[_0x4a2b35*ce+(-0x2115*-0x1+-0x2090+-0x13*0x7)+_0x106787['numParticl'+'esPot']*(0x1*0x1164+-0xc*0x2e1+0x112a)*ce];Ns['x']=_0x3e24b5,Ns['y']=_0x1a66c1[_0x4a2b35*ce+(0x21b5+0x50c*0x1+-0x50*0x7c)+_0x106787['numParticl'+'esPot']*(0x5*-0xc1+0x1*0xb9c+-0x5*0x191)*ce],Ns['z']=_0x1a66c1[_0x4a2b35*ce+(0x5*0x137+0x22*-0x3+-0x5ab)+_0x106787['numParticl'+'esPot']*(-0x3de+-0x2da*0x1+0x6ba)*ce];const _0x4ddab8=_0x106787['rate']+(_0x106787['rate2']-_0x106787['rate'])*_0x3e24b5,_0x5e9347=_0x106787['lifetime'];let _0x31cc88=_0x1a66c1[_0x4a2b35*ce+(0x320+-0xc83+0x966)+_0x106787['numParticl'+'esPot']*ce]+_0x4773cd;const _0x2df08a=fA(_0x31cc88/_0x5e9347);let _0x43bfcb=0x869+-0x1*-0x13d+0x1ee*-0x5,_0x3cf1a8=0x29*-0x27+0x5*-0x319+0x15bc;const _0x59c0d9=0x14e8+-0x19cf+0x4e7;(_0x31cc88-_0x4773cd<=0x287+-0x16fb+0x1474||_0x31cc88>=_0x5e9347)&&this['calcSpawnP'+'osition'](_0x1a66c1,_0x21ce4c,_0x2e85d3,_0x333756,_0x4a2b35);let _0x3862f3=_0x31cc88>0x1*-0x1be9+0x3b9+0xc18*0x2&&_0x31cc88<_0x5e9347;_0x3862f3&&(_0x1addd9=_0x2df08a*_0x247e9d,_0x2dab73=Math['floor'](_0x1addd9),_0x429f01=Math['ceil'](_0x1addd9),_0x1addd9%=-0x26a3+-0x2027+0x46cb,_0x5a541e=_0x106787['qRotSpeed'][_0x2dab73],_0x5a86ae=_0x106787['qRotSpeed'][_0x429f01],_0x393452=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qRotSpeed2'][_0x2dab73],_0x5a86ae=_0x106787['qRotSpeed2'][_0x429f01],_0x46e839=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qScale'][_0x2dab73],_0x5a86ae=_0x106787['qScale'][_0x429f01],_0x43bfcb=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qScale2'][_0x2dab73],_0x5a86ae=_0x106787['qScale2'][_0x429f01],_0x317a19=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qAlpha'][_0x2dab73],_0x5a86ae=_0x106787['qAlpha'][_0x429f01],_0xde6e82=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qAlpha2'][_0x2dab73],_0x5a86ae=_0x106787['qAlpha2'][_0x429f01],_0x3d9240=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qRadialSpe'+'ed'][_0x2dab73],_0x5a86ae=_0x106787['qRadialSpe'+'ed'][_0x429f01],_0x3f7f06=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qRadialSpe'+'ed2'][_0x2dab73],_0x5a86ae=_0x106787['qRadialSpe'+'ed2'][_0x429f01],_0x4df439=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x3f7f06+=(_0x4df439-_0x3f7f06)*(_0x3e24b5*(0x95*-0x29+-0x1*-0x1235+0x60c)%(-0x7bd+-0x1*-0x1af+-0x8d*-0xb)),Na['x']=_0x1a66c1[_0x4a2b35*ce],Na['y']=_0x1a66c1[_0x4a2b35*ce+(0x1411+-0x1794+0x32*0x12)],Na['z']=_0x1a66c1[_0x4a2b35*ce+(-0x1834*-0x1+0xc34+-0xc22*0x3)],_0x106787['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x333756),fo['normalize']()['mulScalar'](_0x3f7f06),_0x2dab73*=-0x989*0x1+0x19*0x73+-0x1af,_0x429f01*=-0x1*-0x7fd+0xa01+-0x11fb,_0x5a541e=_0x106787['qLocalVelo'+'city'][_0x2dab73],_0x5a86ae=_0x106787['qLocalVelo'+'city'][_0x429f01],_t['x']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qLocalVelo'+'city'][_0x2dab73+(-0x7e6+-0x16*-0x164+-0x1*0x16b1)],_0x5a86ae=_0x106787['qLocalVelo'+'city'][_0x429f01+(0xe6d+-0x1a7*0x13+0x5*0x365)],_t['y']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qLocalVelo'+'city'][_0x2dab73+(0x1b0d+0x979*-0x3+0x20*0xb)],_0x5a86ae=_0x106787['qLocalVelo'+'city'][_0x429f01+(-0xcb8+0x1984+0xcca*-0x1)],_t['z']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qLocalVelo'+'city2'][_0x2dab73],_0x5a86ae=_0x106787['qLocalVelo'+'city2'][_0x429f01],Ua['x']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qLocalVelo'+'city2'][_0x2dab73+(0x1aea+0x656+-0x213f)],_0x5a86ae=_0x106787['qLocalVelo'+'city2'][_0x429f01+(-0xa1d*0x3+-0x12d3+0x29*0x133)],Ua['y']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qLocalVelo'+'city2'][_0x2dab73+(0x1a0d+0x1*-0x20c3+0x6b8*0x1)],_0x5a86ae=_0x106787['qLocalVelo'+'city2'][_0x429f01+(0x2287*0x1+0x365+-0x1*0x25ea)],Ua['z']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity'][_0x2dab73],_0x5a86ae=_0x106787['qVelocity'][_0x429f01],ns['x']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity'][_0x2dab73+(-0xdaf*-0x1+0x9*-0xbd+-0x709*0x1)],_0x5a86ae=_0x106787['qVelocity'][_0x429f01+(-0x1*-0x2f3+0x2*0xabd+-0xc*0x209)],ns['y']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity'][_0x2dab73+(-0x1325+0x2f*-0xbc+0x35ab)],_0x5a86ae=_0x106787['qVelocity'][_0x429f01+(-0x1c6b+-0xb36+0x49*0x8b)],ns['z']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity2'][_0x2dab73],_0x5a86ae=_0x106787['qVelocity2'][_0x429f01],ka['x']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity2'][_0x2dab73+(0x105+0x1d26+-0x1e2a)],_0x5a86ae=_0x106787['qVelocity2'][_0x429f01+(0x939+0x318+0x1*-0xc50)],ka['y']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_0x5a541e=_0x106787['qVelocity2'][_0x2dab73+(-0x2205*-0x1+-0x2096+0x16d*-0x1)],_0x5a86ae=_0x106787['qVelocity2'][_0x429f01+(-0xd37*-0x1+-0x250+-0xae5)],ka['z']=_0x5a541e+(_0x5a86ae-_0x5a541e)*_0x1addd9,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x106787['initialVel'+'ocity']>0x907*0x1+0x25d6+-0x1*0x2edd&&(_0x106787['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x2679+0x206*-0x2+-0x226b)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x106787['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x106787['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x393452+=(_0x46e839-_0x393452)*Ns['y'],_0x43bfcb=(_0x43bfcb+(_0x317a19-_0x43bfcb)*(_0x3e24b5*(0x546+-0x402b+0x61f5)%(0x15ec+0x1+-0x15ec)))*Z_,_0x3cf1a8=(_0x3d9240-_0xde6e82)*(_0x3e24b5*(0x1*0x23f1+-0x1f9*0x11+0x180)%(-0xed5+-0xa*0x3d7+0x353c)),_0x106787['meshInstan'+'ce']['node']&&(_0x106787['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x106787['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x4773cd)),zt['copy'](Q_),_0x1a66c1[_0x4a2b35*ce]=zt['x'],_0x1a66c1[_0x4a2b35*ce+(-0x3c*-0x86+-0x1b0e+-0x459)]=zt['y'],_0x1a66c1[_0x4a2b35*ce+(-0x2*0x3ab+-0x11d0+-0x8*-0x325)]=zt['z'],_0x1a66c1[_0x4a2b35*ce+(0x1a8f+0x9*-0x1bf+-0xad5)]+=_0x393452*_0x4773cd,_0x106787['wrap']&&_0x106787['wrapBounds']&&(_0x106787['localSpace']||zt['sub'](_0x333756),zt['x']=gf(zt['x'],_0x106787['wrapBounds']['x'])-_0x106787['wrapBounds']['x']*(-0x1*0x1705+-0x72*-0x35+-0x95+0.5),zt['y']=gf(zt['y'],_0x106787['wrapBounds']['y'])-_0x106787['wrapBounds']['y']*(0x14da+-0x1f5b+-0x1*-0xa81+0.5),zt['z']=gf(zt['z'],_0x106787['wrapBounds']['z'])-_0x106787['wrapBounds']['z']*(-0x25*0xdc+-0xbc3+-0x15*-0x213+0.5),_0x106787['localSpace']||zt['add'](_0x333756)),_0x106787['sort']>-0x23*0x44+0x18*0x142+-0x14e4&&(_0x106787['sort']===-0x1a*0x64+0x1620+-0xbf7?(kr['copy'](zt)['sub'](_0x27a3f4),_0x106787['particleDi'+'stance'][_0x4a2b35]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x106787['sort']===-0x6df+0x1243+-0xb62?_0x106787['particleDi'+'stance'][_0x4a2b35]=_0x31cc88:_0x106787['sort']===-0x7cb+0x1*0x1050+-0x882&&(_0x106787['particleDi'+'stance'][_0x4a2b35]=-_0x31cc88))),_0xa38aa2?_0x31cc88<0x3*0xb61+0xb*-0x2e7+-0x236&&(_0x1a66c1[_0x4a2b35*ce+(-0x1b92+0x1*-0x215+0x2*0xed5)+_0x106787['numParticl'+'esPot']*(0x249f+0x23b+-0x26d8)*ce]=-(-0x1*-0xc0f+0x83+-0xc91)):(_0x31cc88>=_0x5e9347&&(_0x31cc88-=Math['max'](_0x5e9347,(_0x106787['numParticl'+'es']-(0x20a1+0x3*-0x5db+0x303*-0x5))*_0x4ddab8),_0x1a66c1[_0x4a2b35*ce+(0xa3*-0xd+-0x3*-0x35f+-0x1d3)+_0x106787['numParticl'+'esPot']*(-0x314*-0xb+0x3*0xbb5+-0x44f9)*ce]=_0x106787['loop']?-0x3*-0x32d+0x1*0x154b+-0x1ed1:-(-0x26e2*0x1+0xe6e+0x1875)),_0x31cc88<-0x22f6+0x1184+0x1172&&_0x106787['loop']&&(_0x1a66c1[_0x4a2b35*ce+(0x136*0x20+0x61e+-0x2cdb*0x1)+_0x106787['numParticl'+'esPot']*(-0x10cc+-0x745*0x5+0x3527)*ce]=-0x1f02+-0x1*-0xdb2+0x1151)),_0x1a66c1[_0x4a2b35*ce+(0x1169+-0x5f*0x12+-0x62*0x1c)+_0x106787['numParticl'+'esPot']*(0xa4*-0x3+0x2*0xa47+-0x12a0)*ce]<-0xc8e+-0x266+0xef4&&(_0x3862f3=!(-0x11*0x10f+-0x1629+0x1*0x2829)),_0x1a66c1[_0x4a2b35*ce+(-0x2*0xfd1+0xc8d+0x1318)+_0x106787['numParticl'+'esPot']*ce]=_0x31cc88;for(let _0x5bd8f6=0xe9b*-0x1+0x1*0x4c1+0x9da*0x1;_0x5bd8f6<_0x106787['numParticl'+'eVerts'];_0x5bd8f6++){const _0x22236c=(_0x35b98c*_0x106787['numParticl'+'eVerts']+_0x5bd8f6)*(_0x106787['useMesh']?0x82c+-0x16ac+0xe86:0x5*-0x4ff+-0x2216+-0xbd1*-0x5);let _0x6f7879=_0x106787['vbCPU'][_0x22236c],_0x27397a=_0x106787['vbCPU'][_0x22236c+(0xbc*-0x1a+-0xe15*-0x1+-0x282*-0x2)],_0x1d7986=_0x106787['vbCPU'][_0x22236c+(0x4fd+-0x1467+-0x1*-0xf6c)];_0x3862f3||(_0x6f7879=_0x27397a=_0x1d7986=-0x62c+-0x14*0x5+0xf*0x70);const _0xd82252=_0x35b98c*_0x106787['numParticl'+'eVerts']*_0x232bdc+_0x5bd8f6*_0x232bdc;_0x2fc543[_0xd82252]=zt['x'],_0x2fc543[_0xd82252+(-0xb*0x2ed+-0x22c2+0x42f2)]=zt['y'],_0x2fc543[_0xd82252+(-0x1e5e+0x891+0x15cf)]=zt['z'],_0x2fc543[_0xd82252+(0x887+-0x2*-0x1235+-0x2cee)]=_0x2df08a,_0x2fc543[_0xd82252+(0x126b+0x7*0x2c9+0x436*-0x9)]=_0x106787['alignToMot'+'ion']?_0x59c0d9:_0x1a66c1[_0x4a2b35*ce+(-0x72f*0x4+0x2681*-0x1+0x4340)],_0x2fc543[_0xd82252+(0x355*-0x3+-0x13b9+0x1dbd)]=_0x43bfcb,_0x2fc543[_0xd82252+(0x1*-0x1674+-0x13a7+0x2a21)]=_0x3cf1a8,_0x2fc543[_0xd82252+(0x12df+0x1*-0x1b3b+0x863)]=fc['x'],_0x2fc543[_0xd82252+(0x2491*0x1+-0x21c7*-0x1+-0x4650)]=_0x6f7879,_0x2fc543[_0xd82252+(-0x2*0xbb9+0x187d+-0x102)]=_0x27397a,_0x2fc543[_0xd82252+(0x1*-0x1d39+0x2562+-0x4d*0x1b)]=_0x1d7986,_0x2fc543[_0xd82252+(0x164b+-0x175a+0x11a)]=fc['y'],_0x2fc543[_0xd82252+(-0x7*-0x3c4+-0x2148+0x6f8)]=_0x4a2b35,_0x2fc543[_0xd82252+(0x1*-0x25f9+-0x161*0x3+0x2b*0xfb)]=fc['z'],_0x2fc543[_0xd82252+(-0x5*-0x6d5+-0xea+-0x1d*0x125)]=_0x106787['vbCPU'][_0x22236c+(0x1137*0x1+-0x5*-0x304+-0x409*0x8)],_0x106787['useMesh']&&(_0x2fc543[_0xd82252+(0x2*0x1217+0x2b*0x97+-0x3d7c)]=_0x106787['vbCPU'][_0x22236c+(0x86+0x2071+-0xf1*0x23)],_0x2fc543[_0xd82252+(0x11b7+0x1d76+0x2f1d*-0x1)]=_0x106787['vbCPU'][_0x22236c+(-0x7c6+0x4b2+0x319)]);}}if(_0x106787['sort']>nu&&_0x106787['camera']){const _0x33115a=_0x106787['useMesh']?0x1978+0x2162+0x1d6a*-0x2:0x1e01+0x6d0+-0x24cd,_0x3d513f=_0x106787['particleDi'+'stance'];for(let _0x841d9f=-0x147d*-0x1+-0xbda+0x1*-0x8a3;_0x841d9f<_0x106787['numParticl'+'es'];_0x841d9f++)_0xaddca9[_0x841d9f][0x101*0x1+-0x1aef+0x19ee]=_0x841d9f,_0xaddca9[_0x841d9f][-0x2*-0x95c+0x1e7a+0x3131*-0x1]=_0x3d513f[Math['floor'](_0x106787['vbCPU'][_0x841d9f*_0x106787['numParticl'+'eVerts']*_0x33115a+(0x2*0x100f+0x17e6*0x1+-0x3801)])];_0x106787['vbOld']['set'](_0x106787['vbCPU']),_0xaddca9['sort']((_0x1500d0,_0xfa170)=>_0x1500d0[0xf5b+0x1dd1+-0x2d2b]-_0xfa170[0x179c+0x1f+-0x17ba]);for(let _0x14e25a=0x1ddc+-0x1*0x198+0x96c*-0x3;_0x14e25a<_0x106787['numParticl'+'es'];_0x14e25a++){const _0x132e97=_0xaddca9[_0x14e25a][0x1a14+-0x275+-0x179f]*_0x106787['numParticl'+'eVerts']*_0x33115a,_0xfb4696=_0x14e25a*_0x106787['numParticl'+'eVerts']*_0x33115a;for(let _0x500638=0x1*-0xf39+0xf2+0xe47;_0x500638<_0x106787['numParticl'+'eVerts']*_0x33115a;_0x500638++)_0x106787['vbCPU'][_0xfb4696+_0x500638]=_0x106787['vbOld'][_0x132e97+_0x500638];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x31f16c,_0x309a70){this['_emitter']=_0x31f16c,this['frameRando'+'mUniform']=new Float32Array(0xe09*-0x1+0x65*0x30+-0x4e4*0x1),this['emitterPos'+'Uniform']=new Float32Array(0x1d83+-0xcd0*-0x2+-0x3720),this['emitterSca'+'leUniform']=new Float32Array([-0x1*-0x601+-0x1cf9+-0x16f9*-0x1,-0x2*-0xff+0x1*0x2659+-0x2856,0x184e+-0x13af+-0x49e]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x236a+0xd45+-0xe*0x37a),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x65*0x3c+-0x25ae+0x25*0x61),this['inBoundsSi'+'zeUniform']=new Float32Array(-0xa74+-0xcd*-0x4+-0x1*-0x743),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x7*-0x56f+0x2*0x233+-0x389*0xc),this['constantPa'+'rticleTexI'+'N']=_0x309a70['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x309a70['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x309a70['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x309a70['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x309a70['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x309a70['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x309a70['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x309a70['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x309a70['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x309a70['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x309a70['scope']['resolve']('delta'),this['constantRa'+'te']=_0x309a70['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x309a70['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x309a70['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x309a70['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x309a70['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x309a70['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x309a70['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x309a70['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x309a70['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x309a70['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x309a70['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x309a70['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x309a70['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x309a70['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x309a70['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x309a70['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x309a70['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x309a70['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x309a70['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x309a70['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x309a70['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x309a70['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x309a70['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x309a70['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x309a70['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x309a70['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x2d+0xa2f+-0xa5c]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x4*-0x38f+0xa93*0x3+-0x2df4]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0xf62*-0x2+0xf63+0x12f*0xd]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x2175+-0x106*-0x1+0x206f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x4c1+-0x1*-0x20f6+-0x1c34]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0xe6c+-0xc76+0x2*0xd72]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x940+-0x1*0x75a+-0xaa*-0x19]=Math['random'](),this['frameRando'+'mUniform'][0x1da4+0xead+-0x2c50]=Math['random'](),this['frameRando'+'mUniform'][0x1*0x232d+-0x1f1b+0x2*-0x208]=Math['random']();}['update'](_0x38590b,_0x14cfd1,_0xbf7c2c,_0x2e173e,_0x213cb9){Q['pushGpuMar'+'ker'](_0x38590b,'ParticleGP'+'U');const _0x55214d=this['_emitter'];_0x38590b['setBlendSt'+'ate'](pt['NOBLEND']),_0x38590b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x38590b['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0xc1*0x25+-0x19aa+0x72*-0x5)/_0x55214d['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x55214d['precision']),this['constantNu'+'mParticles']['setValue'](_0x55214d['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x55214d['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x55214d['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x55214d['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x55214d['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x55214d['internalTe'+'x3']);const _0x3c9ea4=_0x55214d['meshInstan'+'ce']['node'],_0x10a9d7=_0x3c9ea4===null?D['ONE']:_0x3c9ea4['localScale'];if(_0x55214d['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x20a3*0x1+-0x1ac+0x224f*0x1]=_0x55214d['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x1b*-0x47+0x49d*0x3+-0x1553]=_0x55214d['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x456+-0x1*0x595+-0x6b*-0x3]=_0x55214d['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x127e+-0x9a3+0x8db*-0x1]=_0x55214d['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x15*-0x9f+-0x30f*0x1+0x1*0x101b]=_0x55214d['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x1209*-0x2+-0x10*-0x25c+-0x1ac]=_0x55214d['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0xff939e=_0x55214d['maxVel']*Math['max'](Math['max'](_0x10a9d7['x'],_0x10a9d7['y']),_0x10a9d7['z']);_0xff939e=Math['max'](_0xff939e,-0x202b+-0x9de+0x2a0a),this['constantMa'+'xVel']['setValue'](_0xff939e);}const _0x428183=_0x3c9ea4===null||_0x55214d['localSpace']?D['ZERO']:_0x3c9ea4['getPositio'+'n'](),_0x15ef7a=_0x3c9ea4===null?te['IDENTITY']:_0x3c9ea4['getWorldTr'+'ansform']();_0x55214d['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x14cfd1),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0xbf7c2c)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x55214d['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x55214d['emitterRad'+'ius']===0x18b2+0x21cc+-0x2*0x1d3f?-0xc2d*-0x3+0xd5a+-0x71*0x71:_0x55214d['emitterRad'+'iusInner']/_0x55214d['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x55214d['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x15ef7a),tg['invertMat4'](_0x15ef7a),this['emitterPos'+'Uniform'][0x77d*0x5+0x2007+-0x2ac*0x1a]=_0x428183['x'],this['emitterPos'+'Uniform'][-0x1b35+0x1*-0x8a5+0x43*0x89]=_0x428183['y'],this['emitterPos'+'Uniform'][0x1d98+0x49*0x83+-0x42f1]=_0x428183['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x2e173e),this['constantRa'+'te']['setValue'](_0x55214d['rate']),this['constantRa'+'teDiv']['setValue'](_0x55214d['rate2']-_0x55214d['rate']),this['constantSt'+'artAngle']['setValue'](_0x55214d['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x55214d['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x55214d['seed']),this['constantLi'+'fetime']['setValue'](_0x55214d['lifetime']),this['emitterSca'+'leUniform'][-0x1307*0x2+-0x5ad+-0x8bf*-0x5]=_0x10a9d7['x'],this['emitterSca'+'leUniform'][0x4*0x6bf+-0xc41*0x2+-0x279*0x1]=_0x10a9d7['y'],this['emitterSca'+'leUniform'][0x2408+0x2c7+0x12d*-0x21]=_0x10a9d7['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x55214d['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x55214d['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x55214d['rotSpeedUM'+'ax'][0x1*0x20a+0xfe9+-0x11f3]);let _0x121105=_0x55214d['swapTex']?_0x55214d['particleTe'+'xOUT']:_0x55214d['particleTe'+'xIN'];_0x121105=_0x55214d['beenReset']?_0x55214d['particleTe'+'xStart']:_0x121105;const _0x373fa1=_0x55214d['swapTex']?_0x55214d['particleTe'+'xIN']:_0x55214d['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x121105),Ar(_0x38590b,_0x55214d['swapTex']?_0x55214d['rtParticle'+'TexIN']:_0x55214d['rtParticle'+'TexOUT'],_0x213cb9?_0x55214d['shaderPart'+'icleUpdate'+'OnStop']:_0x55214d['loop']?_0x55214d['shaderPart'+'icleUpdate'+'Respawn']:_0x55214d['shaderPart'+'icleUpdate'+'NoRespawn']),_0x55214d['material']['setParamet'+'er']('particleTe'+'xOUT',_0x121105),_0x55214d['material']['setParamet'+'er']('particleTe'+'xIN',_0x373fa1),_0x55214d['beenReset']=!(-0x267b+-0x1c8b+0x4307),_0x55214d['swapTex']=!_0x55214d['swapTex'],_0x55214d['prevWorldB'+'oundsSize']['copy'](_0x55214d['worldBound'+'sSize']),_0x55214d['prevWorldB'+'oundsCente'+'r']['copy'](_0x55214d['worldBound'+'s']['center']),_0x55214d['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x38590b);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x42dad4){let _0x2df968='particle_'+ya['definesHas'+'h'](_0x42dad4['defines'])+'_';for(const _0x381803 in _0x42dad4)_0x42dad4['hasOwnProp'+'erty'](_0x381803)&&(_0x2df968+=_0x42dad4[_0x381803]);return _0x2df968;}['createVert'+'exDefines'](_0x498acd,_0x10a3c0){const _0xc2d9a=new Map(_0x498acd['defines']);return _0x498acd['mesh']&&_0xc2d9a['set']('USE_MESH',''),_0x498acd['meshUv']&&_0xc2d9a['set']('USE_MESH_U'+'V',''),_0x498acd['localSpace']&&_0xc2d9a['set']('LOCAL_SPAC'+'E',''),_0x498acd['screenSpac'+'e']&&_0xc2d9a['set']('SCREEN_SPA'+'CE',''),_0x498acd['animTex']&&_0xc2d9a['set']('ANIMTEX',''),_0x498acd['soft']>0x1*0x657+0x84c*-0x3+-0x1*-0x128d&&_0xc2d9a['set']('SOFT',''),_0x498acd['stretch']>0x2*0xf85+-0x1a13+-0x29*0x1f&&_0xc2d9a['set']('STRETCH',''),_0x498acd['customFace']&&_0xc2d9a['set']('CUSTOM_FAC'+'E',''),_0x498acd['pack8']&&_0xc2d9a['set']('PACK8',''),_0x498acd['localSpace']&&_0xc2d9a['set']('LOCAL_SPAC'+'E',''),_0x498acd['animTexLoo'+'p']&&_0xc2d9a['set']('ANIMTEX_LO'+'OP',''),_0x498acd['wrap']&&_0xc2d9a['set']('WRAP',''),_0x498acd['alignToMot'+'ion']&&_0xc2d9a['set']('ALIGN_TO_M'+'OTION',''),_0xc2d9a['set']('NORMAL',sg[_0x498acd['normal']]),_0x10a3c0['particle_v'+'ertexData']=Me,_0x498acd['mesh']&&_0x498acd['meshUv']&&(_0x10a3c0['particle_u'+'v']=is),_0x498acd['useCpu']&&(_0x10a3c0['particle_v'+'ertexData2']=uh,_0x10a3c0['particle_v'+'ertexData3']=Ap,_0x10a3c0['particle_v'+'ertexData4']=Cp,_0x10a3c0['particle_v'+'ertexData5']=Pp),_0xc2d9a;}['createFrag'+'mentDefine'+'s'](_0x2930b7){const _0x1e0f93=new Map(_0x2930b7['defines']);return _0x2930b7['soft']>-0xa6a*0x3+-0x1*0x2519+0x4457&&_0x1e0f93['set']('SOFT',''),_0x2930b7['halflamber'+'t']&&_0x1e0f93['set']('HALF_LAMBE'+'RT',''),_0x1e0f93['set']('NORMAL',sg[_0x2930b7['normal']]),_0x1e0f93['set']('BLEND',Yy[_0x2930b7['blend']]),_0x1e0f93;}['createShad'+'erDefiniti'+'on'](_0x4180e1,_0x11ce4f){const _0x40c916=_0x4180e1['isWebGPU']?it:Fe,_0x32e793=Pe['get'](_0x4180e1,_0x40c916),_0x3a41f1={},_0x26c95c=this['createVert'+'exDefines'](_0x11ce4f,_0x3a41f1),_0x295326=this['createFrag'+'mentDefine'+'s'](_0x11ce4f),_0xb67947='PARTICLE_'+(_0x11ce4f['useCpu']?'CPU':'GPU')+'\x0a';_0x26c95c['set'](_0xb67947,''),_0x295326['set'](_0xb67947,'');const _0x3082f5=new Map(_0x32e793);return Jt['createDefi'+'nition'](_0x4180e1,{'name':'ParticleSh'+'ader','shaderLanguage':_0x40c916,'attributes':_0x3a41f1,'vertexCode':_0x32e793['get']('particle_s'+'haderVS'),'fragmentCode':_0x32e793['get']('particle_s'+'haderPS'),'fragmentDefines':_0x295326,'fragmentIncludes':_0x3082f5,'vertexIncludes':_0x3082f5,'vertexDefines':_0x26c95c});}}const gA=new _A();class SA extends tr{constructor(_0x20f5dc){super(),h(this,'emitter',null),(this['emitter']=_0x20f5dc,w['assert'](_0x20f5dc));}['getShaderV'+'ariant'](_0x309b){const {device:_0x5a2fd5,scene:_0x5b07a0,cameraShaderParams:_0x4cb279,objDefs:_0x48b681}=_0x309b,{emitter:_0x46281b}=this,_0x322095={'defines':$t['getCoreDef'+'ines'](this,_0x309b),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x46281b['lighting']?_0x46281b['normalMap']!==null?-0xb39+0x1e4+0x957:-0x17f+0x1a59+-0x18d9:-0x1*-0xdd5+0x3d4*-0x6+0x923,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x48b681&nm,'gamma':(_0x4cb279==null?void(0x1*-0x1aaf+0x13b8+0x1*0x6f7):_0x4cb279['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x4cb279==null?void(0x1*0x189+0x157+-0x2e0):_0x4cb279['toneMappin'+'g'])??sm,'fog':_0x5b07a0&&!this['emitter']['noFog']?_0x5b07a0['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x46281b['inTools']?!(-0x7d*-0x1d+0x197+-0x1d*0x8b):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x3bb017=new Ad(_0x309b['viewUnifor'+'mFormat'],_0x309b['viewBindGr'+'oupFormat'],_0x309b['vertexForm'+'at']),_0x39d9a5=Hn(_0x5a2fd5);return _0x39d9a5['register']('particle',gA),_0x39d9a5['getProgram']('particle',_0x322095,_0x3bb017,this['userId']);}}const ig=[[-(0x1bd2+0x1da+-0x1dab),-(-0x1*0xbcb+0xf98*0x2+-0x1364)],[0x143f+0x156a+-0x29a8,-(-0x180c+0x973+-0x74d*-0x2)],[0x1*-0x1c49+0x2537+-0x8ed,-0xd15*-0x1+0x1f5*0x13+-0x1*0x3243],[-(0x17b1*-0x1+-0x7c7+0x7*0x47f),0xd*0x59+-0x438+-0x4c]];function xs(_0x3cccf2,_0x2fc0ee,_0x476a32,_0x2a85b4,_0x32de9e=Xt,_0x5ccaf6,_0x32a2c2){let _0x4a86b8=Te;_0x32a2c2&&(_0x32de9e===Ne||_0x32de9e===_s)&&(_0x4a86b8=vt);const _0x284bf5=new _e(_0x3cccf2,{'width':_0x2fc0ee,'height':_0x476a32,'format':_0x32de9e,'cubemap':!(-0xf09*0x1+0x69d+0x3*0x2cf),'mipmaps':!(0xba9+0x416*0x5+-0x559*0x6),'minFilter':_0x4a86b8,'magFilter':_0x4a86b8,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x5d386e=_0x284bf5['lock']();if(_0x32de9e===Ne||_0x32de9e===_s){const _0x51fe2b=new Uint8Array(_0x2a85b4['length']);for(let _0x4938a5=-0x13*-0x209+-0x1b05+-0xba6;_0x4938a5<_0x2a85b4['length'];_0x4938a5++)_0x51fe2b[_0x4938a5]=_0x2a85b4[_0x4938a5]*_0x5ccaf6*(0x1b6b+0xa9e+-0x250a);_0x2a85b4=_0x51fe2b;}return _0x5d386e['set'](_0x2a85b4),_0x284bf5['unlock'](),_0x284bf5;}function rg(_0x46facf){return Math['max'](Math['min'](_0x46facf,0x471+0xb*-0x133+0x8c1),0x1997+-0x14ab*0x1+-0x4ec);}const ag=new qs([0x220f*-0x1+0x1a92*-0x1+-0x53*-0xbb,0x48f*0x1+-0x2506+0x2077*0x1,-0x66c+-0x157a+0x1be7,0x7d8*0x2+-0xff+-0xeb1]),ng=new qs([-0x4d2+-0x1ffd+0x24cf,0x32*0x79+0xf28+-0x26c9,-0x88c*-0x3+0x1384*0x2+0x5e1*-0xb,-0x199e*-0x1+0x1*0x1ef7+-0x3894]),og=new na([0x557*-0x5+0x2*-0xe7f+0x1*0x37b1,-0x27e*0x1+-0xfcd*-0x1+-0xd4f,0x13*0x1f2+0x20d7+-0x45cc,0x1815+0x1854+-0x561*0x9],[0x5*-0x19f+0x2e2+0x539,-0x254b+0x26fc+0x1*-0x1b1,0xa7f+-0xa2c+-0x52,-0x224+0xce+0x72*0x3],[0x37b+-0xb*-0x295+-0x1fe2,-0x24f1+0x95e*0x2+-0x4f*-0x3b,-0x3*-0x1f5+0x25a2*0x1+-0xae*0x40,0x111a+0x1*0x1fe+-0x1318]),yA=new na([-0x17ed+0x2483*-0x1+0x10*0x3c7,-0x1dfb*-0x1+-0xe46*-0x2+-0x1d43*0x2,-0xe*-0x3+-0x70b+0x1*0x6e2,0x1284+-0x2256+-0x1*-0xfd3],[0x74b*0x1+0x179c*0x1+0x36f*-0x9,0x1a87+-0x1*-0x20b8+-0x3b3e,-0xbc4+-0x7af+0x1374,0x7bf*-0x5+-0x21ea+0x48a6],[0x2*-0xeb7+0x7*0x2dd+0x9*0x10b,0x2623+-0x1ce2+0x10*-0x94,0x2140+0x21ca+-0x4309,-0x95b+-0x23*-0xf1+-0x9*0x29f]);let bi=0x4*0x61b+-0xf4d+-0x91d;const pc=0x1528+-0x1125+-0x21*0x1f,Ai=new Float32Array(0xdcb+0x556*-0x3+0x23a),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x10019d,_0x20d6be){Zc[_0x10019d]!==void(0xd17+0x658+-0x136f)&&Zc[_0x10019d]!==null?uu[_0x10019d]=Zc[_0x10019d]:uu[_0x10019d]=_0x20d6be;}function Dv(_0x38c50b,_0x3f23a0,_0x58b97f){return(_0x38c50b*(-0x1d66*-0x1+0x4af*-0x6+-0x4d*0x1)<<-0xa*-0x35f+-0x2*0x745+-0x4*0x4c7|_0x3f23a0*(-0x2f6+0xd12+-0x91d)<<0x1f99*0x1+-0x4*-0x935+-0x1*0x4465|_0x58b97f*(0x956+-0x1a*0x61+0x3*0x81))/(0x1dc7+0xc5c+0x1511*-0x2<<-0xd94+0xc49+-0x47*-0x5);}function cg(_0x5afdde,_0x332b22){const _0x16b386=_0x5afdde['length']/(0x1b40+0x1*0x1d54+-0x3891),_0xe2ccf7=new Array(_0x16b386*(0x82c+-0x12*0x21c+0x1dd0));for(let _0x261d74=0x54d+-0xe8e+0x941;_0x261d74<_0x16b386;_0x261d74++)_0xe2ccf7[_0x261d74*(-0x119+0x1*0x8+0x115)]=_0x5afdde[_0x261d74*(0x725+0x1*0x2279+0x1*-0x299b)],_0xe2ccf7[_0x261d74*(-0x3ed+0x1ed9+-0x1ae8)+(0x2105+-0x1*-0x1cad+-0x3a1*0x11)]=_0x5afdde[_0x261d74*(0x1*0x83+0x1ff4+-0x2074*0x1)+(-0xa52*-0x1+-0x143*0x1+-0x13*0x7a)],_0xe2ccf7[_0x261d74*(-0x6*0x1b4+-0x117a*0x1+-0xddb*-0x2)+(0x26d7+-0x2167+0xa*-0x8b)]=_0x5afdde[_0x261d74*(0x1d*-0x61+-0x1d64+0x2864)+(0x137a+-0x6*0x538+0xbd8)],_0xe2ccf7[_0x261d74*(-0x1acf+0x704+-0x1*-0x13cf)+(0xe0d*0x1+0x115b*-0x1+0x351)]=Dv(_0x332b22[_0x261d74*(-0x219c+-0x574+-0x595*-0x7)],_0x332b22[_0x261d74*(0x1433+0x2*-0x590+-0x910)+(-0xd77+-0x1a5*0x3+0x2a1*0x7)],_0x332b22[_0x261d74*(-0xf86+-0x2*0x6b+0x105f)+(-0xb9*0x13+-0x6e7+0x14a4)]);return _0xe2ccf7;}function vA(_0x5cbc13,_0x560cc5){const _0x2cd314=new Array(_0x560cc5['length']*(0x52c*-0x4+0x1*-0x16be+-0x86*-0x53));for(let _0x366fd0=-0xa*0x3b9+0x26f0+-0x1b6*0x1;_0x366fd0<_0x560cc5['length'];_0x366fd0++)_0x2cd314[_0x366fd0*(0x2*0xb8c+-0xc58+-0xabc)]=_0x5cbc13[_0x366fd0*(-0x7e5+-0x5e9*0x2+0x13ba)],_0x2cd314[_0x366fd0*(0x13b*0x1a+-0x4*0x81e+0x7e)+(0xd3b+0x67*-0x49+-0x1025*-0x1)]=_0x5cbc13[_0x366fd0*(0x49+-0x369*-0x9+-0x1ef7*0x1)+(0x208a+-0x1f12+-0x3*0x7d)],_0x2cd314[_0x366fd0*(0x1*0x1ca+-0x1*0x4d5+0x57*0x9)+(0xe1e*-0x1+0x13a*0x19+0x1d*-0x92)]=_0x5cbc13[_0x366fd0*(-0x1*-0x1c3d+0x4d9+-0x2113)+(0x161b+-0x2*-0xfd7+-0x1*0x35c7)],_0x2cd314[_0x366fd0*(-0x3fd*0x4+-0xf45+0x2d7*0xb)+(0x1e89*-0x1+-0x2314+0x50*0xd2)]=_0x560cc5[_0x366fd0];return _0x2cd314;}function xA(_0x4516c0,_0x33502f,_0x2d824e,_0x445125,_0x1f1b14){const _0x28833e=new Array(_0x4516c0['length']*(-0x322+0x45*0x43+-0xee9));for(let _0x594d4e=-0x16c*0x16+0x49*-0x13+-0x1*-0x24b3;_0x594d4e<_0x4516c0['length'];_0x594d4e++)_0x28833e[_0x594d4e*(-0x1988+-0x1cef+0x367b)]=_0x4516c0[_0x594d4e],_0x28833e[_0x594d4e*(-0xd41+0x2533+-0x17ee)+(-0x12c9+-0xe0a+0x20d4)]=_0x33502f[_0x594d4e],_0x28833e[_0x594d4e*(0xee*-0x3+-0x2b4*0xb+0x208a)+(-0x8f*0x2+-0x117+0x237)]=0x24*-0xf2+0x26*-0x7f+0x34e2,_0x28833e[_0x594d4e*(0x1a01*0x1+0x1d18+-0x3715)+(0x1*0x1161+0x2ce+-0x142c)]=Dv(_0x2d824e[_0x594d4e],_0x445125[_0x594d4e],_0x1f1b14[_0x594d4e]);return _0x28833e;}function TA(_0x546784,_0x5b2783){const _0x2c66c0=new Array(_0x546784['length']*(-0x2381+-0x981*-0x1+0x1a04));for(let _0x4c426b=-0x2051+0x245+0x1e0c;_0x4c426b<_0x546784['length'];_0x4c426b++)_0x2c66c0[_0x4c426b*(-0x5ca+-0x5*-0x317+-0x9a5)]=_0x546784[_0x4c426b],_0x2c66c0[_0x4c426b*(0x71d+-0x1*-0x439+-0x3c6*0x3)+(-0x562+0x537+-0x2c*-0x1)]=_0x5b2783[_0x4c426b],_0x2c66c0[_0x4c426b*(-0xd90+0x1fd*-0xb+0x2373)+(-0x1d*0xe5+-0xc24+0x2617)]=-0xf09+-0x144f+0x4e*0x74,_0x2c66c0[_0x4c426b*(-0x26c1+0x2e*0x49+0x19a7)+(0x11*0xa9+0x1252+-0x6*0x4ec)]=0x213f+0x5a+-0x2199;return _0x2c66c0;}function wA(_0x573460){const _0x9a543f=Math['max'](_0x573460['rate'],_0x573460['rate2'])*_0x573460['numParticl'+'es']+_0x573460['lifetime'];return Date['now']()+_0x9a543f*(-0x8*0x1de+-0xd19+0x11*0x1e1);}function EA(_0x4322db,_0x376ea0){const _0x5158a6=new Float32Array(_0x4322db['length']);for(let _0x370cfa=0xcac+0x11d8+-0xc*0x28b;_0x370cfa<_0x4322db['length'];_0x370cfa++)_0x5158a6[_0x370cfa]=_0x4322db[_0x370cfa]-_0x376ea0[_0x370cfa];return _0x5158a6;}function Xr(_0x246b20,_0x1bdc8e){const _0xa2a875=_0x1bdc8e['length'],_0x17b6f8=_0x246b20['length']/_0xa2a875;for(let _0x53af9a=0x12d4+-0x3*-0x736+0x2*-0x143b;_0x53af9a<_0x17b6f8;_0x53af9a++)for(let _0x1ca911=-0x4*-0x11a+-0x1ff2+0x1b8a;_0x1ca911<_0xa2a875;_0x1ca911++){const _0x28809f=Math['abs'](_0x246b20[_0x53af9a*_0xa2a875+_0x1ca911]);_0x1bdc8e[_0x1ca911]=Math['max'](_0x1bdc8e[_0x1ca911],_0x28809f);}}function bA(_0x3fc1d7,_0x263b6e){const _0xc1248e=_0x263b6e['length'],_0xaf5171=_0x3fc1d7['length']/_0xc1248e;for(let _0x385a33=-0x4d3+-0x1d*0xb2+-0x18fd*-0x1;_0x385a33<_0xaf5171;_0x385a33++)for(let _0x58aa15=0x2397+0xb60+-0x2ef7*0x1;_0x58aa15<_0xc1248e;_0x58aa15++)_0x3fc1d7[_0x385a33*_0xc1248e+_0x58aa15]/=_0x263b6e[_0x58aa15]===-0x47*0x35+-0x4f8+-0x1*-0x13ab?0x1775+0x12b1+0x1*-0x2a25:_0x263b6e[_0x58aa15],_0x3fc1d7[_0x385a33*_0xc1248e+_0x58aa15]*=-0x17b*-0x16+-0x173c+-0xef*0xa+0.5,_0x3fc1d7[_0x385a33*_0xc1248e+_0x58aa15]+=-0x2364+0x6*0x1dd+0x1836+0.5;}function Br(_0x335de5,_0x53e6a2,_0x2a2b47){const _0x3eae71=EA(_0x53e6a2,_0x335de5);return Xr(_0x3eae71,_0x2a2b47),bA(_0x3eae71,_0x2a2b47),_0x3eae71;}const AA=new Kt();class CA{constructor(_0x29c939,_0x7e0874){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x29c939;const _0x4d5800=_0x29c939,_0x1f7c40=-0x195*0x2+0x7*0x53a+-0x853*0x4;this['precision']=_0x1f7c40,this['_addTimeTi'+'me']=0x18e+-0xc*-0x240+0x2*-0xe47,uu=this,Zc=_0x7e0874,he('numParticl'+'es',-0x52b*-0x2+0x6b8+-0x110d),this['numParticl'+'es']>_0x29c939['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x29c939['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x29c939['maxTexture'+'Size']),he('rate',-0x2f6*-0x8+-0x13f7+-0x3b8),he('rate2',this['rate']),he('lifetime',0x2b*-0x71+-0x19*0x18b+0x39c0),he('emitterExt'+'ents',new D(-0x10d*0x6+-0x59c+0xbea,0x1*0xbe6+-0x197f+0xd99,0x657*0x4+-0x63d+0x59*-0x37)),he('emitterExt'+'entsInner',new D(-0x1138*0x2+-0xef0+0x3160,-0x8db+0x1*0x23d1+-0x1af6,0x6b*-0x4d+-0x14a+0x2179)),he('emitterRad'+'ius',0x81*-0x46+-0x2170+-0xa*-0x6df),he('emitterRad'+'iusInner',-0x199d+0x7bc+0x11e1),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x223*0xa+-0x19fa+0x49d),he('wrap',!(0x819+-0x1*-0x4a2+-0x12*0xb5)),he('localSpace',!(0x1ee9+0x18b+-0xd*0x27f)),he('screenSpac'+'e',!(-0x2*0x5b5+0x11+0xb5a)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x40a*-0x5+-0x49*0x33+0x22bd)),he('preWarm',!(-0x43*-0x1c+-0x190f+-0x8de*-0x2)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(-0x1*0x25d7+-0x117a+0x3752)),he('halfLamber'+'t',!(0x1a*0x9e+-0x89b*0x2+-0x17*-0xd)),he('intensity',0x1a0e+-0x397+0x2*-0xb3b),he('stretch',-0xb1*-0x2d+-0x2*-0x11b5+-0x4287),he('alignToMot'+'ion',!(-0x24f*0x4+-0x12dc+-0x1c19*-0x1)),he('depthSofte'+'ning',-0xaa3+-0xe8e+0x1931),he('mesh',null),he('particleNo'+'rmal',new D(-0x2*-0x1052+-0x1*-0x1b92+0x2*-0x1e1b,-0x4bf+0x11a5+-0xce5,0xe6b+-0x4d6+-0xb*0xdf)),he('orientatio'+'n',yh),he('depthWrite',!(-0x2583+0xf*0xfe+0x16a2)),he('noFog',!(-0xa1a+-0x2c*0xa3+0x261f)),he('blendType',Zs),he('node',null),he('startAngle',0x20*-0x115+0xe+0x2292),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x1c*-0x62+0x1e42+-0x28f9),he('animTilesY',-0x1dd2+0x1018+0xdbb*0x1),he('animStartF'+'rame',-0x1224+-0x241c*-0x1+0x14*-0xe6),he('animNumFra'+'mes',0x22cf+-0x49*0x6d+-0x3b9),he('animNumAni'+'mations',-0x154e+-0x10e6+-0x2635*-0x1),he('animIndex',-0x2b9*-0x2+0x164f+-0x1bc1),he('randomizeA'+'nimIndex',!(-0x17e8+0x1442+-0x55*-0xb)),he('animSpeed',0xfe*0xa+-0x76e+-0x31*0xd),he('animLoop',!(0x1413*-0x1+0x280+0x1193)),this['_gpuUpdate'+'r']=new mA(this,_0x4d5800),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x1aa6+-0x27f+-0x1824),this['wrapBounds'+'Uniform']=new Float32Array(-0x210b+0x3c3+0x1d4b),this['emitterSca'+'leUniform']=new Float32Array([0x1fbe+-0x176b+-0x852,-0x2*0x12cd+-0xc86*-0x1+0x1915,-0x5*0x511+-0xe87+0x27dd]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x1267+0x23d8+-0x363d),this['animParams']=new Float32Array(0x70*0x47+0x817*-0x3+-0x6c7),this['animIndexP'+'arams']=new Float32Array(-0x8d9+-0x1ae3+0x23be),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x212e+-0xcef+0xa1f*-0x2),this['useMesh']=!(-0x1f*0xb+-0x30*0x74+0x1715),this['useCpu']=!_0x29c939['supportsGp'+'uParticles'],this['pack8']=!(-0x8*0xfb+-0xb6f+-0x15*-0xeb),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x376*-0x7+0x1*-0x26e+-0x1e*0xba,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1222+-0x53*-0x54+0x2*-0x16af,this['numParticl'+'eIndices']=0x18*0x26+0x21de+-0x12b7*0x2,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x12bf+-0x1*-0x185b+0x4*-0x167,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x690+-0x26a6+0x109*0x1f)/(0x149+0x1b83+-0x1c90),this['maxSubStep'+'s']=-0x88c+0xd8*0x1b+-0xe32,this['simTime']=-0x171+0x1c05+-0x1a94,this['simTimeTot'+'al']=-0x17db*-0x1+-0x19*-0x7d+-0x2410,this['beenReset']=!(0xf85+-0x69f+-0x63*0x17),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x5649d5=new Float32Array(0x22d9*-0x1+-0xb9e+0x3277*0x1);for(let _0x2dd111=0x184*-0x8+-0xbbf+0x17df;_0x2dd111<-0x1df1+0x1*0x1cf+0x1c32;_0x2dd111++)for(let _0x5a8efe=0xe51*0x2+0x51e+0x28*-0xd8;_0x5a8efe<-0x1*0x2482+0x47f+0x2013;_0x5a8efe++){const _0x2b5b12=_0x5a8efe+(0x323+0xac+0x1e7*-0x2)-(-0x2599+0x2502+-0x3*-0x35+0.5),_0x1bae74=_0x2dd111+(0x3*0x466+0xe2*-0x20+0xf0f)-(-0x7d*-0x3+-0x256e*-0x1+0x1*-0x26dd+0.5),_0x27c6e8=rg(0x1574+-0x2d1*0x5+-0x75e-rg(Math['sqrt'](_0x2b5b12*_0x2b5b12+_0x1bae74*_0x1bae74)/(-0x1f5a*-0x1+-0x107f+-0xecb))-(0x2362+-0x31d+-0x1*0x2045+0.5)),_0x202676=_0x2dd111*(0x5*-0x4c8+0x247e+-0x643*0x2)+_0x5a8efe;_0x5649d5[_0x202676*(-0x11*0x24+-0xa3*-0xd+-0x9*0xa7)]=0x1fe9+-0x930+0x2*-0xb5c,_0x5649d5[_0x202676*(-0x642*0x3+0x1167+0x163)+(-0x1*0x107+-0x1dd1+0x1ed9)]=-0xb*0x135+0x1732+-0x9ea,_0x5649d5[_0x202676*(0x2402+-0xdf*-0x2b+-0x4973)+(-0x9*0xf9+-0x1c8a+0x3*0xc6f)]=-0x3a+-0x1d0c+0x1d47,_0x5649d5[_0x202676*(0x5df*-0x2+0x1*0x2589+0x1*-0x19c7)+(0xbf7+-0x252f+-0x869*-0x3)]=_0x27c6e8;}const _0x14b2e0=xs(this['graphicsDe'+'vice'],0x1c*0x156+-0x2*-0x556+0xe*-0x36e,0x1e43+-0x8a8*0x3+-0x39*0x13,_0x5649d5,_s,0x2192*-0x1+0x33*0x31+0x17d0,!(-0x3*-0xb96+0x2441+-0x4703*0x1));return _0x14b2e0['minFilter']=vt,_0x14b2e0['magFilter']=vt,_0x14b2e0;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x1*-0x20d9+0x243b+0x1*-0x4513)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x149*-0x16+0x4ed+0x175a)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x2*0x1343+-0x1d13+-0x3fa*-0x11)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x1*0x1871+0x15de+-0x2e4e)),this['worldBound'+'sAdd']['x']+=-0x1966*-0x1+0x31c*-0x5+0x1a*-0x61+0.5,this['worldBound'+'sAdd']['y']+=-0x1*-0x14e0+0x20c7+-0x29*0x14f+0.5,this['worldBound'+'sAdd']['z']+=-0xcbe+-0x261a+0x1*0x32d8+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x278a1f=!(0xfb0*0x2+-0x58e+-0x19d1);this['emitterSha'+'pe']===ai?_0x278a1f=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x278a1f=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x278a1f&&this['calculateL'+'ocalBounds']();}const _0x386814=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x386814),this['worldBound'+'sTrail'][0xa6+0x5ab+0xe7*-0x7]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x9d9+-0x1*-0x168e+-0x2*0x65a]['add'](this['worldBound'+'sNoTrail']);const _0x2645a8=this['simTimeTot'+'al'];_0x2645a8>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x281+-0x1*-0x202e+-0x2ab*0xd]['copy'](this['worldBound'+'sTrail'][-0x3*-0x8d2+0x369+0xeef*-0x2]),this['worldBound'+'sTrail'][-0x85*0x35+-0x11cf+0x37d*0xd]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x2645a8+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x3c9*-0x2+0x1*-0x1bc7+0x1*0x1435]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1124*-0x1+0x49f*0x2+-0x698*0x4),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x386814),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x386814)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x1669+0x1105*0x2+-0x3e*0x30-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1681*0x1+0x1ae5+0x2*-0x18b3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1377+-0x8*-0x2c2+-0x298]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1bd6+-0x1a13+-0x175*-0x25]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x38b*-0x5+-0x227+0x13e0),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x1*0x59+-0xa63*-0x2+-0x9*0x245,this['timeToSwit'+'chBounds']=0x4*0x7f8+0x9c5+-0x5f3*0x7);}['calculateL'+'ocalBounds'](){let _0x566dbe=Number['MAX_VALUE'],_0x51acc8=Number['MAX_VALUE'],_0xe8abec=Number['MAX_VALUE'],_0x2a8f5a=-Number['MAX_VALUE'],_0x37af74=-Number['MAX_VALUE'],_0x2dc768=-Number['MAX_VALUE'],_0x18f841=0x1a2+0xb3+0x255*-0x1,_0x28a660=0x1720+0x1f0a+-0x362a;const _0x3d6da8=this['lifetime']/this['precision'],_0x4faeb8=[this['qVelocity'],this['qVelocity2']],_0x56a3b9=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x590bbc=[0x165e+0x1b2d+0x1*-0x318b,0x1489+0x503+-0x198c],_0x3588a3=[0xd*-0x5e+-0x1*-0x2361+-0x1e9b,-0x29*-0xc1+0x175e+-0x3647],_0x18c728=[0x17*0xe+-0x1175*0x1+0x1033,0x3ee+0x1acf*0x1+0x3d*-0x81],_0x23c4b0=[0x5a2+-0x61*0x7+0x2fb*-0x1,-0x61b*0x1+-0x899*-0x1+-0x1*0x27e],_0x4453fc=[-0x19a8+0x1a66+-0xbe,-0x22*-0x33+0x21d6+-0x289c];let _0xb4ffbb,_0x283da9,_0x426ab9;for(let _0x4ca587=-0xd63*-0x2+-0x1*-0x167+0x1*-0x1c2d;_0x4ca587<this['precision']+(0x1973+0xe*-0x3d+-0x161c);_0x4ca587++){const _0x1c44af=Math['min'](_0x4ca587,this['precision']-(0x4bf+0x4fc+-0x4dd*0x2));for(let _0x4993a0=-0x18*-0x140+-0x2*-0x6ce+0x1*-0x2b9c;_0x4993a0<-0x1a7c+0x1*-0x182a+-0x32a8*-0x1;_0x4993a0++)_0xb4ffbb=_0x56a3b9[_0x4993a0][_0x1c44af*(-0x1b60+-0x23c9+0x3f2c)+(0x5e1+0xac*-0x4+-0x13*0x2b)]*_0x3d6da8+_0x590bbc[_0x4993a0],_0x283da9=_0x56a3b9[_0x4993a0][_0x1c44af*(0x127c+-0x5*0x301+-0x44*0xd)+(0xb64+-0x1*-0x106f+-0xde9*0x2)]*_0x3d6da8+_0x3588a3[_0x4993a0],_0x426ab9=_0x56a3b9[_0x4993a0][_0x1c44af*(-0x2703+0x875*-0x3+0x9d*0x69)+(0x238b+0x6ca*-0x5+0xb*-0x25)]*_0x3d6da8+_0x18c728[_0x4993a0],_0x566dbe=Math['min'](_0xb4ffbb,_0x566dbe),_0x51acc8=Math['min'](_0x283da9,_0x51acc8),_0xe8abec=Math['min'](_0x426ab9,_0xe8abec),_0x2a8f5a=Math['max'](_0xb4ffbb,_0x2a8f5a),_0x37af74=Math['max'](_0x283da9,_0x37af74),_0x2dc768=Math['max'](_0x426ab9,_0x2dc768),_0x590bbc[_0x4993a0]=_0xb4ffbb,_0x3588a3[_0x4993a0]=_0x283da9,_0x18c728[_0x4993a0]=_0x426ab9;for(let _0x125f16=-0x267a+0x25a2*0x1+0xd8;_0x125f16<-0x1e4c+-0x1*0x1a0f+0x385d;_0x125f16++)_0x4453fc[_0x125f16]+=_0x3d6da8*Math['sqrt'](_0x4faeb8[_0x125f16][_0x1c44af*(-0x16f4+0x256c+-0xe75)+(0x15dd+-0x1*-0x1e3b+-0x3418)]*_0x4faeb8[_0x125f16][_0x1c44af*(0x1*0x1f01+0x3*-0x2fb+-0x1*0x160d)+(0xb15+-0x417*-0x8+-0x2bcd)]+_0x4faeb8[_0x125f16][_0x1c44af*(-0x2053+0x16*0xd+0x4a*0x6c)+(-0x158d+-0x1*0x20d3+0x1*0x3661)]*_0x4faeb8[_0x125f16][_0x1c44af*(0x1999+0x1*0xd99+0x1*-0x272f)+(0x763+0x178a+0x1eec*-0x1)]+_0x4faeb8[_0x125f16][_0x1c44af*(0xd7*-0x19+-0x2185+0x3687)+(0x1ad3+0x1*-0x18be+0x9*-0x3b)]*_0x4faeb8[_0x125f16][_0x1c44af*(-0x1*-0x1faf+0x54d*0x7+0x1*-0x44c7)+(0x1ed6+-0x10d9+-0xdfb)]);_0x23c4b0[-0x2*-0x853+-0x1a6*-0xa+0x1*-0x2122]+=this['qRadialSpe'+'ed'][_0x1c44af]*_0x3d6da8,_0x23c4b0[0x105d+-0xf65+-0x13*0xd]+=this['qRadialSpe'+'ed2'][_0x1c44af]*_0x3d6da8,_0x18f841=Math['max'](_0x18f841,Math['max'](Math['abs'](_0x23c4b0[-0x2491+0x19b*0x16+0x13f]),Math['abs'](_0x23c4b0[-0x2c6+0x6d*-0x2d+-0xaf8*-0x2]))),_0x28a660=Math['max'](_0x28a660,this['qScale'][_0x1c44af]);}this['emitterSha'+'pe']===ai?(_0xb4ffbb=this['emitterExt'+'ents']['x']*(0x1a6*-0xe+-0x1972+0x3086+0.5),_0x283da9=this['emitterExt'+'ents']['y']*(-0xb5*-0x29+0x5*0x1+-0x2f*0x9e+0.5),_0x426ab9=this['emitterExt'+'ents']['z']*(0x12be+0x739+-0x19f7+0.5)):(_0xb4ffbb=this['emitterRad'+'ius'],_0x283da9=this['emitterRad'+'ius'],_0x426ab9=this['emitterRad'+'ius']);const _0x32df97=Math['max'](_0x4453fc[-0x669+0xe7b+-0x812],_0x4453fc[0x1c79+0x13*0xcd+0x2baf*-0x1]);mc['x']=_0x566dbe-_0x28a660-_0xb4ffbb-_0x18f841-_0x32df97,mc['y']=_0x51acc8-_0x28a660-_0x283da9-_0x18f841-_0x32df97,mc['z']=_0xe8abec-_0x28a660-_0x426ab9-_0x18f841-_0x32df97,_c['x']=_0x2a8f5a+_0x28a660+_0xb4ffbb+_0x18f841+_0x32df97,_c['y']=_0x37af74+_0x28a660+_0x283da9+_0x18f841+_0x32df97,_c['z']=_0x2dc768+_0x28a660+_0x426ab9+_0x18f841+_0x32df97,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x3f677b=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x3f677b['maxVertexT'+'extures']<=-0xa6f+-0x2e3*-0xb+-0x1551||_0x3f677b['fragmentUn'+'iformsCoun'+'t']<0x3aa+-0x2*-0xeeb+0x1c0*-0x13||_0x3f677b['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x3f677b['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x2f*-0x5f+0x1ddc+0x327*-0xf:0x13df*-0x1+0x4aa*0x1+0xf37,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x24df+0x113c+-0x13a3*-0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x262+0x47*0x65+-0x614*0x5]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x424+-0x74e*-0x1+-0x8*0x65),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x4fc1f3=0xf4f*0x2+0x1a1*0x1+-0x203f;_0x4fc1f3<this['numParticl'+'es'];_0x4fc1f3++)this['vbToSort'][_0x4fc1f3]=[-0xe42+-0x2*-0xedd+-0xf78,-0x2f8+0xd*-0x21a+0x1e4a];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0xdc6b8b=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x6*-0xb9+0x2048+0x249e*-0x1]=this['emitterExt'+'ents']['x']!==-0x5fe+0x2274+-0x1c76?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x2e*-0xd0+-0x1daf*-0x1+0x7b1*0x1,Ai[0x1*0xc11+-0x8a7*0x2+0x53e]=this['emitterExt'+'ents']['y']!==0x1b31+0x6c9+0x21fa*-0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x2e7+-0x178d+0x1a74,Ai[-0x1756+0x216b+-0xa13]=this['emitterExt'+'ents']['z']!==0x1330+0x854*0x2+0x8f6*-0x4?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1c89+0x1*0x1df+0x79a*-0x4);for(let _0x1f531f=-0xb*-0x1ff+-0x247f+0xe8a;_0x1f531f<this['numParticl'+'es'];_0x1f531f++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0xdc6b8b,_0x1f531f),this['useCpu']&&(this['particleTe'+'x'][_0x1f531f*pc+(0x122d+0x2598+-0xb7*0x4e)+this['numParticl'+'esPot']*(0xef8+0x25eb+-0x34e1*0x1)*pc]=0x1a*-0x44+0x100d+-0xb4*0xd);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x141a1a=0x1624*0x1+-0x1900+0x2dc;_0x141a1a<this['particleTe'+'xStart']['length'];_0x141a1a++)this['particleTe'+'xStart'][_0x141a1a]=this['particleTe'+'x'][_0x141a1a];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x16a4+0x2433+-0xd8e,!(-0x1d0a+-0x112*-0x1e+0x9d*-0x5)),this['particleTe'+'xOUT']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x362*-0x6+-0x1fb5+0xb6a,!(-0xead+0xca9+0x205)),this['particleTe'+'xStart']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0x5*0x659+0x1e*0xd3+0x704*0x1,!(-0x1d15+0x2*0x1222+0x397*-0x2))):(this['particleTe'+'xIN']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x3f677b,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x1*0x1433+-0x24f5+0x265*0x7)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x559*-0x1+0xba*0x2f+-0x277e)}),this['swapTex']=!(-0x2dd+0x2b*-0x79+0x1731));const _0x4d4437=new Map();this['localSpace']&&_0x4d4437['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x4d4437['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x4d4437['set']('EMITTERSHA'+'PE_BOX','');const _0x58c0ad='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x4b826e=Pe['get'](_0x3f677b,_0x3f677b['isWebGPU']?it:Fe),_0x2db27b=new Map(_0x4b826e),_0x2bf31b={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x4d4437,'fragmentIncludes':_0x2db27b};_0x2bf31b['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x58c0ad,_0x4d4437['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x3f677b,_0x2bf31b),_0x4d4437['delete']('RESPAWN'),_0x2bf31b['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x58c0ad,_0x4d4437['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x3f677b,_0x2bf31b),_0x4d4437['delete']('NO_RESPAWN'),_0x2bf31b['uniqueName']='ParticleUp'+'dateStop-'+_0x58c0ad,_0x4d4437['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x3f677b,_0x2bf31b),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x17*0xca+0x2327*0x1+-0x3549,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1*-0x611+0x1*0x529+-0xb3a*0x1]['numIndices']:0x5d8+-0x1fcf+0x19fd,this['_allocate'](this['numParticl'+'es']);const _0x5f4190=new Ge(_0x3f677b);_0x5f4190['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5f4190['indexBuffe'+'r'][0x107+-0xe7+0x4*-0x8]=this['indexBuffe'+'r'],_0x5f4190['primitive'][0xe82+-0x173e+0x56*0x1a]['type']=js,_0x5f4190['primitive'][0xa8*0x29+-0x106f*-0x2+0x7*-0x88a]['base']=-0x21fc+0x1*0x1f01+0x2fb,_0x5f4190['primitive'][0x33d+0x15a2+-0x18df*0x1]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5f4190['primitive'][-0x1*-0x338+-0x4d*0x55+0x1659]['indexed']=!(0xc7*0x1c+0xfb1+-0x2575),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x3d1666=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1484+-0x4*-0x2c7+0x25a*0x4);this['meshInstan'+'ce']=new He(_0x5f4190,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x797+0x146c*-0x1+0x1c04),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1*-0xf2+0x2*0x41b+-0x744*0x1),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x587+0x478+-0x9fe),this['meshInstan'+'ce']['visible']=_0x3d1666,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x29*0xb3+0x22f1*-0x1+0x3f9c,!(0x85e+-0x976*-0x1+0xd*-0x15f)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x30*-0x3a+0xb30+0x1*-0x4f&&(this['animTilesX']>-0xd6a*0x1+-0x858+0x15c3||this['animTilesY']>-0x1*0xf01+0x7bb+0x9*0xcf)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x472a24=this['precision'],_0x22c4c3=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x472a24),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x472a24),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x472a24,0x65e+-0x1*-0x23c5+-0x2a23,0x1*-0x2169+-0x2619+0x4783),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x472a24),this['qScale']=this['scaleGraph']['quantize'](_0x472a24),this['qAlpha']=this['alphaGraph']['quantize'](_0x472a24),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x472a24),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x472a24),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x472a24),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x472a24,-0x24ec+-0x1*0x1942+0x3e2e,0x7*0x30d+0x7b*-0x16+-0x1e*0x5c),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x472a24),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x472a24),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x472a24),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x472a24);for(let _0x47191b=0x3a4*-0x2+-0x1ae5+-0x222d*-0x1;_0x47191b<_0x472a24;_0x47191b++)this['qRotSpeed'][_0x47191b]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x47191b]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0xf*-0x25f+-0x2701*-0x1+0x4a8f*-0x1),this['velocityUM'+'ax']=new Float32Array(-0x1e70+0x86b+0x1e*0xbc),this['colorUMax']=new Float32Array(0x1549+0x1b7*0x10+-0x30b6),this['rotSpeedUM'+'ax']=[-0x2*0xda5+-0x247f+-0x1*-0x3fc9],this['scaleUMax']=[-0x85a+-0x134*-0x7+-0x12],this['alphaUMax']=[0x2704+0x1*-0xc1c+-0x1*0x1ae8],this['radialSpee'+'dUMax']=[0x21c6+-0x3fa*0x2+-0x19d2],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x5a3b5a=[0x181d+-0x7*0x15d+-0xe92,-0x2b2*0x9+-0xc*0x4b+0x1bc6,-0x10cf+-0x2382+0xe3*0x3b];Xr(this['qVelocity'],_0x5a3b5a);const _0xff2240=[0xc6*-0x25+-0x26ae+0x10d3*0x4,0xe06+0x1*0x18e+-0xf94,0x70e+0x11a7+0x23f*-0xb];Xr(this['qVelocity2'],_0xff2240);const _0x2ac6f9=[-0xdf*-0x11+-0x17e9+0x91a,-0x19dc+-0xc15*-0x1+-0x1*-0xdc7,-0x1f58+-0x1abd+-0x3a15*-0x1];Xr(this['qLocalVelo'+'city'],_0x2ac6f9);const _0x33d22b=[-0x73d+-0xdd9*-0x1+-0x4*0x1a7,0x8b0*-0x2+-0x479*-0x3+-0x3f5*-0x1,0x5*-0x726+0xd3c+0x1682];Xr(this['qLocalVelo'+'city2'],_0x33d22b);const _0x4a4cbd=[0x24bb*0x1+-0xf43*-0x2+0x4341*-0x1];Xr(this['qRadialSpe'+'ed'],_0x4a4cbd);const _0x36fb81=[-0x1c27+-0x1f35*0x1+0x3b5c];Xr(this['qRadialSpe'+'ed2'],_0x36fb81);let _0x5b290e=Math['max'](_0x5a3b5a[0xc77*-0x3+0x258e+-0x1*0x29],_0xff2240[0x12b5+0x1476+-0x272b]);_0x5b290e=Math['max'](_0x5b290e,_0x5a3b5a[-0x2*0xbca+0x1*-0xeb+-0x380*-0x7]),_0x5b290e=Math['max'](_0x5b290e,_0xff2240[-0x1091+0x1741+0x3b*-0x1d]),_0x5b290e=Math['max'](_0x5b290e,_0x5a3b5a[0x1*0x1173+-0x2*0x9a5+0x1d9]),_0x5b290e=Math['max'](_0x5b290e,_0xff2240[0x1*0x11fb+-0x1309+-0x8*-0x22]);let _0x378b3f=Math['max'](_0x2ac6f9[0xb27*0x3+0x1*-0x1efd+-0x278],_0x33d22b[0x1900+-0x1565*0x1+0x47*-0xd]);_0x378b3f=Math['max'](_0x378b3f,_0x2ac6f9[-0x204a*0x1+0x27*-0xcd+0x3f86]),_0x378b3f=Math['max'](_0x378b3f,_0x33d22b[0xb*-0x2ed+-0xf57+0x2f87]),_0x378b3f=Math['max'](_0x378b3f,_0x2ac6f9[0x1f74+-0x1491+0x5*-0x22d]),_0x378b3f=Math['max'](_0x378b3f,_0x33d22b[-0x14*0x148+-0x15*-0x1e+0x172c]);const _0x1e6109=Math['max'](_0x4a4cbd[0xb7*0x2+0x158f+-0x16fd],_0x36fb81[-0x1*-0x1822+-0x22b7+-0xa95*-0x1]);this['maxVel']=_0x5b290e+_0x378b3f+_0x1e6109;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x22c4c3,_0x472a24,-0x12e8+0x707+0x3*0x3f6,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x22c4c3,_0x472a24,0x2d*-0x57+-0x1a67+0x29b3,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x22c4c3,_0x472a24,0x385+0x2d4+-0x658,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x22c4c3,_0x472a24,-0x2*-0x74+-0x2571+0xc2e*0x3,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x22c4c3,_0x472a24,0x1bb4+0x1*-0x1d62+0x1af,vA(this['qColor'],this['qAlpha']),_s,-0x3b*-0x4f+-0x2185*-0x1+-0x33b9,!(-0x1ba5*0x1+0x1238+-0x13*-0x7f));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x5ece07=new SA(this);return _0x5ece07['name']='EmitterMat'+'erial:'+this['node']['name'],_0x5ece07['cull']=bt,_0x5ece07['alphaWrite']=!(0x22a8+0x1ba7+0x3a*-0x113),_0x5ece07['blendType']=this['blendType'],_0x5ece07['depthWrite']=this['depthWrite'],_0x5ece07;}['resetMater'+'ial'](){const _0x3c227a=this['material'];_0x3c227a['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x3c227a['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x3c227a['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x3c227a['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x3c227a['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x3c227a['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x3c227a['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x3c227a['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x3c227a['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x3c227a['setParamet'+'er']('colorParam',this['colorParam']),_0x3c227a['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x3c227a['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x3c227a['setParamet'+'er']('lifetime',this['lifetime']),_0x3c227a['setParamet'+'er']('rate',this['rate']),_0x3c227a['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x3c227a['setParamet'+'er']('seed',this['seed']),_0x3c227a['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x4fc*-0x1+0x5*-0x26d+0x111d]),_0x3c227a['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x809+-0x19f9+0x11f0]),_0x3c227a['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x123*0x2+-0x1a8a+-0x39a*-0x8]),_0x3c227a['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x3c227a['setParamet'+'er']('graphSampl'+'eSize',(-0x1f3f+-0x13*-0x135+-0x1*-0x851)/this['precision']),_0x3c227a['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x16f2*-0x1+-0x2*-0x26f+0x945*-0x3,-0x175*-0x6+0x22*-0xd+0x1*-0x703,0x4f*-0xb+0x1f5*0x1+0x171])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x3c227a['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x3c227a['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x3c227a['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x118e+0x1a7f+-0x7*0x64b]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x13*0x1d5+-0x51*-0x1e+0x17a*-0x1e]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x88f+-0xb8+0x949]=this['wrapBounds']['z'],_0x3c227a['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x22e8+0x1995+0x953&&_0x3c227a['setParamet'+'er']('softening',(0x2011+0x47*-0x41+-0xe09)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x22cf+-0x59*0x26+0x3069))),this['stretch']>-0x241a+0x2488+-0x1*0x6e&&(_0x3c227a['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x401302,_0x58f61f;if(this['orientatio'+'n']===yh)_0x401302=new Float32Array([0xd5*-0x3+-0x1*0x1f65+0x21e5*0x1,-0x39f*0x2+0x71*-0x1d+0x140b,-0x704+0x12*-0xdd+-0x2*-0xb47]),_0x58f61f=new Float32Array([0x20*0x35+0x6c7+-0x1*0xd67,-0x3*0x2ae+-0x184+0x98e*0x1,0x1350+-0x219d+0x2*0x727]);else{let _0x78c8c7;this['orientatio'+'n']===Vw?_0x78c8c7=this['particleNo'+'rmal']['normalize']():_0x78c8c7=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x299288=new D(-0x2290+-0x19a3+-0x1e1a*-0x2,0x5*-0x50b+0x2*0xa4a+0x4a3,0x1a57+-0x1*0xbed+-0xe6a);Math['abs'](_0x299288['dot'](_0x78c8c7))===0xcb*0x25+-0x2090+-0x7*-0x76&&_0x299288['set'](0x26e0+-0xc*-0x83+-0xb41*0x4,-0x20fe+-0xba*0x28+0x3e0e,0x6dc*-0x1+0x2*0x3dd+-0xdd*0x1);const _0x2f436d=new D()['cross'](_0x78c8c7,_0x299288)['normalize']();_0x299288['cross'](_0x2f436d,_0x78c8c7)['normalize'](),_0x401302=new Float32Array([_0x299288['x'],_0x299288['y'],_0x299288['z']]),_0x58f61f=new Float32Array([_0x2f436d['x'],_0x2f436d['y'],_0x2f436d['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x401302),this['material']['setParamet'+'er']('faceBinorm',_0x58f61f);}['getVertexI'+'nfo'](){const _0xb28147=[];return this['useCpu']?_0xb28147['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x2c*0xce+0xcd6+0x76*0x31:-0x5*0xb2+0x21db+-0x1e5f,'type':Ve}):(_0xb28147['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0xb28147['push']({'semantic':uh,'components':0x2,'type':Ve})),_0xb28147;}['_allocate'](_0x1802a7){const _0x37362f=_0x1802a7*this['numParticl'+'eVerts'],_0x2ecb32=_0x1802a7*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x103*0x19+-0x119*-0x1f+-0x1*0x3b52)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x37362f){const _0x3045b8=this['getVertexI'+'nfo'](),_0x39bf5d=new kt(this['graphicsDe'+'vice'],_0x3045b8);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x39bf5d,_0x37362f,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x2ecb32);const _0x2126b7=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x51c1ba,_0x3caf7c,_0x555a18;if(this['useMesh']){_0x51c1ba=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x3caf7c=_0x51c1ba['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1e40c9=0x1*0x22b1+-0x14cc+-0x1*0xde5;_0x1e40c9<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x1e40c9++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1e40c9]['name']===is){_0x555a18=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1e40c9]['offset']/(-0x5e*-0x52+0x109a+-0x2b*0x116);break;}}for(let _0x130f77=0x15e0+0x23a7*0x1+-0x3987;_0x130f77<_0x37362f;_0x130f77++){const _0x405aee=Math['floor'](_0x130f77/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x200eb7=_0x130f77%this['numParticl'+'eVerts'];_0x2126b7[_0x130f77*(-0x1310+-0x6*0x201+-0xb5*-0x2c)]=_0x51c1ba[_0x200eb7*_0x3caf7c],_0x2126b7[_0x130f77*(0x1*0x314+-0xd*-0x2b+0x53d*-0x1)+(-0x52f*-0x7+-0x230c+-0x4f*0x4)]=_0x51c1ba[_0x200eb7*_0x3caf7c+(-0x1d56+-0x142*0x7+-0x69*-0x5d)],_0x2126b7[_0x130f77*(-0x5b*-0x3b+-0x101c+-0x4d7)+(-0x2*-0x370+-0x8d*0x3b+0x19a1)]=_0x51c1ba[_0x200eb7*_0x3caf7c+(0x1*0x2263+-0x1235+-0x102c)],_0x2126b7[_0x130f77*(-0x13*0xd9+0x3*0x64b+-0x2c0)+(0x1db+-0x988+-0x148*-0x6)]=_0x405aee,_0x2126b7[_0x130f77*(-0xcee*0x3+0x3c9+0x7*0x501)+(0xd31+-0x18a6+0xb79)]=_0x51c1ba[_0x200eb7*_0x3caf7c+_0x555a18+(0x359*0x2+-0x1ac6+-0x4*-0x505)],_0x2126b7[_0x130f77*(0x19ee+0x2333+-0x3d1b)+(0xb22+-0x12a*0x7+0x3*-0xfd)]=0x1*0x1346+0x728+-0x1a6d-_0x51c1ba[_0x200eb7*_0x3caf7c+_0x555a18+(0x2041*0x1+-0x1fe4+-0x5c)];}else{const _0x21235e=_0x130f77%(-0x1703+0x1*0xe04+0x903);_0x2126b7[_0x130f77*(-0xdfd*-0x2+-0x66*0x1e+-0x1002)]=ig[_0x21235e][-0x1ff*0x5+0x1d8b+-0x1390],_0x2126b7[_0x130f77*(-0xdca*-0x2+0x1740+-0x32d0)+(-0xb*0xd3+-0x1f*0x43+0x35*0x53)]=ig[_0x21235e][-0x10*0x12e+-0x8*0x214+0x2381],_0x2126b7[_0x130f77*(0x185+-0x9*0x115+0x83c)+(-0xb8+-0x154e+0x1608)]=0xe6b+-0x25*0x3e+-0x575,_0x2126b7[_0x130f77*(0x15b4+0x1d*0x14b+-0x8b*0x6d)+(-0x5*0x113+0x1abf+-0x1*0x155d)]=_0x405aee;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x2126b7),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x14d248=-0x2ea+-0xc9+0x3b3;const _0x2df9a9=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x154541=this['mesh']['indexBuffe'+'r'][-0x40+-0x235f+0x239f];_0x51c1ba=new Sh[_0x154541['format']](_0x154541['lock']());}for(let _0x102e31=0x21f8+0x1ea4*-0x1+0x354*-0x1;_0x102e31<_0x1802a7;_0x102e31++)if(this['useMesh']){for(let _0x2fce99=-0x20d3*0x1+0x88*0x43+-0x2c5;_0x2fce99<this['numParticl'+'eIndices'];_0x2fce99++)_0x2df9a9[_0x102e31*this['numParticl'+'eIndices']+_0x2fce99]=_0x51c1ba[_0x2fce99]+_0x102e31*this['numParticl'+'eVerts'];}else{const _0x2637a2=_0x102e31*(0xcaa+0x1a0b+0x5*-0x7bd);_0x2df9a9[_0x14d248++]=_0x2637a2,_0x2df9a9[_0x14d248++]=_0x2637a2+(0x1b73+-0x3*0xc30+-0x30a*-0x3),_0x2df9a9[_0x14d248++]=_0x2637a2+(-0x1e5+0x2569+-0x2382),_0x2df9a9[_0x14d248++]=_0x2637a2,_0x2df9a9[_0x14d248++]=_0x2637a2+(-0x113d+0xd*0x15b+-0x60),_0x2df9a9[_0x14d248++]=_0x2637a2+(0x24ed+-0x8c7+-0x31*0x93);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x1d69+0x19ce+-0x39b*-0x1]['unlock']();}}['reset'](){if(this['beenReset']=!(0x2361+-0xbb0+-0x17b1*0x1),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x563ef5=0xd1*0x22+-0x253e*-0x1+0x20*-0x208;_0x563ef5<this['particleTe'+'xStart']['length'];_0x563ef5++)this['particleTe'+'x'][_0x563ef5]=this['particleTe'+'xStart'][_0x563ef5];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x2853a8=this['loop'];this['loop']=!(0x19e*-0x3+0x13c2+-0xd4*0x12),this['addTime'](0xd35+-0x2*-0xc2e+-0x2591,!(0x263c+0x764+-0x2d9f)),this['loop']=_0x2853a8,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5f4b7a){const _0x3d0b51=_0x5f4b7a/this['lifetime'],_0x241a58=Math['min'](Math['floor'](_0x3d0b51*this['precision']),this['precision']),_0x14bab0=_0x5f4b7a/_0x241a58;for(let _0x4b8e77=0x997*0x1+0x47b+0x1*-0xe12;_0x4b8e77<_0x241a58;_0x4b8e77++)this['addTime'](_0x14bab0,!(-0xba1+0x81d*0x3+-0x1*0xcb5));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x7e778e,_0x331eb3){const _0x344d34=this['graphicsDe'+'vice'],_0x247dd9=de();if(this['simTimeTot'+'al']+=_0x7e778e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x42acbc=this['animTilesP'+'arams'];_0x42acbc[0x68e*0x5+-0x1*0x1121+-0xfa5]=(-0xaa*0x23+-0x23b0+0x3aef)/this['animTilesX'],_0x42acbc[-0x151d+0x1a97+-0x579]=(-0xc0d+0x3*0x5a7+0x1*-0x4e7)/this['animTilesY'];const _0x1f092c=this['animParams'];_0x1f092c[0x166*0x6+0x135e+-0x1bc2]=this['animStartF'+'rame'],_0x1f092c[-0x158+-0x10cf+-0x8*-0x245]=this['animNumFra'+'mes']*this['animSpeed'],_0x1f092c[0xcd3*0x1+0x1187+-0x1e58]=this['animNumFra'+'mes']-(-0x1d6d+-0x181*0x3+-0x1*-0x21f1),_0x1f092c[-0x619*-0x1+-0x985*-0x3+-0x7*0x4f3]=this['animNumAni'+'mations']-(-0x1b11+0x1f7a+-0x2*0x234);const _0x4b4363=this['animIndexP'+'arams'];_0x4b4363[0x271+0x2*-0x4bd+0x709]=this['animIndex'],_0x4b4363[0x1a3c+0x29e+0x5*-0x5c5]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x2318+-0x9d*-0x21+0x1*0xedb]=this['emitterExt'+'ents']['x']!==0x10*-0x2d+-0x5*-0x67e+-0x73*0x42?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x25c2+0x1*0x1fe9+0x4a5*-0xf,Ai[-0x14d*-0xe+0x1f75+-0x31aa]=this['emitterExt'+'ents']['y']!==0x71+0xbbe*0x3+-0x23ab?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0xec5+0x1*0x2162+-0x129d,Ai[-0x1b7b+-0xa7b+0x3c*0xa2]=this['emitterExt'+'ents']['z']!==0xeb6*0x1+-0x13ae+0x18*0x35?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x803+-0x1fd*0x2+0x409*-0x1,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x175093;const _0x19737f=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x7*-0x201+-0x1040+0x1e47*0x1]=_0x19737f['x'],this['emitterSca'+'leUniform'][0x5*0x35b+0xc29+-0x9*0x337]=_0x19737f['y'],this['emitterSca'+'leUniform'][0x384+-0x4b9+0x137]=_0x19737f['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x175093=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x1*-0x1cf+-0x4c5+0x2f6*0x1]=_0x175093['x'],this['emitterPos'+'Uniform'][-0x1*0x164f+-0x5*-0x9b+0x1349]=_0x175093['y'],this['emitterPos'+'Uniform'][-0x8db*-0x1+0xfe0+-0x1*0x18b9]=_0x175093['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x344d34,Ur,Ai,_0x7e778e,_0x331eb3);else{const _0x3f0b06=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x3f0b06,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x175093,_0x7e778e,_0x331eb3);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x1*0xcb6+0x13*0x18e+0x609*-0x7)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x247dd9;}['_destroyRe'+'sources'](){var _0x16b5f0,_0x4e91d1,_0x577dfe,_0x500293,_0x20ec4a,_0x57df7a,_0x116cf6,_0x3d2145,_0x144eb8,_0x52a92a,_0x354eea,_0xdfa75d;(_0x16b5f0=this['particleTe'+'xIN'])==null||_0x16b5f0['destroy'](),this['particleTe'+'xIN']=null,(_0x4e91d1=this['particleTe'+'xOUT'])==null||_0x4e91d1['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x577dfe=this['rtParticle'+'TexIN'])==null||_0x577dfe['destroy'](),this['rtParticle'+'TexIN']=null,(_0x500293=this['rtParticle'+'TexOUT'])==null||_0x500293['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x20ec4a=this['internalTe'+'x0'])==null||_0x20ec4a['destroy'](),this['internalTe'+'x0']=null,(_0x57df7a=this['internalTe'+'x1'])==null||_0x57df7a['destroy'](),this['internalTe'+'x1']=null,(_0x116cf6=this['internalTe'+'x2'])==null||_0x116cf6['destroy'](),this['internalTe'+'x2']=null,(_0x3d2145=this['internalTe'+'x3'])==null||_0x3d2145['destroy'](),this['internalTe'+'x3']=null,(_0x144eb8=this['colorParam'])==null||_0x144eb8['destroy'](),this['colorParam']=null,(_0x52a92a=this['vertexBuff'+'er'])==null||_0x52a92a['destroy'](),this['vertexBuff'+'er']=void(0x772*-0x4+0x1*-0x24df+0x42a7),(_0x354eea=this['indexBuffe'+'r'])==null||_0x354eea['destroy'](),this['indexBuffe'+'r']=void(0x1*0x1972+-0x2379+0xa07),(_0xdfa75d=this['material'])==null||_0xdfa75d['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x32fadc){var _0x305c41;const _0x5668a1=_0x32fadc['shaderDesc'],_0x5b66c2=_0x5668a1['vertexGLSL']?hi(_0x5668a1['vertexGLSL']):-0x1728+-0x121b*0x2+-0x1bf*-0x22,_0x30ccc3=_0x5668a1['fragmentGL'+'SL']?hi(_0x5668a1['fragmentGL'+'SL']):-0x13b8+0x5*0x622+-0xaf2,_0xfc3b2f=_0x5668a1['vertexWGSL']?hi(_0x5668a1['vertexWGSL']):-0xa92+0x7*-0x21a+-0x1*-0x1948,_0x3e126a=_0x5668a1['fragmentWG'+'SL']?hi(_0x5668a1['fragmentWG'+'SL']):0x2167+0x65b*-0x2+-0x14b1,_0xbe9a54=ya['definesHas'+'h'](_0x32fadc['defines']),_0x19ca2f=((_0x305c41=_0x32fadc['shaderChun'+'ks'])==null?void(0xbdb+0xf87+-0x1b62):_0x305c41['key'])??'';let _0x147b25=_0x5668a1['uniqueName']+'_'+_0xbe9a54+'_'+_0x5b66c2+'_'+_0x30ccc3+'_'+_0xfc3b2f+'_'+_0x3e126a+'_'+_0x19ca2f;return _0x32fadc['skin']&&(_0x147b25+='_skin'),_0x32fadc['useInstanc'+'ing']&&(_0x147b25+='_inst'),_0x32fadc['useMorphPo'+'sition']&&(_0x147b25+='_morphp'),_0x32fadc['useMorphNo'+'rmal']&&(_0x147b25+='_morphn'),_0x32fadc['useMorphTe'+'xtureBased'+'Int']&&(_0x147b25+='_morphi'),_0x147b25;}['createAttr'+'ibutesDefi'+'nition'](_0x3712d4,_0x131ab8){const _0x3fdb21=_0x131ab8['shaderDesc']['attributes'],_0x60aadf=_0x3fdb21?{..._0x3fdb21}:void(-0x18*-0x149+-0x2*0xd87+-0x3ca);_0x131ab8['skin']&&(_0x60aadf['vertex_bon'+'eWeights']=gi,_0x60aadf['vertex_bon'+'eIndices']=us),(_0x131ab8['useMorphPo'+'sition']||_0x131ab8['useMorphNo'+'rmal'])&&(_0x60aadf['morph_vert'+'ex_id']=Ln),_0x3712d4['attributes']=_0x60aadf;}['createVert'+'exDefiniti'+'on'](_0x2ef0be,_0x213894,_0x413fe2,_0x4a874a){const _0x359f55=_0x213894['shaderDesc'],_0x16c3fb=new Map(_0x413fe2);_0x16c3fb['set']('transformI'+'nstancingV'+'S','');const _0x172659=new Map(_0x213894['defines']);_0x213894['skin']&&_0x172659['set']('SKIN',!(0x10c1+-0x1*-0x149+-0x120a)),_0x213894['useInstanc'+'ing']&&_0x172659['set']('INSTANCING',!(-0x2256+0x1*-0xc85+-0x1*-0x2edb)),(_0x213894['useMorphPo'+'sition']||_0x213894['useMorphNo'+'rmal'])&&(_0x172659['set']('MORPHING',!(0x338*-0xc+0x23c3+0x2dd)),_0x213894['useMorphTe'+'xtureBased'+'Int']&&_0x172659['set']('MORPHING_I'+'NT',!(0x171*0xc+-0x1633*0x1+-0xfb*-0x5)),_0x213894['useMorphPo'+'sition']&&_0x172659['set']('MORPHING_P'+'OSITION',!(-0x1c6f+-0x1229+-0x8e*-0x54)),_0x213894['useMorphNo'+'rmal']&&_0x172659['set']('MORPHING_N'+'ORMAL',!(-0x9*-0x3bb+-0x1bea+-0xa1*0x9))),_0x2ef0be['vertexCode']=_0x4a874a?_0x359f55['vertexWGSL']:_0x359f55['vertexGLSL'],_0x2ef0be['vertexIncl'+'udes']=_0x16c3fb,_0x2ef0be['vertexDefi'+'nes']=_0x172659;}['createFrag'+'mentDefini'+'tion'](_0x5efa4a,_0x532a75,_0x4ac994,_0x57af64){const _0x1a4de5=_0x532a75['shaderDesc'],_0x36819c=new Map(_0x4ac994),_0x418264=new Map(_0x532a75['defines']);_0x5efa4a['fragmentCo'+'de']=_0x57af64?_0x1a4de5['fragmentWG'+'SL']:_0x1a4de5['fragmentGL'+'SL'],_0x5efa4a['fragmentIn'+'cludes']=_0x36819c,_0x5efa4a['fragmentDe'+'fines']=_0x418264;}['createShad'+'erDefiniti'+'on'](_0x329bb1,_0x3cfe96){var _0x34ea9f;const _0x3eb3f0=_0x3cfe96['shaderDesc'],_0x219aca=_0x329bb1['isWebGPU']&&!!_0x3eb3f0['vertexWGSL']&&!!_0x3eb3f0['fragmentWG'+'SL']&&(((_0x34ea9f=_0x3cfe96['shaderChun'+'ks'])==null?void(0x13*0x187+-0x1*-0xcd1+0x33*-0xd2):_0x34ea9f['useWGSL'])??!(-0x2*-0x126f+-0xd14+0xf*-0x196)),_0x281fa5={'name':'ShaderMate'+'rial-'+_0x3eb3f0['uniqueName'],'shaderLanguage':_0x219aca?it:Fe,'fragmentOutputTypes':_0x3eb3f0['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x3eb3f0['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x3eb3f0['meshBindGr'+'oupFormat']},_0x112d60=_0x219aca?it:Fe,_0x7ba380=bh['merge'](Pe['get'](_0x329bb1,_0x112d60),_0x3cfe96['shaderChun'+'ks'][_0x112d60]);return this['createAttr'+'ibutesDefi'+'nition'](_0x281fa5,_0x3cfe96),this['createVert'+'exDefiniti'+'on'](_0x281fa5,_0x3cfe96,_0x7ba380,_0x219aca),this['createFrag'+'mentDefini'+'tion'](_0x281fa5,_0x3cfe96,_0x7ba380,_0x219aca),Jt['createDefi'+'nition'](_0x329bb1,_0x281fa5);}}const MA=new PA();class Xn extends tr{constructor(_0x16942e){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x16942e;}set['shaderDesc'](_0x5b9386){if(this['_shaderDes'+'c']=void(-0xb57+-0x114a*-0x2+-0x173d),_0x5b9386&&(this['_shaderDes'+'c']={'uniqueName':_0x5b9386['uniqueName'],'attributes':_0x5b9386['attributes'],'fragmentOutputTypes':_0x5b9386['fragmentOu'+'tputTypes'],'vertexGLSL':_0x5b9386['vertexGLSL'],'fragmentGLSL':_0x5b9386['fragmentGL'+'SL'],'vertexWGSL':_0x5b9386['vertexWGSL'],'fragmentWGSL':_0x5b9386['fragmentWG'+'SL']},_0x5b9386['vertexCode']||_0x5b9386['fragmentCo'+'de']||_0x5b9386['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x5b9386['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x4d5c19=_0x5b9386['shaderLang'+'uage']??Fe;_0x4d5c19===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x5b9386['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x5b9386['fragmentCo'+'de']):_0x4d5c19===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x5b9386['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x5b9386['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2ebf17){return super['copy'](_0x2ebf17),this['shaderDesc']=_0x2ebf17['shaderDesc'],this;}['getShaderV'+'ariant'](_0x263d6b){const {objDefs:_0x5ed669}=_0x263d6b,_0xa0412d={'defines':$t['getCoreDef'+'ines'](this,_0x263d6b),'skin':(_0x5ed669&nl)!==0xaf7+0x17cd+-0x22c4,'useInstancing':(_0x5ed669&ol)!==0x35*-0x97+-0x2*0xcdc+-0x1*-0x38fb,'useMorphPosition':(_0x5ed669&ll)!==0x136e+0x8*-0x1bb+-0x596,'useMorphNormal':(_0x5ed669&cl)!==0x2185+-0xd72+-0x1413,'useMorphTextureBasedInt':(_0x5ed669&hl)!==-0xedf+0x12*0xc1+0x14d,'pass':_0x263d6b['pass'],'gamma':_0x263d6b['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x263d6b['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x263d6b['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0xef808=new Ad(_0x263d6b['viewUnifor'+'mFormat'],_0x263d6b['viewBindGr'+'oupFormat'],_0x263d6b['vertexForm'+'at']),_0x442a2c=Hn(_0x263d6b['device']);return _0x442a2c['register']('shader-mat'+'erial',MA),_0x442a2c['getProgram']('shader-mat'+'erial',_0xa0412d,_0xef808,this['userId']);}}const Iv=(_0x217a00,_0x3b9412)=>{const _0x2e0c49=_0x3b9412['length']/(-0x7d2+-0x6e8+0x157*0xb),_0x1bf44e=_0x217a00['length']/(0x17d*-0x7+-0xb*0x289+0x2651),_0xd4ae83=new D(),_0x1cd3fb=new D(),_0xa70384=new D(),_0x1f9367=new D(),_0x2cd890=new D(),_0x115d0d=new D(),_0x317f6a=[];for(let _0x111e21=-0x1180+-0x425*-0x3+-0x511*-0x1;_0x111e21<_0x217a00['length'];_0x111e21++)_0x317f6a[_0x111e21]=0x1576+0xc2*0x21+-0x1*0x2e78;for(let _0x1d3104=0x1046*0x2+-0x476*-0x4+-0x1e*0x1ae;_0x1d3104<_0x2e0c49;_0x1d3104++){const _0x1fb38b=_0x3b9412[_0x1d3104*(-0x1*0xf3e+0x6e5*0x2+0xf*0x19)],_0x2c991e=_0x3b9412[_0x1d3104*(0x1d*0x142+-0x1c88*-0x1+0x949*-0x7)+(-0x3*0x907+0xf7*0x26+-0x994)],_0x4719cf=_0x3b9412[_0x1d3104*(0x1dfe+0x1*-0x1aa5+-0x356)+(-0xd*0x15b+0x1a3*0x13+0x8*-0x1af)];_0xd4ae83['set'](_0x217a00[_0x1fb38b*(-0x15*0x191+0x2bf*-0x9+0x95*0x63)],_0x217a00[_0x1fb38b*(-0x1*-0x3e9+-0x484+0x9e)+(-0x8*0x38f+0x1472+0x807)],_0x217a00[_0x1fb38b*(-0xb67+-0x16ab*0x1+0x2215)+(0x846+-0x7*0x50d+0x1b17)]),_0x1cd3fb['set'](_0x217a00[_0x2c991e*(0x3*0x18d+-0x9b4+0x510)],_0x217a00[_0x2c991e*(-0x25f2+-0x32f+0x1492*0x2)+(-0x1*-0x21c2+-0x11*0x22d+0x33c)],_0x217a00[_0x2c991e*(0x15f9+-0x1*0x1d87+0x791)+(0x14b6+-0x71b+-0xd99)]),_0xa70384['set'](_0x217a00[_0x4719cf*(0x26c4+0x1ccf+-0x4390)],_0x217a00[_0x4719cf*(-0x3*-0xa44+0x164*0xf+-0x33a5)+(0xff9*-0x2+-0x18a9*0x1+0x389c)],_0x217a00[_0x4719cf*(-0x1*-0x1693+-0x1*0x158e+-0x102)+(-0xf3d+-0x9f3+0x1932)]),_0x1f9367['sub2'](_0x1cd3fb,_0xd4ae83),_0x2cd890['sub2'](_0xa70384,_0xd4ae83),_0x115d0d['cross'](_0x1f9367,_0x2cd890)['normalize'](),_0x317f6a[_0x1fb38b*(0x26b3+-0x15f9+0x185*-0xb)]+=_0x115d0d['x'],_0x317f6a[_0x1fb38b*(0x212d+0x1bc2+-0x1e76*0x2)+(0x8*0x345+0x2691+-0xda*0x4c)]+=_0x115d0d['y'],_0x317f6a[_0x1fb38b*(-0x31*-0x2d+0x1512+-0x12*0x1a6)+(0x1f35+0x1*0x143f+-0x3372)]+=_0x115d0d['z'],_0x317f6a[_0x2c991e*(-0xb43*-0x1+-0x943*0x1+-0x1*0x1fd)]+=_0x115d0d['x'],_0x317f6a[_0x2c991e*(0x11*-0x6d+0x16be+-0xf7e)+(-0x2*0x76d+0x1218+-0x33d)]+=_0x115d0d['y'],_0x317f6a[_0x2c991e*(0x196f+0x1558+-0x2ec4)+(0x7*0x2f9+-0x1c1e+0x751)]+=_0x115d0d['z'],_0x317f6a[_0x4719cf*(-0xce9+-0x1868+0x2554)]+=_0x115d0d['x'],_0x317f6a[_0x4719cf*(-0x2*-0x1a1+0x9d2+-0xd11)+(0x1317+-0xf7*0x3+-0x1*0x1031)]+=_0x115d0d['y'],_0x317f6a[_0x4719cf*(0x1*0xa9+-0x17b0+0x170a)+(0xddf+0x148f+-0x226c)]+=_0x115d0d['z'];}for(let _0x59dd7b=-0x3d*-0x16+0x3e5+-0x923;_0x59dd7b<_0x1bf44e;_0x59dd7b++){const _0x4dda79=_0x317f6a[_0x59dd7b*(-0x1fb5+0xce0+0x18*0xc9)],_0x246bea=_0x317f6a[_0x59dd7b*(0x1*0x22d3+0x8f4+-0x2bc4)+(-0x10*0xfb+-0x1d76+0x2d27)],_0x59307e=_0x317f6a[_0x59dd7b*(-0x97a*0x2+0x3c8*0x6+-0x3b9)+(-0x41a+-0x1*-0xd0b+-0x1*0x8ef)],_0xfe40e3=(0x1*-0x11e8+-0x11*0x193+-0xb2b*-0x4)/Math['sqrt'](_0x4dda79*_0x4dda79+_0x246bea*_0x246bea+_0x59307e*_0x59307e);_0x317f6a[_0x59dd7b*(-0x10b*-0x10+-0x25d2+-0x1525*-0x1)]*=_0xfe40e3,_0x317f6a[_0x59dd7b*(0x2*0x4c5+0x72+-0x3*0x353)+(-0x1fdb+-0x1413+0x33ef)]*=_0xfe40e3,_0x317f6a[_0x59dd7b*(0x5*0x3d8+-0x2013+0x1*0xcde)+(0x224*0xd+-0x56*-0x2d+-0x18*0x1ca)]*=_0xfe40e3;}return _0x317f6a;},Mr=(_0x203a73,_0x4f991f,_0xb4792f,_0x46611c)=>{const _0x2bed3c=_0x46611c['length']/(-0x1888+0x29*-0x3e+0x2279),_0x451a74=_0x203a73['length']/(-0x27*0xbc+-0x2245+0x3eec),_0x3751af=new D(),_0x4ced6f=new D(),_0x460440=new D(),_0x3987c6=new J(),_0x313987=new J(),_0x3e6338=new J(),_0xa5b7d8=new D(),_0x52ea53=new D(),_0x1ac725=new Float32Array(_0x451a74*(-0x219c+0x2577+-0x3d8)),_0x1acc09=new Float32Array(_0x451a74*(0x1939+-0xa69+-0xecd)),_0x4f79bb=[];for(let _0x5cddb2=0x8d7*-0x4+0x5*0x69f+0x241;_0x5cddb2<_0x2bed3c;_0x5cddb2++){const _0x2ef138=_0x46611c[_0x5cddb2*(-0xb*0x259+-0x1*0x376+0x1d4c)],_0x561a64=_0x46611c[_0x5cddb2*(0x172+-0xf7f*0x2+0x149*0x17)+(0x2*0x255+0x1+-0x4aa)],_0x5d7c04=_0x46611c[_0x5cddb2*(0x1f4f+-0xa4*0x23+-0x8e0)+(-0x1*0x1dfe+-0x1*0x172b+0x352b)];_0x3751af['set'](_0x203a73[_0x2ef138*(0x1293*-0x1+-0x17dc+-0x713*-0x6)],_0x203a73[_0x2ef138*(0x2249*-0x1+0x2130+0x1*0x11c)+(0x2439+0xd79+-0x31b1)],_0x203a73[_0x2ef138*(-0x1358+-0x601+0x195c*0x1)+(0xdc2*-0x2+0x113a+0x2*0x526)]),_0x4ced6f['set'](_0x203a73[_0x561a64*(0xb*-0x21a+-0x1*0x1771+-0xf86*-0x3)],_0x203a73[_0x561a64*(0x42*0x44+0x262*0x4+-0x1b0d)+(0x3*0xbfb+-0x2a*0xeb+0x29e)],_0x203a73[_0x561a64*(0x1732+-0xd6+0x1*-0x1659)+(-0x65b+-0x1*0x641+0xc9e)]),_0x460440['set'](_0x203a73[_0x5d7c04*(-0xef*-0xf+0x2*-0x8d9+0x3b4)],_0x203a73[_0x5d7c04*(0x5*-0x6bf+-0x1a87*-0x1+-0x737*-0x1)+(-0x53*-0x6+0x362*-0x1+0x7b*0x3)],_0x203a73[_0x5d7c04*(0x223b+-0x17*0x92+-0x1*0x151a)+(0x562+-0x1*0x20e3+0x1b83)]),_0x3987c6['set'](_0xb4792f[_0x2ef138*(0x33*0xb6+0x1*-0xdf5+0xd*-0x1b7)],_0xb4792f[_0x2ef138*(-0x124e+0x1ffa+-0xdaa)+(-0x1865+0x1*-0xd15+0x257b)]),_0x313987['set'](_0xb4792f[_0x561a64*(0x317*0x4+-0x1*0x15b9+-0x1*-0x95f)],_0xb4792f[_0x561a64*(-0x22bd+-0x1061+0x3320)+(-0x3*-0x35d+0x13*0x8b+0x1467*-0x1)]),_0x3e6338['set'](_0xb4792f[_0x5d7c04*(-0x7da+-0x26a5+0x2e81)],_0xb4792f[_0x5d7c04*(0x4*-0x41c+-0x10f0+0x2162)+(-0xa*-0x121+-0x1*0x20a5+0x155c)]);const _0x786db2=_0x4ced6f['x']-_0x3751af['x'],_0x63e3af=_0x460440['x']-_0x3751af['x'],_0x1cea59=_0x4ced6f['y']-_0x3751af['y'],_0x2338c0=_0x460440['y']-_0x3751af['y'],_0x426126=_0x4ced6f['z']-_0x3751af['z'],_0x2351a9=_0x460440['z']-_0x3751af['z'],_0x1561ea=_0x313987['x']-_0x3987c6['x'],_0x271904=_0x3e6338['x']-_0x3987c6['x'],_0x720270=_0x313987['y']-_0x3987c6['y'],_0x1acdec=_0x3e6338['y']-_0x3987c6['y'],_0x31e767=_0x1561ea*_0x1acdec-_0x271904*_0x720270;if(_0x31e767===-0x1*0x606+-0x10fc+0x1702)_0xa5b7d8['set'](-0x1d98+0x1529+0x86f,-0xe05+0x1*0x38b+0xa7b,0x1f42+0x13e1+-0xf7*0x35),_0x52ea53['set'](-0x106*0x3+0x1281+-0xf6e,0x1*0x25cd+-0x1d51+0x2*-0x43e,0x1*0x163+-0x18c5*0x1+0x2*0xbb1);else{const _0xcab4d4=(0x1d0*0x14+-0x1*-0x1ef9+-0x778*0x9)/_0x31e767;_0xa5b7d8['set']((_0x1acdec*_0x786db2-_0x720270*_0x63e3af)*_0xcab4d4,(_0x1acdec*_0x1cea59-_0x720270*_0x2338c0)*_0xcab4d4,(_0x1acdec*_0x426126-_0x720270*_0x2351a9)*_0xcab4d4),_0x52ea53['set']((_0x1561ea*_0x63e3af-_0x271904*_0x786db2)*_0xcab4d4,(_0x1561ea*_0x2338c0-_0x271904*_0x1cea59)*_0xcab4d4,(_0x1561ea*_0x2351a9-_0x271904*_0x426126)*_0xcab4d4);}_0x1ac725[_0x2ef138*(-0x1908+-0x1224+0x5*0x8a3)+(-0x15b+-0x1e5e+0x1fb9)]+=_0xa5b7d8['x'],_0x1ac725[_0x2ef138*(-0x1*-0xb24+-0x1*0xa6+-0xa7b)+(-0x3*-0xa1c+0x1704+-0x3557*0x1)]+=_0xa5b7d8['y'],_0x1ac725[_0x2ef138*(0x2381+0xc1*-0x11+-0x16ad)+(0x2*-0x6+-0x671*-0x4+-0x2*0xcdb)]+=_0xa5b7d8['z'],_0x1ac725[_0x561a64*(-0x855*-0x2+-0x1192+0xeb)+(-0x3b5*0x3+0x1cd1*0x1+0x6*-0x2f3)]+=_0xa5b7d8['x'],_0x1ac725[_0x561a64*(0x1196*0x1+0x9c5+0x578*-0x5)+(0x3f6+-0x1112+0xd1d)]+=_0xa5b7d8['y'],_0x1ac725[_0x561a64*(-0x361*-0x2+-0x15b*0x18+0x19c9)+(-0x24b+-0x92*0x3a+0x2361)]+=_0xa5b7d8['z'],_0x1ac725[_0x5d7c04*(-0x2307*0x1+0xbc9+0x1*0x1741)+(0x2e7*0x7+0xa*0x1a5+-0x24c3)]+=_0xa5b7d8['x'],_0x1ac725[_0x5d7c04*(0xa85*-0x2+-0x1b*0x71+0x20f8)+(-0x1e75+0x23c7+0x551*-0x1)]+=_0xa5b7d8['y'],_0x1ac725[_0x5d7c04*(0x1*0x155d+0x1*-0x171d+-0x29*-0xb)+(-0x119a+0x1*-0x177d+0x2919)]+=_0xa5b7d8['z'],_0x1acc09[_0x2ef138*(0x2465+-0x18bf*0x1+-0x9*0x14b)+(0x16d3*-0x1+-0x27*0x43+-0x4b8*-0x7)]+=_0x52ea53['x'],_0x1acc09[_0x2ef138*(-0xfbf*0x2+-0x2*0xa39+0x33f3)+(0x19af*0x1+0x20f3+-0x3aa1)]+=_0x52ea53['y'],_0x1acc09[_0x2ef138*(0x15a7+-0xb*-0x3+-0x15c5)+(0xd5e*0x1+0xf7*-0x1d+0xe9f)]+=_0x52ea53['z'],_0x1acc09[_0x561a64*(-0x7af+-0x12f0+0x1aa2)+(0x1442+0x38*-0xb1+0x1276)]+=_0x52ea53['x'],_0x1acc09[_0x561a64*(-0x1e62+-0x3*-0x943+0x29c)+(-0x113*-0x1+-0x10fd+0xfeb)]+=_0x52ea53['y'],_0x1acc09[_0x561a64*(0x26f5+0x236a+-0x1*0x4a5c)+(-0x2587+0x268e+-0x105*0x1)]+=_0x52ea53['z'],_0x1acc09[_0x5d7c04*(-0x72*0x56+0x23b6+0x299)+(0xc7*0x32+-0x1*0x12d5+-0x1409)]+=_0x52ea53['x'],_0x1acc09[_0x5d7c04*(0x3*0x1bf+-0x299+-0x2a1)+(0x73+-0x124e+0x11dc)]+=_0x52ea53['y'],_0x1acc09[_0x5d7c04*(-0x1a1b+-0x863*-0x2+0x68*0x17)+(0xc64+-0x13c1+0x75f)]+=_0x52ea53['z'];}const _0x2f1f9e=new D(),_0x4985ac=new D(),_0x428514=new D(),_0x6381e8=new D();for(let _0xbf8f36=0x208d*0x1+-0x3*0xa54+0x191*-0x1;_0xbf8f36<_0x451a74;_0xbf8f36++){_0x428514['set'](_0x4f991f[_0xbf8f36*(0x15af+-0x35f*-0xb+-0x3ac1)],_0x4f991f[_0xbf8f36*(-0x1a1c+-0x35*0xb9+0x406c)+(-0x1*0x143b+0x1534+0x1f*-0x8)],_0x4f991f[_0xbf8f36*(-0x97*0xd+0x1f3c+0x3ed*-0x6)+(-0x567*0x6+0x1*-0x243e+-0x22*-0x205)]),_0x2f1f9e['set'](_0x1ac725[_0xbf8f36*(0x4*0x6cd+-0x5*-0x34a+-0x2ba3)],_0x1ac725[_0xbf8f36*(-0x103*0x14+0x6*0x39c+-0x169)+(0x3e8+-0x1*-0xc79+-0x2*0x830)],_0x1ac725[_0xbf8f36*(0x2664*0x1+-0x77*-0x17+0x23b*-0x16)+(0x8bd+-0x1*0xc37+0x4*0xdf)]),_0x4985ac['set'](_0x1acc09[_0xbf8f36*(0xe22+-0x16b7+-0xc8*-0xb)],_0x1acc09[_0xbf8f36*(0x1486+-0xc7e+-0x805)+(0x1c18+0x8f9+-0x4a2*0x8)],_0x1acc09[_0xbf8f36*(0x812+-0xdc3+0x5b4)+(0x2549*-0x1+0x257d*0x1+-0x5*0xa)]);const _0x107439=_0x428514['dot'](_0x2f1f9e);_0x6381e8['copy'](_0x428514)['mulScalar'](_0x107439),_0x6381e8['sub2'](_0x2f1f9e,_0x6381e8)['normalize'](),_0x4f79bb[_0xbf8f36*(-0x70d+-0x8c7*0x1+0xfd8)]=_0x6381e8['x'],_0x4f79bb[_0xbf8f36*(0x851*0x1+0x3*0xa52+0x13*-0x211)+(-0x2525+-0x23d9+0x48ff)]=_0x6381e8['y'],_0x4f79bb[_0xbf8f36*(0x91f*0x2+0x1c4b*-0x1+0xa11)+(0xca*-0x15+-0x566+0x1*0x15fa)]=_0x6381e8['z'],_0x6381e8['cross'](_0x428514,_0x2f1f9e),_0x4f79bb[_0xbf8f36*(-0x35*0x2b+-0x2*0x10c1+0x2a6d*0x1)+(-0x2a7*-0xb+0x1*0xea5+-0x2bcf)]=_0x6381e8['dot'](_0x4985ac)<0x137e+0x2*0x76d+-0x112c*0x2?-(0x14c1+-0x2683+0x11c3):0x160+0x147b+-0x15da;}return _0x4f79bb;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(-0x1c34+0x15da+0x65e)/(0x8*-0x308+-0x8*0x465+0x3ba8),hg=-0x2348*-0x1+-0x2486+0x13f-pu*(-0x10b*0xd+-0xa49*0x1+-0x17da*-0x1);class mu extends Ta{constructor(_0x2b168c={}){super();const _0x5770f1=_0x2b168c['halfExtent'+'s']??new D(0x248+-0x1*-0x2019+0x1*-0x2261+0.5,0x173b+0x1f49+-0x3684+0.5,0x193e+-0x77c*-0x5+-0x3eaa+0.5),_0x1fa42c=_0x2b168c['widthSegme'+'nts']??0x1f43*0x1+-0x19*0x183+0x7*0xef,_0x53b25a=_0x2b168c['lengthSegm'+'ents']??0x8f6+0xd*-0x15b+-0x1*-0x8aa,_0x267680=_0x2b168c['heightSegm'+'ents']??0x225b+0x4c+-0x22a6,_0x27edee=_0x2b168c['yOffset']??-0x263*-0xa+-0xd2b+-0xab3,_0x166d50=-_0x5770f1['y']+_0x27edee,_0x5980fa=_0x5770f1['y']+_0x27edee,_0x3df1ad=[new D(-_0x5770f1['x'],_0x166d50,_0x5770f1['z']),new D(_0x5770f1['x'],_0x166d50,_0x5770f1['z']),new D(_0x5770f1['x'],_0x5980fa,_0x5770f1['z']),new D(-_0x5770f1['x'],_0x5980fa,_0x5770f1['z']),new D(_0x5770f1['x'],_0x166d50,-_0x5770f1['z']),new D(-_0x5770f1['x'],_0x166d50,-_0x5770f1['z']),new D(-_0x5770f1['x'],_0x5980fa,-_0x5770f1['z']),new D(_0x5770f1['x'],_0x5980fa,-_0x5770f1['z'])],_0x401443=[[-0x1c6b+0xa48+-0x1*-0x1223,-0x1b25*-0x1+0x15e0+-0x3104,0xa8e+0xb57+-0x2*0xaf1],[0x1*-0x757+0x268c+-0x1f31,-0x255a+-0x1ab2+0x4011,-0x3*0x3e5+-0x12e2*0x2+0x317a],[-0x1*-0x256a+0x440*0x8+-0x17cd*0x3,0x1b8*-0x16+-0x1d4f+0x4321,0x474*-0x3+-0x18a8+-0x12*-0x21d],[0x1*0x215d+0x35b*0x2+-0x2812,0x1bc9+-0x1d56+0x18d*0x1,-0x601*0x3+0xffc+0x20b],[-0x4*0x227+-0x63e+0xedb,-0x417+-0x2438+0x6f*0x5d,0x50b*-0x1+-0x12a1+-0x2*-0xbd7],[-0x21*-0x51+-0x1c71+0x1205,-0x5*-0x22a+0x1*0x926+-0x27f*0x8,-0x643+-0x1331+0x6*0x43f]],_0x17b2ea=[[-0x1*-0x1a06+-0x11*-0x4d+-0x1f23,0x1*0x1837+-0x1eb2*-0x1+-0x36e9,0x8f*-0x43+-0x295*-0x4+-0x2*-0xd8d],[0x138+-0x1*0x73b+0x603,0x18a2+0x1b7+0x545*-0x5,-(0x1408+0x147a+-0x1*0x2881)],[0x1*0x1c1b+0xa*0x287+-0x3561,-0x373*0x9+0xc*0x23b+0x448,-0x1a5c+-0x2123+-0x3b7f*-0x1],[-0xdad*-0x1+0x18*0xba+-0x1f1d,-(-0x6d*-0x43+-0xb0*-0xb+-0x2416),-0xd1e+-0x2b*0x1c+0x11d2],[-0x1f87+-0x1*0x238f+-0x165d*-0x3,-0x25e7+0x9*0x3f9+-0x37*-0xa,-0x112b+-0x24f6+-0x1*-0x3621],[-(-0xe94+-0x55c+0x13f1),-0xf27*0x1+-0x4*-0x3c4+-0x17*-0x1,-0xeef*0x1+-0x1733+0x2622]],_0x2dcdfb={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0xe5a7dc=[],_0xb28d51=[],_0x48a11b=[],_0x4e3c92=[];let _0x465f7c=0xe67+0x23ad+0x3214*-0x1;const _0xc3bcbb=(_0x40c875,_0x42caf6,_0xa53da2)=>{const _0x12007e=new D(),_0x587826=new D(),_0x5666a7=new D(),_0x43b7e6=new D();for(let _0x5bac70=0x7ed*0x1+0x1*-0x1682+-0xe95*-0x1;_0x5bac70<=_0x42caf6;_0x5bac70++)for(let _0x34b147=0x114d+-0xd3f+0xad*-0x6;_0x34b147<=_0xa53da2;_0x34b147++){_0x12007e['lerp'](_0x3df1ad[_0x401443[_0x40c875][-0x138*0x10+-0x9*-0x28b+-0x363]],_0x3df1ad[_0x401443[_0x40c875][-0x25*-0x2f+-0x1e22+0x1758]],_0x5bac70/_0x42caf6),_0x587826['lerp'](_0x3df1ad[_0x401443[_0x40c875][-0x757*-0x5+0x4*0x6ad+-0x3f67]],_0x3df1ad[_0x401443[_0x40c875][-0x34f+0x1fd*0x1+0x154]],_0x34b147/_0xa53da2),_0x5666a7['sub2'](_0x587826,_0x3df1ad[_0x401443[_0x40c875][-0x1403*-0x1+-0x34*-0x65+-0x19f*0x19]]),_0x43b7e6['add2'](_0x12007e,_0x5666a7);let _0x4bb366=_0x5bac70/_0x42caf6,_0x5d4eb3=_0x34b147/_0xa53da2;_0xe5a7dc['push'](_0x43b7e6['x'],_0x43b7e6['y'],_0x43b7e6['z']),_0xb28d51['push'](_0x17b2ea[_0x40c875][-0xe47*-0x1+0x3*-0x613+0x3f2],_0x17b2ea[_0x40c875][-0xd09*-0x2+-0x1f1f*0x1+-0x50e*-0x1],_0x17b2ea[_0x40c875][0x2*-0x7d+0x4*-0x527+-0x1598*-0x1]),_0x48a11b['push'](_0x4bb366,0x29*0x74+-0x257+-0x1*0x103c-_0x5d4eb3),_0x4bb366=_0x4bb366*hg+pu,_0x5d4eb3=_0x5d4eb3*hg+pu,_0x4bb366/=0xbed+0x881+-0x146b,_0x5d4eb3/=-0xe7c+-0x952*-0x2+-0x425,_0x4bb366+=_0x40c875%(-0x2462+0x2fe*-0x5+0x335b)/(-0x812*0x4+-0x13ef+0x343a),_0x5d4eb3+=Math['floor'](_0x40c875/(-0xacf+0xc11+-0xb*0x1d))/(0x3*0xab0+0x16*-0x47+0x49*-0x5b),_0x5bac70<_0x42caf6&&_0x34b147<_0xa53da2&&(_0x4e3c92['push'](_0x465f7c+_0xa53da2+(0x3f1*-0x1+-0x1a17+0x1e09),_0x465f7c+(-0x5d8*-0x5+-0x1902+-0x167*0x3),_0x465f7c),_0x4e3c92['push'](_0x465f7c+_0xa53da2+(-0x1a80+-0xef9+0x297a),_0x465f7c+_0xa53da2+(0x1c5e+-0x6e2+0x157a*-0x1),_0x465f7c+(-0x2369+0x11aa*-0x2+0x46be))),_0x465f7c++;}};_0xc3bcbb(_0x2dcdfb['FRONT'],_0x1fa42c,_0x267680),_0xc3bcbb(_0x2dcdfb['BACK'],_0x1fa42c,_0x267680),_0xc3bcbb(_0x2dcdfb['TOP'],_0x1fa42c,_0x53b25a),_0xc3bcbb(_0x2dcdfb['BOTTOM'],_0x1fa42c,_0x53b25a),_0xc3bcbb(_0x2dcdfb['RIGHT'],_0x53b25a,_0x267680),_0xc3bcbb(_0x2dcdfb['LEFT'],_0x53b25a,_0x267680),this['positions']=_0xe5a7dc,this['normals']=_0xb28d51,this['uvs']=_0x48a11b,this['uvs1']=_0x48a11b,this['indices']=_0x4e3c92,_0x2b168c['calculateT'+'angents']&&(this['tangents']=Mr(_0xe5a7dc,_0xb28d51,_0x48a11b,_0x4e3c92));}}class _m extends Ta{constructor(_0x5ec8b3={}){super();const _0x25f10e=_0x5ec8b3['radius']??0x657*-0x6+-0x6c5*0x3+0x3a59*0x1+0.5,_0x2f0f84=_0x5ec8b3['latitudeBa'+'nds']??0x3e8+-0x130b+0x511*0x3,_0x503dbf=_0x5ec8b3['longitudeB'+'ands']??-0x214f*0x1+0xd1e+0x11*0x131,_0x4179bd=[],_0x500a61=[],_0x461675=[],_0x24331c=[];for(let _0x1d2df8=-0x1a8f+-0x377*-0x7+0xa*0x3b;_0x1d2df8<=_0x2f0f84;_0x1d2df8++){const _0x31a6ea=_0x1d2df8*Math['PI']/_0x2f0f84,_0x4a1154=Math['sin'](_0x31a6ea),_0x4e6f75=Math['cos'](_0x31a6ea);for(let _0x20853f=0x113d*0x1+0x601+0xb9f*-0x2;_0x20853f<=_0x503dbf;_0x20853f++){const _0xc60041=_0x20853f*(0xe1d*0x1+-0x15f*0x3+0x2*-0x4ff)*Math['PI']/_0x503dbf-Math['PI']/(0xd1f*-0x1+0x1faf+-0x5f*0x32),_0x45afdc=Math['sin'](_0xc60041),_0x59882c=Math['cos'](_0xc60041)*_0x4a1154,_0x6f1c3a=_0x4e6f75,_0x58dc24=_0x45afdc*_0x4a1154,_0x292b44=0xa*0x1b6+0x146*-0x19+-0x1*-0xebb-_0x20853f/_0x503dbf,_0x438d6a=-0x13bf+-0x5c9*-0x1+-0xb*-0x145-_0x1d2df8/_0x2f0f84;_0x4179bd['push'](_0x59882c*_0x25f10e,_0x6f1c3a*_0x25f10e,_0x58dc24*_0x25f10e),_0x500a61['push'](_0x59882c,_0x6f1c3a,_0x58dc24),_0x461675['push'](_0x292b44,0xc96+-0x224*-0xd+-0x2869-_0x438d6a);}}for(let _0x568c42=-0x1073*0x2+-0x258d+-0xe17*-0x5;_0x568c42<_0x2f0f84;++_0x568c42)for(let _0x117007=-0xb32*0x1+0x16+0x9e*0x12;_0x117007<_0x503dbf;++_0x117007){const _0x1af6ce=_0x568c42*(_0x503dbf+(-0x1365+0x2*0xd+0x134c))+_0x117007,_0x10770e=_0x1af6ce+_0x503dbf+(-0x3*-0x204+0x8db+-0x773*0x2);_0x24331c['push'](_0x1af6ce+(-0x1*0x9eb+-0x58f*0x5+-0x5*-0x78b),_0x10770e,_0x1af6ce),_0x24331c['push'](_0x1af6ce+(-0x2*-0x37e+0x331*-0x3+0x298),_0x10770e+(0x19b1+0x1*0x184a+-0x31fa),_0x10770e);}this['positions']=_0x4179bd,this['normals']=_0x500a61,this['uvs']=_0x461675,this['uvs1']=_0x461675,this['indices']=_0x24331c,_0x5ec8b3['calculateT'+'angents']&&(this['tangents']=Mr(_0x4179bd,_0x500a61,_0x461675,_0x24331c));}}class DA extends _m{constructor(_0x3b98b8={}){const _0x29322d=_0x3b98b8['latitudeBa'+'nds']??-0x1*0x1d8b+-0x24d7+-0x2d*-0x17a,_0x54da04=_0x3b98b8['longitudeB'+'ands']??0xb3d+0x11fc+0x5*-0x5d5;super({'radius':0.5,'latitudeBands':_0x29322d,'longitudeBands':_0x54da04});const _0x11dba5=0x4*-0x1f9+0x1*-0x652+-0x2*-0x71b+0.1,_0x4287c6=-0x133*-0x1d+0x1cc*0x11+0x7*-0x955+0.95,_0x494468=_0x4287c6*_0x4287c6,_0x38df63=this['positions'];for(let _0x4c55bf=0xea*0x27+0x99*-0x8+0x36e*-0x9;_0x4c55bf<_0x38df63['length'];_0x4c55bf+=-0x23fa+-0x13a*0xb+0x1*0x317b){const _0x4ed82f=_0x38df63[_0x4c55bf]/(-0x960+0x48a*0x1+0x4d6+0.5);let _0x288ef6=_0x38df63[_0x4c55bf+(-0x491*-0x1+0x2067+-0x24f7)]/(0x2151+0x119*-0x1f+0xb6+0.5);const _0xf7e497=_0x38df63[_0x4c55bf+(-0x18d8+0x34c+0x158e)]/(0x10c2+-0x48d*-0x8+-0x352a+0.5);_0x288ef6<0xd*-0x3+-0x1*-0x493+-0x11b*0x4&&(_0x288ef6*=0x2213*-0x1+-0x23*-0x79+0x1188+0.3,_0x4ed82f*_0x4ed82f+_0xf7e497*_0xf7e497<_0x494468&&(_0x288ef6=-_0x11dba5)),_0x288ef6+=_0x11dba5,_0x288ef6*=0x6b7+0x1*-0x1c4b+0x1594+0.5,_0x38df63[_0x4c55bf+(-0x1175+0x4*0x22d+0x2*0x461)]=_0x288ef6;}}}class zo{static['create'](_0x110cf3,_0x2d7523){switch(_0x2d7523){case Qw:return zo['box'](_0x110cf3);case Jw:return zo['dome'](_0x110cf3);}return w['assert'](_0x2d7523===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x2d7523),zo['infinite'](_0x110cf3);}static['infinite'](_0x309891){return Ge['fromGeomet'+'ry'](_0x309891,new mu(_0x309891));}static['box'](_0x5e7612){return Ge['fromGeomet'+'ry'](_0x5e7612,new mu({'yOffset':0.5}));}static['dome'](_0x1fe023){const _0x4c4a05=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4c4a05['normals']=void(-0x19d9+0x136+0x18a3),_0x4c4a05['uvs']=void(-0x1*-0x1814+-0xa98+0x4*-0x35f),Ge['fromGeomet'+'ry'](_0x1fe023,_0x4c4a05);}}class IA{constructor(_0x107c39,_0xad25a0,_0x44f786,_0x549c4f,_0x54f0df){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x1*-0x1e53+-0x29*0x67+0x2ed3));const _0x38a069=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x107c39,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x107c39,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x107c39,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x107c39,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x38a069['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x549c4f['encoding'])),_0x54f0df!==Bo&&_0x38a069['setDefine']('SKYMESH',''),_0x549c4f['cubemap']&&_0x38a069['setDefine']('SKY_CUBEMA'+'P',''),_0x38a069['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0xad25a0['skyboxHigh'+'lightMulti'+'plier']),_0x549c4f['cubemap']?_0x38a069['setParamet'+'er']('texture_cu'+'beMap',_0x549c4f):(_0x38a069['setParamet'+'er']('texture_en'+'vAtlas',_0x549c4f),_0x38a069['setParamet'+'er']('mipLevel',_0xad25a0['skyboxMip'])),_0x38a069['cull']=Fo,_0x38a069['depthWrite']=this['_depthWrit'+'e'];const _0xe85e16=_0xad25a0['layers']['getLayerBy'+'Id'](Kp);if(_0xe85e16){const _0x33c2dd=zo['create'](_0x107c39,_0x54f0df),_0x6637b1=new He(_0x33c2dd,_0x38a069,_0x44f786);this['meshInstan'+'ce']=_0x6637b1,_0x6637b1['cull']=!(0x11*0x4c+-0x1df5+0x18ea),_0x6637b1['pick']=!(0x1f5d*-0x1+-0x143+-0x1*-0x20a1),_0xe85e16['addMeshIns'+'tances']([_0x6637b1]),this['skyLayer']=_0xe85e16;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x82da3a){this['_depthWrit'+'e']=_0x82da3a,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x82da3a);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x387c14){h(this,'_type',Bo),h(this,'_center',new D(0xa29+0x1b89+-0x25b2,-0x1d61+0x23d8+-0x676,0x6b2+-0xe1+-0x5d1)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x2b*-0x47+0x1*0x210a+-0x2cf6)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x387c14['device'],this['scene']=_0x387c14,this['center']=new D(0x13*-0x15c+-0x190+0xdb2*0x2,-0x1a6*-0x7+0xe1f+-0x19a8,0x827+0x24e4+-0x2d0b),this['centerArra'+'y']=new Float32Array(-0xbc+-0x10a9+0x1168),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x3e2d58){this['type']=_0x3e2d58['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x3e2d58['skyMeshPos'+'ition']??[0x717+-0x132d*0x1+0xc16,0x11f4+-0x217e*-0x1+-0x3372,0x1afa*0x1+0x1dc0+-0x38ba])),this['node']['setLocalEu'+'lerAngles'](new D(_0x3e2d58['skyMeshRot'+'ation']??[-0xe2e+-0x1a6*-0x1+-0xc88*-0x1,0x1afb*0x1+-0x2102+0x1*0x607,-0x265*-0x2+0xa9e+-0x44*0x3a])),this['node']['setLocalSc'+'ale'](new D(_0x3e2d58['skyMeshSca'+'le']??[0x7c8+0x25*-0x3f+0x154,-0xbce+0x40d+0x14b*0x6,-0x5*0x692+-0x160e+0x36e9*0x1])),_0x3e2d58['skyCenter']&&(this['_center']=new D(_0x3e2d58['skyCenter']));}set['type'](_0x3a1483){this['_type']!==_0x3a1483&&(this['_type']=_0x3a1483,this['scene']['updateShad'+'ers']=!(-0x132d*-0x1+0xf70+-0x1*0x229d),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x12101b){this['_center']['copy'](_0x12101b);}get['center'](){return this['_center'];}set['depthWrite'](_0x32f3ba){this['_depthWrit'+'e']!==_0x32f3ba&&(this['_depthWrit'+'e']=_0x32f3ba,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x32f3ba));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x5a8c1d=this['scene']['_getSkybox'+'Tex']();_0x5a8c1d&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x5a8c1d,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x5a8c1d));}['resetSkyMe'+'sh'](){var _0x2ad868;(_0x2ad868=this['skyMesh'])==null||_0x2ad868['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x231f7b,centerArray:_0x5d0d0b}=this,_0x38d505=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x231f7b,_0x38d505),_0x5d0d0b[0x1309*-0x1+0x191e+-0x615]=_0x38d505['x'],_0x5d0d0b[0xb11+0x4b3+-0x1*0xfc3]=_0x38d505['y'],_0x5d0d0b[0x410+0xe6d+0x127b*-0x1]=_0x38d505['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x5d0d0b);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0xf8*0x8+-0x34a*-0x8+-0x220f);class RA{constructor(_0x197e79,_0x262724,_0x13cc80){this['material']=_0x262724,this['layer']=_0x13cc80,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x197e79),this['meshInstan'+'ce']=null;}['addLines'](_0xea0d82,_0x2c4a86){const _0x282a41=this['positions'],_0xd415fd=_0xea0d82['length'];for(let _0x5824bc=0x1866+0x15d7+-0x2e3d;_0x5824bc<_0xd415fd;_0x5824bc++){const _0x4ee339=_0xea0d82[_0x5824bc];_0x282a41['push'](_0x4ee339['x'],_0x4ee339['y'],_0x4ee339['z']);}const _0x595d56=this['colors'];if(_0x2c4a86['length'])for(let _0x5bcb38=-0x22e1+0x1*-0xdc7+0x30a8;_0x5bcb38<_0xd415fd;_0x5bcb38++){const _0x5aad18=_0x2c4a86[_0x5bcb38];_0x595d56['push'](_0x5aad18['r'],_0x5aad18['g'],_0x5aad18['b'],_0x5aad18['a']);}else{for(let _0x4c8e75=0x29*-0x8b+0xe63+0x48*0x1c;_0x4c8e75<_0xd415fd;_0x4c8e75++)_0x595d56['push'](_0x2c4a86['r'],_0x2c4a86['g'],_0x2c4a86['b'],_0x2c4a86['a']);}}['addLinesAr'+'rays'](_0x12b0a0,_0x10178c){const _0x1e440e=this['positions'];for(let _0x45d59b=0x1b31+0x8*-0x230+0x3*-0x33b;_0x45d59b<_0x12b0a0['length'];_0x45d59b+=0x1b26+-0xbba+-0xf69)_0x1e440e['push'](_0x12b0a0[_0x45d59b],_0x12b0a0[_0x45d59b+(-0x1c9a+-0x3*0x38f+0x2748)],_0x12b0a0[_0x45d59b+(0x36c*0x9+-0x50*-0x1+-0x1f1a)]);const _0x18c492=this['colors'];if(_0x10178c['length']){for(let _0x1defea=-0x1760+0x2*-0x6f7+0x254e;_0x1defea<_0x10178c['length'];_0x1defea+=0x1ef0+-0xb90+-0x135c)_0x18c492['push'](_0x10178c[_0x1defea],_0x10178c[_0x1defea+(0x2a9*0x3+0x6*-0x199+0x19c)],_0x10178c[_0x1defea+(0x1f*0x10d+-0x1fc7+-0x1*0xca)],_0x10178c[_0x1defea+(-0x97f+0x21b+0x767*0x1)]);}else{const _0xefcb45=_0x12b0a0['length']/(-0xf12+-0x808*0x1+0x171d*0x1);for(let _0x15787d=-0x36*0x3d+0xc7*-0x13+0x1ba3*0x1;_0x15787d<_0xefcb45;_0x15787d++)_0x18c492['push'](_0x10178c['r'],_0x10178c['g'],_0x10178c['b'],_0x10178c['a']);}}['onPreRende'+'r'](_0x203793,_0x2134f8){this['positions']['length']>0x21cd+-0x234*0x6+-0xb*0x1df&&this['material']['transparen'+'t']===_0x2134f8&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x9ab*-0x2+0x6e9+-0x1a3e)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x203793['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1af*0x4+0x261f*-0x1+0x1*0x2cdb,this['colors']['length']=0x81*-0x43+0x890+0x1933;}}class OA{constructor(_0x3775ab){this['device']=_0x3775ab,this['map']=new Map();}['getBatch'](_0x36980a,_0x560b66){let _0xb81fa6=this['map']['get'](_0x36980a);return _0xb81fa6||(_0xb81fa6=new RA(this['device'],_0x36980a,_0x560b66),this['map']['set'](_0x36980a,_0xb81fa6)),_0xb81fa6;}['onPreRende'+'r'](_0x1778a7,_0x3530d8){this['map']['forEach'](_0x31ddaf=>{_0x31ddaf['onPreRende'+'r'](_0x1778a7,_0x3530d8);});}['clear'](){this['map']['forEach'](_0xf069b2=>_0xf069b2['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x5d1d8b){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x5d1d8b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x61f09e){const _0x36d077=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x36d077['blendType']=Zs,_0x36d077['depthTest']=_0x61f09e,_0x36d077['update'](),_0x36d077;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x1426+0x22ca+-0xea4))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x30*-0xc1+-0x1a95+-0x5*-0xc8e))),this['_materialN'+'oDepth'];}['getBatch'](_0x48ec54,_0x514215){let _0x5b6084=this['batchesMap']['get'](_0x48ec54);_0x5b6084||(_0x5b6084=new OA(this['device']),this['batchesMap']['set'](_0x48ec54,_0x5b6084)),this['allBatches']['add'](_0x5b6084);const _0x39f688=_0x514215?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x5b6084['getBatch'](_0x39f688,_0x48ec54);}['getShaderD'+'esc'](_0x18e322,_0xa0d68b,_0x519f74){return this['shaderDesc'+'s']['has'](_0x18e322)||this['shaderDesc'+'s']['set'](_0x18e322,{'uniqueName':'DebugShade'+'r:'+_0x18e322,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0xa0d68b,'fragmentWGSL':_0x519f74,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x18e322);}['getTexture'+'ShaderDesc'](_0x263e30){const _0xc43588=Tr['decodeFunc'](_0x263e30);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x263e30,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0xc43588+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0xc43588+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x1*0x551+0x418*-0x2+0x1*0xd81+0.5),-(0x1*0x1def+0x85*-0x13+-0x504*0x4+0.5),0x22df+-0x10c4+0x9*-0x203,-0x1a9+-0x6*-0x28e+-0xdab+0.5,-(-0x14c7+-0x25fe+0x3ac5+0.5),-0x2d0+-0x74f*-0x1+0x47f*-0x1,-(0x26ca+0x52*0x3e+-0x3aa6+0.5),-0x153*0x18+-0x966+0x292e+0.5,0x15d2+-0x7*-0x4f7+-0x815*0x7,0x2201*0x1+-0xb11+-0x10*0x16f+0.5,0x7*0x52d+-0x1fd3+-0x468+0.5,0x226a+0x2*0x1ea+-0x263e]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0xdb1a8b,_0x196998,_0x14ee50,_0x45cfde,_0x22e589){if(!_0x45cfde){const _0x3a6e77=this['getGraphNo'+'de'](_0x196998);_0x45cfde=new He(_0x14ee50,_0xdb1a8b,_0x3a6e77);}let _0x2eef64=this['layerMeshI'+'nstances']['get'](_0x22e589);_0x2eef64||(_0x2eef64=[],this['layerMeshI'+'nstances']['set'](_0x22e589,_0x2eef64)),_0x2eef64['push'](_0x45cfde);}['drawWireAl'+'ignedBox'](_0x39a003,_0x2837ef,_0x46e631,_0x18d4ae,_0x54b8f7,_0x1439a4){if(_0x1439a4){const _0x409372=(_0x7d606f,_0xe1aaf0,_0x2a1c53)=>{Ba['set'](_0x7d606f,_0xe1aaf0,_0x2a1c53),_0x1439a4['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x409372(_0x39a003['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x39a003['y'],_0x2837ef['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z']),_0x409372(_0x39a003['x'],_0x39a003['y'],_0x2837ef['z']),_0x409372(_0x39a003['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x39a003['y'],_0x2837ef['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x39a003['z']),_0x409372(_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z']);}else Ts['push'](_0x39a003['x'],_0x39a003['y'],_0x39a003['z'],_0x39a003['x'],_0x2837ef['y'],_0x39a003['z'],_0x39a003['x'],_0x2837ef['y'],_0x39a003['z'],_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z'],_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z'],_0x2837ef['x'],_0x39a003['y'],_0x39a003['z'],_0x2837ef['x'],_0x39a003['y'],_0x39a003['z'],_0x39a003['x'],_0x39a003['y'],_0x39a003['z'],_0x39a003['x'],_0x39a003['y'],_0x2837ef['z'],_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z'],_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z'],_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z'],_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z'],_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z'],_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z'],_0x39a003['x'],_0x39a003['y'],_0x2837ef['z'],_0x39a003['x'],_0x39a003['y'],_0x39a003['z'],_0x39a003['x'],_0x39a003['y'],_0x2837ef['z'],_0x39a003['x'],_0x2837ef['y'],_0x39a003['z'],_0x39a003['x'],_0x2837ef['y'],_0x2837ef['z'],_0x2837ef['x'],_0x2837ef['y'],_0x39a003['z'],_0x2837ef['x'],_0x2837ef['y'],_0x2837ef['z'],_0x2837ef['x'],_0x39a003['y'],_0x39a003['z'],_0x2837ef['x'],_0x39a003['y'],_0x2837ef['z']);this['getBatch'](_0x54b8f7,_0x18d4ae)['addLinesAr'+'rays'](Ts,_0x46e631),Ts['length']=0xc25*0x2+-0x237c+0x599*0x2;}['drawWireSp'+'here'](_0x58faa4,_0xe56d9d,_0x1deaeb,_0x2cf384,_0x16ff7d,_0x2efc0e){const _0x1db522=(-0x44b*-0x1+-0x23ef+-0x1*-0x1fa6)*Math['PI']/_0x2cf384;let _0x3b01f7=-0x4*0x742+0x2533+-0x11*0x7b;for(let _0x54f8ea=0x523+-0xd9b*-0x1+-0x95f*0x2;_0x54f8ea<_0x2cf384;_0x54f8ea++){const _0x2d77a5=Math['sin'](_0x3b01f7),_0x17f592=Math['cos'](_0x3b01f7);_0x3b01f7+=_0x1db522;const _0x579f6b=Math['sin'](_0x3b01f7),_0x48dbb2=Math['cos'](_0x3b01f7);Ts['push'](_0x58faa4['x']+_0xe56d9d*_0x2d77a5,_0x58faa4['y'],_0x58faa4['z']+_0xe56d9d*_0x17f592),Ts['push'](_0x58faa4['x']+_0xe56d9d*_0x579f6b,_0x58faa4['y'],_0x58faa4['z']+_0xe56d9d*_0x48dbb2),Ts['push'](_0x58faa4['x']+_0xe56d9d*_0x2d77a5,_0x58faa4['y']+_0xe56d9d*_0x17f592,_0x58faa4['z']),Ts['push'](_0x58faa4['x']+_0xe56d9d*_0x579f6b,_0x58faa4['y']+_0xe56d9d*_0x48dbb2,_0x58faa4['z']),Ts['push'](_0x58faa4['x'],_0x58faa4['y']+_0xe56d9d*_0x2d77a5,_0x58faa4['z']+_0xe56d9d*_0x17f592),Ts['push'](_0x58faa4['x'],_0x58faa4['y']+_0xe56d9d*_0x579f6b,_0x58faa4['z']+_0xe56d9d*_0x48dbb2);}this['getBatch'](_0x2efc0e,_0x16ff7d)['addLinesAr'+'rays'](Ts,_0x1deaeb),Ts['length']=0xbc*0x1f+0xbd*0x29+-0x3509*0x1;}['getGraphNo'+'de'](_0xa2952e){const _0xe5853b=new Ie('ImmediateD'+'ebug');return _0xe5853b['worldTrans'+'form']=_0xa2952e,_0xe5853b['_dirtyWorl'+'d']=_0xe5853b['_dirtyNorm'+'al']=!(-0x2b6*0xe+-0x1*0x19ef+-0x1ff2*-0x2),_0xe5853b;}['onPreRende'+'rLayer'](_0x330b88,_0x419a61,_0x426e45){if(this['batchesMap']['forEach']((_0x5716dd,_0x5cfd21)=>{_0x5cfd21===_0x330b88&&_0x5716dd['onPreRende'+'r'](_0x419a61,_0x426e45);}),!this['updatedLay'+'ers']['has'](_0x330b88)){this['updatedLay'+'ers']['add'](_0x330b88);const _0x500aa9=this['layerMeshI'+'nstances']['get'](_0x330b88);if(_0x500aa9){for(let _0x1ec922=0x18e2+-0x1*0xa34+-0x2*0x757;_0x1ec922<_0x500aa9['length'];_0x1ec922++)_0x419a61['push'](_0x500aa9[_0x1ec922]);_0x500aa9['length']=-0x141*-0x5+0x1d7c+-0xbeb*0x3;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x2a80e8=>_0x2a80e8['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0x1*-0x267d+-0x558+0x2bd5,0xf71+-0x1d6b+-0x2*-0x6fd,0x94+0x6c7+-0x7*0x10d)),h(this,'density',-0xe87+-0x1*-0x40f+0x2*0x53c),h(this,'start',-0x130b+0x2*0x6cf+-0x56e*-0x1),h(this,'end',0x6*0x5b3+0x1*-0x1591+0x1d*-0x4d);}}class Et extends me{constructor(_0x148a9b){super(),h(this,'ambientBak'+'e',!(-0x36c+-0x197*0x1+-0x141*-0x4)),h(this,'ambientBak'+'eOcclusion'+'Brightness',0x207b+0x108e+-0x3109),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x7c2+0x122+0x6a0),h(this,'ambientLig'+'ht',new ie(-0x138d+-0x43+-0x8*-0x27a,0x10f1+-0xb07+-0x2*0x2f5,-0x798*0x2+0x75b+-0x7d5*-0x1)),h(this,'ambientLum'+'inance',-0x2*0x409+-0x1fad+-0x113*-0x25),h(this,'exposure',-0x41b+-0x1*-0x5bc+0x2*-0xd0),h(this,'lightmapSi'+'zeMultipli'+'er',0xdd7+-0x801*0x3+-0x5*-0x209),h(this,'lightmapMa'+'xResolutio'+'n',0x1*0xead+0xae7+0xfa*-0x12),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x18c1+-0x1b28+-0x2*-0x134)),h(this,'lightmapHD'+'R',!(0x12ab*-0x2+0x26d2+-0x1*0x17b)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x449*-0x1+0x283*-0x7+-0x1*-0xd4d)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x1d3a+0x19a5+0x1b6f*-0x2)),(w['assert'](_0x148a9b,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x148a9b,this['_gravity']=new D(0x2553+-0x267c+0x129,-(-0xbea+0x7*0x3f3+-0xfb2+0.8000000000000007),-0xc6d+-0x1*0x1acf+-0x7c*-0x51),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1*0xeb8+-0x4bd*-0x5+-0x8f8*0x1,this['_skyboxLum'+'inance']=0x2*-0x13d+-0x1*0x1cc1+-0xcd*-0x27,this['_skyboxMip']=-0xcd*-0x29+0x209b+-0x4170,this['_skyboxHig'+'hlightMult'+'iplier']=0x22ed+-0x12bf+-0x102d,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x7f*-0x28+-0x2659+0x3a32),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x1f*-0x12d+0xd*-0x199+-0xfad,this['_ambientBa'+'keSpherePa'+'rt']=-0x12a4+-0x1a73+-0x11*-0x2a7+0.4,this['_lightmapF'+'ilterRange']=0x27*0x4f+-0x1*0x1d6+-0xa29,this['_lightmapF'+'ilterSmoot'+'hness']=0x4ab*0x1+0x10*0x7a+-0xc4b+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x8a1*0x1+0x527+-0xc*0x126),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x1*0x116a+0x10b3+-0x1*-0xb7);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0xbfa+-0x33*0x22+-0x258*-0x8),this['_shaderVer'+'sion']=-0x1c74+-0x1a7d+0x36f1,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x52b4ac){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x52b4ac),-0x23*-0x5f+0x1fc+0xef8*-0x1,0x71*-0x12+0x1a9a+0x89*-0x21);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x341fbc){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x341fbc,-0x4e3+-0xaa9+0xf8c+0.001,0x1*-0x4d+-0x1aa0+0x1aee);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x140992){if(this['device']['isWebGPU']&&!_0x140992){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x140992){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x140992;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x8e0dc7){_0x8e0dc7!==this['_envAtlas']&&(this['_envAtlas']=_0x8e0dc7,_0x8e0dc7&&(_0x8e0dc7['addressU']=ue,_0x8e0dc7['addressV']=ue,_0x8e0dc7['minFilter']=vt,_0x8e0dc7['magFilter']=vt,_0x8e0dc7['mipmaps']=!(0x1c70+0x91*-0x1e+-0xb71)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0xf6ee81){const _0x232605=this['_layers'];this['_layers']=_0xf6ee81,this['fire']('set:layers',_0x232605,_0xf6ee81);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x2e479f){this['_lightmapF'+'ilterRange']=Math['max'](_0x2e479f,0x1f25+0x1127*0x2+-0x4173+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x12a667){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x12a667,-0x204c+0x6fc+0x1950+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x4b309f){_0x4b309f=_0x4b309f||[];const _0x3a23f4=this['_prefilter'+'edCubemaps'];(_0x3a23f4['length']!==_0x4b309f['length']||_0x3a23f4['some']((_0x448158,_0x7603d8)=>_0x448158!==_0x4b309f[_0x7603d8]))&&(_0x4b309f['length']===-0xe55*0x1+-0x22c+-0x1*-0x1087&&_0x4b309f['every'](_0x428bba=>!!_0x428bba)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x4b309f,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x4b309f['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x2cf646){_0x2cf646!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x2cf646,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x1f5ae7){_0x1f5ae7!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x1f5ae7,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x27b6cc){_0x27b6cc!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x27b6cc,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x33831f){_0x33831f!==this['_skyboxMip']&&(this['_skyboxMip']=_0x33831f,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x18e26c){_0x18e26c!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x18e26c,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x4f4c23){if(!this['_skyboxRot'+'ation']['equals'](_0x4f4c23)){const _0x36e755=_0x4f4c23['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x4f4c23),_0x36e755?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x4f4c23,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x36e755&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x191*-0x15+-0x283*0xd+0x1*-0x3e),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x39fd4d,_0x20aaa3,_0x562c26=ie['WHITE'],_0x8458bc=!(-0xb94+-0x1e48+0x29dc),_0x4e513e=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4e513e,_0x8458bc)['addLines']([_0x39fd4d,_0x20aaa3],[_0x562c26,_0x562c26]);}['drawLines'](_0x4d61ba,_0x1d9df8,_0x47716=!(0x2*0x377+0x8a5*0x1+-0xf93),_0x1d2b5c=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1d2b5c,_0x47716)['addLines'](_0x4d61ba,_0x1d9df8);}['drawLineAr'+'rays'](_0x1fa11c,_0x45b962,_0x4696c2=!(0x7f*0x1f+0x40+-0xfa1*0x1),_0x4fc81a=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4fc81a,_0x4696c2)['addLinesAr'+'rays'](_0x1fa11c,_0x45b962);}['applySetti'+'ngs'](_0x4a274b){const _0x220284=_0x4a274b['physics'],_0x389f70=_0x4a274b['render'];this['_gravity']['set'](_0x220284['gravity'][0x1*0x188c+-0x2*-0xae7+0x2ba*-0x11],_0x220284['gravity'][0xe83+0x22bd*0x1+-0x313f],_0x220284['gravity'][-0x1477+0x22d*-0xd+0x30c2]),this['ambientLig'+'ht']['set'](_0x389f70['global_amb'+'ient'][0xc6f+-0x2167+-0xf4*-0x16],_0x389f70['global_amb'+'ient'][-0x167c+-0x127c+-0x28f9*-0x1],_0x389f70['global_amb'+'ient'][0x13e2+-0x48f+-0x1*0xf51]),this['ambientLum'+'inance']=_0x389f70['ambientLum'+'inance'],this['fog']['type']=_0x389f70['fog'],this['fog']['color']['set'](_0x389f70['fog_color'][0x1*0x223d+-0x103f*-0x1+-0x327c],_0x389f70['fog_color'][-0xbfb*-0x1+0x2b5+0x1*-0xeaf],_0x389f70['fog_color'][0xd30+-0x1698+0x96a]),this['fog']['start']=_0x389f70['fog_start'],this['fog']['end']=_0x389f70['fog_end'],this['fog']['density']=_0x389f70['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x389f70['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x389f70['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x389f70['lightmapMo'+'de'],this['exposure']=_0x389f70['exposure'],this['_skyboxInt'+'ensity']=_0x389f70['skyboxInte'+'nsity']??-0xa60+-0x1a5*0x1+0xc06,this['_skyboxLum'+'inance']=_0x389f70['skyboxLumi'+'nance']??-0x5676*0x1+-0x570e+0xa*0x192a,this['_skyboxMip']=_0x389f70['skyboxMip']??0xd*-0x254+0x1*0x22d2+-0x48e,_0x389f70['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x389f70['skyboxRota'+'tion'][0x11*0x12e+-0x1dce+0x9c0],_0x389f70['skyboxRota'+'tion'][-0x3f5*-0x9+0x98b+-0x1*0x2d27],_0x389f70['skyboxRota'+'tion'][-0x17*-0x4d+0x9a9*0x4+0x1*-0x2d8d])),this['sky']['applySetti'+'ngs'](_0x389f70),this['clusteredL'+'ightingEna'+'bled']=_0x389f70['clusteredL'+'ightingEna'+'bled']??!(-0x1c4+0x162+0x63),this['lighting']['applySetti'+'ngs'](_0x389f70),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x54258a=>{_0x389f70['hasOwnProp'+'erty'](_0x54258a)&&(this[_0x54258a]=_0x389f70[_0x54258a]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x330d69=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x330d69[[0x24b5*0x1+-0x173b*-0x1+-0x2*0x1df8,-0x318*-0x8+0x23b*0x9+0x2*-0x1669,0x1d42+0x31d+0x4*-0x817,0x2*0x2e9+-0x60*-0x1d+0x10ae*-0x1,-0x5*0x544+0x1218+-0x841*-0x1,-0x8c0+0x716*0x2+-0x566][this['_skyboxMip']]]||this['_envAtlas']||_0x330d69[-0x60*0x66+-0xb3*-0x22+0xe7a*0x1]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x330d69[0x14fa+0x5*-0x3bf+-0x1*0x23f]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x11bb+0x2369+-0x11ae);}['setSkybox'](_0x57bd64){_0x57bd64?(this['skybox']=_0x57bd64[0x163b+0xfd7+-0x2612]||null,_0x57bd64[-0x1*0x2704+-0xbc3*-0x2+0xf7f*0x1]&&!_0x57bd64[-0xc95*-0x3+-0x4e5+-0x20d9]['cubemap']?this['envAtlas']=_0x57bd64[0xf1+-0x2*-0x17f+-0x1f7*0x2]:this['prefiltere'+'dCubemaps']=_0x57bd64['slice'](0x961+-0x1c75*0x1+0x5*0x3d1)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x4cc859,_0xfcfa0d,_0xfa7ec8){this['device']=_0x4cc859,this['inverseBin'+'dPose']=_0xfcfa0d,this['boneNames']=_0xfa7ec8;}}const kA=[0x1cf*0x15+-0xe1c+-0x17df,0xe07+-0x413+-0x9f4,0xe06+0x2184+0x2f89*-0x1,-0x1a5c+0x1fbd+-0x561,-0x135d+-0x4a1+0x17fe,-0xacc*-0x1+0x1897*0x1+-0x11b1*0x2,-0x20c*0x3+0x1*0x2695+-0x2071,0x2399*0x1+0x233*0x1+0x4*-0x973,-0x1c3a+-0x98f*0x1+0xe*0x2b3,0x3*-0x53d+-0xc11+0x1bc8,-0x174+0xdce*0x1+-0xc5a,0x14ef+-0x5*0x67a+-0x5ba*-0x2],UA=[-0x15f7+-0x1fde+0x35d5,-0xdc6+0x13de+-0x617,-0x2*-0x643+-0xef7+-0x1*-0x274,-0x4*-0x4d+-0x1b7c+-0xd25*-0x2,-0x5de*0x4+0x3*0x761+0x158,-0x203b+0x184e+-0x2*-0x3f7];class BA extends me{constructor(_0x57a830,_0x111d34){super(),this['_device']=_0x57a830,this['_pixelsPer'+'Unit']=_0x111d34&&_0x111d34['pixelsPerU'+'nit']!==void(0x545*-0x1+-0x1191*0x1+0x1*0x16d6)?_0x111d34['pixelsPerU'+'nit']:-0x9a4+0x3*0x5c6+0x189*-0x5,this['_renderMod'+'e']=_0x111d34&&_0x111d34['renderMode']!==void(0x1*-0x1f18+0x9*-0xfd+0x27fd*0x1)?_0x111d34['renderMode']:ci,this['_atlas']=_0x111d34&&_0x111d34['atlas']!==void(-0xf43*-0x1+0x131b+0x1*-0x225e)?_0x111d34['atlas']:null,this['_frameKeys']=_0x111d34&&_0x111d34['frameKeys']!==void(-0x123d+0x6b*-0x2f+-0x25e2*-0x1)?_0x111d34['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x9b*-0x17+0x53*-0x6d+0x1*0x156b),this['_meshesDir'+'ty']=!(-0x1*-0x58f+0x579*-0x7+-0x1*-0x20c1),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x2f882e){this['_frameKeys']=_0x2f882e,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x519*0x1+-0xe15+0x132e):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x2f882e);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x50ee8e){_0x50ee8e!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x50ee8e,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xa*-0x38c+0x22af+0xc9):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x50ee8e));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x204b76){this['_pixelsPer'+'Unit']!==_0x204b76&&(this['_pixelsPer'+'Unit']=_0x204b76,this['fire']('set:pixels'+'PerUnit',_0x204b76),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1bb9+-0x2*0x2b4+-0x1651):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x2f4be9){if(this['_renderMod'+'e']===_0x2f4be9)return;const _0x464188=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x2f4be9,this['fire']('set:render'+'Mode',_0x2f4be9),(_0x464188===ci||_0x2f4be9===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xcc2+0x2*-0x262+-0x1186*-0x1):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x39fe08=this['_meshes']['length'];for(let _0x4637a8=-0x13*0x203+-0xf90+-0x119*-0x31;_0x4637a8<_0x39fe08;_0x4637a8++){const _0x59e861=this['_meshes'][_0x4637a8];_0x59e861&&_0x59e861['destroy']();}const _0x4b0e77=this['_frameKeys']['length'];this['_meshes']=new Array(_0x4b0e77);const _0x266e68=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x16749a=0x2*-0x1264+-0x5bc*0x2+-0x182*-0x20;_0x16749a<_0x4b0e77;_0x16749a++){const _0x55b498=this['_atlas']['frames'][this['_frameKeys'][_0x16749a]];this['_meshes'][_0x16749a]=_0x55b498?_0x266e68['call'](this,_0x55b498):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0xadf4ac){const _0x5cdf31=_0xadf4ac['rect'],_0x200724=this['_atlas']['texture']['width'],_0x4364f0=this['_atlas']['texture']['height'],_0x4077f4=_0x5cdf31['z']/this['_pixelsPer'+'Unit'],_0x10080b=_0x5cdf31['w']/this['_pixelsPer'+'Unit'],_0x2e2a89=_0xadf4ac['pivot']['x'],_0x1f04ca=_0xadf4ac['pivot']['y'],_0x409d7f=[-_0x2e2a89*_0x4077f4,-_0x1f04ca*_0x10080b,0x19*0x139+-0x15b2*0x1+0x3*-0x2f5,(0x1d87+0x21e4+-0x1fb5*0x2-_0x2e2a89)*_0x4077f4,-_0x1f04ca*_0x10080b,-0x129a*-0x1+0xdff*-0x1+0x1*-0x49b,(0xcf*0x12+-0x51+-0x2*0x71e-_0x2e2a89)*_0x4077f4,(0xc67+-0x2673+0x1a0d*0x1-_0x1f04ca)*_0x10080b,0x1eb*0x3+0x1*0x97+-0x658,-_0x2e2a89*_0x4077f4,(0x469*-0x2+-0x20*0x39+0x3*0x551-_0x1f04ca)*_0x10080b,0x2686+-0x595*-0x6+-0x4804],_0x36741a=_0x5cdf31['x']/_0x200724,_0x3ff6f2=0x1873+-0x4e9+-0x683*0x3-_0x5cdf31['y']/_0x4364f0,_0x3c5024=(_0x5cdf31['x']+_0x5cdf31['z'])/_0x200724,_0x1cbe7a=0x1*0x2353+0x1*0x1e2f+-0x4181-(_0x5cdf31['y']+_0x5cdf31['w'])/_0x4364f0,_0x12e536=[_0x36741a,_0x3ff6f2,_0x3c5024,_0x3ff6f2,_0x3c5024,_0x1cbe7a,_0x36741a,_0x1cbe7a],_0x5068d3=new Ta();return _0x5068d3['positions']=_0x409d7f,_0x5068d3['normals']=kA,_0x5068d3['uvs']=_0x12e536,_0x5068d3['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x5068d3);}['_create9Sl'+'iceMesh'](){const _0x2825fb=J['ONE'],_0x36cdd9=0x1776+0x35f+0x1*-0x1ad2,_0x5d0186=0xee9+-0x36b+0xb7b*-0x1,_0xfffff7=[],_0x447f3a=[],_0x981861=[],_0x3920dd=[];let _0x2c818a=0xa98+-0x13d*0x1+-0x95b;for(let _0xfef225=0x49c+-0x4*-0x60d+-0x10*0x1cd;_0xfef225<=_0x36cdd9;_0xfef225++){const _0xbe67f3=_0xfef225===-0x9bb*0x1+-0x17c8*-0x1+-0xe0d||_0xfef225===_0x36cdd9?-0x1e3c+0x200b+-0x1*0x1cf:-0x1136+0x1*0x784+0x9b3;for(let _0x8617b6=0x37*0x5+0x1d9b+-0x1eae;_0x8617b6<=_0x5d0186;_0x8617b6++){const _0x56e5b4=-_0x2825fb['x']+(0x2403+0x17*0x17+-0x2612)*_0x2825fb['x']*(_0xfef225<=-0x22f7+-0x1ebb+0x8b*0x79?-0x80e+0x8f6*-0x4+0x2be6:0x40*0x33+0x1f*0x13a+0x71*-0x73)/_0x36cdd9,_0x20ed52=0xe5c+0x813*0x1+-0x166f,_0x3ed732=-(-_0x2825fb['y']+(-0x2255+-0x112f+0x5*0xa4e)*_0x2825fb['y']*(_0x8617b6<=-0x2c5*0xd+0x2437+-0x1*0x35?0x898+0x13*-0x17f+0x1*0x13d5:0x28*0x13+0x2*0x108b+-0x240b)/_0x5d0186),_0x2266ea=_0x8617b6===-0x1*0x1f3f+0x13*-0xd3+0x2ee8||_0x8617b6===_0x5d0186?0x1e09+-0x15c4+-0x845:-0xd23+0x153+-0x5*-0x25d;_0xfffff7['push'](-_0x56e5b4,_0x20ed52,_0x3ed732),_0x447f3a['push'](-0x1*0x26e1+-0x9*0x32d+0x4376,-0x23d3+0x1cfc+0x6d8,0x86+-0x10c1+0x103b),_0x981861['push'](_0xbe67f3,_0x2266ea),_0xfef225<_0x36cdd9&&_0x8617b6<_0x5d0186&&(_0x3920dd['push'](_0x2c818a+_0x5d0186+(-0x327*0x2+-0x78b*-0x3+0x2*-0x829),_0x2c818a+(-0x376*0xb+0x5*0x17b+0x1eac),_0x2c818a),_0x3920dd['push'](_0x2c818a+_0x5d0186+(-0x1027*0x1+0x235d*0x1+-0x1335),_0x2c818a+_0x5d0186+(0x1*-0x1e3b+-0xfc8+0x2e05),_0x2c818a+(-0x5*-0x5d4+0xcd0+0x1*-0x29f3))),_0x2c818a++;}}const _0x18c668=new Ta();return _0x18c668['positions']=_0xfffff7,_0x18c668['normals']=_0x447f3a,_0x18c668['uvs']=_0x981861,_0x18c668['indices']=_0x3920dd,Ge['fromGeomet'+'ry'](this['_device'],_0x18c668);}['_onSetFram'+'es'](_0x2264ec){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x21b5+0x12e6+0x1*-0x349b):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x43a49f,_0x1cf173){const _0x269ee8=this['_frameKeys']['indexOf'](_0x43a49f);_0x269ee8<0xda2+0x2*0xb57+-0x1*0x2450||(_0x1cf173?this['renderMode']===ci&&(this['_meshes'][_0x269ee8]=this['_createSim'+'pleMesh'](_0x1cf173)):this['_meshes'][_0x269ee8]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x4b79e7){const _0x53a5d4=this['_frameKeys']['indexOf'](_0x4b79e7);_0x53a5d4<-0x11ca*-0x2+-0x1c84+0x2*-0x388||(this['_meshes'][_0x53a5d4]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x7*0x491+0x15*-0xd9+-0xe*0x103),this['_meshesDir'+'ty']=!(0x9d*-0x4+-0x889+0x3aa*0x3);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x1*-0x127b+0x24c1+0x1245*-0x1),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0xc34+0x2602+-0x19cd);}['destroy'](){for(const _0x41c8ca of this['_meshes'])_0x41c8ca&&_0x41c8ca['destroy']();this['_meshes']['length']=-0x57b*0x1+0x3e*0x83+0x1a3f*-0x1;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x525b29){this['_texture']=_0x525b29,this['fire']('set:textur'+'e',_0x525b29);}get['texture'](){return this['_texture'];}set['frames'](_0x3ff357){this['_frames']=_0x3ff357,this['fire']('set:frames',_0x3ff357);}get['frames'](){return this['_frames'];}['setFrame'](_0x23a823,_0x4ffdaf){let _0x5b6bf0=this['_frames'][_0x23a823];_0x5b6bf0?(_0x5b6bf0['rect']['copy'](_0x4ffdaf['rect']),_0x5b6bf0['pivot']['copy'](_0x4ffdaf['pivot']),_0x5b6bf0['border']['copy'](_0x4ffdaf['border'])):(_0x5b6bf0={'rect':_0x4ffdaf['rect']['clone'](),'pivot':_0x4ffdaf['pivot']['clone'](),'border':_0x4ffdaf['border']['clone']()},this['_frames'][_0x23a823]=_0x5b6bf0),this['fire']('set:frame',_0x23a823['toString'](),_0x5b6bf0);}['removeFram'+'e'](_0x225bae){const _0x972fe9=this['_frames'][_0x225bae];_0x972fe9&&(delete this['_frames'][_0x225bae],this['fire']('remove:fra'+'me',_0x225bae['toString'](),_0x972fe9));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x5b5b1b,_0x5ee520,_0x14f826,_0x47f9e0){this['time']=_0x5b5b1b,this['position']=_0x5ee520,this['rotation']=_0x14f826,this['scale']=_0x47f9e0;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x24a2*-0x1+0x2656+-0x12be*0x4),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x293d68){return this['_nodeDict'][_0x293d68];}['addNode'](_0x4e8b1c){this['_nodes']['push'](_0x4e8b1c),this['_nodeDict'][_0x4e8b1c['_name']]=_0x4e8b1c;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x25be*-0x1+0xe18+0x1147*-0x3),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x4b23d1){this['_targetNod'+'e']=_0x4b23d1;}}class Sf{constructor(_0x432d30){h(this,'looping',!(-0x1bbf+-0x1*-0x2581+-0x9c2)),(this['_animation']=null,this['_time']=0x43*0x72+0x8*0x377+-0x1*0x398e,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x59197d=_0x38f646=>{const _0x2baec1=new VA();_0x2baec1['_name']=_0x38f646['name'],this['_interpola'+'tedKeys']['push'](_0x2baec1),this['_interpola'+'tedKeyDict'][_0x38f646['name']]=_0x2baec1,this['_currKeyIn'+'dices'][_0x38f646['name']]=-0x2*0x422+-0xaa4+0x12e8;for(let _0x151ac8=-0x2570+0xb56*0x2+0xec4;_0x151ac8<_0x38f646['_children']['length'];_0x151ac8++)_0x59197d(_0x38f646['_children'][_0x151ac8]);};_0x59197d(_0x432d30);}set['animation'](_0x29e478){this['_animation']=_0x29e478,this['currentTim'+'e']=0xb3f+-0x1b44+0x1005;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0xe83189){this['_time']=_0xe83189;const _0x155064=this['_interpola'+'tedKeys']['length'];for(let _0x4f0c5e=0x683+0x3a+-0x6bd;_0x4f0c5e<_0x155064;_0x4f0c5e++){const _0x107692=this['_interpola'+'tedKeys'][_0x4f0c5e]['_name'];this['_currKeyIn'+'dices'][_0x107692]=0x139*0x3+-0x1ac*-0x9+-0x12b7;}this['addTime'](0x17b1+-0x517+-0x129a),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x1ec14b){if(this['_animation']!==null){const _0x127774=this['_animation']['_nodes'],_0x3f24d3=this['_animation']['duration'];if(this['_time']===_0x3f24d3&&!this['looping'])return;if(this['_time']+=_0x1ec14b,this['_time']>_0x3f24d3){this['_time']=this['looping']?-0x23d*-0xd+-0xb61+-0x11b8:_0x3f24d3;for(let _0x24da93=0xf0d+-0x1edb+-0x121*-0xe;_0x24da93<_0x127774['length'];_0x24da93++){const _0x178625=_0x127774[_0x24da93]['_name'];this['_currKeyIn'+'dices'][_0x178625]=0x1296+-0x82e+0x25*-0x48;}}else{if(this['_time']<0x568+0x187*-0x9+0x857){this['_time']=this['looping']?_0x3f24d3:0x1093*0x2+-0x7*-0x109+-0x17f*0x1b;for(let _0x270a38=0x1f59+-0x2e5+0x25f*-0xc;_0x270a38<_0x127774['length'];_0x270a38++){const _0x248036=_0x127774[_0x270a38],_0x20ad4d=_0x248036['_name'];this['_currKeyIn'+'dices'][_0x20ad4d]=_0x248036['_keys']['length']-(0x5*-0x110+-0x511+0xa63);}}}const _0x5079c7=_0x1ec14b>=-0x4c*-0x2f+0x2d7*-0x1+-0xb1d?0xad0+0x1*0x1df9+-0x28c8:-(-0x2f9+0x2*0x403+0x2*-0x286);for(let _0x572c3e=-0x3*-0x6b1+0x4b*0x7a+-0x37d1;_0x572c3e<_0x127774['length'];_0x572c3e++){const _0x2f0d69=_0x127774[_0x572c3e],_0x5a51fe=_0x2f0d69['_name'],_0x40ffff=_0x2f0d69['_keys'],_0x4d4ed8=this['_interpola'+'tedKeyDict'][_0x5a51fe];if(_0x4d4ed8===void(0x1cdb+-0x2392+0x9*0xbf)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x5a51fe);continue;}let _0xc512f8=!(-0x1*-0xef9+-0x2560+0x1668);if(_0x40ffff['length']!==-0x790*0x2+-0x153*0x7+0x1866)for(let _0x9ae835=this['_currKeyIn'+'dices'][_0x5a51fe];_0x9ae835<_0x40ffff['length']-(0x43+0x1*-0xc89+0xc47)&&_0x9ae835>=0x1855*0x1+0xe82+-0x26d7;_0x9ae835+=_0x5079c7){const _0x42a4bd=_0x40ffff[_0x9ae835],_0x2591cc=_0x40ffff[_0x9ae835+(-0x1*0x35c+0x9ed+0x18*-0x46)];if(_0x42a4bd['time']<=this['_time']&&_0x2591cc['time']>=this['_time']){const _0x88db11=(this['_time']-_0x42a4bd['time'])/(_0x2591cc['time']-_0x42a4bd['time']);_0x4d4ed8['_pos']['lerp'](_0x42a4bd['position'],_0x2591cc['position'],_0x88db11),_0x4d4ed8['_quat']['slerp'](_0x42a4bd['rotation'],_0x2591cc['rotation'],_0x88db11),_0x4d4ed8['_scale']['lerp'](_0x42a4bd['scale'],_0x2591cc['scale'],_0x88db11),_0x4d4ed8['_written']=!(0x13eb+0x18b0+-0x2c9b),this['_currKeyIn'+'dices'][_0x5a51fe]=_0x9ae835,_0xc512f8=!(-0x47*0x2b+0x9cf+0x21e);break;}}(_0x40ffff['length']===-0x6*0x344+0x98e*-0x4+0x1*0x39d1||!_0xc512f8&&this['_time']===0x7*-0x523+-0x1284+0x3679&&this['looping'])&&(_0x4d4ed8['_pos']['copy'](_0x40ffff[0x617+-0x5*0xfd+0x7*-0x2a]['position']),_0x4d4ed8['_quat']['copy'](_0x40ffff[-0xea4+0x177e+-0x8da]['rotation']),_0x4d4ed8['_scale']['copy'](_0x40ffff[0x1b1*-0x1+0x1*0x293+0xe2*-0x1]['scale']),_0x4d4ed8['_written']=!(0x8a5+0x191+0x2*-0x51b));}}}['blend'](_0x877cde,_0x5239ce,_0x119c5d){const _0xb0e34a=this['_interpola'+'tedKeys']['length'];for(let _0x46d4a3=0x1d4f+0x4f1*0x2+-0x1*0x2731;_0x46d4a3<_0xb0e34a;_0x46d4a3++){const _0x2fb541=_0x877cde['_interpola'+'tedKeys'][_0x46d4a3],_0x4a2303=_0x5239ce['_interpola'+'tedKeys'][_0x46d4a3],_0x4153d8=this['_interpola'+'tedKeys'][_0x46d4a3];_0x2fb541['_written']&&_0x4a2303['_written']?(_0x4153d8['_quat']['slerp'](_0x2fb541['_quat'],_0x5239ce['_interpola'+'tedKeys'][_0x46d4a3]['_quat'],_0x119c5d),_0x4153d8['_pos']['lerp'](_0x2fb541['_pos'],_0x5239ce['_interpola'+'tedKeys'][_0x46d4a3]['_pos'],_0x119c5d),_0x4153d8['_scale']['lerp'](_0x2fb541['_scale'],_0x4a2303['_scale'],_0x119c5d),_0x4153d8['_written']=!(0x19*0x113+-0x7*0x97+0xb5d*-0x2)):_0x2fb541['_written']?(_0x4153d8['_quat']['copy'](_0x2fb541['_quat']),_0x4153d8['_pos']['copy'](_0x2fb541['_pos']),_0x4153d8['_scale']['copy'](_0x2fb541['_scale']),_0x4153d8['_written']=!(-0xcba*-0x1+-0xa6*0x5+-0x4*0x25f)):_0x4a2303['_written']&&(_0x4153d8['_quat']['copy'](_0x4a2303['_quat']),_0x4153d8['_pos']['copy'](_0x4a2303['_pos']),_0x4153d8['_scale']['copy'](_0x4a2303['_scale']),_0x4153d8['_written']=!(0x61*-0x11+0x7b5+-0xa2*0x2));}}['setGraph'](_0x328f96){if(this['graph']=_0x328f96,_0x328f96)for(let _0x1a1e5f=-0x4*0x2f9+-0x13bf+0x485*0x7;_0x1a1e5f<this['_interpola'+'tedKeys']['length'];_0x1a1e5f++){const _0x22c36b=this['_interpola'+'tedKeys'][_0x1a1e5f],_0x1e407c=_0x328f96['findByName'](_0x22c36b['_name']);this['_interpola'+'tedKeys'][_0x1a1e5f]['setTarget'](_0x1e407c);}else{for(let _0x521274=0xa39*0x1+-0x1a83+0x104a;_0x521274<this['_interpola'+'tedKeys']['length'];_0x521274++)this['_interpola'+'tedKeys'][_0x521274]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x155c5f=-0x1*0x84d+-0x538+0xd85;_0x155c5f<this['_interpola'+'tedKeys']['length'];_0x155c5f++){const _0xce4ca2=this['_interpola'+'tedKeys'][_0x155c5f];if(_0xce4ca2['_written']){const _0x2816f3=_0xce4ca2['getTarget']();_0x2816f3['localPosit'+'ion']['copy'](_0xce4ca2['_pos']),_0x2816f3['localRotat'+'ion']['copy'](_0xce4ca2['_quat']),_0x2816f3['localScale']['copy'](_0xce4ca2['_scale']),_0x2816f3['_dirtyLoca'+'l']||_0x2816f3['_dirtifyLo'+'cal'](),_0xce4ca2['_written']=!(-0x2d*-0x67+-0xe58+-0x2*0x1e1);}}}}const zs=(-0x2113*0x1+0xa3c+-0x16db*-0x1)/(-0x1bfb+0x172d+-0x1*-0x50e),si=0x7f0+-0x1161+0x972-zs*(0x2362+-0xc24+-0x173c);class gm extends Ta{constructor(_0x1286f0,_0x299e86,_0x40be7d,_0x1f49dd,_0x40c164,_0x2b600c){super();const _0x23c8d3=new D(),_0x58ecd6=new D(),_0x4e791e=new D(),_0x5a6923=new D(),_0x5f4719=new D(),_0x16237e=new D(),_0x19a22b=[],_0x130e6c=[],_0x249b00=[],_0x270c5=[],_0x418fc=[];let _0x1914cc;if(_0x40be7d>-0x12a3*-0x1+0x7*-0x335+-0x8*-0x7a){for(let _0x184a59=0x18db+0x90f*0x3+0x3408*-0x1;_0x184a59<=_0x1f49dd;_0x184a59++)for(let _0xabadb2=-0xa9*-0x4+-0x2583+0x22df;_0xabadb2<=_0x40c164;_0xabadb2++){const _0x681591=_0xabadb2/_0x40c164*(0x2bd+0x1*0x1ea1+0x1*-0x215c)*Math['PI']-Math['PI'],_0x28ac60=Math['sin'](_0x681591),_0x701cd4=Math['cos'](_0x681591);_0x5f4719['set'](_0x28ac60*_0x1286f0,-_0x40be7d/(-0x17*0xe9+0x12e2+0x20f),_0x701cd4*_0x1286f0),_0x5a6923['set'](_0x28ac60*_0x299e86,_0x40be7d/(-0x3*0x5b3+-0x5ad+0x16c8),_0x701cd4*_0x299e86),_0x23c8d3['lerp'](_0x5f4719,_0x5a6923,_0x184a59/_0x1f49dd),_0x58ecd6['sub2'](_0x5a6923,_0x5f4719)['normalize'](),_0x16237e['set'](_0x701cd4,0xd15+0x2599+-0x32ae,-_0x28ac60),_0x4e791e['cross'](_0x16237e,_0x58ecd6)['normalize'](),_0x19a22b['push'](_0x23c8d3['x'],_0x23c8d3['y'],_0x23c8d3['z']),_0x130e6c['push'](_0x4e791e['x'],_0x4e791e['y'],_0x4e791e['z']);let _0x58fdd1=_0xabadb2/_0x40c164,_0x100566=_0x184a59/_0x1f49dd;_0x249b00['push'](_0x58fdd1,0x1dfd+-0x1c00+0x2*-0xfe-_0x100566);const _0x199bbf=_0x100566;if(_0x100566=_0x58fdd1,_0x58fdd1=_0x199bbf,_0x58fdd1=_0x58fdd1*si+zs,_0x100566=_0x100566*si+zs,_0x58fdd1/=0x26b4+0x13d*-0x1f+-0x3*0x1a,_0x270c5['push'](_0x58fdd1,0x14b*0xe+-0x18ce+0x6b5-_0x100566),_0x184a59<_0x1f49dd&&_0xabadb2<_0x40c164){const _0x2e501f=_0x184a59*(_0x40c164+(-0x2b*-0x7b+-0x2398+0xef0))+_0xabadb2,_0x2a73fd=_0x184a59*(_0x40c164+(-0x58f*0x5+0x1*-0xbd2+0x1*0x279e))+(_0xabadb2+(0x165e+0x2707*-0x1+-0x9e*-0x1b)),_0x54a4f7=(_0x184a59+(-0x410+0x13*0xf7+0xb*-0x14c))*(_0x40c164+(-0x16f*0x1a+-0xdf6+-0xd*-0x3f1))+_0xabadb2,_0x4a60f3=(_0x184a59+(0x8*-0x479+0x6b0*-0x1+0x2a79))*(_0x40c164+(-0x814+-0x3a9+0xbbe))+(_0xabadb2+(-0x1*0x8df+0x11b3*-0x2+0x2c46*0x1));_0x418fc['push'](_0x2e501f,_0x2a73fd,_0x54a4f7),_0x418fc['push'](_0x2a73fd,_0x4a60f3,_0x54a4f7);}}}if(_0x2b600c){const _0x1fb041=Math['floor'](_0x40c164/(0x20c7+0x450+-0x2515)),_0x3c2b09=_0x40c164,_0x1c48cc=_0x40be7d/(0x2407+0x179d+0x382*-0x11);for(let _0xaeda57=-0x2*-0xfee+0x9*-0xb7+-0x196d;_0xaeda57<=_0x1fb041;_0xaeda57++){const _0x3403f9=_0xaeda57*Math['PI']*(-0x156b+-0x2420+0x398b+0.5)/_0x1fb041,_0x3dbb42=Math['sin'](_0x3403f9),_0x496d67=Math['cos'](_0x3403f9);for(let _0x3dac53=-0x2128+0x6f7*-0x1+0x281f;_0x3dac53<=_0x3c2b09;_0x3dac53++){const _0x501d2e=_0x3dac53*(-0x1655+-0x5*0x6d9+0x3894)*Math['PI']/_0x3c2b09-Math['PI']/(-0x242f+-0x1e7c+0x42ad),_0x3d211=Math['sin'](_0x501d2e),_0x16084d=Math['cos'](_0x501d2e)*_0x3dbb42,_0x3a1182=_0x496d67,_0x4af604=_0x3d211*_0x3dbb42;let _0x11b693=0x1a0*-0x5+-0x2695+0x2eb6-_0x3dac53/_0x3c2b09,_0x1d3e83=0x1657+-0x287*-0x2+-0xdb2*0x2-_0xaeda57/_0x1fb041;_0x19a22b['push'](_0x16084d*_0x299e86,_0x3a1182*_0x299e86+_0x1c48cc,_0x4af604*_0x299e86),_0x130e6c['push'](_0x16084d,_0x3a1182,_0x4af604),_0x249b00['push'](_0x11b693,-0xf*0x24b+-0x4*-0x571+0xca2-_0x1d3e83),_0x11b693=_0x11b693*si+zs,_0x1d3e83=_0x1d3e83*si+zs,_0x11b693/=0x2239+0x19*-0x95+0x7*-0x2cf,_0x1d3e83/=-0x1662+0x1*-0x1f01+0x3566,_0x11b693+=(-0x2020+0x1737+-0x2*-0x475)/(0x117d+-0x76*0x3f+0xb90),_0x270c5['push'](_0x11b693,0x14f0*-0x1+0x10d8+-0x419*-0x1-_0x1d3e83);}}_0x1914cc=(_0x1f49dd+(-0x1*-0x2405+0x1*0x1acb+-0x3ecf))*(_0x40c164+(-0x6*0x3ae+-0x5*0x182+0x1d9f));for(let _0x3a34ae=0x3*-0x2d+-0x1*-0x1f28+-0x1ea1;_0x3a34ae<_0x1fb041;++_0x3a34ae)for(let _0xa12ebb=-0x17f5+0x147c+-0x379*-0x1;_0xa12ebb<_0x3c2b09;++_0xa12ebb){const _0xaff1aa=_0x3a34ae*(_0x3c2b09+(-0x1*-0x8c9+-0x13*-0x1d3+-0x2b71))+_0xa12ebb,_0x5b0365=_0xaff1aa+_0x3c2b09+(-0x8fe*-0x1+-0x10db+0x35*0x26);_0x418fc['push'](_0x1914cc+_0xaff1aa+(-0x3ca+-0x17be+0x1b89),_0x1914cc+_0x5b0365,_0x1914cc+_0xaff1aa),_0x418fc['push'](_0x1914cc+_0xaff1aa+(0xcb4+-0x2*-0x496+0x1*-0x15df),_0x1914cc+_0x5b0365+(0x617*-0x1+0x13fe+-0x2*0x6f3),_0x1914cc+_0x5b0365);}for(let _0x25ce78=0x1586+0x5*0x6d7+-0x37b9;_0x25ce78<=_0x1fb041;_0x25ce78++){const _0x437b59=Math['PI']*(-0x2*0x11e1+-0xb3*0x23+0x3c3b+0.5)+_0x25ce78*Math['PI']*(0x12e6+-0x7*0x89+0x1*-0xf27+0.5)/_0x1fb041,_0xd5395=Math['sin'](_0x437b59),_0x55809d=Math['cos'](_0x437b59);for(let _0x59fd25=0x15b2+0x15+-0x5*0x45b;_0x59fd25<=_0x3c2b09;_0x59fd25++){const _0x13a568=_0x59fd25*(-0x1*0xa77+-0x11c+0xb95)*Math['PI']/_0x3c2b09-Math['PI']/(0x8c7+0x3e0+-0xd*0xf9),_0x4790c1=Math['sin'](_0x13a568),_0x5cbb23=Math['cos'](_0x13a568)*_0xd5395,_0x20db11=_0x55809d,_0x16ceae=_0x4790c1*_0xd5395;let _0x466128=-0x1a3d+-0x389+-0x2b5*-0xb-_0x59fd25/_0x3c2b09,_0xbd3436=0x2327+-0x11ba*0x1+-0x116c-_0x25ce78/_0x1fb041;_0x19a22b['push'](_0x5cbb23*_0x299e86,_0x20db11*_0x299e86-_0x1c48cc,_0x16ceae*_0x299e86),_0x130e6c['push'](_0x5cbb23,_0x20db11,_0x16ceae),_0x249b00['push'](_0x466128,-0xa28+-0x2437+0x2e60-_0xbd3436),_0x466128=_0x466128*si+zs,_0xbd3436=_0xbd3436*si+zs,_0x466128/=0xf4f+-0x6*-0x5f7+-0x3316,_0xbd3436/=0x477*-0x1+-0x7dc+0xc56,_0x466128+=(-0x14d1+0x4*0x52f+0x17)/(-0x193e+0xd81*0x1+0x2f*0x40),_0x270c5['push'](_0x466128,-0x11af+-0x1653+0x2803*0x1-_0xbd3436);}}_0x1914cc=(_0x1f49dd+(-0x110e*-0x1+0x206+-0x1313))*(_0x40c164+(0x58*0x5+0x1*0x1e9e+-0x2055))+(_0x3c2b09+(-0x1*0x140f+-0x218e+0x359e))*(_0x1fb041+(0x215b*-0x1+-0x65*-0x63+-0x1*0x5b3));for(let _0x396272=0x5*-0x3fa+-0xb0a+0x1eec;_0x396272<_0x1fb041;++_0x396272)for(let _0x1d646e=-0xaa1+0x1*-0x1c1d+0x9*0x44e;_0x1d646e<_0x3c2b09;++_0x1d646e){const _0x2010e0=_0x396272*(_0x3c2b09+(0x26ab+0x2ae*0x1+0x24c*-0x12))+_0x1d646e,_0x2a484a=_0x2010e0+_0x3c2b09+(-0x8b5+0x43*-0x43+-0x1*-0x1a3f);_0x418fc['push'](_0x1914cc+_0x2010e0+(0x46c*0x7+0x42*0x4f+0x1d*-0x1c5),_0x1914cc+_0x2a484a,_0x1914cc+_0x2010e0),_0x418fc['push'](_0x1914cc+_0x2010e0+(0x1*-0x121f+-0x1497+-0x385*-0xb),_0x1914cc+_0x2a484a+(0x1f43+-0x51e*-0x6+0x16*-0x2d1),_0x1914cc+_0x2a484a);}}else{if(_0x1914cc=(_0x1f49dd+(-0x14ee+-0xcbd+0x21ac))*(_0x40c164+(-0x197b*0x1+-0x119b*-0x2+-0x9ba)),_0x1286f0>0x1430+-0x3*-0x32+-0x14c6)for(let _0x33a9cb=-0x143c+0x1de0*0x1+-0x4*0x269;_0x33a9cb<_0x40c164;_0x33a9cb++){const _0x28ca8c=_0x33a9cb/_0x40c164*(-0x2659*0x1+-0x1*0x8f7+-0x9*-0x542)*Math['PI'],_0x345f5b=Math['sin'](_0x28ca8c),_0x38b5b9=-_0x40be7d/(0x7*-0xb8+-0x31d+0x827),_0x49503d=Math['cos'](_0x28ca8c);let _0x5592cd=-0x6d8+-0x90c*-0x2+-0x1*0xb3f-(_0x345f5b+(-0x2*0x5db+-0xd84+0x193b))/(0x1d47*0x1+-0x1*-0x2287+-0x3fcc),_0xd6bc5c=(_0x49503d+(0x1*-0x2ef+0xb*-0x25f+0x1d05))/(-0x1240+0x18e6+-0x6a4);_0x19a22b['push'](_0x345f5b*_0x1286f0,_0x38b5b9,_0x49503d*_0x1286f0),_0x130e6c['push'](-0x33*0x1d+-0x47*-0x4c+-0xf4d,-(0xbf*0x19+0x2512+0x1*-0x37b8),0x1be6+0x1a*-0x67+-0x48*0x3e),_0x249b00['push'](_0x5592cd,0xbad+0x2*0x873+-0x1c92-_0xd6bc5c),_0x5592cd=_0x5592cd*si+zs,_0xd6bc5c=_0xd6bc5c*si+zs,_0x5592cd/=-0x1bfc*-0x1+0x2655*-0x1+0xa5c,_0xd6bc5c/=-0x50b*0x5+0x113f*0x2+-0x251*0x4,_0x5592cd+=(-0x114e+-0x1a34+0x2f*0xed)/(0x1d*-0x3+0x4b7*0x7+-0x20a7),_0x270c5['push'](_0x5592cd,0x1*0x11e5+0x1*-0x859+-0x98b-_0xd6bc5c),_0x33a9cb>-0x52+-0x9f7+0x6*0x1b7&&_0x418fc['push'](_0x1914cc,_0x1914cc+_0x33a9cb,_0x1914cc+_0x33a9cb-(-0x61b*0x3+0x2d*-0x3d+0x1d0b*0x1));}if(_0x1914cc+=_0x40c164,_0x299e86>0x1*-0x1170+-0xb31+0x15d*0x15)for(let _0x184895=-0x2*0x94a+-0x1a68+-0x167e*-0x2;_0x184895<_0x40c164;_0x184895++){const _0x38d0db=_0x184895/_0x40c164*(0x1*0x16bd+0x38a+-0x1a45)*Math['PI'],_0x42a2a8=Math['sin'](_0x38d0db),_0x4db807=_0x40be7d/(-0x1*0x1a97+-0x1*-0x17c5+0x2d4),_0x5ae92c=Math['cos'](_0x38d0db);let _0x31584a=-0x1*-0x222b+-0x8f0*0x3+-0x75a-(_0x42a2a8+(-0x2*0xd74+0x1485+-0x332*-0x2))/(0x1*-0x634+0x24ff+-0x1ec9),_0x460372=(_0x5ae92c+(-0x1bf1+-0x2203+0x14a7*0x3))/(-0x210e+0x1f78+0x2*0xcc);_0x19a22b['push'](_0x42a2a8*_0x299e86,_0x4db807,_0x5ae92c*_0x299e86),_0x130e6c['push'](-0xeec+-0xc37+0x1*0x1b23,0x2dd+0x1c1d+-0x1ef9,-0x2334+-0x202a+0x435e),_0x249b00['push'](_0x31584a,0x1d2*-0x14+0x1f*0x47+0x164*0x14-_0x460372),_0x31584a=_0x31584a*si+zs,_0x460372=_0x460372*si+zs,_0x31584a/=0x1e3e+0x2f8*-0x7+0x973*-0x1,_0x460372/=0x1bb8+-0xacf*-0x1+-0x2684,_0x31584a+=(0x2*0x3d3+-0x97*0x13+0x391)/(0x275*-0x4+-0x42*-0x1b+-0xb*-0x43),_0x270c5['push'](_0x31584a,-0x948+-0x1dd9+0x2722-_0x460372),_0x184895>-0x1456+0x126d+0x1ea&&_0x418fc['push'](_0x1914cc,_0x1914cc+_0x184895-(0x25dd*-0x1+0x6*0xc1+0x2158),_0x1914cc+_0x184895);}}this['positions']=_0x19a22b,this['normals']=_0x130e6c,this['uvs']=_0x249b00,this['uvs1']=_0x270c5,this['indices']=_0x418fc;}}class GA extends gm{constructor(_0x2de8d5={}){const _0x49694a=_0x2de8d5['radius']??0x30b*0x1+-0x1025+0xd1a+0.3,_0x5d14c3=_0x2de8d5['height']??0xa54*0x1+-0x1*0xc05+0x1b2,_0x125e3f=_0x2de8d5['heightSegm'+'ents']??0x1*0xb7d+0x17a1+0x59*-0x65,_0x106bec=_0x2de8d5['sides']??-0x17f*-0x3+-0x12ee+-0x7*-0x213;super(_0x49694a,_0x49694a,_0x5d14c3-(0x1d*-0x58+-0x19ed+-0x65*-0x5b)*_0x49694a,_0x125e3f,_0x106bec,!(0x31*-0xa+0xccb+-0xae1)),_0x2de8d5['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x3bcf54={}){const _0x1d6b17=_0x3bcf54['baseRadius']??-0xa81*-0x2+0x23f3+0x823*-0x7+0.5,_0x1951ab=_0x3bcf54['peakRadius']??0x8ed+-0x4e9+-0x404*0x1,_0x328bd3=_0x3bcf54['height']??0x5*0x633+-0xc05*-0x1+-0x7*0x625,_0x368ee5=_0x3bcf54['heightSegm'+'ents']??-0x266+-0x1cb6+0xd*0x265,_0x17b2b9=_0x3bcf54['capSegment'+'s']??0x23*0x14+-0x1462+-0x1c*-0xa2;super(_0x1d6b17,_0x1951ab,_0x328bd3,_0x368ee5,_0x17b2b9,!(-0x1df7+-0x914+-0xcc*-0x31)),_0x3bcf54['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x5653ed={}){const _0x14c8d9=_0x5653ed['radius']??0xb25+-0x62*-0x5+-0xd0f*0x1+0.5,_0x4ae45a=_0x5653ed['height']??0x61*0x65+-0x12a4*-0x1+-0x38e8,_0x96b272=_0x5653ed['heightSegm'+'ents']??-0x93b+-0x25c3*-0x1+-0x1c83*0x1,_0x153b80=_0x5653ed['capSegment'+'s']??-0x1fb3+-0x2b*0x29+0x26aa;super(_0x14c8d9,_0x14c8d9,_0x4ae45a,_0x96b272,_0x153b80,!(-0x25f3+-0x18e2+0x2*0x1f6b)),_0x5653ed['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x54635d={}){super();const _0x31082f=_0x54635d['halfExtent'+'s']??new J(-0x1d*-0x2e+-0x12c0+-0x2*-0x6c5+0.5,0x160f*-0x1+0x5*-0x46a+0x2c21+0.5),_0x3d6e99=_0x54635d['widthSegme'+'nts']??0x17ac+0x733+-0x2*0xf6d,_0x5c12da=_0x54635d['lengthSegm'+'ents']??-0x2589+0xb5*-0x11+0x3193,_0x92d1e0=[],_0x4fd14d=[],_0x599dee=[],_0x52d0b9=[];let _0x2fe60e=0x35*0xac+0x1efe+-0x429a;for(let _0x245095=0x17*0x76+0x11d1+0x1*-0x1c6b;_0x245095<=_0x3d6e99;_0x245095++)for(let _0x4c5289=0xa58+-0x25*-0x1d+-0xe89*0x1;_0x4c5289<=_0x5c12da;_0x4c5289++){const _0x227ae0=-_0x31082f['x']+(0x1a5b+-0x69+0x28*-0xa6)*_0x31082f['x']*_0x245095/_0x3d6e99,_0x2a44f7=0x4b*0x47+-0x196d+0x4a0,_0x30339a=-(-_0x31082f['y']+(-0xc72*0x2+-0x5*0x1f+0x1981)*_0x31082f['y']*_0x4c5289/_0x5c12da),_0x19a3b6=_0x245095/_0x3d6e99,_0x19f255=_0x4c5289/_0x5c12da;_0x92d1e0['push'](_0x227ae0,_0x2a44f7,_0x30339a),_0x4fd14d['push'](0x8ca+-0xa1d+0x153,0x11*-0x247+0x232c+-0x38c*-0x1,-0x327+0x75e+-0xd*0x53),_0x599dee['push'](_0x19a3b6,0x1d50+-0x1*-0x16fd+0xd13*-0x4-_0x19f255),_0x245095<_0x3d6e99&&_0x4c5289<_0x5c12da&&(_0x52d0b9['push'](_0x2fe60e+_0x5c12da+(-0x21af+-0x9*0x28c+-0x1c4e*-0x2),_0x2fe60e+(0xc3*-0x29+-0x15*0x19e+-0x2099*-0x2),_0x2fe60e),_0x52d0b9['push'](_0x2fe60e+_0x5c12da+(-0x3*-0x5ab+-0x1a6b*0x1+0x96b),_0x2fe60e+_0x5c12da+(0x1*0xf0b+-0x1b91+0xc88),_0x2fe60e+(0x2*-0xee0+0x9a3*0x1+0x203*0xa))),_0x2fe60e++;}this['positions']=_0x92d1e0,this['normals']=_0x4fd14d,this['uvs']=_0x599dee,this['uvs1']=_0x599dee,this['indices']=_0x52d0b9,_0x54635d['calculateT'+'angents']&&(this['tangents']=Mr(_0x92d1e0,_0x4fd14d,_0x599dee,_0x52d0b9));}}class XA extends Ta{constructor(_0x3594c4={}){super();const _0x263232=_0x3594c4['tubeRadius']??0x436*-0x4+-0x1f1b+0x2ff3+0.2,_0x58f527=_0x3594c4['ringRadius']??0x21*0x9f+-0x2239+0xdba+0.3,_0x1e8c17=(_0x3594c4['sectorAngl'+'e']??0x233e+0xdff+-0x2fd5)*Y['DEG_TO_RAD'],_0x1e3f04=_0x3594c4['segments']??0x1d32*-0x1+-0x15e+0x1eae,_0x3b3f22=_0x3594c4['sides']??0xa8+0x1ff*-0x11+0x1*0x215b,_0x395d60=[],_0xe8bcd7=[],_0x49bbbf=[],_0x2df304=[];for(let _0x1246f4=-0x21fb+-0x2*-0x773+0x3d1*0x5;_0x1246f4<=_0x3b3f22;_0x1246f4++)for(let _0x2ae5b2=-0x355*-0x2+-0xb47+0x49d;_0x2ae5b2<=_0x1e3f04;_0x2ae5b2++){const _0xd1084b=Math['cos'](_0x1e8c17*_0x2ae5b2/_0x1e3f04)*(_0x58f527+_0x263232*Math['cos']((0x4*-0x39e+-0x1eb4+0x2d2e)*Math['PI']*_0x1246f4/_0x3b3f22)),_0x1ba118=Math['sin']((-0x1a62*-0x1+0x1f50+-0x11c*0x34)*Math['PI']*_0x1246f4/_0x3b3f22)*_0x263232,_0xa33cac=Math['sin'](_0x1e8c17*_0x2ae5b2/_0x1e3f04)*(_0x58f527+_0x263232*Math['cos']((0xb29+-0x2*0x17e+-0x2b9*0x3)*Math['PI']*_0x1246f4/_0x3b3f22)),_0x34b985=Math['cos'](_0x1e8c17*_0x2ae5b2/_0x1e3f04)*Math['cos']((-0x97a+0x1*-0x174b+0x20c7)*Math['PI']*_0x1246f4/_0x3b3f22),_0x310b63=Math['sin']((0x8cb+-0x31e*-0x7+-0x1e9b)*Math['PI']*_0x1246f4/_0x3b3f22),_0x2355ed=Math['sin'](_0x1e8c17*_0x2ae5b2/_0x1e3f04)*Math['cos']((0x255*0xd+-0x3e*-0x38+-0x3fd*0xb)*Math['PI']*_0x1246f4/_0x3b3f22),_0x410bba=_0x1246f4/_0x3b3f22,_0x45823a=0x251+0x1047+-0x1297-_0x2ae5b2/_0x1e3f04;if(_0x395d60['push'](_0xd1084b,_0x1ba118,_0xa33cac),_0xe8bcd7['push'](_0x34b985,_0x310b63,_0x2355ed),_0x49bbbf['push'](_0x410bba,0x63c+0x141+-0x77c-_0x45823a),_0x1246f4<_0x3b3f22&&_0x2ae5b2<_0x1e3f04){const _0x1bdfeb=_0x1246f4*(_0x1e3f04+(0x3d*0x5+0x13*-0x140+0x1690))+_0x2ae5b2,_0x4bb2dd=(_0x1246f4+(-0x1*-0xbce+-0x25*-0x29+-0x11ba))*(_0x1e3f04+(-0x250+0x1*-0x1d04+0x269*0xd))+_0x2ae5b2,_0x38205d=_0x1246f4*(_0x1e3f04+(-0x2*-0xdf+-0x2345*-0x1+-0x2502))+(_0x2ae5b2+(0x1d32+-0x1*-0xb7d+-0x1*0x28ae)),_0x28f747=(_0x1246f4+(0x55a*0x3+0x391+0x9*-0x22e))*(_0x1e3f04+(-0x30*-0x9a+0x21ac+-0x6f3*0x9))+(_0x2ae5b2+(-0xa9c+0x1a7+0x8f6));_0x2df304['push'](_0x1bdfeb,_0x4bb2dd,_0x38205d),_0x2df304['push'](_0x4bb2dd,_0x28f747,_0x38205d);}}this['positions']=_0x395d60,this['normals']=_0xe8bcd7,this['uvs']=_0x49bbbf,this['uvs1']=_0x49bbbf,this['indices']=_0x2df304,_0x3594c4['calculateT'+'angents']&&(this['tangents']=Mr(_0x395d60,_0xe8bcd7,_0x49bbbf,_0x2df304));}}class qA{constructor(_0x147044,_0x21d0b6){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x147044,this['_isClearin'+'gCache']=!(-0x2363+-0xd48+0x30ac),this['_precached']=!(-0x2*0x38b+0x77a+-0x63),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x40465b=new vv();_0x21d0b6['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x40465b,_0x21d0b6,null,[],Aa,null),_0x21d0b6['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x21d0b6,null,cm,null),_0x147044['on']('destroy:sh'+'ader',_0x24bc59=>{this['removeFrom'+'Cache'](_0x24bc59);});}['destroy'](){this['clearCache']();}['register'](_0x453b4f,_0x188141){this['_generator'+'s']['has'](_0x453b4f)||this['_generator'+'s']['set'](_0x453b4f,_0x188141);}['unregister'](_0x5ca4dd){this['_generator'+'s']['has'](_0x5ca4dd)&&this['_generator'+'s']['delete'](_0x5ca4dd);}['isRegister'+'ed'](_0x34da05){return this['_generator'+'s']['has'](_0x34da05);}['generateSh'+'aderDefini'+'tion'](_0x136655,_0x2bd5e0,_0xe3bcd8,_0x1a3306){var _0x32708d,_0x135d6a;let _0x2dd3c7=this['definition'+'sCache']['get'](_0xe3bcd8);if(!_0x2dd3c7){let _0x1bda14;(_0x32708d=_0x1a3306['litOptions'])!=null&&_0x32708d['lights']&&(_0x1bda14=_0x1a3306['litOptions']['lights'],_0x1a3306['litOptions']['lights']=_0x1bda14['map'](_0x5905d3=>{const _0x35e102=_0x5905d3['clone']?_0x5905d3['clone']():_0x5905d3;return _0x35e102['key']=_0x5905d3['key'],_0x35e102;})),this['storeNewPr'+'ogram'](_0x2bd5e0,_0x1a3306),(_0x135d6a=_0x1a3306['litOptions'])!=null&&_0x135d6a['lights']&&(_0x1a3306['litOptions']['lights']=_0x1bda14),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x2bd5e0+'\x20key\x20'+_0xe3bcd8+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x2b30e3=this['_device'];_0x2dd3c7=_0x136655['createShad'+'erDefiniti'+'on'](_0x2b30e3,_0x1a3306),_0x2dd3c7['name']=_0x2dd3c7['name']??(_0x1a3306['pass']?_0x2bd5e0+'-pass:'+_0x1a3306['pass']:_0x2bd5e0),this['definition'+'sCache']['set'](_0xe3bcd8,_0x2dd3c7);}return _0x2dd3c7;}['getCachedS'+'hader'](_0x57e6ab){return this['processedC'+'ache']['get'](_0x57e6ab);}['setCachedS'+'hader'](_0x388adb,_0x2e5911){this['processedC'+'ache']['set'](_0x388adb,_0x2e5911);}['getProgram'](_0x4ffa64,_0x5510d0,_0x53eabe,_0x2417a4){const _0x3246fe=this['_generator'+'s']['get'](_0x4ffa64);if(!_0x3246fe)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4ffa64),null;const _0x145b7e=_0x3246fe['generateKe'+'y'](_0x5510d0),_0x13a547=hi(_0x145b7e),_0x25de33=_0x53eabe['generateKe'+'y'](this['_device']),_0x3cbd4b=hi(_0x25de33),_0x375781=_0x13a547+'#'+_0x3cbd4b;let _0x197377=this['getCachedS'+'hader'](_0x375781);if(!_0x197377){const _0x4bf46a=this['generateSh'+'aderDefini'+'tion'](_0x3246fe,_0x4ffa64,_0x13a547,_0x5510d0);w['assert'](_0x4bf46a);let _0x143792='',_0x45c61a;_0x5510d0['pass']!==void(-0x6*-0x593+-0x50*-0x70+0x1*-0x4472)&&(_0x45c61a=Si['get'](this['_device'])['getByIndex'](_0x5510d0['pass']),_0x143792='-'+_0x45c61a['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x2417a4,'shaderPassInfo':_0x45c61a,'definition':_0x4bf46a});const _0x459dd4={'name':''+_0x4bf46a['name']+_0x143792+'-proc','attributes':_0x4bf46a['attributes'],'vshader':_0x4bf46a['vshader'],'vincludes':_0x4bf46a['vincludes'],'fincludes':_0x4bf46a['fincludes'],'fshader':_0x4bf46a['fshader'],'processingOptions':_0x53eabe,'shaderLanguage':_0x4bf46a['shaderLang'+'uage'],'meshUniformBufferFormat':_0x4bf46a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4bf46a['meshBindGr'+'oupFormat']};_0x197377=new qy(this['_device'],_0x459dd4),w['call'](()=>{_0x197377['_generatio'+'nKey']=_0x145b7e,_0x197377['_processin'+'gKey']=_0x25de33;}),this['setCachedS'+'hader'](_0x375781,_0x197377);}return _0x197377;}['storeNewPr'+'ogram'](_0x5d6bc6,_0x530280){let _0x4c2ca9={};if(_0x5d6bc6==='standard'){const _0xc231b8=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x530280['pass']);for(const _0x3a4c9e in _0x530280)(_0x530280['hasOwnProp'+'erty'](_0x3a4c9e)&&_0xc231b8[_0x3a4c9e]!==_0x530280[_0x3a4c9e]||_0x3a4c9e==='pass')&&(_0x4c2ca9[_0x3a4c9e]=_0x530280[_0x3a4c9e]);for(const _0x51f5b4 in _0x530280['litOptions'])_0x4c2ca9[_0x51f5b4]=_0x530280['litOptions'][_0x51f5b4];}else _0x4c2ca9=_0x530280;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x5d6bc6,'options':_0x4c2ca9}));}['dumpProgra'+'ms'](){let _0x1836c1='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x1836c1+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x2533+0x48d*0x4+0x12ff]&&(_0x1836c1+='\x0a\x09'+this['_programsC'+'ollection'][-0x1ce7+-0x1fc3+-0xa*-0x611]);for(let _0x2a2478=0x5*0x317+-0x128d+-0x109*-0x3;_0x2a2478<this['_programsC'+'ollection']['length'];++_0x2a2478)_0x1836c1+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2a2478];_0x1836c1+='\x0a];\x0a',_0x1836c1+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x1836c1+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x1836c1+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x205f80=document['createElem'+'ent']('a');_0x205f80['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x1836c1)),_0x205f80['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x205f80['style']['display']='none',document['body']['appendChil'+'d'](_0x205f80),_0x205f80['click'](),document['body']['removeChil'+'d'](_0x205f80);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x25ae+-0x29*0x9b+-0x3e81*-0x1),this['processedC'+'ache']['forEach'](_0x4e5117=>{_0x4e5117['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x1*0x1a5e+0x11b*0x1+0x1944);}['removeFrom'+'Cache'](_0x49c341){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x469316,_0xa1facd)=>{_0x49c341===_0x469316&&this['processedC'+'ache']['delete'](_0xa1facd);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xa9ce03){const _0x5b9c00=Si['get'](this['_device'])['getByIndex'](_0xa9ce03);return _0xa9ce03===Zn||_0xa9ce03===Rl||_0x5b9c00['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x54c546){if(_0x54c546){const _0x3fd872=new Array(_0x54c546['length']);for(let _0x1d58e4=0x22d1+-0xf3f*-0x1+0xc84*-0x4;_0x1d58e4<_0x54c546['length'];_0x1d58e4++){if(_0x54c546[_0x1d58e4]['name']==='standard'){const _0x3d47cb=_0x54c546[_0x1d58e4]['options'],_0x3d1355=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x3d47cb['pass']);for(const _0x1e2e06 in _0x3d1355)_0x3d1355['hasOwnProp'+'erty'](_0x1e2e06)&&_0x3d47cb[_0x1e2e06]===void(0x11*0x7+0x25b4+0x1*-0x262b)&&(_0x3d47cb[_0x1e2e06]=_0x3d1355[_0x1e2e06]);}_0x3fd872[_0x1d58e4]=this['getProgram'](_0x54c546[_0x1d58e4]['name'],_0x54c546[_0x1d58e4]['options']);}}this['_precached']=!(-0x3*-0x5b3+0x2*-0x91+0x1*-0xff7);}}async function jA(){const _0x8155e2=new Float32Array(-0x5a+-0x1c78*0x1+-0x2f*-0x9d),_0x5e3537=new Int32Array(_0x8155e2['buffer']);let _0x33c65b=0x1a03+-0x57*0x2b+-0xb66,_0x5ef0b7={};self['onmessage']=async _0x40fb8b=>{const {data:_0x11e403}=_0x40fb8b;switch(_0x11e403['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x511fd2(_0x11e403['properties'],_0x11e403['timeIndex'],_0x11e403['timeOption']);break;case'releaseSeq'+'Data':_0x49258e(_0x11e403['index']);break;case'releaseAll'+'SeqData':_0x133fe9();break;case'destroyWor'+'ker':_0x1d18fc();break;}};class _0x450590{constructor(_0x126e36=-0x17ac+0x63*0x5d+-0xc4b,_0x53d9f7=0xcda*-0x1+0x3d1*0x3+-0x167*-0x1,_0x55c973=-0x1*-0x71f+-0x251e+0x1dff,_0x1e88ae=0x1718+-0x10f3+-0x1*0x624){this['x']=_0x126e36,this['y']=_0x53d9f7,this['z']=_0x55c973,this['w']=_0x1e88ae;}['set'](_0xd4cb3f,_0x3f07c0,_0x4dff43,_0x462dd5){return this['x']=_0xd4cb3f,this['y']=_0x3f07c0,this['z']=_0x4dff43,this['w']=_0x462dd5,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x4ff744=this){let _0x4d6968=_0x4ff744['length']();return _0x4d6968===0x21*-0x9+-0x434+0x55d?(this['x']=this['y']=this['z']=-0x14f9+0x3*-0xb75+0x3758,this['w']=-0x69d+0x7*-0x4a3+-0x2713*-0x1):(_0x4d6968=(-0xf4b+-0x74d*-0x5+-0x3d*0x59)/_0x4d6968,this['x']=_0x4ff744['x']*_0x4d6968,this['y']=_0x4ff744['y']*_0x4d6968,this['z']=_0x4ff744['z']*_0x4d6968,this['w']=_0x4ff744['w']*_0x4d6968),this;}['mulScalar'](_0x5d736d,_0x2be6f8=this){return this['x']=_0x2be6f8['x']*_0x5d736d,this['y']=_0x2be6f8['y']*_0x5d736d,this['z']=_0x2be6f8['z']*_0x5d736d,this['w']=_0x2be6f8['w']*_0x5d736d,this;}}const _0x1b6805=_0x259d14=>{_0x8155e2[-0xb11+0x9f0+0x121]=_0x259d14;const _0x27d2fe=_0x5e3537[0x1*0x185c+0x2531+0x8cb*-0x7];let _0x29ead0=_0x27d2fe>>-0xf7b+0x1*-0x1bbd+0x2b48&-0x2c2d*-0x1+0x7b11+0x1*-0x273e,_0x41015d=_0x27d2fe>>0x1*0x2561+-0x322*-0x2+-0x2b99&-0x24bb*-0x1+0x74a*0x1+-0x2406;const _0x46e849=_0x27d2fe>>-0x89*0x7+-0x103*-0xf+0xb57*-0x1&-0x9e*-0x21+0x2630+0x839*-0x7;return _0x46e849<0x2694+0x271*-0x6+-0x1787?_0x29ead0:_0x46e849>-0x822+-0x1fa5+0x2855?(_0x29ead0|=-0xa9e+-0x3da5+0xc443*0x1,_0x29ead0|=(_0x46e849===-0x8b*0x37+0x2208+-0x32c*0x1?0x20c6*0x1+-0x1*-0x218+-0x22de:-0xd*0x27+0x21db+-0x1fdf)&&_0x27d2fe&0x1*-0xdecc73+-0x808f29+0x1df5b9b*0x1,_0x29ead0):_0x46e849<0x8*-0x17f+0x1467+-0x7fe?(_0x41015d|=-0x73*-0x29+0x32*-0xe+-0x7af,_0x29ead0|=(_0x41015d>>-0x1*-0x1829+0x1d38+-0x34ef-_0x46e849)+(_0x41015d>>-0xad*-0x16+-0x1610*0x1+0x7a3-_0x46e849&0x19ac+0x47*0x71+-0x3902),_0x29ead0):(_0x29ead0|=_0x46e849-(0x6e*-0x5+0x1*-0xb8f+-0xd5*-0x11)<<0x88*0x2a+-0xfda+-0x19b*0x4|_0x41015d>>0x25b3+-0x1*-0x1057+0x9*-0x601,_0x29ead0+=_0x41015d&-0x1277+-0x990*-0x1+0x8e8,_0x29ead0);},_0x3bd04d=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x272b2a=0x1452+0x1785+-0x2bd7;_0x272b2a<0x2*-0x104f+0x511+0x1bba;++_0x272b2a)if(!_0x5ef0b7['f_rest_'+_0x272b2a])return _0x272b2a;return 0x35*-0x4f+-0x1b74+0x2bfc;})())]??0x219+0xd4e+-0xf67),_0x511fd2=(_0x437044,_0x5e5a65,_0xc16805)=>{const _0x3abf8f=!!_0x437044['time_index'];_0x3abf8f||(_0x437044['time_index']=new Float32Array(-0x255e+-0x14+0x2572)),_0x33c65b+=_0x437044['x']['length']??0x11a1+0xbf*-0x1c+0x343;const _0x13c641=Object['keys'](_0x437044);for(let _0x36ef51=0x17*-0x35+0x1*0x89a+-0x3d7;_0x36ef51<_0x13c641['length'];_0x36ef51++){const _0x4d7121=_0x13c641[_0x36ef51],_0x10e380=_0x437044[_0x4d7121],_0x5911ce=_0x5ef0b7[_0x4d7121]??new Float32Array(-0x25b4+-0x1*-0x2dc+0x22d8);if(!_0x3abf8f&&_0x4d7121==='time_index'){const _0x42eb85=new Float32Array(_0x33c65b);_0x42eb85['fill'](_0x5e5a65),_0x42eb85['set'](_0x5911ce,0x1*0x1bf3+-0xbdf*-0x3+-0x3f90*0x1),_0x5ef0b7[_0x4d7121]=_0x42eb85;}else{if(!_0x3abf8f&&_0x10e380&&_0x4d7121==='t'){const _0x25705b=new Float32Array(_0x33c65b);if(_0x25705b['set'](_0x5911ce,0x969*-0x4+-0x1ceb+0xb*0x60d),_0xc16805){for(let _0x59d681=_0x5911ce['length'];_0x59d681<_0x33c65b;_0x59d681++)_0x10e380[_0x59d681-_0x5911ce['length']]>-(0x513*-0x1+0xafb+-0x5e3)?_0x25705b[_0x59d681]=_0x10e380[_0x59d681-_0x5911ce['length']]+_0xc16805[(-0x1c28+-0x3*-0x9eb+-0x197*0x1)*_0x5e5a65]:_0x25705b[_0x59d681]=_0x10e380[_0x59d681-_0x5911ce['length']];}_0x5ef0b7[_0x4d7121]=_0x25705b;}else{if(_0x10e380){const _0x3223ed=new Float32Array(_0x33c65b);_0x3223ed['set'](_0x5911ce,0x2658+0x9aa*-0x1+-0x1cae*0x1),_0x3223ed['set'](_0x10e380,_0x5911ce['length']),_0x5ef0b7[_0x4d7121]=_0x3223ed;}}}}const _0x43672f={};Object['keys'](_0x5ef0b7)['forEach'](_0x36c30b=>{_0x43672f[_0x36c30b]=new Float32Array(_0x5ef0b7[_0x36c30b]['buffer']['slice']());});const _0x4700db=Object['keys'](_0x43672f)['map'](_0x46a928=>_0x43672f[_0x46a928]['buffer']),_0xbc46ed=_0x24dc35(),_0x1744cc=Object['keys'](_0xbc46ed)['map'](_0x3aecad=>_0xbc46ed[_0x3aecad]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x43672f,'transformData':_0xbc46ed},_0x4700db['concat'](_0x1744cc));},_0x24dc35=()=>{const _0x203183=_0x5ef0b7['x']['length'],_0x46af20=_0x5ef0b7['x'],_0xdf721a=_0x5ef0b7['y'],_0x2c898e=_0x5ef0b7['z'],_0xafe235=_0x5ef0b7['scale_0'],_0x59ad93=_0x5ef0b7['scale_1'],_0x1037a5=_0x5ef0b7['scale_2'],_0x328eef=_0x5ef0b7['rot_1'],_0x158db3=_0x5ef0b7['rot_2'],_0x25772d=_0x5ef0b7['rot_3'],_0x3fd5d1=_0x5ef0b7['rot_0'],_0x3052d4=_0x5ef0b7['motion_0'],_0x275d4e=_0x5ef0b7['motion_1'],_0x160ac7=_0x5ef0b7['motion_2'],_0x2e89de=_0x5ef0b7['t'],_0x1ee549=_0x5ef0b7['t_scale'],_0xb0c1a5=_0x5ef0b7['time_index'],_0x2fbbb1=_0x5ef0b7['f_dc_0'],_0x1e7787=_0x5ef0b7['f_dc_1'],_0x1755d6=_0x5ef0b7['f_dc_2'],_0x50ab64=_0x5ef0b7['opacity'],_0x17831e=(_0x2e89de==null?void(0xd*0x225+-0x39*-0x92+-0x3c63*0x1):_0x2e89de['length'])>0x6f1*-0x2+-0x1f91+-0xd*-0x37f,_0x4a82bd=new Float32Array(_0x203183*(0x1b7a+-0x3*-0xca9+-0x1*0x4172)),_0x5c5eea=new Float32Array(_0x203183*(0x23ca+-0x145*0x7+-0x1ae4)),_0x47baf2=new Uint16Array(_0x203183*(-0x2709+0x7ac+0x1f60)),_0x4d9997=new Float32Array(_0x203183*(-0xce3*-0x3+-0x1d0+-0x5*0x75e));let _0x445e8d=null,_0x3a93c3=null,_0x229bdd=null,_0x1f10b8=null;_0x17831e&&(_0x445e8d=new Float32Array(_0x203183*(0xa90*-0x1+-0x156*0xe+-0x1*-0x1d47)),_0x3a93c3=new Float32Array(_0x203183*(-0x4c0*0x2+0x1151+0x3e7*-0x2)),_0x229bdd=new Float32Array(_0x203183*(-0x1*-0xab5+-0x13ed+0x93b)),_0x1f10b8=new Float32Array(_0x203183));const _0x43b4bb=new _0x450590(0xaa9*0x1+0x140+-0xbe9,0x1d19+-0x1f43+0x22a,-0x181e+0x1*0x905+-0x1*-0xf19,-0x3*0xc82+0x1c7e+-0x484*-0x2);let _0x1f8980=-0xb6*0xf+0x2513+-0x1a69,_0x3aa48a=0xee6+-0x96a+0x9*-0x9c,_0x41e6b4=0x2234+-0x4b9+-0x1d7b,_0x437378=0x9a2+0x1205*-0x1+-0x863*-0x1,_0x5351ff=-0x20cc+0x1*0x1753+0x979,_0x47e9c9=0xd6d*0x1+0x1635+-0x23a2,_0x17c595=!(0x1*0x1a5+-0x18bc+0x1717);const _0x1b69b2=new Float32Array(-0x3*-0x7c9+0x1cda+-0x3432),_0x1b6ac8=new Float32Array(-0x19*0xa9+0x163+0xf21),_0x1c4533=new Uint16Array(_0x203183*(-0x241*-0x11+0xaf2+0x313f*-0x1)),_0x45609a=0x32f+0x25ee+0x1a5*-0x19+0.28209479177387814;for(let _0x2ead6f=0x76*0x5+-0x1145*-0x1+-0x1393;_0x2ead6f<_0x203183;++_0x2ead6f){const _0x2b49bc=_0x2fbbb1[_0x2ead6f]*_0x45609a+(-0x1cca+0xcac+0x101e+0.5),_0x25c562=_0x1e7787[_0x2ead6f]*_0x45609a+(-0x422+0x21a9*0x1+-0x1d87+0.5),_0x4dd666=_0x1755d6[_0x2ead6f]*_0x45609a+(-0x2209+0x3d*-0x67+0x3a94+0.5),_0x453ccc=_0x50ab64[_0x2ead6f];_0x1c4533[_0x2ead6f*(-0x49d+-0x382*-0x3+0x3*-0x1f7)+(-0x1190+-0x69b+0x182b*0x1)]=_0x1b6805(_0x2b49bc),_0x1c4533[_0x2ead6f*(0x2157+0x9d*0x5+-0x2464)+(0x2035+-0x6e6*0x2+-0x1268)]=_0x1b6805(_0x25c562),_0x1c4533[_0x2ead6f*(-0x155a+-0x31*0xd+-0x1f*-0xc5)+(-0x41f*0x6+0x122a+0x692)]=_0x1b6805(_0x4dd666),_0x1c4533[_0x2ead6f*(-0x24ed+0x1976+-0xb7b*-0x1)+(0x1*0x4e5+0x1*0xfd7+-0x14b9)]=_0x1b6805(_0x453ccc);const _0x52f79a=_0x46af20[_0x2ead6f],_0x4091f1=_0xdf721a[_0x2ead6f],_0x509f97=_0x2c898e[_0x2ead6f],_0x5fc62b=Math['max'](_0xafe235[_0x2ead6f],_0x59ad93[_0x2ead6f],_0x1037a5[_0x2ead6f]);if(isFinite(_0x52f79a)&&isFinite(_0x4091f1)&&isFinite(_0x509f97)&&isFinite(_0x5fc62b)){const _0x1a220b=(-0xf3*-0x16+-0x3*-0x397+-0x1fa5)*Math['exp'](_0x5fc62b);_0x17c595?(_0x17c595=!(-0x10c3+0x2397*0x1+-0x12d3),_0x1f8980=_0x52f79a-_0x1a220b,_0x3aa48a=_0x4091f1-_0x1a220b,_0x41e6b4=_0x509f97-_0x1a220b,_0x437378=_0x52f79a+_0x1a220b,_0x5351ff=_0x4091f1+_0x1a220b,_0x47e9c9=_0x509f97+_0x1a220b):(_0x1f8980=Math['min'](_0x1f8980,_0x52f79a-_0x1a220b),_0x3aa48a=Math['min'](_0x3aa48a,_0x4091f1-_0x1a220b),_0x41e6b4=Math['min'](_0x41e6b4,_0x509f97-_0x1a220b),_0x437378=Math['max'](_0x437378,_0x52f79a+_0x1a220b),_0x5351ff=Math['max'](_0x5351ff,_0x4091f1+_0x1a220b),_0x47e9c9=Math['max'](_0x47e9c9,_0x509f97+_0x1a220b));}_0x43b4bb['set'](_0x328eef[_0x2ead6f],_0x158db3[_0x2ead6f],_0x25772d[_0x2ead6f],_0x3fd5d1[_0x2ead6f]),_0x43b4bb['normalize'](),_0x43b4bb['w']<0xafd*0x3+-0x729*0x2+-0x81*0x25&&_0x43b4bb['mulScalar'](-(-0x2403+-0x2627+0x4a2b)),_0x5c5eea[_0x2ead6f*(0xd*0x1af+-0x149*-0xe+-0x27de)+(-0x242c+0x11d+0x703*0x5)]=_0x46af20[_0x2ead6f],_0x5c5eea[_0x2ead6f*(-0x1*-0x1659+0x1*-0x17a9+-0x71*-0x3)+(0x61*0xa+0x3*-0xcca+0x2295)]=_0xdf721a[_0x2ead6f],_0x5c5eea[_0x2ead6f*(-0x1*-0x806+-0x1*0x65+0x186*-0x5)+(0x239a+0x13b6+-0x374e)]=_0x2c898e[_0x2ead6f],_0x4a82bd[_0x2ead6f*(-0x1a20+0x2151+-0x72e)+(0x12af+0x21*0x65+-0x1*0x1fb4)]=_0x46af20[_0x2ead6f],_0x4a82bd[_0x2ead6f*(0x65f*-0x1+-0x1c75+-0x9*-0x3df)+(0xd13+0x2318+0x100e*-0x3)]=_0xdf721a[_0x2ead6f],_0x4a82bd[_0x2ead6f*(0x2*0xe4e+-0x2047+0x3*0x13a)+(0xfd3*0x1+0x1b08+-0x2ad9)]=_0x2c898e[_0x2ead6f],_0x47baf2[_0x2ead6f*(-0x401+0x2511*-0x1+0x2915*0x1)+(0x1f*-0x73+0x93d*-0x2+0x2067)]=_0x1b6805(Math['exp'](_0xafe235[_0x2ead6f])),_0x47baf2[_0x2ead6f*(-0x2570+0x5db*-0x4+0x3cdf*0x1)+(-0x2088+-0x767*0x2+-0x2f57*-0x1)]=_0x1b6805(Math['exp'](_0x59ad93[_0x2ead6f])),_0x47baf2[_0x2ead6f*(0x2411*-0x1+0x13b8+0x105c)+(-0x1*0x883+-0xf65+0x17ea)]=_0x1b6805(Math['exp'](_0x1037a5[_0x2ead6f])),_0x4d9997[_0x2ead6f*(-0x342*-0x9+0x80d*-0x4+0x2e5)+(0x71d+-0x1*0x80d+-0x18*-0xa)]=_0x43b4bb['x'],_0x4d9997[_0x2ead6f*(0x77e+-0x1f3f+0x17c4)+(-0x1*-0x1b1+0x4*0x6a+-0x358)]=_0x43b4bb['y'],_0x4d9997[_0x2ead6f*(-0xdcb+-0x5*-0x796+-0x1820)+(0x558+-0x1b7b+0x1625)]=_0x43b4bb['z'],_0x17831e&&_0x445e8d&&_0x3a93c3&&_0x229bdd&&_0x1f10b8&&(_0x445e8d[_0x2ead6f*(0xf63+0xb81+-0x1ae1)+(0x51*0x6b+0x1d99+-0x3f74)]=_0x3052d4[_0x2ead6f],_0x445e8d[_0x2ead6f*(-0x1a73+-0xd3e+0x54*0x79)+(-0x1*-0x22fd+0x4cd+0x1*-0x27c9)]=_0x275d4e[_0x2ead6f],_0x445e8d[_0x2ead6f*(0x13cd+0x2267*0x1+0x1*-0x3631)+(-0x46*0x19+-0x222f+0xdad*0x3)]=_0x160ac7[_0x2ead6f],_0x229bdd[_0x2ead6f*(-0x66e*-0x5+0x1*-0x6c3+-0xe8*0x1c)+(0x2c0*-0x3+-0x1b15+-0x9*-0x3ed)]=_0x3052d4[_0x2ead6f],_0x229bdd[_0x2ead6f*(-0xbab*-0x2+-0xb*-0x16f+-0x48*0x8b)+(-0x1dd*0x3+-0xa*0x37c+-0x1*-0x2870)]=_0x275d4e[_0x2ead6f],_0x229bdd[_0x2ead6f*(0x7*0x64+-0x2372+0x20b9*0x1)+(0xb8a+-0x1a*0xcd+0x29*0x3a)]=_0x160ac7[_0x2ead6f],_0x1f10b8[_0x2ead6f]=_0x1ee549?Math['exp'](_0x1ee549[_0x2ead6f]):0x89f+-0x1*-0x11d9+-0xd3c*0x2,_0x3a93c3[_0x2ead6f*(0x12f1+-0x1b*-0x2+-0x1324)+(-0x3*0x5d5+-0x193d*0x1+-0x14*-0x223)]=_0x2e89de?_0x2e89de[_0x2ead6f]:0x1*0x26ba+0x17a1+-0x3e5b,_0x3a93c3[_0x2ead6f*(0x1732+0x195a+-0x3089)+(0x7c1*0x1+0x1e88+-0x2648)]=_0x1f10b8[_0x2ead6f]);}_0x17c595||(_0x1b69b2[-0x24df*-0x1+0x2605*-0x1+0x126]=(_0x1f8980+_0x437378)*(-0x1*0x17fe+-0x1762+0x2f60+0.5),_0x1b69b2[0xbeb+-0x13a9+-0x3*-0x295]=(_0x3aa48a+_0x5351ff)*(-0x2*-0x8fa+0x2*0x47a+-0x1ae8+0.5),_0x1b69b2[0x1363*-0x1+-0xcf2+0x2057]=(_0x41e6b4+_0x47e9c9)*(0x4*0x877+0x56*0x72+-0x1*0x4828+0.5),_0x1b6ac8[0x24dd+-0xd*-0x171+-0x1bcd*0x2]=(_0x437378-_0x1f8980)*(0xa78+0xff2+-0x1a6a+0.5),_0x1b6ac8[0x1*-0x168f+0x15*0x86+-0xb92*-0x1]=(_0x5351ff-_0x3aa48a)*(-0x1*0xddf+-0x3*0xaed+0x2ea6+0.5),_0x1b6ac8[0x2e*0x3e+0x66*0x50+0xf*-0x2de]=(_0x47e9c9-_0x41e6b4)*(0x208e+0x35b+-0x23e9+0.5));const _0x1c725c=_0xa5a62f();let _0xbd7e15={'dataColor':_0x1c4533,'center':_0x1b69b2,'halfExtents':_0x1b6ac8,'dataCenters':_0x4a82bd,'dataPosition':_0x5c5eea,'dataScale':_0x47baf2,'dataRotation':_0x4d9997,..._0x1c725c};return _0x17831e&&(_0xbd7e15={..._0xbd7e15,'dataMotion':_0x445e8d,'dataTime':_0x3a93c3,'motion':_0x229bdd,'tScaleArray':_0x1f10b8,'muT':new Float32Array(_0x2e89de),'timeIndex':new Float32Array(_0xb0c1a5)}),_0xbd7e15;},_0x1f27fa=_0x247bd5=>{const _0x4f80b5=[];for(let _0x2c38e3=-0x1583*-0x1+0x77b+-0x1cfe;_0x2c38e3<_0x247bd5;++_0x2c38e3)_0x4f80b5['push'](_0x5ef0b7['f_rest_'+_0x2c38e3]);return _0x4f80b5;},_0xa5a62f=()=>{const _0x1eae71=_0x3bd04d();if(_0x1eae71<=0x7c1*0x5+-0x1e7a+-0x1*0x84b)return{};const _0x24f4ee=_0x5ef0b7['x']['length'],_0x22cab2=new Uint32Array(_0x24f4ee*(-0x117d+-0x4be*0x2+-0x3*-0x8ff)),_0x2c69ea=new Uint32Array(_0x24f4ee*(-0x448*0x7+-0xd3d*0x1+0x2b39)),_0x1f6088=new Uint32Array(_0x24f4ee*(-0x1975+0x1855*-0x1+0x31ce)),_0xf3702c=new Uint32Array(_0x24f4ee*(-0x22da+0x168f+0xc4f)),_0x26f61e={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1eae71],_0x2bdf42=_0x1f27fa(_0x26f61e*(-0x10c*0x13+0x140f+-0x28)),_0x1ac6cf=-0xda4+-0x136c+0x17*0x1c9,_0x461187=0x2*0x9b3+0x839*0x4+0x13d*-0x27,_0x31b023=new Float32Array(0x52+-0x2*-0x108b+-0x1f7*0x11),_0x1eff46=new Uint32Array(_0x31b023['buffer']),_0x4d5321=new Array(_0x26f61e*(-0x2d9*0x1+-0x1558+-0x1*-0x1834))['fill'](-0x7a5*0x1+-0x26*0x33+-0x13*-0xcd);for(let _0x3b1b96=-0x3*-0x5ad+0x13d4+-0x24db;_0x3b1b96<_0x24f4ee;++_0x3b1b96){for(let _0xd138fc=0x2472+-0x3f6+-0x207c;_0xd138fc<_0x26f61e;++_0xd138fc)_0x4d5321[_0xd138fc*(0x1712+-0x159e+0x171*-0x1)]=_0x2bdf42[_0xd138fc][_0x3b1b96],_0x4d5321[_0xd138fc*(-0x2707*0x1+0x299*-0xd+0x48cf)+(-0x13*-0x32+0x1355+0x3d7*-0x6)]=_0x2bdf42[_0xd138fc+_0x26f61e][_0x3b1b96],_0x4d5321[_0xd138fc*(-0x223+0x119*0x10+-0x1*0xf6a)+(-0x173a+0xd0e+0xa2e)]=_0x2bdf42[_0xd138fc+_0x26f61e*(-0xa0f+0x96d+0xa4)][_0x3b1b96];let _0x481304=_0x4d5321[0x1788+-0xc7*0x2+0x1*-0x15fa];for(let _0x38f705=0x181f+0x1*0x973+0x1*-0x2191;_0x38f705<_0x26f61e*(0x61f*-0x1+-0x9*-0x42b+-0x1f61*0x1);++_0x38f705)_0x481304=Math['max'](_0x481304,Math['abs'](_0x4d5321[_0x38f705]));if(_0x481304!==-0x254f+-0x1*-0xc0a+0x1945){for(let _0x5ebf91=0x2006*-0x1+-0x247a*0x1+0x4480;_0x5ebf91<_0x26f61e;++_0x5ebf91)_0x4d5321[_0x5ebf91*(0xb*0x21b+0x214b*0x1+0x1*-0x3871)+(-0x1c42+-0x2538+0x20bd*0x2)]=Math['max'](0x137e+0x3*0x7e2+0x4*-0xac9,Math['min'](_0x1ac6cf,Math['floor']((_0x4d5321[_0x5ebf91*(0xcf*0x21+0x57f+0x9*-0x393)+(0x89a+-0xb*0x61+-0xe3*0x5)]/_0x481304*(0x231d+-0x2031+-0x2ec+0.5)+(0x16e5+-0x8*-0x1ca+-0x2535+0.5))*_0x1ac6cf+(-0x56*-0x67+0x1be0+-0x5ae*0xb+0.5)))),_0x4d5321[_0x5ebf91*(0x2005+-0x705+-0x18fd)+(-0x1*-0x36f+0x90a+-0xc78)]=Math['max'](-0xc3f+-0x5aa+0x11e9,Math['min'](_0x461187,Math['floor']((_0x4d5321[_0x5ebf91*(0x183f+0x363*0x2+0x1f02*-0x1)+(-0x13c1+0x22d0+-0xf0e)]/_0x481304*(0x83b+0x14a0+-0x1cdb+0.5)+(0x2*0xc07+0x1*-0xf61+0x1*-0x8ad+0.5))*_0x461187+(0x20a7+0x2*-0x2d7+0x565*-0x5+0.5)))),_0x4d5321[_0x5ebf91*(0xee4+-0x1b*0x119+-0x1*-0xec2)+(-0x153a+0xa3d+-0x233*-0x5)]=Math['max'](-0x15*-0xe5+-0x107a+-0x24f,Math['min'](_0x1ac6cf,Math['floor']((_0x4d5321[_0x5ebf91*(-0x3e8+0x21*-0xfd+0x2488)+(0x2e5+-0x74c+0x469)]/_0x481304*(0xd49+-0x1c6e*0x1+-0xf25*-0x1+0.5)+(0x19*0xad+0x1*0x1873+0x6e4*-0x6+0.5))*_0x1ac6cf+(-0x669*0x1+0x123c+-0x1*0xbd3+0.5))));_0x31b023[-0x872+0x8b+0x7e7]=_0x481304,_0x22cab2[_0x3b1b96*(-0xb*-0x346+0x10c1+-0x34bf)+(0xe8e+0x211*-0xb+0x82d)]=_0x1eff46[-0x1*0xa36+0x1fda+-0x2*0xad2],_0x22cab2[_0x3b1b96*(-0x1eb*-0x2+-0xa91*-0x3+-0x2385)+(0x317*0x1+-0x1bdb*-0x1+-0x1ef1)]=_0x4d5321[0xd21*0x1+-0x2*-0x625+0xf1*-0x1b]<<-0x1*-0x13e2+-0x107*0x21+-0x169*-0xa|_0x4d5321[-0x29e+0xd*0xf1+-0x99e]<<0x1f61*-0x1+0x1758*-0x1+0x36c4|_0x4d5321[-0x1d46+-0x11*0x11e+0x1823*0x2],_0x22cab2[_0x3b1b96*(-0x115*0x1d+-0xc6a+0x2bcf)+(0x1f1e+-0x121b+-0xd01)]=_0x4d5321[0xc0*-0x11+-0x1a1f+0x26e2]<<0x4*-0x6c5+-0x2665+0x418e|_0x4d5321[-0x92e+-0x1750+0xdb*0x26]<<-0x8c3*0x2+-0x3*-0xaed+0xb*-0x162|_0x4d5321[-0x106*-0x16+-0x37*-0x8e+-0x3*0x11ab],_0x22cab2[_0x3b1b96*(0x655*-0x2+-0x16c0+0x236e)+(0x529*-0x7+0x12a6*0x1+0x117c)]=_0x4d5321[0xda2+0x1863+-0x25ff]<<0x193*0x7+0x1*0x1945+-0x2c9*0xd|_0x4d5321[-0x21dd+0x859*0x3+0x8d9]<<0x6d1+-0x12ee+0x4*0x30a|_0x4d5321[-0x22ea+-0x2*-0xcd2+0x94e],_0x1eae71>0x2*0x52f+0xf9a*0x2+-0x2991&&(_0x2c69ea[_0x3b1b96*(-0x1549+-0x2*-0x87b+0x457)+(0x1174+-0x116d+0x1*-0x7)]=_0x4d5321[-0x2*-0x58f+0x2411*0x1+0x55*-0x8e]<<0x1*0xac5+-0x179b*-0x1+-0x1*0x224b|_0x4d5321[-0xe*-0x67+-0x1e96+0x1*0x18fe]<<-0x1797+-0xdb*0x2b+0x3c6b|_0x4d5321[0x6d*0x38+0x1df1+-0x35be],_0x2c69ea[_0x3b1b96*(0x137b+-0x2*0xb93+0x3af)+(0x11d4+-0x636+-0x3df*0x3)]=_0x4d5321[-0x122+-0x1111*0x1+0x1*0x123f]<<-0xca1+-0x1*-0x113a+-0x484|_0x4d5321[0x246b+-0x1*0xa8+-0x28d*0xe]<<-0x25cf*0x1+-0x1131+0x370b|_0x4d5321[-0x2487+-0x10*-0xbc+0x18d5],_0x2c69ea[_0x3b1b96*(0x1f8e+0x5fc*-0x1+-0x198e)+(-0x23a8+-0x915+0x2cbf)]=_0x4d5321[0x26c7+-0x1428+-0x16*0xd8]<<0x1b41*0x1+0x1*0x11ef+0xf09*-0x3|_0x4d5321[0x1f*-0xbd+0x2*-0xa13+0x2b19]<<-0x52d*-0x7+-0x22de+-0xa9*0x2|_0x4d5321[-0x1c8f+0xc2a+0x1076],_0x2c69ea[_0x3b1b96*(0xe*0x201+0x152a*-0x1+-0x6e0)+(-0x313+0x1d7*-0xe+0x1cd8)]=_0x4d5321[0x289+0x5*-0x2e7+0x6*0x202]<<0x2312*0x1+-0x151f+-0xdde|_0x4d5321[-0x6b*0x2f+0x1223+0x87*0x3]<<0x991*-0x3+0x12da+0x9e4|_0x4d5321[-0xcf4+0x7*-0x37c+0x256c],_0x1eae71>-0x1*-0x93f+0x481*-0x7+-0x76e*-0x3?(_0x1f6088[_0x3b1b96*(0x18d9*-0x1+0x2*0x102f+-0x71*0x11)+(-0x222f+-0x5db*0x4+-0x1*-0x399b)]=_0x4d5321[-0x3c1*0x2+-0x1*0x156b+-0x1*-0x1d02]<<-0x80*0x26+0x1*-0x20e6+0x33fb|_0x4d5321[-0x2657*0x1+-0x15e6*-0x1+0x1087]<<-0x4*0x557+0x4*0x85a+-0xc01|_0x4d5321[0x429+0x823+0x7d*-0x19],_0x1f6088[_0x3b1b96*(-0x753+0x366+-0x1*-0x3f1)+(0x6d5+-0x10f*-0x7+-0xe3d)]=_0x4d5321[0x6c9+-0x1af*0xb+0xbd4]<<-0x6*-0x41+0x151*-0x1a+-0x4af*-0x7|_0x4d5321[0x6c4*-0x3+0x6*0x352+0x79*0x1]<<0x3df*0x7+0x1f2d+-0x3a3b|_0x4d5321[0x1a39+0x210f+0xca*-0x4b],_0x1f6088[_0x3b1b96*(-0x1*-0x1b16+-0x16*-0x10f+0xb*-0x494)+(-0x17af+-0x17*0xf9+0x2e10)]=_0x4d5321[-0xa85*0x1+0x1536+-0xa96]<<0x11b4+-0x1af8+0x959*0x1|_0x4d5321[0x1*-0x2137+-0x2*-0x151+0x1eb1*0x1]<<-0x1fb7+0x18cd+0x6f5*0x1|_0x4d5321[-0xe*-0x1f7+-0xae1*-0x3+-0x388*0x11],_0x1f6088[_0x3b1b96*(-0x1*0x1913+0x447+0x14d0)+(-0x699+0x5*0x32+-0x2d1*-0x2)]=_0x4d5321[-0x2647+-0xd54*-0x2+0x5*0x259]<<-0x1*0x823+-0x1*-0x883+-0xf*0x5|_0x4d5321[0x62f+0x1*-0x2347+-0x1*-0x1d37]<<-0x3*-0x1a1+0x150b+-0x19e3|_0x4d5321[-0x146+-0x15cd+0x1733],_0xf3702c[_0x3b1b96*(0x2cb+-0x1161*-0x1+-0x1428)+(-0x26a7+0xce*0x19+0x3b5*0x5)]=_0x4d5321[-0x222f+-0x801+0x3*0xe1b]<<0xdba+0x6da*0x4+-0x290d|_0x4d5321[0x595*0x5+0x4*-0x529+-0x3f*0x1d]<<0xe8*0x2b+0xada+-0x31c7|_0x4d5321[0x1da5+-0xd*-0x11b+-0x2be1],_0xf3702c[_0x3b1b96*(0xd*0x1d8+-0x7*-0x6d+-0x7*0x3d9)+(-0x946*-0x1+-0xf*-0x8d+0x2ec*-0x6)]=_0x4d5321[-0x18ac+-0xa41+-0x2f*-0xbf]<<-0x1*0x12db+0x11a*0x11+0x36|_0x4d5321[0x89e+0x2605+-0x2*0x173f]<<0xb41*0x3+0x3f6*-0x1+0xee1*-0x2|_0x4d5321[0x3c9*-0x3+0x13c6+-0x845*0x1],_0xf3702c[_0x3b1b96*(0x8*-0xcb+-0x10d*-0x25+0x39d*-0x9)+(-0xecb+0x1407+0x1*-0x53a)]=_0x4d5321[0x1ecc+-0x6*0xdb+-0x1983]<<0xd45+-0x5*-0x463+-0x1b*0x14d|_0x4d5321[-0xd69*0x2+-0x169+0xd*0x22f]<<0x15d7+-0x77+-0x1555|_0x4d5321[-0x9f5+0x913*-0x1+0x1331],_0xf3702c[_0x3b1b96*(0x5bd*0x1+0xa1d+0x7eb*-0x2)+(-0x738*0x2+0x12f5+-0x482*0x1)]=_0x4d5321[-0x770+0x231*-0x11+0x2cdb]<<0x2277*-0x1+0x819*0x2+0x1b*0xae|_0x4d5321[0x196d+0x47*0x29+-0x1*0x24a1]<<0x1*-0x12fe+0x11ae+0x15b*0x1|_0x4d5321[-0x860+0x1a80+-0x11f4]):_0x1f6088[_0x3b1b96]=_0x4d5321[-0x2270+0x187+-0x1*-0x20fe]<<0x19cb+-0x2b*-0x31+-0x21f1|_0x4d5321[0x2b8+0x33*0x89+-0x1ded]<<-0x10d*0x19+-0x3c7*0xa+0x1*0x4016|_0x4d5321[0x2b7*-0xa+-0x1fd*-0x6+0xf4f]);}}return{'sh1to3Data':_0x22cab2,'sh4to7Data':_0x2c69ea,'sh8to11Data':_0x1f6088,'sh12to15Data':_0xf3702c};},_0x49258e=_0x1f97db=>{if(!_0x5ef0b7['time_index'])return;const _0x208844=_0x5ef0b7['time_index']['findIndex'](_0x90a503=>_0x90a503===_0x1f97db);let _0x56478e=_0x5ef0b7['time_index']['findIndex']((_0x1fc266,_0x43b8b8)=>_0x1fc266!==_0x1f97db&&_0x43b8b8>_0x208844);if(_0x56478e===-(-0xebc+0x256+0x7f*0x19)&&_0x208844===-(0x276*0x4+0x266a+-0x3041))return;_0x56478e===-(-0x19ee*0x1+0x3d5*0x3+0xe70)&&_0x208844!==-(-0x1a+-0x6*-0x3+0x9)&&(_0x56478e=_0x5ef0b7['time_index']['length']),_0x33c65b-=_0x56478e-_0x208844;const _0x14762c=Object['keys'](_0x5ef0b7);for(let _0x525bed=-0xcc1+0x1ae2*-0x1+-0x1*-0x27a3;_0x525bed<_0x14762c['length'];_0x525bed++){const _0x21cee4=_0x14762c[_0x525bed],_0x4eb873=_0x5ef0b7[_0x21cee4];if(_0x4eb873){const _0x1d1773=new Float32Array(_0x33c65b);_0x208844>0x8dc+-0x1ae9+0x120d?(_0x1d1773['set'](_0x4eb873['subarray'](0x2463+-0x669*0x4+-0xabf,_0x208844),-0x3*-0x71e+-0xa6d+-0xaed),_0x1d1773['set'](_0x4eb873['subarray'](_0x56478e),_0x208844)):_0x1d1773['set'](_0x4eb873['subarray'](_0x56478e),0x114+-0x1d3d+0x10b*0x1b),_0x5ef0b7[_0x21cee4]=_0x1d1773;}}},_0x133fe9=()=>{const _0x595b35=Object['keys'](_0x5ef0b7);for(let _0x1d97d3=0x22cf+-0xc79+-0x2*0xb2b;_0x1d97d3<_0x595b35['length'];_0x1d97d3++){const _0x43398c=_0x595b35[_0x1d97d3];_0x5ef0b7[_0x43398c]&&(_0x5ef0b7[_0x43398c]=[]);}},_0x1d18fc=()=>{_0x5ef0b7={},_0x33c65b=0x1*-0x1f9b+-0x26a5+-0x1*-0x4640;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x1d8081,_0x5ed1e4,_0x378bf3,_0x7a8922=!(0x1*0x1733+-0x1*-0x221c+-0x394e)){var _0x43cf19,_0x512615;const _0x4c1db9={};return _0x1d8081['elements'][-0x7b*-0x2c+-0x1d2*-0x13+-0x37ba]['properties']['forEach'](_0x15069b=>{_0x4c1db9[_0x15069b['name']]=_0x15069b['storage'];}),_0x7a8922?(_0x43cf19=this['worker'])==null||_0x43cf19['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4c1db9,'timeIndex':_0x5ed1e4,'timeOption':_0x378bf3},_0x1d8081['elements'][0x142a+-0x1*-0x24b3+-0x1*0x38dd]['properties']['map'](_0x3d4b45=>_0x3d4b45['storage']['buffer'])):(_0x512615=this['worker'])==null||_0x512615['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x4c1db9,'timeIndex':_0x5ed1e4,'timeOption':_0x378bf3}),new Promise(_0x36e76a=>{this['worker']['onmessage']=_0x48a663=>{if(!this['worker'])return;const {data:_0x41b4e3}=_0x48a663;_0x41b4e3['type']==='newAppendD'+'ata'&&_0x36e76a(_0x41b4e3);};});}async['releaseSeq'+'Data'](_0x481666){var _0x1f51b0;(_0x1f51b0=this['worker'])==null||_0x1f51b0['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x481666});}async['releaseAll'+'SeqData'](){var _0x3350a4;(_0x3350a4=this['worker'])==null||_0x3350a4['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4eb3ad;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4eb3ad=this['worker'])==null||_0x4eb3ad['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x1d34+-0xb*-0x7+0x1ce8,-0x303+-0x10d7+0x11*0x12b,-0x151c+0x1*-0x24a1+-0x27*-0x17b,-0x1*0x215f+-0x478+-0x1*-0x25d7+0.4),vf=-0x1142+0x1756*0x1+-0x2*0x30a+0.28209479177387814,xf=-0x6bb4+0x27a6b+0xfe89*0x1;let ZA=class{constructor(_0x256f35,_0xa06704,_0x172648,_0x4ce008,_0x3c3458,_0xd00c50){const _0x2c71c0=_0x256f35['getProp']('x'),_0x312626=_0x256f35['getProp']('y'),_0x4b071e=_0x256f35['getProp']('z'),_0x20a584=_0x256f35['getProp']('rot_1'),_0x469b7a=_0x256f35['getProp']('rot_2'),_0x3c3e93=_0x256f35['getProp']('rot_3'),_0x4f50ee=_0x256f35['getProp']('rot_0'),_0x12f919=_0x256f35['getProp']('motion_0'),_0x119623=_0x256f35['getProp']('motion_1'),_0x198948=_0x256f35['getProp']('motion_2'),_0x5454c5=_0x256f35['getProp']('scale_0'),_0x40313d=_0x256f35['getProp']('scale_1'),_0x211e2b=_0x256f35['getProp']('scale_2'),_0x2db286=_0x256f35['getProp']('f_dc_0'),_0x3d1089=_0x256f35['getProp']('f_dc_1'),_0x1ecd14=_0x256f35['getProp']('f_dc_2'),_0x2b462b=_0x256f35['getProp']('opacity');this['read']=_0x48d47b=>{_0xa06704&&(_0xa06704['x']=_0x2c71c0[_0x48d47b],_0xa06704['y']=_0x312626[_0x48d47b],_0xa06704['z']=_0x4b071e[_0x48d47b]),_0x172648&&_0x172648['set'](_0x20a584[_0x48d47b],_0x469b7a[_0x48d47b],_0x3c3e93[_0x48d47b],_0x4f50ee[_0x48d47b]),_0x4ce008&&_0x4ce008['set'](Math['exp'](_0x5454c5[_0x48d47b]),Math['exp'](_0x40313d[_0x48d47b]),Math['exp'](_0x211e2b[_0x48d47b])),_0xd00c50&&_0x12f919&&_0xd00c50['set'](_0x12f919[_0x48d47b],_0x119623[_0x48d47b],_0x198948[_0x48d47b]),_0x3c3458&&_0x3c3458['set'](-0xe27+0x281*0xe+-0x14e7+0.5+_0x2db286[_0x48d47b]*vf,0x23a1+0x3d2+-0x2773+0.5+_0x3d1089[_0x48d47b]*vf,-0x46b+-0x30f+0x3bd*0x2+0.5+_0x1ecd14[_0x48d47b]*vf,_0x2b462b[_0x48d47b]);};}};const _g=(_0x4bd2d1,_0x12efa3,_0x503f57)=>{pg['set'](_0x503f57['x'],_0x503f57['y'],_0x503f57['z'],_0x503f57['w'])['normalize'](),_0x4bd2d1['setTRS'](_0x12efa3,pg,D['ONE']);};class qn{constructor(_0x39022d,_0x5ddafc=[]){h(this,'elements'),h(this,'numSplats',-0x43c+-0x57*0x34+0x15e8*0x1),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x187674;(_0x187674=this['dataWorker'])==null||_0x187674['destroy'](),this['dataWorker']=null;});var _0x5902c5,_0x5bfe34,_0x681243;this['elements']=_0x39022d,this['numSplats']=((_0x5902c5=this['getElement']('vertex'))==null?void(0x69*0x23+-0x11*-0x24b+-0x3556):_0x5902c5['count'])??0xfb6+-0x1442+0x48c,this['comments']=_0x5ddafc,this['is4D']=!!((_0x681243=(_0x5bfe34=this['getElement']('vertex'))==null?void(-0x639+-0xde9+-0xa11*-0x2):_0x5bfe34['properties']['find'](_0x423f80=>_0x423f80['name']==='t'))!=null&&_0x681243['storage']);}async['appendGSpl'+'atData'](_0x2e422d,_0x69008a,_0x5c6533){var _0x561682;let _0x2703c3=0x12a3+-0x1*-0x1e4+-0x1487;for(let _0x70a081=-0xfe*-0x1a+-0x1*-0xf33+-0x28ff;_0x70a081<_0x5c6533['length']&&_0x69008a>_0x5c6533[_0x70a081];_0x70a081+=0xc38+-0x21*0x1c+-0x89a)_0x2703c3=_0x70a081/(-0x2001+-0x7d4+0x27d7);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x2703c3),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x6dd*-0x2+0x1*0x1229+0x3*-0xaa1,_0x5c6533));const _0x24f07d=this['getElement']('vertex');_0x24f07d&&(_0x24f07d['count']=this['numSplats']);const _0x43ad9=await this['dataWorker']['appendGSpl'+'atData'](_0x2e422d,_0x2703c3,_0x5c6533,!(0x641*-0x6+-0x1*0x12d1+-0x1*-0x3857)),_0x69a91=_0x43ad9['properties'],_0x50f090=((_0x561682=this['getElement']('vertex'))==null?void(-0x1bed*-0x1+-0xe*0xc2+-0x1151):_0x561682['properties'])??[];for(const _0x335fc8 in _0x69a91){const _0x2e0256=_0x50f090['find'](_0xf8db84=>_0xf8db84['name']===_0x335fc8);_0x2e0256?_0x2e0256['storage']=_0x69a91[_0x335fc8]:_0x50f090['push']({'type':'float','name':_0x335fc8,'storage':_0x69a91[_0x335fc8],'byteSize':0x4});}this['transformD'+'ata']=_0x43ad9['transformD'+'ata'],this['numSplats']=_0x69a91['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x5f00be){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x5f00be),this['dataWorker']['releaseSeq'+'Data'](_0x5f00be),this;}async['releaseAll'+'SeqData'](){var _0x477115;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x477115=this['dataWorker'])==null||_0x477115['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x410222,_0x133d85,_0x564ba8,_0x2b9b82){_g(za,_0x133d85,_0x564ba8),yf['center']['set'](0x124f+0x2*-0x76f+-0x1*0x371,0x2027+0xb*-0x1f+-0x2*0xf69,0x19f9+-0xb95+-0xe64),yf['halfExtent'+'s']['set'](_0x2b9b82['x']*(0x1890+0x203+0x8db*-0x3),_0x2b9b82['y']*(0x7*-0x1fa+-0x2fd+-0x10d5*-0x1),_0x2b9b82['z']*(0x6df*-0x5+0x96a+0x18f3)),_0x410222['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x1b11b5,_0x56ea22='vertex'){var _0x39f8a5,_0x50e1b4;return(_0x50e1b4=(_0x39f8a5=this['getElement'](_0x56ea22))==null?void(0x2687+-0x215b*0x1+-0x2*0x296):_0x39f8a5['properties']['find'](_0x187bfd=>_0x187bfd['name']===_0x1b11b5))==null?void(-0x2*0x811+0xbc4+0x45e):_0x50e1b4['storage'];}['getElement'](_0x48894a){return this['elements']['find'](_0x415485=>_0x415485['name']===_0x48894a);}['addProp'](_0x5af378,_0x773dcd){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x5af378,'storage':_0x773dcd,'byteSize':0x4});}['createIter'](_0x5f2eb8,_0x2f9300,_0x2e58f0,_0xfb164b,_0x2e176d){return new ZA(this,_0x5f2eb8,_0x2f9300,_0x2e58f0,_0xfb164b,_0x2e176d);}async['calcAabbAs'+'ync'](_0x3f2ec5,_0x185d02){var _0x376415,_0x41afd6;if((_0x376415=this['transformD'+'ata'])!=null&&_0x376415['center']&&((_0x41afd6=this['transformD'+'ata'])!=null&&_0x41afd6['halfExtent'+'s'])){_0x3f2ec5['center']['set'](this['transformD'+'ata']['center'][-0xc28+-0x3*-0x6f7+-0x8bd*0x1],this['transformD'+'ata']['center'][0xc5c+-0xb80+-0xdb],this['transformD'+'ata']['center'][0x20d8+-0x1*0x229f+0x1c9]),_0x3f2ec5['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x2233+-0x1f5a+0x3*-0xf3],this['transformD'+'ata']['halfExtent'+'s'][0x16f*-0xc+0xe*0x1ff+0xabd*-0x1],this['transformD'+'ata']['halfExtent'+'s'][-0x2*0x827+-0x1f0d+0x2f5d]);return;}const _0x4406ab=this['getProp']('x'),_0x18d8cc=this['getProp']('y'),_0x19b79f=this['getProp']('z'),_0x197486=this['getProp']('scale_0'),_0x2a64ce=this['getProp']('scale_1'),_0x2f5eb2=this['getProp']('scale_2'),_0x44ee11=await(_0x185d02==null?void(0x135d*-0x1+-0x16f+-0xf2*-0x16):_0x185d02['calcAabb'](this['numSplats'],_0x4406ab,_0x18d8cc,_0x19b79f,_0x197486,_0x2a64ce,_0x2f5eb2));_0x3f2ec5['center']['set'](_0x44ee11['center'][-0xe72*-0x1+-0xa*-0x7d+-0x1354],_0x44ee11['center'][-0x55d*-0x6+0x17b4+-0x37e1],_0x44ee11['center'][0x1*-0xa99+0xa*-0x39e+0x2ec7]),_0x3f2ec5['halfExtent'+'s']['set'](_0x44ee11['halfExtent'+'s'][0x4*0x7af+0xb08+-0x29c4],_0x44ee11['halfExtent'+'s'][-0x11a5*0x2+0x5*0xb9+0x1fae],_0x44ee11['halfExtent'+'s'][-0x8e4+-0x1d*-0x6d+0x373*-0x1]);}['calcAabb'](_0x2d67ea,_0x8b2a65){let _0xc683f2,_0x1fc213,_0x840731,_0x41d392,_0x14aa95,_0xc224c1,_0x1f3511=!(0x1933*0x1+-0x2*0x180+-0x1633);const _0x712d51=this['getProp']('x'),_0x4f0f86=this['getProp']('y'),_0x343b38=this['getProp']('z'),_0x91f0bf=this['getProp']('scale_0'),_0x267af5=this['getProp']('scale_1'),_0x600c1=this['getProp']('scale_2');for(let _0x46a6ea=0x1670+0x1463+0x2ad3*-0x1;_0x46a6ea<this['numSplats'];++_0x46a6ea){if(_0x8b2a65&&!_0x8b2a65(_0x46a6ea))continue;const _0x1af2f9=_0x712d51[_0x46a6ea],_0x4e6082=_0x4f0f86[_0x46a6ea],_0x7741f0=_0x343b38[_0x46a6ea],_0x4278d2=Math['max'](_0x91f0bf[_0x46a6ea],_0x267af5[_0x46a6ea],_0x600c1[_0x46a6ea]);if(!isFinite(_0x1af2f9)||!isFinite(_0x4e6082)||!isFinite(_0x7741f0)||!isFinite(_0x4278d2))continue;const _0x3abb45=(-0x52*0x1+0x56e+-0x51a)*Math['exp'](_0x4278d2);_0x1f3511?(_0x1f3511=!(0x11c9*-0x2+0x106*-0x5+-0xb*-0x3b3),_0xc683f2=_0x1af2f9-_0x3abb45,_0x1fc213=_0x4e6082-_0x3abb45,_0x840731=_0x7741f0-_0x3abb45,_0x41d392=_0x1af2f9+_0x3abb45,_0x14aa95=_0x4e6082+_0x3abb45,_0xc224c1=_0x7741f0+_0x3abb45):(_0xc683f2=Math['min'](_0xc683f2,_0x1af2f9-_0x3abb45),_0x1fc213=Math['min'](_0x1fc213,_0x4e6082-_0x3abb45),_0x840731=Math['min'](_0x840731,_0x7741f0-_0x3abb45),_0x41d392=Math['max'](_0x41d392,_0x1af2f9+_0x3abb45),_0x14aa95=Math['max'](_0x14aa95,_0x4e6082+_0x3abb45),_0xc224c1=Math['max'](_0xc224c1,_0x7741f0+_0x3abb45));}return _0x1f3511||(_0x2d67ea['center']['set']((_0xc683f2+_0x41d392)*(-0x3f*-0x2a+0xf76+-0x19cc+0.5),(_0x1fc213+_0x14aa95)*(0x16eb+-0xe53+-0x898+0.5),(_0x840731+_0xc224c1)*(0x2*-0x11e+-0x19c7*0x1+0x1c03+0.5)),_0x2d67ea['halfExtent'+'s']['set']((_0x41d392-_0xc683f2)*(0x2*-0xeea+0xd82+0x1052+0.5),(_0x14aa95-_0x1fc213)*(0x26d1+0x2592+-0x4c63+0.5),(_0xc224c1-_0x840731)*(0x18e+-0x1*-0x46e+0x1*-0x5fc+0.5))),!_0x1f3511;}['yieldToMai'+'n'](){var _0x72ac65;return(_0x72ac65=globalThis['scheduler'])!=null&&_0x72ac65['yield']?globalThis['scheduler']['yield']():new Promise(_0x1f14bf=>{setTimeout(_0x1f14bf,-0x2*-0x8ed+0xf1e+0x83e*-0x4);});}['calcAabbEx'+'act'](_0x1faadd,_0x41cf3d){const _0x3ed045=new D(),_0x172bda=new le(),_0xe11028=new D(),_0x44d090=this['createIter'](_0x3ed045,_0x172bda,_0xe11028);let _0x1fe2cb=!(0x1a41+0x18f6+-0x3337*0x1);for(let _0x36feea=-0xa75+0xd*-0x182+0xab*0x2d;_0x36feea<this['numSplats'];++_0x36feea)_0x41cf3d&&!_0x41cf3d(_0x36feea)||(_0x44d090['read'](_0x36feea),_0x1fe2cb?(_0x1fe2cb=!(-0x1d0a+0x3*-0x9c9+0x3a66),qn['calcSplatA'+'abb'](_0x1faadd,_0x3ed045,_0x172bda,_0xe11028)):(qn['calcSplatA'+'abb'](mg,_0x3ed045,_0x172bda,_0xe11028),_0x1faadd['add'](mg)));return!_0x1fe2cb;}async['getCenters'](_0x2e002e){const _0x2d7d1d=this['getProp']('x'),_0x11599c=this['getProp']('y'),_0x34d9f3=this['getProp']('z');for(let _0x141358=0x10b2*0x1+-0x2d0*-0x8+-0x3a*0xad;_0x141358<this['numSplats'];++_0x141358)_0x2e002e[_0x141358*(0x1813+-0x2*-0x1d7+0x43*-0x6a)+(-0x1*0x1e6d+0x1*-0x1de6+0x3c53*0x1)]=_0x2d7d1d[_0x141358],_0x2e002e[_0x141358*(-0x5*-0x373+-0x1e56+0xd1a)+(-0xef6*-0x2+0x22*0x79+-0x2dfd)]=_0x11599c[_0x141358],_0x2e002e[_0x141358*(-0x168d+-0x7*-0x85+-0x5*-0x3c9)+(0xb65+-0x3*0x232+-0x1*0x4cd)]=_0x34d9f3[_0x141358],_0x141358%xf===0x1d89*-0x1+0xd76*-0x1+-0x3*-0xe55&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x1a5e36;if((_0x1a5e36=this['transformD'+'ata'])!=null&&_0x1a5e36['muT'])return this['transformD'+'ata']['muT'];const _0x1497e1=this['getProp']('t');return _0x1497e1?new Float32Array(_0x1497e1):void(-0xbb+0x12cd+0x1212*-0x1);}async['getTScale'](){const _0x4c2904=this['getProp']('t_scale');if(!_0x4c2904)return;const _0x2e274a=new Float32Array(this['numSplats']);for(let _0x377108=-0x1*0x1f42+0x441+-0x1*-0x1b01;_0x377108<this['numSplats'];++_0x377108)_0x2e274a[_0x377108]=Math['exp'](_0x4c2904[_0x377108]),_0x377108%xf===0x118a+-0x1d41+-0xbb7*-0x1&&await this['yieldToMai'+'n']();return _0x2e274a;}async['getMotion'](_0x2ae132){const _0x27e81a=this['getProp']('motion_0'),_0xd0eee2=this['getProp']('motion_1'),_0x768e24=this['getProp']('motion_2');if(!(!_0x27e81a||!_0xd0eee2||!_0x768e24)){for(let _0x26cad6=-0x23de+-0xec3*-0x1+-0x1*-0x151b;_0x26cad6<this['numSplats'];++_0x26cad6)_0x2ae132[_0x26cad6*(0x17*-0x15+0x7a*-0x4b+-0xc*-0x323)+(-0x6*-0x1f7+-0xee*-0xb+-0x1604)]=_0x27e81a[_0x26cad6],_0x2ae132[_0x26cad6*(-0x186d+-0x1*0x2a2+0x1b12)+(-0x1e2*0xb+0x1ff5+-0x59f*0x2)]=_0xd0eee2[_0x26cad6],_0x2ae132[_0x26cad6*(-0x4*-0x52+-0x148+0x3)+(0x2188+-0x72f+-0xb*0x265)]=_0x768e24[_0x26cad6],_0x26cad6%xf===-0x1daf+-0x38f*-0x7+0x4c6&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x268ae7;if((_0x268ae7=this['transformD'+'ata'])!=null&&_0x268ae7['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x2099a7=this['getProp']('time_index');if(_0x2099a7)return new Float32Array(_0x2099a7);}['calcFocalP'+'oint'](_0x55ad56,_0x5e8063){const _0x5650ce=this['getProp']('x'),_0x58d767=this['getProp']('y'),_0x4e6b36=this['getProp']('z'),_0x21a614=this['getProp']('scale_0'),_0x3bb8a9=this['getProp']('scale_1'),_0x35e383=this['getProp']('scale_2');_0x55ad56['x']=0x2379+0x2*0xbbd+0x3af3*-0x1,_0x55ad56['y']=-0xb*0x15a+-0x109f+0x1f7d,_0x55ad56['z']=0x187d+0x248b+-0x3d08;let _0x4ff62b=0x3ed*0x2+0xe7*-0x13+0x94b;for(let _0x494976=0x1786+0x13d2+0x56b*-0x8;_0x494976<this['numSplats'];++_0x494976){if(_0x5e8063&&!_0x5e8063(_0x494976))continue;const _0x58de63=_0x5650ce[_0x494976],_0x11229b=_0x58d767[_0x494976],_0x211a83=_0x4e6b36[_0x494976];if(!isFinite(_0x58de63)||!isFinite(_0x11229b)||!isFinite(_0x211a83))continue;const _0x215d50=(-0x2*0x118+0xcec+-0xabb)/(0x1993+0x146c+-0x2dfe+Math['exp'](Math['max'](_0x21a614[_0x494976],_0x3bb8a9[_0x494976],_0x35e383[_0x494976])));_0x55ad56['x']+=_0x58de63*_0x215d50,_0x55ad56['y']+=_0x11229b*_0x215d50,_0x55ad56['z']+=_0x211a83*_0x215d50,_0x4ff62b+=_0x215d50;}_0x55ad56['mulScalar']((-0x1*-0x1a70+0xb05+-0x2574)/_0x4ff62b);}['renderWire'+'frameBound'+'s'](_0x115841,_0x29b9f5){const _0x486e64=new D(),_0x33411b=new le(),_0x163e6b=new D(),_0x59c32a=new D(),_0x35f87a=new D(),_0x174c5f=this['createIter'](_0x486e64,_0x33411b,_0x163e6b);for(let _0x2cf24b=0x1ad5+0x1*0x313+-0x1de8;_0x2cf24b<this['numSplats'];++_0x2cf24b)_0x174c5f['read'](_0x2cf24b),_g(za,_0x486e64,_0x33411b),za['mul2'](_0x29b9f5,za),_0x59c32a['set'](_0x163e6b['x']*-(-0x55*0x19+-0x1624+0x617*0x5),_0x163e6b['y']*-(-0xfbc+-0x115c+0x211a),_0x163e6b['z']*-(0x147+-0x6*0x462+0x1907)),_0x35f87a['set'](_0x163e6b['x']*(0xac4*-0x3+-0x1d8*-0x3+0x95*0x2e),_0x163e6b['y']*(-0x1*-0x1c72+-0x11*-0x213+-0x3fb3*0x1),_0x163e6b['z']*(-0x1b9d+-0x3*0xa9f+0x3b7c)),_0x115841['immediate']['drawWireAl'+'ignedBox'](_0x59c32a,_0x35f87a,KA,!(0x107a+0x2707+0xd*-0x445),_0x115841['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0x15*0x7+0x2665*0x1+0xc9b*-0x3);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x26e157=-0x13dc+0x18d0+-0x4f4;_0x26e157<0x545+-0x1a0c+0x14f4;++_0x26e157)if(!this['getProp']('f_rest_'+_0x26e157))return _0x26e157;return-0x1b*-0xe6+0xd*-0x21+-0x1668;})())]??0x1edf*-0x1+0x1a96+-0x1*-0x449;}['calcMorton'+'Order'](){const _0x28dcf7=_0x563085=>{let _0x1ef12d=_0x563085[-0x25*-0x12+0x173+-0x3d*0x11],_0x2db666=_0x563085[-0x80e*0x1+-0xd6b+-0x17*-0xef];for(let _0xb8378c=-0x15c*0xc+-0xb82+0x11*0x1a3;_0xb8378c<_0x563085['length'];_0xb8378c++)_0x563085[_0xb8378c]<_0x1ef12d&&(_0x1ef12d=_0x563085[_0xb8378c]),_0x563085[_0xb8378c]>_0x2db666&&(_0x2db666=_0x563085[_0xb8378c]);return{'min':_0x1ef12d,'max':_0x2db666};},_0x2dec16=(_0x474096,_0x251706,_0x35fcf7)=>{const _0x29c2e0=_0x2f7488=>(_0x2f7488&=-0x2691+-0x4*0x5a5+0x4124,_0x2f7488=(_0x2f7488^_0x2f7488<<0x2675+-0x1*0x759+-0x4*0x7c3)&-0x381b3e0f+-0x5342fbd*0x41+0x2895b5e0b,_0x2f7488=(_0x2f7488^_0x2f7488<<0x1e45+0x53*-0x47+0x15*-0x58)&-0xa75*-0x2e85+-0x6d6a1d*-0xd+-0x473e833,_0x2f7488=(_0x2f7488^_0x2f7488<<-0xe*0x25d+-0x2026+0x414*0x10)&0x4ea147c+0x1*0x5b7bf5e+-0x795a317,_0x2f7488=(_0x2f7488^_0x2f7488<<-0x50*-0x2a+0x154b+0x17f*-0x17)&-0x1*-0xcf6edba+0x76fc336+0x22d*-0x52ca3,_0x2f7488);return(_0x29c2e0(_0x35fcf7)<<-0xad3*-0x1+-0x6f7*-0x5+0x7f*-0x5c)+(_0x29c2e0(_0x251706)<<-0x2425+-0x8b*0x1b+0x32cf*0x1)+_0x29c2e0(_0x474096);},_0x46545d=this['getProp']('x'),_0x348274=this['getProp']('y'),_0xfd42b2=this['getProp']('z'),{min:_0x133139,max:_0x42d910}=_0x28dcf7(_0x46545d),{min:_0x481368,max:_0x28e188}=_0x28dcf7(_0x348274),{min:_0x5bc6b0,max:_0x5de226}=_0x28dcf7(_0xfd42b2),_0xa551ad=_0x133139===_0x42d910?0x1e08+-0xfd6+-0xe32*0x1:(-0x21a3+0x464+0x213f)/(_0x42d910-_0x133139),_0x370c78=_0x481368===_0x28e188?0x25a0+0x5*-0x36a+0x36d*-0x6:(-0x1517+0x305*0x5+0x9fe*0x1)/(_0x28e188-_0x481368),_0x3e1b73=_0x5bc6b0===_0x5de226?-0x1d90+0xeb0+0xee0:(-0x1*0x107b+0x698+0xde3)/(_0x5de226-_0x5bc6b0),_0x54c79e=new Map();for(let _0x4aa0e4=0x643*0x1+-0x219b*0x1+-0x5*-0x578;_0x4aa0e4<this['numSplats'];_0x4aa0e4++){const _0x463bf9=Math['min'](-0x65e+0x1cc+0x891,Math['floor']((_0x46545d[_0x4aa0e4]-_0x133139)*_0xa551ad)),_0x284f24=Math['min'](0xdff+-0x8b7+-0x149,Math['floor']((_0x348274[_0x4aa0e4]-_0x481368)*_0x370c78)),_0x43d820=Math['min'](0x26b0+-0xb*0x1bf+0xf7c*-0x1,Math['floor']((_0xfd42b2[_0x4aa0e4]-_0x5bc6b0)*_0x3e1b73)),_0x3f679c=_0x2dec16(_0x463bf9,_0x284f24,_0x43d820),_0x53223c=_0x54c79e['get'](_0x3f679c);_0x53223c?_0x53223c['push'](_0x4aa0e4):_0x54c79e['set'](_0x3f679c,[_0x4aa0e4]);}const _0x391cdd=Array['from'](_0x54c79e['keys']())['sort']((_0x1d4357,_0x44c4f1)=>_0x1d4357-_0x44c4f1),_0x48234b=new Uint32Array(this['numSplats']);let _0x4b1f61=0x1*-0x967+-0x1134+0x1a9b;for(let _0xcb56e=-0x140+0x1a7f+-0x193f;_0xcb56e<_0x391cdd['length'];++_0xcb56e){const _0x37d3=_0x54c79e['get'](_0x391cdd[_0xcb56e]);for(let _0x36d524=0xd09*0x1+-0xec6+0x59*0x5;_0x36d524<_0x37d3['length'];++_0x36d524)_0x48234b[_0x4b1f61++]=_0x37d3[_0x36d524];}return _0x48234b;}['reorder'](_0x54213c){const _0x41f7e0=new Map(),_0x144085=_0x2b59d1=>{if(_0x41f7e0['has'](_0x2b59d1)){const _0x59cc2e=_0x41f7e0['get'](_0x2b59d1);return _0x41f7e0['delete'](_0x2b59d1),_0x59cc2e;}return new ArrayBuffer(_0x2b59d1);},_0x186509=_0x886d9d=>{_0x41f7e0['set'](_0x886d9d['byteLength'],_0x886d9d);},_0x198337=_0x1ba42f=>{const _0x5eff11=new _0x1ba42f['constructo'+'r'](_0x144085(_0x1ba42f['byteLength']));for(let _0xed9454=0x164*-0xd+-0x1*0x281+0x1495;_0xed9454<_0x54213c['length'];_0xed9454++)_0x5eff11[_0xed9454]=_0x1ba42f[_0x54213c[_0xed9454]];return _0x186509(_0x1ba42f['buffer']),_0x5eff11;};this['elements']['forEach'](_0x484f47=>{_0x484f47['properties']['forEach'](_0x17b3e6=>{_0x17b3e6['storage']&&(_0x17b3e6['storage']=_0x198337(_0x17b3e6['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x377929=new Float32Array(-0x1f7f+-0x3d*-0x9e+0x2*-0x313);new Int32Array(_0x377929['buffer']);let _0x3aded9=-0xa61+-0x29*-0xb1+-0x11f8,_0x3d0f08={};self['onmessage']=async _0x8167db=>{const {data:_0x51443f}=_0x8167db;switch(_0x51443f['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x47b7f2(_0x51443f['properties'],_0x51443f['timeIndex'],_0x51443f['timeOption']);break;case'releaseSeq'+'Data':_0x4f8dcd(_0x51443f['index']);break;case'releaseAll'+'SeqData':_0x2ecb49();break;case'destroyWor'+'ker':_0x391ffd();break;}};const _0x20a003=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x41b87f=-0x2281+0xc3+0x21be;_0x41b87f<-0x1*0x4d1+-0x2634+0x2b32;++_0x41b87f)if(!_0x3d0f08['f_rest_'+_0x41b87f])return _0x41b87f;return-0xccd+0x16e5*0x1+-0x9eb;})())]??0x3ca*0xa+0x23*-0xb1+-0x2bd*0x5),_0x47b7f2=(_0x5a9fcc,_0x3ed566,_0x329075)=>{var _0x43d04f,_0x17aea5;_0x3aded9+=(((_0x43d04f=_0x5a9fcc['position'])==null?void(-0x341*-0x1+-0x25db+0x2b*0xce):_0x43d04f['length'])??-0x32+0x1dfc+-0x1dca)/(0xb*0x27b+0xc*0x47+-0x1e9a),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x3aded9,(((_0x17aea5=_0x5a9fcc['position'])==null?void(-0x5*-0x5b1+0x3*-0x827+-0x8*0x80):_0x17aea5['length'])??-0x56*-0x43+0x1d25+-0x33a7)/(0xd0f*0x2+0x19e8+-0x3403));const _0x27ba16=Object['keys'](_0x5a9fcc);for(let _0x4ce6ff=0x19f1+0x13f4+-0x2de5;_0x4ce6ff<_0x27ba16['length'];_0x4ce6ff++){const _0x286e4e=_0x27ba16[_0x4ce6ff],_0x5abf13=_0x5a9fcc[_0x286e4e],_0x402c47=_0x3d0f08[_0x286e4e]??new Float32Array(-0xb1*0x5+0x1a*-0xb6+0x89*0x29);if(_0x5abf13){let _0x4da6a4=null;switch(_0x286e4e){case'position':_0x4da6a4=new Float32Array(_0x3aded9*(0x2453*0x1+-0x1fb1+0x49f*-0x1));break;case'color_opac'+'ity':_0x4da6a4=new Uint16Array(_0x3aded9*(0x9*-0x347+-0x11*0xd5+0x2ba8));break;case'scale':_0x4da6a4=new Uint16Array(_0x3aded9*(0xd*-0xe2+0x1889+-0xd0c));break;case'motion':_0x4da6a4=new Float32Array(_0x3aded9*(-0x8c7+-0xe*-0x27a+-0xcf1*0x2));break;case'rotation':_0x4da6a4=new Float32Array(_0x3aded9*(0xae6+0x1f2a+-0x869*0x5));break;default:_0x4da6a4=new Float32Array(_0x3aded9);break;}_0x4da6a4['set'](_0x402c47,-0x1*0x5a1+0x20b*0x11+-0x1d1a),_0x4da6a4['set'](_0x5abf13,_0x402c47['length']),_0x3d0f08[_0x286e4e]=_0x4da6a4;}}const _0x5f4555={};Object['keys'](_0x3d0f08)['forEach'](_0x6725f9=>{_0x6725f9==='scale'||_0x6725f9==='color_opac'+'ity'?_0x5f4555[_0x6725f9]=new Uint16Array(_0x3d0f08[_0x6725f9]['buffer']['slice']()):_0x5f4555[_0x6725f9]=new Float32Array(_0x3d0f08[_0x6725f9]['buffer']['slice']());});const _0x2ee8a0=Object['keys'](_0x5f4555)['map'](_0xe40337=>_0x5f4555[_0xe40337]['buffer']),_0x1cbacf=_0x1d4dae(),_0x36389b=Object['keys'](_0x1cbacf)['map'](_0x28a710=>_0x1cbacf[_0x28a710]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x5f4555,'transformData':_0x1cbacf},_0x2ee8a0['concat'](_0x36389b));},_0x1d4dae=()=>{const _0x8b022e=_0x3d0f08['position']['length']/(0x1a3+-0x1*0x92b+0x78b),_0x5d26e4=_0x3d0f08['position'],_0x5f3da4=_0x3d0f08['scale'],_0x14a586=_0x3d0f08['rotation'],_0x233ae6=_0x3d0f08['motion'],_0x46b289=_0x3d0f08['t'],_0x199996=_0x3d0f08['t_scale'],_0x12a546=_0x3d0f08['time_index'],_0x58c6b3=_0x3d0f08['color_opac'+'ity'],_0x375a16=(_0x46b289==null?void(0x2667*0x1+-0x1809+0x72f*-0x2):_0x46b289['length'])>-0x1*0x593+-0x15c6*-0x1+-0x1033;let _0x218813=null,_0x4429ee=null,_0x537b65=null,_0x269838=null;_0x375a16&&(_0x4429ee=new Float32Array(_0x8b022e*(0xbf*-0x16+-0x2f*0xb5+-0x31a8*-0x1)),_0x269838=new Float32Array(_0x8b022e),_0x218813=new Float32Array(_0x233ae6['buffer']['slice']()),_0x537b65=new Float32Array(_0x233ae6['buffer']['slice']()));const _0x1cfa50=new Float32Array(_0x5d26e4['buffer']['slice']()),_0x30bd98=new Float32Array(_0x5d26e4['buffer']['slice']()),_0x1b4c00=new Uint16Array(_0x58c6b3['buffer']['slice']()),_0x206920=new Uint16Array(_0x5f3da4['buffer']['slice']()),_0x2f29bb=new Float32Array(_0x14a586['buffer']['slice']());for(let _0x2e01bf=0x1212+-0x9c1+-0x1*0x851;_0x2e01bf<_0x8b022e;++_0x2e01bf)_0x375a16&&_0x4429ee&&_0x269838&&(_0x269838[_0x2e01bf]=_0x199996?Math['exp'](_0x199996[_0x2e01bf]):0x3*0x493+0x2*-0xf1d+-0x19*-0xa9,_0x4429ee[_0x2e01bf*(-0x1bd1*0x1+-0xdb9*0x2+0x3746)+(-0x2081+0x106d+0xc*0x157)]=_0x46b289?_0x46b289[_0x2e01bf]:0x291*0xd+-0x8*0x67+0x1e25*-0x1,_0x4429ee[_0x2e01bf*(0x4de+0xad9*-0x1+0x5fe)+(0x25a3+-0x123e+-0x1364)]=_0x269838[_0x2e01bf]);const _0x57e23d=_0x2cf702();let _0x5c3ea4={'dataColor':_0x1b4c00,'dataCenters':_0x30bd98,'dataPosition':_0x1cfa50,'dataScale':_0x206920,'dataRotation':_0x2f29bb,..._0x57e23d};return _0x375a16&&(_0x5c3ea4={..._0x5c3ea4,'dataMotion':_0x218813,'dataTime':_0x4429ee,'motion':_0x537b65,'tScaleArray':_0x269838,'muT':new Float32Array(_0x46b289),'timeIndex':new Float32Array(_0x12a546)}),_0x5c3ea4;},_0x3d5758=_0x20b0a6=>{const _0x2ec1e1=[];for(let _0x4c096d=-0x443*0x4+0x1e88+-0xd7c;_0x4c096d<_0x20b0a6;++_0x4c096d)_0x2ec1e1['push'](_0x3d0f08['f_rest_'+_0x4c096d]);return _0x2ec1e1;},_0x2cf702=()=>{const _0x1ba895=_0x20a003();if(_0x1ba895<=0x1*-0x19cf+0x3*0xb83+-0x8ba)return{};const _0x4716a6=_0x3d0f08['x']['length'],_0x400624=new Uint32Array(_0x4716a6*(0x2fd+-0x15d*-0x13+-0x1ce0)),_0x59ad4c=new Uint32Array(_0x4716a6*(0xa00+0x1*-0x143d+0xa41)),_0x5a3359=new Uint32Array(_0x4716a6*(-0x1be4+0x81*-0x6+0x1eee)),_0x536c28=new Uint32Array(_0x4716a6*(-0x1*0x1bc1+-0x1702+0x32c7)),_0x49e819={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1ba895],_0x17e9e7=_0x3d5758(_0x49e819*(0x11*0x11b+-0x59*0xb+0x223*-0x7)),_0x112e8e=0xf42+-0x2597+0x1e54,_0x489cea=0x1ef1*-0x1+-0x1*0x1bd2+0x3ec2,_0x4ae960=new Float32Array(-0x1*0x11d1+0x29*0xeb+-0x13*0x10b),_0x192729=new Uint32Array(_0x4ae960['buffer']),_0xd1ef62=new Array(_0x49e819*(0x91d+0x3*0x75+0x17f*-0x7))['fill'](-0x1e77+-0x1*0x2514+0x438b);for(let _0x398ec4=-0x48e+0x1*-0x10e7+-0x727*-0x3;_0x398ec4<_0x4716a6;++_0x398ec4){for(let _0x343c15=0xb0a+0xa*0x3e6+-0x3206;_0x343c15<_0x49e819;++_0x343c15)_0xd1ef62[_0x343c15*(0xde5*0x1+0xc30+-0x1*0x1a12)]=_0x17e9e7[_0x343c15][_0x398ec4],_0xd1ef62[_0x343c15*(-0x147*-0x9+-0xc0+-0xabc)+(-0x3*-0x563+-0x508+-0xb20)]=_0x17e9e7[_0x343c15+_0x49e819][_0x398ec4],_0xd1ef62[_0x343c15*(0xd6c*-0x1+0x1de1+-0x1072)+(-0x1139+-0x1*0x1787+0x28c2)]=_0x17e9e7[_0x343c15+_0x49e819*(-0xb80+0x1caf+0x112d*-0x1)][_0x398ec4];let _0x13135f=_0xd1ef62[-0x5a*0x15+-0x1*-0x1359+-0x3fd*0x3];for(let _0x52e929=-0x1*0x5b+0x1326+-0x1a*0xb9;_0x52e929<_0x49e819*(0x562*-0x4+0xad4+0xab7);++_0x52e929)_0x13135f=Math['max'](_0x13135f,Math['abs'](_0xd1ef62[_0x52e929]));if(_0x13135f!==0x1f0e+-0x1a2f+-0x4df){for(let _0x2eaf84=-0x110a+-0x1213*-0x1+-0x109;_0x2eaf84<_0x49e819;++_0x2eaf84)_0xd1ef62[_0x2eaf84*(-0x23d7+0x4*-0x3da+0x3342)+(0x65b*-0x5+0x23c4+0x3fd*-0x1)]=Math['max'](0x11*0xe9+-0x165e+0x6e5,Math['min'](_0x112e8e,Math['floor']((_0xd1ef62[_0x2eaf84*(0x17*-0xc7+0x21*0x116+-0x1*0x11f2)+(-0x1*-0x2c6+-0x19c6+-0x8*-0x2e0)]/_0x13135f*(-0x1d*0xb3+0x10f*-0xf+0x2428+0.5)+(-0x87c*0x1+-0x15f*-0x1b+0x5*-0x5b5+0.5))*_0x112e8e+(-0x105f+0x1afe+-0x1*0xa9f+0.5)))),_0xd1ef62[_0x2eaf84*(-0x1180+-0x7f3*0x2+0x2169)+(0x1*0x945+-0x3ef+-0x555)]=Math['max'](0x8*0x76+0x18b7+-0xb*0x295,Math['min'](_0x489cea,Math['floor']((_0xd1ef62[_0x2eaf84*(0x124f*-0x2+-0x1f9*-0x11+0x318)+(0x66a+-0xe71+0x808)]/_0x13135f*(-0x1*0x14f6+-0x33c+0x1832+0.5)+(-0x1*-0x20e3+-0x2*0xed+-0x1f09*0x1+0.5))*_0x489cea+(-0x15*-0x12a+-0x3*-0xb15+0x223*-0x1b+0.5)))),_0xd1ef62[_0x2eaf84*(-0x3*-0x4cb+-0xeb5+-0x57*-0x1)+(0x7*-0xd2+0x48b+0x135)]=Math['max'](-0x1*0xa57+0x1ed8+0x1481*-0x1,Math['min'](_0x112e8e,Math['floor']((_0xd1ef62[_0x2eaf84*(0x17e5+-0x187a+0x4c*0x2)+(-0x1dc0+-0x170f+0x34d1)]/_0x13135f*(0x4a6+0x2f*-0x17+-0x1*0x6d+0.5)+(0x7c1*-0x3+0x9*-0x24b+0x2be6+0.5))*_0x112e8e+(-0x1*0x189a+-0xbdf+0x2479*0x1+0.5))));_0x4ae960[-0xc6c+0x2af+0x33f*0x3]=_0x13135f,_0x400624[_0x398ec4*(0x2141+0x351*-0x4+-0x1*0x13f9)+(-0x13*-0x8f+0x251*-0xa+0xc8d*0x1)]=_0x192729[0x1*0x1119+-0x1*-0x107d+-0x2196],_0x400624[_0x398ec4*(0x1683+-0x263a+0xfbb)+(0x1*-0x56+-0x26fb*-0x1+0x9a9*-0x4)]=_0xd1ef62[-0x2420+0x410+-0x804*-0x4]<<0xa97*-0x1+-0x1b5e+0x9*0x43a|_0xd1ef62[-0x21d*0x3+0x24a4+-0x1e4c]<<0x6e9+0x1f7*0x13+0x16d*-0x1f|_0xd1ef62[-0x505+-0x15b3+-0x1*-0x1aba],_0x400624[_0x398ec4*(-0x4b0+0x24d4+-0x2020)+(-0xbc4+-0x10d*-0xd+-0x1e3)]=_0xd1ef62[-0x1f5*-0xc+0xc91*-0x3+0x25f*0x6]<<-0x152e*-0x1+-0x121d+-0x2fc|_0xd1ef62[0x932*-0x1+0x6df+0x257]<<-0x782+0x1916+-0x1189|_0xd1ef62[0x23*0x37+0x9a+-0x81a],_0x400624[_0x398ec4*(0x2196+0x300+-0x2492*0x1)+(-0xd9*0x24+-0x1383*-0x1+0xb04)]=_0xd1ef62[0x1dcc*-0x1+-0x1397+0xd*0x3cd]<<0x20e+0xd49+-0xf42|_0xd1ef62[0x1e12*-0x1+0x7*0x31b+-0x1*-0x85c]<<0x964+-0x185f+0xf06|_0xd1ef62[0x1194*0x2+0xbc8*-0x2+0x14*-0x94],_0x1ba895>-0x1*0xb9+-0x1d5e+0x6b*0x48&&(_0x59ad4c[_0x398ec4*(0x25a*0x5+-0x10b*-0x9+-0x1521)+(0x2182+-0x1da9*-0x1+0x67*-0x9d)]=_0xd1ef62[0x93a+0x2327*0x1+-0x84*0x56]<<0x17a1+0x160b+-0x2d97|_0xd1ef62[-0x29*-0xd3+0x991*0x2+0x11a1*-0x3]<<-0x1d*-0x107+0x6a3+0x45*-0x87|_0xd1ef62[-0x2106+-0x268*-0xe+-0x1*0x9f],_0x59ad4c[_0x398ec4*(0x1*0x1c9b+0x171d+-0x33b4)+(-0x5d*0x2+0x1*0x673+-0x5b8)]=_0xd1ef62[-0xe7f*0x2+-0xdec+0x75*0x5e]<<-0x2425+0x19c*-0x6+-0x16f1*-0x2|_0xd1ef62[0x1*-0x7e1+-0x23e+0xa2c]<<0x72c+-0xc*0x239+0x138b|_0xd1ef62[-0x8b*0x47+-0x1*-0x19b1+0xcea],_0x59ad4c[_0x398ec4*(-0x12d2+0x1b4*-0x14+0x2*0x1a73)+(-0x1292+-0xc62+0x3*0xa52)]=_0xd1ef62[0x1*-0x124a+-0x22*0x13+-0x6f5*-0x3]<<-0x13d*0xf+0x814+0xa94|_0xd1ef62[-0x22f*0x7+-0x82*-0x13+0x1*0x5b3]<<0x1*-0x25aa+-0x1f1b+0x44d0|_0xd1ef62[-0x65b*-0x6+-0x7*-0x38e+-0x3ef3],_0x59ad4c[_0x398ec4*(-0x4*-0x4f4+0x4b3*0x1+-0x187f)+(-0x1*-0x1f8f+0x1e23+-0x3daf)]=_0xd1ef62[-0xe40+-0x1520+-0x1a*-0x15d]<<0xec8+0x23a+-0x10ed|_0xd1ef62[0x64+-0xb5*0xd+-0x1*-0x8e0]<<0x22cb+0x6a*-0x4+-0x2118|_0xd1ef62[-0xe8*-0x1+-0x1d2e+-0x2*-0xe2d],_0x1ba895>0x1*-0x726+-0xaad+0x11d5*0x1?(_0x5a3359[_0x398ec4*(-0xae7+-0x2042+-0x1*-0x2b2d)+(-0x1f52+-0x1c30+-0x3b82*-0x1)]=_0xd1ef62[-0x19*-0xce+0x2*-0x2c+-0x13b1]<<0x16*0x175+0x1*-0x105c+-0xf9d|_0xd1ef62[-0x40b*0x1+-0x321*-0x9+-0x1808]<<-0x3d*0x93+0x1d*0xb+0x7*0x4d5|_0xd1ef62[0x14a7*0x1+-0x1*-0x9b1+-0x1e41],_0x5a3359[_0x398ec4*(0xb7*0x3+0x1c07+0x304*-0xa)+(0x1*-0x3ad+-0x2082+0x2430)]=_0xd1ef62[0x3*-0x22d+-0x1007+0x16a6]<<-0xa21+-0xa1c*-0x3+-0x141e*0x1|_0xd1ef62[0x2277+-0x84+0x26b*-0xe]<<-0x1358+0x6cb+0xc98|_0xd1ef62[0x72f+0x2566+-0x2c7b*0x1],_0x5a3359[_0x398ec4*(0x29d*0x5+-0x2512+0x22f*0xb)+(0x141c+-0x723+-0xcf7)]=_0xd1ef62[-0x85+0x264c+-0x25ac]<<-0x3b*0x65+-0x31e+0xd3d*0x2|_0xd1ef62[0x25b3+-0x2e*0x9e+-0x933]<<0x936*0x4+0x1181+-0x364e|_0xd1ef62[-0x1*-0xdc1+0x2071+-0x2e15],_0x5a3359[_0x398ec4*(-0x210f+-0xcc0+-0x1*-0x2dd3)+(0x22dd+0xb55+-0x2e2f)]=_0xd1ef62[-0xe04+0x4*-0x69+0xfc6]<<-0xcec+0x1b04+-0xe03|_0xd1ef62[-0x184f+0xa6e+0x70*0x20]<<0x23a5+-0x4a2*-0x1+-0x4*0xa0f|_0xd1ef62[-0x653+-0x20dd+0x2750],_0x536c28[_0x398ec4*(-0x29a*-0xc+0x2*0x10a5+0xfe*-0x41)+(-0x2660+-0x10bb*0x2+0x47d6)]=_0xd1ef62[-0x18e5*0x1+-0x1*0x12be+0x2bc4]<<-0xc*0x1b+-0x1*0x1f7+0xd4*0x4|_0xd1ef62[-0x1607*0x1+0xc95+-0x2*-0x4ca]<<0x1*0x7a5+0x1b07+-0x22a1|_0xd1ef62[0x1*0x1065+0x1539+-0x257b],_0x536c28[_0x398ec4*(-0x1c7e+0x473+0x180f)+(-0x19d2+0x409*-0x1+0x1ddc)]=_0xd1ef62[0x1224+-0x41*0x62+0x6e2]<<-0x1abf+-0x1c57*0x1+0x372b|_0xd1ef62[-0x1fea+-0x1c3f+0x1f2*0x1f]<<0x58*0x46+0x1c0c+-0x3*0x115b|_0xd1ef62[-0x7*-0x13f+0x397*0xa+-0x2c79],_0x536c28[_0x398ec4*(0x16f*-0x2+0x1e6c+0xdc5*-0x2)+(0x1359+-0x253f*0x1+0x23d*0x8)]=_0xd1ef62[0x343+-0x11b3*0x1+0xe97]<<0x2b*0xdb+0x1c1b+-0x40cf*0x1|_0xd1ef62[-0xe72+0x1f6d+-0x1*0x10d3]<<0x11*-0xc1+0x1654*0x1+-0x978|_0xd1ef62[0x296*0x7+-0xae*-0x4+-0x14a9],_0x536c28[_0x398ec4*(-0x17b0+0x98d+0x1*0xe27)+(0x1483+-0x2*0xa67+0x4e*0x1)]=_0xd1ef62[0x1f9f+-0x13*0x15d+-0x12*0x4f]<<0x1cd*0x13+0x263b*-0x1+0x419|_0xd1ef62[0x5*0x145+-0x1b*0x117+0x173f]<<0x1ff0+-0x1*0x6a+0x1*-0x1f7b|_0xd1ef62[-0x5c*0x38+0xb*0x26+0x955*0x2]):_0x5a3359[_0x398ec4]=_0xd1ef62[-0xa7c+-0x1e8d+0x291e]<<-0x7*-0x3b9+-0x248+-0x17b2|_0xd1ef62[-0x17e*0x10+0x110f+0x5d*0x13]<<0x4c5+0x1af8+-0x1*0x1fb2|_0xd1ef62[0x466*-0x7+-0x1bb+0x209c*0x1]);}}return{'sh1to3Data':_0x400624,'sh4to7Data':_0x59ad4c,'sh8to11Data':_0x5a3359,'sh12to15Data':_0x536c28};},_0x4f8dcd=_0x2aae1d=>{if(!_0x3d0f08['time_index'])return;const _0x478015=_0x3d0f08['time_index']['findIndex'](_0x354741=>_0x354741===_0x2aae1d);let _0x401b02=_0x3d0f08['time_index']['findIndex']((_0x1bac1c,_0x500d99)=>_0x1bac1c!==_0x2aae1d&&_0x500d99>_0x478015);if(_0x401b02===-(0x94f*-0x1+0x8*0x89+0x508)&&_0x478015===-(-0x12bc+0x1f07+-0xc4a))return;_0x401b02===-(0x7b5*0x4+0x1431+-0x4*0xcc1)&&_0x478015!==-(0x801+0x25c8+0xb72*-0x4)&&(_0x401b02=_0x3d0f08['time_index']['length']),_0x3aded9-=_0x401b02-_0x478015,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x3aded9,_0x401b02-_0x478015);const _0x37bfff=Object['keys'](_0x3d0f08);for(let _0xdbd665=-0x269*0x5+-0x789+0x1396;_0xdbd665<_0x37bfff['length'];_0xdbd665++){const _0x3c6bb2=_0x37bfff[_0xdbd665],_0x2bdf8f=_0x3d0f08[_0x3c6bb2];if(_0x2bdf8f){let _0x3aed3a=0x673+0x932*-0x2+0xbf2;switch(_0x3c6bb2){case'position':_0x3aed3a=-0x6d*0x4+0x1a45+-0x188e;break;case'color_opac'+'ity':_0x3aed3a=-0x22e2+0x1*-0xaa9+-0x2d8f*-0x1;break;case'scale':_0x3aed3a=0x12a3*-0x1+0x15f8+-0x352;break;case'motion':_0x3aed3a=0x1fda+-0x1e61+-0x176;break;case'rotation':_0x3aed3a=-0xaf9*-0x1+0x3*0x486+0xa*-0x274;break;default:_0x3aed3a=0xca6+0x12f6+-0x1f9b;break;}const _0x5679ef=new Float32Array(_0x3aded9*_0x3aed3a);_0x478015>-0x3*-0xc1+-0x31*0x5b+0xf28?(_0x5679ef['set'](_0x2bdf8f['subarray'](-0x59*0x3d+0x86b*0x1+0x1*0xcca,_0x478015*_0x3aed3a),0xf*0x67+0x9b5*-0x1+-0x2f*-0x14),_0x5679ef['set'](_0x2bdf8f['subarray'](_0x401b02*_0x3aed3a),_0x478015*_0x3aed3a)):_0x5679ef['set'](_0x2bdf8f['subarray'](_0x401b02*_0x3aed3a),-0x4fd+0x24da*-0x1+0x29d7),_0x3d0f08[_0x3c6bb2]=_0x5679ef;}}},_0x2ecb49=()=>{const _0x16855b=Object['keys'](_0x3d0f08);for(let _0x3a027f=-0x175*0x13+0xa0a+0x1*0x11a5;_0x3a027f<_0x16855b['length'];_0x3a027f++){const _0x1c8650=_0x16855b[_0x3a027f];_0x3d0f08[_0x1c8650]&&(_0x3d0f08[_0x1c8650]=[]);}},_0x391ffd=()=>{_0x3d0f08={},_0x3aded9=0x12bc+0xbd2*-0x3+0x10ba*0x1;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x3aaaea,_0x1e27c8,_0x10f646,_0x14623a=!(0x5*0x1d7+0x235c+-0x2c8e)){var _0x5f0ead,_0x267be5;const _0xddf72={};return _0x3aaaea['elements'][-0x1925*0x1+0x9*-0x1e7+-0x5*-0x874]['properties']['forEach'](_0x2f89ad=>{_0xddf72[_0x2f89ad['name']]=_0x2f89ad['storage'];}),_0x14623a?(_0x5f0ead=this['worker'])==null||_0x5f0ead['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0xddf72,'timeIndex':_0x1e27c8,'timeOption':_0x10f646},_0x3aaaea['elements'][0x787*-0x1+0x1633*0x1+-0xeac]['properties']['map'](_0x514d98=>_0x514d98['storage']['buffer'])):(_0x267be5=this['worker'])==null||_0x267be5['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0xddf72,'timeIndex':_0x1e27c8,'timeOption':_0x10f646}),new Promise(_0x374b52=>{this['worker']['onmessage']=_0x33a856=>{if(!this['worker'])return;const {data:_0x3ad084}=_0x33a856;_0x3ad084['type']==='newAppendD'+'ata'&&_0x374b52(_0x3ad084);};});}async['releaseSeq'+'Data'](_0x42ea24){var _0x2d2b66;(_0x2d2b66=this['worker'])==null||_0x2d2b66['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x42ea24});}async['releaseAll'+'SeqData'](){var _0x511577;(_0x511577=this['worker'])==null||_0x511577['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x2598c6;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2598c6=this['worker'])==null||_0x2598c6['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0xaa4+0x61*-0x21+-0xef*-0x2,-0x1951*-0x1+-0x1*0x1241+0x8b*-0xd,0x190*-0x14+-0x32e+0x226e,-0xb88*0x2+-0x1*-0x20fb+-0x9eb*0x1+0.4),Sg=-0x55282+0x7bcb+-0x1*-0x7e3f7;class tC{constructor(_0x3b72b0,_0x34745e,_0x1283b,_0x44779c,_0x5f5165,_0x49961a){const _0x19a66d=_0x3b72b0['getProp']('position'),_0x5d0c57=_0x3b72b0['getProp']('color_opac'+'ity'),_0x14651c=_0x3b72b0['getProp']('scale'),_0x5c019b=_0x3b72b0['getProp']('motion'),_0x37d6ba=_0x3b72b0['getProp']('rotation');this['read']=_0x187829=>{_0x34745e&&_0x34745e['set'](_0x19a66d[_0x187829*(0x13ea+0xaf*0x26+-0x2de1)+(-0xe*-0x26b+0xd*-0x16f+-0xf37)],_0x19a66d[_0x187829*(-0x611*-0x1+0x1fbb+0x25c9*-0x1)+(0x5db*0x1+-0x186a+0x1290)],_0x19a66d[_0x187829*(0x131a+0xa*0x306+-0x3153)+(-0x2408*0x1+-0x34*-0xc+0x219a)]),_0x1283b&&_0x1283b['set'](_0x37d6ba[_0x187829*(-0x19c3+-0x1*0x5e9+0x1faf)+(0xbc*-0x10+0x1dc0+0x3*-0x600)],_0x37d6ba[_0x187829*(0x2*-0x127a+0x224b+0x1*0x2ac)+(-0x2*-0x132b+-0x25a9+-0xac)],_0x37d6ba[_0x187829*(-0x15db+-0x6d3*-0x3+0x165)+(-0x26cd+0x9*-0x12+0x2771)]),_0x44779c&&_0x44779c['set'](_0x14651c[_0x187829*(0x121c+0x1c47+0x38*-0xd4)+(-0x404+-0x5*0x277+0x1057)],_0x14651c[_0x187829*(-0x95*-0x17+0x9a+-0xdfa)+(-0x132a+0x3*-0x292+-0x3d7*-0x7)],_0x14651c[_0x187829*(0x23b2+0x4b7*0x7+-0x44b0)+(0x8*-0x4b5+0xb9*-0x1a+0x1c3a*0x2)]),_0x49961a&&_0x5c019b&&_0x49961a['set'](_0x5c019b[_0x187829*(0x247d*0x1+0x224f*0x1+-0x1*0x46c9)+(0x1e10+-0x3*-0x251+-0x2503)],_0x5c019b[_0x187829*(0x2*-0xca+-0x13a*0x2+0x3*0x159)+(0x2305+0x14a2+-0x37a6)],_0x5c019b[_0x187829*(-0x3*-0x7bd+-0x7bf+-0x3*0x527)+(-0x2*0xfd3+-0xa6d+0x2a15)]),_0x5f5165&&_0x5f5165['set'](_0x5d0c57[_0x187829*(0x2183+0x2538+0x1*-0x46b7)+(0x20bc+-0x172b+-0x991)],_0x5d0c57[_0x187829*(0x1*0xd5a+-0x1*0x22a5+-0x154f*-0x1)+(0x11b7+-0x470+-0xd46)],_0x5d0c57[_0x187829*(-0x1*-0x178f+0x1d7c+-0x5*0xa9b)+(0x1e48+-0x200d+0x1c7)],_0x5d0c57[_0x187829*(0x2383*0x1+-0x1d8*-0x5+0x2cb7*-0x1)+(0x859+0x2b*-0x27+0x1*-0x1c9)]);};}}const sC=(_0x1dbb18,_0x59b69a,_0x438a51)=>{gg['set'](_0x438a51['x'],_0x438a51['y'],_0x438a51['z'],_0x438a51['w'])['normalize'](),_0x1dbb18['setTRS'](_0x59b69a,gg,D['ONE']);};class iC{constructor(_0x5a521c,_0x55e44a=[],_0x86e726=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x7e4+0x3*0x9d9+-0xf1*0x17),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x57f91b;(_0x57f91b=this['dataWorker'])==null||_0x57f91b['destroy'](),this['dataWorker']=null;});var _0x49db55,_0x1accc7,_0x22cfbd;this['elements']=_0x5a521c,this['properties']=_0x86e726,this['numSplats']=((_0x49db55=this['getElement']('vertex'))==null?void(-0x4ac*-0x8+0x3c3+-0x2923):_0x49db55['count'])??-0x25b5+-0x12bc+0x3871,this['comments']=_0x55e44a,this['is4D']=!!((_0x22cfbd=(_0x1accc7=this['getElement']('vertex'))==null?void(-0x3fb*-0x2+-0x4*0x320+0x48a):_0x1accc7['properties']['find'](_0x2e968=>_0x2e968['name']==='t'))!=null&&_0x22cfbd['storage']);}async['appendGSpl'+'atData'](_0x5f550d,_0x244c45,_0x4282f5){var _0x4b4719;let _0x1ecde9=0x1*-0x2a1+-0x10e4+-0x1385*-0x1;for(let _0x4e57e5=0x2*-0x58d+0x12*0x28+0x84a;_0x4e57e5<_0x4282f5['length']&&_0x244c45>_0x4282f5[_0x4e57e5];_0x4e57e5+=0x5*0x427+0x6*0x3b5+-0x2aff)_0x1ecde9=_0x4e57e5/(0x823*-0x1+-0x2098+0x28bd);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x9d8+0x21*-0x1+-0x9b7,_0x4282f5));const _0x57bb94=this['getElement']('vertex');_0x57bb94&&(_0x57bb94['count']=this['numSplats']);const _0x35d646=await this['dataWorker']['appendGSpl'+'atData'](_0x5f550d,_0x1ecde9,_0x4282f5,!(-0x1*-0x1795+0xff4*0x1+0x1d*-0x15d)),_0x31e6f3=_0x35d646['properties'],_0x54890e=((_0x4b4719=this['getElement']('vertex'))==null?void(-0x3*0xbce+-0x4*0x589+0x398e):_0x4b4719['properties'])??[];for(const _0x23f030 in _0x31e6f3){const _0x3f6ba0=_0x54890e['find'](_0x5868ca=>_0x5868ca['name']===_0x23f030);_0x3f6ba0?_0x3f6ba0['storage']=_0x31e6f3[_0x23f030]:_0x54890e['push']({'type':'float','name':_0x23f030,'storage':_0x31e6f3[_0x23f030],'byteSize':0x4});}this['transformD'+'ata']=_0x35d646['transformD'+'ata'],this['numSplats']=_0x31e6f3['position']['length']/(0x59c*0x1+-0x1482+-0x1*-0xee9);}async['releaseSeq'+'Data'](_0x5006ee){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x5006ee),this['dataWorker']['releaseSeq'+'Data'](_0x5006ee),this;}async['releaseAll'+'SeqData'](){var _0x311ecf;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x311ecf=this['dataWorker'])==null||_0x311ecf['releaseAll'+'SeqData'](),this;}['getProp'](_0x1b8f0e,_0x5d750e='vertex'){var _0x411cba,_0x170bb0;return(_0x170bb0=(_0x411cba=this['getElement'](_0x5d750e))==null?void(0x253c+0x75a*-0x1+-0x5a*0x55):_0x411cba['properties']['find'](_0x1a2463=>_0x1a2463['name']===_0x1b8f0e))==null?void(-0x1*0xef3+0x2bf*-0xb+0x2d28):_0x170bb0['storage'];}['getElement'](_0x20130c){return this['elements']['find'](_0x1a8025=>_0x1a8025['name']===_0x20130c);}['createIter'](_0x2fab76,_0x3de1cd,_0x36891e,_0x55e0f5,_0x24f9ea){return new tC(this,_0x2fab76,_0x3de1cd,_0x36891e,_0x55e0f5,_0x24f9ea);}['calcAabb'](_0x37a54a,_0x7e9507){let _0x4247d0=0x21a5+-0x24*0xe1+0x1*-0x201,_0x4e2459=0x1ee9+0xa51+-0x293a,_0x536bda=-0x5*0x525+-0x1*0x2306+0x3cbf*0x1,_0x133610=-0xff1+0x1*-0x199+0x118a,_0x55f9b3=-0xa83+0x8c3*-0x1+-0x9a3*-0x2,_0x4e7882=0x3a4*0x7+-0x2138+-0x63*-0x14,_0x37f2e6=!(0xc8e+0x1152*0x1+-0x1de0);const _0x4e7bd7=this['getProp']('position'),_0x590795=this['getProp']('scale');for(let _0x1a8dd2=-0x1d7*-0x7+-0x22e6+0x1605;_0x1a8dd2<this['numSplats'];++_0x1a8dd2){if(_0x7e9507&&!_0x7e9507(_0x1a8dd2))continue;const _0x2d30c3=_0x4e7bd7[_0x1a8dd2*(-0x1b60+0x1f5e+-0x1*0x3fb)+(0x1f*0x133+0x1*-0x25f6+0x43*0x3)],_0x4967b3=_0x4e7bd7[_0x1a8dd2*(0x14*0x17+-0x1*-0x10e7+-0x12b0)+(0x853*0x4+0xbc6+-0x2d11*0x1)],_0x48383e=_0x4e7bd7[_0x1a8dd2*(0xeb+0x248*0x6+-0xe98)+(0x3*-0x1bc+0x1c33+-0x16fd)],_0x5e5ea9=Math['max'](_0x590795[_0x1a8dd2*(-0x1df4+-0xd01*-0x2+0x1*0x3f5)+(-0xbf5*0x1+0xc73*0x1+-0x7e)],_0x590795[_0x1a8dd2*(-0x4bd*0x8+-0x1c66+0x3*0x161b)+(-0xcfb+-0x8b*0x3d+0x2e1b)],_0x590795[_0x1a8dd2*(0x2be*-0x3+-0x18ab+0x20e8)+(-0x1*-0x70b+-0x47b*0x1+-0x1*0x28e)]);if(!isFinite(_0x2d30c3)||!isFinite(_0x4967b3)||!isFinite(_0x48383e)||!isFinite(_0x5e5ea9))continue;const _0x4a50e3=(-0xf1*-0x29+0x26b6+-0x4d4d)*Math['exp'](_0x5e5ea9);_0x37f2e6?(_0x37f2e6=!(-0x1*0x1701+-0x1*-0x36d+0x1395),_0x4247d0=_0x2d30c3-_0x4a50e3,_0x4e2459=_0x4967b3-_0x4a50e3,_0x536bda=_0x48383e-_0x4a50e3,_0x133610=_0x2d30c3+_0x4a50e3,_0x55f9b3=_0x4967b3+_0x4a50e3,_0x4e7882=_0x48383e+_0x4a50e3):(_0x4247d0=Math['min'](_0x4247d0,_0x2d30c3-_0x4a50e3),_0x4e2459=Math['min'](_0x4e2459,_0x4967b3-_0x4a50e3),_0x536bda=Math['min'](_0x536bda,_0x48383e-_0x4a50e3),_0x133610=Math['max'](_0x133610,_0x2d30c3+_0x4a50e3),_0x55f9b3=Math['max'](_0x55f9b3,_0x4967b3+_0x4a50e3),_0x4e7882=Math['max'](_0x4e7882,_0x48383e+_0x4a50e3));}return _0x37f2e6||(_0x37a54a['center']['set']((_0x4247d0+_0x133610)*(0x14e*0x11+-0x12a*0x1b+0x940+0.5),(_0x4e2459+_0x55f9b3)*(0x3*-0xbdf+-0x4*-0x551+0xe59+0.5),(_0x536bda+_0x4e7882)*(0x18c0+-0x1175+0x1*-0x74b+0.5)),_0x37a54a['halfExtent'+'s']['set']((_0x133610-_0x4247d0)*(-0x203*0x13+-0xb43*-0x1+-0xe*-0x1ed+0.5),(_0x55f9b3-_0x4e2459)*(-0x16ee+-0x21fa*-0x1+0x2*-0x586+0.5),(_0x4e7882-_0x536bda)*(0x24de+0x103f*-0x2+0x118*-0x4+0.5))),!_0x37f2e6;}['yieldToMai'+'n'](){var _0x331d3d;return(_0x331d3d=globalThis['scheduler'])!=null&&_0x331d3d['yield']?globalThis['scheduler']['yield']():new Promise(_0x434ea8=>{setTimeout(_0x434ea8,-0x1*-0x1d8+-0x1*-0xf25+0x1*-0x10fd);});}async['getCenters'](_0x4bb21d){const _0x5cfaba=this['getProp']('x'),_0x1abe5d=this['getProp']('y'),_0x11efee=this['getProp']('z');for(let _0xd4ff62=-0x2*0xb1e+0x4*-0x79f+-0xe*-0x3c4;_0xd4ff62<this['numSplats'];++_0xd4ff62)_0x4bb21d[_0xd4ff62*(0x23e0+-0x16*0x15b+-0x11*0x5b)+(0x118d+-0x1a1e*0x1+0x891)]=_0x5cfaba[_0xd4ff62],_0x4bb21d[_0xd4ff62*(-0x2537+-0x9af*-0x2+-0x2*-0x8ee)+(-0x78f*0x1+-0xcd4*0x1+0x244*0x9)]=_0x1abe5d[_0xd4ff62],_0x4bb21d[_0xd4ff62*(0x1e49+-0x1283+-0xbc3)+(-0x553+0xa22*-0x2+-0x1999*-0x1)]=_0x11efee[_0xd4ff62],_0xd4ff62%Sg===0x1011+-0x173b+-0x106*-0x7&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x4e5c3c;if((_0x4e5c3c=this['transformD'+'ata'])!=null&&_0x4e5c3c['muT'])return this['transformD'+'ata']['muT'];const _0x5ae8b8=this['getProp']('t');return _0x5ae8b8?new Float32Array(_0x5ae8b8):void(0x7f6+-0x2*-0x1ca+-0x5c5*0x2);}async['getTScale'](){const _0x3c6b22=this['getProp']('t_scale');if(!_0x3c6b22)return;const _0x2809d1=new Float32Array(this['numSplats']);for(let _0x21ddeb=0x5d*-0x9+-0x2d1+0x616*0x1;_0x21ddeb<this['numSplats'];++_0x21ddeb)_0x2809d1[_0x21ddeb]=Math['exp'](_0x3c6b22[_0x21ddeb]),_0x21ddeb%Sg===0xe59*-0x1+0x1*0x1e2b+-0xa*0x195&&await this['yieldToMai'+'n']();return _0x2809d1;}['getMotion'](_0x541e9b){const _0x336efe=this['getProp']('motion');_0x336efe&&new Float32Array(_0x336efe['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x34572f;if((_0x34572f=this['transformD'+'ata'])!=null&&_0x34572f['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x3bb59d=this['getProp']('time_index');if(_0x3bb59d)return new Float32Array(_0x3bb59d);}['calcFocalP'+'oint'](_0x49fd9e,_0x66a8fc){const _0x1ba3eb=this['getProp']('position'),_0x45a8c6=this['getProp']('scale');_0x49fd9e['x']=0xb67+-0xe97+0x66*0x8,_0x49fd9e['y']=-0x25*-0x7+-0x17f3+0x16f0,_0x49fd9e['z']=-0x21f5+0xe01+0x13f4;let _0x23c4e1=0x821*0x1+0x409*-0x7+0x141e;for(let _0x499ba0=-0x1a93+-0x138b+0x2e1e*0x1;_0x499ba0<this['numSplats'];++_0x499ba0){if(_0x66a8fc&&!_0x66a8fc(_0x499ba0))continue;const _0x257ef4=_0x1ba3eb[_0x499ba0*(0x1c4f*0x1+0x57*-0x2+0xca*-0x23)+(0x1030+-0x4b1*0x4+0x294)],_0x5d96ff=_0x1ba3eb[_0x499ba0*(0xa3*0x39+-0xe72+-0x15d6)+(-0x49*-0x5+0x1*-0x1a02+0x3*0x832)],_0x2e8f84=_0x1ba3eb[_0x499ba0*(-0x14bd+0x2*-0x762+0x11c2*0x2)+(0x2099*-0x1+-0x1ed1+-0x63*-0xa4)];if(!isFinite(_0x257ef4)||!isFinite(_0x5d96ff)||!isFinite(_0x2e8f84))continue;const _0x5eedd5=(-0x2*0x4b5+0x1769*-0x1+0x20d4)/(0xb66+0x3*0x3d+-0xc1c+Math['max'](_0x45a8c6[_0x499ba0*(0x1*-0x10df+-0x25*0x29+0x1*0x16cf)+(-0x1*0x160d+-0x1fbc+-0x119*-0x31)],_0x45a8c6[_0x499ba0*(-0x1887+0x2203+-0x979)+(0xca9*-0x1+0x2*0x59+0xbf8)],_0x45a8c6[_0x499ba0*(0x2a+0x2216+-0x223d)+(0x195b+-0x2272*0x1+0x89*0x11)]));_0x49fd9e['x']+=_0x257ef4*_0x5eedd5,_0x49fd9e['y']+=_0x5d96ff*_0x5eedd5,_0x49fd9e['z']+=_0x2e8f84*_0x5eedd5,_0x23c4e1+=_0x5eedd5;}_0x49fd9e['mulScalar']((-0x1*0xdf0+0x6c8+0x729)/_0x23c4e1);}['renderWire'+'frameBound'+'s'](_0x52e74b,_0x18d7ff){const _0x59bee6=new D(),_0x3c9f0f=new le(),_0x21c8d9=new D(),_0x4a250c=new D(),_0xcee247=new D(),_0x3c3f4c=this['createIter'](_0x59bee6,_0x3c9f0f,_0x21c8d9);for(let _0x180964=0xc87+-0xbb2+-0xd5;_0x180964<this['numSplats'];++_0x180964)_0x3c3f4c['read'](_0x180964),sC(gc,_0x59bee6,_0x3c9f0f),gc['mul2'](_0x18d7ff,gc),_0x4a250c['set'](_0x21c8d9['x']*-(-0x97*0x6+0x21ac+-0x1e2*0x10),_0x21c8d9['y']*-(0x1*-0xaa5+-0x12d2+0x1d79*0x1),_0x21c8d9['z']*-(0x1*-0xa22+0x19*0x61+0xab)),_0xcee247['set'](_0x21c8d9['x']*(0x3*-0x2af+0x702+0x1*0x10d),_0x21c8d9['y']*(0x1254+0xfc2+0x110a*-0x2),_0x21c8d9['z']*(0xf*-0x283+0x266*-0x6+0x3413)),_0x52e74b['immediate']['drawWireAl'+'ignedBox'](_0x4a250c,_0xcee247,eC,!(0x1*-0x213d+0x12c1*0x2+-0x1*0x445),_0x52e74b['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0xe54+-0x131*0x1+-0x1*0xd22);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xa5f279=-0xc1*-0x23+-0x29*0xb3+-0x49*-0x8;_0xa5f279<0x138b+0x15da+-0x2938;++_0xa5f279)if(!this['getProp']('f_rest_'+_0xa5f279))return _0xa5f279;return 0x874+-0x8c8+0x81;})())]??0x1*-0x79d+0x2*-0x3bc+-0xd*-0x129;}['calcMorton'+'Order'](){const _0x5c2713=_0x5be611=>{let _0x39400f=_0x5be611[-0x1a45+0xc40+0x61*0x25],_0x534865=_0x5be611[-0x21a1+-0x8f6*0x3+0x3c83];for(let _0x42bb36=-0x6*-0x5e2+-0x900+-0x1a4b;_0x42bb36<_0x5be611['length'];_0x42bb36++)_0x5be611[_0x42bb36]<_0x39400f&&(_0x39400f=_0x5be611[_0x42bb36]),_0x5be611[_0x42bb36]>_0x534865&&(_0x534865=_0x5be611[_0x42bb36]);return{'min':_0x39400f,'max':_0x534865};},_0x46b9f2=(_0x3b24e1,_0x2e0375,_0x4aeaa3)=>{const _0x280272=_0x1ceb69=>(_0x1ceb69&=-0x19b2*-0x1+0x1192+-0x2745,_0x1ceb69=(_0x1ceb69^_0x1ceb69<<-0x3*-0x4b1+0x10fe+-0x1f01)&0x11*-0x1110b44b+0x11b612853+0x105bad1a7,_0x1ceb69=(_0x1ceb69^_0x1ceb69<<0x1b5a+0x10ab*0x2+0x287*-0x18)&-0xd*0x3f1065+0x49d785c+-0x16*-0x12837e,_0x1ceb69=(_0x1ceb69^_0x1ceb69<<0x1eec+-0x1*0x1bf9+-0x2ef*0x1)&-0x5f6b76d+0x19c42ff+0x3d7d5*0x1ed,_0x1ceb69=(_0x1ceb69^_0x1ceb69<<0x2b+0x71f*-0x1+0x6f6)&-0x4e1de1*0x5+-0x4a1e*-0x1f19+-0x20*-0xd5246,_0x1ceb69);return(_0x280272(_0x4aeaa3)<<-0x1e70+0x1a4a+0x428)+(_0x280272(_0x2e0375)<<-0x72d*-0x2+-0x2264+0x140b)+_0x280272(_0x3b24e1);},_0x16880c=this['getProp']('x'),_0x16ccd8=this['getProp']('y'),_0x2e7b4c=this['getProp']('z'),{min:_0x1a0e20,max:_0x135eab}=_0x5c2713(_0x16880c),{min:_0x314221,max:_0x1116f5}=_0x5c2713(_0x16ccd8),{min:_0x38d794,max:_0x1e0e9f}=_0x5c2713(_0x2e7b4c),_0x532535=_0x1a0e20===_0x135eab?-0x1d4a+-0x1*0x74f+-0xc33*-0x3:(0x842+-0x1a89+-0x76d*-0x3)/(_0x135eab-_0x1a0e20),_0xaa2bd3=_0x314221===_0x1116f5?0xbc9*0x1+0x4*0x7db+-0x2b35*0x1:(0x180b*0x1+0x28*0xc3+-0x3283)/(_0x1116f5-_0x314221),_0x40ee57=_0x38d794===_0x1e0e9f?-0x26b7+0x91f+0x1d98*0x1:(0x8a0+0x1a53+-0x1ef3)/(_0x1e0e9f-_0x38d794),_0x39b522=new Map();for(let _0x20c89d=0x179d+0x15c4*0x1+-0x2d61*0x1;_0x20c89d<this['numSplats'];_0x20c89d++){const _0x5d5f1b=Math['min'](0x10*0x239+0x2*0x5e0+-0x2b51,Math['floor']((_0x16880c[_0x20c89d]-_0x1a0e20)*_0x532535)),_0xca1e6=Math['min'](0x2685+0x16*0xb+-0x2378,Math['floor']((_0x16ccd8[_0x20c89d]-_0x314221)*_0xaa2bd3)),_0x583fba=Math['min'](0x1b03+-0x12cd*0x1+-0x437,Math['floor']((_0x2e7b4c[_0x20c89d]-_0x38d794)*_0x40ee57)),_0x4f11fa=_0x46b9f2(_0x5d5f1b,_0xca1e6,_0x583fba),_0x447f43=_0x39b522['get'](_0x4f11fa);_0x447f43?_0x447f43['push'](_0x20c89d):_0x39b522['set'](_0x4f11fa,[_0x20c89d]);}const _0x2fcd52=Array['from'](_0x39b522['keys']())['sort']((_0x53bbbd,_0x1539ea)=>_0x53bbbd-_0x1539ea),_0x33322d=new Uint32Array(this['numSplats']);let _0x288f09=-0x2*-0xac+-0x1990+0xa*0x26c;for(let _0x41a7a3=-0x2638+-0x10dc+0x3714*0x1;_0x41a7a3<_0x2fcd52['length'];++_0x41a7a3){const _0x4bbebf=_0x39b522['get'](_0x2fcd52[_0x41a7a3]);for(let _0x5adb72=-0x1*-0x994+-0x4fd*-0x1+0x1*-0xe91;_0x5adb72<_0x4bbebf['length'];++_0x5adb72)_0x33322d[_0x288f09++]=_0x4bbebf[_0x5adb72];}return _0x33322d;}['reorder'](_0x74381e){const _0x72a1f7=new Map(),_0x457d77=_0x292da0=>{if(_0x72a1f7['has'](_0x292da0)){const _0x2dc6b5=_0x72a1f7['get'](_0x292da0);return _0x72a1f7['delete'](_0x292da0),_0x2dc6b5;}return new ArrayBuffer(_0x292da0);},_0x45cafa=_0x3266de=>{_0x72a1f7['set'](_0x3266de['byteLength'],_0x3266de);},_0x16abf2=_0x575436=>{const _0x54a1e4=new _0x575436['constructo'+'r'](_0x457d77(_0x575436['byteLength']));for(let _0x2e953b=-0x7*-0x55b+0x312+-0x288f;_0x2e953b<_0x74381e['length'];_0x2e953b++)_0x54a1e4[_0x2e953b]=_0x575436[_0x74381e[_0x2e953b]];return _0x45cafa(_0x575436['buffer']),_0x54a1e4;};this['elements']['forEach'](_0x471547=>{_0x471547['properties']['forEach'](_0x4998f8=>{_0x4998f8['storage']&&(_0x4998f8['storage']=_0x16abf2(_0x4998f8['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x420dd6,_0x5ec96c)=>{for(const _0x465fd1 in _0x5ec96c)_0x420dd6['resolve'](_0x465fd1)['setValue'](_0x5ec96c[_0x465fd1]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x196bd4;(_0x196bd4=this['executeCal'+'lback'])==null||_0x196bd4['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x331469,_0x5c6131){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x331469,this['gsplatInst'+'ance']=_0x5c6131);const {resource:_0x22f95e}=_0x5c6131,_0x20b135=new Map(Pe['get'](_0x331469,_0x331469['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x331469,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x20b135,'fragmentIncludes':_0x20b135,'fragmentDefines':new Map([['SH_BANDS',_0x22f95e['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x22f95e['createText'+'ure']('centroids',Ne,new J(-0x1c42+0x962+0x1320,0x62b*-0x2+-0x1918+0x14b7*0x2)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x1*0x1286+0x3*-0x3e5+-0x6d6)}),this['renderPass']=new dC(_0x331469),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x24ef+0x315+-0x2804),this['quadRender']=new Ah(this['shader']);const {material:_0x11316b}=_0x5c6131;_0x11316b['setDefine']('SH_BANDS','0');const {shaderChunks:_0x340a57}=_0x11316b;_0x340a57['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x340a57['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x11316b['update'](),_0x331469['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x3e4543}=this,{material:_0x100f34}=_0x3e4543;_0x100f34['setDefine']('SH_BANDS',_0x3e4543['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0xa3533a}=_0x100f34;_0xa3533a['glsl']['delete']('gsplatSogs'+'ColorVS'),_0xa3533a['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x100f34['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x15f4eb,_0x48a749){const {prevDir:_0x505ba9,updateMode:_0x516a04}=this;if(_0x516a04==='disable'||(yg['invert'](_0x48a749),yg['transformV'+'ector'](_0x15f4eb['forward'],uo),uo['normalize'](),_0x516a04==='enable'&&uo['equalsAppr'+'ox'](_0x505ba9,0x143a+-0x13c6+0x2*-0x3a+0.001)))return;_0x505ba9['copy'](uo);const _0x250499=()=>{const {device:_0x98e7dc}=this,{sh_centroids:_0x4dc34e,meta:_0x4e7b9b}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x98e7dc['scope'],{'dir':uo['toArray'](),'centroids':_0x4dc34e,'shN_mins':_0x4e7b9b['shN']['mins'],'shN_maxs':_0x4e7b9b['shN']['maxs']}),_0x98e7dc['setCullMod'+'e'](bt),_0x98e7dc['setDepthSt'+'ate'](Yt['NODEPTH']),_0x98e7dc['setStencil'+'State'](null,null),_0x98e7dc['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x250499,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0x8e7+0xa*0x25+0x17*0x53+0.28209479177387814,Ci=_0x384e59=>_0x384e59['read'](0x837*0x4+-0x48a+-0x1c52,0x221e+0xabb+-0x2b*0x10b,_0x384e59['width'],_0x384e59['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0xce8+0xe*0x101+0x1*-0x1af6)}),mC=(_0x3a7275,_0x280119)=>{for(const _0x56cc7a in _0x280119)_0x3a7275['resolve'](_0x56cc7a)['setValue'](_0x280119[_0x56cc7a]);};class _C{constructor(_0x49a0f3,_0x1b8ec1,_0x336f4d,_0x507fec,_0x4a5979,_0x470ad2){const _0x3e461c=(_0x3132e7,_0xa789ff,_0x26a5cc)=>_0x3132e7*(0x1*0x9c3+0x1*-0x1c9b+-0x1*-0x12d9-_0x26a5cc)+_0xa789ff*_0x26a5cc,{meta:_0x1429c3}=_0x49a0f3,{means:_0x197946,scales:_0xe1b2ad,sh0:_0x47baca,shN:_0x4bf7d9}=_0x1429c3,_0x1733de=_0x1b8ec1&&_0x49a0f3['means_l']['_levels'][0x337+-0xf7c+0xc45],_0x3cf48f=_0x1b8ec1&&_0x49a0f3['means_u']['_levels'][-0x3be*0x3+-0x3a*0x31+0x1654],_0x124f75=_0x336f4d&&_0x49a0f3['quats']['_levels'][0x3be*-0x9+0xf49*-0x1+0x30f7],_0x337f29=_0x507fec&&_0x49a0f3['scales']['_levels'][-0xce8+-0x18a3+0x258b],_0x4dc1c2=_0x4a5979&&_0x49a0f3['sh0']['_levels'][-0xc40+-0x2*0x9ba+-0x4*-0x7ed],_0x309768=_0x470ad2&&_0x49a0f3['sh_labels']['_levels'][-0x4*-0x86f+0x3*-0xb53+0x3d],_0x689eca=_0x470ad2&&_0x49a0f3['sh_centroi'+'ds']['_levels'][-0x1083+0x202e+-0xfab*0x1],_0x453a14=(0x181b+0x1*-0x1e+-0x17fb)/Math['sqrt'](-0x505+-0x192f+0x1e36);this['read']=_0x3a4625=>{if(_0x1b8ec1){const _0x1e0b4b=_0x3e461c(_0x197946['mins'][0x7*-0x469+-0x3*0x874+-0x1*-0x383b],_0x197946['maxs'][-0x1938*0x1+-0xd8f+-0x9*-0x44f],((_0x3cf48f[_0x3a4625*(-0xec3*-0x1+0x5d*0x11+-0x14ec)+(0x26e9+-0x25f7*0x1+-0xb*0x16)]<<0xbcb*-0x2+0x1284+0x51a)+_0x1733de[_0x3a4625*(-0x51b*0x1+0x19bc+-0x1*0x149d)+(0x1218+0x2493+0x137*-0x2d)])/(0x149cc+0x15362*0x1+-0x19d2f)),_0xd805b6=_0x3e461c(_0x197946['mins'][-0x23c+0x2*0x11b1+-0x2125],_0x197946['maxs'][0x1781*0x1+0xa63+0x15b*-0x19],((_0x3cf48f[_0x3a4625*(0x9e5+-0x5d1+-0x208*0x2)+(0x224+-0x2*-0x71e+-0x105f)]<<0x43*0x10+-0x2*-0xfe1+-0x23ea)+_0x1733de[_0x3a4625*(-0x364+0x53e+-0x1d6)+(0xab4+-0x1fe1*0x1+0xa97*0x2)])/(-0x1*0x1b926+0x1574a*-0x1+-0x1*-0x4106f)),_0x2f5f2a=_0x3e461c(_0x197946['mins'][-0xab7*-0x3+-0x1*0x54b+-0xd6c*0x2],_0x197946['maxs'][0x349*-0x8+0x25e7*0x1+0x3df*-0x3],((_0x3cf48f[_0x3a4625*(-0x13*0x1fc+-0x68a+0x2c42*0x1)+(0xd8b+0x21e2+-0x2f6b*0x1)]<<-0x894+-0x46d+0xd09)+_0x1733de[_0x3a4625*(0x3f9*0x1+0xcb*0x1e+-0x1bbf*0x1)+(-0x2398+0x53*0x2+0x117a*0x2)])/(0x2*0xdf1f+0x35*-0x365+-0x2*0x52b));_0x1b8ec1['x']=Math['sign'](_0x1e0b4b)*(Math['exp'](Math['abs'](_0x1e0b4b))-(0x1ea*0x1+-0x1*-0x167f+-0x47*0x58)),_0x1b8ec1['y']=Math['sign'](_0xd805b6)*(Math['exp'](Math['abs'](_0xd805b6))-(-0x2*-0x855+0x21e*-0x11+-0x31*-0x65)),_0x1b8ec1['z']=Math['sign'](_0x2f5f2a)*(Math['exp'](Math['abs'](_0x2f5f2a))-(0x1*0x7e7+-0x65*-0x41+-0x1f*0x115));}if(_0x336f4d){const _0x3105b7=(_0x124f75[_0x3a4625*(-0x22da+0x1*-0x11c9+-0x1*-0x34a7)+(0x21fd+-0x646+-0x285*0xb)]/(-0x1049+0x1a9*-0x17+0x3*0x127d)-(0x8a4+0x29*-0x26+0x3*-0xda+0.5))*_0x453a14,_0x13fa75=(_0x124f75[_0x3a4625*(0x2493*-0x1+-0x15ab+0x3a42)+(0x8d*0x9+-0xc01+-0x1*-0x70d)]/(-0xe*0x1ed+0x1*0x1ef2+-0x2d*0x11)-(0x6*0x2ce+0xbc2+-0x1c96*0x1+0.5))*_0x453a14,_0xbcea14=(_0x124f75[_0x3a4625*(0xc73*-0x3+-0x1*0x15aa+0x3b07)+(-0x1fbc*0x1+0x1eec+0xf*0xe)]/(0x8*-0x14c+-0x1775+0x22d4)-(0x11c3+-0x5fa+-0xbc9+0.5))*_0x453a14,_0x1c2c45=Math['sqrt'](Math['max'](0x2626*-0x1+0x23e4*-0x1+0xc57*0x6,0x5d*-0xd+0x2482+-0x18*0x153-(_0x3105b7*_0x3105b7+_0x13fa75*_0x13fa75+_0xbcea14*_0xbcea14)));switch(_0x124f75[_0x3a4625*(-0x219e+-0x7c*0x42+0x74a*0x9)+(0x388*0xa+-0x1*-0x111+-0x532*0x7)]-(-0xd*0x15d+-0x1bfc+0x1*0x2eb1)){case-0x1bd4+0x1c1c+-0x48:_0x336f4d['set'](_0x3105b7,_0x13fa75,_0xbcea14,_0x1c2c45);break;case-0x6d*0x2b+-0x2*-0x1f0+0x2*0x738:_0x336f4d['set'](_0x1c2c45,_0x13fa75,_0xbcea14,_0x3105b7);break;case 0x3*-0x67a+-0x1*0x1d0b+0x15*0x24f:_0x336f4d['set'](_0x13fa75,_0x1c2c45,_0xbcea14,_0x3105b7);break;case 0x1965+0x4f3*-0x3+-0xa89:_0x336f4d['set'](_0x13fa75,_0xbcea14,_0x1c2c45,_0x3105b7);break;}}if(_0x507fec){const _0x4f7eb4=_0x3e461c(_0xe1b2ad['mins'][-0x23*0xc2+-0x1a8e+0x9e*0x56],_0xe1b2ad['maxs'][-0x2395+0x2696+0x301*-0x1],_0x337f29[_0x3a4625*(-0x2442+-0x1*-0x9fd+0x1*0x1a49)+(0x4*0x2ff+0x293*-0xa+0x6e1*0x2)]/(0x26*-0x22+-0x1d32+0x233d)),_0x5a2dde=_0x3e461c(_0xe1b2ad['mins'][0x16b8+-0x16c*-0x2+0x9*-0x2d7],_0xe1b2ad['maxs'][0xe*-0x1b7+-0x2*0x671+0x24e5],_0x337f29[_0x3a4625*(0x3*-0x162+0x24f7*-0x1+-0x2921*-0x1)+(0x81c+-0x2203*-0x1+0x705*-0x6)]/(0x3*-0x94f+-0x1a0d+0x36f9)),_0x3279f4=_0x3e461c(_0xe1b2ad['mins'][0x1d4e+0x2487+-0x41d3],_0xe1b2ad['maxs'][0x1b69+0x3a4+0xa59*-0x3],_0x337f29[_0x3a4625*(-0x1c9a+-0x129f*-0x2+-0x2e*0x30)+(-0x54c+0xab+0x4a3)]/(-0x15f*-0x15+-0x2d8+0xc7a*-0x2));_0x507fec['set'](_0x4f7eb4,_0x5a2dde,_0x3279f4);}if(_0x4a5979){const _0x15dcb0=_0x3e461c(_0x47baca['mins'][0x95b+0x1*0x148f+0x1dea*-0x1],_0x47baca['maxs'][0x11*0x10+0x1b0e+-0x1c1e],_0x4dc1c2[_0x3a4625*(-0x1264+0x2*0x10d9+-0x67*0x26)+(-0x1c80+-0x24d0+0x4150)]/(-0x1*0xef8+-0x15f+-0x13d*-0xe)),_0x3fe2b1=_0x3e461c(_0x47baca['mins'][-0x48e*0x2+0x1*0x8a7+0x76*0x1],_0x47baca['maxs'][0x6*-0x2f6+-0x1d26+0x2eeb],_0x4dc1c2[_0x3a4625*(-0x1333+-0x1c08*-0x1+0x25*-0x3d)+(-0xe90+-0x4c1*-0x2+0x50f)]/(0xbca+0x5*0x49f+-0x2*0x10f3)),_0x209cbf=_0x3e461c(_0x47baca['mins'][-0x5*0xc7+-0x11bd+0x15a2],_0x47baca['maxs'][0x1*-0x2122+0x2565+-0x441],_0x4dc1c2[_0x3a4625*(0x240*0x3+-0x40f*-0x1+-0xacb)+(-0x502*-0x4+0x1*-0x35b+0xfb*-0x11)]/(-0x1f5*0x10+0x1*-0x142f+0x1a3f*0x2)),_0x4eca16=_0x3e461c(_0x47baca['mins'][0x1*0x1b65+0x1387+-0x2ee9],_0x47baca['maxs'][0x13d1+0xaa*-0x7+-0xf28],_0x4dc1c2[_0x3a4625*(-0x321+-0x1*0x737+0x3*0x374)+(-0x23e4+0x2231+0x1b6)]/(0x6c0+-0x86*0x6+0xdf*-0x3));_0x4a5979['set'](0xc4a*-0x1+0x13*-0x173+-0x5*-0x7f7+0.5+_0x15dcb0*An,-0x21a0+-0x1*-0x18c9+-0x1*-0x8d7+0.5+_0x3fe2b1*An,0x13*-0x6+0x7be+-0x1d3*0x4+0.5+_0x209cbf*An,(0x5dd*-0x5+0x1e37+-0xe5)/(0x1624+0x195b+-0x2f7e+Math['exp'](-_0x4eca16)));}if(_0x470ad2){const _0x4e9bab=_0x309768[_0x3a4625*(0x13c1+0x7*0x3bb+-0x2dda)+(0x27*-0x27+-0x91f+0x8*0x1e2)]+(_0x309768[_0x3a4625*(0xf09*-0x1+0xcaa+0x1*0x263)+(0x16d7+-0x3d*0x17+-0x115b)]<<0x1422+0xe63*0x1+-0x227d),_0x140c56=_0x4e9bab%(0x1d5f+-0x263*-0x1+0x1*-0x1f82)*(0x1cf*-0x4+0x43a+0x311),_0x62b123=Math['floor'](_0x4e9bab/(-0x10*-0x142+-0xbf0*-0x1+-0x1fd0));for(let _0x40ba2c=-0x1e82+0x100e+0x1*0xe74;_0x40ba2c<0x195e+0x1*0xa65+0x2*-0x11e0;++_0x40ba2c)for(let _0x5c4f56=-0x12e*0x1d+-0xe47+0x307d;_0x5c4f56<-0x11*0x1c6+-0x501*-0x2+0x1*0x1433;++_0x5c4f56)_0x470ad2[_0x40ba2c*(0x1291*0x1+0x5a5+-0x1827)+_0x5c4f56]=_0x3e461c(_0x4bf7d9['mins'],_0x4bf7d9['maxs'],_0x689eca[(_0x140c56+_0x5c4f56)*(0xac5+-0x9eb+0xd6*-0x1)+_0x40ba2c+_0x62b123*_0x49a0f3['sh_centroi'+'ds']['width']*(0x1be2+0xb*0x39+-0x1e51)]/(0x2a2+-0x1b7*0x6+-0x5*-0x1bb));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x3d37a9,_0x2813fd,_0x22ba8c,_0x22a470,_0x124de9,_0x4f6484,_0xa65c34,_0x203c2d;(_0x3d37a9=this['means_l'])==null||_0x3d37a9['destroy'](),(_0x2813fd=this['means_u'])==null||_0x2813fd['destroy'](),(_0x22ba8c=this['quats'])==null||_0x22ba8c['destroy'](),(_0x22a470=this['scales'])==null||_0x22a470['destroy'](),(_0x124de9=this['sh0'])==null||_0x124de9['destroy'](),(_0x4f6484=this['sh_centroi'+'ds'])==null||_0x4f6484['destroy'](),(_0xa65c34=this['sh_labels'])==null||_0xa65c34['destroy'](),(_0x203c2d=this['packedText'+'ure'])==null||_0x203c2d['destroy']();}['createIter'](_0x80a91c,_0xccc325,_0x5ecac1,_0x396633,_0x2a14f9){return new _C(this,_0x80a91c,_0xccc325,_0x5ecac1,_0x396633,_0x2a14f9);}['calcAabb'](_0x592484){const {mins:_0x235ace,maxs:_0x22a49f}=this['meta']['means'],_0x1c03d0=_0xaa5b0e=>Math['sign'](_0xaa5b0e)*(Math['exp'](Math['abs'](_0xaa5b0e))-(-0xe6*-0xc+-0x15ea+0x1*0xb23));_0x592484['center']['set']((_0x1c03d0(_0x235ace[-0x133b+0x53*-0x59+-0x2*-0x180b])+_0x1c03d0(_0x22a49f[0x1128+-0x1*-0x44+-0x116c]))*(0x8d3+-0x2*-0xf2f+-0x2731+0.5),(_0x1c03d0(_0x235ace[0x59+-0x11b*0x1f+0x21ed])+_0x1c03d0(_0x22a49f[-0x2189+0x138d+0xdfd]))*(-0x8d5+-0x14a2+-0x13*-0x18d+0.5),(_0x1c03d0(_0x235ace[-0x25a+-0x2*0x103f+0x22da])+_0x1c03d0(_0x22a49f[0x6f3*0x5+-0xfdc+-0x12e1]))*(-0x72a+0x2702+-0xfec*0x2+0.5)),_0x592484['halfExtent'+'s']['set']((_0x1c03d0(_0x22a49f[-0x116e+-0x104e*-0x2+-0xf2e])-_0x1c03d0(_0x235ace[0x23b*0x11+0x1f0b+-0xc2*0x5b]))*(0x16*0x16f+0x894+0xd*-0x316+0.5),(_0x1c03d0(_0x22a49f[0x71d+-0x850+0x134])-_0x1c03d0(_0x235ace[0x2ce+0xbd*0x32+-0x27b7*0x1]))*(-0xb*0x345+-0x22d2+0x46c9+0.5),(_0x1c03d0(_0x22a49f[-0x35c+0x27+-0x1*-0x337])-_0x1c03d0(_0x235ace[0x69e+-0x103*-0x4+0x4*-0x2aa]))*(0x13b9+-0x2*-0x8e0+0x1*-0x2579+0.5));}['getCenters'](_0x4a30e9){const {meta:_0x51a411,means_l:_0x322470,means_u:_0x177418,numSplats:_0x1553cd}=this,{means:_0x1eb0a4}=_0x51a411,_0x1cb480=new Uint32Array(_0x177418['_levels'][-0xabf+0x82+-0xa3d*-0x1]['buffer']),_0x1c355f=new Uint32Array(_0x322470['_levels'][-0x4a*-0xd+-0xfc3+0x1b7*0x7]['buffer']),_0x5831f7=_0x1eb0a4['mins'][-0x24de+0x2c3*-0x9+-0x17*-0x2af]/(0x3196+-0x1f713+0x44*0xa6f),_0xed4b36=_0x1eb0a4['mins'][-0x7eb*-0x4+-0x246e+0x4c3*0x1]/(-0xf741+0x580b+0x19f35),_0x4b0586=_0x1eb0a4['mins'][-0x93b+0x12d*-0x9+-0x13d2*-0x1]/(0x1f1ec+-0xdbd*-0xa+-0x17b4f),_0x3968bb=_0x1eb0a4['maxs'][0x98*-0x17+-0x17c6+0xc7a*0x3]/(0x1b33a+0xdc57*-0x1+0x291c),_0x267ed7=_0x1eb0a4['maxs'][0x2*0x979+-0xa39*0x1+-0x8b8]/(0x15*0x150e+-0x259*-0x4c+-0x16c93),_0x420cdd=_0x1eb0a4['maxs'][-0x370+-0x45f*-0x5+0x1*-0x1269]/(-0xb99+0xb3*0x19f+-0x1695);for(let _0x1d4e1c=-0xd13+-0x27*0x93+0x2378;_0x1d4e1c<_0x1553cd;_0x1d4e1c++){const _0x4d327a=_0x1d4e1c,_0x507377=_0x1cb480[_0x4d327a],_0x387020=_0x1c355f[_0x4d327a],_0x5d2804=_0x507377<<0x79e+-0x23e5+0x1c4f&-0x7ef4+-0x141*-0x6b+0xf7c9|_0x387020&0x25*-0x65+-0x2547*-0x1+-0x319*0x7,_0x3b1962=_0x507377&0x167*-0xce+-0x22c*0xce+-0x14a6e*-0x3|_0x387020>>>-0xb9*-0xa+0xc4*-0x28+0x2*0xbb7&-0x1ead+-0x22b3+0x425f,_0x29c1e5=_0x507377>>>0x6f5+-0x1745+0x1058&-0x1cde8+-0x2*0xa10b+-0x40efe*-0x1|_0x387020>>>-0xb*-0x1b0+0x603*-0x5+0x1*0xb8f&0x10b9+0x1be*-0x1+-0xdfc,_0x289259=_0x5831f7*(-0x10*0x1fa6+-0x23e3*-0x1+0x2d67c-_0x5d2804)+_0x3968bb*_0x5d2804,_0x5e971d=_0xed4b36*(0x4cd0*-0x2+0x2*-0x443f+0x2221d-_0x3b1962)+_0x267ed7*_0x3b1962,_0x4f7da9=_0x4b0586*(-0x3122+0x38f3+-0x52ba*-0x3-_0x29c1e5)+_0x420cdd*_0x29c1e5,_0x3c3bd1=_0x289259<0x1a9d+0x76*0x1c+-0x1*0x2785?-_0x289259:_0x289259,_0x2f7b34=_0x5e971d<0x21d*-0x3+0x191*-0x3+0xb0a?-_0x5e971d:_0x5e971d,_0x22ee2c=_0x4f7da9<-0x737*0x3+0x13d0*-0x1+0x2975*0x1?-_0x4f7da9:_0x4f7da9;_0x4a30e9[_0x1d4e1c*(-0x12be*-0x1+0xdbd*0x1+-0x2078)]=(_0x289259<-0x157*0x13+0x679*-0x3+-0x2ce*-0x10?-(0xd+-0x1*0x1f28+-0x7c7*-0x4):-0x1470+0xc*-0x2e2+0x3709)*(Math['exp'](_0x3c3bd1)-(-0x1946+0x9ac+0xf9b*0x1)),_0x4a30e9[_0x1d4e1c*(-0xe*0x8a+0x99f*0x1+-0x210)+(-0xc79+-0xa9f+0x3*0x7b3)]=(_0x5e971d<-0x14bc+-0x548+0x5a*0x4a?-(0x1660*0x1+0x1*-0x250f+0x50*0x2f):0x1ad5*0x1+-0x47*-0x56+-0x1a*0x1f3)*(Math['exp'](_0x2f7b34)-(-0x33c*-0x6+0x24ad+0xc2*-0x4a)),_0x4a30e9[_0x1d4e1c*(0x292+-0xb*0x23a+0x15ef)+(-0x833+0x20b9*-0x1+0x28ee)]=(_0x4f7da9<-0x1b*0x61+-0xfb*0x1f+-0xa0*-0x41?-(0x3e+0xb24+-0xb61):-0xd5*-0x23+0x1b19+-0x3837)*(Math['exp'](_0x22ee2c)-(-0x21b9+-0x143b+0x2d7*0x13));}}['calcFocalP'+'oint'](_0x3d2010,_0x494964){_0x3d2010['set'](-0xcff+0x1327+-0x628,0x119*0x1+0x766+-0x87f,0x85+-0x13*0x167+0x1a20);}get['isSogs'](){return!(-0xa7c*0x1+-0x1bbe+0x1*0x263a);}get['shBands'](){var _0x25835d;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x25835d=this['sh_centroi'+'ds'])==null?void(0x1b56*-0x1+0x3f7+0x175f):_0x25835d['width']]??0x6f*0x23+0x2287+0xc6d*-0x4;}async['decompress'](){const _0x2bb7aa=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x356c42}=this,{means_l:_0x56211f,means_u:_0x325473,quats:_0x18f568,scales:_0xd3322e,sh0:_0x344091,sh_labels:_0x397225,sh_centroids:_0x4e732e}=this;if(_0x56211f['_levels'][-0x171f+-0x3*0xc8f+-0x3ccc*-0x1]=await Ci(_0x56211f),_0x325473['_levels'][0x3*0xae0+-0x1be9+-0x4b7]=await Ci(_0x325473),_0x18f568['_levels'][0xd*0x195+-0xfdc+-0x4b5]=await Ci(_0x18f568),_0xd3322e['_levels'][-0x2*0x1129+0x1fb*-0x1+0x244d]=await Ci(_0xd3322e),_0x344091['_levels'][-0x1861+0x1*0x20b+0x1656]=await Ci(_0x344091),_0x356c42>-0x1baa+0xd3a+0xe70){_0x397225['_levels'][-0x1b45+-0xaa6+0x25eb*0x1]=await Ci(_0x397225),_0x4e732e['_levels'][0x1e56+0x2cc*-0x9+0x52a*-0x1]=await Ci(_0x4e732e);const _0x531d56=[];for(let _0x211601=0x91f+0xd30*0x2+-0x3*0xbd5;_0x211601<0x40c+0x2*0xc51+-0x1c81;++_0x211601)_0x531d56['push']('f_rest_'+_0x211601);_0x2bb7aa['splice'](_0x2bb7aa['indexOf']('f_dc_0')+(-0x6*-0x242+-0xade*-0x1+-0x1869*0x1),0x263e+0x1e8e+0x77*-0x94,..._0x531d56);}const _0x4d2ade={};_0x2bb7aa['forEach'](_0x2af9cc=>{_0x4d2ade[_0x2af9cc]=new Float32Array(this['numSplats']);});const _0x1b395a=new D(),_0x567ddd=new le(),_0x5a03c5=new D(),_0x4e01ad=new re(),_0x2a93d0=_0x356c42>-0x2*-0xeb3+0x7*-0x566+0x864?new Float32Array(0x1c25+0x10c9+0x2cc1*-0x1):null,_0x3e8235=this['createIter'](_0x1b395a,_0x567ddd,_0x5a03c5,_0x4e01ad,_0x2a93d0);for(let _0x364717=0x1186+-0x1a5f+-0x3*-0x2f3;_0x364717<this['numSplats'];++_0x364717)if(_0x3e8235['read'](_0x364717),_0x4d2ade['x'][_0x364717]=_0x1b395a['x'],_0x4d2ade['y'][_0x364717]=_0x1b395a['y'],_0x4d2ade['z'][_0x364717]=_0x1b395a['z'],_0x4d2ade['rot_1'][_0x364717]=_0x567ddd['x'],_0x4d2ade['rot_2'][_0x364717]=_0x567ddd['y'],_0x4d2ade['rot_3'][_0x364717]=_0x567ddd['z'],_0x4d2ade['rot_0'][_0x364717]=_0x567ddd['w'],_0x4d2ade['scale_0'][_0x364717]=_0x5a03c5['x'],_0x4d2ade['scale_1'][_0x364717]=_0x5a03c5['y'],_0x4d2ade['scale_2'][_0x364717]=_0x5a03c5['z'],_0x4d2ade['f_dc_0'][_0x364717]=(_0x4e01ad['x']-(-0x6f2*-0x4+0xaff+-0x26c7+0.5))/An,_0x4d2ade['f_dc_1'][_0x364717]=(_0x4e01ad['y']-(0x694+0x135*-0xd+0x91d*0x1+0.5))/An,_0x4d2ade['f_dc_2'][_0x364717]=(_0x4e01ad['z']-(-0x6*0x4eb+-0x1*-0x331+0x1a51+0.5))/An,_0x4d2ade['opacity'][_0x364717]=_0x4e01ad['w']<=-0xbc9+0x1e1d+0x1254*-0x1?-(0x656+-0x1366+-0x5e*-0x24):_0x4e01ad['w']>=0x23ff+-0x656+-0x76a*0x4?-0x1d11+-0x190e+0x18d*0x23:-Math['log']((-0x16b5+-0x127*0x9+0x3ad*0x9)/_0x4e01ad['w']-(0xb82+-0x1b95*0x1+0x1014)),_0x2a93d0){for(let _0x51a8b6=-0xb1+0x36f+-0x2be;_0x51a8b6<0x14b*-0xb+-0x2362+0x31c8;++_0x51a8b6)_0x4d2ade['f_rest_'+_0x51a8b6][_0x364717]=_0x2a93d0[_0x51a8b6];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x2bb7aa['map'](_0x2129c2=>({'name':_0x2129c2,'type':'float','byteSize':0x4,'storage':_0x4d2ade[_0x2129c2]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x1f3343,means_u:_0x577eb1,quats:_0x1207c4,scales:_0x1158ed,sh_labels:_0x166fba,numSplats:_0x3ff0bb}=this,{device:_0x1233e6}=_0x1f3343,{scope:_0x4ebb28}=_0x1233e6,_0x2f496b=$t['createShad'+'er'](_0x1233e6,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x174fa1=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0xe9a+-0x39*-0x31+-0x3b2*-0x1),'mipLevel':0x0});_0x1233e6['setCullMod'+'e'](bt),_0x1233e6['setBlendSt'+'ate'](pt['NOBLEND']),_0x1233e6['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x4ebb28,{'means_l':_0x1f3343,'means_u':_0x577eb1,'quats':_0x1207c4,'scales':_0x1158ed,'sh_labels':_0x166fba??_0x1f3343,'numSplats':_0x3ff0bb}),Ar(_0x1233e6,_0x174fa1,_0x2f496b),_0x174fa1['destroy'](),_0x2f496b['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x42ef70,height:_0x4781fa,width:_0x56993c}=this['means_l'];this['means_l']['_levels'][-0x2*-0x147+-0x1ee2+0x1c54]=await Ci(this['means_l']),this['means_u']['_levels'][-0x17a4+-0x2b*0x8d+-0x977*-0x5]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x42ef70,{'name':'sogsPacked'+'Texture','width':_0x56993c,'height':_0x4781fa,'format':Ue,'mipmaps':!(-0xf5b+-0x237c+-0x8*-0x65b)}),_0x42ef70['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x1a7072=null,_0x12c8ec=null,_0x39c57b=null,_0x17e2a3=null,_0x5339d9=null,_0x5e4214=null,_0x1d0cd2=null,_0x13a3b5=null,_0x4a394a=null,_0x4150d1=null,_0x6c4e18=null,_0x1d3888=null,_0xf51fa9=null,_0x586352=null,_0x5295e2=null,_0x267adc=null,_0x5a9f92=null,_0x54021a=null,_0x52a0d1=null,_0x3c938b=null,_0x290782=null,_0x176839=null,_0x1a5d2f=null,_0x1cba6e=null,_0x534f91=Float32Array['BYTES_PER_'+'ELEMENT'],_0x516d0e=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x38db20=0x373*-0xa+-0x1*-0x142f+0xe4f,_0x60858b=!(-0x3ea+-0x1dbe+0x18*0x167),_0x4d45bf,_0x393d5d,_0x1c0167={'x':0x0,'y':0x0,'z':0x0},_0x14d4f7={'x':0x0,'y':0x0,'z':0x0},_0x32f6a6=!(-0x18c1+0x1*-0x1663+0x1c*0x1af),_0x552932=!(-0x1c41+0x1b06+0x13b),_0x1372f3=!(0xf*-0x104+0x2128+0x11eb*-0x1),_0x36773c=!(-0x4ca+0x56+0x475),_0x6fa3a7=-0x16d6+0x599+0x113d,_0x589dbb=-0x1607+0x11d1*0x1+0x436,_0x322a93=!(0x1fc+-0x2*-0x5ab+-0xd51*0x1),_0x51f627=null,_0x2b5339=!(-0xe*0x277+-0x4*0x607+0x3a9f),_0x34ee89=-0x1*-0x239+0x234f+-0x2*0x12c4,_0x2053a9=0xfec+-0x728+-0xbb*0xc,_0x369c4c={'x':0x0,'y':0x0,'z':0x0},_0x249683={'x':0x0,'y':0x0,'z':0x0},_0x50ddbd,_0x4866ff;self['onmessage']=async _0x3044db=>{const {data:_0x57223f}=_0x3044db;switch(_0x57223f['type']){case'initWorker':await _0x170308(_0x57223f['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x38db20=_0x57223f['centers']['length']/(-0x1*-0xfe8+-0x8f*-0x1f+-0x2136),_0x38db20<=-0x74f*-0x1+-0x13d1+0xc82||!_0x12c8ec)return;_0x5781aa(),_0x60858b=_0x57223f['is4d'],_0x50ddbd=_0x57223f['id'];const _0x3a2830=_0x3b65dd(_0x38db20);if(_0x18906f(_0x3a2830),_0x39c57b[0x2631*0x1+0x2500+-0x4b31]=_0x369c4c['x'],_0x39c57b[-0x1*0x1bef+0x1*-0x1ead+-0x3a9d*-0x1]=_0x369c4c['y'],_0x39c57b[0xd97+-0xe*0xda+-0x1a9]=_0x369c4c['z'],_0x17e2a3[0x1*-0x531+-0x11*0x21+0xe*0x87]=_0x249683['x'],_0x17e2a3[0x2*-0x1336+-0x8*-0x27f+0x20d*0x9]=_0x249683['y'],_0x17e2a3[0x2e*0x2f+-0x1*-0xced+-0x155d]=_0x249683['z'],_0x5e4214&&_0x57223f['centers']&&_0x5e4214['length']===_0x57223f['centers']['length']){const _0x15c83c=new Float32Array(_0x57223f['centers']);_0x5e4214['set'](_0x15c83c);}if(_0x13a3b5&&_0x57223f['timeIndex']&&_0x13a3b5['length']===_0x57223f['timeIndex']['length']){const _0x4e0e12=new Uint32Array(_0x57223f['timeIndex']);_0x13a3b5['set'](_0x4e0e12);}if(_0x6c4e18&&_0x57223f['motion']&&_0x6c4e18['length']===_0x57223f['motion']['length']){const _0x494c97=new Float32Array(_0x57223f['motion']);_0x6c4e18['set'](_0x494c97);}if(_0x60858b&&_0x4a394a&&_0x4150d1&&_0x57223f['muT']&&_0x57223f['tScale']&&_0x4a394a['length']===_0x57223f['muT']['length']&&_0x4150d1['length']===_0x57223f['tScale']['length']&&(_0x4a394a['set'](_0x57223f['muT']),_0x4150d1['set'](_0x57223f['tScale'])),_0x1d0cd2){for(let _0x52b604=0x1*-0x123e+-0x825+0x1a63;_0x52b604<_0x1d0cd2['length'];++_0x52b604)_0x1d0cd2[_0x52b604]=_0x52b604;}_0x5339d9&&_0x57223f['timeOption']&&_0x5339d9['set'](_0x57223f['timeOption']),_0x4c7a54(),_0x2b5339=!(-0x2e9+-0x13e4+0xd*0x1c1),_0x1372f3=!(-0x363*-0x2+0x99d*-0x3+0x1611),_0x4236a9();break;case'setTime':_0x4d45bf=_0x57223f['time'],_0x4236a9();break;case'setUseTemp'+'oralSort':_0x32f6a6=_0x57223f['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x552932=_0x57223f['useDynamic'+'Sort'];break;case'sort':if(!_0x39c57b)return;_0x39c57b[-0x197*0xd+-0x12ee+0x1f*0x147]=_0x57223f['cameraPosi'+'tion']['x'],_0x39c57b[-0xc4*0x5+-0x174*0x13+0x3*0xa7b]=_0x57223f['cameraPosi'+'tion']['y'],_0x39c57b[0x1194+0x1*0x683+-0x1815]=_0x57223f['cameraPosi'+'tion']['z'],_0x17e2a3[0x5*0x373+0xe9*0x5+-0x24*0x9b]=_0x57223f['cameraDire'+'ction']['x'],_0x17e2a3[0x2*0x34d+-0x10d7*-0x1+-0x1770]=_0x57223f['cameraDire'+'ction']['y'],_0x17e2a3[-0x1049+-0x1d4c+-0x2d97*-0x1]=_0x57223f['cameraDire'+'ction']['z'],_0x369c4c['x']=_0x57223f['cameraPosi'+'tion']['x'],_0x369c4c['y']=_0x57223f['cameraPosi'+'tion']['y'],_0x369c4c['z']=_0x57223f['cameraPosi'+'tion']['z'],_0x249683['x']=_0x57223f['cameraDire'+'ction']['x'],_0x249683['y']=_0x57223f['cameraDire'+'ction']['y'],_0x249683['z']=_0x57223f['cameraDire'+'ction']['z'],_0x4236a9();break;}};const _0x5781aa=()=>{_0x589dbb=Math['max'](-0x52a+0xe*-0x11f+0x14e6,Math['min'](0x1f5f+-0x19*-0x43+-0x25d6,Math['round'](Math['log2'](_0x38db20/(0x10*0x19+-0x234d+0x21c1*0x1))))),_0x6fa3a7=(-0x9*0x3+0xa75*-0x3+-0x193*-0x14)**_0x589dbb+(-0xfd*0x1c+0xa*-0x227+0x3133);},_0x18906f=_0x3ecca0=>{_0x1d3888=-0x1614+0x17b7+-0x1a3,_0xf51fa9=_0x1d3888+_0x38db20*_0x534f91*(-0x2*-0xf1d+-0x222*-0x1+0x5b*-0x5b),_0x54021a=_0xf51fa9+(-0x68*0x3a+-0x5*0x372+0x292e)*_0x534f91*(-0xe89+-0xdc0+0x1*0x1c4b),_0x52a0d1=_0x54021a+_0x38db20*_0x516d0e,_0x3c938b=_0x52a0d1+(-0x2*0xb1d+-0x2*-0x11a+0x1409)*_0x534f91,_0x290782=_0x3c938b+(-0x4f*0x3d+0x2667+-0x1391)*_0x534f91,_0x176839=_0x290782+(-0x2224+-0x207d+-0x4*-0x10a9)*_0x534f91,_0x1a5d2f=_0x176839+(-0x1*0x1024+0x3a*-0x86+0x1b*0x1b9)*_0x534f91,_0x1cba6e=_0x1a5d2f+_0x38db20*_0x516d0e,_0x5e4214=new Float32Array(_0x3ecca0,_0x1d3888,_0x38db20*(-0xad9*-0x1+-0x20b4+-0xaef*-0x2)),_0x5339d9=new Float32Array(_0x3ecca0,_0xf51fa9,0x143*0x2+-0x1df0+0x1c32),_0x1d0cd2=new Uint32Array(_0x3ecca0,_0x54021a,_0x38db20),_0x39c57b=new Float32Array(_0x3ecca0,_0x52a0d1,-0x13ef+0xc38+0x7ba),_0x17e2a3=new Float32Array(_0x3ecca0,_0x3c938b,0x1b86+0xd*0x9d+0x3*-0xbd4),_0x60858b&&(_0x267adc=_0x1cba6e+_0x6fa3a7*_0x516d0e,_0x5a9f92=_0x267adc+_0x38db20*_0x534f91,_0x5295e2=_0x5a9f92+_0x38db20*_0x534f91,_0x586352=_0x5295e2+_0x38db20*(0x103f*0x1+-0x1648+-0x2b*-0x24)*_0x534f91,_0x4a394a=new Float32Array(_0x3ecca0,_0x267adc,_0x38db20),_0x4150d1=new Float32Array(_0x3ecca0,_0x5a9f92,_0x38db20),_0x6c4e18=new Float32Array(_0x3ecca0,_0x5295e2,_0x38db20*(0x323*-0x8+0x154f+0x3*0x144)),_0x13a3b5=new Uint32Array(_0x3ecca0,_0x586352,_0x38db20));},_0x170308=async _0x1c980a=>{_0x34ee89=-0x1739+0x1a96+-0x35c;const _0x401a3d={'env':{'memory':new WebAssembly['Memory']({'initial':_0x34ee89}),'pthread_self':function(){return 0xa7e+-0x1*-0x1511+-0x3*0xa85;},'emscripten_builtin_memalign':function(){return-0x2*-0x1302+-0x2*-0xe54+-0x42ac;},'loggerVec3':(_0x1330e9,_0x5d0563,_0x521c9c,_0x3e0286)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x1330e9+']\x200:'+_0x5d0563+'\x201:'+_0x521c9c+'\x202:'+_0x3e0286);},'loggerFloat':(_0x2de51d,_0x6f38da)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2de51d+']\x20a:'+_0x6f38da);},'loggerValue':(_0x2d808e,_0xd2f312,_0x4aaa99,_0x3cc9aa,_0x5841a1)=>{console['log']('C++\x20logger'+'Value\x20['+_0x2d808e+']\x20minDist:'+_0xd2f312+'\x20maxDist:'+_0x4aaa99+'\x20range:'+_0x3cc9aa+'\x20divider:'+_0x5841a1);},'loggerCamera':(_0x5f384b,_0x178919,_0x53b1e9,_0x3ae27c,_0x2de4a1,_0x4c4ed0,_0x481107)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x5f384b+']\x20x:'+_0x178919+'\x20y:'+_0x53b1e9+'\x20z:'+_0x3ae27c+'\x20dx:'+_0x2de4a1+'\x20dy:'+_0x4c4ed0+'\x20dz:'+_0x481107);},'loggerBound':(_0x341128,_0x223bca,_0x115db7,_0x49b123,_0x4e87e3,_0x3b89f5)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x341128+'\x20minY:'+_0x223bca+'\x20minZ:'+_0x115db7+'\x20maxX:'+_0x49b123+'\x20maxY:'+_0x4e87e3+'\x20maxZ:'+_0x3b89f5);},'loggerDebug':_0x2a811c=>{console['log']('C++\x20logger'+'Debug\x20['+_0x2a811c+']');}}};try{const _0x18f83f=await(await fetch(_0x1c980a))['arrayBuffe'+'r']();return _0x1a7072=(await WebAssembly['instantiat'+'e'](_0x18f83f,_0x401a3d))['instance'],_0x12c8ec=_0x401a3d['env']['memory'],_0x1a7072;}catch(_0x4992f7){throw console['error']('WASM'+':',_0x4992f7),_0x4992f7;}},_0x50134f=_0x184c38=>{if(_0x184c38<=0x2670+-0x1a7d+-0xbf3)return 0xae7*0x1+-0xe4d+0x1*0x367;let _0x40823e=_0x184c38*_0x534f91*(-0x6d5*0x1+0x7f7+0x11f*-0x1);_0x40823e+=_0x184c38*_0x516d0e,_0x40823e+=(0x11c7+-0x199c+0x7d8)*_0x534f91,_0x40823e+=(-0xa7f+-0x1f7*-0x3+0x49d)*_0x534f91,_0x40823e+=(-0x1b62+-0x21d*0x5+0x25f6*0x1)*_0x534f91,_0x40823e+=(0x6b2+0x1e57+0x1*-0x2506)*_0x534f91,_0x40823e+=_0x184c38*_0x534f91,_0x40823e+=_0x6fa3a7*_0x516d0e,_0x40823e+=(0xb*-0x36+0x203b+-0x1d85)*_0x534f91*(-0x9*-0xe2+-0x20cb+0x18db),_0x40823e+=_0x184c38*_0x516d0e,_0x60858b&&(_0x40823e+=_0x184c38*_0x534f91,_0x40823e+=_0x184c38*_0x534f91,_0x40823e+=_0x184c38*_0x534f91*(-0x9f*0x1b+0x1eea+-0xe22));const _0x344fb8=(-0x1892+-0x262*-0x1+0x1670)*(-0x18f8+0x1ebf+-0x1c7);return Math['ceil'](_0x40823e/_0x344fb8);},_0x3b65dd=_0x9b3cad=>{const _0x56f17b=_0x50134f(_0x9b3cad);return _0x56f17b>_0x34ee89?(_0x12c8ec['grow'](_0x56f17b-_0x34ee89),_0x34ee89=_0x56f17b):_0x12c8ec['grow'](0x80a+-0xc58+0x44e),_0x12c8ec['buffer'];},_0x4c7a54=()=>{if(!_0x1a7072)return;const {calcAABB:_0x4cd237}=_0x1a7072['exports'];_0x4cd237(_0x1d3888,_0x290782,_0x176839,_0x38db20);},_0x4236a9=()=>{_0x51f627&&clearTimeout(_0x51f627),_0x51f627=setTimeout(()=>{_0x51f627=null,_0x3ea9ae();},-0x1527+-0x7*0x1f6+-0x1*-0x22e1);},_0x3ea9ae=()=>{if(!_0x1a7072||!_0x2b5339||_0x1d0cd2['length']!==_0x38db20||_0x54021a===null||_0x1d3888===null||_0x52a0d1===null||_0x3c938b===null||_0x290782===null||_0x176839===null)return;const _0x3b1171=_0x39c57b[0x1187+0xd43+-0x1eca],_0x4db700=_0x39c57b[0x16*0xbb+0x2381+-0x3392],_0x581442=_0x39c57b[-0x146d*-0x1+0xdb4+-0x1*0x221f],_0x245bb0=_0x17e2a3[0x1bb5+-0x107e*-0x2+-0x3cb1],_0x7e661=_0x17e2a3[0x9c0+-0x7*0x1e1+0x368],_0x2ac447=_0x17e2a3[0xc8d+0x3*0x697+0x2f*-0xb0],_0xc78bf2=-0x29+-0x89e+0x8c7+0.001;if(!_0x1372f3&&Math['abs'](_0x3b1171-_0x1c0167['x'])<_0xc78bf2&&Math['abs'](_0x4db700-_0x1c0167['y'])<_0xc78bf2&&Math['abs'](_0x581442-_0x1c0167['z'])<_0xc78bf2&&Math['abs'](_0x245bb0-_0x14d4f7['x'])<_0xc78bf2&&Math['abs'](_0x7e661-_0x14d4f7['y'])<_0xc78bf2&&Math['abs'](_0x2ac447-_0x14d4f7['z'])<_0xc78bf2&&Math['abs'](_0x4d45bf-_0x393d5d)<0x20b*0x1+0x851+-0xc*0xdd+0.01)return;if(_0x36773c){_0x322a93=!(0xdea+0x1c43+-0x3b*0xb7);return;}_0x36773c=!(0xd*-0x1df+-0x6*-0x50d+-0x5fb),_0x1372f3=!(-0x1194+-0x2*-0x131e+-0x14a7),_0x393d5d=_0x4d45bf,_0x1c0167['x']=_0x3b1171,_0x1c0167['y']=_0x4db700,_0x1c0167['z']=_0x581442,_0x14d4f7['x']=_0x245bb0,_0x14d4f7['y']=_0x7e661,_0x14d4f7['z']=_0x2ac447,_0x322a93=!(0x1d91+0xb*0x142+-0x5*0x8ae);const {sortIndexes:_0x2246e4}=_0x1a7072['exports'];try{const _0x3c1bc7=_0x2246e4(_0x54021a,_0x1d3888,_0x5295e2,_0x267adc,_0x5a9f92,_0x52a0d1,_0x3c938b,_0x290782,_0x176839,_0x1a5d2f,_0x1cba6e,_0x4d45bf||0x1d2*-0x1+-0xb5c+0xd2e,_0x32f6a6,_0x552932,_0x60858b,_0x38db20,_0x6fa3a7,_0x589dbb,_0xf51fa9,_0x586352),_0x50a410=new Uint32Array(_0x1d0cd2);if(_0x3c1bc7===-0x256f+0x218a+0x1*0x3e5){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x3c1bc7);}const _0x480408=_0x38db20!==_0x2053a9||_0x4866ff!==_0x50ddbd;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x3c1bc7,'order':_0x50a410,'isNewOrder':_0x480408},[_0x50a410['buffer']]),_0x2053a9=_0x38db20,_0x4866ff=_0x50ddbd;}catch(_0x463b6d){console['error'](':',_0x463b6d),self['postMessag'+'e']({'type':'error','error':_0x463b6d['message']});}_0x36773c=!(0x739*-0x4+0x174b+-0x1de*-0x3),_0x322a93&&_0x4236a9();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',0x1b43+0x4ee+-0xabb*0x3),h(this,'is4d',!(-0xf08+-0x161a*0x1+-0x2*-0x1291)),h(this,'sortStartT'+'ime',-0x1*0xc8f+-0x1f5a+-0x4e1*-0x9),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x2a227e=>{var _0x33b0e7;if(!this['worker'])return;const {data:_0x5a2596}=_0x2a227e;switch(_0x5a2596['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x5a2596['order']&&(_0x5a2596['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x33b0e7=this['orderTextu'+'re'])==null||_0x33b0e7['write'](-0x185b+0x1716+0x145,0x1e*-0x32+0xabe+-0x4e2,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x9b4*-0x2+0x2ac+0x10bd),_0x5a2596['order']));let _0x31ea12=0x281*0x4+0x1*-0x206a+0x1666;this['sortStartT'+'ime']!==-0x1d*0x107+0x4f*0x20+0x13eb&&(_0x31ea12=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x2a227e['data']['count'],_0x31ea12,_0x5a2596['isNewOrder']),this['sortStartT'+'ime']=0x8*0x1ca+-0x2125*-0x1+-0x2f75;break;case'error':console['error']('Worker:',_0x5a2596['error']),this['fire']('error',_0x5a2596['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x579c8d,_0x534015,_0x4b0e4a,_0x584bd2,_0x4a3bbd,_0x3c00de,_0x398aa9,_0x4e44ae){var _0x12a3f2;this['is4d']=_0x4e44ae,this['numSplats']=_0x534015['length']/(-0x1e05+-0x14ed+-0x32f5*-0x1),(!_0x398aa9||_0x398aa9['length']===0x94*-0x7+0xe6*-0x28+0x27fc)&&(_0x398aa9=[-0x1ee5+-0x2045*0x1+-0x6e*-0x93,0x860+0x1*-0x1174+0x950]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x579c8d),this['backOrderT'+'exture']=_0x579c8d;const _0x23a075=new Date()['getTime']();(_0x12a3f2=this['worker'])==null||_0x12a3f2['postMessag'+'e']({'type':'initData','centers':_0x534015,'muT':_0x4b0e4a,'tScale':_0x584bd2,'motion':_0x4a3bbd,'timeIndex':_0x3c00de,'timeOption':_0x398aa9,'is4d':_0x4e44ae,'id':_0x23a075});}['setCamera'](_0x4b41f8,_0x5e8c9b){this['worker']&&(!_0x4b41f8||!_0x5e8c9b||(this['data']['cameraPosi'+'tion']={'x':_0x4b41f8['x'],'y':_0x4b41f8['y'],'z':_0x4b41f8['z']},this['data']['cameraDire'+'ction']={'x':_0x5e8c9b['x'],'y':_0x5e8c9b['y'],'z':_0x5e8c9b['z']},this['sortStartT'+'ime']===0x21c1+-0x1273*0x2+-0x7*-0x73&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x4b41f8['x'],'y':_0x4b41f8['y'],'z':_0x4b41f8['z']},'cameraDirection':{'x':_0x5e8c9b['x'],'y':_0x5e8c9b['y'],'z':_0x5e8c9b['z']}})));}['setCurrent'+'Time'](_0x2514c8){this['worker']&&(this['data']['time']=_0x2514c8,this['sortStartT'+'ime']===-0x9*0x147+-0x1de6*0x1+0x2965&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x2514c8}));}['setUseTemp'+'oralSort'](_0x26dbb1){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x26dbb1});}['setUseDyna'+'micSort'](_0x45496c){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x45496c});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x5cf*0x3+-0x1*0x23f1+0x3c*0x4f,0x25f5+0xfed+0x3*-0x11f6];class xC{constructor(_0x4a759e,_0x131639={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x430+0x1d95+0xc5*-0x21),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x2aebe6,_0x2e1239=void(-0x22c2+-0x486+-0x4*-0x9d2))=>{(_0x2e1239||_0x2e1239===-0x10e2+0xa22*-0x1+0x1b04)&&(this['material']['setParamet'+'er']('uTime',_0x2e1239),this['updateTime'](_0x2e1239)),this['sort'](_0x2aebe6);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x4a759e['numSplats']),this['resource']=_0x4a759e,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x131639['material']?(this['_material']=_0x131639['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x5*-0x652+0x19+0x1f81)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x1be*-0x14+-0x6b7+-0x1*-0x298f,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x2d9967,_0x1e8558,_0x40c37a,_0x1830f1,_0x1a96b9,_0x7b47a6,_0x8e7040,_0x320858,_0x188662,_0x236788,_0x307ac9;const _0x4bdbe1=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x40bbe8=new Float32Array(((_0x1e8558=(_0x2d9967=this['resource']['muT'])==null?void(0x104a+-0x1c*-0x1+0x1*-0x1066):_0x2d9967['buffer'])==null?void(0x23d3*-0x1+-0x3e*0x2e+0x2ef7):_0x1e8558['slice']())??new Float32Array()),_0x10d48=new Float32Array(((_0x1830f1=(_0x40c37a=this['resource']['tScale'])==null?void(0x1cc0+-0x1c1b+-0xa5):_0x40c37a['buffer'])==null?void(-0x2b7*-0x5+0x12e2+-0x2075):_0x1830f1['slice']())??new Float32Array()),_0x35ac9e=new Float32Array(((_0x7b47a6=(_0x1a96b9=this['resource']['motion'])==null?void(0x2*-0x89f+0x11cd+-0x8f*0x1):_0x1a96b9['buffer'])==null?void(0xc92+-0xd*0x2c6+0x177c):_0x7b47a6['slice']())??new Float32Array()),_0x29a9a6=new Float32Array(((_0x320858=(_0x8e7040=this['resource']['timeIndex'])==null?void(-0x1acc*0x1+0xb68+-0x7b2*-0x2):_0x8e7040['buffer'])==null?void(-0xd*0x1c3+0xbd+0x162a):_0x320858['slice']())??new Float32Array(-0x358+-0xa89*-0x1+-0x107*0x7)),_0x4762e5=new Float32Array(((_0x236788=(_0x188662=this['resource']['timeOption'])==null?void(0x1df9+-0x167b+0x77e*-0x1):_0x188662['buffer'])==null?void(0x164*0x1+-0x163d*0x1+0x9*0x251):_0x236788['slice']())??new Float32Array());(_0x307ac9=this['sorter'])==null||_0x307ac9['initData'](this['orderTextu'+'re'],_0x4bdbe1,_0x40bbe8,_0x10d48,_0x35ac9e,_0x29a9a6,_0x4762e5,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x471be4,_0x87856c,_0x4d40fa)=>{var _0x126c3e;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x471be4/this['resource']['instanceSi'+'ze']),_0x4d40fa&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x4d40fa&&((_0x126c3e=this['resource'])==null||_0x126c3e['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x471be4);}),this['setHighQua'+'litySH'](_0x131639['highQualit'+'ySH']??!(0x1cde*-0x1+-0xd*-0x18f+0x89c)));}async['updateInst'+'anceData'](_0x4d98b4){var _0x5df901,_0x11b7a3;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x4d98b4['numSplats']),this['resource']=_0x4d98b4;const _0x660ec7=this['resource']['evalTextur'+'eSize'](_0x4d98b4['centers']['length']/(-0x20e1*-0x1+-0xbe6*-0x2+0x2*-0x1c55));return(_0x5df901=this['backOrderT'+'exture'])==null||_0x5df901['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x660ec7),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0xeac+0x5*0x50f+-0x27f7)),(_0x11b7a3=this['sorter'])==null||_0x11b7a3['initData'](this['backOrderT'+'exture'],_0x4d98b4['centers'],_0x4d98b4['muT'],_0x4d98b4['tScale'],_0x4d98b4['motion'],_0x4d98b4['timeIndex'],_0x4d98b4['timeOption'],_0x4d98b4['is4D']),new Promise(_0x3f1c15=>{var _0x3e7c8e;const _0x4fc540=(_0x1c53ea,_0x365482,_0x203497)=>{var _0x4f339a;_0x203497&&((_0x4f339a=this['sorter'])==null||_0x4f339a['off']('updated',_0x4fc540),_0x3f1c15(!(0xc0+0x470+-0x530)));};(_0x3e7c8e=this['sorter'])==null||_0x3e7c8e['on']('updated',_0x4fc540);});}['destroy'](){var _0x5f3dd6,_0x1da22f,_0x1febe4,_0x32a135,_0x35ab90,_0x36ad8c;(_0x5f3dd6=this['resolveSH'])==null||_0x5f3dd6['destroy'](),(_0x1da22f=this['material'])==null||_0x1da22f['destroy'](),(_0x1febe4=this['meshInstan'+'ce'])==null||_0x1febe4['destroy'](),(_0x32a135=this['sorter'])==null||_0x32a135['destroy'](),(_0x35ab90=this['orderTextu'+'re'])==null||_0x35ab90['destroy'](),(_0x36ad8c=this['backOrderT'+'exture'])==null||_0x36ad8c['destroy']();}set['material'](_0x2ce2d2){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x2ce2d2&&(this['_material']=_0x2ce2d2,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x2ce2d2));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x3a8b30,_0x2a0409={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x3a8b30),_0x3a8b30['setParamet'+'er']('numSplats',0x25ed+-0x3d9+-0x2214*0x1),_0x3a8b30['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x3a8b30['setParamet'+'er']('alphaClip',-0x2fa*-0x5+0xdb3+-0x32d*0x9+0.3),_0x3a8b30['setDefine']('DITHER_'+(_0x2a0409['dither']?'BLUENOISE':'NONE'),''),_0x3a8b30['cull']=bt,_0x3a8b30['blendType']=_0x2a0409['dither']?Cs:Zs,_0x3a8b30['depthWrite']=!!_0x2a0409['dither'];}['updateView'+'port'](_0x54afc4){var _0x476adc;const _0x4c7036=_0x54afc4==null?void(0x970+-0x1513+0xba3):_0x54afc4['camera'],_0xab21b8=_0x4c7036==null?void(0x83b+-0x38b*0x2+-0x125):_0x4c7036['renderTarg'+'et'],{width:_0x4ca2f8,height:_0x4a39ae}=_0xab21b8??this['resource']['device'];Sc[0x9da+0x992+-0x136c]=_0x4ca2f8,Sc[-0x47*-0x32+0x1c73+-0x2a50]=_0x4a39ae;const _0x197f72=(_0x476adc=_0x4c7036==null?void(0x136b*0x2+0x1*-0x1945+-0x1*0xd91):_0x4c7036['camera'])==null?void(-0x8*0x29a+0x1*-0x21a7+-0x1*-0x3677):_0x476adc['xr'];_0x197f72!=null&&_0x197f72['active']&&_0x197f72['views']['list']['length']===-0xc68*-0x2+-0x14e5+-0x3e9&&(Sc[-0x132d*0x2+-0xee*0x22+0x45f6]*=0x242c+-0x12d8+-0x2*0x8aa+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x50a007){if(this['sorter']){const _0x5096ed=_0x50a007['getWorldTr'+'ansform']();_0x5096ed['getTransla'+'tion'](Va),_0x5096ed['getZ'](Ga);const _0x43a89b=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0xc1b33b=vC['invert'](_0x43a89b);_0xc1b33b['transformP'+'oint'](Va,Va),_0xc1b33b['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x50a007);}['update'](){var _0x538a18;if(this['cameras']['length']>0x61d*-0x1+-0x97a*-0x2+-0xcd7){const _0x22ca68=this['cameras'][-0x395*0x4+-0x2*0x291+-0x9bb*-0x2];this['sort'](_0x22ca68['_node']),(_0x538a18=this['resolveSH'])==null||_0x538a18['render'](_0x22ca68['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x6f1*0x5+0xf1a+-0x31cf;}}['setHighQua'+'litySH'](_0x36f5f1){const {resource:_0x31ad6a}=this,{gsplatData:_0x40a8a1}=_0x31ad6a;_0x40a8a1 instanceof gC&&_0x40a8a1['shBands']>0x4ac*0x8+0x1b0*0xa+-0x3640&&_0x36f5f1===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x31ad6a['device'],this));}['updateTime'](_0xfc3dd1){this['time']=_0xfc3dd1;}}class Rv{constructor(_0x211564,_0x482978){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x2403+0x18b5+-0x86*0x74)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x211564,this['gsplatData']=_0x482978,this['isDestroye'+'d']=!(-0x1ca*0xc+-0x2b*-0x23+-0x7cc*-0x2));const _0x2a4bd2=-0xd*0x1b5+-0x27*-0xac+-0x383,_0x1927d0=Math['ceil'](_0x482978['numSplats']/_0x2a4bd2)*_0x2a4bd2/_0x2a4bd2,_0x29478=new Uint32Array(_0x1927d0);for(let _0x5afc22=-0x5cb*-0x3+-0x1d60+0xbff;_0x5afc22<_0x1927d0;++_0x5afc22)_0x29478[_0x5afc22]=_0x5afc22*_0x2a4bd2;const _0x5d49dd=new kt(_0x211564,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x1d01+-0x1*-0x24cd+-0x7cc)}]),_0x1af35d=new Float32Array((0x23c5*0x1+-0x5df*0x5+-0x65e)*_0x2a4bd2),_0x8eb787=new Uint32Array((-0x260f+-0x1ded+0x2201*0x2)*_0x2a4bd2);for(let _0x31f0eb=0x13*-0x197+-0x5*-0xf1+0x1980*0x1;_0x31f0eb<_0x2a4bd2;++_0x31f0eb){_0x1af35d['set']([-(0x12df+-0x12d1+-0xd),-(0xc5f*0x1+-0xe1a+0x1bc),_0x31f0eb,0x1c2f+0x14f7+-0x3125,-(-0x25fc+0x101f+-0x74a*-0x3),_0x31f0eb,0x1bb*0x1+0x1ab5+-0x1c6f,0x1de2*0x1+-0x9b*-0x3+-0x1fb2*0x1,_0x31f0eb,-(0x61*-0x1+0x1829*-0x1+-0x67*-0x3d),-0x1*-0x2413+0xb45+-0x2f57,_0x31f0eb],_0x31f0eb*(-0x92*0xd+0x2e*-0x71+0x1bc4));const _0x59e0a6=_0x31f0eb*(0xb3a*-0x1+-0xd11+-0x31*-0x7f);_0x8eb787['set']([0x28b*-0x9+0x15ca+0x119*0x1+_0x59e0a6,-0x3f5+0x10f9+-0xd03+_0x59e0a6,0x16eb+-0x41b+-0x12ce+_0x59e0a6,0xd54*0x2+0xa84+-0x252c+_0x59e0a6,-0x72+0x1146+0x2*-0x869+_0x59e0a6,-0x766+-0x1123+-0x623*-0x4+_0x59e0a6],_0x31f0eb*(0xfb1+-0x8*-0xfa+-0x177b));}this['mesh']=new Ge(_0x211564),this['mesh']['setPositio'+'ns'](_0x1af35d,-0x7*0x1d0+0x20af+-0x13fc),this['mesh']['setIndices'](_0x8eb787),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x211564,_0x5d49dd,_0x1927d0,{'usage':ms,'data':_0x29478['buffer']});}['updateData'](){var _0x166ae3;const _0x2c936c=this['gsplatData'];if(!_0x2c936c)return;const _0x1a4ce4=0x2019+-0x12b1+-0xce8,_0x47eb31=Math['ceil'](_0x2c936c['numSplats']/_0x1a4ce4)*_0x1a4ce4/_0x1a4ce4,_0x38ef36=new Uint32Array(_0x47eb31);for(let _0x480078=0x319+-0x1cb1+-0x4e*-0x54;_0x480078<_0x47eb31;++_0x480078)_0x38ef36[_0x480078]=_0x480078*_0x1a4ce4;const _0x3f1ada=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0xc41+-0x1*0x1e08+0x1*0x11c7)}]),_0x4230a3=new Float32Array((0x19d7+-0x2211+0x3*0x2c2)*_0x1a4ce4),_0x337861=new Uint32Array((0x1*-0xb19+-0x2a5*-0xb+-0x11f8)*_0x1a4ce4);for(let _0x32cfd3=0x8dd+-0xa91*-0x1+-0x136e;_0x32cfd3<_0x1a4ce4;++_0x32cfd3){_0x4230a3['set']([-(-0xd*0x50+0x8ce*-0x3+-0x1e7b*-0x1),-(0x1*-0x1da2+0x57*-0x19+0x1311*0x2),_0x32cfd3,-0x21e7+0xd0a+0x14de,-(0x15*-0x10f+-0x1ba2+-0xd*-0x3d6),_0x32cfd3,0xb6b*-0x2+0x12*0x1b1+-0x79b,0x4*-0x370+0x178d*0x1+-0x42*0x26,_0x32cfd3,-(-0x17e*0x2+-0x5bd*0x1+0x2*0x45d),-0xa5a+-0x579*-0x2+-0x97,_0x32cfd3],_0x32cfd3*(-0x17ef+0x2155+-0x26*0x3f));const _0xfbd922=_0x32cfd3*(0x2200+0x1645+-0x3841);_0x337861['set']([0x6c9+0xe3f+0x1*-0x1508+_0xfbd922,-0x5*0x7bd+0x3fa*-0x4+0x369a+_0xfbd922,-0xd8e+-0x2*0x705+-0x2*-0xdcd+_0xfbd922,-0x6e2*0x4+0x5*-0x6af+0x3cf3+_0xfbd922,0x15*-0x1b7+-0x11ec*-0x2+0x9*0x5+_0xfbd922,-0x1120+0x14d9+-0x3b6+_0xfbd922],_0x32cfd3*(0x23fc+-0x22fd+-0xf9));}this['mesh']['setPositio'+'ns'](_0x4230a3,-0x5c9*0x1+0xfbc+-0x9f0),this['mesh']['setIndices'](_0x337861),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x166ae3=this['instanceIn'+'dices'])==null||_0x166ae3['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x3f1ada,_0x47eb31,{'usage':ms,'data':_0x38ef36['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x44a625,_0x3860ed,_0x2977da,_0x1ecd9f;(_0x44a625=this['mesh'])==null||_0x44a625['destroy'](),(_0x3860ed=this['instanceIn'+'dices'])==null||_0x3860ed['destroy'](),(_0x2977da=this['gsplatData'])==null||_0x2977da['destroy'](),this['gsplatData']=null,(_0x1ecd9f=this['gsplatInst'+'ance'])==null||_0x1ecd9f['destroy'](),this['gsplatInst'+'ance']=void(0x37*0x4f+-0x18f4+0x7fb),this['isDestroye'+'d']=!(-0x124d+0xbf6+0x1*0x657),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x7*-0x15+0x2*0x81+-0x11*-0x1;}get['numSplats'](){var _0x42e5bb;return(_0x42e5bb=this['gsplatData'])==null?void(0x24be+0x1*0xd73+-0x3231):_0x42e5bb['numSplats'];}['setSceneIn'+'fo'](_0x57874f){}['configureM'+'aterial'](_0x489376){}['evalTextur'+'eSize'](_0x2b6063){return J['ZERO'];}['appendGSpl'+'atResource'](_0x1e4592,_0x1b6dee,_0x54d51d,_0x2c39d4,_0x221738){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x10b590,_0xa2688,_0x1ddf92,_0x543001){return new _e(this['device'],{'name':_0x10b590,'width':_0x1ddf92['x'],'height':_0x1ddf92['y'],'format':_0xa2688,'cubemap':!(-0x6fc+0x1f*0xa4+-0xcdf*0x1),'mipmaps':!(-0x1234+0x1f11+-0xcdc),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x543001?{'levels':[_0x543001]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x15330a,_0x5f4ab9){return this['gsplatInst'+'ance']=new xC(_0x15330a,_0x5f4ab9),this['gsplatInst'+'ance'];}}async function TC(){const _0x22bdbd=new Float32Array(0xc*-0x200+-0x1*0x3f5+0x6*0x4a9),_0x350446=new Int32Array(_0x22bdbd['buffer']);let _0x2df714=null,_0x5ce2eb=null,_0x51ec9c=null,_0x2a1f4c=null,_0x26f77e=null,_0xdfddc4=null,_0x4ec941=null,_0x3c7bf6=null;self['onmessage']=async _0x12bad0=>{const {data:_0x18b46f}=_0x12bad0;switch(_0x18b46f['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x2b8b7f(_0x18b46f['numSplats'],_0x18b46f['shBands'],_0x18b46f['SHData']);break;case'updateColo'+'rData':_0x2c7597(_0x18b46f['numSplats'],_0x18b46f['cr'],_0x18b46f['cg'],_0x18b46f['cb'],_0x18b46f['ca']);break;case'updateTran'+'sformData':_0x37f910(_0x18b46f['numSplats'],_0x18b46f['is4D'],_0x18b46f['x'],_0x18b46f['y'],_0x18b46f['z'],_0x18b46f['rx'],_0x18b46f['ry'],_0x18b46f['rz'],_0x18b46f['rw'],_0x18b46f['mx'],_0x18b46f['my'],_0x18b46f['mz'],_0x18b46f['sx'],_0x18b46f['sy'],_0x18b46f['sz'],_0x18b46f['muT'],_0x18b46f['tScale']);break;case'calcAabb':_0x556328(_0x18b46f['numSplats'],_0x18b46f['x'],_0x18b46f['y'],_0x18b46f['z'],_0x18b46f['sx'],_0x18b46f['sy'],_0x18b46f['sz']);break;case'destroyWor'+'ker':_0x312cce();break;}};class _0x29f914{constructor(_0x452cc0=-0x9df*0x1+0x22d*-0x4+0x1293,_0x5cb416=0x9d*0x1b+0x1b90+-0x2c1f,_0x3281fc=-0xa2b+-0x714+0x113f,_0x3ea88c=0x680+0x254e*-0x1+-0x21*-0xef){this['x']=_0x452cc0,this['y']=_0x5cb416,this['z']=_0x3281fc,this['w']=_0x3ea88c;}['set'](_0x6c12e7,_0xbc4f3d,_0x590a5e,_0x4f462c){return this['x']=_0x6c12e7,this['y']=_0xbc4f3d,this['z']=_0x590a5e,this['w']=_0x4f462c,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x227dbf=this){let _0x38a567=_0x227dbf['length']();return _0x38a567===-0x8e*-0x44+-0x1d49+0x86f*-0x1?(this['x']=this['y']=this['z']=0x1367+0x175*0x16+0x1*-0x3375,this['w']=-0x317+-0x1278+0x1590):(_0x38a567=(-0xc77+0x1e55+-0x11dd)/_0x38a567,this['x']=_0x227dbf['x']*_0x38a567,this['y']=_0x227dbf['y']*_0x38a567,this['z']=_0x227dbf['z']*_0x38a567,this['w']=_0x227dbf['w']*_0x38a567),this;}['mulScalar'](_0x22f23f,_0x6a4f39=this){return this['x']=_0x6a4f39['x']*_0x22f23f,this['y']=_0x6a4f39['y']*_0x22f23f,this['z']=_0x6a4f39['z']*_0x22f23f,this['w']=_0x6a4f39['w']*_0x22f23f,this;}}const _0x2099f1=_0x183813=>{_0x22bdbd[-0x1180+-0x2*-0x4f0+0x7a0]=_0x183813;const _0x4c214e=_0x350446[-0x5b4+-0x6b5+0xc69];let _0x3379ac=_0x4c214e>>-0x5f9*0x1+0x2451+-0x1e48&0x1*-0x78ef+0xf1*-0xf2+0x1dcc1,_0x2e7b4a=_0x4c214e>>0x4c+0x1d6b*0x1+0x1f*-0xf5&0x10ea+-0x183*0x1+-0x4f*0x18;const _0x30fe0c=_0x4c214e>>0x5*-0x7f+-0x239a+0x262c&0x63c+-0x119a+-0xd3*-0xf;return _0x30fe0c<0xcd9+-0x387+-0x8eb?_0x3379ac:_0x30fe0c>0x1*0x1f69+0x5*-0x22d+-0x13fa?(_0x3379ac|=0x2*-0x25af+0xf*-0xf63+0xd*0x2117,_0x3379ac|=(_0x30fe0c===-0x2b*-0x7a+0xa9e*0x2+0x28bb*-0x1?0xb71+-0x1*-0x1212+-0x1*0x1d83:-0xe27+-0x6f4*-0x4+-0xda8)&&_0x4c214e&-0x2*-0x36a4b9+-0xe1*0x33d2+0x18e3*0x295,_0x3379ac):_0x30fe0c<-0x7f+-0x1*0x238a+-0x7*-0x536?(_0x2e7b4a|=0x83e+0x1ed*-0xb+-0x6fb*-0x3,_0x3379ac|=(_0x2e7b4a>>0x1*-0x2265+-0x1612+0x38e9-_0x30fe0c)+(_0x2e7b4a>>-0x52a*-0x2+-0x5*0x205+0x36-_0x30fe0c&0x1171+0x69+0x5f3*-0x3),_0x3379ac):(_0x3379ac|=_0x30fe0c-(0x2f6*0xa+-0x35f+0x1*-0x19cd)<<0xb5*-0x17+-0x3e8+0x1435|_0x2e7b4a>>0x19*-0xca+-0x6a*-0x35+-0x237,_0x3379ac+=_0x2e7b4a&0x5*0x33f+0x2*0xf89+-0x2f4c*0x1,_0x3379ac);},_0x556328=(_0xe5e203,_0xb4dcfd,_0xe5f9e7,_0x3dfb0b,_0x1a7284,_0x3f82d8,_0x22d1ad)=>{let _0x4ee100=-0x5*-0x145+0x127*-0x2+0x5*-0xcf,_0x5573a1=0x1285+-0x7e1*-0x4+0x3209*-0x1,_0x5ebac8=0x126e+-0x4eb*-0x1+-0x1759,_0x939fc4=-0x1*-0xe55+0x2289+-0x2*0x186f,_0x46f8a9=-0x2ff*0x9+-0x459*0x1+0x1f50*0x1,_0x29fa87=-0x1*-0x1c81+-0x13*-0x10+0x2b3*-0xb,_0x2dacfb=!(-0xd48+-0x76f*-0x5+-0x1*0x17e3);const _0x2cd731=new Float32Array(0x1dac+0x2366+-0x410f),_0x5f2dce=new Float32Array(-0x2454+0x1341+0x1116);for(let _0x172d32=0x24e1+-0x1*-0x10e8+-0x35c9*0x1;_0x172d32<_0xe5e203;++_0x172d32){const _0x5dc774=_0xb4dcfd[_0x172d32],_0x4b9067=_0xe5f9e7[_0x172d32],_0x201983=_0x3dfb0b[_0x172d32],_0x2bda7f=Math['max'](_0x1a7284[_0x172d32],_0x3f82d8[_0x172d32],_0x22d1ad[_0x172d32]);if(!isFinite(_0x5dc774)||!isFinite(_0x4b9067)||!isFinite(_0x201983)||!isFinite(_0x2bda7f))continue;const _0x5c460e=(0xde5*0x1+-0x413*0x1+-0x9d0)*Math['exp'](_0x2bda7f);_0x2dacfb?(_0x2dacfb=!(0x22a*0x1+0xb4c+0xd75*-0x1),_0x4ee100=_0x5dc774-_0x5c460e,_0x5573a1=_0x4b9067-_0x5c460e,_0x5ebac8=_0x201983-_0x5c460e,_0x939fc4=_0x5dc774+_0x5c460e,_0x46f8a9=_0x4b9067+_0x5c460e,_0x29fa87=_0x201983+_0x5c460e):(_0x4ee100=Math['min'](_0x4ee100,_0x5dc774-_0x5c460e),_0x5573a1=Math['min'](_0x5573a1,_0x4b9067-_0x5c460e),_0x5ebac8=Math['min'](_0x5ebac8,_0x201983-_0x5c460e),_0x939fc4=Math['max'](_0x939fc4,_0x5dc774+_0x5c460e),_0x46f8a9=Math['max'](_0x46f8a9,_0x4b9067+_0x5c460e),_0x29fa87=Math['max'](_0x29fa87,_0x201983+_0x5c460e));}_0x2dacfb||(_0x2cd731[-0x1ff4*-0x1+0x162a+-0x361e]=(_0x4ee100+_0x939fc4)*(0xe8+0x32b*0x3+-0xa69+0.5),_0x2cd731[0x16f5+0x94*0x1f+-0x28e0]=(_0x5573a1+_0x46f8a9)*(0x1f2a*0x1+0xc1*-0x28+0x6*-0x2b+0.5),_0x2cd731[-0x18de*0x1+-0xfc+0x19dc]=(_0x5ebac8+_0x29fa87)*(-0x1b77+0x1b5*0x16+0x9*-0x11f+0.5),_0x5f2dce[-0x3d*-0x9d+-0x1b29+-0xa40]=(_0x939fc4-_0x4ee100)*(-0x5bf+0x5*-0x356+0x166d+0.5),_0x5f2dce[0x4*0x734+-0x6*-0x4cf+-0x39a9]=(_0x46f8a9-_0x5573a1)*(0xc33+-0x26eb+0x1ab8+0.5),_0x5f2dce[0x1fd*0x1+-0x4f+-0x1ac]=(_0x29fa87-_0x5ebac8)*(-0xf62+0x1b5f+-0xbfd+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x2cd731,'halfExtents':_0x5f2dce});},_0x37f910=(_0x5afba3,_0x3814c7,_0x116699,_0x3386db,_0x2e6198,_0x2659d9,_0x30b5a2,_0x4f3a33,_0xdb15e0,_0x1bc9d7,_0x2224e8,_0x3a45d7,_0x264208,_0x33b996,_0x30970f,_0x19dd7b,_0x326cd2)=>{_0x312cce(),_0x2df714=new Float32Array(_0x5afba3*(0x5f8+-0x1*-0x646+0xc3b*-0x1)),_0x2a1f4c=new Float32Array(_0x5afba3*(-0x1*0x25a3+0x9*-0x1f+0x2f*0xd3)),_0xdfddc4=new Uint16Array(_0x5afba3*(0x3*0x1f3+0x380+-0x956)),_0x51ec9c=new Float32Array(_0x5afba3*(-0xdf3*0x1+0x62*-0x1+0xe58)),_0x3814c7&&(_0x26f77e=new Float32Array(_0x5afba3*(-0xf78+0x16fa+-0x77f)),_0x5ce2eb=new Float32Array(_0x5afba3*(-0x8*-0x449+0x26ef+-0x4934)),_0x4ec941=new Float32Array(_0x5afba3*(0x2e4+-0xcb1+0x9d0)),_0x3c7bf6=new Float32Array(_0x5afba3));const _0x1dcf72=new _0x29f914(0x41e+0x17ac+-0x1bca,-0xa31+-0x2*0x10bf+0x2baf,-0xbb2+0x1*0xafd+0xb5,-0x1e12+-0x44d*-0x1+-0x897*-0x3);for(let _0x833d89=0xc22+-0x3ec*0x3+-0x1*0x5e;_0x833d89<_0x5afba3;_0x833d89++)_0x1dcf72['set'](_0x2659d9[_0x833d89],_0x30b5a2[_0x833d89],_0x4f3a33[_0x833d89],_0xdb15e0[_0x833d89]),_0x1dcf72['normalize'](),_0x1dcf72['w']<-0x73*0x3f+0x2*0x4b8+0xb*0x1b7&&_0x1dcf72['mulScalar'](-(-0x635+-0x25ad+0x2be3)),_0x2a1f4c[_0x833d89*(-0x20e9+-0x1354+0x344*0x10)+(0x8a*0x24+-0xe19+-0x54f)]=_0x116699[_0x833d89],_0x2a1f4c[_0x833d89*(0x4*-0x5ba+-0x1057*-0x1+0x694)+(-0xe92+-0x743*0x1+-0xa*-0x22f)]=_0x3386db[_0x833d89],_0x2a1f4c[_0x833d89*(-0x127*-0x15+0x4c3+-0x1cf3)+(-0x1*0xd3c+0x461*-0x7+-0x2be5*-0x1)]=_0x2e6198[_0x833d89],_0x2df714[_0x833d89*(0x1dc1+0x1ec4+-0x3c82)+(0x19fb*0x1+-0x1911+-0x3*0x4e)]=_0x116699[_0x833d89],_0x2df714[_0x833d89*(-0x2144+-0x1*-0x78e+0x525*0x5)+(-0x43*-0x23+-0x5*0x42b+0xbaf)]=_0x3386db[_0x833d89],_0x2df714[_0x833d89*(0x12*-0xef+0xecc+0x205)+(-0xea+0x265a+-0x256e)]=_0x2e6198[_0x833d89],_0xdfddc4[_0x833d89*(0x527+-0x12b+0x3*-0x153)+(-0x358+-0x1*-0x25e5+-0x228d)]=_0x2099f1(Math['exp'](_0x264208[_0x833d89])),_0xdfddc4[_0x833d89*(-0xc32+-0x3*0x6e2+-0x20db*-0x1)+(-0x122+0x1b67*-0x1+-0xe45*-0x2)]=_0x2099f1(Math['exp'](_0x33b996[_0x833d89])),_0xdfddc4[_0x833d89*(-0x17a+0x2d*-0x4+0x11*0x21)+(0x17c8+0x179d+0x7*-0x6c5)]=_0x2099f1(Math['exp'](_0x30970f[_0x833d89])),_0x51ec9c[_0x833d89*(0x1af+-0xf02+-0x6ab*-0x2)+(-0x9f9+-0x22e7+0x2ce*0x10)]=_0x1dcf72['x'],_0x51ec9c[_0x833d89*(0x158+0x316*0x5+0x265*-0x7)+(-0x5*0x34f+0x3*-0x9db+-0x1*-0x2e1d)]=_0x1dcf72['y'],_0x51ec9c[_0x833d89*(-0x6*0x15d+-0x2*-0x58f+0x1*-0x2ed)+(0xc65+-0x443*-0x5+0x13*-0x1c6)]=_0x1dcf72['z'],_0x3814c7&&_0x26f77e&&_0x5ce2eb&&(_0x26f77e[_0x833d89*(0x15f8+0x434*-0x1+0x1f9*-0x9)+(0x1028*0x1+-0x2*0x433+-0x7c2)]=_0x1bc9d7[_0x833d89],_0x26f77e[_0x833d89*(0xda2+0x2*-0x89+-0xc8d)+(-0x1*-0xd13+0xbb6+0x8*-0x319)]=_0x2224e8[_0x833d89],_0x26f77e[_0x833d89*(-0xd12+0xec3*0x1+-0x1ae)+(0x2617+0x1*-0x1fab+-0x66a)]=_0x3a45d7[_0x833d89],_0x4ec941[_0x833d89*(-0x4b7*-0x5+0x6*-0x31d+-0x4e2)+(-0x19f1*-0x1+0x1c2c+0x1*-0x361d)]=_0x1bc9d7[_0x833d89],_0x4ec941[_0x833d89*(-0x6d*-0x4f+-0xf45+0x25*-0x7f)+(-0x49a*-0x4+-0x99e+-0x8c9)]=_0x2224e8[_0x833d89],_0x4ec941[_0x833d89*(0xb5a+0x2253+-0x686*0x7)+(0xa2d*0x1+0xfc3*0x1+-0x19ee*0x1)]=_0x3a45d7[_0x833d89],_0x3c7bf6[_0x833d89]=_0x326cd2?Math['exp'](_0x326cd2[_0x833d89]):0x2f0*0xb+0x31*-0x33+-0x17*0xfb,_0x5ce2eb[_0x833d89*(-0x188d+-0x26e1+0x3f71)+(0x14aa+-0x150c+0x62)]=_0x19dd7b?_0x19dd7b[_0x833d89]:-0xd34+0x485*-0x8+0x315c,_0x5ce2eb[_0x833d89*(0xd*-0x71+-0x4ef+0x5*0x223)+(-0x15d*0x8+-0x22b+0x6c*0x1f)]=_0x3c7bf6[_0x833d89]);const _0x15ca03=[_0x2df714['buffer'],_0x2a1f4c['buffer'],_0xdfddc4['buffer'],_0x51ec9c['buffer']];_0x3814c7&&_0x15ca03['push'](_0x26f77e['buffer'],_0x5ce2eb['buffer'],_0x4ec941['buffer'],_0x3c7bf6['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x2df714,'dataPosition':_0x2a1f4c,'dataScale':_0xdfddc4,'dataRotation':_0x51ec9c,'dataMotion':_0x26f77e,'dataTime':_0x5ce2eb,'motion':_0x4ec941,'tScaleArray':_0x3c7bf6},_0x15ca03);},_0x2c7597=(_0x14b2c1,_0x4f386a,_0x418b66,_0x32310e,_0x33b79c)=>{const _0x20d604=new Uint16Array(_0x14b2c1*(-0x64a*0x5+-0x6d*0x59+-0x35*-0x14f)),_0x51c6aa=-0x16c1+0x2e3*0x5+-0x429*-0x2+0.28209479177387814;for(let _0x33a67f=-0x1c2b*0x1+-0xe94+0x1f*0x161;_0x33a67f<_0x14b2c1;++_0x33a67f){const _0x177e51=_0x4f386a[_0x33a67f]*_0x51c6aa+(0x2*0xcc7+0x29*0x83+-0x169*0x21+0.5),_0x5d445c=_0x418b66[_0x33a67f]*_0x51c6aa+(0x959+0x14e8+-0x5*0x60d+0.5),_0x681da7=_0x32310e[_0x33a67f]*_0x51c6aa+(0xe14+-0x215e+-0x134a*-0x1+0.5),_0xb56ef6=_0x33b79c[_0x33a67f];_0x20d604[_0x33a67f*(0xa6*-0x4+-0x27*-0xaf+-0x180d)+(-0x2*-0x178+-0x107c+0xd8c)]=_0x2099f1(_0x177e51),_0x20d604[_0x33a67f*(0x25f*0x1+-0xb61+0x14a*0x7)+(-0x39f+-0x259e+0x293e)]=_0x2099f1(_0x5d445c),_0x20d604[_0x33a67f*(0x13*0xf5+0x6a4+0x3*-0x845)+(-0x1f42+0x4fd+0x1a47)]=_0x2099f1(_0x681da7),_0x20d604[_0x33a67f*(0x1b3e+-0xe6b+-0xccf)+(-0x101*-0x1e+-0x2*-0x11e1+-0x511*0xd)]=_0x2099f1(_0xb56ef6);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x20d604});},_0x2b8b7f=(_0x479398,_0x556944,_0x1090b5)=>{const _0x24548d=new Uint32Array(_0x479398*(0x4*0x429+-0xf42+-0x2*0xaf)),_0x1ac9a1=new Uint32Array(_0x479398*(0x107b*0x1+-0x1533+0x4bc)),_0x342f8d=new Uint32Array(_0x479398*(0x26c4+-0x529*0x5+-0xcf3)),_0x3d284b=new Uint32Array(_0x479398*(-0x11+-0x1e5*-0x3+-0x59a)),_0x305a7c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x556944],_0xa9376f=_0x1090b5,_0x579a2a=0x22b3+-0x8*0x35d+-0x34*-0x1,_0x230dba=-0x1900+-0x1daa*-0x1+-0xab*0x1,_0x279391=new Float32Array(0x1de1*-0x1+-0x839*0x3+0x368d),_0x2c009b=new Uint32Array(_0x279391['buffer']),_0x5cfa0c=new Array(_0x305a7c*(0x44*0x7+-0x617+0x1*0x43e))['fill'](-0x1b5c+-0xd1f+0x287b);for(let _0x1d4970=-0x8fd+0x1*0x295+0x28*0x29;_0x1d4970<_0x479398;++_0x1d4970){for(let _0x3e40d4=0x223*-0xe+0x2102+-0x48*0xb;_0x3e40d4<_0x305a7c;++_0x3e40d4)_0x5cfa0c[_0x3e40d4*(-0xf45*-0x2+0x3b*-0x2+-0x1e11)]=_0xa9376f[_0x3e40d4][_0x1d4970],_0x5cfa0c[_0x3e40d4*(-0xb82+0x1*0xfa3+0x20f*-0x2)+(0x78f+0x48d*0x2+-0x68*0x29)]=_0xa9376f[_0x3e40d4+_0x305a7c][_0x1d4970],_0x5cfa0c[_0x3e40d4*(-0x2586*0x1+0x3b*-0x35+0x31c0)+(0x18e5*0x1+0x1*-0x11ed+-0x6f6)]=_0xa9376f[_0x3e40d4+_0x305a7c*(0x1*-0x180b+0x24a*0xa+0x129)][_0x1d4970];let _0x278210=_0x5cfa0c[0x19f*-0x3+0x1a99*0x1+-0x15bc];for(let _0x3f88ae=-0x1731+-0xa23+0x2155;_0x3f88ae<_0x305a7c*(-0x8b1+0xbfd+-0x349);++_0x3f88ae)_0x278210=Math['max'](_0x278210,Math['abs'](_0x5cfa0c[_0x3f88ae]));if(_0x278210!==-0xbe2+0x14f*0x9+0x1b){for(let _0x51034d=0x142*-0x3+-0x72f*-0x3+0x5ed*-0x3;_0x51034d<_0x305a7c;++_0x51034d)_0x5cfa0c[_0x51034d*(0x149*0xd+-0xf72+-0xa*0x20)+(-0x1ba2+-0xe2+0xa*0x2da)]=Math['max'](0x20d5+0x1ccc+0x3*-0x148b,Math['min'](_0x579a2a,Math['floor']((_0x5cfa0c[_0x51034d*(-0x154d*0x1+-0x1dc4+0x3314*0x1)+(-0x1873+0x526+0x134d)]/_0x278210*(0x1*-0x8db+0x1*-0x6+0x8e1+0.5)+(0x1f0e+0x14a4+-0x33b2+0.5))*_0x579a2a+(-0x15c9*-0x1+0x87f*0x1+0x18*-0x143+0.5)))),_0x5cfa0c[_0x51034d*(0x179d+0x2151+-0x9*0x653)+(0xdf*-0x27+0x1*-0x879+-0x1*-0x2a73)]=Math['max'](-0x1103+-0x11*0x76+0x18d9*0x1,Math['min'](_0x230dba,Math['floor']((_0x5cfa0c[_0x51034d*(0x23*0x67+0x200e+-0x60*0x7b)+(-0x216*0x2+-0x1085+0x14b2*0x1)]/_0x278210*(0x134e+0x4*0x148+-0x186e+0.5)+(0xc4c+0x86b+-0x14b7*0x1+0.5))*_0x230dba+(-0x1*0x58f+0xd8*0x2c+-0x1f91+0.5)))),_0x5cfa0c[_0x51034d*(0x10cf*-0x1+-0x16f6+0x27c8)+(0xf2c+-0xb*-0x2b1+-0x9d*0x49)]=Math['max'](0x5*-0xa3+-0x4fb+0x82a,Math['min'](_0x579a2a,Math['floor']((_0x5cfa0c[_0x51034d*(0x34d+-0x11*0x4e+-0x1e4*-0x1)+(0x3fe*0x1+-0x12ad+-0x1*-0xeb1)]/_0x278210*(0x33b*0x7+0x416*0x1+-0x1ab3+0.5)+(0xb41*0x1+0x9a6+-0x14e7+0.5))*_0x579a2a+(-0x757+-0x159b*-0x1+-0x1*0xe44+0.5))));_0x279391[0x8*0x232+0x18ed*-0x1+-0x91*-0xd]=_0x278210,_0x24548d[_0x1d4970*(-0x1f2a+0x3*-0x21e+0x4b1*0x8)+(-0x19a9+0x1844+0x165)]=_0x2c009b[-0x68+-0x442*0x3+-0x7*-0x1e2],_0x24548d[_0x1d4970*(-0x1819+-0xa21*-0x1+0x5*0x2cc)+(0x24ff+0x4be*0x6+-0x4172)]=_0x5cfa0c[0xf50+0x263c+-0x358c]<<-0xb4b*0x3+0xfa8+0x124e|_0x5cfa0c[0x4*-0xd9+0xb*-0x148+-0xb*-0x197]<<0x13d9*-0x1+-0x67*0x1d+0x1*0x1f8f|_0x5cfa0c[-0x1*-0xb2d+-0x1046+0x51b],_0x24548d[_0x1d4970*(-0x43*-0x8e+0x1272+0x4*-0xde6)+(0x1eb4+-0x298*-0xc+-0x3dd2)]=_0x5cfa0c[0x8bc*0x3+0x25*-0xe3+0xf2*0x7]<<-0x8a9+-0xf*0x185+0x1f89|_0x5cfa0c[0x3*-0x6da+0x1309*0x1+0x1*0x189]<<-0x5b8*0x4+-0xea7+0x2592|_0x5cfa0c[0x12d0*0x1+0x20f9*0x1+-0x4*0xcf1],_0x24548d[_0x1d4970*(0x6*-0x101+-0x1b0c+0x2116)+(0x1386+-0xe*-0xba+0x1bf*-0x11)]=_0x5cfa0c[0xd60+-0x1*-0x1867+0x25c1*-0x1]<<-0x15e0+-0x256a+0x3b5f|_0x5cfa0c[-0x145a+0x19fa+-0x599]<<0x1*-0x5e9+-0x1f74+0x2568|_0x5cfa0c[0x3*-0xcc6+-0x1587+-0x1*-0x3be1],_0x556944>0x1*0x7ed+-0x4*-0x27a+0x1*-0x11d4&&(_0x1ac9a1[_0x1d4970*(-0x1f7*-0x10+0x1fea+-0x3f56)+(-0x1a47+0x25e6+-0x77*0x19)]=_0x5cfa0c[0x1708+0x5b1+-0x6c*0x44]<<-0x8*0x1b4+-0x19f2+0x27a7|_0x5cfa0c[0x1bef*0x1+0xb5*0x22+-0x33ef]<<-0xa*0x8f+0x88*-0x9+0xa69|_0x5cfa0c[-0x15b*-0x4+0x150b+-0x1a6c],_0x1ac9a1[_0x1d4970*(0xa9*0x2b+0x2*-0xad9+-0x1*0x6ad)+(0x239f+-0xb*-0x14b+-0x109d*0x3)]=_0x5cfa0c[0xd72*-0x1+0x5*0x67f+-0x12fd]<<0x1330*-0x1+-0x1e76+-0x1*-0x31bb|_0x5cfa0c[0x3*0x50f+-0x1b3b*-0x1+-0x2a5b]<<-0xf6+0x1d5+-0xd4|_0x5cfa0c[-0x23ac+-0x1cce+0x4088],_0x1ac9a1[_0x1d4970*(0x3*-0xa86+-0x46c*-0x3+0x1252)+(0x1*-0x187b+0x7ab+-0x10d2*-0x1)]=_0x5cfa0c[-0x1ea+-0xcf1+0xeea]<<0xb4*-0x15+-0x1463+0x233c|_0x5cfa0c[0x1*-0x24f5+0x2*-0xb90+0xad*0x59]<<0x25*0x5c+-0x219*0x12+0x9*0x2b9|_0x5cfa0c[0x7aa*0x4+0xd7f+0xab*-0x42],_0x1ac9a1[_0x1d4970*(-0xbb*-0x11+-0x1087+0x3*0x160)+(-0x11ed+-0x997*0x2+0x251e)]=_0x5cfa0c[-0x190c+-0x1*0x2217+-0x17*-0x293]<<0xf9a*0x1+0x9ac+-0x1931|_0x5cfa0c[-0xb*0x15b+-0x9dd*0x2+0x22b6]<<0x1*0x246c+0x35a+0x1*-0x27bb|_0x5cfa0c[-0x57*-0x3b+-0x22ed+0x6*0x27e],_0x556944>0x1e69+-0x1a*0xf9+0x1*-0x51d?(_0x342f8d[_0x1d4970*(-0x8f4+0x1*-0x95f+0x1257)+(-0x10d0+0x550+0xb80)]=_0x5cfa0c[0x1a34+-0x1*0x3be+0x1*-0x1661]<<0x1846+-0x1937+0x106|_0x5cfa0c[-0x1942+-0x1bae+0x3506]<<0x122e+-0xeb4+-0x125*0x3|_0x5cfa0c[0xfa8+-0x1e4b+-0x1*-0xeba],_0x342f8d[_0x1d4970*(-0x307*0x3+-0x234b+0x4*0xb19)+(-0x9d*0x22+0x22fb+-0xe20)]=_0x5cfa0c[0x1944+-0xd69+-0x1*0xbc3]<<0x1*-0x26e3+0xead+-0x9*-0x2b3|_0x5cfa0c[-0x1f73+-0xc56+0x2be2]<<-0x1896*0x1+0x21*-0x87+-0x10d*-0x28|_0x5cfa0c[-0x34c*0x8+-0x271+0x1*0x1ceb],_0x342f8d[_0x1d4970*(-0xb22+0x1856+-0x1a6*0x8)+(-0x3c9+0xca*-0x1e+0x4f*0x59)]=_0x5cfa0c[0x29*-0x87+0x7f4+0x56*0x29]<<0x1891*-0x1+0x3*0xc9a+0xd28*-0x1|_0x5cfa0c[0x306*0x5+0x5*-0x709+-0x6b9*-0x3]<<0x6*0x1e2+0x1a66*0x1+-0x25a7|_0x5cfa0c[0x26b*-0x4+0x2057*-0x1+0x2a20],_0x342f8d[_0x1d4970*(0x109a+-0xad1*0x2+0x50c)+(-0x2680+0x33*0x49+0x17f8)]=_0x5cfa0c[-0x23c7+0x8d*0x1d+0x13ec]<<-0x14*0x79+0x1*-0x21e2+0x27*0x11d|_0x5cfa0c[-0x9d*0x6+-0x969*-0x2+-0xf05]<<-0x74*-0x3e+-0xbf2*-0x2+0x1*-0x33f1|_0x5cfa0c[0x26de*0x1+0x1*-0x1b6d+-0xb51],_0x3d284b[_0x1d4970*(0x10e5+-0x15c1+0x27*0x20)+(-0x16f0+-0x1f41+0x3631)]=_0x5cfa0c[0x1f*-0x7+0x1*0x116+0x7*-0x4]<<-0x104*0x2+-0x930+0xb4d|_0x5cfa0c[0x1f9f+-0xb5*-0x28+0x56f*-0xb]<<0x97*-0x3e+0x669*-0x1+0x2b06|_0x5cfa0c[0x872+0x2663+0x2*-0x1759],_0x3d284b[_0x1d4970*(-0x1*0x23fb+-0x1*0x140b+0x380a)+(0x1f1b*-0x1+0x7*-0x4bb+0x29*0x191)]=_0x5cfa0c[0x17b*-0x5+-0x147d+0x256*0xc]<<0x1*0x1ca2+-0x20fe+0x471|_0x5cfa0c[0x272*-0xa+-0x4*-0x5b5+0x1c5]<<-0x76*-0x11+-0x74a+-0x81|_0x5cfa0c[0x229*0xf+0x6a4+0x3*-0xcf7],_0x3d284b[_0x1d4970*(0x6a*0x47+0xe96*-0x1+-0x766*0x2)+(0x1*-0x649+-0x2*-0x61+0x589*0x1)]=_0x5cfa0c[0xf2a+-0x20*0x10e+-0x27*-0x7b]<<0x1d5b+0xb32*-0x1+-0x1*0x1214|_0x5cfa0c[-0x23*-0x9+-0x81d+0x6a*0x11]<<-0x24e+0x40*-0x10+0x41*0x19|_0x5cfa0c[-0x2f*0x19+-0x2186+0x8e*0x45],_0x3d284b[_0x1d4970*(-0x880+-0x5*0x73c+-0xb*-0x410)+(0x1*0x1af9+0x2*-0x1085+0x614)]=_0x5cfa0c[0x4ea+-0x9*-0x185+-0x59*0x35]<<0xcf3+-0x807+0x4d7*-0x1|_0x5cfa0c[-0x217+-0x87b*0x1+0xabd]<<-0xcde+-0x1*-0x110b+-0x422|_0x5cfa0c[-0x1d76+0x24f3+0x1*-0x751]):_0x342f8d[_0x1d4970]=_0x5cfa0c[-0x1d76+-0x9*-0x233+0x9c0]<<-0xe4a+0xf44+-0xe5*0x1|_0x5cfa0c[-0x1137+-0x1240+-0x1df*-0x13]<<0x211c+-0xf6a+-0x11a7|_0x5cfa0c[0x42d+0x51e+0x2*-0x49a]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x24548d,'sh4to7Data':_0x1ac9a1,'sh8to11Data':_0x342f8d,'sh12to15Data':_0x3d284b}},[_0x24548d['buffer'],_0x1ac9a1['buffer'],_0x342f8d['buffer'],_0x3d284b['buffer']]);},_0x312cce=()=>{_0x2df714=null,_0x5ce2eb=null,_0x51ec9c=null,_0x2a1f4c=null,_0x26f77e=null,_0xdfddc4=null,_0x4ec941=null,_0x3c7bf6=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x40a9a1,_0x40fc8b,_0x45bcf4){_0x40a9a1['onmessage']=_0x33a1a9=>{if(!this['worker'])return;const {data:_0x178c64}=_0x33a1a9;if(_0x178c64['type']===_0x40fc8b)switch(_0x40fc8b){case'updatedSHD'+'ata1':_0x45bcf4(_0x178c64['data']);break;case'updatedCol'+'orData':_0x45bcf4(_0x178c64['data']);break;case'updatedTra'+'nsformData':_0x45bcf4(_0x178c64);break;case'updatedAab'+'bData':_0x45bcf4(_0x178c64);break;}};}['updateSHDa'+'ta1'](_0x3ac5cd,_0x29f772,_0x3c6cbf){var _0x34f094;return(_0x34f094=this['worker'])==null||_0x34f094['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x3ac5cd,'shBands':_0x29f772,'SHData':_0x3c6cbf}),new Promise(_0x4ef8ff=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1974a7=>{_0x4ef8ff(_0x1974a7);});});}async['updateColo'+'rData'](_0x48750d,_0x52952e,_0x31aede,_0x2978d7,_0xc98183){var _0x4325b0;return(_0x4325b0=this['worker'])==null||_0x4325b0['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x48750d,'cr':_0x52952e,'cg':_0x31aede,'cb':_0x2978d7,'ca':_0xc98183}),new Promise(_0x380360=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x4c5aad=>{_0x380360(_0x4c5aad);});});}async['calcAabb'](_0x3419f8,_0x1dea55,_0x16e084,_0x3061e1,_0xf6e441,_0x5c5b7b,_0x4e0864){var _0xf8cceb;const _0x115e56=new Float32Array(_0x1dea55),_0x3b739a=new Float32Array(_0x16e084),_0x5bfafc=new Float32Array(_0x3061e1),_0xa2658d=new Float32Array(_0xf6e441),_0x1042c9=new Float32Array(_0x5c5b7b),_0x257f93=new Float32Array(_0x4e0864);return(_0xf8cceb=this['worker'])==null||_0xf8cceb['postMessag'+'e']({'type':'calcAabb','numSplats':_0x3419f8,'x':_0x115e56,'y':_0x3b739a,'z':_0x5bfafc,'sx':_0xa2658d,'sy':_0x1042c9,'sz':_0x257f93},[_0x115e56['buffer'],_0x3b739a['buffer'],_0x5bfafc['buffer'],_0xa2658d['buffer'],_0x1042c9['buffer'],_0x257f93['buffer']]),new Promise(_0x3915d1=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x22ff4d=>{_0x3915d1(_0x22ff4d);});});}async['updateTran'+'sData'](_0x5acfde,_0x491626,_0x58247f,_0x45d0f5,_0x34adad,_0x1cde76,_0x45182f,_0x192777,_0x590d56,_0x47378f,_0x284e12,_0x39b6d7,_0x8528c6,_0x1124f0,_0x69b074,_0x595ef6,_0x3d84c0){var _0x4cb01d;return(_0x4cb01d=this['worker'])==null||_0x4cb01d['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5acfde,'is4D':_0x491626,'x':_0x58247f,'y':_0x45d0f5,'z':_0x34adad,'rx':_0x1cde76,'ry':_0x45182f,'rz':_0x192777,'rw':_0x590d56,'mx':_0x47378f,'my':_0x284e12,'mz':_0x39b6d7,'sx':_0x8528c6,'sy':_0x1124f0,'sz':_0x69b074,'muT':_0x595ef6,'tScale':_0x3d84c0}),new Promise(_0x37b435=>{const _0x1370fd=_0x370147=>{_0x37b435(_0x370147);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x1370fd);});}['destroy'](){var _0x114509;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x114509=this['worker'])==null||_0x114509['terminate'](),this['worker']=null);}};const vg=(_0x55bdca,_0x403022)=>{const _0x426277=[];for(let _0x52352b=-0x1*0x14f7+0x3c*-0x9d+-0x66b*-0x9;_0x52352b<_0x403022;++_0x52352b)_0x426277['push'](_0x55bdca['getProp']('f_rest_'+_0x52352b));return _0x426277;};class EC extends Rv{constructor(_0x56481c,_0x4439bd){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x56481c,_0x4439bd),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x2*-0x404+-0xf89+0x1*0x782)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x1*-0x305+-0x119c+0x6e*0x22);}async['updateData'](){var _0x20ba72,_0x1030b4,_0x779f2,_0x2d02db,_0x36d6d7,_0x56c437,_0x370a8c,_0xfdece5,_0x4b2a56,_0x5d0864,_0x50cb25;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x301f85=this['gsplatData'];if(!_0x301f85)return;this['is4D']=_0x301f85['is4D'];const _0x79cf07=await this['getTransfo'+'rmDataByWo'+'rker'](_0x301f85);this['aabb']=new De(),await _0x301f85['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x79cf07['centers'],this['motion']=_0x79cf07['motion'],this['tScale']=_0x79cf07['tScaleArra'+'y'],this['muT']=await _0x301f85['getMuT'](),this['timeIndex']=await _0x301f85['getTimeInd'+'ex']();const _0x4239c1=this['evalTextur'+'eSize'](_0x301f85['numSplats']);this['colorTextu'+'re']?((_0x20ba72=this['colorTextu'+'re2'])==null||_0x20ba72['destroy'](),(_0x1030b4=this['transformA'+'Texture2'])==null||_0x1030b4['destroy'](),(_0x779f2=this['transformB'+'Texture2'])==null||_0x779f2['destroy'](),(_0x2d02db=this['transformR'+'Texture2'])==null||_0x2d02db['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4239c1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4239c1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4239c1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4239c1),this['is4D']&&((_0x36d6d7=this['transformM'+'otionTextu'+'re2'])==null||_0x36d6d7['destroy'](),(_0x56c437=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x56c437['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4239c1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4239c1))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x4239c1),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x4239c1),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x4239c1),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x4239c1),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x4239c1),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x4239c1),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x4239c1),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x4239c1),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x4239c1),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x4239c1),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x4239c1),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x4239c1))),await this['updateColo'+'rData'](_0x301f85),await this['updateTran'+'sformFromD'+'ata'](_0x79cf07),this['shBands']=_0x301f85['shBands'],this['shBands']>0x1c07+-0x137e*0x1+-0x5*0x1b5&&(this['sh1to3Text'+'ure']?((_0x370a8c=this['sh1to3Text'+'ure2'])==null||_0x370a8c['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4239c1),this['shBands']>-0x3*0xcb5+-0x1*-0x9dc+0x2*0xe22&&((_0xfdece5=this['sh4to7Text'+'ure2'])==null||_0xfdece5['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4239c1),this['shBands']>-0x2*0xbd2+-0x2*-0xd65+-0x324?((_0x4b2a56=this['sh8to11Tex'+'ture2'])==null||_0x4b2a56['destroy'](),(_0x5d0864=this['sh12to15Te'+'xture2'])==null||_0x5d0864['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4239c1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4239c1)):((_0x50cb25=this['sh8to11Tex'+'ture2'])==null||_0x50cb25['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4239c1)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x4239c1),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x4239c1),this['shBands']>-0x347+-0x1f5c+0x22a4&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x4239c1),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x4239c1),this['shBands']>0x2122+-0x15*-0x86+-0x2*0x160f?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x4239c1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x4239c1),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x4239c1),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x4239c1)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x4239c1),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x4239c1)))),await this['updateSHDa'+'taByWorker'](_0x301f85));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x27cdd9){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x27cdd9}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x346f36,_0x4f06d8,_0x4acea9,_0x44f102,_0x5e48ec){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x346f36,'timeOption':_0x4f06d8,'loadedTime':_0x4acea9,'asset':_0x44f102,'events':_0x5e48ec}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x452+0xad2+-0x2*0x792);try{for(;this['appendQueu'+'e']['length']>0x1a37+0x1fbd*-0x1+0x7*0xca;){const _0x3155f2=this['appendQueu'+'e']['shift']();_0x3155f2['type']==='append'?await this['processApp'+'endTask'](_0x3155f2['data']):_0x3155f2['type']==='release'&&await this['processRel'+'easeTask'](_0x3155f2['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x34*-0xa9+-0x8*-0x224+0x1*-0x3373);}}}async['processRel'+'easeTask'](_0x1ab5b1){const {index:_0x5e9803}=_0x1ab5b1;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x5e9803),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x5e9803);}async['processApp'+'endTask'](_0xc22adb){var _0x217128;const {gsplatData:_0x3292b7,timeOption:_0x2965dc,loadedTime:_0x557f0b,asset:_0x274df8,events:_0x20b30b}=_0xc22adb;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x2965dc,await this['gsplatData']['appendGSpl'+'atData'](_0x3292b7,_0x557f0b,_0x2965dc),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0xbb6*-0x2+-0x386+-0x8fc*-0x3),_0x3292b7['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x3292b7['numSplats'])['toFixed'](-0x16d7+0x15d7+0x103)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*-0xc89+-0x1*0x1ae+0x1*-0xad9),_0x3292b7['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x217128=this['gsplatInst'+'ance'])==null||_0x217128['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0xb*-0x33d+0xf71+-0x330e),_0x3292b7['numSplats']),this['asset']=_0x274df8,this['assetsMana'+'gerLoadedT'+'ime']=_0x557f0b,this['events']=_0x20b30b);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x362679;const _0x43b2fb=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x43b2fb),(_0x362679=this['asset'])==null||_0x362679['fire']('setAssetsL'+'oaded',_0x43b2fb);}['destroy'](){var _0x57e4b2,_0x212196,_0x200ce6,_0x33adf6,_0x4a3db2,_0xb9a44,_0x49c0d9,_0x28ca34,_0x62bb90,_0x3002aa,_0xb8c0ac,_0x4e93d5,_0x32e9d1,_0x34588a,_0x296064,_0xfe695f,_0x17c32d,_0x65f4cf,_0x162935,_0x27e06f,_0x2bf8bd;(_0x57e4b2=this['updateData'+'Worker'])==null||_0x57e4b2['destroy'](),this['updateData'+'Worker']=void(-0x1bd9*-0x1+0xa*-0xb1+-0x14ef),(_0x212196=this['colorTextu'+'re'])==null||_0x212196['destroy'](),(_0x200ce6=this['transformA'+'Texture'])==null||_0x200ce6['destroy'](),(_0x33adf6=this['transformB'+'Texture'])==null||_0x33adf6['destroy'](),(_0x4a3db2=this['transformR'+'Texture'])==null||_0x4a3db2['destroy'](),(_0xb9a44=this['transformM'+'otionTextu'+'re'])==null||_0xb9a44['destroy'](),(_0x49c0d9=this['transformL'+'ifecycleTe'+'xture'])==null||_0x49c0d9['destroy'](),(_0x28ca34=this['sh1to3Text'+'ure'])==null||_0x28ca34['destroy'](),(_0x62bb90=this['sh4to7Text'+'ure'])==null||_0x62bb90['destroy'](),(_0x3002aa=this['sh8to11Tex'+'ture'])==null||_0x3002aa['destroy'](),(_0xb8c0ac=this['sh12to15Te'+'xture'])==null||_0xb8c0ac['destroy'](),(_0x4e93d5=this['colorTextu'+'re2'])==null||_0x4e93d5['destroy'](),(_0x32e9d1=this['transformA'+'Texture2'])==null||_0x32e9d1['destroy'](),(_0x34588a=this['transformB'+'Texture2'])==null||_0x34588a['destroy'](),(_0x296064=this['transformR'+'Texture2'])==null||_0x296064['destroy'](),(_0xfe695f=this['transformM'+'otionTextu'+'re2'])==null||_0xfe695f['destroy'](),(_0x17c32d=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x17c32d['destroy'](),(_0x65f4cf=this['sh1to3Text'+'ure2'])==null||_0x65f4cf['destroy'](),(_0x162935=this['sh4to7Text'+'ure2'])==null||_0x162935['destroy'](),(_0x27e06f=this['sh8to11Tex'+'ture2'])==null||_0x27e06f['destroy'](),(_0x2bf8bd=this['sh12to15Te'+'xture2'])==null||_0x2bf8bd['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x58cbe1){var _0xd994a6,_0x3dbc09,_0x4e1867,_0x353274,_0x3ce0ea,_0xe3bd62,_0x1a4642,_0x598e9e,_0xa4b907,_0x4e466a,_0x345614,_0x24b06e,_0x466b44;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x2901ef=((_0xd994a6=_0x58cbe1['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x2327+0x1bcf+-0x2*0x1f7b):_0xd994a6['data'])??0x1*-0x2123+0x18*0xf4+0xa43,_0x534677=((_0x3dbc09=_0x58cbe1['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x983+-0xf4f+0x18d2*0x1):_0x3dbc09['data'])??0x3e*0x90+0x8f4+-0x2bd3,_0x1a69eb=((_0x4e1867=_0x58cbe1['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1c97+-0x384+-0x1913*0x1):_0x4e1867['data'])??0x5a0+0x58e+-0xb2d,_0x19e759=((_0x353274=_0x58cbe1['getParamet'+'er']('uHueOffset'))==null?void(-0x6e1+-0x9*0xb3+0xd2c):_0x353274['data'])??-0x1761+-0x61*-0x59+-0xa58,_0x30377d=((_0x3ce0ea=_0x58cbe1['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x1*-0x1328+0x4*-0x143+0x1834):_0x3ce0ea['data'])??0x1ab7+-0x32e*0x1+-0x19*0xf1,_0x5a6025=((_0xe3bd62=_0x58cbe1['getParamet'+'er']('uOpacity'))==null?void(0x39*0x6b+-0x1e+-0x17b5):_0xe3bd62['data'])??-0x3*-0x569+-0x1*0x1b19+0x1*0xadf,_0x2b5db3=((_0x1a4642=_0x58cbe1['getParamet'+'er']('clrOffset'))==null?void(-0x255f*-0x1+0x10f3*-0x1+-0x146c):_0x1a4642['data'])??[-0x2495+0x1196+0x12ff,0x532+0xaf9*-0x1+-0x3*-0x1ed,0x25a7+0x137+-0x18e*0x19,-0x6a+0x19*-0x67+0xa7a],_0x407a3b=((_0x598e9e=_0x58cbe1['getParamet'+'er']('clrScale'))==null?void(0x20c2+0xd1a+-0x2ddc):_0x598e9e['data'])??[0x1970*0x1+-0x827*-0x1+0x2*-0x10cb,0x3*-0x9f5+0x7b7+0x1629,-0x1ba6+-0x8eb+-0x1249*-0x2,-0x8*0x202+0x2be+0xd53],_0x121a6b=((_0xa4b907=_0x58cbe1['getParamet'+'er']('uShapeN'))==null?void(0x190c+-0x1e*0xe+-0xe*0x1ac):_0xa4b907['data'])??-0x9*0x23+-0x1303+0x143e,_0x815947=((_0x4e466a=_0x58cbe1['getParamet'+'er']('mode'))==null?void(-0x17+-0x1b*0x12b+-0x2e0*-0xb):_0x4e466a['data'])??-0x1*0x251e+0x1*-0x1511+0x3*0x1365,_0x3f0534=((_0x345614=_0x58cbe1['getParamet'+'er']('ringSize'))==null?void(0x42*0x10+-0x11a5+0x1*0xd85):_0x345614['data'])??0x44f+0x783+-0xbd2,_0x56d12d=((_0x24b06e=_0x58cbe1['defines'])==null?void(-0x2438*-0x1+-0x163*0x11+0x437*-0x3):_0x24b06e['get']('uOpenAnim'))??'0',_0x138636=((_0x466b44=_0x58cbe1['defines'])==null?void(-0x48a*-0x3+0xd5b+-0x1af9):_0x466b44['get']('uControlCo'+'lorMode'))??'0';_0x58cbe1['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x58cbe1['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x58cbe1['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x58cbe1['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x58cbe1['setParamet'+'er']('uSplatScal'+'e',_0x534677),_0x58cbe1['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x2901ef),_0x58cbe1['setParamet'+'er']('uSaturatio'+'n',_0x1a69eb),_0x58cbe1['setParamet'+'er']('uHueOffset',_0x19e759),_0x58cbe1['setParamet'+'er']('uInvertOpa'+'city',_0x30377d),_0x58cbe1['setParamet'+'er']('uOpacity',_0x5a6025),_0x58cbe1['setParamet'+'er']('clrOffset',_0x2b5db3),_0x58cbe1['setParamet'+'er']('clrScale',_0x407a3b),_0x58cbe1['setParamet'+'er']('uShapeN',_0x121a6b),_0x58cbe1['setParamet'+'er']('mode',_0x815947),_0x58cbe1['setParamet'+'er']('ringSize',_0x3f0534),_0x58cbe1['setParamet'+'er']('prerenderC'+'Time',0xeab+0xe9*-0x13+0x2a0),_0x58cbe1['setParamet'+'er']('renderSpac'+'e',0x9*0x419+-0x1*0xd67+-0x1770),_0x58cbe1['setParamet'+'er']('endSpace',0x1148+-0x1e87+-0x1*-0xd49),_0x58cbe1['setDefine']('uOpenAnim',_0x56d12d),_0x58cbe1['setDefine']('uControlCo'+'lorMode',_0x138636),this['transformM'+'otionTextu'+'re']&&_0x58cbe1['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x58cbe1['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x58cbe1['setDefine']('SH_BANDS',this['shBands']),_0x58cbe1['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x58cbe1['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x58cbe1['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x58cbe1['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x58cbe1['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x46beb4){const _0x3f7feb=Math['ceil'](Math['sqrt'](_0x46beb4)),_0x54ebd0=Math['ceil'](_0x46beb4/_0x3f7feb);return new J(_0x3f7feb,_0x54ebd0);}async['updateColo'+'rData'](_0xa1b897){var _0x1c928e;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x354e95=this['colorTextu'+'re2'];if(!_0x354e95||this['isDestroye'+'d'])return;const _0x1f73eb=_0xa1b897['getProp']('f_dc_0'),_0x4ecfe4=_0xa1b897['getProp']('f_dc_1'),_0x5e70ef=_0xa1b897['getProp']('f_dc_2'),_0x6b9299=_0xa1b897['getProp']('opacity');let _0x3d5623=(_0x1c928e=_0xa1b897['transformD'+'ata'])==null?void(-0x2*0xc85+0x1de*0x1+0x1*0x172c):_0x1c928e['dataColor'];_0x3d5623||(_0x3d5623=await this['updateData'+'Worker']['updateColo'+'rData'](_0xa1b897['numSplats'],_0x1f73eb,_0x4ecfe4,_0x5e70ef,_0x6b9299)),await this['idleUpdate'+'TexturePro'+'mise'](_0x354e95,_0x3d5623);}async['getTransfo'+'rmDataByWo'+'rker'](_0x412978){var _0x19a66f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x19a66f=_0x412978['transformD'+'ata'])!=null&&_0x19a66f['dataCenter'+'s'])return{'centers':_0x412978['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x412978['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x412978['transformD'+'ata']['dataScale'],'dataRotation':_0x412978['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x412978['transformD'+'ata']['dataMotion'],'dataTime':_0x412978['transformD'+'ata']['dataTime'],'motion':_0x412978['transformD'+'ata']['motion'],'tScaleArray':_0x412978['transformD'+'ata']['tScaleArra'+'y']};const _0x28e95a=_0x412978['getProp']('x'),_0x582642=_0x412978['getProp']('y'),_0x4d3fb7=_0x412978['getProp']('z'),_0x5cc470=_0x412978['getProp']('rot_1'),_0x57fd8c=_0x412978['getProp']('rot_2'),_0x36a84d=_0x412978['getProp']('rot_3'),_0x25eec9=_0x412978['getProp']('rot_0'),_0x3c6677=_0x412978['getProp']('motion_0'),_0x92e6e2=_0x412978['getProp']('motion_1'),_0x5376e0=_0x412978['getProp']('motion_2'),_0x2100f6=_0x412978['getProp']('scale_0'),_0x7ba431=_0x412978['getProp']('scale_1'),_0xa15218=_0x412978['getProp']('scale_2'),_0x30745c=_0x412978['getProp']('t'),_0x300373=_0x412978['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x412978['numSplats'],this['is4D'],_0x28e95a,_0x582642,_0x4d3fb7,_0x5cc470,_0x57fd8c,_0x36a84d,_0x25eec9,_0x3c6677,_0x92e6e2,_0x5376e0,_0x2100f6,_0x7ba431,_0xa15218,_0x30745c,_0x300373);}async['updateTran'+'sformFromD'+'ata'](_0xb69ecf){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0xb69ecf['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0xb69ecf['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0xb69ecf['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0xb69ecf['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0xb69ecf['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x270887,_0x1132db){if(!this['isDestroye'+'d'])return new Promise(_0x358d44=>{requestIdleCallback(()=>{const _0x498bed=_0x270887['lock']();_0x498bed==null||_0x498bed['set'](_0x1132db),_0x270887['unlock'](),_0x358d44(!(0xaa*-0x2d+0x24ce+-0x1bb*0x4));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x56bb34){var _0xd277d6,_0x2112f5,_0x2b93fc,_0x4b91e9;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x358cf2=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x398dec=this['transformA'+'Texture']['lock'](),_0x2e1451=this['transformR'+'Texture']['lock'](),_0x5ffb4b=this['transformB'+'Texture']['lock'](),_0x4110ca=(_0xd277d6=this['transformM'+'otionTextu'+'re'])==null?void(0x2*-0x186+0xe37+-0xb2b*0x1):_0xd277d6['lock'](),_0x190022=(_0x2112f5=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x13b2*0x1+0xdab+-0x215d*0x1):_0x2112f5['lock'](),_0x36a60b=new D(),_0x4a3703=new le(),_0xd69ccd=new D(),_0x4657e9=new D(),_0x5a6db3=_0x56bb34['createIter'](_0x36a60b,_0x4a3703,_0xd69ccd,null,_0x4657e9),_0x3957d4=_0x56bb34['getProp']('t'),_0x318171=_0x56bb34['getProp']('t_scale');for(let _0x29897f=-0x1*-0xd79+0x269*0x3+-0x14b4;_0x29897f<_0x56bb34['numSplats'];_0x29897f++)_0x5a6db3['read'](_0x29897f),_0x4a3703['normalize'](),_0x4a3703['w']<0x919*0x1+-0x72b+-0x1ee&&_0x4a3703['mulScalar'](-(-0x1*0x103d+-0x3*0x41c+0xe49*0x2)),_0x398dec[_0x29897f*(0x9c+0x2*-0xfec+0x1f3f)+(0x59*-0x67+0x900+0x1acf)]=_0x36a60b['x'],_0x398dec[_0x29897f*(0x167e+0x6*-0x506+0x35*0x25)+(0x137*0x3+-0x63f+0x29b)]=_0x36a60b['y'],_0x398dec[_0x29897f*(0x1c7d+0x1833+0x1b3*-0x1f)+(-0x15aa+0x3eb*0x5+-0xd*-0x29)]=_0x36a60b['z'],_0x5ffb4b[_0x29897f*(0x1*0x20d5+0x133*0xd+-0x3069)+(-0xd7f+-0x1e8+0xf67)]=_0x358cf2(_0xd69ccd['x']),_0x5ffb4b[_0x29897f*(-0xa29+-0x16ba+0x20e6*0x1)+(-0x45d*0x8+0x11*-0x223+0x473c)]=_0x358cf2(_0xd69ccd['y']),_0x5ffb4b[_0x29897f*(-0x893+0xd*0x235+-0x1*0x141b)+(-0x1*0x128f+-0x6e*0x51+0x355f)]=_0x358cf2(_0xd69ccd['z']),_0x2e1451[_0x29897f*(0x1*-0x2566+-0x1d9b+-0x4304*-0x1)+(-0x8b5+0x767*0x1+0x1*0x14e)]=_0x4a3703['x'],_0x2e1451[_0x29897f*(-0x6*-0xb6+-0xa03+0x86*0xb)+(-0x56c+-0x37f+0x1*0x8ec)]=_0x4a3703['y'],_0x2e1451[_0x29897f*(0x1d33+-0x4*0x42e+-0xc78)+(-0x4d0+0xa19+0x547*-0x1)]=_0x4a3703['z'],this['is4D']&&_0x4110ca&&_0x190022&&(_0x4110ca[_0x29897f*(-0xc43+-0x5a+-0xca*-0x10)+(-0x654+0xc71+-0x61d)]=_0x4657e9['x'],_0x4110ca[_0x29897f*(0x1*-0x9+-0x1*0x1d53+0x1d5f)+(-0x1e55+-0x154e+0x33a4)]=_0x4657e9['y'],_0x4110ca[_0x29897f*(-0x11f8+0x641*0x2+0x579)+(-0x1c9b+0x15f+0x2*0xd9f)]=_0x4657e9['z'],_0x190022[_0x29897f*(-0x1*-0x35f+-0x1688+0x132c)+(-0x7cf*-0x3+-0x2670+-0x225*-0x7)]=_0x3957d4?_0x3957d4[_0x29897f]:-0x3*0x1b1+0xcd3+-0x7c0,_0x190022[_0x29897f*(0x10eb+-0x2f6*0xb+0xfaa)+(0xfe6+-0x2*-0xcb3+-0x1f*0x155)]=_0x318171?Math['exp'](_0x318171[_0x29897f]):-0xe67*0x2+0x3ff+-0x3*-0x845);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x2b93fc=this['transformM'+'otionTextu'+'re'])==null||_0x2b93fc['unlock'](),(_0x4b91e9=this['transformL'+'ifecycleTe'+'xture'])==null||_0x4b91e9['unlock']();}async['updateSHDa'+'ta'](_0x59d4f1){var _0x4cd3d3,_0x404cd2,_0x43488d,_0x48915e,_0x4c9c2e,_0x5e969e,_0x13cd34,_0x5e62b3;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x5e1a22=(_0x4cd3d3=this['sh1to3Text'+'ure2'])==null?void(0x1c09+0x2531+0x2e*-0x16b):_0x4cd3d3['lock'](),_0x4617db=(_0x404cd2=this['sh4to7Text'+'ure2'])==null?void(0x2*0xfc4+0x257e+0xf*-0x49a):_0x404cd2['lock'](),_0x4e0b21=(_0x43488d=this['sh8to11Tex'+'ture2'])==null?void(-0x4e7*0x2+-0x1ba+0xb88):_0x43488d['lock'](),_0x7278ef=(_0x48915e=this['sh12to15Te'+'xture2'])==null?void(-0x1fa3+-0x1*-0x1952+0x651):_0x48915e['lock'](),_0x4d398c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x25a27b=vg(_0x59d4f1,_0x4d398c*(0x2*0x1226+-0x125d+-0x11ec)),_0x555c6c=0x1*0xa0f+-0x2688+0x2478,_0x10bb7f=-0x1*0x375+0x1070+-0x8fc,_0x27732a=new Float32Array(-0x20b*0x3+0x1246*0x1+-0x25*0x54),_0x22f264=new Uint32Array(_0x27732a['buffer']),_0x5a2917=new Array(_0x4d398c*(0xb*0x143+0xa63+-0x1841))['fill'](0x144+-0xb*-0xe9+-0xb47*0x1);for(let _0xf753a6=-0x217*-0x5+0x1050+-0x1ac3*0x1;_0xf753a6<_0x59d4f1['numSplats'];++_0xf753a6){for(let _0x4077f1=-0xece+-0xebd+0x1d8b;_0x4077f1<_0x4d398c;++_0x4077f1)_0x5a2917[_0x4077f1*(0x72*0x4e+0xb*-0xe5+-0x18e2)]=_0x25a27b[_0x4077f1][_0xf753a6],_0x5a2917[_0x4077f1*(-0x3*-0x975+-0x1064+-0x8*0x17f)+(-0x1ae5+-0x1e32+0x3918)]=_0x25a27b[_0x4077f1+_0x4d398c][_0xf753a6],_0x5a2917[_0x4077f1*(-0x165*0x1+-0x6*-0x14a+-0x654)+(-0x16f2+-0x1b1f+0x3213)]=_0x25a27b[_0x4077f1+_0x4d398c*(0x1d53+0x6c5+-0x2416)][_0xf753a6];let _0x1efdf5=_0x5a2917[-0xffa+-0xc0f+0x1*0x1c09];for(let _0x3685cc=0x1e55+-0x1e9+0x3*-0x979;_0x3685cc<_0x4d398c*(-0x1108+0x1f12+0xab*-0x15);++_0x3685cc)_0x1efdf5=Math['max'](_0x1efdf5,Math['abs'](_0x5a2917[_0x3685cc]));if(_0x1efdf5!==-0x1*0x196a+-0xb11+0x247b){for(let _0x593b3a=-0x751*0x5+0x5a7*-0x3+-0x4de*-0xb;_0x593b3a<_0x4d398c;++_0x593b3a)_0x5a2917[_0x593b3a*(0x610+-0x5fe*0x3+-0xbed*-0x1)+(0x2104+-0xd86+-0x1*0x137e)]=Math['max'](0x99+-0x6a7+0x60e,Math['min'](_0x555c6c,Math['floor']((_0x5a2917[_0x593b3a*(-0x9e6+0xabb*-0x1+0x14a4)+(0x9*-0x12b+0x131c+-0x899)]/_0x1efdf5*(-0x1a6d+0x9e5*0x3+-0x342+0.5)+(0xc*0x147+-0x3a*-0x29+0x189e*-0x1+0.5))*_0x555c6c+(-0x144d+-0x120+0x156d+0.5)))),_0x5a2917[_0x593b3a*(-0x177b+0xb*-0x2b8+0x3566)+(0xd*0x3d+-0x2476+0x215e)]=Math['max'](-0x1ecf+-0x2c6*-0xb+-0x7*-0xb,Math['min'](_0x10bb7f,Math['floor']((_0x5a2917[_0x593b3a*(0xdc7*-0x1+0x365+-0x1*-0xa65)+(0xec9+0xb06+0x19ce*-0x1)]/_0x1efdf5*(-0x782+-0x4*-0x7cf+0xbdd*-0x2+0.5)+(0x1*-0x241+0xab*-0x10+-0x1*-0xcf1+0.5))*_0x10bb7f+(-0xd64+-0x1074+-0x17e*-0x14+0.5)))),_0x5a2917[_0x593b3a*(-0x1a1a+0xf10+0xb0d)+(-0x157*0x9+-0x3d*0x65+0xb9*0x32)]=Math['max'](-0x23b4+-0x1*0x1163+0x3517,Math['min'](_0x555c6c,Math['floor']((_0x5a2917[_0x593b3a*(0xfe9+-0x57d+-0xa69)+(-0x15c*0xc+0xbf*0x1+0x1bb*0x9)]/_0x1efdf5*(0x238d+0x73e+-0x2acb+0.5)+(0x45d*0x1+-0x9d*0x21+-0x4*-0x3f8+0.5))*_0x555c6c+(0xce*-0x1b+-0xd0+0x5*0x482+0.5))));_0x27732a[0x10f2+-0x27d+-0x1*0xe75]=_0x1efdf5,_0x5e1a22[_0xf753a6*(0xc1b+-0x8d*0x27+0x4*0x259)+(0x233*0x2+-0x3a4+-0x2*0x61)]=_0x22f264[-0x1cb3+-0x727*0x5+0x4076],_0x5e1a22[_0xf753a6*(-0x1*-0xdf3+0x11f9*0x2+-0x31e1)+(-0x1*0x1a45+0x1fc0+0x57a*-0x1)]=_0x5a2917[0x259d*-0x1+0x1ff2+0x5ab*0x1]<<0x1e09+0x2*0x7de+-0x4*0xb6c|_0x5a2917[-0x1929+-0x13*0x1aa+0x38c8]<<-0x25dc+0x1*0x89b+0x19*0x12c|_0x5a2917[-0x1*-0x1865+-0xfc1*-0x1+-0x2824],_0x5e1a22[_0xf753a6*(0x7*0xe2+0x1a4a+-0x2074)+(-0x40a*-0x9+-0x1407+-0x1*0x1051)]=_0x5a2917[0x1*0x110c+-0x1fbe+0xeb5]<<-0x1463+0x1395+0xe3*0x1|_0x5a2917[-0x842+-0x926+0x116c]<<-0x21d0+-0x1*-0xf7+-0x839*-0x4|_0x5a2917[0xba9+0x42d*0x8+-0x2d0c],_0x5e1a22[_0xf753a6*(0x25b4+-0x17c7+-0xde9*0x1)+(-0x5f5+0x176f+-0x1177)]=_0x5a2917[0x245*-0xe+-0x77d*-0x2+0x869*0x2]<<-0x1499*-0x1+-0x6*0x11a+-0xde8|_0x5a2917[0xd3*-0x1f+0xa*-0x65+0x1d86]<<0x1b79+0x197e*0x1+-0x34ec|_0x5a2917[-0x10c*0x15+-0x2c*0xc7+-0x2*-0x1c1c],this['shBands']>0x2203+-0x2a0+-0x1f62&&(_0x4617db[_0xf753a6*(0x31*0xf+-0x2*-0x161+-0x59d)+(-0x1348+-0x14*-0x1eb+-0x65c*0x3)]=_0x5a2917[0x70b*-0x4+0x1b3+0x1a82]<<-0xe6e+0x6fb*0x1+0x788|_0x5a2917[0x8e*-0x19+-0x1259+0x2041]<<0x15a*-0x14+0x654+-0x71*-0x2f|_0x5a2917[0x1d80+-0x24bb+0x746],_0x4617db[_0xf753a6*(0x302+-0xa34+0x736)+(0x4*0x121+0x1a71+-0x236*0xe)]=_0x5a2917[-0x8dd+-0xb6c+-0xf*-0x15b]<<-0x1*-0x1be3+0x21a1*0x1+0x3d6f*-0x1|_0x5a2917[0x7*-0x25f+-0x15d1+0x1*0x2677]<<-0x2*0x51b+0x1*0x1d39+-0x1*0x12f8|_0x5a2917[-0xbcb*-0x2+0x1*0x24e+0x19d6*-0x1],_0x4617db[_0xf753a6*(-0xf7*0x13+-0xb7a+0x1dd3)+(0x6d*-0x5a+-0x25be+0xe*0x56f)]=_0x5a2917[0x3*-0x306+-0x44*-0x1c+0x1b1]<<-0x2622+0x1a95*-0x1+-0x8f*-0x74|_0x5a2917[0x1b67+-0x2271+0x12f*0x6]<<0x1707+0x2fe+-0x19fa|_0x5a2917[0x1ee1+0x23dc*-0x1+0x50c],_0x4617db[_0xf753a6*(-0x25c4+-0x241*-0x7+0x1601)+(-0x593+0x1*-0x7e4+0xd7a)]=_0x5a2917[0x2*-0xa91+-0x74*0x2+0x161c]<<-0x6*0x63f+0x13a*0x1d+0x1fd|_0x5a2917[0xbcc+-0x52f*-0x7+-0x5*0x99a]<<-0x9cd*-0x1+-0xb59*0x1+0x197|_0x5a2917[0x20f8+-0x261f+0xd*0x67],this['shBands']>-0x2679+-0x16a5+0x3d20?(_0x4e0b21[_0xf753a6*(0xb*0x2e7+0x67d*-0x1+-0x196c)+(0x2111+-0x97*-0x18+-0x6bf*0x7)]=_0x5a2917[-0x7*0x264+0xf11+0x20*0xe]<<0x1*0x116+-0xd*0x1bc+-0x44f*-0x5|_0x5a2917[-0x7f*0x3d+-0x51+0x1eaa]<<0x136+0x11ee+0x1*-0x1319|_0x5a2917[-0x3*0x5e7+-0x15e8+0x2a*0xf2],_0x4e0b21[_0xf753a6*(-0x202b+-0x1428+0x1*0x3457)+(0x115f+0x1*0x4f3+-0x1651)]=_0x5a2917[-0x1*0x135a+0xb97+0x1*0x7db]<<-0x4*0x8d0+0xc9a*-0x2+0x1*0x3c89|_0x5a2917[-0x12c9+-0x7*0x30b+0x282f]<<-0x1a54+0xcdc+-0x481*-0x3|_0x5a2917[0x1*-0x1259+-0x1db1*0x1+-0x1a*-0x1da],_0x4e0b21[_0xf753a6*(0xd4f*0x1+0x144b+0x2*-0x10cb)+(-0x251e*-0x1+-0xc3f+-0x18dd)]=_0x5a2917[0x1*0x269b+-0x7e5+-0x1e9b]<<-0x16f9*0x1+0x1*-0x1e36+0x7*0x79c|_0x5a2917[-0x79*-0x4+-0x748+0x580]<<-0xc51+0x26b6*0x1+-0x1a5a|_0x5a2917[-0x1ac2+0x7*-0x3bf+0x1a8c*0x2],_0x4e0b21[_0xf753a6*(-0x92b*-0x3+-0x167a+-0x503*0x1)+(-0x1c36+-0x940+0x2579*0x1)]=_0x5a2917[-0x4*0x904+-0x2*-0x347+0x1da0]<<-0x2*-0x9d1+0x2*0x887+-0x1*0x249b|_0x5a2917[-0x1949*-0x1+-0x18fc+0x1*-0x2e]<<-0x6*-0x59a+0xd*-0x276+-0x193|_0x5a2917[0x6e3+0x1*0x1c55+0x118c*-0x2],_0x7278ef[_0xf753a6*(0x1626+0x7f8+-0x1e1a)+(0x7ae*0x2+0x11be*0x2+-0x196c*0x2)]=_0x5a2917[-0x1280+-0x2*-0x4eb+0x8cb]<<0x1d29+-0x125c*0x1+-0x1c*0x62|_0x5a2917[-0x1*-0x1abf+-0x2092*0x1+0x5f5]<<0x543+-0x4*0x9b3+-0x1*-0x2194|_0x5a2917[0x3*0x4a1+0x6fe+0x1*-0x14be],_0x7278ef[_0xf753a6*(0x256+-0x4ee*-0x2+-0xc2e)+(-0xda5+-0xc19+0x19bf)]=_0x5a2917[0x3*-0x185+-0x16b+0x61e]<<0x43*-0x71+0x1b5+0x9f*0x2d|_0x5a2917[0x20d8+-0x7*-0x4e1+0x42da*-0x1]<<0x4dc+0x1*0x6e1+-0x5d9*0x2|_0x5a2917[0x419*-0x4+0x242f*-0x1+0x34b9],_0x7278ef[_0xf753a6*(0x1fec+0x12ab+-0x79*0x6b)+(-0x23a4+-0x1a8d+0x3e33)]=_0x5a2917[-0x1770+0xab*0x3+-0xacb*-0x2]<<-0x1c7a*0x1+-0x3ad*-0x5+0xa2e*0x1|_0x5a2917[-0x2690+-0x703+0x2dbb]<<0x4*-0x8f3+0x526+0xa3b*0x3|_0x5a2917[0x264c+0x268e*-0x1+0x6b],_0x7278ef[_0xf753a6*(0x2*0xa52+-0xc73+-0x82d)+(0x9d4*0x2+0x1f27+-0x32cc)]=_0x5a2917[0x53+-0x23d1+0x23a8]<<-0x3*-0x39b+0x1fcb+-0x2a87|_0x5a2917[0x353+-0x202*0x5+-0x371*-0x2]<<-0x2d4*0x3+-0x22bc+0x8a7*0x5|_0x5a2917[0xfee*0x1+-0x1*0x12d3+-0x9d*-0x5]):_0x4e0b21[_0xf753a6]=_0x5a2917[0x1*0x1741+-0x75*-0x15+0x20c5*-0x1]<<-0xb*0x1f3+-0xd46+0x22cc|_0x5a2917[-0xc*0x121+0x1369*-0x2+0x3474]<<-0x16e1*-0x1+-0x152*0x19+0x174*0x7|_0x5a2917[-0x825+0x1008+-0x7cc]);}}(_0x4c9c2e=this['sh1to3Text'+'ure2'])==null||_0x4c9c2e['unlock'](),(_0x5e969e=this['sh4to7Text'+'ure2'])==null||_0x5e969e['unlock'](),(_0x13cd34=this['sh8to11Tex'+'ture2'])==null||_0x13cd34['unlock'](),(_0x5e62b3=this['sh12to15Te'+'xture2'])==null||_0x5e62b3['unlock']();}async['updateSHDa'+'taByWorker'](_0x5104e0){var _0x1ed7d6,_0x68cfec,_0x4db787,_0x1175ec,_0x213150;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x26ce28={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x47397a,_0x3edc1d,_0x1c3532,_0xfe601d;if((_0x1ed7d6=_0x5104e0['transformD'+'ata'])!=null&&_0x1ed7d6['sh1to3Data'])_0x47397a=(_0x68cfec=_0x5104e0['transformD'+'ata'])==null?void(0x18cf+-0xd7*-0x17+0x584*-0x8):_0x68cfec['sh1to3Data'],_0x3edc1d=(_0x4db787=_0x5104e0['transformD'+'ata'])==null?void(0x75f+0x16df+0x229*-0xe):_0x4db787['sh4to7Data'],_0x1c3532=(_0x1175ec=_0x5104e0['transformD'+'ata'])==null?void(-0x4*-0x87f+-0x125*0x1f+0x17f):_0x1175ec['sh8to11Dat'+'a'],_0xfe601d=(_0x213150=_0x5104e0['transformD'+'ata'])==null?void(-0x25ba+0x101*-0xf+0x34c9):_0x213150['sh12to15Da'+'ta'];else{const _0x297468=vg(_0x5104e0,_0x26ce28*(0x1a68+0x1d7f+-0x37e4)),_0x3f4bb5=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x5104e0['numSplats'],this['shBands'],_0x297468);_0x47397a=_0x3f4bb5['sh1to3Data'],_0x3edc1d=_0x3f4bb5['sh4to7Data'],_0x1c3532=_0x3f4bb5['sh8to11Dat'+'a'],_0xfe601d=_0x3f4bb5['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x47397a),this['shBands']>-0x3b+-0x1*0x1337+-0x17f*-0xd&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x3edc1d),this['shBands']>0x6d*0x1d+-0x257b+0x1924?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x1c3532),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0xfe601d)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x1c3532));}}async function bC(){const _0x408277=new Float32Array(0x1feb+0x877*-0x2+-0xefc);new Int32Array(_0x408277['buffer']);let _0x3b09da=null,_0x5cb444=null,_0x47b394=null,_0x3fad88=null,_0xf471a9=null,_0xfbead3=null,_0x2de4fb=null,_0x22dea9=null;self['onmessage']=async _0x583489=>{const {data:_0x3b3683}=_0x583489;switch(_0x3b3683['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x15636f(_0x3b3683['numSplats'],_0x3b3683['shBands'],_0x3b3683['SHData']);break;case'updateTran'+'sformData':_0x2e09cc(_0x3b3683['numSplats'],_0x3b3683['is4D'],_0x3b3683['position'],_0x3b3683['rotation'],_0x3b3683['motion'],_0x3b3683['scale'],_0x3b3683['muT'],_0x3b3683['tScale']);break;case'destroyWor'+'ker':_0x2f882d();break;}};const _0x2e09cc=(_0x1df526,_0x495453,_0x68bbf3,_0x2dac29,_0x2ad40c,_0x566623,_0x2b303d,_0x2d1fb6)=>{_0x2f882d(),_0x495453&&(_0x5cb444=new Float32Array(_0x1df526*(-0x1fd6*-0x1+0x233e+0x4311*-0x1)),_0x22dea9=new Float32Array(_0x1df526),_0xf471a9=new Float32Array(_0x2ad40c['buffer']['slice']()),_0x2de4fb=new Float32Array(_0x2ad40c['buffer']['slice']())),_0x3fad88=new Float32Array(_0x68bbf3['buffer']['slice']()),_0x3b09da=new Float32Array(_0x68bbf3['buffer']['slice']()),_0xfbead3=new Uint16Array(_0x566623['buffer']['slice']()),_0x47b394=new Float32Array(_0x2dac29['buffer']['slice']());for(let _0x1c9c79=-0x20a5*-0x1+-0x131f+-0xd86;_0x1c9c79<_0x1df526;_0x1c9c79++)_0x495453&&_0x5cb444&&(_0x22dea9[_0x1c9c79]=_0x2d1fb6?Math['exp'](_0x2d1fb6[_0x1c9c79]):0x251d+-0x30a*0xb+-0x1*0x3af,_0x5cb444[_0x1c9c79*(-0x1*-0x278+-0x241*0x5+0x8d0)+(0x17fd+0x1*0xc7a+0x74b*-0x5)]=_0x2b303d?_0x2b303d[_0x1c9c79]:-0x1*-0x159b+-0x7b*0x1e+-0x1*0x731,_0x5cb444[_0x1c9c79*(-0xcc8+-0x8*0x1c1+0x2fb*0x9)+(-0xbe5+-0x725+0x41*0x4b)]=_0x22dea9[_0x1c9c79]);const _0x319373=[_0x3b09da['buffer'],_0x3fad88['buffer'],_0xfbead3['buffer'],_0x47b394['buffer']];_0x495453&&_0x319373['push'](_0xf471a9['buffer'],_0x5cb444['buffer'],_0x2de4fb['buffer'],_0x22dea9['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x3b09da,'dataPosition':_0x3fad88,'dataScale':_0xfbead3,'dataRotation':_0x47b394,'dataMotion':_0xf471a9,'dataTime':_0x5cb444,'motion':_0x2de4fb,'tScaleArray':_0x22dea9},_0x319373);},_0x15636f=(_0x1dedd2,_0x45ab82,_0x1e6ce5)=>{const _0x44fdbf=new Uint32Array(_0x1dedd2*(-0x1*-0x949+-0xb7e*0x1+0x239)),_0x4579af=new Uint32Array(_0x1dedd2*(0xe6f+0x3*0x41b+0x1*-0x1abc)),_0x1b68fe=new Uint32Array(_0x1dedd2*(-0x1af2+0x7ec+-0x985*-0x2)),_0x32ba01=new Uint32Array(_0x1dedd2*(0x4e6+0x1a19+0x7*-0x46d)),_0x568750={0x1:0x3,0x2:0x8,0x3:0xf}[_0x45ab82],_0x39cf2f=_0x1e6ce5,_0x14284f=0xb*0xe9+-0x1*0x766+0x562,_0x5b8ced=-0xb3d+-0xbda+0x1b16,_0x5c6f66=new Float32Array(0x1bc5+0xa*-0x43+0x6*-0x431),_0x4dc9a2=new Uint32Array(_0x5c6f66['buffer']),_0xb3e19a=new Array(_0x568750*(-0x2*0x977+-0x40+0x1331))['fill'](0x2691+-0x1925+-0xd6c*0x1);for(let _0x58d9cc=-0x3f6*0x9+-0xde7*-0x1+0x15bf;_0x58d9cc<_0x1dedd2;++_0x58d9cc){for(let _0x31d60d=0xbf1+-0x960+0x49*-0x9;_0x31d60d<_0x568750;++_0x31d60d)_0xb3e19a[_0x31d60d*(-0x2*0xeb4+-0xfa2+0x2d0d)]=_0x39cf2f[_0x31d60d][_0x58d9cc],_0xb3e19a[_0x31d60d*(-0x5c0*-0x5+-0x206e+-0x15*-0x2d)+(-0x15e9+-0x264e*-0x1+-0x1064)]=_0x39cf2f[_0x31d60d+_0x568750][_0x58d9cc],_0xb3e19a[_0x31d60d*(0x8b7+-0x68*-0x4f+-0x4*0xa33)+(0x18ae+0x1a78+-0x1992*0x2)]=_0x39cf2f[_0x31d60d+_0x568750*(-0x135e+0xe11+0x9*0x97)][_0x58d9cc];let _0x33c0ac=_0xb3e19a[0x6f6+-0x556*0x1+0x1a*-0x10];for(let _0x1fe107=-0x8b2+0x2*0xbb9+-0xebf;_0x1fe107<_0x568750*(0x228e+-0x315*-0x2+0x1*-0x28b5);++_0x1fe107)_0x33c0ac=Math['max'](_0x33c0ac,Math['abs'](_0xb3e19a[_0x1fe107]));if(_0x33c0ac!==0x1*-0x134b+-0x1*0x1ad5+-0xf60*-0x3){for(let _0x2e0f60=0xcd3*-0x1+0x126c+-0x1*0x599;_0x2e0f60<_0x568750;++_0x2e0f60)_0xb3e19a[_0x2e0f60*(-0x17*-0xf5+0x892*0x2+0x1f5*-0x14)+(-0x24d+-0x1*0x5c6+0x813)]=Math['max'](0x16f8*0x1+-0x34*-0x6e+-0x2d50,Math['min'](_0x14284f,Math['floor']((_0xb3e19a[_0x2e0f60*(-0xcb7+-0x13c5+0x207f)+(0x87+0x5c6*0x2+0x119*-0xb)]/_0x33c0ac*(-0x26c0+0xc*-0x16b+0x1*0x37c4+0.5)+(-0x1181+-0x251+-0x3b*-0x56+0.5))*_0x14284f+(-0x4d0+-0x25af+0x2a7f+0.5)))),_0xb3e19a[_0x2e0f60*(0x1eae+0x26f2+0xfb*-0x47)+(-0x10ee+0x5*-0x3d1+0x2404)]=Math['max'](0x1*-0x159c+-0x1a7d*-0x1+-0x4e1*0x1,Math['min'](_0x5b8ced,Math['floor']((_0xb3e19a[_0x2e0f60*(-0x655*-0x6+-0x2*0x955+-0x1351)+(-0x243c+0x944+-0x5*-0x565)]/_0x33c0ac*(0x1121+0xc02+-0x1d23*0x1+0.5)+(0x5a5+0x1*0x68f+-0xc34+0.5))*_0x5b8ced+(0x88d*-0x3+0x1a5a+0xb3*-0x1+0.5)))),_0xb3e19a[_0x2e0f60*(0x2627+0xbb0*-0x1+0x1*-0x1a74)+(0x74*0x26+0xc7+-0x11fd)]=Math['max'](0x2c*0x13+-0x1dad*0x1+-0x1*-0x1a69,Math['min'](_0x14284f,Math['floor']((_0xb3e19a[_0x2e0f60*(-0x11db+0x11be+0x20)+(-0x322*-0x9+-0x11cb+-0xa65)]/_0x33c0ac*(0x49*-0x84+-0x1*-0x23cb+-0xb*-0x2b+0.5)+(0x11*0x18+-0x2429+-0x2291*-0x1+0.5))*_0x14284f+(-0x4*-0x9d+-0x39*-0xf+-0x5cb+0.5))));_0x5c6f66[-0x1*-0xfd9+0x41c*-0x4+0x97*0x1]=_0x33c0ac,_0x44fdbf[_0x58d9cc*(-0x995+-0x1820+-0x61*-0x59)+(-0x1c96+-0x17*0xd9+-0x175*-0x21)]=_0x4dc9a2[-0xbbc+-0x1e*0x2f+0x89f*0x2],_0x44fdbf[_0x58d9cc*(-0x5b+0x13c2+-0x1363)+(-0xb3*-0x31+0x127*0x1c+-0x1a*0x28f)]=_0xb3e19a[-0xd92*0x1+0x1401+0x1*-0x66f]<<0x190c+-0x1bad+0x2b6|_0xb3e19a[0x17e1+-0x11f5*-0x2+0x3bca*-0x1]<<0x1471+0x643*-0x2+-0x20*0x3f|_0xb3e19a[-0x6*-0x3e5+-0x2529+-0x1*-0xdcd],_0x44fdbf[_0x58d9cc*(0x235a+-0x2ab*-0xd+-0x4605)+(-0x24b6+-0x3*-0x484+0x172c)]=_0xb3e19a[0x1811+0x2212+-0x3a20]<<-0x17f9+-0x1*0x23f3+0x3c01|_0xb3e19a[0x1*0x22d5+0x2*0x10ca+-0x4465*0x1]<<0x2217+0x216f+-0x437b|_0xb3e19a[-0x9*-0x21a+-0x2a0+-0x1045],_0x44fdbf[_0x58d9cc*(-0x1882+0xd42+0xb44)+(-0x5dd*0x4+0x3*-0xa11+0x1ad5*0x2)]=_0xb3e19a[0x6*0x5d3+-0xcfb*0x1+-0x1*0x15f1]<<0x4ef*0x5+0x145a+-0x2cf0|_0xb3e19a[0x1778+-0x2*0x6ae+-0xa15]<<0xb95*0x2+0x1259*0x1+-0x2978|_0xb3e19a[0x17d5*0x1+-0x11a1*0x1+-0x4f*0x14],_0x45ab82>0x1*0x6d3+0x229*-0x9+0x1*0xc9f&&(_0x4579af[_0x58d9cc*(-0x1039*-0x1+-0xd*0x1fd+0x1*0x9a4)+(0x57e+-0x20cb*-0x1+0x1b*-0x16b)]=_0xb3e19a[-0x1e57+-0x18d5+0x3735]<<0x1aff+0x9a7+-0x17*0x197|_0xb3e19a[0x1e48+0x48*-0x56+0x307*-0x2]<<0x1ded+0x2ef*0x7+-0x326b|_0xb3e19a[0xb6*0x4+0x7*0x526+0x1*-0x26d7],_0x4579af[_0x58d9cc*(-0x11c2+0x1912+0x1*-0x74c)+(-0x316*-0xa+0xa99*-0x3+0xf0)]=_0xb3e19a[-0x1*-0x15bf+-0x1*-0x24c3+-0x3a76*0x1]<<-0x13b1+0x1e55+-0x1*0xa8f|_0xb3e19a[-0xc14+-0x46e+0x108f]<<0x2181+-0x1d0d+0x469*-0x1|_0xb3e19a[-0xa*0x313+-0xa31*0x1+0x28fd],_0x4579af[_0x58d9cc*(0x12ae+0x21dc+-0x51*0xa6)+(0x22b2+-0x21e6+-0xca*0x1)]=_0xb3e19a[0x1*-0xbdd+0x16e1*0x1+-0xaf5]<<0x20*-0x1+0x1*0x9+0x2c|_0xb3e19a[-0x17c8+-0xca0+-0x8*-0x48f]<<0xde*-0xe+0x5cb*0x3+-0x13*0x46|_0xb3e19a[0x229*0x9+0xc61+-0x1fc1],_0x4579af[_0x58d9cc*(0x1a*0x152+0x782+-0x29d2)+(0xec2*-0x1+0x11ce+-0x309)]=_0xb3e19a[-0x1*0x339+0xb2*-0x19+0x14ad]<<0x119*0x11+-0x408+-0x26*0x62|_0xb3e19a[0xe78*-0x1+-0xb56+-0x19e1*-0x1]<<-0x1a8f+-0x14bd+-0x2f57*-0x1|_0xb3e19a[-0x737+0x2*0x715+-0x6df],_0x45ab82>0x1852+0x15cd+-0x2e1d?(_0x1b68fe[_0x58d9cc*(-0x809*-0x2+0x24a+0x92c*-0x2)+(-0x96b*-0x1+-0xe42+0x4d7)]=_0xb3e19a[0x6*0x1af+-0x51*0x12+-0x453]<<0x41b+-0x871*-0x4+-0x1*0x25ca|_0xb3e19a[-0x1387+0x22d9+-0xf3c]<<-0x5c*-0xb+-0x11b*0xd+-0xd*-0xce|_0xb3e19a[0x1*-0x2052+-0xaab*-0x1+0x15be],_0x1b68fe[_0x58d9cc*(-0x65*0x35+0x1107+0x3e6)+(-0xfe*-0x23+0x2e*-0x4c+-0x1511)]=_0xb3e19a[-0x21ad+0x106+0x20bf]<<0x8d2+0x1d15+-0x2*0x12e9|_0xb3e19a[-0x1188+0x216f*0x1+-0xe*0x121]<<-0x2b7*-0xa+0x140c*0x1+-0x2f27|_0xb3e19a[-0x19a0+-0x22a*-0x2+-0xb*-0x1f2],_0x1b68fe[_0x58d9cc*(0x89f*-0x2+-0x8*-0x4c0+-0x14be)+(-0x49d*-0x6+-0x1*0x596+-0x101*0x16)]=_0xb3e19a[0x213d*0x1+0xd*0x193+-0x3599]<<-0x7bb*0x4+0x30f*-0x2+0x251f|_0xb3e19a[0x1*-0x471+-0x19*-0x14d+-0x1bf8]<<0xcb6+-0x16*0x137+-0x1*-0xe0f|_0xb3e19a[-0xfcf+-0x31e+-0x985*-0x2],_0x1b68fe[_0x58d9cc*(-0x26b0+-0x1e32+-0x2*-0x2273)+(-0xbbd+-0x1*-0x84f+0x371)]=_0xb3e19a[-0x2bb*0x9+0x2*-0x5f7+0x249f]<<0x43f*0x9+0xcd0+-0x32f2|_0xb3e19a[0x784+-0x18ab+-0xc9*-0x16]<<-0x19fe+0x2*0x9d+0x18cf|_0xb3e19a[-0x74b*-0x3+-0x3*0x35c+-0xbad],_0x32ba01[_0x58d9cc*(-0x91d+-0xc63+-0xa2*-0x22)+(-0x143c+0x2d2+0x116a*0x1)]=_0xb3e19a[-0x261*0x9+-0xa3*0x24+-0x769*-0x6]<<-0x1b04+-0xce7+0x2800|_0xb3e19a[0x2f*0x9e+0x1*-0x13f0+0x4*-0x23c]<<-0x7f*-0x3a+0xc17+0x1db*-0x16|_0xb3e19a[0x19ce+0x1f9*0x12+0x3d2d*-0x1],_0x32ba01[_0x58d9cc*(-0x93*-0x1d+-0x1965+0x8c2)+(0x11bd+0x2190+-0x334c)]=_0xb3e19a[-0x2cf*0x1+-0x1604+0x18f7]<<0x2b7*0x1+0x7d5+-0xa77|_0xb3e19a[0x26d9+0x626*-0x4+-0xe1c]<<0x426+-0x889+0x46e|_0xb3e19a[0x913+-0x19c9*0x1+0x10dc],_0x32ba01[_0x58d9cc*(0xa*0x2c8+0xbef+0x7*-0x5ad)+(0x3b9*-0x7+-0x50a*0x6+0x384d)]=_0xb3e19a[-0x1c6b+0xc22*-0x3+0x40f8]<<0x143e*-0x1+0xf*-0x1+-0x2*-0xa31|_0xb3e19a[-0xc30+-0xbda+0x1832]<<0x4af*-0x8+0x5*-0x32f+0x356e|_0xb3e19a[0x5*0x16d+-0x16ee+-0x1c6*-0x9],_0x32ba01[_0x58d9cc*(-0xcfc*0x2+0x1411+-0x5eb*-0x1)+(0x12c3*-0x2+-0x683*0x2+-0x1*-0x328f)]=_0xb3e19a[-0x1ec7+0x224c+0x35b*-0x1]<<0xd8b*0x1+0x9*-0x2f5+0xd*0x103|_0xb3e19a[-0x1*-0x6a1+-0x1*0x162a+0x14*0xc9]<<0x1*-0x254e+0x4d5*-0x1+-0x2a2e*-0x1|_0xb3e19a[-0xc83*0x3+0x277*0x7+0x1474]):_0x1b68fe[_0x58d9cc]=_0xb3e19a[-0x86a+-0xa20+-0x129f*-0x1]<<0x2*-0x259+-0x68c*-0x4+-0x1569|_0xb3e19a[-0x634+0x2547+-0x1efd]<<0x3f7+0x1*-0x1beb+0x1*0x17ff|_0xb3e19a[-0x3e3*0x4+-0x9ef+-0xcc9*-0x2]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x44fdbf,'sh4to7Data':_0x4579af,'sh8to11Data':_0x1b68fe,'sh12to15Data':_0x32ba01}},[_0x44fdbf['buffer'],_0x4579af['buffer'],_0x1b68fe['buffer'],_0x32ba01['buffer']]);},_0x2f882d=()=>{_0x3b09da=null,_0x5cb444=null,_0x47b394=null,_0x3fad88=null,_0xf471a9=null,_0xfbead3=null,_0x2de4fb=null,_0x22dea9=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x469787,_0x1902aa,_0x4c59cf){_0x469787['onmessage']=_0x3e260d=>{if(!this['worker'])return;const {data:_0x37e768}=_0x3e260d;if(_0x37e768['type']===_0x1902aa)switch(_0x1902aa){case'updatedSHD'+'ata1':_0x4c59cf(_0x37e768['data']);break;case'updatedCol'+'orData':_0x4c59cf(_0x37e768['data']);break;case'updatedTra'+'nsformData':_0x4c59cf(_0x37e768);break;}};}['updateSHDa'+'ta1'](_0x522204,_0x58fbb5,_0x438a8d){var _0x23e675;return(_0x23e675=this['worker'])==null||_0x23e675['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x522204,'shBands':_0x58fbb5,'SHData':_0x438a8d}),new Promise(_0x223a20=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1342f8=>{_0x223a20(_0x1342f8);});});}async['updateTran'+'sData'](_0x5ce917,_0x8273d0,_0x6326f4,_0xa2f624,_0x4794b9,_0x23b106,_0x5842b7,_0x1ca8c0){var _0x1f23a1;return(_0x1f23a1=this['worker'])==null||_0x1f23a1['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5ce917,'is4D':_0x8273d0,'position':_0x6326f4,'rotation':_0xa2f624,'motion':_0x4794b9,'scale':_0x23b106,'muT':_0x5842b7,'tScale':_0x1ca8c0}),new Promise(_0x256387=>{const _0x404c68=_0x5822d6=>{_0x256387(_0x5822d6);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x404c68);});}['destroy'](){var _0xeb595e;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0xeb595e=this['worker'])==null||_0xeb595e['terminate'](),this['worker']=null);}}const xg=(_0x2c7a5d,_0x7d3b19)=>{const _0x2bd9ad=[];for(let _0xe46e6f=-0x145*-0x14+0x2149*0x1+-0x3aad;_0xe46e6f<_0x7d3b19;++_0xe46e6f)_0x2bd9ad['push'](_0x2c7a5d['getProp']('f_rest_'+_0xe46e6f));return _0x2bd9ad;};class CC extends Rv{constructor(_0x35a02b,_0x5e659e){super(_0x35a02b,_0x5e659e),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x6a*0x43+0x91*-0x2f+0x365e)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x3b*-0x85+-0x2414+0x22*0x29);}['setSceneIn'+'fo'](_0x544385){this['sceneInfo']['duration']=_0x544385['duration'],this['sceneInfo']['fps']=_0x544385['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x544385['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x544385['globalBoun'+'dingBox']['min'][0xbfd+0x5*0x57d+0x1*-0x276e],_0x544385['globalBoun'+'dingBox']['min'][-0x11b4+0x1*-0x1e1a+0x2fcf],_0x544385['globalBoun'+'dingBox']['min'][0x19*0x6d+-0x25*0x103+0x1acc]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x544385['globalBoun'+'dingBox']['max'][-0x34*0x3b+-0x1897+-0x2493*-0x1],_0x544385['globalBoun'+'dingBox']['max'][-0x53*0x1d+0x24fb+-0x1b93],_0x544385['globalBoun'+'dingBox']['max'][0x835*-0x4+0x102f+0x10a7]);const _0x4f1c2f=_0x544385['globalBoun'+'dingBox']['min'][0x206+0x1c*-0xfb+-0x3*-0x87a],_0x1e9bbf=_0x544385['globalBoun'+'dingBox']['min'][-0x871*-0x2+-0xc76+0x57*-0xd],_0x5ae8b3=_0x544385['globalBoun'+'dingBox']['min'][-0x1186+-0x29*0x89+-0x7e5*-0x5],_0x5d1af4=_0x544385['globalBoun'+'dingBox']['max'][-0x15d*-0x3+0x1bb*-0x2+0xa1*-0x1],_0x4ad3d0=_0x544385['globalBoun'+'dingBox']['max'][0x18a8*-0x1+-0x21+-0xa7*-0x26],_0x384724=_0x544385['globalBoun'+'dingBox']['max'][-0x112+0x2f*-0x4f+0xf95*0x1],_0x30a85c=new D((_0x4f1c2f+_0x5d1af4)*(0x16d4+0x1da6+0x2*-0x1a3d+0.5),(_0x1e9bbf+_0x4ad3d0)*(-0xfdc+0x1504+-0x528+0.5),(_0x5ae8b3+_0x384724)*(0xcd3*0x2+-0x123f+-0x767+0.5)),_0x51ef9a=new D((_0x5d1af4-_0x4f1c2f)*(-0x1496+-0x8d1+0x3*0x9cd+0.5),(_0x4ad3d0-_0x1e9bbf)*(-0x636+0x18f7+-0x12c1+0.5),(_0x384724-_0x5ae8b3)*(-0x1cd1+0x1891+-0x440*-0x1+0.5)),_0x23b7ec=new De(_0x30a85c,_0x51ef9a);this['sceneInfo']['globalBoun'+'dingBox']=_0x23b7ec,this['aabb']=_0x23b7ec;}async['updateData'](){var _0x1a577c,_0x2a2403,_0x39c491,_0x501de8,_0x33d8fa,_0x5c6f4e,_0x2befda,_0x1d407c,_0x186703,_0x43abb4,_0x55ee88;await super['updateData']();const _0x32e2fc=this['gsplatData'];if(!_0x32e2fc)return;this['is4D']=_0x32e2fc['is4D'];const _0x353be9=await this['getTransfo'+'rmDataByWo'+'rker'](_0x32e2fc);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x353be9['centers'],this['motion']=_0x353be9['motion'],this['tScale']=_0x353be9['tScaleArra'+'y'],this['muT']=await _0x32e2fc['getMuT'](),this['timeIndex']=await _0x32e2fc['getTimeInd'+'ex']();const _0x51b24f=this['evalTextur'+'eSize'](_0x32e2fc['numSplats']);this['colorTextu'+'re']?((_0x1a577c=this['colorTextu'+'re2'])==null||_0x1a577c['destroy'](),(_0x2a2403=this['transformA'+'Texture2'])==null||_0x2a2403['destroy'](),(_0x39c491=this['transformB'+'Texture2'])==null||_0x39c491['destroy'](),(_0x501de8=this['transformR'+'Texture2'])==null||_0x501de8['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x51b24f),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x51b24f),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x51b24f),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x51b24f),this['is4D']&&((_0x33d8fa=this['transformM'+'otionTextu'+'re2'])==null||_0x33d8fa['destroy'](),(_0x5c6f4e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x5c6f4e['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x51b24f),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x51b24f))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x51b24f),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x51b24f),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x51b24f),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x51b24f),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x51b24f),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x51b24f),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x51b24f),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x51b24f),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x51b24f),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x51b24f),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x51b24f),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x51b24f))),await this['updateColo'+'rData'](_0x32e2fc),await this['updateTran'+'sformFromD'+'ata'](_0x353be9),this['shBands']=_0x32e2fc['shBands'],this['shBands']>0x203c+0x1*-0x2263+-0x1d*-0x13&&(this['sh1to3Text'+'ure']?((_0x2befda=this['sh1to3Text'+'ure2'])==null||_0x2befda['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x51b24f),this['shBands']>0x2f*0x3a+0xaaf+-0x1554&&((_0x1d407c=this['sh4to7Text'+'ure2'])==null||_0x1d407c['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x51b24f),this['shBands']>-0x25db+0xe0*-0x11+0x34bd?((_0x186703=this['sh8to11Tex'+'ture2'])==null||_0x186703['destroy'](),(_0x43abb4=this['sh12to15Te'+'xture2'])==null||_0x43abb4['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51b24f),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x51b24f)):((_0x55ee88=this['sh8to11Tex'+'ture2'])==null||_0x55ee88['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51b24f)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x51b24f),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x51b24f),this['shBands']>-0x25d+-0x16c2+0x1920&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x51b24f),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x51b24f),this['shBands']>-0xd0b+0x2567+-0x185a?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x51b24f),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x51b24f),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x51b24f),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x51b24f)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x51b24f),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x51b24f)))),await this['updateSHDa'+'taByWorker'](_0x32e2fc));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0xf3b91){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0xf3b91}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x3d3ca5,_0x55de2e,_0x28e1bf,_0x3962d9,_0x255357,_0x2e4e05){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x3d3ca5,'timeOption':_0x55de2e,'loadedTime':_0x28e1bf,'asset':_0x3962d9,'events':_0x255357,'seekCB':_0x2e4e05}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1918*-0x1+-0x14b8+0xb74*0x4);try{for(;this['appendQueu'+'e']['length']>-0x16f9+-0xa1e+0x2117;){const _0x74d1f3=this['appendQueu'+'e']['shift']();_0x74d1f3['type']==='append'?await this['processApp'+'endTask'](_0x74d1f3['data']):_0x74d1f3['type']==='release'&&await this['processRel'+'easeTask'](_0x74d1f3['data']);}}finally{this['isProcessi'+'ngQueue']=!(0xf*0xed+0x61*0x1a+0x3e*-0x62);}}}async['processRel'+'easeTask'](_0x199165){const {index:_0x4c4b45}=_0x199165;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x4c4b45);}async['processApp'+'endTask'](_0x30e07c){var _0xc7a3a3;const {gsplatData:_0x29b7dc,timeOption:_0x1d0270,loadedTime:_0x31e5b4,asset:_0x455804,events:_0x304a82,seekCB:_0x4c0513}=_0x30e07c;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1d0270,this['asset']=_0x455804,this['assetsMana'+'gerLoadedT'+'ime']=_0x31e5b4,this['events']=_0x304a82,await this['gsplatData']['appendGSpl'+'atData'](_0x29b7dc,_0x31e5b4,_0x1d0270),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1df1+0x5e9+0x47b*-0x8),_0x29b7dc['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x29b7dc['numSplats'])['toFixed'](0x1*-0x945+0x1e97+0x154f*-0x1)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x3ca+-0x23ba+0x1ff2),_0x29b7dc['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0xc7a3a3=this['gsplatInst'+'ance'])==null?void(-0x1a57*-0x1+-0xc76+-0xde1):_0xc7a3a3['updateInst'+'anceData'](this,_0x31e5b4,_0x4c0513)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1513+-0x2617+0x1106),_0x29b7dc['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x20abd6,_0x17119a){var _0x26c65a;const _0x2dae6a=_0x20abd6||this['assetsMana'+'gerLoadedT'+'ime'];(_0x26c65a=this['asset'])==null||_0x26c65a['fire']('setAssetsL'+'oaded',_0x2dae6a,_0x17119a);}['destroy'](){var _0x542227,_0xa906d8,_0x2518ca,_0x52a2c,_0x3cee4d,_0x170025,_0x50a233,_0x47648a,_0x478f06,_0x3d5e21,_0xbd3956,_0x3878c4,_0x4d9b80,_0x24ab9c,_0x2d82a5,_0x22b070,_0x5c4d86,_0x6056a,_0x21498d,_0x27ba60,_0x514c19;(_0x542227=this['updateData'+'Worker'])==null||_0x542227['destroy'](),this['updateData'+'Worker']=void(0x16d4*-0x1+-0x21c3*-0x1+-0xaef),(_0xa906d8=this['colorTextu'+'re'])==null||_0xa906d8['destroy'](),(_0x2518ca=this['transformA'+'Texture'])==null||_0x2518ca['destroy'](),(_0x52a2c=this['transformB'+'Texture'])==null||_0x52a2c['destroy'](),(_0x3cee4d=this['transformR'+'Texture'])==null||_0x3cee4d['destroy'](),(_0x170025=this['transformM'+'otionTextu'+'re'])==null||_0x170025['destroy'](),(_0x50a233=this['transformL'+'ifecycleTe'+'xture'])==null||_0x50a233['destroy'](),(_0x47648a=this['sh1to3Text'+'ure'])==null||_0x47648a['destroy'](),(_0x478f06=this['sh4to7Text'+'ure'])==null||_0x478f06['destroy'](),(_0x3d5e21=this['sh8to11Tex'+'ture'])==null||_0x3d5e21['destroy'](),(_0xbd3956=this['sh12to15Te'+'xture'])==null||_0xbd3956['destroy'](),(_0x3878c4=this['colorTextu'+'re2'])==null||_0x3878c4['destroy'](),(_0x4d9b80=this['transformA'+'Texture2'])==null||_0x4d9b80['destroy'](),(_0x24ab9c=this['transformB'+'Texture2'])==null||_0x24ab9c['destroy'](),(_0x2d82a5=this['transformR'+'Texture2'])==null||_0x2d82a5['destroy'](),(_0x22b070=this['transformM'+'otionTextu'+'re2'])==null||_0x22b070['destroy'](),(_0x5c4d86=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x5c4d86['destroy'](),(_0x6056a=this['sh1to3Text'+'ure2'])==null||_0x6056a['destroy'](),(_0x21498d=this['sh4to7Text'+'ure2'])==null||_0x21498d['destroy'](),(_0x27ba60=this['sh8to11Tex'+'ture2'])==null||_0x27ba60['destroy'](),(_0x514c19=this['sh12to15Te'+'xture2'])==null||_0x514c19['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x42dd38){var _0x5ed197,_0x3c2e95,_0x10c034,_0x3fe8b6,_0x2bbde9,_0x22ffca,_0x352b04,_0x307389,_0x31d5e2,_0x355997,_0x4ba630,_0x174e5d,_0xa2ba70;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x2317c2=((_0x5ed197=_0x42dd38['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x2b*0xc2+0x10c8+0x2*0x7e7):_0x5ed197['data'])??0x2082+0x15b*-0x10+-0x2*0x569,_0x5ec886=((_0x3c2e95=_0x42dd38['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x2*0x926+0x35c+-0x15a8):_0x3c2e95['data'])??0x394+-0x15*0xa6+0xa0b,_0x1efe5a=((_0x10c034=_0x42dd38['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x184*-0x2+0xea6+-0x11ae):_0x10c034['data'])??0x1321+0x26f4+0xb1*-0x54,_0x49f8bb=((_0x3fe8b6=_0x42dd38['getParamet'+'er']('uHueOffset'))==null?void(-0x1*-0x182a+-0x1297*0x2+0xd04):_0x3fe8b6['data'])??0x1362+0x2c2*0x2+0x1*-0x18e6,_0x64954=((_0x2bbde9=_0x42dd38['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x17e9+0xcc7*-0x3+0x736*0x2):_0x2bbde9['data'])??0x87+-0x1*-0xb0f+-0x2*0x5cb,_0x56dddd=((_0x22ffca=_0x42dd38['getParamet'+'er']('uOpacity'))==null?void(-0x1601+0x1a57+0xf*-0x4a):_0x22ffca['data'])??0xc7a+0x1cb0+-0x1*0x2929,_0x42444c=((_0x352b04=_0x42dd38['getParamet'+'er']('clrOffset'))==null?void(0x15*-0x3e+-0x2*0x118f+-0x3e*-0xa6):_0x352b04['data'])??[0x235d+0x83b+-0x2b98,0x715+0x1c2e+0x1*-0x2343,0x952+-0xd69*0x1+0x417,0x1*-0x1f8d+0x1508+-0x1*-0xa86],_0x252bdc=((_0x307389=_0x42dd38['getParamet'+'er']('clrScale'))==null?void(0x5e*0x3b+0xa*-0x7+-0x1*0x1564):_0x307389['data'])??[-0x19fd*0x1+-0x1acb+0x34c9*0x1,-0x1918+-0x12d9+-0x7d*-0x5a,-0x9*-0x33a+0x1*-0xe5d+-0xeac,0x23c9+0xc8c+-0x3054],_0x2b6382=((_0x31d5e2=_0x42dd38['getParamet'+'er']('uShapeN'))==null?void(0xf71*0x2+-0x21e5+0x303):_0x31d5e2['data'])??-0x1bf+-0x1fd1+0x2190,_0x6d718d=((_0x355997=_0x42dd38['getParamet'+'er']('mode'))==null?void(0x250c+0x1351+-0x385d):_0x355997['data'])??0x1*-0x1990+0x21be+0x2ba*-0x3,_0x1f6db2=((_0x4ba630=_0x42dd38['getParamet'+'er']('ringSize'))==null?void(0x13f3+-0x2f6+0x1*-0x10fd):_0x4ba630['data'])??0x252+0xaf*-0x29+0x19b5,_0x7500b5=((_0x174e5d=_0x42dd38['defines'])==null?void(-0xb9*-0x17+0x1d48*0x1+-0x2de7):_0x174e5d['get']('uOpenAnim'))??'0',_0x11a9ca=((_0xa2ba70=_0x42dd38['defines'])==null?void(0xd3b+0xe30*-0x2+0xf25*0x1):_0xa2ba70['get']('uControlCo'+'lorMode'))??'0';_0x42dd38['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x42dd38['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x42dd38['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x42dd38['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x42dd38['setParamet'+'er']('uSplatScal'+'e',_0x5ec886),_0x42dd38['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x2317c2),_0x42dd38['setParamet'+'er']('uSaturatio'+'n',_0x1efe5a),_0x42dd38['setParamet'+'er']('uHueOffset',_0x49f8bb),_0x42dd38['setParamet'+'er']('uInvertOpa'+'city',_0x64954),_0x42dd38['setParamet'+'er']('uOpacity',_0x56dddd),_0x42dd38['setParamet'+'er']('clrOffset',_0x42444c),_0x42dd38['setParamet'+'er']('clrScale',_0x252bdc),_0x42dd38['setParamet'+'er']('uShapeN',_0x2b6382),_0x42dd38['setParamet'+'er']('mode',_0x6d718d),_0x42dd38['setParamet'+'er']('ringSize',_0x1f6db2),_0x42dd38['setParamet'+'er']('prerenderC'+'Time',0x403+-0x11a*-0x1f+0x2629*-0x1),_0x42dd38['setParamet'+'er']('renderSpac'+'e',0xc7a+-0x2*0x1ab+-0x91a),_0x42dd38['setParamet'+'er']('endSpace',-0x1*-0x14c1+-0x1b56*-0x1+0x300d*-0x1),_0x42dd38['setDefine']('uOpenAnim',_0x7500b5),_0x42dd38['setDefine']('uControlCo'+'lorMode',_0x11a9ca),this['transformM'+'otionTextu'+'re']&&_0x42dd38['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x42dd38['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x42dd38['setDefine']('SH_BANDS',this['shBands']),_0x42dd38['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x42dd38['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x42dd38['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x42dd38['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x42dd38['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x1ebfd3){const _0x919b02=Math['ceil'](Math['sqrt'](_0x1ebfd3)),_0x93653b=Math['ceil'](_0x1ebfd3/_0x919b02);return new J(_0x919b02,_0x93653b);}async['updateColo'+'rData'](_0x307443){var _0x15c1a8;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x1cdc83=this['colorTextu'+'re2'];if(!_0x1cdc83||this['isDestroye'+'d'])return;let _0x39a361=(_0x15c1a8=_0x307443['transformD'+'ata'])==null?void(-0xd8*-0x2c+0x174c+-0x3c6c):_0x15c1a8['dataColor'];if(!_0x39a361){const _0x174933=_0x307443['getProp']('color_opac'+'ity');_0x39a361=new Uint16Array(_0x174933['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x1cdc83,_0x39a361);}async['getTransfo'+'rmDataByWo'+'rker'](_0x347dc3){var _0x5f562a;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x5f562a=_0x347dc3['transformD'+'ata'])!=null&&_0x5f562a['dataCenter'+'s'])return{'centers':_0x347dc3['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x347dc3['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x347dc3['transformD'+'ata']['dataScale'],'dataRotation':_0x347dc3['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x347dc3['transformD'+'ata']['dataMotion'],'dataTime':_0x347dc3['transformD'+'ata']['dataTime'],'motion':_0x347dc3['transformD'+'ata']['motion'],'tScaleArray':_0x347dc3['transformD'+'ata']['tScaleArra'+'y']};const _0x157f02=_0x347dc3['getProp']('position'),_0x509e2f=_0x347dc3['getProp']('motion'),_0x314275=_0x347dc3['getProp']('rotation'),_0x28bcae=_0x347dc3['getProp']('scale'),_0x2a9e48=_0x347dc3['getProp']('t'),_0x433517=_0x347dc3['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x347dc3['numSplats'],this['is4D'],_0x157f02,_0x314275,_0x509e2f,_0x28bcae,_0x2a9e48,_0x433517);}async['updateTran'+'sformFromD'+'ata'](_0x2cc6f7){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x2cc6f7['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x2cc6f7['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x2cc6f7['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x2cc6f7['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x2cc6f7['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x173441,_0x54266f){if(!this['isDestroye'+'d'])return new Promise(_0xa78fe8=>{requestIdleCallback(()=>{const _0x4408ba=_0x173441['lock']();_0x4408ba==null||_0x4408ba['set'](_0x54266f),_0x173441['unlock'](),_0xa78fe8(!(0x2*-0x7af+0x459*-0x1+0x13b7));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x434555){var _0x11f29d,_0xa794a0,_0x26d012,_0xc8c061,_0x47d97d,_0x45b251,_0x1fa944,_0x5d9711;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x41463c=(_0x11f29d=this['sh1to3Text'+'ure2'])==null?void(0x26c2+-0x67*-0x1+-0x2729):_0x11f29d['lock'](),_0x138f24=(_0xa794a0=this['sh4to7Text'+'ure2'])==null?void(-0x1*0xe4+0x5*0x6be+0x1069*-0x2):_0xa794a0['lock'](),_0x3730ef=(_0x26d012=this['sh8to11Tex'+'ture2'])==null?void(0x2*0x4b4+-0x1aa5+0x113d):_0x26d012['lock'](),_0x514aa1=(_0xc8c061=this['sh12to15Te'+'xture2'])==null?void(-0x833*0x1+-0x1c63+-0x53a*-0x7):_0xc8c061['lock'](),_0x6c3d1d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x41f365=xg(_0x434555,_0x6c3d1d*(0x48a+-0x266c*0x1+0x21e5)),_0x3f5d0b=0x1ae1+0x5*-0x40b+0x155,_0x500082=0x2628+-0x2106+-0x3*0x61,_0xc78a8e=new Float32Array(0x1*-0xf98+0x993+0x606),_0x2d973e=new Uint32Array(_0xc78a8e['buffer']),_0x1be8fb=new Array(_0x6c3d1d*(-0x9*-0x44d+0x1847+0x8ff*-0x7))['fill'](-0x323*-0x3+0xcee*0x3+-0x3033);for(let _0x4a08ce=-0x2502*0x1+-0x414+-0x6d9*-0x6;_0x4a08ce<_0x434555['numSplats'];++_0x4a08ce){for(let _0x2618a5=0xe3*0x4+-0x7ba*-0x1+-0x4a*0x27;_0x2618a5<_0x6c3d1d;++_0x2618a5)_0x1be8fb[_0x2618a5*(0x2*0xaad+0x39a+-0x18f1)]=_0x41f365[_0x2618a5][_0x4a08ce],_0x1be8fb[_0x2618a5*(-0x1*0x5ca+0x2*0x1304+-0x203b)+(0x2*-0xaa1+0x3*0x4eb+-0x31*-0x22)]=_0x41f365[_0x2618a5+_0x6c3d1d][_0x4a08ce],_0x1be8fb[_0x2618a5*(-0xb09*-0x2+0xa4e*-0x3+0x8db)+(-0x12cb*0x2+0x49f*0x4+-0x4c7*-0x4)]=_0x41f365[_0x2618a5+_0x6c3d1d*(-0x1*0x183f+-0x2e3+0x1b24)][_0x4a08ce];let _0x393df1=_0x1be8fb[-0x26c6+0x2049+-0x97*-0xb];for(let _0x30e8bc=-0x2*0xa7+0x939+-0x1*0x7ea;_0x30e8bc<_0x6c3d1d*(-0xf1b*-0x2+-0x2b3*0x8+-0x89b);++_0x30e8bc)_0x393df1=Math['max'](_0x393df1,Math['abs'](_0x1be8fb[_0x30e8bc]));if(_0x393df1!==-0x11*0x177+0x225d+-0x976){for(let _0x24226b=-0xb30+-0x541+0x1*0x1071;_0x24226b<_0x6c3d1d;++_0x24226b)_0x1be8fb[_0x24226b*(0x26d8+0x2*0xe25+-0x431f)+(-0xf23+0x5ea+0x939)]=Math['max'](-0x111d+-0x25f3+0x3710,Math['min'](_0x3f5d0b,Math['floor']((_0x1be8fb[_0x24226b*(0x2*-0xc68+0xb*0x33b+-0xab6)+(0x35*-0xc+-0x2029*-0x1+-0x1dad)]/_0x393df1*(-0x50e*-0x4+0x23d1*0x1+-0x3809+0.5)+(0x1f*0xa1+0x2*-0x1186+0xf8d+0.5))*_0x3f5d0b+(-0x1c6*-0x6+-0x137+-0x96d+0.5)))),_0x1be8fb[_0x24226b*(0x1ce4+0x4*-0x322+-0x1059)+(-0x1*0x768+-0x1ccf+0x1e8*0x13)]=Math['max'](-0x49*-0x47+0x1412+-0x2851,Math['min'](_0x500082,Math['floor']((_0x1be8fb[_0x24226b*(0x2*-0x29+0x1e4b+-0x1df6)+(0x16c8+-0x24*-0x9+0x5*-0x4cf)]/_0x393df1*(0x2014+-0x77*-0x21+-0x2f6b+0.5)+(0xb*0x10c+0x325+-0xea9+0.5))*_0x500082+(-0x103*0x1+0x1f1e+-0x1e1b+0.5)))),_0x1be8fb[_0x24226b*(0x991*-0x4+0x5*-0x750+-0xa1*-0x77)+(-0x11be+-0x1*-0x1e3+0xfdd)]=Math['max'](-0x1894*-0x1+0x81e+0x36*-0x9b,Math['min'](_0x3f5d0b,Math['floor']((_0x1be8fb[_0x24226b*(0x16a8+0x15f1+-0x36e*0xd)+(-0x7b1+0x1e*-0x15+0xa29)]/_0x393df1*(-0x126a+0x1988+-0x71e+0.5)+(0x1*-0x17f3+0x2fd+-0x2*-0xa7b+0.5))*_0x3f5d0b+(-0xea+0xc62+0x4*-0x2de+0.5))));_0xc78a8e[-0x419+0x17f4+-0x187*0xd]=_0x393df1,_0x41463c[_0x4a08ce*(0x12f*-0x12+0xd*0x2ad+0x3*-0x47d)+(0x1f4d+0x1c2a+-0x3b77)]=_0x2d973e[0x5b1*-0x2+0x1d94+-0x1232],_0x41463c[_0x4a08ce*(0x23*0x116+0x1a2d+-0x402b)+(0x1*0xae+-0x1b81+0x6b5*0x4)]=_0x1be8fb[-0x2330+-0xf51+0x737*0x7]<<0x581*0x3+0x2531+-0x359f|_0x1be8fb[0x2110+-0x1165*0x1+-0x7d5*0x2]<<-0x14d8+0x1848+-0x365|_0x1be8fb[-0x1cb8*0x1+-0x1bf3+0xb*0x527],_0x41463c[_0x4a08ce*(-0x11a*0x3+0x53b*0x1+0x1e9*-0x1)+(0x1607*-0x1+-0x1*0xa79+-0x13*-0x1b6)]=_0x1be8fb[-0x15af+-0x26f0+-0x1436*-0x3]<<-0x1c7a+0x1c91+-0x2|_0x1be8fb[-0xfde+-0x2*0x689+-0x4*-0x73d]<<0x9*0xc+-0x3*0x4e1+0xe42|_0x1be8fb[-0x1a35*-0x1+-0x4ca*0x1+-0x1566],_0x41463c[_0x4a08ce*(0x1*-0x1e15+0x236d+0x2aa*-0x2)+(-0x4*0x11b+0x893+-0x424)]=_0x1be8fb[-0x1f0c+0x1*-0x21ad+0x40bf]<<0x1039+-0x1ef6+0xed2|_0x1be8fb[-0x1*0x1e25+-0x111d+0x327*0xf]<<-0x2*-0x52d+-0x1*-0x1bcd+-0x261c|_0x1be8fb[0x1*0x1c10+0x816+0x192*-0x17],this['shBands']>-0x1*-0x2e4+-0xf*-0x147+-0x583*0x4&&(_0x138f24[_0x4a08ce*(-0x44*0x54+0x9d2+0xc82)+(0xf8d*-0x2+0x18b*-0x17+-0x1*-0x4297)]=_0x1be8fb[-0x3f1+-0x2*-0xb5+0x290]<<-0x470*0x5+-0x1421*-0x1+0x224|_0x1be8fb[0x2b*-0xc7+0xd06+0x1471]<<-0x1e49*0x1+-0x218e+-0x1a*-0x275|_0x1be8fb[0x84d*-0x1+0x2644+-0x1dec],_0x138f24[_0x4a08ce*(0x1*0xba0+-0xa3b*0x3+0x1315)+(-0x1cca+-0x96f+0xcbe*0x3)]=_0x1be8fb[-0x283*-0xd+-0x1b9b+-0x500*0x1]<<0x1630+-0x1311+0x1*-0x30a|_0x1be8fb[0x25be+-0x25*0xa1+-0xe6c]<<0x2ce+0x4ee+-0x7b1|_0x1be8fb[0x9*0x35f+0x5*-0x709+0x139*0x4],_0x138f24[_0x4a08ce*(0x5b*0x53+-0x5f3+0x2e*-0x83)+(0x406+-0x165*-0x17+-0x2417)]=_0x1be8fb[0x5*-0x12c+-0x1*-0xf90+-0x9a5]<<0xeb*-0x8+0x1d*0x55+0x1*-0x234|_0x1be8fb[-0xa2c*-0x3+-0x295+-0x1bdf]<<-0x1*0x2d1+-0x240d+-0x7*-0x58f|_0x1be8fb[-0x2087+-0x59f*0x1+0x2637],_0x138f24[_0x4a08ce*(0x1e*0x25+-0x1e07+0x19b5)+(-0x527+-0x19fc*0x1+-0x6*-0x531)]=_0x1be8fb[-0xb*0x361+-0x3f5*-0x2+-0x1d53*-0x1]<<0x20be+-0x1f21*0x1+0x1c*-0xe|_0x1be8fb[-0x17a8*0x1+-0x15*-0x1d2+0xe7f*-0x1]<<0x9d*0x3+0x6a3+-0x86f|_0x1be8fb[0x11f3+0x7eb*-0x1+-0x9f4],this['shBands']>-0x2527+0x1bab+-0x2d*-0x36?(_0x3730ef[_0x4a08ce*(0x5d5*0x1+0x21e5+-0x11*0x256)+(0x65b+-0x153*0x19+0x1ac0)]=_0x1be8fb[-0x25c1+-0x1ae9+-0x33*-0x145]<<-0x1096+0xb45+0x566|_0x1be8fb[-0x7*0x2f3+-0x1621+0x2adc]<<-0x59*-0x2+-0xc01*-0x3+-0x24aa|_0x1be8fb[0x1f8b+-0x49b+0x1ad9*-0x1],_0x3730ef[_0x4a08ce*(0x9c5*0x3+-0xae8*0x1+-0x1263)+(0x197e+-0x631*0x4+-0xb9)]=_0x1be8fb[0xd8d+-0x155d+0x7e8]<<0x3e*0x15+0xb*-0x22e+0x12f9*0x1|_0x1be8fb[0x1997+-0x12e7+0x697*-0x1]<<0x17f6+0x1a49+-0x6c*0x77|_0x1be8fb[-0x119+0x1*0x20b9+-0x1f86],_0x3730ef[_0x4a08ce*(0x719*-0x1+-0x153d+0x1c5a)+(0x1*0x384+0xb*0x315+-0x2569)]=_0x1be8fb[-0x1b30+0x1*-0x10d2+0x2c1d]<<-0xc4a+0x2352+-0x16f3|_0x1be8fb[-0x109*-0x25+0x6e6*-0x4+-0xa99*0x1]<<-0x1ecd+0x51c*0x7+0x6*-0xd2|_0x1be8fb[-0x1*-0xd+-0x2*0x2ce+-0x1*-0x5ac],_0x3730ef[_0x4a08ce*(0xf6c+-0x1ee*-0x1+-0x1156)+(-0x25*-0x43+-0x1*0xb3f+-0xd*-0x1f)]=_0x1be8fb[0x1*0x9fd+-0x58d+0xe*-0x4f]<<-0x1dcc+0x1*-0x148+0x1f29|_0x1be8fb[0x1*-0x1cb7+-0x2084+-0x1*-0x3d5a]<<0x8*0x3e7+0xf9*-0x11+-0xea4|_0x1be8fb[-0x73*-0x6+0x222*-0x7+0xc5c],_0x514aa1[_0x4a08ce*(0x3c*-0x42+-0x1efa+0x2e76)+(-0x1f90*0x1+0x29*-0xa+0x212a)]=_0x1be8fb[0x1465*-0x1+-0x640*-0x1+0xe46]<<-0x199*0x1+-0x32*-0x44+-0xb9a|_0x1be8fb[-0x1ce2+0xd47+0xfbd]<<-0xb*0x37b+-0x1e3b+0x448f|_0x1be8fb[0x2*-0x283+-0x1fd2+-0x24fb*-0x1],_0x514aa1[_0x4a08ce*(0x1278+-0x2*-0xa8d+-0x278e)+(0x12a9*-0x1+-0x4b1*0x5+0x107*0x29)]=_0x1be8fb[-0x1c8f+-0x2573+0x4226]<<0x5b*0x5+0xbef*-0x3+0x221b|_0x1be8fb[-0x1679+0x15ae+0xf0]<<-0x1e7f+-0x1cb7+0x1*0x3b41|_0x1be8fb[0x1*-0x871+0xd*0x53+0x460],_0x514aa1[_0x4a08ce*(-0x1ff6+0x1*-0x6c4+0x135f*0x2)+(-0x3a*0x4+0x1a4a*0x1+0x4*-0x658)]=_0x1be8fb[-0x1166+-0x2*-0x1305+0x147d*-0x1]<<-0x5ce*-0x1+0x635+-0x1*0xbee|_0x1be8fb[-0x26c3+0x14a9+0x1242]<<0xdb*-0x1+0xc28+-0xb42|_0x1be8fb[0x6*-0x34a+0x3da+0x100b],_0x514aa1[_0x4a08ce*(0x237a+0x1*-0x14e6+-0xe90)+(0xcae+-0x4*-0x76b+-0x2a57)]=_0x1be8fb[-0x1552+-0x1e*0x149+0x3c0a]<<-0x106b+0x4d*-0x3d+-0x32b*-0xb|_0x1be8fb[-0x8*-0x19d+-0x6ca*-0x4+-0x7*0x5b3]<<-0x18bd+0x76+0x1852|_0x1be8fb[-0x3*-0x2c2+0x9d*0x11+-0x1287]):_0x3730ef[_0x4a08ce]=_0x1be8fb[0x18e*-0x9+-0x246e*0x1+0x3281]<<-0x12f7+-0x1aaa+0x16db*0x2|_0x1be8fb[0x1b5b+0x1*-0x1438+-0x70d]<<0x7a8+0x1e*0x52+-0x1*0x1139|_0x1be8fb[0x1cc4+0x1bff*0x1+-0x38ac]);}}(_0x47d97d=this['sh1to3Text'+'ure2'])==null||_0x47d97d['unlock'](),(_0x45b251=this['sh4to7Text'+'ure2'])==null||_0x45b251['unlock'](),(_0x1fa944=this['sh8to11Tex'+'ture2'])==null||_0x1fa944['unlock'](),(_0x5d9711=this['sh12to15Te'+'xture2'])==null||_0x5d9711['unlock']();}async['updateSHDa'+'taByWorker'](_0x17fe75){var _0x1c7d11,_0x3f7b33,_0x1502e5,_0x38c90d,_0x1d0b90;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x4e3322={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x121ceb,_0x1bd0b1,_0x2dffc6,_0x396d80;if((_0x1c7d11=_0x17fe75['transformD'+'ata'])!=null&&_0x1c7d11['sh1to3Data'])_0x121ceb=(_0x3f7b33=_0x17fe75['transformD'+'ata'])==null?void(0x25d*0x3+-0x1*0xa13+0x2fc):_0x3f7b33['sh1to3Data'],_0x1bd0b1=(_0x1502e5=_0x17fe75['transformD'+'ata'])==null?void(0x249a+-0x3*0x71c+0x17*-0xaa):_0x1502e5['sh4to7Data'],_0x2dffc6=(_0x38c90d=_0x17fe75['transformD'+'ata'])==null?void(0x2*-0x855+0x2029+-0xf7f):_0x38c90d['sh8to11Dat'+'a'],_0x396d80=(_0x1d0b90=_0x17fe75['transformD'+'ata'])==null?void(-0x71*0x26+-0x3c5+-0x6d9*-0x3):_0x1d0b90['sh12to15Da'+'ta'];else{const _0x27e5e6=xg(_0x17fe75,_0x4e3322*(-0x5*0x454+0x17*-0x77+0x816*0x4)),_0x2db925=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x17fe75['numSplats'],this['shBands'],_0x27e5e6);_0x121ceb=_0x2db925['sh1to3Data'],_0x1bd0b1=_0x2db925['sh4to7Data'],_0x2dffc6=_0x2db925['sh8to11Dat'+'a'],_0x396d80=_0x2db925['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x121ceb),this['shBands']>-0x327+0x5*0x6b6+0x3*-0xa22&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x1bd0b1),this['shBands']>-0x838+-0x1d*0x62+0x1354?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2dffc6),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x396d80)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x2dffc6));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x3a8f5e){Ov=_0x3a8f5e;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x2d0f8b){w['assert'](_0x2d0f8b),_0x2d0f8b['frameUpdat'+'e']();const _0x488dc2=_0x2d0f8b['beforePass'+'es'];for(let _0x544a09=0x197*0x11+0x210+-0x1d17;_0x544a09<_0x488dc2['length'];_0x544a09++){const _0x3b2721=_0x488dc2[_0x544a09];_0x3b2721['enabled']&&this['addRenderP'+'ass'](_0x3b2721);}_0x2d0f8b['enabled']&&this['renderPass'+'es']['push'](_0x2d0f8b);const _0x1dff26=_0x2d0f8b['afterPasse'+'s'];for(let _0x46ac57=0x1*-0x3df+-0x2e8*-0x4+-0x7c1;_0x46ac57<_0x1dff26['length'];_0x46ac57++){const _0x4b7324=_0x1dff26[_0x46ac57];_0x4b7324['enabled']&&this['addRenderP'+'ass'](_0x4b7324);}}['reset'](){this['renderPass'+'es']['length']=-0x139f+-0x143f+0x15*0x1e6;}['compile'](){const _0x163c5c=this['renderTarg'+'etMap'],_0x3cd634=this['renderPass'+'es'];for(let _0x33f294=-0x79b+-0x5a3+-0x71*-0x1e;_0x33f294<_0x3cd634['length'];_0x33f294++){const _0x347cb8=_0x3cd634[_0x33f294],_0x5e36e7=_0x347cb8['renderTarg'+'et'];if(_0x5e36e7!==void(0xfce+-0x25d0+-0xb01*-0x2)){const _0x593aff=_0x163c5c['get'](_0x5e36e7);if(_0x593aff){const _0x50fd07=_0x347cb8['colorArray'+'Ops']['length'];for(let _0x512dfa=0x5*0x3f3+-0x9*0x3ad+-0x1*-0xd56;_0x512dfa<_0x50fd07;_0x512dfa++)_0x347cb8['colorArray'+'Ops'][_0x512dfa]['clear']||(_0x593aff['colorArray'+'Ops'][_0x512dfa]['store']=!(-0x5*-0x2bd+0x3e*-0x3e+-0x3*-0x71));_0x347cb8['depthStenc'+'ilOps']['clearDepth']||(_0x593aff['depthStenc'+'ilOps']['storeDepth']=!(0x5*-0x432+0x17e9*0x1+-0x2ef*0x1)),_0x347cb8['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x593aff['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x76*-0xc+-0x2280+0x501*0x8));}_0x163c5c['set'](_0x5e36e7,_0x347cb8);}}for(let _0x192ae3=0x27*-0x2e+0x19*-0x113+-0x21dd*-0x1;_0x192ae3<_0x3cd634['length']-(-0x230f+0x893*0x1+-0x1*-0x1a7d);_0x192ae3++){const _0x219e06=_0x3cd634[_0x192ae3],_0x1856b1=_0x219e06['renderTarg'+'et'],_0x55b3b0=_0x3cd634[_0x192ae3+(-0xc50+0x2ff*0x3+0xd5*0x4)],_0x4b20ad=_0x55b3b0['renderTarg'+'et'];_0x1856b1!==_0x4b20ad||_0x1856b1===void(0x4cd*-0x1+-0xf41+0xa07*0x2)||_0x55b3b0['depthStenc'+'ilOps']['clearDepth']||_0x55b3b0['depthStenc'+'ilOps']['clearStenc'+'il']||_0x55b3b0['colorArray'+'Ops']['some'](_0x3edb63=>_0x3edb63['clear'])||_0x219e06['afterPasse'+'s']['length']>0x1*0xcf+0x1*-0x8f6+-0x827*-0x1||_0x55b3b0['beforePass'+'es']['length']>0x1da6+0x4*0x5e+-0x1*0x1f1e||(_0x219e06['_skipEnd']=!(0x1*-0x1c3c+0x1*0x25ff+-0x77*0x15),_0x55b3b0['_skipStart']=!(-0x307*0x7+0x108f+0x4a2));}let _0x49d8b4=null,_0x3bbba1=null;for(let _0x1b6f85=-0x1d8f+0x1f66+0x3*-0x9d;_0x1b6f85<_0x3cd634['length'];_0x1b6f85++){const _0x5171be=_0x3cd634[_0x1b6f85],_0x2c3d7e=_0x5171be['renderTarg'+'et'],_0x542cda=_0x2c3d7e==null?void(-0xb6f*0x1+0x1*0x856+0x319):_0x2c3d7e['colorBuffe'+'r'];if(_0x542cda!=null&&_0x542cda['cubemap']){if(_0x49d8b4===_0x542cda){const _0x4c1884=_0x3bbba1['colorArray'+'Ops']['length'];for(let _0x5bdc1e=-0xb*0x2c1+-0x11*0x17f+0x37ba;_0x5bdc1e<_0x4c1884;_0x5bdc1e++)_0x3bbba1['colorArray'+'Ops'][_0x5bdc1e]['mipmaps']=!(-0xb6f+-0x13fa+0x1f6a);}_0x49d8b4=_0x2c3d7e['colorBuffe'+'r'],_0x3bbba1=_0x5171be;}else _0x5171be['requiresCu'+'bemaps']&&(_0x49d8b4=null,_0x3bbba1=null);}_0x163c5c['clear']();}['render'](_0x1687e7){this['compile']();const _0x4bc931=this['renderPass'+'es'];for(let _0x3fc4c4=0xf9c+-0x50d*-0x5+-0x28dd;_0x3fc4c4<_0x4bc931['length'];_0x3fc4c4++)_0x4bc931[_0x3fc4c4]['render']();}}class IC{constructor(_0x56e971,_0x319b5a){this['texture0']=_0x56e971,this['texture1']=_0x319b5a;}['destroy'](){var _0x2e792b,_0x4ee610;(_0x2e792b=this['texture0'])==null||_0x2e792b['destroy'](),(_0x4ee610=this['texture1'])==null||_0x4ee610['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x37b047,_0x4d75ce,_0x48db0d,_0x24f624=''){return new _e(_0x37b047,{'name':'AreaLightL'+'UT'+_0x24f624,'width':_0x48db0d,'height':_0x48db0d,'format':_0x4d75ce,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1b38+0x1*-0xc6a+0x3*-0x4ef)});}static['applyTextu'+'res'](_0x33966f,_0xefed28,_0x2db128){Eg['remove'](_0x33966f),Eg['get'](_0x33966f,()=>new IC(_0xefed28,_0xefed28===_0x2db128?null:_0x2db128)),_0x33966f['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0xefed28),_0x33966f['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x2db128);}static['createPlac'+'eholder'](_0x2a6488){const _0x24e00e=ia['createText'+'ure'](_0x2a6488,nt,-0xb*-0x1cf+0x2065+-0x689*0x8,'placeholde'+'r');_0x24e00e['lock']()['fill'](0x1af*-0x1+0x96e*0x1+0x3*-0x295),_0x24e00e['unlock'](),ia['applyTextu'+'res'](_0x2a6488,_0x24e00e,_0x24e00e);}static['set'](_0x5326d6,_0x5942ea,_0x305639){function _0x33b184(_0x906791,_0x4b762d,_0x3e512a){const _0xe44882=ia['createText'+'ure'](_0x906791,_0x3e512a,0x18af+0x1*0x14b3+-0xda*0x35);return _0xe44882['lock']()['set'](_0x4b762d),_0xe44882['unlock'](),_0xe44882;}function _0x1df2b8(_0x2fa51c){const _0x37fae4=_0x2fa51c['length'],_0x2c6d49=new Uint16Array(_0x37fae4),_0x590d05=Mn['float2Half'];for(let _0x5a6e5c=0xc52+0x1*-0x2232+0x64*0x38;_0x5a6e5c<_0x37fae4;_0x5a6e5c++)_0x2c6d49[_0x5a6e5c]=_0x590d05(_0x2fa51c[_0x5a6e5c]);return _0x2c6d49;}const _0x2e85d6=_0x5942ea,_0x5527f1=_0x305639,_0x79dc9b=_0x1df2b8(_0x2e85d6),_0x47d24e=_0x1df2b8(_0x5527f1),_0xb94f1c=_0x33b184(_0x5326d6,_0x79dc9b,nt),_0x424ea3=_0x33b184(_0x5326d6,_0x47d24e,nt);ia['applyTextu'+'res'](_0x5326d6,_0xb94f1c,_0x424ea3);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x1c890b,_0x436278){for(let _0x5b80b7=-0x21f2+0x4*0x701+0x5ee,_0x3d6c54=_0x1c890b['length'];_0x5b80b7<_0x3d6c54;_0x5b80b7++)Sm[_0x1c890b[_0x5b80b7]]=_0x436278;}function Oi(_0x53c221){const _0xc4afa=_0x53c221['indexOf']('-');return _0xc4afa!==-(0x2*0x1277+0x2c*-0x39+0x1cf*-0xf)?_0x53c221['substring'](-0x2f*0x3a+0x1*0xc71+-0x1cb,_0xc4afa):_0x53c221;}function LC(_0x3dd4d7,_0x41db85){const _0x3b635f=_0x3dd4d7['indexOf']('-');return _0x3b635f!==-(-0x1*0x1da7+-0x119*0x2+-0x97*-0x36)?_0x41db85+_0x3dd4d7['substring'](_0x3b635f):_0x41db85;}function Fv(_0x4641eb,_0x1c47d3){if(_0x1c47d3[_0x4641eb])return _0x4641eb;let _0x210ca2=Mh[_0x4641eb];if(_0x210ca2&&_0x1c47d3[_0x210ca2])return _0x210ca2;const _0x165122=Oi(_0x4641eb);return _0x210ca2=Mh[_0x165122],_0x1c47d3[_0x210ca2]?_0x210ca2:_0x1c47d3[_0x165122]?_0x165122:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x5a69ac=>0x1*-0x114b+-0x1*-0x1e39+0x296*-0x5),Dr(['fa','hi'],_0x31753d=>_0x31753d>=-0x94*0x25+-0x10e0+0x13c*0x1f&&_0x31753d<=-0x16+-0x2bd*0xb+0x1e36?-0x2*0x227+-0x26d8+0x1593*0x2:0x1c14+-0x12b3*-0x1+0x2ec6*-0x1),Dr(['fr','pt'],_0x3a63e3=>_0x3a63e3>=0x1227+0x92*-0xf+-0x999&&_0x3a63e3<0x11*0x1f1+-0x257d+0x5*0xe6?0x9b2+-0x383*0x3+0xd7:-0x1b3d+-0x1696*-0x1+0x2*0x254),Dr(['da'],_0x31c87d=>_0x31c87d===0x227d+0xe03+-0x307f||!Number['isInteger'](_0x31c87d)&&_0x31c87d>=0x73*0x25+-0x1*-0x1d72+-0xf5b*0x3&&_0x31c87d<=-0xb05*0x1+-0x1*-0x2296+-0x10*0x179?-0x4be+0xb6*-0x35+-0x712*-0x6:-0xf16+-0x98*-0x14+0x337*0x1),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x2365a0=>_0x2365a0===-0x1b5f+-0x1971+0x3*0x119b?-0x1*-0x1047+-0x16*0x56+-0x5b*0x19:-0x1*-0x1bf4+0x5dd+-0x21d0),Dr(['ru','uk'],_0x59d66b=>{if(Number['isInteger'](_0x59d66b)){const _0x2b2c31=_0x59d66b%(-0x11c0+0x947+0x883*0x1),_0x3d2c57=_0x59d66b%(-0x1*-0x1a59+0x18d4+0x32c9*-0x1);if(_0x2b2c31===-0x297+0x1*-0x192b+0x1bc3&&_0x3d2c57!==0x5e6+-0x2*-0x947+-0x1869)return 0x1e*0xde+0xa0c+-0x2410;if(_0x2b2c31>=-0x1e5b+0x1*0x1103+-0x2*-0x6ad&&_0x2b2c31<=-0x29*-0x5c+0x1*0x1d83+-0x2c3b&&(_0x3d2c57<-0xba9+-0x113b+0x1cf0||_0x3d2c57>0x167f+0x19e5+-0x3056))return 0x160b+-0xc73+-0x1eb*0x5;if(_0x2b2c31===-0x6ad*-0x4+0x1*-0x156c+-0x548||_0x2b2c31>=0xf2b+0x11c2+-0x20e8&&_0x2b2c31<=0x1*-0x1982+0x11a+-0x1*-0x1871||_0x3d2c57>=-0xdda*0x1+0x169*-0x15+0x2b82&&_0x3d2c57<=0xfbb*-0x1+-0x1661+0x262a)return-0x1ff5*0x1+0x16d5+0x922;}return 0x53*-0x25+0x19*-0x151+-0x3*-0xef9;}),Dr(['pl'],_0x21f455=>{if(Number['isInteger'](_0x21f455)){if(_0x21f455===-0x1c0e+-0x7d4+-0x23e3*-0x1)return 0x12f6+0x30*0x3+-0x1386;const _0x467d12=_0x21f455%(-0x9a*0x1f+0x49*-0x43+0x25cb),_0x349d9b=_0x21f455%(-0x169b+-0x1510+0x2c0f);if(_0x467d12>=-0xd88+0x11c5*0x2+-0x20*0xb0&&_0x467d12<=-0x134*0x9+-0x12be+0x1d96&&(_0x349d9b<-0x119a+0xe81+0x17*0x23||_0x349d9b>0x6fa*0x2+-0x835+0x1f*-0x2f))return 0x15b9+-0x44*-0x88+-0x39d8;if(_0x467d12>=0x184d*-0x1+0xb09+0xd44&&_0x467d12<=0xff8+0x264*-0x3+-0x8cb||_0x467d12>=0xdc8+0x3*0xd4+0x103f*-0x1&&_0x467d12<=-0x2171*-0x1+0x5fe+-0x3*0xd22||_0x349d9b>=-0x15a1+-0x3e2*0x2+-0x1d71*-0x1&&_0x349d9b<=-0x1*0x4e9+0x1b83+-0x168c)return 0xc*0x13d+0x18a4+-0x277e;}return-0x5*0x5b9+-0x1dc+0x1e7c;}),Dr(['ar'],_0x21d9a3=>{if(_0x21d9a3===0x1088+0x2*0x30d+-0x2*0xb51)return-0x17d9+0x1e5*-0x4+0x1f6d;if(_0x21d9a3===-0x9*0x202+-0x1*0x258f+-0x37a2*-0x1)return-0x1*0x959+0x36c*0x2+0x282*0x1;if(_0x21d9a3===0xc1b+0x31*-0x94+0x103b)return-0x1e53+0x590+0x175*0x11;if(Number['isInteger'](_0x21d9a3)){const _0x3e3da1=_0x21d9a3%(0x13f7+-0x18be+0x15*0x3f);if(_0x3e3da1>=-0xb*0x20e+0x2640+-0xfa3&&_0x3e3da1<=-0x158e+0x22*0x112+-0x1*0xecc)return-0x5f9+0x1*0x151f+0x7d*-0x1f;if(_0x3e3da1>=-0x1*-0x207d+0xd0f*-0x1+-0x1363&&_0x3e3da1<=0x1081*0x1+-0x1759+-0x1*-0x73b)return 0x75a*0x2+0x5*0x6f0+-0x50*0x9e;}return 0x17*0x80+-0x1a05+0xe8a;});const RC=Sm[Oi(Ph)];function Tf(_0x34ced6){return Sm[_0x34ced6]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x47287a='',_0x442a0c='',_0x21124f=null,_0x3621cf=null,_0x3d1b07=null,_0x30c456=null){this['url']=_0x47287a,this['filename']=_0x442a0c,this['hash']=_0x21124f,this['size']=_0x3621cf,this['opt']=_0x3d1b07,this['contents']=_0x30c456;}['equals'](_0x1a8afa){return this['url']===_0x1a8afa['url']&&this['filename']===_0x1a8afa['filename']&&this['hash']===_0x1a8afa['hash']&&this['size']===_0x1a8afa['size']&&this['opt']===_0x1a8afa['opt']&&this['contents']===_0x1a8afa['contents'];}}let FC=-(0x1cdf+-0x1938+-0x3a6*0x1);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x28161d,_0x1fdbe1,_0x22607c,_0x53e4fc={},_0x2f5988={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x340+-0xdd8+0x1119)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x3*-0xa6+0x1*0x1aa6+0x233*-0xd)),h(this,'loading',!(0x1*-0x4d5+0xc*0x2dd+0xec3*-0x2)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x28161d||'',this['type']=_0x1fdbe1,this['_data']=_0x53e4fc||{},this['options']=_0x2f5988||{},_0x22607c&&(this['file']=_0x22607c));}set['name'](_0x169108){if(this['_name']===_0x169108)return;const _0x951522=this['_name'];this['_name']=_0x169108,this['fire']('name',this,this['_name'],_0x951522);}get['name'](){return this['_name'];}set['file'](_0x1eb8ed){var _0x26c7a8,_0x61bbd1;if(_0x1eb8ed&&_0x1eb8ed['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x2376*0x1+0x1*0x1773+0xc04)){const _0xfa732f=((_0x61bbd1=(_0x26c7a8=this['registry'])==null?void(-0x10a*-0x8+0xa34+-0x1284):_0x26c7a8['_loader'])==null?void(0x871+-0x675+-0x1fc):_0x61bbd1['_app'])||Ms(),_0x3a1293=_0xfa732f==null?void(-0xb17+0x8b*-0x1+0xba2):_0xfa732f['graphicsDe'+'vice'];if(_0x3a1293)for(let _0x3aabc8=-0x3*-0x678+0x247*0xb+-0x2c75,_0x119e6f=bg['length'];_0x3aabc8<_0x119e6f;_0x3aabc8++){const _0x103281=bg[_0x3aabc8];if(_0x1eb8ed['variants'][_0x103281]&&_0x3a1293[NC[_0x103281]]){_0x1eb8ed=_0x1eb8ed['variants'][_0x103281];break;}if(_0xfa732f['enableBund'+'les']){const _0x2b1f7e=_0xfa732f['bundles']['listBundle'+'sForAsset'](this);if(_0x2b1f7e&&_0x2b1f7e['find'](_0x35b071=>{var _0xbcc660;return(_0xbcc660=_0x35b071==null?void(0x12fa+0x894+0xdc7*-0x2):_0x35b071['file'])==null?void(-0x5d*0x2b+0x238a*0x1+-0x13eb):_0xbcc660['variants'][_0x103281];}))break;}}}const _0x58fa99=this['_file'],_0x43fc06=_0x1eb8ed?new OC(_0x1eb8ed['url'],_0x1eb8ed['filename'],_0x1eb8ed['hash'],_0x1eb8ed['size'],_0x1eb8ed['opt'],_0x1eb8ed['contents']):null;(!!_0x43fc06!=!!_0x58fa99||_0x43fc06&&!_0x43fc06['equals'](_0x58fa99))&&(this['_file']=_0x43fc06,this['fire']('change',this,'file',_0x43fc06,_0x58fa99),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x4e313f){const _0x134e1f=this['_data'];this['_data']=_0x4e313f,_0x4e313f!==_0x134e1f&&(this['fire']('change',this,'data',_0x4e313f,_0x134e1f),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x388821){const _0x4b36f4=this['_resources'][-0x2*-0xc61+-0x2*0xca4+0x86];this['_resources'][-0x11*-0x8f+0xcd*-0x1c+0xced]=_0x388821,this['fire']('change',this,'resource',_0x388821,_0x4b36f4);}get['resource'](){return this['_resources'][-0x3*0x13d+-0x1ef8*0x1+0x2ab*0xd];}set['resources'](_0x25aa34){const _0x26b732=this['_resources'];this['_resources']=_0x25aa34,this['fire']('change',this,'resources',_0x25aa34,_0x26b732);}get['resources'](){return this['_resources'];}set['preload'](_0x2d34de){_0x2d34de=!!_0x2d34de,this['_preload']!==_0x2d34de&&(this['_preload']=_0x2d34de,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x415b6b){_0x415b6b=!!_0x415b6b,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x415b6b!==this['_loadFaces'])&&(this['_loadFaces']=_0x415b6b,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x35e0b3=this['file'];if(!_0x35e0b3||!_0x35e0b3['url'])return null;let _0x1427b6=_0x35e0b3['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x1427b6)&&(_0x1427b6=this['registry']['prefix']+_0x1427b6),this['type']!=='script'&&_0x35e0b3['hash']){const _0x2e9d85=_0x1427b6['indexOf']('?')!==-(-0x1*-0x1da5+-0x7bb*0x1+0x1*-0x15e9)?'&':'?';_0x1427b6+=_0x2e9d85+'t='+_0x35e0b3['hash'];}return _0x1427b6;}['getAbsolut'+'eUrl'](_0x24bf22){if(_0x24bf22['startsWith']('blob:')||_0x24bf22['startsWith']('data:'))return _0x24bf22;const _0x2cd1d4=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x2cd1d4,_0x24bf22);}['getLocaliz'+'edAssetId'](_0x417cc1){return _0x417cc1=Fv(_0x417cc1,this['_i18n']),this['_i18n'][_0x417cc1]||null;}['addLocaliz'+'edAssetId'](_0xcb2106,_0x232ba5){this['_i18n'][_0xcb2106]=_0x232ba5,this['fire']('add:locali'+'zed',_0xcb2106,_0x232ba5);}['removeLoca'+'lizedAsset'+'Id'](_0x4c0d9f){const _0x4947c8=this['_i18n'][_0x4c0d9f];_0x4947c8&&(delete this['_i18n'][_0x4c0d9f],this['fire']('remove:loc'+'alized',_0x4c0d9f,_0x4947c8));}['ready'](_0x9e95d7,_0x2523a3){_0x2523a3=_0x2523a3||this,this['loaded']?_0x9e95d7['call'](_0x2523a3,this):this['once']('load',_0x3e5bfd=>{_0x9e95d7['call'](_0x2523a3,_0x3e5bfd);});}['reload'](){this['loaded']&&(this['loaded']=!(0x16f3*-0x1+-0x2215+0x3909),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x1*0xd0b+-0x1d1e+0x1013)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x1eb201=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0xc45*0x3+-0x24df+0x49af*0x1),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x34e81b=-0x26*-0x53+0x131d+-0x1f6f;_0x34e81b<_0x1eb201['length'];++_0x34e81b){const _0x41f3a5=_0x1eb201[_0x34e81b];_0x41f3a5&&_0x41f3a5['destroy']&&_0x41f3a5['destroy']();}}static['fetchArray'+'Buffer'](_0x2290c1,_0xffbac1,_0x3e70ab,_0x270e3d=0x10e*-0x1b+0x1f63+-0x95*0x5){var _0x4d1f24;(_0x4d1f24=_0x3e70ab==null?void(0x1*0x269b+-0x814+-0x61b*0x5):_0x3e70ab['file'])!=null&&_0x4d1f24['contents']?setTimeout(()=>{_0xffbac1(null,_0x3e70ab['file']['contents']);}):ot['get'](_0x2290c1,{'cache':!(0x271*-0xd+-0x20fc+0x3f*0x107),'responseType':'arraybuffe'+'r','retry':_0x270e3d>-0x13*0x110+0x228a+-0xe5a,'maxRetries':_0x270e3d},_0xffbac1);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x588054=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x588054;}['addItem'](_0x6401c){const _0x675f72=_0x6401c['tags']['_list'];for(const _0x3238be of _0x675f72)this['add'](_0x3238be,_0x6401c);}['removeItem'](_0x263ca2){const _0x5f4d0c=_0x263ca2['tags']['_list'];for(const _0x1676ce of _0x5f4d0c)this['remove'](_0x1676ce,_0x263ca2);}['add'](_0x171573,_0x32f53f){this['_index'][_0x171573]&&this['_index'][_0x171573]['list']['indexOf'](_0x32f53f)!==-(0x21ec*-0x1+0xdb3+0x143a)||(this['_index'][_0x171573]||(this['_index'][_0x171573]={'list':[]},this['_key']&&(this['_index'][_0x171573]['keys']={})),this['_index'][_0x171573]['list']['push'](_0x32f53f),this['_key']&&(this['_index'][_0x171573]['keys'][_0x32f53f[this['_key']]]=_0x32f53f));}['remove'](_0x1d3f14,_0x541792){if(!this['_index'][_0x1d3f14]||this['_key']&&!this['_index'][_0x1d3f14]['keys'][_0x541792[this['_key']]])return;const _0x243e3f=this['_index'][_0x1d3f14]['list']['indexOf'](_0x541792);_0x243e3f!==-(0x11df+0x1*-0x1909+0x1*0x72b)&&(this['_index'][_0x1d3f14]['list']['splice'](_0x243e3f,-0x36e*0x8+0x1*0xc0b+-0x12*-0xdb),this['_key']&&delete this['_index'][_0x1d3f14]['keys'][_0x541792[this['_key']]],this['_index'][_0x1d3f14]['list']['length']===0xe1d*0x1+-0xb6*0x17+0x3*0xbf&&delete this['_index'][_0x1d3f14]);}['find'](_0x779e8f){const _0x3a6d08={},_0x21a594=[];let _0x1a0b43,_0x33f063,_0x43da14,_0x5d8dee,_0x466be4;const _0x167894=(_0x388d5a,_0x4ef10f)=>this['_index'][_0x388d5a]['list']['length']-this['_index'][_0x4ef10f]['list']['length'];for(let _0x22da5c=0x1ef7*0x1+-0x1*-0x23e4+-0x42db;_0x22da5c<_0x779e8f['length'];_0x22da5c++){if(_0x33f063=_0x779e8f[_0x22da5c],_0x33f063 instanceof Array){if(_0x33f063['length']===0x2106+0x4ff*-0x5+-0x80b*0x1)continue;if(_0x33f063['length']===0x1*-0x1bf6+0xfde*0x1+0xc19)_0x33f063=_0x33f063[-0x1*-0x57a+0x7d+0x3*-0x1fd];else{_0x466be4=!(0xe24+0x1cae*-0x1+0xe8b);for(let _0x391c88=-0x1*-0x264e+-0x3d8+-0x2*0x113b;_0x391c88<_0x33f063['length'];_0x391c88++)if(!this['_index'][_0x33f063[_0x391c88]]){_0x466be4=!(0x318+-0x1fd7+0x1cbf);break;}if(_0x466be4)continue;_0x43da14=_0x33f063['slice'](0x5c8*-0x1+0x1a47+-0x147f)['sort'](_0x167894),_0x5d8dee=_0x43da14['slice'](-0x1*-0x80+0x1*0x2239+-0x22b8),_0x5d8dee['length']===0x43c+-0x8a2+0x467&&(_0x5d8dee=_0x5d8dee[-0x1*0xe7f+-0x1bbd+0x9f*0x44]);for(let _0x34733=0x23fb+0x2e6+0x25*-0x10d;_0x34733<this['_index'][_0x43da14[0x39+-0x314*-0x1+-0x34d]]['list']['length'];_0x34733++)_0x1a0b43=this['_index'][_0x43da14[0x375*0xb+0x2*0x43+-0x268d]]['list'][_0x34733],(this['_key']?!_0x3a6d08[_0x1a0b43[this['_key']]]:_0x21a594['indexOf'](_0x1a0b43)===-(-0xc6d*0x1+-0xffb+0x40f*0x7))&&_0x1a0b43['tags']['has'](_0x5d8dee)&&(this['_key']&&(_0x3a6d08[_0x1a0b43[this['_key']]]=!(-0xa5*0x1+-0x1f48+0x1fed)),_0x21a594['push'](_0x1a0b43));continue;}}if(_0x33f063&&typeof _0x33f063=='string'&&this['_index'][_0x33f063]){for(let _0x3ff9ef=0x2fa*-0xd+0x1408+0x955*0x2;_0x3ff9ef<this['_index'][_0x33f063]['list']['length'];_0x3ff9ef++)_0x1a0b43=this['_index'][_0x33f063]['list'][_0x3ff9ef],this['_key']?_0x3a6d08[_0x1a0b43[this['_key']]]||(_0x3a6d08[_0x1a0b43[this['_key']]]=!(-0x1db0+-0x935*-0x3+0x17*0x17),_0x21a594['push'](_0x1a0b43)):_0x21a594['indexOf'](_0x1a0b43)===-(0x68*0xa+0x1227+-0x1636)&&_0x21a594['push'](_0x1a0b43);}}return _0x21a594;}}class mn extends me{constructor(_0x490b86){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x490b86;}['list'](_0x266ca0={}){const _0x25f28a=Array['from'](this['_assets']);return _0x266ca0['preload']!==void(0xa34+-0x1*-0x91b+-0x134f)?_0x25f28a['filter'](_0x99f994=>_0x99f994['preload']===_0x266ca0['preload']):_0x25f28a;}['add'](_0x5642e3){var _0x4e7134,_0x93b32e;this['_assets']['has'](_0x5642e3)||(this['_assets']['add'](_0x5642e3),this['_idToAsset']['set'](_0x5642e3['id'],_0x5642e3),(_0x4e7134=_0x5642e3['file'])!=null&&_0x4e7134['url']&&this['_urlToAsse'+'t']['set'](_0x5642e3['file']['url'],_0x5642e3),this['_nameToAss'+'et']['has'](_0x5642e3['name'])||this['_nameToAss'+'et']['set'](_0x5642e3['name'],new Set()),this['_nameToAss'+'et']['get'](_0x5642e3['name'])['add'](_0x5642e3),_0x5642e3['on']('name',this['_onNameCha'+'nge'],this),_0x5642e3['registry']=this,this['_tags']['addItem'](_0x5642e3),_0x5642e3['tags']['on']('add',this['_onTagAdd'],this),_0x5642e3['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x5642e3),this['fire']('add:'+_0x5642e3['id'],_0x5642e3),(_0x93b32e=_0x5642e3['file'])!=null&&_0x93b32e['url']&&this['fire']('add:url:'+_0x5642e3['file']['url'],_0x5642e3),_0x5642e3['preload']&&this['load'](_0x5642e3));}['remove'](_0x54c99c){var _0x3a453a,_0x16d1a9;if(!this['_assets']['has'](_0x54c99c))return!(0x24f+0xca3+0x4fb*-0x3);if(this['_assets']['delete'](_0x54c99c),this['_idToAsset']['delete'](_0x54c99c['id']),(_0x3a453a=_0x54c99c['file'])!=null&&_0x3a453a['url']&&this['_urlToAsse'+'t']['delete'](_0x54c99c['file']['url']),_0x54c99c['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x54c99c['name'])){const _0x173c5d=this['_nameToAss'+'et']['get'](_0x54c99c['name']);_0x173c5d['delete'](_0x54c99c),_0x173c5d['size']===-0xcb+0x1*-0x15e3+0x1*0x16ae&&this['_nameToAss'+'et']['delete'](_0x54c99c['name']);}return this['_tags']['removeItem'](_0x54c99c),_0x54c99c['tags']['off']('add',this['_onTagAdd'],this),_0x54c99c['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x54c99c['fire']('remove',_0x54c99c),this['fire']('remove',_0x54c99c),this['fire']('remove:'+_0x54c99c['id'],_0x54c99c),(_0x16d1a9=_0x54c99c['file'])!=null&&_0x16d1a9['url']&&this['fire']('remove:url'+':'+_0x54c99c['file']['url'],_0x54c99c),!(-0x1*-0xa3+-0x1123+0x1080);}['get'](_0x4a0d95){return this['_idToAsset']['get'](Number(_0x4a0d95));}['getByUrl'](_0x2c032c){return this['_urlToAsse'+'t']['get'](_0x2c032c);}['load'](_0x2286cb,_0x5d9f07){if((_0x2286cb['loading']||_0x2286cb['loaded'])&&!(_0x5d9f07!=null&&_0x5d9f07['force']))return;const _0x1dec35=_0x2286cb['file'],_0x525dd4=()=>{this['fire']('load',_0x2286cb),this['fire']('load:'+_0x2286cb['id'],_0x2286cb),_0x1dec35&&_0x1dec35['url']&&this['fire']('load:url:'+_0x1dec35['url'],_0x2286cb),_0x2286cb['fire']('load',_0x2286cb);},_0x4e7ac2=_0x2f6d69=>{if(_0x2f6d69 instanceof Array?_0x2286cb['resources']=_0x2f6d69:_0x2286cb['resource']=_0x2f6d69,this['_loader']['patch'](_0x2286cb,this),_0x2286cb['type']==='bundle'){const _0x2ab5ae=_0x2286cb['data']['assets'];for(let _0x25bf98=0x11fa*0x2+0x9*0x18d+-0x31e9*0x1;_0x25bf98<_0x2ab5ae['length'];_0x25bf98++){const _0x464230=this['_idToAsset']['get'](_0x2ab5ae[_0x25bf98]);_0x464230&&!_0x464230['loaded']&&this['load'](_0x464230,{'force':!(-0x3*-0x90d+-0xf34+-0x13*0xa1)});}_0x2286cb['resource']['loaded']?_0x525dd4():(this['fire']('load:start',_0x2286cb),this['fire']('load:start'+':'+_0x2286cb['id'],_0x2286cb),_0x1dec35&&_0x1dec35['url']&&this['fire']('load:start'+':url:'+_0x1dec35['url'],_0x2286cb),_0x2286cb['fire']('load:start',_0x2286cb),_0x2286cb['resource']['on']('load',_0x525dd4));}else _0x525dd4();},_0x2b5f6f=(_0x50a50e,_0x4a37f6,_0x58fcd6)=>{if(_0x2286cb['loaded']=!(0x6*-0xcb+-0x194e+-0x4*-0x784),_0x2286cb['loading']=!(0x1*0xec+-0x213*0xb+0x15e6),_0x50a50e)this['fire']('error',_0x50a50e,_0x2286cb),this['fire']('error:'+_0x2286cb['id'],_0x50a50e,_0x2286cb),_0x2286cb['fire']('error',_0x50a50e,_0x2286cb);else{if(_0x2286cb['type']==='script'){const _0x1f999b=this['_loader']['getHandler']('script');_0x1f999b['_cache'][_0x2286cb['id']]&&_0x1f999b['_cache'][_0x2286cb['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x1f999b['_cache'][_0x2286cb['id']]),_0x1f999b['_cache'][_0x2286cb['id']]=_0x58fcd6;}_0x4e7ac2(_0x4a37f6);}};if(_0x1dec35||_0x2286cb['type']==='cubemap'){this['fire']('load:start',_0x2286cb),this['fire']('load:'+_0x2286cb['id']+':start',_0x2286cb),_0x2286cb['loading']=!(-0x7*0x4ab+0x12b*0x13+0x1*0xa7c);const _0x377cc4=_0x2286cb['getFileUrl']();if(_0x2286cb['type']==='bundle'){const _0x318ff2=_0x2286cb['data']['assets'];for(let _0x45cc9e=0x95*-0x11+-0xcf4+0x1*0x16d9;_0x45cc9e<_0x318ff2['length'];_0x45cc9e++){const _0x3d9b28=this['_idToAsset']['get'](_0x318ff2[_0x45cc9e]);_0x3d9b28&&(_0x3d9b28['loaded']||_0x3d9b28['resource']||_0x3d9b28['loading']||(_0x3d9b28['loading']=!(0x10*0x120+0x183f+-0x23*0x135)));}}this['_loader']['load'](_0x377cc4,_0x2286cb['type'],_0x2b5f6f,_0x2286cb,_0x5d9f07);}else{const _0x59188f=this['_loader']['open'](_0x2286cb['type'],_0x2286cb['data']);_0x2286cb['loaded']=!(-0xc*-0xd5+-0x51b*-0x7+0x2db9*-0x1),_0x4e7ac2(_0x59188f);}}['reloadInde'+'x'](_0x49cd2d,_0x5b985c,_0x3f2e52){const _0x12e830=(_0x524c3b,_0x114fb5,_0x59981c)=>{_0x5b985c['loaded']=!(0x10a6+0x2531*-0x1+0x3*0x6d9),_0x5b985c['loading']=!(0xd8d*0x2+-0x2*0xa44+0x691*-0x1);};return this['_loader']['load'](_0x49cd2d,_0x5b985c['type'],_0x12e830,_0x5b985c,_0x3f2e52),_0x5b985c;}['loadFromUr'+'l'](_0xd1b50c,_0x503721,_0x20bd40){this['loadFromUr'+'lAndFilena'+'me'](_0xd1b50c,null,_0x503721,_0x20bd40);}['loadFromUr'+'lAndFilena'+'me'](_0x266242,_0x5cb632,_0x8cd636,_0x1e2ae9){const _0x1a4100=xe['getBasenam'+'e'](_0x5cb632||_0x266242),_0x519b0e={'filename':_0x5cb632||_0x1a4100,'url':_0x266242};let _0x4e2d72=this['getByUrl'](_0x266242);if(!_0x4e2d72)_0x4e2d72=new pe(_0x1a4100,_0x8cd636,_0x519b0e),this['add'](_0x4e2d72);else{if(_0x4e2d72['loaded']){_0x1e2ae9(_0x4e2d72['loadFromUr'+'lError']||null,_0x4e2d72);return;}}const _0x5344a0=_0x4061fd=>{_0x4061fd['once']('load',_0x280ce2=>{_0x8cd636==='material'?this['_loadTextu'+'res'](_0x280ce2,(_0x4984b7,_0x5e3347)=>{_0x1e2ae9(_0x4984b7,_0x280ce2);}):_0x1e2ae9(null,_0x280ce2);}),_0x4061fd['once']('error',_0x28db09=>{_0x28db09&&(this['loadFromUr'+'lError']=_0x28db09),_0x1e2ae9(_0x28db09,_0x4061fd);}),this['load'](_0x4061fd);};_0x4e2d72['resource']?_0x1e2ae9(null,_0x4e2d72):_0x8cd636==='model'?this['_loadModel'](_0x4e2d72,_0x5344a0):_0x5344a0(_0x4e2d72);}['_loadModel'](_0x1a940f,_0x4d556f){const _0x99a9d=_0x1a940f['getFileUrl'](),_0x4a6a93=xe['getExtensi'+'on'](_0x99a9d);if(_0x4a6a93==='.json'||_0x4a6a93==='.glb'){const _0x45b276=xe['getDirecto'+'ry'](_0x99a9d),_0x276046=xe['getBasenam'+'e'](_0x99a9d),_0x3bdea3=xe['join'](_0x45b276,_0x276046['replace'](_0x4a6a93,'.mapping.j'+'son'));this['_loader']['load'](_0x3bdea3,'json',(_0x5d19da,_0xf67a5c)=>{_0x5d19da?(_0x1a940f['data']={'mapping':[]},_0x4d556f(_0x1a940f)):this['_loadMater'+'ials'](_0x1a940f,_0xf67a5c,(_0x1c887d,_0x4664d9)=>{_0x1a940f['data']=_0xf67a5c,_0x4d556f(_0x1a940f);});});}else _0x4d556f(_0x1a940f);}['_loadMater'+'ials'](_0x528102,_0x365fcf,_0x5e3885){const _0x374306=[];let _0x24ad10=-0x35*-0x11+0x245+-0x5ca;const _0x53946c=(_0x31d1c8,_0x208780)=>{this['_loadTextu'+'res'](_0x208780,(_0x1e9dc4,_0x268c7d)=>{_0x374306['push'](_0x208780),_0x374306['length']===_0x24ad10&&_0x5e3885(null,_0x374306);});};for(let _0x59ca27=-0xba7+-0x1*0x2702+0x32a9;_0x59ca27<_0x365fcf['mapping']['length'];_0x59ca27++){const _0x5d915e=_0x365fcf['mapping'][_0x59ca27]['path'];if(_0x5d915e){_0x24ad10++;const _0x1cbde4=_0x528102['getAbsolut'+'eUrl'](_0x5d915e);this['loadFromUr'+'l'](_0x1cbde4,'material',_0x53946c);}}_0x24ad10===-0x255a+-0xd3*0x22+0x4160&&_0x5e3885(null,_0x374306);}['_loadTextu'+'res'](_0x377c42,_0x2e8123){const _0x3fe380=[];let _0x1c242e=-0x14d0+-0x7d0+0xe5*0x20;const _0x15944f=_0x377c42['data'];if(_0x15944f['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x377c42['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x2e8123(null,_0x3fe380);return;}const _0x1950fe=(_0x57c969,_0x18798e)=>{_0x57c969&&console['error'](_0x57c969),_0x3fe380['push'](_0x18798e),_0x3fe380['length']===_0x1c242e&&_0x2e8123(null,_0x3fe380);},_0x420143=Cd;for(let _0x3267a8=0x2*0x455+0x1651+-0x1efb;_0x3267a8<_0x420143['length'];_0x3267a8++){const _0xd023b8=_0x15944f[_0x420143[_0x3267a8]];if(_0xd023b8&&typeof _0xd023b8=='string'){_0x1c242e++;const _0x19d8b6=_0x377c42['getAbsolut'+'eUrl'](_0xd023b8);this['loadFromUr'+'l'](_0x19d8b6,'texture',_0x1950fe);}}_0x1c242e===-0x11ad+0x269+0xf44&&_0x2e8123(null,_0x3fe380);}['_onTagAdd'](_0x2c106e,_0x1bb3b6){this['_tags']['add'](_0x2c106e,_0x1bb3b6);}['_onTagRemo'+'ve'](_0x7ea229,_0x54dff2){this['_tags']['remove'](_0x7ea229,_0x54dff2);}['_onNameCha'+'nge'](_0x29f69c,_0x2cebd2,_0x387f73){if(this['_nameToAss'+'et']['has'](_0x387f73)){const _0x58bc14=this['_nameToAss'+'et']['get'](_0x387f73);_0x58bc14['delete'](_0x29f69c),_0x58bc14['size']===-0x3*-0x295+-0x1ff0+-0xb*-0x233&&this['_nameToAss'+'et']['delete'](_0x387f73);}this['_nameToAss'+'et']['has'](_0x29f69c['name'])||this['_nameToAss'+'et']['set'](_0x29f69c['name'],new Set()),this['_nameToAss'+'et']['get'](_0x29f69c['name'])['add'](_0x29f69c);}['findByTag'](..._0x34fef1){return this['_tags']['find'](_0x34fef1);}['filter'](_0x26daf8){return Array['from'](this['_assets'])['filter'](_0x1ebd34=>_0x26daf8(_0x1ebd34));}['find'](_0x5caef2,_0x5359f9){const _0x1ab458=this['_nameToAss'+'et']['get'](_0x5caef2);if(!_0x1ab458)return null;for(const _0x5c7470 of _0x1ab458)if(!_0x5359f9||_0x5c7470['type']===_0x5359f9)return _0x5c7470;return null;}['findAll'](_0xf298c7,_0x520136){const _0x4ecc9d=this['_nameToAss'+'et']['get'](_0xf298c7);if(!_0x4ecc9d)return[];const _0x324b4c=Array['from'](_0x4ecc9d);return _0x520136?_0x324b4c['filter'](_0x374e74=>_0x374e74['type']===_0x520136):_0x324b4c;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0xed5698){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0xed5698,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x4f5c6a){if(_0x4f5c6a['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x4f5c6a['id'],_0x4f5c6a),this['_assets']['on']('load:start'+':'+_0x4f5c6a['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x4f5c6a['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x4f5c6a['id'],this['_onBundleE'+'rror'],this);const _0x2be6d4=_0x4f5c6a['data']['assets'];for(let _0x491de2=0x1*0x5ed+-0x1ca5+-0x8*-0x2d7;_0x491de2<_0x2be6d4['length'];_0x491de2++)this['_indexAsse'+'tInBundle'](_0x2be6d4[_0x491de2],_0x4f5c6a);}else this['_assetToBu'+'ndles']['has'](_0x4f5c6a['id'])&&this['_indexAsse'+'tFileUrls'](_0x4f5c6a);}['_unbindAss'+'etEvents'](_0x594246){this['_assets']['off']('load:start'+':'+_0x594246,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x594246,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x594246,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x157990,_0x2ef24d){let _0x472007=this['_assetToBu'+'ndles']['get'](_0x157990);_0x472007||(_0x472007=new Set(),this['_assetToBu'+'ndles']['set'](_0x157990,_0x472007)),_0x472007['add'](_0x2ef24d);const _0x34d3c6=this['_assets']['get'](_0x157990);_0x34d3c6&&this['_indexAsse'+'tFileUrls'](_0x34d3c6);}['_indexAsse'+'tFileUrls'](_0x570d0b){const _0x30cfe9=this['_getAssetF'+'ileUrls'](_0x570d0b);if(_0x30cfe9)for(let _0x1b9192=0x1e3+-0x1173+-0x8*-0x1f2;_0x1b9192<_0x30cfe9['length'];_0x1b9192++){const _0x3a342d=this['_assetToBu'+'ndles']['get'](_0x570d0b['id']);_0x3a342d&&this['_urlsToBun'+'dles']['set'](_0x30cfe9[_0x1b9192],_0x3a342d);}}['_getAssetF'+'ileUrls'](_0x24fae9){let _0x45339b=_0x24fae9['getFileUrl']();if(!_0x45339b)return null;_0x45339b=_0x45339b['split']('?')[-0x8b3*0x3+-0x12c4+0x2cdd];const _0x78a289=[_0x45339b];if(_0x24fae9['type']==='font'){const _0x1ec63d=_0x24fae9['data']['info']['maps']['length'];for(let _0x476da3=0x14c6+-0x1820+-0x1*-0x35b;_0x476da3<_0x1ec63d;_0x476da3++)_0x78a289['push'](_0x45339b['replace']('.png',_0x476da3+'.png'));}return _0x78a289;}['_onAssetRe'+'move'](_0x872ce0){if(_0x872ce0['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x872ce0['id']),this['_unbindAss'+'etEvents'](_0x872ce0['id']);const _0x147c0b=_0x872ce0['data']['assets'];for(let _0x173cca=-0x57d+-0x1*0xef9+0x369*0x6;_0x173cca<_0x147c0b['length'];_0x173cca++){const _0x57ae0a=this['_assetToBu'+'ndles']['get'](_0x147c0b[_0x173cca]);if(_0x57ae0a&&(_0x57ae0a['delete'](_0x872ce0),_0x57ae0a['size']===-0x36b+0xb00+-0x795)){this['_assetToBu'+'ndles']['delete'](_0x147c0b[_0x173cca]);for(const [_0x4dc4d4,_0x2c8b34]of this['_urlsToBun'+'dles'])_0x2c8b34===_0x57ae0a&&this['_urlsToBun'+'dles']['delete'](_0x4dc4d4);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x872ce0['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x872ce0['id']))return;this['_assetToBu'+'ndles']['delete'](_0x872ce0['id']);const _0x41b90c=this['_getAssetF'+'ileUrls'](_0x872ce0);if(!_0x41b90c)return;for(let _0x4aacbf=-0x1800+0xc*0x2c9+-0x6*0x192;_0x4aacbf<_0x41b90c['length'];_0x4aacbf++)this['_urlsToBun'+'dles']['delete'](_0x41b90c[_0x4aacbf]);}}['_onBundleL'+'oadStart'](_0x20144b){_0x20144b['resource']['on']('add',(_0x4b3f26,_0x3e9144)=>{const _0x3b28c9=this['_fileReque'+'sts']['get'](_0x4b3f26);if(_0x3b28c9){for(let _0x137108=0x147f+0x1710+-0x2b8f;_0x137108<_0x3b28c9['length'];_0x137108++)_0x3b28c9[_0x137108](null,_0x3e9144);this['_fileReque'+'sts']['delete'](_0x4b3f26);}});}['_onBundleL'+'oad'](_0x207b2d){if(!_0x207b2d['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x207b2d['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x24e4bc,_0x5c6c5f]of this['_fileReque'+'sts']){const _0x1ddd4f=this['_urlsToBun'+'dles']['get'](_0x24e4bc);if(!_0x1ddd4f||!_0x1ddd4f['has'](_0x207b2d))continue;const _0xa477bb=decodeURIComponent(_0x24e4bc);let _0x259165,_0x197761;if(_0x207b2d['resource']['has'](_0xa477bb))_0x197761=_0x207b2d['resource']['get'](_0xa477bb);else{if(_0x207b2d['resource']['loaded'])_0x259165='Bundle\x20'+_0x207b2d['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x24e4bc;else continue;}for(let _0x5ba166=-0x1ae*0x9+-0x1772*0x1+0x4*0x9a4;_0x5ba166<_0x5c6c5f['length'];_0x5ba166++)_0x5c6c5f[_0x5ba166](_0x259165,_0x259165||_0x197761);this['_fileReque'+'sts']['delete'](_0x24e4bc);}}['_onBundleE'+'rror'](_0x55822c){for(const [_0x32c096,_0x223752]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x32c096)){for(let _0xc44ae2=0x1b97+-0x1*-0x1782+-0x67*0x7f;_0xc44ae2<_0x223752['length'];_0xc44ae2++)_0x223752[_0xc44ae2](_0x55822c);this['_fileReque'+'sts']['delete'](_0x32c096);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2c4dad){const _0x80b4b6=this['_urlsToBun'+'dles']['get'](_0x2c4dad);if(!_0x80b4b6)return null;let _0x3d1a00=null;for(const _0x5c4162 of _0x80b4b6){if(_0x5c4162['loaded']&&_0x5c4162['resource'])return _0x5c4162;_0x5c4162['loading']&&(_0x3d1a00=_0x5c4162);}return _0x3d1a00;}['listBundle'+'sForAsset'](_0x1e4657){const _0x2fdfdb=this['_assetToBu'+'ndles']['get'](_0x1e4657['id']);return _0x2fdfdb?Array['from'](_0x2fdfdb):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x17c3f3){return this['_urlsToBun'+'dles']['has'](_0x17c3f3);}['urlIsLoade'+'dOrLoading'](_0x522bdd){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x522bdd);}['loadUrl'](_0xfa4a5e,_0x2e1303){const _0x2abe15=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xfa4a5e);if(!_0x2abe15){_0x2e1303('URL\x20'+_0xfa4a5e+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x2abe15['loaded']){const _0x42d887=decodeURIComponent(_0xfa4a5e);if(_0x2abe15['resource']['has'](_0x42d887)){_0x2e1303(null,_0x2abe15['resource']['get'](_0x42d887));return;}else{if(_0x2abe15['resource']['loaded']){_0x2e1303('Bundle\x20'+_0x2abe15['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xfa4a5e);return;}}}let _0x451e6c=this['_fileReque'+'sts']['get'](_0xfa4a5e);_0x451e6c||(_0x451e6c=[],this['_fileReque'+'sts']['set'](_0xfa4a5e,_0x451e6c)),_0x451e6c['push'](_0x2e1303);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x133f24 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x133f24);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0xac7289){const _0x1c8f45=_0xac7289['id'];if(this[_0x1c8f45])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x1c8f45+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x1c8f45]=_0xac7289,this['list']['push'](_0xac7289);}['remove'](_0x51a263){const _0x41e494=_0x51a263['id'];if(!this[_0x41e494])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x41e494+('\x27\x20register'+'ed'));delete this[_0x41e494];const _0x4fceef=this['list']['indexOf'](this[_0x41e494]);_0x4fceef!==-(-0x137b+-0x17e8+0x2b64)&&this['list']['splice'](_0x4fceef,-0x19d2+-0x13cb*0x1+-0x1*-0x2d9e);}['destroy'](){this['off']();for(let _0x3dde61=-0x1b40+0x1*0x1647+-0x4f9*-0x1;_0x3dde61<this['list']['length'];_0x3dde61++)this['list'][_0x3dde61]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x38f+0xa02+-0x672));}['addFile'](_0x4dc422,_0x28a692){this['_index']['has'](_0x4dc422)||(this['_index']['set'](_0x4dc422,_0x28a692),this['fire']('add',_0x4dc422,_0x28a692));}['has'](_0x19098a){return this['_index']['has'](_0x19098a);}['get'](_0x4b02cc){return this['_index']['get'](_0x4b02cc)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x508b3e){!_0x508b3e||this['_loaded']||(this['_loaded']=!(-0x1*-0x4f9+-0xf5d+0xa64),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x1e1bce,_0x2997aa=''){super(),h(this,'headerSize',-0x216a+0x427*-0x1+0x2791),h(this,'paddingSiz'+'e',-0x727*-0x3+-0x1bb*0x8+-0x3*0x1df),h(this,'bytesRead',-0x225b*0x1+-0x19db*0x1+-0x3c36*-0x1),h(this,'bytesRecei'+'ved',-0x2020+-0x326+0x2346),h(this,'headerRead',!(0x3a*0x59+-0x126d+-0x6*0x4a)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x9*0x10f+0x4e4*0x4+-0xa09)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x10b+0x1b*0xdb+-0x160e),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x2997aa||'',this['reader']=_0x1e1bce['body']['getReader'](),this['reader']['read']()['then'](_0x3f795e=>{this['pump'](_0x3f795e['done'],_0x3f795e['value']);})['catch'](_0x9cb807=>{this['fire']('error',_0x9cb807);}));}['pump'](_0x110f0e,_0x5cedd0){if(_0x110f0e)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5cedd0['byteLength'];const _0xd61607=new Uint8Array(this['data']['length']+_0x5cedd0['length']);for(_0xd61607['set'](this['data']),_0xd61607['set'](_0x5cedd0,this['data']['length']),this['data']=_0xd61607;this['readFile'](););return this['reader']['read']()['then'](_0x3bdf69=>{this['pump'](_0x3bdf69['done'],_0x3bdf69['value']);})['catch'](_0x2863bd=>{this['fire']('error',_0x2863bd);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x170b+-0x1*0x721+0xf16*0x2);const _0x16c566=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x1a8497=this['decoder']['decode'](_0x16c566);if(this['fileName']=_0x1a8497['substring'](-0x19*0x39+0x340*-0x3+0xf51,-0x26cc+-0x757+0x2b*0x115)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x1a8497['substring'](0xa54+0x9f7*0x3+0xd3f*-0x3,0x6b9+0x368*0x5+0x29*-0x91),-0x61d*0x1+-0xd86+0x13ab),this['fileType']=_0x1a8497['substring'](-0x1*0x9bf+0x11cc+-0x771*0x1,0x137b+0x12bc*-0x1+-0x22),this['ustarForma'+'t']=_0x1a8497['substring'](-0x92f+0xac*0x17+-0x1*0x544,0x14b4+0x159d*-0x1+0x1f0),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x21bc+0x16cf+-0x1*-0xaee)){const _0x5901b3=_0x1a8497['substring'](0x1*0x852+0x203e+0x2737*-0x1,-0x736+-0x1fb*0x11+0x891*0x5)['replace'](/\0/g,'');_0x5901b3['length']>0x2*-0x130+0x6a*0x19+0x3fd*-0x2&&(this['fileName']=_0x5901b3['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1322+-0x1582+-0x20*-0x23;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0xbed+0x15d3+-0x9e5);if(this['fileType']===''||this['fileType']==='0'){const _0x5c1558=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x2feacc={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x5c1558};this['fire']('file',_0x2feacc);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x10e8+0x10ee+-0xb47*0x3);const _0x567a11=this['bytesRead']%this['paddingSiz'+'e'];return _0x567a11!==-0x419*0x1+-0x1bab*0x1+0x4c*0x6b&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x567a11),!(-0x15ed*0x1+-0x2272+-0x385f*-0x1);}return!(-0x3*-0x9cd+-0xc93*0x2+-0x11*0x40);}}class Qe{constructor(_0x2f68a0,_0x476e57){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x1*-0x1f5c+0x2039+-0xdd),(this['_app']=_0x2f68a0,this['handlerTyp'+'e']=_0x476e57);}set['maxRetries'](_0x127655){this['_maxRetrie'+'s']=_0x127655;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x218026,_0x3a0b18,_0x568aee){}['open'](_0x4f53e5,_0x1c95b1,_0x24ab6a){return _0x1c95b1;}['patch'](_0x1a3cda,_0x3825a1){}}class VC extends Qe{constructor(_0x4c23aa){super(_0x4c23aa,'bundle'),this['_assets']=_0x4c23aa['assets'];}['_fetchRetr'+'ies'](_0xed79f1,_0x2564c6,_0x4e7f6e=0x397*0x3+-0x1db3*-0x1+-0x2878){return new Promise((_0x6813b1,_0x212eef)=>{const _0x300183=()=>{fetch(_0xed79f1,_0x2564c6)['then'](_0x6813b1)['catch'](_0xc5c2f5=>{_0x4e7f6e++,_0x4e7f6e<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x4e7f6e),_0x300183()):_0x212eef(_0xc5c2f5);});};_0x300183();});}['load'](_0xf3f906,_0xe37f94){typeof _0xf3f906=='string'&&(_0xf3f906={'load':_0xf3f906,'original':_0xf3f906}),this['_fetchRetr'+'ies'](_0xf3f906['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x24ed4d=>{const _0x2d606c=new gu();_0xe37f94(null,_0x2d606c);const _0x35a05a=new zC(_0x24ed4d,this['_assets']['prefix']);_0x35a05a['on']('file',_0x1b771a=>{_0x2d606c['addFile'](_0x1b771a['name'],_0x1b771a['data']);}),_0x35a05a['on']('done',()=>{_0x2d606c['loaded']=!(-0x175*-0x11+-0x35*-0x29+-0x2142);}),_0x35a05a['on']('error',_0x1a3138=>{w['error'](_0x1a3138),_0xe37f94(_0x1a3138);});})['catch'](_0x6b14c2=>{w['error'](_0x6b14c2),_0xe37f94(_0x6b14c2);});}['open'](_0x14bb7d,_0x45836c){return _0x45836c;}}class Cn{constructor(_0x2aa178){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2aa178;}['addHandler'](_0x2c8756,_0x43a580){this['_handlers'][_0x2c8756]=_0x43a580,_0x43a580['_loader']=this;}['removeHand'+'ler'](_0x510719){delete this['_handlers'][_0x510719];}['getHandler'](_0x30ff07){return this['_handlers'][_0x30ff07];}static['makeKey'](_0x359cb7,_0x201116){return _0x359cb7+'-'+_0x201116;}['load'](_0x46971c,_0x5a2ffb,_0x23db81,_0x233f77,_0x10be70){var _0xa78c5e;const _0x46e3fe=this['_handlers'][_0x5a2ffb];if(!_0x46e3fe){const _0x527fc1='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x5a2ffb+('\x27\x20when\x20loa'+'ding\x20[')+_0x46971c+']';w['errorOnce'](_0x527fc1),_0x23db81(_0x527fc1);return;}if(!_0x46971c){this['_loadNull'](_0x46e3fe,_0x23db81,_0x233f77);return;}const _0x41a88b=Cn['makeKey'](_0x46971c,_0x5a2ffb);if(this['_requests'][_0x41a88b])this['_requests'][_0x41a88b]['push'](_0x23db81);else{this['_requests'][_0x41a88b]=[_0x23db81];const _0x446717=this,_0x4c7d0b=function(_0x4e04a0,_0x37d0cd){if(_0x4e04a0){_0x446717['_onFailure'](_0x41a88b,_0x4e04a0);return;}if(_0x37d0cd['load']instanceof DataView){if(_0x46e3fe['openBinary']){if(!_0x446717['_requests'][_0x41a88b])return;try{const _0x24cebb=_0x46e3fe['openBinary'](_0x37d0cd['load']);_0x446717['_onSuccess'](_0x41a88b,_0x24cebb);}catch(_0x4c7b93){_0x446717['_onFailure'](_0x41a88b,_0x4c7b93);}return;}_0x37d0cd['load']=URL['createObje'+'ctURL'](new Blob([_0x37d0cd['load']])),_0x233f77&&(_0x233f77['urlObject']&&URL['revokeObje'+'ctURL'](_0x233f77['urlObject']),_0x233f77['urlObject']=_0x37d0cd['load']);}_0x46e3fe['load'](_0x37d0cd,(_0x36941e,_0x271e2f,_0x3a1e1c)=>{if(_0x446717['_requests'][_0x41a88b]){if(_0x36941e){_0x446717['_onFailure'](_0x41a88b,_0x36941e);return;}try{_0x446717['_onSuccess'](_0x41a88b,_0x46e3fe['open'](_0x37d0cd['original'],_0x271e2f,_0x233f77),_0x3a1e1c);}catch(_0xf4de67){_0x446717['_onFailure'](_0x41a88b,_0xf4de67);}}},_0x233f77);},_0x40a13a=_0x46971c['split']('?')[-0x215f*-0x1+-0x6*-0x377+0x3b*-0xeb];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x40a13a)&&!(_0x10be70&&_0x10be70['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x40a13a)){const _0xf22c46=this['_app']['bundles']['listBundle'+'sForAsset'](_0x233f77);let _0x4da65a;_0x10be70&&_0x10be70['bundlesFil'+'ter']&&(_0x4da65a=_0x10be70['bundlesFil'+'ter'](_0xf22c46)),_0x4da65a||(_0xf22c46==null||_0xf22c46['sort']((_0x51fbfe,_0x521276)=>_0x51fbfe['file']['size']-_0x521276['file']['size']),_0x4da65a=_0xf22c46==null?void(0x26bd+-0x2*0x77f+-0x17bf*0x1):_0xf22c46[0x12+0x17*-0x167+0x202f]),_0x4da65a&&((_0xa78c5e=this['_app']['assets'])==null||_0xa78c5e['load'](_0x4da65a));}this['_app']['bundles']['loadUrl'](_0x40a13a,(_0x4b1956,_0x51844a)=>{_0x4c7d0b(_0x4b1956,{'load':_0x51844a,'original':_0x40a13a});});}else _0x4c7d0b(null,{'load':_0x46971c,'original':_0x233f77&&_0x233f77['file']['filename']||_0x46971c});}}['_loadNull'](_0x39cb15,_0x562174,_0x5f0145){const _0x17548e=function(_0x27e3ca,_0x1a77e6,_0x1ab185){if(_0x27e3ca)_0x562174(_0x27e3ca);else try{_0x562174(null,_0x39cb15['open'](null,_0x1a77e6,_0x5f0145),_0x1ab185);}catch(_0x34d252){_0x562174(_0x34d252);}};_0x39cb15['load'](null,_0x17548e,_0x5f0145);}['_onSuccess'](_0x5c8a01,_0x174011,_0xac5dda){for(let _0x537607=0x1*-0x2014+-0x1aec+-0x3b0*-0x10;_0x537607<this['_requests'][_0x5c8a01]['length'];_0x537607++)this['_requests'][_0x5c8a01][_0x537607](null,_0x174011,_0xac5dda);delete this['_requests'][_0x5c8a01];}['_onFailure'](_0x12462d,_0x15bf81){if(console['error'](_0x15bf81),this['_requests'][_0x12462d]){for(let _0x544e04=-0x2*0x10fd+-0x885*0x1+-0x2a7f*-0x1;_0x544e04<this['_requests'][_0x12462d]['length'];_0x544e04++)this['_requests'][_0x12462d][_0x544e04](_0x15bf81);delete this['_requests'][_0x12462d];}}['open'](_0x3fcd1d,_0x447bf1){const _0x3b3be1=this['_handlers'][_0x3fcd1d];return _0x3b3be1?_0x3b3be1['open'](null,_0x447bf1):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3fcd1d),_0x447bf1);}['patch'](_0x2821a7,_0x1bfcdc){const _0x756cdd=this['_handlers'][_0x2821a7['type']];if(!_0x756cdd){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2821a7['type']);return;}_0x756cdd['patch']&&_0x756cdd['patch'](_0x2821a7,_0x1bfcdc);}['clearCache'](_0x2407fd,_0x460c9c){const _0x3c90b7=Cn['makeKey'](_0x2407fd,_0x460c9c);delete this['_cache'][_0x3c90b7];}['getFromCac'+'he'](_0x1a6ce4,_0x4a46be){const _0x51b257=Cn['makeKey'](_0x1a6ce4,_0x4a46be);if(this['_cache'][_0x51b257])return this['_cache'][_0x51b257];}['enableRetr'+'y'](_0x36d39b=0x1b93+-0x17cf+-0x89*0x7){_0x36d39b=Math['max'](0x1bee+-0x24c9+-0x8db*-0x1,_0x36d39b)||-0x15e*0x2+0xa09+-0x74d;for(const _0xe8294 in this['_handlers'])this['_handlers'][_0xe8294]['maxRetries']=_0x36d39b;}['disableRet'+'ry'](){for(const _0x15787c in this['_handlers'])this['_handlers'][_0x15787c]['maxRetries']=0x1*-0x2eb+0x3d*-0x2f+0xe1e;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x48477b){if(!_0x48477b['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x48477b['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x48477b['header']['version']!==0x1f*-0x53+-0x2b7*0x1+-0x1*-0xcc5)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x48477b['data']){if(!Array['isArray'](_0x48477b['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x515e26=0x354*-0x1+-0x24e8+0x283c,_0x9d9da0=_0x48477b['data']['length'];_0x515e26<_0x9d9da0;_0x515e26++){const _0x5590ed=_0x48477b['data'][_0x515e26];if(!_0x5590ed['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x515e26+('].info\x22\x20fi'+'eld'));if(!_0x5590ed['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x515e26+('].info.loc'+'ale\x22\x20field'));if(typeof _0x5590ed['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x515e26+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x5590ed['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x515e26+('].messages'+'\x22\x20field'));}}['parse'](_0x716db9){return this['_validate'](_0x716db9),_0x716db9['data'];}}const Gh=class Gh extends me{constructor(_0x5ebfef){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x5ebfef,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x1f575f){const _0x5338e7={};for(let _0x1f5ea6=0x44*0x57+0x198e+-0x30aa,_0x1e559e=_0x1f575f['length'];_0x1f5ea6<_0x1e559e;_0x1f5ea6++){const _0x5d1f88=_0x1f575f[_0x1f5ea6]instanceof pe?_0x1f575f[_0x1f5ea6]['id']:_0x1f575f[_0x1f5ea6];_0x5338e7[_0x5d1f88]=!(-0x1782+0xa*-0x23+0xc7*0x20);}let _0x380f5b=this['_assets']['length'];for(;_0x380f5b--;){const _0x8bdd4=this['_assets'][_0x380f5b];if(!_0x5338e7[_0x8bdd4]){this['_app']['assets']['off']('add:'+_0x8bdd4,this['_onAssetAd'+'d'],this);const _0x726a5a=this['_app']['assets']['get'](_0x8bdd4);_0x726a5a&&this['_onAssetRe'+'move'](_0x726a5a),this['_assets']['splice'](_0x380f5b,0xf1e*-0x2+0x116*0x1d+-0x141);}}for(const _0x58badb in _0x5338e7){const _0x1a70e8=parseInt(_0x58badb,-0x1181*0x1+0x432*0x7+-0xbd3*0x1);if(this['_assets']['indexOf'](_0x1a70e8)!==-(-0xc41*0x2+-0x301*-0xa+0x1*-0x587))continue;this['_assets']['push'](_0x1a70e8);const _0x314eb9=this['_app']['assets']['get'](_0x1a70e8);_0x314eb9?this['_onAssetAd'+'d'](_0x314eb9):this['_app']['assets']['once']('add:'+_0x1a70e8,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x12fe1a){if(this['_locale']===_0x12fe1a)return;let _0x24256b=Oi(_0x12fe1a);if(_0x24256b==='in'&&(_0x24256b='id',_0x12fe1a=LC(_0x12fe1a,_0x24256b),this['_locale']===_0x12fe1a))return;const _0x4e8e96=this['_locale'];this['_locale']=_0x12fe1a,this['_lang']=_0x24256b,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x12fe1a,_0x4e8e96);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x493e64,_0x2a648b){return Fv(_0x493e64,_0x2a648b);}['findAvaila'+'bleLocale'](_0x3205ad){if(this['_translati'+'ons'][_0x3205ad])return _0x3205ad;const _0x157d63=Oi(_0x3205ad);return this['_findFallb'+'ackLocale'](_0x3205ad,_0x157d63);}['getText'](_0x44ff3d,_0x427f99){let _0x270571=_0x44ff3d,_0x5184d8;_0x427f99||(_0x427f99=this['_locale'],_0x5184d8=this['_lang']);let _0x5f0ba4=this['_translati'+'ons'][_0x427f99];return _0x5f0ba4||(_0x5184d8||(_0x5184d8=Oi(_0x427f99)),_0x427f99=this['_findFallb'+'ackLocale'](_0x427f99,_0x5184d8),_0x5f0ba4=this['_translati'+'ons'][_0x427f99]),_0x5f0ba4&&_0x5f0ba4['hasOwnProp'+'erty'](_0x44ff3d)&&(_0x270571=_0x5f0ba4[_0x44ff3d],Array['isArray'](_0x270571)&&(_0x270571=_0x270571[-0x1c52+-0xe76+0x2ac8]),_0x270571==null&&(_0x270571=_0x44ff3d)),_0x270571;}['getPluralT'+'ext'](_0x4b8162,_0x123233,_0x23c8ff){let _0x2bd278=_0x4b8162,_0x98e9db,_0x3f8b05;_0x23c8ff?(_0x98e9db=Oi(_0x23c8ff),_0x3f8b05=Tf(_0x98e9db)):(_0x23c8ff=this['_locale'],_0x98e9db=this['_lang'],_0x3f8b05=this['_pluralFn']);let _0x132ff5=this['_translati'+'ons'][_0x23c8ff];if(_0x132ff5||(_0x23c8ff=this['_findFallb'+'ackLocale'](_0x23c8ff,_0x98e9db),_0x98e9db=Oi(_0x23c8ff),_0x3f8b05=Tf(_0x98e9db),_0x132ff5=this['_translati'+'ons'][_0x23c8ff]),_0x132ff5&&_0x132ff5[_0x4b8162]&&_0x3f8b05){const _0x3a8809=_0x3f8b05(_0x123233);_0x2bd278=_0x132ff5[_0x4b8162][_0x3a8809],_0x2bd278==null&&(_0x2bd278=_0x4b8162);}return _0x2bd278;}['addData'](_0xf38507){let _0x1526bd;try{_0x1526bd=this['_parser']['parse'](_0xf38507);}catch(_0x197092){console['error'](_0x197092);return;}for(let _0x237894=0xd52+-0xa9*0x35+0x2b*0x81,_0x1b3821=_0x1526bd['length'];_0x237894<_0x1b3821;_0x237894++){const _0x2ddb39=_0x1526bd[_0x237894],_0x34598=_0x2ddb39['info']['locale'],_0x32d0a9=_0x2ddb39['messages'];if(!this['_translati'+'ons'][_0x34598]){this['_translati'+'ons'][_0x34598]={};const _0x11baac=Oi(_0x34598);this['_available'+'Langs'][_0x11baac]||(this['_available'+'Langs'][_0x11baac]=_0x34598);}Object['assign'](this['_translati'+'ons'][_0x34598],_0x32d0a9),this['fire']('data:add',_0x34598,_0x32d0a9);}}['removeData'](_0x52625d){let _0x258980;try{_0x258980=this['_parser']['parse'](_0x52625d);}catch(_0x33e365){console['error'](_0x33e365);return;}for(let _0x315805=-0x24fd+-0x257d+0x4a7a*0x1,_0x1fd0f1=_0x258980['length'];_0x315805<_0x1fd0f1;_0x315805++){const _0x1b81c6=_0x258980[_0x315805],_0x21f5f8=_0x1b81c6['info']['locale'],_0x6f6e6f=this['_translati'+'ons'][_0x21f5f8];if(!_0x6f6e6f)continue;const _0x490755=_0x1b81c6['messages'];for(const _0x4a63b1 in _0x490755)delete _0x6f6e6f[_0x4a63b1];Object['keys'](_0x6f6e6f)['length']===-0x1c84+0x167b+0x609&&(delete this['_translati'+'ons'][_0x21f5f8],delete this['_available'+'Langs'][Oi(_0x21f5f8)]),this['fire']('data:remov'+'e',_0x21f5f8,_0x490755);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x419282,_0x2570c8){let _0x2c743f=Mh[_0x419282];return _0x2c743f&&this['_translati'+'ons'][_0x2c743f]||(_0x2c743f=Mh[_0x2570c8],_0x2c743f&&this['_translati'+'ons'][_0x2c743f])||(_0x2c743f=this['_available'+'Langs'][_0x2570c8],_0x2c743f&&this['_translati'+'ons'][_0x2c743f])?_0x2c743f:Ph;}['_onAssetAd'+'d'](_0x41ec3a){_0x41ec3a['on']('load',this['_onAssetLo'+'ad'],this),_0x41ec3a['on']('change',this['_onAssetCh'+'ange'],this),_0x41ec3a['on']('remove',this['_onAssetRe'+'move'],this),_0x41ec3a['on']('unload',this['_onAssetUn'+'load'],this),_0x41ec3a['resource']&&this['_onAssetLo'+'ad'](_0x41ec3a);}['_onAssetLo'+'ad'](_0x481633){this['addData'](_0x481633['resource']);}['_onAssetCh'+'ange'](_0x56cb1c){_0x56cb1c['resource']&&this['addData'](_0x56cb1c['resource']);}['_onAssetRe'+'move'](_0x10494d){_0x10494d['off']('load',this['_onAssetLo'+'ad'],this),_0x10494d['off']('change',this['_onAssetCh'+'ange'],this),_0x10494d['off']('remove',this['_onAssetRe'+'move'],this),_0x10494d['off']('unload',this['_onAssetUn'+'load'],this),_0x10494d['resource']&&this['removeData'](_0x10494d['resource']),this['_app']['assets']['once']('add:'+_0x10494d['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x6f2c9c){_0x6f2c9c['resource']&&this['removeData'](_0x6f2c9c['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x4261e6){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4261e6;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x42dfcb,_0x4890ee){_0x4890ee&&this['_scriptSch'+'emas']['set'](_0x42dfcb,_0x4890ee);}['getSchema'](_0x354b46){return this['_scriptSch'+'emas']['get'](_0x354b46);}['add'](_0x3bc71f){const _0x198e8f=_0x3bc71f['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x198e8f)?(setTimeout(()=>{if(_0x3bc71f['prototype']['swap']){const _0x3beccf=this['_scripts'][_0x198e8f],_0x332ca8=this['_list']['indexOf'](_0x3beccf);this['_list'][_0x332ca8]=_0x3bc71f,this['_scripts'][_0x198e8f]=_0x3bc71f,this['fire']('swap',_0x198e8f,_0x3bc71f),this['fire']('swap:'+_0x198e8f,_0x3bc71f);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x198e8f+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x2516*0x1+0x205+0x23*-0x11e)):(this['_scripts'][_0x198e8f]=_0x3bc71f,this['_list']['push'](_0x3bc71f),this['fire']('add',_0x198e8f,_0x3bc71f),this['fire']('add:'+_0x198e8f,_0x3bc71f),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x198e8f)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x1a446f=this['app']['systems']['script']['_component'+'s'];let _0x49549f;const _0xbc3cc3=[],_0xbae0f=[];for(_0x1a446f['loopIndex']=0xd0a*-0x1+-0x1686+0x2390;_0x1a446f['loopIndex']<_0x1a446f['length'];_0x1a446f['loopIndex']++){const _0x25cd73=_0x1a446f['items'][_0x1a446f['loopIndex']];if(_0x25cd73['_scriptsIn'+'dex'][_0x198e8f]&&_0x25cd73['_scriptsIn'+'dex'][_0x198e8f]['awaiting']){_0x25cd73['_scriptsDa'+'ta']&&_0x25cd73['_scriptsDa'+'ta'][_0x198e8f]&&(_0x49549f=_0x25cd73['_scriptsDa'+'ta'][_0x198e8f]['attributes']);const _0x2495c1=_0x25cd73['create'](_0x198e8f,{'preloading':!(0x267+-0x1*-0x21b3+0x120d*-0x2),'ind':_0x25cd73['_scriptsIn'+'dex'][_0x198e8f]['ind'],'attributes':_0x49549f});_0x2495c1&&_0xbc3cc3['push'](_0x2495c1);for(const _0x42a45f of _0x25cd73['scripts'])_0x25cd73['initialize'+'Attributes'](_0x42a45f);}}for(let _0x59ba0d=0x2d5*-0x5+0x1e95+-0x106c;_0x59ba0d<_0xbc3cc3['length'];_0x59ba0d++)_0xbc3cc3[_0x59ba0d]['enabled']&&(_0xbc3cc3[_0x59ba0d]['_initializ'+'ed']=!(-0xe50+-0x1ca2+0xef*0x2e),_0xbae0f['push'](_0xbc3cc3[_0x59ba0d]),_0xbc3cc3[_0x59ba0d]['initialize']&&_0xbc3cc3[_0x59ba0d]['initialize']());for(let _0x3487c5=-0x1cfc+-0x1*-0xb23+-0x11d9*-0x1;_0x3487c5<_0xbae0f['length'];_0x3487c5++)!_0xbae0f[_0x3487c5]['enabled']||_0xbae0f[_0x3487c5]['_postIniti'+'alized']||(_0xbae0f[_0x3487c5]['_postIniti'+'alized']=!(0x221c+0xbb6+-0x2dd2),_0xbae0f[_0x3487c5]['postInitia'+'lize']&&_0xbae0f[_0x3487c5]['postInitia'+'lize']());}),!(-0x6*0x2e7+-0x3*0xb93+0x3423));}['remove'](_0x1f72a3){let _0x41b3a3=_0x1f72a3,_0x32bcdf=_0x1f72a3;if(typeof _0x32bcdf!='string'?_0x32bcdf=_0x41b3a3['__name']:_0x41b3a3=this['get'](_0x32bcdf),this['get'](_0x32bcdf)!==_0x41b3a3)return!(-0x1c9*0x9+-0x7cb+0x17dd);delete this['_scripts'][_0x32bcdf];const _0x3e2271=this['_list']['indexOf'](_0x41b3a3);return this['_list']['splice'](_0x3e2271,0x223c+-0x5*0x4d5+-0xa12),this['fire']('remove',_0x32bcdf,_0x41b3a3),this['fire']('remove:'+_0x32bcdf,_0x41b3a3),!(0xaa4+0xcdb*-0x3+0x1bed);}['get'](_0x46b3fc){return this['_scripts'][_0x46b3fc]||null;}['has'](_0x239c9a){if(typeof _0x239c9a=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x239c9a);if(!_0x239c9a)return!(0x975+0x1f6a*0x1+0x28de*-0x1);const _0x3dfa54=_0x239c9a['__name'];return this['_scripts'][_0x3dfa54]===_0x239c9a;}['list'](){return this['_list'];}}const WC=(_0x225d40,_0x4f25ce)=>_0x225d40['constructo'+'r']['order']-_0x4f25ce['constructo'+'r']['order'],$C=_0x268f17=>_0x268f17['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x5296a4=>{_0x5296a4['length']=-0x1*-0x1db2+0x2291+-0x1*0x4043,Nv['push'](_0x5296a4);},Hh=class Hh extends Ie{constructor(_0x53ad20,_0x178551=Ms()){super(_0x53ad20),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x2028+-0x86f+-0xd88*-0x3)),h(this,'_guid',null),h(this,'_template',!(-0xfa0+0x10be+-0x13*0xf)),(w['assert'](_0x178551,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x178551);}['addCompone'+'nt'](_0xd99006,_0x4a901a){const _0xc7a7a9=this['_app']['systems'][_0xd99006];return _0xc7a7a9?this['c'][_0xd99006]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xd99006+('\x27\x20componen'+'t')),null):_0xc7a7a9['addCompone'+'nt'](this,_0x4a901a):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xd99006+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5f3f4b){const _0x56cf99=this['_app']['systems'][_0x5f3f4b];if(!_0x56cf99){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5f3f4b+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5f3f4b]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5f3f4b+('\x27\x20componen'+'t'));return;}_0x56cf99['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x25695b){const _0x380857=this['findOne'](_0x46b2f1=>{var _0x206bb0;return(_0x206bb0=_0x46b2f1['c'])==null?void(0x1f56+-0x301+-0x1c55):_0x206bb0[_0x25695b];});return _0x380857&&_0x380857['c'][_0x25695b];}['findCompon'+'ents'](_0x1217b9){return this['find'](_0x490085=>{var _0x2ee6ee;return(_0x2ee6ee=_0x490085['c'])==null?void(-0xa*0x155+-0x1389+0x20db):_0x2ee6ee[_0x1217b9];})['map'](_0xebf6a8=>_0xebf6a8['c'][_0x1217b9]);}['findScript'](_0x368774){const _0x3ef18f=this['findOne'](_0x21b594=>{var _0x3b458a,_0xfb71c6;return(_0xfb71c6=(_0x3b458a=_0x21b594['c'])==null?void(0x414+-0x1627+-0x1*-0x1213):_0x3b458a['script'])==null?void(0x452*0x6+-0x1f12+-0x293*-0x2):_0xfb71c6['has'](_0x368774);});return _0x3ef18f==null?void(-0x1c7b+-0xb91*-0x1+0x10ea):_0x3ef18f['c']['script']['get'](_0x368774);}['findScript'+'s'](_0x359905){return this['find'](_0x2d5906=>{var _0x33db5b,_0x33f524;return(_0x33f524=(_0x33db5b=_0x2d5906['c'])==null?void(-0x99*0x40+-0x1ba1+0x41e1):_0x33db5b['script'])==null?void(0x10a7+0x6c*-0x9+-0xcdb):_0x33f524['has'](_0x359905);})['map'](_0x22cbb3=>_0x22cbb3['c']['script']['get'](_0x359905));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x1cf78d){const _0x46c5d3=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x46c5d3[this['_guid']],this['_guid']=_0x1cf78d,_0x46c5d3[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x110eb6,_0x1e7291){let _0x5a2ac3=!(-0xfa8+0x15b9+-0x610*0x1);_0x110eb6===this&&po['length']===0xc98+0x390+0x205*-0x8&&(_0x5a2ac3=!(-0x1*0xabc+-0x241d+0x2ed9)),_0x110eb6['_beingEnab'+'led']=!(-0x1*0x26ef+-0x187c*0x1+0x3f6b),_0x110eb6['_onHierarc'+'hyStateCha'+'nged'](_0x1e7291),_0x110eb6['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x110eb6);const _0x4e3192=_0x110eb6['_children'];for(let _0x1fb211=0x121*0xb+-0x11e3+-0x19*-0x38,_0x262062=_0x4e3192['length'];_0x1fb211<_0x262062;_0x1fb211++)_0x4e3192[_0x1fb211]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4e3192[_0x1fb211],_0x1e7291);if(_0x110eb6['_beingEnab'+'led']=!(0xde8+0x91*-0x7+-0x4f8*0x2),_0x5a2ac3){for(let _0x117327=-0x1b99+0x1f*-0xc1+-0x7*-0x748;_0x117327<po['length'];_0x117327++)po[_0x117327]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x1918+-0x23d1+0xab9*0x1;}}['_onHierarc'+'hyStateCha'+'nged'](_0x5e5867){super['_onHierarc'+'hyStateCha'+'nged'](_0x5e5867);const _0x36b51c=this['_getSorted'+'Components']();for(let _0x420074=-0x200*-0x7+-0x1*0x243d+-0x1*-0x163d;_0x420074<_0x36b51c['length'];_0x420074++){const _0x5e3ae2=_0x36b51c[_0x420074];_0x5e3ae2['enabled']&&(_0x5e5867?_0x5e3ae2['onEnable']():_0x5e3ae2['onDisable']());}Ag(_0x36b51c);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x18f900=this['_getSorted'+'Components']();for(let _0x1be90a=-0x1*0xb5b+0xf75*0x1+-0x41a;_0x1be90a<_0x18f900['length'];_0x1be90a++)_0x18f900[_0x1be90a]['onPostStat'+'eChange']();Ag(_0x18f900);}['findByGuid'](_0x3501f9){if(this['_guid']===_0x3501f9)return this;const _0x29378b=this['_app']['_entityInd'+'ex'][_0x3501f9];return _0x29378b&&(_0x29378b===this||_0x29378b['isDescenda'+'ntOf'](this))?_0x29378b:null;}['destroy'](){this['_destroyin'+'g']=!(-0xb8c+0x1868+-0xcdc);for(const _0x41e880 in this['c'])this['c'][_0x41e880]['enabled']=!(0xe27*0x1+-0x41*-0x13+-0x12f9);for(const _0x1aadc8 in this['c'])this['c'][_0x1aadc8]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x21+-0x1c*-0x149+-0x2c2*0xd);}['clone'](){const _0x573a1b={},_0x4f7166=this['_cloneRecu'+'rsively'](_0x573a1b);return _0x573a1b[this['getGuid']()]=_0x4f7166,kv(this,this,_0x4f7166,_0x573a1b),_0x4f7166;}['_getSorted'+'Components'](){const _0xab1299=this['c'],_0x13b913=XC();let _0xec60ff=-0x2138*0x1+-0x23ac+0x2*0x2272;for(const _0x114363 in _0xab1299)if(_0xab1299['hasOwnProp'+'erty'](_0x114363)){const _0x3a3f5d=_0xab1299[_0x114363];_0xec60ff|=_0x3a3f5d['constructo'+'r']['order']!==-0x1*0x16f6+0xf3d+0x7b9,_0x13b913['push'](_0x3a3f5d);}return _0xec60ff&&_0x13b913['length']>-0x2492+0x1de5*-0x1+0x18*0x2c5&&$C(_0x13b913),_0x13b913;}['_cloneRecu'+'rsively'](_0x19b1f5){const _0x2f667c=new this['constructo'+'r'](void(0xe*-0x173+-0xc9b*0x1+0x20e5),this['_app']);super['_cloneInte'+'rnal'](_0x2f667c);for(const _0x594417 in this['c'])this['c'][_0x594417]['system']['cloneCompo'+'nent'](this,_0x2f667c);for(let _0x3172ea=-0x1*0x653+0x131*0x8+-0x335;_0x3172ea<this['_children']['length'];_0x3172ea++){const _0x23190b=this['_children'][_0x3172ea];if(_0x23190b instanceof Hh){const _0x3a9258=_0x23190b['_cloneRecu'+'rsively'](_0x19b1f5);_0x2f667c['addChild'](_0x3a9258),_0x19b1f5[_0x23190b['getGuid']()]=_0x3a9258;}}return _0x2f667c;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x446a5e,_0x43b5dd,_0x48a64f,_0x3c0c21){if(_0x43b5dd instanceof lt){const _0x5129d1=_0x43b5dd['c'];for(const _0x3e250b in _0x5129d1){const _0x569706=_0x5129d1[_0x3e250b],_0x1e16b3=_0x569706['system']['getPropert'+'iesOfType']('entity');for(let _0xeeccce=0x6*0x59c+-0xb*-0x263+-0x31*0x139,_0x42e6d9=_0x1e16b3['length'];_0xeeccce<_0x42e6d9;_0xeeccce++){const _0x3728a6=_0x1e16b3[_0xeeccce]['name'],_0xc88ffc=_0x569706[_0x3728a6];if(!!_0x446a5e['findByGuid'](_0xc88ffc)){const _0x1b70f7=_0x3c0c21[_0xc88ffc]['getGuid']();_0x1b70f7?_0x48a64f['c'][_0x3e250b][_0x3728a6]=_0x1b70f7:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x5129d1['script']&&_0x48a64f['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['script'],_0x3c0c21),_0x5129d1['render']&&_0x48a64f['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['render'],_0x3c0c21),_0x5129d1['button']&&_0x48a64f['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['button'],_0x3c0c21),_0x5129d1['scrollview']&&_0x48a64f['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['scrollview'],_0x3c0c21),_0x5129d1['scrollbar']&&_0x48a64f['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['scrollbar'],_0x3c0c21),_0x5129d1['anim']&&_0x48a64f['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5129d1['anim'],_0x3c0c21);const _0x428163=_0x43b5dd['children']['filter'](_0x58dbbb=>_0x58dbbb instanceof lt),_0x32cb6c=_0x48a64f['children']['filter'](_0x5080f1=>_0x5080f1 instanceof lt);for(let _0x2e96ee=-0x1*0x155d+0x1*0xd5b+-0x52*-0x19,_0x305770=_0x428163['length'];_0x2e96ee<_0x305770;_0x2e96ee++)kv(_0x446a5e,_0x428163[_0x2e96ee],_0x32cb6c[_0x2e96ee],_0x3c0c21);}}class Cg{constructor(_0x523d6c,_0x329336){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x1*-0x10a3+-0x2*-0x5a0+-0x1*0x1be2)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x523d6c,this['url']=_0x329336);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x8d6f5a){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x8d6f5a;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x1bcdbc,_0x517669){if(this['_index']['hasOwnProp'+'erty'](_0x1bcdbc))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x1bcdbc),!(-0xc96*-0x1+-0x257c+-0x4b*-0x55);const _0x27db01=new Cg(_0x1bcdbc,_0x517669),_0x34afd5=this['_list']['push'](_0x27db01);return this['_index'][_0x27db01['name']]=_0x34afd5-(-0xcae+-0x11*0x60+0x11f*0x11),this['_urlIndex'][_0x27db01['url']]=_0x34afd5-(-0x1546+0x1567*-0x1+-0x71d*-0x6),!(0x30e+-0x9f4*-0x2+-0x16f6);}['find'](_0x51778d){return this['_index']['hasOwnProp'+'erty'](_0x51778d)?this['_list'][this['_index'][_0x51778d]]:null;}['findByUrl'](_0x193a1c){return this['_urlIndex']['hasOwnProp'+'erty'](_0x193a1c)?this['_list'][this['_urlIndex'][_0x193a1c]]:null;}['remove'](_0x4e31bc){if(this['_index']['hasOwnProp'+'erty'](_0x4e31bc)){const _0x12c856=this['_index'][_0x4e31bc];let _0x721d57=this['_list'][_0x12c856];delete this['_urlIndex'][_0x721d57['url']],delete this['_index'][_0x4e31bc],this['_list']['splice'](_0x12c856,0x126*0x15+-0x887+-0xf96);for(let _0x215c02=-0x129a+0x52a*0x3+-0x18e*-0x2;_0x215c02<this['_list']['length'];_0x215c02++)_0x721d57=this['_list'][_0x215c02],this['_index'][_0x721d57['name']]=_0x215c02,this['_urlIndex'][_0x721d57['url']]=_0x215c02;}}['_loadScene'+'Data'](_0x434739,_0x444e1e,_0x4e30dc){const _0x3d58cb=this['_app'];let _0x413f86=_0x434739;if(typeof _0x434739=='string'&&(_0x434739=this['findByUrl'](_0x413f86)||this['find'](_0x413f86)||new Cg('Untitled',_0x413f86)),_0x413f86=_0x434739['url'],!_0x413f86){_0x4e30dc('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x434739['loaded']){_0x4e30dc(null,_0x434739);return;}_0x3d58cb['assets']&&_0x3d58cb['assets']['prefix']&&!jn['test'](_0x413f86)&&(_0x413f86=xe['join'](_0x3d58cb['assets']['prefix'],_0x413f86)),_0x434739['_onLoadedC'+'allbacks']['push'](_0x4e30dc),_0x434739['_loading']||_0x3d58cb['loader']['getHandler']('hierarchy')['load'](_0x413f86,(_0x332d55,_0x6b95c9)=>{_0x434739['data']=_0x6b95c9,_0x434739['_loading']=!(-0x224f+0x39*-0x52+0x3492);for(let _0x58f275=0x3*-0xb66+-0x164a+0x387c;_0x58f275<_0x434739['_onLoadedC'+'allbacks']['length'];_0x58f275++)_0x434739['_onLoadedC'+'allbacks'][_0x58f275](_0x332d55,_0x434739);_0x444e1e||(_0x434739['data']=null),_0x434739['_onLoadedC'+'allbacks']['length']=0x1*-0x49e+-0x2dd*-0x8+0x925*-0x2;}),_0x434739['_loading']=!(0x2ee*0x1+0x1a5d*-0x1+-0x176f*-0x1);}['loadSceneD'+'ata'](_0x9c82e7,_0xa07274){this['_loadScene'+'Data'](_0x9c82e7,!(0x73*-0x28+0xaa9+0x74f),_0xa07274);}['unloadScen'+'eData'](_0x234b8f){typeof _0x234b8f=='string'&&(_0x234b8f=this['findByUrl'](_0x234b8f)),_0x234b8f&&(_0x234b8f['data']=null);}['_loadScene'+'Hierarchy'](_0x5c5748,_0x4783c7,_0x55ca3e){this['_loadScene'+'Data'](_0x5c5748,!(0x1d6e*0x1+0x1018+0x2d85*-0x1),(_0x5a0a3a,_0x4a2b1f)=>{if(_0x5a0a3a){_0x55ca3e&&_0x55ca3e(_0x5a0a3a);return;}_0x4783c7&&_0x4783c7(_0x4a2b1f);const _0x4d4fd2=this['_app'],_0x19b012=()=>{const _0x135076=_0x4d4fd2['loader']['getHandler']('hierarchy');_0x4d4fd2['systems']['script']['preloading']=!(-0x2227+0x3*0x667+0xef2*0x1);const _0x15ec6c=_0x135076['open'](_0x4a2b1f['url'],_0x4a2b1f['data']);_0x4d4fd2['systems']['script']['preloading']=!(-0x708+-0x1c7*-0x7+-0x568),_0x4d4fd2['loader']['clearCache'](_0x4a2b1f['url'],'hierarchy'),_0x4d4fd2['root']['addChild'](_0x15ec6c),_0x4d4fd2['systems']['fire']('initialize',_0x15ec6c),_0x4d4fd2['systems']['fire']('postInitia'+'lize',_0x15ec6c),_0x4d4fd2['systems']['fire']('postPostIn'+'itialize',_0x15ec6c),_0x55ca3e&&_0x55ca3e(null,_0x15ec6c);};_0x4d4fd2['_preloadSc'+'ripts'](_0x4a2b1f['data'],_0x19b012);});}['loadSceneH'+'ierarchy'](_0x2a6c10,_0x2ca591){this['_loadScene'+'Hierarchy'](_0x2a6c10,null,_0x2ca591);}['loadSceneS'+'ettings'](_0xb15c99,_0x431347){this['_loadScene'+'Data'](_0xb15c99,!(0xa43*0x1+-0x167b+0xc39),(_0x5ac1b,_0x12022d)=>{_0x5ac1b?_0x431347&&_0x431347(_0x5ac1b):(this['_app']['applyScene'+'Settings'](_0x12022d['data']['settings']),_0x431347&&_0x431347(null));});}['changeScen'+'e'](_0x2ac1f2,_0x88e7c2){const _0xcb70eb=this['_app'],_0x5cf0c4=_0x5decf3=>{const {children:_0x29c6ea}=_0xcb70eb['root'];for(;_0x29c6ea['length'];)_0x29c6ea[-0x583+0x37*0xf+0x125*0x2]['destroy']();_0xcb70eb['applyScene'+'Settings'](_0x5decf3['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x2ac1f2,_0x5cf0c4,_0x88e7c2);}['loadScene'](_0x125482,_0x26eda4){const _0x188bf=this['_app'],_0x2a1704=_0x188bf['loader']['getHandler']('scene');_0x188bf['assets']&&_0x188bf['assets']['prefix']&&!jn['test'](_0x125482)&&(_0x125482=xe['join'](_0x188bf['assets']['prefix'],_0x125482)),_0x2a1704['load'](_0x125482,(_0x3dd830,_0x3ac67b)=>{if(_0x3dd830)_0x26eda4&&_0x26eda4(_0x3dd830);else{const _0x5ef953=()=>{_0x188bf['systems']['script']['preloading']=!(0x1*-0x119d+0x2018+-0xe7b);const _0x12f26a=_0x2a1704['open'](_0x125482,_0x3ac67b),_0x4c7f6e=this['findByUrl'](_0x125482);_0x4c7f6e&&!_0x4c7f6e['loaded']&&(_0x4c7f6e['data']=_0x3ac67b),_0x188bf['systems']['script']['preloading']=!(0x20b4+0xf5b+-0x300e),_0x188bf['loader']['clearCache'](_0x125482,'scene'),_0x188bf['loader']['patch']({'resource':_0x12f26a,'type':'scene'},_0x188bf['assets']),_0x188bf['root']['addChild'](_0x12f26a['root']),_0x188bf['systems']['rigidbody']&&typeof Ammo<'u'&&_0x188bf['systems']['rigidbody']['gravity']['set'](_0x12f26a['_gravity']['x'],_0x12f26a['_gravity']['y'],_0x12f26a['_gravity']['z']),_0x26eda4&&_0x26eda4(null,_0x12f26a);};_0x188bf['_preloadSc'+'ripts'](_0x3ac67b,_0x5ef953);}});}}class jC{constructor(_0x59c62f){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x59c62f['_shaderSta'+'ts'],this['vram']=_0x59c62f['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x43de28;return(_0x43de28=Ms()['lightmappe'+'r'])==null?void(-0x1b5+-0x5*-0x1a1+-0x670):_0x43de28['stats'];}get['batcher'](){const _0x530228=Ms()['_batcher'];return _0x530228?_0x530228['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x46001e){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0x860+0x15d*0xf+-0xc12)),h(this,'_inFrameUp'+'date',!(-0x15d9+0x2*0x358+-0xf2a*-0x1)),h(this,'_libraries'+'Loaded',!(-0x1c49+0x23*-0x10d+0x4111)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0xab*0x26+0x248d+-0xb2b)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0xcc7+0x7f+-0xd45)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x1543+0x17*0x183+-0xd82),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1*0xa6f+0x120a*0x1+-0x116*0x7),h(this,'maxDeltaTi'+'me',-0x2*-0x98c+-0xdea+0x66*-0xd+0.1),h(this,'frame',-0x143e+0x2ef+0x5c5*0x3),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0x4*-0x12e+-0x1*0x32f+-0x1*0x189)),h(this,'renderNext'+'Frame',!(0x1d1a+-0x1*-0x2ca+0x9*-0x38b)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x9c*0x37+0x1de2+-0x5*0xcae):hn['indexOf']('$'))<-0x1b4c*-0x1+0x2*0xb78+0xc8f*-0x4&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x46001e['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1509*0x1+-0x177b+0x197*0x1c));}['init'](_0x3d0d0a){const {assetPrefix:_0x5663e3,batchManager:_0x36ac0a,componentSystems:_0x481566,elementInput:_0x5e4418,gamepads:_0x38cdc8,graphicsDevice:_0x4dad17,keyboard:_0x52eb89,lightmapper:_0x260fcc,mouse:_0x47e024,resourceHandlers:_0x534861,scriptsOrder:_0x4a4171,scriptPrefix:_0x117a06,soundManager:_0x346488,touch:_0x2829a4,xr:_0x5d415c}=_0x3d0d0a;w['assert'](_0x4dad17,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x4dad17,Pe['get'](_0x4dad17,Fe)['add'](Z2),Pe['get'](_0x4dad17,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x4dad17),this['_soundMana'+'ger']=_0x346488,this['scene']=new Et(_0x4dad17),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x5663e3&&(this['assets']['prefix']=_0x5663e3),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x4a4171||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x5e4+-0xc7*0x7+0xb56),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x15561b=new du('default');_0x15561b['pushOpaque'](this['defaultLay'+'erWorld']),_0x15561b['pushOpaque'](this['defaultLay'+'erDepth']),_0x15561b['pushOpaque'](this['defaultLay'+'erSkybox']),_0x15561b['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x15561b['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x15561b['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x15561b['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x15561b,ia['createPlac'+'eholder'](_0x4dad17),this['renderer']=new fl(_0x4dad17),this['renderer']['scene']=this['scene'],_0x260fcc&&(this['lightmappe'+'r']=new _0x260fcc(_0x4dad17,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x36ac0a&&(this['_batcher']=new _0x36ac0a(_0x4dad17,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x52eb89||null,this['mouse']=_0x47e024||null,this['touch']=_0x2829a4||null,this['gamepads']=_0x38cdc8||null,_0x5e4418&&(this['elementInp'+'ut']=_0x5e4418,this['elementInp'+'ut']['app']=this),this['xr']=_0x5d415c?new _0x5d415c(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x117a06||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x534861['forEach'](_0x44f5e2=>{const _0x19bdd8=new _0x44f5e2(this);this['loader']['addHandler'](_0x19bdd8['handlerTyp'+'e'],_0x19bdd8);}),_0x481566['forEach'](_0x2a362d=>{this['systems']['add'](new _0x2a362d(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x1*-0xae5+0x2*0x821+-0x1*0x1b27)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xcdd*0x1+0x1836*0x1+0x42*-0x2c))):document['mozHidden']!==void(-0x2311+-0x1*0x2cf+0x25e0)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xd30+-0x12a8+-0x1*-0x1fd9))):document['msHidden']!==void(-0x19f2+-0x93f+0x1ad*0x15)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x20ed*-0x1+-0x1*0x270d+0x20b*0x3))):document['webkitHidd'+'en']!==void(0x2696+0x1d05*0x1+0x3*-0x1689)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x428+0x9d+0x4c4*-0x1)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x279f6a){return _0x279f6a?ea['_applicati'+'ons'][_0x279f6a]:Ms();}['_initDefau'+'ltMaterial'](){const _0x4b26fb=new Ut();_0x4b26fb['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x4b26fb);}['_initProgr'+'amLibrary'](){const _0x396806=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x396806);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x425d9b,_0x470452){ot['get'](_0x425d9b,(_0x4d3557,_0x35e741)=>{if(_0x4d3557){_0x470452(_0x4d3557);return;}const _0x461bef=_0x35e741['applicatio'+'n_properti'+'es'],_0x18157a=_0x35e741['scenes'],_0x4ac417=_0x35e741['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x461bef,_0x1a5cae=>{this['_parseScen'+'es'](_0x18157a),this['_parseAsse'+'ts'](_0x4ac417),_0x470452(_0x1a5cae||null);});});}['preload'](_0x147c44){this['fire']('preload:st'+'art');const _0x1573fe=this['assets']['list']({'preload':!(0xe59+-0xfc*0x3+-0xb65)});if(_0x1573fe['length']===0x2*0x10a4+0x52f+-0x1*0x2677){this['fire']('preload:en'+'d'),_0x147c44();return;}let _0x3f93f3=0x2*-0xe67+-0x1ad6+0x37a4;const _0xc59438=()=>{_0x3f93f3++,this['fire']('preload:pr'+'ogress',_0x3f93f3/_0x1573fe['length']),_0x3f93f3===_0x1573fe['length']&&(this['fire']('preload:en'+'d'),_0x147c44());};_0x1573fe['forEach'](_0x47d580=>{_0x47d580['loaded']?_0xc59438():(_0x47d580['once']('load',_0xc59438),_0x47d580['once']('error',_0xc59438),this['assets']['load'](_0x47d580));});}['_preloadSc'+'ripts'](_0x833f8c,_0x59b068){_0x59b068();}['_parseAppl'+'icationPro'+'perties'](_0x5acb04,_0x39b433){if(typeof _0x5acb04['maxAssetRe'+'tries']=='number'&&_0x5acb04['maxAssetRe'+'tries']>0x65a*-0x6+0x1*-0x92e+0x2f4a*0x1&&this['loader']['enableRetr'+'y'](_0x5acb04['maxAssetRe'+'tries']),_0x5acb04['useDeviceP'+'ixelRatio']||(_0x5acb04['useDeviceP'+'ixelRatio']=_0x5acb04['use_device'+'_pixel_rat'+'io']),_0x5acb04['resolution'+'Mode']||(_0x5acb04['resolution'+'Mode']=_0x5acb04['resolution'+'_mode']),_0x5acb04['fillMode']||(_0x5acb04['fillMode']=_0x5acb04['fill_mode']),this['_width']=_0x5acb04['width'],this['_height']=_0x5acb04['height'],_0x5acb04['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x5acb04['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x5acb04['fillMode'],this['_width'],this['_height']),_0x5acb04['layers']&&_0x5acb04['layerOrder']){const _0x41e488=new du('applicatio'+'n'),_0x25c5e7={};for(const _0x24ce37 in _0x5acb04['layers']){const _0x36cba4=_0x5acb04['layers'][_0x24ce37];_0x36cba4['id']=parseInt(_0x24ce37,-0x57d*0x5+-0xa5b+0x25d6),_0x36cba4['enabled']=_0x36cba4['id']!==ps,_0x25c5e7[_0x24ce37]=new Ot(_0x36cba4);}for(let _0xa6b64b=-0xd92*-0x1+0x1e63+-0x2bf5,_0x2deea6=_0x5acb04['layerOrder']['length'];_0xa6b64b<_0x2deea6;_0xa6b64b++){const _0x49a0bf=_0x5acb04['layerOrder'][_0xa6b64b],_0x4b8643=_0x25c5e7[_0x49a0bf['layer']];_0x4b8643&&(_0x49a0bf['transparen'+'t']?_0x41e488['pushTransp'+'arent'](_0x4b8643):_0x41e488['pushOpaque'](_0x4b8643),_0x41e488['subLayerEn'+'abled'][_0xa6b64b]=_0x49a0bf['enabled']);}this['scene']['layers']=_0x41e488;}if(_0x5acb04['batchGroup'+'s']){const _0x56084b=this['batcher'];if(_0x56084b)for(let _0x9ceb1e=0x137a+-0x1*-0x185a+-0x15ea*0x2,_0x3aa55c=_0x5acb04['batchGroup'+'s']['length'];_0x9ceb1e<_0x3aa55c;_0x9ceb1e++){const _0x18e6ab=_0x5acb04['batchGroup'+'s'][_0x9ceb1e];_0x56084b['addGroup'](_0x18e6ab['name'],_0x18e6ab['dynamic'],_0x18e6ab['maxAabbSiz'+'e'],_0x18e6ab['id'],_0x18e6ab['layers']);}}_0x5acb04['i18nAssets']&&(this['i18n']['assets']=_0x5acb04['i18nAssets']),this['_loadLibra'+'ries'](_0x5acb04['libraries'],_0x39b433);}['_loadLibra'+'ries'](_0x18dc39,_0x523714){const _0x57bebf=_0x18dc39['length'];let _0x256024=_0x57bebf;const _0x31c36d=/^https?:\/\//;if(_0x57bebf){const _0x15589b=(_0x50ab32,_0x576f0f)=>{_0x256024--,_0x50ab32?_0x523714(_0x50ab32):_0x256024===-0x6*-0x51e+-0x6*-0x149+0xcce*-0x3&&(this['onLibrarie'+'sLoaded'](),_0x523714(null));};for(let _0x7ac14f=-0x2*0xf97+0x4*-0x935+0x4402;_0x7ac14f<_0x57bebf;++_0x7ac14f){let _0x42a584=_0x18dc39[_0x7ac14f];!_0x31c36d['test'](_0x42a584['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x42a584=xe['join'](this['_scriptPre'+'fix'],_0x42a584)),this['loader']['load'](_0x42a584,'script',_0x15589b);}}else this['onLibrarie'+'sLoaded'](),_0x523714(null);}['_parseScen'+'es'](_0x179b84){if(_0x179b84){for(let _0x2fc02d=0xdc6+0x1*0x1849+-0x260f;_0x2fc02d<_0x179b84['length'];_0x2fc02d++)this['scenes']['add'](_0x179b84[_0x2fc02d]['name'],_0x179b84[_0x2fc02d]['url']);}}['_parseAsse'+'ts'](_0x1e7ad7){const _0x77152c=[],_0x16005f={},_0x5a5af8={};for(let _0x130c0d=-0x70+0x1*-0x1e11+-0x1*-0x1e81;_0x130c0d<this['scriptsOrd'+'er']['length'];_0x130c0d++){const _0x1faa2f=this['scriptsOrd'+'er'][_0x130c0d];_0x1e7ad7[_0x1faa2f]&&(_0x16005f[_0x1faa2f]=!(0x63d*-0x1+-0x240d+-0x2a4a*-0x1),_0x77152c['push'](_0x1e7ad7[_0x1faa2f]));}if(this['enableBund'+'les']){for(const _0x56cac6 in _0x1e7ad7)_0x1e7ad7[_0x56cac6]['type']==='bundle'&&(_0x5a5af8[_0x56cac6]=!(0xc*-0x4+-0x1091+0x10c1),_0x77152c['push'](_0x1e7ad7[_0x56cac6]));}for(const _0x23a37 in _0x1e7ad7)_0x16005f[_0x23a37]||_0x5a5af8[_0x23a37]||_0x77152c['push'](_0x1e7ad7[_0x23a37]);for(let _0x12deea=0x6ff+-0x1311*0x1+-0x3*-0x406;_0x12deea<_0x77152c['length'];_0x12deea++){const _0x152061=_0x77152c[_0x12deea],_0x52d4ad=new pe(_0x152061['name'],_0x152061['type'],_0x152061['file'],_0x152061['data']);if(_0x52d4ad['id']=parseInt(_0x152061['id'],-0x22d5+0x1*0x114b+0x1194),_0x52d4ad['preload']=_0x152061['preload']?_0x152061['preload']:!(-0xe8*0x1d+-0x13e4+0x2e2d),_0x52d4ad['loaded']=_0x152061['type']==='script'&&_0x152061['data']&&_0x152061['data']['loadingTyp'+'e']>-0x2d*0x6f+0xde9+0x59a,_0x52d4ad['tags']['add'](_0x152061['tags']),_0x152061['i18n']){for(const _0x2a5129 in _0x152061['i18n'])_0x52d4ad['addLocaliz'+'edAssetId'](_0x2a5129,_0x152061['i18n'][_0x2a5129]);}this['assets']['add'](_0x52d4ad);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x17*-0x11+0x18d7+-0x1750);}),this['frame']=-0x2493+-0x206b+0x44fe,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x18f515){this['controller']&&this['controller']['update'](_0x18f515),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3f457b){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3f457b),this['systems']['fire']('animationU'+'pdate',_0x3f457b),this['systems']['fire']('postUpdate',_0x3f457b),this['fire']('update',_0x3f457b),this['inputUpdat'+'e'](_0x3f457b),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0x33f+0x1db*0x11+-0x1c4c,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x1638c5){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1638c5),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1638c5),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x19c5e2,_0x4517e5,_0xda7cbd){const _0x189e3c=this['stats']['frame'];_0x189e3c['dt']=_0x4517e5,_0x189e3c['ms']=_0xda7cbd,_0x19c5e2>_0x189e3c['_timeToCou'+'ntFrames']?(_0x189e3c['fps']=_0x189e3c['_fpsAccum'],_0x189e3c['_fpsAccum']=0xb51*0x3+0x222+-0x2415,_0x189e3c['_timeToCou'+'ntFrames']=_0x19c5e2+(0x2687+-0x4*0x4ec+-0xeef)):_0x189e3c['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x2*-0x712+0xb1b*-0x1+-0x25*0x15;}['_fillFrame'+'Stats'](){let _0x47f378=this['stats']['frame'];_0x47f378['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x47f378['materials']=this['renderer']['_materialS'+'witches'],_0x47f378['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x47f378['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x47f378['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x47f378['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x47f378['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x496736=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x47f378['triangles']=_0x496736[js]/(-0x2232+0x24de*-0x1+-0x3*-0x17b1)+Math['max'](_0x496736[Er]-(-0x242*0xa+0x6*-0x2a1+-0x265c*-0x1),-0xd41+0x1d19+-0x6*0x2a4)+Math['max'](_0x496736[oa]-(0x26b1+-0xbf+-0x25f0),0x335*-0x2+-0x12aa*0x1+-0x1e*-0xd6),_0x47f378['cullTime']=this['renderer']['_cullTime'],_0x47f378['sortTime']=this['renderer']['_sortTime'],_0x47f378['skinTime']=this['renderer']['_skinTime'],_0x47f378['morphTime']=this['renderer']['_morphTime'],_0x47f378['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x47f378['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x47f378['otherPrimi'+'tives']=-0x1*-0x11cb+0x1910+0x1*-0x2adb;for(let _0x5eb884=-0x2*-0xac1+-0x833+-0xd4f;_0x5eb884<_0x496736['length'];_0x5eb884++)_0x5eb884<js&&(_0x47f378['otherPrimi'+'tives']+=_0x496736[_0x5eb884]),_0x496736[_0x5eb884]=0xb03*0x3+0x12cd*0x1+-0x33d6;this['renderer']['_camerasRe'+'ndered']=-0x1063+0x1897+-0x834,this['renderer']['_materialS'+'witches']=-0x1*0xc4d+0xcc7*0x3+0x44*-0x62,this['renderer']['_shadowMap'+'Updates']=0x609*-0x5+0x1baf+0xb*0x3a,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1820+-0xf2d+0x274d*0x1,this['renderer']['_cullTime']=-0x1*-0x379+-0x10d7+0x3a*0x3b,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x16ad+0x49f+0x120e,this['renderer']['_lightClus'+'tersTime']=-0x1ef7*0x1+0x21c*0x3+-0x11*-0x173,this['renderer']['_sortTime']=0x246a+-0x3*0xc71+0xe9,this['renderer']['_skinTime']=0x2c*-0x83+-0x2*0x691+-0x152*-0x1b,this['renderer']['_morphTime']=0x9cf+-0x16de*-0x1+-0x20ad,this['renderer']['_shadowMap'+'Time']=-0x191*-0x4+0x6*-0x2ec+0x2*0x5a2,this['renderer']['_depthMapT'+'ime']=0x2*0xd07+-0x4f*0x5e+0x2f4*0x1,this['renderer']['_forwardTi'+'me']=-0x3*0xb91+0x277+0x203c,_0x47f378=this['stats']['drawCalls'],_0x47f378['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x47f378['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x47f378['depth']=0x1*-0x1556+0x1fa5+0xa4f*-0x1,_0x47f378['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x47f378['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x47f378['immediate']=-0x12*-0x7+-0x14a8*0x1+0x142a,_0x47f378['instanced']=-0xa6f+0x2f*-0x17+0x86*0x1c,_0x47f378['removedByI'+'nstancing']=0x21da+0x25a7+0xa37*-0x7,_0x47f378['misc']=_0x47f378['total']-(_0x47f378['forward']+_0x47f378['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x455*0x7+0xa94+0x13bf,this['renderer']['_shadowDra'+'wCalls']=-0x2504+-0x2fb+-0x1*-0x27ff,this['renderer']['_forwardDr'+'awCalls']=0x57*0x57+0x23d5+-0x4166,this['renderer']['_numDrawCa'+'llsCulled']=-0xabd*0x1+-0x4d0+0xf8d,this['renderer']['_skinDrawC'+'alls']=-0x1d66+0x1*0xf22+0x1*0xe44,this['renderer']['_immediate'+'Rendered']=-0x362+-0x3*-0xa85+-0x1c2d,this['renderer']['_instanced'+'DrawCalls']=-0x9ab+-0x1d36*-0x1+-0x138b,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x47f378=this['stats']['particles'],_0x47f378['updatesPer'+'Frame']=_0x47f378['_updatesPe'+'rFrame'],_0x47f378['frameTime']=_0x47f378['_frameTime'],_0x47f378['_updatesPe'+'rFrame']=-0x1b77+0x1541+0x5*0x13e,_0x47f378['_frameTime']=-0x1029+0xc90+0x399;}['setCanvasF'+'illMode'](_0x495aac,_0x1fe78f,_0x2a4387){this['_fillMode']=_0x495aac,this['resizeCanv'+'as'](_0x1fe78f,_0x2a4387);}['setCanvasR'+'esolution'](_0x552ae8,_0x4183ad,_0x5da546){this['_resolutio'+'nMode']=_0x552ae8,_0x552ae8===wg&&_0x4183ad===void(0x1557+0x3d7*-0xa+0x110f*0x1)&&(_0x4183ad=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x5da546=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4183ad,_0x5da546);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x3d7635,_0x126803){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x5f0e0e=window['innerWidth'],_0x55dbc5=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0xe374dc=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x175478=_0x5f0e0e/_0x55dbc5;_0xe374dc>_0x175478?(_0x3d7635=_0x5f0e0e,_0x126803=_0x3d7635/_0xe374dc):(_0x126803=_0x55dbc5,_0x3d7635=_0x126803*_0xe374dc);}else this['_fillMode']===PC&&(_0x3d7635=_0x5f0e0e,_0x126803=_0x55dbc5);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x3d7635+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x126803+'px',this['updateCanv'+'asSize'](),{'width':_0x3d7635,'height':_0x126803};}['updateCanv'+'asSize'](){var _0x3dea3f;if(!(!this['_allowResi'+'ze']||(_0x3dea3f=this['xr'])!=null&&_0x3dea3f['active'])&&this['_resolutio'+'nMode']===wg){const _0x3bd38d=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3bd38d['clientWidt'+'h'],_0x3bd38d['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x45d+0x1*0x3a9+-0x806),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x5a644f){let _0x5c989f;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3b6e32,_0x574e73,_0x24ce11]=_0x5a644f['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3b6e32,_0x574e73,_0x24ce11);}this['scene']['applySetti'+'ngs'](_0x5a644f),_0x5a644f['render']['hasOwnProp'+'erty']('skybox')&&(_0x5a644f['render']['skybox']?(_0x5c989f=this['assets']['get'](_0x5a644f['render']['skybox']),_0x5c989f?this['setSkybox'](_0x5c989f):this['assets']['once']('add:'+_0x5a644f['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x459df3,_0x129298){_0x459df3&&_0x129298?ia['set'](this['graphicsDe'+'vice'],_0x459df3,_0x129298):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x322d31){if(_0x322d31!==this['_skyboxAss'+'et']){const _0x242be1=()=>{this['setSkybox'](null);},_0x38a3b3=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x38a3b3,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x242be1,this),this['_skyboxAss'+'et']['off']('change',_0x38a3b3,this)),this['_skyboxAss'+'et']=_0x322d31,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x38a3b3,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x242be1,this),this['_skyboxAss'+'et']['on']('change',_0x38a3b3,this),this['scene']['skyboxMip']===-0x1189+-0xc*-0x18+0x1*0x1069&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x1216+0x477+-0xd9f*-0x1)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x38a3b3();}}['_firstBake'](){var _0x883813;(_0x883813=this['lightmappe'+'r'])==null||_0x883813['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x37c6aa;(_0x37c6aa=this['batcher'])==null||_0x37c6aa['generate']();}['_processTi'+'mestamp'](_0x4398a0){return _0x4398a0;}['drawLine'](_0x5dd4b5,_0x516fd8,_0x44033b,_0x582ec0,_0x52a10c){this['scene']['drawLine'](_0x5dd4b5,_0x516fd8,_0x44033b,_0x582ec0,_0x52a10c);}['drawLines'](_0x1582dc,_0x16d720,_0x335192=!(0x1170+0xae0+-0x1c50),_0x6983be=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1582dc,_0x16d720,_0x335192,_0x6983be);}['drawLineAr'+'rays'](_0x4e21bb,_0x51f737,_0x14a5f9=!(0x29*0x5e+0x1*0x2f2+-0x1200),_0x59d1a5=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x4e21bb,_0x51f737,_0x14a5f9,_0x59d1a5);}['drawWireSp'+'here'](_0x305066,_0xd02302,_0x597e2e=ie['WHITE'],_0x140381=0x310+-0x1f3b+0x1c3f,_0xf057d2=!(0x243e+0x9e*0x12+-0x2f5a),_0x325e94=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x305066,_0xd02302,_0x597e2e,_0x140381,_0xf057d2,_0x325e94);}['drawWireAl'+'ignedBox'](_0x29c4c8,_0x370462,_0x13e1ca=ie['WHITE'],_0x4a427d=!(-0x74*0xb+-0x57*-0x5f+-0xf1*0x1d),_0x27967b=this['scene']['defaultDra'+'wLayer'],_0x41dde0){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x29c4c8,_0x370462,_0x13e1ca,_0x4a427d,_0x27967b,_0x41dde0);}['drawMeshIn'+'stance'](_0x2bcf14,_0x522d97=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x2bcf14,_0x522d97);}['drawMesh'](_0x3e26fd,_0x283b36,_0x184f02,_0x587f7a=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x283b36,_0x184f02,_0x3e26fd,null,_0x587f7a);}['drawQuad'](_0x50ee73,_0x47c290,_0x1c7f64=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x47c290,_0x50ee73,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x1c7f64);}['drawTextur'+'e'](_0x4d3598,_0x400ef1,_0x38d6ed,_0x504a85,_0x2bb21d,_0x54b69a,_0x93827a=this['scene']['defaultDra'+'wLayer'],_0x48e339=!(0x20e5+0x3e4+-0x24c9)){if(_0x48e339===!(-0x1c*0x7b+0x1*-0xc95+-0x12f*-0x16)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x3b8dda=new te();_0x3b8dda['setTRS'](new D(_0x4d3598,_0x400ef1,0x11af+0x1cc8*-0x1+0xb19),le['IDENTITY'],new D(_0x38d6ed,-_0x504a85,0x156f+-0x1f75*0x1+-0xa06*-0x1)),_0x54b69a||(_0x54b69a=new Xn(),_0x54b69a['cull']=bt,_0x54b69a['setParamet'+'er']('colorMap',_0x2bb21d),_0x54b69a['shaderDesc']=_0x48e339?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x2bb21d['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x54b69a['update']()),this['drawQuad'](_0x3b8dda,_0x54b69a,_0x93827a);}['drawDepthT'+'exture'](_0x3ffad6,_0x4d6d3f,_0x1d0069,_0x5b5886,_0x5288df=this['scene']['defaultDra'+'wLayer']){const _0x107f26=new Xn();_0x107f26['cull']=bt,_0x107f26['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x107f26['update'](),this['drawTextur'+'e'](_0x3ffad6,_0x4d6d3f,_0x1d0069,_0x5b5886,null,_0x107f26,_0x5288df);}['destroy'](){var _0x24bd89,_0x34fce3,_0x3126af,_0x2c059d;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1800+-0x12c6+-0x53a);return;}const _0x5a43ec=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x21ca+-0x9bb*0x3+-0x126*0x4)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d65+-0x243+-0x1b21)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0xd2e+-0x2*0x1326+0x337b)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xd04*-0x2+-0x20d*0xc+0x79*-0x3))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x5df255=this['assets']['list']();for(let _0x539334=-0x1*0x175+0x2135+-0x1fc0;_0x539334<_0x5df255['length'];_0x539334++)_0x5df255[_0x539334]['unload'](),_0x5df255[_0x539334]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x584f9c=this['loader']['getHandler']('script');_0x584f9c==null||_0x584f9c['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x24bd89=this['lightmappe'+'r'])==null||_0x24bd89['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x34fce3=this['xr'])==null||_0x34fce3['end'](),(_0x3126af=this['xr'])==null||_0x3126af['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x2c059d=this['_soundMana'+'ger'])==null||_0x2c059d['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x5a43ec]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x28ab48){_0x28ab48['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x28ab48['frameReque'+'stId']),_0x28ab48['frameReque'+'stId']=void(0x42+-0x18fe+0x1*0x18bc));}['getEntityF'+'romIndex'](_0x9dc574){return this['_entityInd'+'ex'][_0x9dc574];}['_registerS'+'ceneImmedi'+'ate'](_0x1c8611){this['on']('postrender',_0x1c8611['immediate']['onPostRend'+'er'],_0x1c8611['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x1742b3){const _0x4c7601=_0x1742b3;return function(_0x11230a,_0x522346){var _0x26c342,_0x5798bb,_0x989b83,_0x336471;if(!_0x4c7601['graphicsDe'+'vice'])return;_0x4c7601['frameReque'+'stId']&&((_0x5798bb=(_0x26c342=_0x4c7601['xr'])==null?void(-0x29*-0x25+-0x12fe+0x5*0x29d):_0x26c342['session'])==null||_0x5798bb['cancelAnim'+'ationFrame'](_0x4c7601['frameReque'+'stId']),cancelAnimationFrame(_0x4c7601['frameReque'+'stId']),_0x4c7601['frameReque'+'stId']=null),_0x4c7601['_inFrameUp'+'date']=!(-0x222+0x11*-0x28+0x4ca),_u(_0x4c7601);const _0x5cf1a7=_0x4c7601['_processTi'+'mestamp'](_0x11230a)||de(),_0x3da499=_0x5cf1a7-(_0x4c7601['_time']||_0x5cf1a7);let _0x210b69=_0x3da499/(0xf*-0x1b7+-0x225f+0x4000);if(_0x210b69=Y['clamp'](_0x210b69,-0x131f*0x1+0x3*0x78b+-0x382,_0x4c7601['maxDeltaTi'+'me']),_0x210b69*=_0x4c7601['timeScale'],_0x4c7601['_time']=_0x5cf1a7,(_0x989b83=_0x4c7601['xr'])!=null&&_0x989b83['session']?_0x4c7601['frameReque'+'stId']=_0x4c7601['xr']['session']['requestAni'+'mationFram'+'e'](_0x4c7601['tick']):_0x4c7601['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x4c7601['tick']):null,_0x4c7601['graphicsDe'+'vice']['contextLos'+'t'])return;_0x4c7601['_fillFrame'+'StatsBasic'](_0x5cf1a7,_0x210b69,_0x3da499),_0x4c7601['_fillFrame'+'Stats'](),_0x4c7601['fire']('frameupdat'+'e',_0x3da499);let _0x41b607=!(-0x1fa7+0x1aa+-0x15d*-0x16);_0x522346?(_0x41b607=!((_0x336471=_0x4c7601['xr'])!=null&&_0x336471['update'](_0x522346)),_0x4c7601['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x522346['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x4c7601['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x41b607&&!_0x4c7601['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x4c7601['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x3ac+0x1*-0x1726+0x137c)+'ms'),_0x4c7601['update'](_0x210b69),_0x4c7601['fire']('framerende'+'r'),(_0x4c7601['autoRender']||_0x4c7601['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x92*-0x41+0x1e25+-0x4335)+'ms'),_0x4c7601['render'](),_0x4c7601['renderNext'+'Frame']=!(-0x55c*-0x1+0x2069+-0x25c4),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0x95+-0xd5d+0xdf4)+'ms')),_0x4c7601['fire']('frameend')),_0x4c7601['_inFrameUp'+'date']=!(0x3*-0x6df+0x2402+-0xf64),_0x4c7601['_destroyRe'+'quested']&&_0x4c7601['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x19330a,_0x5e5a76,_0x527344){this['scene']=_0x19330a,this['light']=_0x5e5a76,this['store'](),_0x5e5a76['numCascade'+'s']=0x1*-0x23f3+0x1*-0x246a+0x485e,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x527344['shadowsEna'+'bled']&&(_0x5e5a76['castShadow'+'s']=!(-0x3*-0xa13+-0x3*-0x749+-0x1*0x3413)),_0x5e5a76['type']!==ve&&(_0x5e5a76['_node']['getWorldTr'+'ansform'](),_0x5e5a76['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x311e0f=this['light'];_0x311e0f['mask']=this['mask'],_0x311e0f['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x311e0f['enabled']=this['enabled'],_0x311e0f['intensity']=this['intensity'],_0x311e0f['_node']['setLocalRo'+'tation'](this['rotation']),_0x311e0f['numCascade'+'s']=this['numCascade'+'s'],_0x311e0f['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x685*0x3+0x1e36+-0x1*0xaa7),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x1c3aa1){const _0x5ccb31=this['light'];_0x5ccb31['enabled']=!(0x2699+0x1*-0x17a5+-0xef3),_0x5ccb31['shadowMap']&&(_0x5ccb31['shadowMap']['cached']&&_0x1c3aa1['add'](_0x5ccb31,_0x5ccb31['shadowMap']),_0x5ccb31['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x390a21,_0x3df1a7){super(_0x390a21['scene'],_0x3df1a7,_0x390a21['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:0x264d+0x1*-0x16e5+-0xf67;}['prepareVir'+'tualLight'](_0x585a4f,_0x85576a){const _0x3997a9=this['light'];if(_0x3997a9['_node']['setLocalRo'+'tation'](this['rotation']),_0x585a4f>0x2287*0x1+0x22*0x101+-0x44a9){const _0x94bdbc=_0x3997a9['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x585a4f,_0x85576a),yc['mulScalar'](_0x94bdbc*(-0x2a8+-0x2414+0x26bc+0.5)),_0x3997a9['_node']['rotateLoca'+'l'](yc['x'],0x1*0x6e1+-0x553*0x2+0x3c5,yc['y']);}_0x3997a9['_node']['getWorldTr'+'ansform']();const _0x46380a=-0x62a+0x172*-0x18+0x28dc+0.20000000000000018,_0x5de66c=Math['pow'](this['intensity'],_0x46380a);_0x3997a9['intensity']=Math['pow'](_0x5de66c/_0x85576a,(-0x1*-0x1733+0x1d97+0x34c9*-0x1)/_0x46380a);}}const Pg=new D();class Mg extends Uv{constructor(_0x1ef901){const _0x20ddda=_0x1ef901['scene'],_0xe99d14=new lt('AmbientLig'+'ht');_0xe99d14['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1113+-0x20a6+0xf93),'affectLightmapped':!(0xeb7+0x14f5+0x1*-0x23ab),'bake':!(-0x104d+0x207f+-0x1032),'bakeNumSamples':_0x20ddda['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x81a+0x13d*0x8+0x3*-0x9a),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x10e8+0x1be6*0x1+-0x2ccd*0x1)}),super(_0x20ddda,_0xe99d14['light']['light'],_0x1ef901['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x3cd45b,_0xd581c0){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x3cd45b,_0xd581c0,0xdea+0x397*-0x8+0xece,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x2d6*-0xb+0x1aa0+-0x39d1))),this['light']['_node']['rotateLoca'+'l'](-0x1*0x229+-0x192e+-0x1bb1*-0x1,-0x1958*-0x1+0x2416+-0x3d6e,-0x232+0x4*-0x945+-0x1*-0x2746);const _0x89cea1=-0xe5b+-0x1f3c+0x2d99+0.20000000000000018,_0x2d16fc=(-0x376*0x8+0x1e50+-0x29e)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x562d13=Math['pow'](_0x2d16fc,_0x89cea1);this['light']['intensity']=Math['pow'](_0x562d13/_0xd581c0,(-0x67*-0x53+-0x1*0x1219+-0xf4b)/_0x89cea1);}}class vc{constructor(_0x24154d,_0x3cc44b=null){this['node']=_0x24154d,this['component']=_0x24154d['render']||_0x24154d['model'],_0x3cc44b=_0x3cc44b||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x3cc44b,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x34f*0x9+-0xd*-0x179+-0x17*-0x77,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x58cf25){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x58cf25,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x58cf25['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x58cf25['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x2009*0x1+0x22e2+0x2d7*-0x1),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x1f7440){this['constantTe'+'xSource']['setValue'](_0x1f7440);}['prepare'](_0x31715c,_0x1ba2f1){this['pixelOffse'+'t'][-0x309*-0x1+-0x2542+0x2239]=(0xcb1+-0x79+-0x1*0xc37)/_0x31715c,this['pixelOffse'+'t'][0x2*-0x616+-0x2c8+-0x7*-0x223]=(0x27e+0x1311*-0x2+0x23a5)/_0x1ba2f1,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0xb756c1,_0x58badf,_0x3a46da){const _0x28f06d=_0x3a46da?-0x25c9+0x67*-0xb+0x2a36:-0x1765+-0x26a0+0x2*0x1f03;if(!this['shaderDeno'+'ise'][_0x28f06d]){const _0x2605ad=new Map();_0x2605ad['set']('{MSIZE}',0x8bf+0x389+-0xc39),_0x3a46da&&_0x2605ad['set']('HDR',''),this['shaderDeno'+'ise'][_0x28f06d]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x3a46da?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x2605ad}),this['sigmas']=new Float32Array(-0x8b5+0x1de7+-0x1530),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1c92+-0x1a41+-0x191*-0x23]=_0xb756c1,this['sigmas'][-0x2*0x4eb+-0x1*0x449+0xe20]=_0x58badf,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0xb756c1,_0x58badf);}['getDenoise'](_0x144a11){const _0xa0c039=_0x144a11?-0x163b*-0x1+-0x281*0x1+-0x1*0x13ba:-0x96b*0x3+-0x8ea+0x252c;return this['shaderDeno'+'ise'][_0xa0c039];}['getDilate'](_0x239cca,_0x594c32){const _0x4dc225=_0x594c32?-0xf7*0x2+-0x1*0x1a61+0x1c4f:-0x2700+0x1*-0x13c3+0x2*0x1d62;if(!this['shaderDila'+'te'][_0x4dc225]){const _0x52a142=_0x594c32?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x4dc225]=$t['createShad'+'er'](_0x239cca,{'uniqueName':'lmDilate-'+(_0x594c32?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x52a142+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x52a142+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x4dc225];}['evaluateDe'+'noiseUnifo'+'rms'](_0x149bc8,_0x3a3233){function _0x37ae25(_0xae6122,_0x1aec03){return(-0x112f+-0x1*0x1e04+-0x119*-0x2b+0.39894)*Math['exp'](-(0x1661+0x5*-0x421+-0x1bc+0.5)*_0xae6122*_0xae6122/(_0x1aec03*_0x1aec03))/_0x1aec03;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x53c1ba=this['kernel'],_0x4aea84=Math['floor']((Dg-(0x1*0x1537+-0x16f1+0x1bb))/(-0xb71+0x2237*-0x1+0x2daa));for(let _0x2274ef=0x3*-0x4e5+-0x4*0x9a9+0xb*0x4d9;_0x2274ef<=_0x4aea84;++_0x2274ef){const _0x1be0a7=_0x37ae25(_0x2274ef,_0x149bc8);_0x53c1ba[_0x4aea84+_0x2274ef]=_0x1be0a7,_0x53c1ba[_0x4aea84-_0x2274ef]=_0x1be0a7;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x3aeb15=(-0x247*-0x2+0x4f*0x2+-0x52b)/_0x37ae25(0x2550+-0xe*-0xce+-0x3094,_0x3a3233);this['bZnorm']['setValue'](_0x3aeb15);}}class hL extends ys{constructor(_0x2c23ad,_0x4caef1,_0x3ee85d,_0x213c5d,_0x492684,_0x56417f){super(_0x2c23ad),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x4caef1,this['camera']=_0x3ee85d,this['worldClust'+'ers']=_0x213c5d,this['receivers']=_0x492684,this['lightArray']=_0x56417f);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3a4589=>{_0x3a4589['defaultUni'+'formBuffer']['destroy'](),_0x3a4589['destroy']();}),this['viewBindGr'+'oups']['length']=0x193*-0xd+-0x889*0x2+0x3*0xc83;}['execute'](){const _0x324f47=this['device'];Q['pushGpuMar'+'ker'](_0x324f47,'Lightmappe'+'r');const {renderer:_0x5c4f93,camera:_0x57034f,receivers:_0x48517a,renderTarget:_0xcf7d7a,worldClusters:_0x50d77e,lightArray:_0xc190f9}=this;_0x5c4f93['renderForw'+'ardLayer'](_0x57034f,_0xcf7d7a,null,void(-0x1263*-0x1+-0xa*0x12e+-0x7*0xf1),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x48517a,'splitLights':_0xc190f9,'lightClusters':_0x50d77e}),Q['popGpuMark'+'er'](_0x324f47);}}const dL=0x1b91+0x1*0x5d3+-0x1a*0xfa,fL=0x1b6+-0x1*-0x1357+0x13d*-0x11,uL=0x1b41+0x1a5e+-0x359e,xc=new D();class pL{constructor(_0x53a5a5,_0x204ece,_0x6815ed,_0x4956b3,_0x59576a){this['device']=_0x53a5a5,this['root']=_0x204ece,this['scene']=_0x6815ed,this['renderer']=_0x4956b3,this['assets']=_0x59576a,this['shadowMapC'+'ache']=_0x4956b3['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0xc51*0x3+-0x1945+-0xbad),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3fe3c8;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3fe3c8=this['camera'])==null||_0x3fe3c8['destroy'](),this['camera']=null;}['initBake'](_0x176542){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0xa1f*-0x3+0x1603+-0x3460*0x1),this['lightmapFi'+'lters']=new cL(_0x176542),this['constantBa'+'keDir']=_0x176542['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x288cb9=new Fl();_0x288cb9['clearColor']['set'](-0xe*-0x18d+-0x1*0x2591+0xfdb,-0x1ce4+-0xc21+0x2905,-0x1999*0x1+-0xab3+0x244c,0x1233+-0x889*-0x1+-0x1abc),_0x288cb9['clearColor'+'Buffer']=!(0xc5f+0x1*-0x5cf+0xa8*-0xa),_0x288cb9['clearDepth'+'Buffer']=!(-0x4d1*0x3+0x1*-0xc58+-0xe*-0x1ea),_0x288cb9['clearStenc'+'ilBuffer']=!(-0x1*-0x16d3+0xc1+0x47*-0x55),_0x288cb9['frustumCul'+'ling']=!(0x16b*-0x1+0x1671+-0x1505),_0x288cb9['projection']=En,_0x288cb9['aspectRati'+'o']=0x6*-0x5c6+-0x2053+-0x42f8*-0x1,_0x288cb9['node']=new Ie(),this['camera']=_0x288cb9,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x2abb4e=new Mv(_0x176542['supportsAr'+'eaLights'],_0x176542['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x2abb4e;const _0x3dde77=this['scene']['lighting'];_0x2abb4e['shadowsEna'+'bled']=_0x3dde77['shadowsEna'+'bled'],_0x2abb4e['shadowAtla'+'sResolutio'+'n']=_0x3dde77['shadowAtla'+'sResolutio'+'n'],_0x2abb4e['cookiesEna'+'bled']=_0x3dde77['cookiesEna'+'bled'],_0x2abb4e['cookieAtla'+'sResolutio'+'n']=_0x3dde77['cookieAtla'+'sResolutio'+'n'],_0x2abb4e['areaLights'+'Enabled']=_0x3dde77['areaLights'+'Enabled'],_0x2abb4e['cells']=new D(0xf4*-0x1d+-0x109*0x13+0xfc6*0x3,-0x1*0x1cdb+-0x5*-0x186+0x1540,-0x7f7*-0x1+-0xaab*0x2+0xd62),_0x2abb4e['maxLightsP'+'erCell']=-0x1*-0x6fb+0x18a9+0x2c*-0xb8,this['worldClust'+'ers']=new cu(_0x176542),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3f28b9){this['materials']=[];function _0x3407fd(_0x1b46ff){zi['decRef'](_0x1b46ff['colorBuffe'+'r']),_0x1b46ff['destroy']();}this['renderTarg'+'ets']['forEach'](_0x4381e4=>{_0x3407fd(_0x4381e4);}),this['renderTarg'+'ets']['clear'](),_0x3f28b9['forEach'](_0x3f4b0b=>{_0x3f4b0b['renderTarg'+'ets']['forEach'](_0x3eecad=>{_0x3407fd(_0x3eecad);}),_0x3f4b0b['renderTarg'+'ets']['length']=0x257+0x980+-0x1*0xbd7;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x233041,_0x5b3e69,_0x1e02bf){const _0x1a7876=new Ut();return _0x1a7876['name']='lmMaterial'+'-pass:'+_0x5b3e69+'-ambient:'+_0x1e02bf,_0x1a7876['setDefine']('UV1LAYOUT',''),_0x1a7876['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x5b3e69===fL?(_0x1a7876['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x1e02bf?_0x1a7876['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x1a7876['ambient']=new ie(0x969+0x1446+-0x95*0x33,-0x13b*-0x4+-0x1053+0xb67,0x42c*0x1+-0x66d*-0x5+-0x244d*0x1),this['bakeHDR']||_0x1a7876['setDefine']('LIGHTMAP_R'+'GBM',''),_0x1a7876['lightMap']=this['blackTex']):(_0x1a7876['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x1a7876['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x1a7876['cull']=bt,_0x1a7876['forceUv1']=!(-0x22c4+0x2*-0x266+0x6*0x698),_0x1a7876['update'](),_0x1a7876;}['createMate'+'rials'](_0x39338c,_0x59d832,_0x405c38){for(let _0x58b46f=0x2023+-0x5*-0x472+0x365d*-0x1;_0x58b46f<_0x405c38;_0x58b46f++)this['passMateri'+'als'][_0x58b46f]||(this['passMateri'+'als'][_0x58b46f]=this['createMate'+'rialForPas'+'s'](_0x59d832,_0x58b46f,!(-0x3ef*-0x1+-0x1da0+0x19b2)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x59d832,0x1f09+-0x2*-0xae7+-0x1b*0x1f5,!(-0x1dd8+-0x1cc*0x12+-0x5*-0xc70)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x5cb455){return _0x5cb455['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x6*-0x2a2+-0x6*0x93+-0x66a*-0x3),_0x5cb455['litOptions']['separateAm'+'bient']=!(-0x3c5+0x1a03+-0x163e),_0x5cb455;});}['createText'+'ure'](_0x55f5ac,_0x1af928){return new _e(this['device'],{'profilerHint':vy,'width':_0x55f5ac,'height':_0x55f5ac,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x1abc+0x1*-0x170d+0x31ca),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x1af928});}['collectMod'+'els'](_0x1a5fd4,_0x496048,_0x2b7189){var _0x414ff0,_0x1871b9,_0x153993;if(!_0x1a5fd4['enabled'])return;let _0x2673a8;if((_0x414ff0=_0x1a5fd4['model'])!=null&&_0x414ff0['model']&&((_0x1871b9=_0x1a5fd4['model'])!=null&&_0x1871b9['enabled'])&&(_0x2b7189&&_0x2b7189['push'](new vc(_0x1a5fd4)),_0x1a5fd4['model']['lightmappe'+'d']&&_0x496048&&(_0x2673a8=_0x1a5fd4['model']['model']['meshInstan'+'ces'])),(_0x153993=_0x1a5fd4['render'])!=null&&_0x153993['enabled']&&(_0x2b7189&&_0x2b7189['push'](new vc(_0x1a5fd4)),_0x1a5fd4['render']['lightmappe'+'d']&&_0x496048&&(_0x2673a8=_0x1a5fd4['render']['meshInstan'+'ces'])),_0x2673a8){let _0x2a94cb=!(0x178c+-0x6*0x5fe+0x18d*0x8);for(let _0x33c198=0x1b*-0x105+-0xda*0x2b+0x4025;_0x33c198<_0x2673a8['length'];_0x33c198++)if(!_0x2673a8[_0x33c198]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x1a5fd4['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x2a94cb=!(-0x1*-0x92a+-0x943+0x1a);break;}if(_0x2a94cb){const _0x18aec2=[];for(let _0x40bedb=-0xa9d+-0x11*0x165+0x17e*0x17;_0x40bedb<_0x2673a8['length'];_0x40bedb++){const _0x359c16=_0x2673a8[_0x40bedb]['mesh'];this['_tempSet']['has'](_0x359c16)?_0x496048['push'](new vc(_0x1a5fd4,[_0x2673a8[_0x40bedb]])):_0x18aec2['push'](_0x2673a8[_0x40bedb]),this['_tempSet']['add'](_0x359c16);}this['_tempSet']['clear'](),_0x18aec2['length']>-0x1c56+0x23e7+-0x791&&_0x496048['push'](new vc(_0x1a5fd4,_0x18aec2));}}for(let _0x5a98eb=-0x1670+-0x2a2*-0xa+-0x3e4;_0x5a98eb<_0x1a5fd4['_children']['length'];_0x5a98eb++)this['collectMod'+'els'](_0x1a5fd4['_children'][_0x5a98eb],_0x496048,_0x2b7189);}['prepareSha'+'dowCasters'](_0x22f38c){const _0x285ace=[];for(let _0x3de835=0x19e6+0xaf4*0x2+0x1a6*-0x1d;_0x3de835<_0x22f38c['length'];_0x3de835++){const _0x19deb3=_0x22f38c[_0x3de835]['component'];if(_0x19deb3['castShadow'+'s']=_0x19deb3['castShadow'+'sLightmap'],_0x19deb3['castShadow'+'sLightmap']){const _0x2e3382=_0x22f38c[_0x3de835]['meshInstan'+'ces'];for(let _0x5a12cb=-0x1fb5+0x30a+0x1cab;_0x5a12cb<_0x2e3382['length'];_0x5a12cb++)_0x2e3382[_0x5a12cb]['visibleThi'+'sFrame']=!(0x17a9*-0x1+0x1d68*0x1+0x5bf*-0x1),_0x285ace['push'](_0x2e3382[_0x5a12cb]);}}return _0x285ace;}['updateTran'+'sforms'](_0x35a4cd){for(let _0x1f1664=-0x1e0*0xb+-0x77*-0xb+0xf83;_0x1f1664<_0x35a4cd['length'];_0x1f1664++){const _0x9bbee3=_0x35a4cd[_0x1f1664]['meshInstan'+'ces'];for(let _0x445c2e=-0xaf4+0x579+-0x57b*-0x1;_0x445c2e<_0x9bbee3['length'];_0x445c2e++)_0x9bbee3[_0x445c2e]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x42ad5f){let _0x16a4dc;const _0x9ffe29=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x2083+-0xa26+-0x1*-0x2ab9,_0x152e60=xc;let _0x270e87,_0x5e74a7;_0x42ad5f['model']?(_0x5e74a7=_0x42ad5f['model']['lightmapSi'+'zeMultipli'+'er'],_0x42ad5f['model']['asset']?(_0x16a4dc=this['assets']['get'](_0x42ad5f['model']['asset'])['data'],_0x16a4dc['area']&&(_0x270e87=_0x16a4dc['area'])):_0x42ad5f['model']['_area']&&(_0x16a4dc=_0x42ad5f['model'],_0x16a4dc['_area']&&(_0x270e87=_0x16a4dc['_area']))):_0x42ad5f['render']&&(_0x5e74a7=_0x42ad5f['render']['lightmapSi'+'zeMultipli'+'er'],_0x42ad5f['render']['type']!=='asset'&&_0x42ad5f['render']['_area']&&(_0x16a4dc=_0x42ad5f['render'],_0x16a4dc['_area']&&(_0x270e87=_0x16a4dc['_area'])));const _0x3deab4={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x270e87&&(_0x3deab4['x']=_0x270e87['x'],_0x3deab4['y']=_0x270e87['y'],_0x3deab4['z']=_0x270e87['z'],_0x3deab4['uv']=_0x270e87['uv']);const _0x18570d=_0x5e74a7||-0x567*0x3+-0x131f+0x2355;_0x3deab4['x']*=_0x18570d,_0x3deab4['y']*=_0x18570d,_0x3deab4['z']*=_0x18570d;const _0x2d115e=_0x42ad5f['render']||_0x42ad5f['model'],_0x4c6a6d=this['computeNod'+'eBounds'](_0x2d115e['meshInstan'+'ces']);_0x152e60['copy'](_0x4c6a6d['halfExtent'+'s']);let _0x2a8b95=_0x3deab4['x']*_0x152e60['y']*_0x152e60['z']+_0x3deab4['y']*_0x152e60['x']*_0x152e60['z']+_0x3deab4['z']*_0x152e60['x']*_0x152e60['y'];return _0x2a8b95/=_0x3deab4['uv'],_0x2a8b95=Math['sqrt'](_0x2a8b95),Math['min'](Y['nextPowerO'+'fTwo'](_0x2a8b95*_0x9ffe29),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x175228,_0x2fc857,_0xe31e38,_0x32d0f1){for(let _0xb12954=-0x16ce+0x7*0x4f+0x14a5*0x1;_0xb12954<_0x175228['length'];_0xb12954++){const _0x53e210=_0x175228[_0xb12954],_0x57868b=_0x53e210['meshInstan'+'ces'];for(let _0x56fa98=0x1c2f+0x8a9+-0x24d8;_0x56fa98<_0x57868b['length'];_0x56fa98++){const _0x5b246b=_0x57868b[_0x56fa98];if(_0x5b246b['setLightma'+'pped'](_0x2fc857),_0x2fc857){_0x32d0f1&&(_0x5b246b['_shaderDef'+'s']|=_0x32d0f1),_0x5b246b['mask']=di;for(let _0x32f5ce=0x65*-0x13+0x2204*-0x1+0x2983;_0x32f5ce<_0xe31e38;_0x32f5ce++){const _0x246095=_0x53e210['renderTarg'+'ets'][_0x32f5ce]['colorBuffe'+'r'];_0x246095['minFilter']=vt,_0x246095['magFilter']=vt,_0x5b246b['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x32f5ce],_0x246095);}}}}}['bake'](_0x50a8e3,_0x42b018=jc){const _0x8fa8d6=this['device'],_0x5e29ea=de();this['scene']['_updateSky'+'Mesh'](),_0x8fa8d6['fire']('lightmappe'+'r:start',{'timestamp':_0x5e29ea,'target':this}),this['stats']['renderPass'+'es']=-0x6dd+-0x4fc+0xbd9,this['stats']['shadowMapT'+'ime']=0x23b5+0x1b9f+0x2*-0x1faa,this['stats']['forwardTim'+'e']=0x1*0x1311+0xc97*-0x3+0x3*0x63c;const _0xe24074=_0x8fa8d6['_shaderSta'+'ts']['linked'],_0x101f89=_0x8fa8d6['_renderTar'+'getCreatio'+'nTime'],_0x7a74fc=_0x8fa8d6['_shaderSta'+'ts']['compileTim'+'e'],_0x56d454=[],_0x1644dd=[];if(_0x50a8e3){for(let _0x55268c=0x1a74+-0x917*0x3+-0xb*-0x13;_0x55268c<_0x50a8e3['length'];_0x55268c++)this['collectMod'+'els'](_0x50a8e3[_0x55268c],_0x56d454,null);this['collectMod'+'els'](this['root'],null,_0x1644dd);}else this['collectMod'+'els'](this['root'],_0x56d454,_0x1644dd);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x56d454['length']>0x12fe+-0x2*-0xd3c+-0x2d76){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x1f62cb=_0x42b018===jc?-0xf0c+-0x53*0x21+0x19c1:-0x3fa*-0x5+0x659*0x1+-0x1a3a;this['setLightma'+'pping'](_0x56d454,!(-0x2*-0x43a+0x181c+-0x208f*0x1),_0x1f62cb),this['initBake'](_0x8fa8d6),this['bakeIntern'+'al'](_0x1f62cb,_0x56d454,_0x1644dd);let _0x559d1b=ou;_0x42b018===jc&&(_0x559d1b|=uv),this['scene']['ambientBak'+'e']&&(_0x559d1b|=pv),this['setLightma'+'pping'](_0x56d454,!(0xf8f+-0x204a+0x10bb),_0x1f62cb,_0x559d1b),this['finishBake'](_0x56d454);}Q['popGpuMark'+'er'](this['device']);const _0x6f10e1=de();this['stats']['totalRende'+'rTime']=_0x6f10e1-_0x5e29ea,this['stats']['shadersLin'+'ked']=_0x8fa8d6['_shaderSta'+'ts']['linked']-_0xe24074,this['stats']['compileTim'+'e']=_0x8fa8d6['_shaderSta'+'ts']['compileTim'+'e']-_0x7a74fc,this['stats']['fboTime']=_0x8fa8d6['_renderTar'+'getCreatio'+'nTime']-_0x101f89,this['stats']['lightmapCo'+'unt']=_0x56d454['length'],_0x8fa8d6['fire']('lightmappe'+'r:end',{'timestamp':_0x6f10e1,'target':this});}['allocateTe'+'xtures'](_0x419dbb,_0x47c156){for(let _0x3b172=0x1e2*0xe+-0x800+0x1*-0x125c;_0x3b172<_0x419dbb['length'];_0x3b172++){const _0x3f131a=_0x419dbb[_0x3b172],_0x4bc41c=this['calculateL'+'ightmapSiz'+'e'](_0x3f131a['node']);for(let _0x20088f=-0x1541+0x726*0x5+0xe7d*-0x1;_0x20088f<_0x47c156;_0x20088f++){const _0x5eb7c8=this['createText'+'ure'](_0x4bc41c,'lightmappe'+'r_lightmap'+'_'+_0x3b172);zi['incRef'](_0x5eb7c8),_0x3f131a['renderTarg'+'ets'][_0x20088f]=new gt({'colorBuffer':_0x5eb7c8,'depth':!(0x797*0x5+-0x1*-0xf33+-0x38b*0xf)});}if(!this['renderTarg'+'ets']['has'](_0x4bc41c)){const _0xeeba29=this['createText'+'ure'](_0x4bc41c,'lightmappe'+'r_temp_lig'+'htmap_'+_0x4bc41c);zi['incRef'](_0xeeba29),this['renderTarg'+'ets']['set'](_0x4bc41c,new gt({'colorBuffer':_0xeeba29,'depth':!(-0x171+0xff3*0x1+-0xe81)}));}}}['prepareLig'+'htsToBake'](_0x4bf74b,_0x575dbc){if(this['scene']['ambientBak'+'e']){const _0x25f349=new Mg(this);_0x575dbc['push'](_0x25f349);}const _0x1b0656=this['renderer']['lights'];for(let _0x3f3097=0x31b*-0x9+-0x254b+0x413e;_0x3f3097<_0x1b0656['length'];_0x3f3097++){const _0x1b7687=_0x1b0656[_0x3f3097],_0x3b4d06=new sL(this,_0x1b7687);_0x4bf74b['push'](_0x3b4d06),_0x1b7687['enabled']&&(_0x1b7687['mask']&fi)!==-0x2617+-0x12a8+0x38bf&&(_0x1b7687['mask']=fi|di|Ss,_0x1b7687['shadowUpda'+'teMode']=_0x1b7687['type']===ve?lm:xr,_0x575dbc['push'](_0x3b4d06));}_0x575dbc['sort']();}['restoreLig'+'hts'](_0x55a5dd){for(let _0xb25351=-0x400*0x6+-0x10a2+0x28a2;_0xb25351<_0x55a5dd['length'];_0xb25351++)_0x55a5dd[_0xb25351]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1d*-0x122+0xf4f+0x1*-0x3029,-0x1b9a+0x3*-0x3dd+-0x2731*-0x1,0x33*-0x8+-0x8a0*-0x2+0xa7*-0x18),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x5da9a0){const _0x47844c=new De();if(_0x5da9a0['length']>0x1aa6+-0x2b*-0xd0+0x2*-0x1ecb){_0x47844c['copy'](_0x5da9a0[0x9f9+-0x3*0xac3+0x1650*0x1]['aabb']);for(let _0x3f2cf7=0x1e51+0x427*0x7+-0x3b61;_0x3f2cf7<_0x5da9a0['length'];_0x3f2cf7++)_0x47844c['add'](_0x5da9a0[_0x3f2cf7]['aabb']);}return _0x47844c;}['computeNod'+'esBounds'](_0xfa6342){for(let _0x1c177c=0x2b4*-0x6+0xd5*0x2b+0x685*-0x3;_0x1c177c<_0xfa6342['length'];_0x1c177c++){const _0x5384c8=_0xfa6342[_0x1c177c]['meshInstan'+'ces'];_0xfa6342[_0x1c177c]['bounds']=this['computeNod'+'eBounds'](_0x5384c8);}}['computeBou'+'nds'](_0x511331){const _0x438aca=new De();for(let _0x1f61d5=0x79*-0x1e+-0x22be+0x30ec;_0x1f61d5<_0x511331['length'];_0x1f61d5++){_0x438aca['copy'](_0x511331[0x11e9+-0x1*-0x1bfe+-0x3*0xf4d]['aabb']);for(let _0x1f08c5=0x31d*-0xc+-0xa*-0xdf+0x1ca7;_0x1f08c5<_0x511331['length'];_0x1f08c5++)_0x438aca['add'](_0x511331[_0x1f08c5]['aabb']);}return _0x438aca;}['backupMate'+'rials'](_0x33ce2e){for(let _0x23660f=0x5*-0xb3+-0x1d*0x3d+0xa68;_0x23660f<_0x33ce2e['length'];_0x23660f++)this['materials'][_0x23660f]=_0x33ce2e[_0x23660f]['material'];}['restoreMat'+'erials'](_0x555603){for(let _0x10bcde=0x11*0x7d+0x25ee+-0x2e3b;_0x10bcde<_0x555603['length'];_0x10bcde++)_0x555603[_0x10bcde]['material']=this['materials'][_0x10bcde];}['lightCamer'+'aPrepare'](_0x303046,_0x5db15f){const _0x357acd=_0x5db15f['light'];let _0x46392d;return _0x357acd['type']===Ze&&(_0x46392d=_0x357acd['getRenderD'+'ata'](null,0x11bd+-0x8b*-0x1d+-0x217c)['shadowCame'+'ra'],_0x46392d['_node']['setPositio'+'n'](_0x357acd['_node']['getPositio'+'n']()),_0x46392d['_node']['setRotatio'+'n'](_0x357acd['_node']['getRotatio'+'n']()),_0x46392d['_node']['rotateLoca'+'l'](-(-0x203a+-0x128c+0x3320),-0x1*-0x10fd+-0x129e+0x1*0x1a1,0x2*0x12c9+-0x33b*-0x3+0x2f43*-0x1),_0x46392d['projection']=ni,_0x46392d['nearClip']=_0x357acd['attenuatio'+'nEnd']/(0x2*0x617+-0x126a*0x2+0x5b6*0x5),_0x46392d['farClip']=_0x357acd['attenuatio'+'nEnd'],_0x46392d['aspectRati'+'o']=0x1b73+-0x8ae*-0x4+-0xda*0x49,_0x46392d['fov']=_0x357acd['_outerCone'+'Angle']*(-0x24cb+0x590+-0x1f3d*-0x1),this['renderer']['updateCame'+'raFrustum'](_0x46392d)),_0x46392d;}['lightCamer'+'aPrepareAn'+'dCull'](_0x4a6588,_0xd11e41,_0x54f396,_0x1c81bb){const _0x213461=_0x4a6588['light'];let _0x14e0e1=!(-0xc3*-0x21+0x131a+0xf*-0x2f3);if(_0x213461['type']===ve){xc['copy'](_0x1c81bb['center']),xc['y']+=_0x1c81bb['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x372*0x4+0xb3*-0x1+0xed5),0x432+-0x25ed+0x21bb,-0xf02+-0xf7b+0x5*0x619),this['camera']['nearClip']=0x85f+0x62f+0x6*-0x26d,this['camera']['farClip']=_0x1c81bb['halfExtent'+'s']['y']*(0x10*0xa8+-0x1036+-0x7a*-0xc);const _0x492bad=Math['max'](_0x1c81bb['halfExtent'+'s']['x'],_0x1c81bb['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x492bad;}else _0x4a6588['lightBound'+'s']['intersects'](_0xd11e41['bounds'])||(_0x14e0e1=!(0xc3b+-0x1835+-0x1*-0xbfb));if(_0x213461['type']===Ze){let _0x3148c8=!(-0x5b2+0x14*-0x149+0x1f67);const _0x25d3cd=_0xd11e41['meshInstan'+'ces'];for(let _0x2cb711=-0x8dd+0x1814+0xf37*-0x1;_0x2cb711<_0x25d3cd['length'];_0x2cb711++)if(_0x25d3cd[_0x2cb711]['_isVisible'](_0x54f396)){_0x3148c8=!(-0x1*-0xd1+0x2022+-0x697*0x5);break;}_0x3148c8||(_0x14e0e1=!(-0x31c+0xac5*0x1+0x118*-0x7));}return _0x14e0e1;}['setupLight'+'Array'](_0x3aefb8,_0x2156ec){_0x3aefb8[ve]['length']=0x1*-0xabd+-0x28*0x9d+0x2345*0x1,_0x3aefb8[Ke]['length']=0x279*-0xd+-0x1*-0x17+0x1007*0x2,_0x3aefb8[Ze]['length']=-0x16b9+-0xb32+0x21eb,_0x3aefb8[_0x2156ec['type']][-0xd99+-0x1*0xc31+0x2*0xce5]=_0x2156ec,_0x2156ec['visibleThi'+'sFrame']=!(-0x14d5*-0x1+-0x1885*0x1+0x1*0x3b0);}['renderShad'+'owMap'](_0x3870b5,_0x45ff07,_0x1d71e2,_0xd10795){const _0x4aeda1=_0xd10795['light'],_0x370470=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x44ba7e=_0x4aeda1['castShadow'+'s']&&(!_0x370470||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x45ff07&&_0x44ba7e){if(!_0x4aeda1['shadowMap']&&!_0x370470&&(_0x4aeda1['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x4aeda1)),_0x4aeda1['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4aeda1,_0x3870b5,this['camera'],_0x1d71e2);const _0x43f996=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4aeda1,this['camera']);_0x43f996==null||_0x43f996['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x9d2+0x3d*0x79+-0x1303);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x4aeda1,_0x3870b5,_0x1d71e2),this['renderer']['shadowRend'+'erer']['render'](_0x4aeda1,this['camera'],!(-0xa*0x221+0x1*-0x362+0x1*0x18ad));}}return!(0x1d3e+0x25a*0xe+-0x92*0x6d);}['postproces'+'sTextures'](_0x1d7e4a,_0x118e2f,_0x26faa7){const _0x319e93=this['lightmapFi'+'lters']['getDilate'](_0x1d7e4a,this['bakeHDR']);let _0x1ebac5;const _0x8c7d78=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x8c7d78&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x1ebac5=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x1d7e4a['setBlendSt'+'ate'](pt['NOBLEND']),_0x1d7e4a['setDepthSt'+'ate'](Yt['NODEPTH']),_0x1d7e4a['setStencil'+'State'](null,null);for(let _0x41ac34=-0x317*-0xc+0x77f*-0x3+-0xe97;_0x41ac34<_0x118e2f['length'];_0x41ac34++){const _0x3ce8ce=_0x118e2f[_0x41ac34];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x41ac34);for(let _0x1424ee=0x2*-0x8ed+0x10bb+0x11f;_0x1424ee<_0x26faa7;_0x1424ee++){const _0x33ff79=_0x3ce8ce['renderTarg'+'ets'][_0x1424ee],_0x1dc4db=_0x33ff79['colorBuffe'+'r'],_0x395f48=this['renderTarg'+'ets']['get'](_0x1dc4db['width']),_0x4f2e23=_0x395f48['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x1dc4db['width'],_0x1dc4db['height']);for(let _0x15673f=-0x2*-0x461+-0xf89*-0x1+-0x184b;_0x15673f<-0xe2f+-0x902+0x1732;_0x15673f++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x1dc4db),Ar(_0x1d7e4a,_0x395f48,_0x8c7d78&&_0x1424ee===0x26f2+-0x1d19+-0x9d9&&_0x15673f===0x5*0x57a+0x757+0x3*-0xb93?_0x1ebac5:_0x319e93),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4f2e23),Ar(_0x1d7e4a,_0x33ff79,_0x319e93);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x5cf7ea,_0x3b974c,_0x188090){const _0x51abdf=this['scene'],_0x2e1a71=_0x51abdf['layers'],_0x49a3d6=this['device'],_0x1be20d=_0x51abdf['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x49a3d6,_0x51abdf,_0x5cf7ea),this['setupScene'](),_0x2e1a71['_update'](),this['computeNod'+'esBounds'](_0x3b974c),this['allocateTe'+'xtures'](_0x3b974c,_0x5cf7ea),this['renderer']['collectLig'+'hts'](_0x2e1a71);const _0x3084e6=[],_0x43c045=[];this['prepareLig'+'htsToBake'](_0x3084e6,_0x43c045),this['updateTran'+'sforms'](_0x188090);const _0x43d369=this['prepareSha'+'dowCasters'](_0x188090);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x43d369),this['renderer']['gpuUpdate'](_0x43d369);const _0x42bb4f=this['computeBou'+'nds'](_0x43d369);let _0x1f3dca,_0x3a3cb0,_0x3947ec,_0x300c02;for(_0x1f3dca=0x476*-0x3+0x1*-0x265+0xfc7;_0x1f3dca<_0x3b974c['length'];_0x1f3dca++)for(_0x3947ec=_0x3b974c[_0x1f3dca]['meshInstan'+'ces'],_0x3a3cb0=-0x5a9+0x237a+-0x1c1*0x11;_0x3a3cb0<_0x3947ec['length'];_0x3a3cb0++)_0x300c02=_0x3947ec[_0x3a3cb0],_0x300c02['setLightma'+'pped'](!(-0x1cad+-0x1*0x1249+-0xb*-0x445)),_0x300c02['mask']=fi,_0x300c02['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x4c*0x21+-0x2e+-0x99e],this['blackTex']),_0x300c02['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x5d7+0x42f*-0x1+-0x1a7],this['blackTex']);for(_0x3a3cb0=-0x8f*-0x3b+-0x5*0x1e2+0x15*-0x11f;_0x3a3cb0<_0x43c045['length'];_0x3a3cb0++)_0x43c045[_0x3a3cb0]['light']['enabled']=!(0x6a4*-0x2+-0x7*-0x115+0x5b6);const _0x3c77a2=[[],[],[]];let _0x3eee7b,_0x4397f7,_0x40d661=!(-0x5*-0x1b1+-0x11e0+0x25b*0x4);for(_0x1f3dca=0xdb4+-0x20b*0x1+-0xba9*0x1;_0x1f3dca<_0x43c045['length'];_0x1f3dca++){const _0x570ed2=_0x43c045[_0x1f3dca],_0x23ed1d=_0x570ed2 instanceof Mg,_0x1853da=_0x570ed2['light']['type']===ve;let _0x28743f=_0x570ed2['numVirtual'+'Lights'];_0x5cf7ea>0x2f4*0x9+0x3*0x55e+-0x2aad&&_0x28743f>-0x2657+-0xac5+0x311d&&_0x570ed2['light']['bakeDir']&&(_0x28743f=-0x118d+-0x812+0x10*0x19a,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x5183e9=-0x214f+0x1813*0x1+0x2*0x49e;_0x5183e9<_0x28743f;_0x5183e9++){Q['pushGpuMar'+'ker'](_0x49a3d6,'Light:'+_0x570ed2['light']['_node']['name']+':'+_0x5183e9),_0x28743f>-0x48e+0x1cf9+-0x186a&&_0x570ed2['prepareVir'+'tualLight'](_0x5183e9,_0x28743f),_0x570ed2['startBake']();let _0x35e645=!(-0x16ec*-0x1+-0x1*0x159b+-0x150);const _0x1295f1=this['lightCamer'+'aPrepare'](_0x49a3d6,_0x570ed2);for(_0x4397f7=-0x1efb+0x2446+-0x10f*0x5;_0x4397f7<_0x3b974c['length'];_0x4397f7++){const _0x35a537=_0x3b974c[_0x4397f7];if(_0x3947ec=_0x35a537['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x570ed2,_0x35a537,_0x1295f1,_0x42bb4f))continue;this['setupLight'+'Array'](_0x3c77a2,_0x570ed2['light']);const _0x571252=_0x1853da?[]:[_0x570ed2['light']];for(_0x1be20d&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x571252,this['lightingPa'+'rams']),_0x35e645=this['renderShad'+'owMap'](_0x2e1a71,_0x35e645,_0x43d369,_0x570ed2),_0x1be20d&&this['worldClust'+'ers']['update'](_0x571252,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x3947ec),_0x3eee7b=0x1*0x31f+-0x10d5+0xdb6;_0x3eee7b<_0x5cf7ea&&!(_0x3eee7b>0x1dba+0x1c*0xc7+-0x337e&&_0x5183e9>-0x1*0xfae+-0xa74+0x8b6*0x3||_0x23ed1d&&_0x3eee7b>0x21cc+0x41*0x7+-0x2393);_0x3eee7b++){Q['pushGpuMar'+'ker'](_0x49a3d6,'LMPass:'+_0x3eee7b);const _0x480de3=_0x35a537['renderTarg'+'ets'][_0x3eee7b],_0x3ad2e5=_0x35a537['renderTarg'+'ets'][_0x3eee7b]['colorBuffe'+'r']['width'],_0x16fecd=this['renderTarg'+'ets']['get'](_0x3ad2e5),_0x12594a=_0x16fecd['colorBuffe'+'r'];_0x3eee7b===-0x13ac+0x8*0x5c+0x10cc?_0x40d661=_0x51abdf['updateShad'+'ers']:_0x40d661&&(_0x51abdf['updateShad'+'ers']=!(-0x1d11*0x1+0x1a2b*0x1+0x2e6*0x1));let _0x561b84=this['passMateri'+'als'][_0x3eee7b];for(_0x23ed1d&&_0x5183e9+(-0x1*0x1f9+-0x22a4+-0x56*-0x6d)===_0x28743f&&_0x3eee7b===-0xcea+-0x471+-0x115b*-0x1&&(_0x561b84=this['ambientAOM'+'aterial']),_0x3a3cb0=-0x2*0x90e+-0x1e53+0x306f;_0x3a3cb0<_0x3947ec['length'];_0x3a3cb0++)_0x3947ec[_0x3a3cb0]['material']=_0x561b84;if(this['renderer']['updateShad'+'ers'](_0x3947ec),_0x3eee7b===uL&&this['constantBa'+'keDir']['setValue'](_0x570ed2['light']['bakeDir']?-0x1f*0x47+-0x1abe+0x2358:-0x9*-0x23d+0x1945*0x1+-0x2*0x16b5),_0x49a3d6['isWebGPU']){const _0x52979c=new hL(_0x49a3d6,this['renderer'],this['camera'],_0x1be20d?this['worldClust'+'ers']:null,_0x3947ec,_0x3c77a2);_0x52979c['init'](_0x16fecd),_0x52979c['render'](),_0x52979c['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x16fecd,!(-0x616+0x8*-0x254+0x18b6)),_0x1be20d&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0xc87*-0x1+-0x1*0x148b+-0x6c*-0x13,this['renderer']['_shadowMap'+'Time']=0xe19+-0x2*0xbb6+0x953,this['renderer']['renderForw'+'ard'](this['camera'],_0x16fecd,_0x3947ec,_0x3c77a2,Aa),_0x49a3d6['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x35a537['renderTarg'+'ets'][_0x3eee7b]=_0x16fecd,this['renderTarg'+'ets']['set'](_0x3ad2e5,_0x480de3),_0x3a3cb0=0x1d28+-0x1bea+0x6*-0x35;_0x3a3cb0<_0x3947ec['length'];_0x3a3cb0++)_0x300c02=_0x3947ec[_0x3a3cb0],_0x300c02['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x3eee7b],_0x12594a),_0x300c02['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x49a3d6);}this['restoreMat'+'erials'](_0x3947ec);}_0x570ed2['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x49a3d6);}}for(this['postproces'+'sTextures'](_0x49a3d6,_0x3b974c,_0x5cf7ea),_0x4397f7=-0x1841+-0x1be4+0x3425;_0x4397f7<_0x188090['length'];_0x4397f7++)_0x188090[_0x4397f7]['restore']();this['restoreLig'+'hts'](_0x3084e6),this['restoreSce'+'ne'](),_0x1be20d||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x5dc9e2,_0x132465){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x5dc9e2,this['entity']=_0x132465,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x1c13a0,_0x4d9634,_0x1f9049){this['fire']('set_'+_0x1c13a0,_0x1c13a0,_0x4d9634,_0x1f9049);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x2e2684,_0x4a4b0e){_0x4a4b0e['forEach'](_0x4daf76=>{const _0x372e2b=typeof _0x4daf76=='object'?_0x4daf76['name']:_0x4daf76;Object['defineProp'+'erty'](_0x2e2684,_0x372e2b,{'get':function(){return this['data'][_0x372e2b];},'set':function(_0x5c04be){const _0x521cc8=this['data'],_0xfbcce4=_0x521cc8[_0x372e2b];_0x521cc8[_0x372e2b]=_0x5c04be,this['fire']('set',_0x372e2b,_0xfbcce4,_0x5c04be);},'configurable':!(0x1483+0x1*-0x23f2+0xf6f*0x1)});}),_0x2e2684['_accessors'+'Built']=!(-0x1*-0x75b+0x30e+-0xa69);}['buildAcces'+'sors'](_0x5af66e){Wh['_buildAcce'+'ssors'](this,_0x5af66e);}['onSetEnabl'+'ed'](_0x27f9cc,_0x5af1d4,_0x45cf46){_0x5af1d4!==_0x45cf46&&this['entity']['enabled']&&(_0x45cf46?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x33921f=this['system']['store'][this['entity']['getGuid']()];return _0x33921f?_0x33921f['data']:null;}set['enabled'](_0x1c7b1e){}get['enabled'](){return!(0x927+-0x6*0x449+0x108f);}};h(Wh,'order',0x76a+0x197e*0x1+-0x6*0x57c);let we=Wh;class ct extends me{constructor(_0x41acd1){super(),this['app']=_0x41acd1,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x42e657,_0xfcf748={}){const _0x22c775=new this['ComponentT'+'ype'](this,_0x42e657),_0x40237d=new this['DataType']();return this['store'][_0x42e657['getGuid']()]={'entity':_0x42e657,'data':_0x40237d},_0x42e657[this['id']]=_0x22c775,_0x42e657['c'][this['id']]=_0x22c775,this['initialize'+'ComponentD'+'ata'](_0x22c775,_0xfcf748,[]),this['fire']('add',_0x42e657,_0x22c775),_0x22c775;}['removeComp'+'onent'](_0x566cb9){const _0x31cc58=this['id'],_0x588fe9=this['store'][_0x566cb9['getGuid']()],_0xa02fce=_0x566cb9['c'][_0x31cc58];_0xa02fce['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x566cb9,_0xa02fce),delete this['store'][_0x566cb9['getGuid']()],_0x566cb9[_0x31cc58]=void(0x172e+0x1e49+-0x3577),delete _0x566cb9['c'][_0x31cc58],this['fire']('remove',_0x566cb9,_0x588fe9['data']);}['cloneCompo'+'nent'](_0x150759,_0x2979a9){const _0x584072=this['store'][_0x150759['getGuid']()];return this['addCompone'+'nt'](_0x2979a9,_0x584072['data']);}['initialize'+'ComponentD'+'ata'](_0x40ad37,_0x1e94f2={},_0x1571c3){for(let _0x2cd1b6=-0xb49*0x1+-0x1f51*0x1+0x2a9a,_0x275fc9=_0x1571c3['length'];_0x2cd1b6<_0x275fc9;_0x2cd1b6++){const _0x1dcf75=_0x1571c3[_0x2cd1b6];let _0x76a73a,_0x16d703;typeof _0x1dcf75=='object'?(_0x76a73a=_0x1dcf75['name'],_0x16d703=_0x1dcf75['type']):(_0x76a73a=_0x1dcf75,_0x16d703=void(0x2*0x132f+-0xe3+-0x257b));let _0x209543=_0x1e94f2[_0x76a73a];_0x209543!==void(-0xf67+-0x12f8*0x1+0x1a3*0x15)?(_0x16d703!==void(0x1bdf+0x1*0x25dc+-0x41bb)&&(_0x209543=mL(_0x209543,_0x16d703)),_0x40ad37[_0x76a73a]=_0x209543):_0x40ad37[_0x76a73a]=_0x40ad37['data'][_0x76a73a];}_0x40ad37['enabled']&&_0x40ad37['entity']['enabled']&&_0x40ad37['onEnable']();}['getPropert'+'iesOfType'](_0x46cb82){const _0x21755d=[];return(this['schema']||[])['forEach'](_0x409449=>{_0x409449&&typeof _0x409449=='object'&&_0x409449['type']===_0x46cb82&&_0x21755d['push'](_0x409449);}),_0x21755d;}['destroy'](){this['off']();}}function mL(_0x2a24b7,_0x732ec6){if(!_0x2a24b7)return _0x2a24b7;switch(_0x732ec6){case'rgb':return _0x2a24b7 instanceof ie?_0x2a24b7['clone']():new ie(_0x2a24b7[-0x89*-0x35+0x404*-0x6+-0x445],_0x2a24b7[-0x1f48+-0x13a+0x2083],_0x2a24b7[0x8*-0x259+0x84*0x25+0x1*-0x4a]);case'rgba':return _0x2a24b7 instanceof ie?_0x2a24b7['clone']():new ie(_0x2a24b7[0x1a0b+-0x1796+-0x275],_0x2a24b7[-0x850+0x1bca+-0x5*0x3e5],_0x2a24b7[-0x133*0x1a+-0x38b*0x1+0x22bb],_0x2a24b7[-0x979+0x77f+-0x1*-0x1fd]);case'vec2':return _0x2a24b7 instanceof J?_0x2a24b7['clone']():new J(_0x2a24b7[0x2664+-0x157*-0x5+-0x2d17],_0x2a24b7[-0x6ad+-0x1cda*-0x1+-0x42*0x56]);case'vec3':return _0x2a24b7 instanceof D?_0x2a24b7['clone']():new D(_0x2a24b7[-0x757*0x1+0x5cc+0x18b],_0x2a24b7[-0xae2+-0x180f+-0x1*-0x22f2],_0x2a24b7[-0x20d0+0x7*0x46f+0x1c9]);case'vec4':return _0x2a24b7 instanceof re?_0x2a24b7['clone']():new re(_0x2a24b7[-0x1653+-0x30b+0x195e],_0x2a24b7[-0x1bd5+-0x12e*-0x7+0x1394],_0x2a24b7[-0xd46+0x23e5+0x1*-0x169d],_0x2a24b7[-0x6f6+0xbe9*0x2+0x10d9*-0x1]);case'boolean':case'number':case'string':return _0x2a24b7;case'entity':return _0x2a24b7;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x732ec6);}}const Bv=-0x1b8e+0x21ce+-0x640,Su=0x3b*-0x69+-0x109a+0x1*0x28ce,yu=-0x1*-0x22ab+-0x5fa+-0x1caf;class _L{constructor(){this['_left']=(0x1874+0x1*0x7a+-0x18ed)/(0x68d+-0x324+-0x369),this['_right']=-(-0x1fd3+-0x1d93+0xb*0x595)/(-0x1*-0x4+0x155f+-0x1563),this['_len']=-0x7*-0x436+0x1*0x2182+-0x3efc,this['_recip']=-0xcd1+0x1*0xa1f+0xf*0x2e,this['_p0']=-0x4*-0x892+-0x695*0x5+0x1*-0x15f,this['_p1']=0xb*-0x14b+-0xa8*0x1+-0xd*-0x125,this['_t']=-0x2072+-0x26ce+-0x1c8*-0x28,this['_hermite']={'valid':!(0x1bd9+0x31a+-0x1d2*0x11),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x51b8ac,_0x1c5151){if(_0x51b8ac<this['_left']||_0x51b8ac>=this['_right']){const _0x2d5a05=_0x1c5151['length'];if(!_0x2d5a05)this['_left']=-(-0x5c*-0x3e+-0x2*0x1039+0xa2b*0x1)/(-0xb22*-0x1+-0xe*-0x9d+-0x13b8*0x1),this['_right']=(0x81b+-0x12bb+-0x1*-0xaa1)/(-0x2*0x3bb+-0x1817+0x29*0xc5),this['_len']=-0x16db+-0x73a+0x1e15,this['_recip']=0x262+0x1*-0x18d3+0x1671,this['_p0']=this['_p1']=0x1c1f+-0xaf5+0x895*-0x2;else{if(_0x51b8ac<_0x1c5151[0x163c+0x211*0xb+-0x2cf7])this['_left']=-(0x3fc*0x7+-0x37d+0x15b*-0x12)/(-0x123+0x10a0+-0xf7d),this['_right']=_0x1c5151[0x7f*-0x43+0x1*-0x189d+0x39da],this['_len']=-0x19*-0xa9+0x1aa8*-0x1+0x71*0x17,this['_recip']=-0x1d27+0x38c+-0xf*-0x1b5,this['_p0']=this['_p1']=0x23f7+0x2e5+-0x33d*0xc;else{if(_0x51b8ac>=_0x1c5151[_0x2d5a05-(-0x1*0x1a37+0xc2+0x1*0x1976)])this['_left']=_0x1c5151[_0x2d5a05-(0x7ff+-0xc2*0x25+0x1*0x140c)],this['_right']=(-0x229a*-0x1+-0x175d*-0x1+0x1*-0x39f6)/(-0x3*0xa0b+-0x11ca+-0x57*-0x8d),this['_len']=-0x116b+-0x12cb+0x2436,this['_recip']=-0x10*-0x1e1+0x7*-0x2b9+-0xb01,this['_p0']=this['_p1']=_0x2d5a05-(-0xcf0+-0x19f0+-0x25*-0x10d);else{const _0xa5a086=this['_findKey'](_0x51b8ac,_0x1c5151);this['_left']=_0x1c5151[_0xa5a086],this['_right']=_0x1c5151[_0xa5a086+(0x1971+0x3*-0x402+-0x2*0x6b5)],this['_len']=this['_right']-this['_left'];const _0x1babcc=(-0x19e+-0x487+-0x1*-0x626)/this['_len'];this['_recip']=isFinite(_0x1babcc)?_0x1babcc:0x4*0xc3+-0x4a0*0x7+-0x4*-0x755,this['_p0']=_0xa5a086,this['_p1']=_0xa5a086+(-0x9b8+-0x1060+0x1a19);}}}}this['_t']=this['_recip']===0x1a6+-0x1*-0x1f1a+-0x1060*0x2?0x95f+-0x24e*0xd+0x6dd*0x3:(_0x51b8ac-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x1ebc+0x1710+0x7ad);}['_findKey'](_0x39db3e,_0x24438e){let _0x1ec463=-0x1*-0x1f79+-0x38c+-0x1bed;for(;_0x39db3e>=_0x24438e[_0x1ec463+(-0x1ca4+0x1875+-0x4*-0x10c)];)_0x1ec463++;return _0x1ec463;}['eval'](_0x1fe0ee,_0x577492,_0x5dc068){const _0x1eebc2=_0x5dc068['_data'],_0x1d330c=_0x5dc068['_component'+'s'],_0x519ce7=this['_p0']*_0x1d330c;if(_0x577492===Bv){for(let _0x547867=0x1*0x31d+0xa18*-0x1+0x6fb;_0x547867<_0x1d330c;++_0x547867)_0x1fe0ee[_0x547867]=_0x1eebc2[_0x519ce7+_0x547867];}else{const _0x34a768=this['_t'],_0x23d5c1=this['_p1']*_0x1d330c;switch(_0x577492){case Su:for(let _0x153bb0=0x89b*0x3+-0x20e9+0x718;_0x153bb0<_0x1d330c;++_0x153bb0)_0x1fe0ee[_0x153bb0]=Y['lerp'](_0x1eebc2[_0x519ce7+_0x153bb0],_0x1eebc2[_0x23d5c1+_0x153bb0],_0x34a768);break;case yu:{const _0x11455c=this['_hermite'];if(!_0x11455c['valid']){const _0x5780eb=_0x34a768*_0x34a768,_0x5b88ba=_0x34a768+_0x34a768,_0x565580=0xdd8+0xb1*-0x2+0x427*-0x3-_0x34a768,_0x4656f9=_0x565580*_0x565580;_0x11455c['valid']=!(-0x10ff+-0x12fd+0x23fc),_0x11455c['p0']=(0x601+-0x1f4b*0x1+0x194b+_0x5b88ba)*_0x4656f9,_0x11455c['m0']=_0x34a768*_0x4656f9,_0x11455c['p1']=_0x5780eb*(-0x79*-0x3b+-0x7be*-0x3+-0x331a-_0x5b88ba),_0x11455c['m1']=_0x5780eb*(_0x34a768-(0x2162*-0x1+0x65*0x10+-0x1b13*-0x1));}const _0x1a9786=(this['_p0']*(-0x1a26+-0x267e+-0x1*-0x40a7)+(0x1b3a+0x1ce1+-0x56*0xa7))*_0x1d330c,_0x5dd2dd=(this['_p0']*(-0x2a*0xa7+-0xcb2+0x281b)+(-0x1*-0xfc7+0x134*-0x4+-0x3a7*0x3))*_0x1d330c,_0x4f4526=(this['_p1']*(0xc3f+-0x14d+-0xaef)+(-0x63*0x1b+0x39*-0xad+0x30f7))*_0x1d330c,_0x26f17d=(this['_p1']*(0x4e*0x62+-0x1ba8+-0x231*0x1)+(-0xb*0x207+-0x50f+0x1b5c))*_0x1d330c;for(let _0x5a6b58=0x1703+-0x2*0x747+-0x875;_0x5a6b58<_0x1d330c;++_0x5a6b58)_0x1fe0ee[_0x5a6b58]=_0x11455c['p0']*_0x1eebc2[_0x1a9786+_0x5a6b58]+_0x11455c['m0']*_0x1eebc2[_0x5dd2dd+_0x5a6b58]*this['_len']+_0x11455c['p1']*_0x1eebc2[_0x4f4526+_0x5a6b58]+_0x11455c['m1']*_0x1eebc2[_0x26f17d+_0x5a6b58]*this['_len'];break;}}}}}class Ig{constructor(_0x418c0d){this['_name']=_0x418c0d['name']+'Snapshot',this['_time']=-(-0x1*0x1303+-0x1b*-0x27+0xee7),this['_cache']=[],this['_results']=[];for(let _0x86a2ba=-0x1eb5+-0x1c1a+0xbc3*0x5;_0x86a2ba<_0x418c0d['_inputs']['length'];++_0x86a2ba)this['_cache'][_0x86a2ba]=new _L();const _0x363bc6=_0x418c0d['_curves'],_0x241b3d=_0x418c0d['_outputs'];for(let _0x4a47b5=0x237e+0x1*0xf5e+-0x32dc;_0x4a47b5<_0x363bc6['length'];++_0x4a47b5){const _0x37de4a=_0x363bc6[_0x4a47b5],_0x106cd4=_0x241b3d[_0x37de4a['_output']],_0x314c55=[];for(let _0x1d7fc7=0xb41*-0x1+-0x177e*0x1+-0x6f3*-0x5;_0x1d7fc7<_0x106cd4['_component'+'s'];++_0x1d7fc7)_0x314c55[_0x1d7fc7]=-0x1*-0x185+0x25b1+0x2736*-0x1;this['_results'][_0x4a47b5]=_0x314c55;}}}const qo=class qo{constructor(_0x14ea55,_0x2cfd79,_0xd83bdd,_0x3363fb,_0x8a244a,_0x4395db){this['_name']=_0x14ea55['name'],this['_track']=_0x14ea55,this['_snapshot']=new Ig(_0x14ea55),this['_playing']=_0x3363fb,this['_time']=_0x2cfd79,this['_speed']=_0xd83bdd,this['_loop']=_0x8a244a,this['_blendWeig'+'ht']=-0x54d*0x3+0xd*0x2f5+0x1*-0x1689,this['_blendOrde'+'r']=-0xc41*-0x1+-0x1748+0xb07,this['_eventHand'+'ler']=_0x4395db,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x2b4444){this['_name']=_0x2b4444;}get['name'](){return this['_name'];}set['track'](_0x5b98e5){this['_track']=_0x5b98e5,this['_snapshot']=new Ig(_0x5b98e5);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1df7e1){this['_time']=_0x1df7e1,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0xb72bda){const _0x33b227=Math['sign'](_0xb72bda)!==Math['sign'](this['_speed']);this['_speed']=_0xb72bda,_0x33b227&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x57fb1c){this['_loop']=_0x57fb1c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x87744){this['_blendWeig'+'ht']=_0x87744;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x5ed265){this['_blendOrde'+'r']=_0x5ed265;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x348645){this['_eventCurs'+'or']=_0x348645;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0xc0f+-0xeaf+0x1c*0x18:this['_track']['events']['length']-(-0x785+0x1*0x2001+-0x187b);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x1a5+0x91a+-0x3*0x395;}['nextEventA'+'headOfTime'](_0x27c941){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x27c941:this['nextEvent']['time']>=_0x27c941:!(0x80*-0x3d+0x2691+-0x810);}['nextEventB'+'ehindTime'](_0x3dec20){return this['nextEvent']?_0x3dec20===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x3dec20:this['nextEvent']['time']<=_0x3dec20:this['isReverse']?this['nextEvent']['time']>_0x3dec20:this['nextEvent']['time']<_0x3dec20:!(0x3*-0x7d5+-0x5f5+0x1d75);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x2055+-0x1c7a*0x1+0x1c*0x22c):0x91e+-0x656*-0x5+0x175*-0x1c;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x3d*0x21+-0x1*0x16cf+0x1*0xef3):0x120d+-0x1959+0x74d,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x6*0x371+-0x1156+0x25fc:this['_eventCurs'+'or']<0x26*-0xf7+0x5*-0x11e+0x1520*0x2&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x209f*-0x1+-0x15e2+-0xabc));}['clipFrameT'+'ime'](_0xfb4126){const _0x37fcca=qo['eventFrame'];_0x37fcca['start']=0x5*0x10f+0x1deb+-0x2336,_0x37fcca['end']=_0xfb4126,_0x37fcca['residual']=-0x23a1*-0x1+-0x235b+0x1*-0x46,this['isReverse']?_0xfb4126<0xb5*0x21+-0x2*-0xbb6+-0x2ec1&&(_0x37fcca['start']=this['track']['duration'],_0x37fcca['end']=0x57d+0x1185+-0x1702,_0x37fcca['residual']=_0xfb4126+this['track']['duration']):_0xfb4126>this['track']['duration']&&(_0x37fcca['start']=-0x1370*-0x1+0x6c9+-0x1a39,_0x37fcca['end']=this['track']['duration'],_0x37fcca['residual']=_0xfb4126-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x227d2d,_0x4c0d88){return this['nextEventA'+'headOfTime'](_0x227d2d)&&this['nextEventB'+'ehindTime'](_0x4c0d88)?(this['fireNextEv'+'ent'](),!(-0x25*-0xdf+0x1729+-0x3764)):!(0x2361+0x617+-0x2977);}['activeEven'+'tsForFrame'](_0x5b842b,_0x5e1d65){const _0x1ee233=qo['eventFrame'];this['clipFrameT'+'ime'](_0x5e1d65);const _0x37e8f6=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x5b842b,_0x1ee233['end'])&&_0x37e8f6!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1ee233['residual'])>-0x1adc+-0x103a+0xa*0x44f&&this['activeEven'+'tsForFrame'](_0x1ee233['start'],_0x1ee233['residual']);}['progressFo'+'rTime'](_0xc08c94){return _0xc08c94*this['_speed']/this['_track']['duration'];}['_update'](_0x71ae4d){if(this['_playing']){let _0x3bf4fd=this['_time'];const _0x3e9968=this['_track']['duration'],_0x26fa55=this['_speed'],_0x38a0a4=this['_loop'];this['_track']['events']['length']>-0x1f2f+-0x223d+0x416c&&_0x3e9968>0x3dc+0x204f*0x1+-0x2f*0xc5&&this['activeEven'+'tsForFrame'](_0x3bf4fd,_0x3bf4fd+_0x26fa55*_0x71ae4d),_0x3bf4fd+=_0x26fa55*_0x71ae4d,_0x26fa55>=-0x204*0x6+0xfef+-0x3d7?_0x3bf4fd>_0x3e9968&&(_0x38a0a4?_0x3bf4fd=_0x3bf4fd%_0x3e9968||0x1*-0x279+-0x2157+0x23d0:(_0x3bf4fd=this['_track']['duration'],this['pause']())):_0x3bf4fd<-0xd3*0x15+0x6a8+-0xaa7*-0x1&&(_0x38a0a4?_0x3bf4fd=_0x3e9968+(_0x3bf4fd%_0x3e9968||0x1*0x2287+0x158e+-0x3815):(_0x3bf4fd=0xa*-0xc5+-0x448*-0x1+0x36a,this['pause']())),this['_time']=_0x3bf4fd;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x4*0x919+0x4c5+0x1f9f*0x1),this['_time']=-0x130d+-0x4*-0xe8+-0x167*-0xb;}['stop'](){this['_playing']=!(0x2*-0x11f1+0x25f8+0x1*-0x215),this['_time']=0x2*0x1206+0x17f9+-0x23*0x1b7;}['pause'](){this['_playing']=!(0x846+-0x11*-0x2e+-0xd*0xdf);}['resume'](){this['_playing']=!(0xfe9+0x1*-0x19ed+0xa04);}['reset'](){this['_time']=-0x229*-0x5+-0x1*0xe0a+0x33d;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x181161,_0x4c47a2){const _0x3bdc1d=_0x181161['length'];let _0x31dcf3=0x2*-0x102b+-0x178+0x21ce;for(let _0x20eee9=0x46a+0x17*0xda+-0x80*0x30;_0x20eee9<_0x3bdc1d;++_0x20eee9)_0x31dcf3+=_0x181161[_0x20eee9]*_0x4c47a2[_0x20eee9];return _0x31dcf3;}static['normalize'](_0x4d7a08){let _0x1c2093=Ht['dot'](_0x4d7a08,_0x4d7a08);if(_0x1c2093>0x14b7*0x1+-0x1223*-0x1+-0x26da){_0x1c2093=(-0x1fd8+0xc7*0x6+0x1*0x1b2f)/Math['sqrt'](_0x1c2093);const _0x11ba6e=_0x4d7a08['length'];for(let _0x2c275e=0xb8+0x1130+-0x11e8;_0x2c275e<_0x11ba6e;++_0x2c275e)_0x4d7a08[_0x2c275e]*=_0x1c2093;}}static['set'](_0x20b3ef,_0x4a4d9b,_0x3d7cca){const _0x454cb6=_0x20b3ef['length'];if(_0x3d7cca==='quaternion'){let _0x2fb762=Ht['dot'](_0x4a4d9b,_0x4a4d9b);_0x2fb762>-0x14de+0xf51+0x58d&&(_0x2fb762=(-0x15d0+-0x11c2+-0x1*-0x2793)/Math['sqrt'](_0x2fb762));for(let _0x46db60=0x2649+0x78f+-0x2dd8;_0x46db60<_0x454cb6;++_0x46db60)_0x20b3ef[_0x46db60]=_0x4a4d9b[_0x46db60]*_0x2fb762;}else{for(let _0x205684=-0x1fa5*-0x1+-0xbb9*-0x3+0x42d0*-0x1;_0x205684<_0x454cb6;++_0x205684)_0x20b3ef[_0x205684]=_0x4a4d9b[_0x205684];}}static['blendVec'](_0xf3de4a,_0x323ee4,_0x27b2e5,_0x90789e){const _0x1ec51c=_0x90789e?0x1af3+-0x1*0x100a+-0xae8:-0x9da+0x323+-0x14*-0x56-_0x27b2e5,_0x1bc326=_0xf3de4a['length'];for(let _0x55807b=0x35c+-0xe05+0x1*0xaa9;_0x55807b<_0x1bc326;++_0x55807b)_0xf3de4a[_0x55807b]=_0xf3de4a[_0x55807b]*_0x1ec51c+_0x323ee4[_0x55807b]*_0x27b2e5;}static['blendQuat'](_0x416a45,_0x23f407,_0x223d2f,_0x35b3af){const _0x1bb3e1=_0x416a45['length'],_0x618494=_0x35b3af?0xa*0x2fc+0x1*0x1e9d+0x1*-0x3c74:0x30e*0xc+-0x15c4+0x25*-0x67-_0x223d2f;Ht['dot'](_0x416a45,_0x23f407)<-0x1b1b+-0x6ee+0x2209&&(_0x223d2f=-_0x223d2f);for(let _0x544842=0x24f1+0x4c7*-0x3+0x1*-0x169c;_0x544842<_0x1bb3e1;++_0x544842)_0x416a45[_0x544842]=_0x416a45[_0x544842]*_0x618494+_0x23f407[_0x544842]*_0x223d2f;_0x35b3af||Ht['normalize'](_0x416a45);}static['blend'](_0x3e3702,_0x2c6101,_0x56729f,_0xd27d5d,_0x409bbf){_0xd27d5d==='quaternion'?Ht['blendQuat'](_0x3e3702,_0x2c6101,_0x56729f,_0x409bbf):Ht['blendVec'](_0x3e3702,_0x2c6101,_0x56729f,_0x409bbf);}static['stableSort'](_0x4087d5,_0x28b823){const _0x4c91ca=_0x4087d5['length'];for(let _0x50316d=0x1*0xac9+0x112c+-0x1bf5;_0x50316d<_0x4c91ca-(0x198f+-0x21ba+0x2*0x416);++_0x50316d)for(let _0x1b6596=_0x50316d+(0x91+0x185*-0x3+0x3ff);_0x1b6596<_0x4c91ca;++_0x1b6596)if(_0x28b823(_0x4087d5[_0x1b6596],_0x4087d5[_0x50316d])){const _0x3e6533=_0x4087d5[_0x50316d];_0x4087d5[_0x50316d]=_0x4087d5[_0x1b6596],_0x4087d5[_0x1b6596]=_0x3e6533;}}}const st=class st{constructor(_0x45d422,_0x39c66b){this['_component']=_0x45d422,this['mask']=new Int8Array(_0x45d422['layers']['length']),this['weights']=new Float32Array(_0x45d422['layers']['length']),this['totalWeigh'+'t']=-0x35e*0x2+0x1*-0x13ab+0x1a67,this['counter']=-0x22c7+-0x8c1+0x4*0xae2,this['layerCount'+'er']=-0xe1e+-0x1831+0xcc5*0x3,this['valueType']=_0x39c66b,this['dirty']=!(0xa7*0x1a+-0x2228+0x1132),this['value']=_0x39c66b===st['TYPE_QUAT']?[0x2438+0x4b*0x6b+0x161*-0x31,-0x1*-0x23e3+-0xda3+-0x1640,0x1*-0x1ed9+-0x1c86+0x1*0x3b5f,-0x1e9*-0xc+-0x346+-0x13a5]:[0x1d6b+0x1e2*0x9+-0x2e5d,0x421+-0x536+0x115,-0xf15+0x136*0x1f+-0x1675],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3511c9){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x105+-0x1*-0x1d7d+-0x1c78||!this['mask'][_0x3511c9]?-0x3*0x90f+-0x1349*-0x2+0x1*-0xb65:this['_normalize'+'Weights']?this['weights'][_0x3511c9]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x3511c9],-0x46*0x38+-0x246d+0x113f*0x3,-0x1cb0+-0x147c+0x312d);}['_layerBlen'+'dType'](_0x2ae5a9){return this['_component']['layers'][_0x2ae5a9]['blendType'];}['setMask'](_0x4aae5d,_0x7286cc){this['mask'][_0x4aae5d]=_0x7286cc,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x4aae5d]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x1183*-0x1+-0x3*-0x76b+-0x4be,0x8*0x3ee+0x8b6+0x6*-0x6b1,_0x4aae5d)),this['dirty']=!(0xf*0x117+-0x1c7a+0xc21));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0xe05*0x1+-0x1aab*0x1+0x28b0;for(let _0xd57201=0x1150+-0xa89+-0x15b*0x5;_0xd57201<this['weights']['length'];_0xd57201++)this['weights'][_0xd57201]=this['_component']['layers'][_0xd57201]['weight'],this['totalWeigh'+'t']+=this['mask'][_0xd57201]*this['weights'][_0xd57201];this['dirty']=!(0x2*-0xf6a+0x2d*0x9d+0x2e*0x12);}['updateValu'+'e'](_0x195648,_0x32f1d8){if(this['counter']===-0x1c0f+-0x1*0x222b+0x87*0x76&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x7c9+0x52c+0x29e,this['valueType'])),!(!this['mask'][_0x195648]||this['getWeight'](_0x195648)===-0xfc2+0x1c0d+-0xc4b)){if(this['_layerBlen'+'dType'](_0x195648)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x431e59=st['q1']['set'](this['value'][-0x4*0x365+-0x1b9+-0x1*-0xf4d],this['value'][-0xc1e*0x1+0xf3b*0x1+-0x18e*0x2],this['value'][-0x1114+0xfc0+-0x26*-0x9],this['value'][0x1*0x1a55+0x1aa7*0x1+-0x47*0xbf]),_0x51847e=st['q2']['set'](this['baseValue'][-0x91*0x12+0x1*-0x1fe8+0x2a1a],this['baseValue'][0x2587+-0x1*0x1641+-0xf45],this['baseValue'][0x20e3*0x1+-0x66a*-0x1+-0x274b],this['baseValue'][-0x1db4+-0x1bbe+0x3975]),_0x4ca9c6=st['q3']['set'](_0x32f1d8[-0x7d4+0x26af+0x3*-0xa49],_0x32f1d8[-0x3ec*0x5+-0x1*0x124d+0x25ea],_0x32f1d8[-0x1a45+0x1*-0x1408+-0x1*-0x2e4f],_0x32f1d8[-0xee1+-0x2694+0x3578]),_0x4b9318=_0x51847e['invert']()['mul'](_0x4ca9c6);_0x4b9318['slerp'](le['IDENTITY'],_0x4b9318,this['getWeight'](_0x195648)),_0x431e59['mul'](_0x4b9318),st['quatArr'][-0xa*0x31d+0x5*-0x4cd+0x1*0x3723]=_0x431e59['x'],st['quatArr'][0x2531+-0x4*-0x5ec+0x8*-0x79c]=_0x431e59['y'],st['quatArr'][-0x8*0x1f+-0x410+0x56*0xf]=_0x431e59['z'],st['quatArr'][0xc5e+0x1c2b*0x1+0x10a*-0x27]=_0x431e59['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x10f*-0x9+-0x1710+0x2097]=_0x32f1d8[-0x12b2+0x86d+-0xb*-0xef]-this['baseValue'][0xf60+-0x14fd+-0x1df*-0x3],st['vecArr'][-0x1e10+-0x1d*-0x11b+-0x33*0xa]=_0x32f1d8[0x1a81+-0x24fc+0xa7c]-this['baseValue'][-0x1*-0x160f+-0x1877*0x1+0x269],st['vecArr'][-0x198a+0x1edd+-0x551]=_0x32f1d8[-0x711+0x3c6+0x34d]-this['baseValue'][-0x5*0x7c+-0x1d*-0x148+-0x7*0x4f6],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x195648),this['valueType'],!(-0x1d45+0x647*-0x5+0x3ca8));}else Ht['blend'](this['value'],_0x32f1d8,this['getWeight'](_0x195648),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0xc25*-0x3+-0x5*-0x1cf+0xdb2*0x2,-0x6b3+0x1cb+0x4e8*0x1,-0x122a+0x1702+-0x8*0x9b,-0xa*-0x1c8+-0xcd1+-0x1*0x4fe]),h(st,'vecArr',[0x191d+0xc39+-0x2556,0x1362+0x1114+-0x2476,-0x7e2*0x3+0x1*0x1bc3+-0x41d]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0x72*0x34+-0x703+0x1e2b*0x1,0x1*0x26cf+-0x593*-0x1+-0x256*0x13,0x137b+0x15e1+0x295c*-0x1,0x1314+-0xec*0x3+0x19*-0xa7]);let Vo=st;class Gv{constructor(_0x58ac49){this['_binder']=_0x58ac49,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x3a2535){const _0x48d16c=this['_targets'],_0x2cf992=this['_binder'],_0x41824b=_0x3a2535['track']['curves'],_0x2e02f2=_0x3a2535['snapshot'],_0x39d02b=[],_0x2b0e98=[];for(let _0x2508c4=-0x20c0+0x5af+0x1b11;_0x2508c4<_0x41824b['length'];++_0x2508c4){const _0x384da7=_0x41824b[_0x2508c4]['paths'];for(let _0x5c6c49=-0x980+-0x18a8+0x2228;_0x5c6c49<_0x384da7['length'];++_0x5c6c49){const _0x275f03=_0x384da7[_0x5c6c49],_0x3c692=_0x2cf992['resolve'](_0x275f03);let _0x1edcea=_0x48d16c[_0x3c692&&_0x3c692['targetPath']||null];if(!_0x1edcea&&_0x3c692){_0x1edcea={'target':_0x3c692,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x25d733=-0x1a85+-0x2*0x7e1+0x2a47*0x1;_0x25d733<_0x1edcea['target']['components'];++_0x25d733)_0x1edcea['value']['push'](-0xcfb+0x10f8+-0x1*0x3fd);if(_0x48d16c[_0x3c692['targetPath']]=_0x1edcea,_0x2cf992['animCompon'+'ent']){if(!_0x2cf992['animCompon'+'ent']['targets'][_0x3c692['targetPath']]){let _0x43533b;_0x3c692['targetPath']['substring'](_0x3c692['targetPath']['length']-(0x15e9*-0x1+-0x103*0xf+0x3*0xc61))==='localRotat'+'ion'?_0x43533b=Vo['TYPE_QUAT']:_0x43533b=Vo['TYPE_VEC3'],_0x2cf992['animCompon'+'ent']['targets'][_0x3c692['targetPath']]=new Vo(_0x2cf992['animCompon'+'ent'],_0x43533b);}_0x2cf992['animCompon'+'ent']['targets'][_0x3c692['targetPath']]['layerCount'+'er']++,_0x2cf992['animCompon'+'ent']['targets'][_0x3c692['targetPath']]['setMask'](_0x2cf992['layerIndex'],-0x938+-0xe59*0x2+0x25eb);}}_0x1edcea&&(_0x1edcea['curves']++,_0x39d02b['push'](_0x2e02f2['_results'][_0x2508c4]),_0x2b0e98['push'](_0x1edcea));}}this['_clips']['push'](_0x3a2535),this['_inputs']['push'](_0x39d02b),this['_outputs']['push'](_0x2b0e98);}['removeClip'](_0x36324b){const _0x3f7656=this['_targets'],_0x421cc1=this['_binder'],_0x1eda73=this['_clips'],_0x35cde1=_0x1eda73[_0x36324b]['track']['curves'];for(let _0x1b4475=0x32a*-0x4+-0x66*0x20+0x1968;_0x1b4475<_0x35cde1['length'];++_0x1b4475){const _0x4bb2dc=_0x35cde1[_0x1b4475]['paths'];for(let _0x4ae4d4=-0x31*0x1d+0x9f0+-0x463;_0x4ae4d4<_0x4bb2dc['length'];++_0x4ae4d4){const _0x291b2b=_0x4bb2dc[_0x4ae4d4],_0x1150e3=this['_binder']['resolve'](_0x291b2b);_0x1150e3&&(_0x1150e3['curves']--,_0x1150e3['curves']===0x250a+0x7c8+-0x2cd2&&(_0x421cc1['unresolve'](_0x291b2b),delete _0x3f7656[_0x1150e3['targetPath']],_0x421cc1['animCompon'+'ent']&&_0x421cc1['animCompon'+'ent']['targets'][_0x1150e3['targetPath']]['layerCount'+'er']--));}}_0x1eda73['splice'](_0x36324b,0x2*-0x427+-0x1dad+0x25fc),this['_inputs']['splice'](_0x36324b,0x21d0+0x1bfc+-0x3dcb),this['_outputs']['splice'](_0x36324b,0x2*0xacf+-0x490+-0x5af*0x3);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1a3f+0x22c3*0x1+0x1b4*-0x5;)this['removeClip'](0x70e+0x27*-0x37+0x153*0x1);}['updateClip'+'Track'](_0x11584d,_0xbcc38a){this['_clips']['forEach'](_0x279818=>{_0x279818['name']['includes'](_0x11584d)&&(_0x279818['track']=_0xbcc38a);}),this['rebind']();}['findClip'](_0x2b34d0){const _0x59cd34=this['_clips'];for(let _0x52c9fe=0x8d9*0x1+-0x207b+0x25d*0xa;_0x52c9fe<_0x59cd34['length'];++_0x52c9fe){const _0x2e9ba8=_0x59cd34[_0x52c9fe];if(_0x2e9ba8['name']===_0x2b34d0)return _0x2e9ba8;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x8f57f7=[...this['clips']];this['removeClip'+'s'](),_0x8f57f7['forEach'](_0x4ea10c=>{this['addClip'](_0x4ea10c);});}['assignMask'](_0x577943){return this['_binder']['assignMask'](_0x577943);}['update'](_0x10157,_0x3a8682=!(-0x268b+-0x979+0x3004)){const _0x1fd72e=this['_clips'],_0x545fff=_0x1fd72e['map']((_0x49be4d,_0x1648be)=>_0x1648be);Ht['stableSort'](_0x545fff,(_0x33412c,_0x501fc2)=>_0x1fd72e[_0x33412c]['blendOrder']<_0x1fd72e[_0x501fc2]['blendOrder']);for(let _0x4cb5f1=0xf*-0x124+-0x2b*-0x25+-0x1*-0xae5;_0x4cb5f1<_0x545fff['length'];++_0x4cb5f1){const _0x3c140d=_0x545fff[_0x4cb5f1],_0x8d896c=_0x1fd72e[_0x3c140d],_0x59aba7=this['_inputs'][_0x3c140d],_0x53ffb7=this['_outputs'][_0x3c140d],_0x2de0e5=_0x8d896c['blendWeigh'+'t'];if(_0x2de0e5>-0x1*0x1741+-0x1aaf+0x31f0&&_0x8d896c['_update'](_0x10157),!_0x3a8682)break;let _0x278702,_0x4c2e90,_0x4fb303;if(_0x2de0e5>=-0x5e6*-0x1+-0x1*0x1645+0x1060){for(let _0x1368d1=-0xa39+0x2*0xc47+0xe55*-0x1;_0x1368d1<_0x59aba7['length'];++_0x1368d1)_0x278702=_0x59aba7[_0x1368d1],_0x4c2e90=_0x53ffb7[_0x1368d1],_0x4fb303=_0x4c2e90['value'],Ht['set'](_0x4fb303,_0x278702,_0x4c2e90['target']['type']),_0x4c2e90['blendCount'+'er']++;}else{if(_0x2de0e5>0x2f*-0x95+0x1bce+-0x17*0x5){for(let _0x3ad1d2=0x19c1+-0x5*0x256+-0xe13;_0x3ad1d2<_0x59aba7['length'];++_0x3ad1d2)_0x278702=_0x59aba7[_0x3ad1d2],_0x4c2e90=_0x53ffb7[_0x3ad1d2],_0x4fb303=_0x4c2e90['value'],_0x4c2e90['blendCount'+'er']===0x1*0x202e+-0x2553+0x1*0x525?Ht['set'](_0x4fb303,_0x278702,_0x4c2e90['target']['type']):Ht['blend'](_0x4fb303,_0x278702,_0x2de0e5,_0x4c2e90['target']['type']),_0x4c2e90['blendCount'+'er']++;}}}const _0x4b6d9f=this['_targets'],_0x48632f=this['_binder'];for(const _0x5a8e0a in _0x4b6d9f)if(_0x4b6d9f['hasOwnProp'+'erty'](_0x5a8e0a)){const _0x1ade71=_0x4b6d9f[_0x5a8e0a];if(_0x48632f['animCompon'+'ent']&&_0x1ade71['target']['isTransfor'+'m']){const _0x269745=_0x48632f['animCompon'+'ent']['targets'][_0x5a8e0a];_0x269745['counter']===_0x269745['layerCount'+'er']&&(_0x269745['counter']=0x1c7b+0x1*-0x1413+-0x868),_0x269745['path']||(_0x269745['path']=_0x5a8e0a,_0x269745['baseValue']=_0x1ade71['target']['get'](),_0x269745['setter']=_0x1ade71['target']['set']),_0x269745['updateValu'+'e'](_0x48632f['layerIndex'],_0x1ade71['value']),_0x269745['counter']++;}else _0x1ade71['target']['set'](_0x1ade71['value']);_0x1ade71['blendCount'+'er']=0x221a+-0x3e3*0x6+-0x1e*0x5c;}this['_binder']['update'](_0x10157);}}class Hv{constructor(_0x5a3762){this['_events']=[..._0x5a3762],this['_events']['sort']((_0x205c9c,_0x2665a4)=>_0x205c9c['time']-_0x2665a4['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x310db4,_0x36e4a4,_0x5bb193,_0x4ac3a1,_0x550a78,_0x5745cb=new Hv([])){this['_name']=_0x310db4,this['_duration']=_0x36e4a4,this['_inputs']=_0x5bb193,this['_outputs']=_0x4ac3a1,this['_curves']=_0x550a78,this['_animEvent'+'s']=_0x5745cb;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x34d5d5){this['_animEvent'+'s']=_0x34d5d5;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x4119ef,_0x1a66eb){_0x1a66eb['_time']=_0x4119ef;const _0x48c555=this['_inputs'],_0x50d478=this['_outputs'],_0x5499cd=this['_curves'],_0x2cf1f1=_0x1a66eb['_cache'],_0x385764=_0x1a66eb['_results'];for(let _0x398c95=-0x1*0x637+0xfa6+0xa1*-0xf;_0x398c95<_0x48c555['length'];++_0x398c95)_0x2cf1f1[_0x398c95]['update'](_0x4119ef,_0x48c555[_0x398c95]['_data']);for(let _0x394d59=0x118*-0x22+-0x24a+0x277a;_0x394d59<_0x5499cd['length'];++_0x394d59){const _0x13e862=_0x5499cd[_0x394d59],_0xdf9215=_0x50d478[_0x13e862['_output']],_0x4065ad=_0x385764[_0x394d59];_0x2cf1f1[_0x13e862['_input']]['eval'](_0x4065ad,_0x13e862['_interpola'+'tion'],_0xdf9215);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x59927c,_0x30503a){_0x30503a=_0x30503a||'.';const _0x2ec47f=function(_0x29c63f){return _0x29c63f['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x30503a,'g'),'\x5c'+_0x30503a);};return _0x59927c['map'](_0x2ec47f)['join'](_0x30503a);}static['splitPath'](_0xc7775,_0x5a8157){_0x5a8157=_0x5a8157||'.';const _0x32dd0b=[];let _0x4b2ed0='',_0x5ed438=0x9*0x3bd+-0x1b66+0x3*-0x215;for(;_0x5ed438<_0xc7775['length'];){let _0x3710c2=_0xc7775[_0x5ed438++];_0x3710c2==='\x5c'&&_0x5ed438<_0xc7775['length']?(_0x3710c2=_0xc7775[_0x5ed438++],_0x3710c2==='\x5c'||_0x3710c2===_0x5a8157?_0x4b2ed0+=_0x3710c2:_0x4b2ed0+='\x5c'+_0x3710c2):_0x3710c2===_0x5a8157?(_0x32dd0b['push'](_0x4b2ed0),_0x4b2ed0=''):_0x4b2ed0+=_0x3710c2;}return _0x4b2ed0['length']>-0x43*0x4+0x1fb7+-0x1eab&&_0x32dd0b['push'](_0x4b2ed0),_0x32dd0b;}static['encode'](_0xc196ed,_0x244851,_0x22dabb){return(Array['isArray'](_0xc196ed)?_0xc196ed['join']('/'):_0xc196ed)+'/'+_0x244851+'/'+(Array['isArray'](_0x22dabb)?_0x22dabb['join']('/'):_0x22dabb);}['resolve'](_0x8e4d01){return null;}['unresolve'](_0x567dd7){}['update'](_0x27a074){}}class xu{constructor(_0x1269bd,_0xd450ca,_0x4db737,_0x658998){_0x1269bd['set']?(this['_set']=_0x1269bd['set'],this['_get']=_0x1269bd['get']):this['_set']=_0x1269bd,this['_type']=_0xd450ca,this['_component'+'s']=_0x4db737,this['_targetPat'+'h']=_0x658998,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x4*0x5c3+0x16dd+0x3c))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x4*-0x258+-0xd*0x11b+0x50c))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x6*0x7f+0x81d*0x1+0x2d*-0x1d))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x35a98d){h(this,'_isPathInM'+'ask',(_0x3bc5ba,_0x30e648)=>{const _0x4a0375=this['_mask'][_0x3bc5ba];if(_0x4a0375){if(_0x4a0375['children']||_0x30e648&&_0x4a0375['value']!==!(-0x6a9*0x1+-0x2211+0x1*0x28bb))return!(0x163*-0x19+-0x23e0*0x1+0x468b);}else return!(0x3a9*0x3+0x14aa+-0x51*0x64);return!(0x5fc*0x3+-0x1c22+0xa2f);});if(this['graph']=_0x35a98d,!_0x35a98d)return;this['_mask']=null;const _0x4440be={},_0x2d9091=function(_0xf803d3){_0x4440be[_0xf803d3['name']]=_0xf803d3;for(let _0x2b4712=-0x434*0x1+0x1df*-0x7+0x114d;_0x2b4712<_0xf803d3['children']['length'];++_0x2b4712)_0x2d9091(_0xf803d3['children'][_0x2b4712]);};_0x2d9091(_0x35a98d),this['nodes']=_0x4440be,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x1f9614=function(_0x3a04f2){let _0x436624=_0x3a04f2;for(;_0x436624&&!(_0x436624 instanceof lt);)_0x436624=_0x436624['parent'];let _0x499a8a;return _0x436624&&(_0x436624['render']?_0x499a8a=_0x436624['render']['meshInstan'+'ces']:_0x436624['model']&&(_0x499a8a=_0x436624['model']['meshInstan'+'ces'])),_0x499a8a;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x5037bf){const _0x10e93a=_0x5037bf['localPosit'+'ion'],_0x5a701c=function(_0x5f52b7){_0x10e93a['set'](..._0x5f52b7);};return Sr['createAnim'+'Target'](_0x5a701c,'vector',-0x2*-0x5a+0x9+0x3*-0x3e,_0x5037bf,'localPosit'+'ion');},'localRotation':function(_0x4ae9a9){const _0x143132=_0x4ae9a9['localRotat'+'ion'],_0x39b52e=function(_0x675845){_0x143132['set'](..._0x675845);};return Sr['createAnim'+'Target'](_0x39b52e,'quaternion',0x1f90+-0x8*-0x32b+-0x38e4,_0x4ae9a9,'localRotat'+'ion');},'localScale':function(_0x32409e){const _0x10fa5f=_0x32409e['localScale'],_0x4949c4=function(_0x2b7ca9){_0x10fa5f['set'](..._0x2b7ca9);};return Sr['createAnim'+'Target'](_0x4949c4,'vector',-0x2*0x11e0+-0x16bb*0x1+0x3a7e,_0x32409e,'localScale');},'weight':function(_0x1adeda,_0x17b074){_0x17b074['indexOf']('name.')===-0xc1b+0xceb+0xd*-0x10?_0x17b074=_0x17b074['replace']('name.',''):_0x17b074=Number(_0x17b074);const _0x4cbf17=_0x1f9614(_0x1adeda);let _0x6699a0;if(_0x4cbf17){for(let _0xb76e96=0xa6d+0x305+-0x1*0xd72;_0xb76e96<_0x4cbf17['length'];++_0xb76e96)if(_0x4cbf17[_0xb76e96]['node']['name']===_0x1adeda['name']&&_0x4cbf17[_0xb76e96]['morphInsta'+'nce']){const _0x272cae=_0x4cbf17[_0xb76e96]['morphInsta'+'nce'],_0x14ef8b=_0x810fae=>{_0x272cae['setWeight'](_0x17b074,_0x810fae[-0x49*0x53+-0x6cc+0x2c5*0xb]);};_0x6699a0||(_0x6699a0=[]),_0x6699a0['push'](_0x14ef8b);}}if(_0x6699a0){const _0x1d83e6=_0xb2cc84=>{for(let _0x75801c=-0x18eb+-0xaa9+0x2394;_0x75801c<_0x6699a0['length'];++_0x75801c)_0x6699a0[_0x75801c](_0xb2cc84);};return Sr['createAnim'+'Target'](_0x1d83e6,'number',0xb47+-0x1b1d+-0x1*-0xfd7,_0x1adeda,'weight.'+_0x17b074);}return null;},'materialTexture':(_0x2d6dec,_0x555fd0)=>{const _0x277498=_0x1f9614(_0x2d6dec);if(_0x277498){let _0xeba8bc;for(let _0x11526f=0xfd9*-0x2+0x15*0x6f+0x1697;_0x11526f<_0x277498['length'];++_0x11526f)if(_0x277498[_0x11526f]['node']['name']===_0x2d6dec['name']){_0xeba8bc=_0x277498[_0x11526f];break;}if(_0xeba8bc){const _0x16a01e=_0x224ada=>{const _0x5c653d=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x224ada[-0x65*0x1a+-0x24cc+0x2f0e]);_0x5c653d&&_0x5c653d['resource']&&_0x5c653d['type']==='texture'&&(_0xeba8bc['material'][_0x555fd0]=_0x5c653d['resource'],_0xeba8bc['material']['update']());};return Sr['createAnim'+'Target'](_0x16a01e,'vector',-0xd51*0x1+-0x9*0x23+0x19*0x95,_0x2d6dec,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x5ee068){if(!this['_mask'])return!(-0x1c09+-0x1*0x1a02+0x360b);const _0x47794b=[_0x5ee068['entityPath'][-0xf9*0x2+0xe45*0x1+0xc53*-0x1],this['graph']['name']];for(let _0x486c0a=0xd*-0xd6+-0x17d2*-0x1+-0xcf4;_0x486c0a<_0x47794b['length'];++_0x486c0a){let _0x11f401=_0x47794b[_0x486c0a];if(this['_isPathInM'+'ask'](_0x11f401,_0x5ee068['entityPath']['length']===-0x34b*-0x2+-0xad+-0x9*0xa8))return!(-0x22a5+-0x14f*-0x11+-0x17*-0x8a);for(let _0x12d57a=-0x133*-0xc+0xec4+-0x1b7*0x11;_0x12d57a<_0x5ee068['entityPath']['length'];_0x12d57a++)if(_0x11f401+='/'+_0x5ee068['entityPath'][_0x12d57a],this['_isPathInM'+'ask'](_0x11f401,_0x12d57a===_0x5ee068['entityPath']['length']-(-0x1*0x150d+0x11a3+-0x36b*-0x1)))return!(0xcb*-0x13+0x3*0x955+-0xcee);}return!(-0x322*0x3+-0xff9+-0xe*-0x1d0);}['findNode'](_0x51d0ec){if(!this['_isPathAct'+'ive'](_0x51d0ec))return null;let _0x56d815;if(this['graph']&&(_0x56d815=this['graph']['findByPath'](_0x51d0ec['entityPath']),_0x56d815||(_0x56d815=this['graph']['findByPath'](_0x51d0ec['entityPath']['slice'](0x2a8+-0xf72+0xccb)))),!_0x56d815){_0x56d815=this['nodes'][_0x51d0ec['entityPath'][_0x51d0ec['entityPath']['length']-(-0xdf4+0x2*-0x7b1+0x1d57)]||''];const _0x58e59e=ra['encode'](_0x51d0ec['entityPath'][_0x51d0ec['entityPath']['length']-(-0x32*-0x22+0x35*0x5+-0x1*0x7ac)]||'','graph',_0x51d0ec['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x58e59e]===0x266d*-0x1+-0x1aff*0x1+0x745*0x9&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x58e59e+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x58e59e])?this['visitedFal'+'lbackGraph'+'Paths'][_0x58e59e]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x58e59e]=0x2682+0x5da+-0x2c5c;}return _0x56d815;}static['createAnim'+'Target'](_0x15c5fe,_0x34c1d2,_0x5a900d,_0x213baf,_0x5d16ce,_0x43444d){const _0x4658ce=ra['encode'](_0x213baf['path'],_0x43444d||'entity',_0x5d16ce);return new xu(_0x15c5fe,_0x34c1d2,_0x5a900d,_0x4658ce);}['resolve'](_0x3419d1){const _0x32feb6=ra['encode'](_0x3419d1['entityPath'],_0x3419d1['component'],_0x3419d1['propertyPa'+'th']);let _0x168d86=this['targetCach'+'e'][_0x32feb6];if(_0x168d86)return _0x168d86;const _0x1c19d7=this['findNode'](_0x3419d1);if(!_0x1c19d7)return null;const _0x570e66=this['handlers'][_0x3419d1['propertyPa'+'th']];return!_0x570e66||(_0x168d86=_0x570e66(_0x1c19d7),!_0x168d86)?null:(this['targetCach'+'e'][_0x32feb6]=_0x168d86,this['nodeCounts'][_0x1c19d7['path']]?this['nodeCounts'][_0x1c19d7['path']]++:(this['activeNode'+'s']['push'](_0x1c19d7),this['nodeCounts'][_0x1c19d7['path']]=-0x24d+0x219e*0x1+-0x30*0xa7),_0x168d86);}['unresolve'](_0x33e5e7){if(_0x33e5e7['component']!=='graph')return;const _0x99f18=this['nodes'][_0x33e5e7['entityPath'][_0x33e5e7['entityPath']['length']-(-0x6*0x51+-0xaeb+0xcd2)]||''];if(this['nodeCounts'][_0x99f18['path']]--,this['nodeCounts'][_0x99f18['path']]===-0x1af3*0x1+0x1bd0+-0xdd){const _0xa544d8=this['activeNode'+'s'],_0x4b4d63=_0xa544d8['indexOf'](_0x99f18['node']),_0x369ecb=_0xa544d8['length'];_0x4b4d63<_0x369ecb-(0x2199+0x12*0x1a7+-0x3f56)&&(_0xa544d8[_0x4b4d63]=_0xa544d8[_0x369ecb-(0x746+0x17a4+0x1ee9*-0x1)]),_0xa544d8['pop']();}}['update'](_0x43df1c){const _0x465a10=this['activeNode'+'s'];for(let _0x334bf8=-0x2dd*0x1+-0x231d+0x1*0x25fa;_0x334bf8<_0x465a10['length'];++_0x334bf8)_0x465a10[_0x334bf8]['_dirtifyLo'+'cal']();}['assignMask'](_0x10d1b6){return _0x10d1b6!==this['_mask']?(this['_mask']=_0x10d1b6,!(-0x10f8+-0x26a3+0x379b)):!(-0x27*-0x85+-0xf2a*0x1+0x146*-0x4);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x59f*0x3+0x6*0x503+-0x467*0x3)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',-0x2551+-0x1*-0x1d6e+-0x2a1*-0x3),h(this,'blending',!(0x1355+0x61*-0x29+-0x1*0x3cb)),h(this,'blendSpeed',-0x1*0x68f+0x9e*-0x2b+0x2119*0x1),h(this,'activate',!(-0xbf0+-0x7b4*0x1+0x13a4)),h(this,'speed',0x15f5*0x1+-0xd*0x1c3+0x1b*0x9);}set['animations'](_0x426798){this['_animation'+'s']=_0x426798,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x3bae54){const _0x40af64=this['_assets'];if(_0x40af64&&_0x40af64['length']){for(let _0xd112a6=-0xc51+-0xd54*-0x2+-0xe57;_0xd112a6<_0x40af64['length'];_0xd112a6++)if(_0x40af64[_0xd112a6]){const _0x2a9e9c=this['system']['app']['assets']['get'](_0x40af64[_0xd112a6]);if(_0x2a9e9c){_0x2a9e9c['off']('change',this['onAssetCha'+'nged'],this),_0x2a9e9c['off']('remove',this['onAssetRem'+'oved'],this);const _0x42f55a=this['animations'+'Index'][_0x2a9e9c['id']];this['currAnim']===_0x42f55a&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x42f55a],delete this['animations'+'Index'][_0x2a9e9c['id']];}}}this['_assets']=_0x3bae54;const _0x101bf2=_0x3bae54['map'](_0x1de02c=>_0x1de02c instanceof pe?_0x1de02c['id']:_0x1de02c);this['loadAnimat'+'ionAssets'](_0x101bf2);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x181599){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x181599,this['skeleton']['addTime'](-0x2*-0x238+-0x615+-0x1*-0x1a5),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x250db6=this['animEvalua'+'tor']['clips'];for(let _0x18808a=-0x1917*-0x1+-0x6d9*-0x5+0x1daa*-0x2;_0x18808a<_0x250db6['length'];++_0x18808a)_0x250db6[_0x18808a]['time']=_0x181599;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x46d495=this['animEvalua'+'tor']['clips'];if(_0x46d495['length']>0x1495+0x18d+-0x1622)return _0x46d495[_0x46d495['length']-(0x9*0x3f5+-0x1*0x20d3+-0x2c9)]['time'];}return-0x706*0x3+0x228d+0x7*-0x1ed;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x224f+0x1d94+0x4bb);}set['loop'](_0x349930){if(this['_loop']=_0x349930,this['skeleton']&&(this['skeleton']['looping']=_0x349930),this['animEvalua'+'tor']){for(let _0x2588ea=0x243e+0x15*-0x52+-0x1d84;_0x2588ea<this['animEvalua'+'tor']['clips']['length'];++_0x2588ea)this['animEvalua'+'tor']['clips'][_0x2588ea]['loop']=_0x349930;}}get['loop'](){return this['_loop'];}['play'](_0x238136,_0x5b5ba0=-0x259c+-0x8*-0x3b2+0x80c){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x238136]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x238136+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x238136,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x24e906=this['animations'][this['prevAnim']],_0x51cbdb=this['animations'][this['currAnim']];if(this['blending']=_0x5b5ba0>0x3*-0x417+0x14a7+0x1*-0x862&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1a7+-0x2274+0x241b,this['blendSpeed']=(0x143d+0x6e+0x14aa*-0x1)/_0x5b5ba0),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x24e906,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x51cbdb):this['skeleton']['animation']=_0x51cbdb),this['animEvalua'+'tor']){const _0x4d25f5=this['animEvalua'+'tor'];if(this['blending']){for(;_0x4d25f5['clips']['length']>0xc62+0x1287+0x158*-0x17;)_0x4d25f5['removeClip'](0xda9+0x1fa7+-0x2d50);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x35fb20=new Dh(this['animations'][this['currAnim']],0x1d00+0xd*0x15f+0x2ed3*-0x1,-0x1aff*-0x1+0x1f83+-0x3a81,!(-0x1*-0x15ad+-0x253a+-0x52f*-0x3),this['loop']);_0x35fb20['name']=this['currAnim'],_0x35fb20['blendWeigh'+'t']=this['blending']?0x1451*-0x1+0x1aab*0x1+-0x65a:0x3de+0x112+-0x1a5*0x3,_0x35fb20['reset'](),this['animEvalua'+'tor']['addClip'](_0x35fb20);}}this['playing']=!(-0x236f+-0x13*0x1d4+0x462b);}}['getAnimati'+'on'](_0x1d6b9e){return this['animations'][_0x1d6b9e];}['setModel'](_0x4b5a6a){_0x4b5a6a!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x4b5a6a,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x38c6a1=this['entity']['model'];if(_0x38c6a1){const _0xbf3116=_0x38c6a1['model'];_0xbf3116&&_0xbf3116!==this['model']&&this['setModel'](_0xbf3116);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x400eb7=Object['keys'](this['_animation'+'s']);_0x400eb7['length']>0x9b4+-0x74b*-0x3+-0x1f95&&this['play'](_0x400eb7[-0x1008+-0x173+0x117b]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4c4439=this['model'],_0x500518=this['animations'];let _0x185ecd=!(-0x2*0x7df+-0x1334+-0x1*-0x22f3),_0x2bef54=!(0x8f1+-0x42+0x457*-0x2);for(const _0xf4392b in _0x500518)_0x500518['hasOwnProp'+'erty'](_0xf4392b)&&(_0x500518[_0xf4392b]['constructo'+'r']===Qi?_0x2bef54=!(-0x1*-0x1bcf+0x757*0x1+-0x2326):_0x185ecd=!(-0x17d*0x9+-0x123a*0x1+-0x1*-0x1f9f));const _0x2348f9=_0x4c4439['getGraph']();_0x185ecd?(this['fromSkel']=new Sf(_0x2348f9),this['toSkel']=new Sf(_0x2348f9),this['skeleton']=new Sf(_0x2348f9),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x2348f9)):_0x2bef54&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x537ea9){if(!_0x537ea9||!_0x537ea9['length'])return;const _0x245711=this['system']['app']['assets'],_0x3072aa=_0x1417e0=>{if(_0x1417e0['resources']['length']>-0x19d6*-0x1+0x19d5+-0x33aa){for(let _0x5cbc8b=0x12c*-0x1f+0x26d+0x1*0x21e7;_0x5cbc8b<_0x1417e0['resources']['length'];_0x5cbc8b++)this['animations'][_0x1417e0['resources'][_0x5cbc8b]['name']]=_0x1417e0['resources'][_0x5cbc8b],this['animations'+'Index'][_0x1417e0['id']]=_0x1417e0['resources'][_0x5cbc8b]['name'];}else this['animations'][_0x1417e0['name']]=_0x1417e0['resource'],this['animations'+'Index'][_0x1417e0['id']]=_0x1417e0['name'];this['animations']=this['animations'];},_0x3850b5=_0x16ebdc=>{_0x16ebdc['off']('change',this['onAssetCha'+'nged'],this),_0x16ebdc['on']('change',this['onAssetCha'+'nged'],this),_0x16ebdc['off']('remove',this['onAssetRem'+'oved'],this),_0x16ebdc['on']('remove',this['onAssetRem'+'oved'],this),_0x16ebdc['resource']?_0x3072aa(_0x16ebdc):(_0x16ebdc['once']('load',_0x3072aa,this),this['enabled']&&this['entity']['enabled']&&_0x245711['load'](_0x16ebdc));};for(let _0x334d89=0x1*-0x1a3e+0xfdf+-0x5*-0x213,_0xf188c4=_0x537ea9['length'];_0x334d89<_0xf188c4;_0x334d89++){const _0x2388bb=_0x245711['get'](_0x537ea9[_0x334d89]);_0x2388bb?_0x3850b5(_0x2388bb):_0x245711['on']('add:'+_0x537ea9[_0x334d89],_0x3850b5);}}['onAssetCha'+'nged'](_0x3905e8,_0x149073,_0x232f9c,_0x22e117){if(_0x149073==='resource'||_0x149073==='resources'){if(_0x149073==='resources'&&_0x232f9c&&_0x232f9c['length']===-0xac3+0x639+0x48a&&(_0x232f9c=null),_0x232f9c){let _0x6df441=!(0x2412+0x601+-0x1*0x2a12);if(_0x232f9c['length']>-0x1f8c+0x522*-0x2+0x29d1){if(_0x22e117&&_0x22e117['length']>-0x43*0x1d+0x1992+-0x11fa){for(let _0x7d44bd=0x17b1+0xb03*0x1+-0x22b4;_0x7d44bd<_0x22e117['length'];_0x7d44bd++)delete this['animations'][_0x22e117[_0x7d44bd]['name']];}else delete this['animations'][_0x3905e8['name']];_0x6df441=!(0x3b3*-0x9+0x123b*0x1+0xf11);for(let _0x15bb19=-0x229d+0x2211+0x8c;_0x15bb19<_0x232f9c['length'];_0x15bb19++)this['animations'][_0x232f9c[_0x15bb19]['name']]=_0x232f9c[_0x15bb19],!_0x6df441&&this['currAnim']===_0x232f9c[_0x15bb19]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x6df441=!(-0x542*0x7+-0x1*-0x33b+0x2193),this['play'](_0x232f9c[_0x15bb19]['name']));_0x6df441||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x22e117&&_0x22e117['length']>-0x2e9*0x4+0x11a*-0x16+0x5*0x72d){for(let _0x4ec7f3=0x16cb+-0x15bd+-0x10e;_0x4ec7f3<_0x22e117['length'];_0x4ec7f3++)delete this['animations'][_0x22e117[_0x4ec7f3]['name']];}this['animations'][_0x3905e8['name']]=_0x232f9c[0x1ac*-0xb+-0x1*-0xe13+0x451]||_0x232f9c,_0x6df441=!(0x9*0x3fa+-0x2001+0x2*-0x1e4),this['currAnim']===_0x3905e8['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x6df441=!(-0x26a5+0x1*-0x1d4a+0x43ef),this['play'](_0x3905e8['name'])),_0x6df441||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x3905e8['id']]=_0x3905e8['name'];}else{if(_0x22e117['length']>-0x3e3*-0x2+0x1*0xec5+0x482*-0x5){for(let _0x66934d=0x47*0x7+0x4*-0x1+0x1*-0x1ed;_0x66934d<_0x22e117['length'];_0x66934d++)delete this['animations'][_0x22e117[_0x66934d]['name']],this['currAnim']===_0x22e117[_0x66934d]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x3905e8['name']],this['currAnim']===_0x3905e8['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x3905e8['id']];}}}['onAssetRem'+'oved'](_0x514ec2){if(_0x514ec2['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x514ec2['resources']['length']>0x2eb+0x1968+-0x1c52){for(let _0x12d729=0x1a71+0x13de+-0x1*0x2e4f;_0x12d729<_0x514ec2['resources']['length'];_0x12d729++)delete this['animations'][_0x514ec2['resources'][_0x12d729]['name']],this['currAnim']===_0x514ec2['resources'][_0x12d729]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x514ec2['name']],this['currAnim']===_0x514ec2['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x514ec2['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x1005+0x9*-0x437+0x35f5*0x1),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x1203+-0x245f+0x3662,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x451d46=-0x16c6+-0x580+-0x149*-0x16;_0x451d46<this['animEvalua'+'tor']['clips']['length'];++_0x451d46)this['animEvalua'+'tor']['clips'][_0x451d46]['stop']();this['animEvalua'+'tor']['update'](0xa71+0xb65*0x1+-0x15d6),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x31bb0f=this['assets'],_0x519f01=this['system']['app']['assets'];if(_0x31bb0f)for(let _0x167f72=0x1b*0x16b+-0x362*0xb+0x19*-0xb,_0x3f08d3=_0x31bb0f['length'];_0x167f72<_0x3f08d3;_0x167f72++){let _0x4391ca=_0x31bb0f[_0x167f72];_0x4391ca instanceof pe||(_0x4391ca=_0x519f01['get'](_0x4391ca)),_0x4391ca&&!_0x4391ca['resource']&&_0x519f01['load'](_0x4391ca);}if(this['activate']&&!this['currAnim']){const _0xb2fe1e=Object['keys'](this['animations']);_0xb2fe1e['length']>-0x4*0x6a9+-0x1d8b*-0x1+-0x1*0x2e7&&this['play'](_0xb2fe1e[-0x20f3+-0x1*0x110d+0x3200]);}}['onBeforeRe'+'move'](){for(let _0x531018=0x157+0x3eb+-0x542;_0x531018<this['assets']['length'];_0x531018++){let _0x4abe0e=this['assets'][_0x531018];typeof _0x4abe0e=='number'&&(_0x4abe0e=this['system']['app']['assets']['get'](_0x4abe0e)),_0x4abe0e&&(_0x4abe0e['off']('change',this['onAssetCha'+'nged'],this),_0x4abe0e['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x3efd2c){if(this['blending']&&(this['blend']+=_0x3efd2c*this['blendSpeed'],this['blend']>=-0x1*0x1a54+-0xb3b*0x3+0x24f*0x1a&&(this['blend']=0x30*-0x8e+-0x101*-0x7+0x139a)),this['playing']){const _0x4db73f=this['skeleton'];if(_0x4db73f!==null&&this['model']!==null){if(this['blending'])_0x4db73f['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x944834=_0x3efd2c*this['speed'];_0x4db73f['addTime'](_0x944834),this['speed']>0x1b*-0x7e+0x1*-0xdbd+-0xbb*-0x25&&_0x4db73f['_time']===_0x4db73f['animation']['duration']&&!this['loop']?this['playing']=!(-0x1*0x20af+0x86*0x44+-0x2*0x174):this['speed']<-0xf5f+-0xb*0x151+0x1dda&&_0x4db73f['_time']===-0x2*-0x1337+0x11ac+-0x381a&&!this['loop']&&(this['playing']=!(0x4b3+0x106b+0x17*-0xeb));}this['blending']&&this['blend']===0x2*-0x772+-0x29*-0x35+0x668&&(_0x4db73f['animation']=this['toSkel']['animation']),_0x4db73f['updateGrap'+'h']();}}const _0x22d5f7=this['animEvalua'+'tor'];if(_0x22d5f7){for(let _0x397cf5=-0xc70+-0x13b6+0x1*0x2026;_0x397cf5<_0x22d5f7['clips']['length'];++_0x397cf5){const _0x529ea0=_0x22d5f7['clips'][_0x397cf5];_0x529ea0['speed']=this['speed'],this['playing']?_0x529ea0['resume']():_0x529ea0['pause']();}this['blending']&&_0x22d5f7['clips']['length']>0x2119+-0x2088+-0x8*0x12&&(_0x22d5f7['clips'][0xbc*-0x1+0x199c+0x1*-0x18df]['blendWeigh'+'t']=this['blend']),_0x22d5f7['update'](_0x3efd2c);}this['blending']&&this['blend']===0x1*-0x1321+-0x1802+0x2b24&&(this['blending']=!(0x2*-0xfd2+-0x15bb+0x7a0*0x7));}}class LL{constructor(){this['enabled']=!(0xea0+0x157f+-0x241f);}}const Tu=['enabled'];class RL extends ct{constructor(_0x14be8d){super(_0x14be8d),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x347dee,_0x5cecc3,_0xd7838b){_0xd7838b=['activate','enabled','loop','speed','assets'];for(const _0x431b1b of _0xd7838b)_0x5cecc3['hasOwnProp'+'erty'](_0x431b1b)&&(_0x347dee[_0x431b1b]=_0x5cecc3[_0x431b1b]);super['initialize'+'ComponentD'+'ata'](_0x347dee,_0x5cecc3,Tu);}['cloneCompo'+'nent'](_0x4a516f,_0x34caff){this['addCompone'+'nt'](_0x34caff,{}),_0x34caff['animation']['assets']=_0x4a516f['animation']['assets']['slice'](),_0x34caff['animation']['speed']=_0x4a516f['animation']['speed'],_0x34caff['animation']['loop']=_0x4a516f['animation']['loop'],_0x34caff['animation']['activate']=_0x4a516f['animation']['activate'],_0x34caff['animation']['enabled']=_0x4a516f['animation']['enabled'];const _0x389f40={},_0x382673=_0x4a516f['animation']['animations'];for(const _0x5cf18d in _0x382673)_0x382673['hasOwnProp'+'erty'](_0x5cf18d)&&(_0x389f40[_0x5cf18d]=_0x382673[_0x5cf18d]);_0x34caff['animation']['animations']=_0x389f40;const _0x3ff1d3={},_0x476b5b=_0x4a516f['animation']['animations'+'Index'];for(const _0xd6c16 in _0x476b5b)_0x476b5b['hasOwnProp'+'erty'](_0xd6c16)&&(_0x3ff1d3[_0xd6c16]=_0x476b5b[_0xd6c16]);return _0x34caff['animation']['animations'+'Index']=_0x3ff1d3,_0x34caff['animation'];}['onBeforeRe'+'move'](_0x436a6b,_0x3a525f){_0x3a525f['onBeforeRe'+'move']();}['onUpdate'](_0x452758){const _0x1dca5a=this['store'];for(const _0x3df0ba in _0x1dca5a)if(_0x1dca5a['hasOwnProp'+'erty'](_0x3df0ba)){const _0x44f8b5=_0x1dca5a[_0x3df0ba];_0x44f8b5['data']['enabled']&&_0x44f8b5['entity']['enabled']&&_0x44f8b5['entity']['animation']['update'](_0x452758);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x53a6ef,_0x17181b,_0x417fe9,_0x485d79,_0x5e2527=0xa1*-0x18+0x65b*-0x3+0x222a){this['_state']=_0x53a6ef,this['_parent']=_0x17181b,this['_name']=_0x417fe9,Array['isArray'](_0x485d79)?(this['_point']=new J(_0x485d79[0x61*-0x35+-0x28b*-0x1+0x1*0x118a],_0x485d79[-0x22*0xa3+0x35f*-0xb+0x4*0xeaf]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x485d79,this['_pointLeng'+'th']=_0x485d79),this['_speed']=_0x5e2527,this['_weightedS'+'peed']=-0x1*0x91e+-0x22e2+-0x2c01*-0x1,this['_weight']=-0x2471+-0x58d*-0x3+0x13cb,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x494a04){this['_weight']=_0x494a04;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x5f4a07=this['_state']['totalWeigh'+'t'];return _0x5f4a07===0x1688*-0x1+-0xf48+0x25d0?-0x7*-0x1a+0x22f0+-0x23a6:this['weight']/_0x5f4a07;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x2b7239){this['_weightedS'+'peed']=_0x2b7239;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x2af351){this['_animTrack']=_0x2af351;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x9ad617,_0x520f8f,_0x40baa9,_0x8423e4,_0x94000b,_0x36c128,_0xc7d6b9,_0x441135,_0x2308e8){super(_0x9ad617,_0x520f8f,_0x40baa9,_0x8423e4),this['_parameter'+'s']=_0x94000b,this['_parameter'+'Values']=new Array(_0x94000b['length']),this['_children']=[],this['_findParam'+'eter']=_0x2308e8,this['_syncAnima'+'tions']=_0xc7d6b9!==!(-0x10d8*-0x1+-0x47*0x13+-0xb92),this['_pointCach'+'e']={};for(let _0x5bc348=-0x262d+0x12*0xc3+-0x1877*-0x1;_0x5bc348<_0x36c128['length'];_0x5bc348++){const _0x436bbd=_0x36c128[_0x5bc348];_0x436bbd['children']?this['_children']['push'](_0x441135(_0x436bbd['type'],_0x9ad617,this,_0x436bbd['name'],0x2637+0x3*0x86f+0x3f83*-0x1,_0x436bbd['parameter']?[_0x436bbd['parameter']]:_0x436bbd['parameters'],_0x436bbd['children'],_0x436bbd['syncAnimat'+'ions'],_0x441135,_0x2308e8)):this['_children']['push'](new ml(_0x9ad617,this,_0x436bbd['name'],_0x436bbd['point'],_0x436bbd['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x9fc548){for(let _0xed1c11=0x1b8b*0x1+0x3f+-0x1bca*0x1;_0xed1c11<this['_children']['length'];_0xed1c11++)if(this['_children'][_0xed1c11]['name']===_0x9fc548)return this['_children'][_0xed1c11];return null;}['updatePara'+'meterValue'+'s'](){let _0x484cb0=!(-0x9c4+0x9c3+0x1*0x1);for(let _0x36a792=0x1876+-0x3d0*-0x4+-0x27b6;_0x36a792<this['_parameter'+'Values']['length'];_0x36a792++){const _0x467c72=this['_findParam'+'eter'](this['_parameter'+'s'][_0x36a792])['value'];this['_parameter'+'Values'][_0x36a792]!==_0x467c72&&(this['_parameter'+'Values'][_0x36a792]=_0x467c72,_0x484cb0=!(0x139+-0x1e80+0x1d48));}return _0x484cb0;}['getNodeWei'+'ghtedDurat'+'ion'](_0x294d2e){return this['_children'][_0x294d2e]['animTrack']['duration']/this['_children'][_0x294d2e]['speedMulti'+'plier']*this['_children'][_0x294d2e]['weight'];}['getNodeCou'+'nt'](){let _0x5bcf0e=0x1*-0x1c4f+0xcc*-0x10+0x290f;for(let _0x468f68=0x41c*0x7+-0xd1*-0x1+-0x1d95*0x1;_0x468f68<this['_children']['length'];_0x468f68++)this['_children'][_0x468f68]['constructo'+'r']===Jn?_0x5bcf0e+=this['_children'][_0x468f68]['getNodeCou'+'nt']():_0x5bcf0e++;return _0x5bcf0e;}}class OL extends Jn{constructor(_0x4c9350,_0xd31ab2,_0x568600,_0xb4a8fa,_0x2d0b6b,_0x5d6ed5,_0x5cde7e,_0xcdcc6f,_0x38a389){_0x5d6ed5['sort']((_0x434b5,_0xedfa08)=>_0x434b5['point']-_0xedfa08['point']),super(_0x4c9350,_0xd31ab2,_0x568600,_0xb4a8fa,_0x2d0b6b,_0x5d6ed5,_0x5cde7e,_0xcdcc6f,_0x38a389);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xfc740d=0x1d40+-0xb68+-0x11d8;this['_children'][0x87c*0x2+-0x12d4+-0xe*-0x22]['weight']=0x1098+0x292*-0x1+-0x167*0xa;for(let _0x2b4c81=-0x18*-0x12f+0x261c+-0x4284;_0x2b4c81<this['_children']['length'];_0x2b4c81++){const _0xecdf74=this['_children'][_0x2b4c81];if(_0x2b4c81!==this['_children']['length']-(0xf81+-0xc5*-0x24+0x13c*-0x23)){const _0xbb2190=this['_children'][_0x2b4c81+(-0x17d*-0x11+0x18e7+-0x3233)];if(_0xecdf74['point']===_0xbb2190['point'])_0xecdf74['weight']=0x112e+-0x226*-0xf+0xc5a*-0x4+0.5,_0xbb2190['weight']=-0x3b*0x3b+0x1*0x430+0x1*0x969+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x254b+0x1bb+-0x8e4*-0x4],_0xecdf74['point'],_0xbb2190['point'],!(0x1591+0x4*0x6b9+-0x3075))){const _0x300fd6=Math['abs'](_0xecdf74['point']-_0xbb2190['point']),_0x5a9bfe=Math['abs'](_0xecdf74['point']-this['_parameter'+'Values'][0x988+-0x1bd2+0x124a*0x1]),_0x56aa0c=(_0x300fd6-_0x5a9bfe)/_0x300fd6;_0xecdf74['weight']=_0x56aa0c,_0xbb2190['weight']=-0x1a3*-0x5+-0x3d*0x79+-0x11*-0x137-_0x56aa0c;}else _0xbb2190['weight']=0x6*0x31a+-0x266*-0xb+-0x2cfe;}}this['_syncAnima'+'tions']&&(_0xfc740d+=_0xecdf74['animTrack']['duration']/_0xecdf74['absoluteSp'+'eed']*_0xecdf74['weight']);}if(this['_syncAnima'+'tions'])for(let _0x3473e7=0x18db+-0x26af+0xdd4;_0x3473e7<this['_children']['length'];_0x3473e7++){const _0x5a166a=this['_children'][_0x3473e7];_0x5a166a['weightedSp'+'eed']=_0x5a166a['animTrack']['duration']/_0x5a166a['absoluteSp'+'eed']/_0xfc740d;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x5dbb4c,_0x43fa7f){const _0x4c4ff8=''+_0x5dbb4c+_0x43fa7f;return this['_pointCach'+'e'][_0x4c4ff8]||(this['_pointCach'+'e'][_0x4c4ff8]=this['_children'][_0x43fa7f]['point']['clone']()['sub'](this['_children'][_0x5dbb4c]['point'])),this['_pointCach'+'e'][_0x4c4ff8];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x241b61,_0x265d34;ki['_p']['set'](...this['_parameter'+'Values']),_0x241b61=-0x1f1b+-0x10c*-0xe+-0x1073*-0x1,_0x265d34=-0x1*0x1a91+0x1*0x1457+0x1*0x63a;for(let _0x222fea=-0xba2*0x1+0xe92+-0x2f0;_0x222fea<this['_children']['length'];_0x222fea++){const _0x22d278=this['_children'][_0x222fea],_0xdc5ada=_0x22d278['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0xdc5ada);let _0x887966=Number['MAX_VALUE'];for(let _0x5199a1=0x1f67*0x1+0x2589+-0x44f*0x10;_0x5199a1<this['_children']['length'];_0x5199a1++){if(_0x222fea===_0x5199a1)continue;const _0x284514=this['pointDista'+'nceCache'](_0x222fea,_0x5199a1),_0x43b54b=Y['clamp'](0x13d2+0x1ad0+0xad*-0x45-ki['_pip']['dot'](_0x284514)/_0x284514['lengthSq'](),0xe12+0x1f93*0x1+-0x13*0x267,0x23f8+0xbbb*-0x2+-0x3*0x42b);_0x43b54b<_0x887966&&(_0x887966=_0x43b54b);}_0x22d278['weight']=_0x887966,_0x241b61+=_0x887966,this['_syncAnima'+'tions']&&(_0x265d34+=_0x22d278['animTrack']['duration']/_0x22d278['absoluteSp'+'eed']*_0x22d278['weight']);}for(let _0x34e973=-0x1*0x2227+-0x599+0x27c0;_0x34e973<this['_children']['length'];_0x34e973++){const _0x52bc6e=this['_children'][_0x34e973];_0x52bc6e['weight']=_0x52bc6e['_weight']/_0x241b61,this['_syncAnima'+'tions']&&(_0x52bc6e['weightedSp'+'eed']=_0x52bc6e['animTrack']['duration']/_0x52bc6e['absoluteSp'+'eed']/_0x265d34);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x4f8877,_0x5275d5){const _0x40986f=''+_0x4f8877+_0x5275d5;return this['_pointCach'+'e'][_0x40986f]||(this['_pointCach'+'e'][_0x40986f]=new J((this['_children'][_0x5275d5]['pointLengt'+'h']-this['_children'][_0x4f8877]['pointLengt'+'h'])/((this['_children'][_0x5275d5]['pointLengt'+'h']+this['_children'][_0x4f8877]['pointLengt'+'h'])/(-0x1c*-0xcc+-0x94*-0x16+0x2306*-0x1)),J['angleRad'](this['_children'][_0x4f8877]['point'],this['_children'][_0x5275d5]['point'])*(-0xe34+-0x1c1c+0x1*0x2a52))),this['_pointCach'+'e'][_0x40986f];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x148091,_0x4f21fe;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x2d2fb6=Ui['_p']['length']();_0x148091=0x802+-0x1c1c*-0x1+-0x8a*0x43,_0x4f21fe=-0x978+-0xa*0x8d+0x4fe*0x3;for(let _0x5e0a5e=-0x277*-0x2+0x1170+-0x165e;_0x5e0a5e<this['_children']['length'];_0x5e0a5e++){const _0x2a728d=this['_children'][_0x5e0a5e],_0x5a70b6=_0x2a728d['point'],_0x2731f6=_0x2a728d['pointLengt'+'h'];let _0x414ec1=Number['MAX_VALUE'];for(let _0x564d18=-0x1866+0x8af*-0x1+0x3*0xb07;_0x564d18<this['_children']['length'];_0x564d18++){if(_0x5e0a5e===_0x564d18)continue;const _0x57fbba=this['pointCache'](_0x5e0a5e,_0x564d18),_0x5225c6=this['_children'][_0x564d18]['pointLengt'+'h'];Ui['_pip']['set']((_0x2d2fb6-_0x2731f6)/((_0x5225c6+_0x2731f6)/(0x457*0x1+0x17*0x1a6+-0x2a3f)),J['angleRad'](_0x5a70b6,Ui['_p'])*(-0x6*0x1eb+0x223b+-0x48b*0x5));const _0xb2bfeb=Y['clamp'](-0x4e9*0x7+0x1*-0x166e+0x38ce-Math['abs'](Ui['_pip']['dot'](_0x57fbba)/_0x57fbba['lengthSq']()),0x2227+0xf+-0x111b*0x2,0x8b0*0x1+0x34d+-0xec*0xd);_0xb2bfeb<_0x414ec1&&(_0x414ec1=_0xb2bfeb);}_0x2a728d['weight']=_0x414ec1,_0x148091+=_0x414ec1,this['_syncAnima'+'tions']&&(_0x4f21fe+=_0x2a728d['animTrack']['duration']/_0x2a728d['absoluteSp'+'eed']*_0x2a728d['weight']);}for(let _0x473bc0=-0x1ed4+0xc62+0x626*0x3;_0x473bc0<this['_children']['length'];_0x473bc0++){const _0x3233bb=this['_children'][_0x473bc0];if(_0x3233bb['weight']=_0x3233bb['_weight']/_0x148091,this['_syncAnima'+'tions']){const _0x5a330c=_0x3233bb['animTrack']['duration']/_0x4f21fe*_0x148091;_0x3233bb['weightedSp'+'eed']=_0x3233bb['absoluteSp'+'eed']*_0x5a330c;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x7ac910=0x352+0xd*0x5+-0x393,_0x47ba51=0x3a5+-0x32*-0x10+-0x6c5;for(let _0x38178b=0x321*-0x4+-0x117f+-0x1*-0x1e03;_0x38178b<this['_children']['length'];_0x38178b++)if(_0x7ac910+=Math['max'](this['_parameter'+'Values'][_0x38178b],-0x1802+0x593+0x21*0x8f),this['_syncAnima'+'tions']){const _0x43d6ea=this['_children'][_0x38178b];_0x47ba51+=_0x43d6ea['animTrack']['duration']/_0x43d6ea['absoluteSp'+'eed']*_0x43d6ea['weight'];}for(let _0x163ad1=0x1*0x13aa+0x1669+-0x2a13*0x1;_0x163ad1<this['_children']['length'];_0x163ad1++){const _0x27b7a8=this['_children'][_0x163ad1],_0x248cb2=Math['max'](this['_parameter'+'Values'][_0x163ad1],-0xfe6+-0x3b*-0x52+-0x300);_0x7ac910?(_0x27b7a8['weight']=_0x248cb2/_0x7ac910,this['_syncAnima'+'tions']&&(_0x27b7a8['weightedSp'+'eed']=_0x27b7a8['animTrack']['duration']/_0x27b7a8['absoluteSp'+'eed']/_0x47ba51)):(_0x27b7a8['weight']=0xdda+0x2*0x18d+-0x10f4,this['_syncAnima'+'tions']&&(_0x27b7a8['weightedSp'+'eed']=-0x5*0x333+-0x8*0x21d+-0x20e7*-0x1));}}}class Fg{constructor(_0x483038,_0x2148d5,_0x3b21ba=0x1f18+-0x1652+-0x8c5,_0x5b68c9=!(-0xb*-0x16b+-0x1*-0x2573+-0x350c),_0x113e32){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x483038,this['_name']=_0x2148d5,this['_speed']=_0x3b21ba,this['_loop']=_0x5b68c9,this['_hasAnimat'+'ions']=!(-0x1d38+-0x1*0x13f1+-0x7*-0x706),_0x113e32?this['_blendTree']=this['_createTre'+'e'](_0x113e32['type'],this,null,_0x2148d5,0x78d*-0x1+0x203b+-0x18ad,_0x113e32['parameter']?[_0x113e32['parameter']]:_0x113e32['parameters'],_0x113e32['children'],_0x113e32['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x2148d5,-0x1d62+0x157b+0x7e8,_0x3b21ba));}['_createTre'+'e'](_0x3ac689,_0x3d4f68,_0x59ed16,_0x1d1b59,_0x4ed54b,_0x5e57d2,_0xb88774,_0x10fd57,_0x401019,_0x338e19){switch(_0x3ac689){case CL:return new OL(_0x3d4f68,_0x59ed16,_0x1d1b59,_0x4ed54b,_0x5e57d2,_0xb88774,_0x10fd57,_0x401019,_0x338e19);case ML:return new wu(_0x3d4f68,_0x59ed16,_0x1d1b59,_0x4ed54b,_0x5e57d2,_0xb88774,_0x10fd57,_0x401019,_0x338e19);case PL:return new Eu(_0x3d4f68,_0x59ed16,_0x1d1b59,_0x4ed54b,_0x5e57d2,_0xb88774,_0x10fd57,_0x401019,_0x338e19);case DL:return new FL(_0x3d4f68,_0x59ed16,_0x1d1b59,_0x4ed54b,_0x5e57d2,_0xb88774,_0x10fd57,_0x401019,_0x338e19);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x3ac689);}['_getNodeFr'+'omPath'](_0x3182b8){let _0xe14b84=this['_blendTree'];for(let _0x94c837=0xb0*0x17+0x1ecc+-0x61*0x7b;_0x94c837<_0x3182b8['length'];_0x94c837++)_0xe14b84=_0xe14b84['getChild'](_0x3182b8[_0x94c837]);return _0xe14b84;}['addAnimati'+'on'](_0x5f4117,_0x23f8ae){const _0x5eb542=_0x5f4117['join']('.'),_0x321eec=this['_animation'+'List']['findIndex'](_0x536c92=>_0x536c92['path']===_0x5eb542);if(_0x321eec>=0x1*-0x12cd+-0x2184+0x3451)this['_animation'+'List'][_0x321eec]['animTrack']=_0x23f8ae;else{const _0x5041ba=this['_getNodeFr'+'omPath'](_0x5f4117);_0x5041ba['animTrack']=_0x23f8ae,this['_animation'+'List']['push'](_0x5041ba);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0xe2f+0x1*-0x291+0x10c0&&this['_animation'+'List']['every'](_0x3fb4d7=>_0x3fb4d7['animTrack']&&_0x3fb4d7['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x4ab7ca){this['_animation'+'List']=_0x4ab7ca,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x16aeba){this['_speed']=_0x16aeba;}get['speed'](){return this['_speed'];}set['loop'](_0x27bfee){this['_loop']=_0x27bfee;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x194e+-0x1cf5+0xea*0x4:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0x2525+0x5*0x13d+-0x1*-0x1ef5)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x2213+0x6c9+-0x5*0x82c){const _0x130b86=this['name']+'.'+this['animations'][0x83*0xf+0x5a2*0x2+-0x12f1]['animTrack']['name'],_0x201c17=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x130b86);if(_0x201c17)return _0x201c17['loop'];}return!(-0x246c+-0x11aa+-0x1*-0x3617);}get['totalWeigh'+'t'](){let _0x1a0641=-0x5*0x254+-0x1*-0xf43+-0x39f;for(let _0x16d760=0xa4*-0x4+-0x11*0x1be+0x202e;_0x16d760<this['animations']['length'];_0x16d760++)_0x1a0641+=this['animations'][_0x16d760]['weight'];return _0x1a0641;}get['timelineDu'+'ration'](){let _0x1e3eab=0x19b2+-0x5*0x7a7+0xc91*0x1;for(let _0x57f762=0xbbb+-0x11e8+0x62d;_0x57f762<this['animations']['length'];_0x57f762++){const _0x2f8d66=this['animations'][_0x57f762];_0x2f8d66['animTrack']['duration']>_0x1e3eab&&(_0x1e3eab=_0x2f8d66['animTrack']['duration']);}return _0x1e3eab;}}class Lh{constructor({from:_0x4adc74,to:_0x18c2c9,time:_0x852fd8=0x1327+0x4c2+0x1*-0x17e9,priority:_0x5d8536=0x1*-0xddc+-0x2cd+0x10a9,conditions:_0x4df844=[],exitTime:_0x50c82b=null,transitionOffset:_0xc2f49e=null,interruptionSource:_0x463b53=zv}){this['_from']=_0x4adc74,this['_to']=_0x18c2c9,this['_time']=_0x852fd8,this['_priority']=_0x5d8536,this['_condition'+'s']=_0x4df844,this['_exitTime']=_0x50c82b,this['_transitio'+'nOffset']=_0xc2f49e,this['_interrupt'+'ionSource']=_0x463b53;}get['from'](){return this['_from'];}set['to'](_0x59fbbc){this['_to']=_0x59fbbc;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x477557,_0x102223,_0x1e9c11,_0x376638,_0x53f1be,_0x1fa75b,_0x4736c9){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',-0x7ec+0x7*-0x501+0x2af3),h(this,'_activeSta'+'teDuration'+'Dirty',!(0xaf*-0x1b+-0x1035+0x22aa)),h(this,'_playing',!(-0x5ad+0x1a04+-0x1456)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',0x6b7+-0x3*0x6f7+-0x1*-0xe2f),h(this,'_totalTran'+'sitionTime',0x1*-0x14e2+-0xa0+-0x1583*-0x1),h(this,'_isTransit'+'ioning',!(-0x2*0x119a+-0x77a+-0x1*-0x2aaf)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x3d5+0x7*-0x2f6+-0x5*-0x361),h(this,'_timeInSta'+'teBefore',0x97*0x40+-0xbee+-0x19d2),h(this,'findParame'+'ter',_0x415071=>this['_findParam'+'eter'](_0x415071)),(this['_animEvalu'+'ator']=_0x477557,this['_eventHand'+'ler']=_0x53f1be,this['_findParam'+'eter']=_0x1fa75b,this['_consumeTr'+'igger']=_0x4736c9);for(let _0x3e2f06=-0x3*-0x5b8+0x1e5c+0x17c2*-0x2;_0x3e2f06<_0x102223['length'];_0x3e2f06++)this['_states'][_0x102223[_0x3e2f06]['name']]=new Fg(this,_0x102223[_0x3e2f06]['name'],_0x102223[_0x3e2f06]['speed'],_0x102223[_0x3e2f06]['loop'],_0x102223[_0x3e2f06]['blendTree']),this['_stateName'+'s']['push'](_0x102223[_0x3e2f06]['name']);this['_transitio'+'ns']=_0x1e9c11['map'](_0x62a3be=>new Lh({..._0x62a3be})),this['_activate']=_0x376638;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x1b40f7){this['_activeSta'+'teName']=_0x1b40f7;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x1a0da5){this['_previousS'+'tateName']=_0x1a0da5;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x1148dd=!(-0xcc5+0x15bb+0x1f*-0x4a);for(let _0x2908a6=-0x18de+-0x1*-0xc2e+-0xcb*-0x10;_0x2908a6<this['_stateName'+'s']['length'];_0x2908a6++)this['_states'][this['_stateName'+'s'][_0x2908a6]]['playable']||(_0x1148dd=!(-0x1aba+-0x1d1c+0x129d*0x3));return _0x1148dd;}set['playing'](_0x406367){this['_playing']=_0x406367;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x35f06b=-0x94c+0x1f6f+-0x3*0x761;for(let _0x1c33f6=0x214+0x2699+0x27*-0x10b;_0x1c33f6<this['activeStat'+'eAnimation'+'s']['length'];_0x1c33f6++){const _0x5ad825=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1c33f6]['name']);_0x5ad825&&(_0x35f06b=Math['max'](_0x35f06b,_0x5ad825['track']['duration']));}this['_activeSta'+'teDuration']=_0x35f06b,this['_activeSta'+'teDuration'+'Dirty']=!(0x25da+0xad6+0x79*-0x67);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x5b84c8){this['_timeInSta'+'teBefore']=_0x5b84c8,this['_timeInSta'+'te']=_0x5b84c8;for(let _0x40275f=-0x20b+-0x53*-0x68+-0xa8f*0x3;_0x40275f<this['activeStat'+'eAnimation'+'s']['length'];_0x40275f++){const _0x2fc7a4=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x40275f]['name']);_0x2fc7a4&&(_0x2fc7a4['time']=_0x5b84c8);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x49b338){return this['_animEvalu'+'ator']['assignMask'](_0x49b338);}['_findState'](_0x752977){return this['_states'][_0x752977];}['_getActive'+'StateProgr'+'essForTime'](_0x46889c){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0x2b*0x7+-0xbe3*-0x2+0x1e2*-0xc;const _0x334d63=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x1822+-0xbc3+-0x9*-0x3fd]['name']);return _0x334d63?_0x334d63['progressFo'+'rTime'](_0x46889c):null;}['_findTrans'+'itionsFrom'+'State'](_0x94712a){let _0x4a8380=this['_findTrans'+'itionsFrom'+'StateCache'][_0x94712a];return _0x4a8380||(_0x4a8380=this['_transitio'+'ns']['filter'](_0x2e6d44=>_0x2e6d44['from']===_0x94712a),ul(_0x4a8380),this['_findTrans'+'itionsFrom'+'StateCache'][_0x94712a]=_0x4a8380),_0x4a8380;}['_findTrans'+'itionsBetw'+'eenStates'](_0xfc0204,_0x432d4c){let _0x1131a4=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0xfc0204+'->'+_0x432d4c];return _0x1131a4||(_0x1131a4=this['_transitio'+'ns']['filter'](_0x2589e4=>_0x2589e4['from']===_0xfc0204&&_0x2589e4['to']===_0x432d4c),ul(_0x1131a4),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0xfc0204+'->'+_0x432d4c]=_0x1131a4),_0x1131a4;}['_transitio'+'nHasCondit'+'ionsMet'](_0xcd8b10){const _0xb24d71=_0xcd8b10['conditions'];for(let _0x9de4b=-0x1*0x218b+0x53a+-0xb*-0x293;_0x9de4b<_0xb24d71['length'];_0x9de4b++){const _0xae3708=_0xb24d71[_0x9de4b],_0x4db59e=this['_findParam'+'eter'](_0xae3708['parameterN'+'ame']);switch(_0xae3708['predicate']){case xL:if(!(_0x4db59e['value']>_0xae3708['value']))return!(0x18b8*-0x1+-0x2*-0x233+0x2b*0x79);break;case TL:if(!(_0x4db59e['value']<_0xae3708['value']))return!(0x79d*0x4+0x13d*-0x1+-0x1d36);break;case wL:if(!(_0x4db59e['value']>=_0xae3708['value']))return!(0xff*-0x5+-0x1f0*0x6+0x109c);break;case EL:if(!(_0x4db59e['value']<=_0xae3708['value']))return!(-0x1a5b+0x2419+-0x115*0x9);break;case bL:if(_0x4db59e['value']!==_0xae3708['value'])return!(0x401*-0x1+-0x3*0x513+0x133b*0x1);break;case AL:if(_0x4db59e['value']===_0xae3708['value'])return!(0x1dae+0x1*0x244d+-0x6*0xaff);break;}}return!(-0x60*0x31+-0x291+-0x3*-0x6fb);}['_findTrans'+'ition'](_0xc1121f,_0x23a3d2){let _0x4f76f1=[];if(_0xc1121f&&_0x23a3d2)_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0xc1121f,_0x23a3d2));else{if(!this['_isTransit'+'ioning'])_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4f76f1=_0x4f76f1['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x4f76f1=_0x4f76f1['filter'](_0x10bf76=>{if(_0x10bf76['to']===this['activeStat'+'eName'])return!(-0x128*-0x14+0x2a+-0x7c3*0x3);if(_0x10bf76['hasExitTim'+'e']){let _0x113c5c=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x5c783c=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x10bf76['exitTime']<-0x70a+-0x181d+0x1f28&&this['activeStat'+'e']['loop']&&(_0x113c5c-=Math['floor'](_0x113c5c),_0x5c783c-=Math['floor'](_0x5c783c)),_0x5c783c===_0x113c5c){if(_0x5c783c!==_0x10bf76['exitTime'])return null;}else{if(!(_0x10bf76['exitTime']>_0x113c5c&&_0x10bf76['exitTime']<=_0x5c783c))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x10bf76);}),_0x4f76f1['length']>0x4cd*-0x1+-0x1*-0x23cf+-0x1f02){const _0x17b764=_0x4f76f1[-0x24a2+0x61*-0x56+0x4538];if(_0x17b764['to']===vu){const _0x547e72=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x68*-0x4f+-0x1c9+-0x1e4f*0x1];_0x17b764['to']=_0x547e72['to'];}return _0x17b764;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x3c6c9e){let _0x223f5e,_0x28cc4f,_0x571c19;this['previousSt'+'ate']=_0x3c6c9e['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x3c6c9e['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x2*-0x5ef+-0x33f+-0x1*-0xf1d);for(let _0x4be9d4=-0x28b+0x85c+-0x5d1;_0x4be9d4<_0x3c6c9e['conditions']['length'];_0x4be9d4++){const _0x61743f=_0x3c6c9e['conditions'][_0x4be9d4];this['_findParam'+'eter'](_0x61743f['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x61743f['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x149618=Math['min'](this['_totalTran'+'sitionTime']!==-0x526+0x398+0x18e?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x1c43+-0x1f08+-0x1e*-0x1fa,-0x1*-0x500+-0x17b1+-0x959*-0x2);for(let _0x12a61c=0x37*-0x23+0x46*0x4f+-0xe15;_0x12a61c<this['_transitio'+'nPreviousS'+'tates']['length'];_0x12a61c++){this['_isTransit'+'ioning']?_0x12a61c!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x4bf+0x1b76+0x12*-0x143)?this['_transitio'+'nPreviousS'+'tates'][_0x12a61c]['weight']*=0x205a+-0xfd8*0x2+-0xa9-_0x149618:this['_transitio'+'nPreviousS'+'tates'][_0x12a61c]['weight']=_0x149618:this['_transitio'+'nPreviousS'+'tates'][_0x12a61c]['weight']=-0xaf8+-0xb8d*-0x1+-0x94,_0x223f5e=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x12a61c]['name']);for(let _0x58dea4=0x2473+0x3*-0xaf1+-0x3a0;_0x58dea4<_0x223f5e['animations']['length'];_0x58dea4++)_0x28cc4f=_0x223f5e['animations'][_0x58dea4],_0x571c19=this['_animEvalu'+'ator']['findClip'](_0x28cc4f['name']+'.previous.'+_0x12a61c),_0x571c19||(_0x571c19=this['_animEvalu'+'ator']['findClip'](_0x28cc4f['name']),_0x571c19['name']=_0x28cc4f['name']+'.previous.'+_0x12a61c),_0x12a61c!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x567*0x2+0x7dd+0x2f2)&&_0x571c19['pause']();}}this['_isTransit'+'ioning']=!(0xc1a+0x1f7a+-0x1*0x2b94),this['_totalTran'+'sitionTime']=_0x3c6c9e['time'],this['_currTrans'+'itionTime']=0x18*0x86+0x23*-0x26+0x1*-0x75e,this['_transitio'+'nInterrupt'+'ionSource']=_0x3c6c9e['interrupti'+'onSource'];const _0x1cf1cf=this['activeStat'+'e'],_0x5bc2d5=_0x3c6c9e['transition'+'Offset']&&_0x3c6c9e['transition'+'Offset']>0x4*0x67a+-0xe*0x1a1+-0x31a&&_0x3c6c9e['transition'+'Offset']<0xa4e*-0x2+0x8a*0x9+0xf*0x10d;let _0x11dacc=-0x3*-0xab4+-0xd*0x185+-0xc5b*0x1,_0x11e5b5=0x1*-0x20a9+0x1*-0x781+0x282a;if(_0x5bc2d5){const _0x28e2b5=_0x1cf1cf['timelineDu'+'ration']*_0x3c6c9e['transition'+'Offset'];_0x11dacc=_0x28e2b5,_0x11e5b5=_0x28e2b5;}this['_timeInSta'+'te']=_0x11dacc,this['_timeInSta'+'teBefore']=_0x11e5b5;for(let _0x4de3d9=0x976+0x9dc+-0x1352;_0x4de3d9<_0x1cf1cf['animations']['length'];_0x4de3d9++){if(_0x571c19=this['_animEvalu'+'ator']['findClip'](_0x1cf1cf['animations'][_0x4de3d9]['name']),_0x571c19)_0x571c19['reset']();else{const _0x5b4a2f=Number['isFinite'](_0x1cf1cf['animations'][_0x4de3d9]['speed'])?_0x1cf1cf['animations'][_0x4de3d9]['speed']:_0x1cf1cf['speed'];_0x571c19=new Dh(_0x1cf1cf['animations'][_0x4de3d9]['animTrack'],this['_timeInSta'+'te'],_0x5b4a2f,!(0x19ef+0xd*-0x157+0x884*-0x1),_0x1cf1cf['loop'],this['_eventHand'+'ler']),_0x571c19['name']=_0x1cf1cf['animations'][_0x4de3d9]['name'],this['_animEvalu'+'ator']['addClip'](_0x571c19);}if(_0x3c6c9e['time']>-0x199f+-0x11*0x247+0x9*0x726?_0x571c19['blendWeigh'+'t']=-0x1541+0x1807+-0x2c6:_0x571c19['blendWeigh'+'t']=_0x1cf1cf['animations'][_0x4de3d9]['normalized'+'Weight'],_0x571c19['play'](),_0x5bc2d5)_0x571c19['time']=_0x1cf1cf['timelineDu'+'ration']*_0x3c6c9e['transition'+'Offset'];else{const _0x2a1155=_0x1cf1cf['speed']>=-0x3fd+0x22f3+-0x1ef6?0x358+0x19d4+0x1d2c*-0x1:this['activeStat'+'eDuration'];_0x571c19['time']=_0x2a1155;}}}['_transitio'+'nToState'](_0x3c5dd0){if(!this['_findState'](_0x3c5dd0))return;let _0x3e7a3c=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3c5dd0);_0x3e7a3c||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x3e7a3c=new Lh({'from':null,'to':_0x3c5dd0})),this['updateStat'+'eFromTrans'+'ition'](_0x3e7a3c);}['assignAnim'+'ation'](_0x5746df,_0x516325,_0x3dc527,_0x30a527){const _0x3b4b4f=_0x5746df['split']('.');let _0x5aa952=this['_findState'](_0x3b4b4f[0x90*0x30+0x142f*0x1+0x2f2f*-0x1]);_0x5aa952||(_0x5aa952=new Fg(this,_0x3b4b4f[0x39b*0x1+0x1784+0x1b1f*-0x1],_0x3dc527),this['_states'][_0x3b4b4f[0x575+0x192+-0x707]]=_0x5aa952,this['_stateName'+'s']['push'](_0x3b4b4f[-0x160c*-0x1+-0x449*0x2+0x3*-0x47e])),_0x5aa952['addAnimati'+'on'](_0x3b4b4f,_0x516325),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x5aa952['name'],_0x516325),_0x3dc527!==void(-0x1b1c+0x266f+0xb53*-0x1)&&(_0x5aa952['speed']=_0x3dc527),_0x30a527!==void(-0x15d+0x1860+-0x1703)&&(_0x5aa952['loop']=_0x30a527),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x731*0x5+0x1b74+-0x3f69);}['removeNode'+'Animations'](_0x18d02f){if(Ih['indexOf'](_0x18d02f)!==-(0x3*0x565+0x156e+-0x259c))return!(0x3*0x5ad+0x3*0x8bb+-0x353*0xd);const _0xa6bff8=this['_findState'](_0x18d02f);return _0xa6bff8?(_0xa6bff8['animations']=[],!(-0x240+0x1aed*0x1+-0x18ad)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x18d02f),!(-0x899+-0x1f1f+0x27b9*0x1));}['play'](_0x4bcbbb){_0x4bcbbb&&this['_transitio'+'nToState'](_0x4bcbbb),this['_playing']=!(-0x14af+0x1df6+-0x947);}['pause'](){this['_playing']=!(-0x1628+0x260d+-0xfe4);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x17f*0x10+-0xa2+0x1893),this['_currTrans'+'itionTime']=-0x2*0x3a3+0x22d2+0x1b8b*-0x1,this['_totalTran'+'sitionTime']=0x119b*0x1+0x21a2+-0x333c,this['_isTransit'+'ioning']=!(0x1*0x1a5+-0x1c6f+0x1acb),this['_timeInSta'+'te']=-0x25ce+-0x63*-0x59+-0x33*-0x11,this['_timeInSta'+'teBefore']=-0x6d*0x11+-0x5c6+0xd03,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x5f4976){if(!this['_playing'])return;let _0x1f4811,_0x6bb2d,_0x33a01d;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x5f4976*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x5f4976=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x3810e9=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x3810e9&&this['updateStat'+'eFromTrans'+'ition'](_0x3810e9),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x5f4976,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x517ff1=this['_totalTran'+'sitionTime']!==-0xe*0x1d7+-0x929*0x2+-0x3e*-0xb6?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0xd1d+-0x16a+0x1d1*0x8;for(let _0x32c03f=-0x1*0xb11+0x887*0x1+-0x5*-0x82;_0x32c03f<this['_transitio'+'nPreviousS'+'tates']['length'];_0x32c03f++){_0x1f4811=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x32c03f]['name']);const _0x27b3f6=this['_transitio'+'nPreviousS'+'tates'][_0x32c03f]['weight'];for(let _0x5c4536=-0x1d73+0x10ba+0xcb9;_0x5c4536<_0x1f4811['animations']['length'];_0x5c4536++)_0x6bb2d=_0x1f4811['animations'][_0x5c4536],_0x33a01d=this['_animEvalu'+'ator']['findClip'](_0x6bb2d['name']+'.previous.'+_0x32c03f),_0x33a01d&&(_0x33a01d['blendWeigh'+'t']=(-0x6*-0x31+0x668+-0x78d-_0x517ff1)*_0x6bb2d['normalized'+'Weight']*_0x27b3f6);}_0x1f4811=this['activeStat'+'e'];for(let _0x3c639b=0xc2*0x23+-0x2d8+0x362*-0x7;_0x3c639b<_0x1f4811['animations']['length'];_0x3c639b++)_0x6bb2d=_0x1f4811['animations'][_0x3c639b],this['_animEvalu'+'ator']['findClip'](_0x6bb2d['name'])['blendWeigh'+'t']=_0x517ff1*_0x6bb2d['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x379*-0xb+0x31c+0x2318);const _0x511da9=this['activeStat'+'eAnimation'+'s']['length'],_0x453658=this['_animEvalu'+'ator']['clips']['length'];for(let _0x524d1f=-0x1*0x335+0x1*0x469+0x4*-0x4d;_0x524d1f<_0x453658-_0x511da9;_0x524d1f++)this['_animEvalu'+'ator']['removeClip'](0xbf7*0x1+-0x1af9*-0x1+0x9bc*-0x4);this['_transitio'+'nPreviousS'+'tates']=[],_0x1f4811=this['activeStat'+'e'];for(let _0x4f5623=0x269c+0x5a7*0x6+-0x4886;_0x4f5623<_0x1f4811['animations']['length'];_0x4f5623++)_0x6bb2d=_0x1f4811['animations'][_0x4f5623],_0x33a01d=this['_animEvalu'+'ator']['findClip'](_0x6bb2d['name']),_0x33a01d&&(_0x33a01d['blendWeigh'+'t']=_0x6bb2d['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x1f4811=this['activeStat'+'e'];for(let _0x565276=0x23d0+0x1a46+-0x3e16;_0x565276<_0x1f4811['animations']['length'];_0x565276++)_0x6bb2d=_0x1f4811['animations'][_0x565276],_0x33a01d=this['_animEvalu'+'ator']['findClip'](_0x6bb2d['name']),_0x33a01d&&(_0x33a01d['blendWeigh'+'t']=_0x6bb2d['normalized'+'Weight'],_0x6bb2d['parent']['syncAnimat'+'ions']&&(_0x33a01d['speed']=_0x6bb2d['speed']));}}this['_animEvalu'+'ator']['update'](_0x5f4976,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0xae8539,_0x43e7aa,_0xd9281b,_0x126980,_0x559094){super(_0x43e7aa),this['animCompon'+'ent']=_0xae8539,this['_mask']=_0x126980,this['layerName']=_0xd9281b,this['layerIndex']=_0x559094;}static['_packFloat'](_0x6425b6){return _0x6425b6[-0x1742+-0x1aed+-0x1d*-0x1bb];}static['_packBoole'+'an'](_0x3e1df3){return!!_0x3e1df3[-0x881*0x1+-0x1ca6+-0x1*-0x2527];}static['_packVec2'](_0x36d82f){return wf['x']=_0x36d82f[0x9a7*-0x3+-0x1*-0x645+0x16b0],wf['y']=_0x36d82f[0x21d5+0x1976+-0x3b4a],wf;}static['_packVec3'](_0x2fc919){return Tc['x']=_0x2fc919[-0x2117*-0x1+-0x189f*0x1+0x878*-0x1],Tc['y']=_0x2fc919[0x179e+0x1fc2+-0x375f],Tc['z']=_0x2fc919[0x1*0x146+0x9eb+0x1*-0xb2f],Tc;}static['_packVec4'](_0x71cd72){return _o['x']=_0x71cd72[0x1ce8+-0x20e8+0x8*0x80],_o['y']=_0x71cd72[0x1994*0x1+0x22f2+-0x3c85],_o['z']=_0x71cd72[-0xc*-0x17+0xfce+-0x2d*0x60],_o['w']=_0x71cd72[-0x1d35+-0x951+-0x7b5*-0x5],_o;}static['_packColor'](_0x32652b){return go['r']=_0x32652b[-0x14ff+0xd24+0x7db],go['g']=_0x32652b[0x9b*0xd+-0x17af+0xfd1],go['b']=_0x32652b[-0x197b*-0x1+0x4d7*-0x1+-0x14a2*0x1],go['a']=_0x32652b[-0xace+0x4*0x1c8+0x3b1],go;}static['_packQuat'](_0x379d72){return So['x']=_0x379d72[0x1a99+0x1c3c+-0x36d5],So['y']=_0x379d72[-0x1d*0x31+0x2687+0x1*-0x20f9],So['z']=_0x379d72[0x93b*0x2+-0x1527+-0x1*-0x2b3],So['w']=_0x379d72[0x1567*-0x1+-0x21*0x19+0x18a3],So;}['resolve'](_0xce6ca5){const _0x8282cd=ra['encode'](_0xce6ca5['entityPath'],_0xce6ca5['component'],_0xce6ca5['propertyPa'+'th']);let _0x4535d9=this['targetCach'+'e'][_0x8282cd];if(_0x4535d9)return _0x4535d9;let _0x29de44,_0x18fcfa,_0x15eda4;switch(_0xce6ca5['component']){case'entity':_0x29de44=this['_getEntity'+'FromHierar'+'chy'](_0xce6ca5['entityPath']),_0x15eda4=ra['encode'](_0x29de44['path'],'entity',_0xce6ca5['propertyPa'+'th']),_0x18fcfa=_0x29de44;break;case'graph':if(_0x18fcfa=this['findNode'](_0xce6ca5),!_0x18fcfa)return null;_0x15eda4=ra['encode'](_0x18fcfa['path'],'graph',_0xce6ca5['propertyPa'+'th']);break;default:if(_0x29de44=this['_getEntity'+'FromHierar'+'chy'](_0xce6ca5['entityPath']),_0x18fcfa=_0x29de44['findCompon'+'ent'](_0xce6ca5['component']),!_0x18fcfa)return null;_0x15eda4=ra['encode'](_0x29de44['path'],_0xce6ca5['component'],_0xce6ca5['propertyPa'+'th']);break;}return _0x4535d9=this['_createAni'+'mTargetFor'+'Property'](_0x18fcfa,_0xce6ca5['propertyPa'+'th'],_0x15eda4),this['targetCach'+'e'][_0x8282cd]=_0x4535d9,_0x4535d9;}['update'](_0x4ca117){const _0x3a2e9d=this['activeNode'+'s'];if(_0x3a2e9d){for(let _0x119b0c=-0x3da+0x1*0x7bf+-0x3e5;_0x119b0c<_0x3a2e9d['length'];_0x119b0c++)_0x3a2e9d[_0x119b0c]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x34336b){if(!this['animCompon'+'ent']['entity']['name']===_0x34336b[0x15ec+-0x21c7+0xbdb])return null;const _0x26eae6=this['animCompon'+'ent']['entity'];return _0x34336b['length']===0xb*0x2b4+-0xdd7+-0x2*0x7f2?_0x26eae6:_0x26eae6['_parent']['findByPath'](_0x34336b);}['_resolvePa'+'th'](_0x2a9171,_0x448e7a,_0x3e53a6){const _0x5f3777=_0x448e7a['length']-(_0x3e53a6?0x7*-0x265+0x1a9e+-0x9db:0x3b*0x4e+-0x267b*-0x1+-0x1c3a*0x2);for(let _0x9dfb77=-0x19*-0xa1+0x1ec+-0x11a5;_0x9dfb77<_0x5f3777;_0x9dfb77++)_0x2a9171=_0x2a9171[_0x448e7a[_0x9dfb77]];return _0x2a9171;}['_setter'](_0x3fbec8,_0x29e6d5,_0x1fc62f){const _0x3fc85c=this['_resolvePa'+'th'](_0x3fbec8,_0x29e6d5),_0x1614f4=_0x29e6d5[_0x29e6d5['length']-(-0x2b0+-0x1e65+0x2116)],_0x44a7dd='set'+_0x1614f4['substring'](0x1f*0xa3+-0x3c4*-0x7+0x1*-0x2e19,0xa97*0x1+0x113*-0x1f+-0x1*-0x16b7)['toUpperCas'+'e']()+_0x1614f4['substring'](-0x5c2*-0x1+-0x2*0x376+0x12b);if(_0x3fc85c[_0x44a7dd]){let _0x510e20=_0x3fc85c['get'+_0x1614f4['substring'](0x23f1+-0x2301+-0xf0,0x8d4+-0x1b8e+-0x3bf*-0x5)['toUpperCas'+'e']()+_0x1614f4['substring'](0x1*-0xd94+-0x162a+0x23bf)]['bind'](_0x3fc85c)();_0x510e20=[_0x510e20['x'],_0x510e20['y'],_0x510e20['z'],_0x510e20['w']];const _0x488009=_0x3fc85c[_0x44a7dd]['bind'](_0x3fc85c);return{'set':_0x356e0f=>{_0x488009(_0x1fc62f(_0x356e0f));},'get':()=>_0x510e20};}const _0x48ae1e=_0x3fc85c[_0x1614f4];if(typeof _0x48ae1e=='object'&&_0x48ae1e['hasOwnProp'+'erty']('copy'))return function(_0x401955){_0x48ae1e['copy'](_0x1fc62f(_0x401955));};if([J,D,re,ie,le]['indexOf'](_0x3fc85c['constructo'+'r'])!==-(0x446*0x2+-0x361+0x1*-0x52a)&&_0x29e6d5['length']>-0x102f+0x13e4+-0x4f*0xc){const _0x335565=_0x29e6d5['length']>0xd*-0xd6+-0x130b+0x1deb?this['_resolvePa'+'th'](_0x3fbec8,_0x29e6d5['slice'](-0x1a*-0xc2+0x1*-0x115f+-0x255,-(0xb6c*0x2+0x26a4+-0x3d7b))):_0x3fbec8,_0x593ec2=_0x29e6d5[_0x29e6d5['length']-(-0x541+0x2547+-0x2004)];return function(_0x36bf23){_0x3fc85c[_0x1614f4]=_0x1fc62f(_0x36bf23),_0x335565[_0x593ec2]=_0x3fc85c;};}return function(_0x40f910){_0x3fc85c[_0x1614f4]=_0x1fc62f(_0x40f910);};}['_createAni'+'mTargetFor'+'Property'](_0x1c4b8c,_0x2b71eb,_0x3216ed){if(this['handlers']&&_0x2b71eb[0xed7+-0x403+-0xad4]['startsWith']('weight.'))return this['handlers']['weight'](_0x1c4b8c,_0x2b71eb[0x1f94+0x1902*0x1+-0x3896*0x1]['replace']('weight.',''));if(this['handlers']&&_0x2b71eb[-0xb02*0x2+0x24b*0x3+0x7d*0x1f]==='material'&&_0x2b71eb['length']===0x8*-0x3bb+-0x1f7*0x7+0xb7*0x3d){const _0x36cae1=_0x2b71eb[-0x2294+-0x1ca9+0x3f3e];if(_0x36cae1['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x1c4b8c,_0x36cae1);}const _0x280014=this['_resolvePa'+'th'](_0x1c4b8c,_0x2b71eb,!(0x24c6+0x71*0x10+-0x16a*0x1f));if(typeof _0x280014>'u')return null;let _0x123be2,_0x2a241c,_0x25d1ca;if(typeof _0x280014=='number')_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packFloat']),_0x2a241c='vector',_0x25d1ca=0x2*0xc82+0x1*-0x12e7+-0x61c;else{if(typeof _0x280014=='boolean')_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packBoole'+'an']),_0x2a241c='vector',_0x25d1ca=0x137c*-0x1+0x585*0x3+0x177*0x2;else{if(typeof _0x280014=='object')switch(_0x280014['constructo'+'r']){case J:_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packVec2']),_0x2a241c='vector',_0x25d1ca=-0x1ff3+0x1391+0xc64;break;case D:_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packVec3']),_0x2a241c='vector',_0x25d1ca=0x1cbe+-0x1f19*0x1+0x25e;break;case re:_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packVec4']),_0x2a241c='vector',_0x25d1ca=0x1*0xe09+0x1a0c*-0x1+0xc07;break;case ie:_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packColor']),_0x2a241c='vector',_0x25d1ca=0x6*-0x45a+-0x241*0x5+0x2565;break;case le:_0x123be2=this['_setter'](_0x1c4b8c,_0x2b71eb,Fi['_packQuat']),_0x2a241c='quaternion',_0x25d1ca=-0x24b3+-0x20ab+0x4562;break;default:return null;}}}return _0x2b71eb['indexOf']('material')!==-(-0xc*0x5f+-0x21f*-0x7+0x23*-0x4c)?new xu(_0x32d111=>{_0x123be2(_0x32d111),_0x1c4b8c['material']['update']();},_0x2a241c,_0x25d1ca,_0x3216ed):new xu(_0x123be2,_0x2a241c,_0x25d1ca,_0x3216ed);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x1e9467={},_0x5ce115=function(_0x9344f4){_0x1e9467[_0x9344f4['name']]=_0x9344f4;for(let _0x2f3355=-0x1ece+0x1654*-0x1+-0x3*-0x11b6;_0x2f3355<_0x9344f4['children']['length'];++_0x2f3355)_0x5ce115(_0x9344f4['children'][_0x2f3355]);};_0x5ce115(this['graph']),this['nodes']=_0x1e9467;}}class kL{constructor(_0x12738c,_0x2777fc,_0x171bff,_0x4e62c2=-0x1e3*-0x3+0x243d*-0x1+0x1*0x1e95,_0x55d923=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x1708+0x1bcd*-0x1+0x1*0x4c5),h(this,'_blendTime'+'Elapsed',-0x8ac+0x8c2+-0x16*0x1),h(this,'_startingW'+'eight',-0x11a0+0x62+0x113e*0x1),h(this,'_targetWei'+'ght',0x145+-0x259+0x8a*0x2),(this['_name']=_0x12738c,this['_controlle'+'r']=_0x2777fc,this['_component']=_0x171bff,this['_weight']=_0x4e62c2,this['_blendType']=_0x55d923);}get['name'](){return this['_name'];}set['playing'](_0xa38ad1){this['_controlle'+'r']['playing']=_0xa38ad1;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4cbde6){const _0x81f629=this['_controlle'+'r'],_0x3c2086=_0x81f629['playing'];_0x81f629['playing']=!(0x1ca1+-0x12e*-0x21+0x438f*-0x1),_0x81f629['activeStat'+'eCurrentTi'+'me']=_0x4cbde6,_0x3c2086||_0x81f629['update'](-0x216c+0x19*0x9b+0x1249),_0x81f629['playing']=_0x3c2086;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x55018b){this['_weight']=_0x55018b,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4e53aa){_0x4e53aa!==this['_blendType']&&(this['_blendType']=_0x4e53aa,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x43bbd9){this['_controlle'+'r']['assignMask'](_0x43bbd9)&&this['_component']['rebind'](),this['_mask']=_0x43bbd9;}get['mask'](){return this['_mask'];}['play'](_0x1344ee){this['_controlle'+'r']['play'](_0x1344ee);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x1ea416){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x1ea416):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0xa77+-0x1bf1*-0x1+-0x117a,this['_blendTime'+'Elapsed']=-0x1*-0x1bb4+-0x15b*-0xa+-0x1*0x2942,this['_startingW'+'eight']=-0x5*-0x781+0x4a9+-0x2a2e,this['_targetWei'+'ght']=-0x14ed+-0x8c5+0x1db2)),this['_controlle'+'r']['update'](_0x1ea416);}['blendToWei'+'ght'](_0x3768bc,_0x2a0ac3){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x3768bc,this['_blendTime']=Math['max'](-0xbd3*0x2+0x10a8+0x6fe,_0x2a0ac3),this['_blendTime'+'Elapsed']=-0x1352+0x72+-0x8*-0x25c;}['assignAnim'+'ation'](_0x4103ec,_0x22cc77,_0xfb9215,_0x348399){if(!(_0x22cc77 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x4103ec,_0x22cc77,_0xfb9215,_0x348399),this['_controlle'+'r']['_transitio'+'ns']['length']===0x1*-0x1db7+-0xb3e*0x3+-0x3f71*-0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x4103ec})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x24d4*-0x1+-0x1*0xcee+-0x84b*-0x6));}['removeNode'+'Animations'](_0x3cf858){this['_controlle'+'r']['removeNode'+'Animations'](_0x3cf858)&&(this['_component']['playing']=!(-0x41*0x62+0x1b12*0x1+-0x22f));}['getAnimati'+'onAsset'](_0x5d50d0){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x5d50d0];}['transition'](_0x4c5a7d,_0x1eb485=-0x19af+-0x5*0xa3+0x1cde,_0x99cbd3=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x4c5a7d,'time':_0x1eb485,'transitionOffset':_0x99cbd3}));}}class Jc{constructor(_0x526bc3){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x526bc3['layers']))this['_layers']=_0x526bc3['layers'];else for(const _0x3adda8 in _0x526bc3['layers']){const _0x105331=_0x526bc3['layers'][_0x3adda8],_0x5cce25={'name':_0x105331['name'],'blendType':_0x105331['blendType'],'weight':_0x105331['weight'],'states':[],'transitions':[]};for(let _0x2af182=0x5ec+-0x501+-0xeb;_0x2af182<_0x105331['states']['length'];_0x2af182++)_0x5cce25['states']['push'](_0x526bc3['states'][_0x105331['states'][_0x2af182]]);for(let _0xf161d2=0x81b+0x19f2+-0x1*0x220d;_0xf161d2<_0x105331['transition'+'s']['length'];_0xf161d2++){const _0x3c6213=_0x526bc3['transition'+'s'][_0x105331['transition'+'s'][_0xf161d2]];if(_0x3c6213['conditions']&&!Array['isArray'](_0x3c6213['conditions'])){const _0x754d3d=Object['keys'](_0x3c6213['conditions']),_0x35bdd5=[];for(let _0x18f34d=0x2293*0x1+0x2363*-0x1+-0x2*-0x68;_0x18f34d<_0x754d3d['length'];_0x18f34d++){const _0x55f0f9=_0x3c6213['conditions'][_0x754d3d[_0x18f34d]];_0x55f0f9['parameterN'+'ame']&&_0x35bdd5['push'](_0x55f0f9);}_0x3c6213['conditions']=_0x35bdd5;}Number['isInteger'](_0x3c6213['from'])&&(_0x3c6213['from']=_0x526bc3['states'][_0x3c6213['from']]['name']),Number['isInteger'](_0x3c6213['to'])&&(_0x3c6213['to']=_0x526bc3['states'][_0x3c6213['to']]['name']),_0x5cce25['transition'+'s']['push'](_0x3c6213);}this['_layers']['push'](_0x5cce25);}for(const _0x2b262c in _0x526bc3['parameters']){const _0x6af6a4=_0x526bc3['parameters'][_0x2b262c];this['_parameter'+'s'][_0x6af6a4['name']]={'type':_0x6af6a4['type'],'value':_0x6af6a4['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x41*0x33+-0x2b*0x6d+0x1f43*0x1),h(this,'_activate',!(-0x11*0x76+0x18eb*0x1+-0x1115)),h(this,'_playing',!(0xbef+-0xd*-0x48+-0xf96)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x560+0x1*0x121a+-0x1*0xcb9)),h(this,'findParame'+'ter',_0x5d9348=>this['_parameter'+'s'][_0x5d9348]),h(this,'consumeTri'+'gger',_0x4b6d40=>{this['_consumedT'+'riggers']['add'](_0x4b6d40);});}set['stateGraph'+'Asset'](_0x845b31){if(_0x845b31===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x473cf9,_0x31244e;_0x845b31 instanceof pe?(_0x473cf9=_0x845b31['id'],_0x31244e=this['system']['app']['assets']['get'](_0x473cf9),_0x31244e||(this['system']['app']['assets']['add'](_0x845b31),_0x31244e=this['system']['app']['assets']['get'](_0x473cf9))):(_0x473cf9=_0x845b31,_0x31244e=this['system']['app']['assets']['get'](_0x473cf9)),!(!_0x31244e||this['_stateGrap'+'hAsset']===_0x473cf9)&&(_0x31244e['resource']?(this['_stateGrap'+'h']=_0x31244e['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x31244e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x31244e['once']('load',_0x52f26a=>{this['_stateGrap'+'h']=_0x52f26a['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x31244e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x31244e)),this['_stateGrap'+'hAsset']=_0x473cf9);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x18b33e){this['_normalize'+'Weights']=_0x18b33e,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x12a7a6){this['_animation'+'Assets']=_0x12a7a6,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x12bf90){this['_speed']=_0x12bf90;}get['speed'](){return this['_speed'];}set['activate'](_0x21963d){this['_activate']=_0x21963d;}get['activate'](){return this['_activate'];}set['playing'](_0x155955){this['_playing']=_0x155955;}get['playing'](){return this['_playing'];}set['rootBone'](_0xfccd6c){if(typeof _0xfccd6c=='string'){const _0x52fe67=this['entity']['root']['findByGuid'](_0xfccd6c);w['assert'](_0x52fe67,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0xfccd6c+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x52fe67;}else _0xfccd6c instanceof lt?this['_rootBone']=_0xfccd6c:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x431f6e){this['_stateGrap'+'h']=_0x431f6e;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0xf12831){this['_layerIndi'+'ces']=_0xf12831;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x30e70c){this['_parameter'+'s']=_0x30e70c;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x24fa84){this['_targets']=_0x24fa84;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x387432=0x1dac+0x1d5*0xd+0x357d*-0x1;_0x387432<this['_layers']['length'];_0x387432++)if(!this['_layers'][_0x387432]['playable'])return!(0x2e3*-0x2+0x1*-0x2453+0x2a1a);return!(0xaf1+0x2*-0x647+-0x3b*-0x7);}get['baseLayer'](){return this['_layers']['length']>-0x16d9+0x1dd0+0x1*-0x6f7?this['_layers'][0x4bb+0x2d8+-0x793*0x1]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0xe2a48b){const _0x55d4ed=this['animationA'+'ssets'],_0x340fc9=this['layers']['map'](_0x43fece=>_0x43fece['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0xe2a48b['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x55d4ed,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x2b0376,_0x3cd067)=>{_0x2b0376['mask']=_0x340fc9[_0x3cd067];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x5f31fd=Object['values'](this['_targets']);for(let _0x59bbd7=-0x104a+0x1*-0xfa1+0x1feb*0x1;_0x59bbd7<_0x5f31fd['length'];_0x59bbd7++)_0x5f31fd[_0x59bbd7]['dirty']=!(-0xb46+-0x2482+-0x17e4*-0x2);}['_addLayer']({name:_0x410e70,states:_0x11766a,transitions:_0x56bb9a,weight:_0x4e8b35,mask:_0x4e9d32,blendType:_0x243325}){let _0x3028ce;this['rootBone']?_0x3028ce=this['rootBone']:_0x3028ce=this['entity'];const _0x51a365=this['_layers']['length'],_0x81eb80=new Fi(this,_0x3028ce,_0x410e70,_0x4e9d32,_0x51a365),_0x75da06=new Gv(_0x81eb80),_0x6e7cc7=new NL(_0x75da06,_0x11766a,_0x56bb9a,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x410e70,_0x6e7cc7,this,_0x4e8b35,_0x243325)),this['_layerIndi'+'ces'][_0x410e70]=_0x51a365,this['_layers'][_0x51a365];}['addLayer'](_0x3ffaf4,_0x10e03f,_0xb3ff8f,_0x5dacdd){const _0x2c9016=this['findAnimat'+'ionLayer'](_0x3ffaf4);if(_0x2c9016)return _0x2c9016;const _0x39237e=[{'name':'START','speed':0x1}],_0x6413af=[];return this['_addLayer']({'name':_0x3ffaf4,'states':_0x39237e,'transitions':_0x6413af,'weight':_0x10e03f,'mask':_0xb3ff8f,'blendType':_0x5dacdd});}['_assignPar'+'ameters'](_0x3f1447){this['_parameter'+'s']={};const _0x2184b1=Object['keys'](_0x3f1447['parameters']);for(let _0x204056=-0x1992*0x1+-0x221b+-0x1*-0x3bad;_0x204056<_0x2184b1['length'];_0x204056++){const _0x335d5a=_0x2184b1[_0x204056];this['_parameter'+'s'][_0x335d5a]={'type':_0x3f1447['parameters'][_0x335d5a]['type'],'value':_0x3f1447['parameters'][_0x335d5a]['value']};}}['loadStateG'+'raph'](_0x2aa357){this['_stateGrap'+'h']=_0x2aa357,this['_assignPar'+'ameters'](_0x2aa357),this['_layers']=[];let _0x3f2973=!(-0x71e+0x75+-0x1*-0x6aa);for(let _0x405d48=0x1*-0x99b+-0x23*-0x115+-0x1c44;_0x405d48<_0x2aa357['layers']['length'];_0x405d48++){const _0x4741b2=_0x2aa357['layers'][_0x405d48];this['_addLayer']({..._0x4741b2}),_0x4741b2['states']['some'](_0x69fc1b=>_0x69fc1b['blendTree'])&&(_0x3f2973=!(0x2161*-0x1+0x912+0x184f));}_0x3f2973||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x473dea=0x230f*0x1+-0xb*0xed+-0xc70*0x2;_0x473dea<this['_layers']['length'];_0x473dea++){const _0x59b09f=this['_layers'][_0x473dea],_0x2ea034=_0x59b09f['name'];for(let _0x5b2136=0x1aad+-0x68e*-0x5+-0x3b73;_0x5b2136<_0x59b09f['states']['length'];_0x5b2136++){const _0xb30499=_0x59b09f['states'][_0x5b2136];if(Ih['indexOf'](_0xb30499)===-(-0x1b59+-0x205a+0x3bb4)){const _0x5b172e=_0x2ea034+':'+_0xb30499;this['_animation'+'Assets'][_0x5b172e]||(this['_animation'+'Assets'][_0x5b172e]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0xd317c3=-0x1*0x20bf+-0xef*-0x4+0x425*0x7;_0xd317c3<this['_layers']['length'];_0xd317c3++){const _0x12f0db=this['_layers'][_0xd317c3];for(let _0x20aa70=0x1f51+-0x1*-0x1e0b+-0x3d5c;_0x20aa70<_0x12f0db['states']['length'];_0x20aa70++){const _0x38317f=_0x12f0db['states'][_0x20aa70];if(Ih['indexOf'](_0x38317f)!==-(-0xb14+0xa73*-0x2+0x1ffb))continue;const _0xa4cdaf=this['_animation'+'Assets'][_0x12f0db['name']+':'+_0x38317f];if(!_0xa4cdaf||!_0xa4cdaf['asset']){this['findAnimat'+'ionLayer'](_0x12f0db['name'])['assignAnim'+'ation'](_0x38317f,Qi['EMPTY']);continue;}const _0x283ea0=_0xa4cdaf['asset'],_0xcbb48a=this['system']['app']['assets']['get'](_0x283ea0);_0xcbb48a&&(_0xcbb48a['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x12f0db['name'],_0x38317f,_0xcbb48a):(_0xcbb48a['once']('load',function(_0x222ffa,_0x5ef89f){return function(_0x54fdfd){this['onAnimatio'+'nAssetLoad'+'ed'](_0x222ffa,_0x5ef89f,_0x54fdfd);}['bind'](this);}['bind'](this)(_0x12f0db['name'],_0x38317f)),this['system']['app']['assets']['load'](_0xcbb48a)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x525118,_0xb33851,_0x388b89){this['findAnimat'+'ionLayer'](_0x525118)['assignAnim'+'ation'](_0xb33851,_0x388b89['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1dd9+-0x1*-0x3e1+-0x21b9),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x2ffc83=0x1*0x270a+-0x148d*0x1+-0x1*0x127d;_0x2ffc83<this['_layers']['length'];_0x2ffc83++){const _0x40bb21=this['_layers'][_0x2ffc83]['playing'];this['_layers'][_0x2ffc83]['reset'](),this['_layers'][_0x2ffc83]['playing']=_0x40bb21;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x5b33bc=>{this['_targets'][_0x5b33bc]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x114d5b=0x1a8*0x14+-0x232a+0x6*0x57;_0x114d5b<this['_layers']['length'];_0x114d5b++)this['_layers'][_0x114d5b]['rebind']();}['findAnimat'+'ionLayer'](_0x13c0f6){const _0x4c90ff=this['_layerIndi'+'ces'][_0x13c0f6];return this['_layers'][_0x4c90ff]||null;}['addAnimati'+'onState'](_0x4ad532,_0x2ebd40,_0x5683be=0x23fb+-0x1adf+-0x91b,_0x524100=!(0x22a5+-0xcb*0xd+-0x1856),_0x51aa5e='Base'){var _0x3fe502;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x51aa5e,'states':[{'name':'START','speed':0x1},{'name':_0x4ad532,'speed':_0x5683be,'loop':_0x524100,'defaultState':!(0x1*-0x1c69+-0xe5c+-0x2ac5*-0x1)}],'transitions':[{'from':'START','to':_0x4ad532}]}],'parameters':{}}));const _0x27a250=this['findAnimat'+'ionLayer'](_0x51aa5e);_0x27a250?_0x27a250['assignAnim'+'ation'](_0x4ad532,_0x2ebd40,_0x5683be,_0x524100):(_0x3fe502=this['addLayer'](_0x51aa5e))==null||_0x3fe502['assignAnim'+'ation'](_0x4ad532,_0x2ebd40,_0x5683be,_0x524100);}['assignAnim'+'ation'](_0x4bec06,_0x2aa3ef,_0x460613,_0x5c6f58=-0x2710+-0x167*0x19+0x4a20,_0x364e52=!(0x20a0+-0x2*0x3e1+-0x84a*0x3)){if(!this['_stateGrap'+'h']&&_0x4bec06['indexOf']('.')===-(-0x52*0x40+0x3*0x98b+-0xd*0xa0)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x4bec06,'speed':_0x5c6f58,'loop':_0x364e52,'defaultState':!(-0x14d5+-0x1027+0x24fc)}],'transitions':[{'from':'START','to':_0x4bec06}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x4bec06,_0x2aa3ef);return;}const _0x2eb786=_0x460613?this['findAnimat'+'ionLayer'](_0x460613):this['baseLayer'];if(!_0x2eb786){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x2eb786['assignAnim'+'ation'](_0x4bec06,_0x2aa3ef,_0x5c6f58,_0x364e52);}['removeNode'+'Animations'](_0x413cbf,_0x4a940f){const _0x3eb325=_0x4a940f?this['findAnimat'+'ionLayer'](_0x4a940f):this['baseLayer'];if(!_0x3eb325){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x3eb325['removeNode'+'Animations'](_0x413cbf);}['getParamet'+'erValue'](_0x126cce,_0x695eff){const _0xf8d125=this['_parameter'+'s'][_0x126cce];if(_0xf8d125&&_0xf8d125['type']===_0x695eff)return _0xf8d125['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x126cce+('\x22\x20of\x20type\x20'+'\x22')+_0x695eff+'\x22');}['setParamet'+'erValue'](_0x370f3b,_0x3ffb9c,_0x5a5497){const _0x337b09=this['_parameter'+'s'][_0x370f3b];if(_0x337b09&&_0x337b09['type']===_0x3ffb9c){_0x337b09['value']=_0x5a5497;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x370f3b+('\x22\x20of\x20type\x20'+'\x22')+_0x3ffb9c+'\x22');}['getFloat'](_0x365915){return this['getParamet'+'erValue'](_0x365915,Rg);}['setFloat'](_0x239250,_0x677ed6){this['setParamet'+'erValue'](_0x239250,Rg,_0x677ed6);}['getInteger'](_0x2a1a12){return this['getParamet'+'erValue'](_0x2a1a12,Lg);}['setInteger'](_0x74c15b,_0x25f61b){typeof _0x25f61b=='number'&&_0x25f61b%(-0x1f4d+0xf45+-0x1009*-0x1)===-0x22e5+0x26f*-0x4+-0x5*-0x8ed?this['setParamet'+'erValue'](_0x74c15b,Lg,_0x25f61b):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x74c15b,_0x25f61b);}['getBoolean'](_0x7051ef){return this['getParamet'+'erValue'](_0x7051ef,Og);}['setBoolean'](_0xe07199,_0x57ecd5){this['setParamet'+'erValue'](_0xe07199,Og,!!_0x57ecd5);}['getTrigger'](_0x4e5930){return this['getParamet'+'erValue'](_0x4e5930,Qc);}['setTrigger'](_0x311ade,_0x10dc3f=!(0x1b64+0xa49+0x96b*-0x4)){this['setParamet'+'erValue'](_0x311ade,Qc,!(0x8f3+-0x31a+0x5d9*-0x1)),_0x10dc3f&&this['_consumedT'+'riggers']['add'](_0x311ade);}['resetTrigg'+'er'](_0x3e870a){this['setParamet'+'erValue'](_0x3e870a,Qc,!(0x13*-0x132+0xa74+0xc43));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0xf93f70){for(let _0x2c597e=-0xe79+0x15b3+-0x39d*0x2;_0x2c597e<this['layers']['length'];_0x2c597e++)this['layers'][_0x2c597e]['update'](_0xf93f70*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x3f1c6a=>{this['parameters'][_0x3f1c6a]['value']=!(0x1*-0x237+0x1*0x2ce+-0x6*0x19);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5a2d65,_0x544500){_0x5a2d65['rootBone']&&_0x544500[_0x5a2d65['rootBone']['getGuid']()]?this['rootBone']=_0x544500[_0x5a2d65['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x10db+-0x19*-0x7+0x5*-0x382);}}const bu=['enabled'];class BL extends ct{constructor(_0x475a60){super(_0x475a60),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x165aa7,_0x2ca3b1,_0x4b5723){super['initialize'+'ComponentD'+'ata'](_0x165aa7,_0x2ca3b1,bu);const _0x1857ff=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x2ca3b1)['forEach'](_0x11b6cf=>{_0x1857ff['includes'](_0x11b6cf)||(_0x165aa7[_0x11b6cf]=_0x2ca3b1[_0x11b6cf]);}),_0x2ca3b1['stateGraph']&&(_0x165aa7['stateGraph']=_0x2ca3b1['stateGraph'],_0x165aa7['loadStateG'+'raph'](_0x165aa7['stateGraph'])),_0x2ca3b1['layers']&&_0x2ca3b1['layers']['forEach']((_0x4dd78c,_0x4a4395)=>{_0x4dd78c['_controlle'+'r']['states']['forEach'](_0x3c8439=>{_0x4dd78c['_controlle'+'r']['_states'][_0x3c8439]['_animation'+'List']['forEach'](_0x474762=>{if(!_0x474762['animTrack']||_0x474762['animTrack']===Qi['EMPTY']){const _0x13985a=this['app']['assets']['get'](_0x4dd78c['_component']['_animation'+'Assets'][_0x4dd78c['name']+':'+_0x474762['name']]['asset']);_0x13985a&&!_0x13985a['loaded']&&_0x13985a['once']('load',()=>{_0x165aa7['layers'][_0x4a4395]['assignAnim'+'ation'](_0x474762['name'],_0x13985a['resource']);});}else _0x165aa7['layers'][_0x4a4395]['assignAnim'+'ation'](_0x474762['name'],_0x474762['animTrack']);});});}),_0x2ca3b1['animationA'+'ssets']&&(_0x165aa7['animationA'+'ssets']=Object['assign'](_0x165aa7['animationA'+'ssets'],_0x2ca3b1['animationA'+'ssets'])),_0x2ca3b1['masks']&&Object['keys'](_0x2ca3b1['masks'])['forEach'](_0x9e4f3c=>{if(_0x165aa7['layers'][_0x9e4f3c]){const _0xfab813=_0x2ca3b1['masks'][_0x9e4f3c]['mask'],_0x36b556={};Object['keys'](_0xfab813)['forEach'](_0x157075=>{_0x36b556[decodeURI(_0x157075)]=_0xfab813[_0x157075];}),_0x165aa7['layers'][_0x9e4f3c]['mask']=_0x36b556;}});}['onAnimatio'+'nUpdate'](_0xfefac1){const _0x1f66e8=this['store'];for(const _0x1f8ff4 in _0x1f66e8)if(_0x1f66e8['hasOwnProp'+'erty'](_0x1f8ff4)){const _0x4cbf5a=_0x1f66e8[_0x1f8ff4]['entity']['anim'];_0x4cbf5a['data']['enabled']&&_0x4cbf5a['entity']['enabled']&&_0x4cbf5a['playing']&&_0x4cbf5a['update'](_0xfefac1);}}['cloneCompo'+'nent'](_0x5c0c14,_0x24c83e){let _0x12f659;(!_0x5c0c14['anim']['rootBone']||_0x5c0c14['anim']['rootBone']===_0x5c0c14)&&(_0x12f659={},_0x5c0c14['anim']['layers']['forEach']((_0x5e9b06,_0xffc0a2)=>{if(_0x5e9b06['mask']){const _0xf31c7c={};Object['keys'](_0x5e9b06['mask'])['forEach'](_0xd38a30=>{const _0x3e39da=_0xd38a30['split']('/');_0x3e39da['shift']();const _0x1ba85b=[_0x24c83e['name'],..._0x3e39da]['join']('/');_0xf31c7c[_0x1ba85b]=_0x5e9b06['mask'][_0xd38a30];}),_0x12f659[_0xffc0a2]={'mask':_0xf31c7c};}}));const _0x2d6bfb={'enabled':_0x5c0c14['anim']['enabled'],'stateGraphAsset':_0x5c0c14['anim']['stateGraph'+'Asset'],'animationAssets':_0x5c0c14['anim']['animationA'+'ssets'],'speed':_0x5c0c14['anim']['speed'],'activate':_0x5c0c14['anim']['activate'],'playing':_0x5c0c14['anim']['playing'],'rootBone':_0x5c0c14['anim']['rootBone'],'stateGraph':_0x5c0c14['anim']['stateGraph'],'layers':_0x5c0c14['anim']['layers'],'layerIndices':_0x5c0c14['anim']['layerIndic'+'es'],'parameters':_0x5c0c14['anim']['parameters'],'normalizeWeights':_0x5c0c14['anim']['normalizeW'+'eights'],'masks':_0x12f659};return this['addCompone'+'nt'](_0x24c83e,_0x2d6bfb);}['onBeforeRe'+'move'](_0x4b3e96,_0x520316){_0x520316['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x3b43a5=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x3b43a5);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x1ee2+-0x48f*-0x1+-0x2371);}}const qv=['enabled'];class VL extends ct{constructor(_0x5db870){super(_0x5db870),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x5db870['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x517b40,_0x2db2cc,_0x40de60){_0x40de60=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x517b40,_0x2db2cc,_0x40de60);}['onUpdate'](_0x36804f){if(this['current']){const _0x2db55b=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x2db55b);const _0x29e093=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x29e093);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x7*-0x236+-0x1e0a+0x2d84,Ng=0x1abc+-0x4f*0x1a+-0x12b5,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x16ea22,_0xc20fc5){super(_0x16ea22,_0xc20fc5),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0xcbb+-0x25*0x8+-0x4*-0x379)),h(this,'_hoveringC'+'ounter',-0x6e1*-0x2+0x9*0xff+-0x16b9),h(this,'_isPressed',!(0x2*0xebe+-0xe4d*0x1+-0xf2e)),h(this,'_defaultTi'+'nt',new ie(-0x1b3a+-0x100b+0xbf*0x3a,0x2*-0x205+-0x13c8+0x3*0x7f1,0x242a+-0xc18+0x65*-0x3d,0x1*-0x1fcd+0x779*0x1+0x1855)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x2*0x2f7+-0x19cf+0x13e1),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x54a+-0x1749+0x1200),this['_hoveringC'+'ounter']=0xaed+0x58a*-0x3+0x1*0x5b1,this['_isPressed']=!(-0xef0+-0x1a4f*0x1+0x2940),this['_defaultTi'+'nt']=new ie(-0x1*0x21e5+0x2425*-0x1+0x460b,0x37*0x91+0x2e4*0xb+-0x7*0x8fe,-0x1*0x163d+0x1*-0x2167+-0x5*-0xb21,-0x1d*-0x1f+0x1cb2+-0x4*0x80d),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0xaec*0x1+-0x211c+0x1*0x2c08,this['_toggleLif'+'ecycleList'+'eners']('on',_0x16ea22));}get['data'](){const _0x23f9d3=this['system']['store'][this['entity']['getGuid']()];return _0x23f9d3?_0x23f9d3['data']:null;}set['enabled'](_0x258fd4){this['_setValue']('enabled',_0x258fd4);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x2800ce){this['_setValue']('active',_0x2800ce);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x233c70){if(this['_imageEnti'+'ty']!==_0x233c70){const _0x1cf240=typeof _0x233c70=='string';if(this['_imageEnti'+'ty']&&_0x1cf240&&this['_imageEnti'+'ty']['getGuid']()===_0x233c70)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x233c70 instanceof Ie?this['_imageEnti'+'ty']=_0x233c70:_0x1cf240?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x233c70)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1cf240&&_0x233c70&&(this['data']['imageEntit'+'y']=_0x233c70);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x93d798){this['_setValue']('hitPadding',_0x93d798);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x19f230){this['_setValue']('transition'+'Mode',_0x19f230);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x3a6e87){this['_setValue']('hoverTint',_0x3a6e87);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x40c2e8){this['_setValue']('pressedTin'+'t',_0x40c2e8);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0xce4723){this['_setValue']('inactiveTi'+'nt',_0xce4723);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x3f43e5){this['_setValue']('fadeDurati'+'on',_0x3f43e5);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x11b63b){this['_setValue']('hoverSprit'+'eAsset',_0x11b63b);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x47acbe){this['_setValue']('hoverSprit'+'eFrame',_0x47acbe);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x59cbf0){this['_setValue']('pressedSpr'+'iteAsset',_0x59cbf0);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x376335){this['_setValue']('pressedSpr'+'iteFrame',_0x376335);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x5ef3d8){this['_setValue']('inactiveSp'+'riteAsset',_0x5ef3d8);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x48a00c){this['_setValue']('inactiveSp'+'riteFrame',_0x48a00c);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2985c4,_0x40e4ab){const _0x1553c9=this['data'],_0x42fdc3=_0x1553c9[_0x2985c4];_0x1553c9[_0x2985c4]=_0x40e4ab,this['fire']('set',_0x2985c4,_0x42fdc3,_0x40e4ab);}['_toggleLif'+'ecycleList'+'eners'](_0x3c1b01,_0x157a7b){var _0x7cdf25;this[_0x3c1b01]('set_active',this['_onSetActi'+'ve'],this),this[_0x3c1b01]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x3c1b01]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3c1b01]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x3c1b01==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x7cdf25=this['_evtElemen'+'tAdd'])==null||_0x7cdf25['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x2d7a2d,_0x3ae66b,_0x57785e){_0x3ae66b!==_0x57785e&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x3a7b58,_0x10d599,_0x5f11b2){_0x10d599!==_0x5f11b2&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x10d599),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x33db59,_0x7d77d4,_0x256726){_0x7d77d4!==_0x256726&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x3eae60,_0x268ec7;(_0x3eae60=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x3eae60['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x268ec7=this['_imageEnti'+'ty'])!=null&&_0x268ec7['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x14582c=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x14582c['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x14582c['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x14582c['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x14582c['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x14582c['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x4fd64c,_0x575729,_0x3053d0,_0x2ad138,_0x1f011c;(_0x4fd64c=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x4fd64c['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x575729=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x575729['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x3053d0=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x3053d0['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x2ad138=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x2ad138['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x1f011c=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x1f011c['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x50a804){if(this['entity']['element']){const _0x13f965=_0x50a804==='on';if(_0x13f965&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x50a804]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x50a804]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x50a804]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x50a804]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x50a804]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x50a804]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x50a804]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x50a804]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x50a804]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x50a804]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x50a804]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x50a804]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x50a804]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x50a804]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x13f965;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x13d779;const _0x5c060a=(_0x13d779=this['_imageEnti'+'ty'])==null?void(-0x56+-0x2*-0xc3b+0x10*-0x182):_0x13d779['element'];!_0x5c060a||_0x5c060a['type']===eh||(this['_storeDefa'+'ultColor'](_0x5c060a['color']),this['_storeDefa'+'ultOpacity'](_0x5c060a['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x5c060a['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x5c060a['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x27434b){this['_defaultTi'+'nt']['r']=_0x27434b['r'],this['_defaultTi'+'nt']['g']=_0x27434b['g'],this['_defaultTi'+'nt']['b']=_0x27434b['b'];}['_storeDefa'+'ultOpacity'](_0x594896){this['_defaultTi'+'nt']['a']=_0x594896;}['_storeDefa'+'ultSpriteA'+'sset'](_0xfa2a67){this['_defaultSp'+'riteAsset']=_0xfa2a67;}['_storeDefa'+'ultSpriteF'+'rame'](_0x203af2){this['_defaultSp'+'riteFrame']=_0x203af2;}['_onSetColo'+'r'](_0x24d5f7){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x24d5f7),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x5f3f5f){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x5f3f5f),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x5a573c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x5a573c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x40922c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x40922c),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x51e481){this['_isHoverin'+'g']=!(0x15d5+-0x53*0x1+-0x1582),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x51e481);}['_onMouseLe'+'ave'](_0x3ba563){this['_isHoverin'+'g']=!(0x1986+-0x122a+-0x75b),this['_isPressed']=!(-0x1b6c+-0x248c+0x3ff9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x3ba563);}['_onMouseDo'+'wn'](_0x5e4416){this['_isPressed']=!(-0xf6b*0x1+-0x162+0x10cd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x5e4416);}['_onMouseUp'](_0xe14daf){this['_isPressed']=!(0x1f37+-0x1945+0x27*-0x27),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0xe14daf);}['_onTouchSt'+'art'](_0x2d9a5c){this['_isPressed']=!(0x16a3+-0x1b27+0x22*0x22),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x2d9a5c);}['_onTouchEn'+'d'](_0x491bf5){_0x491bf5['event']['preventDef'+'ault'](),this['_isPressed']=!(0x21c8+-0x68f+-0x1b38),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x491bf5);}['_onTouchLe'+'ave'](_0x3d9e10){this['_isPressed']=!(-0x1*-0x3b7+-0x3*0x4eb+-0x1*-0xb0b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x3d9e10);}['_onTouchCa'+'ncel'](_0xe138ff){this['_isPressed']=!(0x1d7*0xb+-0xc10+-0x82c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0xe138ff);}['_onSelectS'+'tart'](_0x36f057){this['_isPressed']=!(0x82f+-0xf53*0x1+-0x4*-0x1c9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x36f057);}['_onSelectE'+'nd'](_0x4e610a){this['_isPressed']=!(-0x213d+-0x667+-0xd37*-0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x4e610a);}['_onSelectE'+'nter'](_0x5ad8d8){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x11d9+0x1e25*0x1+0x1*-0xc4b&&(this['_isHoverin'+'g']=!(-0x904*0x2+-0xb*-0x151+0x1*0x38d),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x5ad8d8);}['_onSelectL'+'eave'](_0x26f25b){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x1f40+0x2536+-0x4476&&(this['_isHoverin'+'g']=!(0x24fe+0x1b*0x73+-0x311e),this['_isPressed']=!(-0x1934+0xbfe+0x11*0xc7),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x26f25b);}['_onClick'](_0x4c5f72){this['_fireIfAct'+'ive']('click',_0x4c5f72);}['_fireIfAct'+'ive'](_0xdad855,_0x293480){this['data']['active']&&this['fire'](_0xdad855,_0x293480);}['_updateVis'+'ualState'](_0x116359){const _0x5c34f9=this['_visualSta'+'te'],_0x2ddc79=this['_determine'+'VisualStat'+'e']();if((_0x5c34f9!==_0x2ddc79||_0x116359)&&this['enabled'])switch(this['_visualSta'+'te']=_0x2ddc79,_0x5c34f9===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x5c34f9===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x2ddc79===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x2ddc79===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x2742ba=kl[this['_visualSta'+'te']],_0x4edf7b=this[_0x2742ba];this['_applyTint'](_0x4edf7b);break;}case Ng:{const _0x1eb0e8=Ul[this['_visualSta'+'te']],_0x1126dc=Bl[this['_visualSta'+'te']],_0x4d9df3=this[_0x1eb0e8],_0xdd07a8=this[_0x1126dc];this['_applySpri'+'te'](_0x4d9df3,_0xdd07a8);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x12d6+-0x246b+0x3741));}['_resetToDe'+'faultVisua'+'lState'](_0x1db463){var _0x466ff4;if((_0x466ff4=this['_imageEnti'+'ty'])!=null&&_0x466ff4['element'])switch(_0x1db463){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x4d2d44,_0x334fb4){var _0x26e6e2;const _0x4f7cac=(_0x26e6e2=this['_imageEnti'+'ty'])==null?void(-0x8*0x3cb+0x35+0x1e23):_0x26e6e2['element'];_0x4f7cac&&(_0x334fb4=_0x334fb4||0x17b*-0x6+-0xe27+-0x1709*-0x1,this['_isApplyin'+'gSprite']=!(-0x32+0x20ff+0x3a5*-0x9),_0x4f7cac['spriteAsse'+'t']!==_0x4d2d44&&(_0x4f7cac['spriteAsse'+'t']=_0x4d2d44),_0x4f7cac['spriteFram'+'e']!==_0x334fb4&&(_0x4f7cac['spriteFram'+'e']=_0x334fb4),this['_isApplyin'+'gSprite']=!(-0x1a*-0xeb+-0x15*-0x46+-0x1d9b));}['_applyTint'](_0x5977ea){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0xfc0+-0x20e4+-0x16*-0x236?this['_applyTint'+'Immediatel'+'y'](_0x5977ea):this['_applyTint'+'WithTween'](_0x5977ea);}['_applyTint'+'Immediatel'+'y'](_0x653614){var _0x234fb5;const _0x253e60=(_0x234fb5=this['_imageEnti'+'ty'])==null?void(0x727+-0x976+0x24f):_0x234fb5['element'];if(!_0x653614||!_0x253e60||_0x253e60['type']===eh)return;const _0x557b93=kg(_0x653614);this['_isApplyin'+'gTint']=!(0x1*-0x131d+0x1*-0x13b8+0x26d5),_0x557b93['equals'](_0x253e60['color'])||(_0x253e60['color']=_0x557b93),_0x253e60['opacity']!==_0x653614['a']&&(_0x253e60['opacity']=_0x653614['a']),this['_isApplyin'+'gTint']=!(0xdbe+0x8f*-0x6+-0xa63);}['_applyTint'+'WithTween'](_0x126b62){var _0x391244;const _0x1205d5=(_0x391244=this['_imageEnti'+'ty'])==null?void(0x1d4b+-0x3*-0x567+-0x2d80):_0x391244['element'];if(!_0x126b62||!_0x1205d5||_0x1205d5['type']===eh)return;const _0x3d716=kg(_0x126b62),_0x4d03fb=_0x1205d5['color'],_0x71c502=_0x1205d5['opacity'];_0x3d716['equals'](_0x4d03fb)&&_0x126b62['a']===_0x71c502||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x4d03fb['r'],_0x4d03fb['g'],_0x4d03fb['b'],_0x71c502),'to':_0x126b62['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x24225b=de()-this['_tweenInfo']['startTime'];let _0x1e696b=this['fadeDurati'+'on']===-0x3b*-0x3b+-0x1b01+0xd*0x108?0xedd+-0x22d*0xf+-0x3*-0x5ed:_0x24225b/this['fadeDurati'+'on'];if(_0x1e696b=Y['clamp'](_0x1e696b,-0x3*-0x2a9+0x464+-0xc5f,0x1*-0xaf6+0x14ed+-0x9f6),Math['abs'](_0x1e696b-(-0x1a0d+-0x1*-0x2335+0x927*-0x1))>-0x1b4d*-0x1+0x47d*-0x5+-0x4dc+0.00001){const _0xa9e3a0=this['_tweenInfo']['lerpColor'];_0xa9e3a0['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x1e696b),this['_applyTint'+'Immediatel'+'y'](new ie(_0xa9e3a0['r'],_0xa9e3a0['g'],_0xa9e3a0['b'],_0xa9e3a0['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x78a+0x1083*-0x2+0x2891),this['_hoveringC'+'ounter']=0x7*0x175+-0x1153+0x720,this['_isPressed']=!(-0x100b+0x22e3+-0x12d7),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x7ac372,_0x1ebd55){_0x7ac372['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x1ebd55[_0x7ac372['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x30d291){return new ie(_0x30d291['r'],_0x30d291['g'],_0x30d291['b']);}class WL{constructor(){this['enabled']=!(0x92b+0x3*-0x28c+-0x187),this['active']=!(0x1478*0x1+0x2303+-0x377b),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(-0x1*-0x25e1+-0x1*0xa5d+-0x1b84+0.75,-0xa6b+-0x1c1*-0x7+-0x4*0x77+0.75,0x9d1+0x71+-0xa42+0.75),this['pressedTin'+'t']=new ie(-0x1497+0x19d3+-0x53c+0.5,0x49f*0x2+-0x2*-0x6d1+-0x16e0+0.5,-0x1341*-0x2+0x575+-0x2bf7+0.5),this['inactiveTi'+'nt']=new ie(-0x14b4+-0x1*0x21aa+0x1*0x365e+0.25,-0x2271+-0x102*0x24+0x3*0x1793+0.25,0x2548+-0xc72+-0x16*0x121+0.25),this['fadeDurati'+'on']=-0x209f+0x2159+0x2*-0x5d,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0xad*0x26+-0x1100*0x1+0x2aae,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x6a6*0x3+0x6e6+0xd0c,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x251*0x7+0xdc7+-0x4e*-0x8;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x46c03b){super(_0x46c03b),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2b4ff9,_0x15fe53,_0x151b51){_0x2b4ff9['imageEntit'+'y']=_0x15fe53['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x2b4ff9,_0x15fe53,Ug);}['onUpdate'](_0x1e8813){const _0x3e1707=this['store'];for(const _0x2bd11e in _0x3e1707){const _0x119467=_0x3e1707[_0x2bd11e]['entity'],_0x30a08a=_0x119467['button'];_0x30a08a['enabled']&&_0x119467['enabled']&&_0x30a08a['onUpdate']();}}['_onRemoveC'+'omponent'](_0x527010,_0x38a204){_0x38a204['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0xce25ed,_0x5cd823){super(_0xce25ed,_0x5cd823),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0xc4e+-0x25db+0x198e)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x2c7293=this['system']['store'][this['entity']['getGuid']()];return _0x2c7293?_0x2c7293['data']:null;}set['enabled'](_0x292a24){this['_setValue']('enabled',_0x292a24);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x5c4166){this['_setValue']('type',_0x5c4166);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x49b25f){this['_setValue']('halfExtent'+'s',_0x49b25f);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x1516eb){this['_setValue']('linearOffs'+'et',_0x1516eb);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x2c6a01){this['_setValue']('angularOff'+'set',_0x2c6a01);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0xd86bdd){this['_setValue']('radius',_0xd86bdd);}get['radius'](){return this['data']['radius'];}set['axis'](_0xced0df){this['_setValue']('axis',_0xced0df);}get['axis'](){return this['data']['axis'];}set['height'](_0x33c17b){this['_setValue']('height',_0x33c17b);}get['height'](){return this['data']['height'];}set['asset'](_0x4a2f3a){this['_setValue']('asset',_0x4a2f3a);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x4bfb16){this['_setValue']('renderAsse'+'t',_0x4bfb16);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x43b219){this['_setValue']('convexHull',_0x43b219);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x1af4a3){this['_setValue']('shape',_0x1af4a3);}get['shape'](){return this['data']['shape'];}set['model'](_0x5de128){this['_setValue']('model',_0x5de128);}get['model'](){return this['data']['model'];}set['render'](_0x547d5d){this['_setValue']('render',_0x547d5d);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x1cdaaa){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x1cdaaa);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x558d5d,_0x5c25ce){const _0x4648b7=this['data'],_0x5a98ed=_0x4648b7[_0x558d5d];_0x4648b7[_0x558d5d]=_0x5c25ce,this['fire']('set',_0x558d5d,_0x5a98ed,_0x5c25ce);}['onSetType'](_0x3ebe46,_0xe4fb83,_0x2ba628){_0xe4fb83!==_0x2ba628&&this['system']['changeType'](this,_0xe4fb83,_0x2ba628);}['onSetHalfE'+'xtents'](_0x73c722,_0x1e146d,_0x5870d0){const _0x1178a9=this['data']['type'];this['data']['initialize'+'d']&&_0x1178a9==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x5e8a65,_0x33a635,_0x41513f){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x402048,_0x42fe33,_0x5e88ea){const _0x39fa5c=this['data']['type'];this['data']['initialize'+'d']&&(_0x39fa5c==='sphere'||_0x39fa5c==='capsule'||_0x39fa5c==='cylinder'||_0x39fa5c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x58add6,_0xfae448,_0x80095d){const _0x255341=this['data']['type'];this['data']['initialize'+'d']&&(_0x255341==='capsule'||_0x255341==='cylinder'||_0x255341==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x58f92e,_0x27eea8,_0x423981){const _0x51b461=this['data']['type'];this['data']['initialize'+'d']&&(_0x51b461==='capsule'||_0x51b461==='cylinder'||_0x51b461==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3a609d,_0x5d3986,_0x358d13){const _0x15a98f=this['system']['app']['assets'];if(_0x5d3986){const _0x58b4a5=_0x15a98f['get'](_0x5d3986);_0x58b4a5&&_0x58b4a5['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x358d13){_0x358d13 instanceof pe&&(this['data']['asset']=_0x358d13['id']);const _0x32af55=_0x15a98f['get'](this['data']['asset']);_0x32af55&&(_0x32af55['off']('remove',this['onAssetRem'+'oved'],this),_0x32af55['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x358d13||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x20d5bf,_0x474925,_0x3fae5f){const _0x379bdc=this['system']['app']['assets'];if(_0x474925){const _0x39d280=_0x379bdc['get'](_0x474925);_0x39d280&&_0x39d280['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3fae5f){_0x3fae5f instanceof pe&&(this['data']['renderAsse'+'t']=_0x3fae5f['id']);const _0x3a4932=_0x379bdc['get'](this['data']['renderAsse'+'t']);_0x3a4932&&(_0x3a4932['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x3a4932['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3fae5f||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x2cc742,_0x4f0638,_0x2903dc){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x2fedd5,_0x223c69,_0x13390d){this['onSetModel'](_0x2fedd5,_0x223c69,_0x13390d);}['onAssetRem'+'oved'](_0x25af41){_0x25af41['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x25af41['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x1b411e){_0x1b411e['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x1b411e['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x20745a){const _0x3d0265=this['data']['shape'],_0xb46f76=_0x3d0265['getNumChil'+'dShapes']();for(let _0x5141a1=-0x337*0x5+0x1486+-0x473;_0x5141a1<_0xb46f76;_0x5141a1++){const _0x407e46=_0x3d0265['getChildSh'+'ape'](_0x5141a1);if(Ammo['getPointer'](_0x407e46)===Ammo['getPointer'](_0x20745a))return _0x5141a1;}return null;}['_onInsert'](_0x56658a){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x5a2811=this['entity']['parent'];for(;_0x5a2811;){if(_0x5a2811['collision']&&_0x5a2811['collision']['type']==='compound'){_0x5a2811['collision']['shape']['getNumChil'+'dShapes']()===-0xdd*0x27+-0x19c4+0x3b6f?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5a2811['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x5a2811=_0x5a2811['parent'];}}}}}['_updateCom'+'pound'](){const _0x4538d9=this['entity'];if(_0x4538d9['_dirtyWorl'+'d']){let _0x11947c=_0x4538d9['_dirtyLoca'+'l'],_0x2886ee=_0x4538d9;for(;_0x2886ee&&!_0x11947c&&!(_0x2886ee['collision']&&_0x2886ee['collision']===this['_compoundP'+'arent']);)_0x2886ee['_dirtyLoca'+'l']&&(_0x11947c=!(-0x1f*0xa3+0x2*0x208+-0x1*-0xfad)),_0x2886ee=_0x2886ee['parent'];if(_0x11947c){_0x4538d9['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x4538d9);const _0xab979e=this['_compoundP'+'arent']['entity']['rigidbody'];_0xab979e&&_0xab979e['activate']();}}}['getShapePo'+'sition'](){const _0x23f79b=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x17bad5=this['entity']['getRotatio'+'n'](),_0x2e5ad2=this['data']['linearOffs'+'et'];return zg['copy'](_0x17bad5)['transformV'+'ector'](_0x2e5ad2,Bg),Bg['add'](_0x23f79b);}return _0x23f79b;}['getShapeRo'+'tation'](){const _0x8d34d8=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x8d34d8)['mul'](this['data']['angularOff'+'set']):_0x8d34d8;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x189346=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x189346&&(!_0x189346['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1*-0x1c01+-0xa*0xef+0x1*0x2557)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x286000=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x286000,this['data']['shape']),Ammo['destroy'](_0x286000),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x32c+0x7d7*0x3+-0x1*0x1459),this['type']='box',this['halfExtent'+'s']=new D(-0x16bb+-0x1f2e+0x35e9+0.5,-0x870+-0x2141+0x29b1+0.5,0x33*0xb5+-0x1a9d*-0x1+-0x3eac+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0x396*-0x2+-0x2*-0xa7f+0x2*-0x6e9+0.5,this['axis']=0x1e0d*0x1+-0x21be+0x3b2,this['height']=0x387+-0x1954*-0x1+0x5*-0x5c5,this['convexHull']=!(0x72f*-0x1+0x68e*-0x4+0x8*0x42d),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x104f+-0x1*-0x1cbf+-0x2d0e),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x31*-0x29+0x2*0xf09+-0x1638);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x1645+-0x46e+0x1ab5,Po=0x1bc6+-0x1f+0x5*-0x587,Pu=-0x2250+0xd5*0x1e+0x1*0x95b,Vg=-0x1b26+0x10ad+0xb3*0xf,Yv=-0x18a3*-0x1+-0x1ec4+-0x1*-0x626,jL=0x39*0x2f+0x16*0x196+-0x2d5a*0x1,Gg=0x642+0x7f5*0x2+-0x1*0x162a,YL=0x5*-0x373+-0x1600+0x13*0x211,Hg=-0x7b*0x6+-0x27*0x2+-0x40*-0xd,Wg=-0x80cf+-0x1a53d*0x1+0x1*0x3260b,Mu=0x2*0x7bc5+0xec0c+-0x2b*0x54b;let Us,zr,Wa;class Kv{constructor(_0x537ea4,_0x53cf85,_0x4d1ef3){this['entity']=_0x53cf85['entity'],this['component']=_0x53cf85,this['app']=_0x537ea4,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4d1ef3);}['initialize'](_0x3319c2){const _0xda95af=this['entity'],_0x9f167e=_0x3319c2['shape'];if(_0x9f167e&&typeof Ammo<'u'){_0xda95af['trigger']&&_0xda95af['trigger']['destroy']();const _0x17f6ba=0xb9+-0x1e2b+0x7*0x435,_0x469790=this['component'];if(_0x469790){const _0x3dbead=_0x469790['getShapePo'+'sition'](),_0x509e5a=_0x469790['getShapeRo'+'tation']();Us['setValue'](_0x3dbead['x'],_0x3dbead['y'],_0x3dbead['z']),zr['setValue'](_0x509e5a['x'],_0x509e5a['y'],_0x509e5a['z'],_0x509e5a['w']);}else{const _0x25d5ca=_0xda95af['getPositio'+'n'](),_0x117566=_0xda95af['getRotatio'+'n']();Us['setValue'](_0x25d5ca['x'],_0x25d5ca['y'],_0x25d5ca['z']),zr['setValue'](_0x117566['x'],_0x117566['y'],_0x117566['z'],_0x117566['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x3e8ae8=this['app']['systems']['rigidbody']['createBody'](_0x17f6ba,_0x9f167e,Wa);_0x3e8ae8['setRestitu'+'tion'](0x452+0x3*-0x34d+0x1*0x595),_0x3e8ae8['setFrictio'+'n'](0x10ac+-0xb5*-0x29+-0x2da9*0x1),_0x3e8ae8['setDamping'](0x23*-0xdd+0x21b9+-0x382,0x4e9+0x2*0xa1f+0x1927*-0x1),Us['setValue'](0x8e2+0x12b4*0x1+-0x1b96,0x228+0x1*0x165e+-0x1886,-0x605*0x2+0x223c*-0x1+-0x1*-0x2e46),_0x3e8ae8['setLinearF'+'actor'](Us),_0x3e8ae8['setAngular'+'Factor'](Us),_0x3e8ae8['setCollisi'+'onFlags'](_0x3e8ae8['getCollisi'+'onFlags']()|Po),_0x3e8ae8['entity']=_0xda95af,this['body']=_0x3e8ae8,this['component']['enabled']&&_0xda95af['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0xd20f74){const _0x1ddf82=this['component'];if(_0x1ddf82){const _0x2d5285=_0x1ddf82['getShapePo'+'sition'](),_0x592b96=_0x1ddf82['getShapeRo'+'tation']();Us['setValue'](_0x2d5285['x'],_0x2d5285['y'],_0x2d5285['z']),zr['setValue'](_0x592b96['x'],_0x592b96['y'],_0x592b96['z'],_0x592b96['w']);}else{const _0x9d0d63=this['entity']['getPositio'+'n'](),_0x32baef=this['entity']['getRotatio'+'n']();Us['setValue'](_0x9d0d63['x'],_0x9d0d63['y'],_0x9d0d63['z']),zr['setValue'](_0x32baef['x'],_0x32baef['y'],_0x32baef['z'],_0x32baef['w']);}_0xd20f74['setOrigin'](Us),_0xd20f74['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x327e92=this['body'];_0x327e92['setWorldTr'+'ansform'](Wa),_0x327e92['activate']();}['enable'](){const _0x4d5466=this['body'];if(!_0x4d5466)return;const _0x406d9b=this['app']['systems']['rigidbody'];_0x406d9b['_triggers']['indexOf'](this)<0x11*0x52+0xd95+-0x1307&&(_0x406d9b['addBody'](_0x4d5466,Hg,Mu^Hg),_0x406d9b['_triggers']['push'](this)),_0x4d5466['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x301eba=this['body'];if(!_0x301eba)return;const _0x77c0df=this['app']['systems']['rigidbody'],_0x337dcc=_0x77c0df['_triggers']['indexOf'](this);_0x337dcc>-(-0xc90+0x2*-0xfb3+-0x8cb*-0x5)&&(_0x77c0df['removeBody'](_0x301eba),_0x77c0df['_triggers']['splice'](_0x337dcc,-0x105d+-0x1*-0x1565+-0x507)),_0x301eba['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x4808c2){this['system']=_0x4808c2;}['beforeInit'+'ialize'](_0x11b2d0,_0xd30093){_0xd30093['shape']=null,_0xd30093['model']=new sr(),_0xd30093['model']['graph']=new Ie();}['afterIniti'+'alize'](_0xfc0587,_0x221f08){this['recreatePh'+'ysicalShap'+'es'](_0xfc0587),_0xfc0587['data']['initialize'+'d']=!(-0x6b*0x4a+-0x135d*0x1+0x1*0x324b);}['reset'](_0x5b9bc3,_0x28217d){this['beforeInit'+'ialize'](_0x5b9bc3,_0x28217d),this['afterIniti'+'alize'](_0x5b9bc3,_0x28217d);}['recreatePh'+'ysicalShap'+'es'](_0x38ca13){const _0x593bed=_0x38ca13['entity'],_0x2e6844=_0x38ca13['data'];if(typeof Ammo<'u'){_0x593bed['trigger']&&(_0x593bed['trigger']['destroy'](),delete _0x593bed['trigger']),_0x2e6844['shape']&&(_0x38ca13['_compoundP'+'arent']&&(_0x38ca13!==_0x38ca13['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x38ca13['_compoundP'+'arent'],_0x2e6844['shape']),_0x38ca13['_compoundP'+'arent']['entity']['rigidbody']&&_0x38ca13['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2e6844)),_0x2e6844['shape']=this['createPhys'+'icalShape'](_0x38ca13['entity'],_0x2e6844);const _0x35ffc0=!_0x38ca13['_compoundP'+'arent'];if(_0x2e6844['type']==='compound'&&(!_0x38ca13['_compoundP'+'arent']||_0x38ca13===_0x38ca13['_compoundP'+'arent']))_0x38ca13['_compoundP'+'arent']=_0x38ca13,_0x593bed['forEach'](this['_addEachDe'+'scendant'],_0x38ca13);else{if(_0x2e6844['type']!=='compound'&&!_0x38ca13['rigidbody']){_0x38ca13['_compoundP'+'arent']=null;let _0x15d87a=_0x593bed['parent'];for(;_0x15d87a;){if(_0x15d87a['collision']&&_0x15d87a['collision']['type']==='compound'){_0x38ca13['_compoundP'+'arent']=_0x15d87a['collision'];break;}_0x15d87a=_0x15d87a['parent'];}}}_0x38ca13['_compoundP'+'arent']&&_0x38ca13!==_0x38ca13['_compoundP'+'arent']&&(_0x35ffc0&&_0x38ca13['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1*-0x6a7+-0x445+0x4*0x2bb?this['system']['recreatePh'+'ysicalShap'+'es'](_0x38ca13['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x593bed,!(-0xa6*-0x27+0xd83+0x15*-0x1d9)),_0x38ca13['_compoundP'+'arent']['entity']['rigidbody']&&_0x38ca13['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x593bed['rigidbody']?(_0x593bed['rigidbody']['disableSim'+'ulation'](),_0x593bed['rigidbody']['createBody'](),_0x593bed['enabled']&&_0x593bed['rigidbody']['enabled']&&_0x593bed['rigidbody']['enableSimu'+'lation']()):_0x38ca13['_compoundP'+'arent']||(_0x593bed['trigger']?_0x593bed['trigger']['initialize'](_0x2e6844):_0x593bed['trigger']=new Kv(this['system']['app'],_0x38ca13,_0x2e6844));}}['createPhys'+'icalShape'](_0x231b5b,_0x2b92a8){}['updateTran'+'sform'](_0x1c2e47,_0x214cfc,_0x422e9e,_0x3a190a){_0x1c2e47['entity']['trigger']&&_0x1c2e47['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x39b8f1){_0x39b8f1['shape']&&(Ammo['destroy'](_0x39b8f1['shape']),_0x39b8f1['shape']=null);}['beforeRemo'+'ve'](_0x3c72ca,_0x10340f){_0x10340f['data']['shape']&&(_0x10340f['_compoundP'+'arent']&&!_0x10340f['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x10340f['_compoundP'+'arent'],_0x10340f['data']['shape']),_0x10340f['_compoundP'+'arent']['entity']['rigidbody']&&_0x10340f['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x10340f['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x10340f['data']));}['remove'](_0x2d4602,_0x2c16c8){_0x2d4602['rigidbody']&&_0x2d4602['rigidbody']['body']&&_0x2d4602['rigidbody']['disableSim'+'ulation'](),_0x2d4602['trigger']&&(_0x2d4602['trigger']['destroy'](),delete _0x2d4602['trigger']);}['clone'](_0x255954,_0x9f846){const _0x2e9b00=this['system']['store'][_0x255954['getGuid']()],_0x2fc7e3={'enabled':_0x2e9b00['data']['enabled'],'type':_0x2e9b00['data']['type'],'halfExtents':[_0x2e9b00['data']['halfExtent'+'s']['x'],_0x2e9b00['data']['halfExtent'+'s']['y'],_0x2e9b00['data']['halfExtent'+'s']['z']],'linearOffset':[_0x2e9b00['data']['linearOffs'+'et']['x'],_0x2e9b00['data']['linearOffs'+'et']['y'],_0x2e9b00['data']['linearOffs'+'et']['z']],'angularOffset':[_0x2e9b00['data']['angularOff'+'set']['x'],_0x2e9b00['data']['angularOff'+'set']['y'],_0x2e9b00['data']['angularOff'+'set']['z'],_0x2e9b00['data']['angularOff'+'set']['w']],'radius':_0x2e9b00['data']['radius'],'axis':_0x2e9b00['data']['axis'],'height':_0x2e9b00['data']['height'],'convexHull':_0x2e9b00['data']['convexHull'],'asset':_0x2e9b00['data']['asset'],'renderAsset':_0x2e9b00['data']['renderAsse'+'t'],'model':_0x2e9b00['data']['model'],'render':_0x2e9b00['data']['render'],'checkVertexDuplicates':_0x2e9b00['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x9f846,_0x2fc7e3);}}class JL extends Ca{['createPhys'+'icalShape'](_0x1ec49d,_0xf10719){if(typeof Ammo<'u'){const _0x1ee3f2=_0xf10719['halfExtent'+'s'],_0x682ef0=new Ammo['btVector3'](_0x1ee3f2?_0x1ee3f2['x']:0x1714*-0x1+-0x3+0x1717+0.5,_0x1ee3f2?_0x1ee3f2['y']:0x23c0+0x21e7+-0x45a7+0.5,_0x1ee3f2?_0x1ee3f2['z']:0x2446+-0x1ccc+-0x77a+0.5),_0x299788=new Ammo['btBoxShape'](_0x682ef0);return Ammo['destroy'](_0x682ef0),_0x299788;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x4fa3c4,_0x417341){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x417341['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x3351e3,_0x4f8aaf){const _0x1599b8=_0x4f8aaf['axis']??0x1cbd+0xc85+0xb3*-0x3b,_0x17de94=_0x4f8aaf['radius']??-0x16c4+0x2*-0x4c3+0x204a+0.5,_0x2ebddc=Math['max']((_0x4f8aaf['height']??0x1d64+0x23d1+0x1*-0x4133)-(0x379*0x7+0x1110+0x1*-0x295d)*_0x17de94,0x119*0x16+0xd85+-0x25ab);let _0x48e705=null;if(typeof Ammo<'u')switch(_0x1599b8){case 0xeaa+0x2479*-0x1+-0x3*-0x745:_0x48e705=new Ammo['btCapsuleS'+'hapeX'](_0x17de94,_0x2ebddc);break;case 0x1*-0x3c7+-0x14ca+0x2*0xc49:_0x48e705=new Ammo['btCapsuleS'+'hape'](_0x17de94,_0x2ebddc);break;case 0x11d5+0x2*0x41b+-0x1a09:_0x48e705=new Ammo['btCapsuleS'+'hapeZ'](_0x17de94,_0x2ebddc);break;}return _0x48e705;}}class sR extends Ca{['createPhys'+'icalShape'](_0xf3721d,_0x4cbc2d){const _0x3da003=_0x4cbc2d['axis']??0x2*-0xc46+-0xcf*-0x11+0x2*0x567,_0x58b29b=_0x4cbc2d['radius']??-0x22e2+-0x998+0x2c7a+0.5,_0x3e418a=_0x4cbc2d['height']??-0x2*-0xb90+-0x14f9+-0x226;let _0x404751=null,_0x4f3957=null;if(typeof Ammo<'u')switch(_0x3da003){case-0x1*-0x242f+-0xf0a+0x1525*-0x1:_0x404751=new Ammo['btVector3'](_0x3e418a*(-0x1b88+0xfc*-0x14+0x2f38+0.5),_0x58b29b,_0x58b29b),_0x4f3957=new Ammo['btCylinder'+'ShapeX'](_0x404751);break;case 0x776+-0x16ba+0xf45:_0x404751=new Ammo['btVector3'](_0x58b29b,_0x3e418a*(-0x1f*-0x4f+-0x1*-0x20fb+0x1546*-0x2+0.5),_0x58b29b),_0x4f3957=new Ammo['btCylinder'+'Shape'](_0x404751);break;case-0x1d1+0x983+0x8*-0xf6:_0x404751=new Ammo['btVector3'](_0x58b29b,_0x58b29b,_0x3e418a*(-0x227+-0x10*-0x29+-0xf*0x7+0.5)),_0x4f3957=new Ammo['btCylinder'+'ShapeZ'](_0x404751);break;}return _0x404751&&Ammo['destroy'](_0x404751),_0x4f3957;}}class iR extends Ca{['createPhys'+'icalShape'](_0x3aecec,_0x70b649){const _0x11ae84=_0x70b649['axis']??0x1c22+-0x2*-0xb30+-0x7*0x737,_0x1105e9=_0x70b649['radius']??0xf27+-0x1928+-0xc5*-0xd+0.5,_0x50cbfb=_0x70b649['height']??0x19*-0x82+0x160b+0x8*-0x12b;let _0x4e0983=null;if(typeof Ammo<'u')switch(_0x11ae84){case-0x13dc+0x1*0xa97+0x945:_0x4e0983=new Ammo['btConeShap'+'eX'](_0x1105e9,_0x50cbfb);break;case 0xa12*0x2+-0x1d4b+0x928:_0x4e0983=new Ammo['btConeShap'+'e'](_0x1105e9,_0x50cbfb);break;case-0x1139*0x1+-0x24e0+0x1*0x361b:_0x4e0983=new Ammo['btConeShap'+'eZ'](_0x1105e9,_0x50cbfb);break;}return _0x4e0983;}}class rR extends Ca{['beforeInit'+'ialize'](_0x13ea1e,_0x29dfd4){}['createAmmo'+'Hull'](_0x208719,_0x379667,_0x19940b,_0x8208a5){const _0x59fdb0=new Ammo['btConvexHu'+'llShape'](),_0x2fa08d=new Ammo['btVector3'](),_0x350b17=[];_0x208719['getPositio'+'ns'](_0x350b17);for(let _0x14b215=-0x1bc5*-0x1+0x8a*-0x43+-0x1*-0x859;_0x14b215<_0x350b17['length'];_0x14b215+=-0x88e+-0x2586+-0x1b*-0x1b5)_0x2fa08d['setValue'](_0x350b17[_0x14b215]*_0x8208a5['x'],_0x350b17[_0x14b215+(-0x17d4+0xb81*-0x1+0x2356)]*_0x8208a5['y'],_0x350b17[_0x14b215+(-0x1c10+0x432+0x1*0x17e0)]*_0x8208a5['z']),_0x59fdb0['addPoint'](_0x2fa08d,!(-0x9*-0x158+-0x4*-0x32b+-0x3*0x841));Ammo['destroy'](_0x2fa08d),_0x59fdb0['recalcLoca'+'lAabb'](),_0x59fdb0['setMargin'](0x10d0+-0xf6+-0xfda+0.01);const _0xc50af9=this['system']['_getNodeTr'+'ansform'](_0x379667);_0x19940b['addChildSh'+'ape'](_0xc50af9,_0x59fdb0),Ammo['destroy'](_0xc50af9);}['createAmmo'+'Mesh'](_0x343633,_0x3c473a,_0x414497,_0x2b9064,_0x4c0128=!(-0x114a*-0x1+-0x17*-0x95+-0x1ead)){const _0x38ba31=this['system'];let _0x363a7a;if(_0x38ba31['_triMeshCa'+'che'][_0x343633['id']])_0x363a7a=_0x38ba31['_triMeshCa'+'che'][_0x343633['id']];else{const _0x8667d7=_0x343633['vertexBuff'+'er'],_0x4d068d=_0x8667d7['getFormat']();let _0x51af74,_0x8fdab6;for(let _0x42b405=-0x1*-0x14ad+0xde7*0x1+-0x2294;_0x42b405<_0x4d068d['elements']['length'];_0x42b405++){const _0x28b138=_0x4d068d['elements'][_0x42b405];if(_0x28b138['name']===Me){_0x8fdab6=new Float32Array(_0x8667d7['lock'](),_0x28b138['offset']),_0x51af74=_0x28b138['stride']/(0x2485*0x1+-0x1*-0x1c7c+-0x40fd);break;}}const _0x6a07b5=[];_0x343633['getIndices'](_0x6a07b5);const _0x32229a=_0x343633['primitive'][0x12a7+-0x1b56+0x8af]['count']/(-0x26f7+-0x19d9+0x40d3),_0x58eb60=new Ammo['btVector3']();let _0x5434cc,_0x491244,_0x55e6ab;const _0x74a9c8=_0x343633['primitive'][-0x1e35+0x16b7+-0xe*-0x89]['base'];_0x363a7a=new Ammo['btTriangle'+'Mesh'](),_0x38ba31['_triMeshCa'+'che'][_0x343633['id']]=_0x363a7a;const _0x5a207e=new Map();w['assert'](typeof _0x363a7a['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x4bb124=_0x363a7a['getIndexed'+'MeshArray']();_0x4bb124['at'](0x7e9+0xd*0x225+-0x23ca)['m_numTrian'+'gles']=_0x32229a;const _0x345ab4=_0x2b9064?_0x2b9064['x']:-0x1bbb+0x2438+-0x3*0x2d4,_0x3be510=_0x2b9064?_0x2b9064['y']:0x6a1+0x1a59+-0x20f9,_0x1a17a8=_0x2b9064?_0x2b9064['z']:0xf1*0xf+0xb*0x283+-0x29bf*0x1,_0xe7e1a6=_0x63cf88=>{const _0x2230d9=_0x8fdab6[_0x63cf88*_0x51af74]*_0x345ab4,_0x1155aa=_0x8fdab6[_0x63cf88*_0x51af74+(-0x2649+-0xefd*0x2+0x4444)]*_0x3be510,_0x5cdbad=_0x8fdab6[_0x63cf88*_0x51af74+(0x251c+0x12d1+-0x1*0x37eb)]*_0x1a17a8;let _0x309f8d;if(_0x4c0128){const _0x570522=_0x2230d9+':'+_0x1155aa+':'+_0x5cdbad;if(_0x309f8d=_0x5a207e['get'](_0x570522),_0x309f8d!==void(0x2*-0x5f7+-0x1c75+-0xd3*-0x31))return _0x309f8d;_0x58eb60['setValue'](_0x2230d9,_0x1155aa,_0x5cdbad),_0x309f8d=_0x363a7a['findOrAddV'+'ertex'](_0x58eb60,!(0x5*0x664+-0xb81+-0x1472)),_0x5a207e['set'](_0x570522,_0x309f8d);}else _0x58eb60['setValue'](_0x2230d9,_0x1155aa,_0x5cdbad),_0x309f8d=_0x363a7a['findOrAddV'+'ertex'](_0x58eb60,!(0xa06*0x1+-0x70b*-0x1+-0x1110));return _0x309f8d;};for(let _0x60882f=-0x1cd+-0x22de*0x1+0xc39*0x3;_0x60882f<_0x32229a;_0x60882f++)_0x5434cc=_0xe7e1a6(_0x6a07b5[_0x74a9c8+_0x60882f*(-0x9da*0x3+0x106c+-0x5*-0x2a1)]),_0x491244=_0xe7e1a6(_0x6a07b5[_0x74a9c8+_0x60882f*(0x13*0x16f+-0x74*0x12+-0x1*0x1312)+(0x21da+-0x2*0x11b1+-0x1*-0x189)]),_0x55e6ab=_0xe7e1a6(_0x6a07b5[_0x74a9c8+_0x60882f*(-0x89*-0x48+0x1832*0x1+-0x13*0x34d)+(0x3*0x96d+0x1*-0x1a87+-0x2*0xdf)]),_0x363a7a['addIndex'](_0x5434cc),_0x363a7a['addIndex'](_0x491244),_0x363a7a['addIndex'](_0x55e6ab);Ammo['destroy'](_0x58eb60);}const _0x25220d=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x363a7a,!(-0x28e*0x4+0x21e3+0x17ab*-0x1));if(!_0x2b9064){const _0x4e5eed=_0x38ba31['_getNodeSc'+'aling'](_0x3c473a);_0x25220d['setLocalSc'+'aling'](_0x4e5eed),Ammo['destroy'](_0x4e5eed);}const _0x572ef4=_0x38ba31['_getNodeTr'+'ansform'](_0x3c473a);_0x414497['addChildSh'+'ape'](_0x572ef4,_0x25220d),Ammo['destroy'](_0x572ef4);}['createPhys'+'icalShape'](_0x1b34ce,_0xbfb5b8){if(!(typeof Ammo>'u')&&(_0xbfb5b8['model']||_0xbfb5b8['render'])){const _0x2c94ad=new Ammo['btCompound'+'Shape'](),_0xe104c8=_0x1b34ce['getWorldTr'+'ansform']()['getScale']();if(_0xbfb5b8['render']){const _0x264511=_0xbfb5b8['render']['meshes'];for(let _0x36f280=-0xc7b*0x1+0x1613+-0x4cc*0x2;_0x36f280<_0x264511['length'];_0x36f280++)_0xbfb5b8['convexHull']?this['createAmmo'+'Hull'](_0x264511[_0x36f280],$g,_0x2c94ad,_0xe104c8):this['createAmmo'+'Mesh'](_0x264511[_0x36f280],$g,_0x2c94ad,_0xe104c8,_0xbfb5b8['checkVerte'+'xDuplicate'+'s']);}else{if(_0xbfb5b8['model']){const _0x4f8ed2=_0xbfb5b8['model']['meshInstan'+'ces'];for(let _0x1c6613=-0xb51*-0x1+-0xe7e+-0x32d*-0x1;_0x1c6613<_0x4f8ed2['length'];_0x1c6613++)this['createAmmo'+'Mesh'](_0x4f8ed2[_0x1c6613]['mesh'],_0x4f8ed2[_0x1c6613]['node'],_0x2c94ad,null,_0xbfb5b8['checkVerte'+'xDuplicate'+'s']);const _0x4fe9c9=new Ammo['btVector3'](_0xe104c8['x'],_0xe104c8['y'],_0xe104c8['z']);_0x2c94ad['setLocalSc'+'aling'](_0x4fe9c9),Ammo['destroy'](_0x4fe9c9);}}return _0x2c94ad;}}['recreatePh'+'ysicalShap'+'es'](_0x1b03d6){const _0x5066cb=_0x1b03d6['data'];if((_0x5066cb['renderAsse'+'t']||_0x5066cb['asset'])&&_0x1b03d6['enabled']&&_0x1b03d6['entity']['enabled']){this['loadAsset'](_0x1b03d6,_0x5066cb['renderAsse'+'t']||_0x5066cb['asset'],_0x5066cb['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x1b03d6);}['loadAsset'](_0x5c59a6,_0x560b2e,_0x324909){const _0x164c0e=_0x5c59a6['data'],_0x595d45=this['system']['app']['assets'],_0x55c42e=_0x164c0e[_0x324909],_0xce5f47=_0xc8c9e5=>{_0x164c0e[_0x324909]===_0x55c42e&&(_0x164c0e[_0x324909]=_0xc8c9e5['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x5c59a6));},_0x1a3370=_0x4c5792=>{_0x4c5792['ready'](_0x9dde08=>{if(_0x9dde08['data']['containerA'+'sset']){const _0x5103b9=_0x595d45['get'](_0x9dde08['data']['containerA'+'sset']);_0x5103b9['loaded']?_0xce5f47(_0x9dde08):(_0x5103b9['ready'](()=>{_0xce5f47(_0x9dde08);}),_0x595d45['load'](_0x5103b9));}else _0xce5f47(_0x9dde08);}),_0x595d45['load'](_0x4c5792);},_0x2fc2af=_0x595d45['get'](_0x560b2e);_0x2fc2af?_0x1a3370(_0x2fc2af):_0x595d45['once']('add:'+_0x560b2e,_0x1a3370);}['doRecreate'+'PhysicalSh'+'ape'](_0x4ed34f){const _0x48e165=_0x4ed34f['entity'],_0x57db6a=_0x4ed34f['data'];_0x57db6a['model']||_0x57db6a['render']?(this['destroySha'+'pe'](_0x57db6a),_0x57db6a['shape']=this['createPhys'+'icalShape'](_0x48e165,_0x57db6a),_0x48e165['rigidbody']?(_0x48e165['rigidbody']['disableSim'+'ulation'](),_0x48e165['rigidbody']['createBody'](),_0x48e165['enabled']&&_0x48e165['rigidbody']['enabled']&&_0x48e165['rigidbody']['enableSimu'+'lation']()):_0x48e165['trigger']?_0x48e165['trigger']['initialize'](_0x57db6a):_0x48e165['trigger']=new Kv(this['system']['app'],_0x4ed34f,_0x57db6a)):(this['beforeRemo'+'ve'](_0x48e165,_0x4ed34f),this['remove'](_0x48e165,_0x57db6a));}['updateTran'+'sform'](_0x14875d,_0x4a0d93,_0x15a975,_0x212707){if(_0x14875d['shape']){const _0x5a87f9=_0x14875d['entity']['getWorldTr'+'ansform']()['getScale'](),_0x502f59=_0x14875d['shape']['getLocalSc'+'aling']();(_0x5a87f9['x']!==_0x502f59['x']()||_0x5a87f9['y']!==_0x502f59['y']()||_0x5a87f9['z']!==_0x502f59['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x14875d);}super['updateTran'+'sform'](_0x14875d,_0x4a0d93,_0x15a975,_0x212707);}['destroySha'+'pe'](_0x5975d3){if(!_0x5975d3['shape'])return;const _0x2c8e7c=_0x5975d3['shape']['getNumChil'+'dShapes']();for(let _0x354557=0x1*0x968+-0x18d1+0xf*0x107;_0x354557<_0x2c8e7c;_0x354557++){const _0x1f356a=_0x5975d3['shape']['getChildSh'+'ape'](_0x354557);Ammo['destroy'](_0x1f356a);}Ammo['destroy'](_0x5975d3['shape']),_0x5975d3['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x3e7501,_0x62cc56){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x154919){!_0x154919['collision']||_0x154919['rigidbody']||(_0x154919['collision']['_compoundP'+'arent']=this,_0x154919!==this['entity']&&_0x154919['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x154919['collision']));}['_updateEac'+'hDescendan'+'t'](_0x242832){_0x242832['collision']&&_0x242832['collision']['_compoundP'+'arent']===this&&(_0x242832['collision']['_compoundP'+'arent']=null,_0x242832!==this['entity']&&!_0x242832['rigidbody']&&_0x242832['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x242832['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x479f6d){!_0x479f6d['collision']||_0x479f6d['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x479f6d,!(0x6*0xe+0xa7*0x13+-0xcb8));}}class nR extends ct{constructor(_0x1f3995){super(_0x1f3995),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xcdbcb0,_0x526f41,_0x49656e){_0x49656e=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x12f0f1={};for(let _0x2afeee=0x9a8+-0x21df+0x1837*0x1,_0x13d1ca=_0x49656e['length'];_0x2afeee<_0x13d1ca;_0x2afeee++){const _0xfbaf54=_0x49656e[_0x2afeee];_0x12f0f1[_0xfbaf54]=_0x526f41[_0xfbaf54];}let _0x5cd7d4;if(_0x526f41['hasOwnProp'+'erty']('asset')?(_0x5cd7d4=_0x49656e['indexOf']('model'),_0x5cd7d4!==-(-0x3*0x3b9+-0xcaf+-0x1*-0x17db)&&_0x49656e['splice'](_0x5cd7d4,0x22a7*0x1+-0x2029*-0x1+-0x1*0x42cf),_0x5cd7d4=_0x49656e['indexOf']('render'),_0x5cd7d4!==-(0xb*-0x24b+-0x2*-0x293+0x4*0x505)&&_0x49656e['splice'](_0x5cd7d4,-0x145a+-0x1387+0x13f1*0x2)):_0x526f41['hasOwnProp'+'erty']('model')&&(_0x5cd7d4=_0x49656e['indexOf']('asset'),_0x5cd7d4!==-(0xe6c+-0xa3b+-0x218*0x2)&&_0x49656e['splice'](_0x5cd7d4,0x1*-0xcaa+0x617+0x694)),_0x12f0f1['type']||(_0x12f0f1['type']=_0xcdbcb0['data']['type']),_0xcdbcb0['data']['type']=_0x12f0f1['type'],Array['isArray'](_0x12f0f1['halfExtent'+'s'])&&(_0x12f0f1['halfExtent'+'s']=new D(_0x12f0f1['halfExtent'+'s'])),Array['isArray'](_0x12f0f1['linearOffs'+'et'])&&(_0x12f0f1['linearOffs'+'et']=new D(_0x12f0f1['linearOffs'+'et'])),Array['isArray'](_0x12f0f1['angularOff'+'set'])){const _0x5e8b13=_0x12f0f1['angularOff'+'set'];_0x5e8b13['length']===-0x20f5+-0x21*-0x85+-0x1*-0xfd3?_0x12f0f1['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x5e8b13[-0xa7*0x1e+0x1*0x20e4+0xb*-0x136],_0x5e8b13[0x18d8+0x30f*0xa+0x376d*-0x1],_0x5e8b13[0xf3*-0x1d+-0x21d5+0x3d5e]):_0x12f0f1['angularOff'+'set']=new le(_0x12f0f1['angularOff'+'set']);}const _0x24d65c=this['_createImp'+'lementatio'+'n'](_0x12f0f1['type']);_0x24d65c['beforeInit'+'ialize'](_0xcdbcb0,_0x12f0f1),super['initialize'+'ComponentD'+'ata'](_0xcdbcb0,_0x12f0f1,_0x49656e),_0x24d65c['afterIniti'+'alize'](_0xcdbcb0,_0x12f0f1);}['_createImp'+'lementatio'+'n'](_0x1db0bb){if(this['implementa'+'tions'][_0x1db0bb]===void(0x26f5+0x3d2+-0x2ac7)){let _0x527df7;switch(_0x1db0bb){case'box':_0x527df7=new JL(this);break;case'sphere':_0x527df7=new eR(this);break;case'capsule':_0x527df7=new tR(this);break;case'cylinder':_0x527df7=new sR(this);break;case'cone':_0x527df7=new iR(this);break;case'mesh':_0x527df7=new rR(this);break;case'compound':_0x527df7=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x1db0bb);}this['implementa'+'tions'][_0x1db0bb]=_0x527df7;}return this['implementa'+'tions'][_0x1db0bb];}['_getImplem'+'entation'](_0x339ba1){return this['implementa'+'tions'][_0x339ba1['collision']['data']['type']];}['cloneCompo'+'nent'](_0x194579,_0x15b7be){return this['_getImplem'+'entation'](_0x194579)['clone'](_0x194579,_0x15b7be);}['onBeforeRe'+'move'](_0x581500,_0x19d25c){this['implementa'+'tions'][_0x19d25c['data']['type']]['beforeRemo'+'ve'](_0x581500,_0x19d25c),_0x19d25c['onBeforeRe'+'move']();}['onRemove'](_0x1e0ab9,_0x1b3d3d){this['implementa'+'tions'][_0x1b3d3d['type']]['remove'](_0x1e0ab9,_0x1b3d3d);}['updateComp'+'oundChildT'+'ransform'](_0x221447,_0x376a51){const _0x261e49=_0x221447['collision']['_compoundP'+'arent'];if(_0x261e49!==_0x221447['collision']&&_0x221447['enabled']&&_0x221447['collision']['enabled']&&(_0x221447['_dirtyLoca'+'l']||_0x376a51)){const _0x4ca1b5=this['_getNodeTr'+'ansform'](_0x221447,_0x261e49['entity']),_0x59df8=_0x261e49['getCompoun'+'dChildShap'+'eIndex'](_0x221447['collision']['shape']);_0x59df8===null?_0x261e49['shape']['addChildSh'+'ape'](_0x4ca1b5,_0x221447['collision']['data']['shape']):_0x261e49['shape']['updateChil'+'dTransform'](_0x59df8,_0x4ca1b5,!(0x104+0x1*0x1a39+0x13*-0x16f)),Ammo['destroy'](_0x4ca1b5);}}['_removeCom'+'poundChild'](_0x393a5d,_0x33b078){if(_0x393a5d['shape']['getNumChil'+'dShapes']()!==-0x1*-0x2113+0x13f+-0x2*0x1129){if(_0x393a5d['shape']['removeChil'+'dShape'])_0x393a5d['shape']['removeChil'+'dShape'](_0x33b078);else{const _0x75c682=_0x393a5d['getCompoun'+'dChildShap'+'eIndex'](_0x33b078);_0x75c682!==null&&_0x393a5d['shape']['removeChil'+'dShapeByIn'+'dex'](_0x75c682);}}}['onTransfor'+'mChanged'](_0x1aeb56,_0x4b4dac,_0x491f91,_0x3ad833){this['implementa'+'tions'][_0x1aeb56['data']['type']]['updateTran'+'sform'](_0x1aeb56,_0x4b4dac,_0x491f91,_0x3ad833);}['changeType'](_0x4ad927,_0x1920dd,_0x36a7ca){this['implementa'+'tions'][_0x1920dd]['beforeRemo'+'ve'](_0x4ad927['entity'],_0x4ad927),this['implementa'+'tions'][_0x1920dd]['remove'](_0x4ad927['entity'],_0x4ad927['data']),this['_createImp'+'lementatio'+'n'](_0x36a7ca)['reset'](_0x4ad927,_0x4ad927['data']);}['recreatePh'+'ysicalShap'+'es'](_0x4669c3){this['implementa'+'tions'][_0x4669c3['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x4669c3);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x42373b,_0x1eff9b){if(_0x42373b===_0x1eff9b){const _0x5e143b=_0x42373b['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x5e143b['x'],_0x5e143b['y'],_0x5e143b['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x42373b['parent'],_0x1eff9b),wc['mul'](_0x42373b['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x9e5bf2){const _0x1cb195=_0x9e5bf2['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x1cb195['x'],_0x1cb195['y'],_0x1cb195['z']);}['_getNodeTr'+'ansform'](_0xdc426c,_0x5c7baa){let _0x38aabd,_0x42772a;_0x5c7baa?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0xdc426c,_0x5c7baa),_0x38aabd=KL,_0x42772a=Vr,wc['getTransla'+'tion'](_0x38aabd),_0x42772a['setFromMat'+'4'](wc)):(_0x38aabd=_0xdc426c['getPositio'+'n'](),_0x42772a=_0xdc426c['getRotatio'+'n']());const _0x239f3c=new Ammo['btQuaterni'+'on'](),_0x39295f=new Ammo['btTransfor'+'m']();_0x39295f['setIdentit'+'y']();const _0x559d60=_0x39295f['getOrigin'](),_0x4ced32=_0xdc426c['collision'];if(_0x4ced32&&_0x4ced32['_hasOffset']){const _0x1f6170=_0x4ced32['data']['linearOffs'+'et'],_0x1cf9dc=_0x4ced32['data']['angularOff'+'set'],_0x40683b=ZL;Vr['copy'](_0x42772a)['transformV'+'ector'](_0x1f6170,_0x40683b),_0x40683b['add'](_0x38aabd),Vr['copy'](_0x42772a)['mul'](_0x1cf9dc),_0x559d60['setValue'](_0x40683b['x'],_0x40683b['y'],_0x40683b['z']),_0x239f3c['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x559d60['setValue'](_0x38aabd['x'],_0x38aabd['y'],_0x38aabd['z']),_0x239f3c['setValue'](_0x42772a['x'],_0x42772a['y'],_0x42772a['z'],_0x42772a['w']);return _0x39295f['setRotatio'+'n'](_0x239f3c),Ammo['destroy'](_0x239f3c),_0x39295f;}['destroy'](){for(const _0x4cbf07 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4cbf07]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x2b151b,_0xc74a00,_0x369977){this['_entity']=_0x2b151b,this['_element']=_0x2b151b['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0xc74a00,this['meshInstan'+'ce']=new He(this['mesh'],_0x369977,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x2b151b['name'],this['meshInstan'+'ce']['castShadow']=!(-0x45d*0x5+-0x775+-0x1d47*-0x1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0xe*0x203+-0x8b*0x8+-0x17d1),this['_meshDirty']=!(0x2cf*0x5+0x97*0x15+-0x1a6d),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x304115,_0x56fe86;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x304115=this['meshInstan'+'ce'])==null||_0x304115['destroy'](),this['meshInstan'+'ce']=null,(_0x56fe86=this['unmaskMesh'+'Instance'])==null||_0x56fe86['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x2cd4f3){this['meshInstan'+'ce']&&(this['mesh']=_0x2cd4f3,this['meshInstan'+'ce']['mesh']=_0x2cd4f3,this['meshInstan'+'ce']['visible']=!!_0x2cd4f3,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x2cd4f3),this['forceUpdat'+'eAabb']());}['setMask'](_0x3a5f97){var _0x5ee5d7;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x3a5f97){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x15d*-0xf+0x94*0x15+0x850),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x22db+0x513+0x3d*0x7d),this['unmaskMesh'+'Instance']['pick']=!(0x66*-0x46+0x1*-0x8c3+-0x198*-0x17),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x4dcfab in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4dcfab,this['meshInstan'+'ce']['parameters'][_0x4dcfab]['data']);}else{const _0x3dd4ed=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x3dd4ed>=-0x1c3f+0x1749+0x4f6&&this['model']['meshInstan'+'ces']['splice'](_0x3dd4ed,-0x200+-0x42a+-0x62b*-0x1);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x3a5f97||((_0x5ee5d7=this['unmaskMesh'+'Instance'])==null||_0x5ee5d7['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x2b21ea){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x2b21ea,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x2b21ea));}['setParamet'+'er'](_0x2c7f02,_0x589673){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x2c7f02,_0x589673),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2c7f02,_0x589673));}['deletePara'+'meter'](_0x21458c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x21458c),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x21458c));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x1ce8a9=function(_0x7af43){let _0x1dc18a;const _0x3ef3ca=_0x7af43['children'],_0x16475b=_0x3ef3ca['length'];if(_0x16475b){for(let _0x6e038f=-0x9*-0xa4+0x3b4+0x1*-0x978;_0x6e038f<_0x16475b;_0x6e038f++)_0x3ef3ca[_0x6e038f]['element']&&(_0x1dc18a=_0x3ef3ca[_0x6e038f]);if(!_0x1dc18a)return null;const _0x301e37=_0x1ce8a9(_0x1dc18a);return _0x301e37||_0x1dc18a;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1f99ae=_0x1ce8a9(this['_entity']);_0x1f99ae&&_0x1f99ae['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1f99ae['element']['drawOrder']+_0x1f99ae['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x5b8f3f){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x5b8f3f),this['meshInstan'+'ce']['drawOrder']=_0x5b8f3f);}['setCull'](_0x477c47){if(!this['meshInstan'+'ce'])return;const _0x1b7649=this['_element'];let _0x39d67d=null;_0x477c47&&_0x1b7649['_isScreenS'+'pace']()&&(_0x39d67d=function(_0x52fae5){return _0x1b7649['isVisibleF'+'orCamera'](_0x52fae5);}),this['meshInstan'+'ce']['cull']=_0x477c47,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x39d67d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x477c47,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x39d67d);}['setScreenS'+'pace'](_0x38cc43){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x38cc43,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x38cc43));}['setLayer'](_0x58bb96){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x58bb96,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x58bb96));}['forceUpdat'+'eAabb'](_0x2a8b9e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x2500+-0x1935+0x3e36),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x2440+-0x9*-0x410+-0x39*0x147)));}['setAabbFun'+'c'](_0x38c572){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x38c572,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x38c572));}}class cR{constructor(_0xd47aa9){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0xd47aa9,this['_entity']=_0xd47aa9['entity'],this['_system']=_0xd47aa9['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x9f9+-0x7*0x558+0x2f61,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x3*-0x403+-0x49*0x71+0x1431),this['_rect']=new re(0x76c+-0x17c*0x6+0x17c,0xba8+-0x2f*-0xb8+-0x2d70,0x6eb+0x1c19+-0x2303,0x1a1*-0x8+-0x148*-0x7+0x411),this['_mask']=!(-0x4d*0x74+-0x23b9+0x469e),this['_maskRef']=0x1c49+-0xd8a*0x2+-0x135,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x39*-0x36+0x14e8+0x8e*-0x10),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1c82*0x1+-0xe43+0x2ac9),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x1771*-0x1+0x65*-0x9+0x1b02),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x19e0+-0x102d+0x1*0x2a0e,-0x1*0x1277+0x80*-0x10+0x1a78,-0x708+0xf*0x16d+-0xe5a,-0x755*-0x3+0x10f2*0x2+-0x37e2),this['_colorUnif'+'orm']=new Float32Array([-0x3*0x5f7+0x2625+-0x143f,0x61*-0x5+-0x234a+0x2530,-0x4*-0x5e2+0x2b5+-0x1a3c]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x4ee+0xf29*-0x2+-0xc5*-0x21),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x3ce1cf){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x491d8c){this['_updateMat'+'erial'](_0x491d8c);}['_onScreenC'+'hange'](_0x51292d,_0x12ca29){_0x51292d?this['_updateMat'+'erial'](_0x51292d['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1d06+0x202f+0x65*-0x8));}['_onDrawOrd'+'erChange'](_0x499f4a){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x499f4a),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x24c+0x2000+-0x1db3);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x594b3a){const _0x4db6b7=!!this['_mask'],_0x56729d=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x313285=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x594b3a,_0x4db6b7,_0x56729d,_0x313285)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x594b3a),this['_renderabl'+'e']['setLayer'](_0x594b3a?Ow:Ky));}['_createMes'+'h'](){const _0x2ccd82=this['_element'],_0x126a1e=_0x2ccd82['calculated'+'Width'],_0x4c58e5=_0x2ccd82['calculated'+'Height'],_0x7ef497=this['_rect'],_0x32f8f9=this['_system']['app']['graphicsDe'+'vice'],_0x1f9f33=new Float32Array([_0x126a1e,-0x3*0x22d+-0x2*-0x5fd+0x5*-0x117,0x75f*0x2+0x16*0xcb+-0x2030,0xad*0x1a+0xa99+-0x1c2b,-0x424+0x24f9+-0x20d5,0x1*-0x159a+0x25*-0x1+0x15c0,_0x7ef497['x']+_0x7ef497['z'],-0x3*-0x536+0x23a7+-0x3348-_0x7ef497['y'],_0x126a1e,_0x4c58e5,-0x269*0xf+-0xe*-0xb3+0x1*0x1a5d,0xa55+0x1877+-0x1166*0x2,-0x1bf*-0xd+0xda*0xf+-0x2379,0xa89+0x50b*0x2+-0xb6*0x1d,_0x7ef497['x']+_0x7ef497['z'],-0x1137+-0x11*-0x109+-0x61-(_0x7ef497['y']+_0x7ef497['w']),-0xd13*0x1+0x505*-0x3+-0x1c22*-0x1,0x301*-0x5+0x1846*-0x1+0x15*0x1df,-0x1ade+-0xa39+-0x5*-0x76b,0x4aa*0x1+-0x1c9a+0x17f0,0x10d6+-0xb9b*-0x1+0x1*-0x1c71,0x161a+0x3*0x2af+-0xf13*0x2,_0x7ef497['x'],0x2*-0xd11+0x3f*0x49+-0x416*-0x2-_0x7ef497['y'],-0x1940+0x5*0x43f+0x405,_0x4c58e5,0x2c*0x73+-0xc59*0x2+0x4ee,-0x1e8a*0x1+0x1a06+0x484,-0x2d5+-0xb76+0xe4b,-0x1*-0x92b+-0x210a+0x17e0,_0x7ef497['x'],-0x11*0xb1+0x24b9+-0x1*0x18f7-(_0x7ef497['y']+_0x7ef497['w'])]),_0xb952a=oR['get'](_0x32f8f9,()=>new kt(_0x32f8f9,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x98c9d7=new Is(_0x32f8f9,_0xb952a,-0x2*0x85d+-0x2b4*-0x9+0x1*-0x796,{'data':_0x1f9f33['buffer']}),_0x12fabd=new Ge(_0x32f8f9);return _0x12fabd['vertexBuff'+'er']=_0x98c9d7,_0x12fabd['primitive'][-0x459+0x7d9+-0x380]['type']=Er,_0x12fabd['primitive'][-0x6f6+0x2403+0x9af*-0x3]['base']=0x1fe1+-0x2*0xa11+-0xbbf,_0x12fabd['primitive'][-0x15*-0xb1+-0x1*-0x658+-0x14dd]['count']=-0x3*0xf6+0x1d*0x3d+0xd*-0x4f,_0x12fabd['primitive'][-0x13d9*0x1+0x78*0x11+-0xbe1*-0x1]['indexed']=!(0x1403+0x1064+-0x2466),_0x12fabd['aabb']['setMinMax'](D['ZERO'],new D(_0x126a1e,_0x4c58e5,0xb*0x2b+0x1f*-0x135+0x2392)),this['_updateMes'+'h'](_0x12fabd),_0x12fabd;}['_updateMes'+'h'](_0x19b89e){const _0x29b18b=this['_element'];let _0x1e953a=_0x29b18b['calculated'+'Width'],_0x316f38=_0x29b18b['calculated'+'Height'];if(_0x29b18b['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0xc20+0xc2f+-0x3*0x5){const _0xca19fb=_0x29b18b['calculated'+'Width']/_0x29b18b['calculated'+'Height'];_0x29b18b['fitMode']===GL&&_0xca19fb>this['_targetAsp'+'ectRatio']||_0x29b18b['fitMode']===HL&&_0xca19fb<this['_targetAsp'+'ectRatio']?_0x1e953a=_0x29b18b['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x316f38=_0x29b18b['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x125cd5=_0x29b18b['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x125cd5),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x43477a=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x213e40=(-0xce6+0x60a*-0x2+0x18fc)/_0x43477a['rect']['z'],_0x5454ed=(-0x16ba+-0x456+0x906*0x3)/_0x43477a['rect']['w'];this['_innerOffs'+'et']['set'](_0x43477a['border']['x']*_0x213e40,_0x43477a['border']['y']*_0x5454ed,_0x43477a['border']['z']*_0x213e40,_0x43477a['border']['w']*_0x5454ed);const _0x1698b7=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x43477a['rect']['x']/_0x1698b7['width'],_0x43477a['rect']['y']/_0x1698b7['height'],_0x43477a['rect']['z']/_0x1698b7['width'],_0x43477a['rect']['w']/_0x1698b7['height']);const _0x27c3b1=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x56f433=_0x43477a['rect']['z']/_0x27c3b1,_0x106b47=_0x43477a['rect']['w']/_0x27c3b1;this['_outerScal'+'e']['set'](Math['max'](_0x1e953a,this['_innerOffs'+'et']['x']*_0x56f433),Math['max'](_0x316f38,this['_innerOffs'+'et']['y']*_0x106b47));let _0x55f6=_0x56f433,_0x14f6b7=_0x106b47;this['_outerScal'+'e']['x']/=_0x56f433,this['_outerScal'+'e']['y']/=_0x106b47,_0x55f6*=Y['clamp'](_0x1e953a/(this['_innerOffs'+'et']['x']*_0x56f433),-0x9dd+-0xef*-0x1a+0x7*-0x20f+0.0001,0x1*0x10f+-0x1*0xbe1+0xad3*0x1),_0x14f6b7*=Y['clamp'](_0x316f38/(this['_innerOffs'+'et']['y']*_0x106b47),-0x1288+0x313*0x7+-0x2fd+0.0001,0x37c*-0x8+-0x2642+0x4223),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x7b*0x3e+-0x11*0x12+-0x1c98]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x57d+0xcd*0x6+0xb0]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x7*0x223+0x301*-0x4+0x2ef*-0x1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x23c6+0x164f*-0x1+0xd*0x478]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xa63*0x2+0xe2c+0x69a]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x262a+0x2*-0xa99+-0x1*-0x3b5d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1d50+0x256a+-0x42b8]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x2630+0x930+-0x2f5d*0x1]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0xcd*0xe+-0x1eca+0x2a00]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1259+-0x4*0x2e0+-0xdb*0x8]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x55f6,_0x14f6b7,-0x1996*0x1+-0x11e1*0x2+0x3d59),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x93*-0x15+-0xf2e+0x1b3d+0.5-_0x29b18b['pivot']['x'])*_0x1e953a,(0x130d*0x1+-0x18*0x15+-0x1115+0.5-_0x29b18b['pivot']['y'])*_0x316f38,0x1c88+-0x7*-0x247+0x4f1*-0x9));}else{const _0x343fba=_0x19b89e['vertexBuff'+'er'],_0x108553=new Float32Array(_0x343fba['lock']()),_0x29454f=_0x29b18b['pivot']['x'],_0x1aa7b7=_0x29b18b['pivot']['y'];_0x108553[-0x24b2+-0x61*0x3d+0x3bcf]=_0x1e953a-_0x29454f*_0x1e953a,_0x108553[-0x1f*-0x58+0x5*0x505+-0x23c0]=-0x1c*-0xf2+-0x13*-0x1fd+-0x403f-_0x1aa7b7*_0x316f38,_0x108553[0x941+-0x2411+-0x6b6*-0x4]=_0x1e953a-_0x29454f*_0x1e953a,_0x108553[0x3*0xb6+-0x85c+0x643]=_0x316f38-_0x1aa7b7*_0x316f38,_0x108553[-0xe67+0x13a*-0x10+0x2217]=-0xfe1+0x9ba*0x3+-0xd4d-_0x29454f*_0x1e953a,_0x108553[-0xb2b*0x2+0x1cd3*-0x1+0x53*0x9e]=0x9b3*0x2+0x110b+-0x2471-_0x1aa7b7*_0x316f38,_0x108553[-0x4*-0xc4+0xf52*0x2+-0xc*0x2cd]=-0xf57+-0x54e+-0x14a5*-0x1-_0x29454f*_0x1e953a,_0x108553[-0x2*0x549+-0xf28+0x19d3]=_0x316f38-_0x1aa7b7*_0x316f38;let _0xdf89e5=0x2174+0xb68*-0x3+0xc5,_0x36912b=0x18a3*-0x1+-0x5*-0x542+0x1a6*-0x1,_0x7d35d8=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x399520=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x399520&&(_0x7d35d8=_0x399520['rect'],_0xdf89e5=this['_sprite']['atlas']['texture']['width'],_0x36912b=this['_sprite']['atlas']['texture']['height']);}_0x108553[-0x148b+-0x1*0x1a02+0x2e93]=(_0x7d35d8['x']+_0x7d35d8['z'])/_0xdf89e5,_0x108553[0x264a+0x1752+-0x3d95]=0x5b7*-0x1+0x2*0xfcf+0x1ba*-0xf-_0x7d35d8['y']/_0x36912b,_0x108553[0x6*-0x3d3+-0x5*-0x6f7+-0xbd3]=(_0x7d35d8['x']+_0x7d35d8['z'])/_0xdf89e5,_0x108553[-0x4*-0x779+-0x1226+-0xbaf]=0x45*0x33+-0x153+-0xb*0x121-(_0x7d35d8['y']+_0x7d35d8['w'])/_0x36912b,_0x108553[0x1*-0x1a3+0x1*0x5+0x1b4]=_0x7d35d8['x']/_0xdf89e5,_0x108553[-0xa26+-0x1*-0xf05+-0x4c8]=-0x1ba7+-0x1*-0x1083+0xb25-_0x7d35d8['y']/_0x36912b,_0x108553[-0xa17+0xa97+-0x62]=_0x7d35d8['x']/_0xdf89e5,_0x108553[0x2ea+-0x370*0x1+-0x1*-0xa5]=0x1cb4+0xb60+-0x2813*0x1-(_0x7d35d8['y']+_0x7d35d8['w'])/_0x36912b,_0x343fba['unlock']();const _0x48e5fa=new D(-0x295*-0xa+-0xd*0xd+0x153*-0x13-_0x29454f*_0x1e953a,-0x1b4f+-0x9*0x43+-0x1*-0x1daa-_0x1aa7b7*_0x316f38,-0x78d*0x5+-0xf13+0x34d4),_0x54407f=new D(_0x1e953a-_0x29454f*_0x1e953a,_0x316f38-_0x1aa7b7*_0x316f38,0x94a+0x3d2*0x1+0x68e*-0x2);_0x19b89e['aabb']['setMinMax'](_0x48e5fa,_0x54407f),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x2c*0x4b+0x2a4+0x36b*0x3,0x1947+-0x293*0x8+-0x4ae*0x1,0x1*-0x1d5d+-0x2a*0xb2+0x3a92),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x30*0x7c+-0x25b5+0xe75,-0x19c8+-0x9f*0x39+0x3d2f,-0xa5*0x38+-0x1126+0x353e),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x20c7+0x1*0x351+0x1d77);}['_updateSpr'+'ite'](){let _0x3bb234=!(-0xe*0xa6+0x1e27+-0x1512),_0x19bae8=null;if(this['_targetAsp'+'ectRatio']=-(0x2020+-0x1*-0x6f5+-0x2*0x138a),this['_sprite']&&this['_sprite']['atlas']){_0x19bae8=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x3bb234=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x396994=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x396994==null?void(-0x1*-0xad3+0xd2a+-0x17fd):_0x396994['rect']['w'])>0x2f8+-0x2703*0x1+0x240b&&(this['_targetAsp'+'ectRatio']=_0x396994['rect']['z']/_0x396994['rect']['w']);}this['mesh']=_0x3bb234?_0x19bae8:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x2*-0x908+-0x14*-0x182+-0xc18):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x35afb6){return _0x35afb6['center']['set'](0x58*0x5+-0x1*-0x2035+-0x5*0x6c9,0x98b*0x1+-0x1bd2+-0x1247*-0x1,-0x4*0x848+0x21*-0x3e+0x291e),_0x35afb6['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1559*0x1+0xd6c+0x45*-0x81+0.5),this['_outerScal'+'e']['y']*(0x980+-0x248+0x9a*-0xc+0.5),-0x1*0xb3f+0x222d+-0x16ee+0.001),_0x35afb6['setFromTra'+'nsformedAa'+'bb'](_0x35afb6,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x35afb6;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4472cc=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4472cc),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x31fdfd){this['material']=_0x31fdfd['resource'];}['_onMateria'+'lAdded'](_0x3cca08){this['_system']['app']['assets']['off']('add:'+_0x3cca08['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x3cca08['id']&&this['_bindMater'+'ialAsset'](_0x3cca08);}['_bindMater'+'ialAsset'](_0xd59e8b){this['_entity']['enabled']&&(_0xd59e8b['on']('load',this['_onMateria'+'lLoad'],this),_0xd59e8b['on']('change',this['_onMateria'+'lChange'],this),_0xd59e8b['on']('remove',this['_onMateria'+'lRemove'],this),_0xd59e8b['resource']?this['_onMateria'+'lLoad'](_0xd59e8b):this['_system']['app']['assets']['load'](_0xd59e8b));}['_unbindMat'+'erialAsset'](_0x507ada){_0x507ada['off']('load',this['_onMateria'+'lLoad'],this),_0x507ada['off']('change',this['_onMateria'+'lChange'],this),_0x507ada['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x293a89){this['_system']['app']['assets']['off']('add:'+_0x293a89['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x293a89['id']&&this['_bindTextu'+'reAsset'](_0x293a89);}['_bindTextu'+'reAsset'](_0x2b7746){this['_entity']['enabled']&&(_0x2b7746['on']('load',this['_onTexture'+'Load'],this),_0x2b7746['on']('change',this['_onTexture'+'Change'],this),_0x2b7746['on']('remove',this['_onTexture'+'Remove'],this),_0x2b7746['resource']?this['_onTexture'+'Load'](_0x2b7746):this['_system']['app']['assets']['load'](_0x2b7746));}['_unbindTex'+'tureAsset'](_0x30d873){_0x30d873['off']('load',this['_onTexture'+'Load'],this),_0x30d873['off']('change',this['_onTexture'+'Change'],this),_0x30d873['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x1a50b8){this['texture']=_0x1a50b8['resource'];}['_onTexture'+'Change'](_0x35612a){}['_onTexture'+'Remove'](_0x49e13f){}['_onSpriteA'+'ssetAdded'](_0x2de9a0){this['_system']['app']['assets']['off']('add:'+_0x2de9a0['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x2de9a0['id']&&this['_bindSprit'+'eAsset'](_0x2de9a0);}['_bindSprit'+'eAsset'](_0x40fb58){this['_entity']['enabled']&&(_0x40fb58['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x40fb58['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x40fb58['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x40fb58['resource']?this['_onSpriteA'+'ssetLoad'](_0x40fb58):this['_system']['app']['assets']['load'](_0x40fb58));}['_unbindSpr'+'iteAsset'](_0x146b59){_0x146b59['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x146b59['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x146b59['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x146b59['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x146b59['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x3e45cd){if(!_0x3e45cd||!_0x3e45cd['resource'])this['sprite']=null;else{if(_0x3e45cd['resource']['atlas'])this['sprite']=_0x3e45cd['resource'];else{const _0x594c3c=_0x3e45cd['data']['textureAtl'+'asAsset'];if(_0x594c3c){const _0x39fff3=this['_system']['app']['assets'];_0x39fff3['off']('load:'+_0x594c3c,this['_onTexture'+'AtlasLoad'],this),_0x39fff3['once']('load:'+_0x594c3c,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x212c32){this['_onSpriteA'+'ssetLoad'](_0x212c32);}['_onSpriteA'+'ssetRemove'](_0xeb5228){}['_bindSprit'+'e'](_0x2d98ed){this['_evtSetMes'+'hes']=_0x2d98ed['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x2d98ed['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2d98ed['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2d98ed['atlas']&&_0x2d98ed['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x56c9ad){var _0x356146;(_0x356146=this['_evtSetMes'+'hes'])==null||_0x356146['off'](),this['_evtSetMes'+'hes']=null,_0x56c9ad['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x56c9ad['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x56c9ad['atlas']&&_0x56c9ad['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x131f+-0xe81+-0xc5*0x6,this['_sprite']['frameKeys']['length']-(-0x36*-0x55+0x7c9*-0x4+0xd37))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x18caaa){const _0x2da41c=this['_spriteAss'+'et'];_0x2da41c instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x2da41c):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x2da41c));}['onEnable'](){if(this['_materialA'+'sset']){const _0x3ee4be=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x3ee4be&&_0x3ee4be['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x3ee4be);}if(this['_textureAs'+'set']){const _0x42a1db=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x42a1db&&_0x42a1db['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x42a1db);}if(this['_spriteAss'+'et']){const _0x5e0792=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5e0792&&_0x5e0792['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x5e0792);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x5f1126){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x5f1126,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x5f1126;let _0x2158ed=-0x2*0xc4a+0x22cb*-0x1+-0x3b5f*-0x1;if(this['_element']['maskedBy']&&(_0x2158ed=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x5b957b=new pi({'ref':_0x2158ed+(-0xb*-0x1ba+-0x104c+-0x2b1),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x5b957b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x5b957b;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x2488+-0x24e6*0x1+0x3*0x187a]=Ec['r'],this['_colorUnif'+'orm'][-0xb*-0x37+-0xf7d+0x1*0xd21]=Ec['g'],this['_colorUnif'+'orm'][-0x1a7*0x8+0x4*0x99e+-0x193e]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x294334){this['_color']===_0x294334&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x39d4df,g:_0x3791da,b:_0x442d93}=_0x294334;(this['_color']['r']!==_0x39d4df||this['_color']['g']!==_0x3791da||this['_color']['b']!==_0x442d93)&&(this['_color']['r']=_0x39d4df,this['_color']['g']=_0x3791da,this['_color']['b']=_0x442d93,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x1382bd){_0x1382bd!==this['_color']['a']&&(this['_color']['a']=_0x1382bd,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x1382bd)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1382bd);}get['opacity'](){return this['_color']['a'];}set['rect'](_0xc74725){this['_rect']===_0xc74725&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2cd2cb,_0x1d0dd3,_0x320f18,_0x1df5e7;_0xc74725 instanceof re?(_0x2cd2cb=_0xc74725['x'],_0x1d0dd3=_0xc74725['y'],_0x320f18=_0xc74725['z'],_0x1df5e7=_0xc74725['w']):(_0x2cd2cb=_0xc74725[0xa4e+0x902*-0x2+0x8d*0xe],_0x1d0dd3=_0xc74725[-0x3*0x105+-0x3b*-0x71+-0x16fb],_0x320f18=_0xc74725[0x1c59+-0xe9*-0xb+-0x265a],_0x1df5e7=_0xc74725[-0x162d+0x4*0x611+0x26*-0xe]),!(_0x2cd2cb===this['_rect']['x']&&_0x1d0dd3===this['_rect']['y']&&_0x320f18===this['_rect']['z']&&_0x1df5e7===this['_rect']['w'])&&(this['_rect']['set'](_0x2cd2cb,_0x1d0dd3,_0x320f18,_0x1df5e7),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0xd*0x1b4+0x232*-0x5+0x3ae*0x9):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x16417d=this['_system']['app']['assets'];_0x16417d['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x4d5916=_0x16417d['get'](this['_materialA'+'sset']);_0x4d5916&&(_0x4d5916['off']('load',this['_onMateria'+'lLoad'],this),_0x4d5916['off']('change',this['_onMateria'+'lChange'],this),_0x4d5916['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x3fd170){if(this['_material']!==_0x3fd170){if(!_0x3fd170){const _0x353a8e=this['_element']['_isScreenS'+'pace']();this['mask']?_0x3fd170=_0x353a8e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x3fd170=_0x353a8e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x3fd170,this['_materialA'+'sset']){const _0x2f1db2=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x2f1db2||_0x2f1db2['resource']!==_0x3fd170)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x3fd170&&(this['_renderabl'+'e']['setMateria'+'l'](_0x3fd170),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x3ddb1a){const _0x29e82a=this['_system']['app']['assets'];let _0x402227=_0x3ddb1a;if(_0x3ddb1a instanceof pe&&(_0x402227=_0x3ddb1a['id']),this['_materialA'+'sset']!==_0x402227){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x402227,this['_materialA'+'sset']){const _0x2ff503=_0x29e82a['get'](this['_materialA'+'sset']);_0x2ff503?this['_bindMater'+'ialAsset'](_0x2ff503):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x402227,_0x29e82a['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x402227;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x4c6816){if(this['_texture']!==_0x4c6816){if(this['_textureAs'+'set']){const _0x3ceb16=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x3ceb16&&_0x3ceb16['resource']!==_0x4c6816&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x4c6816,_0x4c6816){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x34edb0=this['_texture']['width']/this['_texture']['height'];_0x34edb0!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x34edb0,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x14f6+0xc8*0x2c+-0x3755),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x1ef6d4){const _0x23759b=this['_system']['app']['assets'];let _0x169ce0=_0x1ef6d4;if(_0x1ef6d4 instanceof pe&&(_0x169ce0=_0x1ef6d4['id']),this['_textureAs'+'set']!==_0x169ce0){if(this['_textureAs'+'set']){_0x23759b['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x18eb32=_0x23759b['get'](this['_textureAs'+'set']);_0x18eb32&&(_0x18eb32['off']('load',this['_onTexture'+'Load'],this),_0x18eb32['off']('change',this['_onTexture'+'Change'],this),_0x18eb32['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x169ce0,this['_textureAs'+'set']){const _0x2dbff8=_0x23759b['get'](this['_textureAs'+'set']);_0x2dbff8?this['_bindTextu'+'reAsset'](_0x2dbff8):(this['texture']=null,_0x23759b['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x4f2621){const _0x3c89e3=this['_system']['app']['assets'];let _0x2cb554=_0x4f2621;if(_0x4f2621 instanceof pe&&(_0x2cb554=_0x4f2621['id']),this['_spriteAss'+'et']!==_0x2cb554){if(this['_spriteAss'+'et']){_0x3c89e3['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x4da9b7=_0x3c89e3['get'](this['_spriteAss'+'et']);_0x4da9b7&&this['_unbindSpr'+'iteAsset'](_0x4da9b7);}if(this['_spriteAss'+'et']=_0x2cb554,this['_spriteAss'+'et']){const _0x4fc14c=_0x3c89e3['get'](this['_spriteAss'+'et']);_0x4fc14c?this['_bindSprit'+'eAsset'](_0x4fc14c):(this['sprite']=null,_0x3c89e3['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x2cb554);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x5aac5b){if(this['_sprite']!==_0x5aac5b){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x49fec1=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x49fec1&&_0x49fec1['resource']!==_0x5aac5b&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x5aac5b,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x1*-0x20b9+0x1d3f+0x37a,this['_sprite']['frameKeys']['length']-(0x1b7e+0x133b*-0x1+-0x842))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x579758){const _0x4bbf39=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x579758,0x69a+0x67c+-0x2*0x68b,this['_sprite']['frameKeys']['length']-(0xb*-0x329+-0x1*-0x21a0+0x124)):this['_spriteFra'+'me']=_0x579758,this['_spriteFra'+'me']!==_0x4bbf39&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x579758);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x1e04e0){this['_renderabl'+'e']['setMesh'](_0x1e04e0),this['_defaultMe'+'sh']===_0x1e04e0?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x569aed){this['_mask']!==_0x569aed&&(this['_mask']=_0x569aed,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x392cbd){this['_pixelsPer'+'Unit']!==_0x392cbd&&(this['_pixelsPer'+'Unit']=_0x392cbd,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x49037f){super(),this['_app']=_0x49037f,_0x49037f['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x45a+-0x9f2+0xe4d),this['_disableLo'+'calization']=!(-0x1f2c+-0x1*-0x1fd7+-0xaa),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x4bb5d5){const _0x4a372a=_0x4bb5d5 instanceof pe?_0x4bb5d5['id']:_0x4bb5d5;this['_defaultAs'+'set']!==_0x4a372a&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x4a372a,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x489bb4){const _0x4f60d2=_0x489bb4 instanceof pe?_0x489bb4['id']:_0x489bb4;this['_localized'+'Asset']!==_0x4f60d2&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x4f60d2,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x242aa5){this['_autoLoad']!==_0x242aa5&&(this['_autoLoad']=_0x242aa5,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2fcac6){this['_disableLo'+'calization']!==_0x2fcac6&&(this['_disableLo'+'calization']=_0x2fcac6,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x31b1ab=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x31b1ab?this['_onDefault'+'AssetAdd'](_0x31b1ab):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0xf4225d=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0xf4225d&&(_0xf4225d['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0xf4225d['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0xf4225d['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x29a09){this['_defaultAs'+'set']===_0x29a09['id']&&(_0x29a09['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x29a09['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x29a09['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x46e652){this['_defaultAs'+'set']===_0x46e652['id']&&(_0x46e652['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x46e652['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x47a9e6=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x47a9e6&&(_0x47a9e6['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x47a9e6['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x47a9e6['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x47a9e6['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x47a9e6):this['_app']['assets']['load'](_0x47a9e6));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x3548df=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x3548df&&(_0x3548df['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x3548df['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x3548df['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x26bfda){this['_localized'+'Asset']===_0x26bfda['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x2c1363){this['fire']('load',_0x2c1363);}['_onLocaliz'+'edAssetCha'+'nge'](_0x24f934,_0x3fae13,_0x4f2d00,_0x4c4a96){this['fire']('change',_0x24f934,_0x3fae13,_0x4f2d00,_0x4c4a96);}['_onLocaliz'+'edAssetRem'+'ove'](_0x50a740){this['_localized'+'Asset']===_0x50a740['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x50a740);}['_onLocaleA'+'dd'](_0x10f7af,_0x13bb1a){this['_app']['i18n']['locale']===_0x10f7af&&this['_onSetLoca'+'le'](_0x10f7af);}['_onLocaleR'+'emove'](_0x4ab55a,_0x3aefcd){this['_app']['i18n']['locale']===_0x4ab55a&&this['_onSetLoca'+'le'](_0x4ab55a);}['_onSetLoca'+'le'](_0x585635){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x45e1b2=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x45e1b2||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x6c8297=_0x45e1b2['getLocaliz'+'edAssetId'](_0x585635);if(!_0x6c8297){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x6c8297;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x428+0x1*-0x113c+0x1564,an=-0x220e+-0x2*0x1079+-0x1*-0x4301,Du=-0xca9+-0x15b0+-0x6df*-0x5,Zv=0x58+0x1b5*0x7+-0xc48,Iu=-0x116*0x1d+-0xf1c+0x174f*0x2,Lu=0x10fe+-0x5*0x409+-0x4*-0xcd,Ru=0x1669+-0x1b*0x1f+-0x131e,Ou=-0x3da*-0x9+0x1*0x13b2+0x7c3*-0x7,Xg=-0xfa*-0x28+0x1b7*-0x9+-0x1799,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x32bb37){this['_symbols']=_0x32bb37,this['_index']=0x2488+-0x3*-0x29c+-0x2c5c,this['_last']=-0x1*-0x198+0xbfb*0x2+-0x198e,this['_cur']=this['_symbols']['length']>0x2418+-0x7*-0x4fe+-0x470a?this['_symbols'][0x2*-0xf26+0x17f8+-0x5*-0x144]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x33bb96=this['_read']();for(;_0x33bb96===Xg;)_0x33bb96=this['_read']();return _0x33bb96!==Mo&&_0x33bb96!==an&&(this['_last']=this['_index']),_0x33bb96;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x5bed1a=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x2fdf29=this['read'](),_0x5e6d63='';for(;_0x5e6d63+=(_0x5e6d63['length']>-0x1*0x26f3+0x989*0x4+0xcf?'\x0a':'')+_0x5bed1a[_0x2fdf29]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x2fdf29===Mo||_0x2fdf29===an);)_0x2fdf29=this['read']();return _0x5e6d63;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x1362+-0x1b97*0x1+0x2ef9?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x376+0x361*0xb+-0x1*0x28a1?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x13d7*-0x1+0xf72+0x466*0x1);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x198234){return _0x198234['length']===-0x16f3*-0x1+-0x2c*-0x6d+-0x2*0x14d7&&_0x198234['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x349a9b){this['_buf']['push'](_0x349a9b);}}class mR{constructor(_0x2e2027){this['_scanner']=new pR(_0x2e2027),this['_error']=null;}['parse'](_0x4ba256,_0x2ef5ed){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x1dcd*-0x1+0xe0d*0x1+0xfc0);case an:return!(-0x1a68+0x1349*0x1+0x720);case Du:Array['prototype']['push']['apply'](_0x4ba256,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x4ba256,_0x2ef5ed))return!(-0x8*0x1c6+0x1*-0x2371+0x31a2);break;default:return!(-0x1*0x1f15+0x2423+-0x50d*0x1);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x2b7b76,_0x301df5){let _0x360e98=this['_scanner']['read']();if(_0x360e98!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x22f4+0x49*-0x66+-0xccf*-0x5);const _0x55a314=this['_scanner']['buf']()['join']('');if(_0x55a314[0x1ca0*-0x1+0x8df*-0x1+0x257f]==='/'){for(let _0x4c1710=_0x301df5['length']-(-0x1*0x529+0x1e15+0x18eb*-0x1);_0x4c1710>=-0x251e+0x109b+0x1483;--_0x4c1710)if(_0x55a314==='/'+_0x301df5[_0x4c1710]['name']&&_0x301df5[_0x4c1710]['end']===null)return _0x301df5[_0x4c1710]['end']=_0x2b7b76['length'],_0x360e98=this['_scanner']['read'](),_0x360e98!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x2543+-0x3*-0xb7e+-0x11*-0x2a)):!(0x1a*0xd9+0x246a+-0x3a74);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x22ca*-0x1+0x1a2d*0x1+-0x44f*-0x2);}const _0x136cfd={'name':_0x55a314,'value':null,'attributes':{},'start':_0x2b7b76['length'],'end':null};if(_0x360e98=this['_scanner']['read'](),_0x360e98===Lu){if(_0x360e98=this['_scanner']['read'](),_0x360e98!==Ru)return this['_error']='expected\x20s'+'tring',!(0x2535+-0x37*-0x14+-0x2980);_0x136cfd['value']=this['_scanner']['buf']()['join'](''),_0x360e98=this['_scanner']['read']();}for(;;){switch(_0x360e98){case Iu:return _0x301df5['push'](_0x136cfd),!(-0x371*-0x5+-0x3*-0xd3+0x16*-0xe5);case Ou:{const _0x431e44=this['_scanner']['buf']()['join']('');if(_0x360e98=this['_scanner']['read'](),_0x360e98!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x1c44+-0x258+0x11*0x1cd);if(_0x360e98=this['_scanner']['read'](),_0x360e98!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1*-0x1315+0x841*0x1+-0x3b*-0x2f);const _0x139959=this['_scanner']['buf']()['join']('');_0x136cfd['attributes'][_0x431e44]=_0x139959;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x4*0x85d+-0x19e0+-0x793);}_0x360e98=this['_scanner']['read']();}}}function Qv(_0x56a4f2,_0x44d5be){for(const _0x285ac7 in _0x44d5be){if(!_0x44d5be['hasOwnProp'+'erty'](_0x285ac7))continue;const _0x5b4496=_0x44d5be[_0x285ac7];_0x5b4496 instanceof Object?(_0x56a4f2['hasOwnProp'+'erty'](_0x285ac7)||(_0x56a4f2[_0x285ac7]={}),Qv(_0x56a4f2[_0x285ac7],_0x44d5be[_0x285ac7])):_0x56a4f2[_0x285ac7]=_0x5b4496;}}function _R(_0x424ec7){if(_0x424ec7['length']===0x250b+0xd03+-0x320e)return null;const _0x1c9c8d={};for(let _0x1d9982=0xf5*-0x4+0x531+-0x1*0x15d;_0x1d9982<_0x424ec7['length'];++_0x1d9982){const _0x41b2d3=_0x424ec7[_0x1d9982],_0x4f660a={};_0x4f660a[_0x41b2d3['name']]={'value':_0x41b2d3['value'],'attributes':_0x41b2d3['attributes']},Qv(_0x1c9c8d,_0x4f660a);}return _0x1c9c8d;}function gR(_0x3969ec,_0x1c6d11){if(_0x3969ec['length']===-0xc68+-0x180d+-0x1*-0x2475)return null;const _0x48190e={};for(let _0x4d7b51=-0x1cc3+-0x1*0x26d8+-0x1*-0x439b;_0x4d7b51<_0x3969ec['length'];++_0x4d7b51){const _0x38e206=_0x3969ec[_0x4d7b51];_0x48190e['hasOwnProp'+'erty'](_0x38e206['start'])?_0x48190e[_0x38e206['start']]['open']===null?_0x48190e[_0x38e206['start']]['open']=[_0x38e206]:_0x48190e[_0x38e206['start']]['open']['push'](_0x38e206):_0x48190e[_0x38e206['start']]={'open':[_0x38e206],'close':null},_0x48190e['hasOwnProp'+'erty'](_0x38e206['end'])?_0x48190e[_0x38e206['end']]['close']===null?_0x48190e[_0x38e206['end']]['close']=[_0x38e206]:_0x48190e[_0x38e206['end']]['close']['push'](_0x38e206):_0x48190e[_0x38e206['end']]={'open':null,'close':[_0x38e206]};}let _0x41a102=[];function _0x296ecb(_0x599bac){_0x41a102=_0x41a102['filter'](_0x1b9672=>_0x599bac['find'](_0x237a21=>_0x237a21===_0x1b9672)===void(0x44*-0x68+-0x1*0x2dd+0x5*0x619));}function _0x3f0a89(_0x41c090){for(let _0x465397=0x4e3*0x5+0x1409+-0x4*0xb1e;_0x465397<_0x41c090['length'];++_0x465397)_0x41a102['push'](_0x41c090[_0x465397]);}const _0x3f19e2=Object['keys'](_0x48190e)['sort']((_0x52d732,_0x1488de)=>_0x52d732-_0x1488de),_0x1c41d8=[];for(let _0x2f16f5=0x2206+-0x1c25+0x2b*-0x23;_0x2f16f5<_0x3f19e2['length'];++_0x2f16f5){const _0x518140=_0x48190e[_0x3f19e2[_0x2f16f5]];_0x518140['close']!==null&&_0x296ecb(_0x518140['close']),_0x518140['open']!==null&&_0x3f0a89(_0x518140['open']),_0x1c41d8['push']({'start':_0x3f19e2[_0x2f16f5],'tags':_R(_0x41a102)});}const _0x56318e=[];let _0x3b58cd=null;for(let _0x40b7d4=-0x2*0x55c+-0x152c+0x1fe4;_0x40b7d4<_0x1c41d8['length'];++_0x40b7d4){const _0x5a07d8=_0x1c41d8[_0x40b7d4];for(;_0x56318e['length']<_0x5a07d8['start'];)_0x56318e['push'](_0x3b58cd?_0x3b58cd['tags']:null);_0x3b58cd=_0x5a07d8;}for(;_0x56318e['length']<_0x1c6d11;)_0x56318e['push'](null);return _0x56318e;}function SR(_0x2c664e){const _0x2dc2c1=new mR(_0x2c664e),_0x330d41=[],_0x45a9c7=[];if(!_0x2dc2c1['parse'](_0x330d41,_0x45a9c7))return console['warn'](_0x2dc2c1['error']()),{'symbols':_0x2c664e,'tags':null};const _0x283271=_0x45a9c7['find'](_0x59b647=>_0x59b647['end']===null);if(_0x283271)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x283271['name']+'\x27'),{'symbols':_0x2c664e,'tags':null};const _0x4e1106=gR(_0x45a9c7,_0x330d41['length']);return{'symbols':_0x330d41,'tags':_0x4e1106};}class yR{static['evaluate'](_0x27ec3e){return SR(_0x27ec3e);}}class vR{constructor(){this['count']=0x101b+0x1*0x94f+-0x196a*0x1,this['quad']=0xa19+0x5e*0x40+-0x2199,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x53d41e,_0x5bf890){const _0x174caa=new Ge(_0x53d41e);return _0x174caa['setPositio'+'ns'](_0x5bf890['positions']),_0x174caa['setNormals'](_0x5bf890['normals']),_0x174caa['setColors3'+'2'](_0x5bf890['colors']),_0x174caa['setUvs'](0x3e7+0x1fd*0x2+-0x7e1,_0x5bf890['uvs']),_0x174caa['setIndices'](_0x5bf890['indices']),_0x174caa['setVertexS'+'tream'](Ko,_0x5bf890['outlines'],0x43*0x13+0x14a5+0x5f*-0x45,void(-0x1060+0xd*-0x1f+-0x11f3*-0x1),Ve,!(0x346*-0x1+0x89e+0x557*-0x1)),_0x174caa['setVertexS'+'tream'](Zo,_0x5bf890['shadows'],0x21b1+0x13ff+0x421*-0xd,void(0x6*0x538+-0x1266+-0xcea),Ve,!(-0x403+0x6c*0x9+-0x2*-0x1c)),_0x174caa['update'](),_0x174caa;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x2ff995){this['_element']=_0x2ff995,this['_system']=_0x2ff995['system'],this['_entity']=_0x2ff995['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x68a+0x150b*0x1+-0x133*0x17),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(-0x1*-0x3ee+0x1*0x183b+-0x1c28,-0x513*-0x6+0x11*-0x1c+-0x1c95,-0x2*0xb96+-0x11*0x1a7+0x3344,0x979*0x2+-0x9*-0x297+-0x2*0x1520),this['_colorUnif'+'orm']=new Float32Array(-0x779*-0x2+0x287+-0x2*0x8bb),this['_spacing']=0xa7*-0x1+0x1*-0x201d+-0x20c5*-0x1,this['_fontSize']=0x17e1+-0x3d3*0x1+-0x13ee,this['_fontMinY']=0x99b+-0x1cce+0x1333,this['_fontMaxY']=-0x1670+-0x1909*0x1+0x2f79,this['_originalF'+'ontSize']=-0x26b1+0x4e9*-0x5+0x1*0x3f5e,this['_maxFontSi'+'ze']=-0x6*-0x1f9+-0xd*0x2fe+0x1b30,this['_minFontSi'+'ze']=-0xc4+-0x5ef+-0x1*-0x6bb,this['_autoFitWi'+'dth']=!(0x2154+0xcfb*0x1+0x2e4e*-0x1),this['_autoFitHe'+'ight']=!(-0xb*-0x252+0xbdb*-0x2+-0x1*0x1cf),this['_maxLines']=-(0x4e*-0x80+0x23aa+0x357*0x1),this['_lineHeigh'+'t']=0x1021*0x1+0x1*0x1a5c+-0xf*0x2d3,this['_scaledLin'+'eHeight']=0x2b2*-0x1+-0x25e4+-0xd92*-0x3,this['_wrapLines']=!(-0xab0+0x1fcf+0x66*-0x35),this['_drawOrder']=0x746+0x27+-0x76d,this['_alignment']=new J(0x98e+-0x3b*-0x53+-0x1caf+0.5,0x24d+-0x2110+0x1*0x1ec3+0.5),this['_autoWidth']=!(0xc4*0x2b+0x3cd*-0x3+-0x1585),this['_autoHeigh'+'t']=!(-0x33*0x8b+0x44b+0x1766),this['width']=-0xe06+0x285+-0x24d*-0x5,this['height']=0x18a9+0x1a34+-0x32dd,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x5*-0x737+-0x260b*0x1+0x1f8),this['_aabb']=new De(),this['_noResize']=!(0x673*0x5+-0x984*0x4+0x5d2),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x7b*-0x4e+0x11*-0x6f+0x2cda*0x1),this['_unicodeCo'+'nverter']=!(-0x1ac5+0x268d+-0xbc7),this['_rtl']=!(-0x12b5*0x1+-0x2a9+-0x1*-0x155f),this['_outlineCo'+'lor']=new ie(-0x679+-0x124*0x16+0x1*0x1f91,0x126a+0x7*0x4fd+0x14d*-0x29,-0x25c1*0x1+-0x4*-0x38c+0x1791,-0x8e2*-0x1+0x1b2a+0x1*-0x240b),this['_outlineCo'+'lorUniform']=new Float32Array(0x9e0+0x40f*-0x5+-0x1*-0xa6f),this['_outlineTh'+'icknessSca'+'le']=0x3dc+-0x1b06+-0x4a2*-0x5+0.2,this['_outlineTh'+'ickness']=-0x258d*0x1+-0x1ae*0x1+0x273b*0x1,this['_shadowCol'+'or']=new ie(-0xd*-0x284+0x19b4+-0x3a68,0x18a*-0x17+-0x1*-0x9dc+0x198a,0x7*-0x2ee+-0xfd*-0xd+0x7a9,-0x1a78+-0x1*0x1dcc+0x14f*0x2b),this['_shadowCol'+'orUniform']=new Float32Array(-0x11*0x3e+0x1df8+-0x19d6),this['_shadowOff'+'setScale']=-0x821+-0x123*-0x5+-0x2*-0x139+0.005,this['_shadowOff'+'set']=new J(-0x1*0x1fd3+-0x17b1+-0x1bc2*-0x2,0x11e7*-0x1+0x16bc+0x4d5*-0x1),this['_shadowOff'+'setUniform']=new Float32Array(0x104d+-0x7*0x526+0x13bf),this['_enableMar'+'kup']=!(0x24fb*-0x1+-0x23f*-0x4+0x1c00),this['_onScreenC'+'hange'](this['_element']['screen']),_0x2ff995['on']('resize',this['_onParentR'+'esize'],this),_0x2ff995['on']('set:screen',this['_onScreenC'+'hange'],this),_0x2ff995['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x2ff995['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x2ff995['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x22e5+-0x13*-0xf3+-0x14c*-0xd,this['_rangeEnd']=0x2*0x27a+-0xbee+0x6fa;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x724d4b,_0x324578){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x15540c){_0x15540c?this['_updateMat'+'erial'](_0x15540c['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x60e+-0xe4*0x5+0xa83));}['_onScreenS'+'paceChange'](_0x37f928){this['_updateMat'+'erial'](_0x37f928);}['_onDrawOrd'+'erChange'](_0x2f9f73){if(this['_drawOrder']=_0x2f9f73,this['_model']){for(let _0x5a386c=0x2*0x8fc+0x1ad3+-0x2ccb,_0x43119a=this['_model']['meshInstan'+'ces']['length'];_0x5a386c<_0x43119a;_0x5a386c++)this['_model']['meshInstan'+'ces'][_0x5a386c]['drawOrder']=_0x2f9f73;}}['_onPivotCh'+'ange'](_0x3b774e){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x4758bd){if(this['_i18nKey']){if(this['fontAsset']){const _0x27a1dd=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x27a1dd||!_0x27a1dd['resource']||_0x27a1dd['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x231d54,_0x383d2b){this['_i18nKey']&&_0x383d2b[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x40afd2){if(this['unicodeCon'+'verter']){const _0x5b5894=this['_system']['getUnicode'+'Converter']();_0x5b5894?_0x40afd2=_0x5b5894(_0x40afd2):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x40afd2&&(this['_font']&&this['_updateTex'+'t'](_0x40afd2),this['_text']=_0x40afd2);}['_updateTex'+'t'](_0x163022){let _0x3a897b;if(_0x163022===void(-0x13a0+0x12c7+0xd9)&&(_0x163022=this['_text']),this['_symbols']=Hc['getSymbols'](_0x163022['normalize']?_0x163022['normalize']('NFC'):_0x163022),this['_symbols']['length']===-0x1*-0x1ef1+-0x68b+-0x1866*0x1&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x40471d=yR['evaluate'](this['_symbols']);this['_symbols']=_0x40471d['symbols'],_0x3a897b=_0x40471d['tags']||[];}if(this['_rtlReorde'+'r']){const _0x1bb0d6=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x1bb0d6){const _0x1073f2=_0x1bb0d6(this['_symbols']);this['_rtl']=_0x1073f2['rtl'],this['_symbols']=_0x1073f2['mapping']['map'](function(_0x28a2f8){return this['_symbols'][_0x28a2f8];},this),_0x3a897b&&(_0x3a897b=_0x1073f2['mapping']['map'](_0x20009c=>_0x3a897b[_0x20009c]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x23ce+-0x1ed*0xf+0x1e*-0x3b);const _0x1c4cd1=(_0x501f41,_0x25d8ed)=>_0x501f41['toString'](!(-0x23cc*0x1+-0x1436+0x3802))['toLowerCas'+'e']()+':'+_0x25d8ed['toFixed'](-0x3d*0x4f+-0xae3+-0xc*-0x27a),_0x4dcb9f=(_0x599eae,_0x16d008)=>_0x599eae['toString'](!(0x2f2+-0x5*0x55+0x149*-0x1))['toLowerCas'+'e']()+':'+_0x16d008['x']['toFixed'](0x4*-0x59a+-0x1*0x8c+0x1*0x16f6)+':'+_0x16d008['y']['toFixed'](-0x227f+-0x2ce+-0x254f*-0x1);if(_0x3a897b){const _0x16eb27={},_0x36c721={},_0x313cea={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x824+-0x1606+-0x3*-0xa63)),Math['round'](this['_color']['g']*(0x1cc8+0x6*0x449+-0x357f)),Math['round'](this['_color']['b']*(0x13d+-0x636+0x5f8))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x23fb+-0x1*0x1f43+-0x3b9*0x1)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x174c+-0x31e*0x1+0x1b69)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1019+-0xe8b+0x1fa3)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x2*0x137e+0x2*-0x11db+0x1*0x4bb1)),Math['round'](this['_outlineTh'+'ickness']*(-0x2ab*0x1+0xce*-0x7+-0xaa*-0xe))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x36*0x9+0x295*0x2+0x611*-0x1)),Math['round'](this['_shadowCol'+'or']['g']*(0x157a*-0x1+0x1*0x4f1+0x1188)),Math['round'](this['_shadowCol'+'or']['b']*(-0x54+0x129e*0x1+-0x114b)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1bb1+0xc91*0x1+0x101f)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1*0xa30+-0x1*0x2145+0x2bf4)),Math['round'](this['_shadowOff'+'set']['y']*(0x9b1*0x2+0xb*-0x251+-0x698*-0x1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x16eb27[this['_color']['toString'](!(0x1*-0x1c06+-0x39b*-0x3+0x1136))['toLowerCas'+'e']()]=-0x1*-0x775+-0x1*-0x104f+-0x17c4,_0x36c721[_0x1c4cd1(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x22e5+-0x12cd*-0x2+-0x487f,_0x313cea[_0x4dcb9f(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0xc05+-0x1*-0xb99+-0x12*-0x6;for(let _0x44cf79=-0x31b+0x1ae7*-0x1+0x1e02,_0x29463b=this['_symbols']['length'];_0x44cf79<_0x29463b;++_0x44cf79){const _0x273674=_0x3a897b[_0x44cf79];let _0x464807=0x1bc4*-0x1+0xd1d+0xea7;if(_0x273674&&_0x273674['color']&&_0x273674['color']['value']){const _0x4e8ce2=_0x273674['color']['value'];if(_0x4e8ce2['length']===0x1f96+-0x1cc2+-0x1*0x2cd&&_0x4e8ce2[0x2*0xacd+-0x258a+0xff0]==='#'){const _0x10f8ad=_0x4e8ce2['substring'](-0x21ee+0x53*-0x77+0x7*0xa5c)['toLowerCas'+'e']();_0x16eb27['hasOwnProp'+'erty'](_0x10f8ad)?_0x464807=_0x16eb27[_0x10f8ad]:/^[0-9a-f]{6}$/['test'](_0x10f8ad)&&(_0x464807=this['_colorPale'+'tte']['length']/(0x2*0x1016+-0xc*-0xff+-0x2c1d),_0x16eb27[_0x10f8ad]=_0x464807,this['_colorPale'+'tte']['push'](parseInt(_0x10f8ad['substring'](0x4c4+-0x4*-0x631+-0x24*0xd2,-0x86e+-0x1ed5+-0x3*-0xd17),0x1ddc+0x118*-0x11+-0xb34)),this['_colorPale'+'tte']['push'](parseInt(_0x10f8ad['substring'](0xf74+-0x19*0x158+0x1226,0x10d*-0xa+0x527*0x2+-0x2*-0x1c),0x1*0x5bb+-0x856+-0x1*-0x2ab)),this['_colorPale'+'tte']['push'](parseInt(_0x10f8ad['substring'](0x707+-0x5cf+-0x134,-0x1eb9+-0x13*0x19f+0x3*0x1484),-0x15e3+0xf53+-0x10*-0x6a)));}}this['_symbolCol'+'ors']['push'](_0x464807);let _0x423c3f=0x1b40+-0x1460+0xb0*-0xa;if(_0x273674&&_0x273674['outline']&&(_0x273674['outline']['attributes']['color']||_0x273674['outline']['attributes']['thickness'])){let _0xe0e347=_0x273674['outline']['attributes']['color']?Kg['fromString'](_0x273674['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x55f6bc=Number(_0x273674['outline']['attributes']['thickness']);(Number['isNaN'](_0xe0e347['r'])||Number['isNaN'](_0xe0e347['g'])||Number['isNaN'](_0xe0e347['b'])||Number['isNaN'](_0xe0e347['a']))&&(_0xe0e347=this['_outlineCo'+'lor']),Number['isNaN'](_0x55f6bc)&&(_0x55f6bc=this['_outlineTh'+'ickness']);const _0x2d8a60=_0x1c4cd1(_0xe0e347,_0x55f6bc);_0x36c721['hasOwnProp'+'erty'](_0x2d8a60)?_0x423c3f=_0x36c721[_0x2d8a60]:(_0x423c3f=this['_outlinePa'+'lette']['length']/(0x18f+0x7f*0x15+-0x1*0xbf5),_0x36c721[_0x2d8a60]=_0x423c3f,this['_outlinePa'+'lette']['push'](Math['round'](_0xe0e347['r']*(0x195b*-0x1+0xfc5+0xa95)),Math['round'](_0xe0e347['g']*(-0x4bc+0x9e6+-0x42b)),Math['round'](_0xe0e347['b']*(0x184*0x4+-0xab3*0x1+0xe*0x67)),Math['round'](_0xe0e347['a']*(0x83c*0x2+0x8c1+-0x183a)),Math['round'](_0x55f6bc*(-0x17fd+0x23b2+-0xab6*0x1))));}this['_symbolOut'+'lineParams']['push'](_0x423c3f);let _0x4a5c05=0xe4+-0x52c*0x2+-0x2*-0x4ba;if(_0x273674&&_0x273674['shadow']&&(_0x273674['shadow']['attributes']['color']||_0x273674['shadow']['attributes']['offset']||_0x273674['shadow']['attributes']['offsetX']||_0x273674['shadow']['attributes']['offsetY'])){let _0x4821a=_0x273674['shadow']['attributes']['color']?Kg['fromString'](_0x273674['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x18dbcb=Number(_0x273674['shadow']['attributes']['offset']),_0x3e465d=Number(_0x273674['shadow']['attributes']['offsetX']),_0x5bd382=Number(_0x273674['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x4821a['r'])||Number['isNaN'](_0x4821a['g'])||Number['isNaN'](_0x4821a['b'])||Number['isNaN'](_0x4821a['a']))&&(_0x4821a=this['_shadowCol'+'or']);const _0x5c46da=CR['set'](Number['isNaN'](_0x3e465d)?Number['isNaN'](_0x18dbcb)?this['_shadowOff'+'set']['x']:_0x18dbcb:_0x3e465d,Number['isNaN'](_0x5bd382)?Number['isNaN'](_0x18dbcb)?this['_shadowOff'+'set']['y']:_0x18dbcb:_0x5bd382),_0x130e99=_0x4dcb9f(_0x4821a,_0x5c46da);_0x313cea['hasOwnProp'+'erty'](_0x130e99)?_0x4a5c05=_0x313cea[_0x130e99]:(_0x4a5c05=this['_shadowPal'+'ette']['length']/(0x6ec+-0x932*-0x2+-0x194a),_0x313cea[_0x130e99]=_0x4a5c05,this['_shadowPal'+'ette']['push'](Math['round'](_0x4821a['r']*(-0x7*0x2c5+-0x9*-0x1ec+0x316)),Math['round'](_0x4821a['g']*(0xaf8+-0x1e4b+0x66*0x33)),Math['round'](_0x4821a['b']*(-0x11d*0x2+0x11b2+0x41*-0x39)),Math['round'](_0x4821a['a']*(0x88d*0x1+0xe66*0x1+-0xafa*0x2)),Math['round'](_0x5c46da['x']*(0x1354+-0x11*0x43+-0xe62)),Math['round'](_0x5c46da['y']*(-0x1e3f+-0xa81+0x293f))));}this['_symbolSha'+'dowParams']['push'](_0x4a5c05);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x42a77f=this['_calculate'+'CharsPerTe'+'xture']();let _0x218423=!(0x1014+-0x119e+0x4f*0x5);const _0x1b8397=this['_element'],_0xac487b=_0x1b8397['_isScreenS'+'pace'](),_0x155972=_0x1b8397['_isScreenC'+'ulled'](),_0x1855b9=function(_0x5ef355){return _0x1b8397['isVisibleF'+'orCamera'](_0x5ef355);};for(let _0x26e0fd=0x4*0x35c+0x1743+0x757*-0x5,_0x3a15d7=this['_meshInfo']['length'];_0x26e0fd<_0x3a15d7;_0x26e0fd++){const _0x2349a3=_0x42a77f[_0x26e0fd]||0x3*-0xc8d+0x17f8+0xdaf,_0x217817=this['_meshInfo'][_0x26e0fd];if(_0x217817['count']!==_0x2349a3){if(_0x218423||(_0x1b8397['removeMode'+'lFromLayer'+'s'](this['_model']),_0x218423=!(0x1e6d*0x1+0x175*-0x6+-0x319*0x7)),_0x217817['count']=_0x2349a3,_0x217817['positions']['length']=_0x217817['normals']['length']=_0x2349a3*(-0xafb*-0x1+0x6a3*-0x3+0x147*0x7)*(-0x1606+-0x1*0x167b+-0x189*-0x1d),_0x217817['indices']['length']=_0x2349a3*(-0x89b*0x2+-0x885+0x526*0x5)*(-0x1429+-0x1c05*0x1+0x3030),_0x217817['uvs']['length']=_0x2349a3*(-0x20b*-0xd+-0xbce+0xebf*-0x1)*(-0x1c70+-0x25b5+0x4229*0x1),_0x217817['colors']['length']=_0x2349a3*(-0x231*-0x7+0x2*0xd5a+-0x2a07*0x1)*(-0x1a79+-0x26a0+-0x4f*-0xd3),_0x217817['outlines']['length']=_0x2349a3*(-0x2*-0xafd+0x1e2a+-0x3420)*(0xa3e+-0xb*0x352+0x1a4b),_0x217817['shadows']['length']=_0x2349a3*(0x1f91+-0x43e+-0x1b4f)*(0xbff*-0x2+-0x29*0x49+-0x11d9*-0x2),_0x217817['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x217817['meshInstan'+'ce']),_0x2349a3===0x16*-0x11+0xeaa+-0xd34){_0x217817['meshInstan'+'ce']=null;continue;}for(let _0x3a7fa0=0xf*-0x1d1+-0x14e+-0x1c8d*-0x1;_0x3a7fa0<_0x2349a3;_0x3a7fa0++)_0x217817['indices'][_0x3a7fa0*(0x20d5+0xe81*0x1+0x5*-0x977)*(-0x2bd+-0x35b+0x16*0x47)+(0x3*0xcd9+-0x2b0+-0x89*0x43)]=_0x3a7fa0*(0x1c96+-0xa61+-0x1231*0x1),_0x217817['indices'][_0x3a7fa0*(0x149e+-0x5*-0x7+-0x14be)*(0x56d*0x7+-0x2f6+-0x2303*0x1)+(0x3*0xc22+-0x477+-0x1*0x1fee)]=_0x3a7fa0*(-0x2508+0x23a4*-0x1+0x48b0)+(-0x1*0xcd7+-0x6*0x192+0x5f*0x3c),_0x217817['indices'][_0x3a7fa0*(-0x1*-0xc59+0xb97+-0x17ed)*(-0x741+-0xb0e+0x1251)+(-0x4*-0x8dd+0x82f+-0x2ba1)]=_0x3a7fa0*(0x1a9f+0x11*-0xdd+-0x1fd*0x6)+(-0x1734+0xc6*0xb+0xeb5),_0x217817['indices'][_0x3a7fa0*(0x1*-0x10f9+-0xb2d+0x1*0x1c29)*(-0x131a+0xbd1*-0x2+0x2abe)+(0xde0+0x26ae+0x348b*-0x1)]=_0x3a7fa0*(-0x1*0x82b+-0x1*-0x1bc0+-0x1391)+(-0x7cb+0xc9*-0x20+0x20ed),_0x217817['indices'][_0x3a7fa0*(0x2646+-0x1*-0x1fd3+-0x4616)*(-0x21f4+-0x1c0f*0x1+0x3e05)+(0x865+0x6b*0x3a+-0x1*0x209f)]=_0x3a7fa0*(0x5*-0x2d1+-0x3*0x97e+0x2a93)+(-0x82b+0x10d4+-0x8a6),_0x217817['indices'][_0x3a7fa0*(0x17*-0x95+0xc7e*-0x2+0x11*0x242)*(-0xed0+-0x212d+0x1*0x2fff)+(0x17c*-0x1+0x7b9+-0x2*0x31c)]=_0x3a7fa0*(0x2458+0x1c1d+0x9*-0x729)+(-0x4*-0x9d+0xfb4+-0x1227),_0x217817['normals'][_0x3a7fa0*(0x1172+-0x2*0xed7+-0x20*-0x62)*(-0x1000*-0x1+-0x2206+0x1209*0x1)+(-0xfd3*-0x2+-0x56e*0x3+0x2*-0x7ae)]=0x2*0x805+-0x8df*0x1+-0x5*0x16f,_0x217817['normals'][_0x3a7fa0*(0x1*-0x11ef+-0x1c63+0x2e56)*(0x1cfd+0x8ec+-0x25e6)+(-0x17*0x162+-0x65d*0x3+0x32e6)]=-0x19a9*-0x1+0x247d+-0x3e26,_0x217817['normals'][_0x3a7fa0*(-0x1*0x575+-0x31*0x57+0x2c4*0x8)*(-0xb*-0x9d+-0x3*-0x397+-0x1*0x1181)+(-0x2611+-0x82*0x17+-0x31c1*-0x1)]=-(-0xb1e+0x10a7+-0x588),_0x217817['normals'][_0x3a7fa0*(0xb6a+-0x2*0xd24+0xee2)*(-0x158b+-0x21*-0x101+-0xb93)+(0x658+-0x2c5*-0x5+0x52*-0x3f)]=-0x417+0x4bd*0x1+-0xa6,_0x217817['normals'][_0x3a7fa0*(-0x1c46+0x22b0+0x7*-0xea)*(0x1ee9*-0x1+-0x1839+-0x1*-0x3725)+(-0x941*0x1+-0x11d5+-0x2*-0xd8d)]=-0x2f*-0x21+-0xe6b+0x4*0x217,_0x217817['normals'][_0x3a7fa0*(0x463*-0x1+0x158b+-0x1124)*(0x4*0x2db+-0x26c*0x7+0x58b)+(-0x1e5a+-0x1*-0x1727+0x738)]=-(0x1824+-0x4*-0x63e+0x311b*-0x1),_0x217817['normals'][_0x3a7fa0*(-0x79c*-0x1+0xa27+0x3b*-0x4d)*(0x79*0x1+0x1*-0x10b1+0x103b)+(-0x2335+-0xe83+0x31be)]=0x17b6+0x1*0x1525+-0x2cdb,_0x217817['normals'][_0x3a7fa0*(-0x1d29+-0x25e1+-0x2*-0x2187)*(0x1*-0x106f+0x39+-0x1039*-0x1)+(0x17c4+-0x2*0xda3+0x389)]=-0x1*0x1d8a+0x79*-0x3d+0x3*0x1375,_0x217817['normals'][_0x3a7fa0*(0x123f+-0x2*-0x12a3+-0x445*0xd)*(-0x2233+0x2*0xa5d+0xd7c)+(0x193c+0x211*0x4+0x66*-0x54)]=-(-0x1*-0x14cd+0x1*-0x21f6+-0xd2a*-0x1),_0x217817['normals'][_0x3a7fa0*(0x1*-0x125b+0x13f2+-0x193)*(-0x9a9*0x4+-0x1*0x1b21+0x41c8)+(0x2595+-0x1463+-0x1129)]=-0x7ed+-0x1*-0x59d+0x250,_0x217817['normals'][_0x3a7fa0*(-0x14f3+-0x17b2+0x2ca9)*(0x17e4+0x4*0x734+-0x34b1)+(-0x12bc+0x179e+-0x4d8)]=0x145+0x1fe3+-0x2*0x1094,_0x217817['normals'][_0x3a7fa0*(-0x2b*0x21+-0x24a4+-0x115*-0x27)*(0x2d5+-0x1*0x26dc+0x240a)+(0x11f4+-0x1b0c+0x923)]=-(0x8e6+-0x5*-0x691+-0x29ba);const _0x4e8fbb=xR(this['_system']['app']['graphicsDe'+'vice'],_0x217817),_0xc016f8=new He(_0x4e8fbb,this['_material'],this['_node']);if(_0xc016f8['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0xc016f8['castShadow']=!(0x1a5a+-0x24*-0x62+-0x2821),_0xc016f8['receiveSha'+'dow']=!(0x127f*0x1+0x2*0x238+0x5*-0x496),_0xc016f8['cull']=!_0xac487b,_0xc016f8['screenSpac'+'e']=_0xac487b,_0xc016f8['drawOrder']=this['_drawOrder'],_0x155972&&(_0xc016f8['cull']=!(-0xc2a*0x1+-0x15d*-0xe+-0x4*0x1bb),_0xc016f8['isVisibleF'+'unc']=_0x1855b9),this['_setTextur'+'eParams'](_0xc016f8,this['_font']['textures'][_0x26e0fd]),_0xc016f8['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0xc016f8['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0xc016f8['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0xc016f8['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0xc016f8['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x26e0fd]['width']),_0xc016f8['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0xc016f8['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0xc016f8['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1c29+-0x94e+-0x12db]=0x215+-0x18d*0x16+-0x1*-0x2009,this['_shadowOff'+'setUniform'][0x3*-0x769+-0xf90+0x25cc]=0xff*-0x20+-0xb5*0xd+0x1*0x2911;else{const _0x3884cb=-this['_font']['data']['info']['maps'][_0x26e0fd]['width']/this['_font']['data']['info']['maps'][_0x26e0fd]['height'];this['_shadowOff'+'setUniform'][-0x26*-0x9b+0x1*0x23e1+0xbc7*-0x5]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1*-0x100b+0x1d*-0x25+-0x9d*-0x21]=_0x3884cb*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0xc016f8['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x217817['meshInstan'+'ce']=_0xc016f8,this['_model']['meshInstan'+'ces']['push'](_0xc016f8);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x218423&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x1*-0x5e5+-0xda2*0x2+-0x28d*-0xd,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x154826){_0x154826['destroy']();const _0x2e74ae=this['_model']['meshInstan'+'ces']['indexOf'](_0x154826);_0x2e74ae!==-(0xf5*0xe+-0x601+0x16*-0x56)&&this['_model']['meshInstan'+'ces']['splice'](_0x2e74ae,0x8*-0x44a+0x26*-0xb1+0x3c97);}['_setMateri'+'al'](_0x960fc4){if(this['_material']=_0x960fc4,this['_model'])for(let _0x430f92=0x1*-0x18df+0x1756+0x189,_0x5e6d5f=this['_model']['meshInstan'+'ces']['length'];_0x430f92<_0x5e6d5f;_0x430f92++){const _0x15a6f6=this['_model']['meshInstan'+'ces'][_0x430f92];_0x15a6f6['material']=_0x960fc4;}}['_updateMat'+'erial'](_0x1f4980){const _0x13e568=this['_element'],_0x36d5e5=_0x13e568['_isScreenC'+'ulled'](),_0x4a35b5=function(_0x4cdf50){return _0x13e568['isVisibleF'+'orCamera'](_0x4cdf50);},_0x514bff=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x1f4980,_0x514bff,this['_enableMar'+'kup']),this['_model'])for(let _0x10b9af=0x159f+-0x2*0x68+-0x14cf,_0x13664f=this['_model']['meshInstan'+'ces']['length'];_0x10b9af<_0x13664f;_0x10b9af++){const _0x9bc246=this['_model']['meshInstan'+'ces'][_0x10b9af];_0x9bc246['cull']=!_0x1f4980,_0x9bc246['material']=this['_material'],_0x9bc246['screenSpac'+'e']=_0x1f4980,_0x36d5e5?(_0x9bc246['cull']=!(0x2e*-0xa6+-0x1796+0x1ab5*0x2),_0x9bc246['isVisibleF'+'unc']=_0x4a35b5):_0x9bc246['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x1403*0x1+-0x1*0x2ab+0x16ae]=-0x2*0x3c5+-0x1*-0xc11+-0x486,this['_colorUnif'+'orm'][-0x215c+-0x2f*-0x71+0x55*0x26]=0x5*0x680+0x96c*-0x1+-0x1713*0x1,this['_colorUnif'+'orm'][0x1*-0xf6+-0x1*0x1db6+-0x6*-0x51d]=0x16be+0x7*-0x290+-0x4cd):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x1d06+0x170+0x22d*-0xe]=We['r'],this['_colorUnif'+'orm'][-0x270f+-0xdb7+0x3b*0xe5]=We['g'],this['_colorUnif'+'orm'][0x1750+-0x231b+0xbcd]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x5d*-0xc+-0x24ad+0x2051]=0x788*-0x2+-0x42*-0x58+-0x7a0,this['_outlineCo'+'lorUniform'][-0x5df+-0x2044+0x2624]=-0xb*0x33d+-0x1bc1+0x3f60,this['_outlineCo'+'lorUniform'][-0x26*-0x103+-0x683*-0x4+0x2*-0x203e]=-0x2*-0x1306+0x392*0x3+0x1*-0x30c2,this['_outlineCo'+'lorUniform'][0x40e+0x6*0x448+-0x1dbb]=0x1*0x1b67+-0x2021+-0x7*-0xad):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x582+-0x1*-0x1e6f+-0x1*0x23f1]=We['r'],this['_outlineCo'+'lorUniform'][-0xc28+0x8d*-0x11+0x227*0xa]=We['g'],this['_outlineCo'+'lorUniform'][-0x134f*0x1+0x2271*-0x1+0x35c2]=We['b'],this['_outlineCo'+'lorUniform'][0xe*0x2a+0x1965+0x6*-0x49d]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x7*0x179+-0x713*0x5+0x2dae]=-0x53d+0x3c1+0x17c,this['_shadowCol'+'orUniform'][-0x10*-0xb9+0xc63*-0x3+0x1*0x199a]=-0x1037*-0x1+-0x7a6*0x5+0x1*0x1607,this['_shadowCol'+'orUniform'][0x2517+0x6c9+-0x15ef*0x2]=-0x1*0x74b+-0xbc+0x807,this['_shadowCol'+'orUniform'][0x19*-0x12f+0x1584+0x816]=-0x1*-0x25a9+0x1*-0x115+0x124a*-0x2):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xf*0x7b+0xa1*-0x1a+-0x1*-0x178f]=We['r'],this['_shadowCol'+'orUniform'][0x10f*0x13+-0x33e*0x7+-0x14b*-0x2]=We['g'],this['_shadowCol'+'orUniform'][0x11f7+-0x12aa+0xb5]=We['b'],this['_shadowCol'+'orUniform'][-0x795*0x1+-0x123*0x13+-0x8d*-0x35]=We['a']);}['_isWordBou'+'ndary'](_0xd25bdb){return jg['test'](_0xd25bdb);}['_isValidNe'+'xtChar'](_0x2bd065){return _0x2bd065!==null&&!ER['test'](_0x2bd065);}['_isNextCJK'+'Boundary'](_0x209fe5,_0x27b8e0){return Yg['test'](_0x209fe5)&&(jg['test'](_0x27b8e0)||wR['test'](_0x27b8e0));}['_isNextCJK'+'WholeWord'](_0x306216){return Yg['test'](_0x306216);}['_updateMes'+'hes'](){const _0x202316=this['_font']['data'],_0x50ece4=this,_0x319bbf=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x1a2231=this['_maxFontSi'+'ze'],_0x1fcdb7=this['_shouldAut'+'oFit']();_0x1fcdb7&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0xdc83fa=0x404+-0x26*0xf6+0x20a0,_0x586610=this['_symbols']['length'];let _0xdfaada=-0x17*0x1+0xe17+-0xe00,_0x282979=-0x1f61*-0x1+0x15d4+-0x3535,_0x43a496=0x1e45+-0x16*-0xfa+0x33c1*-0x1,_0xde253c=0x1c33*-0x1+0xf73+0x330*0x4,_0x33312d=0x7*0xf2+0x1b2d*0x1+-0xad*0x32,_0x314410=0x1439+0xa88*0x3+0x33d1*-0x1,_0x42f953=0x455*0x2+0x138d+0xe9*-0x1f,_0x318ccf=-0xc99+-0x1e99+-0x39*-0xc2,_0x365183=-0xdca+-0xb5a*-0x1+-0x27*-0x10,_0x1f07bc=0x3*0x751+0xeaa*-0x2+0x1*0x761,_0x1c985f=-0xe56+-0x2cb*-0xa+0x8*-0x1b3;const _0x1ca846=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x14ce+0x2676*-0x1+0x3b44+0.0001;let _0xa09691=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x1ca846||!this['_wrapLines'])&&(_0xa09691=Number['POSITIVE_I'+'NFINITY']);let _0x55f921=0x39+-0x1625+0x15ec,_0x196a41=0xd45+-0x1*-0x2273+-0x2fb8,_0x19561d,_0x5416dd,_0x831623,_0x32fca6;function _0x5bc477(_0x8fc235,_0x521273,_0x113129){_0x50ece4['_lineWidth'+'s']['push'](Math['abs'](_0x113129));const _0x2f90f2=_0x318ccf>_0x521273?_0x521273+(-0x5bc+0x1a60+0x9*-0x24b):_0x318ccf,_0x46995e=_0x318ccf>_0x521273?_0x318ccf+(0x121*-0x11+0x117+0x121b):_0x521273,_0x10e3d3=_0x8fc235['slice'](_0x2f90f2,_0x46995e);if(_0x1c985f){let _0x24be1d=_0x10e3d3['length'];for(;_0x24be1d--&&_0x1c985f>0x12a+-0x13*0x1ef+0x2393;)qg['test'](_0x10e3d3[_0x24be1d])&&(_0x10e3d3['splice'](_0x24be1d,0x9b6+0x212f*0x1+-0x2ae4),_0x1c985f--);}_0x50ece4['_lineConte'+'nts']['push'](_0x10e3d3['join']('')),_0xdfaada=0x1e04+-0x1be*-0xb+-0x312e,_0x282979-=_0x50ece4['_scaledLin'+'eHeight'],_0x33312d++,_0x365183=0x549*0x1+0x1c77+-0x3*0xb40,_0x1f07bc=0xfae*-0x1+0x1f12+0x2*-0x7b2,_0x1c985f=0x499*-0x2+0xb6*-0xb+-0x3*-0x5ac,_0x314410=0x1b72+0xb*-0x9f+0x6df*-0x3,_0x318ccf=_0x521273;}let _0x51ab35=!(-0x2449*-0x1+-0x1*-0x177d+-0x3bc6);for(;_0x51ab35;){_0x51ab35=!(-0x5*0x32b+-0x416+0x9f7*0x2),_0x1fcdb7?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0xd45+0x15d4+-0x139*0x7+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x646*-0x3+0x12c0+-0x2af*0xe,this['height']=0x553*0x5+-0x2268+-0x7c9*-0x1,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0xdfaada=-0x7*-0x560+0x1492*0x1+-0x4e*0xbf,_0x282979=0x29*-0x10+0x114e+0x11*-0xde,_0x43a496=-0x259f+-0xe*-0x25e+0x47b,_0xde253c=0x1*-0x20c5+0xf04+0x11c1,_0x33312d=-0x8be+-0x210c+-0x1*-0x29cb,_0x314410=0xb3d+0x1b19+0x2656*-0x1,_0x42f953=-0x1d60+-0x27+0x1d87,_0x318ccf=-0x6d9*-0x3+-0x8*-0x2ce+-0x2afb,_0x365183=0xf87+0x21*-0xad+0x11*0x66,_0x1f07bc=0x1523*-0x1+-0x1*0xf5b+0x247e,_0x1c985f=-0xd*0x34+0x391*-0x7+0x1b9b;const _0x411701=this['_fontSize']/_0xdc83fa;_0x55f921=this['_fontMinY']*_0x411701,_0x196a41=this['_fontMaxY']*_0x411701;for(let _0x35eba7=0x2065*0x1+0x128e+-0x32f3;_0x35eba7<this['_meshInfo']['length'];_0x35eba7++)this['_meshInfo'][_0x35eba7]['quad']=0xd02+0x1be9*-0x1+0xee7,this['_meshInfo'][_0x35eba7]['lines']={};let _0x35ca16=0x13df*-0x1+-0x1*0x88d+0x1d6b,_0x12ce9e=-0x7b1+-0x2*-0x3df+0xf2,_0x49b2c6=-0x146a+-0x2524+-0x1*-0x3a8d,_0x2833d9=-0x1c47+0x1102+-0xa*-0x13a+(-0x579+0x294*-0x8+0x1b18)*(0x410+-0x5*-0x7cf+-0x2a1b),_0x3e88d4=-0x96+0x1*-0x5d9+-0x13d*-0x6+(0x241+0x2*-0x4e1+0x880)*(-0x874*0x3+0x3*0x566+-0x2*-0x515),_0x490880=-0x13*0x1a9+-0x3*-0xa12+-0x1f*-0xb,_0x5ee129=0x707*-0x1+-0xc*0x140+-0x2*-0xb83+(-0x1f*0x1a+0x37*-0x1a+0x35*0x2f)*(0xcd4+0x59a+0x2e*-0x61),_0x383cd2=0x1dbb+0x9*0x14e+-0xb*0x3ae+(0x2524+0x352*-0x5+0x1*-0x138b)*(-0x2*-0x151+-0xc35+0xa93*0x1),_0x45de03=-0x1*-0x943+-0x1*0x232f+0x1a6b+(0x1d62+-0x1*-0xcb0+0x2993*-0x1)*(0x1*-0x16b3+-0x1de1*-0x1+0x62e*-0x1);for(let _0x300b96=0x1480+0xa0a+0x6*-0x517;_0x300b96<_0x586610;_0x300b96++){if(_0x19561d=this['_symbols'][_0x300b96],_0x32fca6=_0x300b96+(-0x1251+0x1*0x2a2+0xfb0)>=_0x586610?null:this['_symbols'][_0x300b96+(0x1c59+0xc0e+-0x2866)],qg['test'](_0x19561d)){_0x1c985f++,(!this['_wrapLines']||this['_maxLines']<0x247+0x6de+-0x925||_0x33312d<this['_maxLines'])&&(_0x5bc477(this['_symbols'],_0x300b96,_0xde253c),_0x42f953=_0x300b96+(-0x1ca+-0xba*0x35+0x284d*0x1),_0x318ccf=_0x300b96+(0x1747+-0x1fb0+0x86a));continue;}let _0x3b515e=0x1*0x1ca3+-0x14ca+-0x7d9,_0x57ad5e=-0x23*-0x16+-0x145a+0x1158,_0x4d91aa=-0x3*0x5e5+-0x2*0x1280+0x36af,_0x332973=0x751*0x4+0xfe+-0x60d*0x5,_0x2c0153,_0x29436;if(_0x5416dd=_0x202316['chars'][_0x19561d],!_0x5416dd){if(bR['indexOf'](_0x19561d)!==-(0x3*-0x39d+0x75f+0x379))_0x5416dd=AR;else{if(_0x202316['chars']['\x20'])_0x5416dd=_0x202316['chars']['\x20'];else for(const _0xc3fbab in _0x202316['chars']){_0x5416dd=_0x202316['chars'][_0xc3fbab];break;}_0x202316['missingCha'+'rs']||(_0x202316['missingCha'+'rs']=new Set()),_0x202316['missingCha'+'rs']['has'](_0x19561d)||(console['warn']('Character\x20'+'\x27'+_0x19561d+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x202316['info']['face']),_0x202316['missingCha'+'rs']['add'](_0x19561d));}}if(_0x5416dd){let _0x36c129=0x9ff*-0x3+0x206f+-0x1*0x272;if(_0x1f07bc>0x1aa9+0x1edb+0x24*-0x199){const _0x292f4d=this['_font']['data']['kerning'];if(_0x292f4d){const _0x1f3bd0=_0x292f4d[Hc['getCodePoi'+'nt'](this['_symbols'][_0x300b96-(-0xc5*0x9+-0x1f1c+0x260a)])||-0x1*0x24db+0x2db+0x2200*0x1];_0x1f3bd0&&(_0x36c129=_0x1f3bd0[Hc['getCodePoi'+'nt'](this['_symbols'][_0x300b96])||0x2*0xd42+0x24f+-0x1cd3]||-0x1*0x14be+-0x1*-0x1dce+0x910*-0x1);}}_0x2c0153=_0x5416dd['scale']||-0x25*-0x70+-0x1*-0x112b+-0x215a,_0x29436=(_0x5416dd['width']+_0x5416dd['height'])/(0x345+-0x1d*0x7f+0xb20),_0x332973=_0x411701*_0x29436/_0x2c0153,_0x4d91aa=(_0x5416dd['xadvance']+_0x36c129)*_0x411701,_0x3b515e=(_0x5416dd['xoffset']-_0x36c129)*_0x411701,_0x57ad5e=_0x5416dd['yoffset']*_0x411701;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x19561d+'\x27');const _0x3c09ec=TR['test'](_0x19561d),_0x3b491a=_0x5416dd&&_0x5416dd['map']||-0x1a8e+0x1e3*-0x11+-0x1*-0x3aa1,_0x42d6d1=-this['_font']['data']['info']['maps'][_0x3b491a]['width']/this['_font']['data']['info']['maps'][_0x3b491a]['height'],_0x50a12a=this['_meshInfo'][_0x3b491a],_0x12cd8a=_0xdfaada+this['_spacing']*_0x4d91aa;if(_0x12cd8a>_0xa09691&&_0x1f07bc>0x18a6+-0xa19+-0xe8d&&!_0x3c09ec&&(this['_maxLines']<0x1*0x16fb+-0x1cd1*0x1+-0xf9*-0x6||_0x33312d<this['_maxLines'])){if(_0x365183===-0xb47*-0x2+0xd21+-0x105*0x23)_0x42f953=_0x300b96,_0x5bc477(this['_symbols'],_0x300b96,_0xde253c);else{const _0x23ced4=Math['max'](_0x300b96-_0x42f953,-0x44+-0x1*-0x152f+-0x7*0x2fd);if(this['_meshInfo']['length']<=-0xae0+0x1a16+-0xf35)_0x50a12a['lines'][_0x33312d-(-0x202b+0x1*-0x118b+0x31b7)]-=_0x23ced4,_0x50a12a['quad']-=_0x23ced4;else{const _0x5811c8=_0x42f953,_0x2726c2=_0x300b96;for(let _0xeb6aa7=_0x5811c8;_0xeb6aa7<_0x2726c2;_0xeb6aa7++){const _0x3bd712=this['_symbols'][_0xeb6aa7],_0x12f756=_0x202316['chars'][_0x3bd712],_0x1e2562=this['_meshInfo'][_0x12f756&&_0x12f756['map']||0x166f*-0x1+-0x2659+-0x799*-0x8];_0x1e2562['lines'][_0x33312d-(0x25*-0x108+0x1227*0x1+0x18a*0xd)]-=-0x1241+0x69*-0x31+0x9*0x443,_0x1e2562['quad']-=0xa*0xdf+-0x11c1+0x90c;}}_0x300b96-=_0x23ced4+(0x1fbb+0x2f*0x4f+-0x2e3b),_0x5bc477(this['_symbols'],_0x42f953,_0x314410);continue;}}_0x831623=_0x50a12a['quad'],_0x50a12a['lines'][_0x33312d-(-0x251c+0x149e+-0x67*-0x29)]=_0x831623;let _0x45c755=_0xdfaada-_0x3b515e,_0x178bff=_0x45c755+_0x332973;const _0x50b79f=_0x282979-_0x57ad5e,_0x2eda2f=_0x50b79f+_0x332973;if(this['_rtl']){const _0x47d984=_0x332973-_0x3b515e-this['_spacing']*_0x4d91aa-_0x3b515e;_0x45c755-=_0x47d984,_0x178bff-=_0x47d984;}_0x50a12a['positions'][_0x831623*(-0x268a+0x32*0x31+0x1cfc)*(0xfa5+-0x1c1c+0xc7a)+(-0x4*-0x8dd+-0x125*0x13+0x13f*-0xb)]=_0x45c755,_0x50a12a['positions'][_0x831623*(-0x16f1*0x1+-0x82*-0x1c+0x8bd)*(0xc8c+0x265*-0xf+0x1*0x1762)+(-0x667*0x2+0x67*0x2+-0x1*-0xc01)]=_0x50b79f,_0x50a12a['positions'][_0x831623*(-0x1b75+-0xbb9+0x1399*0x2)*(-0x395+0x2a8+0xf0)+(-0x1751+-0x11d3+0x2926)]=_0x43a496,_0x50a12a['positions'][_0x831623*(-0xa*-0x4b+-0x1594+0x955*0x2)*(0x48d*-0x7+-0x7*0x115+-0x17*-0x1b7)+(0x1d13+0xff1+-0x2d01)]=_0x178bff,_0x50a12a['positions'][_0x831623*(0x1b8f+0x1*-0x24b+-0x1940)*(-0x2651+0x1bf6+0xa5e)+(-0x1*-0x1099+0x160+-0x11f5)]=_0x50b79f,_0x50a12a['positions'][_0x831623*(0x5b*0x3+-0x2c9+0x1bc)*(-0x24bf+-0x24ab+-0x496d*-0x1)+(0xb*0x16e+0x79*-0x4a+0x1345)]=_0x43a496,_0x50a12a['positions'][_0x831623*(-0x6e1*-0x1+-0x204b+0x196e)*(0x103e+-0x502*-0x4+-0x2443)+(-0x1*-0x1481+-0x1465*0x1+0x2*-0xb)]=_0x178bff,_0x50a12a['positions'][_0x831623*(0x5d5+-0xbd9+0x608)*(0xa3*-0x2f+-0x10c6+0x2eb6)+(0x15c9+-0x14a*-0x5+-0x1c34)]=_0x2eda2f,_0x50a12a['positions'][_0x831623*(-0x1*-0x1417+0x1b08+-0x2f1b)*(-0xd01+-0x1aa+0xeae)+(0x159e+0x26b2+-0x2*0x1e24)]=_0x43a496,_0x50a12a['positions'][_0x831623*(0x12f7+-0x444+-0xeaf)*(-0x22c*-0x2+-0x18d7+-0x96*-0x23)+(0x1*0xd22+-0x1c9f+0x1*0xf86)]=_0x45c755,_0x50a12a['positions'][_0x831623*(-0x1f9b+0x43a+0x1b65)*(0x1dfa+0x10*-0x195+-0x4a7)+(0x6*-0x3c5+0x1*-0x267a+0x139*0x32)]=_0x2eda2f,_0x50a12a['positions'][_0x831623*(0xb*0x35e+-0xb2f+-0x19d7)*(0x242d+-0xfd5+-0x1455)+(-0x26f2+-0xb4a*0x1+-0x3247*-0x1)]=_0x43a496,this['width']=Math['max'](this['width'],_0x12cd8a);let _0x302636;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x302636=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x9cb+0x22cc+0x3*-0xedd+0.0001)),_0x302636=Y['clamp'](_0x302636,_0x319bbf,_0x1a2231),_0x302636!==this['_element']['fontSize'])){this['_fontSize']=_0x302636,_0x51ab35=!(0x21fa+-0x16b5+-0xb45);break;}if(this['height']=Math['max'](this['height'],_0x196a41-(_0x282979+_0x55f921)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x302636=Y['clamp'](this['_fontSize']-(-0x12a9+0xb*0x177+0x1*0x28d),_0x319bbf,_0x1a2231),_0x302636!==this['_element']['fontSize'])){this['_fontSize']=_0x302636,_0x51ab35=!(-0x1*-0x8c3+-0x1191+0x8ce);break;}_0xdfaada+=this['_spacing']*_0x4d91aa,_0x3c09ec||(_0xde253c=_0xdfaada),(this['_isWordBou'+'ndary'](_0x19561d)||this['_isValidNe'+'xtChar'](_0x32fca6)&&(this['_isNextCJK'+'Boundary'](_0x19561d,_0x32fca6)||this['_isNextCJK'+'WholeWord'](_0x32fca6)))&&(_0x365183++,_0x314410=_0xde253c,_0x42f953=_0x300b96+(0x1418+0x1b20+-0x2f37)),_0x1f07bc++;const _0x1857ae=this['_getUv'](_0x19561d);if(_0x50a12a['uvs'][_0x831623*(0x1677+-0x1af4+-0x481*-0x1)*(-0xb7d+0x15eb+-0xa6c)+(-0x217*0x2+0x133*-0x1b+0x539*0x7)]=_0x1857ae[0x1bbc*-0x1+-0xc1d+0x27d9],_0x50a12a['uvs'][_0x831623*(-0x2f*0x3e+-0x1fad*0x1+0x1*0x2b13)*(0x1d2f+0x15e2+0x1*-0x330f)+(0x1*0x19af+-0x15da+-0x8c*0x7)]=-0xaf0+0x1*-0xd5b+0x184c-_0x1857ae[-0x1975+0x676+-0x4c*-0x40],_0x50a12a['uvs'][_0x831623*(0xb1c+0x264b+-0x3163)*(0x4*0x325+-0x1bdc+0xf4a)+(-0x22d2+-0xd1e+0x2ff2)]=_0x1857ae[-0x62a+0x1*-0x1fe1+0x11*0x23d],_0x50a12a['uvs'][_0x831623*(0x19e5*0x1+0x1298+-0x2c79)*(0x10a+0x26da*-0x1+0x25d2)+(-0x1ac8+0x4*-0x2cd+0x25ff)]=0x45*0x8d+0x958+0xfc8*-0x3-_0x1857ae[-0x1*0x184d+0x20d*-0xd+-0x32f7*-0x1],_0x50a12a['uvs'][_0x831623*(0x2459*-0x1+0x95e*0x3+-0x1a7*-0x5)*(-0x249d+0x23*-0x9d+0x2*0x1d0b)+(-0x1698+0x2*0x9f3+0x2*0x15b)]=_0x1857ae[0xd6*0x17+0x2d5+-0x5*0x469],_0x50a12a['uvs'][_0x831623*(-0x1*-0x1a2f+0x1*0x57b+0xfd3*-0x2)*(0x1*0x11fb+0x35*-0x11+0x19*-0x94)+(-0x25e7*-0x1+-0xfe*-0x3+-0x82c*0x5)]=0x1712+0x2462+0x10b*-0x39-_0x1857ae[-0x15d2+0x29*-0xa+0x176f],_0x50a12a['uvs'][_0x831623*(0x22f5+0x1a6*0xe+0x1*-0x3a05)*(-0x1*0x11c3+-0x589*0x2+0x1cd7)+(-0x1ca5+0x6f9+-0x1*-0x15b2)]=_0x1857ae[-0xfce+0x226b+-0x129d],_0x50a12a['uvs'][_0x831623*(-0x12b1+0x1*0x23f5+0x20*-0x8a)*(-0x1*0xde9+0x1*0x12ca+-0x1d*0x2b)+(0x1*-0x218d+-0x1*0x2506+0x469a)]=0x2e*-0x4a+-0x1*-0x1bff+-0xeb2-_0x1857ae[-0x1178*0x1+0x1*-0x18ad+-0x545*-0x8],this['_symbolCol'+'ors']){const _0x1dc713=this['_symbolCol'+'ors'][_0x300b96]*(-0x24a*0xa+-0x1f51+0x3638);_0x35ca16=this['_colorPale'+'tte'][_0x1dc713],_0x12ce9e=this['_colorPale'+'tte'][_0x1dc713+(0x7*-0x34+0x1474+-0x1307)],_0x49b2c6=this['_colorPale'+'tte'][_0x1dc713+(0x1*-0x1e89+-0x638+0xc41*0x3)];}if(_0x50a12a['colors'][_0x831623*(-0x72+-0xf*0x18a+0x178c)*(-0x6f8+-0x1e6a+0x2566)+(0xaa+-0xdd5+0xd2b)]=_0x35ca16,_0x50a12a['colors'][_0x831623*(0x152+0xd1f*-0x1+0xbd1)*(0x1*-0xe37+-0x149d+-0x8*-0x45b)+(0x2200+0xc3*-0x6+0x3*-0x9cf)]=_0x12ce9e,_0x50a12a['colors'][_0x831623*(-0x1*-0x32b+-0x14*0x14b+0x1*0x16b5)*(0x3*0x3fd+0x2a4*0x5+0x1927*-0x1)+(0xebf*0x2+0x84f+0xd7*-0x2d)]=_0x49b2c6,_0x50a12a['colors'][_0x831623*(-0xb*-0x10b+0x1*0x166a+-0x21df)*(-0x1*-0x244d+-0x1b*-0x25+0x10*-0x283)+(-0x1e8+-0x8f*-0x27+-0x13de)]=0x1200+0x55d+-0x7*0x332,_0x50a12a['colors'][_0x831623*(0x1279*-0x1+-0x38b+0x1608)*(-0x10a6+-0x68c*0x5+0x3166)+(-0xe59+-0x16de+0x253b)]=_0x35ca16,_0x50a12a['colors'][_0x831623*(-0x1fa3+0x1645*-0x1+0x3da*0xe)*(-0xb*-0x367+0xb*0x283+-0x410a)+(-0x708+-0x1*0x1121+0x182e)]=_0x12ce9e,_0x50a12a['colors'][_0x831623*(0x19ef+0x1c13+-0x35fe)*(0x12ee*0x1+0x1*0xf04+-0x21ee)+(0x2470+0xf6a+-0x33d4)]=_0x49b2c6,_0x50a12a['colors'][_0x831623*(0x7d0+0x1f75+0xd*-0x305)*(-0x1*-0x1c71+-0x1158+-0xb15)+(0x2016+-0x215*0x1+-0x1dfa)]=-0xa0*-0x32+0x571*-0x6+-0x265*-0x1,_0x50a12a['colors'][_0x831623*(-0x1*0xa35+0x2b*-0x3a+-0x13f7*-0x1)*(-0x9*-0x2f1+0x1497+-0x2f0c)+(-0x2eb*0x1+-0x186d+0x1b60)]=_0x35ca16,_0x50a12a['colors'][_0x831623*(-0x107b+0x51d*0x3+0x128)*(0xa97+-0x158e*-0x1+-0x7*0x497)+(0x14ae+-0xde*-0x11+-0x2363*0x1)]=_0x12ce9e,_0x50a12a['colors'][_0x831623*(0x4*-0x793+0x101c+0x4bc*0x3)*(-0x2435+0xf5b*-0x1+0x3394)+(-0x4*-0x34a+0x1*0x10a1+-0x1*0x1dbf)]=_0x49b2c6,_0x50a12a['colors'][_0x831623*(0x1ed1+-0x73f+0x7da*-0x3)*(-0x2437+-0x24a+0x3*0xcd7)+(-0x4c+-0x1a6*-0x4+-0x1*0x641)]=0x2085+-0xe50+-0x1*0x1136,_0x50a12a['colors'][_0x831623*(0x191c+0x1928+-0x3240)*(-0x3e*0x9d+-0x111f+0x9*0x621)+(0x31*-0x8f+-0x38e*-0x3+0x10c1)]=_0x35ca16,_0x50a12a['colors'][_0x831623*(-0x483+-0x89*-0x14+-0x62d)*(-0x4f*-0x3e+0x207e*0x1+-0x339c)+(0x240c+0xa4e+-0x2e4d)]=_0x12ce9e,_0x50a12a['colors'][_0x831623*(0x442+0x111+-0x3*0x1c5)*(0x7*-0x55d+0x187e+0xd11)+(-0xc59+-0x180b*-0x1+0xa*-0x12a)]=_0x49b2c6,_0x50a12a['colors'][_0x831623*(-0x6bc+-0x580*0x2+0x11c0)*(0xfa3+0x96e+-0x79*0x35)+(-0x24d8+0xe2*-0x26+0x4673)]=0xf2+-0x164a+-0x331*-0x7,this['_symbolOut'+'lineParams']){const _0x1e1d25=this['_symbolOut'+'lineParams'][_0x300b96]*(-0x7a6+-0x1*-0x815+-0x35*0x2);_0x2833d9=this['_outlinePa'+'lette'][_0x1e1d25]+this['_outlinePa'+'lette'][_0x1e1d25+(-0x202a+-0x7*0xe+0xd*0x281)]*(-0x76a*-0x5+0x169*-0x16+-0x26*0x22),_0x3e88d4=this['_outlinePa'+'lette'][_0x1e1d25+(-0xafb+-0x13*-0x6f+0x2c0)]+this['_outlinePa'+'lette'][_0x1e1d25+(-0x2480+-0x47*0x4+0x259f)]*(0x37*0x47+-0x653+-0x7ee),_0x490880=this['_outlinePa'+'lette'][_0x1e1d25+(-0x15*-0x124+-0x95b+0xe95*-0x1)];}if(_0x50a12a['outlines'][_0x831623*(-0x160f+-0x53*0x4b+0x2e64)*(-0x1*0x7ed+0x2*-0x1216+0x3ad*0xc)+(0x2083+-0xc0b*-0x2+-0x3899)]=_0x2833d9,_0x50a12a['outlines'][_0x831623*(0x2319+-0x1776+0x77*-0x19)*(0x3*-0x617+0x71b+0xb2d*0x1)+(-0x4d*-0x4b+0x1b1c*-0x1+-0x48e*-0x1)]=_0x3e88d4,_0x50a12a['outlines'][_0x831623*(-0x1511+-0x147c+-0xddb*-0x3)*(-0x1da0+-0xf*0x203+0x3bd0)+(0x1444+0x1*0x1de1+-0x3223)]=_0x490880,_0x50a12a['outlines'][_0x831623*(-0x193b+0x189*0xf+0x238*0x1)*(-0x3*0xa1d+-0x1b*0x83+0x2c2b*0x1)+(-0x15ec+-0x2532+0x3b21)]=_0x2833d9,_0x50a12a['outlines'][_0x831623*(-0x4c1+-0x4*0x615+0x23d*0xd)*(-0x2165+0x20a4+-0x1c*-0x7)+(0x22b0+-0x186*0x2+-0x1fa0)]=_0x3e88d4,_0x50a12a['outlines'][_0x831623*(0xa2*-0x15+0x1*0x1971+-0xd*0xef)*(-0x79*-0x1+0xe*-0x1f1+-0x23a*-0xc)+(-0x26af+0x21cd*0x1+0x4e7)]=_0x490880,_0x50a12a['outlines'][_0x831623*(0xb1*0x16+-0x411*-0x5+-0x2387)*(-0x97c+0x46*-0x18+0x100f)+(-0x1f5b+0xb18+0x1449)]=_0x2833d9,_0x50a12a['outlines'][_0x831623*(-0x2*-0x502+-0x170e+0xd0e)*(-0x85c+-0xba5*-0x1+-0x346)+(0x4*-0x35f+-0x124f+-0x1fd2*-0x1)]=_0x3e88d4,_0x50a12a['outlines'][_0x831623*(0x2598+-0x57*-0x4f+0x1*-0x406d)*(-0x12ef+-0xbed+-0x469*-0x7)+(-0x1*-0x25ca+-0x7af+-0x1e13)]=_0x490880,_0x50a12a['outlines'][_0x831623*(-0x7a7+-0x1896+0x2041)*(-0x136e*-0x2+0x1*-0x7e7+-0x1ef2)+(-0x1733+0x1e4a+0x3*-0x25a)]=_0x2833d9,_0x50a12a['outlines'][_0x831623*(-0x1569+-0x1eac+0x3419)*(-0x1*-0x1769+-0x8c3+-0xea3)+(-0x947+0xf21+-0x5d0)]=_0x3e88d4,_0x50a12a['outlines'][_0x831623*(-0x26f4+0x2*0x1239+0x286)*(-0xd7f*0x1+0x1dad+-0x1*0x102b)+(-0x1*0x82+0xd99+-0xa7*0x14)]=_0x490880,this['_symbolSha'+'dowParams']){const _0x203e56=this['_symbolSha'+'dowParams'][_0x300b96]*(-0x25+0x227b+-0x2250);_0x5ee129=this['_shadowPal'+'ette'][_0x203e56]+this['_shadowPal'+'ette'][_0x203e56+(0x36e+-0x23f7+-0x4a6*-0x7)]*(-0x6e1+-0xef5+-0x4a*-0x4f),_0x383cd2=this['_shadowPal'+'ette'][_0x203e56+(0x1*0x19f+-0x1b10+-0x1*-0x1973)]+this['_shadowPal'+'ette'][_0x203e56+(-0x29*0x47+-0x1*-0x1403+-0x8a1)]*(0x2469*0x1+-0xef*-0x26+-0x46e3),_0x45de03=this['_shadowPal'+'ette'][_0x203e56+(0x7a3+0x5*-0x185+0x2*-0x3)]+(0x1*-0x8cb+0x16af*-0x1+0x5*0x665)+Math['round'](_0x42d6d1*this['_shadowPal'+'ette'][_0x203e56+(0xc4c*-0x1+-0x225d+0x2eae)]+(-0x1bfe+0x70e+0x156f))*(-0x868*-0x4+0x24a+-0x22ea);}_0x50a12a['shadows'][_0x831623*(0x1507+-0xc8*0x10+-0x883)*(-0x24b5+0x14e6*-0x1+0x2*0x1ccf)+(-0x3*0x2d7+0x3*-0x871+-0x10ec*-0x2)]=_0x5ee129,_0x50a12a['shadows'][_0x831623*(-0x8e9+0x2270+0x137*-0x15)*(0xc5e+-0x19*0x31+-0x22*0x39)+(-0x36a+-0x473*-0x1+0x8*-0x21)]=_0x383cd2,_0x50a12a['shadows'][_0x831623*(0x1*-0xc2d+0x2*0x911+-0x5f1)*(-0x22*0xf2+-0x159a+-0x21*-0x1a1)+(0x1be9+0x1d5e+-0x3945)]=_0x45de03,_0x50a12a['shadows'][_0x831623*(-0x12b6+-0x1f4b*-0x1+0xc91*-0x1)*(0x16f0+0x2c*0x27+0xcd*-0x25)+(0x139*-0x15+-0x155e*-0x1+0x1*0x452)]=_0x5ee129,_0x50a12a['shadows'][_0x831623*(0x403+0xa*-0x199+0xbfb)*(0x1c05+-0x282*0xf+0x14*0x7b)+(-0x2*-0x31a+0xe75*-0x1+0x845*0x1)]=_0x383cd2,_0x50a12a['shadows'][_0x831623*(0xa90+0x152*0x7+-0x13ca)*(0x2022+-0x1a7e+-0x5a1*0x1)+(-0x8*-0x195+0x1f21+-0x1*0x2bc4)]=_0x45de03,_0x50a12a['shadows'][_0x831623*(0x1bb*-0xd+0x1c*-0xc7+0x8db*0x5)*(0x1*0x1bc8+0xdd4+-0x2999)+(0x6d*-0x5+0x21f*0xd+-0x196c)]=_0x5ee129,_0x50a12a['shadows'][_0x831623*(-0x354+0x8d*0x33+-0x18bf)*(0x3*0xb47+-0x2430+-0x12f*-0x2)+(-0x2603+0x6a3*-0x3+0x1*0x39f3)]=_0x383cd2,_0x50a12a['shadows'][_0x831623*(0x3*-0x5ea+-0x5*0x611+0x3017)*(-0x2b*0x68+-0x13*-0x23+-0x2fa*-0x5)+(0x89b*-0x4+-0x6*-0x359+0xe5e)]=_0x45de03,_0x50a12a['shadows'][_0x831623*(0x5*0x65f+-0x268c+0x6b5)*(-0xca*0x5+0x79f*0x5+-0x2226)+(0x26da+0x1328+-0x39f9)]=_0x5ee129,_0x50a12a['shadows'][_0x831623*(-0x25*-0x8d+-0xf0a+-0x553)*(-0x1c33+0xbcb*0x1+0x106b)+(0x107d*-0x1+0x47*0x41+0x40*-0x6)]=_0x383cd2,_0x50a12a['shadows'][_0x831623*(-0x12f7+0x2709*-0x1+-0x5e*-0x9e)*(-0x25f3+-0x1*-0x5a1+-0x1*-0x2055)+(-0xf0a+0x1afb+-0xbe6)]=_0x45de03,_0x50a12a['quad']++;}_0x51ab35||_0x318ccf<_0x586610&&_0x5bc477(this['_symbols'],_0x586610,_0xdfaada);}this['_noResize']=!(0x8d9+-0x6ce*0x4+-0x1*-0x125f),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x445*0x1+0x25cf+-0x2189);const _0xabe2e5=this['_element']['pivot']['x'],_0x3abf4e=this['_element']['pivot']['y'],_0x548d48=this['_alignment']['x'],_0x96b91c=this['_alignment']['y'];for(let _0x581dab=-0x1f6b*-0x1+-0x1823+-0x748;_0x581dab<this['_meshInfo']['length'];_0x581dab++){if(this['_meshInfo'][_0x581dab]['count']===-0x4*0x7af+0x220c+-0x350)continue;let _0x2bf4fc=0x1ce3+-0x2614+0xd*0xb5;for(const _0x27c08c in this['_meshInfo'][_0x581dab]['lines']){const _0x2561b6=this['_meshInfo'][_0x581dab]['lines'][_0x27c08c],_0x569d4d=this['_lineWidth'+'s'][parseInt(_0x27c08c,-0x1bf1+0xe11+0xdea)],_0x4c6641=-_0xabe2e5*this['_element']['calculated'+'Width']+_0x548d48*(this['_element']['calculated'+'Width']-_0x569d4d)*(this['_rtl']?-(-0x1*0x249e+0x1c7+0x28*0xdf):-0x1*-0x1256+0x44f*0x4+-0x2391),_0x4c68f6=(0xa*-0x31b+0x234*-0x1+0x2143-_0x3abf4e)*this['_element']['calculated'+'Height']-_0x196a41-(0x1*-0x1cb2+0x2*-0x19+0x1ce5-_0x96b91c)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x3df673=_0x2bf4fc;_0x3df673<=_0x2561b6;_0x3df673++)this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(-0x15b9+-0x264d+0x3c0a)*(-0x1*-0x1219+-0x2498+0x1282)]+=_0x4c6641,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(0xbf*-0x27+-0x1c69+0x3986)*(0x1*-0xf2c+0x20f7+0x4*-0x472)+(0x2101+-0x98b+-0x1773)]+=_0x4c6641,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(0x116f*0x1+0x1615*0x1+0x20*-0x13c)*(0x6d*-0x49+0x24df+-0x5c7)+(-0x1501+0xb29*-0x1+0x2030)]+=_0x4c6641,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(-0x1*-0x40f+-0x21fd+-0x1*-0x1df2)*(0x6e7+0x1508*0x1+0x1bec*-0x1)+(-0x2*-0x128c+0x5*-0x496+0x1*-0xe21)]+=_0x4c6641,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(-0x118d*0x2+0xec9*-0x2+-0x730*-0x9)*(-0x11*-0xde+0x1b1d+-0xce*0x34)+(-0x21d2+0x1*0x35+0x219e)]+=_0x4c68f6,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(0xf09+0x1*0x158f+-0x2494)*(-0x1715+-0x1*0x12a1+-0x1*-0x29b9)+(0x1*-0x23f2+0x583*-0x6+0x4508)]+=_0x4c68f6,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(0x20*-0xd7+0x17d3+0x311)*(-0x212f+0xfb+-0x2037*-0x1)+(0x1d2*-0x1+-0x2507+0x26e0)]+=_0x4c68f6,this['_meshInfo'][_0x581dab]['positions'][_0x3df673*(-0x3a*0x49+-0x142c+-0x6*-0x61f)*(0x219f+-0x2*-0x11e4+-0x4564)+(-0x1*-0xce3+0x20bd+-0x2d96)]+=_0x4c68f6;if(this['_rtl'])for(let _0x4caae0=_0x2bf4fc;_0x4caae0<=_0x2561b6;_0x4caae0++){const _0x2d50a9=_0x4caae0*(0x614+-0x1*0xb45+0x535)*(0x49*-0xa+-0x1*0x238d+0x667*0x6);for(let _0x34fd3f=-0x231a+-0x1*0x213b+0x31*0x165;_0x34fd3f<-0x1731+0x1*0x20ab+-0x976*0x1;++_0x34fd3f)this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+_0x34fd3f*(-0x1*0x18d7+0xc12+0x199*0x8)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+_0x34fd3f*(-0xcc2+-0x1*-0x2018+-0x1353)]+_0x4c6641*(-0x16e5+0x7dd+-0x32*-0x4d);const _0x3f2002=this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(-0x3d*0x51+0xc*0x20e+-0x4c*0x12)],_0x34cfeb=this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(0x1ded+-0x25*0x9+-0x1c9a*0x1)];this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(-0x172+0x20d3*-0x1+-0x449*-0x8)]=this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(-0x445+-0x1*-0x751+-0x30c)],this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(-0x213d*-0x1+0x673+-0x27aa)]=this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(0x134b+0x3*0x4f3+-0x1*0x221b)],this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(-0xdb*-0x25+0x1a8*-0x1+-0x1dff)]=_0x3f2002,this['_meshInfo'][_0x581dab]['positions'][_0x2d50a9+(0x6b6+0x5*-0x454+0xef7)]=_0x34cfeb;}_0x2bf4fc=_0x2561b6+(0x22ef+-0x5*0x725+-0x7*-0x1d);}const _0xce6223=this['_meshInfo'][_0x581dab]['count']*(-0x9d2*-0x2+-0x4*-0xd+0x24*-0x8d),_0x55bc33=this['_meshInfo'][_0x581dab]['quad']*(-0x1d75+0x210e*0x1+0x1*-0x395),_0x3a7a4f=new Uo(this['_meshInfo'][_0x581dab]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x347cff=0x1a81*-0x1+-0x19ef+0x2*0x1a38;_0x347cff<_0xce6223;_0x347cff++)_0x347cff>=_0x55bc33?(_0x3a7a4f['element'][Me]['set'](-0x58c+0x1*-0x45d+0x9e9,-0x3+-0x1dc*-0xa+-0x47*0x43,0x62d+0xad5+-0xe*0x137),_0x3a7a4f['element'][is]['set'](-0x1d*0x37+0xf04+-0x8c9,-0x15e4+-0xe*0x168+0x2994),_0x3a7a4f['element'][Wt]['set'](0x26a4+0x287*0x3+-0x2e39,0x25eb*0x1+-0x2025+-0x5c6,-0x2*-0x12f4+0x1ca5*-0x1+-0x943*0x1,-0x709*-0x1+-0x229e+0x1b95),_0x3a7a4f['element'][Ko]['set'](-0x3*-0x5c9+-0x1779+0x36*0x1d,0x1*0x15a9+0x1948+0x1*-0x2ef1,0x3*-0xcf6+0x1*-0x20c5+0x47a7,0xa4e*-0x2+0xd*0x206+-0xa2*0x9),_0x3a7a4f['element'][Zo]['set'](-0x5df+0x4f8*0x6+-0x17f1,0xe19+0x179f+0x8*-0x4b7,0x4*0x525+0xdc6+0x112d*-0x2,0x1*0x10ca+0x1989+-0x2a53)):(_0x3a7a4f['element'][Me]['set'](this['_meshInfo'][_0x581dab]['positions'][_0x347cff*(-0x121*0x1d+0x1*0x171a+0x9a6)+(-0xe03+0x1891+0x7*-0x182)],this['_meshInfo'][_0x581dab]['positions'][_0x347cff*(-0x22eb+0x1*0x195d+0x991)+(-0x14b6+-0x1e*-0x125+-0x13d*0xb)],this['_meshInfo'][_0x581dab]['positions'][_0x347cff*(0x2260+0x1b5d+0x2*-0x1edd)+(0x2503+0xe5b+-0x15a*0x26)]),_0x3a7a4f['element'][is]['set'](this['_meshInfo'][_0x581dab]['uvs'][_0x347cff*(0xf4e+-0x6be+0x92*-0xf)+(0x2206+-0x17*0x56+-0x1a4c)],this['_meshInfo'][_0x581dab]['uvs'][_0x347cff*(0x14a3+-0x12ba+-0x1e7*0x1)+(0x2102+-0xc53+-0x14ae)]),_0x3a7a4f['element'][Wt]['set'](this['_meshInfo'][_0x581dab]['colors'][_0x347cff*(-0x62*0x7+-0x1b6+0x468)+(0x133*-0x8+0x8*0x26+0x868)],this['_meshInfo'][_0x581dab]['colors'][_0x347cff*(-0x1a4d*0x1+-0x1efc+0x394d*0x1)+(-0xc3f+0x727*0x3+-0x935*0x1)],this['_meshInfo'][_0x581dab]['colors'][_0x347cff*(-0x21e0+-0x5*0x782+0x1be*0x29)+(-0x199*-0x7+-0x1*0x215f+-0x1*-0x1632)],this['_meshInfo'][_0x581dab]['colors'][_0x347cff*(-0x1357+0x85f+0xafc)+(-0x15b*-0x1+-0xd4e*-0x2+-0x4*0x6fd)]),_0x3a7a4f['element'][Ko]['set'](this['_meshInfo'][_0x581dab]['outlines'][_0x347cff*(0xfe*-0xb+0x325*0x3+0x17e*0x1)+(0x1534+0x7b*0x11+0x1*-0x1d5f)],this['_meshInfo'][_0x581dab]['outlines'][_0x347cff*(0x15ef+0xabf*0x1+-0x20ab)+(-0x97*-0x7+-0x19af+0x158f*0x1)],this['_meshInfo'][_0x581dab]['outlines'][_0x347cff*(-0x3*0x652+-0x7ef+0x1ae8*0x1)+(0x72a+0x1f*-0x1+0x1*-0x709)]),_0x3a7a4f['element'][Zo]['set'](this['_meshInfo'][_0x581dab]['shadows'][_0x347cff*(0x2393+0xd79*0x2+-0x3e82)+(0x206a+-0x1b55+-0x515)],this['_meshInfo'][_0x581dab]['shadows'][_0x347cff*(-0x92*0x33+0x2*0xf76+0x1*-0x1d3)+(-0x1b*-0x10d+0x11c6+-0x2e24)],this['_meshInfo'][_0x581dab]['shadows'][_0x347cff*(0x1*-0x16e5+0x21d4+-0xaec)+(-0xc7e*0x1+-0x1*-0xeff+0x9*-0x47)])),_0x3a7a4f['next']();_0x3a7a4f['end'](),this['_meshInfo'][_0x581dab]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x581dab]['positions']),this['_meshInfo'][_0x581dab]['meshInstan'+'ce']['_aabbVer']=-(-0x2*-0xe53+-0xa3*-0x5+0x15*-0x184);}this['_aabbDirty']=!(-0x1*-0x2159+0x16aa+-0x3803);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1e7e75){this['font']!==_0x1e7e75['resource']&&(this['font']=_0x1e7e75['resource']);}['_onFontCha'+'nge'](_0x2205d8,_0x10aaf8,_0x434114,_0x541051){if(_0x10aaf8==='data'){this['_font']['data']=_0x434114;const _0x5155b1=this['_font']['data']['info']['maps']['length'];for(let _0x262085=-0x2e3*0x5+-0x201b+0x4a*0xa1;_0x262085<_0x5155b1;_0x262085++){if(!this['_meshInfo'][_0x262085])continue;const _0x9e30a=this['_meshInfo'][_0x262085]['meshInstan'+'ce'];_0x9e30a&&(_0x9e30a['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x9e30a['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x9e30a['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x262085]['width']));}}}['_onFontRem'+'ove'](_0x365845){}['_setTextur'+'eParams'](_0x52ee0d,_0x28c2e9){this['_font']&&(this['_font']['type']===Rh?(_0x52ee0d['deletePara'+'meter']('texture_em'+'issiveMap'),_0x52ee0d['deletePara'+'meter']('texture_op'+'acityMap'),_0x52ee0d['setParamet'+'er']('texture_ms'+'dfMap',_0x28c2e9)):this['_font']['type']===dR&&(_0x52ee0d['deletePara'+'meter']('texture_ms'+'dfMap'),_0x52ee0d['setParamet'+'er']('texture_em'+'issiveMap',_0x28c2e9),_0x52ee0d['setParamet'+'er']('texture_op'+'acityMap',_0x28c2e9)));}['_getPxRang'+'e'](_0x5af4b4){const _0x47d8e9=Object['keys'](this['_font']['data']['chars']);for(let _0x44cbf7=-0x62*-0xe+-0x6*-0x151+-0xd42;_0x44cbf7<_0x47d8e9['length'];_0x44cbf7++){const _0x287f3a=this['_font']['data']['chars'][_0x47d8e9[_0x44cbf7]];if(_0x287f3a['range'])return(_0x287f3a['scale']||0x946*-0x4+-0xf*0x3a+0x287f)*_0x287f3a['range'];}return 0xb0b*-0x1+-0x1*0x1b70+-0x1*-0x267d;}['_getUv'](_0x1b5755){const _0x21e837=this['_font']['data'];if(!_0x21e837['chars'][_0x1b5755])return _0x21e837['chars']['\x20']?this['_getUv']('\x20'):[0x3*0x753+-0x1fe7+-0x4f7*-0x2,-0x454*0x1+0x1153+-0x455*0x3,-0x2027+0xd*-0x1f7+0x39b2,0x86d+0x4*-0x393+0x5df];const _0x329c41=_0x21e837['chars'][_0x1b5755]['map'],_0x5b613d=_0x21e837['info']['maps'][_0x329c41]['width'],_0x4c483d=_0x21e837['info']['maps'][_0x329c41]['height'],_0x5b6dd4=_0x21e837['chars'][_0x1b5755]['x'],_0x524d7e=_0x21e837['chars'][_0x1b5755]['y'],_0x316946=_0x5b6dd4,_0x5f5bc7=_0x524d7e,_0x50a4e6=_0x5b6dd4+_0x21e837['chars'][_0x1b5755]['width'],_0x2c85aa=_0x524d7e-_0x21e837['chars'][_0x1b5755]['height'],_0x259318=0x28d+-0x2*0x128d+0x228e-_0x21e837['chars'][_0x1b5755]['height']/_0x4c483d;return[_0x316946/_0x5b613d,_0x259318-_0x5f5bc7/_0x4c483d,_0x50a4e6/_0x5b613d,_0x259318-_0x2c85aa/_0x4c483d];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0xd2+-0x1459+-0x152b*-0x1),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x235+0x2c8*0xa+0xccd*-0x2),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x53d610){if(this['_model']){const _0x1bc790=this['_model']['meshInstan'+'ces'];for(let _0x5b8978=-0x13*0x2b+0x2*0x9d0+-0x106f*0x1;_0x5b8978<_0x1bc790['length'];_0x5b8978++)_0x1bc790[_0x5b8978]['stencilFro'+'nt']=_0x53d610,_0x1bc790[_0x5b8978]['stencilBac'+'k']=_0x53d610;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x55f906){const _0x21d93b={};_0x55f906===void(-0x24e7+0x2*-0x11f3+0x48cd)&&(_0x55f906=this['_symbols']['length']);for(let _0x30da41=-0x209e+-0x2313+0x43b1,_0x264607=_0x55f906;_0x30da41<_0x264607;_0x30da41++){const _0x7be2e1=this['_symbols'][_0x30da41];let _0x516671=this['_font']['data']['chars'][_0x7be2e1];_0x516671||(_0x516671=this['_font']['data']['chars']['\x20'],_0x516671||(_0x516671=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1892+0x22a*0x12+0x7*-0x20e]]));const _0x1e61f3=_0x516671['map'];_0x21d93b[_0x1e61f3]?_0x21d93b[_0x1e61f3]++:_0x21d93b[_0x1e61f3]=0x1cbe+0x191f+0x4*-0xd77;}return _0x21d93b;}['_updateRen'+'derRange'](){const _0x326c52=this['_rangeStar'+'t']===-0xd7*0xf+-0x14a0+0x2139?-0x1f9c+0x1*-0x62f+-0x183*-0x19:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x24062f=this['_rangeEnd']===-0x1371+-0x6*0x3b5+0x29af*0x1?0x674+-0xe1e+0x7aa:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x5d324e=0x53+0x2cd*-0x4+0xae1,_0x123123=this['_meshInfo']['length'];_0x5d324e<_0x123123;_0x5d324e++){const _0x592898=_0x326c52[_0x5d324e]||0xb*0x1ee+0x7*0x7d+0x9*-0x2bd,_0x6dda51=_0x24062f[_0x5d324e]||-0x2*-0x1bd+-0x2*-0xa30+-0x17da,_0x109861=this['_meshInfo'][_0x5d324e]['meshInstan'+'ce'];if(_0x109861){const _0x4dae2b=_0x109861['mesh'];_0x4dae2b&&(_0x4dae2b['primitive'][-0x2ca+0x151*-0x7+0xc01*0x1]['base']=_0x592898*(0x1d5c*0x1+0x11f*-0x1+-0x1c3a)*(-0x1a8f+-0x466+0x1ef7),_0x4dae2b['primitive'][0x1*0x20d7+0x2132+-0x4209]['count']=(_0x6dda51-_0x592898)*(-0x1e3a*0x1+0x4b*0x2f+0x3e*0x44)*(-0x727*0x1+-0x41b*0x4+-0x1795*-0x1));}}}set['text'](_0x2a3f25){this['_i18nKey']=null;const _0x430aa5=_0x2a3f25!=null&&_0x2a3f25['toString']()||'';this['_setText'](_0x430aa5);}get['text'](){return this['_text'];}set['key'](_0x536eed){const _0x5df760=_0x536eed!==null?_0x536eed['toString']():null;this['_i18nKey']!==_0x5df760&&(this['_i18nKey']=_0x5df760,_0x5df760?(this['_fontAsset']['disableLoc'+'alization']=!(0x1*-0x1ebd+-0xd*0x133+-0x2e55*-0x1),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x6dc+-0x428+0xad*-0x4));}get['key'](){return this['_i18nKey'];}set['color'](_0x38e753){const _0x52fac8=_0x38e753['r'],_0x73a7c3=_0x38e753['g'],_0x4a4f9c=_0x38e753['b'];if(this['_color']===_0x38e753&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x52fac8&&this['_color']['g']===_0x73a7c3&&this['_color']['b']===_0x4a4f9c)&&(this['_color']['r']=_0x52fac8,this['_color']['g']=_0x73a7c3,this['_color']['b']=_0x4a4f9c,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x18d4*-0x1+0x1148+0x78c]=We['r'],this['_colorUnif'+'orm'][0x436+0x3*0x3a1+-0xa1*0x18]=We['g'],this['_colorUnif'+'orm'][0xbae+-0x1339+0x78d]=We['b'];for(let _0x5e11b0=0x757*-0x2+0x49*0x1f+0x5d7,_0x4e43c7=this['_model']['meshInstan'+'ces']['length'];_0x5e11b0<_0x4e43c7;_0x5e11b0++)this['_model']['meshInstan'+'ces'][_0x5e11b0]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x9278d6){if(this['_color']['a']!==_0x9278d6&&(this['_color']['a']=_0x9278d6,this['_model'])){for(let _0x1709ca=0x1bac+0x20cf+-0x3c7b,_0x1d49a7=this['_model']['meshInstan'+'ces']['length'];_0x1709ca<_0x1d49a7;_0x1709ca++)this['_model']['meshInstan'+'ces'][_0x1709ca]['setParamet'+'er']('material_o'+'pacity',_0x9278d6);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x9278d6);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x311d37){const _0x44fc7c=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x311d37,this['_scaledLin'+'eHeight']=_0x311d37,_0x44fc7c!==_0x311d37&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x33b13a){const _0x1ec2bc=this['_wrapLines'];this['_wrapLines']=_0x33b13a,_0x1ec2bc!==_0x33b13a&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0xb47757){const _0x52a752=this['_spacing'];this['_spacing']=_0xb47757,_0x52a752!==_0xb47757&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x8bfb02){const _0x577967=this['_fontSize'];this['_fontSize']=_0x8bfb02,this['_originalF'+'ontSize']=_0x8bfb02,_0x577967!==_0x8bfb02&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x54153f){this['_fontAsset']['defaultAss'+'et']=_0x54153f;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x21114c){let _0x441787;if(this['_font']&&(_0x441787=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x21114c,this['_fontMinY']=-0x1408+-0x205f+0x1*0x3467,this['_fontMaxY']=-0x2051+0x1844+0xe5*0x9,!_0x21114c)return;const _0x1734e5=this['_font']['data'];for(const _0x4911e3 in _0x1734e5['chars']){const _0x1c8f00=_0x1734e5['chars'][_0x4911e3];_0x1c8f00['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x1c8f00['bounds'][0x304+-0x277*0x1+-0x8c]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x1c8f00['bounds'][-0x1*-0x270e+0x15ce+0x3cd9*-0x1]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x21114c['type']!==_0x441787){const _0x203dda=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x203dda);}for(let _0x14aeb5=-0xec8+0xa39+-0x1*-0x48f,_0xb66810=this['_font']['textures']['length'];_0x14aeb5<_0xb66810;_0x14aeb5++)if(!this['_meshInfo'][_0x14aeb5])this['_meshInfo'][_0x14aeb5]=new vR();else{const _0x382c07=this['_meshInfo'][_0x14aeb5]['meshInstan'+'ce'];_0x382c07&&(_0x382c07['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x382c07['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x382c07['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x14aeb5]['width']),this['_setTextur'+'eParams'](_0x382c07,this['_font']['textures'][_0x14aeb5]));}let _0x1d5b2b=!(-0x2*-0xf8b+-0x1*0x467+-0xd57*0x2);for(let _0x35ed48=this['_font']['textures']['length'];_0x35ed48<this['_meshInfo']['length'];_0x35ed48++)this['_meshInfo'][_0x35ed48]['meshInstan'+'ce']&&(_0x1d5b2b||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x1d5b2b=!(-0xb40*-0x1+0x101b+-0x1b5b)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x35ed48]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0xe32524){_0xe32524 instanceof J?this['_alignment']['set'](_0xe32524['x'],_0xe32524['y']):this['_alignment']['set'](_0xe32524[-0x1007+0x1786+0x65*-0x13],_0xe32524[0x10*0x1a3+-0x226d+0x1*0x83e]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0xdeb951){const _0x30181b=this['_autoWidth'];if(this['_autoWidth']=_0xdeb951,_0xdeb951&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x2*-0xb77+0x17f7+0x35*-0x5+0.0001&&(this['_element']['width']=this['width']),_0x30181b!==_0xdeb951){const _0x480a32=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x480a32!==this['_fontSize']&&(this['_fontSize']=_0x480a32,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x5b602f){const _0x2e2e36=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x5b602f,_0x5b602f&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x15bd*-0x1+-0x1fe0+0xa23+0.0001&&(this['_element']['height']=this['height']),_0x2e2e36!==_0x5b602f){const _0x12b162=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x12b162!==this['_fontSize']&&(this['_fontSize']=_0x12b162,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x2c7462){this['_rtlReorde'+'r']!==_0x2c7462&&(this['_rtlReorde'+'r']=_0x2c7462,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x26f186){this['_unicodeCo'+'nverter']!==_0x26f186&&(this['_unicodeCo'+'nverter']=_0x26f186,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x5ac8fa=!(0x20cd+-0x2512+0x446);for(let _0x383a0e=-0x1581+-0x6ba+0x63*0x49;_0x383a0e<this['_meshInfo']['length'];_0x383a0e++)this['_meshInfo'][_0x383a0e]['meshInstan'+'ce']&&(_0x5ac8fa?this['_aabb']['add'](this['_meshInfo'][_0x383a0e]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x383a0e]['meshInstan'+'ce']['aabb']),_0x5ac8fa=!(-0x2655+-0x2346+-0x499b*-0x1)));this['_aabbDirty']=!(-0x18ca+-0x27e*0x5+-0xbb*-0x33);}return this['_aabb'];}set['outlineCol'+'or'](_0xe300cd){const _0x45350f=_0xe300cd instanceof ie?_0xe300cd['r']:_0xe300cd[0x53f+0x16c3+-0x1c02],_0xd6a089=_0xe300cd instanceof ie?_0xe300cd['g']:_0xe300cd[-0x4dc*0x3+0x1d63+-0xece],_0x4ec113=_0xe300cd instanceof ie?_0xe300cd['b']:_0xe300cd[0x9*-0x3d0+0x1081*0x1+0x11d1*0x1],_0x31aea3=_0xe300cd instanceof ie?_0xe300cd['a']:_0xe300cd[0x14db+-0x2261+0xd89];if(this['_outlineCo'+'lor']===_0xe300cd&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x45350f&&this['_outlineCo'+'lor']['g']===_0xd6a089&&this['_outlineCo'+'lor']['b']===_0x4ec113&&this['_outlineCo'+'lor']['a']===_0x31aea3)&&(this['_outlineCo'+'lor']['r']=_0x45350f,this['_outlineCo'+'lor']['g']=_0xd6a089,this['_outlineCo'+'lor']['b']=_0x4ec113,this['_outlineCo'+'lor']['a']=_0x31aea3,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x86d*-0x3+0xa9e*0x3+-0x3921]=We['r'],this['_outlineCo'+'lorUniform'][0x1*0x24d+-0xa64+0x818]=We['g'],this['_outlineCo'+'lorUniform'][-0x1*-0x1cb2+-0x1*0x1449+-0x9*0xef]=We['b'],this['_outlineCo'+'lorUniform'][0x3*0xa25+0x245a+-0x42c6]=We['a'];for(let _0x3b7157=0x2*-0x5b9+-0x1232+0x2*0xed2,_0x1187db=this['_model']['meshInstan'+'ces']['length'];_0x3b7157<_0x1187db;_0x3b7157++)this['_model']['meshInstan'+'ces'][_0x3b7157]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x20fc37){const _0x34dd8f=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x20fc37,_0x34dd8f!==_0x20fc37&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x377908=0x5b*-0x65+0x63*-0x56+0x1*0x4529,_0x358acf=this['_model']['meshInstan'+'ces']['length'];_0x377908<_0x358acf;_0x377908++)this['_model']['meshInstan'+'ces'][_0x377908]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x5c1868){const _0x508798=_0x5c1868 instanceof ie?_0x5c1868['r']:_0x5c1868[0x4*-0x371+-0xca4+0x68*0x41],_0xb2b154=_0x5c1868 instanceof ie?_0x5c1868['g']:_0x5c1868[0x862+-0x10bd+0x85c],_0x54a5e7=_0x5c1868 instanceof ie?_0x5c1868['b']:_0x5c1868[-0x222c+0x1a3*0x1+0x208b],_0x5ba57c=_0x5c1868 instanceof ie?_0x5c1868['a']:_0x5c1868[-0x23af+-0x23c6*0x1+0x4778];if(this['_shadowCol'+'or']===_0x5c1868&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x508798&&this['_shadowCol'+'or']['g']===_0xb2b154&&this['_shadowCol'+'or']['b']===_0x54a5e7&&this['_shadowCol'+'or']['a']===_0x5ba57c)&&(this['_shadowCol'+'or']['r']=_0x508798,this['_shadowCol'+'or']['g']=_0xb2b154,this['_shadowCol'+'or']['b']=_0x54a5e7,this['_shadowCol'+'or']['a']=_0x5ba57c,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x2172+-0x156f+-0xc03]=We['r'],this['_shadowCol'+'orUniform'][-0xce1+-0x1cb5+-0x75*-0x5b]=We['g'],this['_shadowCol'+'orUniform'][0x787*0x1+-0xe36+0x3*0x23b]=We['b'],this['_shadowCol'+'orUniform'][-0xaf7+-0x277*-0xb+-0x1023]=We['a'];for(let _0x4aa977=0x2369+-0x199a+-0x9cf,_0x4fe605=this['_model']['meshInstan'+'ces']['length'];_0x4aa977<_0x4fe605;_0x4aa977++)this['_model']['meshInstan'+'ces'][_0x4aa977]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x45e2cc){const _0x166f39=_0x45e2cc instanceof J?_0x45e2cc['x']:_0x45e2cc[-0x2*-0x1058+-0x2cc+-0x1de4],_0xf5fc5b=_0x45e2cc instanceof J?_0x45e2cc['y']:_0x45e2cc[0x1abc+-0xd*0xcd+-0x1052];if(!(this['_shadowOff'+'set']['x']===_0x166f39&&this['_shadowOff'+'set']['y']===_0xf5fc5b)&&(this['_shadowOff'+'set']['set'](_0x166f39,_0xf5fc5b),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x4d74be=-0x9e1+0xae6+-0x105*0x1,_0x5abac9=this['_model']['meshInstan'+'ces']['length'];_0x4d74be<_0x5abac9;_0x4d74be++){const _0x219500=-this['_font']['data']['info']['maps'][_0x4d74be]['width']/this['_font']['data']['info']['maps'][_0x4d74be]['height'];this['_shadowOff'+'setUniform'][-0xa42+-0x151e+0xfb0*0x2]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0xe2c+-0x994*0x3+0xe91]=_0x219500*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x4d74be]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x1fc64a){this['_minFontSi'+'ze']!==_0x1fc64a&&(this['_minFontSi'+'ze']=_0x1fc64a,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x38dab4){this['_maxFontSi'+'ze']!==_0x38dab4&&(this['_maxFontSi'+'ze']=_0x38dab4,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x6da44b){this['_autoFitWi'+'dth']!==_0x6da44b&&(this['_autoFitWi'+'dth']=_0x6da44b,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x34eae2){this['_autoFitHe'+'ight']!==_0x34eae2&&(this['_autoFitHe'+'ight']=_0x34eae2,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x127516){this['_maxLines']!==_0x127516&&(_0x127516===null&&this['_maxLines']===-(0x39*0x39+0x256e+0xa*-0x503)||(this['_maxLines']=_0x127516===null?-(-0x396*0x3+-0x47*-0xb+0x7b6):_0x127516,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x2680d0){if(_0x2680d0=!!_0x2680d0,this['_enableMar'+'kup']===_0x2680d0)return;this['_enableMar'+'kup']=_0x2680d0,this['font']&&this['_updateTex'+'t']();const _0x22aecb=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x22aecb);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x19218d){return this['_colorPale'+'tte']['slice'](_0x19218d*(0x3dd*-0x5+0x1*0xac1+-0x5*-0x1b7),_0x19218d*(-0x1f4a+0x2*0x425+-0x89*-0x2b)+(0x2434+-0x9b*-0xe+-0x2cab));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x3d7429){return this['_outlinePa'+'lette']['slice'](_0x3d7429*(-0x79e+-0x1*-0x3ec+0x13d*0x3),_0x3d7429*(-0x59*-0x50+-0x223*0x5+0x2da*-0x6)+(0x13f0+0x1fb2+-0x339d));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x2735a4){return this['_shadowPal'+'ette']['slice'](_0x2735a4*(0xcc7*0x1+-0x12db+-0xb*-0x8e),_0x2735a4*(0x92c*-0x2+0xbaf+0x6af)+(0x1ce5*-0x1+0xf8b*-0x1+0x3*0xed2));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x44ace3){_0x44ace3=Math['max'](0x2*0xe36+0x1681*0x1+-0x1*0x32ed,Math['min'](_0x44ace3,this['_symbols']['length'])),_0x44ace3!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x44ace3,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x32f1fb){_0x32f1fb=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x32f1fb,this['_symbols']['length'])),_0x32f1fb!==this['_rangeEnd']&&(this['_rangeEnd']=_0x32f1fb,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x5ce544,_0x314e78){super(_0x5ce544,_0x314e78),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x144d+-0x691+-0x1adf*-0x1),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x6*-0x1e+-0x15c2+0x152e,this['_height']=this['_calculate'+'dHeight']=-0x216*-0x2+-0x1920+0x1514,this['_margin']=new re(0x1*-0xf0f+-0x1efb+-0x2*-0x1705,-0x16*0x183+0x1*-0x20f1+0x4233,-(0x3*0x3e5+-0x1de5+0x1256),-(-0x1951*0x1+-0x204d+0x30a*0x13)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0xe3b*0x2+0x1*0x20db+-0xf*0x4b),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x54b+0x1*-0x4c7+0xa12),this['_canvasCor'+'nersDirty']=!(-0x43*-0x51+0x1696+0x1*-0x2bc9),this['_worldCorn'+'ersDirty']=!(-0x135d+-0xcb+0x1428),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x1*0x248e+0x214*-0x6+-0x1816,this['_fitMode']=th,this['_useInput']=!(0x43*-0x49+-0x900+0x1c1c),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1*0x1738+0x328*-0x3+0x20b1),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x2*0x9c9+-0x55d*0x2+0x1e4c,this['_maskOffse'+'t']=-0xae9*-0x1+0x47*0x31+-0x1c*0xe0+0.5,this['_maskedBy']=null);}get['data'](){const _0x11a0d8=this['system']['store'][this['entity']['getGuid']()];return _0x11a0d8?_0x11a0d8['data']:null;}set['enabled'](_0x567b86){const _0x76770e=this['data'],_0x429a9d=_0x76770e['enabled'];_0x76770e['enabled']=_0x567b86,this['fire']('set','enabled',_0x429a9d,_0x567b86);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x436*-0x7+0x4d*-0x16+-0x26*0x9a+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x5*-0x649+0x42e+-0x239b*0x1+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0xda4e58){_0xda4e58 instanceof re?this['_anchor']['copy'](_0xda4e58):this['_anchor']['set'](..._0xda4e58),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x19d2+0x1330+0x11b*0x6),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x164d56){var _0x1afa9a,_0x124296;this['_batchGrou'+'pId']!==_0x164d56&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1486+0x2417+-0x1*0x389d&&((_0x1afa9a=this['system']['app']['batcher'])==null||_0x1afa9a['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x164d56>=0x8d6*-0x1+-0x1*-0x77b+-0x15b*-0x1&&((_0x124296=this['system']['app']['batcher'])==null||_0x124296['insert'](St['ELEMENT'],_0x164d56,this['entity'])),_0x164d56<-0x171e+-0xb8e+0x2*0x1156&&this['_batchGrou'+'pId']>=0x1045+-0x144e+0x409&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x164d56);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x49afa1){this['_margin']['y']=_0x49afa1;const _0x617e35=this['entity']['getLocalPo'+'sition'](),_0x3bb33e=this['_absTop'],_0x338304=this['_localAnch'+'or']['y']+_0x49afa1;this['_setHeight'](_0x3bb33e-_0x338304),_0x617e35['y']=_0x49afa1+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x617e35);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x2bf261){this['_setCalcul'+'atedWidth'](_0x2bf261,!(0x88+0xe*0x85+0x4a*-0x1b));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x140a10){this['_setCalcul'+'atedHeight'](_0x140a10,!(-0x5*0x683+-0x153b+0x132*0x2d));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x5ce6f6=this['system']['app']['graphicsDe'+'vice'],_0xd558f6=this['screenCorn'+'ers'],_0x4a51f6=_0x5ce6f6['canvas']['clientWidt'+'h']/_0x5ce6f6['width'],_0x1ba954=_0x5ce6f6['canvas']['clientHeig'+'ht']/_0x5ce6f6['height'];for(let _0x42ea30=-0x6a6+-0x12a0+0x1946*0x1;_0x42ea30<-0x2478+0x20f*0xc+-0x2f2*-0x4;_0x42ea30++)this['_canvasCor'+'ners'][_0x42ea30]['set'](_0xd558f6[_0x42ea30]['x']*_0x4a51f6,(_0x5ce6f6['height']-_0xd558f6[_0x42ea30]['y'])*_0x1ba954);return this['_canvasCor'+'nersDirty']=!(0x89*-0x17+-0xe74+0x1ac4),this['_canvasCor'+'ners'];}set['drawOrder'](_0x2e1706){let _0x4123f2=0x22a9+0x2*0x3ee+-0x2a85;this['screen']&&(_0x4123f2=this['screen']['screen']['priority']),_0x2e1706>-0x2c*-0x34d2+-0x5d6d*-0x398+-0x58d3d1&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x2e1706=-0x2becb*-0x28+-0x9f6d6+0x9c271d),this['_drawOrder']=(_0x4123f2<<0x1*-0xc51+-0xb70+0xb9*0x21)+_0x2e1706,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x47a5de){this['_height']=_0x47a5de,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x47a5de,!(0x2055+0x9f*0x25+-0x3750)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x5405e8){if(this['_addedMode'+'ls']['length'])for(let _0x46549e=0x1d23+0xb33+0x6b9*-0x6;_0x46549e<this['_layers']['length'];_0x46549e++){const _0x476081=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x46549e]);if(_0x476081){for(let _0x19b3e8=0x1a96+0x20eb*0x1+-0x1*0x3b81;_0x19b3e8<this['_addedMode'+'ls']['length'];_0x19b3e8++)_0x476081['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x19b3e8]['meshInstan'+'ces']);}}if(this['_layers']=_0x5405e8,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x11f8a6=-0x91*0x19+-0x19f6+0x1*0x281f;_0x11f8a6<this['_layers']['length'];_0x11f8a6++){const _0x422aea=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x11f8a6]);if(_0x422aea){for(let _0x22dcec=-0x1f41+-0x1c79*0x1+0x5f9*0xa;_0x22dcec<this['_addedMode'+'ls']['length'];_0x22dcec++)_0x422aea['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x22dcec]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x3e23a1){this['_margin']['x']=_0x3e23a1;const _0x409dad=this['entity']['getLocalPo'+'sition'](),_0x33c875=this['_absRight'],_0x163a4c=this['_localAnch'+'or']['x']+_0x3e23a1;this['_setWidth'](_0x33c875-_0x163a4c),_0x409dad['x']=_0x3e23a1+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x409dad);}get['left'](){return this['_margin']['x'];}set['margin'](_0x518c2d){this['_margin']['copy'](_0x518c2d),this['_calculate'+'Size'](!(0x1627+0x1*0x1816+-0x2e3d),!(-0x123*0x1d+0x1*0x25b6+0xf*-0x51)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x3db551){const {pivot:_0x3191eb,margin:_0x5bf51b}=this,_0x5012e9=_0x3191eb['x'],_0x11ba14=_0x3191eb['y'];_0x3db551 instanceof J?_0x3191eb['copy'](_0x3db551):_0x3191eb['set'](..._0x3db551);const _0x4e7c0f=_0x5bf51b['x']+_0x5bf51b['z'],_0x3851b=_0x3191eb['x']-_0x5012e9;_0x5bf51b['x']+=_0x4e7c0f*_0x3851b,_0x5bf51b['z']-=_0x4e7c0f*_0x3851b;const _0x3e7a98=_0x5bf51b['y']+_0x5bf51b['w'],_0x1cf98b=_0x3191eb['y']-_0x11ba14;_0x5bf51b['y']+=_0x3e7a98*_0x1cf98b,_0x5bf51b['w']-=_0x3e7a98*_0x1cf98b,this['_anchorDir'+'ty']=!(-0x206b+0x1*0x19a6+0x6c5),this['_cornersDi'+'rty']=!(0xbfb*0x3+0x1*-0x1377+-0x107a),this['_worldCorn'+'ersDirty']=!(0x7c8*0x1+0x10*-0x1b4+0x1378),this['_calculate'+'Size'](!(-0x807+-0xa*-0x31a+-0x16fc),!(0x41a+-0x2f1+-0x128)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x3191eb);}get['pivot'](){return this['_pivot'];}set['right'](_0x13a5a6){this['_margin']['z']=_0x13a5a6;const _0x268a4b=this['entity']['getLocalPo'+'sition'](),_0x456186=this['_absLeft'],_0x3f8a98=this['_localAnch'+'or']['z']-_0x13a5a6;this['_setWidth'](_0x3f8a98-_0x456186),_0x268a4b['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x13a5a6-this['_calculate'+'dWidth']*(0x1938+0x13c*0x17+0x359b*-0x1-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x268a4b);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x413125=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0xd8a+0x5*-0x3e5+-0x7*-0xd9];this['_screenCor'+'ners'][0x85d*0x4+-0x44f*-0x9+0x691*-0xb]['set'](this['_absLeft'],this['_absBottom'],-0x1*0x1733+-0x60e+-0x1*-0x1d41),this['_screenCor'+'ners'][-0x1c89+0x3f1*0x2+0x2*0xa54]['set'](this['_absRight'],this['_absBottom'],0x233*-0x3+-0x6*-0x3a+-0x1*-0x53d),this['_screenCor'+'ners'][-0x1368+0x2084+-0xd1a]['set'](this['_absRight'],this['_absTop'],-0xf0a+0x35*-0x5e+0x2280),this['_screenCor'+'ners'][-0x891+0x3a*-0x93+0x29e2]['set'](this['_absLeft'],this['_absTop'],0x1*0x146e+-0x333*0x5+-0x46f*0x1);const _0x1bed86=this['screen']['screen']['screenSpac'+'e'];for(let _0x320690=-0x1c01+0x269*-0x1+0x11*0x1ca;_0x320690<0x569*-0x4+-0x1b62+0x310a;_0x320690++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x320690],this['_screenCor'+'ners'][_0x320690]),_0x1bed86&&this['_screenCor'+'ners'][_0x320690]['mulScalar'](this['screen']['screen']['scale']),_0x413125&&this['_screenCor'+'ners'][_0x320690]['add'](_0x413125);return this['_cornersDi'+'rty']=!(0x35*-0xb6+0x2ad+-0x1*-0x2302),this['_canvasCor'+'nersDirty']=!(-0x24ab+-0xbd6+0x3*0x102b),this['_worldCorn'+'ersDirty']=!(-0x16e1+0x8*0x2f1+-0xa7),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x2*-0xc82+0x2507+-0x3e0b*0x1;}get['textHeight'](){return this['_text']?this['_text']['height']:0x66c*0x1+-0xbf4+0x588;}set['top'](_0x20aa2f){this['_margin']['w']=_0x20aa2f;const _0x54f2d9=this['entity']['getLocalPo'+'sition'](),_0x29a2ef=this['_absBottom'],_0x178e8a=this['_localAnch'+'or']['w']-_0x20aa2f;this['_setHeight'](_0x178e8a-_0x29a2ef),_0x54f2d9['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x20aa2f-this['_calculate'+'dHeight']*(-0x1734+-0x787*-0x1+0xfae-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x54f2d9);}get['top'](){return this['_margin']['w'];}set['type'](_0x45e79d){_0x45e79d!==this['_type']&&(this['_type']=_0x45e79d,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x45e79d===Cu?this['_image']=new cR(this):_0x45e79d===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x300cd8){this['_useInput']!==_0x300cd8&&(this['_useInput']=_0x300cd8,this['system']['app']['elementInp'+'ut']?_0x300cd8?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x8cb+-0x3e5*-0x7+-0x240e)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x300cd8));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x438c02){this['_fitMode']=_0x438c02,this['_calculate'+'Size'](!(0x1abe+0x821*0x3+-0x3321),!(0x126c+0xd*-0x215+-0x8a5*-0x1)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x14045a){this['_width']=_0x14045a,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x14045a,!(0xcf*-0x25+-0x7*-0x1f9+0x101c)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x3f995f=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x216d+-0x582+-0x57*0x52]=-ws['data'][0xe67*-0x2+-0x2354+0x402f],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x564628=0x2*-0x11af+-0x649+-0x29a7*-0x1;_0x564628<-0x1a5*0x17+-0x14b2+-0x9*-0x681;_0x564628++)ws['transformP'+'oint'](_0x3f995f[_0x564628],this['_worldCorn'+'ers'][_0x564628]);}}else{const _0x6f132b=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x6f132b['x'],-_0x6f132b['y'],-_0x6f132b['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x6f132b['x'],_0x6f132b['y'],_0x6f132b['z']);const _0x193d7e=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x193d7e['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x6f132b['x']-this['pivot']['x']*this['calculated'+'Width'],_0x6f132b['y']-this['pivot']['y']*this['calculated'+'Height'],_0x6f132b['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x40b+0x240b+-0x2dd*0xe]),Pi['set'](_0x6f132b['x']+(-0x1704*-0x1+-0x4*0x29+-0x165f-this['pivot']['x'])*this['calculated'+'Width'],_0x6f132b['y']-this['pivot']['y']*this['calculated'+'Height'],_0x6f132b['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x4c*0x3d+0x329+-0x1544]),Pi['set'](_0x6f132b['x']+(-0x4f*0x57+-0xfa1+0x2a7b-this['pivot']['x'])*this['calculated'+'Width'],_0x6f132b['y']+(-0x1f0f*-0x1+-0x354+0xddd*-0x2-this['pivot']['y'])*this['calculated'+'Height'],_0x6f132b['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1a7b+-0x1f26+0x1*0x4ad]),Pi['set'](_0x6f132b['x']-this['pivot']['x']*this['calculated'+'Width'],_0x6f132b['y']+(-0x73+-0xb38*-0x3+-0x2134-this['pivot']['y'])*this['calculated'+'Height'],_0x6f132b['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x35*0x89+0x1188+-0x2de2]);}return this['_worldCorn'+'ersDirty']=!(-0x1*0x23b7+-0xdb4*-0x2+-0x13*-0x70),this['_worldCorn'+'ers'];}set['fontSize'](_0x53d870){this['_setValue']('fontSize',_0x53d870);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x291d75){this['_setValue']('minFontSiz'+'e',_0x291d75);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x4447a8){this['_setValue']('maxFontSiz'+'e',_0x4447a8);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x26f364){this['_setValue']('maxLines',_0x26f364);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x3c6d97){this['_setValue']('autoFitWid'+'th',_0x3c6d97);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x457bda){this['_setValue']('autoFitHei'+'ght',_0x457bda);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x1a119d){this['_setValue']('color',_0x1a119d);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x3e1118){this['_setValue']('font',_0x3e1118);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x597070){this['_setValue']('fontAsset',_0x597070);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x204938){this['_setValue']('spacing',_0x204938);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0xeecdb8){this['_setValue']('lineHeight',_0xeecdb8);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x416919){this['_setValue']('wrapLines',_0x416919);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x3d0ae8){this['_setValue']('lines',_0x3d0ae8);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x1170be){this['_setValue']('alignment',_0x1170be);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x155861){this['_setValue']('autoWidth',_0x155861);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x5f5d25){this['_setValue']('autoHeight',_0x5f5d25);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x3774f4){this['_setValue']('rtlReorder',_0x3774f4);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x18fa55){this['_setValue']('unicodeCon'+'verter',_0x18fa55);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x51f379){this['_setValue']('text',_0x51f379);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3497af){this['_setValue']('key',_0x3497af);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x4fce78){this['_setValue']('texture',_0x4fce78);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x3cada8){this['_setValue']('textureAss'+'et',_0x3cada8);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x21fa83){this['_setValue']('material',_0x21fa83);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x525f15){this['_setValue']('materialAs'+'set',_0x525f15);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x32fb56){this['_setValue']('sprite',_0x32fb56);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x3842ad){this['_setValue']('spriteAsse'+'t',_0x3842ad);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x5b9db5){this['_setValue']('spriteFram'+'e',_0x5b9db5);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x5694aa){this['_setValue']('pixelsPerU'+'nit',_0x5694aa);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x155bbc){this['_setValue']('opacity',_0x155bbc);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x530235){this['_setValue']('rect',_0x530235);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x587097){this['_setValue']('mask',_0x587097);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x2325ac){this['_setValue']('outlineCol'+'or',_0x2325ac);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x18fb32){this['_setValue']('outlineThi'+'ckness',_0x18fb32);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0xb885ed){this['_setValue']('shadowColo'+'r',_0xb885ed);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x5f1f57){this['_setValue']('shadowOffs'+'et',_0x5f1f57);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x45f4cb){this['_setValue']('enableMark'+'up',_0x45f4cb);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x40efcf){this['_setValue']('rangeStart',_0x40efcf);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x553adf){this['_setValue']('rangeEnd',_0x553adf);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0xcd0ea2,_0x55dc68){this['_text']?(this['_text'][_0xcd0ea2]!==_0x55dc68&&this['_dirtyBatc'+'h'](),this['_text'][_0xcd0ea2]=_0x55dc68):this['_image']&&(this['_image'][_0xcd0ea2]!==_0x55dc68&&this['_dirtyBatc'+'h'](),this['_image'][_0xcd0ea2]=_0x55dc68);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x32de47,_0x48badb,_0x1927a7){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x32de47,_0x48badb,_0x1927a7);return;}_0x32de47 instanceof D?Ef['copy'](_0x32de47):Ef['set'](_0x32de47,_0x48badb,_0x1927a7),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x47a4ca,_0x1507de,_0x3c631f){_0x47a4ca instanceof D?this['localPosit'+'ion']['copy'](_0x47a4ca):this['localPosit'+'ion']['set'](_0x47a4ca,_0x1507de,_0x3c631f);const _0x5139af=this['element'],_0xf60e1e=this['localPosit'+'ion'],_0x2c20cd=_0x5139af['_pivot'];_0x5139af['_margin']['x']=_0xf60e1e['x']-_0x5139af['_calculate'+'dWidth']*_0x2c20cd['x'],_0x5139af['_margin']['z']=_0x5139af['_localAnch'+'or']['z']-_0x5139af['_localAnch'+'or']['x']-_0x5139af['_calculate'+'dWidth']-_0x5139af['_margin']['x'],_0x5139af['_margin']['y']=_0xf60e1e['y']-_0x5139af['_calculate'+'dHeight']*_0x2c20cd['y'],_0x5139af['_margin']['w']=_0x5139af['_localAnch'+'or']['w']-_0x5139af['_localAnch'+'or']['y']-_0x5139af['_calculate'+'dHeight']-_0x5139af['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x410a37=this['element'],_0x27f025=_0x410a37['screen'];if(_0x27f025){if(_0x410a37['_anchorDir'+'ty']){let _0x221325=-0xd3f+-0xd28*0x1+0x1a67,_0x413b0c=-0x8*0x3a3+0x1a82+0x296,_0x42ff77=-0x1993*0x1+0xfe*-0x1c+0x1d7*0x1d,_0x2d2c5c=0x1*0x5d+0x10*-0x1d0+0xd*0x234;if(this['_parent']&&this['_parent']['element'])_0x221325=this['_parent']['element']['calculated'+'Width'],_0x413b0c=this['_parent']['element']['calculated'+'Height'],_0x42ff77=this['_parent']['element']['pivot']['x'],_0x2d2c5c=this['_parent']['element']['pivot']['y'];else{const _0x3e4ef0=_0x27f025['screen']['resolution'];_0x221325=_0x3e4ef0['x']/_0x27f025['screen']['scale'],_0x413b0c=_0x3e4ef0['y']/_0x27f025['screen']['scale'];}_0x410a37['_anchorTra'+'nsform']['setTransla'+'te'](_0x221325*(_0x410a37['anchor']['x']-_0x42ff77),-(_0x413b0c*(_0x2d2c5c-_0x410a37['anchor']['y'])),0x3dd+-0x84f+-0x1*-0x472),_0x410a37['_anchorDir'+'ty']=!(-0x1*-0x1aa4+-0x1*-0xff3+0x154b*-0x2),_0x410a37['_calculate'+'LocalAncho'+'rs']();}_0x410a37['_sizeDirty']&&_0x410a37['_calculate'+'Size'](!(0x7*0x56e+0xfa8+-0x35a9),!(0x1*0xe5c+0x797+-0x15f2));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x44b61f=this['localPosit'+'ion'],_0x12e1e7=_0x410a37['_pivot'];_0x410a37['_margin']['x']=_0x44b61f['x']-_0x410a37['_calculate'+'dWidth']*_0x12e1e7['x'],_0x410a37['_margin']['z']=_0x410a37['_localAnch'+'or']['z']-_0x410a37['_localAnch'+'or']['x']-_0x410a37['_calculate'+'dWidth']-_0x410a37['_margin']['x'],_0x410a37['_margin']['y']=_0x44b61f['y']-_0x410a37['_calculate'+'dHeight']*_0x12e1e7['y'],_0x410a37['_margin']['w']=_0x410a37['_localAnch'+'or']['w']-_0x410a37['_localAnch'+'or']['y']-_0x410a37['_calculate'+'dHeight']-_0x410a37['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x687*0x2+0x78*0xe+0x67f*0x1);}if(!_0x27f025){this['_dirtyWorl'+'d']&&(_0x410a37['_cornersDi'+'rty']=!(0x341*-0x1+0x1e87*0x1+-0x1b46),_0x410a37['_canvasCor'+'nersDirty']=!(-0x1b66+0x1*-0x187e+-0x4*-0xcf9),_0x410a37['_worldCorn'+'ersDirty']=!(0x725*-0x2+0x190d+-0xac3)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x410a37['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x410a37['_anchorTra'+'nsform']):_0x410a37['_screenToW'+'orld']['copy'](_0x410a37['_anchorTra'+'nsform']),_0x410a37['_modelTran'+'sform']['mul2'](_0x410a37['_screenToW'+'orld'],this['localTrans'+'form']),_0x27f025){_0x410a37['_screenToW'+'orld']['mul2'](_0x27f025['screen']['_screenMat'+'rix'],_0x410a37['_screenToW'+'orld']),_0x27f025['screen']['screenSpac'+'e']||_0x410a37['_screenToW'+'orld']['mul2'](_0x27f025['worldTrans'+'form'],_0x410a37['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x410a37['_screenToW'+'orld'],this['localTrans'+'form']);const _0x325416=_0x410a37['_parentWor'+'ldTransfor'+'m'];_0x325416['setIdentit'+'y']();const _0xfa9f06=this['_parent'];_0xfa9f06&&_0xfa9f06['element']&&_0xfa9f06!==_0x27f025&&(ws['setTRS'](D['ZERO'],_0xfa9f06['getLocalRo'+'tation'](),_0xfa9f06['getLocalSc'+'ale']()),_0x325416['mul2'](_0xfa9f06['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x4e7988=Pi;_0x4e7988['set'](0xd8b*-0x2+-0x105b+-0x151*-0x21,-0x11d5+0x1e69+-0xc94,this['localPosit'+'ion']['z']);const _0x10e034=MR;_0x10e034['set'](_0x410a37['_absLeft']+_0x410a37['_pivot']['x']*_0x410a37['calculated'+'Width'],_0x410a37['_absBottom']+_0x410a37['_pivot']['y']*_0x410a37['calculated'+'Height'],0x80f*-0x3+-0x2551+-0x1*-0x3d7e),ws['setTransla'+'te'](-_0x10e034['x'],-_0x10e034['y'],-_0x10e034['z']),bc['setTRS'](_0x4e7988,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x10e034['x'],_0x10e034['y'],_0x10e034['z']),_0x410a37['_screenTra'+'nsform']['mul2'](_0x410a37['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x410a37['_cornersDi'+'rty']=!(0x2*-0x87b+0x1*0x22f1+-0x11fb),_0x410a37['_canvasCor'+'nersDirty']=!(0x1*-0x1f9f+-0x8c8+0x2867),_0x410a37['_worldCorn'+'ersDirty']=!(-0xfed+-0x750+0x173d*0x1);}else this['worldTrans'+'form']['copy'](_0x410a37['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0xb6*-0x2f+0xd4*0x1+0x2097);}}['_onInsert'](_0x53604e){const _0xdb4af=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0xdb4af['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x23d7cd=this['entity'];for(;_0x23d7cd;){const _0x47b232=_0x23d7cd['parent'];if((_0x47b232===null||_0x47b232['screen'])&&_0x23d7cd['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x38072d=this['system']['_prerender']['indexOf'](this['entity']);_0x38072d>=0x18*-0x10f+0x1eaa+-0x1*0x542&&this['system']['_prerender']['splice'](_0x38072d,0x13b2+0x178*-0x6+-0xae1),this['system']['_prerender']['indexOf'](_0x23d7cd)<-0x16f+-0x24*0xe2+-0x305*-0xb&&this['system']['_prerender']['push'](_0x23d7cd),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x23d7cd['name']);}_0x23d7cd=_0x47b232;}}['_onPrerend'+'er'](){for(let _0x1b560e=-0x2449+0x4f*0x18+-0x1ce1*-0x1;_0x1b560e<this['system']['_prerender']['length'];_0x1b560e++){const _0x5607da=this['system']['_prerender'][_0x1b560e];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x5607da['name']),_0x5607da['element']&&_0x5607da['element']['syncMask'](0xf08+0x1*0x2c3+0x8e5*-0x2);}this['system']['_prerender']['length']=-0x39b+0x22e*0xc+0x17*-0xfb;}['_bindScree'+'n'](_0x519cda){_0x519cda['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x5d87fb){_0x5d87fb['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x1e9e16){this['screen']&&this['screen']!==_0x1e9e16&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x46d5cc=this['screen'];this['screen']=_0x1e9e16,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x46d5cc),this['_anchorDir'+'ty']=!(0xb04+0x2f+0x1*-0xb33);const _0x12e1da=this['entity']['children'];for(let _0x457a2f=0x8*-0x3bc+-0x7*-0x33+-0x1c7b*-0x1,_0x1d4077=_0x12e1da['length'];_0x457a2f<_0x1d4077;_0x457a2f++)_0x12e1da[_0x457a2f]['element']&&_0x12e1da[_0x457a2f]['element']['_updateScr'+'een'](_0x1e9e16);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x17eeb1){const _0x2317d4=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x2317d4['mask'],_0x17eeb1);}['_setMasked'+'By'](_0x3539f6){const _0x1c7755=this['_image']||this['_text'];if(_0x3539f6){const _0x1423cb=_0x3539f6['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x1423cb),_0x1c7755==null||_0x1c7755['_setStenci'+'l'](new pi({'ref':_0x1423cb,'func':dh})),this['_maskedBy']=_0x3539f6;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x1c7755==null||_0x1c7755['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x522191,_0x118f9d){var _0x3d8214,_0x224f79;if(_0x522191){if(this['_setMasked'+'By'](_0x522191),this['mask']){const _0x5a11c3=_0x522191['element']['_image']['_maskRef'],_0x20394e=new pi({'ref':_0x5a11c3,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x20394e),this['_image']['_maskRef']=_0x118f9d,_0x118f9d++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x20394e['ref']+(-0x1e78+-0x8c+0x3*0xa57))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x118f9d),_0x522191=this['entity'];}const _0x137aba=this['entity']['children'];for(let _0x11ccf4=-0xb*0x32b+-0x965+0x2c3e,_0x4f3fca=_0x137aba['length'];_0x11ccf4<_0x4f3fca;_0x11ccf4++)(_0x3d8214=_0x137aba[_0x11ccf4]['element'])==null||_0x3d8214['_updateMas'+'k'](_0x522191,_0x118f9d);this['mask']&&_0x118f9d--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x59e381=new pi({'ref':_0x118f9d,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x59e381),this['_image']['_maskRef']=_0x118f9d,_0x118f9d++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x59e381['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x118f9d),_0x522191=this['entity'];}const _0x1f5551=this['entity']['children'];for(let _0x490f67=-0xd*-0xe3+0x1452+0x107*-0x1f,_0x2cd04d=_0x1f5551['length'];_0x490f67<_0x2cd04d;_0x490f67++)(_0x224f79=_0x1f5551[_0x490f67]['element'])==null||_0x224f79['_updateMas'+'k'](_0x522191,_0x118f9d);this['mask']&&_0x118f9d--;}}['_parseUpTo'+'Screen'](){const _0xa81935={'screen':null,'mask':null};let _0x55b813=this['entity']['_parent'];for(;_0x55b813&&!_0x55b813['screen'];)_0x55b813['element']&&_0x55b813['element']['mask']&&(_0xa81935['mask']||(_0xa81935['mask']=_0x55b813)),_0x55b813=_0x55b813['parent'];return _0x55b813&&_0x55b813['screen']&&(_0xa81935['screen']=_0x55b813),_0xa81935;}['_onScreenR'+'esize'](_0x347679){this['_anchorDir'+'ty']=!(0x14fe+-0xd1e+-0x7e0),this['_cornersDi'+'rty']=!(-0x1a53+0x1*-0x92c+0x237f),this['_worldCorn'+'ersDirty']=!(0x403*-0x1+0x176*-0x11+-0x1*-0x1cd9),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x347679);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x4d900c=0x2*0xb66+0x1654+-0x2*0x149c,_0x135620=0x47d+-0x118b+0x1*0x10f6;const _0x3b0827=this['entity']['_parent'];if(_0x3b0827&&_0x3b0827['element'])_0x4d900c=_0x3b0827['element']['calculated'+'Width'],_0x135620=_0x3b0827['element']['calculated'+'Height'];else{if(this['screen']){const _0x33608b=this['screen']['screen']['resolution'],_0x425cd4=this['screen']['screen']['scale'];_0x4d900c=_0x33608b['x']/_0x425cd4,_0x135620=_0x33608b['y']/_0x425cd4;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x4d900c,this['_anchor']['y']*_0x135620,this['_anchor']['z']*_0x4d900c,this['_anchor']['w']*_0x135620);}['getOffsetP'+'osition'](_0x35ae0b,_0x1b2844){const _0x311f5c=this['entity']['getLocalPo'+'sition']()['clone']();return _0x311f5c['x']+=_0x35ae0b,_0x311f5c['y']+=_0x1b2844,this['_screenToW'+'orld']['transformP'+'oint'](_0x311f5c,_0x311f5c),_0x311f5c;}['onLayersCh'+'anged'](_0x40a0b2,_0x55636a){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x40a0b2['off']('add',this['onLayerAdd'+'ed'],this),_0x40a0b2['off']('remove',this['onLayerRem'+'oved'],this),_0x55636a['on']('add',this['onLayerAdd'+'ed'],this),_0x55636a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5c98f5){this['layers']['indexOf'](_0x5c98f5['id'])<0x4*-0x656+0x14f7+0x461||(this['_image']?_0x5c98f5['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5c98f5['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x201eed){this['layers']['indexOf'](_0x201eed['id'])<-0x1921+-0x1*0x49+0x196a||(this['_image']?_0x201eed['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x201eed['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x556e6f;const _0x3481d7=this['system']['app']['scene'],_0xd257e9=_0x3481d7['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x3481d7['on']('set:layers',this['onLayersCh'+'anged'],this),_0xd257e9&&(this['_evtLayerA'+'dded']=_0xd257e9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xd257e9['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0xc53*0x1+-0x49*0x3b+0x480&&((_0x556e6f=this['system']['app']['batcher'])==null||_0x556e6f['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0xf92aa8,_0x5bab7c,_0x198932,_0x248b23;const _0x94f5fd=this['system']['app']['scene']['layers'];(_0xf92aa8=this['_evtLayers'+'Changed'])==null||_0xf92aa8['off'](),this['_evtLayers'+'Changed']=null,_0x94f5fd&&((_0x5bab7c=this['_evtLayerA'+'dded'])==null||_0x5bab7c['off'](),this['_evtLayerA'+'dded']=null,(_0x198932=this['_evtLayerR'+'emoved'])==null||_0x198932['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x1f97+0x740+-0x26d7&&((_0x248b23=this['system']['app']['batcher'])==null||_0x248b23['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x4184b3,_0x436652){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x2004a7=this['_absRight']-this['_absLeft'],_0x3c6252=this['_absTop']-this['_absBottom'];_0x4184b3?this['_setWidth'](_0x2004a7):this['_setCalcul'+'atedWidth'](_0x2004a7,!(-0x1b24+0x2493+-0x96e)),_0x436652?this['_setHeight'](_0x3c6252):this['_setCalcul'+'atedHeight'](_0x3c6252,!(0x1*-0x1aab+0x2399+0x1*-0x8ed));const _0x152ded=this['entity']['getLocalPo'+'sition']();_0x152ded['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x152ded['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x152ded),this['_sizeDirty']=!(-0x2256+-0x15c9+0x3820);}['_setWidth'](_0x537ffc){this['_width']=_0x537ffc,this['_setCalcul'+'atedWidth'](_0x537ffc,!(-0x1be6+-0x9*0x3ab+0x3cea)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x51ac66){this['_height']=_0x51ac66,this['_setCalcul'+'atedHeight'](_0x51ac66,!(-0x13fe+-0x14*-0x1d3+-0x107d)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x412139,_0x51f0b4){if(!(Math['abs'](_0x412139-this['_calculate'+'dWidth'])<=-0x10a*-0x1+0x13*-0x20d+0x25ed+0.0001)){if(this['_calculate'+'dWidth']=_0x412139,this['entity']['_dirtifyLo'+'cal'](),_0x51f0b4){const _0x4391c9=this['entity']['getLocalPo'+'sition'](),_0x581570=this['_pivot'];this['_margin']['x']=_0x4391c9['x']-this['_calculate'+'dWidth']*_0x581570['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2f8779,_0x30b34d){if(!(Math['abs'](_0x2f8779-this['_calculate'+'dHeight'])<=-0x1eec+-0x1*-0x1907+0x5e5*0x1+0.0001)){if(this['_calculate'+'dHeight']=_0x2f8779,this['entity']['_dirtifyLo'+'cal'](),_0x30b34d){const _0x5c5fb5=this['entity']['getLocalPo'+'sition'](),_0x8db3a6=this['_pivot'];this['_margin']['y']=_0x5c5fb5['y']-this['_calculate'+'dHeight']*_0x8db3a6['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0xb222f5=this['entity']['_children'];for(let _0x1b921b=-0xd7e+0x1c64+-0xee6,_0x3976a1=_0xb222f5['length'];_0x1b921b<_0x3976a1;_0x1b921b++)_0xb222f5[_0x1b921b]['element']&&(_0xb222f5[_0x1b921b]['element']['_anchorDir'+'ty']=!(-0x149*0x13+0x1966+0x1*-0xfb),_0xb222f5[_0x1b921b]['element']['_sizeDirty']=!(0x23cf+-0x23c2+-0xd));}['addModelTo'+'Layers'](_0x4c7964){this['_addedMode'+'ls']['push'](_0x4c7964);for(let _0x53643a=-0x2021+-0x1*0x90d+-0x3*-0xdba;_0x53643a<this['layers']['length'];_0x53643a++){const _0x43d48b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x53643a]);_0x43d48b&&_0x43d48b['addMeshIns'+'tances'](_0x4c7964['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x162151){const _0x3beab4=this['_addedMode'+'ls']['indexOf'](_0x162151);_0x3beab4>=0x64*-0x1a+-0x16f7+-0x3d*-0x8b&&this['_addedMode'+'ls']['splice'](_0x3beab4,0x1*-0x6cd+-0x79d*-0x2+-0x86c);for(let _0x54bcd0=-0xcd8+-0xe82+-0x1b5a*-0x1;_0x54bcd0<this['layers']['length'];_0x54bcd0++){const _0x29c033=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x54bcd0]);_0x29c033&&_0x29c033['removeMesh'+'Instances'](_0x162151['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x16a8e0=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x16a8e0&&(this['_maskOffse'+'t']=0x8a4+0x11*0x43+-0xd17+0.5,this['_offsetRea'+'dAt']=_0x16a8e0);const _0x3805ad=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x18f7*-0x1+-0x2*-0xc43+0x3*-0x107f+0.001,_0x3805ad;}['isVisibleF'+'orCamera'](_0x45677e){let _0x49f2d1,_0x422a1d,_0x456b34,_0xf33302;if(this['maskedBy']){const _0x72e4a6=this['maskedBy']['element']['screenCorn'+'ers'];_0x49f2d1=Math['min'](Math['min'](_0x72e4a6[0x1b52+-0x2061+-0x103*-0x5]['x'],_0x72e4a6[-0x20a8+0x47*0xc+0x1d55]['x']),Math['min'](_0x72e4a6[-0x2be*-0xa+0x154c+-0x1*0x30b6]['x'],_0x72e4a6[-0x1e73+0xe2f*0x2+-0x86*-0x4]['x'])),_0x422a1d=Math['max'](Math['max'](_0x72e4a6[0x82a+0x70+-0x89a]['x'],_0x72e4a6[0x16f5+0x1902+-0x2ff6]['x']),Math['max'](_0x72e4a6[0x1290+-0x2290+0x1002]['x'],_0x72e4a6[-0x461+0x1f09+0x13*-0x167]['x'])),_0xf33302=Math['min'](Math['min'](_0x72e4a6[0x4d5*-0x2+-0x1*0x1106+-0xd58*-0x2]['y'],_0x72e4a6[0x11*-0xd3+0x94e+0x4b6]['y']),Math['min'](_0x72e4a6[-0xbbf+-0x1451+0x2012]['y'],_0x72e4a6[0x16b8+-0x19a+-0x151b]['y'])),_0x456b34=Math['max'](Math['max'](_0x72e4a6[0x3*0x959+-0x128f*-0x1+-0x2e9a]['y'],_0x72e4a6[0xee3+-0x16*0x3a+-0x9e6]['y']),Math['max'](_0x72e4a6[0x7*-0x561+-0x14*0x1df+0x4b15]['y'],_0x72e4a6[0x1bb9+0x1a91+-0x3647]['y']));}else{const _0x5c9395=this['system']['app']['graphicsDe'+'vice']['width'],_0x769afc=this['system']['app']['graphicsDe'+'vice']['height'],_0x32cd6d=_0x45677e['_rect']['z']*_0x5c9395,_0x465f2c=_0x45677e['_rect']['w']*_0x769afc;_0x49f2d1=_0x45677e['_rect']['x']*_0x5c9395,_0x422a1d=_0x49f2d1+_0x32cd6d,_0x456b34=(-0x289*-0x1+-0x3*-0x8ee+-0x1d52-_0x45677e['_rect']['y'])*_0x769afc,_0xf33302=_0x456b34-_0x465f2c;}const _0x262eed=this['screenCorn'+'ers'],_0xa94b05=Math['min'](Math['min'](_0x262eed[-0x253e+0x1*-0x1ca1+-0x49*-0xe7]['x'],_0x262eed[-0x1da5+0x964+0x1442]['x']),Math['min'](_0x262eed[-0x1069+-0x1*0x3c1+-0x4*-0x50b]['x'],_0x262eed[0x1f32+0x3*-0xc5f+0x5ee]['x'])),_0x360601=Math['max'](Math['max'](_0x262eed[-0x188+-0x161e+0x17a6]['x'],_0x262eed[-0x207*-0x1+0x17*-0x2c+0x1ee]['x']),Math['max'](_0x262eed[-0x2cf*0x5+0x11*0x24b+0x18ee*-0x1]['x'],_0x262eed[0x1327*-0x2+-0x1a05+0x4056]['x'])),_0x588a35=Math['min'](Math['min'](_0x262eed[0x304+-0x23b2+0x20ae*0x1]['y'],_0x262eed[-0xdf1*0x1+-0x6b2*-0x1+-0x74*-0x10]['y']),Math['min'](_0x262eed[-0x624+0x8c3+-0x29d]['y'],_0x262eed[-0x10a8+-0xfc5+0x2070]['y'])),_0x71c2e4=Math['max'](Math['max'](_0x262eed[-0x217+0x3*0x496+-0xbab*0x1]['y'],_0x262eed[0x169+-0x2c1+0x73*0x3]['y']),Math['max'](_0x262eed[-0xd5e+0x970+0x3f0]['y'],_0x262eed[-0xa*-0x2e9+0x264b+-0xa*0x6bd]['y']));return!(_0x360601<_0x49f2d1||_0xa94b05>_0x422a1d||_0x588a35>_0x456b34||_0x71c2e4<_0xf33302);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0xc75+0x4*-0x5b6+-0x10a*-0xa);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xd5f+0x17f3+-0xa93*0x1);}['_dirtyBatc'+'h'](){var _0x45f739;this['batchGroup'+'Id']!==-(-0x5*0x1e9+-0x21d*0x1+0xbab)&&((_0x45f739=this['system']['app']['batcher'])==null||_0x45f739['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x7*0x1c8+-0x13f3+0x206b);}}const IR=['enabled'];class LR extends ct{constructor(_0x2fe8c5){super(_0x2fe8c5),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x2fe8c5['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0xde1ee3=this['_defaultTe'+'xture']['lock'](),_0x40716d=new Uint8Array(0x1*-0xf87+-0x5*-0x229+0x4be);_0x40716d[-0x1ba*-0x13+0x819+-0x28e7]=0xa1f+0x679+0xf99*-0x1,_0x40716d[-0x2d6+-0x21a+0x4f1]=-0x3*-0xc41+0xf84*-0x2+-0x4bc,_0x40716d[0x7*-0x3b+0x1*0x9d1+-0x832]=0x8ce+0xa*-0x133+0x15*0x33,_0x40716d[-0x6*0x25f+0x2669+-0x182c]=-0x1265+0x2676+-0x1312*0x1,_0xde1ee3['set'](_0x40716d),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x367dc2,_0x3b4856,_0xc74da8){_0x367dc2['_beingInit'+'ialized']=!(0xb96*-0x1+-0x534+0x10ca),_0x3b4856['anchor']!==void(0x1*0x69d+-0x247c+0x1ddf)&&(_0x3b4856['anchor']instanceof re?_0x367dc2['anchor']['copy'](_0x3b4856['anchor']):_0x367dc2['anchor']['set'](_0x3b4856['anchor'][0x7*0x77+0x2581+-0x28c2],_0x3b4856['anchor'][0x1d4a+0xda9*-0x1+0x20*-0x7d],_0x3b4856['anchor'][0x1*-0x162a+-0x1352*-0x1+0x5*0x92],_0x3b4856['anchor'][-0x4d6*0x7+-0x2*0xb88+0x38ed])),_0x3b4856['pivot']!==void(0x3*-0x19a+-0x1*0x2411+0x28df)&&(_0x3b4856['pivot']instanceof J?_0x367dc2['pivot']['copy'](_0x3b4856['pivot']):_0x367dc2['pivot']['set'](_0x3b4856['pivot'][-0xa5+-0x10e6+-0x118b*-0x1],_0x3b4856['pivot'][-0x10a*0x19+0x2*-0x103c+0xd*0x47f]));const _0x104b8b=Math['abs'](_0x367dc2['anchor']['x']-_0x367dc2['anchor']['z'])>0x116a+-0x225*0xf+0xec1+0.001,_0x3381c0=Math['abs'](_0x367dc2['anchor']['y']-_0x367dc2['anchor']['w'])>0x350+0x3*0x30f+-0x1*0xc7d+0.001;let _0x5d0fe6=!(0x513*-0x7+0x826+0x30*0x92),_0x483146;_0x3b4856['margin']!==void(-0x7ff*-0x2+-0x455*-0x1+-0x2b*0x79)&&(_0x3b4856['margin']instanceof re?_0x367dc2['margin']['copy'](_0x3b4856['margin']):_0x367dc2['_margin']['set'](_0x3b4856['margin'][-0x1106+0xd05*-0x2+0x2b10],_0x3b4856['margin'][0x1200+-0x1e97+-0xd*-0xf8],_0x3b4856['margin'][-0x1*-0x136d+-0x675+-0xcf6],_0x3b4856['margin'][-0x13f0+-0x28f*-0x3+0xc46*0x1]),_0x5d0fe6=!(0x61*-0x5+-0x1f*0x101+0x2*0x1082)),_0x3b4856['left']!==void(-0x14e7*-0x1+-0x19*-0x173+-0x3922)&&(_0x367dc2['_margin']['x']=_0x3b4856['left'],_0x5d0fe6=!(-0x2206*-0x1+0x41b*-0x7+-0x21*0x29)),_0x3b4856['bottom']!==void(-0xa7*-0xe+-0x6*-0x64+-0xb7a)&&(_0x367dc2['_margin']['y']=_0x3b4856['bottom'],_0x5d0fe6=!(-0x205c+0x1c37+0x425)),_0x3b4856['right']!==void(-0xbf9*-0x1+-0x1020+-0x1*-0x427)&&(_0x367dc2['_margin']['z']=_0x3b4856['right'],_0x5d0fe6=!(-0x5*-0x4c7+0x35*-0x4c+-0x827)),_0x3b4856['top']!==void(-0x135d+-0x7db*-0x4+-0xc0f*0x1)&&(_0x367dc2['_margin']['w']=_0x3b4856['top'],_0x5d0fe6=!(0x2093+-0x13*0x192+-0x2bd)),_0x5d0fe6&&(_0x367dc2['margin']=_0x367dc2['_margin']);let _0x59cfe7=!(-0x641+-0x3*-0x40f+-0x5eb);_0x3b4856['width']!==void(-0x218b+-0x9*0x20a+-0x5*-0xa61)&&!_0x104b8b?_0x367dc2['width']=_0x3b4856['width']:_0x104b8b&&(_0x59cfe7=!(-0x62c*-0x5+0x20b7+-0xaf*0x5d)),_0x3b4856['height']!==void(-0x41c*0x2+0x7*-0x442+0x2606)&&!_0x3381c0?_0x367dc2['height']=_0x3b4856['height']:_0x3381c0&&(_0x59cfe7=!(-0x261e+0x1377+-0x19*-0xbf)),_0x59cfe7&&(_0x367dc2['anchor']=_0x367dc2['anchor']),_0x3b4856['enabled']!==void(-0x1945*-0x1+0x15*0x1bb+-0x1ece*0x2)&&(_0x367dc2['enabled']=_0x3b4856['enabled']),_0x3b4856['useInput']!==void(0x2*-0x1383+-0x2469+0x4b6f)&&(_0x367dc2['useInput']=_0x3b4856['useInput']),_0x3b4856['fitMode']!==void(-0x12*-0xf7+-0x1*-0x1bb3+-0x2d11)&&(_0x367dc2['fitMode']=_0x3b4856['fitMode']),_0x367dc2['batchGroup'+'Id']=_0x3b4856['batchGroup'+'Id']===void(-0x1*0x18d9+-0x1c5*0x1+-0xd4f*-0x2)||_0x3b4856['batchGroup'+'Id']===null?-(-0x3f*-0x8f+0xaa0+-0x2*0x16e8):_0x3b4856['batchGroup'+'Id'],_0x3b4856['layers']&&Array['isArray'](_0x3b4856['layers'])&&(_0x367dc2['layers']=_0x3b4856['layers']['slice'](0x1c2d+0x397*-0x6+-0x6a3)),_0x3b4856['type']!==void(-0x11cd+0x1e8+0xfe5)&&(_0x367dc2['type']=_0x3b4856['type']),_0x367dc2['type']===Cu?(_0x3b4856['rect']!==void(-0x1aa1+0x3ec+-0x1*-0x16b5)&&(_0x367dc2['rect']=_0x3b4856['rect']),_0x3b4856['color']!==void(-0x3*-0x4a2+-0x50d+-0x8d9)&&(_0x483146=_0x3b4856['color'],_0x483146 instanceof ie||(_0x483146=new ie(_0x3b4856['color'][0x1dc7+0x4e*-0x31+-0x7*0x21f],_0x3b4856['color'][-0x10*-0x71+0x1f4e+-0x265d],_0x3b4856['color'][-0x1da1*0x1+0x1911+0x492])),_0x367dc2['color']=_0x483146),_0x3b4856['opacity']!==void(0x75d+0x209*-0xd+0x1318)&&(_0x367dc2['opacity']=_0x3b4856['opacity']),_0x3b4856['textureAss'+'et']!==void(-0x49*-0x53+-0xd1a+0x5*-0x21d)&&(_0x367dc2['textureAss'+'et']=_0x3b4856['textureAss'+'et']),_0x3b4856['texture']&&(_0x367dc2['texture']=_0x3b4856['texture']),_0x3b4856['spriteAsse'+'t']!==void(-0x274+0xd98+-0xb24)&&(_0x367dc2['spriteAsse'+'t']=_0x3b4856['spriteAsse'+'t']),_0x3b4856['sprite']&&(_0x367dc2['sprite']=_0x3b4856['sprite']),_0x3b4856['spriteFram'+'e']!==void(0x1*-0x9eb+-0x51c+0xf07)&&(_0x367dc2['spriteFram'+'e']=_0x3b4856['spriteFram'+'e']),_0x3b4856['pixelsPerU'+'nit']!==void(-0x20be*-0x1+-0x1c16+0x4a8*-0x1)&&_0x3b4856['pixelsPerU'+'nit']!==null&&(_0x367dc2['pixelsPerU'+'nit']=_0x3b4856['pixelsPerU'+'nit']),_0x3b4856['materialAs'+'set']!==void(0x16a*-0x16+-0x1d1f+0x3c3b)&&(_0x367dc2['materialAs'+'set']=_0x3b4856['materialAs'+'set']),_0x3b4856['material']&&(_0x367dc2['material']=_0x3b4856['material']),_0x3b4856['mask']!==void(-0x230c+0x7*0x2d7+-0x1*-0xf2b)&&(_0x367dc2['mask']=_0x3b4856['mask'])):_0x367dc2['type']===jv&&(_0x3b4856['autoWidth']!==void(-0x610+-0x3*0x329+0xf8b)&&(_0x367dc2['autoWidth']=_0x3b4856['autoWidth']),_0x3b4856['autoHeight']!==void(0x9d*0x3e+0x4d2+-0x2ad8)&&(_0x367dc2['autoHeight']=_0x3b4856['autoHeight']),_0x3b4856['rtlReorder']!==void(-0x52*0x4b+-0x1c0*-0x11+-0x5ba)&&(_0x367dc2['rtlReorder']=_0x3b4856['rtlReorder']),_0x3b4856['unicodeCon'+'verter']!==void(-0x2a7*0xb+-0x1870+-0x393*-0xf)&&(_0x367dc2['unicodeCon'+'verter']=_0x3b4856['unicodeCon'+'verter']),_0x3b4856['text']!==null&&_0x3b4856['text']!==void(0x16c8+0x274*-0xb+0x1*0x434)?_0x367dc2['text']=_0x3b4856['text']:_0x3b4856['key']!==null&&_0x3b4856['key']!==void(0x1*0x1651+0x1*-0x1f21+0x8d0)&&(_0x367dc2['key']=_0x3b4856['key']),_0x3b4856['color']!==void(0x2620+-0xe5e+0x1*-0x17c2)&&(_0x483146=_0x3b4856['color'],_0x483146 instanceof ie||(_0x483146=new ie(_0x483146[0x13f*0x1d+0x48*0x67+-0x411b],_0x483146[-0x54e+-0x20c2+-0x1*-0x2611],_0x483146[-0x2224+-0xae7+0x2d0d])),_0x367dc2['color']=_0x483146),_0x3b4856['opacity']!==void(-0xd06+-0x256d+0x15*0x267)&&(_0x367dc2['opacity']=_0x3b4856['opacity']),_0x3b4856['spacing']!==void(0xbb7*-0x1+-0xb21*0x2+0x1*0x21f9)&&(_0x367dc2['spacing']=_0x3b4856['spacing']),_0x3b4856['fontSize']!==void(-0x42f+0x3d9*0x5+0x787*-0x2)&&(_0x367dc2['fontSize']=_0x3b4856['fontSize'],_0x3b4856['lineHeight']||(_0x367dc2['lineHeight']=_0x3b4856['fontSize'])),_0x3b4856['lineHeight']!==void(0x1e0b+0x3*0x3+-0x1e14)&&(_0x367dc2['lineHeight']=_0x3b4856['lineHeight']),_0x3b4856['maxLines']!==void(-0x17d4+0x1*-0x1a3b+0x5*0xa03)&&(_0x367dc2['maxLines']=_0x3b4856['maxLines']),_0x3b4856['wrapLines']!==void(0x1dbc+-0x1495+-0x21*0x47)&&(_0x367dc2['wrapLines']=_0x3b4856['wrapLines']),_0x3b4856['minFontSiz'+'e']!==void(-0xb8d*-0x1+-0x1355+0x7c8)&&(_0x367dc2['minFontSiz'+'e']=_0x3b4856['minFontSiz'+'e']),_0x3b4856['maxFontSiz'+'e']!==void(-0x256c+-0xe9d*-0x1+-0x16cf*-0x1)&&(_0x367dc2['maxFontSiz'+'e']=_0x3b4856['maxFontSiz'+'e']),_0x3b4856['autoFitWid'+'th']&&(_0x367dc2['autoFitWid'+'th']=_0x3b4856['autoFitWid'+'th']),_0x3b4856['autoFitHei'+'ght']&&(_0x367dc2['autoFitHei'+'ght']=_0x3b4856['autoFitHei'+'ght']),_0x3b4856['fontAsset']!==void(-0xe4b+-0x19df+0x282a)&&(_0x367dc2['fontAsset']=_0x3b4856['fontAsset']),_0x3b4856['font']!==void(0xe5*0x7+-0x121*0x1+0x522*-0x1)&&(_0x367dc2['font']=_0x3b4856['font']),_0x3b4856['alignment']!==void(-0xc6e+-0xe19+0x1a87)&&(_0x367dc2['alignment']=_0x3b4856['alignment']),_0x3b4856['outlineCol'+'or']!==void(0x117*-0x6+0x15e9+-0xf5f)&&(_0x367dc2['outlineCol'+'or']=_0x3b4856['outlineCol'+'or']),_0x3b4856['outlineThi'+'ckness']!==void(-0xb20+-0x2a*0x3f+0x1*0x1576)&&(_0x367dc2['outlineThi'+'ckness']=_0x3b4856['outlineThi'+'ckness']),_0x3b4856['shadowColo'+'r']!==void(-0x101c+-0x1*0x14c9+-0x5*-0x761)&&(_0x367dc2['shadowColo'+'r']=_0x3b4856['shadowColo'+'r']),_0x3b4856['shadowOffs'+'et']!==void(0x289*-0x9+0x1a*-0x97+-0x2627*-0x1)&&(_0x367dc2['shadowOffs'+'et']=_0x3b4856['shadowOffs'+'et']),_0x3b4856['enableMark'+'up']!==void(-0x61*-0x4b+0x11ee+-0x317*0xf)&&(_0x367dc2['enableMark'+'up']=_0x3b4856['enableMark'+'up']));const _0x2b5619=_0x367dc2['_parseUpTo'+'Screen']();_0x2b5619['screen']&&_0x367dc2['_updateScr'+'een'](_0x2b5619['screen']),super['initialize'+'ComponentD'+'ata'](_0x367dc2,_0x3b4856,_0xc74da8),_0x367dc2['_beingInit'+'ialized']=!(-0x3*-0x516+0x1eff+-0x2e40),_0x367dc2['type']===Cu&&_0x367dc2['_image']['_meshDirty']&&_0x367dc2['_image']['_updateMes'+'h'](_0x367dc2['_image']['mesh']);}['onAddCompo'+'nent'](_0xb5f454,_0x2cee05){_0xb5f454['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x3bc336,_0x4daa38){_0x4daa38['onRemove']();}['cloneCompo'+'nent'](_0x441cc5,_0x5ebc59){const _0x185dad=_0x441cc5['element'],_0x51d383={'enabled':_0x185dad['enabled'],'width':_0x185dad['width'],'height':_0x185dad['height'],'anchor':_0x185dad['anchor']['clone'](),'pivot':_0x185dad['pivot']['clone'](),'margin':_0x185dad['margin']['clone'](),'alignment':_0x185dad['alignment']&&_0x185dad['alignment']['clone']()||_0x185dad['alignment'],'autoWidth':_0x185dad['autoWidth'],'autoHeight':_0x185dad['autoHeight'],'type':_0x185dad['type'],'rect':_0x185dad['rect']&&_0x185dad['rect']['clone']()||_0x185dad['rect'],'rtlReorder':_0x185dad['rtlReorder'],'unicodeConverter':_0x185dad['unicodeCon'+'verter'],'materialAsset':_0x185dad['materialAs'+'set'],'material':_0x185dad['material'],'color':_0x185dad['color']&&_0x185dad['color']['clone']()||_0x185dad['color'],'opacity':_0x185dad['opacity'],'textureAsset':_0x185dad['textureAss'+'et'],'texture':_0x185dad['texture'],'spriteAsset':_0x185dad['spriteAsse'+'t'],'sprite':_0x185dad['sprite'],'spriteFrame':_0x185dad['spriteFram'+'e'],'pixelsPerUnit':_0x185dad['pixelsPerU'+'nit'],'spacing':_0x185dad['spacing'],'lineHeight':_0x185dad['lineHeight'],'wrapLines':_0x185dad['wrapLines'],'layers':_0x185dad['layers'],'fontSize':_0x185dad['fontSize'],'minFontSize':_0x185dad['minFontSiz'+'e'],'maxFontSize':_0x185dad['maxFontSiz'+'e'],'autoFitWidth':_0x185dad['autoFitWid'+'th'],'autoFitHeight':_0x185dad['autoFitHei'+'ght'],'maxLines':_0x185dad['maxLines'],'fontAsset':_0x185dad['fontAsset'],'font':_0x185dad['font'],'useInput':_0x185dad['useInput'],'fitMode':_0x185dad['fitMode'],'batchGroupId':_0x185dad['batchGroup'+'Id'],'mask':_0x185dad['mask'],'outlineColor':_0x185dad['outlineCol'+'or']&&_0x185dad['outlineCol'+'or']['clone']()||_0x185dad['outlineCol'+'or'],'outlineThickness':_0x185dad['outlineThi'+'ckness'],'shadowColor':_0x185dad['shadowColo'+'r']&&_0x185dad['shadowColo'+'r']['clone']()||_0x185dad['shadowColo'+'r'],'shadowOffset':_0x185dad['shadowOffs'+'et']&&_0x185dad['shadowOffs'+'et']['clone']()||_0x185dad['shadowOffs'+'et'],'enableMarkup':_0x185dad['enableMark'+'up']};return _0x185dad['key']!==void(0x1fbe+-0x5b4+-0x1a0a)&&_0x185dad['key']!==null?_0x51d383['key']=_0x185dad['key']:_0x51d383['text']=_0x185dad['text'],this['addCompone'+'nt'](_0x5ebc59,_0x51d383);}['getTextEle'+'mentMateri'+'al'](_0x9c1939,_0xf1c20d,_0x1cced1){const _0x40918c=(_0x9c1939&&0x1*0x1336+0x966+0x1c9b*-0x1)|(_0xf1c20d&&-0x1f9*-0x11+-0x97*0x3+-0x1fc2)|(_0x1cced1&&0x5*0x374+-0x1*0xa39+-0x707);let _0x25799d=this['_defaultTe'+'xtMaterial'+'s'][_0x40918c];if(_0x25799d)return _0x25799d;let _0x380915='TextMateri'+'al';return _0x25799d=new Ut(),_0xf1c20d?(_0x25799d['msdfMap']=this['_defaultTe'+'xture'],_0x25799d['msdfTextAt'+'tribute']=_0x1cced1,_0x25799d['emissive']['set'](-0x1fc9*0x1+0x202e+-0x64,0x1f44+-0x1b07+-0x43c,-0x569*-0x2+0xe97+-0x1968)):(_0x380915='Bitmap'+_0x380915,_0x25799d['emissive']['set'](0x1c3c+0x2441*0x1+0x203e*-0x2,-0xc4d+0x1a*-0xe5+-0x1*-0x2390,0x5f*0x1+0x8a4+0x902*-0x1),_0x25799d['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x25799d['opacityMap']=this['_defaultTe'+'xture'],_0x25799d['opacityMap'+'Channel']='a'),_0x9c1939&&(_0x380915='ScreenSpac'+'e'+_0x380915,_0x25799d['depthTest']=!(0x1*-0x2564+-0x1e17+0x437c)),_0x25799d['name']='default'+_0x380915,_0x25799d['useLightin'+'g']=!(-0x1d31+-0x2f3*-0xb+-0x3*0x115),_0x25799d['useTonemap']=!(0x5*0x254+0x1135+-0x1cd8),_0x25799d['useFog']=!(0x9*0x40e+-0x8fd+-0x1b80),_0x25799d['useSkybox']=!(-0x2218+-0x135d+0x3576),_0x25799d['diffuse']['set'](0x769+0x1c85+0x3f*-0x92,-0x1553*-0x1+-0x1*0x1cf0+0x79d,-0x15a6+-0x1*0x6f4+0x416*0x7),_0x25799d['opacity']=0x25b1+0xfaf+-0x3560+0.5,_0x25799d['blendType']=Gn,_0x25799d['depthWrite']=!(-0x1*-0x1fae+0x367*0x3+-0x29e2),_0x25799d['emissiveVe'+'rtexColor']=!(-0xbbd*-0x1+0x118*0x1d+-0x2b75),_0x25799d['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x40918c]=_0x25799d,_0x25799d;}['_createBas'+'eImageMate'+'rial'](){const _0x18d6f4=new Ut();return _0x18d6f4['diffuse']['set'](0x25a9+0x111e*0x1+-0x36c7,-0x1*-0xb87+-0x1*0x263+-0x924,-0x257*0xb+-0x963*-0x1+0x105a),_0x18d6f4['emissive']['set'](-0x3*-0x427+-0x1a*0xb8+0x63c,-0x1*-0x4a9+-0x2077+0x1bcf,-0x128*0x11+-0x155+0x14fe),_0x18d6f4['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x18d6f4['opacityMap']=this['_defaultTe'+'xture'],_0x18d6f4['opacityMap'+'Channel']='a',_0x18d6f4['useLightin'+'g']=!(0x92c+0x10c2+-0x19ed),_0x18d6f4['useTonemap']=!(-0x15a0+0x16c4+-0x3*0x61),_0x18d6f4['useFog']=!(0x650+-0x1ebc+0x186d),_0x18d6f4['useSkybox']=!(0x60f*-0x5+-0x21ba+0x4006),_0x18d6f4['blendType']=Gn,_0x18d6f4['depthWrite']=!(0x22e3+-0x1379+-0xf69),_0x18d6f4;}['getImageEl'+'ementMater'+'ial'](_0xa67b6d,_0x5498e1,_0x19823d,_0x3b6377){return _0xa67b6d?_0x5498e1?_0x19823d?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x1797+0x655*-0x2+-0xaec),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x45*-0x3f+0x47a+0xc82,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x428+0xe2*0x23+0x1*-0x230d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x6ee+0xb9*-0x23+0xa*0x339),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x23c9+-0x1*-0x3f1+0x1fd9),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0xb4f+-0x1d3+0xd23),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x3b6377?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x2f*-0x13+0x2*0x791+-0x129e*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1a4a+-0x76*0x40+0x37cb,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x8*-0x441+0x268f*0x1+-0x486),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x26f3+-0x25*0x80+-0xa39*0x2),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x252c+-0x2282+0x2a9*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x1*0x763+0x2*-0x1346+0x1f2a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x76*-0x4f+-0x11*0x176+0x1*-0xb93),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1729+-0x1ba6+0x23f*0x2,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0xb1e+-0x25e9+0x1acc),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x11eb*-0x1+-0x1460+0x81*0x4c),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x2423+-0xe24+-0xc92*-0x4),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x2533+0x23ad+0x1*-0x48df),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x19823d?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x1bac+-0x2034+0x3be1),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x3b6377?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0xb3*-0xd+0x823*-0x2+-0x17e*-0x11),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x1*0x943+0x25c2+0x412*-0x7),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x5498e1?_0x19823d?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x5*-0x67+0x17*0xec+-0x1330,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1*-0x2335+-0x1f41+-0xd4b*-0x5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x2307+0x1*0x1e1b+-0x4ed*-0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x86*-0x21+0x2607+-0x374c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x12*-0x173+0xaa3*-0x2+-0x4cf),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x3b6377?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x2517*0x1+-0x27*0xe1+0x79*0x97,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x22ac+0x1f7f+0x32e),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x43*0x8d+0x22d0+-0x47b6),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x12c2+0x1d01+0x72*-0x17),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x10*-0x1f3+-0x1aab+-0x121*0x4),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x16d3+0x342+-0x1a14*0x1,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0xabd+0xc59+0x1*-0x19b),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x2f*0x57+0x1cc0+-0x2cb8),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0xd35+0x2612+0x94*-0x2b),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0xea8+0x7c9+0x6e0),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x19823d?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x3b6377?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x207a55){this['_unicodeCo'+'nverter']=_0x207a55;}['registerRt'+'lReorder'](_0x4844e2){this['_rtlReorde'+'r']=_0x4844e2;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x50d072,_0x57e7f2){super(_0x50d072,_0x57e7f2),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x23c5*-0x1+-0x18c3+-0xd*-0x4a8),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x1c54+0xf4c+0x684*0x2,0x392+-0x1471+0x269*0x7),this['_linearSpr'+'ingX']=!(0x4*0x4a4+0xa*0x17f+0x2185*-0x1),this['_linearSti'+'ffnessX']=0x799*-0x2+-0xac*0x37+0x10b*0x32,this['_linearDam'+'pingX']=-0x3c2+-0x7*0x3e3+0x1ef8,this['_linearEqu'+'ilibriumX']=0x1ce+-0x1ed0+0x1d02,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x1*-0xf26+0x1b82+-0xc5c,-0xf31*-0x1+0x1dfa+0x175*-0x1f),this['_linearSpr'+'ingY']=!(-0x13f2+0x14*0x52+0xd8b),this['_linearSti'+'ffnessY']=-0x1c68+-0x2*0xbb9+0x19ed*0x2,this['_linearDam'+'pingY']=0x224a+-0x21e4+-0x65*0x1,this['_linearEqu'+'ilibriumY']=-0x1*-0x1961+-0xe7b+-0x5d*0x1e,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x67*0x51+-0xfc7+-0x2*-0x182f,0x879*-0x3+-0x43*0x3c+0x291f),this['_linearSpr'+'ingZ']=!(-0x2*0x832+0x1774+0xd*-0x8b),this['_linearSti'+'ffnessZ']=0x1*-0x187d+-0x20b5+-0x2*-0x1c99,this['_linearDam'+'pingZ']=-0x20b9+-0x581*-0x1+0x1b39,this['_linearEqu'+'ilibriumZ']=0x12d6*0x1+-0x1*-0x178e+-0x2a64,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0x112a+-0xf9f*0x1+0x1*0x20c9,-0x1bc1+-0x27*0x35+0x1*0x23d4),this['_angularSp'+'ringX']=!(-0x9*0x295+0x97b+0xdc3),this['_angularSt'+'iffnessX']=-0x209a+0x733+0x3a1*0x7,this['_angularDa'+'mpingX']=0x249f+-0x2d9*-0xa+0x208c*-0x2,this['_angularEq'+'uilibriumX']=-0xfff+-0x413+0x1412,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x1c55+0x1e83+0x1*-0x3ad8,0x358*0x7+0xdb6+-0x128f*0x2),this['_angularSp'+'ringY']=!(-0x6*-0x67f+-0x14c3+-0x1236),this['_angularSt'+'iffnessY']=0x25d*-0xc+0xb5b*0x1+0x1101,this['_angularDa'+'mpingY']=-0xc85+-0xa47+0x16cd,this['_angularEq'+'uilibriumY']=0x27a+0x1779+-0x19f3,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x17de+0x1941*0x1+0x163*-0x1,-0x6c7+0x6*-0x5d1+0x29ad),this['_angularSp'+'ringZ']=!(0xe*-0xb7+-0x9b*-0x27+-0x6cd*0x2),this['_angularEq'+'uilibriumZ']=0x2*0x4aa+-0x31*-0xa1+-0x2825,this['_angularDa'+'mpingZ']=-0x17cb+-0x47b+0x1c47,this['_angularSt'+'iffnessZ']=0xb36+-0x1f34*0x1+0x13fe,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x2f7972){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x2f7972,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x2534c3){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x2534c3,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x1111f8){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x1111f8&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x1111f8),this['_breakForc'+'e']=_0x1111f8);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0xa9c9cc){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0xa9c9cc,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x1b8305){this['_angularLi'+'mitsX']['equals'](_0x1b8305)||(this['_angularLi'+'mitsX']['copy'](_0x1b8305),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x3f79a1){this['_angularMo'+'tionX']!==_0x3f79a1&&(this['_angularMo'+'tionX']=_0x3f79a1,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x11c67f){this['_angularLi'+'mitsY']['equals'](_0x11c67f)||(this['_angularLi'+'mitsY']['copy'](_0x11c67f),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x28f090){this['_angularMo'+'tionY']!==_0x28f090&&(this['_angularMo'+'tionY']=_0x28f090,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x5bdf19){this['_angularLi'+'mitsZ']['equals'](_0x5bdf19)||(this['_angularLi'+'mitsZ']['copy'](_0x5bdf19),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x30c195){this['_angularMo'+'tionZ']!==_0x30c195&&(this['_angularMo'+'tionZ']=_0x30c195,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x84a236){this['_linearLim'+'itsX']['equals'](_0x84a236)||(this['_linearLim'+'itsX']['copy'](_0x84a236),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x5133d8){this['_linearMot'+'ionX']!==_0x5133d8&&(this['_linearMot'+'ionX']=_0x5133d8,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x3e53b8){this['_linearLim'+'itsY']['equals'](_0x3e53b8)||(this['_linearLim'+'itsY']['copy'](_0x3e53b8),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x49a1b1){this['_linearMot'+'ionY']!==_0x49a1b1&&(this['_linearMot'+'ionY']=_0x49a1b1,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x85646b){this['_linearLim'+'itsZ']['equals'](_0x85646b)||(this['_linearLim'+'itsZ']['copy'](_0x85646b),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x4b590d){this['_linearMot'+'ionZ']!==_0x4b590d&&(this['_linearMot'+'ionZ']=_0x4b590d,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x40ffb0,_0x435c8f){const _0x16fc22=_0x40ffb0['getTransla'+'tion'](),_0x1d57e1=new le();_0x1d57e1['setFromMat'+'4'](_0x40ffb0);const _0x588121=new Ammo['btVector3'](_0x16fc22['x'],_0x16fc22['y'],_0x16fc22['z']),_0x648848=new Ammo['btQuaterni'+'on'](_0x1d57e1['x'],_0x1d57e1['y'],_0x1d57e1['z'],_0x1d57e1['w']);_0x435c8f['setOrigin'](_0x588121),_0x435c8f['setRotatio'+'n'](_0x648848),Ammo['destroy'](_0x588121),Ammo['destroy'](_0x648848);}['_updateAng'+'ularLimits'](){const _0x5bf795=this['_constrain'+'t'];if(_0x5bf795){let _0x35af5d,_0xabb4f,_0x5b1af2,_0x396f32,_0x1fc54e,_0x1e9930;this['_angularMo'+'tionX']===qa?(_0x35af5d=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x396f32=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x35af5d=-0x11f6+-0x1db6+-0x1*-0x2fad,_0x396f32=-0xf5f*0x1+0x10c6+-0x167):_0x35af5d=_0x396f32=-0x1dc*-0xd+0x2684+-0x3eb0,this['_angularMo'+'tionY']===qa?(_0xabb4f=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x1fc54e=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0xabb4f=-0x9bc+-0x2704+0x30c1,_0x1fc54e=-0x2*0xdd7+0x22ac+0x5*-0x166):_0xabb4f=_0x1fc54e=0x2566*0x1+-0x986+0x37c*-0x8,this['_angularMo'+'tionZ']===qa?(_0x5b1af2=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x1e9930=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x5b1af2=0x4*0x51b+-0x61a*0x5+-0x15*-0x7b,_0x1e9930=-0xa1+-0x12*-0xd+-0x49):_0x5b1af2=_0x1e9930=-0x100a+-0x677+0x337*0x7;const _0x159746=new Ammo['btVector3'](_0x35af5d,_0xabb4f,_0x5b1af2);_0x5bf795['setAngular'+'LowerLimit'](_0x159746),_0x159746['setValue'](_0x396f32,_0x1fc54e,_0x1e9930),_0x5bf795['setAngular'+'UpperLimit'](_0x159746),Ammo['destroy'](_0x159746);}}['_updateLin'+'earLimits'](){const _0x1b1ae1=this['_constrain'+'t'];if(_0x1b1ae1){let _0xab3526,_0x155a6a,_0x5d8df8,_0x49e171,_0x248a95,_0xcf8819;this['_linearMot'+'ionX']===qa?(_0xab3526=this['_linearLim'+'itsX']['x'],_0x49e171=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0xab3526=-0x515*0x7+0x2*0x61+-0x2*-0x1169,_0x49e171=-0x18e7+0x177b+0x16c):_0xab3526=_0x49e171=0x1*-0x775+0x1b40+0x233*-0x9,this['_linearMot'+'ionY']===qa?(_0x155a6a=this['_linearLim'+'itsY']['x'],_0x248a95=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x155a6a=0x1*-0x10b+-0x549+-0x1*-0x655,_0x248a95=-0x3c4+-0x208d+0x2451):_0x155a6a=_0x248a95=0x17ce+-0x24b2+0x2*0x672,this['_linearMot'+'ionZ']===qa?(_0x5d8df8=this['_linearLim'+'itsZ']['x'],_0xcf8819=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x5d8df8=0x26a7*-0x1+-0x11f*0x1+0x27c7,_0xcf8819=-0x1*0x654+0x154d*0x1+-0xef9):_0x5d8df8=_0xcf8819=0x5*-0x33e+-0xca3+0x1cd9;const _0x3239ea=new Ammo['btVector3'](_0xab3526,_0x155a6a,_0x5d8df8);_0x1b1ae1['setLinearL'+'owerLimit'](_0x3239ea),_0x3239ea['setValue'](_0x49e171,_0x248a95,_0xcf8819),_0x1b1ae1['setLinearU'+'pperLimit'](_0x3239ea),Ammo['destroy'](_0x3239ea);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x3ef2f6=new te(),_0xf9941a=this['_entityA']['rigidbody']['body'];_0xf9941a['activate']();const _0x329f7a=this['entity']['getWorldTr'+'ansform'](),_0x114ee4=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x3ef2f6['mul2'](_0x114ee4,_0x329f7a);const _0x5d88d2=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x3ef2f6,_0x5d88d2),this['_entityB']&&this['_entityB']['rigidbody']){const _0x369fbd=this['_entityB']['rigidbody']['body'];_0x369fbd['activate']();const _0x1f40d3=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x3ef2f6['mul2'](_0x1f40d3,_0x329f7a);const _0x4c1eb4=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x3ef2f6,_0x4c1eb4),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xf9941a,_0x369fbd,_0x5d88d2,_0x4c1eb4,!this['_enableCol'+'lision']),Ammo['destroy'](_0x4c1eb4);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xf9941a,_0x5d88d2,!this['_enableCol'+'lision']);Ammo['destroy'](_0x5d88d2);const _0x5d0136=['X','Y','Z','X','Y','Z'];for(let _0x3ee1d0=-0xf2f+0x228f+0x8*-0x26c;_0x3ee1d0<0x9e*-0x25+0x1*-0x2623+0x3*0x1455;_0x3ee1d0++){const _0x4ca3ea=_0x3ee1d0<-0xdd*0x29+0xa7*-0x19+0x33b7?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x3ee1d0,this[_0x4ca3ea+'Spring'+_0x5d0136[_0x3ee1d0]]),this['_constrain'+'t']['setDamping'](_0x3ee1d0,this[_0x4ca3ea+'Damping'+_0x5d0136[_0x3ee1d0]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x3ee1d0,this[_0x4ca3ea+('Equilibriu'+'m')+_0x5d0136[_0x3ee1d0]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x3ee1d0,this[_0x4ca3ea+'Stiffness'+_0x5d0136[_0x3ee1d0]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x5d8092){for(const _0x579e28 of RR)_0x5d8092['hasOwnProp'+'erty'](_0x579e28)&&(_0x5d8092[_0x579e28]instanceof J?this['_'+_0x579e28]['copy'](_0x5d8092[_0x579e28]):this['_'+_0x579e28]=_0x5d8092[_0x579e28]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x212300,_0x2cd797,_0x232de9){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x175534=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x6e554=>{['X','Y','Z']['forEach'](_0x10f6d8=>{const _0x1a2e77=_0x175534+_0x6e554+_0x10f6d8,_0x50585e='_'+_0x1a2e77;let _0x2ed63b=_0x175534==='linear'?-0x2*0x3f3+0x1772+-0xf8c:0x4cc+-0x1*0x1af3+0x162a;_0x10f6d8==='Y'&&(_0x2ed63b+=0x808*0x1+-0x191*-0x17+0x2c0e*-0x1),_0x10f6d8==='Z'&&(_0x2ed63b+=-0x107*-0x13+-0x9*0x355+0xa7a),Object['defineProp'+'erty'](ym['prototype'],_0x1a2e77,{'get':function(){return this[_0x50585e];},'set':function(_0x4f3652){this[_0x50585e]!==_0x4f3652&&(this[_0x50585e]=_0x4f3652,this['_constrain'+'t'][OR[_0x6e554]](_0x2ed63b,_0x4f3652));}});});});});class FR{constructor(){this['enabled']=!(0x242b+-0xef*-0x1a+-0x3c71*0x1);}}const Fu=['enabled'];class NR extends ct{constructor(_0x7240d1){super(_0x7240d1),this['id']='joint',this['app']=_0x7240d1,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x15779c,_0x2bb18d,_0x3c2b54){_0x15779c['initFromDa'+'ta'](_0x2bb18d),super['initialize'+'ComponentD'+'ata'](_0x15779c,_0x2bb18d,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x1a0c+-0x1*-0x24d+0x17bf),h(this,'_minHeight',0xfe0*0x1+-0xd51+0x5*-0x83),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x22fc+0xdc9+-0x1*0x30c5),h(this,'_fitHeight'+'Proportion',0x591*-0x1+-0x1229+0x17ba),h(this,'_excludeFr'+'omLayout',!(-0x21d+0x84a*0x2+-0xe76));}set['minWidth'](_0x22b7c3){_0x22b7c3!==this['_minWidth']&&(this['_minWidth']=_0x22b7c3,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x3b6371){_0x3b6371!==this['_minHeight']&&(this['_minHeight']=_0x3b6371,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x1771ab){_0x1771ab!==this['_maxWidth']&&(this['_maxWidth']=_0x1771ab,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x5c467a){_0x5c467a!==this['_maxHeight']&&(this['_maxHeight']=_0x5c467a,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x2d3739){_0x2d3739!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x2d3739,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x8e9208){_0x8e9208!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x8e9208,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x57646f){_0x57646f!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x57646f,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x692+-0x220f*-0x1+-0x1b7d*0x1);}}const e0=['enabled'];class UR extends ct{constructor(_0x49d100){super(_0x49d100),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x52b5f9,_0x360c8f,_0x5c7af0){_0x360c8f['enabled']!==void(-0xbea+-0x162c+-0x2*-0x110b)&&(_0x52b5f9['enabled']=_0x360c8f['enabled']),_0x360c8f['minWidth']!==void(0x1d68*-0x1+0x871*0x1+0x6fd*0x3)&&(_0x52b5f9['minWidth']=_0x360c8f['minWidth']),_0x360c8f['minHeight']!==void(0x36*-0x61+0x4*-0x23f+0x1d72*0x1)&&(_0x52b5f9['minHeight']=_0x360c8f['minHeight']),_0x360c8f['maxWidth']!==void(-0x1c78+0x2417+-0x79f*0x1)&&(_0x52b5f9['maxWidth']=_0x360c8f['maxWidth']),_0x360c8f['maxHeight']!==void(-0x9bb*-0x1+0x1e71+-0xc*0x359)&&(_0x52b5f9['maxHeight']=_0x360c8f['maxHeight']),_0x360c8f['fitWidthPr'+'oportion']!==void(0x8*-0x387+0x490+0x17a8)&&(_0x52b5f9['fitWidthPr'+'oportion']=_0x360c8f['fitWidthPr'+'oportion']),_0x360c8f['fitHeightP'+'roportion']!==void(-0x7*-0x1df+-0xced+-0x2c)&&(_0x52b5f9['fitHeightP'+'roportion']=_0x360c8f['fitHeightP'+'roportion']),_0x360c8f['excludeFro'+'mLayout']!==void(0x47*0x7c+-0xb52+-0x1712)&&(_0x52b5f9['excludeFro'+'mLayout']=_0x360c8f['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x52b5f9,_0x360c8f,_0x5c7af0);}['cloneCompo'+'nent'](_0x53d013,_0x19505c){const _0x214c58=_0x53d013['layoutchil'+'d'];return this['addCompone'+'nt'](_0x19505c,{'enabled':_0x214c58['enabled'],'minWidth':_0x214c58['minWidth'],'minHeight':_0x214c58['minHeight'],'maxWidth':_0x214c58['maxWidth'],'maxHeight':_0x214c58['maxHeight'],'fitWidthProportion':_0x214c58['fitWidthPr'+'oportion'],'fitHeightProportion':_0x214c58['fitHeightP'+'roportion'],'excludeFromLayout':_0x214c58['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x1*-0x1d87+0x953+-0x26da,BR=-0x20f3+-0x2201+0x42f5,Qg=-0x7b+-0x6c8+0x745,zR=0x15a3*-0x1+0x730+0x3*0x4d2,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x2c7083){let _0x56da6b;const _0x51c0ff=Oh[_0x2c7083],_0x31be36=Oh[vm[_0x2c7083]];function _0xdb89f8(_0x4d455e,_0x1e163b){return-_0x1e163b[_0x51c0ff['size']]*_0x4d455e['pivot'][_0x51c0ff['axis']];}function _0x4aa552(_0x4aeb29,_0x96d88b){return-_0x96d88b[_0x31be36['size']]*_0x4aeb29['pivot'][_0x31be36['axis']];}function _0x2348b2(_0x3b4053,_0x35dfe2){return _0x35dfe2[_0x51c0ff['size']]*(-0x7*-0x34c+0x9*-0x260+-0x1b3-_0x3b4053['pivot'][_0x51c0ff['axis']]);}function _0x46df8e(_0x5bf3b2,_0x38cc0b){_0x5bf3b2=_0x5bf3b2['filter'](_0x54a699),_0x56da6b=_0x38cc0b,ls['x']=_0x56da6b['containerS'+'ize']['x']-_0x56da6b['padding']['x']-_0x56da6b['padding']['z'],ls['y']=_0x56da6b['containerS'+'ize']['y']-_0x56da6b['padding']['y']-_0x56da6b['padding']['w'],_0x481f85(_0x5bf3b2);const _0x1eac3c=_0xa84518(_0x2a827d(_0x5bf3b2)),_0x5c3ef5=_0x55a878(_0x1eac3c,_0xa722fd(_0x1eac3c)),_0x4740a7=_0x36bce7(_0x1eac3c,_0x5c3ef5);return _0x4f2602(_0x1eac3c,_0x5c3ef5,_0x4740a7),_0x1ebe59(_0x1eac3c,_0x5c3ef5,_0x4740a7),_0x172c72(_0x1eac3c);}function _0x54a699(_0x5900ee){const _0x3eb277=_0x5900ee['entity']['layoutchil'+'d'];return!_0x3eb277||!_0x3eb277['enabled']||!_0x3eb277['excludeFro'+'mLayout'];}function _0x481f85(_0xaca2e8){for(let _0x5c9d68=0x1322+-0x1091+0xdb*-0x3;_0x5c9d68<_0xaca2e8['length'];++_0x5c9d68){const _0x56b9b5=_0xaca2e8[_0x5c9d68],_0x39332c=_0x56b9b5['anchor'];(_0x39332c['x']!==0x23ba*-0x1+0x35a*-0x2+-0x1*-0x2a6e||_0x39332c['y']!==0x13c9+-0x1592+0x1c9||_0x39332c['z']!==0x1af*0x15+0xfc0*0x2+0xd5f*-0x5||_0x39332c['w']!==-0x2*0x3df+0x1eba+-0x16fc)&&(_0x56b9b5['anchor']=re['ZERO']);}}function _0x2a827d(_0x29a8d7){if(!_0x56da6b['wrap'])return[_0x29a8d7];const _0x3977be=[[]],_0x4f0b18=_0x414a2f(_0x29a8d7);let _0xa123a8=0x3ba*-0x8+0x1f52+-0x182;const _0xad8aa8=_0x56da6b[_0x51c0ff['fitting']]===Qg;for(let _0x35834f=-0x897+-0x24f1*0x1+0x2d88;_0x35834f<_0x29a8d7['length'];++_0x35834f){_0x3977be[_0x3977be['length']-(-0xe17+-0x1ede+0x2cf6*0x1)]['length']>0x50e+0x1f*0x2+-0x54c&&(_0xa123a8+=_0x56da6b['spacing'][_0x51c0ff['axis']]);const _0x575929=_0x4f0b18[_0x35834f][_0x51c0ff['size']];_0xa123a8+=_0x575929,!_0xad8aa8&&_0xa123a8>ls[_0x51c0ff['axis']]&&_0x3977be[_0x3977be['length']-(0x104e+0x19e2+-0x2a2f)]['length']!==-0x1916+0x1*-0xf+0x1925&&(_0xa123a8=_0x575929,_0x3977be['push']([])),_0x3977be[_0x3977be['length']-(0x794+0x5fa+-0xd8d*0x1)]['push'](_0x29a8d7[_0x35834f]),_0xad8aa8&&_0xa123a8>ls[_0x51c0ff['axis']]&&_0x35834f!==_0x29a8d7['length']-(-0x54*0x65+0x1*-0x181d+0x3942)&&(_0xa123a8=0x1846*-0x1+-0x54d*-0x3+0x85f,_0x3977be['push']([]));}return _0x3977be;}function _0xa84518(_0x53f22f){const _0x56ace9=_0x56da6b['orientatio'+'n']===Ce&&_0x56da6b['reverseX']||_0x56da6b['orientatio'+'n']===je&&_0x56da6b['reverseY'],_0x99d604=_0x56da6b['orientatio'+'n']===Ce&&_0x56da6b['reverseY']||_0x56da6b['orientatio'+'n']===je&&_0x56da6b['reverseX'];if(_0x56ace9){for(let _0x1d9773=-0x187e+-0x1863*-0x1+-0x9*-0x3;_0x1d9773<_0x53f22f['length'];++_0x1d9773)_0x56ace9&&_0x53f22f[_0x1d9773]['reverse']();}return _0x99d604&&_0x53f22f['reverse'](),_0x53f22f;}function _0xa722fd(_0x501163){const _0x1575e5=[];for(let _0x3e9731=-0x67d*-0x5+0x786+-0x27f7;_0x3e9731<_0x501163['length'];++_0x3e9731){const _0x18c927=_0x501163[_0x3e9731],_0x199084=_0x414a2f(_0x18c927),_0x12fc66=_0xc37fe7(_0x199084,_0x51c0ff),_0x21d1d0=_0x3facae(_0x56da6b[_0x51c0ff['fitting']],_0x12fc66,ls[_0x51c0ff['axis']]);_0x21d1d0===os['APPLY_STRE'+'TCHING']?_0x41d0a0(_0x199084,_0x12fc66,_0x51c0ff):_0x21d1d0===os['APPLY_SHRI'+'NKING']&&_0x580055(_0x199084,_0x12fc66,_0x51c0ff),_0x1575e5['push'](_0x199084);}return _0x1575e5;}function _0x55a878(_0x998446,_0xbaf97e){const _0x263347=[],_0x95160f=[];for(let _0x604fb4=-0x22c*-0x3+0x1f4f*0x1+0x1a5*-0x17;_0x604fb4<_0x998446['length'];++_0x604fb4){const _0x381632=_0x998446[_0x604fb4];_0x381632['largestEle'+'ment']=null,_0x381632['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x46ffdd=-0xdc3+0x3*0x92d+0x1*-0xdc4;_0x46ffdd<_0x381632['length'];++_0x46ffdd){const _0x344466=_0xbaf97e[_0x604fb4][_0x46ffdd];_0x344466[_0x31be36['size']]>_0x381632['largestSiz'+'e'][_0x31be36['size']]&&(_0x381632['largestEle'+'ment']=_0x381632[_0x46ffdd],_0x381632['largestSiz'+'e']=_0x344466);}_0x263347['push'](_0x381632['largestEle'+'ment']),_0x95160f['push'](_0x381632['largestSiz'+'e']);}const _0x415555=_0xc37fe7(_0x95160f,_0x31be36),_0x4ecf13=_0x3facae(_0x56da6b[_0x31be36['fitting']],_0x415555,ls[_0x31be36['axis']]);_0x4ecf13===os['APPLY_STRE'+'TCHING']?_0x41d0a0(_0x95160f,_0x415555,_0x31be36):_0x4ecf13===os['APPLY_SHRI'+'NKING']&&_0x580055(_0x95160f,_0x415555,_0x31be36);for(let _0x19c82e=0x17*-0x1a3+-0x936+0x2edb;_0x19c82e<_0x998446['length'];++_0x19c82e){const _0x56e597=_0x998446[_0x19c82e];for(let _0x3e749d=0xdb0+0x1f1*0x11+0x2eb1*-0x1;_0x3e749d<_0x56e597['length'];++_0x3e749d){const _0x702b40=_0xbaf97e[_0x19c82e][_0x3e749d],_0x27d4b2=_0x702b40[_0x31be36['size']],_0x512988=_0x998446['length']===-0x2282*-0x1+-0x311+0x1f70*-0x1?ls[_0x31be36['axis']]:_0x56e597['largestSiz'+'e'][_0x31be36['size']],_0x1f0874=_0x3facae(_0x56da6b[_0x31be36['fitting']],_0x27d4b2,_0x512988);_0x1f0874===os['APPLY_STRE'+'TCHING']?_0x702b40[_0x31be36['size']]=Math['min'](_0x512988,_0x702b40[_0x31be36['maxSize']]):_0x1f0874===os['APPLY_SHRI'+'NKING']&&(_0x702b40[_0x31be36['size']]=Math['max'](_0x512988,_0x702b40[_0x31be36['minSize']]));}}return _0xbaf97e;}function _0x3facae(_0x2df170,_0x132acd,_0x1bb6f1){switch(_0x2df170){case Nu:return os['NONE'];case BR:return _0x132acd<_0x1bb6f1?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x132acd>=_0x1bb6f1?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x132acd<_0x1bb6f1?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x2df170);}}function _0xc37fe7(_0x3ba061,_0x1a694a){const _0x40d2a7=_0x23613c(_0x3ba061,_0x1a694a['size']),_0x4bcf63=(_0x3ba061['length']-(0x21c8+-0xd06+-0x14c1))*_0x56da6b['spacing'][_0x1a694a['axis']];return _0x40d2a7+_0x4bcf63;}function _0x41d0a0(_0x39b182,_0x1b53be,_0x57fc42){const _0x3ee522=_0x2405ab(_0x39b182,_0x57fc42['maxSize']),_0x176a89=_0x1332bf(_0x39b182,_0x57fc42['fittingPro'+'portion']),_0x5c5b69=_0x3439eb(_0x176a89,_0x3ee522);let _0x590e2f=ls[_0x57fc42['axis']]-_0x1b53be;for(let _0x2bc403=0x1*0x1853+0xf64+0x1*-0x27b7;_0x2bc403<_0x39b182['length'];++_0x2bc403){const _0x1e98e5=_0x3ee522[_0x2bc403],_0x260913=_0x4f9779(_0x1e98e5,_0x590e2f,_0x176a89,_0x5c5b69),_0x3e9cc5=_0x39b182[_0x1e98e5][_0x57fc42['size']]+_0x260913,_0x54a73a=_0x39b182[_0x1e98e5][_0x57fc42['maxSize']],_0x5e80a0=Math['min'](_0x3e9cc5,_0x54a73a);_0x39b182[_0x1e98e5][_0x57fc42['size']]=_0x5e80a0;const _0x40cbd6=Math['max'](_0x3e9cc5-_0x5e80a0,0x13cd+0x1abb+-0x2e88),_0x5f5294=_0x260913-_0x40cbd6;_0x590e2f-=_0x5f5294;}}function _0x580055(_0x1f33af,_0x931d09,_0x5352c5){const _0x410966=_0x2405ab(_0x1f33af,_0x5352c5['minSize'],!(0x6*-0x28d+0x1ae9+-0xb9b)),_0x5143bb=_0x1332bf(_0x1f33af,_0x5352c5['fittingPro'+'portion']),_0x9aec7d=_0x79d5f3(_0x5143bb),_0x182855=_0x3439eb(_0x9aec7d,_0x410966);let _0x293a70=_0x931d09-ls[_0x5352c5['axis']];for(let _0x36e89c=-0x4*-0x7fa+-0x2267+0x47*0x9;_0x36e89c<_0x1f33af['length'];++_0x36e89c){const _0x1ad31f=_0x410966[_0x36e89c],_0x3b4c61=_0x4f9779(_0x1ad31f,_0x293a70,_0x9aec7d,_0x182855),_0x41da41=_0x1f33af[_0x1ad31f][_0x5352c5['size']]-_0x3b4c61,_0x7994b7=_0x1f33af[_0x1ad31f][_0x5352c5['minSize']],_0x1dbd15=Math['max'](_0x41da41,_0x7994b7);_0x1f33af[_0x1ad31f][_0x5352c5['size']]=_0x1dbd15;const _0x4616c=Math['max'](_0x1dbd15-_0x41da41,-0x24df+0xd*0x83+0x78e*0x4),_0x5d57ed=_0x3b4c61-_0x4616c;_0x293a70-=_0x5d57ed;}}function _0x4f9779(_0x2bd640,_0x3e7698,_0x7a7ce6,_0xef9caa){const _0x541255=_0x7a7ce6[_0x2bd640],_0x574520=_0xef9caa[_0x2bd640];return Math['abs'](_0x541255)<-0x1b4c+0x271*-0x5+0x3*0xd2b+0.00001&&Math['abs'](_0x574520)<0xa*-0x140+-0xd85*-0x2+-0xe8a*0x1+0.00001?_0x3e7698:_0x3e7698*_0x541255/_0x574520;}function _0x36bce7(_0x1ab908,_0x34c373){const _0x175ff6={};_0x175ff6[_0x51c0ff['axis']]=0x1d3*-0xd+-0x1238+0x29ef,_0x175ff6[_0x31be36['axis']]=0x10*-0x218+0x7*-0x34f+0x38a9,_0x1ab908[_0x51c0ff['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x7f701b=[];for(let _0x267d36=-0x12a*-0x7+-0x1be*-0xe+-0x208a;_0x267d36<_0x1ab908['length'];++_0x267d36){const _0x27064b=_0x1ab908[_0x267d36];if(_0x27064b['length']===0x22*0xe8+0xc2d+0x47*-0x9b){_0x7f701b['push']([]);continue;}const _0x521893=[],_0x4aaf67=_0x34c373[_0x267d36];for(let _0x2ffe69=0x3*-0xa9d+0x220f+-0x238;_0x2ffe69<_0x27064b['length'];++_0x2ffe69){const _0x3e9020=_0x27064b[_0x2ffe69],_0x541844=_0x4aaf67[_0x2ffe69];_0x175ff6[_0x31be36['axis']]-=_0x4aa552(_0x3e9020,_0x541844),_0x175ff6[_0x51c0ff['axis']]-=_0xdb89f8(_0x3e9020,_0x541844),_0x521893[_0x2ffe69]={},_0x521893[_0x2ffe69][_0x51c0ff['axis']]=_0x175ff6[_0x51c0ff['axis']],_0x521893[_0x2ffe69][_0x31be36['axis']]=_0x175ff6[_0x31be36['axis']],_0x175ff6[_0x31be36['axis']]+=_0x4aa552(_0x3e9020,_0x541844),_0x175ff6[_0x51c0ff['axis']]+=_0x2348b2(_0x3e9020,_0x541844)+_0x56da6b['spacing'][_0x51c0ff['axis']];}_0x27064b[_0x51c0ff['size']]=_0x175ff6[_0x51c0ff['axis']]-_0x56da6b['spacing'][_0x51c0ff['axis']],_0x27064b[_0x31be36['size']]=_0x27064b['largestSiz'+'e'][_0x31be36['size']],_0x1ab908[_0x51c0ff['size']]=Math['max'](_0x1ab908[_0x51c0ff['size']],_0x27064b[_0x51c0ff['size']]),_0x175ff6[_0x51c0ff['axis']]=-0x6f3+0x1a8*0x1+-0x54b*-0x1,_0x175ff6[_0x31be36['axis']]+=_0x27064b[_0x31be36['size']]+_0x56da6b['spacing'][_0x31be36['axis']],_0x7f701b['push'](_0x521893);}return _0x1ab908[_0x31be36['size']]=_0x175ff6[_0x31be36['axis']]-_0x56da6b['spacing'][_0x31be36['axis']],_0x7f701b;}function _0x4f2602(_0x3b862e,_0x5974fd,_0xcdd1ff){const _0x3af3a6=_0x56da6b['alignment'][_0x51c0ff['axis']],_0x44729e=_0x56da6b['alignment'][_0x31be36['axis']],_0x4c12a5=_0x56da6b['padding'][_0x51c0ff['axis']],_0x41c20a=_0x56da6b['padding'][_0x31be36['axis']];for(let _0x3cff4f=0x2418+-0x1*-0xb72+-0x2f8a;_0x3cff4f<_0x3b862e['length'];++_0x3cff4f){const _0x5bca0f=_0x3b862e[_0x3cff4f],_0x36e78d=_0x5974fd[_0x3cff4f],_0xc7288b=_0xcdd1ff[_0x3cff4f],_0x3b3125=(ls[_0x51c0ff['axis']]-_0x5bca0f[_0x51c0ff['size']])*_0x3af3a6+_0x4c12a5,_0x12e77f=(ls[_0x31be36['axis']]-_0x3b862e[_0x31be36['size']])*_0x44729e+_0x41c20a;for(let _0x47a4fe=-0x1b7a+0x10*-0x10f+0x2*0x1635;_0x47a4fe<_0x5bca0f['length'];++_0x47a4fe){const _0x480ee8=(_0x5bca0f[_0x31be36['size']]-_0x36e78d[_0x47a4fe][_0x31be36['size']])*_0x56da6b['alignment'][_0x31be36['axis']];_0xc7288b[_0x47a4fe][_0x51c0ff['axis']]+=_0x3b3125,_0xc7288b[_0x47a4fe][_0x31be36['axis']]+=_0x12e77f+_0x480ee8;}}}function _0x1ebe59(_0x59a794,_0x6862a,_0x5d32b2){for(let _0x5e04aa=0x1d6f+-0x6fc+-0x1673;_0x5e04aa<_0x59a794['length'];++_0x5e04aa){const _0x16d984=_0x59a794[_0x5e04aa],_0x184ce1=_0x6862a[_0x5e04aa],_0xae0a46=_0x5d32b2[_0x5e04aa];for(let _0x5dc72c=-0x18c+0x1219+0x13*-0xdf;_0x5dc72c<_0x16d984['length'];++_0x5dc72c){const _0x19f878=_0x16d984[_0x5dc72c];_0x19f878[_0x51c0ff['calculated'+'Size']]=_0x184ce1[_0x5dc72c][_0x51c0ff['size']],_0x19f878[_0x31be36['calculated'+'Size']]=_0x184ce1[_0x5dc72c][_0x31be36['size']],_0x56da6b['orientatio'+'n']===Ce?_0x19f878['entity']['setLocalPo'+'sition'](_0xae0a46[_0x5dc72c][_0x51c0ff['axis']],_0xae0a46[_0x5dc72c][_0x31be36['axis']],_0x19f878['entity']['getLocalPo'+'sition']()['z']):_0x19f878['entity']['setLocalPo'+'sition'](_0xae0a46[_0x5dc72c][_0x31be36['axis']],_0xae0a46[_0x5dc72c][_0x51c0ff['axis']],_0x19f878['entity']['getLocalPo'+'sition']()['z']);}}}function _0x172c72(_0x5474cc){const _0x43d1b4=_0x5474cc['width'],_0x449dad=_0x5474cc['height'],_0x590727=(ls['x']-_0x43d1b4)*_0x56da6b['alignment']['x']+_0x56da6b['padding']['x'],_0x1665cb=(ls['y']-_0x449dad)*_0x56da6b['alignment']['y']+_0x56da6b['padding']['y'];return{'bounds':new re(_0x590727,_0x1665cb,_0x43d1b4,_0x449dad)};}function _0x414a2f(_0x4ac47d){const _0x30d5a7=[];for(let _0x4c1063=0x1*-0x191c+-0x17be+-0x152*-0x25;_0x4c1063<_0x4ac47d['length'];++_0x4c1063){const _0x24d3e4=_0x4ac47d[_0x4c1063],_0x35f737=Math['max'](_0x27348b(_0x24d3e4,'minWidth'),0x19*-0x127+-0x22d5+-0x2*-0x1fd2),_0x264dac=Math['max'](_0x27348b(_0x24d3e4,'minHeight'),0x2c*-0x61+-0x67+0x1113),_0x58d514=Math['max'](_0x27348b(_0x24d3e4,'maxWidth'),_0x35f737),_0x4cc543=Math['max'](_0x27348b(_0x24d3e4,'maxHeight'),_0x264dac),_0x22e8e3=_0x327d66(_0x27348b(_0x24d3e4,'width'),_0x35f737,_0x58d514),_0x19b432=_0x327d66(_0x27348b(_0x24d3e4,'height'),_0x264dac,_0x4cc543),_0x5208ff=_0x27348b(_0x24d3e4,'fitWidthPr'+'oportion'),_0x2b38ce=_0x27348b(_0x24d3e4,'fitHeightP'+'roportion');_0x30d5a7['push']({'minWidth':_0x35f737,'minHeight':_0x264dac,'maxWidth':_0x58d514,'maxHeight':_0x4cc543,'width':_0x22e8e3,'height':_0x19b432,'fitWidthProportion':_0x5208ff,'fitHeightProportion':_0x2b38ce});}return _0x30d5a7;}function _0x27348b(_0x34d426,_0x5cafa0){const _0x46edb1=_0x34d426['entity']['layoutchil'+'d'];return _0x46edb1&&_0x46edb1['enabled']&&_0x46edb1[_0x5cafa0]!==void(-0xc2*0x2f+-0xd5*0x25+0x1*0x4267)&&_0x46edb1[_0x5cafa0]!==null?_0x46edb1[_0x5cafa0]:_0x34d426[_0x5cafa0]!==void(0x31b+0xa04+0x1*-0xd1f)?_0x34d426[_0x5cafa0]:VR[_0x5cafa0];}function _0x327d66(_0x35dae6,_0xd08828,_0x5e13f9){return Math['min'](Math['max'](_0x35dae6,_0xd08828),_0x5e13f9);}function _0x23613c(_0x2e1d43,_0x5ead12){return _0x2e1d43['reduce']((_0x1cc340,_0x3f413a)=>_0x1cc340+_0x3f413a[_0x5ead12],-0x210b+0x1*-0x1981+0x3a8c);}function _0x1332bf(_0xcc843d,_0x3c929b){const _0x2ce1e8=_0x23613c(_0xcc843d,_0x3c929b),_0x3ab41d=[],_0x1e7fac=_0xcc843d['length'];if(_0x2ce1e8===0x543+0x1562+-0x1aa5){for(let _0x5d8fe8=-0x12f6+0x1f8e*0x1+0x7c*-0x1a;_0x5d8fe8<_0x1e7fac;++_0x5d8fe8)_0x3ab41d['push']((0x14e8+0x1449+-0x293*0x10)/_0x1e7fac);}else{for(let _0x5663da=-0x7*-0x167+0x2d*-0x6d+-0x34*-0x2e;_0x5663da<_0x1e7fac;++_0x5663da)_0x3ab41d['push'](_0xcc843d[_0x5663da][_0x3c929b]/_0x2ce1e8);}return _0x3ab41d;}function _0x79d5f3(_0x47ccfd){if(_0x47ccfd['length']===-0x4ee+-0x22dd+-0x6a2*-0x6)return[-0x22ef+0x150f+0xde1*0x1];const _0x3fb16c=[],_0x341205=_0x47ccfd['length'];for(let _0x4a651e=0x1486+0x1*0xb6c+-0x1ff2;_0x4a651e<_0x341205;++_0x4a651e)_0x3fb16c['push']((-0x4*-0x16+-0x9ea+0x993-_0x47ccfd[_0x4a651e])/(_0x341205-(0xdf*-0x27+-0x1df1+-0x3feb*-0x1)));return _0x3fb16c;}function _0x2405ab(_0x58facb,_0x2f653d,_0x44ef61){return _0x58facb['forEach'](_0x472ade),_0x58facb['slice']()['sort']((_0x434f4e,_0x1dec0d)=>_0x44ef61?_0x1dec0d[_0x2f653d]-_0x434f4e[_0x2f653d]:_0x434f4e[_0x2f653d]-_0x1dec0d[_0x2f653d])['map'](_0x8368a9);}function _0x472ade(_0x4b2683,_0x4d51f1){_0x4b2683['index']=_0x4d51f1;}function _0x8368a9(_0x5343c5){return _0x5343c5['index'];}function _0x3439eb(_0x2c44e8,_0x2c3b65){const _0x1adb61=[];_0x1adb61[_0x2c3b65[_0x2c44e8['length']-(-0x15e4*0x1+0x2450+0x1*-0xe6b)]]=_0x2c44e8[_0x2c3b65[_0x2c44e8['length']-(0x1*-0x1821+0xcd0+0x9*0x142)]];for(let _0x14a9af=_0x2c44e8['length']-(0x2030+0x435+0x195*-0x17);_0x14a9af>=0xdf2+-0xebd+0xcb;--_0x14a9af)_0x1adb61[_0x2c3b65[_0x14a9af]]=_0x1adb61[_0x2c3b65[_0x14a9af+(-0xeb1*0x1+-0xafa+0x19ac*0x1)]]+_0x2c44e8[_0x2c3b65[_0x14a9af]];return _0x1adb61;}return _0x46df8e;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x3f3512,_0x50ff02){const _0x47baf3=xm[_0x50ff02['orientatio'+'n']];if(_0x47baf3)return _0x47baf3(_0x3f3512,_0x50ff02);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x50ff02['orientatio'+'n']);}}function Jg(_0x581162){return _0x581162['element'];}function HR(_0x5a9ee0){return _0x5a9ee0['enabled']&&_0x5a9ee0['element']&&_0x5a9ee0['element']['enabled'];}class s0 extends we{constructor(_0x37e8f7,_0x531f9b){super(_0x37e8f7,_0x531f9b),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x31*0x5e+0x1e35+-0x3032)),h(this,'_reverseY',!(-0x468+0x1195+-0xd2d*0x1)),h(this,'_alignment',new J(0x15*0x13a+0x1be4+-0x35a6,0x18f2+-0x6*-0x166+0x2155*-0x1)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0x239f*0x1+-0x8e1*0x1+-0x2c81*-0x1)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x252f8b=>{this['_listenFor'+'ReflowEven'+'ts'](_0x252f8b,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x37e8f7['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x37e8f7['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x37e8f7['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x37e8f7['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x37e8f7['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x37e8f7['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x56b48f){_0x56b48f!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x56b48f,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x596145){_0x596145!==this['_reverseX']&&(this['_reverseX']=_0x596145,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x4a34b3){_0x4a34b3!==this['_reverseY']&&(this['_reverseY']=_0x4a34b3,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x315c3d){_0x315c3d['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x315c3d),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4ac9c7){_0x4ac9c7['equals'](this['_padding'])||(this['_padding']['copy'](_0x4ac9c7),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0xa04201){_0xa04201['equals'](this['_spacing'])||(this['_spacing']['copy'](_0xa04201),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x641a8a){_0x641a8a!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x641a8a,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x1b79be){_0x1b79be!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x1b79be,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x389bb0){_0x389bb0!==this['_wrap']&&(this['_wrap']=_0x389bb0,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x26c18b){return _0x26c18b===this['entity']||this['entity']['children']['indexOf'](_0x26c18b)!==-(0xa8+-0x7*-0x3b4+-0x1a93);}['_listenFor'+'ReflowEven'+'ts'](_0x15832f,_0x2c9c9d){_0x15832f['element']&&(_0x15832f['element'][_0x2c9c9d]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x15832f['element'][_0x2c9c9d]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x15832f['element'][_0x2c9c9d]('resize',this['_scheduleR'+'eflow'],this),_0x15832f['element'][_0x2c9c9d]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x15832f['layoutchil'+'d']&&(_0x15832f['layoutchil'+'d'][_0x2c9c9d]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x15832f['layoutchil'+'d'][_0x2c9c9d]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x4042b1){this['_isSelfOrC'+'hild'](_0x4042b1)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x4042b1,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x816c9f){this['_isSelfOrC'+'hild'](_0x816c9f)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x816c9f,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x5ac7c3){this['_listenFor'+'ReflowEven'+'ts'](_0x5ac7c3,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x5aa458){this['_listenFor'+'ReflowEven'+'ts'](_0x5aa458,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x1112b7=Jg(this['entity']),_0x1be02a=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x1112b7||_0x1be02a['length']===0x232e+-0x5*-0x39+-0x244b)return;const _0x3a05bf=Math['max'](_0x1112b7['calculated'+'Width'],0xd3*-0x18+0x1f5d+-0x251*0x5),_0x1b449e=Math['max'](_0x1112b7['calculated'+'Height'],-0x4a4+0x1e1d+-0x1979),_0xfdd459={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x3a05bf,_0x1b449e)};this['_isPerform'+'ingReflow']=!(-0xbb4+-0x1d20+0x28d4);const _0x19bd5b=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x1be02a,_0xfdd459);this['_isPerform'+'ingReflow']=!(0x1613+-0x812*0x2+0x3*-0x1fa),this['fire']('reflow',_0x19bd5b);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2aed62=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2aed62,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x15*-0x3d+0x2531+-0x2030*0x1);}}const i0=['enabled'],$R=0xc7*0xd+0x16fb+0x573*-0x6;class XR extends ct{constructor(_0x46f616){super(_0x46f616),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x3bc2d8,_0x538a7a,_0x59e801){_0x538a7a['enabled']!==void(-0xaff*-0x1+0x6b9+0x36*-0x54)&&(_0x3bc2d8['enabled']=_0x538a7a['enabled']),_0x538a7a['orientatio'+'n']!==void(-0x614+0x1*-0x40f+0xa23)&&(_0x3bc2d8['orientatio'+'n']=_0x538a7a['orientatio'+'n']),_0x538a7a['reverseX']!==void(-0x6e6+-0x982*-0x2+-0xc1e)&&(_0x3bc2d8['reverseX']=_0x538a7a['reverseX']),_0x538a7a['reverseY']!==void(-0x96e*0x3+-0x1ed5+-0x3b1f*-0x1)&&(_0x3bc2d8['reverseY']=_0x538a7a['reverseY']),_0x538a7a['alignment']!==void(0x56*-0x18+-0x1*-0x2033+-0x25*0xa7)&&(_0x3bc2d8['alignment']=Array['isArray'](_0x538a7a['alignment'])?new J(_0x538a7a['alignment']):_0x538a7a['alignment']),_0x538a7a['padding']!==void(-0x14*-0x122+-0x1*0x6a9+-0xfff*0x1)&&(_0x3bc2d8['padding']=Array['isArray'](_0x538a7a['padding'])?new re(_0x538a7a['padding']):_0x538a7a['padding']),_0x538a7a['spacing']!==void(0x1cc9+-0x336*0x1+0x1993*-0x1)&&(_0x3bc2d8['spacing']=Array['isArray'](_0x538a7a['spacing'])?new J(_0x538a7a['spacing']):_0x538a7a['spacing']),_0x538a7a['widthFitti'+'ng']!==void(-0x466+-0xe41+0x12a7)&&(_0x3bc2d8['widthFitti'+'ng']=_0x538a7a['widthFitti'+'ng']),_0x538a7a['heightFitt'+'ing']!==void(-0x9e5+0x45*0x1f+-0x18a*-0x1)&&(_0x3bc2d8['heightFitt'+'ing']=_0x538a7a['heightFitt'+'ing']),_0x538a7a['wrap']!==void(0x3*0x2bd+-0x14f7+0xcc0)&&(_0x3bc2d8['wrap']=_0x538a7a['wrap']),super['initialize'+'ComponentD'+'ata'](_0x3bc2d8,_0x538a7a,_0x59e801);}['cloneCompo'+'nent'](_0x328a0d,_0x344fbf){const _0x47d413=_0x328a0d['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x344fbf,{'enabled':_0x47d413['enabled'],'orientation':_0x47d413['orientatio'+'n'],'reverseX':_0x47d413['reverseX'],'reverseY':_0x47d413['reverseY'],'alignment':_0x47d413['alignment'],'padding':_0x47d413['padding'],'spacing':_0x47d413['spacing'],'widthFitting':_0x47d413['widthFitti'+'ng'],'heightFitting':_0x47d413['heightFitt'+'ing'],'wrap':_0x47d413['wrap']});}['scheduleRe'+'flow'](_0x2c3845){this['_reflowQue'+'ue']['indexOf'](_0x2c3845)===-(-0xf*0x243+-0x16ff+0x38ed)&&this['_reflowQue'+'ue']['push'](_0x2c3845);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x65*0x32+0xcdb+0x6df)return;let _0x3ddaf0=0x1ea3+0xa7*-0x8+-0x196b;for(;this['_reflowQue'+'ue']['length']>0x2608*-0x1+0x1a37+0xbd1;){const _0x545cad=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x56d+0x6f7*-0x5+0xeb3*0x2,_0x545cad['sort']((_0x30f298,_0x323f8e)=>_0x30f298['entity']['graphDepth']-_0x323f8e['entity']['graphDepth']);for(let _0x2f4930=0x3f1*-0x2+0x3*0x25d+0x1*0xcb;_0x2f4930<_0x545cad['length'];++_0x2f4930)_0x545cad[_0x2f4930]['reflow']();if(++_0x3ddaf0>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x51fddf,_0x20f017){_0x20f017['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x5462b4){this['map']['forEach'](_0x584712=>_0x584712['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x1088b8,_0x1fd285)=>{const _0x3ad918=jR['get'](_0x1088b8,()=>new qR());let _0x5477c2=_0x3ad918['map']['get'](_0x1fd285);if(!_0x5477c2){let _0x3f723e,_0x33a757;switch(_0x1fd285){case'box':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new mu()),_0x33a757={'x':0x2,'y':0x2,'z':0x2,'uv':(0xa74*-0x1+-0xc2*-0x1+-0x114*-0x9)/(0x2343+-0x74f*-0x4+-0x407c)};break;case'capsule':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new GA({'radius':0.5,'height':0x2})),_0x33a757={'x':Math['PI']*(-0x2689+-0x233+0x28be),'y':Math['PI'],'z':Math['PI']*(-0x263*0xf+-0x1f6*0x11+0x4525),'uv':(-0xd4b+0x3*0xf1+0xa79)/(0x1*0x191+0x1941+-0x1acf)+(0x1*-0x261b+0x18*0x154+-0x39*-0x1c)/(-0xd72*0x1+-0xd70+0x1ae5)/(-0x5*-0x623+-0x2*-0xdf9+-0x3a9e)*(-0x3*0x4f+-0x4*0x80c+0x211f)};break;case'cone':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x33a757={'x':2.54,'y':2.54,'z':2.54,'uv':(0xc94+-0x4*0x2c8+-0x173)/(-0x5f1+0x1*0x1847+-0x1253)+(-0xb*-0x29c+0xbea+-0x1*0x289d)/(-0x149e+-0x1fa8+0x3449)/(-0x2348*0x1+-0xb*-0xd6+0x1a19)};break;case'cylinder':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new WA({'radius':0.5,'height':0x1})),_0x33a757={'x':Math['PI'],'y':(-0x1*-0xa3+-0x89*0x46+0x1*0x24d3+0.79)*(0x995*-0x3+-0x19e8+-0x7cf*-0x7),'z':Math['PI'],'uv':(-0x171b+0x1d0*-0xe+0x307c)/(0x1afb*-0x1+0x3b*-0x31+0x2649)+(0x108a+-0x5*0x485+0x308*0x2)/(-0x79b+-0x9fb+-0x5*-0x385)/(-0x4*-0x595+-0x1a13+-0x1e1*-0x2)*(0xbc2+-0xeb6+0x17b*0x2)};break;case'plane':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new $A({'halfExtents':new J(0x168f+-0x221e+0xb8f+0.5,-0x2*0x3fe+0x1223*0x2+0xe25*-0x2+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x33a757={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new _m({'radius':0.5})),_0x33a757={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x3f723e=Ge['fromGeomet'+'ry'](_0x1088b8,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x33a757={'x':Math['PI']*(0x5ca+0x1313+-0x18dd+0.5)*(-0xbab*-0x3+-0x23ca*0x1+-0xc9*-0x1+0.5)-Math['PI']*(-0x12c5+0xf6*0x9+-0xa1f*-0x1+0.1)*(0x7ae+0x1*0x10f3+-0x18a1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x1fd285);}_0x3f723e['incRefCoun'+'t'](),_0x5477c2={'mesh':_0x3f723e,'area':_0x33a757},_0x3ad918['map']['set'](_0x1fd285,_0x5477c2);}return _0x5477c2;};class Tm extends we{constructor(_0x5601ae,_0x590705){super(_0x5601ae,_0x590705),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1*-0x309+0x1dc4+0x1*-0x1abb)),h(this,'_receiveSh'+'adows',!(-0x1173*0x1+-0x1a43+0x2bb6)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x290*-0x8+-0x1997+0x1*0x517)),h(this,'_lightmapp'+'ed',!(-0x1*-0x71+-0x3f5*-0x7+-0x961*0x3)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x48b+-0x1*0xc1+-0x17*-0x3b),h(this,'isStatic',!(-0x1a05+0x1d2e+-0x328)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0xbb9+0x565+0x655*0x1)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0xb39+-0x1*0x295+-0x8a3)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x5601ae['defaultMat'+'erial'],_0x590705['on']('remove',this['onRemoveCh'+'ild'],this),_0x590705['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x590705['on']('insert',this['onInsertCh'+'ild'],this),_0x590705['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x9fe06f){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x9fe06f);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x458382){if(this['_customAab'+'b']=_0x458382,this['_model']){const _0x27558f=this['_model']['meshInstan'+'ces'];if(_0x27558f){for(let _0x190a82=0x784+0xf*-0x298+-0x2*-0xfb2;_0x190a82<_0x27558f['length'];_0x190a82++)_0x27558f[_0x190a82]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x5de58d){if(this['_type']!==_0x5de58d){if(this['_area']=null,this['_type']=_0x5de58d,_0x5de58d==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x158db9=r0(this['system']['app']['graphicsDe'+'vice'],_0x5de58d);this['_area']=_0x158db9['area'];const _0x742a73=_0x158db9['mesh'],_0x2a1f6a=new Ie(),_0x46e91c=new sr();_0x46e91c['graph']=_0x2a1f6a,_0x46e91c['meshInstan'+'ces']=[new He(_0x742a73,this['_material'],_0x2a1f6a)],this['model']=_0x46e91c,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x40c3a2){const _0x25f321=this['system']['app']['assets'];let _0x39e55a=_0x40c3a2;if(_0x40c3a2 instanceof pe&&(_0x39e55a=_0x40c3a2['id']),this['_asset']!==_0x39e55a){if(this['_asset']){_0x25f321['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x4e186d=_0x25f321['get'](this['_asset']);_0x4e186d&&this['_unbindMod'+'elAsset'](_0x4e186d);}if(this['_asset']=_0x39e55a,this['_asset']){const _0x3fa3b4=_0x25f321['get'](this['_asset']);_0x3fa3b4?this['_bindModel'+'Asset'](_0x3fa3b4):(this['model']=null,_0x25f321['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x341e69){if(this['_model']!==_0x341e69){if(_0x341e69&&_0x341e69['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x10*-0x1be+-0xe8a+0x2a6b),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x13ac+-0x10e4*0x1+0xb*0x353))),this['_model']=_0x341e69,this['_model']){this['_model']['_immutable']=!(0x164*0x18+0xd*0x16+-0x227e);const _0x38ad59=this['_model']['meshInstan'+'ces'];for(let _0x22ebd7=-0xf29*0x1+-0x1*-0x2465+-0x153c;_0x22ebd7<_0x38ad59['length'];_0x22ebd7++)_0x38ad59[_0x22ebd7]['castShadow']=this['_castShado'+'ws'],_0x38ad59[_0x22ebd7]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x38ad59[_0x22ebd7]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x53fc32){if(_0x53fc32!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x53fc32,this['_model'])){const _0x161447=this['_model']['meshInstan'+'ces'];for(let _0x2badea=0x1*0x198c+-0x338+-0x1654;_0x2badea<_0x161447['length'];_0x2badea++)_0x161447[_0x2badea]['setLightma'+'pped'](_0x53fc32);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x506c11){if(this['_castShado'+'ws']===_0x506c11)return;const _0x50f04d=this['_model'];if(_0x50f04d){const _0x18fe17=this['layers'],_0x4160d3=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x506c11)for(let _0x2a8286=0x134c+-0x1*0xae5+-0x867;_0x2a8286<_0x18fe17['length'];_0x2a8286++){const _0x27aaae=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2a8286]);_0x27aaae&&_0x27aaae['removeShad'+'owCasters'](_0x50f04d['meshInstan'+'ces']);}const _0x1b7085=_0x50f04d['meshInstan'+'ces'];for(let _0x4bc716=0xbe4+-0x239f*0x1+-0x4bf*-0x5;_0x4bc716<_0x1b7085['length'];_0x4bc716++)_0x1b7085[_0x4bc716]['castShadow']=_0x506c11;if(!this['_castShado'+'ws']&&_0x506c11)for(let _0x26db53=0x71c+-0x369+-0x3b3;_0x26db53<_0x18fe17['length'];_0x26db53++){const _0x51868c=_0x4160d3['layers']['getLayerBy'+'Id'](_0x18fe17[_0x26db53]);_0x51868c&&_0x51868c['addShadowC'+'asters'](_0x50f04d['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x506c11;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x409cba){if(this['_receiveSh'+'adows']!==_0x409cba&&(this['_receiveSh'+'adows']=_0x409cba,this['_model'])){const _0x39629e=this['_model']['meshInstan'+'ces'];for(let _0x41321d=-0x8*0x2a5+0x1*-0x683+0x1bab,_0x3e4f21=_0x39629e['length'];_0x41321d<_0x3e4f21;_0x41321d++)_0x39629e[_0x41321d]['receiveSha'+'dow']=_0x409cba;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x218721){this['_castShado'+'wsLightmap']=_0x218721;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x2e07fb){this['_lightmapS'+'izeMultipl'+'ier']=_0x2e07fb;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x534481){const _0x582756=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1b3686=-0x1*-0x2c+0x24f8+0x949*-0x4;_0x1b3686<this['_layers']['length'];_0x1b3686++){const _0x27a316=_0x582756['getLayerBy'+'Id'](this['_layers'][_0x1b3686]);_0x27a316&&_0x27a316['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1344+-0x1ae0+0x2e24;for(let _0x303cc7=0xe3f*0x1+0x9fe+-0x4d9*0x5;_0x303cc7<_0x534481['length'];_0x303cc7++)this['_layers'][_0x303cc7]=_0x534481[_0x303cc7];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x44d6e2=-0xabd+-0x214d+-0xeae*-0x3;_0x44d6e2<this['_layers']['length'];_0x44d6e2++){const _0x2a32a1=_0x582756['getLayerBy'+'Id'](this['_layers'][_0x44d6e2]);_0x2a32a1&&_0x2a32a1['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4a404d){var _0x2920f8,_0x569940;this['_batchGrou'+'pId']!==_0x4a404d&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x108d+0x2103+0x1*-0x1076&&((_0x2920f8=this['system']['app']['batcher'])==null||_0x2920f8['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4a404d>=0x169f*-0x1+0x1*-0xcdd+0x2f5*0xc&&((_0x569940=this['system']['app']['batcher'])==null||_0x569940['insert'](St['MODEL'],_0x4a404d,this['entity'])),_0x4a404d<0x955*0x2+-0x19ab+0x701&&this['_batchGrou'+'pId']>=-0xe9*0xb+0x1*0xd19+0x5*-0x9e&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x4a404d);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x39beff){let _0x3020f3=_0x39beff;_0x39beff instanceof pe&&(_0x3020f3=_0x39beff['id']);const _0x3e2043=this['system']['app']['assets'];if(_0x3020f3!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x3e2043['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0xc1e84d=_0x3e2043['get'](this['_materialA'+'sset']);_0xc1e84d&&this['_unbindMat'+'erialAsset'](_0xc1e84d);}if(this['_materialA'+'sset']=_0x3020f3,this['_materialA'+'sset']){const _0x164d16=_0x3e2043['get'](this['_materialA'+'sset']);_0x164d16?this['_bindMater'+'ialAsset'](_0x164d16):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x3e2043['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x5db2da){this['_material']!==_0x5db2da&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x5db2da));}get['material'](){return this['_material'];}set['mapping'](_0x17369c){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x17369c||(_0x17369c={}),this['_mapping']=_0x17369c,!this['_model']))return;const _0x436cd4=this['_model']['meshInstan'+'ces'],_0x23955c=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x5a4c57=_0x23955c?_0x23955c['data']['mapping']:null;let _0x172588=null;for(let _0x32e512=0x1ef1+0x1b27+-0x4*0xe86,_0x543923=_0x436cd4['length'];_0x32e512<_0x543923;_0x32e512++)if(_0x17369c[_0x32e512]!==void(-0x35f+0x3f*-0x7a+0x2165))_0x17369c[_0x32e512]?(_0x172588=this['system']['app']['assets']['get'](_0x17369c[_0x32e512]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x172588,_0x436cd4[_0x32e512],_0x32e512)):_0x436cd4[_0x32e512]['material']=this['system']['defaultMat'+'erial'];else{if(_0x5a4c57){if(_0x5a4c57[_0x32e512]&&(_0x5a4c57[_0x32e512]['material']||_0x5a4c57[_0x32e512]['path'])){if(_0x5a4c57[_0x32e512]['material']!==void(-0x9d8+-0x17ee+-0x21c6*-0x1))_0x172588=this['system']['app']['assets']['get'](_0x5a4c57[_0x32e512]['material']);else{if(_0x5a4c57[_0x32e512]['path']!==void(0x14a1+-0x1cd*-0x13+0x6*-0x924)){const _0x3f7e28=this['_getMateri'+'alAssetUrl'](_0x5a4c57[_0x32e512]['path']);_0x3f7e28&&(_0x172588=this['system']['app']['assets']['getByUrl'](_0x3f7e28));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x172588,_0x436cd4[_0x32e512],_0x32e512);}else _0x436cd4[_0x32e512]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x24a21b=this['system']['app']['scene']['layers'];for(let _0x1d465d=0x58*0x1+-0x20ed+0x2095;_0x1d465d<this['_layers']['length'];_0x1d465d++){const _0x3b2d00=_0x24a21b['getLayerBy'+'Id'](this['_layers'][_0x1d465d]);_0x3b2d00&&_0x3b2d00['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x1c4352=this['system']['app']['scene']['layers'];for(let _0x2c2983=0x1902+0xe62+-0x2764;_0x2c2983<this['_layers']['length'];_0x2c2983++){const _0xb3e479=_0x1c4352['getLayerBy'+'Id'](this['_layers'][_0x2c2983]);_0xb3e479&&_0xb3e479['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1ee946,_0x358049){this['addModelTo'+'Layers'](),_0x1ee946['off']('add',this['onLayerAdd'+'ed'],this),_0x1ee946['off']('remove',this['onLayerRem'+'oved'],this),_0x358049['on']('add',this['onLayerAdd'+'ed'],this),_0x358049['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3e8747){this['layers']['indexOf'](_0x3e8747['id'])<-0x13c3+-0x1*0x17b3+0x2b76*0x1||_0x3e8747['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x535d3e){this['layers']['indexOf'](_0x535d3e['id'])<0x1*0x1a23+-0x513*-0x3+-0x295c||_0x535d3e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0xf612d5,_0x567be9,_0x2552cf,_0x46000d){const _0x32ebb7=_0x567be9+':'+_0x2552cf;this['system']['app']['assets']['on'](_0x32ebb7,_0x46000d,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0xf612d5]||(this['_materialE'+'vents'][_0xf612d5]={}),this['_materialE'+'vents'][_0xf612d5][_0x32ebb7]={'id':_0x2552cf,'handler':_0x46000d};}['_unsetMate'+'rialEvents'](){const _0x176cd9=this['system']['app']['assets'],_0x2cc262=this['_materialE'+'vents'];if(_0x2cc262){for(let _0x269c52=0xd5*0x2b+0x2*0xe3b+-0x37*0x12b,_0x37403a=_0x2cc262['length'];_0x269c52<_0x37403a;_0x269c52++){if(!_0x2cc262[_0x269c52])continue;const _0x135578=_0x2cc262[_0x269c52];for(const _0x2b349e in _0x135578)_0x176cd9['off'](_0x2b349e,_0x135578[_0x2b349e]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x90a4bd){let _0xb2ecd5=null;if(!isNaN(parseInt(_0x90a4bd,-0x1e2*0xd+-0x807+0x208b)))_0xb2ecd5=this['system']['app']['assets']['get'](_0x90a4bd);else{if(this['asset']){const _0x113bdd=this['_getMateri'+'alAssetUrl'](_0x90a4bd);_0x113bdd&&(_0xb2ecd5=this['system']['app']['assets']['getByUrl'](_0x113bdd));}}return _0xb2ecd5;}['_getMateri'+'alAssetUrl'](_0x315e3b){if(!this['asset'])return null;const _0x38c87a=this['system']['app']['assets']['get'](this['asset']);return _0x38c87a?_0x38c87a['getAbsolut'+'eUrl'](_0x315e3b):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5ba323,_0x44eb63,_0x4ddcf0){const _0x559d6e=this['system']['app']['assets'];_0x5ba323&&(_0x5ba323['resource']?(_0x44eb63['material']=_0x5ba323['resource'],this['_setMateri'+'alEvent'](_0x4ddcf0,'remove',_0x5ba323['id'],function(){_0x44eb63['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x4ddcf0,'load',_0x5ba323['id'],function(_0x5167af){_0x44eb63['material']=_0x5167af['resource'],this['_setMateri'+'alEvent'](_0x4ddcf0,'remove',_0x5ba323['id'],function(){_0x44eb63['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x559d6e['load'](_0x5ba323)));}['onEnable'](){var _0x301ee9;const _0x4334da=this['system']['app'],_0x4f292e=_0x4334da['scene'],_0x425ea3=_0x4f292e==null?void(0x71*-0x58+-0x1*-0x2146+-0x2*-0x2c9):_0x4f292e['layers'];this['_evtLayers'+'Changed']=_0x4f292e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x425ea3&&(this['_evtLayerA'+'dded']=_0x425ea3['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x425ea3['on']('remove',this['onLayerRem'+'oved'],this));const _0x225ec4=this['_type']==='asset';let _0x46135e;if(this['_model']?this['addModelTo'+'Layers']():_0x225ec4&&this['_asset']&&(_0x46135e=_0x4334da['assets']['get'](this['_asset']),_0x46135e&&_0x46135e['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x46135e)),this['_materialA'+'sset']&&(_0x46135e=_0x4334da['assets']['get'](this['_materialA'+'sset']),_0x46135e&&_0x46135e['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x46135e)),_0x225ec4&&this['_mapping']){for(const _0x40c163 in this['_mapping'])this['_mapping'][_0x40c163]&&(_0x46135e=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x40c163]),_0x46135e&&!_0x46135e['resource']&&_0x4334da['assets']['load'](_0x46135e));}this['_batchGrou'+'pId']>=0xec1+0x23aa+0x1*-0x326b&&((_0x301ee9=_0x4334da['batcher'])==null||_0x301ee9['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x37bea2,_0x54d41b,_0x56844e,_0x1fb0ba;const _0xd31ea6=this['system']['app'],_0x2ba7e2=_0xd31ea6['scene']['layers'];(_0x37bea2=this['_evtLayers'+'Changed'])==null||_0x37bea2['off'](),this['_evtLayers'+'Changed']=null,_0x2ba7e2&&((_0x54d41b=this['_evtLayerA'+'dded'])==null||_0x54d41b['off'](),this['_evtLayerA'+'dded']=null,(_0x56844e=this['_evtLayerR'+'emoved'])==null||_0x56844e['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x160d+-0x1ffd*0x1+0x360a&&((_0x1fb0ba=_0xd31ea6['batcher'])==null||_0x1fb0ba['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x150f86=this['_model']['meshInstan'+'ces'];for(let _0x2362d1=-0x163b*-0x1+-0x7*0x1cb+-0x9ae,_0xeea1c9=_0x150f86['length'];_0x2362d1<_0xeea1c9;_0x2362d1++)_0x150f86[_0x2362d1]['visible']=!(-0x16db+0x14fd+0x1*0x1df);}}['show'](){if(this['_model']){const _0x3a4241=this['_model']['meshInstan'+'ces'];for(let _0x174afb=0x5b5*0x1+0x1*0xac5+-0x4a*0x39,_0x1f4d66=_0x3a4241['length'];_0x174afb<_0x1f4d66;_0x174afb++)_0x3a4241[_0x174afb]['visible']=!(-0x16*-0x132+0x1*0x1012+-0x2a5e);}}['_bindMater'+'ialAsset'](_0x1af69f){if(_0x1af69f['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x1af69f['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x1af69f['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x1af69f['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x1af69f['resource'])this['_onMateria'+'lAssetLoad'](_0x1af69f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1af69f);}}['_unbindMat'+'erialAsset'](_0x275d01){_0x275d01['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x275d01['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x275d01['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x275d01['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x43f9c9){this['system']['app']['assets']['off']('add:'+_0x43f9c9['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x43f9c9['id']&&this['_bindMater'+'ialAsset'](_0x43f9c9);}['_onMateria'+'lAssetLoad'](_0x1f92d2){this['_setMateri'+'al'](_0x1f92d2['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x53d882){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x420b46){this['_onMateria'+'lAssetUnlo'+'ad'](_0x420b46);}['_onMateria'+'lAssetChan'+'ge'](_0x771a7f){}['_bindModel'+'Asset'](_0x57952d){if(this['_unbindMod'+'elAsset'](_0x57952d),_0x57952d['on']('load',this['_onModelAs'+'setLoad'],this),_0x57952d['on']('unload',this['_onModelAs'+'setUnload'],this),_0x57952d['on']('change',this['_onModelAs'+'setChange'],this),_0x57952d['on']('remove',this['_onModelAs'+'setRemove'],this),_0x57952d['resource'])this['_onModelAs'+'setLoad'](_0x57952d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x57952d);}}['_unbindMod'+'elAsset'](_0x485616){_0x485616['off']('load',this['_onModelAs'+'setLoad'],this),_0x485616['off']('unload',this['_onModelAs'+'setUnload'],this),_0x485616['off']('change',this['_onModelAs'+'setChange'],this),_0x485616['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x319324){this['system']['app']['assets']['off']('add:'+_0x319324['id'],this['_onModelAs'+'setAdded'],this),_0x319324['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x319324);}['_onModelAs'+'setLoad'](_0x1e5875){this['model']=_0x1e5875['resource']['clone'](),this['_clonedMod'+'el']=!(-0x987+0x1b4e+-0x11c7);}['_onModelAs'+'setUnload'](_0x25d11c){this['model']=null;}['_onModelAs'+'setChange'](_0x2a7d6a,_0x1526d0,_0x373b00,_0x559fdc){_0x1526d0==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x24183c){this['model']=null;}['_setMateri'+'al'](_0xff3f89){if(this['_material']===_0xff3f89)return;this['_material']=_0xff3f89;const _0x29511a=this['_model'];if(_0x29511a&&this['_type']!=='asset'){const _0x3f4564=_0x29511a['meshInstan'+'ces'];for(let _0x3d008c=0x1d2c+0xd*0x2ba+-0x409e,_0x50c489=_0x3f4564['length'];_0x3d008c<_0x50c489;_0x3d008c++)_0x3f4564[_0x3d008c]['material']=_0xff3f89;}}}class YR{constructor(){this['enabled']=!(0xf13+-0x1525*0x1+0x6*0x103);}}const a0=['enabled'];class KR extends ct{constructor(_0x5f3fd5){super(_0x5f3fd5),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x5f3fd5['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xd68c6d,_0x5e4550,_0x5c6c6c){_0x5c6c6c=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x5e4550['batchGroup'+'Id']===null||_0x5e4550['batchGroup'+'Id']===void(0x1*-0x252d+-0xa59+0x2f86))&&(_0x5e4550['batchGroup'+'Id']=-(-0x1*0x1c6d+-0x5a9+0x2217)),_0x5e4550['layers']&&_0x5e4550['layers']['length']&&(_0x5e4550['layers']=_0x5e4550['layers']['slice'](-0x1b88+-0x22d6+-0x1*-0x3e5e));for(let _0x57d928=0x154+-0x109d*-0x1+-0x11f1;_0x57d928<_0x5c6c6c['length'];_0x57d928++)_0x5e4550['hasOwnProp'+'erty'](_0x5c6c6c[_0x57d928])&&(_0xd68c6d[_0x5c6c6c[_0x57d928]]=_0x5e4550[_0x5c6c6c[_0x57d928]]);_0x5e4550['aabbCenter']&&_0x5e4550['aabbHalfEx'+'tents']&&(_0xd68c6d['customAabb']=new De(new D(_0x5e4550['aabbCenter']),new D(_0x5e4550['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xd68c6d,_0x5e4550,['enabled']);}['cloneCompo'+'nent'](_0x56c456,_0x274548){const _0x2d5e09={'type':_0x56c456['model']['type'],'asset':_0x56c456['model']['asset'],'castShadows':_0x56c456['model']['castShadow'+'s'],'receiveShadows':_0x56c456['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x56c456['model']['castShadow'+'sLightmap'],'lightmapped':_0x56c456['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x56c456['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x56c456['model']['isStatic'],'enabled':_0x56c456['model']['enabled'],'layers':_0x56c456['model']['layers'],'batchGroupId':_0x56c456['model']['batchGroup'+'Id'],'mapping':ah({},_0x56c456['model']['mapping'])};let _0x37f89d=_0x56c456['model']['materialAs'+'set'];!(_0x37f89d instanceof pe)&&_0x37f89d!=null&&(_0x37f89d=this['app']['assets']['get'](_0x37f89d));const _0x25eae4=_0x56c456['model']['material'];(!_0x25eae4||_0x25eae4===this['defaultMat'+'erial']||!_0x37f89d||_0x25eae4===_0x37f89d['resource'])&&(_0x2d5e09['materialAs'+'set']=_0x37f89d);const _0x9a2b7e=this['addCompone'+'nt'](_0x274548,_0x2d5e09);if(_0x56c456['model']['model']&&_0x56c456['model']['type']==='asset'&&!_0x56c456['model']['asset']&&(_0x9a2b7e['model']=_0x56c456['model']['model']['clone'](),_0x9a2b7e['_clonedMod'+'el']=!(-0xbe7+0x4e2+0x1*0x705)),_0x2d5e09['materialAs'+'set']||(_0x9a2b7e['material']=_0x25eae4),_0x56c456['model']['model']){const _0x453975=_0x56c456['model']['model']['meshInstan'+'ces'],_0x149263=_0x9a2b7e['model']['meshInstan'+'ces'];for(let _0x2f8a90=-0x12*0xb+0x1613+-0x154d;_0x2f8a90<_0x453975['length'];_0x2f8a90++)_0x149263[_0x2f8a90]['mask']=_0x453975[_0x2f8a90]['mask'],_0x149263[_0x2f8a90]['material']=_0x453975[_0x2f8a90]['material'],_0x149263[_0x2f8a90]['layer']=_0x453975[_0x2f8a90]['layer'],_0x149263[_0x2f8a90]['receiveSha'+'dow']=_0x453975[_0x2f8a90]['receiveSha'+'dow'];}return _0x56c456['model']['customAabb']&&(_0x9a2b7e['customAabb']=_0x56c456['model']['customAabb']['clone']()),_0x9a2b7e;}['onRemove'](_0x4c2c50,_0xaee4e1){_0xaee4e1['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x3b9894,_0x175102){super(_0x3b9894,_0x175102),h(this,'_requested'+'Depth',!(0x4f*0xa+-0x77e+0x469)),h(this,'_drawOrder',-0xc5*-0x3+-0x9*-0x255+0x174c*-0x1),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x596a0e=>{this['on']('set_'+_0x596a0e,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x5ae2bb=>{this['on']('set_'+_0x5ae2bb,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x35fe33=>{this['on']('set_'+_0x35fe33,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x2ea094=this['system']['store'][this['entity']['getGuid']()];return _0x2ea094?_0x2ea094['data']:null;}set['enabled'](_0x32242a){this['_setValue']('enabled',_0x32242a);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x5304b9){this['_setValue']('autoPlay',_0x5304b9);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x477fa8){this['_setValue']('numParticl'+'es',_0x477fa8);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x27af93){this['_setValue']('lifetime',_0x27af93);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x317737){this['_setValue']('rate',_0x317737);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x4c76d0){this['_setValue']('rate2',_0x4c76d0);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x45589b){this['_setValue']('startAngle',_0x45589b);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x44c178){this['_setValue']('startAngle'+'2',_0x44c178);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x53c2f3){this['_setValue']('loop',_0x53c2f3);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x5c28b4){this['_setValue']('preWarm',_0x5c28b4);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x499d89){this['_setValue']('lighting',_0x499d89);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x5c84e1){this['_setValue']('halfLamber'+'t',_0x5c84e1);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x22409e){this['_setValue']('intensity',_0x22409e);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x2ac5df){this['_setValue']('depthWrite',_0x2ac5df);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x5701d8){this['_setValue']('noFog',_0x5701d8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x328818){this['_setValue']('depthSofte'+'ning',_0x328818);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x116386){this['_setValue']('sort',_0x116386);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1f241d){this['_setValue']('blendType',_0x1f241d);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x5b8ef0){this['_setValue']('stretch',_0x5b8ef0);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0xd4e1dd){this['_setValue']('alignToMot'+'ion',_0xd4e1dd);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x146357){this['_setValue']('emitterSha'+'pe',_0x146357);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x226ac5){this['_setValue']('emitterExt'+'ents',_0x226ac5);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x90e6b){this['_setValue']('emitterExt'+'entsInner',_0x90e6b);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0xd188e0){this['_setValue']('emitterRad'+'ius',_0xd188e0);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x2f9cfb){this['_setValue']('emitterRad'+'iusInner',_0x2f9cfb);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x4b6cb9){this['_setValue']('initialVel'+'ocity',_0x4b6cb9);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x9bf158){this['_setValue']('wrap',_0x9bf158);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x453178){this['_setValue']('wrapBounds',_0x453178);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x4def6b){this['_setValue']('localSpace',_0x4def6b);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x39fc71){this['_setValue']('screenSpac'+'e',_0x39fc71);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x515ad2){this['_setValue']('colorMapAs'+'set',_0x515ad2);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x59fe25){this['_setValue']('normalMapA'+'sset',_0x59fe25);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x1c781b){this['_setValue']('mesh',_0x1c781b);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x18d7a6){this['_setValue']('meshAsset',_0x18d7a6);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x56cc12){this['_setValue']('renderAsse'+'t',_0x56cc12);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0xf700d){this['_setValue']('orientatio'+'n',_0xf700d);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x539769){this['_setValue']('particleNo'+'rmal',_0x539769);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x1b839a){this['_setValue']('localVeloc'+'ityGraph',_0x1b839a);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x4ab4c2){this['_setValue']('localVeloc'+'ityGraph2',_0x4ab4c2);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x49e3d1){this['_setValue']('velocityGr'+'aph',_0x49e3d1);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x6b280c){this['_setValue']('velocityGr'+'aph2',_0x6b280c);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x355cae){this['_setValue']('rotationSp'+'eedGraph',_0x355cae);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x5510b5){this['_setValue']('rotationSp'+'eedGraph2',_0x5510b5);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x2bc03f){this['_setValue']('radialSpee'+'dGraph',_0x2bc03f);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x2e62cf){this['_setValue']('radialSpee'+'dGraph2',_0x2e62cf);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x27e386){this['_setValue']('scaleGraph',_0x27e386);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x3e555d){this['_setValue']('scaleGraph'+'2',_0x3e555d);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0xe330c1){this['_setValue']('colorGraph',_0xe330c1);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x5d06e5){this['_setValue']('colorGraph'+'2',_0x5d06e5);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x3aa5d5){this['_setValue']('alphaGraph',_0x3aa5d5);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x5a6e66){this['_setValue']('alphaGraph'+'2',_0x5a6e66);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x97c34c){this['_setValue']('colorMap',_0x97c34c);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0xa57b21){this['_setValue']('normalMap',_0xa57b21);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x5ee6e7){this['_setValue']('animTilesX',_0x5ee6e7);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x37c290){this['_setValue']('animTilesY',_0x37c290);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x851371){this['_setValue']('animStartF'+'rame',_0x851371);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xf50d98){this['_setValue']('animNumFra'+'mes',_0xf50d98);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4bf6e1){this['_setValue']('animNumAni'+'mations',_0x4bf6e1);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x3a3eda){this['_setValue']('animIndex',_0x3a3eda);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x227139){this['_setValue']('randomizeA'+'nimIndex',_0x227139);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x22acb3){this['_setValue']('animSpeed',_0x22acb3);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x2d9778){this['_setValue']('animLoop',_0x2d9778);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x341799){this['_setValue']('layers',_0x341799);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x41f230){this['_drawOrder']=_0x41f230,this['emitter']&&(this['emitter']['drawOrder']=_0x41f230);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x3ef6fc,_0x4ebade){const _0x15ce70=this['data'],_0x11c8cf=_0x15ce70[_0x3ef6fc];_0x15ce70[_0x3ef6fc]=_0x4ebade,this['fire']('set',_0x3ef6fc,_0x11c8cf,_0x4ebade);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x26a778=0x176a+-0x1*-0x116+0x620*-0x4;_0x26a778<this['layers']['length'];_0x26a778++){const _0x1517fd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x26a778]);_0x1517fd&&(_0x1517fd['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x1517fd);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x4ea0f0=-0x1eb6+0xd6f+-0x1147*-0x1;_0x4ea0f0<this['layers']['length'];_0x4ea0f0++){const _0x2936cc=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4ea0f0]);_0x2936cc&&_0x2936cc['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x2811cd,_0x5c596d,_0x55efd9){if(this['emitter']){for(let _0x3893ae=-0x1fcd+-0x1001+0x2fce;_0x3893ae<_0x5c596d['length'];_0x3893ae++){const _0x38482c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5c596d[_0x3893ae]);_0x38482c&&_0x38482c['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x353e65=-0xb1c*0x1+-0x88d+0x13a9;_0x353e65<_0x55efd9['length'];_0x353e65++){const _0x11895f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x55efd9[_0x353e65]);_0x11895f&&_0x11895f['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x2339be,_0x3cfc50){this['addMeshIns'+'tanceToLay'+'ers'](),_0x2339be['off']('add',this['onLayerAdd'+'ed'],this),_0x2339be['off']('remove',this['onLayerRem'+'oved'],this),_0x3cfc50['on']('add',this['onLayerAdd'+'ed'],this),_0x3cfc50['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x39b638){!this['emitter']||this['layers']['indexOf'](_0x39b638['id'])<-0x12af*0x1+-0x2204+-0x3*-0x1191||_0x39b638['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x329ee1){!this['emitter']||this['layers']['indexOf'](_0x329ee1['id'])<-0x1dff*-0x1+-0x21d1+0x3d2||_0x329ee1['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x407f02){if(_0x407f02['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x407f02['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x407f02['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x407f02['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x407f02['resource'])this['_onColorMa'+'pAssetLoad'](_0x407f02);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x407f02);}}['_unbindCol'+'orMapAsset'](_0x3ea8e9){_0x3ea8e9['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x3ea8e9['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x3ea8e9['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x3ea8e9['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x107940){this['colorMap']=_0x107940['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x5da621){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x1c0426){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x1c0426);}['_onColorMa'+'pAssetChan'+'ge'](_0x2d22d5){}['onSetColor'+'MapAsset'](_0x1e10e4,_0x4cadc2,_0x14a965){const _0x171230=this['system']['app']['assets'];if(_0x4cadc2){const _0x28c649=_0x171230['get'](_0x4cadc2);_0x28c649&&this['_unbindCol'+'orMapAsset'](_0x28c649);}if(_0x14a965){_0x14a965 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x14a965['id'],_0x14a965=_0x14a965['id']);const _0x33f5bb=_0x171230['get'](_0x14a965);_0x33f5bb?this['_bindColor'+'MapAsset'](_0x33f5bb):_0x171230['once']('add:'+_0x14a965,_0x7c44ae=>{this['_bindColor'+'MapAsset'](_0x7c44ae);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x4c80ef){if(_0x4c80ef['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4c80ef['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4c80ef['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4c80ef['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x4c80ef['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x4c80ef);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4c80ef);}}['_unbindNor'+'malMapAsse'+'t'](_0x53661a){_0x53661a['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x53661a['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x53661a['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x53661a['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x252c3f){this['normalMap']=_0x252c3f['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x2253bd){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x24e0d4){this['_onNormalM'+'apAssetUnl'+'oad'](_0x24e0d4);}['_onNormalM'+'apAssetCha'+'nge'](_0x4aa6a1){}['onSetNorma'+'lMapAsset'](_0x145702,_0x51ffa7,_0x16d054){const _0x5efca3=this['system']['app']['assets'];if(_0x51ffa7){const _0x78c328=_0x5efca3['get'](_0x51ffa7);_0x78c328&&this['_unbindNor'+'malMapAsse'+'t'](_0x78c328);}if(_0x16d054){_0x16d054 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x16d054['id'],_0x16d054=_0x16d054['id']);const _0x178dd4=_0x5efca3['get'](_0x16d054);_0x178dd4?this['_bindNorma'+'lMapAsset'](_0x178dd4):_0x5efca3['once']('add:'+_0x16d054,_0x312abf=>{this['_bindNorma'+'lMapAsset'](_0x312abf);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x24dadb){if(_0x24dadb['on']('load',this['_onMeshAss'+'etLoad'],this),_0x24dadb['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x24dadb['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x24dadb['on']('change',this['_onMeshAss'+'etChange'],this),_0x24dadb['resource'])this['_onMeshAss'+'etLoad'](_0x24dadb);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x24dadb);}}['_unbindMes'+'hAsset'](_0x300257){_0x300257['off']('load',this['_onMeshAss'+'etLoad'],this),_0x300257['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x300257['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x300257['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0xcd07fb){this['_onMeshCha'+'nged'](_0xcd07fb['resource']);}['_onMeshAss'+'etUnload'](_0x48f108){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x5c379d){this['_onMeshAss'+'etUnload'](_0x5c379d);}['_onMeshAss'+'etChange'](_0x5af345){}['onSetMeshA'+'sset'](_0x37a25e,_0x5c7e45,_0x3cfc70){const _0x442dec=this['system']['app']['assets'];if(_0x5c7e45){const _0x56a846=_0x442dec['get'](_0x5c7e45);_0x56a846&&this['_unbindMes'+'hAsset'](_0x56a846);}if(_0x3cfc70){_0x3cfc70 instanceof pe&&(this['data']['meshAsset']=_0x3cfc70['id'],_0x3cfc70=_0x3cfc70['id']);const _0x4ba1f6=_0x442dec['get'](_0x3cfc70);_0x4ba1f6&&this['_bindMeshA'+'sset'](_0x4ba1f6);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x52d3aa,_0x4d916c,_0x452224){!_0x452224||_0x452224 instanceof pe||typeof _0x452224=='number'?this['meshAsset']=_0x452224:this['_onMeshCha'+'nged'](_0x452224);}['_onMeshCha'+'nged'](_0x34d770){_0x34d770&&!(_0x34d770 instanceof Ge)&&(_0x34d770['meshInstan'+'ces'][-0x16f3+0x11fb*0x1+-0x6*-0xd4]?_0x34d770=_0x34d770['meshInstan'+'ces'][-0x29*-0x52+0x14fd+-0x221f*0x1]['mesh']:_0x34d770=null),this['data']['mesh']=_0x34d770,this['emitter']&&(this['emitter']['mesh']=_0x34d770,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x24340f,_0x27d738,_0x46dec3){const _0x5172f9=this['system']['app']['assets'];if(_0x27d738){const _0x481953=_0x5172f9['get'](_0x27d738);_0x481953&&this['_unbindRen'+'derAsset'](_0x481953);}if(_0x46dec3){_0x46dec3 instanceof pe&&(this['data']['renderAsse'+'t']=_0x46dec3['id'],_0x46dec3=_0x46dec3['id']);const _0x531ca6=_0x5172f9['get'](_0x46dec3);_0x531ca6&&this['_bindRende'+'rAsset'](_0x531ca6);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x5b804d){if(_0x5b804d['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x5b804d['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x5b804d['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x5b804d['resource'])this['_onRenderA'+'ssetLoad'](_0x5b804d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5b804d);}}['_unbindRen'+'derAsset'](_0x20ea81){var _0x941327;_0x20ea81['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x20ea81['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x20ea81['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x941327=this['_evtSetMes'+'hes'])==null||_0x941327['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0xdb5f1d){this['_onRenderC'+'hanged'](_0xdb5f1d['resource']);}['_onRenderA'+'ssetUnload'](_0x51b8fc){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x392925){this['_onRenderA'+'ssetUnload'](_0x392925);}['_onRenderC'+'hanged'](_0x2e281f){var _0x3ae611;if(!_0x2e281f){this['_onMeshCha'+'nged'](null);return;}(_0x3ae611=this['_evtSetMes'+'hes'])==null||_0x3ae611['off'](),this['_evtSetMes'+'hes']=_0x2e281f['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2e281f['meshes']&&this['_onRenderS'+'etMeshes'](_0x2e281f['meshes']);}['_onRenderS'+'etMeshes'](_0x1f9963){this['_onMeshCha'+'nged'](_0x1f9963&&_0x1f9963[0xfb*-0x1a+-0x55*-0x65+0x80b*-0x1]);}['onSetLoop'](_0x2e8792,_0x5aceb7,_0x595e63){this['emitter']&&(this['emitter'][_0x2e8792]=_0x595e63,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x57f4ee,_0x38bce8,_0x484606){this['emitter']&&(this['emitter'][_0x57f4ee]=_0x484606,this['emitter']['material']['blendType']=_0x484606,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x9d2+-0x8e*-0x3+0x828)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0xb*0x35+-0x260a+0x23c4));}['onSetDepth'+'Softening'](_0x2c305a,_0x306142,_0xec96bc){_0x306142!==_0xec96bc&&(_0xec96bc?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2c305a]=_0xec96bc)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2c305a]=_0xec96bc)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x391d5d,_0x552883,_0x3bd9fe){this['emitter']&&(this['emitter'][_0x391d5d]=_0x3bd9fe,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x98e90a,_0x54f020,_0xdfc46b){this['emitter']&&(this['emitter'][_0x98e90a]=_0xdfc46b,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x5b837d,_0x158850,_0x58bac9){this['emitter']&&(this['emitter'][_0x5b837d]=_0x58bac9,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x471dce=this['system']['app']['scene'],_0x2c7af6=_0x471dce['layers'],_0x971e1e=this['data'];for(let _0x4c1638=0x1e65*0x1+-0x1bf8+0x45*-0x9,_0x229110=Cc['length'];_0x4c1638<_0x229110;_0x4c1638++){let _0x4b8df6=_0x971e1e[Cc[_0x4c1638]];if(_0x4b8df6){if(!(_0x4b8df6 instanceof pe)){if(parseInt(_0x4b8df6,-0x4*0x1+0xef2*0x1+-0xee4*0x1)>=0x1607+0x3*0x87+-0x179c)_0x4b8df6=this['system']['app']['assets']['get'](_0x4b8df6);else continue;}_0x4b8df6&&!_0x4b8df6['resource']&&this['system']['app']['assets']['load'](_0x4b8df6);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x5cf285=_0x971e1e['mesh'];_0x5cf285 instanceof Ge||(_0x5cf285=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x971e1e['numParticl'+'es'],'emitterExtents':_0x971e1e['emitterExt'+'ents'],'emitterExtentsInner':_0x971e1e['emitterExt'+'entsInner'],'emitterRadius':_0x971e1e['emitterRad'+'ius'],'emitterRadiusInner':_0x971e1e['emitterRad'+'iusInner'],'emitterShape':_0x971e1e['emitterSha'+'pe'],'initialVelocity':_0x971e1e['initialVel'+'ocity'],'wrap':_0x971e1e['wrap'],'localSpace':_0x971e1e['localSpace'],'screenSpace':_0x971e1e['screenSpac'+'e'],'wrapBounds':_0x971e1e['wrapBounds'],'lifetime':_0x971e1e['lifetime'],'rate':_0x971e1e['rate'],'rate2':_0x971e1e['rate2'],'orientation':_0x971e1e['orientatio'+'n'],'particleNormal':_0x971e1e['particleNo'+'rmal'],'animTilesX':_0x971e1e['animTilesX'],'animTilesY':_0x971e1e['animTilesY'],'animStartFrame':_0x971e1e['animStartF'+'rame'],'animNumFrames':_0x971e1e['animNumFra'+'mes'],'animNumAnimations':_0x971e1e['animNumAni'+'mations'],'animIndex':_0x971e1e['animIndex'],'randomizeAnimIndex':_0x971e1e['randomizeA'+'nimIndex'],'animSpeed':_0x971e1e['animSpeed'],'animLoop':_0x971e1e['animLoop'],'startAngle':_0x971e1e['startAngle'],'startAngle2':_0x971e1e['startAngle'+'2'],'scaleGraph':_0x971e1e['scaleGraph'],'scaleGraph2':_0x971e1e['scaleGraph'+'2'],'colorGraph':_0x971e1e['colorGraph'],'colorGraph2':_0x971e1e['colorGraph'+'2'],'alphaGraph':_0x971e1e['alphaGraph'],'alphaGraph2':_0x971e1e['alphaGraph'+'2'],'localVelocityGraph':_0x971e1e['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x971e1e['localVeloc'+'ityGraph2'],'velocityGraph':_0x971e1e['velocityGr'+'aph'],'velocityGraph2':_0x971e1e['velocityGr'+'aph2'],'rotationSpeedGraph':_0x971e1e['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x971e1e['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x971e1e['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x971e1e['radialSpee'+'dGraph2'],'colorMap':_0x971e1e['colorMap'],'normalMap':_0x971e1e['normalMap'],'loop':_0x971e1e['loop'],'preWarm':_0x971e1e['preWarm'],'sort':_0x971e1e['sort'],'stretch':_0x971e1e['stretch'],'alignToMotion':_0x971e1e['alignToMot'+'ion'],'lighting':_0x971e1e['lighting'],'halfLambert':_0x971e1e['halfLamber'+'t'],'intensity':_0x971e1e['intensity'],'depthSoftening':_0x971e1e['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x5cf285,'depthWrite':_0x971e1e['depthWrite'],'noFog':_0x971e1e['noFog'],'node':this['entity'],'blendType':_0x971e1e['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x971e1e['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1173*0x1+-0x247*-0x1+-0x13b9));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x471dce['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2c7af6&&(this['_evtLayerA'+'dded']=_0x2c7af6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2c7af6['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x971e1e['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x46af23,_0x3265d9,_0x9e5a15;const _0x8d82d8=this['system']['app']['scene']['layers'];(_0x46af23=this['_evtLayers'+'Changed'])==null||_0x46af23['off'](),this['_evtLayers'+'Changed']=null,_0x8d82d8&&((_0x3265d9=this['_evtLayerA'+'dded'])==null||_0x3265d9['off'](),this['_evtLayerA'+'dded']=null,(_0x9e5a15=this['_evtLayerR'+'emoved'])==null||_0x9e5a15['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x228c+-0x2*0xdd7+0xfb*-0x7)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x299682=-0x4*-0x2ad+-0x18*-0x9e+-0x1984;_0x299682<Cc['length'];_0x299682++){const _0x20bc81=Cc[_0x299682];this['data'][_0x20bc81]&&(this[_0x20bc81]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0xccc+0x51*-0x9+-0x86*0x13),this['emitter']['resetTime'](),this['emitter']['addTime'](0x370+-0x1*-0x2151+0x24c1*-0x1,!(0x2257+-0x2b4*0xe+0x27*0x17)));}['pause'](){this['data']['paused']=!(0x2*0x3a0+0x1*0x1ba1+-0x22e1);}['unpause'](){this['data']['paused']=!(0xb*-0xa+-0x1763+0xbe9*0x2);}['play'](){this['data']['paused']=!(0x7ac+-0x9c*0x11+0x2b1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x217*0x1+0x61d+-0x834),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1*-0x332+0x2*-0x3f8+-0x4bf*-0x1):this['emitter']&&this['emitter']['loop']?!(0x3*0x377+-0xccc+0x267):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x10e1b3}=this;_0x10e1b3&&!_0x10e1b3['inTools']&&(_0x10e1b3['inTools']=!(0x35*-0x3b+-0x13a+-0x1f*-0x6f),this['rebuild']());}['rebuild'](){const _0x4f3240=this['enabled'];this['enabled']=!(0x3cb+0x1c4*-0xf+-0xa6*-0x23),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x4f3240;}}class t3{constructor(){this['numParticl'+'es']=0x81a+0x234e+-0x2b67,this['rate']=0x7c9*0x5+0x2176+-0x4862,this['rate2']=null,this['startAngle']=0xa*0x33e+0x5f8*-0x4+-0x223*0x4,this['startAngle'+'2']=null,this['lifetime']=-0x10*0xc5+-0x17d1+0x2453,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0xbea*-0x2+0x18de*-0x1+0x10a,this['emitterRad'+'iusInner']=0x19df+-0x205b+-0x4*-0x19f,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x9fe*-0x1+-0x9d*-0x4+0x1*0x78a,this['wrap']=!(0x4ff+0x26*0xb5+-0x1fdc*0x1),this['wrapBounds']=new D(),this['localSpace']=!(0xd*0x259+0x2*-0x24a+-0x19f0),this['screenSpac'+'e']=!(-0x21f9+0x2*0x135a+-0x1*0x4ba),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x8fe*0x1+-0x4f5+0xdf3),this['preWarm']=!(-0x5*0x629+0x5*0x565+0x3d5),this['sort']=-0x18dc+-0x12b1+-0x2b8d*-0x1,this['mode']=rv,this['scene']=null,this['lighting']=!(0x25*-0x11+-0x1adf*0x1+0x1d55),this['halfLamber'+'t']=!(-0x74*-0x52+0x1b75+-0x409c),this['intensity']=0x193f+0x1496+-0xe*0x346,this['stretch']=-0x1*0x4c1+-0x37*0x68+0x1b19,this['alignToMot'+'ion']=!(-0x9*-0x75+0x535+-0x9*0x109),this['depthSofte'+'ning']=-0x1*0x1c66+0x220*-0xb+0x1142*0x3,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x4*-0x5f7+0x1*-0x11a1+0x297e),this['noFog']=!(0xd52+-0x13*0x1eb+0xb9*0x20),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x5*-0x434+-0x774+0xe3c*0x2,-0x7ae+0x32b+0x11*0x44,0x2178+-0x238b+0x3*0xb1),this['animTilesX']=0x131e+-0xa4a+-0x8d3,this['animTilesY']=-0x1*0x1237+0x8d*0x46+-0x1456,this['animStartF'+'rame']=-0x3*-0x1b0+-0x49*-0x7e+-0x28fe,this['animNumFra'+'mes']=0xd72*0x2+-0x126d+0x1*-0x876,this['animNumAni'+'mations']=0xb12+0x2313+-0x2e24,this['animIndex']=-0x2*-0x5d6+0xa*-0x2f+0x1*-0x9d6,this['randomizeA'+'nimIndex']=!(-0x648*0x1+0x1*0x289+0x3c0),this['animSpeed']=0x2*0xaeb+0x446+-0x1a1b,this['animLoop']=!(-0x1*0x14a3+-0x1ae2+0x2f85),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x1*0x19fe+0x8bb+-0x5c1*-0x3),this['paused']=!(-0x2*-0x679+0x3*-0x783+-0x266*-0x4),this['autoPlay']=!(-0x257+0x1937*0x1+0x7a0*-0x3),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x24d719){super(_0x24d719),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x24d719['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x24d719['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x50de85,_0x57c3f3,_0x1d43f8){const _0x12ff41={};_0x1d43f8=[];const _0x26c27c=this['propertyTy'+'pes'];(_0x57c3f3['mesh']instanceof pe||typeof _0x57c3f3['mesh']=='number')&&(_0x57c3f3['meshAsset']=_0x57c3f3['mesh'],delete _0x57c3f3['mesh']);for(const _0x406afe in _0x57c3f3){if(_0x57c3f3['hasOwnProp'+'erty'](_0x406afe)&&(_0x1d43f8['push'](_0x406afe),_0x12ff41[_0x406afe]=_0x57c3f3[_0x406afe]),_0x26c27c[_0x406afe]==='vec3')Array['isArray'](_0x12ff41[_0x406afe])&&(_0x12ff41[_0x406afe]=new D(_0x12ff41[_0x406afe][-0x1629+-0x21*0x2b+0x4*0x6ed],_0x12ff41[_0x406afe][-0x267f+0xfef+0x1691],_0x12ff41[_0x406afe][0x115b+0x100d+-0x2166]));else{if(_0x26c27c[_0x406afe]==='curve'){if(!(_0x12ff41[_0x406afe]instanceof qs)){const _0x1c0868=_0x12ff41[_0x406afe]['type'];_0x12ff41[_0x406afe]=new qs(_0x12ff41[_0x406afe]['keys']),_0x12ff41[_0x406afe]['type']=_0x1c0868;}}else{if(_0x26c27c[_0x406afe]==='curveset'&&!(_0x12ff41[_0x406afe]instanceof na)){const _0x14592f=_0x12ff41[_0x406afe]['type'];_0x12ff41[_0x406afe]=new na(_0x12ff41[_0x406afe]['keys']),_0x12ff41[_0x406afe]['type']=_0x14592f;}}}_0x12ff41['layers']&&Array['isArray'](_0x12ff41['layers'])&&(_0x12ff41['layers']=_0x12ff41['layers']['slice'](0x35+-0x15d*0x1+0x128));}super['initialize'+'ComponentD'+'ata'](_0x50de85,_0x12ff41,_0x1d43f8);}['cloneCompo'+'nent'](_0x5db67b,_0x2b940b){const _0x41150b=_0x5db67b['particlesy'+'stem']['data'],_0x3a6691=this['schema'],_0x435f42={};for(let _0xe2786=-0xa1*0x2+-0x1768+0x18aa,_0x2834ce=_0x3a6691['length'];_0xe2786<_0x2834ce;_0xe2786++){const _0x53296d=_0x3a6691[_0xe2786];let _0x35e82d=_0x41150b[_0x53296d];_0x35e82d instanceof D||_0x35e82d instanceof qs||_0x35e82d instanceof na?(_0x35e82d=_0x35e82d['clone'](),_0x435f42[_0x53296d]=_0x35e82d):_0x53296d==='layers'?_0x435f42['layers']=_0x41150b['layers']['slice'](0x17*-0x5c+-0x141*-0x1+0x1*0x703):_0x35e82d!=null&&(_0x435f42[_0x53296d]=_0x35e82d);}return this['addCompone'+'nt'](_0x2b940b,_0x435f42);}['onUpdate'](_0xb8051f){const _0x2a8056=this['store'],_0x5a2b8d=this['app']['stats']['particles'],_0x5d514f=this['app']['scene']['layers'];for(let _0x516469=-0x14c2*-0x1+-0x1*0x569+0x1*-0xf59;_0x516469<_0x5d514f['layerList']['length'];_0x516469++)_0x5d514f['layerList'][_0x516469]['requiresLi'+'ghtCube']=!(-0x1*-0x265a+0x1725+0x3d7e*-0x1);for(const _0x55d682 in _0x2a8056)if(_0x2a8056['hasOwnProp'+'erty'](_0x55d682)){const _0x1a41ac=_0x2a8056[_0x55d682],_0x1cabf4=_0x1a41ac['entity'],_0x489e23=_0x1a41ac['data'];if(_0x489e23['enabled']&&_0x1cabf4['enabled']){const _0x5ded38=_0x1cabf4['particlesy'+'stem']['emitter'];if(!(_0x5ded38!=null&&_0x5ded38['meshInstan'+'ce']['visible']))continue;if(_0x5ded38['lighting']){const _0x1adc76=_0x489e23['layers'];for(let _0x2d936b=-0x108f*0x1+0x87e*-0x4+0x3287;_0x2d936b<_0x1adc76['length'];_0x2d936b++){const _0x145c3b=_0x5d514f['getLayerBy'+'Id'](_0x1adc76[_0x2d936b]);_0x145c3b&&(_0x145c3b['requiresLi'+'ghtCube']=!(0x18*-0x95+-0x1300*-0x1+-0x508));}}if(!_0x489e23['paused']){let _0x2c1cf9=0x2*-0xd81+0x1a73+0xd*0xb;if(_0x5ded38['simTime']+=_0xb8051f,_0x5ded38['simTime']>=_0x5ded38['fixedTimeS'+'tep']&&(_0x2c1cf9=Math['floor'](_0x5ded38['simTime']/_0x5ded38['fixedTimeS'+'tep']),_0x5ded38['simTime']-=_0x2c1cf9*_0x5ded38['fixedTimeS'+'tep']),_0x2c1cf9){_0x2c1cf9=Math['min'](_0x2c1cf9,_0x5ded38['maxSubStep'+'s']);for(let _0x510a7d=-0x2d*0x8d+0x2341+-0xa78;_0x510a7d<_0x2c1cf9;_0x510a7d++)_0x5ded38['addTime'](_0x5ded38['fixedTimeS'+'tep'],!(0x730+-0x7*-0x15d+0x10ba*-0x1));_0x5a2b8d['_updatesPe'+'rFrame']+=_0x2c1cf9,_0x5a2b8d['_frameTime']+=_0x5ded38['_addTimeTi'+'me'],_0x5ded38['_addTimeTi'+'me']=0x97c*0x4+-0x1602+-0xfee;}_0x5ded38['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x18421a,_0x5aaa64){_0x5aaa64['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x2bc5d4,_0x216f9f){super(),this['skin']=_0x2bc5d4,this['skinInstan'+'ce']=_0x216f9f;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x273c08,_0x16b9d2)=>{console['log'](_0x16b9d2['name']+':\x20Array('+_0x273c08['length']+')');for(let _0x4dd47e=0x27f*-0x7+0x246e+0x1*-0x12f5;_0x4dd47e<_0x273c08['length'];_0x4dd47e++)console['log']('\x20\x20'+_0x4dd47e+(':\x20RefCount'+'\x20')+_0x273c08[_0x4dd47e]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x47439c,_0x3753df,_0x3328e3){let _0x40e0c2=Gs['getCachedS'+'kinInstanc'+'e'](_0x47439c,_0x3753df);return _0x40e0c2||(_0x40e0c2=new Ol(_0x47439c),_0x40e0c2['resolve'](_0x3753df,_0x3328e3),Gs['addCachedS'+'kinInstanc'+'e'](_0x47439c,_0x3753df,_0x40e0c2)),_0x40e0c2;}static['getCachedS'+'kinInstanc'+'e'](_0x482920,_0x4be27b){let _0x1c883e=null;const _0x48ae60=Gs['_skinInsta'+'nceCache']['get'](_0x4be27b);if(_0x48ae60){const _0xc74329=_0x48ae60['find'](_0x5427cb=>_0x5427cb['skin']===_0x482920);_0xc74329&&(_0xc74329['incRefCoun'+'t'](),_0x1c883e=_0xc74329['skinInstan'+'ce']);}return _0x1c883e;}static['addCachedS'+'kinInstanc'+'e'](_0x5affa6,_0x59d582,_0x358c78){let _0x9fa2cf=Gs['_skinInsta'+'nceCache']['get'](_0x59d582);_0x9fa2cf||(_0x9fa2cf=[],Gs['_skinInsta'+'nceCache']['set'](_0x59d582,_0x9fa2cf));let _0x41c349=_0x9fa2cf['find'](_0x114a1d=>_0x114a1d['skin']===_0x5affa6);_0x41c349||(_0x41c349=new UO(_0x5affa6,_0x358c78),_0x9fa2cf['push'](_0x41c349)),_0x41c349['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x137cc4){if(_0x137cc4){const _0x142b3f=_0x137cc4['rootBone'];if(_0x142b3f){const _0x2f06cd=Gs['_skinInsta'+'nceCache']['get'](_0x142b3f);if(_0x2f06cd){const _0x555cbe=_0x2f06cd['findIndex'](_0x3dca59=>_0x3dca59['skinInstan'+'ce']===_0x137cc4);if(_0x555cbe>=-0x457*0x3+0x143d+-0x738){const _0x220c02=_0x2f06cd[_0x555cbe];_0x220c02['decRefCoun'+'t'](),_0x220c02['refCount']===-0x10c6+-0x1ff0+-0x91*-0x56&&(_0x2f06cd['splice'](_0x555cbe,0xb3b*-0x3+-0x1*-0x14a8+0xd0a),_0x2f06cd['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x142b3f),_0x137cc4&&(_0x137cc4['destroy'](),_0x220c02['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x10a10c,_0x48b4ee,_0x2ada9c,_0x43da69,_0x5691e1){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x10a10c,this['parent']=_0x48b4ee,this['_scope']=_0x5691e1,this['_registry']=_0x2ada9c,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x43da69['load'],this['_onAssetAd'+'d']=_0x43da69['add'],this['_onAssetRe'+'move']=_0x43da69['remove'],this['_onAssetUn'+'load']=_0x43da69['unload']);}set['id'](_0x395acc){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x395acc,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x4e89a9){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x4e89a9,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x310315,_0x15c1ed,_0x45745a,_0x10a871,_0x514ffc,_0x1e769e,_0x28206d;this['id']&&((_0x310315=this['_evtLoadBy'+'Id'])==null||_0x310315['off'](),this['_evtLoadBy'+'Id']=null,(_0x15c1ed=this['_evtAddByI'+'d'])==null||_0x15c1ed['off'](),this['_evtAddByI'+'d']=null,(_0x45745a=this['_evtRemove'+'ById'])==null||_0x45745a['off'](),this['_evtRemove'+'ById']=null,(_0x10a871=this['_evtUnload'+'ById'])==null||_0x10a871['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x514ffc=this['_evtLoadBy'+'Url'])==null||_0x514ffc['off'](),this['_evtLoadBy'+'Url']=null,(_0x1e769e=this['_evtAddByU'+'rl'])==null||_0x1e769e['off'](),this['_evtAddByU'+'rl']=null,(_0x28206d=this['_evtRemove'+'ByUrl'])==null||_0x28206d['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x4fd3ee){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x4fd3ee);}['_onAdd'](_0x29a6a0){this['asset']=_0x29a6a0,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x29a6a0);}['_onRemove'](_0x5664e1){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5664e1),this['asset']=null;}['_onUnload'](_0x445ca0){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x445ca0);}}class n0 extends we{constructor(_0x56d620,_0x1a3f6b){super(_0x56d620,_0x1a3f6b),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(-0xe*-0x3e+0xc0a+-0x18b*0xa)),h(this,'_receiveSh'+'adows',!(0x577+-0xbdd*0x3+0x1e20)),h(this,'_castShado'+'wsLightmap',!(0x1f*0x47+-0x24e6+-0x73*-0x3f)),h(this,'_lightmapp'+'ed',!(-0x1135*-0x1+-0xb*0x346+-0x53*-0x3a)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x1232*0x2+0xc*-0x14d+-0x14c7),h(this,'isStatic',!(-0x1*-0xb9f+0x1*0x1472+0x48*-0x72)),h(this,'_batchGrou'+'pId',-(-0xc1*0x11+-0x1eb5+0x2b87)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x56d620['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x56d620['defaultMat'+'erial'],_0x1a3f6b['on']('remove',this['onRemoveCh'+'ild'],this),_0x1a3f6b['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1a3f6b['on']('insert',this['onInsertCh'+'ild'],this),_0x1a3f6b['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x225e19){this['_renderSty'+'le']!==_0x225e19&&(this['_renderSty'+'le']=_0x225e19,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x225e19));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x2a41b6){this['_customAab'+'b']=_0x2a41b6;const _0x25a482=this['_meshInsta'+'nces'];if(_0x25a482){for(let _0x36dcf2=0x15*-0x155+-0xf20*-0x2+-0x247;_0x36dcf2<_0x25a482['length'];_0x36dcf2++)_0x25a482[_0x36dcf2]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0xbcf5b7){if(this['_type']!==_0xbcf5b7&&(this['_area']=null,this['_type']=_0xbcf5b7,this['destroyMes'+'hInstances'](),_0xbcf5b7!=='asset')){let _0x4e735a=this['_material'];(!_0x4e735a||_0x4e735a===this['system']['defaultMat'+'erial'])&&(_0x4e735a=this['_materialR'+'eferences'][-0x168c+0xe50+0x83c]&&this['_materialR'+'eferences'][-0x5d*-0xb+-0x1db*0x14+0xad*0x31]['asset']&&this['_materialR'+'eferences'][-0xa9c+-0x1*-0xf59+-0x4bd*0x1]['asset']['resource']);const _0x50af0d=r0(this['system']['app']['graphicsDe'+'vice'],_0xbcf5b7);this['_area']=_0x50af0d['area'],this['meshInstan'+'ces']=[new He(_0x50af0d['mesh'],_0x4e735a||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x9a1a16){if(w['assert'](Array['isArray'](_0x9a1a16),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x9a1a16,this['_meshInsta'+'nces']){const _0x5ec7d6=this['_meshInsta'+'nces'];for(let _0x2f69b4=0x1*-0x21d5+0x2441+0x136*-0x2;_0x2f69b4<_0x5ec7d6['length'];_0x2f69b4++)_0x5ec7d6[_0x2f69b4]['node']||(_0x5ec7d6[_0x2f69b4]['node']=this['entity']),_0x5ec7d6[_0x2f69b4]['castShadow']=this['_castShado'+'ws'],_0x5ec7d6[_0x2f69b4]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x5ec7d6[_0x2f69b4]['renderStyl'+'e']=this['_renderSty'+'le'],_0x5ec7d6[_0x2f69b4]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x5ec7d6[_0x2f69b4]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x1eb7b4){if(_0x1eb7b4!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x1eb7b4;const _0x237073=this['_meshInsta'+'nces'];if(_0x237073){for(let _0x20ed78=0x9a9*-0x3+0x8cd*0x1+0x142e;_0x20ed78<_0x237073['length'];_0x20ed78++)_0x237073[_0x20ed78]['setLightma'+'pped'](_0x1eb7b4);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0xd3af46){if(this['_castShado'+'ws']!==_0xd3af46){const _0x2813f7=this['_meshInsta'+'nces'];if(_0x2813f7){const _0x4516b9=this['layers'],_0x72266d=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0xd3af46)for(let _0x4ba046=0x1*-0x25db+-0x1*0xd83+0x335e;_0x4ba046<_0x4516b9['length'];_0x4ba046++){const _0x22f09a=_0x72266d['layers']['getLayerBy'+'Id'](this['layers'][_0x4ba046]);_0x22f09a&&_0x22f09a['removeShad'+'owCasters'](_0x2813f7);}for(let _0x3bc3bf=-0x203f+0x3f*-0x4f+0x33b0;_0x3bc3bf<_0x2813f7['length'];_0x3bc3bf++)_0x2813f7[_0x3bc3bf]['castShadow']=_0xd3af46;if(!this['_castShado'+'ws']&&_0xd3af46)for(let _0x2085e2=-0xe1c+-0x1a93+0x28af;_0x2085e2<_0x4516b9['length'];_0x2085e2++){const _0x38757c=_0x72266d['layers']['getLayerBy'+'Id'](_0x4516b9[_0x2085e2]);_0x38757c&&_0x38757c['addShadowC'+'asters'](_0x2813f7);}}this['_castShado'+'ws']=_0xd3af46;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x5f41b1){if(this['_receiveSh'+'adows']!==_0x5f41b1){this['_receiveSh'+'adows']=_0x5f41b1;const _0x354cd2=this['_meshInsta'+'nces'];if(_0x354cd2){for(let _0x1e5013=-0x24b9+0x30d+0x21ac;_0x1e5013<_0x354cd2['length'];_0x1e5013++)_0x354cd2[_0x1e5013]['receiveSha'+'dow']=_0x5f41b1;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1e8500){this['_castShado'+'wsLightmap']=_0x1e8500;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x2c753c){this['_lightmapS'+'izeMultipl'+'ier']=_0x2c753c;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x29898f){const _0x1d474b=this['system']['app']['scene']['layers'];let _0x1c7175;if(this['_meshInsta'+'nces']){for(let _0x35bd2c=-0x21c2+0x1279+-0x1*-0xf49;_0x35bd2c<this['_layers']['length'];_0x35bd2c++)_0x1c7175=_0x1d474b['getLayerBy'+'Id'](this['_layers'][_0x35bd2c]),_0x1c7175&&_0x1c7175['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x2*-0x11f5+-0x21ff+-0x1eb;for(let _0x59f24d=-0x1*-0x5f4+0xf54+-0x1548;_0x59f24d<_0x29898f['length'];_0x59f24d++)this['_layers'][_0x59f24d]=_0x29898f[_0x59f24d];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x38baa1=0xc5b*0x2+0xc*-0x24+0x7*-0x34a;_0x38baa1<this['_layers']['length'];_0x38baa1++)_0x1c7175=_0x1d474b['getLayerBy'+'Id'](this['_layers'][_0x38baa1]),_0x1c7175&&_0x1c7175['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x2013f7){var _0x3820ea,_0x4ab870;this['_batchGrou'+'pId']!==_0x2013f7&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x3a6+0x3d*0x17+-0x1d5&&((_0x3820ea=this['system']['app']['batcher'])==null||_0x3820ea['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2013f7>=0x3*-0x8a6+-0x23b*-0x1+0x17b7*0x1&&((_0x4ab870=this['system']['app']['batcher'])==null||_0x4ab870['insert'](St['RENDER'],_0x2013f7,this['entity'])),_0x2013f7<0x3*0x1af+0x1*0x1c67+-0x2174&&this['_batchGrou'+'pId']>=0x16c1+-0xbf*-0x1d+-0x766*0x6&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x2013f7);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x5e943c){if(this['_material']!==_0x5e943c&&(this['_material']=_0x5e943c,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0xe2eb1a=-0x3d6+0x15d*-0x1+0x533;_0xe2eb1a<this['_meshInsta'+'nces']['length'];_0xe2eb1a++)this['_meshInsta'+'nces'][_0xe2eb1a]['material']=_0x5e943c;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x299ac8=[]){if(this['_materialR'+'eferences']['length']>_0x299ac8['length']){for(let _0x53579e=_0x299ac8['length'];_0x53579e<this['_materialR'+'eferences']['length'];_0x53579e++)this['_materialR'+'eferences'][_0x53579e]['id']=null;this['_materialR'+'eferences']['length']=_0x299ac8['length'];}for(let _0x4a96f2=-0x13c+-0x1*0x2350+0x1*0x248c;_0x4a96f2<_0x299ac8['length'];_0x4a96f2++)if(this['_materialR'+'eferences'][_0x4a96f2]||this['_materialR'+'eferences']['push'](new gl(_0x4a96f2,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x299ac8[_0x4a96f2]){const _0xdcb5ef=_0x299ac8[_0x4a96f2]instanceof pe?_0x299ac8[_0x4a96f2]['id']:_0x299ac8[_0x4a96f2];this['_materialR'+'eferences'][_0x4a96f2]['id']!==_0xdcb5ef&&(this['_materialR'+'eferences'][_0x4a96f2]['id']=_0xdcb5ef),this['_materialR'+'eferences'][_0x4a96f2]['asset']&&this['_onMateria'+'lAdded'](_0x4a96f2,this,this['_materialR'+'eferences'][_0x4a96f2]['asset']);}else this['_materialR'+'eferences'][_0x4a96f2]['id']=null,this['_meshInsta'+'nces'][_0x4a96f2]&&(this['_meshInsta'+'nces'][_0x4a96f2]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x14e1ae=>_0x14e1ae['id']);}set['asset'](_0x2cbab5){const _0x19c8a0=_0x2cbab5 instanceof pe?_0x2cbab5['id']:_0x2cbab5;this['_assetRefe'+'rence']['id']!==_0x19c8a0&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x19c8a0,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x204faf){const _0x2105fd=_0x204faf instanceof pe?_0x204faf['id']:_0x204faf;this['_assetRefe'+'rence']['id']=_0x2105fd;}set['rootBone'](_0x1a27cf){if(this['_rootBone']!==_0x1a27cf){const _0x2ced6f=typeof _0x1a27cf=='string';if(this['_rootBone']&&_0x2ced6f&&this['_rootBone']['getGuid']()===_0x1a27cf)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1a27cf instanceof Ie?this['_rootBone']=_0x1a27cf:_0x2ced6f?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x1a27cf)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x4455a2=this['_meshInsta'+'nces'];if(_0x4455a2){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x4c7f7b=0x7e+0x2652+-0x26d0;_0x4c7f7b<_0x4455a2['length'];_0x4c7f7b++)_0x4455a2[_0x4c7f7b]['destroy']();this['_meshInsta'+'nces']['length']=-0x15da*-0x1+-0x1278*0x2+-0xf16*-0x1;}}['addToLayer'+'s'](){const _0x123bbc=this['system']['app']['scene']['layers'];for(let _0x14379e=-0x1457+0x2525+-0x10ce;_0x14379e<this['_layers']['length'];_0x14379e++){const _0x5685aa=_0x123bbc['getLayerBy'+'Id'](this['_layers'][_0x14379e]);_0x5685aa&&_0x5685aa['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x11be1b=this['system']['app']['scene']['layers'];for(let _0x4c46f9=0x5*0x425+0x14b*-0x1c+0x3*0x529;_0x4c46f9<this['_layers']['length'];_0x4c46f9++){const _0x3fefd0=_0x11be1b['getLayerBy'+'Id'](this['_layers'][_0x4c46f9]);_0x3fefd0&&_0x3fefd0['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x21f9ea=-0x3b9*0x7+0x1*0x1df1+0x3e2*-0x1;_0x21f9ea<this['_materialR'+'eferences']['length'];_0x21f9ea++)this['_materialR'+'eferences'][_0x21f9ea]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1babc4,_0x457f4e){this['addToLayer'+'s'](),_0x1babc4['off']('add',this['onLayerAdd'+'ed'],this),_0x1babc4['off']('remove',this['onLayerRem'+'oved'],this),_0x457f4e['on']('add',this['onLayerAdd'+'ed'],this),_0x457f4e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3bdafc){this['layers']['indexOf'](_0x3bdafc['id'])<0x1*-0xc11+0x29c+0x975||_0x3bdafc['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x1530fe){this['layers']['indexOf'](_0x1530fe['id'])<-0x57a*0x5+0x21ff+-0x69d||_0x1530fe['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x3a0db9;const _0x206d5f=this['system']['app'],_0x33e195=_0x206d5f['scene'],_0x3501ff=_0x33e195['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x33e195['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3501ff&&(this['_evtLayerA'+'dded']=_0x3501ff['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3501ff['on']('remove',this['onLayerRem'+'oved'],this));const _0x4527e8=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x4527e8&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x14e1ba=-0x15a5+-0xe*0x1af+0x2d37;_0x14e1ba<this['_materialR'+'eferences']['length'];_0x14e1ba++)this['_materialR'+'eferences'][_0x14e1ba]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x14e1ba]['asset']);this['_batchGrou'+'pId']>=0x2648+-0x481+-0x1*0x21c7&&((_0x3a0db9=_0x206d5f['batcher'])==null||_0x3a0db9['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x3cceaf,_0x5337c3,_0x1c7834,_0x3d5d77;const _0x1731a3=this['system']['app'],_0x223e73=_0x1731a3['scene']['layers'];(_0x3cceaf=this['_evtLayers'+'Changed'])==null||_0x3cceaf['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x223e73&&((_0x5337c3=this['_evtLayerA'+'dded'])==null||_0x5337c3['off'](),this['_evtLayerA'+'dded']=null,(_0x1c7834=this['_evtLayerR'+'emoved'])==null||_0x1c7834['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xafc+0xdd1+-0x1*0x2d5&&((_0x3d5d77=_0x1731a3['batcher'])==null||_0x3d5d77['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x1166c3=-0xdd*-0x22+-0x1af7+-0x263;_0x1166c3<this['_meshInsta'+'nces']['length'];_0x1166c3++)this['_meshInsta'+'nces'][_0x1166c3]['visible']=!(0x195c+-0x10bd*-0x1+-0x1c1*0x18);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x1efb88=-0xb94+-0x1*-0x4b3+-0x6e1*-0x1;_0x1efb88<this['_meshInsta'+'nces']['length'];_0x1efb88++)this['_meshInsta'+'nces'][_0x1efb88]['visible']=!(-0x2*-0xf64+0x1ed5+0x3d9d*-0x1);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x425362;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x26cc83=this['_assetRefe'+'rence']['asset']['resource'];(_0x425362=this['_evtSetMes'+'hes'])==null||_0x425362['off'](),this['_evtSetMes'+'hes']=_0x26cc83['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x26cc83['meshes']&&this['_onSetMesh'+'es'](_0x26cc83['meshes']);}}['_onSetMesh'+'es'](_0xf55c50){this['_cloneMesh'+'es'](_0xf55c50);}['_clearSkin'+'Instances'](){for(let _0x1b2b75=0x6*0x275+-0x364*-0x3+0x84e*-0x3;_0x1b2b75<this['_meshInsta'+'nces']['length'];_0x1b2b75++){const _0x4e89be=this['_meshInsta'+'nces'][_0x1b2b75];_l['removeCach'+'edSkinInst'+'ance'](_0x4e89be['skinInstan'+'ce']),_0x4e89be['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x53881c=-0x1332*-0x2+0xfee+-0x199*0x22;_0x53881c<this['_meshInsta'+'nces']['length'];_0x53881c++){const _0x214fc2=this['_meshInsta'+'nces'][_0x53881c],_0xf93ba5=_0x214fc2['mesh'];_0xf93ba5['skin']&&!_0x214fc2['skinInstan'+'ce']&&(_0x214fc2['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0xf93ba5['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x2a3fde){if(_0x2a3fde&&_0x2a3fde['length']){const _0x415f3d=[];for(let _0x58fda3=-0xccb+0x26dd*0x1+-0x2f*0x8e;_0x58fda3<_0x2a3fde['length'];_0x58fda3++){const _0x204492=_0x2a3fde[_0x58fda3],_0x4e5846=this['_materialR'+'eferences'][_0x58fda3]&&this['_materialR'+'eferences'][_0x58fda3]['asset']&&this['_materialR'+'eferences'][_0x58fda3]['asset']['resource'],_0x373db1=new He(_0x204492,_0x4e5846||this['system']['defaultMat'+'erial'],this['entity']);_0x415f3d['push'](_0x373db1),_0x204492['morph']&&(_0x373db1['morphInsta'+'nce']=new xa(_0x204492['morph']));}this['meshInstan'+'ces']=_0x415f3d,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x51d93f;(_0x51d93f=this['_evtSetMes'+'hes'])==null||_0x51d93f['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x369df0,_0x54bc3d,_0x2126a4){_0x2126a4['resource']?this['_onMateria'+'lLoad'](_0x369df0,_0x54bc3d,_0x2126a4):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x2126a4);}['_updateMai'+'nMaterial'](_0x3da8e7,_0x19377a){_0x3da8e7===-0xbb9+-0xdf7+-0x8*-0x336&&(this['material']=_0x19377a);}['_onMateria'+'lLoad'](_0x3bc667,_0x2a06a1,_0x47ca00){this['_meshInsta'+'nces'][_0x3bc667]&&(this['_meshInsta'+'nces'][_0x3bc667]['material']=_0x47ca00['resource']),this['_updateMai'+'nMaterial'](_0x3bc667,_0x47ca00['resource']);}['_onMateria'+'lRemove'](_0x1216b9,_0x522cea,_0x486b2f){this['_meshInsta'+'nces'][_0x1216b9]&&(this['_meshInsta'+'nces'][_0x1216b9]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1216b9,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0xd7db8a,_0x18dc8d,_0x2898ec){this['_meshInsta'+'nces'][_0xd7db8a]&&(this['_meshInsta'+'nces'][_0xd7db8a]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0xd7db8a,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x128e30,_0x1981f1){_0x128e30['rootBone']&&(this['rootBone']=_0x1981f1[_0x128e30['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0xf*-0x1+0x29*-0x8b+0x2*0xb29);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x32b3e4){super(_0x32b3e4),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x32b3e4['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x13ed4c,_0x35d2d5,_0x1ae6dc){(_0x35d2d5['batchGroup'+'Id']===null||_0x35d2d5['batchGroup'+'Id']===void(-0x4*0x501+0x1*0x1685+0x1*-0x281))&&(_0x35d2d5['batchGroup'+'Id']=-(-0xdb*0x4+-0x99a*-0x4+0x255*-0xf)),_0x35d2d5['layers']&&_0x35d2d5['layers']['length']&&(_0x35d2d5['layers']=_0x35d2d5['layers']['slice'](0x90c*0x4+0x1*0x1369+-0x1*0x3799));for(let _0x28508e=-0x51d+0x702+0x5*-0x61;_0x28508e<Gr['length'];_0x28508e++)_0x35d2d5['hasOwnProp'+'erty'](Gr[_0x28508e])&&(_0x13ed4c[Gr[_0x28508e]]=_0x35d2d5[Gr[_0x28508e]]);_0x35d2d5['aabbCenter']&&_0x35d2d5['aabbHalfEx'+'tents']&&(_0x13ed4c['customAabb']=new De(new D(_0x35d2d5['aabbCenter']),new D(_0x35d2d5['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x13ed4c,_0x35d2d5,ku);}['cloneCompo'+'nent'](_0x3c42b8,_0x531203){const _0x14c939={};for(let _0x47e420=0xcd9+0x9e9*-0x1+-0x2f0;_0x47e420<Gr['length'];_0x47e420++)_0x14c939[Gr[_0x47e420]]=_0x3c42b8['render'][Gr[_0x47e420]];_0x14c939['enabled']=_0x3c42b8['render']['enabled'],delete _0x14c939['meshInstan'+'ces'];const _0x2838bd=this['addCompone'+'nt'](_0x531203,_0x14c939),_0x293c53=_0x3c42b8['render']['meshInstan'+'ces'],_0x41e4e5=_0x293c53['map'](_0x3be81a=>_0x3be81a['mesh']);_0x2838bd['_onSetMesh'+'es'](_0x41e4e5);for(let _0x478bac=0x1*-0x33a+0x100d+-0x1d5*0x7;_0x478bac<_0x293c53['length'];_0x478bac++)_0x2838bd['meshInstan'+'ces'][_0x478bac]['material']=_0x293c53[_0x478bac]['material'];return _0x3c42b8['render']['customAabb']&&(_0x2838bd['customAabb']=_0x3c42b8['render']['customAabb']['clone']()),_0x2838bd;}['onRemove'](_0xde5096,_0x4465c0){_0x4465c0['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x494ef1,_0x2fc4af){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x4*0x8d1+0x19*-0x159+-0x1f*0xd),(this['_construct'+'or']=_0x494ef1,this['_resize'](_0x2fc4af));}['_resize'](_0x4edf8e){if(_0x4edf8e>this['_pool']['length']){for(let _0x29b681=this['_pool']['length'];_0x29b681<_0x4edf8e;_0x29b681++)this['_pool'][_0x29b681]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1*-0x41f+0x6be+0x29d*-0x1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x4*-0x21d+-0xa7d+0x209;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0xac5+-0x1964+-0x1*-0xe9f),h(this,'_angularFa'+'ctor',new D(0x7f*-0x35+0x24a4+0x8*-0x14b,0x5c7+-0xb*0x265+0x87*0x27,-0x2*-0xc31+0xae6+-0x2347)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x1*-0x21c9+0x134d*-0x2+-0x3*-0x1821+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x7*0x45a+0x1f73+-0x1*0xfd),h(this,'_linearFac'+'tor',new D(0x1bee+-0xe27*0x1+-0xdc6,-0x1a10+0x477+0x229*0xa,-0x34c+0xae*0x14+0x55*-0x1f)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x3*0x399+-0xabb+-0x1*0xf),h(this,'_restituti'+'on',-0x2*-0xa1d+-0xae1*-0x3+-0x34dd),h(this,'_rollingFr'+'iction',0x53c*-0x2+0x1*-0x221f+0x2c97),h(this,'_simulatio'+'nEnabled',!(-0x17*-0x104+-0x1*-0x18eb+-0x3046)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x584be8){this['_angularDa'+'mping']!==_0x584be8&&(this['_angularDa'+'mping']=_0x584be8,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x584be8));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x40022e){this['_angularFa'+'ctor']['equals'](_0x40022e)||(this['_angularFa'+'ctor']['copy'](_0x40022e),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x40022e['x'],_0x40022e['y'],_0x40022e['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x5d3280){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x5d3280['x'],_0x5d3280['y'],_0x5d3280['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x5d3280));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x16ec90=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x16ec90['x'](),_0x16ec90['y'](),_0x16ec90['z']());}return this['_angularVe'+'locity'];}set['body'](_0x50b463){this['_body']!==_0x50b463&&(this['_body']=_0x50b463,_0x50b463&&this['_simulatio'+'nEnabled']&&_0x50b463['activate']());}get['body'](){return this['_body'];}set['friction'](_0x4c57e5){this['_friction']!==_0x4c57e5&&(this['_friction']=_0x4c57e5,this['_body']&&this['_body']['setFrictio'+'n'](_0x4c57e5));}get['friction'](){return this['_friction'];}set['group'](_0x33b5ad){this['_group']!==_0x33b5ad&&(this['_group']=_0x33b5ad,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x5bf5bd){this['_linearDam'+'ping']!==_0x5bf5bd&&(this['_linearDam'+'ping']=_0x5bf5bd,this['_body']&&this['_body']['setDamping'](_0x5bf5bd,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x3ebb8d){this['_linearFac'+'tor']['equals'](_0x3ebb8d)||(this['_linearFac'+'tor']['copy'](_0x3ebb8d),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3ebb8d['x'],_0x3ebb8d['y'],_0x3ebb8d['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x343ee7){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x343ee7['x'],_0x343ee7['y'],_0x343ee7['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x343ee7));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x3525fc=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x3525fc['x'](),_0x3525fc['y'](),_0x3525fc['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x5ad3c1){this['_mask']!==_0x5ad3c1&&(this['_mask']=_0x5ad3c1,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x11f0c3){if(this['_mass']!==_0x11f0c3&&(this['_mass']=_0x11f0c3,this['_body']&&this['_type']===ks)){const _0x4eaf19=this['enabled']&&this['entity']['enabled'];_0x4eaf19&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x11f0c3,Re),this['_body']['setMassPro'+'ps'](_0x11f0c3,Re),this['_body']['updateIner'+'tiaTensor'](),_0x4eaf19&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x16745b){this['_restituti'+'on']!==_0x16745b&&(this['_restituti'+'on']=_0x16745b,this['_body']&&this['_body']['setRestitu'+'tion'](_0x16745b));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x23a68e){this['_rollingFr'+'iction']!==_0x23a68e&&(this['_rollingFr'+'iction']=_0x23a68e,this['_body']&&this['_body']['setRolling'+'Friction'](_0x23a68e));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x54571e){if(this['_type']!==_0x54571e){switch(this['_type']=_0x54571e,this['disableSim'+'ulation'](),_0x54571e){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x3cc884=this['entity'];let _0x5d0055;if(_0x3cc884['collision']&&(_0x5d0055=_0x3cc884['collision']['shape'],_0x3cc884['trigger']&&(_0x3cc884['trigger']['destroy'](),delete _0x3cc884['trigger'])),_0x5d0055){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0xe5f64d=this['_type']===ks?this['_mass']:0x1e*0x76+0x6d*0x50+-0x994*0x5;this['_getEntity'+'Transform'](cs);const _0x5caada=this['system']['createBody'](_0xe5f64d,_0x5d0055,cs);if(_0x5caada['setRestitu'+'tion'](this['_restituti'+'on']),_0x5caada['setFrictio'+'n'](this['_friction']),_0x5caada['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x5caada['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x3e53dd=this['_linearFac'+'tor'];Re['setValue'](_0x3e53dd['x'],_0x3e53dd['y'],_0x3e53dd['z']),_0x5caada['setLinearF'+'actor'](Re);const _0x327046=this['_angularFa'+'ctor'];Re['setValue'](_0x327046['x'],_0x327046['y'],_0x327046['z']),_0x5caada['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x5caada['setCollisi'+'onFlags'](_0x5caada['getCollisi'+'onFlags']()|qL),_0x5caada['setActivat'+'ionState'](Vg));_0x5caada['entity']=_0x3cc884,this['body']=_0x5caada,this['enabled']&&_0x3cc884['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x186+0xdc5+-0xc3e);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x504ca2=this['entity'];if(_0x504ca2['collision']&&_0x504ca2['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x240a81=this['_body'];if(_0x240a81){switch(this['system']['addBody'](_0x240a81,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x240a81['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x240a81['forceActiv'+'ationState'](Vg);break;case yo:_0x240a81['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x504ca2['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x504ca2['collision']),_0x240a81['activate'](),this['_simulatio'+'nEnabled']=!(0x23af+0x1627+-0x39d6);}}}['disableSim'+'ulation'](){const _0xdac1ea=this['_body'];if(_0xdac1ea&&this['_simulatio'+'nEnabled']){const _0x2fef6d=this['system'];let _0x54136c=_0x2fef6d['_compounds']['indexOf'](this['entity']['collision']);_0x54136c>-(-0x3f8+0x369+-0xc*-0xc)&&_0x2fef6d['_compounds']['splice'](_0x54136c,-0x1*-0x1bdd+0x20c6+-0x3*0x1436),_0x54136c=_0x2fef6d['_dynamic']['indexOf'](this),_0x54136c>-(-0x1a7+-0x1b3*-0x2+-0x1be)&&_0x2fef6d['_dynamic']['splice'](_0x54136c,0x26a3+0x1557+-0x3bf9),_0x54136c=_0x2fef6d['_kinematic']['indexOf'](this),_0x54136c>-(-0x19bc+0xa4*-0x2a+0x34a5*0x1)&&_0x2fef6d['_kinematic']['splice'](_0x54136c,0x1d1d+0x227b+-0x3f97),_0x2fef6d['removeBody'](_0xdac1ea),_0xdac1ea['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x104f+-0x21e6+0x1198);}}['applyForce'](_0x2fbea5,_0x3e3f9e,_0x2eaead,_0x5ef21a,_0x3dac9d,_0x4fb3ae){const _0x2eaac0=this['_body'];_0x2eaac0&&(_0x2eaac0['activate'](),_0x2fbea5 instanceof D?Re['setValue'](_0x2fbea5['x'],_0x2fbea5['y'],_0x2fbea5['z']):Re['setValue'](_0x2fbea5,_0x3e3f9e,_0x2eaead),_0x3e3f9e instanceof D?Bs['setValue'](_0x3e3f9e['x'],_0x3e3f9e['y'],_0x3e3f9e['z']):_0x5ef21a!==void(-0xbb1+-0x10fe+0x7*0x419)?Bs['setValue'](_0x5ef21a,_0x3dac9d,_0x4fb3ae):Bs['setValue'](-0x300*-0x3+-0x33*0x7b+0x93*0x1b,0x12e*0x13+-0x556+-0x1114,-0xd*0x45+-0x1228+0x5*0x455),_0x2eaac0['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x5d2a71,_0x1a042e,_0x5695ca){const _0xa68c41=this['_body'];_0xa68c41&&(_0xa68c41['activate'](),_0x5d2a71 instanceof D?Re['setValue'](_0x5d2a71['x'],_0x5d2a71['y'],_0x5d2a71['z']):Re['setValue'](_0x5d2a71,_0x1a042e,_0x5695ca),_0xa68c41['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x223a99,_0x2b24bb,_0x5bd94f,_0x1b8764,_0x2a6675,_0x1642a6){const _0x281aa6=this['_body'];_0x281aa6&&(_0x281aa6['activate'](),_0x223a99 instanceof D?Re['setValue'](_0x223a99['x'],_0x223a99['y'],_0x223a99['z']):Re['setValue'](_0x223a99,_0x2b24bb,_0x5bd94f),_0x2b24bb instanceof D?Bs['setValue'](_0x2b24bb['x'],_0x2b24bb['y'],_0x2b24bb['z']):_0x1b8764!==void(-0x4*0x8c1+-0x2119+0x441d)?Bs['setValue'](_0x1b8764,_0x2a6675,_0x1642a6):Bs['setValue'](-0x7ae+-0x6a1+0x14d*0xb,0x60d*0x6+-0x10*0x50+0x1*-0x1f4e,-0x49*0x1+-0x221d*0x1+0x2266),_0x281aa6['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x370e71,_0x283930,_0x2ac9ab){const _0x2490bf=this['_body'];_0x2490bf&&(_0x2490bf['activate'](),_0x370e71 instanceof D?Re['setValue'](_0x370e71['x'],_0x370e71['y'],_0x370e71['z']):Re['setValue'](_0x370e71,_0x283930,_0x2ac9ab),_0x2490bf['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x41ccbd){const _0xe34bd3=this['entity'],_0x449fc6=_0xe34bd3['collision'];if(_0x449fc6){const _0x120719=_0x449fc6['getShapePo'+'sition'](),_0x53733d=_0x449fc6['getShapeRo'+'tation']();Re['setValue'](_0x120719['x'],_0x120719['y'],_0x120719['z']),Ka['setValue'](_0x53733d['x'],_0x53733d['y'],_0x53733d['z'],_0x53733d['w']);}else{const _0x3e9287=_0xe34bd3['getPositio'+'n'](),_0x4a5bc0=_0xe34bd3['getRotatio'+'n']();Re['setValue'](_0x3e9287['x'],_0x3e9287['y'],_0x3e9287['z']),Ka['setValue'](_0x4a5bc0['x'],_0x4a5bc0['y'],_0x4a5bc0['z'],_0x4a5bc0['w']);}_0x41ccbd['setOrigin'](Re),_0x41ccbd['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x8a1b29=this['_body'];if(_0x8a1b29){if(this['_getEntity'+'Transform'](cs),_0x8a1b29['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x255873=_0x8a1b29['getMotionS'+'tate']();_0x255873&&_0x255873['setWorldTr'+'ansform'](cs);}_0x8a1b29['activate']();}}['_updateDyn'+'amic'](){const _0x59d222=this['_body'];if(_0x59d222['isActive']()){const _0xd42440=_0x59d222['getMotionS'+'tate']();if(_0xd42440){const _0x2775cc=this['entity'];_0xd42440['getWorldTr'+'ansform'](cs);const _0x44c7ee=cs['getOrigin'](),_0x17c009=cs['getRotatio'+'n'](),_0x586f4d=_0x2775cc['collision'];if(_0x586f4d&&_0x586f4d['_hasOffset']){const _0x11b75b=_0x586f4d['data']['linearOffs'+'et'],_0x4f6389=_0x586f4d['data']['angularOff'+'set'],_0x1cdfbd=GO['copy'](_0x4f6389)['invert'](),_0x500965=VO['set'](_0x17c009['x'](),_0x17c009['y'](),_0x17c009['z'](),_0x17c009['w']())['mul'](_0x1cdfbd);_0x500965['transformV'+'ector'](_0x11b75b,Pc),_0x2775cc['setPositio'+'n'](_0x44c7ee['x']()-Pc['x'],_0x44c7ee['y']()-Pc['y'],_0x44c7ee['z']()-Pc['z']),_0x2775cc['setRotatio'+'n'](_0x500965);}else _0x2775cc['setPositio'+'n'](_0x44c7ee['x'](),_0x44c7ee['y'](),_0x44c7ee['z']()),_0x2775cc['setRotatio'+'n'](_0x17c009['x'](),_0x17c009['y'](),_0x17c009['z'](),_0x17c009['w']());}}}['_updateKin'+'ematic'](){const _0x3ffa26=this['_body']['getMotionS'+'tate']();_0x3ffa26&&(this['_getEntity'+'Transform'](cs),_0x3ffa26['setWorldTr'+'ansform'](cs));}['teleport'](_0x92d11d,_0x5e2ac5,_0x4047ae,_0xfe6783,_0xa296a6,_0x5110ae){_0x92d11d instanceof D?this['entity']['setPositio'+'n'](_0x92d11d):this['entity']['setPositio'+'n'](_0x92d11d,_0x5e2ac5,_0x4047ae),_0x5e2ac5 instanceof le?this['entity']['setRotatio'+'n'](_0x5e2ac5):_0x5e2ac5 instanceof D?this['entity']['setEulerAn'+'gles'](_0x5e2ac5):_0xfe6783!==void(-0x2*-0x713+-0x2*-0xfe2+0x16f5*-0x2)&&this['entity']['setEulerAn'+'gles'](_0xfe6783,_0xa296a6,_0x5110ae),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x1*0x1ca5+-0x153d+-0x767));class HO{constructor(){this['enabled']=!(-0x463*-0x8+0x1054+-0x2*0x19b6);}}let Mi,Di;class eS{constructor(_0x4d3a57,_0x5a1831,_0x1d6226,_0xba54c){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x4d3a57,this['point']=_0x5a1831,this['normal']=_0x1d6226,this['hitFractio'+'n']=_0xba54c);}}class WO{constructor(_0x5a03c9,_0x522980,_0x37454d){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0x1cf*-0x13+-0x1*0x187d+0x3ada?(this['a']=_0x5a03c9,this['b']=_0x522980,this['impulse']=_0x37454d['impulse'],this['localPoint'+'A']=_0x37454d['localPoint'],this['localPoint'+'B']=_0x37454d['localPoint'+'Other'],this['pointA']=_0x37454d['point'],this['pointB']=_0x37454d['pointOther'],this['normal']=_0x37454d['normal']):(this['a']=null,this['b']=null,this['impulse']=0x3ae+0x1*0xef9+-0x5*0x3bb,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x33ec10=new D(),_0xccbedf=new D(),_0x3802ea=new D(),_0x27392e=new D(),_0x39e392=new D(),_0x19169a=-0x1d*0x5d+-0x26bc+0x3145){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x33ec10,this['localPoint'+'Other']=_0xccbedf,this['point']=_0x3802ea,this['pointOther']=_0x27392e,this['normal']=_0x39e392,this['impulse']=_0x19169a);}}class XO{constructor(_0x53a763,_0x50cccd){h(this,'other'),h(this,'contacts'),(this['other']=_0x53a763,this['contacts']=_0x50cccd);}}const o0=['enabled'];class wm extends ct{constructor(_0x4e4348){super(_0x4e4348),h(this,'maxSubStep'+'s',-0x1b53+0x2*0x781+0xc5b*0x1),h(this,'fixedTimeS'+'tep',(-0xc4b+-0xf6e*-0x1+-0x322)/(-0x1f72+0x535+0x8d3*0x3)),h(this,'gravity',new D(0x251d+0x5*0x5be+-0x41d3,-(0xa4f+0xa32+0xa3c*-0x2+0.8100000000000005),0x104f+0x22a5+-0x32f4)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x19c7+0x285+0x353*0x7)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x4e4348['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x340aea=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x340aea);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x1*0x138+0x35*-0x3+-0x4c*0x2),this['contactRes'+'ultPool']=new bf(XO,0x24c8+0xc5d+-0x3124),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x1f2*0x3+0x1c6+0xb1*-0xb),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2e34a0,_0x46b138,_0xd545e2){const _0xc1fbfd=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x5286ce of _0xc1fbfd)if(_0x46b138['hasOwnProp'+'erty'](_0x5286ce)){const _0x23e118=_0x46b138[_0x5286ce];Array['isArray'](_0x23e118)?_0x2e34a0[_0x5286ce]=new D(_0x23e118[0x1a1e+0x1b36+-0x3554],_0x23e118[0xccd+0x9ed+0x33f*-0x7],_0x23e118[0x434+0x25a2+-0x2*0x14ea]):_0x2e34a0[_0x5286ce]=_0x23e118;}super['initialize'+'ComponentD'+'ata'](_0x2e34a0,_0x46b138,['enabled']);}['cloneCompo'+'nent'](_0x17df0a,_0x9d219a){const _0x19b255=_0x17df0a['rigidbody'],_0x6086a5={'enabled':_0x19b255['enabled'],'mass':_0x19b255['mass'],'linearDamping':_0x19b255['linearDamp'+'ing'],'angularDamping':_0x19b255['angularDam'+'ping'],'linearFactor':[_0x19b255['linearFact'+'or']['x'],_0x19b255['linearFact'+'or']['y'],_0x19b255['linearFact'+'or']['z']],'angularFactor':[_0x19b255['angularFac'+'tor']['x'],_0x19b255['angularFac'+'tor']['y'],_0x19b255['angularFac'+'tor']['z']],'friction':_0x19b255['friction'],'rollingFriction':_0x19b255['rollingFri'+'ction'],'restitution':_0x19b255['restitutio'+'n'],'type':_0x19b255['type'],'group':_0x19b255['group'],'mask':_0x19b255['mask']};return this['addCompone'+'nt'](_0x9d219a,_0x6086a5);}['onBeforeRe'+'move'](_0x33667c,_0x2c5d30){_0x2c5d30['enabled']&&(_0x2c5d30['enabled']=!(0xf*0x7d+-0x1*-0x15c+0x8ae*-0x1)),_0x2c5d30['body']&&(this['destroyBod'+'y'](_0x2c5d30['body']),_0x2c5d30['body']=null);}['addBody'](_0x58bb79,_0x12b8bc,_0x2c2b86){_0x12b8bc!==void(-0x1e5d+-0x14f4+0x3351)&&_0x2c2b86!==void(-0x1b1*0x15+0x1f9+0x218c)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x58bb79,_0x12b8bc,_0x2c2b86):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x58bb79);}['removeBody'](_0x5458a4){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x5458a4);}['createBody'](_0x43cc19,_0x428ce9,_0x34291e){const _0x506bf2=new Ammo['btVector3'](0x4*-0x610+0x5d3+0x126d,0x20d4+-0x1*-0x1b6f+-0x3c43,-0xfc6+-0x6*-0x2ba+-0x96);_0x43cc19!==0x1*0xdf1+0x19*-0x187+-0x2*-0xc1f&&_0x428ce9['calculateL'+'ocalInerti'+'a'](_0x43cc19,_0x506bf2);const _0x2accc5=new Ammo['btDefaultM'+'otionState'](_0x34291e),_0x296e52=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x43cc19,_0x2accc5,_0x428ce9,_0x506bf2),_0x25edd1=new Ammo['btRigidBod'+'y'](_0x296e52);return Ammo['destroy'](_0x296e52),Ammo['destroy'](_0x506bf2),_0x25edd1;}['destroyBod'+'y'](_0x4b0cfb){const _0x34ab0d=_0x4b0cfb['getMotionS'+'tate']();_0x34ab0d&&Ammo['destroy'](_0x34ab0d),Ammo['destroy'](_0x4b0cfb);}['raycastFir'+'st'](_0x565d4e,_0x30eaed,_0x296b0d={}){if(_0x296b0d['filterTags']||_0x296b0d['filterCall'+'back'])return _0x296b0d['sort']=!(-0x404+-0xb*0x323+-0xad*-0x39),this['raycastAll'](_0x565d4e,_0x30eaed,_0x296b0d)[0x182+0x1c40+-0x1a*0x125]||null;let _0x508cd7=null;Mi['setValue'](_0x565d4e['x'],_0x565d4e['y'],_0x565d4e['z']),Di['setValue'](_0x30eaed['x'],_0x30eaed['y'],_0x30eaed['z']);const _0x304eac=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x296b0d['filterColl'+'isionGroup']=='number'&&_0x304eac['set_m_coll'+'isionFilte'+'rGroup'](_0x296b0d['filterColl'+'isionGroup']),typeof _0x296b0d['filterColl'+'isionMask']=='number'&&_0x304eac['set_m_coll'+'isionFilte'+'rMask'](_0x296b0d['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x304eac),_0x304eac['hasHit']()){const _0x4f440b=_0x304eac['get_m_coll'+'isionObjec'+'t'](),_0x2089d0=Ammo['castObject'](_0x4f440b,Ammo['btRigidBod'+'y']);if(_0x2089d0){const _0x59fd2b=_0x304eac['get_m_hitP'+'ointWorld'](),_0x4f360e=_0x304eac['get_m_hitN'+'ormalWorld']();_0x508cd7=new eS(_0x2089d0['entity'],new D(_0x59fd2b['x'](),_0x59fd2b['y'](),_0x59fd2b['z']()),new D(_0x4f360e['x'](),_0x4f360e['y'](),_0x4f360e['z']()),_0x304eac['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x304eac),_0x508cd7;}['raycastAll'](_0x224b56,_0x262a22,_0x57ad72={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x2cc6d7=[];Mi['setValue'](_0x224b56['x'],_0x224b56['y'],_0x224b56['z']),Di['setValue'](_0x262a22['x'],_0x262a22['y'],_0x262a22['z']);const _0x318839=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x57ad72['filterColl'+'isionGroup']=='number'&&_0x318839['set_m_coll'+'isionFilte'+'rGroup'](_0x57ad72['filterColl'+'isionGroup']),typeof _0x57ad72['filterColl'+'isionMask']=='number'&&_0x318839['set_m_coll'+'isionFilte'+'rMask'](_0x57ad72['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x318839),_0x318839['hasHit']()){const _0x473079=_0x318839['get_m_coll'+'isionObjec'+'ts'](),_0x373947=_0x318839['get_m_hitP'+'ointWorld'](),_0x520aea=_0x318839['get_m_hitN'+'ormalWorld'](),_0x1e8351=_0x318839['get_m_hitF'+'ractions'](),_0x221055=_0x473079['size']();for(let _0xfc8084=-0xbe9+-0x242c+0x3015;_0xfc8084<_0x221055;_0xfc8084++){const _0x5747fa=Ammo['castObject'](_0x473079['at'](_0xfc8084),Ammo['btRigidBod'+'y']);if(_0x5747fa&&_0x5747fa['entity']){if(_0x57ad72['filterTags']&&!_0x5747fa['entity']['tags']['has'](..._0x57ad72['filterTags'])||_0x57ad72['filterCall'+'back']&&!_0x57ad72['filterCall'+'back'](_0x5747fa['entity']))continue;const _0x1d6939=_0x373947['at'](_0xfc8084),_0x2070af=_0x520aea['at'](_0xfc8084),_0x575187=new eS(_0x5747fa['entity'],new D(_0x1d6939['x'](),_0x1d6939['y'](),_0x1d6939['z']()),new D(_0x2070af['x'](),_0x2070af['y'](),_0x2070af['z']()),_0x1e8351['at'](_0xfc8084));_0x2cc6d7['push'](_0x575187);}}_0x57ad72['sort']&&_0x2cc6d7['sort']((_0x12fd79,_0x1cecab)=>_0x12fd79['hitFractio'+'n']-_0x1cecab['hitFractio'+'n']);}return Ammo['destroy'](_0x318839),_0x2cc6d7;}['_storeColl'+'ision'](_0x1ba6f2,_0x56b59f){let _0x216e6f=!(-0x606+0x1*-0x1105+-0x127*-0x14);const _0x55149e=_0x1ba6f2['getGuid']();return this['collisions'][_0x55149e]=this['collisions'][_0x55149e]||{'others':[],'entity':_0x1ba6f2},this['collisions'][_0x55149e]['others']['indexOf'](_0x56b59f)<0x1de9+-0x13e4+0xab*-0xf&&(this['collisions'][_0x55149e]['others']['push'](_0x56b59f),_0x216e6f=!(-0x1*-0x2679+0x43a*0x1+-0x2ab3*0x1)),this['frameColli'+'sions'][_0x55149e]=this['frameColli'+'sions'][_0x55149e]||{'others':[],'entity':_0x1ba6f2},this['frameColli'+'sions'][_0x55149e]['others']['push'](_0x56b59f),_0x216e6f;}['_createCon'+'tactPointF'+'romAmmo'](_0x2056b9){const _0x1080e5=_0x2056b9['get_m_loca'+'lPointA'](),_0x39f165=_0x2056b9['get_m_loca'+'lPointB'](),_0xa7023=_0x2056b9['getPositio'+'nWorldOnA'](),_0x22adb2=_0x2056b9['getPositio'+'nWorldOnB'](),_0x54e65f=_0x2056b9['get_m_norm'+'alWorldOnB'](),_0x5ab0cd=this['contactPoi'+'ntPool']['allocate']();return _0x5ab0cd['localPoint']['set'](_0x1080e5['x'](),_0x1080e5['y'](),_0x1080e5['z']()),_0x5ab0cd['localPoint'+'Other']['set'](_0x39f165['x'](),_0x39f165['y'](),_0x39f165['z']()),_0x5ab0cd['point']['set'](_0xa7023['x'](),_0xa7023['y'](),_0xa7023['z']()),_0x5ab0cd['pointOther']['set'](_0x22adb2['x'](),_0x22adb2['y'](),_0x22adb2['z']()),_0x5ab0cd['normal']['set'](_0x54e65f['x'](),_0x54e65f['y'](),_0x54e65f['z']()),_0x5ab0cd['impulse']=_0x2056b9['getApplied'+'Impulse'](),_0x5ab0cd;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1cc7ec){const _0x12d521=_0x1cc7ec['get_m_loca'+'lPointA'](),_0x199572=_0x1cc7ec['get_m_loca'+'lPointB'](),_0x38a4f3=_0x1cc7ec['getPositio'+'nWorldOnA'](),_0x14e76a=_0x1cc7ec['getPositio'+'nWorldOnB'](),_0x10b4f0=_0x1cc7ec['get_m_norm'+'alWorldOnB'](),_0x25a3cc=this['contactPoi'+'ntPool']['allocate']();return _0x25a3cc['localPoint'+'Other']['set'](_0x12d521['x'](),_0x12d521['y'](),_0x12d521['z']()),_0x25a3cc['localPoint']['set'](_0x199572['x'](),_0x199572['y'](),_0x199572['z']()),_0x25a3cc['pointOther']['set'](_0x38a4f3['x'](),_0x38a4f3['y'](),_0x38a4f3['z']()),_0x25a3cc['point']['set'](_0x14e76a['x'](),_0x14e76a['y'](),_0x14e76a['z']()),_0x25a3cc['normal']['set'](_0x10b4f0['x'](),_0x10b4f0['y'](),_0x10b4f0['z']()),_0x25a3cc['impulse']=_0x1cc7ec['getApplied'+'Impulse'](),_0x25a3cc;}['_createSin'+'gleContact'+'Result'](_0x34bb0c,_0x23a8fd,_0x18fd6a){const _0xa5c792=this['singleCont'+'actResultP'+'ool']['allocate']();return _0xa5c792['a']=_0x34bb0c,_0xa5c792['b']=_0x23a8fd,_0xa5c792['localPoint'+'A']=_0x18fd6a['localPoint'],_0xa5c792['localPoint'+'B']=_0x18fd6a['localPoint'+'Other'],_0xa5c792['pointA']=_0x18fd6a['point'],_0xa5c792['pointB']=_0x18fd6a['pointOther'],_0xa5c792['normal']=_0x18fd6a['normal'],_0xa5c792['impulse']=_0x18fd6a['impulse'],_0xa5c792;}['_createCon'+'tactResult'](_0xe4de42,_0xc79041){const _0x27f864=this['contactRes'+'ultPool']['allocate']();return _0x27f864['other']=_0xe4de42,_0x27f864['contacts']=_0xc79041,_0x27f864;}['_cleanOldC'+'ollisions'](){for(const _0x579325 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x579325)){const _0x929ffa=this['frameColli'+'sions'][_0x579325],_0x142679=this['collisions'][_0x579325],_0x82463c=_0x142679['entity'],_0xc9aa77=_0x82463c['collision'],_0x5e9737=_0x82463c['rigidbody'],_0x351874=_0x142679['others'];let _0x1353a0=_0x351874['length'];for(;_0x1353a0--;){const _0x5c911f=_0x351874[_0x1353a0];(!_0x929ffa||_0x929ffa['others']['indexOf'](_0x5c911f)<0x1*-0x1743+0x1*-0xf2b+0x1337*0x2)&&(_0x351874['splice'](_0x1353a0,-0xa2*0x4+-0x1c5e+0x3*0xa4d),_0x82463c['trigger']?(_0xc9aa77&&_0xc9aa77['fire']('triggerlea'+'ve',_0x5c911f),_0x5c911f['rigidbody']&&_0x5c911f['rigidbody']['fire']('triggerlea'+'ve',_0x82463c)):_0x5c911f['trigger']||(_0x5e9737&&_0x5e9737['fire']('collisione'+'nd',_0x5c911f),_0xc9aa77&&_0xc9aa77['fire']('collisione'+'nd',_0x5c911f)));}_0x351874['length']===0x1a61*-0x1+0x2030+-0x5cf&&delete this['collisions'][_0x579325];}}['_hasContac'+'tEvent'](_0x4dcf10){const _0x1d4d16=_0x4dcf10['collision'];if(_0x1d4d16&&(_0x1d4d16['hasEvent']('collisions'+'tart')||_0x1d4d16['hasEvent']('collisione'+'nd')||_0x1d4d16['hasEvent']('contact')))return!(0x3*0xc5b+-0x2*-0x851+-0x3b*0xe9);const _0xb8296c=_0x4dcf10['rigidbody'];return _0xb8296c&&(_0xb8296c['hasEvent']('collisions'+'tart')||_0xb8296c['hasEvent']('collisione'+'nd')||_0xb8296c['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x32d3f8,_0x128ac8){const _0x4a6132=Ammo['wrapPointe'+'r'](_0x32d3f8,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x505ec0=_0x4a6132['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x30acde=-0x24*-0x47+-0x9c8*0x1+0x4*-0xd;_0x30acde<_0x505ec0;_0x30acde++){const _0x43d93e=_0x4a6132['getManifol'+'dByIndexIn'+'ternal'](_0x30acde),_0x28c5ba=_0x43d93e['getBody0'](),_0x5dcc6b=_0x43d93e['getBody1'](),_0x1fbff2=Ammo['castObject'](_0x28c5ba,Ammo['btRigidBod'+'y']),_0x20da08=Ammo['castObject'](_0x5dcc6b,Ammo['btRigidBod'+'y']),_0xd0439f=_0x1fbff2['entity'],_0x1183ab=_0x20da08['entity'];if(!_0xd0439f||!_0x1183ab)continue;const _0x3e8055=_0x1fbff2['getCollisi'+'onFlags'](),_0x5809cd=_0x20da08['getCollisi'+'onFlags'](),_0x4ac753=_0x43d93e['getNumCont'+'acts'](),_0x37544e=[],_0x192a50=[];let _0x160d96;if(_0x4ac753>0x3e*-0x72+-0x6f9+0xd*0x2a9){if(_0x3e8055&Po||_0x5809cd&Po){const _0x2c94ed=_0xd0439f['collision']&&(_0xd0439f['collision']['hasEvent']('triggerent'+'er')||_0xd0439f['collision']['hasEvent']('triggerlea'+'ve')),_0x2aed11=_0x1183ab['collision']&&(_0x1183ab['collision']['hasEvent']('triggerent'+'er')||_0x1183ab['collision']['hasEvent']('triggerlea'+'ve')),_0x47c006=_0xd0439f['rigidbody']&&(_0xd0439f['rigidbody']['hasEvent']('triggerent'+'er')||_0xd0439f['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x41de0b=_0x1183ab['rigidbody']&&(_0x1183ab['rigidbody']['hasEvent']('triggerent'+'er')||_0x1183ab['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x2c94ed&&(_0x160d96=this['_storeColl'+'ision'](_0xd0439f,_0x1183ab),_0x160d96&&!(_0x5809cd&Po)&&_0xd0439f['collision']['fire']('triggerent'+'er',_0x1183ab)),_0x2aed11&&(_0x160d96=this['_storeColl'+'ision'](_0x1183ab,_0xd0439f),_0x160d96&&!(_0x3e8055&Po)&&_0x1183ab['collision']['fire']('triggerent'+'er',_0xd0439f)),_0x47c006&&(_0x160d96||(_0x160d96=this['_storeColl'+'ision'](_0x1183ab,_0xd0439f)),_0x160d96&&_0xd0439f['rigidbody']['fire']('triggerent'+'er',_0x1183ab)),_0x41de0b&&(_0x160d96||(_0x160d96=this['_storeColl'+'ision'](_0xd0439f,_0x1183ab)),_0x160d96&&_0x1183ab['rigidbody']['fire']('triggerent'+'er',_0xd0439f));}else{const _0x338abe=this['_hasContac'+'tEvent'](_0xd0439f),_0x38cdcf=this['_hasContac'+'tEvent'](_0x1183ab),_0x2b444a=this['hasEvent']('contact');if(_0x2b444a||_0x338abe||_0x38cdcf){for(let _0x2f7fe5=-0x1*0x1a89+0x9fd*-0x2+0x2e83;_0x2f7fe5<_0x4ac753;_0x2f7fe5++){const _0x3df010=_0x43d93e['getContact'+'Point'](_0x2f7fe5),_0x5bcdb1=this['_createCon'+'tactPointF'+'romAmmo'](_0x3df010);if(_0x338abe||_0x38cdcf){_0x37544e['push'](_0x5bcdb1);const _0x233f10=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x3df010);_0x192a50['push'](_0x233f10);}if(_0x2b444a){const _0x4d8505=this['_createSin'+'gleContact'+'Result'](_0xd0439f,_0x1183ab,_0x5bcdb1);this['fire']('contact',_0x4d8505);}}if(_0x338abe){const _0x35a758=this['_createCon'+'tactResult'](_0x1183ab,_0x37544e);_0x160d96=this['_storeColl'+'ision'](_0xd0439f,_0x1183ab),_0xd0439f['collision']&&(_0xd0439f['collision']['fire']('contact',_0x35a758),_0x160d96&&_0xd0439f['collision']['fire']('collisions'+'tart',_0x35a758)),_0xd0439f['rigidbody']&&(_0xd0439f['rigidbody']['fire']('contact',_0x35a758),_0x160d96&&_0xd0439f['rigidbody']['fire']('collisions'+'tart',_0x35a758));}if(_0x38cdcf){const _0xfd6651=this['_createCon'+'tactResult'](_0xd0439f,_0x192a50);_0x160d96=this['_storeColl'+'ision'](_0x1183ab,_0xd0439f),_0x1183ab['collision']&&(_0x1183ab['collision']['fire']('contact',_0xfd6651),_0x160d96&&_0x1183ab['collision']['fire']('collisions'+'tart',_0xfd6651)),_0x1183ab['rigidbody']&&(_0x1183ab['rigidbody']['fire']('contact',_0xfd6651),_0x160d96&&_0x1183ab['rigidbody']['fire']('collisions'+'tart',_0xfd6651));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x42faef){let _0x4d94ef,_0xd646be;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x1d30+-0x3*-0x6a4+-0x311c]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x2*-0x239+-0x5*-0x5bc+-0x211d]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x11d8+0x721*-0x5+0x11d5*0x3]=this['gravity']['z'];const _0x5bd720=this['dynamicsWo'+'rld']['getGravity']();(_0x5bd720['x']()!==this['_gravityFl'+'oat32'][-0x21*-0x16+0xa48+0xd1e*-0x1]||_0x5bd720['y']()!==this['_gravityFl'+'oat32'][-0x1*0x69+0x1a2*-0x13+0x3ee*0x8]||_0x5bd720['z']()!==this['_gravityFl'+'oat32'][-0x1*-0xea3+0x183e+-0x26df])&&(_0x5bd720['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x5bd720));const _0x1dbe27=this['_triggers'];for(_0x4d94ef=0x5e4+0x1caa+-0x228e,_0xd646be=_0x1dbe27['length'];_0x4d94ef<_0xd646be;_0x4d94ef++)_0x1dbe27[_0x4d94ef]['updateTran'+'sform']();const _0x34794a=this['_compounds'];for(_0x4d94ef=-0x23f2+0x123c*-0x2+-0x2435*-0x2,_0xd646be=_0x34794a['length'];_0x4d94ef<_0xd646be;_0x4d94ef++)_0x34794a[_0x4d94ef]['_updateCom'+'pound']();const _0xcce2d1=this['_kinematic'];for(_0x4d94ef=-0xd78*0x2+0x1fbb*0x1+-0x4cb,_0xd646be=_0xcce2d1['length'];_0x4d94ef<_0xd646be;_0x4d94ef++)_0xcce2d1[_0x4d94ef]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x42faef,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x19a401=this['_dynamic'];for(_0x4d94ef=-0x22*0x29+0x16d2+0x22c*-0x8,_0xd646be=_0x19a401['length'];_0x4d94ef<_0xd646be;_0x4d94ef++)_0x19a401[_0x4d94ef]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x42faef),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x196acb,_0x31878c){super(_0x196acb,_0x31878c),this['_resolutio'+'n']=new J(-0x155f+0x1*0x1acf+-0x2f*0x10,-0x1*0x1277+0xa*-0x240+0x2a37),this['_reference'+'Resolution']=new J(0x1*0xc5f+0x36*0x6+-0xb23,0x1413+0x235e+-0x3631),this['_scaleMode']=Za,this['scale']=-0x325*-0x4+0x2a*0x15+0x1*-0x1005,this['_scaleBlen'+'d']=-0x519+0x1a5c+0x1543*-0x1+0.5,this['_priority']=0x1*0x123c+0xa3*-0x22+0x36a,this['_screenSpa'+'ce']=!(0xde6+0xb6f+0xcaa*-0x2),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x196acb['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x360ea1,_0x272b18){var _0x3b9826;if(!(_0x360ea1 instanceof lt))return _0x272b18;if(_0x360ea1['element']){const _0x482314=_0x360ea1['element']['drawOrder'];_0x360ea1['element']['drawOrder']=_0x272b18++,_0x360ea1['element']['_batchGrou'+'pId']>=-0x1291*0x2+-0x2*-0x89f+0x13e4&&_0x482314!==_0x360ea1['element']['drawOrder']&&((_0x3b9826=this['system']['app']['batcher'])==null||_0x3b9826['markGroupD'+'irty'](_0x360ea1['element']['_batchGrou'+'pId']));}_0x360ea1['particlesy'+'stem']&&(_0x360ea1['particlesy'+'stem']['drawOrder']=_0x272b18++);const _0x4e0cbc=_0x360ea1['children'];for(let _0x19b596=0x1*0x89f+-0xd39*-0x1+-0x15d8;_0x19b596<_0x4e0cbc['length'];_0x19b596++)_0x272b18=this['_recurseDr'+'awOrderSyn'+'c'](_0x4e0cbc[_0x19b596],_0x272b18);return _0x272b18;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0xf03+-0x57*0x3+0x1*-0xdfd),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x1ad632=this['_resolutio'+'n']['x']/this['scale'],_0x4a238f=this['_resolutio'+'n']['y']/this['scale'],_0x35573f=0xdd9+0x20c9*-0x1+0x12f0,_0x5b236b=_0x1ad632,_0xed6cab=-_0x4a238f;this['_screenMat'+'rix']['setOrtho'](_0x35573f,_0x5b236b,_0xed6cab,0x819*-0x3+0xaf7+-0x4*-0x355,-0x2f5+-0xbf9*0x1+0xeef,-(0x1a03+0x16a+-0x1b6c)),this['_screenSpa'+'ce']||(tS['setScale']((0x2223+0x2613+-0x4836+0.5)*_0x1ad632,(0x1*-0x1e43+-0x1*0x12c7+-0x310a*-0x1+0.5)*_0x4a238f,0x156b+-0x57e+-0xfec),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x543d22,_0x2fa05f){const _0x4e383a=Math['log2']((_0x543d22['x']||-0x1*0x1bd9+0x713*-0x4+0x1*0x3826)/_0x2fa05f['x']),_0x6a6aea=Math['log2']((_0x543d22['y']||0x15*0x1cd+0x1f76+-0x22a3*0x2)/_0x2fa05f['y']);return Math['pow'](0xdec+0x2*0x979+-0x20dc,_0x4e383a*(-0x2*-0xbf6+-0x2*0xc25+0x5f-this['_scaleBlen'+'d'])+_0x6a6aea*this['_scaleBlen'+'d']);}['_onResize'](_0x504288,_0x6d9dd6){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x504288,_0x6d9dd6),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x490632){this['_elements']['add'](_0x490632);}['_unbindEle'+'ment'](_0x43f91a){this['_elements']['delete'](_0x43f91a);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x541962=>_0x541962['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x2725cd){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x2725cd['x'],_0x2725cd['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x443082=>_0x443082['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x3ffe94){this['_reference'+'Resolution']['set'](_0x3ffe94['x'],_0x3ffe94['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x20edd7=>_0x20edd7['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x3db256){this['_screenSpa'+'ce']=_0x3db256,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x5d5ae7=>_0x5d5ae7['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x52ba2a){_0x52ba2a!==Za&&_0x52ba2a!==qO&&(_0x52ba2a=Za),!this['_screenSpa'+'ce']&&_0x52ba2a!==Za&&(_0x52ba2a=Za),this['_scaleMode']=_0x52ba2a,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x329b58){this['_scaleBlen'+'d']=_0x329b58,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x24f903=>_0x24f903['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x135182){_0x135182>-0x805*0x3+-0x1*0x60d+0x1f1b&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x135182+'\x20to\x20255'),_0x135182=-0xbc*0x2b+0x1c*-0x97+-0x47*-0xb1),this['_priority']!==_0x135182&&(this['_priority']=_0x135182,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0xc77+-0x12c0+0x1f37);}}const Uu=['enabled'];class YO extends ct{constructor(_0xb01f39){super(_0xb01f39),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0xb0a6fb,_0xd189b,_0x365143){_0xd189b['priority']!==void(0x26a0+-0xc9a+0x2*-0xd03)&&(_0xb0a6fb['priority']=_0xd189b['priority']),_0xd189b['screenSpac'+'e']!==void(0x4ca*-0x4+-0x1*-0x1271+-0xb7*-0x1)&&(_0xb0a6fb['screenSpac'+'e']=_0xd189b['screenSpac'+'e']),_0xb0a6fb['cull']=_0xb0a6fb['screenSpac'+'e'],_0xd189b['scaleMode']!==void(0x2058+-0x2*-0x10a5+-0x41a2)&&(_0xb0a6fb['scaleMode']=_0xd189b['scaleMode']),_0xd189b['scaleBlend']!==void(0x26f4+0x21c4+0x1a*-0x2cc)&&(_0xb0a6fb['scaleBlend']=_0xd189b['scaleBlend']),_0xd189b['resolution']!==void(0x10b9*-0x1+0xce3*0x1+-0x1eb*-0x2)&&(_0xd189b['resolution']instanceof J?_0xb0a6fb['_resolutio'+'n']['copy'](_0xd189b['resolution']):_0xb0a6fb['_resolutio'+'n']['set'](_0xd189b['resolution'][0x8c*-0xa+-0x9*0x243+0x19d3],_0xd189b['resolution'][-0x26da+-0x11*0x1e7+0x4732]),_0xb0a6fb['resolution']=_0xb0a6fb['_resolutio'+'n']),_0xd189b['referenceR'+'esolution']!==void(-0x1f*-0x8b+-0x1*-0x6b7+0x1*-0x178c)&&(_0xd189b['referenceR'+'esolution']instanceof J?_0xb0a6fb['_reference'+'Resolution']['copy'](_0xd189b['referenceR'+'esolution']):_0xb0a6fb['_reference'+'Resolution']['set'](_0xd189b['referenceR'+'esolution'][0x4bd*-0x6+0x1df9+-0x5*0x4f],_0xd189b['referenceR'+'esolution'][0x3*-0x16b+0x218f+-0x1d4d*0x1]),_0xb0a6fb['referenceR'+'esolution']=_0xb0a6fb['_reference'+'Resolution']),_0xb0a6fb['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0xb0a6fb,_0xd189b,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x39048c){const _0x4da124=this['store'];for(const _0x3780ea in _0x4da124)_0x4da124[_0x3780ea]['entity']['screen']['update']&&_0x4da124[_0x3780ea]['entity']['screen']['update'](_0x39048c);}['_onResize'](_0x589c55,_0x413b95){this['windowReso'+'lution']['x']=_0x589c55,this['windowReso'+'lution']['y']=_0x413b95;}['cloneCompo'+'nent'](_0x1e9a25,_0x96c76e){const _0x31f67e=_0x1e9a25['screen'];return this['addCompone'+'nt'](_0x96c76e,{'enabled':_0x31f67e['enabled'],'screenSpace':_0x31f67e['screenSpac'+'e'],'scaleMode':_0x31f67e['scaleMode'],'resolution':_0x31f67e['resolution']['clone'](),'referenceResolution':_0x31f67e['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x470b7e,_0x572912){_0x572912['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x4a0e61=this['_drawOrder'+'SyncQueue']['list']();for(let _0x46eb18=-0xdfd+-0x1784+-0x2581*-0x1;_0x46eb18<_0x4a0e61['length'];_0x46eb18++){const _0x452d14=_0x4a0e61[_0x46eb18];_0x452d14['callback']['call'](_0x452d14['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x214d27,_0x399c26,_0x44042f){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x214d27)||this['_drawOrder'+'SyncQueue']['push'](_0x214d27,{'callback':_0x399c26,'scope':_0x44042f});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x3c5d89,_0x3e053a){if(super(),!_0x3c5d89||!(_0x3c5d89 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x3e053a&&_0x3e053a!=='x'&&_0x3e053a!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x3e053a);this['_element']=_0x3c5d89,this['_app']=_0x3c5d89['system']['app'],this['_axis']=_0x3e053a||null,this['_enabled']=!(0x28e+0x115c+-0x13ea),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0xcb4+0x15*0x61+0x8*-0x295),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x496344){this['_element'][_0x496344]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x496344]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x496344]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3064da){const _0x40afb6=_0x3064da==='on';this['_hasDragLi'+'steners']&&_0x40afb6||(this['_app']['mouse']&&(this['_element'][_0x3064da]('mousemove',this['_onMove'],this),this['_element'][_0x3064da]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x3064da]('touchmove',this['_onMove'],this),this['_element'][_0x3064da]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3064da]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3064da]('selectmove',this['_onMove'],this),this['_element'][_0x3064da]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x40afb6);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x18202f){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x18202f['camera'],this['_calculate'+'DragScale']();const _0xa70845=this['_screenToL'+'ocal'](_0x18202f);_0xa70845&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0xe6c+0x2*-0x1216+0x8*0x653),this['_dragStart'+'MousePosit'+'ion']['copy'](_0xa70845),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x58*0x39+0x2136+-0x34cd*0x1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x2a20a3){return _0x2a20a3['inputSourc'+'e']?Hr['set'](_0x2a20a3['inputSourc'+'e']['getOrigin'](),_0x2a20a3['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x2a20a3),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0xead+0x6e9+-0x11*0x145)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x2da131){const _0x2c82f7=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x2da131['x']<'u'&&typeof _0x2da131['y']<'u'?(lr['x']=_0x2da131['x']*_0x2c82f7,lr['y']=_0x2da131['y']*_0x2c82f7):_0x2da131['changedTou'+'ches']?(lr['x']=_0x2da131['changedTou'+'ches'][0x1b57+0x1*0xa6d+-0x4*0x971]['x']*_0x2c82f7,lr['y']=_0x2da131['changedTou'+'ches'][0x11ab+-0x96c+-0x83f]['y']*_0x2c82f7):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x678+0x1ec1*-0x1+0x1849),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x162e+-0xba+0x16e9)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x4f2be9=this['_element']['entity']['parent'];const _0x4bfeda=this['_element']['screen']&&this['_element']['screen']['screen'],_0x56214d=_0x4bfeda&&_0x4bfeda['screenSpac'+'e'],_0x172079=_0x56214d?_0x4bfeda['scale']:0x35+0x6a*-0x41+0x1ab6,_0x57d53c=this['_dragScale'];for(_0x57d53c['set'](_0x172079,_0x172079,_0x172079);_0x4f2be9&&(_0x57d53c['mul'](_0x4f2be9['getLocalSc'+'ale']()),_0x4f2be9=_0x4f2be9['parent'],!(_0x56214d&&_0x4f2be9['screen'])););_0x57d53c['x']=(-0x20*-0xe5+0x1ae5+-0x11*0x344)/_0x57d53c['x'],_0x57d53c['y']=(0x3*-0x1f1+-0x3*0x425+0x3a7*0x5)/_0x57d53c['y'],_0x57d53c['z']=0x1ac7+0x949*0x1+-0x482*0x8;}['_onMove'](_0x236f8b){const {_element:_0x17c11e,_deltaMousePosition:_0x494844,_deltaHandlePosition:_0x232702,_axis:_0x579ccf}=this;if(_0x17c11e&&this['_isDraggin'+'g']&&this['enabled']&&_0x17c11e['enabled']&&_0x17c11e['entity']['enabled']){const _0x256cf8=this['_screenToL'+'ocal'](_0x236f8b);if(_0x256cf8){if(_0x494844['sub2'](_0x256cf8,this['_dragStart'+'MousePosit'+'ion']),_0x232702['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x494844),_0x579ccf){const _0x577f4d=_0x17c11e['entity']['getLocalPo'+'sition'](),_0x47f6ba=ZO[_0x579ccf];_0x232702[_0x47f6ba]=_0x577f4d[_0x47f6ba];}_0x17c11e['entity']['setLocalPo'+'sition'](_0x232702),this['fire']('drag:move',_0x232702);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5cd4a6){this['_enabled']=_0x5cd4a6;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=-0x225c+-0xf9f+0x31fb,aS=0x10e7+0x875+0x195b*-0x1,JO=0x2254*0x1+0x22ef+-0x4541,eF=0x266c+-0x8ea+-0x1d82,tF=0x1*0x208+-0x989+0x782,xo=new J();class c0 extends we{constructor(_0x4b0725,_0x24f364){super(_0x4b0725,_0x24f364),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x2c*0x9d+-0xc7d*0x1+0x277a),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x34d4a9=this['system']['store'][this['entity']['getGuid']()];return _0x34d4a9?_0x34d4a9['data']:null;}set['enabled'](_0x283807){this['_setValue']('enabled',_0x283807);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x3e2ce3){this['_setValue']('horizontal',_0x3e2ce3);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x566119){this['_setValue']('vertical',_0x566119);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x4cf527){this['_setValue']('scrollMode',_0x4cf527);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x5975cf){this['_setValue']('bounceAmou'+'nt',_0x5975cf);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x5ed37a){this['_setValue']('friction',_0x5ed37a);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x25d666){this['_setValue']('dragThresh'+'old',_0x25d666);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x2a041a){this['_setValue']('useMouseWh'+'eel',_0x2a041a);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x2f272b){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x2f272b);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x2df1c7){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x2df1c7);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x198c1d){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x198c1d);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x10bc46){if(this['_viewportE'+'ntity']===_0x10bc46)return;const _0x4fc906=typeof _0x10bc46=='string';this['_viewportE'+'ntity']&&_0x4fc906&&this['_viewportE'+'ntity']['getGuid']()===_0x10bc46||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x10bc46 instanceof Ie?this['_viewportE'+'ntity']=_0x10bc46:_0x4fc906?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x10bc46)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x4fc906&&_0x10bc46&&(this['data']['viewportEn'+'tity']=_0x10bc46));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x59c483){if(this['_contentEn'+'tity']===_0x59c483)return;const _0x113e5c=typeof _0x59c483=='string';this['_contentEn'+'tity']&&_0x113e5c&&this['_contentEn'+'tity']['getGuid']()===_0x59c483||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x59c483 instanceof Ie?this['_contentEn'+'tity']=_0x59c483:_0x113e5c?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x59c483)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x113e5c&&_0x59c483&&(this['data']['contentEnt'+'ity']=_0x59c483));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x57d866){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x57d866)return;const _0x48440a=typeof _0x57d866=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x48440a&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x57d866||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x57d866 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x57d866:_0x48440a?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x57d866)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x48440a&&_0x57d866&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x57d866));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x553e20){if(this['_verticalS'+'crollbarEn'+'tity']===_0x553e20)return;const _0x19c2b0=typeof _0x553e20=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x19c2b0&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x553e20||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x553e20 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x553e20:_0x19c2b0?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x553e20)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x19c2b0&&_0x553e20&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x553e20));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x555f8e){this['_onSetScro'+'ll'](_0x555f8e['x'],_0x555f8e['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x29b95a,_0x53dac3){const _0x1ce52d=this['data'],_0x27967c=_0x1ce52d[_0x29b95a];_0x1ce52d[_0x29b95a]=_0x53dac3,this['fire']('set',_0x29b95a,_0x27967c,_0x53dac3);}['_toggleLif'+'ecycleList'+'eners'](_0x10db52){this[_0x10db52]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x10db52]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x10db52]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x295aa2){if(this['entity']['element']){if(_0x295aa2==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x295aa2]('resize',this['_syncAll'],this),this['entity']['element'][_0x295aa2]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x295aa2==='on';}}['_onElement'+'ComponentA'+'dd'](_0x2aef30){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x176dc2){var _0x57277f;(_0x57277f=this['_evtElemen'+'tRemove'])==null||_0x57277f['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x518f21,_0x23c3c9;(_0x518f21=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x518f21['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x23c3c9=this['_viewportE'+'ntity'])!=null&&_0x23c3c9['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x25605c=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x25605c['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x25605c['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x59cf85,_0x20f5a2;(_0x59cf85=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x59cf85['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x20f5a2=this['_evtViewpo'+'rtResize'])==null||_0x20f5a2['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x560f64,_0x48d414;(_0x560f64=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x560f64['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x48d414=this['_contentEn'+'tity'])!=null&&_0x48d414['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x4514f4=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x4514f4['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x4514f4['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0xe9d587,_0x45073e;(_0xe9d587=this['_evtConten'+'tElementRe'+'move'])==null||_0xe9d587['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x45073e=this['_evtConten'+'tResize'])==null||_0x45073e['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0xcbf5a9){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x22d6+-0x4b*-0x17+0x1d*-0x16f),this['_setScroll'+'FromConten'+'tPosition'](_0xcbf5a9),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0xcbf5a9),!this['_disabledC'+'ontentInpu'+'t'])){const _0x4dc082=_0xcbf5a9['x']-this['_dragStart'+'Position']['x'],_0x175959=_0xcbf5a9['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x4dc082)>this['dragThresh'+'old']||Math['abs'](_0x175959)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x1e6aa7;(_0x1e6aa7=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x1e6aa7['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x294ffe;(_0x294ffe=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x294ffe['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x1a07de){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x1a07de,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x2df9e3){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x2df9e3);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x4ec133;const _0x48c1cf=(_0x4ec133=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x537+-0x35*-0x4f+0x2e*-0x3e):_0x4ec133['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x48c1cf['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x48c1cf['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x4e2005;const _0x1b4b1c=(_0x4e2005=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x27*0x50+0x9*0x3f+0x1*-0xe67):_0x4e2005['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x1b4b1c['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x1b4b1c['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x479073,_0x3f5e49;(_0x479073=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x479073['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x3f5e49=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x3f5e49['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x1f2cdc,_0xa9ee30;(_0x1f2cdc=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x1f2cdc['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0xa9ee30=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0xa9ee30['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x1d9c67,_0x36899c,_0x5f3079){_0x5f3079!==!(0x1bf4+-0x4*-0x733+-0x38bf)&&this['_velocity']['set'](0x1*0x13be+0x778+0x102*-0x1b,0x3e4+0x1*-0x1a3b+0x1657,-0x1449+0x4e*-0x1d+0x1*0x1d1f);const _0x54a4a9=this['_updateAxi'+'s'](_0x1d9c67,'x',Ce),_0x21e4ba=this['_updateAxi'+'s'](_0x36899c,'y',je);(_0x54a4a9||_0x21e4ba)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x1e79b8,_0x2b7e5b,_0x46a829){const _0x5618ae=_0x1e79b8!==null&&Math['abs'](_0x1e79b8-this['_scroll'][_0x2b7e5b])>-0x1edd+-0x27*-0x4f+0x12d4+0.00001;return(_0x5618ae||this['_isDraggin'+'g']()||_0x1e79b8===0x1094+0x32+-0x26*0x71)&&(this['_scroll'][_0x2b7e5b]=this['_determine'+'NewScrollV'+'alue'](_0x1e79b8,_0x2b7e5b,_0x46a829),this['_syncConte'+'ntPosition'](_0x46a829),this['_syncScrol'+'lbarPositi'+'on'](_0x46a829)),_0x5618ae;}['_determine'+'NewScrollV'+'alue'](_0x3916a8,_0x24952d,_0x25cda5){if(!this['_getScroll'+'ingEnabled'](_0x25cda5))return this['_scroll'][_0x24952d];switch(this['scrollMode']){case QO:return Y['clamp'](_0x3916a8,0x14b3+0x5*0x5f3+-0x3272,this['_getMaxScr'+'ollValue'](_0x25cda5));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x3916a8,_0x24952d,_0x25cda5),_0x3916a8;case JO:return _0x3916a8;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x3916a8;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x2b7ab7){if(!this['_contentEn'+'tity'])return;const _0x45a3d0=this['_getAxis'](_0x2b7ab7),_0x5ef5dd=this['_getSign'](_0x2b7ab7),_0x3473d0=this['_prevConte'+'ntSizes'][_0x2b7ab7],_0x130a13=this['_getConten'+'tSize'](_0x2b7ab7);if(_0x3473d0!==null&&Math['abs'](_0x3473d0-_0x130a13)>-0x207d*-0x1+0x4*0x436+-0x3155+0.0001){const _0x5865d3=this['_getMaxOff'+'set'](_0x2b7ab7,_0x3473d0),_0x432459=this['_getMaxOff'+'set'](_0x2b7ab7,_0x130a13);_0x432459===0x2*0xe52+-0x1*0x1f41+0x3*0xdf?this['_scroll'][_0x45a3d0]=0x16d*-0x1a+0xff8+-0x709*-0x3:this['_scroll'][_0x45a3d0]=Y['clamp'](this['_scroll'][_0x45a3d0]*_0x5865d3/_0x432459,-0x22bf+-0x91a*0x2+0x34f3,-0x1e4a+-0x9aa*0x1+0x27f5);}const _0x35b511=this['_scroll'][_0x45a3d0]*this['_getMaxOff'+'set'](_0x2b7ab7),_0x1ba474=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1ba474[_0x45a3d0]=_0x35b511*_0x5ef5dd,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1ba474),this['_prevConte'+'ntSizes'][_0x2b7ab7]=_0x130a13;}['_syncScrol'+'lbarPositi'+'on'](_0x5be76a){const _0x3a80cc=this['_scrollbar'+'Entities'][_0x5be76a];if(!(_0x3a80cc!=null&&_0x3a80cc['scrollbar']))return;const _0x4daa4f=this['_getAxis'](_0x5be76a);this['_scrollbar'+'UpdateFlag'+'s'][_0x5be76a]=!(0xe17+0x1*-0x33+-0x7*0x1fc),_0x3a80cc['scrollbar']['value']=this['_scroll'][_0x4daa4f],_0x3a80cc['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x4daa4f,_0x5be76a),this['_scrollbar'+'UpdateFlag'+'s'][_0x5be76a]=!(-0x951+0x1969+-0x1017);}['_syncScrol'+'lbarEnable'+'dState'](_0x206eca){const _0xdbc080=this['_scrollbar'+'Entities'][_0x206eca];if(!_0xdbc080)return;const _0x226a56=this['_getScroll'+'ingEnabled'](_0x206eca),_0x5de25d=this['_getScroll'+'barVisibil'+'ity'](_0x206eca);switch(_0x5de25d){case eF:_0xdbc080['enabled']=_0x226a56;return;case tF:_0xdbc080['enabled']=_0x226a56&&this['_contentIs'+'LargerThan'+'Viewport'](_0x206eca);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x5de25d),_0xdbc080['enabled']=_0x226a56;}}['_contentIs'+'LargerThan'+'Viewport'](_0x437db0){return this['_getConten'+'tSize'](_0x437db0)>this['_getViewpo'+'rtSize'](_0x437db0);}['_contentPo'+'sitionToSc'+'rollValue'](_0x5e340d){const _0x52676e=this['_getMaxOff'+'set'](Ce),_0x2d2597=this['_getMaxOff'+'set'](je);return _0x52676e===0x1f*0xcd+-0x2*0x161+-0x7*0x327?xo['x']=-0x17c*-0x17+-0x2ab*0xb+-0x4cb:xo['x']=_0x5e340d['x']/_0x52676e,_0x2d2597===-0x19b8+0x268e+-0xcd6?xo['y']=0x266b+0x16a0+0x1459*-0x3:xo['y']=_0x5e340d['y']/-_0x2d2597,xo;}['_getMaxOff'+'set'](_0x2c352e,_0x82a115){_0x82a115=_0x82a115===void(-0x1df7*-0x1+0xfb5+0x4*-0xb6b)?this['_getConten'+'tSize'](_0x2c352e):_0x82a115;const _0x9aa417=this['_getViewpo'+'rtSize'](_0x2c352e);return _0x82a115<_0x9aa417?-this['_getViewpo'+'rtSize'](_0x2c352e):_0x9aa417-_0x82a115;}['_getMaxScr'+'ollValue'](_0x1cd4b6){return this['_contentIs'+'LargerThan'+'Viewport'](_0x1cd4b6)?-0x15b*-0x5+-0xfd5+-0x1*-0x90f:-0x219e+0x1770+0xa2e;}['_getScroll'+'barHandleS'+'ize'](_0x133be1,_0x12ec61){const _0x465403=this['_getViewpo'+'rtSize'](_0x12ec61),_0x399394=this['_getConten'+'tSize'](_0x12ec61);if(Math['abs'](_0x399394)<0xc29*-0x1+0x16db+-0xab2+0.001)return-0x20dd+-0x2366+0x4444;const _0x148759=Math['min'](_0x465403/_0x399394,0x181a+0x20d0+0x359*-0x11),_0x55496a=this['_toOversho'+'ot'](this['_scroll'][_0x133be1],_0x12ec61);return _0x55496a===-0x1c9f+-0x2*0xd06+0xf*0x3a5?_0x148759:_0x148759/(0x208+0x1f17+-0x211e+Math['abs'](_0x55496a));}['_getViewpo'+'rtSize'](_0x196b8f){return this['_getSize'](_0x196b8f,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x1c9528){return this['_getSize'](_0x1c9528,this['_contentEn'+'tity']);}['_getSize'](_0x12599a,_0x587fbb){return _0x587fbb!=null&&_0x587fbb['element']?_0x587fbb['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x12599a)]:-0x8ab+-0x321+0xbcc;}['_getScroll'+'ingEnabled'](_0x1943f1){if(_0x1943f1===Ce)return this['horizontal'];if(_0x1943f1===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x1943f1);}['_getScroll'+'barVisibil'+'ity'](_0x271248){if(_0x271248===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x271248===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x271248);}['_getSign'](_0x1aada8){return _0x1aada8===Ce?0x55*0x6a+0xfdd+0xa36*-0x5:-(0x1afc*-0x1+0x2d*0x6f+-0x1d*-0x42);}['_getAxis'](_0x4e2cac){return _0x4e2cac===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1ea0fd){return _0x1ea0fd===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x10eb+-0x2e*-0x73+-0x1*0x3bf+0.0001||Math['abs'](this['_velocity']['y'])>0x1a8c+0x7db*-0x2+-0xad6+0.0001){const _0x3c04ba=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3c04ba['x']+=this['_velocity']['x'],_0x3c04ba['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3c04ba),this['_setScroll'+'FromConten'+'tPosition'](_0x3c04ba);}this['_velocity']['x']*=-0xa+-0xb6e+0xb79-this['friction'],this['_velocity']['y']*=-0x16eb+-0x20f7*0x1+0x12a1*0x3-this['friction'];}}['_hasOversh'+'oot'](_0x5567ec,_0x242d8b){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x5567ec],_0x242d8b))>-0x1e1b*-0x1+-0xa17+-0x1404+0.001;}['_toOversho'+'ot'](_0x5ce3c2,_0xef06d2){const _0x312e59=this['_getMaxScr'+'ollValue'](_0xef06d2);return _0x5ce3c2<-0x854*0x3+-0x1*0x1a9+0x1aa5*0x1?_0x5ce3c2:_0x5ce3c2>_0x312e59?_0x5ce3c2-_0x312e59:-0x101*-0x26+0x5*0x5bf+-0x42e1;}['_setVeloci'+'tyFromOver'+'shoot'](_0x507475,_0x5a6c32,_0x5134eb){const _0x1560dc=this['_toOversho'+'ot'](_0x507475,_0x5134eb)*this['_getMaxOff'+'set'](_0x5134eb)*this['_getSign'](_0x5134eb);Math['abs'](_0x1560dc)>0x9a9*0x2+0x1*0x647+-0x1999&&(this['_velocity'][_0x5a6c32]=-_0x1560dc/(this['bounceAmou'+'nt']*(-0x1eb5+0x835+-0x16b2*-0x1)+(-0x22df*0x1+0x1*0x184f+0x1*0xa91)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x17f384){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x17f384,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x17f384)):(this['_velocity']['set'](-0x4f*-0x7+0x1*0x23c3+-0x25ec,0x11d*0x5+-0x2663*-0x1+-0x2bf4*0x1,-0x1c31*-0x1+-0x1a11+-0x220),this['_prevConte'+'ntDragPosi'+'tion']=_0x17f384['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x39af31){let _0x5d835d=this['_contentPo'+'sitionToSc'+'rollValue'](_0x39af31);this['_isDraggin'+'g']()&&(_0x5d835d=this['_applyScro'+'llValueTen'+'sion'](_0x5d835d)),this['_onSetScro'+'ll'](_0x5d835d['x'],_0x5d835d['y'],!(0x25b1+-0x435*-0x7+-0x33*0x151));}['_applyScro'+'llValueTen'+'sion'](_0xde1fea){let _0x4ce0f1=this['_getMaxScr'+'ollValue'](Ce),_0x136fa2=this['_toOversho'+'ot'](_0xde1fea['x'],Ce);return _0x136fa2>-0x1*0x9cd+-0x1730+0x20fd?_0xde1fea['x']=_0x4ce0f1+(-0xbf*0xa+0x989+-0x212)*Math['log10'](-0x1cb1+-0x12af+0x2f61+_0x136fa2):_0x136fa2<0x835+0x220a+-0x2a3f&&(_0xde1fea['x']=-(-0x1*-0x1e5c+-0xf4+-0x1d67)*Math['log10'](-0x1*-0x1c55+-0xad6+0x117e*-0x1-_0x136fa2)),_0x4ce0f1=this['_getMaxScr'+'ollValue'](je),_0x136fa2=this['_toOversho'+'ot'](_0xde1fea['y'],je),_0x136fa2>0x34*-0x29+-0x4*0x6e2+-0x24*-0xff?_0xde1fea['y']=_0x4ce0f1+(-0x2292+0xa81*-0x2+0x1cb*0x1f)*Math['log10'](-0x1*0x3a9+-0x11*0x1f7+-0xc5b*-0x3+_0x136fa2):_0x136fa2<-0x1ec7*-0x1+0x106e+-0x2f35&&(_0xde1fea['y']=-(-0x1a7f+-0x207*0x9+-0x4f*-0x91)*Math['log10'](0x29*-0xc+-0xf3f+0x112c-_0x136fa2)),_0xde1fea;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x23524e){var _0x134241,_0x1764e5;(_0x134241=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x134241['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x23524e),(_0x1764e5=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x1764e5['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x23524e);}['_setConten'+'tDraggingE'+'nabled'](_0xbe2682){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0xbe2682);}['_onMouseWh'+'eel'](_0x571c12){var _0x4f601a;if(!this['useMouseWh'+'eel']||!((_0x4f601a=this['_contentEn'+'tity'])!=null&&_0x4f601a['element']))return;const _0x4cf0a9=_0x571c12['event'],_0x2956a4=_0x4cf0a9['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x3b54e6=_0x4cf0a9['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0xf11b21=Y['clamp'](this['_scroll']['x']+_0x2956a4,-0x12df*-0x1+0x5b*-0x1e+-0x835,this['_getMaxScr'+'ollValue'](Ce)),_0x22595f=Y['clamp'](this['_scroll']['y']+_0x3b54e6,-0xb3f+-0xbc6+0x1705*0x1,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0xf11b21,_0x22595f);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x16efb4=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x16efb4['element']&&(_0x16efb4['element']['useInput']=!(-0xb2+-0x8*0x46c+0x39*0xa2));}this['_disabledC'+'ontentInpu'+'t']=!(0x16c8+-0x15a3+-0x124);}['_disableCo'+'ntentInput'](){const _0x303f81=_0x26b492=>{_0x26b492['element']&&_0x26b492['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x26b492),_0x26b492['element']['useInput']=!(-0x5*-0x46f+-0x1f84*0x1+0x6*0x18f));const _0x2a4d16=_0x26b492['children'];for(let _0x2935a1=-0x1173+-0x1866+0x29d9,_0x23e957=_0x2a4d16['length'];_0x2935a1<_0x23e957;_0x2935a1++)_0x303f81(_0x2a4d16[_0x2935a1]);};if(this['_contentEn'+'tity']){const _0x6b6cf8=this['_contentEn'+'tity']['children'];for(let _0xac5cad=-0x20*-0x138+0x17d8+-0x3ed8,_0x338de0=_0x6b6cf8['length'];_0xac5cad<_0x338de0;_0xac5cad++)_0x303f81(_0x6b6cf8[_0xac5cad]);}this['_disabledC'+'ontentInpu'+'t']=!(0x1651+-0x226c+0xc1b);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xac+-0x2*-0xe8a+-0x1c68)),this['_setConten'+'tDraggingE'+'nabled'](!(0x7*0x1fd+-0x748+-0x6a3)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x118*-0x11+0xa*-0x22e+0x2865)),this['_setConten'+'tDraggingE'+'nabled'](!(0xac4+0x4*-0x243+-0x1b7));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x13894a,_0x3e010f){_0x13894a['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x3e010f[_0x13894a['viewportEn'+'tity']['getGuid']()]),_0x13894a['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x3e010f[_0x13894a['contentEnt'+'ity']['getGuid']()]),_0x13894a['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x3e010f[_0x13894a['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x13894a['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x3e010f[_0x13894a['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0x8ef*0x1+-0xb*-0x156+-0x1*0x1797;class iF{constructor(){h(this,'enabled',!(-0x1f3d+0x12d7*0x1+0xc66)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x199e+-0x13a+0x1864*-0x1)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x62f+0x986+0xe*-0x3d,0x17ff+-0x4f2*-0x4+-0x35e*0xd)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x1fdb+-0x846+-0x1795*0x1),h(this,'verticalSc'+'rollbarVis'+'ibility',0x1026+0x23ae+-0x33d4),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x6f*-0x25+0x140d+0x1*-0x3f8;class aF extends ct{constructor(_0x2295b9){super(_0x2295b9),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x771236,_0x3bf6fb,_0xa75afa){_0x3bf6fb['dragThresh'+'old']===void(-0x1*-0x20c4+0x2397+0x16c9*-0x3)&&(_0x3bf6fb['dragThresh'+'old']=rF),_0x3bf6fb['useMouseWh'+'eel']===void(-0x1*-0x2e1+0x1a*0x13c+0x22f9*-0x1)&&(_0x3bf6fb['useMouseWh'+'eel']=!(0xd7c*0x1+0x119*-0x1b+0x1027)),_0x3bf6fb['mouseWheel'+'Sensitivit'+'y']===void(0x1829+0x2*-0x14+-0x1801)&&(_0x3bf6fb['mouseWheel'+'Sensitivit'+'y']=new J(0x1*-0x5a7+0x1ba1+0x4b*-0x4b,0x25f4+0x1*0x1fe6+0x45d9*-0x1)),super['initialize'+'ComponentD'+'ata'](_0x771236,_0x3bf6fb,nS),_0x771236['viewportEn'+'tity']=_0x3bf6fb['viewportEn'+'tity'],_0x771236['contentEnt'+'ity']=_0x3bf6fb['contentEnt'+'ity'],_0x771236['horizontal'+'ScrollbarE'+'ntity']=_0x3bf6fb['horizontal'+'ScrollbarE'+'ntity'],_0x771236['verticalSc'+'rollbarEnt'+'ity']=_0x3bf6fb['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2b468b){const _0x12cd6a=this['store'];for(const _0x2b397e in _0x12cd6a){const _0x10eaa0=_0x12cd6a[_0x2b397e]['entity'],_0x1911e1=_0x10eaa0['scrollview'];_0x1911e1['enabled']&&_0x10eaa0['enabled']&&_0x1911e1['onUpdate']();}}['_onRemoveC'+'omponent'](_0x1f2628,_0x4ac474){_0x4ac474['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x5dff2a,_0x4359a1){super(_0x5dff2a,_0x4359a1),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x39e4ba=this['system']['store'][this['entity']['getGuid']()];return _0x39e4ba?_0x39e4ba['data']:null;}set['enabled'](_0x40af92){this['_setValue']('enabled',_0x40af92);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x5368b8){this['_setValue']('orientatio'+'n',_0x5368b8);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x44e502){this['_setValue']('value',_0x44e502);}get['value'](){return this['data']['value'];}set['handleSize'](_0x53f814){this['_setValue']('handleSize',_0x53f814);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x409ebe){if(this['_handleEnt'+'ity']===_0x409ebe)return;const _0x465388=typeof _0x409ebe=='string';this['_handleEnt'+'ity']&&_0x465388&&this['_handleEnt'+'ity']['getGuid']()===_0x409ebe||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x409ebe instanceof Ie?this['_handleEnt'+'ity']=_0x409ebe:_0x465388?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x409ebe)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x465388&&_0x409ebe&&(this['data']['handleEnti'+'ty']=_0x409ebe));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x2caf87,_0x9c5471){const _0x1c2759=this['data'],_0x315853=_0x1c2759[_0x2caf87];_0x1c2759[_0x2caf87]=_0x9c5471,this['fire']('set',_0x2caf87,_0x315853,_0x9c5471);}['_toggleLif'+'ecycleList'+'eners'](_0x37184f){this[_0x37184f]('set_value',this['_onSetValu'+'e'],this),this[_0x37184f]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x37184f]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x1c4e6b,_0x27cc4c;(_0x1c4e6b=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x1c4e6b['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x27cc4c=this['_handleEnt'+'ity'])!=null&&_0x27cc4c['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5a4b27=this['_handleEnt'+'ity']['element'],_0xa5c80=this['_evtHandle'+'EntityChan'+'ges'];_0xa5c80['push'](_0x5a4b27['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0xa5c80['push'](_0x5a4b27['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xa5c80['push'](_0x5a4b27['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xa5c80['push'](_0x5a4b27['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x3b08fc=-0x2*-0xbc2+-0x1*-0x1121+-0x28a5;_0x3b08fc<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x3b08fc++)this['_evtHandle'+'EntityChan'+'ges'][_0x3b08fc]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x1a00+0x1131+0x8cf;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x3e368e){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x3e368e[this['_getAxis']()]));}['_onSetValu'+'e'](_0x4785f5,_0x3f2fb,_0x1e8e65){Math['abs'](_0x1e8e65-_0x3f2fb)>-0xa94+0x8b*0x43+-0x19cd+0.00001&&(this['data']['value']=Y['clamp'](_0x1e8e65,-0x59f*0x4+0x86b*-0x1+0x1ee7,-0x238a+-0x3*-0x7e5+0xbdc),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x5c8ff9,_0x8ba45b,_0x526975){Math['abs'](_0x526975-_0x8ba45b)>0x137f+-0x14de+0x15f+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x526975,-0x1*0x1187+-0x151*0x3+0x157a,-0xfd+-0x1d*0x19+0x3d3),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0xd74430,_0x477cef,_0x5b3caa){var _0x2cf59a;_0x5b3caa!==_0x477cef&&((_0x2cf59a=this['_handleEnt'+'ity'])!=null&&_0x2cf59a['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x5f9+0x10a5*0x2+-0x1b51);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x57b780=this['_handleEnt'+'ity'],_0x507800=_0x57b780==null?void(-0x93c+0xdaf*-0x1+0x16eb):_0x57b780['element'];if(_0x57b780){const _0x17dab7=_0x57b780['getLocalPo'+'sition']();_0x17dab7[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x57b780['setLocalPo'+'sition'](_0x17dab7);}_0x507800&&(_0x507800[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x463192){return _0x463192*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x8e7198){return _0x8e7198*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x1*-0x682+0x1eab+-0x1829+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x1afb*-0x1+-0x713*0x4+0x9f*0x59;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x35*0x5b+0x9a7+0x931:-(-0x3ad*0x1+0x613*0x1+0x1*-0x265);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x5a75df){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x5a75df);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*0x18ef+0x970*-0x4+0x3*0x14e5));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1e1e+0x17fc+-0x1*-0x623));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x58b735,_0x40d36f){_0x58b735['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x40d36f[_0x58b735['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x2*0xe3f+-0x11a1+0x2e1f)),h(this,'orientatio'+'n',Ce),h(this,'value',0x162b+0x38f*0x9+-0x3632),h(this,'handleSize',-0x1*-0x656+-0xcb7+0x17*0x47),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x1c2c50){super(_0x1c2c50),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x398321,_0x5eb4c3,_0xe5ccb6){super['initialize'+'ComponentD'+'ata'](_0x398321,_0x5eb4c3,oS),_0x398321['handleEnti'+'ty']=_0x5eb4c3['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x216471){_0x216471['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x482eea,_0x297efc){_0x297efc['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1fcd+-0xf93+0x2f61),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x72304a,_0x1ce772='Untitled',_0x151546={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x72304a,this['_assets']=_0x72304a['system']['app']['assets'],this['_manager']=_0x72304a['system']['manager'],this['name']=_0x1ce772,this['_volume']=_0x151546['volume']!==void(0x1fad+-0x259c+0x1*0x5ef)?Y['clamp'](Number(_0x151546['volume'])||0x34*0x7a+-0x78e*-0x5+0x3ae*-0x11,-0x269e*-0x1+-0x5d*0x2+-0x25e4,-0x11bf+0x1473*0x1+0x1*-0x2b3):-0x9*-0x89+0x1*0x81d+-0xced,this['_pitch']=_0x151546['pitch']!==void(0x14da+0x2614+-0x3aee*0x1)?Math['max'](0xfac+0x13a2+0x11a7*-0x2+0.01,Number(_0x151546['pitch'])||0x11e5+0xc*0xfe+-0x1dcd*0x1):0xb3*0x1+-0xd5c+-0x655*-0x2,this['_loop']=!!(_0x151546['loop']!==void(-0x214f+-0x6*-0x3e7+0x9e5*0x1)&&_0x151546['loop']),this['_duration']=_0x151546['duration']>-0x20f4+0xf32+0x11c2?_0x151546['duration']:null,this['_startTime']=Math['max'](-0x32f+0x1*0x1e4a+-0x1b1b,Number(_0x151546['startTime'])||-0x1084+-0x1*-0x268f+-0x21*0xab),this['_overlap']=!!_0x151546['overlap'],this['_autoPlay']=!!_0x151546['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x151546['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x221f79){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x502b31=_0x221f79;if(_0x502b31||(_0x502b31=this['_createIns'+'tance'](),this['instances']['push'](_0x502b31)),this['isLoaded'])_0x502b31['play']();else{const _0x369784=function(_0x284fb0){const _0x2d720a=_0x502b31['_playWhenL'+'oaded'];_0x502b31['sound']=_0x284fb0,_0x2d720a&&_0x502b31['play']();};this['off']('load',_0x369784),this['once']('load',_0x369784),this['load']();}return _0x502b31;}['pause'](){let _0x1d463b=!(0x2*-0x1027+-0x6fa+0x2749);const _0x3c0709=this['instances'];for(let _0x212e21=0x9e*0xe+-0x13*0xc9+-0x647*-0x1,_0x548eb8=_0x3c0709['length'];_0x212e21<_0x548eb8;_0x212e21++)_0x3c0709[_0x212e21]['pause']()&&(_0x1d463b=!(-0x66*0xd+-0xa31*0x3+0x23c1));return _0x1d463b;}['resume'](){let _0x47514c=!(0x7de*-0x2+-0x243*-0x3+0x8f4);const _0x4f58c2=this['instances'];for(let _0x52c490=0x283*-0x1+0x3f6+-0x173,_0x5eda8d=_0x4f58c2['length'];_0x52c490<_0x5eda8d;_0x52c490++)_0x4f58c2[_0x52c490]['resume']()&&(_0x47514c=!(-0xe43*-0x1+0x908+0x59*-0x43));return _0x47514c;}['stop'](){let _0x30e90b=!(0x703+-0x1e15+0x1713);const _0x35ef2b=this['instances'];let _0x55df5d=_0x35ef2b['length'];for(;_0x55df5d--;)_0x35ef2b[_0x55df5d]['stop'](),_0x30e90b=!(-0x1*-0xea1+0x1*-0x69b+-0x1*0x806);return _0x35ef2b['length']=0x255e*-0x1+0x1cf2+0x9a*0xe,_0x30e90b;}['load'](){if(!this['_hasAsset']())return;const _0x2867db=this['_assets']['get'](this['_asset']);if(!_0x2867db){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x2867db['off']('remove',this['_onAssetRe'+'moved'],this),_0x2867db['on']('remove',this['_onAssetRe'+'moved'],this),!_0x2867db['resource']){_0x2867db['off']('load',this['_onAssetLo'+'ad'],this),_0x2867db['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x2867db);return;}this['fire']('load',_0x2867db['resource']);}['setExterna'+'lNodes'](_0x33e364,_0x3aa21a){if(!_0x33e364){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3aa21a||(_0x3aa21a=_0x33e364),this['_firstNode']=_0x33e364,this['_lastNode']=_0x3aa21a,!this['_overlap']){const _0x162fd4=this['instances'];for(let _0x1a1b26=0x81*-0x23+-0x1cf5+0x2e98,_0x25c00e=_0x162fd4['length'];_0x1a1b26<_0x25c00e;_0x1a1b26++)_0x162fd4[_0x1a1b26]['setExterna'+'lNodes'](_0x33e364,_0x3aa21a);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x32cd9c=this['instances'];for(let _0x38df10=-0x2cf*-0x1+-0x1*-0x14f1+-0x140*0x13,_0x4de227=_0x32cd9c['length'];_0x38df10<_0x4de227;_0x38df10++)_0x32cd9c[_0x38df10]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x5c3ddd=null;const _0x107357=this['_component'];let _0x2efdd4=null;if(this['_hasAsset']()){const _0x382033=this['_assets']['get'](this['_asset']);_0x382033&&(_0x2efdd4=_0x382033['resource']);}const _0x2f2683=lF;return _0x2f2683['volume']=this['_volume']*_0x107357['volume'],_0x2f2683['pitch']=this['_pitch']*_0x107357['pitch'],_0x2f2683['loop']=this['_loop'],_0x2f2683['startTime']=this['_startTime'],_0x2f2683['duration']=this['_duration'],_0x2f2683['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x2f2683['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x2f2683['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x2f2683['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x2f2683['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x107357['positional']?(_0x2f2683['position']['copy'](_0x107357['entity']['getPositio'+'n']()),_0x2f2683['maxDistanc'+'e']=_0x107357['maxDistanc'+'e'],_0x2f2683['refDistanc'+'e']=_0x107357['refDistanc'+'e'],_0x2f2683['rollOffFac'+'tor']=_0x107357['rollOffFac'+'tor'],_0x2f2683['distanceMo'+'del']=_0x107357['distanceMo'+'del'],_0x5c3ddd=new sn(this['_manager'],_0x2efdd4,_0x2f2683)):_0x5c3ddd=new As(this['_manager'],_0x2efdd4,_0x2f2683),this['_firstNode']&&_0x5c3ddd['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x5c3ddd;}['_onInstanc'+'ePlay'](_0x36db9a){this['fire']('play',_0x36db9a),this['_component']['fire']('play',this,_0x36db9a);}['_onInstanc'+'ePause'](_0x4e4702){this['fire']('pause',_0x4e4702),this['_component']['fire']('pause',this,_0x4e4702);}['_onInstanc'+'eResume'](_0x10ab29){this['fire']('resume',_0x10ab29),this['_component']['fire']('resume',this,_0x10ab29);}['_onInstanc'+'eStop'](_0x2ca0b7){const _0x16d5cf=this['instances']['indexOf'](_0x2ca0b7);_0x16d5cf!==-(-0x8c*0x7+0x1c19+-0x1844)&&this['instances']['splice'](_0x16d5cf,-0xe3a*-0x1+0x501+-0x2*0x99d),this['fire']('stop',_0x2ca0b7),this['_component']['fire']('stop',this,_0x2ca0b7);}['_onInstanc'+'eEnd'](_0x3462cc){const _0x5e5a3d=this['instances']['indexOf'](_0x3462cc);_0x5e5a3d!==-(-0x1edb+-0x1b22+0x39fe)&&this['instances']['splice'](_0x5e5a3d,0x861+-0x2245*0x1+-0x3b3*-0x7),this['fire']('end',_0x3462cc),this['_component']['fire']('end',this,_0x3462cc);}['_onAssetAd'+'d'](_0x121666){this['load']();}['_onAssetLo'+'ad'](_0x533548){this['load']();}['_onAssetRe'+'moved'](_0x140b52){_0x140b52['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x140b52['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x591a27){const _0x418324=this['instances'];for(let _0x2298db=-0x1*-0xb1+-0x1c82+0x1bd1*0x1,_0x16897a=_0x418324['length'];_0x2298db<_0x16897a;_0x2298db++)_0x418324[_0x2298db]['position']=_0x591a27;}set['asset'](_0x115712){const _0x1e394e=this['_asset'];if(_0x1e394e){this['_assets']['off']('add:'+_0x1e394e,this['_onAssetAd'+'d'],this);const _0xd51375=this['_assets']['get'](_0x1e394e);_0xd51375&&_0xd51375['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x115712,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0xa56432){this['_autoPlay']=!!_0xa56432;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x126b0d){if(this['_duration']=Math['max'](0xd54+0x171a+0x2*-0x1237,Number(_0x126b0d)||-0x5*0x6bb+-0x22e0+-0x35*-0x14b)||null,!this['_overlap']){const _0x1fe11c=this['instances'];for(let _0x575464=0x2493+-0xe05+-0x168e,_0x508d29=_0x1fe11c['length'];_0x575464<_0x508d29;_0x575464++)_0x1fe11c[_0x575464]['duration']=this['_duration'];}}get['duration'](){let _0x29e8ec=-0x1a75+-0x244d*-0x1+0x5*-0x1f8;if(this['_hasAsset']()){const _0xd552a3=this['_assets']['get'](this['_asset']);_0x29e8ec=_0xd552a3!=null&&_0xd552a3['resource']?_0xd552a3['resource']['duration']:0x669+-0x1b5c+0x14f3;}return this['_duration']!=null?this['_duration']%(_0x29e8ec||-0x1*-0x18e5+0x1*0x1c9+-0x1*0x1aad):_0x29e8ec;}get['isLoaded'](){if(this['_hasAsset']()){const _0x5d255b=this['_assets']['get'](this['_asset']);if(_0x5d255b)return!!_0x5d255b['resource'];}return!(-0x16d5+0x14ae+0x228);}get['isPaused'](){const _0x467a5f=this['instances'],_0x54bba3=_0x467a5f['length'];if(_0x54bba3===0x23b3+0x19*0x10e+-0x3e11)return!(-0x7*-0x1a1+-0x1*0x2376+-0x23*-0xb0);for(let _0x2c5d05=0x8*-0x5e+0x17ef+-0x14ff;_0x2c5d05<_0x54bba3;_0x2c5d05++)if(!_0x467a5f[_0x2c5d05]['isPaused'])return!(0x1945+0x1a43+0x3387*-0x1);return!(-0x1281*-0x1+-0x15a3+0x322);}get['isPlaying'](){const _0x55c23d=this['instances'];for(let _0x5abe2b=-0x24a8+-0x593+0x1*0x2a3b,_0x3717e2=_0x55c23d['length'];_0x5abe2b<_0x3717e2;_0x5abe2b++)if(_0x55c23d[_0x5abe2b]['isPlaying'])return!(0x1457+0xa3f+-0x1e96);return!(0x1a7c+-0x47c+0x3*-0x755);}get['isStopped'](){const _0x3faddd=this['instances'];for(let _0x44cf1e=0x187+-0x1*0x1de1+0x26*0xbf,_0x35c56b=_0x3faddd['length'];_0x44cf1e<_0x35c56b;_0x44cf1e++)if(!_0x3faddd[_0x44cf1e]['isStopped'])return!(0x65*-0x3d+-0x11*-0x11b+-0xc1*-0x7);return!(-0x2343+0xdda+0x1569);}set['loop'](_0x5ed2f9){this['_loop']=!!_0x5ed2f9;const _0x255b67=this['instances'];for(let _0x46a079=0x16*-0x2b+-0xdf*0x3+0x64f,_0x1080b0=_0x255b67['length'];_0x46a079<_0x1080b0;_0x46a079++)_0x255b67[_0x46a079]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x549dd9){this['_overlap']=!!_0x549dd9;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x422143){if(this['_pitch']=Math['max'](Number(_0x422143)||0x61d+-0x9c*0x3+0x1*-0x449,-0x80e*0x3+-0x1e25+0x364f*0x1+0.01),!this['_overlap']){const _0xd3f77b=this['instances'];for(let _0x2b9e72=-0x81*-0x1+0x255a+-0x25db,_0x47197a=_0xd3f77b['length'];_0x2b9e72<_0x47197a;_0x2b9e72++)_0xd3f77b[_0x2b9e72]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x14493f){if(this['_startTime']=Math['max'](-0x12e1+-0x90c+0x1*0x1bed,Number(_0x14493f)||-0x9*-0x36d+-0x2438+0x563),!this['_overlap']){const _0x21a65a=this['instances'];for(let _0x547c7a=0x21e0*0x1+-0xd*0x21+-0x2033,_0x2f5080=_0x21a65a['length'];_0x547c7a<_0x2f5080;_0x547c7a++)_0x21a65a[_0x547c7a]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x57b5f7){if(this['_volume']=Y['clamp'](Number(_0x57b5f7)||-0x873*0x1+0xd*-0x46+0xc01,-0x155*-0x15+0x916*0x1+-0x250f,0xeb0+-0x4ad+-0x1*0xa02),!this['_overlap']){const _0x715e54=this['instances'];for(let _0x59e946=0x1*-0x661+0xf9c*-0x1+0x1*0x15fd,_0x572483=_0x715e54['length'];_0x59e946<_0x572483;_0x59e946++)_0x715e54[_0x59e946]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x1*-0x2629+-0xf*0xbb+0x311f),h(this,'_pitch',-0x19e4+-0x619+-0x111*-0x1e),h(this,'_positiona'+'l',!(0x82c+0xa5b*0x3+-0x273d)),h(this,'_refDistan'+'ce',-0x1b41*-0x1+0x1*0x262a+-0x416a),h(this,'_maxDistan'+'ce',0x8d2+-0x18f4+0x1e*0x1d7),h(this,'_rollOffFa'+'ctor',-0x23b1*0x1+0x1*0xfe+0x22b4),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x1d0f88,_0x452df3,_0x4cedbe){const _0xc83784=this['_slots'];for(const _0x296b35 in _0xc83784){const _0x102d2c=_0xc83784[_0x296b35];if(!_0x102d2c['overlap']){const _0x2c7f3c=_0x102d2c['instances'];for(let _0x3b9e87=-0x8*0x27+-0x2500+-0x4*-0x98e,_0x16341e=_0x2c7f3c['length'];_0x3b9e87<_0x16341e;_0x3b9e87++)_0x2c7f3c[_0x3b9e87][_0x1d0f88]=_0x4cedbe?_0x102d2c[_0x1d0f88]*_0x452df3:_0x452df3;}}}set['distanceMo'+'del'](_0x11e4ce){this['_distanceM'+'odel']=_0x11e4ce,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x11e4ce,!(0x34*0x1f+0x1*0x6e5+-0xd30));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x5096e6){this['_maxDistan'+'ce']=_0x5096e6,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x5096e6,!(-0x2566+0x1cc0+0x1bb*0x5));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x3311a3){this['_refDistan'+'ce']=_0x3311a3,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x3311a3,!(0x64b*0x3+0xa1c*-0x1+-0x8c4));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x201b9f){this['_rollOffFa'+'ctor']=_0x201b9f,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x201b9f,!(0x13*-0x79+0xf64+0x4*-0x19a));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2b4f30){this['_pitch']=_0x2b4f30,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2b4f30,!(0x7*-0x15+-0xc14+-0x29*-0x4f));}get['pitch'](){return this['_pitch'];}set['volume'](_0x5bfdbc){this['_volume']=_0x5bfdbc,this['_updateSou'+'ndInstance'+'s']('volume',_0x5bfdbc,!(0x14bc+-0xa*-0x2b3+0x2*-0x17dd));}get['volume'](){return this['_volume'];}set['positional'](_0x1813ea){this['_positiona'+'l']=_0x1813ea;const _0x42a35f=this['_slots'];for(const _0x5982b4 in _0x42a35f){const _0x31a743=_0x42a35f[_0x5982b4];if(!_0x31a743['overlap']){const _0x382800=_0x31a743['instances'],_0x1634b1=_0x382800['length'];for(let _0x441117=_0x1634b1-(0xae9+-0x1fd9+0x14f1);_0x441117>=0xdb0+-0x7f4+-0x5bc;_0x441117--){const _0x51cc4b=_0x382800[_0x441117]['isPlaying']||_0x382800[_0x441117]['isSuspende'+'d'],_0x4bb1a9=_0x382800[_0x441117]['currentTim'+'e'];_0x51cc4b&&_0x382800[_0x441117]['stop']();const _0x2ba6a9=_0x31a743['_createIns'+'tance']();_0x51cc4b&&(_0x2ba6a9['play'](),_0x2ba6a9['currentTim'+'e']=_0x4bb1a9),_0x382800['push'](_0x2ba6a9);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x373900){const _0x1e4871=this['_slots'];if(_0x1e4871){for(const _0x1d279d in _0x1e4871)_0x1e4871[_0x1d279d]['stop']();}const _0x22e33c={};for(const _0x1bcd54 in _0x373900)_0x373900[_0x1bcd54]instanceof Gi?_0x22e33c[_0x373900[_0x1bcd54]['name']]=_0x373900[_0x1bcd54]:_0x373900[_0x1bcd54]['name']&&(_0x22e33c[_0x373900[_0x1bcd54]['name']]=new Gi(this,_0x373900[_0x1bcd54]['name'],_0x373900[_0x1bcd54]));this['_slots']=_0x22e33c,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x4bba0f=this['_slots'],_0x97dc09=this['_playingBe'+'foreDisabl'+'e'];for(const _0x4d5902 in _0x4bba0f){const _0x50e3a2=_0x4bba0f[_0x4d5902];_0x50e3a2['autoPlay']&&_0x50e3a2['isStopped']?_0x50e3a2['play']():_0x97dc09[_0x4d5902]?_0x50e3a2['resume']():_0x50e3a2['isLoaded']||_0x50e3a2['load']();}}['onDisable'](){const _0x3ba887=this['_slots'],_0xcb0d22={};for(const _0x377ef9 in _0x3ba887)_0x3ba887[_0x377ef9]['overlap']||_0x3ba887[_0x377ef9]['isPlaying']&&(_0x3ba887[_0x377ef9]['pause'](),_0xcb0d22[_0x377ef9]=!(0x6*0x64c+-0x1*0x732+-0x91*0x36));this['_playingBe'+'foreDisabl'+'e']=_0xcb0d22;}['onRemove'](){this['off']();}['addSlot'](_0x4d41f5,_0x94de41){const _0x36a78d=this['_slots'];if(_0x36a78d[_0x4d41f5])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x4d41f5+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0xac7f44=new Gi(this,_0x4d41f5,_0x94de41);return _0x36a78d[_0x4d41f5]=_0xac7f44,_0xac7f44['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0xac7f44['play'](),_0xac7f44;}['removeSlot'](_0x231735){const _0x4553a8=this['_slots'];_0x4553a8[_0x231735]&&(_0x4553a8[_0x231735]['stop'](),delete _0x4553a8[_0x231735]);}['slot'](_0x44c614){return this['_slots'][_0x44c614];}['_getSlotPr'+'operty'](_0x344961,_0x43eb3e){if(!this['enabled']||!this['entity']['enabled'])return;const _0x50d499=this['_slots'][_0x344961];if(!_0x50d499){w['warn']('Trying\x20to\x20'+'get\x20'+_0x43eb3e+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x344961+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x50d499[_0x43eb3e];}['isPlaying'](_0x43e81d){return this['_getSlotPr'+'operty'](_0x43e81d,'isPlaying')||!(0x1*0x1bb9+-0x81e+-0x139a);}['isLoaded'](_0x3fcd33){return this['_getSlotPr'+'operty'](_0x3fcd33,'isLoaded')||!(-0x1aaf+0x393+0x61*0x3d);}['isPaused'](_0x29c42e){return this['_getSlotPr'+'operty'](_0x29c42e,'isPaused')||!(-0x141c+-0xc3f+0x205c);}['isStopped'](_0x39325a){return this['_getSlotPr'+'operty'](_0x39325a,'isStopped')||!(0x10f0+0x1113+-0x2202*0x1);}['play'](_0x255dd1){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x3da205=this['_slots'][_0x255dd1];return _0x3da205?_0x3da205['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x255dd1+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x56647e){const _0x12044c=this['_slots'];if(_0x56647e){const _0x13bb76=_0x12044c[_0x56647e];if(!_0x13bb76){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x56647e+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x13bb76['pause']();}else{for(const _0x213392 in _0x12044c)_0x12044c[_0x213392]['pause']();}}['resume'](_0x4c88af){const _0x2a9f41=this['_slots'];if(_0x4c88af){const _0x33e937=_0x2a9f41[_0x4c88af];if(!_0x33e937){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x4c88af+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x33e937['isPaused']&&_0x33e937['resume']();}else{for(const _0x4c0b38 in _0x2a9f41)_0x2a9f41[_0x4c0b38]['resume']();}}['stop'](_0x244364){const _0x5578ec=this['_slots'];if(_0x244364){const _0x4b8828=_0x5578ec[_0x244364];if(!_0x4b8828){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x244364+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4b8828['stop']();}else{for(const _0x355c72 in _0x5578ec)_0x5578ec[_0x355c72]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x2478+0x3d*-0x57+-0x1*0xfbd);}}const d0=['enabled'];class hF extends ct{constructor(_0x2f91b9){super(_0x2f91b9),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x2f91b9['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x3bca06){this['manager']['volume']=_0x3bca06;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x15c6fc,_0x5b643d,_0x27417c){_0x27417c=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x122191=-0x1e3+-0x5*0x42c+0x16bf;_0x122191<_0x27417c['length'];_0x122191++)_0x5b643d['hasOwnProp'+'erty'](_0x27417c[_0x122191])&&(_0x15c6fc[_0x27417c[_0x122191]]=_0x5b643d[_0x27417c[_0x122191]]);super['initialize'+'ComponentD'+'ata'](_0x15c6fc,_0x5b643d,['enabled']);}['cloneCompo'+'nent'](_0x201f52,_0x4d5fb4){const _0x1ae197=_0x201f52['sound'],_0x375f91=_0x1ae197['slots'],_0x4dea8a={};for(const _0x561885 in _0x375f91){const _0x5ed3f1=_0x375f91[_0x561885];_0x4dea8a[_0x561885]={'name':_0x5ed3f1['name'],'volume':_0x5ed3f1['volume'],'pitch':_0x5ed3f1['pitch'],'loop':_0x5ed3f1['loop'],'duration':_0x5ed3f1['duration'],'startTime':_0x5ed3f1['startTime'],'overlap':_0x5ed3f1['overlap'],'autoPlay':_0x5ed3f1['autoPlay'],'asset':_0x5ed3f1['asset']};}const _0x26f52f={'distanceModel':_0x1ae197['distanceMo'+'del'],'enabled':_0x1ae197['enabled'],'maxDistance':_0x1ae197['maxDistanc'+'e'],'pitch':_0x1ae197['pitch'],'positional':_0x1ae197['positional'],'refDistance':_0x1ae197['refDistanc'+'e'],'rollOffFactor':_0x1ae197['rollOffFac'+'tor'],'slots':_0x4dea8a,'volume':_0x1ae197['volume']};return this['addCompone'+'nt'](_0x4d5fb4,_0x26f52f);}['onUpdate'](_0x34526b){const _0x5af4a1=this['store'];for(const _0x1ffb0f in _0x5af4a1)if(_0x5af4a1['hasOwnProp'+'erty'](_0x1ffb0f)){const _0x46379a=_0x5af4a1[_0x1ffb0f]['entity'];if(_0x46379a['enabled']){const _0x11772f=_0x46379a['sound'];if(_0x11772f['enabled']&&_0x11772f['positional']){const _0x26efe6=_0x46379a['getPositio'+'n'](),_0x56fc12=_0x11772f['slots'];for(const _0x1b5d6c in _0x56fc12)_0x56fc12[_0x1b5d6c]['updatePosi'+'tion'](_0x26efe6);}}}}['onBeforeRe'+'move'](_0x3a7de0,_0x241e53){const _0x5b990d=_0x241e53['slots'];for(const _0x4aca97 in _0x5b990d)_0x5b990d[_0x4aca97]['overlap']||_0x5b990d[_0x4aca97]['stop']();_0x241e53['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x166cb7,_0x26f6bf){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x166cb7,this['_frame']=0x476*-0x5+0xb*0xfe+0xb64,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x26f6bf['spriteAsse'+'t'],this['name']=_0x26f6bf['name'],this['fps']=_0x26f6bf['fps']||0x2329+-0xcd1+-0x1658,this['loop']=_0x26f6bf['loop']||!(0xbee*-0x1+0x5*0x271+-0x46),this['_playing']=!(-0x13d5+-0x1840+-0x42*-0xab),this['_paused']=!(-0xe2*0x25+0x25db+-0x530),this['_time']=0x2397*-0x1+0x13d*-0x16+0x3ed5);}get['duration'](){if(this['_sprite']){const _0x276f91=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x276f91);}return-0x244e+0x16f2+0x474*0x3;}set['frame'](_0x4ccb8f){this['_setFrame'](_0x4ccb8f);const _0xe103d9=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0xe103d9);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x31cd95){var _0x20ac2e;if(this['_sprite']&&((_0x20ac2e=this['_evtSetMes'+'hes'])==null||_0x20ac2e['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x31cd95,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x26a817;!_0x31cd95||!_0x31cd95['atlas']?(_0x26a817=this['_component']['_meshInsta'+'nce'],_0x26a817&&(_0x26a817['deletePara'+'meter']('texture_em'+'issiveMap'),_0x26a817['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x31cd95['atlas']['texture']&&(_0x26a817=this['_component']['_meshInsta'+'nce'],_0x26a817&&(_0x26a817['setParamet'+'er']('texture_em'+'issiveMap',_0x31cd95['atlas']['texture']),_0x26a817['setParamet'+'er']('texture_op'+'acityMap',_0x31cd95['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x44020a){const _0x5e8fa2=this['_component']['system']['app']['assets'];let _0x3d5200=_0x44020a;if(_0x44020a instanceof pe&&(_0x3d5200=_0x44020a['id']),this['_spriteAss'+'et']!==_0x3d5200){if(this['_spriteAss'+'et']){const _0x1c67bb=_0x5e8fa2['get'](this['_spriteAss'+'et']);_0x1c67bb&&this['_unbindSpr'+'iteAsset'](_0x1c67bb);}if(this['_spriteAss'+'et']=_0x3d5200,this['_spriteAss'+'et']){const _0x1f8f01=_0x5e8fa2['get'](this['_spriteAss'+'et']);_0x1f8f01?this['_bindSprit'+'eAsset'](_0x1f8f01):(this['sprite']=null,_0x5e8fa2['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0xd7c340){this['_setTime'](_0xd7c340),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x58b+0x12d2+-0xd46),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x13c4+0x1*0x1e97+0x3*-0x10c9;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x248d34){this['_component']['system']['app']['assets']['off']('add:'+_0x248d34['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x248d34['id']&&this['_bindSprit'+'eAsset'](_0x248d34);}['_bindSprit'+'eAsset'](_0x136ff2){_0x136ff2['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x136ff2['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x136ff2['resource']?this['_onSpriteA'+'ssetLoad'](_0x136ff2):this['_component']['system']['app']['assets']['load'](_0x136ff2);}['_unbindSpr'+'iteAsset'](_0x291f1c){_0x291f1c&&(_0x291f1c['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x291f1c['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x291f1c['resource']&&!_0x291f1c['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x291f1c['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x203f30){if(!_0x203f30['resource'])this['sprite']=null;else{if(_0x203f30['resource']['atlas'])this['sprite']=_0x203f30['resource'];else{const _0x364e06=_0x203f30['data']['textureAtl'+'asAsset'],_0x3a5f31=this['_component']['system']['app']['assets'];_0x3a5f31['off']('load:'+_0x364e06,this['_onTexture'+'AtlasLoad'],this),_0x3a5f31['once']('load:'+_0x364e06,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x508104){const _0x367ca7=this['_spriteAss'+'et'];_0x367ca7 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x367ca7):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x367ca7));}['_onSpriteA'+'ssetRemove'](_0x3001f9){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x365b61){if(this['fps']===0x1637+-0x1*-0xefc+-0x2533||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x3f95fe=this['fps']<0x7*-0x22+-0x2081+-0x13d*-0x1b?-(0xb03+-0x7c5+0x1*-0x33d):-0xe39*0x2+0x3df*0x3+0x10d6,_0x1c12ec=this['_time']+_0x365b61*this['_component']['speed']*_0x3f95fe,_0x3c7355=this['duration'],_0x1540e3=_0x1c12ec>_0x3c7355||_0x1c12ec<-0x28f*-0x1+0x2*-0x2ad+0x2cb;this['_setTime'](_0x1c12ec);let _0x33a1d2=this['frame'];this['_sprite']?_0x33a1d2=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x3c7355):_0x33a1d2=0x3f2+0xa4*-0x12+-0x2*-0x3cb,_0x33a1d2!==this['_frame']&&this['_setFrame'](_0x33a1d2),_0x1540e3&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x10d2+-0x24e0+-0x403*-0x5),this['_paused']=!(-0x52*-0x3c+-0x1*-0x2376+-0x1*0x36ad),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x48890b){this['_time']=_0x48890b;const _0x97222=this['duration'];this['_time']<0x2fb*-0xc+-0xac*0x35+0x4760?this['loop']?this['_time']=this['_time']%_0x97222+_0x97222:this['_time']=-0x1a59*0x1+-0x2*-0x12dd+-0x1*0xb61:this['_time']>_0x97222&&(this['loop']?this['_time']%=_0x97222:this['_time']=_0x97222);}['_setFrame'](_0x205a58){this['_sprite']?this['_frame']=Y['clamp'](_0x205a58,0x230c+-0x3*0x16d+-0x1ec5*0x1,this['_sprite']['frameKeys']['length']-(0x1679+0x100e+-0x1343*0x2)):this['_frame']=_0x205a58,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x582191=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x582191['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x2479+-0x40*0x2e+-0x18f9),this['_paused']=!(-0x30d+-0x2*-0xdb6+-0x185e),this['frame']=0x2084*-0x1+-0x61*-0x37+0x1*0xbad,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0xf*0x1f+-0x1571+-0x2*-0x9d0),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x16*0xf9+0x214a+-0xbe3),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x8ec*0x2+0x7d5+0x1*-0x19ac),this['_paused']=!(-0x219+-0x958+0xb72),this['_time']=0x1*0x240b+-0x2b*-0x55+-0x39*0xe2,this['frame']=-0x2c6+-0x1*0x244d+0x2713*0x1,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x1c10b3,_0x10e6db){super(_0x1c10b3,_0x10e6db),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x1c10b3['defaultMat'+'erial'],this['_color']=new ie(-0x1623+0xd60*-0x2+0x6*0x826,-0x257b*-0x1+-0x15b0+-0x7e5*0x2,0x13e2+-0x808+0x3f3*-0x3,-0x20aa+0x138c*-0x1+0x3437*0x1),this['_colorUnif'+'orm']=new Float32Array(0x83d*0x1+0x7*0x304+-0x1d56),this['_speed']=0x21b8+-0x1*0xd67+0x82*-0x28,this['_flipX']=!(0x79b*0x3+0xe*-0x25f+0xa62),this['_flipY']=!(-0xe52+0x8*-0x220+0x1f53),this['_width']=-0x1d8*0x2+-0x182d*0x1+0x1bde,this['_height']=-0xb2*0x35+0x8a*0x1+0x2451,this['_drawOrder']=0x1de4+-0x1fe7+0x203,this['_layers']=[er],this['_outerScal'+'e']=new J(0x1d0f+0x4*-0x971+-0x8b6*-0x1,0x1dcb*0x1+-0x1*0xe5a+-0xf70),this['_outerScal'+'eUniform']=new Float32Array(0x2b3*0xb+0x341+-0x20f0),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x7dd+-0x11b3+-0x2*-0xcca),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x458+-0xb7b*-0x1+-0xfcf),this['_batchGrou'+'pId']=-(-0x520+-0x1871+0xa*0x2f5),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x10e6db['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x10e6db,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x7*0x467+-0x4*0x3f5+0x2ea6),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x5*-0xe3+0x21f7+-0x2665),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x46f994){this['_type']!==_0x46f994&&(this['_type']=_0x46f994,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x1fdae1){this['_currentCl'+'ip']['frame']=_0x1fdae1;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x3a8039){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x3a8039;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x37bcfe){this['_currentCl'+'ip']['sprite']=_0x37bcfe;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x5a2a59){this['_material']=_0x5a2a59,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x5a2a59);}get['material'](){return this['_material'];}set['color'](_0xedfc90){this['_color']['r']=_0xedfc90['r'],this['_color']['g']=_0xedfc90['g'],this['_color']['b']=_0xedfc90['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x8ee*-0x3+0xd0*0x1a+0x3a*0x19]=this['_color']['r'],this['_colorUnif'+'orm'][0x2251+-0x21ff+-0x51]=this['_color']['g'],this['_colorUnif'+'orm'][-0x15*0xb+0x1b0f*0x1+-0x1a26]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x345bed){this['_color']['a']=_0x345bed,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x345bed);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x409c78){if(!_0x409c78){for(const _0x24b4a3 in this['_clips'])this['removeClip'](_0x24b4a3);return;}for(const _0x897262 in this['_clips']){let _0x5c5bf0=!(-0x1133+-0xaf7*-0x1+-0x1*-0x63d);for(const _0x2c32ea in _0x409c78)if(_0x409c78[_0x2c32ea]['name']===_0x897262){_0x5c5bf0=!(-0x3d*-0x7f+-0x7*-0x2d6+-0x321d),this['_clips'][_0x897262]['fps']=_0x409c78[_0x2c32ea]['fps'],this['_clips'][_0x897262]['loop']=_0x409c78[_0x2c32ea]['loop'],_0x409c78[_0x2c32ea]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x897262]['sprite']=_0x409c78[_0x2c32ea]['sprite']:_0x409c78[_0x2c32ea]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x897262]['spriteAsse'+'t']=_0x409c78[_0x2c32ea]['spriteAsse'+'t']);break;}_0x5c5bf0||this['removeClip'](_0x897262);}for(const _0xa3acc in _0x409c78)this['_clips'][_0x409c78[_0xa3acc]['name']]||this['addClip'](_0x409c78[_0xa3acc]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x407337){this['_speed']=_0x407337;}get['speed'](){return this['_speed'];}set['flipX'](_0x305561){this['_flipX']!==_0x305561&&(this['_flipX']=_0x305561,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x44c8bb){this['_flipY']!==_0x44c8bb&&(this['_flipY']=_0x44c8bb,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x266f0e){_0x266f0e!==this['_width']&&(this['_width']=_0x266f0e,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x4cf79c){_0x4cf79c!==this['_height']&&(this['_height']=_0x4cf79c,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x368618){var _0x36ca5f,_0x3abea7;if(this['_batchGrou'+'pId']===_0x368618)return;const _0x3fb33c=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x368618,this['entity']['enabled']&&_0x3fb33c>=-0x25d1+0xd0b+0x18c6&&((_0x36ca5f=this['system']['app']['batcher'])==null||_0x36ca5f['remove'](St['SPRITE'],_0x3fb33c,this['entity'])),this['entity']['enabled']&&_0x368618>=0x16f*0x2+-0x4f*-0x39+0x1475*-0x1?(_0x3abea7=this['system']['app']['batcher'])==null||_0x3abea7['insert'](St['SPRITE'],_0x368618,this['entity']):_0x3fb33c>=0x1ef0+-0xb6d+-0x1383&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x3123f6){this['_autoPlayC'+'lip']=_0x3123f6 instanceof Hi?_0x3123f6['name']:_0x3123f6,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4faa64){this['_drawOrder']=_0x4faa64,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4faa64);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x1ddd2e){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x1ddd2e,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x4e94c4;const _0x478905=this['system']['app'],_0x5b9d3d=_0x478905['scene'],_0x2d7b01=_0x5b9d3d['layers'];this['_evtLayers'+'Changed']=_0x5b9d3d['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2d7b01&&(this['_evtLayerA'+'dded']=_0x2d7b01['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2d7b01['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x1e4d+-0x4cc*0x1+0x2319&&((_0x4e94c4=_0x478905['batcher'])==null||_0x4e94c4['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x47da30,_0x3b4ae5,_0x298968,_0x5665ab;const _0x4311dc=this['system']['app'],_0x2b7c89=_0x4311dc['scene']['layers'];(_0x47da30=this['_evtLayers'+'Changed'])==null||_0x47da30['off'](),this['_evtLayers'+'Changed']=null,_0x2b7c89&&((_0x3b4ae5=this['_evtLayerA'+'dded'])==null||_0x3b4ae5['off'](),this['_evtLayerA'+'dded']=null,(_0x298968=this['_evtLayerR'+'emoved'])==null||_0x298968['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x202*0x2+0x1fa0+-0x1b9c&&((_0x5665ab=_0x4311dc['batcher'])==null||_0x5665ab['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5aa4f1;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x171e83 in this['_clips'])this['_clips'][_0x171e83]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5aa4f1=this['_node'])==null||_0x5aa4f1['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x43835b=[this['_meshInsta'+'nce']];for(let _0x5e7337=-0x26bd+0x8*-0x48f+-0xd*-0x5c9,_0x21c56b=this['_layers']['length'];_0x5e7337<_0x21c56b;_0x5e7337++){const _0x47657c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5e7337]);_0x47657c&&_0x47657c['addMeshIns'+'tances'](_0x43835b);}this['_addedMode'+'l']=!(-0x2142+0xf66+0x11dc);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x25abd1=[this['_meshInsta'+'nce']];for(let _0x2769da=-0x146*0x1b+-0x1533+0x3795,_0x99c1c7=this['_layers']['length'];_0x2769da<_0x99c1c7;_0x2769da++){const _0x3ca6af=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2769da]);_0x3ca6af&&_0x3ca6af['removeMesh'+'Instances'](_0x25abd1);}this['_addedMode'+'l']=!(-0xa3*-0xb+-0x1813+-0x8d*-0x1f);}['_showFrame'](_0x9f50b6){if(!this['sprite'])return;const _0x33a341=this['sprite']['meshes'][_0x9f50b6];if(!_0x33a341){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0xed0+-0x1b00+0xc31));return;}let _0x2f2131;if(this['sprite']['renderMode']===Pt?_0x2f2131=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x2f2131=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x2f2131=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x33a341,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x1*0x1367+-0x1*0x168e+-0x1*-0x29f6),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x58*-0x63+-0x1d17+-0x4f0),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0xf*-0x221+-0x1bb1+-0x43e]=this['_color']['r'],this['_colorUnif'+'orm'][-0x39b+-0x1df1+0x218d]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1a34+0x87*-0x7+-0x1de7*-0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x2f2131&&(this['_meshInsta'+'nce']['material']=_0x2f2131),this['_meshInsta'+'nce']['mesh']!==_0x33a341&&(this['_meshInsta'+'nce']['mesh']=_0x33a341,this['_meshInsta'+'nce']['visible']=!(-0x1512+-0x7c9*-0x1+0xd49),this['_meshInsta'+'nce']['_aabbVer']=-(0x2292+-0x6ef+-0x936*0x3)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x4a07bf=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x9f50b6]];if(_0x4a07bf){const _0x2c9a4f=(0x1a69*0x1+0x1*0x1d05+0x1*-0x376c)/_0x4a07bf['rect']['z'],_0x5bedf0=(0x6f8+-0x1411+-0x5*-0x29f)/_0x4a07bf['rect']['w'];this['_innerOffs'+'et']['set'](_0x4a07bf['border']['x']*_0x2c9a4f,_0x4a07bf['border']['y']*_0x5bedf0,_0x4a07bf['border']['z']*_0x2c9a4f,_0x4a07bf['border']['w']*_0x5bedf0);const _0x5d990e=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x4a07bf['rect']['x']/_0x5d990e['width'],_0x4a07bf['rect']['y']/_0x5d990e['height'],_0x4a07bf['rect']['z']/_0x5d990e['width'],_0x4a07bf['rect']['w']/_0x5d990e['height']);}else this['_innerOffs'+'et']['set'](0x1bb5+-0x1*-0x16ae+-0x3263,-0x127e+0x3*0x2f0+-0x3b*-0x2a,-0x1807+0x2246+-0xa3f,0x1eaf+0x30+0x469*-0x7);this['_innerOffs'+'etUniform'][-0x3a5+-0x1087+0x142c]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x58e+0x1*0x14a8+-0x1a35*0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1f7a+-0x1c55+0x1*0x3bd1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1811+0x64a+0xf2c*-0x2]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1ac3+-0xa*-0x19f+0xa8d]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x6bf*-0x5+0x7fa+-0x29b4]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1a87*0x1+-0x13b3+-0x12*0x61]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x156f+-0x1*0x1dc5+0x3337]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x228681=this['flipX']?-(0x14*0x17b+0x2*-0x769+-0xec9):-0x2073+-0xf7*0xd+0x2cff,_0x1e7c7d=this['flipY']?-(0x4c1+-0x1*0x51e+0x1*0x5e):-0x1d85+-0xdb6+0x159e*0x2,_0x2ba18d=-0x49*-0x34+0x3*0x2b9+0x7*-0x349,_0x482d4b=0x2*0x789+0x1cc*-0x6+0x6*-0xb7;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x332ebc=-0x16c1+-0x202e+0x36f0,_0x4236ab=-0x1bc*-0x15+0x1cf8+-0x4163;if(this['sprite']['atlas']){const _0x583427=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x583427&&(_0x332ebc=_0x583427['rect']['z'],_0x4236ab=_0x583427['rect']['w'],_0x2ba18d=(0x10a2*0x1+-0x468+-0x272*0x5+0.5-_0x583427['pivot']['x'])*this['_width'],_0x482d4b=(-0x1c4d+0x585+0x16c8+0.5-_0x583427['pivot']['y'])*this['_height']);}const _0x113a61=_0x332ebc/this['sprite']['pixelsPerU'+'nit'],_0x2c4101=_0x4236ab/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x113a61),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x2c4101)),_0x228681*=_0x113a61,_0x1e7c7d*=_0x2c4101,this['_outerScal'+'e']['x']/=_0x113a61,this['_outerScal'+'e']['y']/=_0x2c4101,_0x228681*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x113a61),-0x1b4d+0x1dd1+-0x1c*0x17+0.0001,0x1978+-0x4*-0x59e+-0x2fef*0x1),_0x1e7c7d*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x2c4101),-0xd8e*-0x2+-0x32b*-0x2+-0x6*0x593+0.0001,0xddf+-0x2*-0xab6+-0x234a*0x1),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0xbfd+-0xf67+-0x1*-0x1b64]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x261c+-0x3ab*0x3+0x311e]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x228681,_0x1e7c7d,0xcb*-0x29+0x385*0x1+0x1cff),this['_node']['setLocalPo'+'sition'](_0x2ba18d,_0x482d4b,0x1005*-0x1+0x70b*0x1+-0x1*-0x8fa);}['_updateAab'+'b'](_0x5d9c13){return _0x5d9c13['center']['set'](-0x1*0x138e+0xb1*0x14+0x5ba*0x1,-0x77f*-0x5+-0x1*-0x10fb+-0x1b3b*0x2,0x12e6*-0x1+0xda6*0x1+0x540),_0x5d9c13['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0xf*-0x163+-0x113*-0x21+-0xea6+0.5),this['_outerScal'+'e']['y']*(0x103*0xd+0x1987*-0x1+-0x24*-0x58+0.5),0x216e+0x261f+0x478d*-0x1+0.001),_0x5d9c13['setFromTra'+'nsformedAa'+'bb'](_0x5d9c13,this['_node']['getWorldTr'+'ansform']()),_0x5d9c13;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x4b5b20=this['_clips'][this['_autoPlayC'+'lip']];_0x4b5b20&&!_0x4b5b20['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x4b5b20['name']);}['_onLayersC'+'hanged'](_0x71c5cb,_0x13b286){_0x71c5cb['off']('add',this['onLayerAdd'+'ed'],this),_0x71c5cb['off']('remove',this['onLayerRem'+'oved'],this),_0x13b286['on']('add',this['onLayerAdd'+'ed'],this),_0x13b286['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x36e9d4){this['layers']['indexOf'](_0x36e9d4['id'])<0x2*0x8b+-0x1fac+-0x36*-0x91||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x36e9d4['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2948db){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2948db['id'])<0xe02+-0x1*0x1f49+0x1147*0x1||_0x2948db['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0xae1d79=-0x17cf+0x1d*-0x154+0x3e53;_0xae1d79<this['layers']['length'];_0xae1d79++){const _0x52f6c5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xae1d79]);_0x52f6c5&&_0x52f6c5['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x104492){const _0xd9b00f=new Hi(this,{'name':_0x104492['name'],'fps':_0x104492['fps'],'loop':_0x104492['loop'],'spriteAsset':_0x104492['spriteAsse'+'t']});return this['_clips'][_0x104492['name']]=_0xd9b00f,_0xd9b00f['name']&&_0xd9b00f['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0xd9b00f;}['removeClip'](_0x221fb8){delete this['_clips'][_0x221fb8];}['clip'](_0x2411f6){return this['_clips'][_0x2411f6];}['play'](_0xb2e40c){const _0x28db40=this['_clips'][_0xb2e40c],_0xd07de5=this['_currentCl'+'ip'];return _0xd07de5&&_0xd07de5!==_0x28db40&&(_0xd07de5['_playing']=!(0x233*0x4+0x165a+-0x7*0x473)),this['_currentCl'+'ip']=_0x28db40,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x28db40,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xb2e40c+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x28db40;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0x3ab*0x7+0x2f*0x17+0xb2*-0x2b);}}const f0=['enabled'];class mF extends ct{constructor(_0x211092){super(_0x211092),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x4e1f6a){this['_defaultMa'+'terial']=_0x4e1f6a;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x377d12=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x5586c7=new Uint8Array(_0x377d12['lock']());_0x5586c7[0x57*0x1a+-0x2678*0x1+0xed1*0x2]=_0x5586c7[0x1c45+-0x230d+0x1*0x6c9]=_0x5586c7[-0x166b*-0x1+-0x29f*-0xb+-0x333e]=_0x5586c7[0x1*-0x22f+-0xd63*-0x1+-0xf*0xbf]=-0x1905+-0x6f*0x1e+0x2706,_0x377d12['unlock']();const _0x21ad66=new Ut();_0x21ad66['diffuse']['set'](0x2417+0x1cd*0x15+-0x14*0x3b2,-0x1*0x1e11+-0xe8c+-0x2f*-0xf3,0x12dd+0x10b5+-0x2392),_0x21ad66['emissive']['set'](-0x2df*0x4+0x1*0x19c3+-0xe*0x105,0x166e+-0x104b+-0x622,0x6a*-0x3e+-0x223a*-0x1+-0x88d),_0x21ad66['emissiveMa'+'p']=_0x377d12,_0x21ad66['opacityMap']=_0x377d12,_0x21ad66['opacityMap'+'Channel']='a',_0x21ad66['useLightin'+'g']=!(-0x23e4+-0x1*-0x21d1+0x214),_0x21ad66['useTonemap']=!(0x1*-0xfab+0xbdf+-0x3cd*-0x1),_0x21ad66['useFog']=!(-0xf0e+-0xa4d+-0x874*-0x3),_0x21ad66['useSkybox']=!(-0x89*0x15+0x1476+0x127*-0x8),_0x21ad66['blendType']=Gn,_0x21ad66['depthWrite']=!(-0x422*0x6+0x1d21*-0x1+0x35ee),_0x21ad66['pixelSnap']=!(0x1c3f+-0xb30*-0x1+-0x276e),_0x21ad66['cull']=bt,_0x21ad66['update'](),this['_defaultTe'+'xture']=_0x377d12,this['_defaultMa'+'terial']=_0x21ad66;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x3744f7){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x3744f7;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x377a6e=this['defaultMat'+'erial']['clone']();_0x377a6e['nineSliced'+'Mode']=Pt,_0x377a6e['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x377a6e;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x40b32f){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x40b32f;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x26c249=this['defaultMat'+'erial']['clone']();_0x26c249['nineSliced'+'Mode']=Mt,_0x26c249['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x26c249;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x1107b9,_0xa11124,_0x29fa54){if(_0xa11124['enabled']!==void(0x10*0x1e9+-0x2*-0x6d3+0x161b*-0x2)&&(_0x1107b9['enabled']=_0xa11124['enabled']),_0x1107b9['type']=_0xa11124['type'],_0xa11124['layers']&&Array['isArray'](_0xa11124['layers'])&&(_0x1107b9['layers']=_0xa11124['layers']['slice'](-0x1d*-0x66+0x1*0x107+0xc95*-0x1)),_0xa11124['drawOrder']!==void(-0x167c+0x1*-0x1fe1+-0x365d*-0x1)&&(_0x1107b9['drawOrder']=_0xa11124['drawOrder']),_0xa11124['color']!==void(0x2053+0x10b9*-0x1+-0xf9a)&&(_0xa11124['color']instanceof ie?_0x1107b9['color']['set'](_0xa11124['color']['r'],_0xa11124['color']['g'],_0xa11124['color']['b'],_0xa11124['opacity']??0x1067+0x643*-0x5+0xb*0x15b):_0x1107b9['color']['set'](_0xa11124['color'][0xed*0x24+0x2*0x33f+-0x27d2],_0xa11124['color'][0x26b0+0x93a*0x1+-0x2fe9],_0xa11124['color'][-0x2*-0x5d7+-0x1a3e+0x5*0x2ea],_0xa11124['opacity']??0x2581*-0x1+-0x1*0x235a+-0x2*-0x246e),_0x1107b9['color']=_0x1107b9['color']),_0xa11124['opacity']!==void(0x2*-0x97d+0x2698+0x22e*-0x9)&&(_0x1107b9['opacity']=_0xa11124['opacity']),_0xa11124['flipX']!==void(0x10d4+-0xfb7+-0x5f*0x3)&&(_0x1107b9['flipX']=_0xa11124['flipX']),_0xa11124['flipY']!==void(-0x2392+-0x39+0x1*0x23cb)&&(_0x1107b9['flipY']=_0xa11124['flipY']),_0xa11124['width']!==void(0x1*0x138b+-0x2394+0x1009)&&(_0x1107b9['width']=_0xa11124['width']),_0xa11124['height']!==void(-0x4*0x476+-0x23e*0x10+0x35b8)&&(_0x1107b9['height']=_0xa11124['height']),_0xa11124['spriteAsse'+'t']!==void(0x46c+-0x2f*-0xb2+0x1*-0x251a)&&(_0x1107b9['spriteAsse'+'t']=_0xa11124['spriteAsse'+'t']),_0xa11124['sprite']&&(_0x1107b9['sprite']=_0xa11124['sprite']),_0xa11124['frame']!==void(-0x1e*-0x19+0x7fd*-0x3+-0x167*-0xf)&&(_0x1107b9['frame']=_0xa11124['frame']),_0xa11124['clips']){for(const _0xc2d1f8 in _0xa11124['clips'])_0x1107b9['addClip'](_0xa11124['clips'][_0xc2d1f8]);}_0xa11124['speed']!==void(0x1997+0x293+0x203*-0xe)&&(_0x1107b9['speed']=_0xa11124['speed']),_0xa11124['autoPlayCl'+'ip']&&(_0x1107b9['autoPlayCl'+'ip']=_0xa11124['autoPlayCl'+'ip']),_0x1107b9['batchGroup'+'Id']=_0xa11124['batchGroup'+'Id']===void(0x6d+-0xc69+0xbfc)||_0xa11124['batchGroup'+'Id']===null?-(-0x1a65+0x1*0x2533+-0xacd):_0xa11124['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x1107b9,_0xa11124,_0x29fa54);}['cloneCompo'+'nent'](_0x28f161,_0x5a74b9){const _0x2d487a=_0x28f161['sprite'];return this['addCompone'+'nt'](_0x5a74b9,{'enabled':_0x2d487a['enabled'],'type':_0x2d487a['type'],'spriteAsset':_0x2d487a['spriteAsse'+'t'],'sprite':_0x2d487a['sprite'],'width':_0x2d487a['width'],'height':_0x2d487a['height'],'frame':_0x2d487a['frame'],'color':_0x2d487a['color']['clone'](),'opacity':_0x2d487a['opacity'],'flipX':_0x2d487a['flipX'],'flipY':_0x2d487a['flipY'],'speed':_0x2d487a['speed'],'clips':_0x2d487a['clips'],'autoPlayClip':_0x2d487a['autoPlayCl'+'ip'],'batchGroupId':_0x2d487a['batchGroup'+'Id'],'drawOrder':_0x2d487a['drawOrder'],'layers':_0x2d487a['layers']['slice'](-0x1c91*-0x1+-0x1*-0x3db+-0x206c)});}['onUpdate'](_0x47f9b0){const _0x3cf939=this['store'];for(const _0x32f0f0 in _0x3cf939)if(_0x3cf939['hasOwnProp'+'erty'](_0x32f0f0)){const _0x33aff5=_0x3cf939[_0x32f0f0];if(_0x33aff5['data']['enabled']&&_0x33aff5['entity']['enabled']){const _0x526fb1=_0x33aff5['entity']['sprite'];_0x526fb1['_currentCl'+'ip']&&_0x526fb1['_currentCl'+'ip']['_update'](_0x47f9b0);}}}['onBeforeRe'+'move'](_0x3eb6a1,_0x4ec695){_0x4ec695['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x133d01,_0x3e6763){super(_0x133d01,_0x3e6763),this['_oldState']=!(0x1b*0x6f+0x5a7+-0xb*0x194),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x252e57){_0x252e57 instanceof D?this['_size']['copy'](_0x252e57):_0x252e57 instanceof Array&&_0x252e57['length']>=-0x58*0x58+-0x487*0x7+0x5*0xc64&&this['size']['set'](_0x252e57[0x8*0x4dc+0x10be+-0x12*0x317],_0x252e57[-0xea4+-0x2ea+0x5*0x383],_0x252e57[0x2f8+-0x1f*0x3d+0xb*0x67]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0xc2aef9,_0x2d23fe,_0x47777c){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x155cd3=this['enabled']&&this['entity']['enabled'];_0x155cd3!==this['_oldState']&&(this['_oldState']=_0x155cd3,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x86f*0x1+0xcca*0x1+-0x1539);}}const u0=['enabled'];class gF extends ct{constructor(_0x823aa){super(_0x823aa),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x15da81,_0xb5cc43,_0x4530dd){_0x15da81['enabled']=_0xb5cc43['hasOwnProp'+'erty']('enabled')?!!_0xb5cc43['enabled']:!(0x27d*0x7+-0x1*0x12ef+0x184),_0xb5cc43['size']&&(_0xb5cc43['size']instanceof D?_0x15da81['size']['copy'](_0xb5cc43['size']):_0xb5cc43['size']instanceof Array&&_0xb5cc43['size']['length']>=0x1e27+0x19c8+-0x37ec&&_0x15da81['size']['set'](_0xb5cc43['size'][-0x11cd+0x178*0x13+-0xa1b],_0xb5cc43['size'][0xc2f*-0x3+-0x17a7+0x3c35],_0xb5cc43['size'][-0x2*-0x949+-0x11a7+-0xe9]));}['cloneCompo'+'nent'](_0x58f81d,_0x4607d9){const _0x1b5cb7={'enabled':_0x58f81d['zone']['enabled'],'size':_0x58f81d['zone']['size']};return this['addCompone'+'nt'](_0x4607d9,_0x1b5cb7);}['_onBeforeR'+'emove'](_0x19d06f,_0x1e0184){_0x1e0184['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x32921d,_0x40beda){this['effect']=_0x32921d,this['inputTarge'+'t']=_0x40beda,this['outputTarg'+'et']=null,this['name']=_0x32921d['constructo'+'r']['name'];}}class yF{constructor(_0x339e01,_0x5b726a){this['app']=_0x339e01,this['camera']=_0x5b726a,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x3*-0x124+-0x1e77*-0x1+-0x21e2*0x1),this['depthTarge'+'t']=null,_0x5b726a['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x2808e0,_0x2a47c9){const _0x404e0f=this['camera']['rect'],_0x59ed67=this['destinatio'+'nRenderTar'+'get'],_0x5222d4=this['app']['graphicsDe'+'vice'],_0x4a9289=Math['floor'](_0x404e0f['z']*((_0x59ed67==null?void(0x12f5*0x1+-0x5*0x6d7+-0x2*-0x79f):_0x59ed67['width'])??_0x5222d4['width'])),_0x363c5d=Math['floor'](_0x404e0f['w']*((_0x59ed67==null?void(0xd29+0x6a3*-0x2+0x1d):_0x59ed67['height'])??_0x5222d4['height']));return new _e(_0x5222d4,{'name':_0x2a47c9,'format':_0x2808e0,'width':_0x4a9289,'height':_0x363c5d,'mipmaps':!(-0x5*-0x373+0x1*0x1265+-0xbe1*0x3),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x513362,_0x2f56cb){const _0x193bb5=this['app']['graphicsDe'+'vice'],_0x625081=(this['destinatio'+'nRenderTar'+'get']??_0x193bb5['backBuffer'])['isColorBuf'+'ferSrgb'](0x1efb+-0x2175+0x13d*0x2),_0x5ae0bf=(_0x2f56cb&&_0x193bb5['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0x39*-0x2+-0x1b39+0x1bab)))??(_0x625081?_s:Ne),_0x3deb88=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x2b736b=this['_allocateC'+'olorBuffer'](_0x5ae0bf,_0x3deb88);return new gt({'colorBuffer':_0x2b736b,'depth':_0x513362,'stencil':_0x513362&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x513362?_0x193bb5['samples']:0x19d0+-0x13f7+-0x5d8});}['_resizeOff'+'screenTarg'+'et'](_0x49d08a){const _0xaa5d89=_0x49d08a['colorBuffe'+'r']['format'],_0x6c3ca2=_0x49d08a['colorBuffe'+'r']['name'];_0x49d08a['destroyFra'+'meBuffers'](),_0x49d08a['destroyTex'+'tureBuffer'+'s'](),_0x49d08a['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0xaa5d89,_0x6c3ca2),_0x49d08a['_colorBuff'+'ers']=[_0x49d08a['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x2fddf0){_0x2fddf0['destroyTex'+'tureBuffer'+'s'](),_0x2fddf0['destroy']();}['addEffect'](_0x3cfab0){const _0x2aa0e3=this['effects'],_0x1fdd65=_0x2aa0e3['length']===0x3*-0xbe+0x1ca5+-0x1*0x1a6b,_0x1f5614=this['_createOff'+'screenTarg'+'et'](_0x1fdd65,_0x3cfab0['hdr']),_0xfc19ce=new SF(_0x3cfab0,_0x1f5614);_0x2aa0e3['push'](_0xfc19ce),this['_sourceTar'+'get']=_0xfc19ce['inputTarge'+'t'],_0x2aa0e3['length']>-0x94a+-0x816+0x1161&&(_0x2aa0e3[_0x2aa0e3['length']-(0xa*0x177+0x1a4d*-0x1+0xba9)]['outputTarg'+'et']=_0xfc19ce['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x3cfab0,_0x3cfab0['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x61d*-0x2+-0x49*0x15+-0x63d);}['removeEffe'+'ct'](_0x324799){let _0x24c1db=-(0x24f7+-0x1080+-0x9*0x246);for(let _0x282bb4=-0x1f99+-0x1693*-0x1+-0x2*-0x483,_0x5027f3=this['effects']['length'];_0x282bb4<_0x5027f3;_0x282bb4++)if(this['effects'][_0x282bb4]['effect']===_0x324799){_0x24c1db=_0x282bb4;break;}_0x24c1db>=0xdfd+-0x15cf+0x2*0x3e9&&(_0x24c1db>0x213b*0x1+0x107*-0x17+0x4cd*-0x2?this['effects'][_0x24c1db-(0x191c+-0x9*-0x302+-0x1*0x342d)]['outputTarg'+'et']=_0x24c1db+(-0xa*0x5b+-0x2071+-0x9*-0x400)<this['effects']['length']?this['effects'][_0x24c1db+(0x4*-0x68d+0x2606*-0x1+0x403b)]['inputTarge'+'t']:null:this['effects']['length']>-0x91d+-0x1b0+0xace&&(this['effects'][0x214a+-0x1ae3*-0x1+-0x1e16*0x2]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1*0x2529+0x1f4*0x3+0x4*-0xac1]['inputTarge'+'t']),this['effects'][0x1aed*-0x1+0x1c9f+-0x1b1*0x1]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x43e*-0x2+0x23*0x7b+0x4f*-0x1b),this['effects'][-0x61*0x47+-0x20f4+0x3bdc]['hdr']),this['_sourceTar'+'get']=this['effects'][0x715+0x2*-0x83c+0x964]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x7*0x4b1+0x65d*0x5+-0x158d*0x3]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x24c1db]['inputTarge'+'t']),this['effects']['splice'](_0x24c1db,0x23b5+0x1f48+-0x42fc)),this['enabled']&&_0x324799['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x9c4+0x91a*0x2+-0x1bf8&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x59e1c6=-0xc57*-0x3+-0x12*-0x1f1+0xcf*-0x59,_0x27e31a=this['effects']['length'];_0x59e1c6<_0x27e31a;_0x59e1c6++){const _0x2d633e=this['effects'][_0x59e1c6]['effect'];this['_newPostEf'+'fect']!==_0x2d633e&&_0x2d633e['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0xb88540=-0x1afe+0x247+-0x1*-0x18b7,_0x3c8116=this['effects']['length'];_0xb88540<_0x3c8116;_0xb88540++)this['effects'][_0xb88540]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x3a59ab=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x3a59ab&&(_0x3a59ab['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x231f+-0x1990+-0x98f)));}['_releaseDe'+'pthMap'](){const _0x4658b0=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x4658b0&&(_0x4658b0['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xb04+-0x232+-0x25*0x3d)));}['destroy'](){for(let _0x396b6d=-0x251f+0x915*-0x1+-0xb8d*-0x4,_0x1d2794=this['effects']['length'];_0x396b6d<_0x1d2794;_0x396b6d++)this['effects'][_0x396b6d]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x887*0x1+-0x1*0x12d9+-0x49*-0x60,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0xb57*-0x2+0x22*0xcd+0x184*-0x3),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x112f+0x11f7+-0xa*0x14]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x2120bf=null;const _0x4a4adb=this['effects']['length'];if(_0x4a4adb)for(let _0x2774b7=-0x116c+0x342+-0xe*-0x103;_0x2774b7<_0x4a4adb;_0x2774b7++){const _0x445e09=this['effects'][_0x2774b7];let _0x5e2036=_0x445e09['outputTarg'+'et'];_0x2774b7===_0x4a4adb-(-0x6*-0x239+0x574*0x1+-0x12c9)&&(_0x2120bf=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x5e2036=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x445e09['name']),_0x445e09['effect']['render'](_0x445e09['inputTarge'+'t'],_0x5e2036,_0x2120bf),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x8*0x499+-0x582+-0x1f45),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x49eaa7,_0x5ccfc4){const _0x36b896=this['camera']['rect'],_0x2edab=this['destinatio'+'nRenderTar'+'get'];_0x49eaa7=(_0x2edab==null?void(0x4*-0x5f9+0x5a4+-0x92*-0x20):_0x2edab['width'])??_0x49eaa7,_0x5ccfc4=(_0x2edab==null?void(0x941+-0x203c+0x16fb):_0x2edab['height'])??_0x5ccfc4,this['camera']['camera']['aspectRati'+'o']=_0x49eaa7*_0x36b896['z']/(_0x5ccfc4*_0x36b896['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x59b604=this['app']['graphicsDe'+'vice'],_0x1c9e81=this['destinatio'+'nRenderTar'+'get'],_0x2cc068=(_0x1c9e81==null?void(-0xe87*-0x1+-0x1e5a+0xfd3*0x1):_0x1c9e81['width'])??_0x59b604['width'],_0x1f85cd=(_0x1c9e81==null?void(-0x20*-0x2+-0x1512*0x1+0x14d2):_0x1c9e81['height'])??_0x59b604['height'],_0xc7045e=this['camera']['rect'],_0x30af14=Math['floor'](_0xc7045e['z']*_0x2cc068),_0x5cb399=Math['floor'](_0xc7045e['w']*_0x1f85cd),_0x588f64=this['effects'];for(let _0x1239fa=0xca9+0x1872+0x19d*-0x17,_0x3fddc3=_0x588f64['length'];_0x1239fa<_0x3fddc3;_0x1239fa++){const _0x3e1adc=_0x588f64[_0x1239fa];(_0x3e1adc['inputTarge'+'t']['width']!==_0x30af14||_0x3e1adc['inputTarge'+'t']['height']!==_0x5cb399)&&this['_resizeOff'+'screenTarg'+'et'](_0x3e1adc['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x26a224,_0x2f223a,_0xbb1b93){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x526890,_0x2bd5fa){super(_0x526890,_0x2bd5fa),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x13b4+-0x167*-0x1+-0x1*-0x124d),h(this,'_renderSce'+'neColorMap',0xcb*-0x7+-0x227+0x7b4),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x1105*0x2+-0x1b*0x128+-0x2d1)),h(this,'_sceneColo'+'rMapReques'+'ted',!(0xe1+0xa*-0x3cd+0x2a7*0xe)),h(this,'_priority',0x1*0x1e0b+-0x2464+0x659),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2bd5fa,this['_postEffec'+'ts']=new yF(_0x526890['app'],this));}['setShaderP'+'ass'](_0x13acb4){const _0x4d5304=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x340061=_0x13acb4?_0x4d5304['allocate'](_0x13acb4,{'isForward':!(0x5e4*-0x3+0xbdd*-0x2+-0x1*-0x2966)}):null;return this['_camera']['shaderPass'+'Info']=_0x340061,_0x340061['index'];}['getShaderP'+'ass'](){var _0xe0f562;return(_0xe0f562=this['_camera']['shaderPass'+'Info'])==null?void(0x25a3*-0x1+0x1*0xf31+0x1672):_0xe0f562['name'];}set['renderPass'+'es'](_0xae97ff){this['_camera']['renderPass'+'es']=_0xae97ff||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x1*0x1173+0x123a+-0xc7);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x4ed9c){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x4ed9c;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0xef09d8){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0xef09d8;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x44328b){this['_camera']['fogParams']=_0x44328b;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x16e44d){this['_camera']['aperture']=_0x16e44d;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x3a5dea){this['_camera']['aspectRati'+'o']=_0x3a5dea;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x1a2229){this['_camera']['aspectRati'+'oMode']=_0x1a2229;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x14cf78){this['_camera']['calculateP'+'rojection']=_0x14cf78;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x42ee91){this['_camera']['calculateT'+'ransform']=_0x42ee91;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x39de41){this['_camera']['clearColor']=_0x39de41;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x4e47c0){this['_camera']['clearColor'+'Buffer']=_0x4e47c0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x20f9d2){this['_camera']['clearDepth'+'Buffer']=_0x20f9d2,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x57fa5e){this['_camera']['clearStenc'+'ilBuffer']=_0x57fa5e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x43b72e){this['_camera']['cullFaces']=_0x43b72e;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x553b68){this['_disablePo'+'stEffectsL'+'ayer']=_0x553b68,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x1678dd){this['_camera']['farClip']=_0x1678dd;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x3e116a){this['_camera']['flipFaces']=_0x3e116a;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0xfe26f){this['_camera']['fov']=_0xfe26f;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0xe9a190){this['_camera']['frustumCul'+'ling']=_0xe9a190;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x221972){this['_camera']['horizontal'+'Fov']=_0x221972;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x3fb103){const _0x140dc7=this['_camera']['layers'],_0x504b9f=this['system']['app']['scene'];_0x140dc7['forEach'](_0x4b63d3=>{const _0x5051ed=_0x504b9f['layers']['getLayerBy'+'Id'](_0x4b63d3);_0x5051ed==null||_0x5051ed['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x3fb103,this['enabled']&&this['entity']['enabled']&&_0x3fb103['forEach'](_0x44e875=>{const _0x7d5678=_0x504b9f['layers']['getLayerBy'+'Id'](_0x44e875);_0x7d5678==null||_0x7d5678['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x4ea1cc){this['_camera']['jitter']=_0x4ea1cc;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x35a071){this['_camera']['nearClip']=_0x35a071;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x14beaa){this['_camera']['orthoHeigh'+'t']=_0x14beaa;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x1b8299){this['_priority']=_0x1b8299,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x377cd1){this['_camera']['projection']=_0x377cd1;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x505d9a){this['_camera']['rect']=_0x505d9a,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x4961dc){_0x4961dc&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x2273+-0x2486+0x3*0xb1)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x70b+0xb48*-0x2+0x1d9b)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x18d9+0x1e42+-0x371a*0x1)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1f48+-0x232e+0x4277));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x12a6*0x1+0x1e01+-0x5*0x9bb;}set['renderScen'+'eDepthMap'](_0x214c40){_0x214c40&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1*0xed1+-0xbd+-0x385*0x4)),this['_sceneDept'+'hMapReques'+'ted']=!(0xb*0x2a0+-0x46*0x15+-0x12*0x149)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0xb1e*-0x2+0x181b+-0x172b*0x2)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1e33+0xc85*0x1+-0x2ab7));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1195*0x1+-0x2133+0xf9e;}set['renderTarg'+'et'](_0x12a3d4){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1963+0x22ee*0x1+-0x3c51&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x12a3d4,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x1afd8f){this['_camera']['scissorRec'+'t']=_0x1afd8f;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x35dd6d){this['_camera']['sensitivit'+'y']=_0x35dd6d;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x1aa1bf){this['_camera']['shutter']=_0x1aa1bf;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x1c1b75){if(this['layers']['find'](_0x282219=>_0x282219===ps)){const _0x45d4c8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x1c1b75?_0x45d4c8==null||_0x45d4c8['incrementC'+'ounter']():_0x45d4c8==null||_0x45d4c8['decrementC'+'ounter']();}else{if(_0x1c1b75)return!(-0x16d7+0xb*0xb5+0xf11);}return!(0x2706+-0x1*0x24f7+0x11*-0x1f);}['requestSce'+'neColorMap'](_0x375137){this['_renderSce'+'neColorMap']+=_0x375137?0x6*0x3d1+0x1842+-0x2f27:-(-0x12e+-0x1972+-0x1aa1*-0x1),w['assert'](this['_renderSce'+'neColorMap']>=-0x1ee8+0x1a48+0x25*0x20),this['_enableDep'+'thLayer'](_0x375137)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x3891fd){this['_renderSce'+'neDepthMap']+=_0x3891fd?-0x1dc4+0x15a6+0x81f:-(-0xa*-0x3c7+0x2236+-0x47fb),w['assert'](this['_renderSce'+'neDepthMap']>=0x11ee+-0x8*-0x422+-0x32fe),this['_enableDep'+'thLayer'](_0x3891fd)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x217b13=this['system']['app']['scene']['layers'];_0x217b13['_dirty']=!(0x1*-0x1095+-0x15bd+0x2652);}['screenToWo'+'rld'](_0x11d4da,_0x4e5194,_0x365904,_0x40f33d){const _0x9b790d=this['system']['app']['graphicsDe'+'vice'],{width:_0x2d6e45,height:_0x2946d8}=_0x9b790d['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x11d4da,_0x4e5194,_0x365904,_0x2d6e45,_0x2946d8,_0x40f33d);}['worldToScr'+'een'](_0x32eadd,_0x38bbd1){const _0x538967=this['system']['app']['graphicsDe'+'vice'],{width:_0x43fce8,height:_0x202a80}=_0x538967['clientRect'];return this['_camera']['worldToScr'+'een'](_0x32eadd,_0x43fce8,_0x202a80,_0x38bbd1);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x805+0x1*0x4b4+0x1*0x351),this['_camera']['_viewProjM'+'atDirty']=!(0x11c8+0x230+0x6a8*-0x3);}['addCameraT'+'oLayers'](){const _0xc42295=this['layers'];for(let _0x157c9d=-0xc42+-0x2097+0x2cd9;_0x157c9d<_0xc42295['length'];_0x157c9d++){const _0x2251ad=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xc42295[_0x157c9d]);_0x2251ad&&_0x2251ad['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x4c898f=this['layers'];for(let _0x21f668=-0x1c81+0x6*-0x234+0x3cb*0xb;_0x21f668<_0x4c898f['length'];_0x21f668++){const _0x454c7b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4c898f[_0x21f668]);_0x454c7b&&_0x454c7b['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x1ab80e,_0x2d5e79){this['addCameraT'+'oLayers'](),_0x1ab80e['off']('add',this['onLayerAdd'+'ed'],this),_0x1ab80e['off']('remove',this['onLayerRem'+'oved'],this),_0x2d5e79['on']('add',this['onLayerAdd'+'ed'],this),_0x2d5e79['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3fe408){this['layers']['indexOf'](_0x3fe408['id'])<-0x11b*0x2+-0x3*0x62f+-0x5*-0x427||_0x3fe408['addCamera'](this);}['onLayerRem'+'oved'](_0xb4dd51){this['layers']['indexOf'](_0xb4dd51['id'])<0xaae*0x1+-0x10*-0x5+-0x7*0x192||_0xb4dd51['removeCame'+'ra'](this);}['onEnable'](){var _0x5b4490,_0x347da9,_0x58001d;const _0x1e03b6=this['system']['app']['scene'],_0x96efae=_0x1e03b6['layers'];this['system']['addCamera'](this),(_0x5b4490=this['_evtLayers'+'Changed'])==null||_0x5b4490['off'](),this['_evtLayers'+'Changed']=_0x1e03b6['on']('set:layers',this['onLayersCh'+'anged'],this),_0x96efae&&((_0x347da9=this['_evtLayerA'+'dded'])==null||_0x347da9['off'](),this['_evtLayerA'+'dded']=_0x96efae['on']('add',this['onLayerAdd'+'ed'],this),(_0x58001d=this['_evtLayerR'+'emoved'])==null||_0x58001d['off'](),this['_evtLayerR'+'emoved']=_0x96efae['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x400320,_0xe9c61d,_0xc2197c;const _0x229c7d=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x400320=this['_evtLayers'+'Changed'])==null||_0x400320['off'](),this['_evtLayers'+'Changed']=null,_0x229c7d&&((_0xe9c61d=this['_evtLayerA'+'dded'])==null||_0xe9c61d['off'](),this['_evtLayerA'+'dded']=null,(_0xc2197c=this['_evtLayerR'+'emoved'])==null||_0xc2197c['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x561710){const _0x3439c0=this['system']['app']['graphicsDe'+'vice'],_0x5d4c5f=_0x561710?_0x561710['width']:_0x3439c0['width'],_0x327be3=_0x561710?_0x561710['height']:_0x3439c0['height'];return _0x5d4c5f*this['rect']['z']/(_0x327be3*this['rect']['w']);}['frameUpdat'+'e'](_0x166ceb){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x166ceb));}['startXr'](_0x196808,_0x41d57b,_0x41db8e){this['system']['app']['xr']['start'](this,_0x196808,_0x41d57b,_0x41db8e);}['endXr'](_0x473b26){if(!this['_camera']['xr']){_0x473b26&&_0x473b26(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x473b26);}['copy'](_0x4d74ff){this['aperture']=_0x4d74ff['aperture'],this['aspectRati'+'o']=_0x4d74ff['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x4d74ff['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4d74ff['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4d74ff['calculateT'+'ransform'],this['clearColor']=_0x4d74ff['clearColor'],this['clearColor'+'Buffer']=_0x4d74ff['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x4d74ff['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x4d74ff['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4d74ff['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x4d74ff['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x4d74ff['farClip'],this['flipFaces']=_0x4d74ff['flipFaces'],this['fov']=_0x4d74ff['fov'],this['frustumCul'+'ling']=_0x4d74ff['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x4d74ff['horizontal'+'Fov'],this['layers']=_0x4d74ff['layers'],this['nearClip']=_0x4d74ff['nearClip'],this['orthoHeigh'+'t']=_0x4d74ff['orthoHeigh'+'t'],this['priority']=_0x4d74ff['priority'],this['projection']=_0x4d74ff['projection'],this['rect']=_0x4d74ff['rect'],this['renderTarg'+'et']=_0x4d74ff['renderTarg'+'et'],this['scissorRec'+'t']=_0x4d74ff['scissorRec'+'t'],this['sensitivit'+'y']=_0x4d74ff['sensitivit'+'y'],this['shutter']=_0x4d74ff['shutter'];}}class vF{constructor(){this['enabled']=!(0xacb+0x1*0x1822+-0x22ed);}}const p0=['enabled'];class xF extends ct{constructor(_0x3d4de8){super(_0x3d4de8),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x39dc52,_0x24ceab,_0x3836ca){_0x3836ca=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x42bb1d=0xb71+-0x3*0x6f7+0x974;_0x42bb1d<_0x3836ca['length'];_0x42bb1d++){const _0x53ff86=_0x3836ca[_0x42bb1d];if(_0x24ceab['hasOwnProp'+'erty'](_0x53ff86)){const _0x2b2171=_0x24ceab[_0x53ff86];switch(_0x53ff86){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2b2171)?_0x39dc52[_0x53ff86]=new re(_0x2b2171[-0x5a2+0x96a+-0x3c8],_0x2b2171[-0x3c8*-0x3+0x79e+-0x12f5*0x1],_0x2b2171[-0x1321+-0x13*0xe3+0x23fc],_0x2b2171[-0x1*0x14a9+-0x1931*-0x1+0x485*-0x1]):_0x39dc52[_0x53ff86]=_0x2b2171;break;case'clearColor':Array['isArray'](_0x2b2171)?_0x39dc52[_0x53ff86]=new ie(_0x2b2171[-0x26ac+-0x1*0x25bf+0x1*0x4c6b],_0x2b2171[-0x91e+-0x1e4b+-0x5*-0x7e2],_0x2b2171[-0x35b*0x2+0x2*0x1369+-0x2*0x100d],_0x2b2171[0xc*0xbd+-0x1d44+-0x1*-0x146b]):_0x39dc52[_0x53ff86]=_0x2b2171;break;default:_0x39dc52[_0x53ff86]=_0x2b2171;break;}}}super['initialize'+'ComponentD'+'ata'](_0x39dc52,_0x24ceab,['enabled']);}['cloneCompo'+'nent'](_0x102800,_0x3bd46a){const _0x519895=_0x102800['camera'];return this['addCompone'+'nt'](_0x3bd46a,{'aspectRatio':_0x519895['aspectRati'+'o'],'aspectRatioMode':_0x519895['aspectRati'+'oMode'],'calculateProjection':_0x519895['calculateP'+'rojection'],'calculateTransform':_0x519895['calculateT'+'ransform'],'clearColor':_0x519895['clearColor'],'clearColorBuffer':_0x519895['clearColor'+'Buffer'],'clearDepthBuffer':_0x519895['clearDepth'+'Buffer'],'clearStencilBuffer':_0x519895['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x519895['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x519895['renderScen'+'eColorMap'],'cullFaces':_0x519895['cullFaces'],'enabled':_0x519895['enabled'],'farClip':_0x519895['farClip'],'flipFaces':_0x519895['flipFaces'],'fov':_0x519895['fov'],'frustumCulling':_0x519895['frustumCul'+'ling'],'horizontalFov':_0x519895['horizontal'+'Fov'],'layers':_0x519895['layers'],'renderTarget':_0x519895['renderTarg'+'et'],'nearClip':_0x519895['nearClip'],'orthoHeight':_0x519895['orthoHeigh'+'t'],'projection':_0x519895['projection'],'priority':_0x519895['priority'],'rect':_0x519895['rect'],'scissorRect':_0x519895['scissorRec'+'t'],'aperture':_0x519895['aperture'],'sensitivity':_0x519895['sensitivit'+'y'],'shutter':_0x519895['shutter'],'gammaCorrection':_0x519895['gammaCorre'+'ction'],'toneMapping':_0x519895['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x3528c2,_0x5243da){this['removeCame'+'ra'](_0x5243da),_0x5243da['onRemove']();}['onAppPrere'+'nder'](){for(let _0x45e1f5=-0x7ca*0x3+-0x24f9+0x3c57,_0x49a78b=this['cameras']['length'];_0x45e1f5<_0x49a78b;_0x45e1f5++)this['cameras'][_0x45e1f5]['onAppPrere'+'nder']();}['addCamera'](_0x14d398){this['cameras']['push'](_0x14d398),ul(this['cameras']);}['removeCame'+'ra'](_0x5183a2){const _0x3835d6=this['cameras']['indexOf'](_0x5183a2);_0x3835d6>=-0x1ad6+-0x8*0x292+0x2f66&&(this['cameras']['splice'](_0x3835d6,0x21d*-0x1+0xec*-0x9+0x1*0xa6a),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x19e3*-0x1+0x2*0x6c5+-0x1d*-0x6d)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x1d*0x157+0x44*0x2e+-0xdc*-0x1f,0x2127+-0x1cfb+-0x42b,-0x1*-0x4e5+-0x1*0x100a+0xb26)),h(this,'intensity',-0x3*-0x409+0x6f*0x1a+-0x1760*0x1),h(this,'luminance',0x106*0x1f+0x1d10+-0x3cca),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0x1*-0x724+-0x1*0x12eb+0x1*0x1a0f)),h(this,'castShadow'+'s',!(-0x4e1*-0x1+-0x1c25+0x353*0x7)),h(this,'shadowDist'+'ance',0x218f+0x58*-0x29+-0x134f),h(this,'shadowInte'+'nsity',0x468+0x19da+-0x60d*0x5),h(this,'shadowReso'+'lution',-0x1*0x188b+-0x106b+-0x5*-0x8fe),h(this,'shadowBias',-0x1*0x1c67+0x2622+-0x9bb*0x1+0.05),h(this,'numCascade'+'s',0x128c+0x538+-0x4f*0x4d),h(this,'cascadeBle'+'nd',0x1d46+-0xef*0x17+-0x7cd),h(this,'bakeNumSam'+'ples',-0x1*0x1b9f+0x1494+0x70c),h(this,'bakeArea',0x1c4a+0xc06+-0x1ae*0x18),h(this,'cascadeDis'+'tribution',-0xf75+0x1*-0x1c8b+0x2c00+0.5),h(this,'normalOffs'+'etBias',0x68f*-0x4+-0xe*-0x49+-0x49*-0x4e),h(this,'range',-0xadd+-0x163f+0x2126),h(this,'innerConeA'+'ngle',0x1b8a+0x1870+-0x33d2),h(this,'outerConeA'+'ngle',0x9d5+-0x68c*0x4+0x1088),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x9ce+-0x2*0x218+0xe09*0x1),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0xf1b+-0x109*-0x22+-0x324d+0.01)*(-0x7e8+0x18f8+0x1*-0x1110+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x17a2+-0x1039+0x27dc),h(this,'cookieFall'+'off',!(0xc0f+0x29f+-0xeae)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',-0x27*-0x72+-0xc11+0x3b*-0x17),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x44*-0x13+-0x1ab0+0x1*0x15a5),h(this,'affectDyna'+'mic',!(-0xd*0x169+0x1a7*0x16+-0x1205)),h(this,'affectLigh'+'tmapped',!(-0x10fc+-0x39*-0xa5+-0x13c0)),h(this,'bake',!(0x6*0x8b+0x1830+0x57d*-0x5)),h(this,'bakeDir',!(0x12b6+-0x6bd*-0x1+0x1*-0x1973)),h(this,'isStatic',!(-0x17c8+-0x2387+0x3b50)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x2576+0x221c+-0x24f*0x1f),h(this,'penumbraFa'+'lloff',0x13f7*-0x1+0x4cf*-0x1+-0x18c7*-0x1),h(this,'shadowSamp'+'les',-0x71*-0x1d+-0x2624*-0x1+-0x32e1),h(this,'shadowBloc'+'kerSamples',-0x21fa+0xe14+0x1*0x13f6);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x3*-0x4e7+0xca4*0x2+0x21*-0x52)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x2b969b=this['system']['store'][this['entity']['getGuid']()];return _0x2b969b?_0x2b969b['data']:null;}set['enabled'](_0x4490b9){this['_setValue']('enabled',_0x4490b9,function(_0x2387ff,_0x16b756){this['onSetEnabl'+'ed'](null,_0x16b756,_0x2387ff);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x4cba4b){this['_setValue']('light',_0x4cba4b);}get['light'](){return this['data']['light'];}set['type'](_0x38e453){this['_setValue']('type',_0x38e453,function(_0x1aad0d,_0x495e29){this['system']['changeType'](this,_0x495e29,_0x1aad0d),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x1ebe3a){this['_setValue']('color',_0x1ebe3a,function(_0x57d362,_0x12452b){this['light']['setColor'](_0x57d362);},!(-0x21c6+-0x19f+0xdd*0x29));}get['color'](){return this['data']['color'];}set['intensity'](_0xb9485e){this['_setValue']('intensity',_0xb9485e,function(_0x448a92,_0x1f0bc6){this['light']['intensity']=_0x448a92;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x3fd188){this['_setValue']('luminance',_0x3fd188,function(_0x4dc901,_0x43b519){this['light']['luminance']=_0x4dc901;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0xcf99ad){this['_setValue']('shape',_0xcf99ad,function(_0x1fdc8b,_0x488c35){this['light']['shape']=_0x1fdc8b;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x84a472){this['_setValue']('affectSpec'+'ularity',_0x84a472,function(_0x4e3d46,_0x329afb){this['light']['affectSpec'+'ularity']=_0x4e3d46;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x4100db){this['_setValue']('castShadow'+'s',_0x4100db,function(_0x1a62a0,_0x4acb16){this['light']['castShadow'+'s']=_0x1a62a0;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x3d473a){this['_setValue']('shadowDist'+'ance',_0x3d473a,function(_0x41d312,_0x35faa8){this['light']['shadowDist'+'ance']=_0x41d312;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x540e86){this['_setValue']('shadowInte'+'nsity',_0x540e86,function(_0x43a26d,_0x42d7e6){this['light']['shadowInte'+'nsity']=_0x43a26d;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x42d29d){this['_setValue']('shadowReso'+'lution',_0x42d29d,function(_0x34edd4,_0x150476){this['light']['shadowReso'+'lution']=_0x34edd4;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x57c885){this['_setValue']('shadowBias',_0x57c885,function(_0x5021eb,_0x46145f){this['light']['shadowBias']=-(0x231d*0x1+-0x11*0x197+-0x816+0.01)*Y['clamp'](_0x5021eb,-0x2595+-0xf75+0x350a,0xddb+-0xc77+-0x163);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0xd83cf6){this['_setValue']('numCascade'+'s',_0xd83cf6,function(_0xece7f4,_0x264cdf){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0xece7f4),-0x126d+0x24d4+-0x3*0x622,-0xb*0x5d+0xf07*-0x2+-0x1cb*-0x13);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x52a43f){this['_setValue']('cascadeBle'+'nd',_0x52a43f,function(_0x18df65,_0x584a19){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x18df65,-0x1153+0x1*-0xbfd+-0x43*-0x70,-0x4d3*-0x3+0x4*0x4fa+-0x2260);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x377007){this['_setValue']('bakeNumSam'+'ples',_0x377007,function(_0x21239b,_0x25d4a5){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x21239b),0x8fa+-0xb86+0x28d,-0x1bed+0x1cb0+-0xa*-0x6);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x64fa49){this['_setValue']('bakeArea',_0x64fa49,function(_0x299050,_0x570b5e){this['light']['bakeArea']=Y['clamp'](_0x299050,0xb99*0x1+0x20f+-0xda8,-0x226b+-0x1750+0x3a6f);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x336f2a){this['_setValue']('cascadeDis'+'tribution',_0x336f2a,function(_0x2d22aa,_0x56cb6d){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x2d22aa,0x149d+0x4*0x1af+0x1*-0x1b59,0x7*-0x1cd+0x7d3*0x3+-0x67*0x1b);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x4eeca1){this['_setValue']('normalOffs'+'etBias',_0x4eeca1,function(_0x144dce,_0x527d49){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x144dce,0x1088+0x258f+-0x3617,0x2286+0x7ae+-0x2a33);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x25422b){this['_setValue']('range',_0x25422b,function(_0x2376b9,_0x5dff2c){this['light']['attenuatio'+'nEnd']=_0x2376b9;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x24ba1f){this['_setValue']('innerConeA'+'ngle',_0x24ba1f,function(_0x1b198c,_0xd71b65){this['light']['innerConeA'+'ngle']=_0x1b198c;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x5ef8bb){this['_setValue']('outerConeA'+'ngle',_0x5ef8bb,function(_0x5b96bc,_0xd3980a){this['light']['outerConeA'+'ngle']=_0x5b96bc;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x110c69){this['_setValue']('falloffMod'+'e',_0x110c69,function(_0x251a2c,_0x4dd7df){this['light']['falloffMod'+'e']=_0x251a2c;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x573b50){this['_setValue']('shadowType',_0x573b50,function(_0x32f2a7,_0x4dd4ee){this['light']['shadowType']=_0x32f2a7;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x22d083){this['_setValue']('vsmBlurSiz'+'e',_0x22d083,function(_0x21cf2b,_0x4ebfe7){this['light']['vsmBlurSiz'+'e']=_0x21cf2b;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x57e62f){this['_setValue']('vsmBlurMod'+'e',_0x57e62f,function(_0xedc3de,_0x426064){this['light']['vsmBlurMod'+'e']=_0xedc3de;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x37cbbb){this['_setValue']('vsmBias',_0x37cbbb,function(_0x35b46c,_0x3f6be3){this['light']['vsmBias']=Y['clamp'](_0x35b46c,-0x2453+-0x5b*-0xb+0x206a,0x5*-0x699+0x1732+0x9cc);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x383994){this['_setValue']('cookieAsse'+'t',_0x383994,function(_0x33daa5,_0x29b1e2){if(!(this['_cookieAss'+'etId']&&(_0x33daa5 instanceof pe&&_0x33daa5['id']===this['_cookieAss'+'etId']||_0x33daa5===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x33daa5 instanceof pe)this['data']['cookieAsse'+'t']=_0x33daa5['id'],this['_cookieAss'+'etId']=_0x33daa5['id'],this['onCookieAs'+'setAdd'](_0x33daa5);else{if(typeof _0x33daa5=='number'){this['_cookieAss'+'etId']=_0x33daa5;const _0x160a37=this['system']['app']['assets']['get'](_0x33daa5);_0x160a37?this['onCookieAs'+'setAdd'](_0x160a37):(this['_cookieAss'+'etAdd']=!(-0x1f7*-0xd+-0x1*-0x20f4+0x3a7f*-0x1),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0xc2aaf8){this['_setValue']('cookie',_0xc2aaf8,function(_0xf0b56b,_0x5b4679){this['light']['cookie']=_0xf0b56b;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x5a5bca){this['_setValue']('cookieInte'+'nsity',_0x5a5bca,function(_0x5f1b9b,_0x385a3d){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x5f1b9b,-0x223c+-0x562+-0x13cf*-0x2,0x1ce3+-0x1c2d+0xb5*-0x1);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x425fd4){this['_setValue']('cookieFall'+'off',_0x425fd4,function(_0x4a6f8e,_0x4081f6){this['light']['cookieFall'+'off']=_0x4a6f8e;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x33a1b0){this['_setValue']('cookieChan'+'nel',_0x33a1b0,function(_0x4933a8,_0x304edb){this['light']['cookieChan'+'nel']=_0x4933a8;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x31e173){this['_setValue']('cookieAngl'+'e',_0x31e173,function(_0x40fe85,_0x5bb019){if(_0x40fe85!==-0xeab*-0x2+-0xa6d*0x1+0x12e9*-0x1||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0xc0c5a6=-0x2*0x3ab+-0x942+0x1099,_0x5829cc=-0xc2+0x33*-0x35+0x2*0x5a9;this['cookieScal'+'e']&&(_0xc0c5a6=this['cookieScal'+'e']['x'],_0x5829cc=this['cookieScal'+'e']['y']);const _0x4be52a=Math['cos'](_0x40fe85*Y['DEG_TO_RAD']),_0x3fbe49=Math['sin'](_0x40fe85*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x4be52a/_0xc0c5a6,-_0x3fbe49/_0xc0c5a6,_0x3fbe49/_0x5829cc,_0x4be52a/_0x5829cc),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x176d16){this['_setValue']('cookieScal'+'e',_0x176d16,function(_0x160188,_0x3cc00b){if(_0x160188!==null||this['cookieAngl'+'e']!==0x8e1+0x21dc+0x15*-0x209){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x234130=_0x160188['x'],_0x4cdb9c=_0x160188['y'],_0x107c72=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x3677d8=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x107c72/_0x234130,-_0x3677d8/_0x234130,_0x3677d8/_0x4cdb9c,_0x107c72/_0x4cdb9c),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x255*0xd+-0x22d2*-0x1+-0x91*0x73));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x56aa05){this['_setValue']('cookieOffs'+'et',_0x56aa05,function(_0x33b30b,_0x2dffe5){this['light']['cookieOffs'+'et']=_0x33b30b;},!(0x19*-0x8c+-0x1a99+0x2845*0x1));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x588096){this['_setValue']('shadowUpda'+'teMode',_0x588096,function(_0x3f11b9,_0x3ddc42){this['light']['shadowUpda'+'teMode']=_0x3f11b9;},!(-0x1*0x2399+0x1dd2+0x1ed*0x3));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x158279){this['_setValue']('mask',_0x158279,function(_0x1afdf2,_0x451628){this['light']['mask']=_0x1afdf2;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x77793c){this['_setValue']('affectDyna'+'mic',_0x77793c,function(_0x31f6c2,_0x1a85f8){_0x31f6c2?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x5526f4){this['_setValue']('affectLigh'+'tmapped',_0x5526f4,function(_0x6871b2,_0xe93c15){_0x6871b2?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x5194a8){this['_setValue']('bake',_0x5194a8,function(_0x42eeb0,_0x60120b){_0x42eeb0?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x33cdd3){this['_setValue']('bakeDir',_0x33cdd3,function(_0x139bfe,_0x36900d){this['light']['bakeDir']=_0x139bfe;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x21892a){this['_setValue']('isStatic',_0x21892a,function(_0xaf5e6c,_0x115f34){this['light']['isStatic']=_0xaf5e6c;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0xe529af){this['_setValue']('layers',_0xe529af,function(_0xc8c4e5,_0x1eb73e){for(let _0x107680=-0xd89+0xe*0x147+-0x9f*0x7;_0x107680<_0x1eb73e['length'];_0x107680++){const _0x13533e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1eb73e[_0x107680]);_0x13533e&&(_0x13533e['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x13533e));}for(let _0xfadda9=-0x1*-0x435+-0x68*-0xa+-0x845*0x1;_0xfadda9<_0xc8c4e5['length'];_0xfadda9++){const _0x525e57=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xc8c4e5[_0xfadda9]);_0x525e57&&this['enabled']&&this['entity']['enabled']&&(_0x525e57['addLight'](this),this['light']['addLayer'](_0x525e57));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x5d31da){this['light']['shadowUpda'+'teOverride'+'s']=_0x5d31da;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0xad0349){this['light']['shadowSamp'+'les']=_0xad0349;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x44ab59){this['light']['shadowBloc'+'kerSamples']=_0x44ab59;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4e7a79){this['light']['penumbraSi'+'ze']=_0x4e7a79;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x1c15a8){this['light']['penumbraFa'+'lloff']=_0x1c15a8;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x1ac2e7,_0x46c78c,_0xa70b6d,_0x238a4f){const _0x49d301=this['data'],_0xbf81b7=_0x49d301[_0x1ac2e7];!_0x238a4f&&_0xbf81b7===_0x46c78c||(_0x49d301[_0x1ac2e7]=_0x46c78c,_0xa70b6d&&_0xa70b6d['call'](this,_0x46c78c,_0xbf81b7));}['addLightTo'+'Layers'](){for(let _0x5ea59b=-0x817+0x477+0x3a0;_0x5ea59b<this['layers']['length'];_0x5ea59b++){const _0x4c285a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5ea59b]);_0x4c285a&&(_0x4c285a['addLight'](this),this['light']['addLayer'](_0x4c285a));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x5af94b=-0x1609*-0x1+-0x2*-0xbb7+-0x2d77;_0x5af94b<this['layers']['length'];_0x5af94b++){const _0x544bb4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5af94b]);_0x544bb4&&(_0x544bb4['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x544bb4));}}['onLayersCh'+'anged'](_0x53f36a,_0x1c1075){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x53f36a['off']('add',this['onLayerAdd'+'ed'],this),_0x53f36a['off']('remove',this['onLayerRem'+'oved'],this),_0x1c1075['on']('add',this['onLayerAdd'+'ed'],this),_0x1c1075['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x51158b){this['layers']['indexOf'](_0x51158b['id'])>=-0x1f64+0x16c7+0x3*0x2df&&this['enabled']&&this['entity']['enabled']&&(_0x51158b['addLight'](this),this['light']['addLayer'](_0x51158b));}['onLayerRem'+'oved'](_0xe363b0){this['layers']['indexOf'](_0xe363b0['id'])>=0x3b9+-0x2621*-0x1+-0x29da&&(_0xe363b0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xe363b0));}['refreshPro'+'perties'](){for(let _0x28e5f7=0x3*0x893+0x13d9*-0x1+0xbc*-0x8;_0x28e5f7<Ho['length'];_0x28e5f7++){const _0x2e2a48=Ho[_0x28e5f7];this[_0x2e2a48]=this[_0x2e2a48];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x475203=!(0x9b*0x19+-0x1c2c+0xd0a*0x1);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x173a+-0xe8d+-0x8ad),_0x475203=!(0xc43+-0x1fc5+0x1382)),(!this['_cookieAss'+'et']['resource']||_0x475203)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x33fce3){this['_cookieAss'+'etId']===_0x33fce3['id']&&(this['_cookieAss'+'et']=_0x33fce3,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x1f95*-0x1+-0x2117+0x3*0x158f)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x5f1bce=this['system']['app']['scene'],_0x1ea121=_0x5f1bce['layers'];this['light']['enabled']=!(-0x4d*-0x2b+0x1*-0xe03+0x114),this['_evtLayers'+'Changed']=_0x5f1bce['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1ea121&&(this['_evtLayerA'+'dded']=_0x1ea121['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1ea121['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x5e5279,_0x27cbc1,_0x106bea;const _0x44bd2e=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x66f*0x2+-0x1*-0x18bc+0x2599*-0x1),(_0x5e5279=this['_evtLayers'+'Changed'])==null||_0x5e5279['off'](),this['_evtLayers'+'Changed']=null,_0x44bd2e&&((_0x27cbc1=this['_evtLayerA'+'dded'])==null||_0x27cbc1['off'](),this['_evtLayerA'+'dded']=null,(_0x106bea=this['_evtLayerR'+'emoved'])==null||_0x106bea['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x3b7fae){super(_0x3b7fae),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x5ed2e1,_0x33bbd4){const _0x29e0f9={..._0x33bbd4};_0x29e0f9['type']||(_0x29e0f9['type']=_0x5ed2e1['data']['type']),_0x5ed2e1['data']['type']=_0x29e0f9['type'],_0x29e0f9['layers']&&Array['isArray'](_0x29e0f9['layers'])&&(_0x29e0f9['layers']=_0x29e0f9['layers']['slice'](0x3*-0x1f6+-0x25fa*-0x1+-0x278*0xd)),_0x29e0f9['color']&&Array['isArray'](_0x29e0f9['color'])&&(_0x29e0f9['color']=new ie(_0x29e0f9['color'][-0x176*-0x11+-0x15e0+-0x2*0x17b],_0x29e0f9['color'][0x1a5c*-0x1+0x182a+0x233],_0x29e0f9['color'][-0xca6*-0x1+0x2107+0x2dab*-0x1])),_0x29e0f9['cookieOffs'+'et']&&_0x29e0f9['cookieOffs'+'et']instanceof Array&&(_0x29e0f9['cookieOffs'+'et']=new J(_0x29e0f9['cookieOffs'+'et'][-0x188b*-0x1+0x2574+-0x3dff],_0x29e0f9['cookieOffs'+'et'][0x6*0x3ad+-0x95b+-0xcb2])),_0x29e0f9['cookieScal'+'e']&&_0x29e0f9['cookieScal'+'e']instanceof Array&&(_0x29e0f9['cookieScal'+'e']=new J(_0x29e0f9['cookieScal'+'e'][-0xc*0x12a+-0xc74+0x1a6c],_0x29e0f9['cookieScal'+'e'][0xaf0+-0x144e+0x95f*0x1])),_0x29e0f9['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x29e0f9['enabled']=_0x29e0f9['enable']),_0x29e0f9['shape']||(_0x29e0f9['shape']=Ys);const _0x401c77=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x401c77['type']=fu[_0x29e0f9['type']],_0x401c77['_node']=_0x5ed2e1['entity'],_0x5ed2e1['data']['light']=_0x401c77,super['initialize'+'ComponentD'+'ata'](_0x5ed2e1,_0x29e0f9,Ho);}['_onRemoveC'+'omponent'](_0x5e831b,_0x52261e){_0x52261e['onRemove']();}['cloneCompo'+'nent'](_0x29d84d,_0x21dcc5){const _0x3a136=_0x29d84d['light'],_0x5a9568=[];let _0x524380;for(let _0x374770=0x85*-0x3d+-0x1e5+-0x599*-0x6;_0x374770<Ho['length'];_0x374770++)_0x524380=Ho[_0x374770],_0x524380!=='light'&&(_0x3a136[_0x524380]&&_0x3a136[_0x524380]['clone']?_0x5a9568[_0x524380]=_0x3a136[_0x524380]['clone']():_0x5a9568[_0x524380]=_0x3a136[_0x524380]);return this['addCompone'+'nt'](_0x21dcc5,_0x5a9568);}['changeType'](_0x5b64ff,_0x3a6289,_0x5e8870){_0x3a6289!==_0x5e8870&&(_0x5b64ff['light']['type']=fu[_0x5e8870]);}}const EF=['x','y','z','w'],bF=[void(-0x2577+0x23e8+0x18f),void(-0xa2+0xf*0x277+0x1bb*-0x15),J,D,re];function Yn(_0x2edf18,_0x24e23e,_0x134931,_0x2f7758){switch(_0x24e23e['type']){case'boolean':return!!_0x134931;case'number':if(typeof _0x134931=='number')return _0x134931;if(typeof _0x134931=='string'){const _0x314922=parseInt(_0x134931,0xf60+-0xe93*0x1+0x1*-0xc3);return isNaN(_0x314922)?null:_0x314922;}else{if(typeof _0x134931=='boolean')return 0x3*-0x1f6+-0x1c*0x13a+-0x1*-0x283a+_0x134931;}return null;case'json':{const _0x48626f={};if(Array['isArray'](_0x24e23e['schema'])){(!_0x134931||typeof _0x134931!='object')&&(_0x134931={});for(let _0x347af9=-0xcd*-0x18+0x1733*-0x1+0x3fb;_0x347af9<_0x24e23e['schema']['length'];_0x347af9++){const _0x1e4103=_0x24e23e['schema'][_0x347af9];if(_0x1e4103['name']){if(_0x1e4103['array']){_0x48626f[_0x1e4103['name']]=[];const _0x1afa7e=Array['isArray'](_0x134931[_0x1e4103['name']])?_0x134931[_0x1e4103['name']]:[];for(let _0x1d3064=-0x1df+0xab5+-0x8d6;_0x1d3064<_0x1afa7e['length'];_0x1d3064++)_0x48626f[_0x1e4103['name']]['push'](Yn(_0x2edf18,_0x1e4103,_0x1afa7e[_0x1d3064]));}else{const _0x40668a=_0x134931['hasOwnProp'+'erty'](_0x1e4103['name'])?_0x134931[_0x1e4103['name']]:_0x1e4103['default'];_0x48626f[_0x1e4103['name']]=Yn(_0x2edf18,_0x1e4103,_0x40668a);}}}}return _0x48626f;}case'asset':return _0x134931 instanceof pe?_0x134931:typeof _0x134931=='number'?_0x2edf18['assets']['get'](_0x134931)||null:typeof _0x134931=='string'&&_0x2edf18['assets']['get'](parseInt(_0x134931,0x1694+-0xde4+-0x8a6))||null;case'entity':return _0x134931 instanceof Ie?_0x134931:typeof _0x134931=='string'?_0x2edf18['getEntityF'+'romIndex'](_0x134931):null;case'rgb':case'rgba':if(_0x134931 instanceof ie)return _0x2f7758 instanceof ie?(_0x2f7758['copy'](_0x134931),_0x2f7758):_0x134931['clone']();if(_0x134931 instanceof Array&&_0x134931['length']>=0x1cc4+-0x1*-0x12ea+-0x2fab*0x1&&_0x134931['length']<=0x1*-0x259b+-0x549+0x2ae8){for(let _0x503892=-0x1*0x1f1a+0x1e1*-0x7+0x2c41;_0x503892<_0x134931['length'];_0x503892++)if(typeof _0x134931[_0x503892]!='number')return null;return _0x2f7758||(_0x2f7758=new ie()),_0x2f7758['r']=_0x134931[-0x2d7*0xa+-0x25*0xd+0x1e47],_0x2f7758['g']=_0x134931[-0x7e6*-0x2+0xc4d+-0x1c18],_0x2f7758['b']=_0x134931[-0x1809*-0x1+0xa*0x1db+-0x2a95],_0x2f7758['a']=_0x134931['length']===0x1160+-0x7bf+-0x2*0x4cf?-0x13*0x1e2+-0xac+0x2473:_0x134931[-0x1afc+0x806+-0x653*-0x3],_0x2f7758;}else{if(typeof _0x134931=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x134931))return _0x2f7758||(_0x2f7758=new ie()),_0x2f7758['fromString'](_0x134931),_0x2f7758;}return null;case'vec2':case'vec3':case'vec4':{const _0x3c01f2=parseInt(_0x24e23e['type']['slice'](0x4*0x5cb+-0x13bc+0x1*-0x36d),-0xa22*-0x2+-0x1e6d*-0x1+-0x1*0x32a7),_0x454f9a=bF[_0x3c01f2];if(_0x134931 instanceof _0x454f9a)return _0x2f7758 instanceof _0x454f9a?(_0x2f7758['copy'](_0x134931),_0x2f7758):_0x134931['clone']();if(_0x134931 instanceof Array&&_0x134931['length']===_0x3c01f2){for(let _0x27eb10=-0x2b7*-0x1+0x1a99+-0x1d50;_0x27eb10<_0x134931['length'];_0x27eb10++)if(typeof _0x134931[_0x27eb10]!='number')return null;_0x2f7758||(_0x2f7758=new _0x454f9a());for(let _0x3002c1=-0x1*0x1e7c+-0x8*0x407+0xfad*0x4;_0x3002c1<_0x3c01f2;_0x3002c1++)_0x2f7758[EF[_0x3002c1]]=_0x134931[_0x3002c1];return _0x2f7758;}return null;}case'curve':if(_0x134931){let _0x30bf9e;if(_0x134931 instanceof qs||_0x134931 instanceof na)_0x30bf9e=_0x134931['clone']();else{const _0xb9886c=_0x134931['keys'][0x1671+-0x895+0x2*-0x6ee]instanceof Array?na:qs;_0x30bf9e=new _0xb9886c(_0x134931['keys']),_0x30bf9e['type']=_0x134931['type'];}return _0x30bf9e;}break;}return _0x134931;}function _0(_0x5a8d89,_0x2c2073,_0x3b86c2,_0x5a8aff){return _0x2c2073['array']?_0x3b86c2['map']((_0x25e97f,_0x191a5c)=>Yn(_0x5a8d89,_0x2c2073,_0x25e97f,_0x5a8aff?_0x5a8aff[_0x191a5c]:null)):Yn(_0x5a8d89,_0x2c2073,_0x3b86c2,_0x5a8aff);}function g0(_0x2116f7,_0x550d96,_0x46cd0c,_0x2bc104){if(_0x46cd0c)for(const _0x42e785 in _0x550d96){const _0x42c413=_0x550d96[_0x42e785],_0x3aaf7e=_0x46cd0c[_0x42e785];_0x3aaf7e!==void(0x1fbb+0x2*-0xbd8+-0x80b)&&(_0x2bc104[_0x42e785]=_0(_0x2116f7,_0x42c413,_0x3aaf7e,_0x2bc104[_0x42e785]));}}const yn=class yn{constructor(_0x3d04f6){this['scriptType']=_0x3d04f6,this['index']={};}['add'](_0x53e4de,_0x5bfc45){if(this['index'][_0x53e4de]){w['warn']('attribute\x20'+'\x27'+_0x53e4de+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x53e4de)){w['warn']('attribute\x20'+'\x27'+_0x53e4de+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x53e4de]=_0x5bfc45,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x53e4de,{'get':function(){return this['__attribut'+'es'][_0x53e4de];},'set':function(_0x31b03d){const _0xe21d7f='attr',_0x2c6a6e='attr:'+_0x53e4de,_0x43175a=this['__attribut'+'es'][_0x53e4de];let _0xdc6d2=_0x43175a;if(_0x43175a&&_0x5bfc45['type']!=='json'&&_0x5bfc45['type']!=='entity'&&_0x43175a['clone']&&(this['hasEvent'](_0xe21d7f)||this['hasEvent'](_0x2c6a6e))&&(_0xdc6d2=_0x43175a['clone']()),_0x5bfc45['array']){if(this['__attribut'+'es'][_0x53e4de]=[],_0x31b03d){for(let _0x3f1847=0xad9+0x2053*0x1+-0x2b2c,_0x59618e=_0x31b03d['length'];_0x3f1847<_0x59618e;_0x3f1847++)this['__attribut'+'es'][_0x53e4de]['push'](Yn(this['app'],_0x5bfc45,_0x31b03d[_0x3f1847],_0x43175a?_0x43175a[_0x3f1847]:null));}}else this['__attribut'+'es'][_0x53e4de]=Yn(this['app'],_0x5bfc45,_0x31b03d,_0x43175a);this['fire'](_0xe21d7f,_0x53e4de,this['__attribut'+'es'][_0x53e4de],_0xdc6d2),this['fire'](_0x2c6a6e,this['__attribut'+'es'][_0x53e4de],_0xdc6d2);}});}['remove'](_0x5298a2){return this['index'][_0x5298a2]?(delete this['index'][_0x5298a2],delete this['scriptType']['prototype'][_0x5298a2],!(-0xc60*0x1+0x1c52+-0xff2)):!(0x1c7f+-0x1*0x183a+-0x1*0x444);}['has'](_0x463eb7){return!!this['index'][_0x463eb7];}['get'](_0x4c4a08){return this['index'][_0x4c4a08]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x2a0dfe){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x2a0dfe);}set['enabled'](_0x3d9f90){this['_enabled']=!!_0x3d9f90,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x33*0x7f+-0x48c*-0x5+-0x3009),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x1d7+0x3*0xaf7+-0x22bc),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x1b6b8c){const _0x351f2f=this['constructo'+'r'];w['assert'](_0x1b6b8c&&_0x1b6b8c['app']&&_0x1b6b8c['entity'],'script\x20['+_0x351f2f['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x1b6b8c['app'],this['entity']=_0x1b6b8c['entity'],this['_enabled']=typeof _0x1b6b8c['enabled']=='boolean'?_0x1b6b8c['enabled']:!(-0xccc+0x853+0x479),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0xe*0xf1+-0x14e3+0x15*0x5e),this['__scriptTy'+'pe']=_0x351f2f,this['__executio'+'nOrder']=-(0xa1b+0x15d7*-0x1+0x5*0x259);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x43fbb5){if(typeof _0x43fbb5!='function')return;if(_0x43fbb5['scriptName'])return _0x43fbb5['scriptName'];if('name'in Function['prototype'])return _0x43fbb5['name'];if(_0x43fbb5===Function||_0x43fbb5===Function['prototype']['constructo'+'r'])return'Function';const _0x168e18=(''+_0x43fbb5)['match'](MF);return _0x168e18?_0x168e18[0x1*-0x6ad+0x10f9+-0xa4b]:void(-0x6a1*0x5+-0xcc7*0x3+-0x1*-0x477a);}class Wo extends ts{constructor(_0x1d2c58){super(_0x1d2c58),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x1d2c58);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x1ff449){ts['prototype']['initScript']['call'](this,_0x1ff449),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x1ff449['attributes']||{};}['initScript'+'Type'](_0x167b1){this['initScript'](_0x167b1);}['__initiali'+'zeAttribut'+'es'](_0x11ebc6){if(!(!_0x11ebc6&&!this['__attribut'+'esRaw'])){for(const _0x29fa6 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x29fa6)?this[_0x29fa6]=this['__attribut'+'esRaw'][_0x29fa6]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x29fa6)||(this['__scriptTy'+'pe']['attributes']['index'][_0x29fa6]['hasOwnProp'+'erty']('default')?this[_0x29fa6]=this['__scriptTy'+'pe']['attributes']['index'][_0x29fa6]['default']:this[_0x29fa6]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0xda903d){for(const _0x27cb5a in _0xda903d)_0xda903d['hasOwnProp'+'erty'](_0x27cb5a)&&(this['prototype'][_0x27cb5a]=_0xda903d[_0x27cb5a]);}}const DF=_0x15f3b6=>_0x15f3b6[0x266f*0x1+-0x2*-0x74f+-0x3*0x11af]['toLowerCas'+'e']()+_0x15f3b6['substring'](-0x2709+0x21d3+0x537);class Ii extends we{constructor(_0x199271,_0x19cd45){super(_0x199271,_0x19cd45),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x2b6*-0x5+0x1b85+-0xdf6),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0xef8+0x253b+-0x3433),this['_enabled']=!(-0x2*0xf0d+-0x5*-0xb2+0x3*0x8e0),this['_beingEnab'+'led']=!(-0x1*0x85f+-0x4*-0x1f1+-0x34*-0x3),this['_isLooping'+'ThroughScr'+'ipts']=!(0x12*-0xed+0xccc+0x1*0x3df),this['_execution'+'Order']=-(0x145c+-0x1049*-0x1+0x86*-0x46),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x51af54){this['_scriptsDa'+'ta']=_0x51af54;for(const _0x74c7f in _0x51af54){if(!_0x51af54['hasOwnProp'+'erty'](_0x74c7f))continue;const _0x2c6294=this['_scriptsIn'+'dex'][_0x74c7f];if(_0x2c6294){if(typeof _0x51af54[_0x74c7f]['enabled']=='boolean'&&(_0x2c6294['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x2c6294);}),_0x2c6294['enabled']=!!_0x51af54[_0x74c7f]['enabled']),typeof _0x51af54[_0x74c7f]['attributes']=='object'){for(const _0x175b10 in _0x51af54[_0x74c7f]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x175b10)){if(!_0x2c6294['__attribut'+'es']['hasOwnProp'+'erty'](_0x175b10)){const _0x41c216=this['system']['app']['scripts']['get'](_0x74c7f);_0x41c216&&_0x41c216['attributes']['add'](_0x175b10,{});}_0x2c6294[_0x175b10]=_0x51af54[_0x74c7f]['attributes'][_0x175b10];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x1c0797){const _0x115815=this['_enabled'];this['_enabled']=_0x1c0797,this['fire']('set','enabled',_0x115815,_0x1c0797);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x1f68+-0x1824+-0xf*0x7c),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x143f+-0x1f7+-0x1637*-0x1);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x25cb26=this['_beginLoop'+'ing']();for(let _0x503628=0x1406+0xcdf*-0x1+0x727*-0x1,_0x1217e0=this['scripts']['length'];_0x503628<_0x1217e0;_0x503628++){const _0x42dd2c=this['scripts'][_0x503628];_0x42dd2c['_initializ'+'ed']&&!_0x42dd2c['_postIniti'+'alized']&&_0x42dd2c['enabled']&&(_0x42dd2c['_postIniti'+'alized']=!(0x79*0x5+0x1355+-0x15b2),_0x42dd2c['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x42dd2c,zu));}this['_endLoopin'+'g'](_0x25cb26);}['_beginLoop'+'ing'](){const _0x32cbcd=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0xba*0x26+-0x2fa*-0x6+-0x1a0*-0x6),_0x32cbcd;}['_endLoopin'+'g'](_0x45b70d){this['_isLooping'+'ThroughScr'+'ipts']=_0x45b70d,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x348be1,_0x1a8ac3,_0x20998d){this['_beingEnab'+'led']=!(-0xa*0x2bd+0xf69+0x1*0xbf9),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x147*-0x13+-0xb*0x2f2+0x38ac);}['_checkStat'+'e'](){const _0x556ab7=this['enabled']&&this['entity']['enabled'];if(_0x556ab7===this['_oldState'])return;this['_oldState']=_0x556ab7,this['fire'](_0x556ab7?'enable':'disable'),this['fire']('state',_0x556ab7),_0x556ab7?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x5830db=this['_beginLoop'+'ing']();for(let _0x325c7b=-0x1*-0x313+0xdfa*-0x1+0xae7,_0x293462=this['scripts']['length'];_0x325c7b<_0x293462;_0x325c7b++){const _0x41811a=this['scripts'][_0x325c7b];_0x41811a['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x41811a);}),_0x41811a['enabled']=_0x41811a['_enabled'];}this['_endLoopin'+'g'](_0x5830db);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x23a1e2=this['_beginLoop'+'ing']();for(let _0x37eb7f=0x2*-0xa49+-0x14eb+0x297d;_0x37eb7f<this['scripts']['length'];_0x37eb7f++){const _0x16afee=this['scripts'][_0x37eb7f];_0x16afee&&this['destroy'](_0x16afee['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x23a1e2);}['_removeDes'+'troyedScri'+'pts'](){const _0x2afd1e=this['_destroyed'+'Scripts']['length'];if(_0x2afd1e){for(let _0x4e9271=-0x2306+-0x673+0x3*0xdd3;_0x4e9271<_0x2afd1e;_0x4e9271++){const _0x252faa=this['_destroyed'+'Scripts'][_0x4e9271];this['_removeScr'+'iptInstanc'+'e'](_0x252faa);}this['_destroyed'+'Scripts']['length']=0x512+0x55*-0x11+-0x1*-0x93,this['_resetExec'+'utionOrder'](-0x12b2+-0x1*0x2c8+0x157a,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2acdd7=0x1f8c+-0xb5+-0x1ed7*0x1,_0x592a44=this['scripts']['length'];_0x2acdd7<_0x592a44;_0x2acdd7++){const _0x33e9a8=this['scripts'][_0x2acdd7];this['initialize'+'Attributes'](_0x33e9a8);}}['initialize'+'Attributes'](_0x1455b1){var _0x31bd68;if(_0x1455b1 instanceof Wo)_0x1455b1['__initiali'+'zeAttribut'+'es']();else{const _0x2da749=_0x1455b1['__scriptTy'+'pe']['__name'],_0xa172ab=this['_attribute'+'DataMap']['get'](_0x2da749);if(!_0xa172ab)return;const _0xbffc8a=(_0x31bd68=this['system']['app']['scripts'])==null?void(0x2*0x1011+-0x5f3+-0x1a2f):_0x31bd68['getSchema'](_0x2da749);_0xbffc8a||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x2da749+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0xbffc8a['attributes'],_0xa172ab,_0x1455b1);}}['_scriptMet'+'hod'](_0x38328b,_0x5843c0,_0x24b44e){try{_0x38328b[_0x5843c0](_0x24b44e);}catch(_0x1c2853){_0x38328b['enabled']=!(-0x10*0x52+-0x59c+0xabd*0x1),_0x38328b['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x5843c0+'\x22\x20for\x20\x22'+_0x38328b['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x1c2853),console['error'](_0x1c2853)),_0x38328b['fire']('error',_0x1c2853,_0x5843c0),this['fire']('error',_0x38328b,_0x1c2853,_0x5843c0);}}['_onInitial'+'ize'](){const _0x363e1b=this['_scripts'],_0x457ccf=this['_beginLoop'+'ing']();for(let _0x28e2d2=0xb08*0x3+0x1f67+-0x407f,_0x1a2377=_0x363e1b['length'];_0x28e2d2<_0x1a2377;_0x28e2d2++){const _0xfc3229=_0x363e1b[_0x28e2d2];!_0xfc3229['_initializ'+'ed']&&_0xfc3229['enabled']&&(_0xfc3229['_initializ'+'ed']=!(0x151e+0x133*0xd+-0x1*0x24b5),_0xfc3229['initialize']&&this['_scriptMet'+'hod'](_0xfc3229,Bu));}this['_endLoopin'+'g'](_0x457ccf);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3d552d){const _0xb15467=this['_updateLis'+'t'];if(!_0xb15467['length'])return;const _0x223609=this['_beginLoop'+'ing']();for(_0xb15467['loopIndex']=-0x1*0x110b+0x1c3a+0x199*-0x7;_0xb15467['loopIndex']<_0xb15467['length'];_0xb15467['loopIndex']++){const _0x330394=_0xb15467['items'][_0xb15467['loopIndex']];_0x330394['enabled']&&this['_scriptMet'+'hod'](_0x330394,AF,_0x3d552d);}this['_endLoopin'+'g'](_0x223609);}['_onPostUpd'+'ate'](_0x53e219){const _0x105e6e=this['_postUpdat'+'eList'];if(!_0x105e6e['length'])return;const _0x1e4dac=this['_beginLoop'+'ing']();for(_0x105e6e['loopIndex']=-0x1e17+-0x5bd+0x11ea*0x2;_0x105e6e['loopIndex']<_0x105e6e['length'];_0x105e6e['loopIndex']++){const _0xfe1e5f=_0x105e6e['items'][_0x105e6e['loopIndex']];_0xfe1e5f['enabled']&&this['_scriptMet'+'hod'](_0xfe1e5f,CF,_0x53e219);}this['_endLoopin'+'g'](_0x1e4dac);}['_insertScr'+'iptInstanc'+'e'](_0x387597,_0x387ecc,_0xbcc6a7){_0x387ecc===-(0x53b+-0xfd6+0x54e*0x2)?(this['_scripts']['push'](_0x387597),_0x387597['__executio'+'nOrder']=_0xbcc6a7,_0x387597['update']&&this['_updateLis'+'t']['append'](_0x387597),_0x387597['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x387597)):(this['_scripts']['splice'](_0x387ecc,-0x299+0x1*-0xe13+0x10ac,_0x387597),_0x387597['__executio'+'nOrder']=_0x387ecc,this['_resetExec'+'utionOrder'](_0x387ecc+(0x3a*-0x48+-0x3*-0x453+-0x8*-0x6b),_0xbcc6a7+(0x1*0x2621+-0xa5f+-0x1bc1)),_0x387597['update']&&this['_updateLis'+'t']['insert'](_0x387597),_0x387597['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x387597));}['_removeScr'+'iptInstanc'+'e'](_0x1dd335){const _0x3c0d9a=this['_scripts']['indexOf'](_0x1dd335);return _0x3c0d9a===-(0x2*-0x98f+0x1b1*-0x2+-0x7*-0x337)||(this['_scripts']['splice'](_0x3c0d9a,0x8a3+-0x2086+0x5f9*0x4),_0x1dd335['update']&&this['_updateLis'+'t']['remove'](_0x1dd335),_0x1dd335['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1dd335)),_0x3c0d9a;}['_resetExec'+'utionOrder'](_0x2f7fa0,_0x5212b4){for(let _0x2155dc=_0x2f7fa0;_0x2155dc<_0x5212b4;_0x2155dc++)this['_scripts'][_0x2155dc]['__executio'+'nOrder']=_0x2155dc;}['_resolveEn'+'tityScript'+'Attribute'](_0x3fe417,_0xe8ee77,_0x2479b7,_0x579dde,_0x4a4303,_0x390f55){if(_0x3fe417['array']){const _0x2796d5=_0x2479b7['length'];if(!_0x2796d5)return;const _0x37c8bf=_0x2479b7['slice']();for(let _0x1e46c2=-0xf02+-0x1*-0x2051+-0x114f;_0x1e46c2<_0x2796d5;_0x1e46c2++){const _0x28539e=_0x37c8bf[_0x1e46c2]instanceof lt?_0x37c8bf[_0x1e46c2]['getGuid']():_0x37c8bf[_0x1e46c2];_0x390f55[_0x28539e]&&(_0x37c8bf[_0x1e46c2]=_0x579dde?_0x390f55[_0x28539e]['getGuid']():_0x390f55[_0x28539e]);}_0x4a4303[_0xe8ee77]=_0x37c8bf;}else{if(_0x2479b7 instanceof lt)_0x2479b7=_0x2479b7['getGuid']();else{if(typeof _0x2479b7!='string')return;}_0x390f55[_0x2479b7]&&(_0x4a4303[_0xe8ee77]=_0x390f55[_0x2479b7]);}}['has'](_0x344ea1){if(typeof _0x344ea1=='string')return!!this['_scriptsIn'+'dex'][_0x344ea1];if(!_0x344ea1)return!(0x16f*-0xa+-0x1019*-0x1+-0x3*0x96);const _0x5eeda4=_0x344ea1,_0x1757cf=_0x5eeda4['__name'],_0x5d2c30=this['_scriptsIn'+'dex'][_0x1757cf];return(_0x5d2c30&&_0x5d2c30['instance'])instanceof _0x5eeda4;}['get'](_0x6fb1b1){if(typeof _0x6fb1b1=='string'){const _0x43af27=this['_scriptsIn'+'dex'][_0x6fb1b1];return _0x43af27?_0x43af27['instance']:null;}if(!_0x6fb1b1)return null;const _0x5d7323=_0x6fb1b1,_0x2550c5=_0x5d7323['__name'],_0x21b6ec=this['_scriptsIn'+'dex'][_0x2550c5],_0x49b630=_0x21b6ec&&_0x21b6ec['instance'];return _0x49b630 instanceof _0x5d7323?_0x49b630:null;}['create'](_0x4cdf90,_0x39511f={}){const _0x17f7c1=this;let _0x4f6ca2=_0x4cdf90,_0x1ff1af=_0x4cdf90;if(typeof _0x4f6ca2=='string')_0x4f6ca2=this['system']['app']['scripts']['get'](_0x4f6ca2);else{if(_0x4f6ca2){const _0x4ee22e=S0(_0x4f6ca2),_0x5b9ad8=DF(_0x4ee22e);!(_0x4f6ca2['prototype']instanceof Wo)&&!_0x4f6ca2['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x4ee22e+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x4ee22e+('.scriptNam'+'e\x20=\x20\x22')+_0x5b9ad8+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x4f6ca2['__name']??(_0x4f6ca2['__name']=_0x4f6ca2['scriptName']??_0x5b9ad8),_0x1ff1af=_0x4f6ca2['__name'];}}if(_0x4f6ca2){if(!this['_scriptsIn'+'dex'][_0x1ff1af]||!this['_scriptsIn'+'dex'][_0x1ff1af]['instance']){const _0x317364=new _0x4f6ca2({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x39511f['hasOwnProp'+'erty']('enabled')?_0x39511f['enabled']:!(-0x63*-0x35+-0xe6c+0x137*-0x5),'attributes':_0x39511f['attributes']||{}});_0x39511f['properties']&&typeof _0x39511f['properties']=='object'&&Object['assign'](_0x317364,_0x39511f['properties']),_0x317364 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x1ff1af,_0x39511f['attributes']);const _0x526145=this['_scripts']['length'];let _0x35bee0=-(0x2fe*-0x7+-0x1db9+0x2*0x1956);return typeof _0x39511f['ind']=='number'&&_0x39511f['ind']!==-(0x143a+0x14b2+-0x82f*0x5)&&_0x526145>_0x39511f['ind']&&(_0x35bee0=_0x39511f['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x317364,_0x35bee0,_0x526145),this['_scriptsIn'+'dex'][_0x1ff1af]={'instance':_0x317364,'onSwap':function(){_0x17f7c1['swap'](_0x1ff1af);}},this[_0x1ff1af]=_0x317364,_0x39511f['preloading']||this['initialize'+'Attributes'](_0x317364),this['fire']('create',_0x1ff1af,_0x317364),this['fire']('create:'+_0x1ff1af,_0x317364),this['system']['app']['scripts']['on']('swap:'+_0x1ff1af,this['_scriptsIn'+'dex'][_0x1ff1af]['onSwap']),_0x39511f['preloading']||(_0x317364['enabled']&&!_0x317364['_initializ'+'ed']&&(_0x317364['_initializ'+'ed']=!(-0x55d*0x1+-0x130b+0x1868),_0x317364['initialize']&&this['_scriptMet'+'hod'](_0x317364,Bu)),_0x317364['enabled']&&!_0x317364['_postIniti'+'alized']&&(_0x317364['_postIniti'+'alized']=!(0x1a6b*-0x1+-0x5a*-0x36+-0x1*-0x76f),_0x317364['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x317364,zu))),_0x317364;}w['warn']('script\x20\x27'+_0x1ff1af+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x1ff1af]={'awaiting':!(0x193*0xf+0xe1*0x5+0x6*-0x4ab),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x1ff1af+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x35db29){let _0x38b328=_0x35db29,_0x63ca0e=_0x35db29;typeof _0x63ca0e=='string'?_0x63ca0e=this['system']['app']['scripts']['get'](_0x63ca0e):_0x63ca0e&&(_0x38b328=_0x63ca0e['__name']);const _0x36edac=this['_scriptsIn'+'dex'][_0x38b328];if(delete this['_scriptsIn'+'dex'][_0x38b328],!_0x36edac)return!(0x1*-0x157f+0x2a8+0x4b6*0x4);this['_attribute'+'DataMap']['delete'](_0x38b328);const _0x2f5f30=_0x36edac['instance'];if(_0x2f5f30&&!_0x2f5f30['_destroyed']){if(_0x2f5f30['enabled']=!(0x2556+0x4c5+-0x27a*0x11),_0x2f5f30['_destroyed']=!(-0x1*0x1f2b+-0x1849+0x3774*0x1),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2f5f30);else{const _0x5c0d4e=this['_removeScr'+'iptInstanc'+'e'](_0x2f5f30);_0x5c0d4e>=-0x4c7+0x71f+-0x258&&this['_resetExec'+'utionOrder'](_0x5c0d4e,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x38b328,_0x36edac['onSwap']),delete this[_0x38b328],this['fire']('destroy',_0x38b328,_0x2f5f30||null),this['fire']('destroy:'+_0x38b328,_0x2f5f30||null),_0x2f5f30&&_0x2f5f30['fire']('destroy'),!(0x170f+-0x9f*0x1f+-0x1e7*0x2);}['swap'](_0x59f9d0){let _0x8eea39=_0x59f9d0,_0xc1b1bf=_0x59f9d0;typeof _0xc1b1bf=='string'?_0xc1b1bf=this['system']['app']['scripts']['get'](_0xc1b1bf):_0xc1b1bf&&(_0x8eea39=_0xc1b1bf['__name']);const _0x32a0ab=this['_scriptsIn'+'dex'][_0x8eea39];if(!_0x32a0ab||!_0x32a0ab['instance'])return!(0x17b1+0x2e+0x41*-0x5e);const _0x2eccb4=_0x32a0ab['instance'],_0x38c8ce=this['_scripts']['indexOf'](_0x2eccb4),_0x242422=new _0xc1b1bf({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x2eccb4['enabled'],'attributes':_0x2eccb4['__attribut'+'es']});return _0x242422['swap']?(this['initialize'+'Attributes'](_0x242422),this['_scripts'][_0x38c8ce]=_0x242422,this['_scriptsIn'+'dex'][_0x8eea39]['instance']=_0x242422,this[_0x8eea39]=_0x242422,_0x242422['__executio'+'nOrder']=_0x38c8ce,_0x2eccb4['update']&&this['_updateLis'+'t']['remove'](_0x2eccb4),_0x2eccb4['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x2eccb4),_0x242422['update']&&this['_updateLis'+'t']['insert'](_0x242422),_0x242422['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x242422),this['_scriptMet'+'hod'](_0x242422,PF,_0x2eccb4),this['fire']('swap',_0x8eea39,_0x242422),this['fire']('swap:'+_0x8eea39,_0x242422),!(-0xf*-0xcf+0x2*-0x836+0x44b)):!(0x9*0x371+-0x1*-0x5f2+-0x24ea);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x41dada,_0x5e5b4f){var _0xf33899,_0x420c2d,_0xa5ade5;const _0x30335a=this['entity']['script'];for(const _0x2bf761 in _0x41dada['_scriptsIn'+'dex']){const _0x1cd90d=this['system']['app']['scripts']['get'](_0x2bf761);if(!_0x1cd90d)continue;const _0x5a32a3=_0x41dada['_scriptsIn'+'dex'][_0x2bf761];if(!_0x5a32a3||!_0x5a32a3['instance'])continue;const _0x590589=_0x30335a[_0x2bf761]['__attribut'+'esRaw']??_0x30335a['_attribute'+'DataMap']['get'](_0x2bf761),_0x10d0b0=_0x30335a[_0x2bf761]['__attribut'+'es'];if(!_0x590589&&!_0x10d0b0)continue;const _0x48ca69=!!_0x590589,_0x234a0f=_0x5a32a3['instance']['__attribut'+'es']??_0x30335a['_attribute'+'DataMap']['get'](_0x2bf761);for(const _0x1755c6 in _0x234a0f){if(!_0x234a0f[_0x1755c6])continue;const _0x339b1e=((_0xf33899=_0x1cd90d['attributes'])==null?void(-0x9+0x21aa+0x21a1*-0x1):_0xf33899['get'](_0x1755c6))??((_0xa5ade5=(_0x420c2d=this['system']['app']['scripts']['getSchema'](_0x2bf761))==null?void(0x3d*0x72+-0x41b*-0x5+-0x2fb1*0x1):_0x420c2d['attributes'])==null?void(-0xa2b+-0x1937*0x1+0x2362):_0xa5ade5[_0x1755c6]);if(_0x339b1e){if(_0x339b1e['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x339b1e,_0x1755c6,_0x234a0f[_0x1755c6],_0x48ca69,_0x590589||_0x10d0b0,_0x5e5b4f);else{if(_0x339b1e['type']==='json'&&Array['isArray'](_0x339b1e['schema'])){const _0xd15c03=_0x234a0f[_0x1755c6],_0x108dfb=_0x590589?_0x590589[_0x1755c6]:_0x10d0b0[_0x1755c6];for(let _0x2044c0=-0x517+-0x9da+-0xe1*-0x11;_0x2044c0<_0x339b1e['schema']['length'];_0x2044c0++){const _0x25c781=_0x339b1e['schema'][_0x2044c0];if(_0x25c781['type']==='entity'){if(_0x339b1e['array']){for(let _0x28ec2=-0x404*-0x4+0xa45+0x3f*-0x6b;_0x28ec2<_0xd15c03['length'];_0x28ec2++)this['_resolveEn'+'tityScript'+'Attribute'](_0x25c781,_0x25c781['name'],_0xd15c03[_0x28ec2][_0x25c781['name']],_0x48ca69,_0x108dfb[_0x28ec2],_0x5e5b4f);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x25c781,_0x25c781['name'],_0xd15c03[_0x25c781['name']],_0x48ca69,_0x108dfb,_0x5e5b4f);}}}}}}}}['move'](_0x1ca969,_0x2f83c7){const _0x3c21d2=this['_scripts']['length'];if(_0x2f83c7>=_0x3c21d2||_0x2f83c7<0xe71+-0xca3*0x1+-0xe*0x21)return!(0x5cb*0x1+0x3*0x922+0x9*-0x3b0);let _0x123cd5=_0x1ca969,_0x4e0358=_0x1ca969;typeof _0x4e0358!='string'?_0x4e0358=_0x1ca969['__name']:_0x123cd5=null;const _0xb02cfb=this['_scriptsIn'+'dex'][_0x4e0358];if(!_0xb02cfb||!_0xb02cfb['instance'])return!(0x1976+-0x1*0x21e9+0x874);const _0xe44aa0=_0xb02cfb['instance'];if(_0x123cd5&&!(_0xe44aa0 instanceof _0x123cd5))return!(0x139+-0xa6a+0x932);const _0xbaecca=this['_scripts']['indexOf'](_0xe44aa0);return _0xbaecca===-(0x15*-0xb7+0x73f*0x4+-0xdf8)||_0xbaecca===_0x2f83c7?!(-0x101*-0x2+0x1f*0xbd+-0x18e4):(this['_scripts']['splice'](_0x2f83c7,-0x1*-0x2693+0x1*-0x595+-0x107f*0x2,this['_scripts']['splice'](_0xbaecca,-0x3d*0x85+0x21aa+-0x18*0x15)[-0xd1*0x29+0x66f+0x1b0a*0x1]),this['_resetExec'+'utionOrder'](0x3*-0xa3d+-0x87f*0x2+0x2fb5,_0x3c21d2),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x4e0358,_0xe44aa0,_0x2f83c7,_0xbaecca),this['fire']('move:'+_0x4e0358,_0xe44aa0,_0x2f83c7,_0xbaecca),!(-0x1a3f+-0x1e71+0x38b0));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x234e+-0xd51+0x15fd*-0x1);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x231*-0x8+-0xb5*0x3+0x22f*0x9;class kF extends ct{constructor(_0x319cab){super(_0x319cab),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1085*0x2+0x3bc*-0x6+-0xaa2),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x144f8c,_0x3f92ca){if(_0x144f8c['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x144f8c),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x144f8c['enabled']=_0x3f92ca['hasOwnProp'+'erty']('enabled')?!!_0x3f92ca['enabled']:!(-0x428+0xfea+-0xbc2),_0x144f8c['enabled']&&_0x144f8c['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x144f8c),_0x3f92ca['hasOwnProp'+'erty']('order')&&_0x3f92ca['hasOwnProp'+'erty']('scripts')){_0x144f8c['_scriptsDa'+'ta']=_0x3f92ca['scripts'];for(let _0x4dd82f=-0x19c9+-0x39a*-0x5+0x7c7;_0x4dd82f<_0x3f92ca['order']['length'];_0x4dd82f++)_0x144f8c['create'](_0x3f92ca['order'][_0x4dd82f],{'enabled':_0x3f92ca['scripts'][_0x3f92ca['order'][_0x4dd82f]]['enabled'],'attributes':_0x3f92ca['scripts'][_0x3f92ca['order'][_0x4dd82f]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x1b48f3,_0x5936e9){var _0x5477e5;const _0x37f946=[],_0x5599ea={};for(let _0x1e9d16=0x3e1*-0x2+0x18*-0x84+0x1422;_0x1e9d16<_0x1b48f3['script']['_scripts']['length'];_0x1e9d16++){const _0x25e7d7=_0x1b48f3['script']['_scripts'][_0x1e9d16],_0x31d2e8=_0x25e7d7['__scriptTy'+'pe']['__name'];_0x37f946['push'](_0x31d2e8);const _0x3ed4d1=((_0x5477e5=_0x1b48f3['script']['_attribute'+'DataMap'])==null?void(-0xd*-0x2cc+-0x383+0x1*-0x20d9):_0x5477e5['get'](_0x31d2e8))||{};for(const _0x443607 in _0x25e7d7['__attribut'+'es'])_0x3ed4d1[_0x443607]=_0x25e7d7['__attribut'+'es'][_0x443607];_0x5599ea[_0x31d2e8]={'enabled':_0x25e7d7['_enabled'],'attributes':_0x3ed4d1};}for(const _0x53b8b0 in _0x1b48f3['script']['_scriptsIn'+'dex'])_0x53b8b0['awaiting']&&_0x37f946['splice'](_0x53b8b0['ind'],0x271*0x3+0x1dca+-0x251d*0x1,_0x53b8b0);const _0x1f38fc={'enabled':_0x1b48f3['script']['enabled'],'order':_0x37f946,'scripts':_0x5599ea};return this['addCompone'+'nt'](_0x5936e9,_0x1f38fc);}['_resetExec'+'utionOrder'](){Mc=-0x1*0x1ee4+-0x119c+0x3080;for(let _0x51bb27=0x1781+-0x15a6+-0x1db,_0xd377cd=this['_component'+'s']['length'];_0x51bb27<_0xd377cd;_0x51bb27++)this['_component'+'s']['items'][_0x51bb27]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x3d470e,_0x5af368,_0x180f2d){for(_0x3d470e['loopIndex']=0xe*-0x4f+-0x2*-0x2fb+-0x1a4;_0x3d470e['loopIndex']<_0x3d470e['length'];_0x3d470e['loopIndex']++)_0x3d470e['items'][_0x3d470e['loopIndex']][_0x5af368](_0x180f2d);}['_onInitial'+'ize'](){this['preloading']=!(-0x2389+-0x73*0x7+0x26af),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x44e65a){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x44e65a);}['_onPostUpd'+'ate'](_0x3625cd){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x3625cd);}['_addCompon'+'entToEnabl'+'ed'](_0x376738){this['_enabledCo'+'mponents']['insert'](_0x376738);}['_removeCom'+'ponentFrom'+'Enabled'](_0x57c44c){this['_enabledCo'+'mponents']['remove'](_0x57c44c);}['_onBeforeR'+'emove'](_0x5d7660,_0x257fe5){this['_component'+'s']['items']['indexOf'](_0x257fe5)>=0x1*0x9c3+0x156d+-0x1f30&&_0x257fe5['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x257fe5),this['_component'+'s']['remove'](_0x257fe5);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x2bba23,_0x35dd51){super(_0x2bba23,_0x35dd51),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x257d+-0x1*0x1f7d+-0x80*0xc)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(0x8*0x6a+-0x1031+-0x1*-0xce2)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x2bba23['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x35dd51['on']('remove',this['onRemoveCh'+'ild'],this),_0x35dd51['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x35dd51['on']('insert',this['onInsertCh'+'ild'],this),_0x35dd51['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x1f0a66){var _0x2233df,_0x5a2c42;this['_customAab'+'b']=_0x1f0a66,(_0x5a2c42=(_0x2233df=this['_instance'])==null?void(-0x1aa9+-0x2cd*0xb+0x3978*0x1):_0x2233df['meshInstan'+'ce'])==null||_0x5a2c42['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x247d42){if(this['destroyIns'+'tance'](),this['_instance']=_0x247d42,this['_instance']){const _0x13858e=this['_instance']['meshInstan'+'ce'];_0x13858e['node']||(_0x13858e['node']=this['entity']),_0x13858e['castShadow']=this['_castShado'+'ws'],_0x13858e['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x5c7098){this['_instance']?this['_instance']['material']=_0x5c7098:this['_materialT'+'mp']=_0x5c7098;}get['material'](){var _0xcfa2bb;return((_0xcfa2bb=this['_instance'])==null?void(0x9*-0x16d+-0x2*-0xb79+-0xa1d):_0xcfa2bb['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x4a9d5f){_0x4a9d5f!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x4a9d5f,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x4a9d5f));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x36bfe4){var _0x7a2f02;if(this['_castShado'+'ws']!==_0x36bfe4){const _0x3ed35e=(_0x7a2f02=this['instance'])==null?void(-0x137*-0x1f+0x27*-0x6e+0x1*-0x14e7):_0x7a2f02['meshInstan'+'ce'];if(_0x3ed35e){const _0x4eb9f3=this['layers'],_0x3ecf69=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x36bfe4)for(let _0x230071=0x8*0x371+-0x3ee+-0x179a;_0x230071<_0x4eb9f3['length'];_0x230071++){const _0x15910d=_0x3ecf69['layers']['getLayerBy'+'Id'](this['layers'][_0x230071]);_0x15910d&&_0x15910d['removeShad'+'owCasters']([_0x3ed35e]);}if(_0x3ed35e['castShadow']=_0x36bfe4,!this['_castShado'+'ws']&&_0x36bfe4)for(let _0x505233=0x7*0x3b9+0x4*-0x152+-0x14c7;_0x505233<_0x4eb9f3['length'];_0x505233++){const _0x18c658=_0x3ecf69['layers']['getLayerBy'+'Id'](_0x4eb9f3[_0x505233]);_0x18c658&&_0x18c658['addShadowC'+'asters']([_0x3ed35e]);}}this['_castShado'+'ws']=_0x36bfe4;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x20a48e){this['removeFrom'+'Layers'](),this['_layers']['length']=0x887+-0x1*-0x1b91+-0x2418;for(let _0x371960=0x56f*-0x6+-0x1af7+-0x3*-0x13db;_0x371960<_0x20a48e['length'];_0x371960++)this['_layers'][_0x371960]=_0x20a48e[_0x371960];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x316a33){const _0x301caf=_0x316a33 instanceof pe?_0x316a33['id']:_0x316a33;this['_assetRefe'+'rence']['id']!==_0x301caf&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x301caf,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x59b291;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x59b291=this['_instance'])==null||_0x59b291['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x59d540,_0x46c4f7;const _0x3f2169=(_0x59d540=this['instance'])==null?void(-0x662+0x1708+-0x10a6):_0x59d540['meshInstan'+'ce'];if(_0x3f2169){const _0xc49be3=this['system']['app']['scene']['layers'];for(let _0x32a92b=-0x13e7+0x444+0x1*0xfa3;_0x32a92b<this['_layers']['length'];_0x32a92b++)(_0x46c4f7=_0xc49be3['getLayerBy'+'Id'](this['_layers'][_0x32a92b]))==null||_0x46c4f7['addMeshIns'+'tances']([_0x3f2169]);}}['removeFrom'+'Layers'](){var _0x36e790,_0x17537f;const _0x645914=(_0x36e790=this['instance'])==null?void(0x1*0x229d+0x94*-0x2b+-0x9c1):_0x36e790['meshInstan'+'ce'];if(_0x645914){const _0x182c85=this['system']['app']['scene']['layers'];for(let _0x4f9356=-0x1b4f+-0x4aa*-0x1+0x16a5;_0x4f9356<this['_layers']['length'];_0x4f9356++)(_0x17537f=_0x182c85['getLayerBy'+'Id'](this['_layers'][_0x4f9356]))==null||_0x17537f['removeMesh'+'Instances']([_0x645914]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x538d79,_0x5251f0){this['addToLayer'+'s'](),_0x538d79['off']('add',this['onLayerAdd'+'ed'],this),_0x538d79['off']('remove',this['onLayerRem'+'oved'],this),_0x5251f0['on']('add',this['onLayerAdd'+'ed'],this),_0x5251f0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x182cf1){this['layers']['indexOf'](_0x182cf1['id'])<0x1789*0x1+-0x6a1*0x5+0x99c||this['_instance']&&_0x182cf1['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x1e9126){this['layers']['indexOf'](_0x1e9126['id'])<-0x12a9+-0x1*-0x1223+0x86||this['_instance']&&_0x1e9126['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x11cab8=this['system']['app']['scene'],_0xfe6b42=_0x11cab8['layers'];this['_evtLayers'+'Changed']=_0x11cab8['on']('set:layers',this['onLayersCh'+'anged'],this),_0xfe6b42&&(this['_evtLayerA'+'dded']=_0xfe6b42['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xfe6b42['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2ae1e4,_0x43d85e,_0x35f69b;const _0x21a4b2=this['system']['app']['scene']['layers'];(_0x2ae1e4=this['_evtLayers'+'Changed'])==null||_0x2ae1e4['off'](),this['_evtLayers'+'Changed']=null,_0x21a4b2&&((_0x43d85e=this['_evtLayerA'+'dded'])==null||_0x43d85e['off'](),this['_evtLayerA'+'dded']=null,(_0x35f69b=this['_evtLayerR'+'emoved'])==null||_0x35f69b['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x13be+-0x1c30*0x1+0x873));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xef4+0x1e80+0xf8c*-0x1));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x442cc9=this['_assetRefe'+'rence']['asset'];_0x442cc9&&(this['instance']=_0x442cc9['resource']['createInst'+'ance'](_0x442cc9['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(0xe25+0x740+0x1565*-0x1);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x25307d){super(_0x25307d),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x105698,_0x200e8b,_0x4d8dae){_0x200e8b['layers']&&_0x200e8b['layers']['length']&&(_0x200e8b['layers']=_0x200e8b['layers']['slice'](0x62*0x35+-0x6*0x64+-0x11f2));for(let _0x24e4de=-0x4df+-0x70*0x26+0x157f*0x1;_0x24e4de<To['length'];_0x24e4de++)_0x200e8b['hasOwnProp'+'erty'](To[_0x24e4de])&&(_0x105698[To[_0x24e4de]]=_0x200e8b[To[_0x24e4de]]);_0x200e8b['aabbCenter']&&_0x200e8b['aabbHalfEx'+'tents']&&(_0x105698['customAabb']=new De(new D(_0x200e8b['aabbCenter']),new D(_0x200e8b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x105698,_0x200e8b,Vu);}['cloneCompo'+'nent'](_0x5eacc5,_0x70a8b0){const _0xf4a637=_0x5eacc5['gsplat'],_0x4fffe2={};To['forEach'](_0x153dd7=>{_0x153dd7==='material'?_0x4fffe2[_0x153dd7]=_0xf4a637[_0x153dd7]['clone']():_0x4fffe2[_0x153dd7]=_0xf4a637[_0x153dd7];}),_0x4fffe2['enabled']=_0xf4a637['enabled'];const _0x2144cd=this['addCompone'+'nt'](_0x70a8b0,_0x4fffe2);return _0xf4a637['customAabb']&&(_0x2144cd['customAabb']=_0xf4a637['customAabb']['clone']()),_0x2144cd;}['onRemove'](_0x326f24,_0x3b31dc){_0x3b31dc['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x2c3ddf){this['decRefMesh'+'es'](),this['_meshes']=_0x2c3ddf,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x2c3ddf);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x23f90c;(_0x23f90c=this['_meshes'])==null||_0x23f90c['forEach']((_0x3835d3,_0x5865ba)=>{_0x3835d3&&(_0x3835d3['decRefCoun'+'t'](),_0x3835d3['refCount']<0xaa1+-0x2094+0x15f4&&(_0x3835d3['destroy'](),this['_meshes'][_0x5865ba]=null));});}['incRefMesh'+'es'](){var _0x3c2041;(_0x3c2041=this['_meshes'])==null||_0x3c2041['forEach'](_0x265f09=>{_0x265f09==null||_0x265f09['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x19cb29){const _0x4c834b=this;if(!_0x4c834b['resource'])return;const _0x4e46ff=_0x19cb29['resource'],_0x11217f=_0x4e46ff['renders']&&_0x4e46ff['renders'][_0x4c834b['data']['renderInde'+'x']];_0x11217f&&(_0x4c834b['resource']['meshes']=_0x11217f['resource']['meshes']);}function pS(_0x45a828){const _0x24edf4=this;_0x24edf4['registry']['off']('load:'+_0x45a828['id'],sh,_0x24edf4),_0x24edf4['registry']['on']('load:'+_0x45a828['id'],sh,_0x24edf4),_0x24edf4['registry']['off']('remove:'+_0x45a828['id'],mS,_0x24edf4),_0x24edf4['registry']['once']('remove:'+_0x45a828['id'],mS,_0x24edf4),_0x45a828['resource']?sh['call'](_0x24edf4,_0x45a828):_0x24edf4['registry']['load'](_0x45a828);}function mS(_0x1671b2){const _0x434c8c=this;_0x434c8c['registry']['off']('load:'+_0x1671b2['id'],sh,_0x434c8c),_0x434c8c['resource']&&_0x434c8c['resource']['destroy']();}class zF extends Qe{constructor(_0x33cc0b){super(_0x33cc0b,'render'),this['_registry']=_0x33cc0b['assets'];}['open'](_0x4d2850,_0x37e776){return new Em();}['patch'](_0x402cd5,_0x53d968){if(!_0x402cd5['data']['containerA'+'sset'])return;const _0x34697d=_0x53d968['get'](_0x402cd5['data']['containerA'+'sset']);if(!_0x34697d){_0x53d968['once']('add:'+_0x402cd5['data']['containerA'+'sset'],pS,_0x402cd5);return;}pS['call'](_0x402cd5,_0x34697d);}}class v0{constructor(_0x4bd1cf,_0x4fbf51,_0x2eda1e,_0x8a9630){this['_paths']=_0x4bd1cf,this['_input']=_0x4fbf51,this['_output']=_0x2eda1e,this['_interpola'+'tion']=_0x8a9630;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x375939,_0x59a5ce){this['_component'+'s']=_0x375939,this['_data']=_0x59a5ce;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x3c7840,_0x2b164d){let _0x42a1bd;const _0x4318ba=(_0x57e9e0,_0x21703c)=>{switch(_0x21703c){case _0x42a1bd['DT_INT8']:return new Int8Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']);case _0x42a1bd['DT_INT16']:return new Int16Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']/(0x1a6f+0x1*-0x1121+0x1dc*-0x5));case _0x42a1bd['DT_INT32']:return new Int32Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']/(-0x336+-0xe05+-0x113f*-0x1));case _0x42a1bd['DT_UINT8']:return new Uint8Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']);case _0x42a1bd['DT_UINT16']:return new Uint16Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']/(-0x1*0x1db3+0xb7e+0x1237*0x1));case _0x42a1bd['DT_UINT32']:return new Uint32Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']/(0xd0*0x1a+0x2a2*0x9+-0x2cce));case _0x42a1bd['DT_FLOAT32']:return new Float32Array(_0x57e9e0['buffer'],_0x57e9e0['byteOffset'],_0x57e9e0['byteLength']/(0x24d8+0x508+-0x29dc*0x1));}return null;},_0x450850=_0x54484b=>{switch(_0x54484b){case _0x42a1bd['DT_INT8']:return 0x1aba+-0x264f+-0x5cb*-0x2;case _0x42a1bd['DT_INT16']:return 0x1799*-0x1+-0x4*0x12a+0x1c43;case _0x42a1bd['DT_INT32']:return-0x2192+0xbfb+0x159b;case _0x42a1bd['DT_UINT8']:return-0xd5*0x9+0x1f32+-0x17b4;case _0x42a1bd['DT_UINT16']:return-0x1*-0x595+0x1*0x1cba+-0x3*0xb6f;case _0x42a1bd['DT_UINT32']:return 0xe5*0xd+0xbb3*0x1+-0x1750;case _0x42a1bd['DT_FLOAT32']:return 0x10a6+0x6a*0x25+-0x4*0x7fd;}return-0x241*-0x5+-0xfe*0x1c+0x12e*0xe;},_0x322814=_0x13102e=>_0x13102e['num_compon'+'ents']()*_0x450850(_0x13102e['data_type']()),_0x1bad13={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x2f2f6d=(_0x57ca42,_0xb198c4)=>{const _0x214fe7=(_0x4239fe,_0x3d2b75,_0x4d66c3)=>{_0x4239fe[0x1d*-0x94+0x36*-0x3a+0x1d00]=_0x3d2b75[-0xba4*-0x3+0x1f06*0x1+-0x41f2]-_0x4d66c3[-0x57*-0x1c+0x2340+0x17e*-0x1e],_0x4239fe[-0x117b+-0x2c7*-0x5+-0x133*-0x3]=_0x3d2b75[-0x1*0x17b9+-0xe16*0x1+-0x58*-0x6e]-_0x4d66c3[-0x19*-0x71+0x893*-0x1+-0x275],_0x4239fe[-0xc*-0x305+0xc93+-0x30cd]=_0x3d2b75[-0xb4f+-0x3e0*0x3+0x1*0x16f1]-_0x4d66c3[-0xe43+0x79a*0x1+0x6ab];},_0x6afc46=(_0x36283f,_0x1fc669,_0x231c96)=>{_0x36283f[-0x39*0xa9+-0x12f2+0x7*0x815]=_0x1fc669[-0x209+-0x1139+0x1343]*_0x231c96[-0x406+0x141e+-0x1016]-_0x231c96[-0x13*0x15c+0xc97+0x1e*0x71]*_0x1fc669[0x3d7*-0x4+0x1*0xa07+-0x1*-0x557],_0x36283f[-0x8be+-0x1cd7+0x2596]=_0x1fc669[-0x1d*-0x146+0xb*0x3a+-0x276a]*_0x231c96[-0x7fa+-0x1*-0x82d+-0x33]-_0x231c96[-0x1*-0xa6b+-0xe*0x266+0x172b]*_0x1fc669[0x1e0a*-0x1+-0x1081+0x2e8b],_0x36283f[-0x86a+0x3e0+-0x2*-0x246]=_0x1fc669[0x1a58+0x1d5a+0x1bd9*-0x2]*_0x231c96[-0x23d3*-0x1+0x1*0x9f7+-0x2dc9]-_0x231c96[-0x1*0x425+0xdb3+-0x98e]*_0x1fc669[-0xcb7*-0x3+-0x1a79+-0xbab];},_0x14aaba=(_0x39e847,_0x4d70a0)=>{const _0x579692=_0x39e847[_0x4d70a0+(0xdda+-0x1*0x165d+-0x883*-0x1)],_0x217f48=_0x39e847[_0x4d70a0+(-0x1193+-0x12dc+-0x16*-0x1a8)],_0x3d11a1=_0x39e847[_0x4d70a0+(0x16b*-0x2+-0x1a2e+0x1d06)],_0x45bb3b=(-0xd*-0x6+0x21c4+0x13*-0x1cb)/Math['sqrt'](_0x579692*_0x579692+_0x217f48*_0x217f48+_0x3d11a1*_0x3d11a1);_0x39e847[_0x4d70a0+(-0x11c3+0x1fa2*0x1+-0x1*0xddf)]*=_0x45bb3b,_0x39e847[_0x4d70a0+(0x97*-0x41+-0x64a+-0x3a*-0xc5)]*=_0x45bb3b,_0x39e847[_0x4d70a0+(0xd*0xe2+0x1fc+-0xd74)]*=_0x45bb3b;},_0x146f0d=(_0x4f55c9,_0x3d1f8a,_0x3ddf74)=>{for(let _0x2cee12=-0x30a*-0xb+0x7f4+-0x2962*0x1;_0x2cee12<0x750+-0x1980+0x3*0x611;++_0x2cee12)_0x4f55c9[_0x2cee12]=_0x3d1f8a[_0x3ddf74+_0x2cee12];},_0x2da813=_0xb198c4['length']/(-0xb*0x15d+0x1d4a+0x1c9*-0x8),_0x594474=_0x57ca42['length']/(0xd2a+-0x1*-0x2312+-0x5*0x9a5),_0x5b542d=new Float32Array(_0x57ca42['length']),_0x37d618=[0x7f3+0xaf*0x1+-0x8a2,0x1d*-0x10f+-0x2*-0xf2b+0x5d,-0x13fe+-0x16fb+0x13*0x243],_0xb6f2b1=[0xba*0x16+-0x2156+-0x115a*-0x1,-0xfa2+-0x1*-0x796+-0x406*-0x2,-0x3e+-0x1*0x107b+0x10b9],_0x25df09=[-0x12fa+-0x949+0x1c43,0xde7*0x2+0x2*-0xd69+-0x4*0x3f,-0x3ee+-0x21+0x40f*0x1],_0xfd5008=[-0x8*-0x4be+0x4d2+-0x2ac2,-0x94*0xd+0x975*0x1+-0x7*0x47,0x1*-0x1691+-0xbf*-0x32+-0xebd],_0xe33784=[-0x1*0x20cc+-0x5d*0x5f+0x434f,-0x6bf+0x6ee*0x3+-0xe0b,0x18e5*0x1+0x433+0x188*-0x13],_0x37a17b=[-0x24b3+-0x5*-0x4+0x249f,0x27*-0xe4+-0x162e+-0x1c75*-0x2,-0x110f+0x1*0x3a6+-0xd69*-0x1];for(let _0x35887e=-0xddc+-0x1e5+0xfc1;_0x35887e<_0x2da813;++_0x35887e){const _0x4ca192=_0xb198c4[_0x35887e*(0x8*-0x14e+0x50b+0x568)+(0x14cb+-0xa0*-0x26+-0x3f*0xb5)]*(0xf5c+0x7*0x3db+-0x152b*0x2),_0x3eb6e5=_0xb198c4[_0x35887e*(-0x1617*-0x1+-0x5*0x6a3+-0xb1b*-0x1)+(0xa0d+-0xbb4+0x1a8)]*(0x1*0x1cf0+0x1533*0x1+-0xc88*0x4),_0x412f45=_0xb198c4[_0x35887e*(0x25*0x3d+-0x4db*0x3+0x5c3)+(0xc02+-0x1*0x1fc2+0x9*0x232)]*(-0xb33+-0x43c*-0x8+-0xb55*0x2);_0x146f0d(_0x37d618,_0x57ca42,_0x4ca192),_0x146f0d(_0xb6f2b1,_0x57ca42,_0x3eb6e5),_0x146f0d(_0x25df09,_0x57ca42,_0x412f45),_0x214fe7(_0xfd5008,_0xb6f2b1,_0x37d618),_0x214fe7(_0xe33784,_0x25df09,_0x37d618),_0x6afc46(_0x37a17b,_0xfd5008,_0xe33784),_0x14aaba(_0x37a17b,-0x59e*0x1+-0x61*0x53+0x2511);for(let _0x51062a=0x20a*0xf+0x1e4d+-0x3ce3;_0x51062a<0xce*-0x2b+-0x72a*0x1+-0x5*-0x85b;++_0x51062a)_0x5b542d[_0x4ca192+_0x51062a]+=_0x37a17b[_0x51062a],_0x5b542d[_0x3eb6e5+_0x51062a]+=_0x37a17b[_0x51062a],_0x5b542d[_0x412f45+_0x51062a]+=_0x37a17b[_0x51062a];}for(let _0x2836a7=0xdbf+0xb97+-0x3*0x872;_0x2836a7<_0x594474;++_0x2836a7)_0x14aaba(_0x5b542d,_0x2836a7*(-0x4fd+-0x5c7*-0x5+0x5*-0x4c7));return new Uint8Array(_0x5b542d['buffer']);},_0x4de1e1=_0x100e1d=>{const _0x784f63={},_0x2b5470=new _0x42a1bd['DecoderBuf'+'fer']();_0x2b5470['Init'](_0x100e1d,_0x100e1d['length']);const _0x3f6119=new _0x42a1bd['Decoder']();if(_0x3f6119['GetEncoded'+'GeometryTy'+'pe'](_0x2b5470)!==_0x42a1bd['TRIANGULAR'+'_MESH'])return _0x784f63['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x784f63;const _0x9f126b=new _0x42a1bd['Mesh'](),_0x3a90e9=_0x3f6119['DecodeBuff'+'erToMesh'](_0x2b5470,_0x9f126b);if(!_0x3a90e9||!_0x3a90e9['ok']()||_0x42a1bd['getPointer'](_0x9f126b)===0x1809+0x152d+-0xf12*0x3)return _0x784f63['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x784f63;const _0x170e6c=_0x9f126b['num_faces']()*(-0xf*-0x16f+-0xce8*-0x3+-0x2*0x1e1b),_0x332cb2=_0x9f126b['num_points']()<=-0xfab+-0x18ad2+0x8c5*0x4c,_0x1ce8a8=_0x170e6c*(_0x332cb2?0x1d2b+0x53*-0x71+-0x1d*-0x42:0x2*-0x742+-0x91c+0x17a4),_0x186104=_0x42a1bd['_malloc'](_0x1ce8a8);_0x332cb2?(_0x3f6119['GetTriangl'+'esUInt16Ar'+'ray'](_0x9f126b,_0x1ce8a8,_0x186104),_0x784f63['indices']=new Uint16Array(_0x42a1bd['HEAPU16']['buffer'],_0x186104,_0x170e6c)['slice']()['buffer']):(_0x3f6119['GetTriangl'+'esUInt32Ar'+'ray'](_0x9f126b,_0x1ce8a8,_0x186104),_0x784f63['indices']=new Uint32Array(_0x42a1bd['HEAPU32']['buffer'],_0x186104,_0x170e6c)['slice']()['buffer']),_0x42a1bd['_free'](_0x186104);const _0x465f69=[];for(let _0x1a5ff4=-0x77*-0x35+0x3b*-0x71+-0x3c*-0x6;_0x1a5ff4<_0x9f126b['num_attrib'+'utes']();++_0x1a5ff4)_0x465f69['push'](_0x3f6119['GetAttribu'+'te'](_0x9f126b,_0x1a5ff4));_0x465f69['sort']((_0x130180,_0x35169c)=>(_0x1bad13[_0x130180['attribute_'+'type']()]??_0x1bad13['length'])-(_0x1bad13[_0x35169c['attribute_'+'type']()]??_0x1bad13['length'])),_0x784f63['attributes']=_0x465f69['map'](_0x52a4b9=>_0x52a4b9['unique_id']());let _0x2a84de=0x1*-0x599+0x1c1c+-0x1683;const _0x188f95=_0x465f69['map'](_0x36eb8f=>{const _0x156c17=_0x2a84de;return _0x2a84de+=Math['ceil'](_0x322814(_0x36eb8f)/(-0xd18+0x15fd+-0x8e1))*(0x15d1+0x1d7*0x3+0x10d*-0x1a),_0x156c17;}),_0x2e3fe8=_0x465f69['some'](_0x14e665=>_0x14e665['attribute_'+'type']()===-0xe7b*0x1+-0xbed+0x1a69),_0x2beeee=_0x188f95[0xba+-0x2*-0x287+-0x5c7];if(!_0x2e3fe8){for(let _0x4271f1=-0x35d+0xa*0x38+0x12e;_0x4271f1<_0x188f95['length'];++_0x4271f1)_0x188f95[_0x4271f1]+=0xeb6+-0x1a4d+0xba3;_0x2a84de+=0x1bb3*-0x1+0x2187+-0x5c8;}_0x784f63['vertices']=new ArrayBuffer(_0x9f126b['num_points']()*_0x2a84de);const _0x2e35dc=new Uint8Array(_0x784f63['vertices']);for(let _0x2f4f8e=0x40b+-0x1*-0x1f66+-0x1*0x2371;_0x2f4f8e<_0x9f126b['num_attrib'+'utes']();++_0x2f4f8e){const _0x58007f=_0x465f69[_0x2f4f8e],_0x11d285=_0x322814(_0x58007f),_0x2e67bf=_0x9f126b['num_points']()*_0x11d285,_0x2cea46=_0x42a1bd['_malloc'](_0x2e67bf);_0x3f6119['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x9f126b,_0x58007f,_0x58007f['data_type'](),_0x2e67bf,_0x2cea46);const _0x45f46d=new Uint8Array(_0x42a1bd['HEAPU8']['buffer'],_0x2cea46,_0x2e67bf);for(let _0xd09392=-0x12d8+0xdf0+0x4e8;_0xd09392<_0x9f126b['num_points']();++_0xd09392)for(let _0x234350=-0xd*0x13f+0x41+-0x9d*-0x1a;_0x234350<_0x11d285;++_0x234350)_0x2e35dc[_0xd09392*_0x2a84de+_0x188f95[_0x2f4f8e]+_0x234350]=_0x45f46d[_0xd09392*_0x11d285+_0x234350];if(!_0x2e3fe8&&_0x58007f['attribute_'+'type']()===0x173*0x4+0x164c+-0x4*0x706){const _0x5e8343=_0x2f2f6d(_0x4318ba(_0x45f46d,_0x58007f['data_type']()),_0x332cb2?new Uint16Array(_0x784f63['indices']):new Uint32Array(_0x784f63['indices']));for(let _0x1038d0=-0xf7+0x7*-0x197+-0x408*-0x3;_0x1038d0<_0x9f126b['num_points']();++_0x1038d0)for(let _0x305a86=0x1a0e+0x16*0x10d+-0x312c;_0x305a86<-0xd15+-0xf25*-0x1+-0x204;++_0x305a86)_0x2e35dc[_0x1038d0*_0x2a84de+_0x2beeee+_0x305a86]=_0x5e8343[_0x1038d0*(0xfba+-0x2530+0xac1*0x2)+_0x305a86];}_0x42a1bd['_free'](_0x2cea46);}return _0x42a1bd['destroy'](_0x9f126b),_0x42a1bd['destroy'](_0x3f6119),_0x42a1bd['destroy'](_0x2b5470),_0x784f63;},_0x37bdff=_0x1925bb=>{const _0x294c51=_0x4de1e1(new Uint8Array(_0x1925bb['buffer']));self['postMessag'+'e']({'jobId':_0x1925bb['jobId'],'error':_0x294c51['error'],'indices':_0x294c51['indices'],'vertices':_0x294c51['vertices'],'attributes':_0x294c51['attributes']},[_0x294c51['indices'],_0x294c51['vertices']]['filter'](_0x443156=>_0x443156!=null));},_0x563ccc=[];self['onmessage']=_0x3dd0d8=>{const _0x211a3a=_0x3dd0d8['data'];switch(_0x211a3a['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x5b738d,_0x58d7a4)=>(WebAssembly['instantiat'+'e'](_0x211a3a['module'],_0x5b738d)['then'](_0x1847ea=>_0x58d7a4(_0x1847ea))['catch'](_0x5af03c=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5af03c)),{})})['then'](_0x409e40=>{_0x42a1bd=_0x409e40,_0x563ccc['forEach'](_0x2bf3d1=>_0x37bdff(_0x2bf3d1));});break;case'decodeMesh':_0x42a1bd?_0x37bdff(_0x211a3a):_0x563ccc['push'](_0x211a3a);break;}};}const _S=-0x1f49+-0x1257+0x31a3;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x4*-0x1fd+-0x1*-0x26b3+-0x1ebf,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x25823d,_0x2c8efa)=>{_0x25823d['postMessag'+'e']({'type':'decodeMesh','jobId':_0x2c8efa['jobId'],'buffer':_0x2c8efa['buffer']},[_0x2c8efa['buffer']]);};}['init'](_0x133086){for(_0x133086['forEach'](_0x18e7b5=>{_0x18e7b5['addEventLi'+'stener']('message',_0x397648=>{const _0x511a56=_0x397648['data'],_0x395fe9=this['jobCallbac'+'ks']['get'](_0x511a56['jobId']);if(_0x395fe9&&_0x395fe9(_0x511a56['error'],{'indices':_0x511a56['indices'],'vertices':_0x511a56['vertices'],'attributes':_0x511a56['attributes']}),this['jobCallbac'+'ks']['delete'](_0x511a56['jobId']),this['jobQueue']['length']>-0x1c23+-0x11*0x1fd+0x3df0){const _0x90bd61=this['jobQueue']['shift']();this['run'](_0x18e7b5,_0x90bd61);}else{const _0x1d85cf=this['workers'][-0x1*0xd1+-0x1*0x700+-0x7d3*-0x1]['indexOf'](_0x18e7b5);if(_0x1d85cf!==-(0xac0+-0x2680+0x1bc1))this['workers'][-0x222c+0x990+0x189e]['splice'](_0x1d85cf,-0x1e38+0x32b*-0x1+-0x2*-0x10b2),this['workers'][0x52*-0x2b+0x350*-0xa+0x2ee7*0x1]['push'](_0x18e7b5);else{const _0x3bfb16=this['workers'][-0x1f90+-0x5a9*0x1+0x253a]['indexOf'](_0x18e7b5);_0x3bfb16!==-(0x13fb+0x209*-0x1+-0x11f1)?(this['workers'][0x22b8+0x37*-0x95+-0x2b4]['splice'](_0x3bfb16,0x387*-0x5+-0x1be7+0x2d8b),this['workers'][-0x2*-0x71c+-0x62f*0x2+-0x1da]['push'](_0x18e7b5)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x1772*-0x1+0x405+-0x4f*0x59]=_0x133086;this['jobQueue']['length']&&(this['workers'][0xe64+0x1*-0xb2f+-0x335]['length']||this['workers'][-0x1e4c+-0x1ca7+0x62*0x9a]['length']);){const _0xcaacb5=this['jobQueue']['shift']();if(this['workers'][-0x25af+0x1*-0x745+0x2cf4]['length']>-0x1170+0x1*0x2408+0xaa*-0x1c){const _0x1b62d3=this['workers'][-0x2450+-0xf*-0x14b+-0x1*-0x10eb]['shift']();this['workers'][0x16e7+0x4*0x23c+-0x1fd6]['push'](_0x1b62d3),this['run'](_0x1b62d3,_0xcaacb5);}else{const _0xa01ee7=this['workers'][0xbf*-0xc+-0x3*-0x4fd+0x602*-0x1]['shift']();this['workers'][-0x15f7*-0x1+0x2245+0x2*-0x1c1d]['push'](_0xa01ee7),this['run'](_0xa01ee7,_0xcaacb5);}}}['enqueueJob'](_0x2ad155,_0x3a8b0f){const _0x2ec500={'jobId':this['jobId']++,'buffer':_0x2ad155};if(this['jobCallbac'+'ks']['set'](_0x2ec500['jobId'],_0x3a8b0f),this['workers'][-0x1a11+0x36d+0x16a4]['length']>-0xecb*0x2+-0x16eb+0x3481*0x1){const _0x37956b=this['workers'][0x1*-0x991+-0x1*-0x23d2+-0x1a41]['shift']();this['workers'][0xe94+-0x2ef*-0x9+-0x28fa]['push'](_0x37956b),this['run'](_0x37956b,_0x2ec500);}else{if(this['workers'][-0x90e*-0x4+-0x223f+-0x1f8]['length']>0x7*0x3d1+-0x5b*-0x2+-0x1b6d){const _0x1403b0=this['workers'][0x4d8+-0x1*0x1b73+0x169c]['shift']();this['workers'][-0x2*-0xcf2+-0x1fc6+0x5e4*0x1]['push'](_0x1403b0),this['run'](_0x1403b0,_0x2ec500);}else this['jobQueue']['push'](_0x2ec500);}}}const HF=_0x34e187=>new Promise((_0x5bab0b,_0x1589c2)=>{const _0x12a7c1={'cache':!(0xc47+-0x26f1+0xd55*0x2),'responseType':'text','retry':_S>0x12*-0x157+0xf2e+0x11e*0x8,'maxRetries':_S};ot['get'](_0x34e187,_0x12a7c1,(_0x56ce2e,_0x2f7415)=>{_0x56ce2e?_0x1589c2(_0x56ce2e):_0x5bab0b(_0x2f7415);});}),WF=_0x3f219d=>{const _0x5ec742=()=>fetch(_0x3f219d)['then'](_0x4635cc=>_0x4635cc['arrayBuffe'+'r']())['then'](_0x206f16=>WebAssembly['compile'](_0x206f16)),_0x4d0dd7=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x3f219d))['catch'](_0x570483=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3f219d+'\x20('+_0x570483+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5ec742()));return WebAssembly['compileStr'+'eaming']?_0x4d0dd7():_0x5ec742();},gS=-0x5*0x1cd+-0xaca+-0x2*-0x9e6;let ih;const $F=_0x2ee061=>{if(ih)return!(0x1a0d+-0x12b*-0x1+-0x1b38);if(!_0x2ee061){const _0x24f749=YS['getConfig']('DracoDecod'+'erModule');_0x24f749?_0x2ee061={'jsUrl':_0x24f749['glueUrl'],'wasmUrl':_0x24f749['wasmUrl'],'numWorkers':_0x24f749['numWorkers']}:_0x2ee061={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x2ee061['jsUrl']||!_0x2ee061['wasmUrl']?!(0x1f0d+-0x21d0+-0x4*-0xb1):(ih=new GF(),Promise['all']([HF(_0x2ee061['jsUrl']),WF(_0x2ee061['wasmUrl'])])['then'](([_0x3ac209,_0x39ef58])=>{const _0x101393=['/*\x20draco\x20*'+'/',_0x3ac209,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x1db3bd=new Blob([_0x101393],{'type':'applicatio'+'n/javascri'+'pt'}),_0x2e59a6=URL['createObje'+'ctURL'](_0x1db3bd),_0x10a5ce=Math['max'](-0x175*-0x3+0xbe9+-0x1*0x1047,Math['min'](0x19bd+-0x90a+-0x10a3,_0x2ee061['numWorkers']||gS)),_0x128aae=[];for(let _0x110c10=0x2*-0x46a+-0x1168+-0x92*-0x2e;_0x110c10<_0x10a5ce;++_0x110c10){const _0x1f42e1=new Worker(_0x2e59a6);_0x1f42e1['postMessag'+'e']({'type':'init','module':_0x39ef58}),_0x128aae['push'](_0x1f42e1);}ih['init'](_0x128aae);}),!(-0x18ad*0x1+0x5*0xbd+0x14fc));},XF=(_0x5c5a71,_0x2b53b5)=>$F()?(ih['enqueueJob'](_0x5c5a71,_0x2b53b5),!(-0x11*-0x1ff+0x4*0x66a+-0x3b97)):!(-0x18c+0x13*0x1cf+-0x20d0);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2a5eac=>{_0x2a5eac['meshes']=null;});}}const x0=_0x3f877f=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x3f877f),jF=_0x13a32f=>_0x13a32f['substring'](_0x13a32f['indexOf'](':')+(-0x329+0x1*-0xbc8+0x2*0x779),_0x13a32f['indexOf'](';')),yl=_0x4c81ab=>{switch(_0x4c81ab){case'SCALAR':return-0xc44+-0xd4e+0x1993*0x1;case'VEC2':return 0x11*0x1df+0x16be+-0x1*0x368b;case'VEC3':return 0xb80+-0x1*-0x8ad+-0x2*0xa15;case'VEC4':return 0xb86+-0x706+0xa4*-0x7;case'MAT2':return-0x2*-0x38d+-0x1f2e+0x1*0x1818;case'MAT3':return 0x2549+0x2*-0x3df+0x1*-0x1d82;case'MAT4':return 0x1df9*-0x1+0x1285+0xb84;default:return 0x842+0x24*-0xad+0x1015;}},Dd=_0x3de6f5=>{switch(_0x3de6f5){case-0x1*-0x18f5+0x1*0x153c+-0x1a31:return dd;case 0x33*-0x7b+-0xe2*-0x23+-0xd*-0x10c:return la;case 0x9*-0x3f5+0x3df+0x33c0:return fd;case 0x25ab+0x1*0x5e1+0x4b5*-0x5:return Ml;case-0x272*0x7+-0x8*0x31a+-0x1*-0x3df2:return Ty;case 0x1bf4+0x1561+-0x1d50:return el;case 0xddb+0xca6*0x1+-0x67b:return Ve;default:return 0x11f9*-0x1+0xd7d*0x1+0x47c;}},YF=_0x31c143=>{switch(_0x31c143){case 0x1306+-0xa45+0xb3f:return-0x981+-0xb16+0x1498;case 0x1898+0xc3c+0x49*-0x3b:return-0x2f*0x49+0x1*-0x9f7+-0x1f*-0xc1;case-0x2479+-0xdba+-0x9*-0x7cd:return 0xbf2+0x8ad*-0x1+-0x343;case 0x16a1+0x653*-0x1+-0x3b5*-0x1:return-0x267e+0x1*0x119b+-0x1*-0x14e5;case-0xad0*-0x1+-0x1791+0x20c5*0x1:return-0x1ecb*-0x1+-0x1*-0xaf5+0xa6f*-0x4;case-0x720*0x4+0x20*-0xf9+-0x4fa5*-0x1:return 0x1b77+-0x899*-0x1+-0x301*0xc;case-0xb61*-0x1+0x7*-0x2b+0x9d2:return 0x1*-0x23ed+0xf*0x233+-0x2a*-0x12;default:return 0x24b4+-0x107a+0x2*-0xa1d;}},KF=_0x5b1e4f=>{switch(_0x5b1e4f){case 0x1*0x393+-0x5ae*-0x2+0x511:return Int8Array;case 0x5e7+-0xab1+0xb*0x241:return Uint8Array;case 0x3*-0x8d+-0x139d*-0x1+0x20c:return Int16Array;case-0x17b*0x19+-0x1*0x175b+0x5061*0x1:return Uint16Array;case 0x119e+0x25a6+0x3*-0xbc0:return Int32Array;case 0x1*0x1c3d+-0x2524+0xe76*0x2:return Uint32Array;case-0x12e7+0xbf2+-0x1*-0x1afb:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:0x260f+0x12eb+0x297*-0x16,[gs]:-0x327*0xa+0x599*-0x3+0xa*0x4d5,[yi]:0x66d+-0x1*-0x163b+0x1*-0x1ca6,[Wt]:0x245a+0x1*0x1ead+-0x4304,[us]:-0x26c6+-0x1e40+0x450a,[gi]:0x1661*0x1+0x1*-0x2b6+-0x9d3*0x2,[is]:-0x1cd*0x15+0xcd3+0x1904,[ba]:-0xc9b+0x1*0x191b+0x67*-0x1f,[wl]:-0x251*-0x3+0xe06+-0x14f1,[El]:-0x173f+-0x1532+-0x2c7a*-0x1,[bl]:-0x17d6+0x1c5c+0x2*-0x23e,[Al]:-0x1*-0x1446+-0x1fe7+0xbac,[Cl]:0x1*0x1651+0x1fab+-0x35f0*0x1,[Pl]:-0x1c1*0xd+0x451+0x1289},ZF=_0xaa2117=>{switch(_0xaa2117){case dd:return _0x10ee53=>Math['max'](_0x10ee53/(-0x7*0x3ed+-0x14d0+-0x1*-0x30ca),-(-0xcda+-0x445+0x1120));case la:return _0x35991f=>_0x35991f/(0x2632*0x1+-0x3b*0x9d+0x34*-0x5);case fd:return _0x1d95ff=>Math['max'](_0x1d95ff/(-0xcdd9*-0x1+0x15*-0xb61+0xa11b*0x1),-(-0x9d5+-0x3*0x11a+0xd24));case Ml:return _0x35ab62=>_0x35ab62/(0x2*0x8b76+0x18919+-0x67*0x40a);default:return _0x2296aa=>_0x2296aa;}},Gu=(_0x2dae65,_0x5d7a2e,_0x4561e1)=>{const _0x163857=ZF(_0x4561e1),_0x1f07fa=_0x5d7a2e['length'];for(let _0x4709a3=-0x7*0x17f+-0x1*0x23bc+-0x1*-0x2e35;_0x4709a3<_0x1f07fa;++_0x4709a3)_0x2dae65[_0x4709a3]=_0x163857(_0x5d7a2e[_0x4709a3]);return _0x2dae65;},ua=(_0x32c99a,_0x5abf54,_0x2b2d27=!(-0x3*0x64c+-0x5*-0x783+-0x12aa))=>{const _0x5e0215=yl(_0x32c99a['type']),_0x459407=KF(_0x32c99a['componentT'+'ype']);if(!_0x459407)return null;let _0x4e3855;if(_0x32c99a['sparse']){const _0x2e733a=_0x32c99a['sparse'],_0x21db96={'count':_0x2e733a['count'],'type':'SCALAR'},_0x5f389a=ua(Object['assign'](_0x21db96,_0x2e733a['indices']),_0x5abf54,!(0x2b3*-0x6+0x336*-0x4+0x1d0a)),_0x306d02={'count':_0x2e733a['count'],'type':_0x32c99a['type'],'componentType':_0x32c99a['componentT'+'ype']},_0x35efb6=ua(Object['assign'](_0x306d02,_0x2e733a['values']),_0x5abf54,!(0xc85+0x17*0x1a3+-0x2*0x1915));if(_0x32c99a['hasOwnProp'+'erty']('bufferView')){const _0x131761={'bufferView':_0x32c99a['bufferView'],'byteOffset':_0x32c99a['byteOffset'],'componentType':_0x32c99a['componentT'+'ype'],'count':_0x32c99a['count'],'type':_0x32c99a['type']};_0x4e3855=ua(_0x131761,_0x5abf54,!(0xaac+-0x126c+-0x4*-0x1f0))['slice']();}else _0x4e3855=new _0x459407(_0x32c99a['count']*_0x5e0215);for(let _0x513922=0x161b+0x47*0x67+0x5c*-0x8d;_0x513922<_0x2e733a['count'];++_0x513922){const _0x30e782=_0x5f389a[_0x513922];for(let _0x2804a1=-0x299+0xe3*-0x16+0x161b;_0x2804a1<_0x5e0215;++_0x2804a1)_0x4e3855[_0x30e782*_0x5e0215+_0x2804a1]=_0x35efb6[_0x513922*_0x5e0215+_0x2804a1];}}else{if(_0x32c99a['hasOwnProp'+'erty']('bufferView')){const _0x4b4cf7=_0x5abf54[_0x32c99a['bufferView']];if(_0x2b2d27&&_0x4b4cf7['hasOwnProp'+'erty']('byteStride')){const _0x15acff=_0x5e0215*_0x459407['BYTES_PER_'+'ELEMENT'],_0x4640b5=new ArrayBuffer(_0x32c99a['count']*_0x15acff),_0x5a5c80=new Uint8Array(_0x4640b5);let _0x4af63d=-0x1*0x85d+0x23b7+0x48f*-0x6;for(let _0x4b2798=0x14e*0x1d+0x73*-0x3b+-0xb55*0x1;_0x4b2798<_0x32c99a['count'];++_0x4b2798){let _0x342dff=(_0x32c99a['byteOffset']||0x1420+-0x6b2+-0xd6e)+_0x4b2798*_0x4b4cf7['byteStride'];for(let _0x5cfbfb=-0x10d8+0x1e4c+-0xd74;_0x5cfbfb<_0x15acff;++_0x5cfbfb)_0x5a5c80[_0x4af63d++]=_0x4b4cf7[_0x342dff++];}_0x4e3855=new _0x459407(_0x4640b5);}else _0x4e3855=new _0x459407(_0x4b4cf7['buffer'],_0x4b4cf7['byteOffset']+(_0x32c99a['byteOffset']||-0x1b44+0xb9*0x7+0x1635),_0x32c99a['count']*_0x5e0215);}else _0x4e3855=new _0x459407(_0x32c99a['count']*_0x5e0215);}return _0x4e3855;},Pn=(_0x45a4f7,_0x503c95)=>{const _0x93c56e=ua(_0x45a4f7,_0x503c95,!(0x684+0x10*-0x200+0x197c));if(_0x93c56e instanceof Float32Array||!_0x45a4f7['normalized'])return _0x93c56e;const _0x5c542c=new Float32Array(_0x93c56e['length']);return Gu(_0x5c542c,_0x93c56e,Dd(_0x45a4f7['componentT'+'ype'])),_0x5c542c;},Hu=_0x37bba5=>{let _0x7e7ae3=_0x37bba5['min'],_0x3c61d3=_0x37bba5['max'];if(!_0x7e7ae3||!_0x3c61d3)return null;if(_0x37bba5['normalized']){const _0x190984=Dd(_0x37bba5['componentT'+'ype']);_0x7e7ae3=Gu([],_0x7e7ae3,_0x190984),_0x3c61d3=Gu([],_0x3c61d3,_0x190984);}return new De(new D((_0x3c61d3[0x127d+0x1*-0x1deb+0xb6e]+_0x7e7ae3[-0x1*-0x664+0xa2e*-0x1+-0x1*-0x3ca])*(0xe55*-0x2+0x16f4+0x5b6+0.5),(_0x3c61d3[0xfc7+-0x2*-0x9da+0x11bd*-0x2]+_0x7e7ae3[-0x25f7+0x205*-0x2+-0x1501*-0x2])*(-0xb2f+-0x8bd*-0x1+-0x2*-0x139+0.5),(_0x3c61d3[-0x2425*-0x1+-0x1a17+-0xa0c]+_0x7e7ae3[-0x1e43+-0x1cc8+0x3b0d])*(-0x10ca+-0x8d7+0x19a1+0.5)),new D((_0x3c61d3[-0x13eb+0x21dd*-0x1+0x35c8]-_0x7e7ae3[-0x3*0x397+0x23ca+-0x1905])*(0x29c+0x11c8+-0x1464+0.5),(_0x3c61d3[0x171d+-0x1*-0xd4e+-0x3b*0x9e]-_0x7e7ae3[0x12af+0x166*0x7+-0x1c78])*(-0xfa5+0x1*-0x1d5d+0x2d02+0.5),(_0x3c61d3[0x13a3+0xc7*-0x4+0x1*-0x1085]-_0x7e7ae3[0x1*0x1ede+0xb90+-0x2a6c])*(0x1502+-0x1*0x184+-0x137e+0.5)));},T0=_0x365e60=>{if(!_0x365e60['hasOwnProp'+'erty']('mode'))return js;switch(_0x365e60['mode']){case 0x7d7+0x1*-0x14fa+0xd23:return cd;case-0xf31+-0x2a9*0xc+0x2f1e:return hd;case 0x1f95+-0x85*-0x1a+-0x1*0x2d15:return _y;case-0x1e60+-0x16db+-0x1*-0x353e:return gy;case 0x1ea2*-0x1+-0xfd*-0xb+0x13c7:return js;case 0xc*-0x1b5+-0x265e+0x3adf:return Er;case-0x22f6+0x21b2+0x1*0x14a:return oa;default:return js;}},QF=_0x317a67=>{const _0x777d03=new Uint16Array(_0x317a67);for(let _0x1e9d42=0x2*-0xdae+0xe*0x9b+-0x1*-0x12e2;_0x1e9d42<_0x317a67;_0x1e9d42++)_0x777d03[_0x1e9d42]=_0x1e9d42;return _0x777d03;},JF=(_0x12069a,_0x2ea1ec)=>{const _0x507931=_0x12069a[Me];if(!_0x507931||_0x507931['components']!==0x1*0x1931+0x517+0x453*-0x7)return;let _0x1f3d42;if(_0x507931['size']!==_0x507931['stride']){const _0x4a07a3=_0x507931['stride']/No[_0x507931['type']],_0xd43be=new wn[_0x507931['type']](_0x507931['buffer'],_0x507931['offset'],_0x507931['count']*_0x4a07a3);_0x1f3d42=new wn[_0x507931['type']](_0x507931['count']*(-0xd02+-0x1039*-0x1+-0x334));for(let _0xfd4dc=0x2174+-0x67*-0x40+-0x3b34;_0xfd4dc<_0x507931['count'];++_0xfd4dc)_0x1f3d42[_0xfd4dc*(-0x18ef+-0xe9*0x5+0x1d7f)+(-0x644+0x1abc+-0x1478)]=_0xd43be[_0xfd4dc*_0x4a07a3+(-0x47*-0x74+-0x3e6*0x7+-0x32*0x19)],_0x1f3d42[_0xfd4dc*(0x1eef*0x1+-0x4c1*-0x1+-0x1*0x23ad)+(0x1ced+0xe21+-0x2b0d*0x1)]=_0xd43be[_0xfd4dc*_0x4a07a3+(0x7d7*0x4+-0x116a*-0x2+0x422f*-0x1)],_0x1f3d42[_0xfd4dc*(-0x1344+0x1*-0x202d+-0x4a*-0xb2)+(-0x24fc+0x3dd*-0x9+0x47c3)]=_0xd43be[_0xfd4dc*_0x4a07a3+(0xc00+0x2*-0x879+-0x13d*-0x4)];}else _0x1f3d42=new wn[_0x507931['type']](_0x507931['buffer'],_0x507931['offset'],_0x507931['count']*(-0x7*0x44d+0x132c*-0x1+0x314a));const _0x3e7164=_0x507931['count'];_0x2ea1ec||(_0x2ea1ec=QF(_0x3e7164));const _0xd8d391=Iv(_0x1f3d42,_0x2ea1ec),_0x5ab3f7=new Float32Array(_0xd8d391['length']);_0x5ab3f7['set'](_0xd8d391),_0x12069a[gs]={'buffer':_0x5ab3f7['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x3e7164,'components':0x3,'type':Ve};},eN=_0x35d17d=>{const _0x387d7e=_0x521035=>{const _0x232876=[];for(let _0xe8980b=0xec8+0x90d*-0x1+-0x5bb;_0xe8980b<_0x521035['_levels']['length'];++_0xe8980b){let _0x489e36=[];if(_0x521035['cubemap']){for(let _0x39129d=0x7eb+-0x6*-0x122+-0xeb7;_0x39129d<-0x1c8f+0x9aa+0x1*0x12eb;++_0x39129d)_0x489e36['push'](_0x521035['_levels'][_0xe8980b][_0x39129d]);}else _0x489e36=_0x521035['_levels'][_0xe8980b];_0x232876['push'](_0x489e36);}return _0x232876;},_0x49caa2=new _e(_0x35d17d['device'],_0x35d17d);return _0x49caa2['_levels']=_0x387d7e(_0x35d17d),_0x49caa2;},tN=_0x4d080c=>{const _0x62a288=new pe(_0x4d080c['name']+'_clone',_0x4d080c['type'],_0x4d080c['file'],_0x4d080c['data'],_0x4d080c['options']);return _0x62a288['loaded']=!(-0x1d4b+-0x16b2+0x1*0x33fd),_0x62a288['resource']=eN(_0x4d080c['resource']),_0x4d080c['registry']['add'](_0x62a288),_0x62a288;},sN=(_0x50d053,_0xadc4e0)=>{const _0xc04d89=_0xadc4e0[Me];if(!_0xc04d89)return null;const _0x1f8ea5=_0xc04d89['count'],_0x440eb=[];for(const _0x358521 in _0xadc4e0)if(_0xadc4e0['hasOwnProp'+'erty'](_0x358521)){const _0x2f3b27={'semantic':_0x358521,'components':_0xadc4e0[_0x358521]['components'],'type':_0xadc4e0[_0x358521]['type'],'normalize':!!_0xadc4e0[_0x358521]['normalize']};kt['isElementV'+'alid'](_0x50d053,_0x2f3b27)||_0x2f3b27['components']++,_0x440eb['push'](_0x2f3b27);}_0x440eb['sort']((_0x11e193,_0x2ab7d4)=>SS[_0x11e193['semantic']]-SS[_0x2ab7d4['semantic']]);let _0x1d0236,_0x45a20e,_0x28ce91,_0x2d8db6,_0x1d00b0,_0x5490c5;const _0x19554d=new kt(_0x50d053,_0x440eb);let _0x2b49e3=!(-0x132a+-0x17f3*-0x1+0x5*-0xf5);for(_0x1d0236=0x1ca3*-0x1+0x1caf+-0xc;_0x1d0236<_0x19554d['elements']['length'];++_0x1d0236)if(_0x1d00b0=_0x19554d['elements'][_0x1d0236],_0x2d8db6=_0xadc4e0[_0x1d00b0['name']],_0x5490c5=_0x2d8db6['offset']-_0xc04d89['offset'],_0x2d8db6['buffer']!==_0xc04d89['buffer']||_0x2d8db6['stride']!==_0x1d00b0['stride']||_0x2d8db6['size']!==_0x1d00b0['size']||_0x5490c5!==_0x1d00b0['offset']){_0x2b49e3=!(-0x44*-0x4c+-0x1*-0xf2f+-0x235e);break;}const _0x52162e=new Is(_0x50d053,_0x19554d,_0x1f8ea5),_0x50c56b=_0x52162e['lock'](),_0x14c85c=new Uint32Array(_0x50c56b);let _0x11c91d;if(_0x2b49e3)_0x11c91d=new Uint32Array(_0xc04d89['buffer'],_0xc04d89['offset'],_0x1f8ea5*_0x52162e['format']['size']/(-0x98c+0x4*-0x61d+0x2204*0x1)),_0x14c85c['set'](_0x11c91d);else{let _0x16ca70,_0x21a68c;for(_0x1d0236=0x150e+-0x1*0x1367+-0x1a7;_0x1d0236<_0x52162e['format']['elements']['length'];++_0x1d0236){_0x1d00b0=_0x52162e['format']['elements'][_0x1d0236],_0x16ca70=_0x1d00b0['stride']/(-0xb*0x125+-0x1cff+0x299a),_0x2d8db6=_0xadc4e0[_0x1d00b0['name']],_0x21a68c=_0x2d8db6['stride']/(0x3bd*-0x4+-0x1*-0x1153+-0x25b),_0x11c91d=new Uint32Array(_0x2d8db6['buffer'],_0x2d8db6['offset'],(_0x2d8db6['count']-(-0x18a6+0x108d+0x2*0x40d))*_0x21a68c+(_0x2d8db6['size']+(-0x119f+0x3c*0x46+-0x13a*-0x1))/(-0x106a+0x2ed+0x1*0xd81));let _0x53961e=0x6*0x47d+0x11c7+-0x2cb5,_0x1b9515=_0x1d00b0['offset']/(0x662+0x2152+-0x27b*0x10);const _0x1b6f06=Math['floor']((_0x2d8db6['size']+(0x5*-0x211+0x710+0x348))/(-0x21c7+0x55*-0x11+0x2770));for(_0x45a20e=0x125*-0x17+0x418*0x8+0x7*-0xeb;_0x45a20e<_0x1f8ea5;++_0x45a20e){for(_0x28ce91=-0x2b6*0x3+-0x13b1+0x1bd3;_0x28ce91<_0x1b6f06;++_0x28ce91)_0x14c85c[_0x1b9515+_0x28ce91]=_0x11c91d[_0x53961e+_0x28ce91];_0x53961e+=_0x21a68c,_0x1b9515+=_0x16ca70;}}}return _0x52162e['unlock'](),_0x52162e;},iN=(_0x164b6f,_0xeb5f,_0xa868e,_0xfa6803,_0x1f3d5e,_0x43221d)=>{const _0x44b220={},_0x22b43c=[];for(const _0x2c56d8 in _0xeb5f)_0xeb5f['hasOwnProp'+'erty'](_0x2c56d8)&&Nh['hasOwnProp'+'erty'](_0x2c56d8)&&(_0x44b220[_0x2c56d8]=_0xeb5f[_0x2c56d8],_0x22b43c['push'](_0x2c56d8+':'+_0xeb5f[_0x2c56d8]));_0x22b43c['sort']();const _0x24d5c9=_0x22b43c['join']();let _0x1a755f=_0x43221d[_0x24d5c9];if(!_0x1a755f){const _0x5e2467={};for(const _0xcde1aa in _0x44b220){const _0x462163=_0xfa6803[_0xeb5f[_0xcde1aa]],_0x3dc871=ua(_0x462163,_0x1f3d5e),_0x11fb21=_0x1f3d5e[_0x462163['bufferView']],_0x6540ac=Nh[_0xcde1aa],_0x14a32f=yl(_0x462163['type'])*YF(_0x462163['componentT'+'ype']),_0x506782=_0x11fb21&&_0x11fb21['hasOwnProp'+'erty']('byteStride')?_0x11fb21['byteStride']:_0x14a32f;_0x5e2467[_0x6540ac]={'buffer':_0x3dc871['buffer'],'size':_0x14a32f,'offset':_0x3dc871['byteOffset'],'stride':_0x506782,'count':_0x462163['count'],'components':yl(_0x462163['type']),'type':Dd(_0x462163['componentT'+'ype']),'normalize':_0x462163['normalized']};}_0x5e2467['hasOwnProp'+'erty'](gs)||JF(_0x5e2467,_0xa868e),_0x1a755f=sN(_0x164b6f,_0x5e2467),_0x43221d[_0x24d5c9]=_0x1a755f;}return _0x1a755f;},rN=(_0x1b03f1,_0x1ea439,_0x418a8d,_0x47cbc2,_0x3453c7,_0x1fc6ad)=>{let _0x1fbdf5,_0x53d186,_0x3c1d66;const _0x46ba31=_0x1ea439['joints'],_0x486b3c=_0x46ba31['length'],_0x2d2ac2=[];if(_0x1ea439['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x2a5a05=_0x1ea439['inverseBin'+'dMatrices'],_0x3f3b8a=ua(_0x418a8d[_0x2a5a05],_0x47cbc2,!(-0x26af+0x6e*0x49+0x751)),_0x110ec5=[];for(_0x1fbdf5=0x1094+0x7c*0x3+0x8*-0x241;_0x1fbdf5<_0x486b3c;_0x1fbdf5++){for(_0x53d186=-0x108f+-0x1*-0x1fac+-0xf1d;_0x53d186<-0x34*0x49+-0x285+-0x1*-0x1169;_0x53d186++)_0x110ec5[_0x53d186]=_0x3f3b8a[_0x1fbdf5*(0x379*0x1+-0x143*-0xd+-0x13d0)+_0x53d186];_0x3c1d66=new te(),_0x3c1d66['set'](_0x110ec5),_0x2d2ac2['push'](_0x3c1d66);}}else{for(_0x1fbdf5=0x5*0x1c3+0x2*-0x45a+-0x1b;_0x1fbdf5<_0x486b3c;_0x1fbdf5++)_0x3c1d66=new te(),_0x2d2ac2['push'](_0x3c1d66);}const _0x259fe4=[];for(_0x1fbdf5=0x1087+0x513+-0x159a;_0x1fbdf5<_0x486b3c;_0x1fbdf5++)_0x259fe4[_0x1fbdf5]=_0x3453c7[_0x46ba31[_0x1fbdf5]]['name'];const _0x202b43=_0x259fe4['join']('#');let _0x4d9703=_0x1fc6ad['get'](_0x202b43);return _0x4d9703||(_0x4d9703=new Lv(_0x1b03f1,_0x2d2ac2,_0x259fe4),_0x1fc6ad['set'](_0x202b43,_0x4d9703)),_0x4d9703;},aN=(_0x519b83,_0x387200,_0x2fd17d,_0x43664f,_0x43cab8,_0x3cc291,_0x37d17a)=>{var _0x593d77;const _0xa2c37a=new Ge(_0x519b83);_0xa2c37a['aabb']=Hu(_0x2fd17d[_0x387200['attributes']['POSITION']]);const _0x35b357=[];for(const [_0x487654,_0x57b34f]of Object['entries'](_0x387200['attributes'])){const _0x131e3d=_0x2fd17d[_0x57b34f],_0x1c53bf=Nh[_0x487654],_0x2752a7=Dd(_0x131e3d['componentT'+'ype']);_0x35b357['push']({'semantic':_0x1c53bf,'components':yl(_0x131e3d['type']),'type':_0x2752a7,'normalize':_0x131e3d['normalized']??(_0x1c53bf===Wt&&(_0x2752a7===la||_0x2752a7===Ml))});}if(_0x37d17a['push'](new Promise((_0x168664,_0x5a8c80)=>{const _0x338688=_0x387200['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x43664f[_0x338688['bufferView']]['slice']()['buffer'],(_0x38bdd6,_0x272a5c)=>{var _0x3fb880;if(_0x38bdd6)console['log'](_0x38bdd6),_0x5a8c80(_0x38bdd6);else{const _0x3ede52={};for(const [_0x4d7cc9,_0x3ba3ef]of Object['entries'](_0x338688['attributes']))_0x3ede52[Nh[_0x4d7cc9]]=_0x272a5c['attributes']['indexOf'](_0x3ba3ef);_0x35b357['sort']((_0x2b54b3,_0x269dc)=>_0x3ede52[_0x2b54b3['semantic']]-_0x3ede52[_0x269dc['semantic']]),(_0x3fb880=_0x387200['attributes'])!=null&&_0x3fb880['NORMAL']||_0x35b357['splice'](-0x1626+-0x26c9*0x1+0x3cf0,0x3*-0x641+-0x1bdb+0x2e9e,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0xe52a4a=new kt(_0x519b83,_0x35b357),_0x5596c9=_0x272a5c['vertices']['byteLength']/_0xe52a4a['size'],_0x24644a=_0x5596c9<=0x3d9c+-0x81c7+0x1442a?Yi:wr,_0x141039=_0x272a5c['indices']['byteLength']/(_0x5596c9<=-0x18f04+0x3*0x535d+0x143f*0x14?-0x5f4*0x2+-0x726+-0x262*-0x8:-0x31*0x2f+-0x1d31+-0x2634*-0x1);w['call'](()=>{_0x5596c9!==_0x2fd17d[_0x387200['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x141039!==_0x2fd17d[_0x387200['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x1ebaed=new Is(_0x519b83,_0xe52a4a,_0x5596c9,{'data':_0x272a5c['vertices']}),_0x3daed9=new br(_0x519b83,_0x24644a,_0x141039,ms,_0x272a5c['indices']);_0xa2c37a['vertexBuff'+'er']=_0x1ebaed,_0xa2c37a['indexBuffe'+'r'][-0x1a65+-0x24a6+0x3f0b]=_0x3daed9,_0xa2c37a['primitive'][0x19c1+0x141d+-0x2dde]['type']=T0(_0x387200),_0xa2c37a['primitive'][0xb23+-0x1d*0xbf+0x80*0x15]['base']=-0xc15*-0x1+0xd*0x25f+-0x2ae8,_0xa2c37a['primitive'][0x21f9+-0x1686+-0xb73]['count']=_0x3daed9?_0x141039:_0x5596c9,_0xa2c37a['primitive'][0x426+-0x2*-0x471+-0x22c*0x6]['indexed']=!!_0x3daed9,_0x168664();}});})),(_0x593d77=_0x387200==null?void(-0x18c0+0x1*-0x871+0x2131):_0x387200['extensions'])!=null&&_0x593d77['KHR_materi'+'als_varian'+'ts']){const _0x4e7a04=_0x387200['extensions']['KHR_materi'+'als_varian'+'ts'],_0x543f4e={};_0x4e7a04['mappings']['forEach'](_0x4f6075=>{_0x4f6075['variants']['forEach'](_0x46f5c6=>{_0x543f4e[_0x46f5c6]=_0x4f6075['material'];});}),_0x43cab8[_0xa2c37a['id']]=_0x543f4e;}return _0x3cc291[_0xa2c37a['id']]=_0x387200['material'],_0xa2c37a;},nN=(_0x42c124,_0x4e53fa,_0x449703,_0x448a02,_0x53028d,_0x3a63b4,_0x337a14,_0x85d1ee,_0x6de929)=>{const _0xfea028=[];return _0x4e53fa['primitives']['forEach'](_0x29dbe3=>{var _0x5660bb;if((_0x5660bb=_0x29dbe3['extensions'])!=null&&_0x5660bb['KHR_draco_'+'mesh_compr'+'ession'])_0xfea028['push'](aN(_0x42c124,_0x29dbe3,_0x449703,_0x448a02,_0x3a63b4,_0x337a14,_0x6de929));else{let _0x41e5d5=_0x29dbe3['hasOwnProp'+'erty']('indices')?ua(_0x449703[_0x29dbe3['indices']],_0x448a02,!(-0x2105+-0x3fd+-0x2502*-0x1)):null;const _0x2ce28a=iN(_0x42c124,_0x29dbe3['attributes'],_0x41e5d5,_0x449703,_0x448a02,_0x53028d),_0x40c15e=T0(_0x29dbe3),_0x14476d=new Ge(_0x42c124);if(_0x14476d['vertexBuff'+'er']=_0x2ce28a,_0x14476d['primitive'][-0x432+0x1129+-0xcf7]['type']=_0x40c15e,_0x14476d['primitive'][-0x1*0xe7f+-0x1264+0x20e3]['base']=0x175d*-0x1+-0xc8*0x16+0x288d,_0x14476d['primitive'][-0x2d1+-0x184f+0x1c*0xf8]['indexed']=_0x41e5d5!==null,_0x41e5d5!==null){let _0x2f7279;_0x41e5d5 instanceof Uint8Array?_0x2f7279=$f:_0x41e5d5 instanceof Uint16Array?_0x2f7279=Yi:_0x2f7279=wr,_0x2f7279===$f&&_0x42c124['isWebGPU']&&(_0x2f7279=Yi,_0x41e5d5=new Uint16Array(_0x41e5d5));const _0x56fd24=new br(_0x42c124,_0x2f7279,_0x41e5d5['length'],ms,_0x41e5d5);_0x14476d['indexBuffe'+'r'][-0x23d4+-0x12be*-0x1+0xa2*0x1b]=_0x56fd24,_0x14476d['primitive'][-0x266d+-0x1757+0x1ee2*0x2]['count']=_0x41e5d5['length'];}else _0x14476d['primitive'][0x29b*-0x7+0x1*0x2637+-0x13fa]['count']=_0x2ce28a['numVertice'+'s'];if(_0x29dbe3['hasOwnProp'+'erty']('extensions')&&_0x29dbe3['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x45b01a=_0x29dbe3['extensions']['KHR_materi'+'als_varian'+'ts'],_0x57b723={};_0x45b01a['mappings']['forEach'](_0x3268ef=>{_0x3268ef['variants']['forEach'](_0x523036=>{_0x57b723[_0x523036]=_0x3268ef['material'];});}),_0x3a63b4[_0x14476d['id']]=_0x57b723;}_0x337a14[_0x14476d['id']]=_0x29dbe3['material'];let _0x26f774=_0x449703[_0x29dbe3['attributes']['POSITION']];if(_0x14476d['aabb']=Hu(_0x26f774),_0x29dbe3['hasOwnProp'+'erty']('targets')){const _0x56e00a=[];_0x29dbe3['targets']['forEach']((_0x1ac45c,_0x2a7b7d)=>{const _0x1ec44b={};_0x1ac45c['hasOwnProp'+'erty']('POSITION')&&(_0x26f774=_0x449703[_0x1ac45c['POSITION']],_0x1ec44b['deltaPosit'+'ions']=Pn(_0x26f774,_0x448a02),_0x1ec44b['aabb']=Hu(_0x26f774)),_0x1ac45c['hasOwnProp'+'erty']('NORMAL')&&(_0x26f774=_0x449703[_0x1ac45c['NORMAL']],_0x1ec44b['deltaNorma'+'ls']=Pn(_0x26f774,_0x448a02)),_0x4e53fa['hasOwnProp'+'erty']('extras')&&_0x4e53fa['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x1ec44b['name']=_0x4e53fa['extras']['targetName'+'s'][_0x2a7b7d]:_0x1ec44b['name']=_0x2a7b7d['toString'](0x2d3*-0x3+0x8f8*-0x1+-0x117b*-0x1),_0x4e53fa['hasOwnProp'+'erty']('weights')&&(_0x1ec44b['defaultWei'+'ght']=_0x4e53fa['weights'][_0x2a7b7d]),_0x1ec44b['preserveDa'+'ta']=_0x85d1ee['morphPrese'+'rveData'],_0x56e00a['push'](new Md(_0x1ec44b));}),_0x14476d['morph']=new mm(_0x56e00a,_0x42c124,{'preferHighPrecision':_0x85d1ee['morphPrefe'+'rHighPreci'+'sion']});}_0xfea028['push'](_0x14476d);}}),_0xfea028;},Dt=(_0xf09d91,_0x5807a3,_0x58e5a6)=>{var _0xe3e80d;let _0x26ddc0;const _0x1dbd92=_0xf09d91['texCoord'];if(_0x1dbd92){for(_0x26ddc0=0xd34+0x576*0x1+-0x12aa;_0x26ddc0<_0x58e5a6['length'];++_0x26ddc0)_0x5807a3[_0x58e5a6[_0x26ddc0]+'MapUv']=_0x1dbd92;}const _0x55b633=[-0x112d*-0x1+-0x4*-0x2eb+-0x1cd9,-0x237c+0x209d+0x15*0x23],_0x38e544=[-0x170d+-0x2653*-0x1+-0xf45,0x26+0x23a+0x25f*-0x1],_0x2e18d2=(_0xe3e80d=_0xf09d91['extensions'])==null?void(-0x6ec+0x1008+-0x247*0x4):_0xe3e80d['KHR_textur'+'e_transfor'+'m'];if(_0x2e18d2){const _0x537a96=_0x2e18d2['offset']||_0x55b633,_0x566d53=_0x2e18d2['scale']||_0x38e544,_0x18c6aa=_0x2e18d2['rotation']?-_0x2e18d2['rotation']*Y['RAD_TO_DEG']:-0x147a+0x30b*0x3+-0x5*-0x245,_0x3f9abc=new J(_0x566d53[0xa27+0x3d4+-0x4a9*0x3],_0x566d53[0x2a*0xed+-0x17f3*-0x1+-0x3ed4]),_0x5f21e8=new J(_0x537a96[-0x2277+0x16c6+0xbb1],0x166c+-0xefb+-0x770-_0x566d53[-0x2b6*-0x3+0x2083+-0x28a4]-_0x537a96[0x29*-0xb0+0x19df+0x252]);for(_0x26ddc0=0x1a5d+0x1ca5+-0x2*0x1b81;_0x26ddc0<_0x58e5a6['length'];++_0x26ddc0)_0x5807a3[_0x58e5a6[_0x26ddc0]+'MapTiling']=_0x3f9abc,_0x5807a3[_0x58e5a6[_0x26ddc0]+'MapOffset']=_0x5f21e8,_0x5807a3[_0x58e5a6[_0x26ddc0]+('MapRotatio'+'n')]=_0x18c6aa;}},oN=(_0x292037,_0x57e00e,_0x26467c)=>{let _0x5e84eb,_0x3f9cc8;if(_0x292037['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x5e84eb=_0x292037['diffuseFac'+'tor'],_0x57e00e['diffuse']['set'](Math['pow'](_0x5e84eb[0x111*0x1d+-0x434+-0x1ab9*0x1],(-0x15a7*0x1+0x1188+0x420)/(0xcb9+-0x1737+-0x6*-0x1c0+0.20000000000000018)),Math['pow'](_0x5e84eb[-0xd42+0x15*-0x15d+0x2*0x14f2],(-0xf1e+0x1a8d+-0xb6e)/(0x13ed+0x1*0x751+-0x1b3c+0.20000000000000018)),Math['pow'](_0x5e84eb[-0x5*0x5ef+-0x5*0x2e7+0x2c30],(0x1013+-0x2*0xd31+0xa50)/(0x872+-0x1b6c+0x2*0x97e+0.20000000000000018))),_0x57e00e['opacity']=_0x5e84eb[-0x347*-0x1+-0x4fb+0x1b7]):(_0x57e00e['diffuse']['set'](-0x24d5+-0x18c3+0x3d99,0x10b1*-0x1+0xe*-0xb7+0x1ab4,-0x2*0xba+0x20c1+0x4*-0x7d3),_0x57e00e['opacity']=0xd*-0x133+-0x2591+0x3529),_0x292037['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x175142=_0x292037['diffuseTex'+'ture'];_0x3f9cc8=_0x26467c[_0x175142['index']],_0x57e00e['diffuseMap']=_0x3f9cc8,_0x57e00e['diffuseMap'+'Channel']='rgb',_0x57e00e['opacityMap']=_0x3f9cc8,_0x57e00e['opacityMap'+'Channel']='a',Dt(_0x175142,_0x57e00e,['diffuse','opacity']);}if(_0x57e00e['useMetalne'+'ss']=!(0x2*-0xb86+-0xf32+-0x1*-0x263f),_0x292037['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x5e84eb=_0x292037['specularFa'+'ctor'],_0x57e00e['specular']['set'](Math['pow'](_0x5e84eb[0x13f4+-0x1b*0x153+-0x5*-0x329],(-0xdd0+0xe*0x5+0xd8b)/(-0x419*-0x3+0x1ba6+-0x1*0x27ef+0.20000000000000018)),Math['pow'](_0x5e84eb[-0x1*-0x6d1+0x186e+-0x1f3e],(0x5fe+-0x2*0x1041+0x5d*0x49)/(-0x17af*0x1+0xb9b*-0x1+0x234c+0.20000000000000018)),Math['pow'](_0x5e84eb[0x522+-0x1292*-0x2+-0x2*0x1522],(0x11*0x8f+0x2283+-0x2c01)/(0x968+-0x1d4c+0x351*0x6+0.20000000000000018)))):_0x57e00e['specular']['set'](0x1c2d*-0x1+-0x44b*-0x1+0x17e3,-0x2*0xb47+-0x13e1+-0x1*-0x2a70,0x1892+0x60*0x14+0x2011*-0x1),_0x292037['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x57e00e['gloss']=_0x292037['glossiness'+'Factor']:_0x57e00e['gloss']=0x23c5+0xb86+-0x2f4a,_0x292037['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x23161b=_0x292037['specularGl'+'ossinessTe'+'xture'];_0x57e00e['specularMa'+'p']=_0x57e00e['glossMap']=_0x26467c[_0x23161b['index']],_0x57e00e['specularMa'+'pChannel']='rgb',_0x57e00e['glossMapCh'+'annel']='a',Dt(_0x23161b,_0x57e00e,['gloss','metalness']);}},lN=(_0x11e71e,_0x336644,_0x412c87)=>{if(_0x11e71e['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x336644['clearCoat']=_0x11e71e['clearcoatF'+'actor']*(0x1ac4+0x1819+-0x1d*0x1c1+0.25):_0x336644['clearCoat']=-0x14d7+-0x2*0xac9+0x205*0x15,_0x11e71e['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x373f72=_0x11e71e['clearcoatT'+'exture'];_0x336644['clearCoatM'+'ap']=_0x412c87[_0x373f72['index']],_0x336644['clearCoatM'+'apChannel']='r',Dt(_0x373f72,_0x336644,['clearCoat']);}if(_0x11e71e['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x336644['clearCoatG'+'loss']=_0x11e71e['clearcoatR'+'oughnessFa'+'ctor']:_0x336644['clearCoatG'+'loss']=-0xa*0x26f+-0xeb6+0x2ca*0xe,_0x11e71e['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x53b329=_0x11e71e['clearcoatR'+'oughnessTe'+'xture'];_0x336644['clearCoatG'+'lossMap']=_0x412c87[_0x53b329['index']],_0x336644['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x53b329,_0x336644,['clearCoatG'+'loss']);}if(_0x11e71e['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0xece588=_0x11e71e['clearcoatN'+'ormalTextu'+'re'];_0x336644['clearCoatN'+'ormalMap']=_0x412c87[_0xece588['index']],Dt(_0xece588,_0x336644,['clearCoatN'+'ormal']),_0xece588['hasOwnProp'+'erty']('scale')?_0x336644['clearCoatB'+'umpiness']=_0xece588['scale']:_0x336644['clearCoatB'+'umpiness']=0xb90+-0x1750+0xbc1;}_0x336644['clearCoatG'+'lossInvert']=!(-0x1e5d+-0x114a+-0x455*-0xb);},cN=(_0x3a21ce,_0x32cbc3,_0x228375)=>{_0x32cbc3['useLightin'+'g']=!(-0x249d*-0x1+0x5*0xed+-0x293d),_0x32cbc3['emissive']['copy'](_0x32cbc3['diffuse']),_0x32cbc3['emissiveMa'+'p']=_0x32cbc3['diffuseMap'],_0x32cbc3['emissiveMa'+'pUv']=_0x32cbc3['diffuseMap'+'Uv'],_0x32cbc3['emissiveMa'+'pTiling']['copy'](_0x32cbc3['diffuseMap'+'Tiling']),_0x32cbc3['emissiveMa'+'pOffset']['copy'](_0x32cbc3['diffuseMap'+'Offset']),_0x32cbc3['emissiveMa'+'pRotation']=_0x32cbc3['diffuseMap'+'Rotation'],_0x32cbc3['emissiveMa'+'pChannel']=_0x32cbc3['diffuseMap'+'Channel'],_0x32cbc3['emissiveVe'+'rtexColor']=_0x32cbc3['diffuseVer'+'texColor'],_0x32cbc3['emissiveVe'+'rtexColorC'+'hannel']=_0x32cbc3['diffuseVer'+'texColorCh'+'annel'],_0x32cbc3['useLightin'+'g']=!(-0x2b2*0xa+-0xc48*-0x1+0xead),_0x32cbc3['useSkybox']=!(-0xa*-0x16a+-0x422*-0x7+-0x4c9*0x9),_0x32cbc3['diffuse']['set'](0x4*0x5a1+0x1*0x914+-0x1f97,0x1d6+-0x2b4+0xdf*0x1,-0x1ecc+0x3*-0x913+0x3a06),_0x32cbc3['diffuseMap']=null,_0x32cbc3['diffuseVer'+'texColor']=!(0x7*-0x391+-0x1ce7+0x35df);},hN=(_0x533dfd,_0x249aa9,_0x519c7b)=>{if(_0x249aa9['useMetalne'+'ssSpecular'+'Color']=!(-0x27*-0x44+0x1*-0x15a9+0xb4d),_0x533dfd['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x249aa9['specularMa'+'p']=_0x519c7b[_0x533dfd['specularCo'+'lorTexture']['index']],_0x249aa9['specularMa'+'pChannel']='rgb',Dt(_0x533dfd['specularCo'+'lorTexture'],_0x249aa9,['specular'])),_0x533dfd['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x2ab62d=_0x533dfd['specularCo'+'lorFactor'];_0x249aa9['specular']['set'](Math['pow'](_0x2ab62d[0x256c+0x19e+-0x13*0x20e],(0x1*-0x1f19+-0x80*-0x37+0x39a)/(0x1c5d+0x2054+-0xd*0x4ab+0.20000000000000018)),Math['pow'](_0x2ab62d[-0x11*0x22e+0x1311+0x8ff*0x2],(-0x1cf*-0xf+0x1*-0xd7b+-0xda5)/(-0x188+0x1*-0x997+0xb21+0.20000000000000018)),Math['pow'](_0x2ab62d[-0xb50+0x1186+0x2*-0x31a],(0x6ba+0x18*-0x12f+0x15af)/(-0x2*-0x616+-0xdd7+0x1ad+0.20000000000000018)));}else _0x249aa9['specular']['set'](0xa0a+0x234f+0x2d58*-0x1,-0x231*0x9+-0x1*0xe84+0x1e7*0x12,0x1*0x1a81+-0x145c*-0x1+-0x2edc);_0x533dfd['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x249aa9['specularit'+'yFactor']=_0x533dfd['specularFa'+'ctor']:_0x249aa9['specularit'+'yFactor']=0x1b1c+0x893+-0x11d7*0x2,_0x533dfd['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x249aa9['specularit'+'yFactorMap'+'Channel']='a',_0x249aa9['specularit'+'yFactorMap']=_0x519c7b[_0x533dfd['specularTe'+'xture']['index']],Dt(_0x533dfd['specularTe'+'xture'],_0x249aa9,['specularit'+'yFactor']));},dN=(_0x5ca530,_0x241f33,_0x10fa72)=>{_0x5ca530['hasOwnProp'+'erty']('ior')&&(_0x241f33['refraction'+'Index']=(-0x3c4*-0x9+0x1b05*0x1+0x4*-0xf3a)/_0x5ca530['ior']);},fN=(_0x4600be,_0x580990,_0x179f84)=>{_0x4600be['hasOwnProp'+'erty']('dispersion')&&(_0x580990['dispersion']=_0x4600be['dispersion']);},uN=(_0x512fb2,_0x5be8f7,_0x5a3684)=>{_0x5be8f7['blendType']=Zs,_0x5be8f7['useDynamic'+'Refraction']=!(0x187c+-0x1e1c+-0x2d0*-0x2),_0x512fb2['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x5be8f7['refraction']=_0x512fb2['transmissi'+'onFactor']),_0x512fb2['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x5be8f7['refraction'+'MapChannel']='r',_0x5be8f7['refraction'+'Map']=_0x5a3684[_0x512fb2['transmissi'+'onTexture']['index']],Dt(_0x512fb2['transmissi'+'onTexture'],_0x5be8f7,['refraction']));},pN=(_0x318e71,_0xa00ba0,_0x530217)=>{if(_0xa00ba0['useSheen']=!(-0xbcd+0xb90+-0x1*-0x3d),_0x318e71['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x1f7313=_0x318e71['sheenColor'+'Factor'];_0xa00ba0['sheen']['set'](Math['pow'](_0x1f7313[0x1*-0x104b+-0x68a+0x16d5],(0x1852+0x89*0x35+0x1*-0x34ae)/(-0xb7*-0x22+-0x25c3+0xd77+0.20000000000000018)),Math['pow'](_0x1f7313[0x1540+0x26a2+0x1*-0x3be1],(0x1*0xc83+-0x8e*-0x5+-0xf48)/(-0x76d+-0x15ba+0x1d29+0.20000000000000018)),Math['pow'](_0x1f7313[-0x1*0x23bf+0x19ad+0xa14],(-0x1*-0x210b+0x12*0x1eb+0x4*-0x10e4)/(0x182d+-0x11a9+-0x682+0.20000000000000018)));}else _0xa00ba0['sheen']['set'](-0x367*0x5+-0x3*-0xb7a+0x6*-0x2e7,-0x4*-0x3f0+0x2150+-0x310f*0x1,0x17e8+0xf9+0x31c*-0x8);_0x318e71['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0xa00ba0['sheenMap']=_0x530217[_0x318e71['sheenColor'+'Texture']['index']],Dt(_0x318e71['sheenColor'+'Texture'],_0xa00ba0,['sheen'])),_0xa00ba0['sheenGloss']=_0x318e71['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x318e71['sheenRough'+'nessFactor']:0xe8b+0x3fa*0x9+-0x3255,_0x318e71['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0xa00ba0['sheenGloss'+'Map']=_0x530217[_0x318e71['sheenRough'+'nessTextur'+'e']['index']],_0xa00ba0['sheenGloss'+'MapChannel']='a',Dt(_0x318e71['sheenRough'+'nessTextur'+'e'],_0xa00ba0,['sheenGloss'])),_0xa00ba0['sheenGloss'+'Invert']=!(0x1281+-0x1*-0x258a+-0x1*0x380b);},mN=(_0x1ab5b3,_0xfb7c6b,_0x4d793e)=>{if(_0xfb7c6b['blendType']=Zs,_0xfb7c6b['useDynamic'+'Refraction']=!(0x1c2a+0x1406+0x1818*-0x2),_0x1ab5b3['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0xfb7c6b['thickness']=_0x1ab5b3['thicknessF'+'actor']),_0x1ab5b3['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0xfb7c6b['thicknessM'+'ap']=_0x4d793e[_0x1ab5b3['thicknessT'+'exture']['index']],_0xfb7c6b['thicknessM'+'apChannel']='g',Dt(_0x1ab5b3['thicknessT'+'exture'],_0xfb7c6b,['thickness'])),_0x1ab5b3['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0xfb7c6b['attenuatio'+'nDistance']=_0x1ab5b3['attenuatio'+'nDistance']),_0x1ab5b3['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x1a72cb=_0x1ab5b3['attenuatio'+'nColor'];_0xfb7c6b['attenuatio'+'n']['set'](Math['pow'](_0x1a72cb[0x113*0x5+-0x2*0x1216+0x1ecd],(-0x1d73+-0xf74+0x2ce8)/(-0x1692+0xb43+0xb51*0x1+0.20000000000000018)),Math['pow'](_0x1a72cb[-0xc34*0x1+-0x12c4+0x1ef9],(0xe*-0x1eb+-0x1*0x13aa+-0x2e85*-0x1)/(-0x1e08+-0xb69+0x2973+0.20000000000000018)),Math['pow'](_0x1a72cb[0x10db+0x19aa+-0x2a83],(-0x1c*-0x11d+0x10*-0x80+-0x172b)/(0xa37*0x2+-0x429+-0x1043+0.20000000000000018)));}},_N=(_0x1f01a6,_0x14bcc8,_0x2e223d)=>{_0x1f01a6['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x14bcc8['emissiveIn'+'tensity']=_0x1f01a6['emissiveSt'+'rength']);},gN=(_0x68b367,_0x22437c,_0x27c5bc)=>{_0x22437c['useIridesc'+'ence']=!(-0x5*-0x45+0x5*-0x751+0x233c),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x22437c['iridescenc'+'e']=_0x68b367['iridescenc'+'eFactor']),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x22437c['iridescenc'+'eMapChanne'+'l']='r',_0x22437c['iridescenc'+'eMap']=_0x27c5bc[_0x68b367['iridescenc'+'eTexture']['index']],Dt(_0x68b367['iridescenc'+'eTexture'],_0x22437c,['iridescenc'+'e'])),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x22437c['iridescenc'+'eRefractio'+'nIndex']=_0x68b367['iridescenc'+'eIor']),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x22437c['iridescenc'+'eThickness'+'Min']=_0x68b367['iridescenc'+'eThickness'+'Minimum']),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x22437c['iridescenc'+'eThickness'+'Max']=_0x68b367['iridescenc'+'eThickness'+'Maximum']),_0x68b367['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x22437c['iridescenc'+'eThickness'+'MapChannel']='g',_0x22437c['iridescenc'+'eThickness'+'Map']=_0x27c5bc[_0x68b367['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x68b367['iridescenc'+'eThickness'+'Texture'],_0x22437c,['iridescenc'+'eThickness']));},SN=(_0x1ca9b5,_0x5086ec,_0x456c19)=>{if(_0x5086ec['enableGGXS'+'pecular']=!(0x1dfe*0x1+-0xb05+-0x12f9),_0x1ca9b5['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x5086ec['anisotropy'+'Intensity']=_0x1ca9b5['anisotropy'+'Strength']:_0x5086ec['anisotropy'+'Intensity']=0x1f71+0x230e*0x1+-0x427f,_0x1ca9b5['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x3322f3=_0x1ca9b5['anisotropy'+'Texture'];_0x5086ec['anisotropy'+'Map']=_0x456c19[_0x3322f3['index']],Dt(_0x3322f3,_0x5086ec,['anisotropy']);}_0x1ca9b5['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x5086ec['anisotropy'+'Rotation']=_0x1ca9b5['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x5086ec['anisotropy'+'Rotation']=-0x8*0x107+0x16e*0xb+-0x782;},w0=(_0x2bd257,_0x2d4e3c)=>{const _0x25adb6=new Ut();_0x2bd257['hasOwnProp'+'erty']('name')&&(_0x25adb6['name']=_0x2bd257['name']),_0x25adb6['occludeSpe'+'cular']=bd,_0x25adb6['diffuseVer'+'texColor']=!(-0x25b0+-0x1d*0x115+0x4511),_0x25adb6['specularTi'+'nt']=!(-0x3e1+-0x12f9*-0x1+-0xf18),_0x25adb6['specularVe'+'rtexColor']=!(-0x133f+0x1523+-0x2*0xf2),_0x25adb6['specular']['set'](0x161e+-0x2150+0x2f*0x3d,-0x833*0x4+0x4*-0x2cd+-0x1*-0x2c01,-0x1a*-0x13a+-0x1da6+0xbf*-0x3),_0x25adb6['gloss']=0x234c+0x6d6+-0x2a21,_0x25adb6['glossInver'+'t']=!(-0xcdb*0x3+0x1*0x20f9+0x4*0x166),_0x25adb6['useMetalne'+'ss']=!(0x5*0x40f+-0x130a+-0x141);let _0x31a126,_0x46bf65;if(_0x2bd257['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x254ca3=_0x2bd257['pbrMetalli'+'cRoughness'];if(_0x254ca3['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x31a126=_0x254ca3['baseColorF'+'actor'],_0x25adb6['diffuse']['set'](Math['pow'](_0x31a126[0x6fb*-0x1+-0x4c*-0xb+0x3b7],(-0x7*-0x359+-0x23f8+0x645*0x2)/(-0xb*-0x194+-0x35*0xb2+0x1380+0.20000000000000018)),Math['pow'](_0x31a126[0x1*0x2453+0xe42+-0x3294],(-0x1*-0x637+-0x1*0x2165+0x1b2f)/(-0x3*0x472+-0x72d*0x1+0x1485+0.20000000000000018)),Math['pow'](_0x31a126[0xd7d*0x1+-0x40*-0x4e+-0x20fb],(0x1d23*-0x1+0xa58+-0x12cc*-0x1)/(-0x7ae+-0x2*0xae5+-0xb*-0x2ae+0.20000000000000018))),_0x25adb6['opacity']=_0x31a126[0x43f*-0x3+0x25eb+-0x192b]),_0x254ca3['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x4af87a=_0x254ca3['baseColorT'+'exture'];_0x46bf65=_0x2d4e3c[_0x4af87a['index']],_0x25adb6['diffuseMap']=_0x46bf65,_0x25adb6['diffuseMap'+'Channel']='rgb',_0x25adb6['opacityMap']=_0x46bf65,_0x25adb6['opacityMap'+'Channel']='a',Dt(_0x4af87a,_0x25adb6,['diffuse','opacity']);}if(_0x254ca3['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x25adb6['metalness']=_0x254ca3['metallicFa'+'ctor']),_0x254ca3['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x25adb6['gloss']=_0x254ca3['roughnessF'+'actor']),_0x254ca3['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x373f81=_0x254ca3['metallicRo'+'ughnessTex'+'ture'];_0x25adb6['metalnessM'+'ap']=_0x25adb6['glossMap']=_0x2d4e3c[_0x373f81['index']],_0x25adb6['metalnessM'+'apChannel']='b',_0x25adb6['glossMapCh'+'annel']='g',Dt(_0x373f81,_0x25adb6,['gloss','metalness']);}}if(_0x2bd257['hasOwnProp'+'erty']('normalText'+'ure')){const _0x275794=_0x2bd257['normalText'+'ure'];_0x25adb6['normalMap']=_0x2d4e3c[_0x275794['index']],Dt(_0x275794,_0x25adb6,['normal']),_0x275794['hasOwnProp'+'erty']('scale')&&(_0x25adb6['bumpiness']=_0x275794['scale']);}if(_0x2bd257['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x4bbed6=_0x2bd257['occlusionT'+'exture'];_0x25adb6['aoMap']=_0x2d4e3c[_0x4bbed6['index']],_0x25adb6['aoMapChann'+'el']='r',Dt(_0x4bbed6,_0x25adb6,['ao']);}if(_0x2bd257['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x31a126=_0x2bd257['emissiveFa'+'ctor'],_0x25adb6['emissive']['set'](Math['pow'](_0x31a126[0x50e+-0x1*-0x1064+-0xb7*0x1e],(-0x1*-0x16d3+-0x283*0x3+-0xf49)/(-0x2*0xb27+-0xa4c+-0x2*-0x104e+0.20000000000000018)),Math['pow'](_0x31a126[0x29f*0x7+-0xd33*0x1+0x3*-0x1b7],(0x1*0x1c15+0x1f*0x24+-0x3*0xad0)/(0x129c+-0x56b*-0x7+-0x3887+0.20000000000000018)),Math['pow'](_0x31a126[-0x1596+-0x1*-0x71f+0xd*0x11d],(-0x1df+0xfe7+-0x1*0xe07)/(0x1*0x1e20+-0xbe5+-0x1239+0.20000000000000018)))),_0x2bd257['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3d5603=_0x2bd257['emissiveTe'+'xture'];_0x25adb6['emissiveMa'+'p']=_0x2d4e3c[_0x3d5603['index']],Dt(_0x3d5603,_0x25adb6,['emissive']);}if(_0x2bd257['hasOwnProp'+'erty']('alphaMode'))switch(_0x2bd257['alphaMode']){case'MASK':_0x25adb6['blendType']=Cs,_0x2bd257['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x25adb6['alphaTest']=_0x2bd257['alphaCutof'+'f']:_0x25adb6['alphaTest']=-0x2171+-0x1017+0x3188+0.5;break;case'BLEND':_0x25adb6['blendType']=Zs,_0x25adb6['depthWrite']=!(0xe0b+-0xee5+0xdb);break;default:case'OPAQUE':_0x25adb6['blendType']=Cs;break;}else _0x25adb6['blendType']=Cs;_0x2bd257['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x25adb6['twoSidedLi'+'ghting']=_0x2bd257['doubleSide'+'d'],_0x25adb6['cull']=_0x2bd257['doubleSide'+'d']?bt:pa):(_0x25adb6['twoSidedLi'+'ghting']=!(-0x1272*-0x2+-0x204c+-0x2f*0x19),_0x25adb6['cull']=pa);const _0x4787e6={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x2bd257['hasOwnProp'+'erty']('extensions'))for(const _0x50e1a4 in _0x2bd257['extensions']){const _0x395cbc=_0x4787e6[_0x50e1a4];_0x395cbc!==void(-0x27c+0x2*0x95f+-0x1042)&&_0x395cbc(_0x2bd257['extensions'][_0x50e1a4],_0x25adb6,_0x2d4e3c);}return _0x25adb6['update'](),_0x25adb6;},yN=(_0x809af7,_0x1b5f8b,_0x20b314,_0x15990,_0xd67b,_0x26c8ab,_0x355d3c)=>{const _0x301676=_0x261dc5=>new Fh(yl(_0x261dc5['type']),Pn(_0x261dc5,_0x15990)),_0x115b49={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0xcee97c={},_0xe0b7da={},_0x4ce943={};let _0x10c586=-0x8f4+-0xdb5*0x1+0x2*0xb55,_0x447a8c;for(_0x447a8c=0x22b6+0x24d6+-0x478c;_0x447a8c<_0x809af7['samplers']['length'];++_0x447a8c){const _0x3b35b6=_0x809af7['samplers'][_0x447a8c];_0xcee97c['hasOwnProp'+'erty'](_0x3b35b6['input'])||(_0xcee97c[_0x3b35b6['input']]=_0x301676(_0x20b314[_0x3b35b6['input']])),_0xe0b7da['hasOwnProp'+'erty'](_0x3b35b6['output'])||(_0xe0b7da[_0x3b35b6['output']]=_0x301676(_0x20b314[_0x3b35b6['output']]));const _0x491be2=_0x3b35b6['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x115b49['hasOwnProp'+'erty'](_0x3b35b6['interpolat'+'ion'])?_0x115b49[_0x3b35b6['interpolat'+'ion']]:Su,_0x262df2={'paths':[],'input':_0x3b35b6['input'],'output':_0x3b35b6['output'],'interpolation':_0x491be2};_0x4ce943[_0x447a8c]=_0x262df2;}const _0x33940f=[],_0x2a7d47={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x3b21e2=_0x5406cf=>{const _0x1a9032=[];for(;_0x5406cf;)_0x1a9032['unshift'](_0x5406cf['name']),_0x5406cf=_0x5406cf['parent'];return _0x1a9032;},_0xc9176=(_0x1595be,_0x1a291c,_0xbf3940)=>{const _0x3763e0=_0xe0b7da[_0x1595be['output']];if(!_0x3763e0){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0xbf3940+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x3d7d8d;if(_0x26c8ab&&_0x26c8ab[_0x1a291c['mesh']]){const _0x4df0c7=_0x26c8ab[_0x1a291c['mesh']];_0x4df0c7['hasOwnProp'+'erty']('extras')&&_0x4df0c7['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x3d7d8d=_0x4df0c7['extras']['targetName'+'s']);}const _0x37f13f=_0x3763e0['data'],_0x5b2249=_0x37f13f['length']/_0xcee97c[_0x1595be['input']]['data']['length'],_0x2e08c7=_0x37f13f['length']/_0x5b2249,_0x25b9bd=_0x2e08c7*(0x241d*0x1+0x2c0+0xdd*-0x2d),_0x2e0872=new ArrayBuffer(_0x25b9bd*_0x5b2249);for(let _0x23cbd2=-0x2e7+-0xa5e*-0x2+-0x11d5;_0x23cbd2<_0x5b2249;_0x23cbd2++){const _0x15a419=new Float32Array(_0x2e0872,_0x25b9bd*_0x23cbd2,_0x2e08c7);for(let _0x42258c=-0x159f*0x1+-0x473*0x1+0x2f*0x8e;_0x42258c<_0x2e08c7;_0x42258c++)_0x15a419[_0x42258c]=_0x37f13f[_0x42258c*_0x5b2249+_0x23cbd2];const _0x42230a=new Fh(0x17*-0x17d+0x1*0x1b2c+0x710,_0x15a419),_0x1f52ba=_0x3d7d8d!=null&&_0x3d7d8d[_0x23cbd2]?'name.'+_0x3d7d8d[_0x23cbd2]:_0x23cbd2;_0xe0b7da[-_0x10c586]=_0x42230a;const _0x6ac38f={'paths':[{'entityPath':_0xbf3940,'component':'graph','propertyPath':['weight.'+_0x1f52ba]}],'input':_0x1595be['input'],'output':-_0x10c586,'interpolation':_0x1595be['interpolat'+'ion']};_0x10c586++,_0x4ce943['morphCurve'+'-'+_0x447a8c+'-'+_0x23cbd2]=_0x6ac38f;}};for(_0x447a8c=-0x1*0x2482+-0x28a+-0xee*-0x2a;_0x447a8c<_0x809af7['channels']['length'];++_0x447a8c){const _0x43f86a=_0x809af7['channels'][_0x447a8c],_0x2f12a1=_0x43f86a['target'],_0xa02725=_0x4ce943[_0x43f86a['sampler']],_0x4e4e64=_0xd67b[_0x2f12a1['node']],_0x103047=_0x355d3c[_0x2f12a1['node']],_0x573992=_0x3b21e2(_0x4e4e64);_0x2f12a1['path']['startsWith']('weights')?(_0xc9176(_0xa02725,_0x103047,_0x573992),_0x4ce943[_0x43f86a['sampler']]['morphCurve']=!(-0x1bad*-0x1+0x1fd0+-0x3b7d)):_0xa02725['paths']['push']({'entityPath':_0x573992,'component':'graph','propertyPath':[_0x2a7d47[_0x2f12a1['path']]]});}const _0xad4806=[],_0x5b17fa=[],_0x3d2392=[];for(const _0xdb89ba in _0xcee97c)_0xad4806['push'](_0xcee97c[_0xdb89ba]),_0xcee97c[_0xdb89ba]=_0xad4806['length']-(-0x1*-0xb73+-0x1*-0x611+-0x1183);for(const _0x4272cf in _0xe0b7da)_0x5b17fa['push'](_0xe0b7da[_0x4272cf]),_0xe0b7da[_0x4272cf]=_0x5b17fa['length']-(0x137*-0x16+0x918*0x3+0x1*-0x8d);for(const _0x277d2a in _0x4ce943){const _0x2d9d2b=_0x4ce943[_0x277d2a];_0x2d9d2b['morphCurve']||(_0x3d2392['push'](new v0(_0x2d9d2b['paths'],_0xcee97c[_0x2d9d2b['input']],_0xe0b7da[_0x2d9d2b['output']],_0x2d9d2b['interpolat'+'ion'])),_0x2d9d2b['paths']['length']>-0x21df+-0x7*0x91+-0x3a*-0xa7&&_0x2d9d2b['paths'][-0xc2c+-0x7ff+0x142b]['propertyPa'+'th'][0x5b5+-0x2*-0x8f5+0x1*-0x179f]==='localRotat'+'ion'&&_0x2d9d2b['interpolat'+'ion']!==yu&&_0x33940f['push'](_0x3d2392[_0x3d2392['length']-(0xb19*-0x3+-0xe*-0x1ca+0x840)]['output']));}_0x33940f['sort']();let _0x26cf2b=null,_0x24ed73;for(_0x447a8c=0x2*-0x40b+-0xa7*0x1+0x1*0x8bd;_0x447a8c<_0x33940f['length'];++_0x447a8c){const _0x1b6d83=_0x33940f[_0x447a8c];if(_0x447a8c===0x9a6+-0x8f*0x7+-0x5bd*0x1||_0x1b6d83!==_0x26cf2b){if(_0x24ed73=_0x5b17fa[_0x1b6d83],_0x24ed73['components']===-0x1cf7+-0xe98+0x2b93*0x1){const _0x359315=_0x24ed73['data'],_0x121ce0=_0x359315['length']-(-0xab*-0x1d+-0x19d8+0x1*0x67d);for(let _0x418556=0x5*-0x2ff+0x23e0+-0x14e5;_0x418556<_0x121ce0;_0x418556+=-0x1575+-0x1db0+0x3329)_0x359315[_0x418556+(0xbb*0x25+0x1*-0x64e+-0x14b9)]*_0x359315[_0x418556+(0x96+0xb20+-0xbb2)]+_0x359315[_0x418556+(-0x3bb+0x5*-0x4a1+0x1ae1*0x1)]*_0x359315[_0x418556+(0x58*-0x1+0x3*-0xbec+0x2421)]+_0x359315[_0x418556+(0x1*-0x119f+-0xe35*0x1+0x2*0xfeb)]*_0x359315[_0x418556+(0x1271+-0x44*0x26+-0x853)]+_0x359315[_0x418556+(-0x565*0x7+-0x1*-0x1ec1+-0x1*-0x705)]*_0x359315[_0x418556+(-0x5e*-0x35+0x40*0x5e+0x1*-0x2aef)]<0x268c+0x9f+-0x1*0x272b&&(_0x359315[_0x418556+(0x1*-0x276+-0x1*-0x1fe7+-0x5d*0x51)]*=-(0x151+0x1*0x2605+-0x2755),_0x359315[_0x418556+(-0x269*-0x7+-0x10d8+-0x2)]*=-(0x9*-0x2f9+-0x3*0x829+-0x1*-0x333d),_0x359315[_0x418556+(0x1660+0x109b+-0x26f5)]*=-(-0x1f8c+-0x169a+-0x3627*-0x1),_0x359315[_0x418556+(0x1d4b*0x1+0xd*-0x11b+-0xee5)]*=-(0x20ab*-0x1+0x2225+-0x1*0x179));}_0x26cf2b=_0x1b6d83;}}let _0x2da45a=-0x1*-0x15fa+-0x5*-0x501+-0x2eff*0x1;for(_0x447a8c=-0x7f*0x44+0x1b27*-0x1+-0x8f*-0x6d;_0x447a8c<_0xad4806['length'];_0x447a8c++)_0x24ed73=_0xad4806[_0x447a8c]['_data'],_0x2da45a=Math['max'](_0x2da45a,_0x24ed73['length']===0x1*-0x8bd+-0x2078+0x2935?0x5f6+0xd33+-0x1329:_0x24ed73[_0x24ed73['length']-(0x1ffa+-0x1*-0x24a1+-0x449a)]);return new Qi(_0x809af7['hasOwnProp'+'erty']('name')?_0x809af7['name']:'animation_'+_0x1b5f8b,_0x2da45a,_0xad4806,_0x5b17fa,_0x3d2392);},Dc=new te(),Qa=new D(),vN=(_0x58298a,_0x5d7f89,_0x101e2b)=>{const _0x490bef=new Ie();if(_0x58298a['hasOwnProp'+'erty']('name')&&_0x58298a['name']['length']>-0x2203*0x1+0x1505*0x1+0xcfe?_0x490bef['name']=_0x58298a['name']:_0x490bef['name']='node_'+_0x5d7f89,_0x58298a['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x58298a['matrix']),Dc['getTransla'+'tion'](Qa),_0x490bef['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x490bef['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x490bef['setLocalSc'+'ale'](Qa)),_0x58298a['hasOwnProp'+'erty']('rotation')){const _0x5aad94=_0x58298a['rotation'];_0x490bef['setLocalRo'+'tation'](_0x5aad94[-0xcd7*-0x1+-0x796+0x1*-0x541],_0x5aad94[0x937+0x185*0x11+-0x1*0x230b],_0x5aad94[-0xd5+-0x454*0x3+0xdd3],_0x5aad94[0x1f81*-0x1+0x13bf+-0x83*-0x17]);}if(_0x58298a['hasOwnProp'+'erty']('translatio'+'n')){const _0x5a02c1=_0x58298a['translatio'+'n'];_0x490bef['setLocalPo'+'sition'](_0x5a02c1[0x22d*-0x7+0x1*-0x206e+-0x2fa9*-0x1],_0x5a02c1[0x141*-0x8+0x8*-0x355+0x5d*0x65],_0x5a02c1[0x1c74+0x8*0x151+0xcfe*-0x3]);}if(_0x58298a['hasOwnProp'+'erty']('scale')){const _0x2f3c2a=_0x58298a['scale'];_0x490bef['setLocalSc'+'ale'](_0x2f3c2a[0x5b7+0x21e1+-0x2798],_0x2f3c2a[0xe05+-0x1d1*-0x11+-0x1*0x2ce5],_0x2f3c2a[0x7b8+0x3*-0x2c2+0x90]);}return _0x58298a['hasOwnProp'+'erty']('extensions')&&_0x58298a['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x101e2b['set'](_0x58298a,{'ext':_0x58298a['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x490bef;},xN=(_0x1d59db,_0x140049)=>{const _0x445388=_0x1d59db['type']==='orthograph'+'ic'?En:ni,_0x43dee1=_0x445388===En?_0x1d59db['orthograph'+'ic']:_0x1d59db['perspectiv'+'e'],_0x491caf={'enabled':!(0xd7f+0x15e4*-0x1+0x866),'projection':_0x445388,'nearClip':_0x43dee1['znear'],'aspectRatioMode':hm};_0x43dee1['zfar']&&(_0x491caf['farClip']=_0x43dee1['zfar']),_0x445388===En?(_0x491caf['orthoHeigh'+'t']=(0x18b6+0x20fc+0xb8a*-0x5+0.5)*_0x43dee1['ymag'],_0x43dee1['ymag']&&(_0x491caf['aspectRati'+'oMode']=lu,_0x491caf['aspectRati'+'o']=_0x43dee1['xmag']/_0x43dee1['ymag'])):(_0x491caf['fov']=_0x43dee1['yfov']*Y['RAD_TO_DEG'],_0x43dee1['aspectRati'+'o']&&(_0x491caf['aspectRati'+'oMode']=lu,_0x491caf['aspectRati'+'o']=_0x43dee1['aspectRati'+'o']));const _0x19a833=new lt(_0x1d59db['name']);return _0x19a833['addCompone'+'nt']('camera',_0x491caf),_0x19a833;},TN=(_0x4aa368,_0x4d0a2f)=>{const _0x5bf6bd={'enabled':!(-0x266a+-0x1*0x26c1+0x4d2c),'type':_0x4aa368['type']==='point'?'omni':_0x4aa368['type'],'color':_0x4aa368['hasOwnProp'+'erty']('color')?new ie(_0x4aa368['color']):ie['WHITE'],'range':_0x4aa368['hasOwnProp'+'erty']('range')?_0x4aa368['range']:-0xb59+0x45c+0x2e0c,'falloffMode':ev,'intensity':_0x4aa368['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x4aa368['intensity'],0x1fe0+0x3*-0x974+-0x4*0xe1,-0x6*0x296+0xb*-0x97+0x1603):-0x3fb+0x1e4a+-0x1a4e};_0x4aa368['hasOwnProp'+'erty']('spot')&&(_0x5bf6bd['innerConeA'+'ngle']=_0x4aa368['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x4aa368['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x1c74+0x2537+-0x1*0x41ab,_0x5bf6bd['outerConeA'+'ngle']=_0x4aa368['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x4aa368['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0x66a+0x4d5*-0x5+0x11c3)),_0x4aa368['hasOwnProp'+'erty']('intensity')&&(_0x5bf6bd['luminance']=_0x4aa368['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x5bf6bd['type']],_0x5bf6bd['outerConeA'+'ngle'],_0x5bf6bd['innerConeA'+'ngle']));const _0x556a4a=new lt(_0x4d0a2f['name']);return _0x556a4a['rotateLoca'+'l'](0xdb3+0x857+-0x15b0,0x1837+-0x2695+0x265*0x6,-0x1265+0xf78+0x2ed),_0x556a4a['addCompone'+'nt']('light',_0x5bf6bd),_0x556a4a;},wN=(_0x3386d7,_0x1c46eb,_0x63c5c7,_0x35aaf5)=>{if(!_0x1c46eb['hasOwnProp'+'erty']('skins')||_0x1c46eb['skins']['length']===0xa*0x337+0x2c*-0xb5+-0x10a)return[];const _0x433d04=new Map();return _0x1c46eb['skins']['map'](_0x5683b6=>rN(_0x3386d7,_0x5683b6,_0x1c46eb['accessors'],_0x35aaf5,_0x63c5c7,_0x433d04));},EN=(_0x113a59,_0x50379d,_0x32aa45,_0x27474f)=>{var _0x24638b,_0x4b39f2,_0x44a963;const _0xfc116a={},_0x17af88={},_0x4dc187={},_0x250ec0=[];return{'meshes':!_0x27474f['skipMeshes']&&((_0x24638b=_0x50379d==null?void(-0x6c5*0x1+-0xc99*-0x3+-0x1a2*0x13):_0x50379d['meshes'])==null?void(0x142e+0x791*0x1+-0x1bbf*0x1):_0x24638b['length'])&&((_0x4b39f2=_0x50379d==null?void(0x3*-0x3ff+-0x7*-0x22d+-0x33e):_0x50379d['accessors'])==null?void(-0xb2*-0x32+-0x1ee0+-0xa6*0x6):_0x4b39f2['length'])&&((_0x44a963=_0x50379d==null?void(0x6c5*0x1+-0x282*0xb+-0x14d1*-0x1):_0x50379d['bufferView'+'s'])==null?void(-0x1*0x1411+0x20c0*0x1+-0xcaf):_0x44a963['length'])?_0x50379d['meshes']['map'](_0x4af9b3=>nN(_0x113a59,_0x4af9b3,_0x50379d['accessors'],_0x32aa45,_0xfc116a,_0x17af88,_0x4dc187,_0x27474f,_0x250ec0)):[],'meshVariants':_0x17af88,'meshDefaultMaterials':_0x4dc187,'promises':_0x250ec0};},bN=(_0x294839,_0x596aa4,_0x4d9f4b)=>{var _0x302412,_0x4931b0,_0x48a359;if(!_0x294839['hasOwnProp'+'erty']('materials')||_0x294839['materials']['length']===-0x305+0x9fc*-0x2+-0x37*-0x6b)return[];const _0x40ef5f=(_0x302412=_0x4d9f4b==null?void(0x6*-0x499+-0x8d7+0x246d):_0x4d9f4b['material'])==null?void(-0x2*0x5a8+-0x6b1*0x3+0x1f63):_0x302412['preprocess'],_0x336381=((_0x4931b0=_0x4d9f4b==null?void(-0x2d9+0xa4d*0x3+-0x9*0x31e):_0x4d9f4b['material'])==null?void(0xb7a+-0xc44+-0x65*-0x2):_0x4931b0['process'])??w0,_0xf6a590=(_0x48a359=_0x4d9f4b==null?void(0x1cc*0x1+0x25a2*0x1+-0x276e):_0x4d9f4b['material'])==null?void(-0x1*-0x2527+0x3*-0xe3+0x5*-0x6e6):_0x48a359['postproces'+'s'];return _0x294839['materials']['map'](_0x55344b=>{_0x40ef5f&&_0x40ef5f(_0x55344b);const _0x1a7dea=_0x336381(_0x55344b,_0x596aa4);return _0xf6a590&&_0xf6a590(_0x55344b,_0x1a7dea),_0x1a7dea;});},AN=_0x41d075=>{if(!_0x41d075['hasOwnProp'+'erty']('extensions')||!_0x41d075['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x3247dc=_0x41d075['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x21fc16={};for(let _0x61c5ba=-0x2*0x65f+-0x535*0x5+0xced*0x3;_0x61c5ba<_0x3247dc['length'];_0x61c5ba++)_0x21fc16[_0x3247dc[_0x61c5ba]['name']]=_0x61c5ba;return _0x21fc16;},CN=(_0x4b5102,_0xc2c170,_0x323aae,_0x1d65c1)=>{var _0x455069,_0x300ae2;if(!_0x4b5102['hasOwnProp'+'erty']('animations')||_0x4b5102['animations']['length']===-0x2f7+-0x2281+0x2578)return[];const _0x2fb66a=(_0x455069=_0x1d65c1==null?void(-0x1*0x1f39+0x532+0x1a07):_0x1d65c1['animation'])==null?void(-0x23dd+0xe5*0x27+0xfa):_0x455069['preprocess'],_0x54e07c=(_0x300ae2=_0x1d65c1==null?void(-0x228c+0xad0*0x1+0x1f*0xc4):_0x1d65c1['animation'])==null?void(-0x2450+-0x22de*-0x1+0x172):_0x300ae2['postproces'+'s'];return _0x4b5102['animations']['map']((_0x49925d,_0x72499f)=>{_0x2fb66a&&_0x2fb66a(_0x49925d);const _0x29a8cc=yN(_0x49925d,_0x72499f,_0x4b5102['accessors'],_0x323aae,_0xc2c170,_0x4b5102['meshes'],_0x4b5102['nodes']);return _0x54e07c&&_0x54e07c(_0x49925d,_0x29a8cc),_0x29a8cc;});},PN=(_0xd083ca,_0x256305,_0x11bdae,_0x19a38e)=>{const _0x2b4e1d=_0x256305['accessors'];_0x11bdae['forEach']((_0x3df197,_0x52704a)=>{const _0x4c17ec=_0x3df197['ext']['attributes'];let _0xd26ffc;if(_0x4c17ec['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x2915f8=_0x2b4e1d[_0x4c17ec['TRANSLATIO'+'N']];_0xd26ffc=Pn(_0x2915f8,_0x19a38e);}let _0x5e1747;if(_0x4c17ec['hasOwnProp'+'erty']('ROTATION')){const _0x204b1b=_0x2b4e1d[_0x4c17ec['ROTATION']];_0x5e1747=Pn(_0x204b1b,_0x19a38e);}let _0x13ef92;if(_0x4c17ec['hasOwnProp'+'erty']('SCALE')){const _0x196dfc=_0x2b4e1d[_0x4c17ec['SCALE']];_0x13ef92=Pn(_0x196dfc,_0x19a38e);}const _0x21ebe7=(_0xd26ffc?_0xd26ffc['length']/(-0x1*-0x101c+-0x1af1+0xad8):0x1d3d+0x12e*0x2+-0x1f99)||(_0x5e1747?_0x5e1747['length']/(-0x4*0x460+-0x1803+0x1*0x2987):0x2aa*-0x7+0x1076+0x230)||(_0x13ef92?_0x13ef92['length']/(-0x5*-0x748+0xb*-0x1c1+-0x111a):0x6dd+-0x1*0x7f0+0x113);if(_0x21ebe7){const _0x300903=new Float32Array(_0x21ebe7*(0x34+0x1*0x607+-0x62b)),_0x4e00b9=new D(),_0x204e96=new le(),_0x4a9702=new D(-0x1*-0x2533+-0x381+-0x21b1,-0x10b+-0x223*0x5+0xbbb,0x2*0xd09+-0xb5d*-0x3+-0x3c28),_0x3a5458=new te();let _0xc7f9b2=-0x26bf+0x2077*0x1+0x648;for(let _0x4fdcc0=-0x3ec+-0x266b+0x2a57;_0x4fdcc0<_0x21ebe7;_0x4fdcc0++){const _0x2d98cf=_0x4fdcc0*(0x1*0x3ad+0x1*0xcc1+-0x106b);if(_0xd26ffc&&_0x4e00b9['set'](_0xd26ffc[_0x2d98cf],_0xd26ffc[_0x2d98cf+(0x1*-0x362+-0x235c+0x5b*0x6d)],_0xd26ffc[_0x2d98cf+(0x5*0x36b+-0x5*0x4e3+-0x75a*-0x1)]),_0x5e1747){const _0xa27d6f=_0x4fdcc0*(-0x307*-0x2+-0x8b*0x2a+-0x94*-0x1d);_0x204e96['set'](_0x5e1747[_0xa27d6f],_0x5e1747[_0xa27d6f+(0xac7+0x188f+-0x87*0x43)],_0x5e1747[_0xa27d6f+(0x169b+0x1*-0x168b+0x7*-0x2)],_0x5e1747[_0xa27d6f+(-0x1404+0x3*-0x257+0x1*0x1b0c)]);}_0x13ef92&&_0x4a9702['set'](_0x13ef92[_0x2d98cf],_0x13ef92[_0x2d98cf+(-0x1776+-0x8*0x277+0x2b2f)],_0x13ef92[_0x2d98cf+(0x3*-0xcb5+0x25*0x106+0x43)]),_0x3a5458['setTRS'](_0x4e00b9,_0x204e96,_0x4a9702);for(let _0x3c24ae=0x1354+-0x2620+0x12cc;_0x3c24ae<0x1dd9+-0x14d9*-0x1+-0x1951*0x2;_0x3c24ae++)_0x300903[_0xc7f9b2++]=_0x3a5458['data'][_0x3c24ae];}_0x3df197['matrices']=_0x300903;}});},MN=(_0x30ed1c,_0x114871,_0x1c0a30)=>{var _0x2c9f07,_0x60268b,_0x144caf;if(!_0x30ed1c['hasOwnProp'+'erty']('nodes')||_0x30ed1c['nodes']['length']===-0x3*-0x2a3+-0x18ed+0x1104)return[];const _0x3e6ea9=(_0x2c9f07=_0x114871==null?void(-0xc1e+0x248*0x7+0x1d*-0x22):_0x114871['node'])==null?void(-0x6*-0x526+-0x44d+-0x1a97):_0x2c9f07['preprocess'],_0x4bbff5=((_0x60268b=_0x114871==null?void(0x12*-0x13a+0x369+0x12ab):_0x114871['node'])==null?void(-0x1*0x1349+0xd61+0x5e8):_0x60268b['process'])??vN,_0x4a5554=(_0x144caf=_0x114871==null?void(-0x3cc+-0x35*-0x20+-0x2d4):_0x114871['node'])==null?void(0xdb9*0x1+0x2062+0x431*-0xb):_0x144caf['postproces'+'s'],_0x468124=_0x30ed1c['nodes']['map']((_0x55bb0e,_0x6b3a1e)=>{_0x3e6ea9&&_0x3e6ea9(_0x55bb0e);const _0x180541=_0x4bbff5(_0x55bb0e,_0x6b3a1e,_0x1c0a30);return _0x4a5554&&_0x4a5554(_0x55bb0e,_0x180541),_0x180541;});for(let _0x3ec88a=-0x11*-0x55+0x25a0+-0x2b45;_0x3ec88a<_0x30ed1c['nodes']['length'];++_0x3ec88a){const _0x4be7bc=_0x30ed1c['nodes'][_0x3ec88a];if(_0x4be7bc['hasOwnProp'+'erty']('children')){const _0x520ab7=_0x468124[_0x3ec88a],_0x592197={};for(let _0x198598=0xaaa+0x1*-0x2494+0x19ea;_0x198598<_0x4be7bc['children']['length'];++_0x198598){const _0x3eaa76=_0x468124[_0x4be7bc['children'][_0x198598]];_0x3eaa76['parent']||(_0x592197['hasOwnProp'+'erty'](_0x3eaa76['name'])?_0x3eaa76['name']+=_0x592197[_0x3eaa76['name']]++:_0x592197[_0x3eaa76['name']]=-0x207*0xf+0x371+0x1*0x1af9,_0x520ab7['addChild'](_0x3eaa76));}}}return _0x468124;},DN=(_0x5f471d,_0xaef7a4)=>{var _0x4237c1;const _0x4de700=[],_0x495cdf=_0x5f471d['scenes']['length'];if(_0x495cdf===-0x3b*0x67+-0x1066*0x2+0x1c45*0x2&&((_0x4237c1=_0x5f471d['scenes'][0x1563*-0x1+-0x4*0x95f+-0x7*-0x869]['nodes'])==null?void(0x59b+-0x1566+0xfcb):_0x4237c1['length'])===0x23b8+-0x7a*0x1a+-0x1753){const _0x1112fd=_0x5f471d['scenes'][0x997+0x755+-0x876*0x2]['nodes'][-0x1*0xc61+0x909+-0x358*-0x1];_0x4de700['push'](_0xaef7a4[_0x1112fd]);}else for(let _0x27d036=-0x3*0x81a+0x14*0xa3+0xb92*0x1;_0x27d036<_0x495cdf;_0x27d036++){const _0x4a082d=_0x5f471d['scenes'][_0x27d036];if(_0x4a082d['nodes']){const _0x2ed65b=new Ie(_0x4a082d['name']);for(let _0x4c4bb8=-0x17e6+-0x1*0x1ed9+0x36bf;_0x4c4bb8<_0x4a082d['nodes']['length'];_0x4c4bb8++){const _0x2ca70e=_0xaef7a4[_0x4a082d['nodes'][_0x4c4bb8]];_0x2ed65b['addChild'](_0x2ca70e);}_0x4de700['push'](_0x2ed65b);}}return _0x4de700;},IN=(_0x453deb,_0x526176,_0x174177)=>{var _0x7ac816,_0x39b668,_0x20ed46;let _0x4824b1=null;if(_0x453deb['hasOwnProp'+'erty']('nodes')&&_0x453deb['hasOwnProp'+'erty']('cameras')&&_0x453deb['cameras']['length']>0x13*-0x1cd+-0x1e54+0x408b){const _0xc682cf=(_0x7ac816=_0x174177==null?void(-0x25fc+0x196f+0x99*0x15):_0x174177['camera'])==null?void(-0x23*0xe5+-0x2*0x1263+0x4415):_0x7ac816['preprocess'],_0x3f6c27=((_0x39b668=_0x174177==null?void(-0x240d+0x1*0x124a+-0x11c3*-0x1):_0x174177['camera'])==null?void(-0x1*0x182f+0x3ff+-0x88*-0x26):_0x39b668['process'])??xN,_0x15e14c=(_0x20ed46=_0x174177==null?void(-0x26df+-0x365*-0x1+0x237a):_0x174177['camera'])==null?void(-0x1d09+-0x19e5*0x1+0x36ee):_0x20ed46['postproces'+'s'];_0x453deb['nodes']['forEach']((_0x5a6355,_0xdbbfbd)=>{if(_0x5a6355['hasOwnProp'+'erty']('camera')){const _0x1e82a8=_0x453deb['cameras'][_0x5a6355['camera']];if(_0x1e82a8){_0xc682cf&&_0xc682cf(_0x1e82a8);const _0x2c2051=_0x3f6c27(_0x1e82a8,_0x526176[_0xdbbfbd]);_0x15e14c&&_0x15e14c(_0x1e82a8,_0x2c2051),_0x2c2051&&(_0x4824b1||(_0x4824b1=new Map()),_0x4824b1['set'](_0x5a6355,_0x2c2051));}}});}return _0x4824b1;},LN=(_0x41331c,_0x8bb153,_0x5bf7f0)=>{var _0x149eeb,_0x501328,_0x211203;let _0x113605=null;if(_0x41331c['hasOwnProp'+'erty']('nodes')&&_0x41331c['hasOwnProp'+'erty']('extensions')&&_0x41331c['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x41331c['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1095a4=_0x41331c['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1095a4['length']){const _0x1a9add=(_0x149eeb=_0x5bf7f0==null?void(-0x1*0x343+0x8*-0x13c+0xd23):_0x5bf7f0['light'])==null?void(-0xa5*-0xd+0x4*-0x2b3+0x1*0x26b):_0x149eeb['preprocess'],_0x5d3d53=((_0x501328=_0x5bf7f0==null?void(-0x1*-0x77a+0x5*0x6fb+-0x1*0x2a61):_0x5bf7f0['light'])==null?void(-0x6d*0x12+-0x17*-0x16a+0x18dc*-0x1):_0x501328['process'])??TN,_0xd622ad=(_0x211203=_0x5bf7f0==null?void(0x352+0x1d1b+-0x206d):_0x5bf7f0['light'])==null?void(0x1835*-0x1+0x4*-0x599+0x4f*0x97):_0x211203['postproces'+'s'];_0x41331c['nodes']['forEach']((_0x40da72,_0x41066d)=>{if(_0x40da72['hasOwnProp'+'erty']('extensions')&&_0x40da72['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x40da72['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x4137a7=_0x40da72['extensions']['KHR_lights'+'_punctual']['light'],_0x45a9e2=_0x1095a4[_0x4137a7];if(_0x45a9e2){_0x1a9add&&_0x1a9add(_0x45a9e2);const _0x5aa3df=_0x5d3d53(_0x45a9e2,_0x8bb153[_0x41066d]);_0xd622ad&&_0xd622ad(_0x45a9e2,_0x5aa3df),_0x5aa3df&&(_0x113605||(_0x113605=new Map()),_0x113605['set'](_0x40da72,_0x5aa3df));}}});}}return _0x113605;},RN=(_0x398cab,_0x1007a9,_0x5fe418)=>{_0x398cab['nodes']['forEach'](_0x1c13e7=>{_0x1c13e7['hasOwnProp'+'erty']('mesh')&&_0x1c13e7['hasOwnProp'+'erty']('skin')&&_0x1007a9[_0x1c13e7['mesh']]['meshes']['forEach'](_0x404e9c=>{_0x404e9c['skin']=_0x5fe418[_0x1c13e7['skin']];});});},ON=async(_0x403dcf,_0x4e4e5f,_0x5848da,_0x5aa736,_0x15179d)=>{var _0x5aa1ba,_0x55742f;const _0x1876c0=(_0x5aa1ba=_0x15179d==null?void(0x11*0x192+-0x1b4+-0x18fe):_0x15179d['global'])==null?void(0x1*-0x25d7+0x34c+0x228b):_0x5aa1ba['preprocess'],_0x28a1c2=(_0x55742f=_0x15179d==null?void(0x6d*0x27+-0x17d0+-0x735*-0x1):_0x15179d['global'])==null?void(0x249a+0x424+-0x28be):_0x55742f['postproces'+'s'];_0x1876c0&&_0x1876c0(_0x4e4e5f),_0x4e4e5f['asset']&&_0x4e4e5f['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x4e248a=new Map(),_0x428011=MN(_0x4e4e5f,_0x15179d,_0x4e248a),_0x1c3e7c=DN(_0x4e4e5f,_0x428011),_0x2cf970=LN(_0x4e4e5f,_0x428011,_0x15179d),_0x46d1c6=IN(_0x4e4e5f,_0x428011,_0x15179d),_0x2e5d42=AN(_0x4e4e5f),_0xa5458d=await Promise['all'](_0x5848da),{meshes:_0x190985,meshVariants:_0x3b92e4,meshDefaultMaterials:_0x3d2a3c,promises:_0x1e4822}=EN(_0x403dcf,_0x4e4e5f,_0xa5458d,_0x15179d),_0x2952a9=CN(_0x4e4e5f,_0x428011,_0xa5458d,_0x15179d);PN(_0x403dcf,_0x4e4e5f,_0x4e248a,_0xa5458d);const _0x17246f=await Promise['all'](_0x5aa736),_0x59b2e9=_0x17246f['map'](_0x1e097b=>_0x1e097b['resource']),_0x4e2ce3=bN(_0x4e4e5f,_0x59b2e9,_0x15179d),_0x1ceb06=wN(_0x403dcf,_0x4e4e5f,_0x428011,_0xa5458d),_0x5464df=[];for(let _0x2ed694=-0xcf*0xa+0x14f9+-0xce3;_0x2ed694<_0x190985['length'];_0x2ed694++)_0x5464df[_0x2ed694]=new Em(),_0x5464df[_0x2ed694]['meshes']=_0x190985[_0x2ed694];RN(_0x4e4e5f,_0x5464df,_0x1ceb06);const _0x655816=new qF();return _0x655816['gltf']=_0x4e4e5f,_0x655816['nodes']=_0x428011,_0x655816['scenes']=_0x1c3e7c,_0x655816['animations']=_0x2952a9,_0x655816['textures']=_0x17246f,_0x655816['materials']=_0x4e2ce3,_0x655816['variants']=_0x2e5d42,_0x655816['meshVarian'+'ts']=_0x3b92e4,_0x655816['meshDefaul'+'tMaterials']=_0x3d2a3c,_0x655816['renders']=_0x5464df,_0x655816['skins']=_0x1ceb06,_0x655816['lights']=_0x2cf970,_0x655816['cameras']=_0x46d1c6,_0x655816['nodeInstan'+'cingMap']=_0x4e248a,_0x28a1c2&&_0x28a1c2(_0x4e4e5f,_0x655816),await Promise['all'](_0x1e4822),_0x655816;},FN=(_0x3e7084,_0x4cd4f4)=>{const _0x834e2e=(_0x3c2ea2,_0x3023b5)=>{switch(_0x3c2ea2){case-0x49fd+0x40+0x6fbd:return Te;case 0x370f+-0xc59+-0x4b5:return vt;case-0x1a78+-0x12be*0x3+0x79b2:return Kh;case-0x16*-0x36c+-0xb*-0x26b+0x1f7*-0x20:return Qh;case-0x1d6a+-0x4a7a+0x8ee6:return Zh;case 0x229*-0x4+-0x1*-0x3707+-0x4*0x1d8:return ma;default:return _0x3023b5;}},_0x3dc754=(_0x12bc72,_0x47de3a)=>{switch(_0x12bc72){case 0x2*-0x4e0a+-0xd637+0x1f37a:return ue;case-0xaa7e+0x1*-0xe9fd+-0x73*-0x4a9:return ip;case-0x1*-0x3ec6+0x1781+0xa*-0x487:return yt;default:return _0x47de3a;}};_0x3e7084&&(_0x4cd4f4=_0x4cd4f4??{},_0x3e7084['minFilter']=_0x834e2e(_0x4cd4f4['minFilter'],ma),_0x3e7084['magFilter']=_0x834e2e(_0x4cd4f4['magFilter'],vt),_0x3e7084['addressU']=_0x3dc754(_0x4cd4f4['wrapS'],yt),_0x3e7084['addressV']=_0x3dc754(_0x4cd4f4['wrapT'],yt));};let NN=0x1d55*-0x1+0x676+-0x1*-0x16df;const nn=_0x5465f4=>{var _0x2f07e4,_0x1b0669,_0x24142b,_0x175f07;return((_0x1b0669=(_0x2f07e4=_0x5465f4['extensions'])==null?void(0x1905+-0x1ef4+0xd9*0x7):_0x2f07e4['KHR_textur'+'e_basisu'])==null?void(0xa3d*-0x1+-0x5a6+0xfe3):_0x1b0669['source'])??((_0x175f07=(_0x24142b=_0x5465f4['extensions'])==null?void(-0xa89+0x1*0x2265+0x1fd*-0xc):_0x24142b['EXT_textur'+'e_webp'])==null?void(0x133*-0x8+0x200e+-0x2*0xb3b):_0x175f07['source'])??_0x5465f4['source'];},kN=(_0x2f71c1,_0xe02833,_0x23c265,_0x577ab2,_0xb899ab)=>{var _0x196f3e,_0x4350db,_0x180eac;if(!_0x2f71c1['images']||_0x2f71c1['images']['length']===-0xe89+0x19f9*0x1+-0xb70)return[];const _0x33385c=(_0x196f3e=_0xb899ab==null?void(0x1*-0x1bf1+0x6c6+0x152b):_0xb899ab['image'])==null?void(-0x2*-0x34+-0x1859+0x17f1):_0x196f3e['preprocess'],_0x1dcf2e=(_0x4350db=_0xb899ab==null?void(-0x1*-0x106f+0x20b1*-0x1+-0x2*-0x821):_0xb899ab['image'])==null?void(0xf27+-0x1520+-0x5f9*-0x1):_0x4350db['processAsy'+'nc'],_0x329e6e=(_0x180eac=_0xb899ab==null?void(-0x1623+-0x2520+0x27*0x185):_0xb899ab['image'])==null?void(0xdf4+-0x255a+0x1766):_0x180eac['postproces'+'s'],_0x4a642b={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x427671=_0x1534b2=>{const _0x358e62=new Set();return _0x1534b2['hasOwnProp'+'erty']('materials')&&_0x1534b2['materials']['forEach'](_0xcffb36=>{if(_0xcffb36['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x3cd21f=_0xcffb36['pbrMetalli'+'cRoughness'];if(_0x3cd21f['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2e3a2c=_0x1534b2['textures'][_0x3cd21f['baseColorT'+'exture']['index']];_0x358e62['add'](nn(_0x2e3a2c));}}if(_0xcffb36['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3a9e35=_0x1534b2['textures'][_0xcffb36['emissiveTe'+'xture']['index']];_0x358e62['add'](nn(_0x3a9e35));}if(_0xcffb36['hasOwnProp'+'erty']('extensions')){const _0x1446d6=_0xcffb36['extensions']['KHR_materi'+'als_sheen'];if(_0x1446d6&&_0x1446d6['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x43cd7f=_0x1534b2['textures'][_0x1446d6['sheenColor'+'Texture']['index']];_0x358e62['add'](nn(_0x43cd7f));}const _0x114bc9=_0xcffb36['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x114bc9&&_0x114bc9['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x440415=_0x1534b2['textures'][_0x114bc9['specularGl'+'ossinessTe'+'xture']['index']];_0x358e62['add'](nn(_0x440415));}const _0x33a03a=_0xcffb36['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x33a03a&&_0x33a03a['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x5e8c46=_0x1534b2['textures'][_0x33a03a['specularCo'+'lorTexture']['index']];_0x358e62['add'](nn(_0x5e8c46));}}}),_0x358e62;},_0x5cdc7b=(_0x597a1f,_0x24433f,_0x26afa5,_0x5c95cc,_0x326cd3,_0x64fd03)=>new Promise((_0x387401,_0x433db5)=>{const _0x566c6f=_0x13876c=>{const _0x480b3f=(_0x597a1f['name']||'gltf-textu'+'re')+'-'+NN++,_0x1af57d={'url':_0x24433f||_0x480b3f};if(_0x13876c&&(_0x1af57d['contents']=_0x13876c['slice'](-0x1be2*-0x1+-0x1edc+0x2fa)['buffer']),_0x5c95cc){const _0x2f99d3=_0x4a642b[_0x5c95cc];_0x2f99d3&&(_0x1af57d['filename']=_0x1af57d['url']+'.'+_0x2f99d3);}const _0xb3eb14={'srgb':_0x64fd03},_0x517477=new pe(_0x480b3f,'texture',_0x1af57d,_0xb3eb14,_0x326cd3);_0x517477['on']('load',_0x371a22=>_0x387401(_0x371a22)),_0x517477['on']('error',_0x5ce86a=>_0x433db5(_0x5ce86a)),_0x577ab2['add'](_0x517477),_0x577ab2['load'](_0x517477);};_0x26afa5?_0x26afa5['then'](_0x31384b=>_0x566c6f(_0x31384b)):_0x566c6f(null);}),_0x2ca5b2=_0x427671(_0x2f71c1);return _0x2f71c1['images']['map']((_0x1ae471,_0x174a4d)=>{_0x33385c&&_0x33385c(_0x1ae471);let _0x4ad11b;return _0x1dcf2e?_0x4ad11b=new Promise((_0xfe833b,_0x450a72)=>{_0x1dcf2e(_0x1ae471,(_0x584301,_0x269e5a)=>{_0x584301?_0x450a72(_0x584301):_0xfe833b(_0x269e5a);});}):_0x4ad11b=new Promise(_0x35a653=>{_0x35a653(null);}),_0x4ad11b=_0x4ad11b['then'](_0x2471eb=>{const _0x577d12=_0x2ca5b2['has'](_0x174a4d);return _0x2471eb||(_0x1ae471['hasOwnProp'+'erty']('uri')?x0(_0x1ae471['uri'])?_0x5cdc7b(_0x1ae471,_0x1ae471['uri'],null,jF(_0x1ae471['uri']),null,_0x577d12):_0x5cdc7b(_0x1ae471,jn['test'](_0x1ae471['uri'])?_0x1ae471['uri']:xe['join'](_0x23c265,_0x1ae471['uri']),null,null,{'crossOrigin':'anonymous'},_0x577d12):_0x1ae471['hasOwnProp'+'erty']('bufferView')&&_0x1ae471['hasOwnProp'+'erty']('mimeType')?_0x5cdc7b(_0x1ae471,null,_0xe02833[_0x1ae471['bufferView']],_0x1ae471['mimeType'],null,_0x577d12):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x174a4d)));}),_0x329e6e&&(_0x4ad11b=_0x4ad11b['then'](_0x20faad=>(_0x329e6e(_0x1ae471,_0x20faad),_0x20faad))),_0x4ad11b;});},UN=(_0x5faa46,_0x38fedc,_0x13d383)=>{var _0x19d1f3,_0x22dc78,_0x5d3106,_0x27d6e0,_0x2615f7;if(!((_0x19d1f3=_0x5faa46==null?void(0x11ef*0x1+-0xfe1+-0x20e):_0x5faa46['images'])!=null&&_0x19d1f3['length'])||!((_0x22dc78=_0x5faa46==null?void(-0x2028+-0x1*-0xb6+-0x325*-0xa):_0x5faa46['textures'])!=null&&_0x22dc78['length']))return[];const _0x50f01b=(_0x5d3106=_0x13d383==null?void(-0x38+-0x18d6+0x6*0x42d):_0x13d383['texture'])==null?void(-0x13*-0x7e+-0x1*0x2285+0x192b):_0x5d3106['preprocess'],_0x2801dd=(_0x27d6e0=_0x13d383==null?void(0x1*-0x2135+0x980*0x3+-0x1*-0x4b5):_0x13d383['texture'])==null?void(0x189f*-0x1+-0x6aa+0x1*0x1f49):_0x27d6e0['processAsy'+'nc'],_0x4af0f8=(_0x2615f7=_0x13d383==null?void(-0xb71+0x17b*0xa+-0x1*0x35d):_0x13d383['texture'])==null?void(-0x4eb*0x6+0xa56+0x132c):_0x2615f7['postproces'+'s'],_0x42fc7b=new Set();return _0x5faa46['textures']['map'](_0x3fe6a6=>{_0x50f01b&&_0x50f01b(_0x3fe6a6);let _0x21683a;return _0x2801dd?_0x21683a=new Promise((_0x52646f,_0x23a050)=>{_0x2801dd(_0x3fe6a6,_0x5faa46['images'],(_0x8892ab,_0x21f061)=>{_0x8892ab?_0x23a050(_0x8892ab):_0x52646f(_0x21f061);});}):_0x21683a=new Promise(_0x4485c7=>{_0x4485c7(null);}),_0x21683a=_0x21683a['then'](_0x169255=>{_0x169255=_0x169255??nn(_0x3fe6a6);const _0x1b8743=_0x42fc7b['has'](_0x169255);return _0x42fc7b['add'](_0x169255),_0x38fedc[_0x169255]['then'](_0x5e466f=>{const _0x3de7fe=_0x1b8743?tN(_0x5e466f):_0x5e466f;return FN(_0x3de7fe['resource'],(_0x5faa46['samplers']??[])[_0x3fe6a6['sampler']]),_0x3de7fe;});}),_0x4af0f8&&(_0x21683a=_0x21683a['then'](_0xf34bbb=>(_0x4af0f8(_0x3fe6a6,_0xf34bbb),_0xf34bbb))),_0x21683a;});},BN=(_0x46e750,_0x256d9d,_0x371941,_0x18d499)=>{var _0x13e8f8,_0x2126c2,_0x3e1d2a;if(!_0x46e750['buffers']||_0x46e750['buffers']['length']===0x198e+-0x2cf*0x2+-0x13f0)return[];const _0x475897=(_0x13e8f8=_0x18d499==null?void(0x18be+-0x184e+0x7*-0x10):_0x18d499['buffer'])==null?void(0x128*0xd+0x446+-0x9a7*0x2):_0x13e8f8['preprocess'],_0x4f8098=(_0x2126c2=_0x18d499==null?void(-0x605*-0x2+-0x1*-0x350+0x1*-0xf5a):_0x18d499['buffer'])==null?void(-0x1738+0xc4c+0xaec):_0x2126c2['processAsy'+'nc'],_0x32226b=(_0x3e1d2a=_0x18d499==null?void(0x3*-0x5e3+0x2261+0x1*-0x10b8):_0x18d499['buffer'])==null?void(-0x437*0x5+-0xb*-0x2e+-0x1*-0x1319):_0x3e1d2a['postproces'+'s'];return _0x46e750['buffers']['map']((_0x4b81bb,_0x1aee4f)=>{_0x475897&&_0x475897(_0x4b81bb);let _0x4ed1e8;return _0x4f8098?_0x4ed1e8=new Promise((_0x41446f,_0x2cacb9)=>{_0x4f8098(_0x4b81bb,(_0x36351f,_0x36f645)=>{_0x36351f?_0x2cacb9(_0x36351f):_0x41446f(_0x36f645);});}):_0x4ed1e8=new Promise(_0x2168b5=>{_0x2168b5(null);}),_0x4ed1e8=_0x4ed1e8['then'](_0x3cf844=>{if(_0x3cf844)return _0x3cf844;if(_0x4b81bb['hasOwnProp'+'erty']('uri')){if(x0(_0x4b81bb['uri'])){const _0x2772c5=atob(_0x4b81bb['uri']['split'](',')[-0x1*-0x1f37+-0x1da1+-0x195]),_0x44dc6a=new Uint8Array(_0x2772c5['length']);for(let _0x5baeb5=-0x1*0x1cf3+-0x12f2+0x2fe5;_0x5baeb5<_0x2772c5['length'];_0x5baeb5++)_0x44dc6a[_0x5baeb5]=_0x2772c5['charCodeAt'](_0x5baeb5);return _0x44dc6a;}return new Promise((_0x22750a,_0x37b26d)=>{ot['get'](jn['test'](_0x4b81bb['uri'])?_0x4b81bb['uri']:xe['join'](_0x371941,_0x4b81bb['uri']),{'cache':!(0x128a+0x11db*-0x2+0x896*0x2),'responseType':'arraybuffe'+'r','retry':!(-0xf7*0x6+-0xc+0x12b*0x5)},(_0xa006ad,_0x51c91d)=>{_0xa006ad?_0x37b26d(_0xa006ad):_0x22750a(new Uint8Array(_0x51c91d));});});}return _0x256d9d;}),_0x32226b&&(_0x4ed1e8=_0x4ed1e8['then'](_0x3f48ba=>(_0x32226b(_0x46e750['buffers'][_0x1aee4f],_0x3f48ba),_0x3f48ba))),_0x4ed1e8;});},zN=(_0x3d9e8b,_0x37a2a0)=>{const _0x5afc61=JSON['parse']((_0x1b1d10=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x1b1d10);let _0x4dc77d='';for(let _0x7effae=-0x76e*-0x3+0x4d*-0x3e+-0x1d2*0x2;_0x7effae<_0x1b1d10['length'];_0x7effae++)_0x4dc77d+=String['fromCharCo'+'de'](_0x1b1d10[_0x7effae]);return decodeURIComponent(escape(_0x4dc77d));})(_0x3d9e8b));if(_0x5afc61['asset']&&_0x5afc61['asset']['version']&&parseFloat(_0x5afc61['asset']['version'])<-0x38b*0x6+0x1*0x1afd+-0x5b9){_0x37a2a0('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x5afc61['asset']['version']+'\x27.');return;}_0x37a2a0(null,_0x5afc61);},VN=(_0x512f88,_0x585da3)=>{const _0x2a0368=_0x512f88 instanceof ArrayBuffer?new DataView(_0x512f88):new DataView(_0x512f88['buffer'],_0x512f88['byteOffset'],_0x512f88['byteLength']),_0x33c7d3=_0x2a0368['getUint32'](0x1f51+-0x1cf3+0x1*-0x25e,!(0x1e9f+0xf5*-0x10+-0xf4f)),_0x26e32f=_0x2a0368['getUint32'](-0xd6b+-0x1a74*0x1+-0x27e3*-0x1,!(0x19*-0x95+0xb24+-0x9*-0x61)),_0x23f26d=_0x2a0368['getUint32'](-0x28b+0x1*0x1231+-0x7cf*0x2,!(0x82a+-0x779*-0x1+-0xfa3));if(_0x33c7d3!==-0x3*-0x3c6ed0a+-0x2*-0x12bedc07+-0x4ed*-0x45dc7){_0x585da3('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x33c7d3['toString'](-0x61*-0x51+0x952*-0x1+0x443*-0x5));return;}if(_0x26e32f!==-0x101*-0x9+0x26a6*0x1+-0x1*0x2fad){_0x585da3('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x26e32f);return;}if(_0x23f26d<=0x1220+0x21*-0x19+-0xee7||_0x23f26d>_0x2a0368['byteLength']){_0x585da3('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x23f26d);return;}const _0x322252=[];let _0x271bed=-0x33*0x6f+0x1cd9+-0x1ac*0x4;for(;_0x271bed<_0x23f26d;){const _0x2db521=_0x2a0368['getUint32'](_0x271bed,!(0x232d+-0x10ec*-0x2+-0x1*0x4505));_0x271bed+_0x2db521+(0x236b+0xbae+-0x2f11)>_0x2a0368['byteLength']&&_0x585da3('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2db521);const _0x572ea5=_0x2a0368['getUint32'](_0x271bed+(0x3*0x42d+0x6a*-0x11+-0x579*0x1),!(-0x248*-0x5+0x2341+-0x2ea9*0x1)),_0x2cdf9e=new Uint8Array(_0x2a0368['buffer'],_0x2a0368['byteOffset']+_0x271bed+(0x56*-0xd+-0x397*0x1+0x7fd),_0x2db521);_0x322252['push']({'length':_0x2db521,'type':_0x572ea5,'data':_0x2cdf9e}),_0x271bed+=_0x2db521+(0x42*-0x8b+0x182*0x4+0x26*0xc9);}if(_0x322252['length']!==-0x418*0x6+0xc94+0x1*0xbfd&&_0x322252['length']!==0x2*-0xebc+-0x20a*0x9+0x2fd4){_0x585da3('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x322252[0x6d*-0xd+-0x1336+0x18bf]['type']!==0x47d1453b+0x754666b6+0x73c1ab*-0xf5){_0x585da3('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x322252[-0xc71+0x10*0x34+-0x1*-0x931]['type']['toString'](-0x229d+0x723+0x4b*0x5e));return;}if(_0x322252['length']>-0x21ca+0x4c*0x30+0x138b&&_0x322252[0xbbe+0x1*0x1fc7+-0x2b84]['type']!==-0x99aaf2+-0x12*0xaa54+0xf3ee1c){_0x585da3('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x322252[0x78d+0x1b70+0x22fc*-0x1]['type']['toString'](0x1dbd*0x1+0x631*-0x2+-0x114b));return;}_0x585da3(null,{'gltfChunk':_0x322252[0x1696+-0x32*-0x2d+0x2*-0xfb0]['data'],'binaryChunk':_0x322252['length']===-0x1ac+-0xa0d+0x1ad*0x7?_0x322252[-0x36c+-0x1a3*-0xe+-0x137d*0x1]['data']:null});},GN=(_0x4847c6,_0x31078b,_0x5aadb5)=>{const _0x512731=()=>{const _0x3b84d4=new Uint8Array(_0x31078b);return _0x3b84d4[0x1f5e+-0x15da*0x1+-0x984]===0x2198+-0x119*-0x12+-0xa97*0x5&&_0x3b84d4[0x80+0x1*-0x13d9+-0x1*-0x135a]===-0x1*-0x1a64+-0x1686+0x1*-0x372&&_0x3b84d4[-0xc49+-0x9a9+0x15f4]===0x31*0x3+-0x1*0x59e+-0x5*-0x113&&_0x3b84d4[-0x1*-0x1bdd+-0x5c0+-0x2e*0x7b]===0x24b9+0x1c73*0x1+-0x40e6;};_0x4847c6&&_0x4847c6['toLowerCas'+'e']()['endsWith']('.glb')||_0x512731()?VN(_0x31078b,_0x5aadb5):_0x5aadb5(null,{'gltfChunk':_0x31078b,'binaryChunk':null});},HN=(_0x1ab0e2,_0x48682b,_0x174f81)=>{var _0x5adacc,_0x23a26e,_0x39f29e,_0x176d7c;const _0x52b11f=[],_0x18a7a8=(_0x5adacc=_0x174f81==null?void(-0x232*0xa+-0x26ad+0x3ca1):_0x174f81['bufferView'])==null?void(-0x24c3*0x1+-0x1ac3*-0x1+-0x14*-0x80):_0x5adacc['preprocess'],_0x22b3b2=(_0x23a26e=_0x174f81==null?void(-0x1*0x287+-0x1294+0x151b):_0x174f81['bufferView'])==null?void(0x1d80+-0x268e+-0x1*-0x90e):_0x23a26e['processAsy'+'nc'],_0x375543=(_0x39f29e=_0x174f81==null?void(-0xf76*0x2+-0x1*-0xd7f+0x116d*0x1):_0x174f81['bufferView'])==null?void(-0xc19+0x10ca+-0x4b1):_0x39f29e['postproces'+'s'];if(!((_0x176d7c=_0x1ab0e2['bufferView'+'s'])!=null&&_0x176d7c['length']))return _0x52b11f;for(let _0x4d8f1a=-0x1e*-0x6c+-0x2*-0xed5+-0x2a52*0x1;_0x4d8f1a<_0x1ab0e2['bufferView'+'s']['length'];++_0x4d8f1a){const _0x341b09=_0x1ab0e2['bufferView'+'s'][_0x4d8f1a];_0x18a7a8&&_0x18a7a8(_0x341b09);let _0x191df1;_0x22b3b2?_0x191df1=new Promise((_0x5e8f42,_0x287c45)=>{_0x22b3b2(_0x341b09,_0x48682b,(_0x503190,_0x4e5e3c)=>{_0x503190?_0x287c45(_0x503190):_0x5e8f42(_0x4e5e3c);});}):_0x191df1=new Promise(_0x1c98a2=>{_0x1c98a2(null);}),_0x191df1=_0x191df1['then'](_0x2570e1=>_0x2570e1||_0x48682b[_0x341b09['buffer']]['then'](_0x38fa3a=>new Uint8Array(_0x38fa3a['buffer'],_0x38fa3a['byteOffset']+(_0x341b09['byteOffset']||0x1*0x25d+-0x23bd+0x4*0x858),_0x341b09['byteLength']))),_0x341b09['hasOwnProp'+'erty']('byteStride')&&(_0x191df1=_0x191df1['then'](_0x531f7a=>(_0x531f7a['byteStride']=_0x341b09['byteStride'],_0x531f7a))),_0x375543&&(_0x191df1=_0x191df1['then'](_0x580dba=>(_0x375543(_0x341b09,_0x580dba),_0x580dba))),_0x52b11f['push'](_0x191df1);}return _0x52b11f;};class kh{static['parse'](_0x36b213,_0x1ccd87,_0x270a32,_0x9269e4,_0x55c1f2,_0x31e372,_0x450110){GN(_0x36b213,_0x270a32,(_0x541af9,_0x37b1bc)=>{if(_0x541af9){_0x450110(_0x541af9);return;}zN(_0x37b1bc['gltfChunk'],(_0x1fd536,_0x49715a)=>{if(_0x1fd536){_0x450110(_0x1fd536);return;}const _0x50a887=BN(_0x49715a,_0x37b1bc['binaryChun'+'k'],_0x1ccd87,_0x31e372),_0x295ff9=HN(_0x49715a,_0x50a887,_0x31e372),_0x2112c6=kN(_0x49715a,_0x295ff9,_0x1ccd87,_0x55c1f2,_0x31e372),_0x22eeea=UN(_0x49715a,_0x2112c6,_0x31e372);ON(_0x9269e4,_0x49715a,_0x295ff9,_0x22eeea,_0x31e372)['then'](_0x345f00=>_0x450110(null,_0x345f00))['catch'](_0x2adbae=>_0x450110(_0x2adbae));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x29e77f){super(_0x29e77f,'animation'),this['device']=_0x29e77f['graphicsDe'+'vice'],this['assets']=_0x29e77f['assets'];}['load'](_0x1df8d8,_0x58de83,_0x16b75e){typeof _0x1df8d8=='string'&&(_0x1df8d8={'load':_0x1df8d8,'original':_0x1df8d8});const _0x5e02a4={'retry':this['maxRetries']>-0x1*0x1ed+0x96b*0x3+0x2*-0xd2a,'maxRetries':this['maxRetries']};(_0x1df8d8['load']['startsWith']('blob:')||_0x1df8d8['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x1df8d8['original'])['toLowerCas'+'e']()==='.glb'?_0x5e02a4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5e02a4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1df8d8['load'],_0x5e02a4,(_0x1dc514,_0x2a4032)=>{_0x1dc514?_0x58de83('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x1df8d8['original']+'\x20['+_0x1dc514+']'):xe['getExtensi'+'on'](_0x1df8d8['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x2a4032,this['device'],this['assets'],(_0x16b75e==null?void(-0xd*-0x23+-0xd3c+0xb75):_0x16b75e['options'])??{},(_0x5d5bd6,_0x1b95c0)=>{var _0x1a0b23;if(_0x5d5bd6)_0x58de83(_0x5d5bd6);else{const _0x30ecbc=_0x1b95c0['animations'];if((_0x1a0b23=_0x16b75e==null?void(-0xb66+-0x3*0x6d3+0x1fdf):_0x16b75e['data'])!=null&&_0x1a0b23['events']){for(let _0x45534e=-0x109c*0x1+0xace*0x1+0x2*0x2e7;_0x45534e<_0x30ecbc['length'];_0x45534e++)_0x30ecbc[_0x45534e]['events']=new Hv(Object['values'](_0x16b75e['data']['events']));}_0x1b95c0['destroy'](),_0x58de83(null,_0x30ecbc);}}):_0x58de83(null,this['_parseAnim'+'ationV'+_0x2a4032['animation']['version']](_0x2a4032));});}['open'](_0x1b01c9,_0x2d84ca,_0x190c45){return _0x2d84ca;}['_parseAnim'+'ationV3'](_0x3cd47e){const _0x370b0c=_0x3cd47e['animation'],_0x4ad2f1=new ug();_0x4ad2f1['name']=_0x370b0c['name'],_0x4ad2f1['duration']=_0x370b0c['duration'];for(let _0x2c9881=0x1721+0x1a02*0x1+0x7*-0x705;_0x2c9881<_0x370b0c['nodes']['length'];_0x2c9881++){const _0x443b74=new fg(),_0x5297b0=_0x370b0c['nodes'][_0x2c9881];_0x443b74['_name']=_0x5297b0['name'];for(let _0x40070d=0x19*-0x51+-0x309+0xaf2;_0x40070d<_0x5297b0['keys']['length'];_0x40070d++){const _0x2d50a7=_0x5297b0['keys'][_0x40070d],_0x27abbf=_0x2d50a7['time'],_0x3ec3fe=_0x2d50a7['pos'],_0x118cb1=_0x2d50a7['rot'],_0x482cc5=_0x2d50a7['scale'],_0x26784a=new D(_0x3ec3fe[-0x7c6*0x1+-0x9c3*0x1+0x1*0x1189],_0x3ec3fe[0x5c6+-0x1a76+-0x1*-0x14b1],_0x3ec3fe[-0x1900+-0x1ec7*0x1+0x37c9]),_0x5d4a70=new le()['setFromEul'+'erAngles'](_0x118cb1[0x1*0x916+-0x1271*0x1+-0x1*-0x95b],_0x118cb1[0x1331+-0x10cf*-0x1+-0x1*0x23ff],_0x118cb1[-0x726+-0x142b+-0x1*-0x1b53]),_0x3cba3e=new D(_0x482cc5[-0x3*0x9fe+0xd0c+0x10ee],_0x482cc5[-0x14bd*0x1+0x2*-0x989+0x27d0],_0x482cc5[0x2607+0xd17+-0x331c*0x1]),_0x28f0dc=new dg(_0x27abbf,_0x26784a,_0x5d4a70,_0x3cba3e);_0x443b74['_keys']['push'](_0x28f0dc);}_0x4ad2f1['addNode'](_0x443b74);}return _0x4ad2f1;}['_parseAnim'+'ationV4'](_0x4ea257){const _0x19b042=_0x4ea257['animation'],_0x2b9f75=new ug();_0x2b9f75['name']=_0x19b042['name'],_0x2b9f75['duration']=_0x19b042['duration'];for(let _0x38b300=0x307+-0x337*0x1+0x30;_0x38b300<_0x19b042['nodes']['length'];_0x38b300++){const _0x4f94f1=new fg(),_0x43ed26=_0x19b042['nodes'][_0x38b300];_0x4f94f1['_name']=_0x43ed26['name'];const _0x1c1330=_0x43ed26['defaults']['p'],_0x5ec421=_0x43ed26['defaults']['r'],_0xe09ed7=_0x43ed26['defaults']['s'];for(let _0x3fcb36=0x26*-0xed+-0x3*0x1c5+-0x3*-0xd7f;_0x3fcb36<_0x43ed26['keys']['length'];_0x3fcb36++){const _0x15a866=_0x43ed26['keys'][_0x3fcb36],_0xf8105=_0x15a866['t'],_0x11689e=_0x1c1330||_0x15a866['p'],_0xff7dba=_0x5ec421||_0x15a866['r'],_0x1021b2=_0xe09ed7||_0x15a866['s'],_0x3f311e=new D(_0x11689e[0x911+0xde8+-0x16f9],_0x11689e[0x97*-0x2e+0xe4e*0x2+-0x179],_0x11689e[0x1671+0x7d6*0x1+-0x7*0x453]),_0x1c9c88=new le()['setFromEul'+'erAngles'](_0xff7dba[0x4dd+0x51b+-0x9f8],_0xff7dba[0x13ae+-0x7*0x577+-0x1294*-0x1],_0xff7dba[0x183f+-0xc*-0xcc+-0x21cd]),_0x4b505f=new D(_0x1021b2[0x1*-0x195d+0x14e2+0x47b],_0x1021b2[-0x17*0x199+-0x1a91+-0x709*-0x9],_0x1021b2[0x73*0x4a+0x1*-0xe9b+-0x12a1]),_0x1dd927=new dg(_0xf8105,_0x3f311e,_0x1c9c88,_0x4b505f);_0x4f94f1['_keys']['push'](_0x1dd927);}_0x2b9f75['addNode'](_0x4f94f1);}return _0x2b9f75;}}class $N extends Qe{constructor(_0x109c10){super(_0x109c10,'animclip');}['load'](_0x12f987,_0xa17177){typeof _0x12f987=='string'&&(_0x12f987={'load':_0x12f987,'original':_0x12f987});const _0x36d2e1={'retry':this['maxRetries']>0xd4+-0x808+0x734,'maxRetries':this['maxRetries']};_0x12f987['load']['startsWith']('blob:')&&(_0x36d2e1['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x12f987['load'],_0x36d2e1,(_0xa8a5b8,_0x1b13b8)=>{_0xa8a5b8?_0xa17177('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x12f987['original']+'\x20['+_0xa8a5b8+']'):_0xa17177(null,_0x1b13b8);});}['open'](_0x504a2d,_0x1ff497){const _0x198e4d=_0x1ff497['name'],_0x5c7287=_0x1ff497['duration'],_0x3a552a=_0x1ff497['inputs']['map'](_0x59edcd=>new Fh(0x685+-0x227e+0xdfd*0x2,_0x59edcd)),_0x27663d=_0x1ff497['outputs']['map'](_0x56c029=>new Fh(_0x56c029['components'],_0x56c029['data'])),_0x5b3c41=_0x1ff497['curves']['map'](_0x57ec8c=>new v0([_0x57ec8c['path']],_0x57ec8c['inputIndex'],_0x57ec8c['outputInde'+'x'],_0x57ec8c['interpolat'+'ion']));return new Qi(_0x198e4d,_0x5c7287,_0x3a552a,_0x27663d,_0x5b3c41);}}class XN extends Qe{constructor(_0x15be92){super(_0x15be92,'animstateg'+'raph');}['load'](_0x586960,_0x29834a){typeof _0x586960=='string'&&(_0x586960={'load':_0x586960,'original':_0x586960});const _0xc030ed={'retry':this['maxRetries']>-0xaa5+-0x1e58+0x28fd,'maxRetries':this['maxRetries']};_0x586960['load']['startsWith']('blob:')&&(_0xc030ed['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x586960['load'],_0xc030ed,(_0x56e131,_0x1c8efe)=>{_0x56e131?_0x29834a('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x586960['original']+'\x20['+_0x56e131+']'):_0x29834a(null,_0x1c8efe);});}['open'](_0x9f5bde,_0x9d9c30){return new Jc(_0x9d9c30);}}const Af=(function(){if(typeof window>'u')return!(-0x6ae+0xb3*-0x1+0x762);const _0x5b3dcc=window['navigator']['userAgent'],_0x5a6a67=_0x5b3dcc['indexOf']('MSIE\x20');if(_0x5a6a67>0x243f+-0xf57+-0x14e8)return parseInt(_0x5b3dcc['substring'](_0x5a6a67+(0xd8+0x46f+0x542*-0x1),_0x5b3dcc['indexOf']('.',_0x5a6a67)),-0x7d0+-0xe1*-0x12+-0x7f8);if(_0x5b3dcc['indexOf']('Trident/')>0x15df+0x4cf*0x1+-0x1aae){const _0x423ceb=_0x5b3dcc['indexOf']('rv:');return parseInt(_0x5b3dcc['substring'](_0x423ceb+(0x1037*-0x1+0xe14*-0x1+0x1e4e),_0x5b3dcc['indexOf']('.',_0x423ceb)),-0xe9*-0xd+-0x222f+0x1664);}return!(-0x1b*0xba+0x1e13+0x3*-0x37c);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x516723){super(_0x516723,'audio'),this['manager']=_0x516723['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x40a967){const _0x3e3d3e=xe['getExtensi'+'on'](_0x40a967);return qN['indexOf'](_0x3e3d3e)>-(-0x37f+-0x211c+0x249c)||_0x40a967['startsWith']('blob:');}['load'](_0x51afa3,_0x592e8b){typeof _0x51afa3=='string'&&(_0x51afa3={'load':_0x51afa3,'original':_0x51afa3});const _0x10dcad=function(_0x2ec4f1){_0x592e8b(null,new Mw(_0x2ec4f1));},_0x19b039=function(_0x168b3a){let _0x535df7='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x51afa3['original'];_0x168b3a&&(_0x535df7+=':\x20'+(_0x168b3a['message']||_0x168b3a)),console['warn'](_0x535df7),_0x592e8b(_0x535df7);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x51afa3['original'])){_0x19b039('Audio\x20form'+'at\x20for\x20'+_0x51afa3['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x51afa3['load'],_0x10dcad,_0x19b039);}else _0x19b039(null);}['_createSou'+'nd'](_0xf985ef,_0x12790b,_0x16c9c9){if(Dl()){const _0x30d465=this['manager'];if(!_0x30d465['context']){_0x16c9c9('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x51213f={'retry':this['maxRetries']>0xc*0x245+0x24a0+-0x3fdc,'maxRetries':this['maxRetries']};(_0xf985ef['startsWith']('blob:')||_0xf985ef['startsWith']('data:'))&&(_0x51213f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0xf985ef,_0x51213f,(_0x4c3ac7,_0x5c86f6)=>{if(_0x4c3ac7){_0x16c9c9(_0x4c3ac7);return;}_0x30d465['context']['decodeAudi'+'oData'](_0x5c86f6,_0x12790b,_0x16c9c9);});}else{let _0x5e0e1e=null;try{_0x5e0e1e=new Audio();}catch{_0x16c9c9('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x5e0e1e);const _0xed49c8=function(){_0x5e0e1e['removeEven'+'tListener']('canplaythr'+'ough',_0xed49c8),Af&&document['body']['removeChil'+'d'](_0x5e0e1e),_0x12790b(_0x5e0e1e);};_0x5e0e1e['onerror']=function(){_0x5e0e1e['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x5e0e1e),_0x16c9c9();},_0x5e0e1e['addEventLi'+'stener']('canplaythr'+'ough',_0xed49c8),_0x5e0e1e['src']=_0xf985ef;}}}class YN extends Qe{constructor(_0x2a6631){super(_0x2a6631,'binary');}['load'](_0x2037b6,_0x23eb32){typeof _0x2037b6=='string'&&(_0x2037b6={'load':_0x2037b6,'original':_0x2037b6}),ot['get'](_0x2037b6['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x7d*0x2d+0x188c+-0x2e85,'maxRetries':this['maxRetries']},(_0x2fa57c,_0x374add)=>{_0x2fa57c?_0x23eb32('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x2037b6['original']+'\x20['+_0x2fa57c+']'):_0x23eb32(null,_0x374add);});}['openBinary'](_0x4465ba){return _0x4465ba['buffer'];}}class yr{constructor(_0x3ac4ab,_0x5d1706,_0x1997e6,_0x39cc08){const _0x2d4262=function(_0x597bd2,_0x20ba19,_0x315d55){const _0x34a381=yr['createAsse'+'t'](_0x5d1706['name'],_0x597bd2,_0x20ba19,_0x315d55);return _0x1997e6['add'](_0x34a381),_0x34a381;},_0x2ec830=[];for(let _0x3754a6=-0x9c5+0x209c*-0x1+0x2a61;_0x3754a6<_0x3ac4ab['renders']['length'];++_0x3754a6)_0x2ec830['push'](_0x2d4262('render',_0x3ac4ab['renders'][_0x3754a6],_0x3754a6));const _0x49bb95=[];for(let _0x423123=-0x49*0xd+0x217b+-0xce*0x25;_0x423123<_0x3ac4ab['materials']['length'];++_0x423123)_0x49bb95['push'](_0x2d4262('material',_0x3ac4ab['materials'][_0x423123],_0x423123));const _0x1b1141=[];for(let _0x23ddf1=-0x8*0x2d2+-0x33d*-0x1+-0x123*-0x11;_0x23ddf1<_0x3ac4ab['animations']['length'];++_0x23ddf1)_0x1b1141['push'](_0x2d4262('animation',_0x3ac4ab['animations'][_0x23ddf1],_0x23ddf1));this['data']=_0x3ac4ab,this['_model']=null,this['_assetName']=_0x5d1706['name'],this['_assets']=_0x1997e6,this['_defaultMa'+'terial']=_0x39cc08,this['renders']=_0x2ec830,this['materials']=_0x49bb95,this['textures']=_0x3ac4ab['textures'],this['animations']=_0x1b1141;}get['model'](){if(!this['_model']){const _0x5977f7=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x17e834=yr['createAsse'+'t'](this['_assetName'],'model',_0x5977f7,-0x22d6+0xe*-0x1cd+0x3c0c);this['_assets']['add'](_0x17e834),this['_model']=_0x17e834;}return this['_model'];}static['createAsse'+'t'](_0x4759d7,_0x421010,_0x4a0e88,_0xaec41b){const _0x48d25e=new pe(_0x4759d7+'/'+_0x421010+'/'+_0xaec41b,_0x421010,{'url':''});return _0x48d25e['resource']=_0x4a0e88,_0x48d25e['loaded']=!(0x2*0xef9+0x447*-0x7+0x1*-0x1),_0x48d25e;}['instantiat'+'eModelEnti'+'ty'](_0x2132fe){const _0x335904=new lt(void(-0x212*0xd+-0x606+0x20f0),this['_assets']['_loader']['_app']);return _0x335904['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x2132fe)),_0x335904;}['instantiat'+'eRenderEnt'+'ity'](_0x12c4b4){const _0x146964=this['_defaultMa'+'terial'],_0x42cb6a=[],_0x144f38=function(_0x4b6ff2,_0x5bdb4b,_0x368674,_0x17260e,_0x15c923,_0x23d0b8,_0x10f409,_0x2d2248){const _0x104f92=_0x15c923[_0x368674['id']],_0xde9729=_0x104f92===void(0xfeb+-0x545*0x1+-0x3a*0x2f)?_0x146964:_0x17260e[_0x104f92],_0x52ad21=new He(_0x368674,_0xde9729);_0x368674['morph']&&(_0x52ad21['morphInsta'+'nce']=new xa(_0x368674['morph'])),_0x10f409['hasOwnProp'+'erty']('skin')&&_0x42cb6a['push']({'meshInstance':_0x52ad21,'rootBone':_0x4b6ff2,'entity':_0x5bdb4b});const _0x1c64b3=_0x2d2248['get'](_0x10f409);if(_0x1c64b3){const _0xedb9db=_0x1c64b3['matrices'],_0xdc0b7f=kt['getDefault'+'Instancing'+'Format'](_0x368674['device']),_0x484c7c=new Is(_0x368674['device'],_0xdc0b7f,_0xedb9db['length']/(0x901+-0x2039+0x1748),{'data':_0xedb9db});_0x52ad21['setInstanc'+'ing'](_0x484c7c),_0x52ad21['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x2f9*0x2+-0x1*-0xe3a+-0x142c);}return _0x52ad21;},_0x4e353c=(_0x4306e2,_0x1fd2ad,_0x4e6953)=>{const _0x43ead0=new lt(void(-0x27*0x3+0x1*-0x1915+0x198a),this['_assets']['_loader']['_app']);_0x1fd2ad['_cloneInte'+'rnal'](_0x43ead0),_0x4306e2||(_0x4306e2=_0x43ead0);let _0x4a8440=null,_0x44b77c=null;for(let _0x118352=-0xd69+-0x44c+-0x3*-0x5e7;_0x118352<_0x4e6953['nodes']['length'];_0x118352++)if(_0x4e6953['nodes'][_0x118352]===_0x1fd2ad){const _0x2c3e46=_0x4e6953['gltf']['nodes'][_0x118352];if(_0x2c3e46['hasOwnProp'+'erty']('mesh')){const _0x22eab6=_0x4e6953['renders'][_0x2c3e46['mesh']]['meshes'];_0x44b77c=this['renders'][_0x2c3e46['mesh']];for(let _0x4dde3b=0x660+-0xab4+0x454;_0x4dde3b<_0x22eab6['length'];_0x4dde3b++){const _0x36dead=_0x22eab6[_0x4dde3b];if(_0x36dead){const _0x2610c1=_0x144f38(_0x4306e2,_0x43ead0,_0x36dead,_0x4e6953['materials'],_0x4e6953['meshDefaul'+'tMaterials'],_0x4e6953['skins'],_0x2c3e46,_0x4e6953['nodeInstan'+'cingMap']);_0x4a8440||(_0x4a8440=[]),_0x4a8440['push'](_0x2610c1);}}}if(_0x4e6953['lights']){const _0x117149=_0x4e6953['lights']['get'](_0x2c3e46);_0x117149&&_0x43ead0['addChild'](_0x117149['clone']());}if(_0x4e6953['cameras']){const _0x2c073b=_0x4e6953['cameras']['get'](_0x2c3e46);_0x2c073b&&_0x2c073b['camera']['system']['cloneCompo'+'nent'](_0x2c073b,_0x43ead0);}}_0x4a8440&&(_0x43ead0['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x4a8440},_0x12c4b4)),_0x43ead0['render']['assignAsse'+'t'](_0x44b77c));const _0x1c3d87=_0x1fd2ad['children'];for(let _0x877f1a=-0xd37+-0x61*-0x47+-0xdb0;_0x877f1a<_0x1c3d87['length'];_0x877f1a++){const _0x3661d5=_0x4e353c(_0x4306e2,_0x1c3d87[_0x877f1a],_0x4e6953);_0x43ead0['addChild'](_0x3661d5);}return _0x43ead0;},_0x523b1c=[];for(const _0x259dae of this['data']['scenes'])_0x523b1c['push'](_0x4e353c(null,_0x259dae,this['data']));return _0x42cb6a['forEach'](_0x268a5b=>{_0x268a5b['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x268a5b['meshInstan'+'ce']['mesh']['skin'],_0x268a5b['rootBone'],_0x268a5b['entity']),_0x268a5b['meshInstan'+'ce']['node']['render']['rootBone']=_0x268a5b['rootBone'];}),yr['createScen'+'eHierarchy'](_0x523b1c,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x568d8a,_0x372a1b){const _0x3df0af=_0x372a1b?this['data']['variants'][_0x372a1b]:null;if(_0x3df0af===void(-0x6*-0x165+0xac2+0x220*-0x9)){w['warn']('No\x20variant'+'\x20named\x20'+_0x372a1b+('\x20exists\x20in'+'\x20resource'));return;}const _0x465014=_0x568d8a['findCompon'+'ents']('render');for(let _0x5b4e51=0xe1b+0x649*0x1+-0x3a*0x5a;_0x5b4e51<_0x465014['length'];_0x5b4e51++){const _0x39ee86=_0x465014[_0x5b4e51];this['_applyMate'+'rialVarian'+'t'](_0x3df0af,_0x39ee86['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x29cfe8,_0x44bc77){const _0x1f2765=_0x44bc77?this['data']['variants'][_0x44bc77]:null;if(_0x1f2765===void(-0x5*-0x77b+0xaf1*-0x3+-0x494)){w['warn']('No\x20variant'+'\x20named\x20'+_0x44bc77+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x1f2765,_0x29cfe8);}['_applyMate'+'rialVarian'+'t'](_0x13cbcc,_0x5125e9){_0x5125e9['forEach'](_0x26a741=>{if(_0x13cbcc===null)_0x26a741['material']=this['_defaultMa'+'terial'];else{const _0x2f360a=this['data']['meshVarian'+'ts'][_0x26a741['mesh']['id']];_0x2f360a&&(_0x26a741['material']=this['data']['materials'][_0x2f360a[_0x13cbcc]]);}w['assert'](_0x26a741['material']);});}static['createScen'+'eHierarchy'](_0x64c00,_0x2cbdbd){let _0xb2faf2=null;if(_0x64c00['length']===-0xbac+0x24ed*0x1+-0x2*0xca0)_0xb2faf2=_0x64c00[-0x256d+0x1579+0xff4];else{_0xb2faf2=new _0x2cbdbd('SceneGroup');for(const _0x5794f6 of _0x64c00)_0xb2faf2['addChild'](_0x5794f6);}return _0xb2faf2;}static['createMode'+'l'](_0x4667b8,_0x1e1725){const _0x3e1763=function(_0x304653,_0x5a9fad,_0x25cad7,_0x42bfeb,_0x46804c,_0x3d4247,_0x506936){const _0x56c4ca=_0x4667b8['meshDefaul'+'tMaterials'][_0x5a9fad['id']],_0x3f1cbb=_0x56c4ca===void(-0x1*-0x641+-0x2579*0x1+0xde*0x24)?_0x1e1725:_0x46804c[_0x56c4ca],_0x3d3828=new He(_0x5a9fad,_0x3f1cbb,_0x3d4247);if(_0x5a9fad['morph']){const _0x26523e=new xa(_0x5a9fad['morph']);_0x3d3828['morphInsta'+'nce']=_0x26523e,_0x304653['morphInsta'+'nces']['push'](_0x26523e);}if(_0x506936['hasOwnProp'+'erty']('skin')){const _0x3afad5=_0x506936['skin'],_0x52c58d=_0x25cad7[_0x3afad5];_0x5a9fad['skin']=_0x52c58d;const _0x12d1e0=_0x42bfeb[_0x3afad5];_0x3d3828['skinInstan'+'ce']=_0x12d1e0,_0x304653['skinInstan'+'ces']['push'](_0x12d1e0);}_0x304653['meshInstan'+'ces']['push'](_0x3d3828);},_0x53745d=new sr(),_0x587ee5=[];for(const _0x2f339f of _0x4667b8['skins']){const _0x40b7be=new Ol(_0x2f339f);_0x40b7be['bones']=_0x2f339f['bones'],_0x587ee5['push'](_0x40b7be);}_0x53745d['graph']=yr['createScen'+'eHierarchy'](_0x4667b8['scenes'],Ie);for(let _0x14858b=-0x1*0x1542+0xfd2+0x570;_0x14858b<_0x4667b8['nodes']['length'];_0x14858b++){const _0x459f4f=_0x4667b8['nodes'][_0x14858b];if(_0x459f4f['root']===_0x53745d['graph']){const _0x3431a7=_0x4667b8['gltf']['nodes'][_0x14858b];if(_0x3431a7['hasOwnProp'+'erty']('mesh')){const _0x200998=_0x4667b8['renders'][_0x3431a7['mesh']]['meshes'];for(let _0xda4718=0x6d*0x47+0x11d*0x19+-0x1d08*0x2;_0xda4718<_0x200998['length'];_0xda4718++){const _0x5cf69c=_0x200998[_0xda4718];_0x5cf69c&&_0x3e1763(_0x53745d,_0x5cf69c,_0x4667b8['skins'],_0x587ee5,_0x4667b8['materials'],_0x459f4f,_0x3431a7);}}}}return _0x53745d;}['destroy'](){const _0xfa08cb=this['_assets'],_0x3e69ac=function(_0x23ab8a){_0xfa08cb['remove'](_0x23ab8a),_0x23ab8a['unload']();},_0x11aab2=function(_0x158988){_0x158988['forEach'](_0x38b5d0=>{_0x3e69ac(_0x38b5d0);});};this['animations']&&(_0x11aab2(this['animations']),this['animations']=null),this['textures']&&(_0x11aab2(this['textures']),this['textures']=null),this['materials']&&(_0x11aab2(this['materials']),this['materials']=null),this['renders']&&(_0x11aab2(this['renders']),this['renders']=null),this['_model']&&(_0x3e69ac(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0xdc396,_0x2353b9,_0x421e93){this['_device']=_0xdc396,this['_assets']=_0x2353b9,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x421e93;}['_getUrlWit'+'houtParams'](_0x5baf09){return _0x5baf09['indexOf']('?')>=-0x3*0x21a+0x1421+-0xdd3?_0x5baf09['split']('?')[-0xb5a+-0x1184+0x1cde]:_0x5baf09;}['load'](_0x33cd41,_0xa058ae,_0x39b063){pe['fetchArray'+'Buffer'](_0x33cd41['load'],(_0x543055,_0x3ca7bb)=>{_0x543055?_0xa058ae(_0x543055):kh['parse'](this['_getUrlWit'+'houtParams'](_0x33cd41['original']),xe['extractPat'+'h'](_0x33cd41['load']),_0x3ca7bb,this['_device'],_0x39b063['registry'],_0x39b063['options'],(_0x3d04c7,_0x55981d)=>{_0x3d04c7?_0xa058ae(_0x3d04c7):_0xa058ae(null,new yr(_0x55981d,_0x39b063,this['_assets'],this['_defaultMa'+'terial']));});},_0x39b063,this['maxRetries']);}['open'](_0x2891f8,_0x51f112,_0x3ef75c){return _0x51f112;}['patch'](_0x421b64,_0x25ed54){}}class ZN extends Qe{constructor(_0x4361dd){super(_0x4361dd,'container'),this['glbContain'+'erParser']=new KN(_0x4361dd['graphicsDe'+'vice'],_0x4361dd['assets'],-0xb*-0x3e+-0xdbe*0x2+-0x2*-0xc69),this['parsers']={};}set['maxRetries'](_0x3e4d31){this['glbContain'+'erParser']['maxRetries']=_0x3e4d31;for(const _0x541ecb in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x541ecb)&&(this['parsers'][_0x541ecb]['maxRetries']=_0x3e4d31);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x3e4b84){return _0x3e4b84['indexOf']('?')>=-0x3e+0x1f*-0xd+0x1d1?_0x3e4b84['split']('?')[-0x1dde+-0x1b10+0x38ee]:_0x3e4b84;}['_getParser'](_0x15de33){const _0x5bbdba=_0x15de33?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x15de33))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x5bbdba]||this['glbContain'+'erParser'];}['load'](_0x3f3d04,_0x2212fa,_0x19dbec){typeof _0x3f3d04=='string'&&(_0x3f3d04={'load':_0x3f3d04,'original':_0x3f3d04}),this['_getParser'](_0x3f3d04['original'])['load'](_0x3f3d04,_0x2212fa,_0x19dbec);}['open'](_0x5d973b,_0x2bc675,_0x2c2477){return this['_getParser'](_0x5d973b)['open'](_0x5d973b,_0x2bc675,_0x2c2477);}}class QN extends Qe{constructor(_0xea1bba){super(_0xea1bba,'css'),h(this,'decoder',null);}['load'](_0x5e3718,_0x4e4119){typeof _0x5e3718=='string'&&(_0x5e3718={'load':_0x5e3718,'original':_0x5e3718}),ot['get'](_0x5e3718['load'],{'retry':this['maxRetries']>0x24e3+-0x2191+-0x352,'maxRetries':this['maxRetries']},(_0x36b00f,_0x158d74)=>{_0x36b00f?_0x4e4119('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x5e3718['original']+'\x20['+_0x36b00f+']'):_0x4e4119(null,_0x158d74);});}['openBinary'](_0x25b5b7){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x25b5b7);}}class JN extends Qe{constructor(_0x12ab6d){super(_0x12ab6d,'cubemap'),this['_device']=_0x12ab6d['graphicsDe'+'vice'],this['_registry']=_0x12ab6d['assets'],this['_loader']=_0x12ab6d['loader'];}['load'](_0x3df518,_0x3fed9f,_0x4dd7cf){this['loadAssets'](_0x4dd7cf,_0x3fed9f);}['open'](_0x1a82b4,_0x29def8,_0x2a877f){return _0x2a877f?_0x2a877f['resource']:null;}['patch'](_0x39777a,_0x322df4){this['loadAssets'](_0x39777a,(_0x21ea63,_0x4f762c)=>{_0x21ea63&&(_0x322df4['fire']('error',_0x39777a),_0x322df4['fire']('error:'+_0x39777a['id'],_0x21ea63,_0x39777a),_0x39777a['fire']('error',_0x39777a));});}['getAssetId'+'s'](_0x303e2a){const _0x74581=[];if(_0x74581[0x5d9*0x3+-0x1a5f*0x1+-0x71*-0x14]=_0x303e2a['file'],(_0x303e2a['loadFaces']||!_0x303e2a['file'])&&_0x303e2a['data']&&_0x303e2a['data']['textures']){for(let _0x4d3766=0x1*-0x1190+0x2238+0x10a8*-0x1;_0x4d3766<0x1204+-0x1fe5+0x1*0xde7;++_0x4d3766)_0x74581[_0x4d3766+(0x112a+0x23ee+0x1*-0x3517)]=_0x303e2a['data']['textures'][_0x4d3766];}else _0x74581[0xb*0x2c5+0x181f+-0x3695*0x1]=_0x74581[-0x81d*-0x1+-0x203b*-0x1+-0x2856]=_0x74581[0x65b*0x5+-0x1086+0x2*-0x79f]=_0x74581[-0x15d*0x16+0x11*0x99+0x1*0x13d9]=_0x74581[0xf*0x15b+0x1999+0x2de9*-0x1]=_0x74581[-0xedd*0x2+-0xb0c+0x7*0x5d4]=null;return _0x74581;}['compareAss'+'etIds'](_0x3508dc,_0x47c53c){return _0x3508dc&&_0x47c53c?parseInt(_0x3508dc,-0x67*-0x9+0x2ad*0x3+-0xb9c)===_0x3508dc||typeof _0x3508dc=='string'?_0x3508dc===_0x47c53c:_0x3508dc['url']===_0x47c53c['url']:_0x3508dc!==null==(_0x47c53c!==null);}['update'](_0x51f189,_0x66cf46,_0x2794d1){const _0x44c790=_0x51f189['data']||{},_0x233199=_0x51f189['_handlerSt'+'ate']['assets'],_0x3fe907=_0x51f189['_resources'];let _0x358ea9,_0x39f940,_0x4cf441;const _0xade084=[null,null,null,null,null,null,null],_0x167c47=function(){return _0x44c790['hasOwnProp'+'erty']('type')?_0x44c790['type']:_0x44c790['hasOwnProp'+'erty']('rgbm')?_0x44c790['rgbm']?Zi:Ds:null;};if(!_0x51f189['loaded']||_0x2794d1[-0x1*0x1709+-0x1d35+0x343e]!==_0x233199[-0x100*0xb+-0x1*-0xf29+0x1*-0x429]){if(_0x2794d1[-0x13a9+0x4*0x22b+0xafd]){if(_0x358ea9=_0x2794d1[-0x1c*0x89+-0x11*-0x174+-0x9b8*0x1]['resource'],_0x358ea9['cubemap']){for(_0x4cf441=-0x5fb*-0x1+-0x428+-0x1d3;_0x4cf441<0x2117+0x661+0x42*-0x99;++_0x4cf441)_0xade084[_0x4cf441+(-0x30*-0x54+0x1*0xd19+0x8e*-0x34)]=new _e(this['_device'],{'name':_0x51f189['name']+('_prelitCub'+'emap')+(_0x358ea9['width']>>_0x4cf441),'cubemap':!(-0x3e6+-0x1aad*-0x1+-0x16c7),'type':_0x167c47()||_0x358ea9['type'],'width':_0x358ea9['width']>>_0x4cf441,'height':_0x358ea9['height']>>_0x4cf441,'format':_0x358ea9['format'],'levels':[_0x358ea9['_levels'][_0x4cf441]],'addressU':ue,'addressV':ue,'mipmaps':_0x4cf441===-0x14b*-0xe+0x46f+-0x281*0x9});}else _0xade084[0x1808+0x206e+-0x3875]=_0x358ea9;}}else _0xade084[0x220f+-0x13*0x146+0x4*-0x277]=_0x3fe907[0xe68*-0x2+0xd5c+0xf75]||null,_0xade084[-0x1eae+-0xabb+-0x296b*-0x1]=_0x3fe907[-0x1*-0x7dd+-0x449*0x2+0xb7]||null,_0xade084[-0x1df6+0x1*0x1cf3+0x106]=_0x3fe907[0x62d*-0x3+-0x10f7+0x2381]||null,_0xade084[-0xfe+0x2*-0xae5+0x1*0x16cc]=_0x3fe907[0x13*-0x1fa+-0x272*0x3+-0x4*-0xb3a]||null,_0xade084[0x1d*-0x52+-0x26df+0x371*0xe]=_0x3fe907[-0xcff+0x63*0xb+0x8c3]||null,_0xade084[-0x1*-0x214f+-0x2123+-0x26]=_0x3fe907[0xe72+0x1fcf+-0x3*0xf69]||null;const _0x2bde9=_0x2794d1['slice'](-0x216f*-0x1+-0x39e+-0x1dd0);if(!_0x51f189['loaded']||!this['cmpArrays'](_0x2bde9,_0x233199['slice'](0x18c2+-0x3*0x5f+-0x2*0xbd2))){if(_0x2bde9['indexOf'](null)===-(-0x2476+0x1ab*0xe+0xd1d)){const _0x50f70d=_0x2bde9['map'](_0x7067c=>_0x7067c['resource']),_0x2efbc9=[];for(_0x39f940=-0x2016+-0x1148*0x1+-0x18af*-0x2;_0x39f940<_0x50f70d[-0x20ba+-0xfbf+0x3079]['_levels']['length'];++_0x39f940)_0x2efbc9['push'](_0x50f70d['map'](_0x3c1880=>_0x3c1880['_levels'][_0x39f940]));const _0x437bca=_0x50f70d[0xe96+-0x1*-0xe89+-0x1d1f]['format'],_0x2b228b=new _e(this['_device'],{'name':_0x51f189['name']+'_faces','cubemap':!(0x1747+-0x1fd2+0x3*0x2d9),'type':_0x167c47()||_0x50f70d[-0x2527+-0x8d8+0x2dff]['type'],'width':_0x50f70d[-0x39*0x75+-0xd24+-0x2731*-0x1]['width'],'height':_0x50f70d[0x1*0x62e+0x1bf0+-0x221e]['height'],'format':_0x437bca===Cr?Ne:_0x437bca,'mipmaps':_0x44c790['mipmaps']??!(-0x4cf+-0xf3*0x27+-0xa75*-0x4),'levels':_0x2efbc9,'minFilter':_0x44c790['hasOwnProp'+'erty']('minFilter')?_0x44c790['minFilter']:_0x50f70d[-0x320*0x1+0x19f*-0xa+0x1c2*0xb]['minFilter'],'magFilter':_0x44c790['hasOwnProp'+'erty']('magFilter')?_0x44c790['magFilter']:_0x50f70d[0xf6b*0x1+0x1131+-0x209c]['magFilter'],'anisotropy':_0x44c790['hasOwnProp'+'erty']('anisotropy')?_0x44c790['anisotropy']:-0x1*-0x269c+-0x1d86+-0x5d*0x19,'addressU':ue,'addressV':ue});_0xade084[-0x368+0x15e1+-0x1279*0x1]=_0x2b228b;}}else _0xade084[-0xb1d*0x2+-0x19a9+-0x17*-0x215]=_0x3fe907[-0x13f1+0x1942+0x551*-0x1]||null;if(!this['cmpArrays'](_0xade084,_0x3fe907)){for(_0x51f189['resources']=_0xade084,_0x51f189['_handlerSt'+'ate']['assetIds']=_0x66cf46,_0x51f189['_handlerSt'+'ate']['assets']=_0x2794d1,_0x4cf441=0x14bc+-0x1249+-0x273;_0x4cf441<_0x3fe907['length'];++_0x4cf441)_0x3fe907[_0x4cf441]!==null&&_0xade084['indexOf'](_0x3fe907[_0x4cf441])===-(-0x7*0x3a0+-0x1ac3+0x4*0xd09)&&_0x3fe907[_0x4cf441]['destroy']();}for(_0x4cf441=0x4*-0x2f8+-0x3e*0x3+0xc9a;_0x4cf441<_0x233199['length'];++_0x4cf441)_0x233199[_0x4cf441]!==null&&_0x2794d1['indexOf'](_0x233199[_0x4cf441])===-(-0x6e5*-0x3+-0x7b2+0x33f*-0x4)&&_0x233199[_0x4cf441]['unload']();}['cmpArrays'](_0x2b36c4,_0x1979dc){if(_0x2b36c4['length']!==_0x1979dc['length'])return!(0x2*0x6b5+-0x331+0xa38*-0x1);for(let _0x46bc78=-0x2*0x71+-0x1a7f+-0x1b61*-0x1;_0x46bc78<_0x2b36c4['length'];++_0x46bc78)if(_0x2b36c4[_0x46bc78]!==_0x1979dc[_0x46bc78])return!(0x1d1b*-0x1+-0x8*-0x10f+0x14a4);return!(0x16*0x66+0x157d+-0x1e41);}['resolveId'](_0x2801cc){const _0x436c3c=parseInt(_0x2801cc,0x112c+-0x5f9+-0xb29);return _0x436c3c===_0x2801cc||_0x436c3c['toString']()===_0x2801cc?_0x436c3c:_0x2801cc;}['loadAssets'](_0x25856a,_0x15e4f6){_0x25856a['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x25856a['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x726357=this,_0x44fa81=_0x726357['getAssetId'+'s'](_0x25856a),_0x554384=[null,null,null,null,null,null,null],_0x4f1d86=_0x25856a['_handlerSt'+'ate']['assetIds'],_0x55ad18=_0x25856a['_handlerSt'+'ate']['assets'],_0x7dc1db=_0x726357['_registry'];let _0x5d7946=-0x61*-0x2b+-0x5*0x5+-0x102b;const _0x1b400a=function(_0x295053,_0x591db8){_0x554384[_0x295053]=_0x591db8,_0x5d7946--,_0x5d7946===0x23f5+0x7*0x231+-0x7*0x754&&(_0x726357['update'](_0x25856a,_0x44fa81,_0x554384),_0x15e4f6(null,_0x25856a['resources']));},_0x2c9db3=function(_0x41e9db,_0x238d83,_0xaf91c1){_0x15e4f6(_0x238d83);},_0x586188=function(_0x2c7fd1,_0x465be1){_0x465be1['loaded']?_0x1b400a(_0x2c7fd1,_0x465be1):(_0x7dc1db['once']('load:'+_0x465be1['id'],_0x1b400a['bind'](_0x726357,_0x2c7fd1)),_0x7dc1db['once']('error:'+_0x465be1['id'],_0x2c9db3['bind'](_0x726357,_0x2c7fd1)),_0x465be1['loading']||_0x7dc1db['load'](_0x465be1));};let _0x59f472;for(let _0xc688df=0xdc*-0x2b+-0x1*-0x857+0x1c9d;_0xc688df<-0x35c+0xc2d+-0x8ca;++_0xc688df){const _0x2780f4=this['resolveId'](_0x44fa81[_0xc688df]);if(!_0x2780f4)_0x1b400a(_0xc688df,null);else{if(_0x726357['compareAss'+'etIds'](_0x2780f4,_0x4f1d86[_0xc688df]))_0x586188(_0xc688df,_0x55ad18[_0xc688df]);else{if(parseInt(_0x2780f4,0x2309+-0x2634+0x335)===_0x2780f4)_0x59f472=_0x7dc1db['get'](_0x2780f4),_0x59f472?_0x586188(_0xc688df,_0x59f472):setTimeout(((_0x4e67cb,_0xff7b62)=>{const _0x2be098=_0x7dc1db['get'](_0xff7b62);_0x2be098?_0x586188(_0x4e67cb,_0x2be098):_0x2c9db3(_0x4e67cb,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0xff7b62);})['bind'](null,_0xc688df,_0x2780f4));else{const _0x403969=typeof _0x2780f4=='string'?{'url':_0x2780f4,'filename':_0x2780f4}:_0x2780f4,_0x5daeac=_0x403969['url']['search']('.dds')===-(-0x9fb+0x5f9+-0x403*-0x1)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x2075+-0x25fd+0x6d*0xd)}:null;_0x59f472=new pe(_0x25856a['name']+'_part_'+_0xc688df,'texture',_0x403969,_0x5daeac),_0x7dc1db['add'](_0x59f472),_0x586188(_0xc688df,_0x59f472);}}}}}}class ek extends Qe{constructor(_0x673195){super(_0x673195,'folder');}['load'](_0x470a73,_0x592d7c){_0x592d7c(null,null);}}class yS{constructor(_0x2b791d,_0x4ffd35){this['type']=_0x4ffd35&&_0x4ffd35['type']||Rh,this['em']=-0xafe+-0x1489+-0x8*-0x3f1,this['textures']=_0x2b791d,this['intensity']=0x2416+-0xc57+-0x1*0x17bf,this['_data']=null,this['data']=_0x4ffd35;}set['data'](_0x28a299){if(this['_data']=_0x28a299,!!_0x28a299&&(this['_data']['intensity']!==void(-0x1*-0x50e+-0xc56*-0x2+0xedd*-0x2)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x1269*0x1+-0x790+-0xad7)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x37fa14 in this['_data']['chars'])this['_data']['chars'][_0x37fa14]['map']=0x1ead+-0x1*0x15c5+0xf*-0x98;}}get['data'](){return this['_data'];}}function Cf(_0x519a72){return _0x519a72['version']<-0x9*-0x375+0x1b2f+-0x1*0x3a49&&(_0x519a72['version']<-0x409+0x62*0x2b+-0xc6b&&(_0x519a72['info']['maps']=_0x519a72['info']['maps']||[{'width':_0x519a72['info']['width'],'height':_0x519a72['info']['height']}]),_0x519a72['chars']=Object['keys'](_0x519a72['chars']||{})['reduce']((_0x5e510b,_0xb9e757)=>{const _0x41b2f9=_0x519a72['chars'][_0xb9e757],_0x369522=_0x41b2f9['letter']!==void(-0x12da+-0x23dd+0x36b7)?_0x41b2f9['letter']:Hc['fromCodePo'+'int'](_0xb9e757);return _0x519a72['version']<0x16e1+-0x68*-0x57+-0x3a37&&(_0x41b2f9['map']=_0x41b2f9['map']||0x21d*-0x11+-0x6f*0x2f+0x384e),_0x5e510b[_0x369522]=_0x41b2f9,_0x5e510b;},{}),_0x519a72['version']=0x13c4+0x3*-0x8c0+0x1*0x67f),_0x519a72;}class tk extends Qe{constructor(_0x3bdcf2){super(_0x3bdcf2,'font'),this['_loader']=_0x3bdcf2['loader'],this['maxRetries']=-0x8d*0x34+-0x1483+0x3127;}['load'](_0x4d5618,_0x2c28c7,_0x14e110){typeof _0x4d5618=='string'&&(_0x4d5618={'load':_0x4d5618,'original':_0x4d5618});const _0xfc33cb=this;xe['getExtensi'+'on'](_0x4d5618['original'])==='.json'?ot['get'](_0x4d5618['load'],{'retry':this['maxRetries']>0x1ae4+0x1*0x1db3+0xb*-0x525,'maxRetries':this['maxRetries']},(_0x248d77,_0x41bf88)=>{if(_0x248d77)_0x2c28c7('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x4d5618['original']+'\x20['+_0x248d77+']');else{const _0x2ce215=Cf(_0x41bf88);_0xfc33cb['_loadTextu'+'res'](_0x4d5618['load']['replace']('.json','.png'),_0x2ce215,(_0x2ab894,_0xde793c)=>{_0x2ab894?_0x2c28c7(_0x2ab894):_0x2c28c7(null,{'data':_0x2ce215,'textures':_0xde793c});});}}):(_0x14e110&&_0x14e110['data']&&(_0x14e110['data']=Cf(_0x14e110['data'])),this['_loadTextu'+'res'](_0x4d5618['load'],_0x14e110&&_0x14e110['data'],_0x2c28c7));}['_loadTextu'+'res'](_0x578f3a,_0x33e79d,_0x297f1a){const _0x416e64=_0x33e79d['info']['maps']['length'];let _0x54029a=-0x14e0+-0xf5e+0x243e,_0x2f5669=null;const _0x56bfce=new Array(_0x416e64),_0x9bce70=this['_loader'],_0x4f8286=function(_0xc2b249){const _0xd2133d=function(_0x3c11e0,_0x2fa737){if(!_0x2f5669){if(_0x3c11e0){_0x2f5669=_0x3c11e0,_0x297f1a(_0x3c11e0);return;}_0x2fa737['upload'](),_0x56bfce[_0xc2b249]=_0x2fa737,_0x54029a++,_0x54029a===_0x416e64&&_0x297f1a(null,_0x56bfce);}};_0xc2b249===-0xa81*-0x1+0x7*-0x29+0x1*-0x962?_0x9bce70['load'](_0x578f3a,'texture',_0xd2133d):_0x9bce70['load'](_0x578f3a['replace']('.png',_0xc2b249+'.png'),'texture',_0xd2133d);};for(let _0x1a9936=-0x1a32+-0x4d7+0x1f09;_0x1a9936<_0x416e64;_0x1a9936++)_0x4f8286(_0x1a9936);}['open'](_0x1f029c,_0x52d068,_0x56a959){let _0x11522f;return _0x52d068['textures']?_0x11522f=new yS(_0x52d068['textures'],_0x52d068['data']):_0x11522f=new yS(_0x52d068,null),_0x11522f;}['patch'](_0x225c31,_0x2625c9){const _0x311d91=_0x225c31['resource'];!_0x311d91['data']&&_0x225c31['data']?_0x311d91['data']=_0x225c31['data']:!_0x225c31['data']&&_0x311d91['data']&&(_0x225c31['data']=_0x311d91['data']),_0x225c31['data']&&(_0x225c31['data']=Cf(_0x225c31['data']));}}async function sk(){const _0x4d24af=0x1403+0x3*0x5e+0x1*-0x151d+0.28209479177387814;class _0x25f3d2{constructor(_0x431630,_0x532b6e,_0x491468){this['x']=_0x431630,this['y']=_0x532b6e,this['z']=_0x491468;}}class _0x14d1ef{constructor(_0x191fe6,_0x2f67de,_0x5c991b,_0x4f6999){this['x']=_0x191fe6,this['y']=_0x2f67de,this['z']=_0x5c991b,this['w']=_0x4f6999;}}class _0x2ef62a{constructor(_0x29e41c,_0x57a3d7,_0x529590,_0x51cd26){this['x']=_0x29e41c,this['y']=_0x57a3d7,this['z']=_0x529590,this['w']=_0x51cd26;}['set'](_0x59144b,_0x1e0357,_0x58e7f5,_0x4f02e1){this['x']=_0x59144b,this['y']=_0x1e0357,this['z']=_0x58e7f5,this['w']=_0x4f02e1;}}class _0x29bffc{constructor(_0x3cf024,_0x80a29,_0x2b0012,_0x7bafcc,_0x2d1123,_0x449e7b,_0xe1a32e,_0xc90877,_0x28e750,_0x15e7cd,_0x4427b0,_0x3fbf54,_0x566048,_0x2cf259){const _0x531eee=(_0x4dface,_0xdbcfe6)=>{const _0x390405=(-0x1*0x2c3+-0x1c8f+0xa71*0x3<<_0xdbcfe6)-(0xc98+-0x13d*-0x1f+-0x32fa);return(_0x4dface&_0x390405)/_0x390405;},_0x5da77b=(_0x37cd73,_0x35a11c)=>{_0x37cd73['x']=_0x531eee(_0x35a11c>>>0x3a3+-0x23be+0x2030,0x25b5+-0x739+-0x1e71*0x1),_0x37cd73['y']=_0x531eee(_0x35a11c>>>-0xc1e+-0x80c+-0x2e3*-0x7,-0xb6b+-0x19ca+0x253f*0x1),_0x37cd73['z']=_0x531eee(_0x35a11c,-0x219d+0x44d*-0x7+-0x3fc3*-0x1);},_0x5dba4f=(_0x5afa05,_0x162c7a)=>{_0x5afa05['x']=_0x531eee(_0x162c7a>>>0x85a+-0x1*-0x509+-0xd4b*0x1,-0xef*-0x27+-0x2*0xb42+-0xddd*0x1),_0x5afa05['y']=_0x531eee(_0x162c7a>>>-0x17b*0xc+0x1*-0x2597+-0x1*-0x376b,0x2e0+0x1ceb+-0x1fc3),_0x5afa05['z']=_0x531eee(_0x162c7a>>>-0xa0*-0x3c+-0x207d*-0x1+-0x45f5,-0x236+0x133b+-0x1*0x10fd),_0x5afa05['w']=_0x531eee(_0x162c7a,-0x1e82+-0x227+0x20b1);},_0x3eea8d=(_0x4cc9eb,_0x206e02)=>{const _0x1ef2b6=(0x3*0x24a+0x5*0x11a+0xc5f*-0x1)/(Math['sqrt'](-0xe42+-0x20c*0x3+0x1468)*(-0x1271+-0x2591*-0x1+-0x1320+0.5)),_0x329f95=(_0x531eee(_0x206e02>>>-0x164c+0x213c+-0x2b7*0x4,-0x2*-0xc79+0x1ead*-0x1+-0xd3*-0x7)-(-0x603+-0x3*-0xbd7+-0xec1*0x2+0.5))*_0x1ef2b6,_0x3f8139=(_0x531eee(_0x206e02>>>0x11a6*-0x1+-0x6*-0x532+0xd7c*-0x1,0x870+0x1*0x1bbf+-0x2425)-(-0x1a24+-0x37d*0x8+0x360c+0.5))*_0x1ef2b6,_0xbfeae=(_0x531eee(_0x206e02,-0x1d74+-0xe03+0x2b81)-(0xe4d+-0x1c2f+0xde2+0.5))*_0x1ef2b6,_0x333598=Math['sqrt'](0x1ff*-0xb+-0x4*0xec+-0xcd3*-0x2-(_0x329f95*_0x329f95+_0x3f8139*_0x3f8139+_0xbfeae*_0xbfeae));switch(_0x206e02>>>0x1d*0x116+0x13*0x18f+0xd*-0x4b1){case-0x7*-0xad+-0x3*-0x92b+0x80f*-0x4:_0x4cc9eb['set'](_0x329f95,_0x3f8139,_0xbfeae,_0x333598);break;case 0x67f+0x16d3+-0x1d51:_0x4cc9eb['set'](_0x333598,_0x3f8139,_0xbfeae,_0x329f95);break;case 0x9e9+0x179b+-0x2182:_0x4cc9eb['set'](_0x3f8139,_0x333598,_0xbfeae,_0x329f95);break;case 0x160c+-0xf1b+0x2*-0x377:_0x4cc9eb['set'](_0x3f8139,_0xbfeae,_0x333598,_0x329f95);break;}},_0x46deb9=(_0xb035df,_0x5672a4,_0x3b9614)=>_0xb035df*(0x4b*-0x56+0x7ac+0x1187-_0x3b9614)+_0x5672a4*_0x3b9614,_0x5f10bd=[0x1cf*-0x2+-0x1bd3+-0xa7c*-0x3,-0x1e53*0x1+-0xd03*-0x1+0x14*0xde,-0x161d+0xf26+0x706][_0xe1a32e-(0x2386+-0xcaa+-0x1*0x16db)],_0x4318e5=-0x1*0x1796+-0x8cd*0x3+0xd9*0x3b;this['read']=_0x360bc7=>{const _0x5e3563=Math['floor'](_0x360bc7/(0x3*-0x2ea+0xee1+-0x523))*_0x80a29;if(_0xc90877&&(_0x5da77b(_0xc90877,_0x2b0012[_0x360bc7*_0x4318e5+(-0x1485+0x1*-0xc9d+-0x1091*-0x2)]),_0xc90877['x']=_0x46deb9(_0x3cf024[_0x5e3563+(0xd86+-0x2*0x2c5+-0x92*0xe)],_0x3cf024[_0x5e3563+(0x15d*-0xe+0x161c+-0x303)],_0xc90877['x']),_0xc90877['y']=_0x46deb9(_0x3cf024[_0x5e3563+(0x39*-0x8b+-0x1c7d+-0x3b71*-0x1)],_0x3cf024[_0x5e3563+(0x79b*0x3+0x4e7*-0x1+-0x11e6)],_0xc90877['y']),_0xc90877['z']=_0x46deb9(_0x3cf024[_0x5e3563+(0x1af+0x2693*0x1+0xa10*-0x4)],_0x3cf024[_0x5e3563+(0x1417*0x1+0x64*-0x32+0x1*-0x8a)],_0xc90877['z'])),_0x28e750&&_0x3eea8d(_0x28e750,_0x2b0012[_0x360bc7*_0x4318e5+(0x128e+0x12aa+-0x7*0x551)]),_0x15e7cd&&(_0x5da77b(_0x15e7cd,_0x2b0012[_0x360bc7*_0x4318e5+(-0x1503+0x7c6+0xd3f*0x1)]),_0x15e7cd['x']=_0x46deb9(_0x3cf024[_0x5e3563+(0x2126+0x1*0x24a1+-0x45c1*0x1)],_0x3cf024[_0x5e3563+(0x25ed+-0x551*-0x4+-0x3b28)],_0x15e7cd['x']),_0x15e7cd['y']=_0x46deb9(_0x3cf024[_0x5e3563+(-0x1*0x1cd0+0xd75+0xf62)],_0x3cf024[_0x5e3563+(0x9d3+-0x1775+-0xaf*-0x14)],_0x15e7cd['y']),_0x15e7cd['z']=_0x46deb9(_0x3cf024[_0x5e3563+(0xe97+-0x1a63+0x1*0xbd4)],_0x3cf024[_0x5e3563+(0x2*0x10c7+0x2b*0xb+-0x3e*0x92)],_0x15e7cd['z'])),_0x4427b0&&(_0x5dba4f(_0x4427b0,_0x2b0012[_0x360bc7*_0x4318e5+(-0x135*0x16+-0xd0f*0x2+0x34af)]),_0x80a29>0x2174+-0xceb+0x1*-0x147d&&(_0x4427b0['x']=_0x46deb9(_0x3cf024[_0x5e3563+(0x1b1*-0xb+0xc*-0x2d4+0x3497)],_0x3cf024[_0x5e3563+(0x50c+-0x1*-0x617+0xb14*-0x1)],_0x4427b0['x']),_0x4427b0['y']=_0x46deb9(_0x3cf024[_0x5e3563+(0x142e+0x6*-0x3fe+0x3d3)],_0x3cf024[_0x5e3563+(-0x3*-0x10d+-0x1*0xb51+0xa2*0xd)],_0x4427b0['y']),_0x4427b0['z']=_0x46deb9(_0x3cf024[_0x5e3563+(-0x53*-0x2f+-0x7a8*-0x3+-0x2627)],_0x3cf024[_0x5e3563+(-0x32*-0x2c+0x248*-0xf+0x19b1)],_0x4427b0['z']))),_0x3fbf54&&(_0x5da77b(_0x3fbf54,_0x2b0012[_0x360bc7*_0x4318e5+(-0x3d*-0x7b+0x13c9+0x9*-0x574)]),_0x3fbf54['x']=_0x46deb9(_0x3cf024[_0x5e3563+(0x62*-0x14+0x1f6b+-0x17b1)],_0x3cf024[_0x5e3563+(0x463*-0x5+-0xbd*0x12+0x1*0x234e)],_0x3fbf54['x']),_0x3fbf54['y']=_0x46deb9(_0x3cf024[_0x5e3563+(0x2538+-0x21b1+-0x34*0x11)],_0x3cf024[_0x5e3563+(0xfd4+0x18ed+-0x28ab)],_0x3fbf54['y']),_0x3fbf54['z']=_0x46deb9(_0x3cf024[_0x5e3563+(-0x503*0x5+0x132d+0x5f6)],_0x3cf024[_0x5e3563+(0x16e*-0x5+0x1*0x26f8+-0x1fbb)],_0x3fbf54['z'])),_0x566048&&(_0x5da77b(_0x566048,_0x2b0012[_0x360bc7*_0x4318e5+(-0x1e29+-0x1c0c+0x3a3a)]),_0x566048['x']=_0x46deb9(_0x3cf024[_0x5e3563+(0x17*0x116+0x1*0x16db+-0x2fbd)],_0x3cf024[_0x5e3563+(-0x7be+-0x21df+0x29b6)],_0x566048['x']),_0x566048['y']=_0x46deb9(_0x3cf024[_0x5e3563+(-0x1*0x1c8b+0x11ae+-0x191*-0x7)],_0x3cf024[_0x5e3563+(0x1*0x6d9+-0xe8+-0x5d6)],_0x566048['y'])),_0x2cf259&&_0xe1a32e>0x525*0x5+0x1*0xf17+-0x28d*0x10){const _0x264099=[_0x7bafcc,_0x2d1123,_0x449e7b];for(let _0x4b4a11=-0x441*-0x7+-0xc5a*0x3+0x747;_0x4b4a11<0x1869+-0x14e7+0xb3*-0x5;++_0x4b4a11)for(let _0x5bb348=0x17ad+0x218+-0x19c5;_0x5bb348<-0x326*-0x7+0xd6f+-0x236a;++_0x5bb348)_0x2cf259[_0x4b4a11*(-0x1716+-0x10a5*0x2+0x386f)+_0x5bb348]=_0x5bb348<_0x5f10bd?_0x264099[_0x4b4a11][_0x360bc7*(0x89+-0x11b1+0x1138)+_0x5bb348]*((-0xd5a*0x1+0x20e9*-0x1+0x2e4b*0x1)/(-0xd60+-0x1*-0x751+0x70e))-(0x2571+0x1*-0x1aa0+-0x18b*0x7):0x2315+-0x22bc+-0x59;}};}}self['onmessage']=async _0x21cc18=>{const {data:_0x2fee03}=_0x21cc18;switch(_0x2fee03['type']){case'initWorker':break;case'decompress':_0x7b1b56(_0x2fee03['numSplats'],_0x2fee03['chunkData'],_0x2fee03['chunkSize'],_0x2fee03['vertexData'],_0x2fee03['shData0'],_0x2fee03['shData1'],_0x2fee03['shData2'],_0x2fee03['shBands']);break;}};const _0x7b1b56=(_0x507b75,_0x1a5ae5,_0x12b864,_0x4b9da2,_0x1c9c06,_0x19fcfa,_0x47a07c,_0xf13b3c)=>{const _0x581e0b=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0xf13b3c>0x420+0xce*0x22+0x9b*-0x34){const _0x4edbd5=[];for(let _0x14b6e6=0x1*-0x50b+-0x17*-0xab+0x529*-0x2;_0x14b6e6<0xf4f+0xa2*-0x25+-0x212*-0x4;++_0x14b6e6)_0x4edbd5['push']('f_rest_'+_0x14b6e6);_0x581e0b['splice'](_0x581e0b['indexOf']('f_dc_0')+(0xdfa+0xbaa+-0x19a3*0x1),-0x152b+-0x617*-0x1+0xf14,..._0x4edbd5);}const _0x45500f={};_0x581e0b['forEach'](_0x563ce5=>{_0x45500f[_0x563ce5]=new Float32Array(_0x507b75);});const _0x278df4=new _0x25f3d2(),_0x2e7fcd=new _0x2ef62a(),_0x3b593f=new _0x25f3d2(),_0x58db29=new _0x14d1ef(),_0xb86daa=new _0x25f3d2(),_0x4a4b57=new _0x25f3d2(),_0x124464=_0xf13b3c>-0x12*-0xa4+-0x1*0x21b3+0x162b?new Float32Array(-0x220+-0x2413+0x998*0x4):null,_0x532480=new _0x29bffc(_0x1a5ae5,_0x12b864,_0x4b9da2,_0x1c9c06,_0x19fcfa,_0x47a07c,_0xf13b3c,_0x278df4,_0x2e7fcd,_0x3b593f,_0x58db29,_0xb86daa,_0x4a4b57,_0x124464);for(let _0x58e42a=0x12*0xf6+0x24f4+-0x7c*0x70;_0x58e42a<_0x507b75;++_0x58e42a)if(_0x532480['read'](_0x58e42a),_0x45500f['x'][_0x58e42a]=_0x278df4['x'],_0x45500f['y'][_0x58e42a]=_0x278df4['y'],_0x45500f['z'][_0x58e42a]=_0x278df4['z'],_0x45500f['rot_1'][_0x58e42a]=_0x2e7fcd['x'],_0x45500f['rot_2'][_0x58e42a]=_0x2e7fcd['y'],_0x45500f['rot_3'][_0x58e42a]=_0x2e7fcd['z'],_0x45500f['rot_0'][_0x58e42a]=_0x2e7fcd['w'],_0x45500f['scale_0'][_0x58e42a]=_0x3b593f['x'],_0x45500f['scale_1'][_0x58e42a]=_0x3b593f['y'],_0x45500f['scale_2'][_0x58e42a]=_0x3b593f['z'],_0x45500f['motion_0'][_0x58e42a]=_0xb86daa['x'],_0x45500f['motion_1'][_0x58e42a]=_0xb86daa['y'],_0x45500f['motion_2'][_0x58e42a]=_0xb86daa['z'],_0x45500f['t_scale'][_0x58e42a]=_0x4a4b57['x'],_0x45500f['t'][_0x58e42a]=_0x4a4b57['y'],_0x45500f['f_dc_0'][_0x58e42a]=(_0x58db29['x']-(0xe06+0x87f+-0x1685+0.5))/_0x4d24af,_0x45500f['f_dc_1'][_0x58e42a]=(_0x58db29['y']-(0xe59*0x1+-0x20c7+0x7*0x2a2+0.5))/_0x4d24af,_0x45500f['f_dc_2'][_0x58e42a]=(_0x58db29['z']-(0x103c+0x10f2*0x1+-0x1*0x212e+0.5))/_0x4d24af,_0x45500f['opacity'][_0x58e42a]=_0x58db29['w']<=0x1*0xa42+0x2*0xcd9+-0x23f4?-(0x164f*-0x1+-0xece+-0x1d*-0x149):_0x58db29['w']>=0x5bb+0x16*-0x83+-0x18*-0x3b?0x16e+0x2600+0x1*-0x2746:-Math['log']((-0xe32+0x2302+-0x14cf)/_0x58db29['w']-(0x1d*-0xd5+0x399+0x1489)),_0x124464){for(let _0x5383ea=-0xdd7+0x7e6*0x4+-0x11c1;_0x5383ea<-0x1fb1+0x51b*0x2+-0x318*-0x7;++_0x5383ea)_0x45500f['f_rest_'+_0x5383ea][_0x58e42a]=_0x124464[_0x5383ea];}let _0x54f7c1={'x':_0x45500f['x'],'y':_0x45500f['y'],'z':_0x45500f['z'],'rot_1':_0x45500f['rot_1'],'rot_2':_0x45500f['rot_2'],'rot_3':_0x45500f['rot_3'],'rot_0':_0x45500f['rot_0'],'scale_0':_0x45500f['scale_0'],'scale_1':_0x45500f['scale_1'],'scale_2':_0x45500f['scale_2'],'motion_0':_0x45500f['motion_0'],'motion_1':_0x45500f['motion_1'],'motion_2':_0x45500f['motion_2'],'t_scale':_0x45500f['t_scale'],'t':_0x45500f['t'],'f_dc_0':_0x45500f['f_dc_0'],'f_dc_1':_0x45500f['f_dc_1'],'f_dc_2':_0x45500f['f_dc_2'],'opacity':_0x45500f['opacity']};_0x124464&&(_0x54f7c1={..._0x54f7c1,'f_rest_0':_0x45500f['f_rest_0'],'f_rest_1':_0x45500f['f_rest_1'],'f_rest_2':_0x45500f['f_rest_2'],'f_rest_3':_0x45500f['f_rest_3'],'f_rest_4':_0x45500f['f_rest_4'],'f_rest_5':_0x45500f['f_rest_5'],'f_rest_6':_0x45500f['f_rest_6'],'f_rest_7':_0x45500f['f_rest_7'],'f_rest_8':_0x45500f['f_rest_8'],'f_rest_9':_0x45500f['f_rest_9'],'f_rest_10':_0x45500f['f_rest_10'],'f_rest_11':_0x45500f['f_rest_11'],'f_rest_12':_0x45500f['f_rest_12'],'f_rest_13':_0x45500f['f_rest_13'],'f_rest_14':_0x45500f['f_rest_14'],'f_rest_15':_0x45500f['f_rest_15'],'f_rest_16':_0x45500f['f_rest_16'],'f_rest_17':_0x45500f['f_rest_17'],'f_rest_18':_0x45500f['f_rest_18'],'f_rest_19':_0x45500f['f_rest_19'],'f_rest_20':_0x45500f['f_rest_20'],'f_rest_21':_0x45500f['f_rest_21'],'f_rest_22':_0x45500f['f_rest_22'],'f_rest_23':_0x45500f['f_rest_23'],'f_rest_24':_0x45500f['f_rest_24'],'f_rest_25':_0x45500f['f_rest_25'],'f_rest_26':_0x45500f['f_rest_26'],'f_rest_27':_0x45500f['f_rest_27'],'f_rest_28':_0x45500f['f_rest_28'],'f_rest_29':_0x45500f['f_rest_29'],'f_rest_30':_0x45500f['f_rest_30'],'f_rest_31':_0x45500f['f_rest_31'],'f_rest_32':_0x45500f['f_rest_32'],'f_rest_33':_0x45500f['f_rest_33'],'f_rest_34':_0x45500f['f_rest_34'],'f_rest_35':_0x45500f['f_rest_35'],'f_rest_36':_0x45500f['f_rest_36'],'f_rest_37':_0x45500f['f_rest_37'],'f_rest_38':_0x45500f['f_rest_38'],'f_rest_39':_0x45500f['f_rest_39'],'f_rest_40':_0x45500f['f_rest_40'],'f_rest_41':_0x45500f['f_rest_41'],'f_rest_42':_0x45500f['f_rest_42'],'f_rest_43':_0x45500f['f_rest_43'],'f_rest_44':_0x45500f['f_rest_44']});const _0x3cacc3=Object['values'](_0x54f7c1)['map'](_0x4e6d8b=>_0x4e6d8b['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x54f7c1},_0x3cacc3);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x49c87f=>{if(!this['worker'])return;const {data:_0x15382e}=_0x49c87f;switch(_0x15382e['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x15382e['data']);break;}};}['decompress'](_0x4e8368,_0xf6d079,_0x445960,_0x22e80c,_0x3985f3,_0x56918f,_0x1ddb12,_0x3332dd){const _0x419ea0=[_0xf6d079['buffer'],_0x22e80c['buffer']];_0x3985f3&&_0x419ea0['push'](_0x3985f3['buffer']),_0x56918f&&_0x419ea0['push'](_0x56918f['buffer']),_0x1ddb12&&_0x419ea0['push'](_0x1ddb12['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x4e8368,'chunkData':_0xf6d079,'chunkSize':_0x445960,'vertexData':_0x22e80c,'shData0':_0x3985f3,'shData1':_0x56918f,'shData2':_0x1ddb12,'shBands':_0x3332dd},_0x419ea0);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x420159,_0x4b7701,_0x590ff3,_0x3814a1,_0x5e5e93,_0x569c5e,_0xac2fbc,_0x12b660){const _0x4a4a88=(_0xb8221,_0x1a8e6f)=>{const _0x1d2cc4=(0x106+-0x1783+-0x167e*-0x1<<_0x1a8e6f)-(0x1b63+0x2523+-0xc7*0x53);return(_0xb8221&_0x1d2cc4)/_0x1d2cc4;},_0x3b4545=(_0x5259f8,_0x1abf77)=>{_0x5259f8['x']=_0x4a4a88(_0x1abf77>>>0xcce+0xb09+0xbe1*-0x2,0x25db+0xbc9+0x1*-0x3199),_0x5259f8['y']=_0x4a4a88(_0x1abf77>>>0x4*0x57b+-0x251e*-0x1+-0x3aff,0x205d+-0x1be3+-0x470),_0x5259f8['z']=_0x4a4a88(_0x1abf77,0xf2f+-0x204a*-0x1+0x1a*-0x1d3);},_0x3e73cd=(_0x2c8eba,_0x135ca3)=>{_0x2c8eba['x']=_0x4a4a88(_0x135ca3>>>-0x6*0x3b1+-0x390*0x9+0x364e,0x2198+0xa5e+-0x1*0x2bee),_0x2c8eba['y']=_0x4a4a88(_0x135ca3>>>-0x739+-0x22ff+0x4*0xa92,0x1be2+0x214a*0x1+-0x3d24),_0x2c8eba['z']=_0x4a4a88(_0x135ca3>>>0xdb0+-0x127f+0x4d7,0x463*0x8+-0x3*-0xa34+-0x41ac),_0x2c8eba['w']=_0x4a4a88(_0x135ca3,-0x1169*-0x1+0x1*0x186e+-0x4d*0x8b);},_0x1c9c83=(_0x45f01d,_0x29c38b)=>{const _0x1a0971=(0x19c0+0x87+-0x1a46)/(Math['sqrt'](0x2*-0xf8c+0x1798+0x782)*(0xaa4+-0x14e5+0x7d*0x15+0.5)),_0x498cde=(_0x4a4a88(_0x29c38b>>>-0xd3c+-0xac0+0x1810,0x79c+0x499*-0x2+0x1a0)-(-0x475+0x26a6+-0x2231+0.5))*_0x1a0971,_0x5ba9e2=(_0x4a4a88(_0x29c38b>>>0x20d*0x3+0x254+-0x871,-0xc5*0x2b+0x2424+0x3*-0x101)-(0x11fd+0x205f+-0x494*0xb+0.5))*_0x1a0971,_0xdfd7f9=(_0x4a4a88(_0x29c38b,-0x1190+-0x1*-0xf17+-0x1*-0x283)-(0x1ead*0x1+0xd9*-0x1+-0x53*0x5c+0.5))*_0x1a0971,_0x2e9b86=Math['sqrt'](0x1c5*0xb+-0x22b8+0xf42-(_0x498cde*_0x498cde+_0x5ba9e2*_0x5ba9e2+_0xdfd7f9*_0xdfd7f9));switch(_0x29c38b>>>0x23c6+-0x10*-0x141+-0x37b8){case-0x1105*-0x2+-0x1592+-0xc78:_0x45f01d['set'](_0x498cde,_0x5ba9e2,_0xdfd7f9,_0x2e9b86);break;case 0x1c6*0x4+0x3b2+-0xac9:_0x45f01d['set'](_0x2e9b86,_0x5ba9e2,_0xdfd7f9,_0x498cde);break;case-0x2343+0x6a+0x22db*0x1:_0x45f01d['set'](_0x5ba9e2,_0x2e9b86,_0xdfd7f9,_0x498cde);break;case 0x1d18+0x1e0+-0x1ef5:_0x45f01d['set'](_0x5ba9e2,_0xdfd7f9,_0x2e9b86,_0x498cde);break;}},_0x3c3dfc=(_0x4108d8,_0x273441,_0xc8c0bc)=>_0x4108d8*(-0x1689+-0xfe1*0x1+-0x1*-0x266b-_0xc8c0bc)+_0x273441*_0xc8c0bc,{chunkData:_0x48a949,chunkSize:_0x310d15,vertexData:_0x590d24,shData0:_0x1cfeed,shData1:_0x1b1c7f,shData2:_0x3c0a88,shBands:_0x5b8d1a}=_0x420159,_0x5f1476=[0x1*0x1dc0+-0x47*0xa+-0x1af7,0x16fc+-0x8*0x493+0x6d2*0x2,-0x1663+-0x12e*-0x1d+-0x3ec*0x3][_0x5b8d1a-(-0x1*-0x20c3+-0x13d5+-0xced)],_0x4905a5=-0x1fbc*0x1+-0xbd8*0x3+0xae*0x63;this['read']=_0x592796=>{const _0x2e13a6=Math['floor'](_0x592796/(0x17d*0x1+-0x18da+0x185d))*_0x310d15;if(_0x4b7701&&(_0x3b4545(_0x4b7701,_0x590d24[_0x592796*_0x4905a5+(-0x29*-0xb9+0x2*0x503+-0x27a7)]),_0x4b7701['x']=_0x3c3dfc(_0x48a949[_0x2e13a6+(0xd*-0x230+-0x1ab9+-0x621*-0x9)],_0x48a949[_0x2e13a6+(0x11a7*-0x1+0x1*0x1b7a+-0x9d0)],_0x4b7701['x']),_0x4b7701['y']=_0x3c3dfc(_0x48a949[_0x2e13a6+(0x1*-0x1654+-0x2*-0xda3+-0x4f1*0x1)],_0x48a949[_0x2e13a6+(-0x1494+-0x1c1c+0x185a*0x2)],_0x4b7701['y']),_0x4b7701['z']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x1*-0x20f3+0x3*0x606+-0x3*0x1101)],_0x48a949[_0x2e13a6+(0x137a+0x1180+-0x24f5*0x1)],_0x4b7701['z'])),_0x590ff3&&_0x1c9c83(_0x590ff3,_0x590d24[_0x592796*_0x4905a5+(-0x5bb*0x2+-0x2537+0x1*0x30ae)]),_0x3814a1&&(_0x3b4545(_0x3814a1,_0x590d24[_0x592796*_0x4905a5+(-0x1f2e+-0x2040+0x1fb8*0x2)]),_0x3814a1['x']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x3e7*-0x2+0x1ef6+-0x26be)],_0x48a949[_0x2e13a6+(0x1142+0x9eb*0x3+-0x2efa)],_0x3814a1['x']),_0x3814a1['y']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x1b31+-0x259f+0x40d7)],_0x48a949[_0x2e13a6+(-0xeab+-0x141+0xff6)],_0x3814a1['y']),_0x3814a1['z']=_0x3c3dfc(_0x48a949[_0x2e13a6+(0x1*0xfaa+0x1405+-0x23a7)],_0x48a949[_0x2e13a6+(0x3*0xb7f+0x1*-0x228d+0x1b)],_0x3814a1['z'])),_0x5e5e93&&(_0x3e73cd(_0x5e5e93,_0x590d24[_0x592796*_0x4905a5+(0x4bd*-0x2+-0x970*-0x4+-0x1c43)]),_0x310d15>-0x2c9*0x3+0x49*-0x14+0xe1b&&(_0x5e5e93['x']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x192+-0x26a8+0x2846)],_0x48a949[_0x2e13a6+(-0x7af+-0x979+0x153*0xd)],_0x5e5e93['x']),_0x5e5e93['y']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0xc23*-0x3+0x18db+-0x3d37*0x1)],_0x48a949[_0x2e13a6+(-0xf5b*0x1+0x125*-0x1f+-0x32e6*-0x1)],_0x5e5e93['y']),_0x5e5e93['z']=_0x3c3dfc(_0x48a949[_0x2e13a6+(0x11a7+-0x1279*0x1+0xe0)],_0x48a949[_0x2e13a6+(0x19b8+0x2a9+-0x4*0x714)],_0x5e5e93['z']))),_0x569c5e&&(_0x3b4545(_0x569c5e,_0x590d24[_0x592796*_0x4905a5+(-0x4*-0x685+0x7*-0x409+0x22f)]),_0x569c5e['x']=_0x3c3dfc(_0x48a949[_0x2e13a6+(0x2154+0xe08+0x2f4a*-0x1)],_0x48a949[_0x2e13a6+(0x1739+-0x77*-0x2c+-0x2b98)],_0x569c5e['x']),_0x569c5e['y']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x3*-0x9f5+-0x1*0x2573+-0x28d*-0x3)],_0x48a949[_0x2e13a6+(0x2222+0x1564+0x1*-0x3770)],_0x569c5e['y']),_0x569c5e['z']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0xc9*-0x2b+0x2246+-0x43f5)],_0x48a949[_0x2e13a6+(0x9f0+0x1779+-0x2152)],_0x569c5e['z'])),_0xac2fbc&&(_0x3b4545(_0xac2fbc,_0x590d24[_0x592796*_0x4905a5+(0x1fac+-0x6b*-0x1+-0x2012)]),_0xac2fbc['x']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x14c+0x2fc+-0x198)],_0x48a949[_0x2e13a6+(-0x9cf+-0x1131+0x1b19)],_0xac2fbc['x']),_0xac2fbc['y']=_0x3c3dfc(_0x48a949[_0x2e13a6+(-0x40*-0x50+0xbda+0xfe*-0x20)],_0x48a949[_0x2e13a6+(-0x2665*0x1+0x689+-0x1ff7*-0x1)],_0xac2fbc['y'])),_0x12b660&&_0x5b8d1a>-0x1591+-0x22d*0x9+0x2926){const _0x270c05=[_0x1cfeed,_0x1b1c7f,_0x3c0a88];for(let _0x23dabb=-0x17*0x10d+-0x1d8+0x1a03;_0x23dabb<-0xc86*-0x1+0x7b*-0x4b+0x1786;++_0x23dabb)for(let _0x23e9b8=-0x157b+-0xcfe+0x2279;_0x23e9b8<-0xe30+-0x1a5+0xfe4;++_0x23e9b8)_0x12b660[_0x23dabb*(0x22de+-0x9ce*0x2+0x511*-0x3)+_0x23e9b8]=_0x23e9b8<_0x5f1476?_0x270c05[_0x23dabb][_0x592796*(0x1f23*0x1+-0x73*0x4f+-0x46a*-0x1)+_0x23e9b8]*((0xe39+0x17ce+-0x25ff)/(-0x609*-0x4+-0x4*0x779+0x9d*0xb))-(-0x48b*0x4+0x649*0x3+0x39*-0x3):-0x14d6+0x1717+0x1*-0x241;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x46276d,_0x171e35,_0x35f987,_0x2afc7a,_0xef2b9,_0xb1731c,_0x1f7b67){return new rk(this,_0x46276d,_0x171e35,_0x35f987,_0x2afc7a,_0xef2b9,_0xb1731c,_0x1f7b67);}['calcAabb'](_0x317899){const {chunkData:_0x23bb94,numChunks:_0x31e868,chunkSize:_0x415d33}=this;let _0x2221b1=Math['exp'](Math['max'](_0x23bb94[0x1f2*-0x2+0x88+-0x1*-0x365],_0x23bb94[0x1a*-0xb6+0x86*-0x49+0xe2f*0x4],_0x23bb94[-0x3*0xb77+0x1dfc+0x474])),_0x35a8d8=_0x23bb94[-0x120e+-0x120b+-0x1*-0x2419]-_0x2221b1,_0x2e5aa0=_0x23bb94[-0x72*-0x1+0x1*-0x6bf+0x64e]-_0x2221b1,_0x1f9a8f=_0x23bb94[-0x322*0x1+0x5f3*-0x5+0x20e3]-_0x2221b1,_0x1be504=_0x23bb94[-0x19e1+-0x1822+-0x13*-0x2a2]+_0x2221b1,_0x20baed=_0x23bb94[-0x1f74+0x21a2+-0x22a]+_0x2221b1,_0x2d575d=_0x23bb94[-0x252c+0xa*-0x1d5+-0x3783*-0x1]+_0x2221b1;for(let _0x5cce97=0x16b4*0x1+-0x5f*0x17+-0xe2a;_0x5cce97<_0x31e868;++_0x5cce97){const _0x1881e3=_0x5cce97*_0x415d33;_0x2221b1=Math['exp'](Math['max'](_0x23bb94[_0x1881e3+(0x5a6+0x8*-0x1e+-0x4ad)],_0x23bb94[_0x1881e3+(0x1afb*-0x1+-0x13*-0xdb+0x6a*0x1a)],_0x23bb94[_0x1881e3+(0x1af8+0x2ff*-0x4+-0xe1*0x11)])),_0x35a8d8=Math['min'](_0x35a8d8,_0x23bb94[_0x1881e3+(-0x227b+-0x67b+-0x28f6*-0x1)]-_0x2221b1),_0x2e5aa0=Math['min'](_0x2e5aa0,_0x23bb94[_0x1881e3+(-0x3*0x36d+-0x10d1+-0x1b19*-0x1)]-_0x2221b1),_0x1f9a8f=Math['min'](_0x1f9a8f,_0x23bb94[_0x1881e3+(0x1634+-0x1*-0x1369+0x299b*-0x1)]-_0x2221b1),_0x1be504=Math['max'](_0x1be504,_0x23bb94[_0x1881e3+(0x64a+0x233d*-0x1+-0x2*-0xe7b)]+_0x2221b1),_0x20baed=Math['max'](_0x20baed,_0x23bb94[_0x1881e3+(-0xdb*0x11+0x1cdf+-0xe50)]+_0x2221b1),_0x2d575d=Math['max'](_0x2d575d,_0x23bb94[_0x1881e3+(-0x15a9+-0x8d2*-0x1+-0x2*-0x66e)]+_0x2221b1);}return _0x317899['center']['set']((_0x35a8d8+_0x1be504)*(-0xc9d*-0x2+0x3d1+0x1*-0x1d0b+0.5),(_0x2e5aa0+_0x20baed)*(-0xb63*0x3+0x1778*-0x1+0x1*0x39a1+0.5),(_0x1f9a8f+_0x2d575d)*(-0x25*0x11+-0x1*-0xb89+-0x1c*0x53+0.5)),_0x317899['halfExtent'+'s']['set']((_0x1be504-_0x35a8d8)*(-0x26e9*-0x1+-0x1*-0x1ca7+-0x4390+0.5),(_0x20baed-_0x2e5aa0)*(0x1c34+0x2209+-0x3e3d+0.5),(_0x2d575d-_0x1f9a8f)*(0x225a*-0x1+-0x3bd+0x571*0x7+0.5)),!(0x27*-0xf1+0xfb3*-0x1+0x346a);}['getCenters'](_0x30a06a){const {vertexData:_0x564bfc,chunkData:_0xec8205,numChunks:_0x5495db,chunkSize:_0x28999e}=this;let _0x4d2677,_0x1eb840,_0x3e8b5f,_0x431e6c,_0x486919,_0x4a0475;for(let _0x5ed599=-0x1849*0x1+0x1*-0x2303+-0x5*-0xbdc;_0x5ed599<_0x5495db;++_0x5ed599){const _0x1cff7f=_0x5ed599*_0x28999e;_0x4d2677=_0xec8205[_0x1cff7f+(-0xc2d*0x3+-0x1a*0x95+-0x17*-0x23f)],_0x1eb840=_0xec8205[_0x1cff7f+(0x2228+0x6e+-0x2a9*0xd)],_0x3e8b5f=_0xec8205[_0x1cff7f+(0x2*0xb51+-0x1*0xfd3+-0x6cd)],_0x431e6c=_0xec8205[_0x1cff7f+(0x251*0xd+0x124f+-0x3069)],_0x486919=_0xec8205[_0x1cff7f+(0x4a*-0x8+0x1*0x23b1+-0x215d)],_0x4a0475=_0xec8205[_0x1cff7f+(-0x1*-0x11+-0x1*0x1ea9+0x1e9d)];const _0x18d2bd=Math['min'](this['numSplats'],(_0x5ed599+(0x3*0x3be+0x2*-0x9d1+-0x1*-0x869))*(-0x3ab*-0x6+-0x1f3e+0xa3c));for(let _0x258f6a=_0x5ed599*(-0x17d2*0x1+-0x1*0x4c9+0x1d9b);_0x258f6a<_0x18d2bd;++_0x258f6a){const _0x53563a=_0x564bfc[_0x258f6a*(-0x15e9+-0x1f1d+0x8d7*0x6)],_0x5b089e=(_0x53563a>>>0x12f5+-0x4*0x7dc+0xc90)/(0xd*-0x2b+0x159f*0x1+-0xb71),_0x3613e1=(_0x53563a>>>0x1c39+0x3*-0x1eb+-0x166d&-0x771*0x1+0x5c2+0x5ae)/(0x23ea+0x23*-0xef+0xc2),_0x29b31e=(_0x53563a&-0x6*-0x4ae+-0x10f3*0x1+0x1*-0x322)/(0x2d2+0x8*0xba+0x1*-0xa3);_0x30a06a[_0x258f6a*(-0xc18+0x67*-0x17+0x155c)+(0xbdc+-0x18cf+0xcf3)]=(-0x18e4+0x1d0b+-0x426-_0x5b089e)*_0x4d2677+_0x5b089e*_0x431e6c,_0x30a06a[_0x258f6a*(-0x23e3+0x15*-0x110+0x1*0x3a36)+(0x18c1+-0x7d*0x17+0x1*-0xd85)]=(0x1172+-0x4*-0x506+0x1*-0x2589-_0x3613e1)*_0x1eb840+_0x3613e1*_0x486919,_0x30a06a[_0x258f6a*(0x1b1+-0xbda+0xa2c)+(0x21d3+-0x4a9*-0x2+-0x2b23)]=(-0x475+0x128a+-0xe14-_0x29b31e)*_0x3e8b5f+_0x29b31e*_0x4a0475;}}}['getChunks'](_0x550d3f){const {chunkData:_0x3df80a,numChunks:_0x2528bc,chunkSize:_0x228e09}=this;let _0xdb6807,_0x94f593,_0xe2e49a,_0x14d5c3,_0x110c2b,_0x299fa2;for(let _0x306ac6=-0x1815+0x7*0x487+-0x79c;_0x306ac6<_0x2528bc;++_0x306ac6){const _0x15df3a=_0x306ac6*_0x228e09;_0xdb6807=_0x3df80a[_0x15df3a+(-0x238c+-0x28*0x45+0x2e54)],_0x94f593=_0x3df80a[_0x15df3a+(-0x239*-0x1+-0x9*0x3b9+0x1f49)],_0xe2e49a=_0x3df80a[_0x15df3a+(-0x2363+-0x9f4+0x2d59)],_0x14d5c3=_0x3df80a[_0x15df3a+(0x167a+0x79e+-0x1c5*0x11)],_0x110c2b=_0x3df80a[_0x15df3a+(0x1*0x165a+-0x1ebd+-0x1*-0x867)],_0x299fa2=_0x3df80a[_0x15df3a+(-0xefc+-0x18b4+0x27b5)],_0x550d3f[_0x306ac6*(0x79*-0x37+0x435+0x15d0)+(-0x53*0x57+-0x1ef6+0x3b2b)]=_0xdb6807,_0x550d3f[_0x306ac6*(-0x1*0xda5+0xa0+0xd0b)+(0x1104+0xaf0+-0x1bf3)]=_0x94f593,_0x550d3f[_0x306ac6*(-0x68e*0x2+-0x2*-0xe4d+0x16*-0xb4)+(0x3d9*0x3+-0x2*-0x8b1+-0x1ceb*0x1)]=_0xe2e49a,_0x550d3f[_0x306ac6*(0x11bd*0x1+0x97d*0x3+-0x2e2e)+(0xb67+0x1*0x34a+-0x1*0xeae)]=_0x14d5c3,_0x550d3f[_0x306ac6*(0x1e4d*-0x1+-0x8de+0x2731)+(0x18d*-0x1+-0x399+0x52a)]=_0x110c2b,_0x550d3f[_0x306ac6*(0xf39+-0x22ec+0x13b9)+(-0x185a+0x284*0xf+-0xb*0x137)]=_0x299fa2;}}['calcFocalP'+'oint'](_0x392467){const {chunkData:_0x4f9c83,numChunks:_0x37eaad,chunkSize:_0x355fc7}=this;_0x392467['x']=-0x1b5a+0x1e9+0x1971,_0x392467['y']=-0x4*0x3c3+-0xdab+0x1cb7,_0x392467['z']=0x1e87+0x1425+-0x32ac;for(let _0x56c700=-0x2*-0xe1+-0x4a9*0x3+0xc39;_0x56c700<_0x37eaad;++_0x56c700){const _0x26c300=_0x56c700*_0x355fc7;_0x392467['x']+=_0x4f9c83[_0x26c300+(-0x27*-0x32+-0x1829+0x108b)]+_0x4f9c83[_0x26c300+(0x130d*0x2+0x1e4f+-0x22*0x203)],_0x392467['y']+=_0x4f9c83[_0x26c300+(0xfd7+-0xa9a+-0x53c)]+_0x4f9c83[_0x26c300+(-0x1*0x1e4a+-0x1ee4+0x3d32)],_0x392467['z']+=_0x4f9c83[_0x26c300+(-0x1*-0x11c5+-0x2*-0x5ce+0x1d5f*-0x1)]+_0x4f9c83[_0x26c300+(-0xc11*-0x1+0x521*-0x2+0x1ca*-0x1)];}_0x392467['mulScalar']((0x13e3+-0x2221*0x1+0x2*0x71f+0.5)/_0x37eaad);}get['isCompress'+'ed'](){return!(0x25dd*0x1+-0x2*0x356+-0x1f31);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x18e*-0x7+-0x139*-0x1f+-0x1a05));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x475d91=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x841cb6}=this;if(_0x841cb6>-0x162c+0x7af+0xe7d){const _0x4828ff=[];for(let _0xdd1e72=-0x744+0x3*-0x262+0xe6a;_0xdd1e72<-0xce9*0x1+0x62*-0x5e+0x3112;++_0xdd1e72)_0x4828ff['push']('f_rest_'+_0xdd1e72);_0x475d91['splice'](_0x475d91['indexOf']('f_dc_0')+(0xc64+0x61*0x29+-0x1bec),-0xed3+-0x15c9+-0x249c*-0x1,..._0x4828ff);}const _0x2e5cd0=new ik();return _0x2e5cd0['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x2afb02,_0xe1f26f)=>{_0x2e5cd0['on']('decompress'+'ed',_0x30ec3f=>{_0x2e5cd0['destroy'](),_0x2afb02(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x475d91['map'](_0x294a40=>({'type':'float','name':_0x294a40,'storage':_0x30ec3f[_0x294a40],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x3754b0='super4d-ca'+'che-v1',_0x50cbc0={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x185f26=new Uint8Array([-0x1a5*-0x7+0x689*-0x2+0x1*0x1ff,-0x35*0x2d+0xc77*0x1+-0x1*0x2ba,0x2062+-0x19c+0x1*-0x1e4d,-0x73*0x16+-0x5a*0x3e+0xcb*0x28]),_0x45470f=new Uint8Array([-0x239f+0x1*-0x1d69+0x4112,0x1e02+-0x1d80+0x1*-0x1d,0x1*0xe23+0x223*0x3+-0x141e,0x3d6*-0x2+-0xe5e+0x166e,0x1*0x1615+0x26dd+-0x3c93,0x4f*0x17+0x1*-0x577+-0x13a*0x1,0x22d8+0xc3a+-0x2ead,-0x1ff*-0xb+-0x2*0xf67+0x93a,-0x1*0x1ea+0x1*-0x1eaa+0x20f8,0x3b2*-0x4+-0x20e8+0x3015,0x2*-0x776+-0x1*-0x1b62+-0xc04*0x1,-0xb60+0x95f*-0x1+-0x1*-0x14c9]),_0x33926b=0x49d+-0x2e4+-0x1*0x1b9+0.28209479177387814,_0x1b6c15=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x4f8395{constructor(_0x27cdb8={}){this['options']={..._0x50cbc0,..._0x27cdb8},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x3*-0x88d+0x41*-0x4c+0x1*-0x65b,this['initialize'+'d']=!(0x1*-0x1e5f+-0x22f4+0x4154);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3754b0);const _0x17366b=await this['cache']['keys'](),_0x9dc875=[];for(const _0x2ebfa7 of _0x17366b){const _0x33ef5f=_0x2ebfa7['url'],_0x258c73=await this['cache']['match'](_0x33ef5f);if(_0x258c73){const _0x2c98db=(await _0x258c73['blob']())['size'],_0x3c1af7=_0x258c73['headers']['get']('x-cache-ti'+'me');_0x3c1af7&&_0x9dc875['push']({'url':_0x33ef5f,'size':_0x2c98db,'cacheTime':parseInt(_0x3c1af7)});}}_0x9dc875['sort']((_0x3c163b,_0x3a6964)=>_0x3c163b['cacheTime']-_0x3a6964['cacheTime']);for(const _0x5b1f5f of _0x9dc875)this['cacheSizes']['set'](_0x5b1f5f['url'],_0x5b1f5f['size']),this['currentSiz'+'e']+=_0x5b1f5f['size'],this['lruList']['push'](_0x5b1f5f['url']);}catch(_0x1d0303){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x1d0303);}this['initialize'+'d']=!(-0x1252+0x17*0xb5+-0x1f*-0x11);}}async['get'](_0x5e848b){if(await this['init'](),!this['cache'])return null;try{const _0x4b613c=await this['cache']['match'](_0x5e848b);if(!_0x4b613c)return null;const _0x1c1192=_0x4b613c['headers']['get']('x-cache-ti'+'me');return _0x1c1192&&Date['now']()-parseInt(_0x1c1192)>this['options']['maxAge']?(await this['delete'](_0x5e848b),null):(this['updateLRU'](_0x5e848b),_0x4b613c);}catch{return null;}}async['set'](_0x1bfba6,_0x5101d3){if(!(!this['cache']||_0x1bfba6['startsWith']('blob:')))try{const _0x2d4a00=_0x5101d3['clone'](),_0x12cce0=await _0x2d4a00['blob'](),_0x12109e=_0x12cce0['size'];this['currentSiz'+'e']+_0x12109e>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x12109e);const _0x1867a6=new Headers(_0x2d4a00['headers']);_0x1867a6['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x476426=new Response(_0x12cce0,{'status':_0x2d4a00['status'],'statusText':_0x2d4a00['statusText'],'headers':_0x1867a6});await this['cache']['put'](_0x1bfba6,_0x476426),this['cacheSizes']['set'](_0x1bfba6,_0x12109e),this['currentSiz'+'e']+=_0x12109e,this['updateLRU'](_0x1bfba6);}catch(_0x92b687){console['error']('Cache\x20set\x20'+'error:',_0x92b687);}}['updateLRU'](_0x56ceff){const _0x15af67=this['lruList']['indexOf'](_0x56ceff);_0x15af67>-(-0x466+-0x5*-0x25+0x3ae)&&this['lruList']['splice'](_0x15af67,0x1cd3+-0xc*0x36+-0x1a4a),this['lruList']['push'](_0x56ceff);}async['cleanupSpa'+'ce'](_0x3e2fdc){const _0x5dbfc0=this['options']['maxSize']*(0x3f1*0x5+0x497*0x5+-0x2aa8+0.9);if(!(this['currentSiz'+'e']<=_0x5dbfc0))for(;this['lruList']['length']>0x749+0x4a2*-0x5+0xfe1&&this['currentSiz'+'e']>_0x5dbfc0;){const _0x4150fe=this['lruList']['shift']();_0x4150fe&&await this['delete'](_0x4150fe);}}async['delete'](_0x586143){if(this['cache'])try{await this['cache']['delete'](_0x586143);const _0x20011b=this['cacheSizes']['get'](_0x586143)||0x11*-0x16d+0x7*-0x65+0x1b00;this['currentSiz'+'e']-=_0x20011b,this['cacheSizes']['delete'](_0x586143);const _0x8a4a3d=this['lruList']['indexOf'](_0x586143);_0x8a4a3d>-(0x2312+-0x1086+-0x1*0x128b)&&this['lruList']['splice'](_0x8a4a3d,-0x9f4+0x14ec+-0xaf7);}catch(_0x34eba7){console['error']('Cache\x20dele'+'te\x20error:',_0x34eba7);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xf011c=>Promise['all'](_0xf011c['map'](_0x3f6fa4=>{var _0x2f9f40;return(_0x2f9f40=this['cache'])==null?void(-0x1e3b*-0x1+-0x109b+-0xda0):_0x2f9f40['delete'](_0x3f6fa4);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1*0x1652+0x2171+-0x37c3;}catch(_0x2d9752){console['error']('Cache\x20clea'+'r\x20error:',_0x2d9752);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x7*-0x509+-0xc8b+0xb5a*-0x2;}}class _0x34c432{constructor(_0x270199=[],_0x6d0bc8={}){this['cacheManag'+'er']=new _0x4f8395(_0x6d0bc8['cache']),this['retryCount']=_0x6d0bc8['retryCount']||-0x17f+-0xc0*0x26+0x1e02,this['retryDelay']=_0x6d0bc8['retryDelay']||0x1563+0x34d*-0x6+0x5f,this['maxConcurr'+'ency']=_0x6d0bc8['maxConcurr'+'ency']||-0x1303+0x1971+-0x4*0x19b,this['downloadQu'+'eue']=_0x270199,this['isProcessi'+'ngDownload'+'Queue']=!(0xb3*-0xd+0x1*0x131b+-0xe9*0xb),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x2*-0x847+0x310+-0x2*-0x6bf);this['downloadQu'+'eue']['length']>-0x1184+0x66*0x4a+-0xbf8;)try{const _0x1dea3e=this['downloadQu'+'eue']['splice'](-0x85*0x19+0x16*-0xa+-0x5*-0x2c5,this['maxConcurr'+'ency'])['map'](_0x227e32=>{if(!this['pendingRes'+'ponses']['has'](_0x227e32)){const _0x38d393=this['download'](_0x227e32);return this['pendingRes'+'ponses']['set'](_0x227e32,_0x38d393),_0x38d393['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x227e32);});}return Promise['resolve']();});await Promise['all'](_0x1dea3e);}catch(_0x5b68f9){console['error']('Download\x20e'+'rror:',_0x5b68f9);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x866+-0x1007*-0x2+-0x2873);}}}async['fetch'](_0x38a36c,_0xbd1206={}){if(this['pendingRes'+'ponses']['has'](_0x38a36c))return this['pendingRes'+'ponses']['get'](_0x38a36c);const {forceRefresh:_0x55fff5=!(0xeff*-0x2+-0x6d3*-0x5+-0x420),..._0x1b9daa}=_0xbd1206;this['pendingRes'+'ponses']['set'](_0x38a36c,this['download'](_0x38a36c,_0x1b9daa));const _0x400f1b=await this['pendingRes'+'ponses']['get'](_0x38a36c);return this['pendingRes'+'ponses']['delete'](_0x38a36c),_0x400f1b;}async['download'](_0x187643,_0x373647={}){var _0x54dbd9;await((_0x54dbd9=this['cacheManag'+'er'])==null?void(-0x26d6+0xf33*-0x1+0x3609):_0x54dbd9['init']());const {forceRefresh:_0x3406a8=!(0xbcc+-0xfbb*-0x1+0x1a*-0x10f),..._0xc214d7}=_0x373647;_0x3406a8&&await this['cacheManag'+'er']['delete'](_0x187643);const _0x1e3988=await this['cacheManag'+'er']['get'](_0x187643);if(_0x1e3988)return _0x1e3988;let _0x4e1e8d;for(let _0x53b3bc=0x120e+-0x1839+-0x62b*-0x1;_0x53b3bc<this['retryCount'];_0x53b3bc++)try{const _0x4b6aef=await fetch(_0x187643,_0xc214d7);if(!_0x4b6aef['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4b6aef['status']);return await this['cacheManag'+'er']['set'](_0x187643,_0x4b6aef),_0x4b6aef;}catch(_0x36d5c0){console['error']('Download\x20e'+'rror:',_0x36d5c0),_0x4e1e8d=_0x36d5c0,_0x53b3bc<this['retryCount']-(0x25*-0xc5+-0x3*0x8a2+0x1d*0x1e0)&&await new Promise(_0x338288=>setTimeout(_0x338288,this['retryDelay']*(_0x53b3bc+(0x20de+-0x2e2+-0x1dfb))));}throw _0x4e1e8d;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x1*-0x2371+0x1*-0xd22+0x184a*0x2),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x14ceee{constructor(){this['numSplats']=0x77b+-0x2245+0x1aca,this['comments']=[],this['chunkData']=new Float32Array(-0x383+0x2344+-0x1*0x1fc1),this['vertexData']=new Uint32Array(0x20e*-0x11+-0x220b+-0x1*-0x44f9),this['is4D']=!(0xe*0x5+-0xb3*-0x9+-0x1*0x691),this['shBands']=0x1b6+-0x19b9+0x1803,this['shData0']=new Uint8Array(-0x2326+-0x57e*0x4+0x391e),this['shData1']=new Uint8Array(-0xbaf*0x1+-0x1*0x19a4+-0x15*-0x1c7),this['shData2']=new Uint8Array(0x1b8e*-0x1+0x2*-0x76e+0x7a*0x59),this['elements']=[],this['isCompress'+'ed']=!(-0x9*0x36+-0x1139+-0x3d3*-0x5);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x1e51+-0xad*-0x7+-0x2*0x1106));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x113335{constructor(_0x5bf38e,_0x263ab6=[]){this['elements']=_0x5bf38e,this['comments']=_0x263ab6,this['isCompress'+'ed']=!(-0x24dc+0x6c*-0x13+0x2ce1);}}class _0x18a9d3{constructor(_0x2b8f25,_0x61d5eb){this['reader']=_0x2b8f25,this['progressFu'+'nc']=_0x61d5eb,this['head']=0xff*0x11+-0x62d+-0x99*0x12,this['tail']=-0xcdf+-0x1f15*-0x1+-0x1236;}async['read'](){var _0x2b3408;const {value:_0x204c37,done:_0x430283}=await this['reader']['read']();if(_0x430283)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x204c37),(_0x2b3408=this['progressFu'+'nc'])==null||_0x2b3408['call'](this,_0x204c37['byteLength']);}['push'](_0x4cac79){if(!this['data'])this['data']=_0x4cac79,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x4cac79['length'];else{const _0x560d37=this['tail']-this['head'],_0x4ec41c=_0x560d37+_0x4cac79['length'];if(this['data']['length']>=_0x4ec41c)this['head']>-0x1722+0x10e0+0x321*0x2?(this['data']['copyWithin'](0xc6*0x29+0x5*-0x1c5+-0x16dd,this['head'],this['tail']),this['data']['set'](_0x4cac79,_0x560d37),this['head']=-0x1b*0xff+0x1e67+-0x382,this['tail']=_0x4ec41c):(this['data']['set'](_0x4cac79,this['tail']),this['tail']+=_0x4cac79['length']);else{const _0x21a5f6=new Uint8Array(_0x4ec41c);this['head']>0x1*-0x1406+0xe81+0x585||this['tail']<this['data']['length']?_0x21a5f6['set'](this['data']['subarray'](this['head'],this['tail']),0x1f64+-0x2447+0x4e3*0x1):_0x21a5f6['set'](this['data'],0x858+-0x4*0x30f+0x3*0x14c),_0x21a5f6['set'](_0x4cac79,_0x560d37),this['data']=_0x21a5f6,this['view']=new DataView(this['data']['buffer']),this['head']=0x16e5+0x18d3+-0x2fb8,this['tail']=_0x4ec41c;}}}['compact'](){this['head']>-0x1f69+-0x13*-0x18d+0x3*0xa6&&(this['data']['copyWithin'](0x2f*0x16+0x4*0x239+0x5*-0x296,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x2151+0x17f*-0x17+0x28*0x7);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x45289a=this['view']['getInt8'](this['head']);return this['head']++,_0x45289a;}['getUint8'](){const _0x433c61=this['view']['getUint8'](this['head']);return this['head']++,_0x433c61;}['getInt16'](){const _0x2b16b1=this['view']['getInt16'](this['head'],!(-0x20b*-0x11+0x7ed*0x1+0xb6*-0x3c));return this['head']+=-0x556+-0x3b*-0x85+-0x194f,_0x2b16b1;}['getUint16'](){const _0x3f38ae=this['view']['getUint16'](this['head'],!(0x14e*0x1+0x86*-0xd+-0x40*-0x16));return this['head']+=0x25eb*0x1+0x1a68+-0x4051,_0x3f38ae;}['getInt32'](){const _0x105469=this['view']['getInt32'](this['head'],!(0x67*0x15+0x1bfb+-0x1*0x246e));return this['head']+=0x147d+0x5a6+0x8b5*-0x3,_0x105469;}['getUint32'](){const _0x657c63=this['view']['getUint32'](this['head'],!(0x1*0x115a+-0x191c+-0x1*-0x7c2));return this['head']+=0x22e5*-0x1+0xc88+-0x1661*-0x1,_0x657c63;}['getFloat32'](){const _0x33bd1f=this['view']['getFloat32'](this['head'],!(0x408*-0x1+0xae0+-0x6d8));return this['head']+=0x10d3+-0xe9*0x1+-0xfe6,_0x33bd1f;}['getFloat64'](){const _0x44f64c=this['view']['getFloat64'](this['head'],!(-0x25d+-0x1b7b+0x1dd8));return this['head']+=-0x131e+-0x1593+-0x825*-0x5,_0x44f64c;}}class _0x44d12b{constructor(_0x147cc9,_0x3420eb,_0x912f81){this['x']=_0x147cc9,this['y']=_0x3420eb,this['z']=_0x912f81;}}class _0x4938c4{constructor(_0xbddf05,_0x7bd644,_0x44878a,_0xfe1c01){this['x']=_0xbddf05,this['y']=_0x7bd644,this['z']=_0x44878a,this['w']=_0xfe1c01;}}class _0x98bd37{constructor(_0x2d7849,_0x3284dc,_0x55e6dd,_0x2e0a10){this['x']=_0x2d7849,this['y']=_0x3284dc,this['z']=_0x55e6dd,this['w']=_0x2e0a10;}['set'](_0x1f132e,_0x33512f,_0x1da3f2,_0x3893de){this['x']=_0x1f132e,this['y']=_0x33512f,this['z']=_0x1da3f2,this['w']=_0x3893de;}}class _0x326e2c{constructor(_0x3c168e,_0x2656d0,_0x301175,_0x349280,_0x5b448d,_0x3dc9d4,_0x5d4940,_0x186e59,_0x59ffbb,_0x20f6d0,_0x3f601f,_0x3a1a14,_0x42fe69,_0xb1d958){const _0x5d7d9f=(_0x58be0b,_0x428390)=>{const _0x66c8b=(0xe80+-0x9fb+-0x484<<_0x428390)-(-0x57*-0x21+-0x496*0x3+0x28c);return(_0x58be0b&_0x66c8b)/_0x66c8b;},_0x455ca7=(_0x2d2b94,_0x139bec)=>{_0x2d2b94['x']=_0x5d7d9f(_0x139bec>>>-0xe2d*0x1+0x176f+-0x9*0x105,-0x1*0x12e7+0x98e*0x1+0x964),_0x2d2b94['y']=_0x5d7d9f(_0x139bec>>>0x1*-0x9c1+-0xa6c+-0x1*-0x1438,0x383*0x9+-0x3*0x5cf+-0xe24),_0x2d2b94['z']=_0x5d7d9f(_0x139bec,0x1730+-0x842+-0xee3);},_0x289600=(_0x3a3687,_0x370160)=>{_0x3a3687['x']=_0x5d7d9f(_0x370160>>>-0xdf3+0x7f6*-0x2+0x1df7,0x1e85*0x1+-0x1bbe*-0x1+-0x3a3b),_0x3a3687['y']=_0x5d7d9f(_0x370160>>>-0x32*0x35+0x1*0x1205+-0x79b*0x1,0x10df+0x4ca*0x4+-0x1*0x23ff),_0x3a3687['z']=_0x5d7d9f(_0x370160>>>-0xa28+0x1b26+-0x10f6,-0xbda*-0x2+0xff6+-0x27a2),_0x3a3687['w']=_0x5d7d9f(_0x370160,-0x251b*-0x1+-0x1*0x1d86+-0x78d);},_0x529977=(_0x34765d,_0x1da038)=>{const _0x28650d=(-0xc34+0x2302+-0x16cd)/(Math['sqrt'](0x63d+-0x308+-0x333)*(-0x42d*0x6+0x104*-0x17+0x306a+0.5)),_0x2e2377=(_0x5d7d9f(_0x1da038>>>0x1c*-0xd9+-0x62*-0x61+-0xd52,0x28d+0x22a0+-0x2523)-(0x19cc+0x6b9*-0x3+-0x5a1+0.5))*_0x28650d,_0x278e28=(_0x5d7d9f(_0x1da038>>>-0x81*-0x1a+0x1*0x1118+-0x1e28,0x1143+-0x1*-0x1f75+0x2*-0x1857)-(-0x2125+-0x1303*0x1+0x3428+0.5))*_0x28650d,_0x387b30=(_0x5d7d9f(_0x1da038,0x355*-0x6+-0x6*0x4a9+-0x2ffe*-0x1)-(0x1330+0x5c*0x4c+-0x2e80+0.5))*_0x28650d,_0x44dae4=Math['sqrt'](0x269f+-0x204b+-0x1*0x653-(_0x2e2377*_0x2e2377+_0x278e28*_0x278e28+_0x387b30*_0x387b30));switch(_0x1da038>>>0xf15+0x785+-0x167c){case 0x894+-0x1379*0x1+0xae5*0x1:_0x34765d['set'](_0x2e2377,_0x278e28,_0x387b30,_0x44dae4);break;case 0x109*0x4+0x7*-0x166+0x1*0x5a7:_0x34765d['set'](_0x44dae4,_0x278e28,_0x387b30,_0x2e2377);break;case 0x1bbb+-0x1*0x72+-0x1b47:_0x34765d['set'](_0x278e28,_0x44dae4,_0x387b30,_0x2e2377);break;case-0x240d+-0x1864+-0x2*-0x1e3a:_0x34765d['set'](_0x278e28,_0x387b30,_0x44dae4,_0x2e2377);break;}},_0x24502c=(_0x6a54cc,_0x5de4ea,_0xa0e978)=>_0x6a54cc*(0x4ff+-0x1*0x1046+-0x2d2*-0x4-_0xa0e978)+_0x5de4ea*_0xa0e978,_0x49e67d=[0x71*0x3a+-0x773+0x3*-0x60c,0x1651+-0x937+-0x689*0x2,0x1f91*-0x1+0x18a8+-0x2*-0x37c][_0x5d4940-(-0x3c5*-0x1+-0x671+0x2ad)],_0x431d31=-0x7b*-0x4+-0x39*-0xb+-0x459;this['read']=_0x31cc29=>{const _0x4a25fd=Math['floor'](_0x31cc29/(0x1275+0x18c6+-0x2a3b*0x1))*_0x2656d0;if(_0x186e59&&(_0x455ca7(_0x186e59,_0x301175[_0x31cc29*_0x431d31+(0xf9*-0x12+-0x1a82+-0x139*-0x24)]),_0x186e59['x']=_0x24502c(_0x3c168e[_0x4a25fd+(0x1b99+0xf71+-0x2b0a)],_0x3c168e[_0x4a25fd+(-0x1273+0x126a*-0x1+0x24e0)],_0x186e59['x']),_0x186e59['y']=_0x24502c(_0x3c168e[_0x4a25fd+(0x388+0xab*-0xb+0x3d2*0x1)],_0x3c168e[_0x4a25fd+(-0x1*0x1a65+-0x15a5*0x1+-0x2*-0x1807)],_0x186e59['y']),_0x186e59['z']=_0x24502c(_0x3c168e[_0x4a25fd+(-0x9e7+0x19cc+-0xfe3)],_0x3c168e[_0x4a25fd+(0x4a*0x77+0x238e+-0x45ef)],_0x186e59['z'])),_0x59ffbb&&_0x529977(_0x59ffbb,_0x301175[_0x31cc29*_0x431d31+(-0xc35+0x39a*0x1+0x89c)]),_0x20f6d0&&(_0x455ca7(_0x20f6d0,_0x301175[_0x31cc29*_0x431d31+(0x4c9+0x19fd+-0x4*0x7b1)]),_0x20f6d0['x']=_0x24502c(_0x3c168e[_0x4a25fd+(0x1*-0xf5b+-0x1*-0xc0b+0x7a*0x7)],_0x3c168e[_0x4a25fd+(-0xea2+-0x48b*-0x1+0xa20)],_0x20f6d0['x']),_0x20f6d0['y']=_0x24502c(_0x3c168e[_0x4a25fd+(0xe00+-0x521*0x4+0x5*0x14f)],_0x3c168e[_0x4a25fd+(0x1ee7+0x7*0x51b+-0x429a)],_0x20f6d0['y']),_0x20f6d0['z']=_0x24502c(_0x3c168e[_0x4a25fd+(-0x1e3c+-0x1*0x507+0x234b)],_0x3c168e[_0x4a25fd+(0x1833+-0xa17+-0xe11)],_0x20f6d0['z'])),_0x3f601f&&(_0x289600(_0x3f601f,_0x301175[_0x31cc29*_0x431d31+(0x89*-0x28+0x10*-0x22f+-0x9*-0x643)]),_0x2656d0>-0x6b*-0xe+-0x35b*-0x1+-0x929&&(_0x3f601f['x']=_0x24502c(_0x3c168e[_0x4a25fd+(-0x26d0+-0x1b4c+-0xe8*-0x49)],_0x3c168e[_0x4a25fd+(0xd7d+-0x142+-0x26*0x52)],_0x3f601f['x']),_0x3f601f['y']=_0x24502c(_0x3c168e[_0x4a25fd+(-0xc9c+0x23b7+-0x170e)],_0x3c168e[_0x4a25fd+(-0x221e*0x1+-0x17a6+0x39d4)],_0x3f601f['y']),_0x3f601f['z']=_0x24502c(_0x3c168e[_0x4a25fd+(0x23fe+0x1*-0x1efe+-0x4f2)],_0x3c168e[_0x4a25fd+(0x3*0x802+0x2585+0x3*-0x147e)],_0x3f601f['z']))),_0x3a1a14&&(_0x455ca7(_0x3a1a14,_0x301175[_0x31cc29*_0x431d31+(0xe49+0x521*0x2+-0x1887)]),_0x3a1a14['x']=_0x24502c(_0x3c168e[_0x4a25fd+(0x1028+0x12c6+-0x4*0x8b7)],_0x3c168e[_0x4a25fd+(-0x16a+-0x208*-0x13+-0x2519*0x1)],_0x3a1a14['x']),_0x3a1a14['y']=_0x24502c(_0x3c168e[_0x4a25fd+(0xf*0xb7+-0x15ae+0x2*0x584)],_0x3c168e[_0x4a25fd+(0x1*-0x15f5+-0x1d93+0x339e)],_0x3a1a14['y']),_0x3a1a14['z']=_0x24502c(_0x3c168e[_0x4a25fd+(0x1fec+0xa54*0x1+0x1516*-0x2)],_0x3c168e[_0x4a25fd+(-0x2*-0x1365+-0x22b5+0x49*-0xe)],_0x3a1a14['z'])),_0x42fe69&&(_0x455ca7(_0x42fe69,_0x301175[_0x31cc29*_0x431d31+(0xa95+-0x1ec2+0x1432)]),_0x42fe69['x']=_0x24502c(_0x3c168e[_0x4a25fd+(-0x5ff+-0xf59+0x1570)],_0x3c168e[_0x4a25fd+(0x1452+-0xd4*-0x2+-0x3*0x74b)],_0x42fe69['x']),_0x42fe69['y']=_0x24502c(_0x3c168e[_0x4a25fd+(-0x162*0x4+0x105f+-0xabd)],_0x3c168e[_0x4a25fd+(-0xe5a+-0x20*-0x5e+0x2b5)],_0x42fe69['y'])),_0xb1d958&&_0x5d4940>-0x1b67+0xa*-0x34+-0x5e3*-0x5){const _0x3d5c72=[_0x349280,_0x5b448d,_0x3dc9d4];for(let _0x4512e9=-0xa*0x21+-0xb70+-0x6*-0x21f;_0x4512e9<0x15f0+0x2f*0xcf+0x1df7*-0x2;++_0x4512e9)for(let _0x13808b=0x1402+-0xb14+0x2fa*-0x3;_0x13808b<-0x1e8*0x2+0x15d4+-0x1*0x11f5;++_0x13808b)_0xb1d958[_0x4512e9*(-0x607+0xce5+-0xf9*0x7)+_0x13808b]=_0x13808b<_0x49e67d?_0x3d5c72[_0x4512e9][_0x31cc29*(-0x1fcd*-0x1+0x1*-0x1c16+-0x55*0xb)+_0x13808b]*((-0x19f2+-0x275*-0x5+0xdb1)/(0x4bd*-0x3+0xb*-0x196+0x20a8))-(-0x223*0xd+0x208+0x19c3):0x1e8*0x10+-0x226+-0x1c5a;}};}}self['onmessage']=async _0x545e8d=>{var _0x1eba0c,_0x28411e,_0x2ef398;const {data:_0x2b81af}=_0x545e8d;switch(_0x2b81af['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x2b81af['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x34c432(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x1eba0c=globalThis['fetchWorke'+'r'])==null||_0x1eba0c['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x614a5b,decompress:_0x1856e7}=_0x2b81af;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x34c432(globalThis['loadUrlLis'+'t']));const _0x1b5a18=await globalThis['fetchWorke'+'r']['fetch'](_0x614a5b);if(!_0x1b5a18||!_0x1b5a18['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x614a5b});else{const _0xb7895d=parseInt(_0x1b5a18['headers']['get']('content-le'+'ngth')??'0',0x2*0xdab+-0xf6+-0x1a56);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0xb7895d,'bytes':0x0,'url':_0x614a5b});let _0x256605=await _0x2eb8e3(_0x1b5a18['body']['getReader'](),_0xcd29e=>{self['postMessag'+'e']({'type':'progress','bytes':_0xcd29e,'totalLength':_0xb7895d,'url':_0x614a5b});});if(_0x1856e7&&_0x256605['isCompress'+'ed']){const _0x1f003c=_0x353494(_0x256605),_0x849755=(_0x28411e=_0x1f003c==null?void(-0x2*0x3a9+-0x9d1+-0x1123*-0x1):_0x1f003c['elements'][-0x17c6+-0x3*-0xc0d+-0xc61])==null?void(-0x1c3a+0x1*0x661+-0x31f*-0x7):_0x28411e['properties']['map'](_0x3cb8bc=>_0x3cb8bc['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x1f003c,'url':_0x614a5b},_0x849755);}else{if(_0x256605['isCompress'+'ed']){const _0x1f9cb8=['chunkData','vertexData'];_0x256605['shData0']&&_0x1f9cb8['push']('shData0','shData1','shData2');const _0x429901=_0x1f9cb8['map'](_0x324ce5=>{var _0x5426f5;return(_0x5426f5=_0x256605[_0x324ce5])==null?void(-0x1*-0x112d+0x29*-0x47+0x1*-0x5ce):_0x5426f5['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x256605,'url':_0x614a5b},_0x429901);}else{_0x256605=_0x48306d(_0x256605);const _0x1c5012=(_0x2ef398=_0x256605==null?void(0x2613+-0xcda+-0x1939):_0x256605['elements'][0x1603+-0x14ed+-0x8b*0x2])==null?void(-0xb1*-0xd+0x1c5f+-0x255c):_0x2ef398['properties']['map'](_0x10ed2c=>_0x10ed2c['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x256605,'url':_0x614a5b},_0x1c5012);}}}}catch(_0x288685){self['postMessag'+'e']({'type':'error','data':_0x288685['message'],'url':_0x614a5b});}break;}};const _0x48306d=_0x2ff817=>{var _0x2e0ca4;const _0x2cee75=(_0x2e0ca4=_0x2ff817==null?void(-0x2109+0x23d5+0x4*-0xb3):_0x2ff817['elements'][0x171*0x7+0x1775+-0x218c])==null?void(-0x1*-0x260f+-0xcb6+-0x1959):_0x2e0ca4['properties']['find'](_0x1abb3e=>_0x1abb3e['name']==='opacity');if(_0x2cee75){for(let _0x517863=-0x25*0x68+-0x33*0x8a+0x2a86;_0x517863<_0x2cee75['storage']['length'];_0x517863++)_0x2cee75['storage'][_0x517863]=(-0xc0f+0x4*0x466+-0x588)/(0x24*0xde+-0xd9c*0x2+0x1*-0x3ff+Math['exp'](-_0x2cee75['storage'][_0x517863]));}return _0x2ff817;},_0x4a7be7=_0x4d6b3f=>{const _0x243615=[],_0x241bf7=[];let _0x3b1b29;for(let _0x340a38=0x1*-0x771+0x1*0x2056+-0x18e4;_0x340a38<_0x4d6b3f['length'];++_0x340a38){const _0x2a3e8b=_0x4d6b3f[_0x340a38]['split']('\x20');switch(_0x2a3e8b[0x5cf*0x3+-0x1d*0xcb+0x592]){case'comment':_0x241bf7['push'](_0x2a3e8b['slice'](-0x244*-0x10+-0x20*-0x11f+-0x481f)['join']('\x20'));break;case'format':_0x3b1b29=_0x2a3e8b[0x1f75+-0xfdb+-0xf99];break;case'element':_0x243615['push']({'name':_0x2a3e8b[-0x1feb+0x1eb4+0x4*0x4e],'count':parseInt(_0x2a3e8b[-0x1e5*-0x1+-0x237e+0x219b*0x1],0x1347+0x1*0x67+-0x13a4),'properties':[]});break;case'property':{if(!_0x1b6c15['has'](_0x2a3e8b[-0x8d5+0xe11*0x1+-0x53b]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x2a3e8b[-0x1013*0x2+-0xfab+0x2fd2]+('\x27\x20in\x20ply\x20h'+'eader'));_0x243615[_0x243615['length']-(0x238*-0x1+-0x212f+0x2368)]['properties']['push']({'type':_0x2a3e8b[0x14cc+-0x413*-0x2+0x1f*-0xef],'name':_0x2a3e8b[-0xb8+0x20*0x5+0x1a],'storage':null,'byteSize':_0x1b6c15['get'](_0x2a3e8b[0x2*0xb02+0xf0e+0xc5b*-0x3])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x2a3e8b[0x1*-0x2572+0x26c0+0x1*-0x14e]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x243615,'format':_0x3b1b29,'comments':_0x241bf7};},_0x1c3fc7=_0x250d06=>{const _0x31950c=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x24a0ce=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0xc2e2b6=new Array(0x2301+0x115f+0x775*-0x7)['fill']('')['map']((_0x3e6991,_0x1d4716)=>'f_rest_'+_0x1d4716),_0x26abf2=()=>_0x250d06[0xc65*-0x2+0x1*0xadd+-0xded*-0x1]['name']==='chunk'&&_0x250d06[0x27*-0x6b+-0x229+0x1276]['properties']['every']((_0x10d58b,_0xd69ff0)=>_0x10d58b['name']===_0x31950c[_0xd69ff0]&&_0x10d58b['type']==='float')&&_0x250d06[0x2b*-0x5+-0x4*0x724+-0x1*-0x1d68]['name']==='vertex'&&_0x250d06[-0x300+-0x1309+0x160a]['properties']['every']((_0x4b028a,_0xc16f14)=>_0x4b028a['name']===_0x24a0ce[_0xc16f14]&&_0x4b028a['type']==='uint'),_0x46be27=()=>_0x250d06[-0x11b3+0x17d8+0x1*-0x623]['name']==='sh'&&[-0x2*0x869+-0x4*-0x215+-0x3b*-0x25,-0x14ab+0x23d4+-0xf11,0x1ee+-0x1*-0x85f+0x510*-0x2]['indexOf'](_0x250d06[0x1c63*0x1+0xf06*0x1+0x29*-0x10f]['properties']['length'])!==-(-0xe5c*-0x1+-0x406+-0xa55)&&_0x250d06[0x266*0xd+-0x200c+0xe0]['properties']['every']((_0x899e6b,_0x2be04b)=>_0x899e6b['name']===_0xc2e2b6[_0x2be04b]&&_0x899e6b['type']==='uchar');return _0x250d06['length']===0x9b+0x1d0e+-0x1da7&&_0x26abf2()||_0x250d06['length']===-0x8e*0x13+-0x1*0x2037+-0x22*-0x142&&_0x26abf2()&&_0x46be27();},_0x35851e=_0x55fd54=>_0x55fd54['length']===-0x17cc+0x7f*-0x9+0x1c44&&_0x55fd54[-0x26f2+0xfed+0x1705*0x1]['name']==='vertex'&&_0x55fd54[0xd1d+0x8b5*-0x4+-0x15b7*-0x1]['properties']['every'](_0x163e1c=>_0x163e1c['type']==='float'),_0x2d103f=async(_0x4d2c0c,_0x13a77a,_0x32cf21)=>{const _0xb07916=new _0x14ceee();_0xb07916['comments']=_0x32cf21;const _0xffd440=_0x13a77a[0x1*-0x506+-0xee5+0x13eb]['count'],_0x12a4f3=_0x13a77a[0x1*0x1e4+-0x1cc1+-0xd*-0x211]['properties']['length'],_0x5dd964=_0x13a77a[0x8bb*0x3+0xebd+-0x28ed]['count'],_0x500128=_0x13a77a[-0x936*0x2+-0x902*-0x4+-0x119b]['properties']['some'](_0xcb8898=>_0xcb8898['name']==='packed_tim'+'e'),_0x1d0e6f=(_0xa30ea8=>{const _0x141d06=Math['ceil'](Math['sqrt'](_0xa30ea8)),_0x5a7311=Math['ceil'](_0xa30ea8/_0x141d06);return _0x141d06*_0x5a7311;})(_0x5dd964);_0xb07916['numSplats']=_0x5dd964,_0xb07916['is4D']=_0x500128,_0xb07916['chunkData']=new Float32Array(_0xffd440*_0x12a4f3),_0xb07916['vertexData']=new Uint32Array(_0x1d0e6f*(-0x128f*-0x1+0x403+-0x168c));const _0x5b7515=async(_0x1d2f36,_0x4a5b5b)=>{const _0x5cf157=new Uint8Array(_0x1d2f36);let _0x40eb18=0x1c99+0x9e2+-0x1*0x267b;for(;_0x40eb18<_0x4a5b5b;){for(;_0x4d2c0c['remaining']===0x2*-0xbc5+-0x5*-0x57+0x15d7;)await _0x4d2c0c['read']();const _0x1e2df1=Math['min'](_0x4a5b5b-_0x40eb18,_0x4d2c0c['remaining']),_0x20d61c=_0x4d2c0c['data'];for(let _0x14ffc7=0x1a8c+0x293*-0x6+-0x58d*0x2;_0x14ffc7<_0x1e2df1;++_0x14ffc7)_0x5cf157[_0x40eb18++]=_0x20d61c[_0x4d2c0c['head']++];}};if(await _0x5b7515(_0xb07916['chunkData']['buffer'],_0xffd440*_0x12a4f3*(0xcec*0x2+0xce*-0x29+-0x1*-0x72a)),await _0x5b7515(_0xb07916['vertexData']['buffer'],_0x5dd964*(-0x3*-0x89a+-0xc77+-0x7*0x1e7)*(-0x1db0+-0xa*0x136+0x10*0x29d)),_0x13a77a['length']===-0x16d4+0x1*0xd6f+-0xac*-0xe){const _0x36a4ec=_0x1d0e6f*(-0x65*0x9+0x2*0x1c4+0x7*0x3),_0x185471=new Uint8Array(_0x36a4ec),_0x405444=new Uint8Array(_0x36a4ec),_0x47e61b=new Uint8Array(_0x36a4ec),_0x54d793=0x1*-0x23bf+0x4b9+-0x2*-0x1183,_0x24d355=_0x13a77a[0x1*-0xae1+0x43*-0x5b+0x22b4]['properties']['length']/(-0x149c+0x106b*0x1+0x21a*0x2),_0x1522fe=new Uint8Array(_0x54d793*_0x24d355*(-0x188f+-0xd8c+0x261e));for(let _0x3a2509=-0x93+0x2*-0x1106+0x229f;_0x3a2509<_0xb07916['numSplats'];_0x3a2509+=_0x54d793){const _0x5b7329=Math['min'](_0x54d793,_0xb07916['numSplats']-_0x3a2509);await _0x5b7515(_0x1522fe['buffer'],_0x5b7329*_0x24d355*(0x27a*-0x1+-0x752+-0x1f*-0x51));for(let _0x31fc95=0xfd4*-0x2+-0x115*-0x18+-0xd*-0x70;_0x31fc95<_0x5b7329;++_0x31fc95)for(let _0xd67e75=-0x2bd*0x2+0x649*-0x3+0x1855;_0xd67e75<-0xdb*-0x8+0x2153+-0x25c*0x11;++_0xd67e75){const _0x23db83=(_0x3a2509+_0x31fc95)*(-0x1*-0x15fb+0x1721+-0x2d0c)+_0xd67e75;_0xd67e75<_0x24d355?(_0x185471[_0x23db83]=_0x1522fe[(_0x31fc95*(0x2356+0x3*-0xb47+-0xbf*0x2)+(0x1e8e+-0x20d*-0x9+-0x3103*0x1))*_0x24d355+_0xd67e75],_0x405444[_0x23db83]=_0x1522fe[(_0x31fc95*(0xe91+-0x2*-0x134f+0x1*-0x352c)+(0x1db*-0xb+0xcec+-0x1*-0x77e))*_0x24d355+_0xd67e75],_0x47e61b[_0x23db83]=_0x1522fe[(_0x31fc95*(0x154d+-0x29*0x8+-0x1402)+(-0xee2+0x2221*-0x1+-0x2f*-0x10b))*_0x24d355+_0xd67e75]):(_0x185471[_0x23db83]=0x135d+0x2*0xcf9+-0x2cd*0x10,_0x405444[_0x23db83]=-0xf65+0xbed+0x3f7,_0x47e61b[_0x23db83]=0x5*-0x288+0x163*0xb+0x21a*-0x1);}}_0xb07916['shData0']=_0x185471,_0xb07916['shData1']=_0x405444,_0xb07916['shData2']=_0x47e61b,_0xb07916['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x24d355];}else _0xb07916['shBands']=-0x102*0xb+0xf07*0x1+0x1*-0x3f1;return _0xb07916;},_0x586e4b=async(_0xdb051e,_0x3bea59,_0x38b9b3)=>{const _0x27ee12=_0x3bea59[0x24b9+-0x1*-0x23b+-0x26f4],_0x595700=_0x27ee12['properties'],_0x2b5b47=_0x595700['length'],_0x30d504=_0x595700['map'](_0x309f4c=>_0x309f4c['storage']),_0x618dc7=_0x595700['reduce']((_0x495dd3,_0x4d90c1)=>_0x495dd3+_0x4d90c1['byteSize'],0x13bc+0x3d*-0x97+0x103f);let _0x2ba395=-0x14dd+0x819+0xac*0x13,_0x1d9d54;const _0x312f6e=()=>{const _0x316550=_0xdb051e['data']['buffer'];(_0x1d9d54==null?void(0x5b+-0x665*0x1+0x60a):_0x1d9d54['buffer'])!==_0x316550&&(_0x1d9d54=new Float32Array(_0x316550,0xe9*0x24+-0x1e*-0x89+-0x30d2,_0x316550['byteLength']/(-0x21cf+0x4*-0x4ea+0x357b*0x1)));};for(_0x312f6e();_0x2ba395<_0x27ee12['count'];){for(;_0xdb051e['remaining']<_0x618dc7;)await _0xdb051e['read'](),_0x312f6e();const _0x32027d=Math['min'](_0x27ee12['count']-_0x2ba395,Math['floor'](_0xdb051e['remaining']/_0x618dc7));for(let _0x37753b=-0x156b*0x1+-0x68+0x15d3;_0x37753b<_0x2b5b47;++_0x37753b){const _0x3d22de=_0x30d504[_0x37753b];for(let _0x29b30c=-0x877+0xa9f*-0x2+-0x249*-0xd;_0x29b30c<_0x32027d;++_0x29b30c)_0x3d22de[_0x29b30c+_0x2ba395]=_0x1d9d54[_0x29b30c*_0x2b5b47+_0x37753b];}_0x2ba395+=_0x32027d,_0xdb051e['head']+=_0x32027d*_0x618dc7;}return new _0x113335(_0x3bea59,_0x38b9b3);},_0x4dad25=async(_0x438ecd,_0x302be6,_0x2e0d20)=>{for(let _0x4cc36c=0x23*-0x1+0x10*0x1c1+-0x1bed;_0x4cc36c<_0x302be6['length'];++_0x4cc36c){const _0x20079c=_0x302be6[_0x4cc36c],_0x344f99=_0x20079c['properties']['reduce']((_0x19f2ad,_0x51d02d)=>_0x19f2ad+_0x51d02d['byteSize'],0x1d93+-0x1bae+-0x1e5),_0x458eb1=_0x20079c['properties']['map'](_0x574c79=>{if(_0x574c79['storage'])switch(_0x574c79['type']){case'char':return(_0x6127b9,_0x46da49)=>{_0x574c79['storage'][_0x46da49]=_0x6127b9['getInt8']();};case'uchar':return(_0x3a6d3a,_0x3a3897)=>{_0x574c79['storage'][_0x3a3897]=_0x3a6d3a['getUint8']();};case'short':return(_0x37acba,_0x1bf18c)=>{_0x574c79['storage'][_0x1bf18c]=_0x37acba['getInt16']();};case'ushort':return(_0x8a5228,_0x4ff505)=>{_0x574c79['storage'][_0x4ff505]=_0x8a5228['getUint16']();};case'int':return(_0x52c882,_0x3021bd)=>{_0x574c79['storage'][_0x3021bd]=_0x52c882['getInt32']();};case'uint':return(_0x3de1fc,_0x3609f9)=>{_0x574c79['storage'][_0x3609f9]=_0x3de1fc['getUint32']();};case'float':return(_0x22543f,_0x2326f1)=>{_0x574c79['storage'][_0x2326f1]=_0x22543f['getFloat32']();};case'double':return(_0x4a7559,_0x1051c4)=>{_0x574c79['storage'][_0x1051c4]=_0x4a7559['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x574c79['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x40daa9=>{_0x40daa9['head']+=_0x574c79['byteSize'];};});let _0x82c3c7=-0x13df+0x90b+0x134*0x9;for(;_0x82c3c7<_0x20079c['count'];){for(;_0x438ecd['remaining']<_0x344f99;)await _0x438ecd['read']();const _0x33ad57=Math['min'](_0x20079c['count']-_0x82c3c7,Math['floor'](_0x438ecd['remaining']/_0x344f99));for(let _0x59c5f3=0x18*-0x32+0x4fd+-0x4d;_0x59c5f3<_0x33ad57;++_0x59c5f3){for(let _0x322f87=-0x1888+-0x5*0x3+0x4eb*0x5;_0x322f87<_0x20079c['properties']['length'];++_0x322f87)_0x458eb1[_0x322f87](_0x438ecd,_0x82c3c7);_0x82c3c7++;}}}return new _0x113335(_0x302be6,_0x2e0d20);},_0x2eb8e3=async(_0x1ab19f,_0x4f0694=null)=>{const _0x5c8e4d=(_0x2b1292,_0x1e95dc)=>{const _0x5716fe=_0x2b1292['length']-_0x1e95dc['length'];let _0x2b106b,_0x49fdee;for(_0x2b106b=-0x1*-0x1e89+-0x2*0x8ad+-0xd2f;_0x2b106b<=_0x5716fe;++_0x2b106b){for(_0x49fdee=0xeee+0xe*-0x275+0x26f*0x8;_0x49fdee<_0x1e95dc['length']&&_0x2b1292[_0x2b106b+_0x49fdee]===_0x1e95dc[_0x49fdee];++_0x49fdee);if(_0x49fdee===_0x1e95dc['length'])return _0x2b106b;}return-(0x6dc*-0x1+-0x1d36+-0x737*-0x5);},_0x846362=(_0x518c70,_0x3b3920)=>{if(_0x518c70['length']<_0x3b3920['length'])return!(-0x1976+-0x226c+0x3be3);for(let _0x14e965=-0xd*0x217+-0x13b1*-0x1+0x77a;_0x14e965<_0x3b3920['length'];++_0x14e965)if(_0x518c70[_0x14e965]!==_0x3b3920[_0x14e965])return!(0xd*0x17f+0x16e*0xd+-0x2608);return!(0xf28+0xb*0x16b+-0x1ec1);},_0x58c461=new _0x18a9d3(_0x1ab19f,_0x4f0694);let _0x5cb3e7;for(;;){if(await _0x58c461['read'](),_0x58c461['tail']>=_0x185f26['length']&&!_0x846362(_0x58c461['data'],_0x185f26))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x5cb3e7=_0x5c8e4d(_0x58c461['data'],_0x45470f),_0x5cb3e7!==-(0xad*0x35+0x39a*0x8+0x2050*-0x2))break;}const _0xf0f817=new TextDecoder('ascii')['decode'](_0x58c461['data']['subarray'](0xb5f+0x1ccf+-0x282e,_0x5cb3e7))['split']('\x0a'),{elements:_0x1b0f78,format:_0x37f081,comments:_0x1b3e91}=_0x4a7be7(_0xf0f817);if(_0x37f081!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x58c461['head']=_0x5cb3e7+_0x45470f['length'],_0x58c461['compact'](),await((async()=>_0x1c3fc7(_0x1b0f78)?await _0x2d103f(_0x58c461,_0x1b0f78,_0x1b3e91):(_0x1b0f78['forEach'](_0x214dcf=>{_0x214dcf['properties']['forEach'](_0x3a94c4=>{const _0x36454b=_0x1b6c15['get'](_0x3a94c4['type']);if(_0x36454b){const _0x5b1713=new _0x36454b(_0x214dcf['count']);_0x3a94c4['storage']=_0x5b1713;}});}),_0x35851e(_0x1b0f78)?await _0x586e4b(_0x58c461,_0x1b0f78,_0x1b3e91):await _0x4dad25(_0x58c461,_0x1b0f78,_0x1b3e91)))());},_0x353494=_0x53d285=>{const {numSplats:_0x313adf,chunkData:_0x1c166c,chunkSize:_0x39b414,vertexData:_0x1f4195,shData0:_0x5471a2,shData1:_0x2823ed,shData2:_0x5a762b,shBands:_0x566341,comments:_0x1117a5,is4D:_0x2a3067}=_0x53d285,_0x379fa4=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x2a3067&&_0x379fa4['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x566341>-0x100*-0x27+0x1a66+0x20b3*-0x2){const _0x1935a9=[];for(let _0x4782e8=0x26c8+-0x3*0x18c+-0x2224;_0x4782e8<0x8dc+-0x1996+0x10e7;++_0x4782e8)_0x1935a9['push']('f_rest_'+_0x4782e8);_0x379fa4['splice'](_0x379fa4['indexOf']('f_dc_0')+(0x105a+-0x1*-0xe92+0x5*-0x62f),0x1*-0x1a26+0x151b+0x50b,..._0x1935a9);}const _0x101e5d={};_0x379fa4['forEach'](_0x1dfd26=>{_0x101e5d[_0x1dfd26]=new Float32Array(_0x313adf);});const _0x504044=new _0x44d12b(),_0x31719b=new _0x98bd37(),_0x423d57=new _0x44d12b(),_0x2af0be=new _0x4938c4(),_0x744f2=new _0x44d12b(),_0x11845e=new _0x44d12b(),_0x3f25b3=_0x566341>-0x1641+0x12f5*-0x1+0x2936?new Float32Array(-0x2399+0x318+0x20ae):null,_0x1884b0=new _0x326e2c(_0x1c166c,_0x39b414,_0x1f4195,_0x5471a2,_0x2823ed,_0x5a762b,_0x566341,_0x504044,_0x31719b,_0x423d57,_0x2af0be,_0x744f2,_0x11845e,_0x3f25b3);for(let _0x1dcb40=0x1*0x255d+-0x2*0x10c1+-0x3db;_0x1dcb40<_0x313adf;++_0x1dcb40){_0x1884b0['read'](_0x1dcb40),_0x101e5d['x'][_0x1dcb40]=_0x504044['x'],_0x101e5d['y'][_0x1dcb40]=_0x504044['y'],_0x101e5d['z'][_0x1dcb40]=_0x504044['z'],_0x101e5d['rot_1'][_0x1dcb40]=_0x31719b['x'],_0x101e5d['rot_2'][_0x1dcb40]=_0x31719b['y'],_0x101e5d['rot_3'][_0x1dcb40]=_0x31719b['z'],_0x101e5d['rot_0'][_0x1dcb40]=_0x31719b['w'],_0x101e5d['scale_0'][_0x1dcb40]=_0x423d57['x'],_0x101e5d['scale_1'][_0x1dcb40]=_0x423d57['y'],_0x101e5d['scale_2'][_0x1dcb40]=_0x423d57['z'],_0x101e5d['motion_0'][_0x1dcb40]=_0x744f2['x'],_0x101e5d['motion_1'][_0x1dcb40]=_0x744f2['y'],_0x101e5d['motion_2'][_0x1dcb40]=_0x744f2['z'],_0x101e5d['t_scale'][_0x1dcb40]=_0x11845e['x'],_0x101e5d['t'][_0x1dcb40]=_0x11845e['y'],_0x101e5d['f_dc_0'][_0x1dcb40]=(_0x2af0be['x']-(0x1586+-0x47f+-0x1107*0x1+0.5))/_0x33926b,_0x101e5d['f_dc_1'][_0x1dcb40]=(_0x2af0be['y']-(0x1982+0x1bd2+-0x3554+0.5))/_0x33926b,_0x101e5d['f_dc_2'][_0x1dcb40]=(_0x2af0be['z']-(0x5*-0x5a+-0x1*-0x1ed+-0x1*0x2b+0.5))/_0x33926b;const _0x39d383=_0x2af0be['w']<=-0x12+0xc1b*-0x1+0x3*0x40f?-(-0xd0f*0x1+-0xce3*0x3+0x33e0):_0x2af0be['w']>=0x12*0x1d+-0x1c1f*0x1+0x1a16?-0x20d1+0x1*-0x1aff+0x3bf8:-Math['log']((-0x147b+0x755+0xd27)/_0x2af0be['w']-(-0x1f3b+-0x1263*-0x2+-0x58a));if(_0x101e5d['opacity'][_0x1dcb40]=(-0x1d*-0xc3+-0x14e*-0x6+-0x1dea)/(-0x606+-0x503+-0x9*-0x13a+Math['exp'](-_0x39d383)),_0x3f25b3){for(let _0x4bb983=0x25a5+-0x1*-0x19de+-0x3f83*0x1;_0x4bb983<-0x5f0+0x12b4+0x1*-0xc97;++_0x4bb983)_0x101e5d['f_rest_'+_0x4bb983][_0x1dcb40]=_0x3f25b3[_0x4bb983];}}const _0x126bf3=[{'count':_0x313adf,'name':'vertex','properties':_0x379fa4['map'](_0x742aca=>({'byteSize':0x4,'name':_0x742aca,'type':'float','storage':_0x101e5d[_0x742aca]}))}];return new _0x113335(_0x126bf3,_0x1117a5);};}class ok extends me{constructor(_0x7ba49f){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x7ba49f,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x233fa5,_0x3b05ec,_0x64a69b=(_0x1d65dc,_0x2bd7a5)=>{},_0x20ed98=(_0x467f91,_0x4f8351,_0x242bcb)=>{},_0x143ac7=(_0x545091,_0x4d18a3)=>{}){var _0x3a5743;return(_0x3a5743=this['worker'])==null||_0x3a5743['postMessag'+'e']({'type':'loadPly','url':_0x233fa5,'decompress':_0x3b05ec}),new Promise((_0x28a31c,_0x43048a)=>{if(!this['worker']){_0x43048a(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x50ef00=>{if(!this['worker'])return;const {data:_0x4c7e6f}=_0x50ef00;if(_0x233fa5===_0x4c7e6f['url'])switch(_0x4c7e6f['type']){case'totalLengt'+'h':_0x64a69b==null||_0x64a69b(_0x4c7e6f['totalLengt'+'h'],_0x4c7e6f['url']);break;case'progress':_0x20ed98==null||_0x20ed98(_0x4c7e6f['bytes'],_0x4c7e6f['totalLengt'+'h'],_0x4c7e6f['url']);break;case'splatData':_0x28a31c(_0x4c7e6f['data']);break;case'error':_0x143ac7==null||_0x143ac7(_0x4c7e6f['data'],_0x4c7e6f['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1c1d*-0x1+-0xa2c+-0x11f1));}}class lk{constructor(_0x10a103,_0x1b8db4){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x10a103,this['maxRetries']=_0x1b8db4,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x22c3+-0x2690+0x1*0x3cd);}async['load'](_0x249061,_0x23e1f7,_0x5277bd){var _0x2216ef,_0x4586fd,_0x3f3f86;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x249061['load']['includes'](',')?this['urlList']=_0x249061['load']['split'](','):this['urlList']['push'](_0x249061['load']);const _0x59b849=_0x5277bd['data']['createTime']!==((_0x4586fd=(_0x2216ef=this['onlyOneAss'+'et'])==null?void(-0x6fa*0x3+0x5f*-0x34+0x283a):_0x2216ef['data'])==null?void(0x1508+-0x1*0x2042+-0x1*-0xb3a):_0x4586fd['createTime']);(!this['readWorker']||_0x59b849)&&((_0x3f3f86=this['readWorker'])==null||_0x3f3f86['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x4d732d=_0x5277bd['data']['loadIndex']>=0x1*0x2ad+0x2*-0x84e+0xdef?_0x5277bd['data']['loadIndex']:0x261a+-0x164*-0x17+-0x4616,_0x59d8bf=_0x5277bd['data']['loadMode']==='all'?this['urlList']['length']-_0x4d732d:_0x4d732d+(-0x1e65*-0x1+-0x18c0+-0x5a4),_0x30c845=_0x5277bd['data']['timeOption'],_0x33f99a=_0x5277bd['data']['events'];for(let _0x351bfb=_0x4d732d;_0x351bfb<_0x59d8bf;_0x351bfb++)await this['loadGsplat'+'Data'](this['urlList'],_0x23e1f7,_0x5277bd,_0x351bfb,_0x30c845,_0x33f99a,_0x59d8bf);_0x33f99a['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x51dc42,_0x63efda,_0x2e613a,_0x5a86df,_0x16efb1,_0x5e3a08,_0x566d7d){var _0x364f89,_0x180552,_0x5a23b3;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x51dc42[_0x5a86df]['trim'](),_0x5a86df);const _0x21d140=_0x16efb1[(-0x23e9+0x263c+-0x1*0x251)*_0x5a86df]+_0x16efb1[(0xd*0x1e1+0x2*-0xff3+-0x5*-0x17f)*_0x5a86df+(0x78d*0x5+0x2325+-0x48e5)],_0x2ded0c=_0x51dc42[_0x5a86df]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1164*-0x2+-0x97e+0x3fce))['toFixed'](-0x5*0x75a+0x1203+0x12c1));try{const _0x4df583=await((_0x364f89=this['readWorker'])==null?void(-0x1*-0x7ff+0xdf9*0x1+-0x15f8):_0x364f89['loadPly'](_0x2ded0c,_0x2e613a['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x1e07+-0xb4*0x19+0x1*0x2f9b;},(_0x555d1d,_0x1a4bfd)=>{this['totalRecei'+'ved']+=_0x555d1d,_0x2e613a&&_0x5e3a08['fire']('progress',_0x1a4bfd*_0x5a86df/_0x566d7d+this['totalRecei'+'ved']/_0x566d7d,_0x1a4bfd);},(_0x331903,_0x11a05e)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x11a05e,_0x331903);}));let _0x2c17d2;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1f6f+0xbcf+-0x17b6))['toFixed'](-0x1c89+0xbd8+0x10b3)),_0x4df583['isCompress'+'ed']?(_0x2c17d2=new ak(),_0x2c17d2['comments']=_0x4df583['comments'],_0x2c17d2['numSplats']=_0x4df583['numSplats'],_0x2c17d2['is4D']=_0x4df583['is4D'],_0x2c17d2['chunkData']=_0x4df583['chunkData'],_0x2c17d2['vertexData']=_0x4df583['vertexData'],_0x2c17d2['shData0']=_0x4df583['shData0'],_0x2c17d2['shData1']=_0x4df583['shData1'],_0x2c17d2['shData2']=_0x4df583['shData2'],_0x2c17d2['shBands']=_0x4df583['shBands']):_0x2c17d2=new qn(_0x4df583['elements'],_0x4df583['comments']),_0x2e613a['fire']('load:data',_0x2c17d2),_0x2c17d2['isCompress'+'ed']||_0x2e613a['data']['reorder'];const _0x2e6475=_0x2e613a['data']['createTime']!==((_0x5a23b3=(_0x180552=this['onlyOneAss'+'et'])==null?void(-0xf37*-0x1+0x2*0xcf1+-0x2919):_0x180552['data'])==null?void(-0x1eab+0x8cb+0x1*0x15e0):_0x5a23b3['createTime']);this['gsplatReso'+'urce']&&!_0x2e6475?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x2c17d2['isCompress'+'ed']?await _0x2c17d2['decompress']():_0x2c17d2,_0x16efb1,_0x21d140,_0x2e613a,_0x5e3a08):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x2c17d2['isCompress'+'ed']?await _0x2c17d2['decompress']():_0x2c17d2),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x16efb1,this['onlyOneAss'+'et']=_0x2e613a),_0x63efda(null,this['gsplatReso'+'urce']);}catch(_0x32c549){_0x63efda(_0x32c549,null);}}['open'](_0x385881,_0xbab4e6){return _0xbab4e6;}}async function ck(){const _0x45a92e='super4d-ca'+'che-v1',_0x2393a2={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x39d5a1=0x265*-0x9+-0xc7f+0x220c+0.28209479177387814;class _0x12a290{constructor(_0x15db03={}){this['options']={..._0x2393a2,..._0x15db03},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x2*0xe81+-0x205a+0x3d5c,this['initialize'+'d']=!(0x2461+-0xf54+-0x150c);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x45a92e);const _0x44ee3a=await this['cache']['keys'](),_0x13efde=[];for(const _0x4d222f of _0x44ee3a){const _0x139006=_0x4d222f['url'],_0xeb2a5b=await this['cache']['match'](_0x139006);if(_0xeb2a5b){const _0x61fa8d=(await _0xeb2a5b['blob']())['size'],_0x53bece=_0xeb2a5b['headers']['get']('x-cache-ti'+'me');_0x53bece&&_0x13efde['push']({'url':_0x139006,'size':_0x61fa8d,'cacheTime':parseInt(_0x53bece)});}}_0x13efde['sort']((_0x1a1477,_0x5d9f4b)=>_0x1a1477['cacheTime']-_0x5d9f4b['cacheTime']);for(const _0x1aaaa3 of _0x13efde)this['cacheSizes']['set'](_0x1aaaa3['url'],_0x1aaaa3['size']),this['currentSiz'+'e']+=_0x1aaaa3['size'],this['lruList']['push'](_0x1aaaa3['url']);}catch(_0x360bd6){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x360bd6);}this['initialize'+'d']=!(-0x1e4d+0xccf*0x1+0x117e*0x1);}}async['get'](_0x314a9f){if(await this['init'](),!this['cache'])return null;try{const _0x58dd42=await this['cache']['match'](_0x314a9f);if(!_0x58dd42)return null;const _0x4f0049=_0x58dd42['headers']['get']('x-cache-ti'+'me');return _0x4f0049&&Date['now']()-parseInt(_0x4f0049)>this['options']['maxAge']?(await this['delete'](_0x314a9f),null):(this['updateLRU'](_0x314a9f),_0x58dd42);}catch{return null;}}async['set'](_0x4e8913,_0x2aad86){if(!(!this['cache']||_0x4e8913['startsWith']('blob:')))try{const _0x56ec24=_0x2aad86['clone'](),_0x1fff32=await _0x56ec24['blob'](),_0x17f502=_0x1fff32['size'];this['currentSiz'+'e']+_0x17f502>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x17f502);const _0x23b312=new Headers(_0x56ec24['headers']);_0x23b312['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x366c6b=new Response(_0x1fff32,{'status':_0x56ec24['status'],'statusText':_0x56ec24['statusText'],'headers':_0x23b312});await this['cache']['put'](_0x4e8913,_0x366c6b),this['cacheSizes']['set'](_0x4e8913,_0x17f502),this['currentSiz'+'e']+=_0x17f502,this['updateLRU'](_0x4e8913);}catch(_0x4fd117){console['error']('Cache\x20set\x20'+'error:',_0x4fd117);}}['updateLRU'](_0x4a5796){const _0x22269d=this['lruList']['indexOf'](_0x4a5796);_0x22269d>-(-0x1e9c+-0x1*-0x77b+-0x3*-0x7b6)&&this['lruList']['splice'](_0x22269d,0x16f2+-0x258f+0xe9e),this['lruList']['push'](_0x4a5796);}async['cleanupSpa'+'ce'](_0x36707d){const _0x40663f=this['options']['maxSize']*(0x2*0x6a3+-0x9f5*0x3+0x7*0x25f+0.9);if(!(this['currentSiz'+'e']<=_0x40663f))for(;this['lruList']['length']>-0x1*-0x515+0x12*-0x172+0x14ef&&this['currentSiz'+'e']>_0x40663f;){const _0x396b62=this['lruList']['shift']();_0x396b62&&await this['delete'](_0x396b62);}}async['delete'](_0x424633){if(this['cache'])try{await this['cache']['delete'](_0x424633);const _0x1bf25e=this['cacheSizes']['get'](_0x424633)||0x3*-0x5f5+0x264f+-0x4*0x51c;this['currentSiz'+'e']-=_0x1bf25e,this['cacheSizes']['delete'](_0x424633);const _0x457727=this['lruList']['indexOf'](_0x424633);_0x457727>-(0x1*-0x201e+0x2*-0x6e1+0x2de1)&&this['lruList']['splice'](_0x457727,-0x1382+0x2*0x3e3+0xbbd);}catch(_0x263e06){console['error']('Cache\x20dele'+'te\x20error:',_0x263e06);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x327af7=>Promise['all'](_0x327af7['map'](_0x2167be=>{var _0x455954;return(_0x455954=this['cache'])==null?void(0x66*-0xb+-0xe9a+0x12fc):_0x455954['delete'](_0x2167be);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x70e+-0x3*0x15a+-0x80*0x6;}catch(_0x40e09f){console['error']('Cache\x20clea'+'r\x20error:',_0x40e09f);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x3fc+0xc*-0x29d+0x2358;}}class _0x39397d{constructor(_0x4e5cb4=[],_0xe82e00={}){this['cacheManag'+'er']=new _0x12a290(_0xe82e00['cache']),this['retryCount']=_0xe82e00['retryCount']||-0x1d3*0x7+0x12d+0xb9b,this['retryDelay']=_0xe82e00['retryDelay']||0xad1+0x1f47+-0x16f*0x1c,this['maxConcurr'+'ency']=_0xe82e00['maxConcurr'+'ency']||0xb*-0x2be+-0x1c73*-0x1+0x1bd,this['downloadQu'+'eue']=_0x4e5cb4,this['isProcessi'+'ngDownload'+'Queue']=!(0xf2d+0x563+-0x148f),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x824+-0x1219*0x2+0xa*0x46f);this['downloadQu'+'eue']['length']>-0x1adf+0x1*-0xcd+-0x284*-0xb;)try{const _0x430014=this['downloadQu'+'eue']['splice'](-0x1aca+-0x8f4*0x4+0x3e9a,this['maxConcurr'+'ency'])['map'](_0x2e32db=>{if(!this['pendingRes'+'ponses']['has'](_0x2e32db)){const _0x3f3684=this['download'](_0x2e32db);return this['pendingRes'+'ponses']['set'](_0x2e32db,_0x3f3684),_0x3f3684['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x2e32db);});}return Promise['resolve']();});await Promise['all'](_0x430014);}catch(_0x5bcc84){console['error']('Download\x20e'+'rror:',_0x5bcc84);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xef3+0xfd*-0x25+0x159f);}}}async['fetch'](_0xd7ee5a,_0x4983b1={}){if(this['pendingRes'+'ponses']['has'](_0xd7ee5a))return this['pendingRes'+'ponses']['get'](_0xd7ee5a);const {forceRefresh:_0x366289=!(0x1a56+-0x4f7*0x7+-0xc4*-0xb),..._0x148fcc}=_0x4983b1;this['pendingRes'+'ponses']['set'](_0xd7ee5a,this['download'](_0xd7ee5a,_0x148fcc));const _0x504680=await this['pendingRes'+'ponses']['get'](_0xd7ee5a);return this['pendingRes'+'ponses']['delete'](_0xd7ee5a),_0x504680;}async['download'](_0x4a8868,_0x60d6c1={}){var _0x21dc0b;await((_0x21dc0b=this['cacheManag'+'er'])==null?void(-0x199e+-0x8*0x1f5+0xdc2*0x3):_0x21dc0b['init']());const {forceRefresh:_0x4676f1=!(-0x1*-0xc65+0x7b4+-0x1418),..._0x3d42d6}=_0x60d6c1;_0x4676f1&&await this['cacheManag'+'er']['delete'](_0x4a8868);const _0x6a8d00=await this['cacheManag'+'er']['get'](_0x4a8868);if(_0x6a8d00)return _0x6a8d00;let _0x12056d;for(let _0x1c2fca=-0x8f*-0x2f+0x2576+-0x3fb7;_0x1c2fca<this['retryCount'];_0x1c2fca++)try{const _0x482997=await fetch(_0x4a8868,_0x3d42d6);if(!_0x482997['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x482997['status']);return await this['cacheManag'+'er']['set'](_0x4a8868,_0x482997),_0x482997;}catch(_0x290b46){console['error']('Download\x20e'+'rror:',_0x290b46),_0x12056d=_0x290b46,_0x1c2fca<this['retryCount']-(0x1d89+-0x686+-0x1*0x1702)&&await new Promise(_0x35b7e7=>setTimeout(_0x35b7e7,this['retryDelay']*(_0x1c2fca+(-0x6*-0x107+0x5e*0x46+-0x1fdd))));}throw _0x12056d;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x478819;(_0x478819=this['cacheManag'+'er'])==null||_0x478819['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x7b4+0x756+-0x503*0x3),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x2393cb{constructor(_0x5735ac,_0x17c6a5=[]){this['elements']=_0x5735ac,this['comments']=_0x17c6a5,this['isCompress'+'ed']=!(0x115+0xc*-0x2de+0x2154);}}class _0x1d7a2c{constructor(_0x24381c){this['url']=_0x24381c;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x39397d(globalThis['downloadQu'+'eueUrlList']));const _0x41d4f8=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x41d4f8['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x41d4f8['statusText']);const _0x5cb144=await _0x41d4f8['arrayBuffe'+'r'](),_0xcbf994=new Uint8Array(_0x5cb144);let _0x1b5de8=-0x11f4+-0x17a6+0x299a,{size:_0x4a1c50,type:_0x200829}=this['_readBoxHe'+'ader'](_0xcbf994,_0x1b5de8);if(_0x200829!=='moof')throw new Error('Not\x20a\x20moof');_0x1b5de8+=-0x71*-0x13+0x14e1+-0x4*0x74f;const _0x107f85=_0x1b5de8+_0x4a1c50-(-0x1b7*-0x3+0x20c0+-0x25dd);let _0x511e83=null;for(;_0x1b5de8<_0x107f85;){const {size:_0x12c217,type:_0x4f8129}=this['_readBoxHe'+'ader'](_0xcbf994,_0x1b5de8);_0x1b5de8+=0x1703+-0x1206+0x2f*-0x1b;const _0x17ca38=_0xcbf994['slice'](_0x1b5de8,_0x1b5de8+_0x12c217-(-0x7*-0x217+0x4a3*0x4+0x6a1*-0x5));_0x1b5de8+=_0x12c217-(0x25dc*0x1+-0x2130+0x42*-0x12),_0x4f8129==='emsg'&&(_0x511e83=this['_parseEmsg'](_0x17ca38));}if(!_0x511e83)throw new Error('Incomplete'+'\x20moof');const {size:_0x2b1859,type:_0x5ad4c8}=this['_readBoxHe'+'ader'](_0xcbf994,_0x1b5de8);if(_0x5ad4c8!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x1b5de8+=0x244c+0xd*-0x134+-0x21*0xa0;const _0x3a5a8e=_0xcbf994['slice'](_0x1b5de8,_0x1b5de8+(_0x2b1859-(0x1*-0x255c+0xfb9+0x81*0x2b)));return{'metadata':_0x511e83,'segmentData':_0x3a5a8e};}['_readBoxHe'+'ader'](_0x2bdcce,_0x4834f6){if(_0x4834f6+(-0xf72+-0x2464+0x33de)>_0x2bdcce['length'])throw new Error('EOF');const _0x420861=_0x2bdcce[_0x4834f6]<<-0xb*-0x344+-0x21d7+-0x1fd|_0x2bdcce[_0x4834f6+(0x19f3*-0x1+0x1fae*-0x1+0x99b*0x6)]<<0x1*-0x1622+-0x290+0x18c2|_0x2bdcce[_0x4834f6+(0xa1d*0x2+-0x24cb+0x1093)]<<-0x2316+-0xfb*0x1+0x2419|_0x2bdcce[_0x4834f6+(-0xb26*0x1+0x185b+-0x2*0x699)],_0x3d9a7c=String['fromCharCo'+'de'](_0x2bdcce[_0x4834f6+(0x2a+-0xcb+0x3*0x37)],_0x2bdcce[_0x4834f6+(-0x25ca+-0x213d*0x1+0x470c)],_0x2bdcce[_0x4834f6+(-0x10e5+0x1835+0x6*-0x137)],_0x2bdcce[_0x4834f6+(0x3b7*-0x6+-0xcd2+-0x505*-0x7)]);return{'size':_0x420861,'type':_0x3d9a7c};}['_parseEmsg'](_0x1fddeb){let _0x2c2699=0x13*0x1f+0x207d+0x49*-0x7a;_0x2c2699=_0x1fddeb['indexOf'](0x1f37+-0x2031+0xfa,_0x2c2699)+(-0x7*0x462+0xa24+0x148b),_0x2c2699=_0x1fddeb['indexOf'](0x9b0+-0x2136+0xbc3*0x2,_0x2c2699)+(0x116*-0x1c+0x1*-0x53a+0x23a3),_0x2c2699+=-0x22ca+-0x17be+0x3a98;const _0x1402df=_0x1fddeb['slice'](_0x2c2699);return globalThis['CBOR']['decode'](_0x1402df);}}class _0x3f1f7b{constructor(_0x29d95f=0x1a5*-0x3+-0x53*0x37+0x16c4,_0x2f3b55=0x38*-0x38+0x9*-0x343+-0x299b*-0x1,_0x2b3ec2=0xc38+-0x263f+-0x8ad*-0x3,_0x5cb13a=-0xe2*-0x15+0x1ede+-0x3167){this['x']=_0x29d95f,this['y']=_0x2f3b55,this['z']=_0x2b3ec2,this['w']=_0x5cb13a;}['set'](_0xbcbd8a,_0xe4559a,_0x4f1c6d,_0x599f83){return this['x']=_0xbcbd8a,this['y']=_0xe4559a,this['z']=_0x4f1c6d,this['w']=_0x599f83,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x2f3e09=this){let _0x2ad800=_0x2f3e09['length']();return _0x2ad800===0x15dd+-0x2*-0x744+-0x79*0x4d?(this['x']=this['y']=this['z']=0x47*-0x25+-0x16b*0x9+0x1706,this['w']=0x1ba3+0x2378+-0x2*0x1f8d):(_0x2ad800=(0x1737*-0x1+0x2e3*-0x5+-0x1cb*-0x15)/_0x2ad800,this['x']=_0x2f3e09['x']*_0x2ad800,this['y']=_0x2f3e09['y']*_0x2ad800,this['z']=_0x2f3e09['z']*_0x2ad800,this['w']=_0x2f3e09['w']*_0x2ad800),this;}['mulScalar'](_0xcec98,_0x2dc36c=this){return this['x']=_0x2dc36c['x']*_0xcec98,this['y']=_0x2dc36c['y']*_0xcec98,this['z']=_0x2dc36c['z']*_0xcec98,this['w']=_0x2dc36c['w']*_0xcec98,this;}}self['onmessage']=async _0x33412a=>{var _0x442e3a,_0x1c55ec;const {data:_0x1bd483}=_0x33412a;switch(_0x1bd483['type']){case'initWorker':importScripts(_0x1bd483['cborXUrl']);break;case'destroyWor'+'ker':_0xa95e3d();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x18b00d,loadRepresentation:_0x2ae413}=_0x1bd483,_0x2f08d8=await _0x5d15a1(_0x18b00d,_0x2ae413);globalThis['manifestUr'+'l']=_0x18b00d,globalThis['manifest']=_0x2f08d8,globalThis['resentatio'+'n']=_0x2f08d8['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x33de57(),globalThis['fetchWorke'+'r']=new _0x39397d(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x2f08d8,'url':_0x18b00d,'representation':_0x2ae413});break;case'loadGsdSeg'+'ments':try{const _0x251d76=_0x69150a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x492d5b=await _0x7cb28(globalThis['manifest'],_0x251d76),_0x45a580=(_0x442e3a=_0x492d5b==null?void(-0x186b+-0x2377+0x3be2):_0x492d5b['elements'][-0x2369+0x13d*-0x1b+0x44d8])==null?void(-0xe00+-0x1b2e+0x292e):_0x442e3a['properties']['map'](_0x33ccb7=>_0x33ccb7['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x492d5b,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x45a580);}catch(_0x214c1f){console['error']('Error\x20load'+'ing\x20GSD:',_0x214c1f),self['postMessag'+'e']({'type':'error','data':_0x214c1f['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x1ece81}=_0x1bd483;try{const _0x31abce=_0x69150a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x510666=await _0x3d56f8(globalThis['manifest'],_0x31abce,_0x1ece81),_0x24afff=(_0x1c55ec=_0x510666==null?void(0x1af*-0x15+0x1b7f+0x7dc):_0x510666['elements'][-0x25ab+0x114+-0x1d*-0x143])==null?void(0x2350+0xf9d+-0x1*0x32ed):_0x1c55ec['properties']['map'](_0x1f018d=>_0x1f018d['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x510666,'timelineIndexs':_0x1ece81,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x24afff);}catch(_0xabb389){console['error']('Error\x20load'+'ing\x20GSD:',_0xabb389),self['postMessag'+'e']({'type':'error','data':_0xabb389['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0xa95e3d=()=>{var _0x31b88c;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x31b88c=globalThis['fetchWorke'+'r'])==null||_0x31b88c['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x33de57=()=>{const _0x52f549=new Set(),_0x469246=_0x69150a(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4980ff=globalThis['manifest']['baseUrl'],_0x4b932f=_0x469246['segmentTem'+'plate'][-0xc6*0x21+-0xcc6+-0x2*-0x1326];for(const _0x852d31 of _0x4b932f['segmentTim'+'eline'])for(const _0xe6c668 of _0x852d31['nl']){const _0x413567=''+_0x4980ff+_0x4b932f['media']['replace']('$SegGroupI'+'ndex$',String(_0x852d31['sg']))['replace']('$NodeIndex'+'$',String(_0xe6c668));_0x52f549['add'](_0x413567);}return Array['from'](_0x52f549);},_0x5d15a1=async(_0x5d1b8c,_0x4a17d5)=>{const _0x2a88a2=await(await fetch(_0x5d1b8c))['text'](),_0x46ff38=JSON['parse'](_0x2a88a2);_0x46ff38['baseUrl']=_0x5d1b8c['replace'](/\/[^\/]*$/,'/');const {schemas:_0xf7f16a,gsiUrl:_0x1a4564,repId:_0x249dfc}=await _0x44e6de(_0x46ff38,_0x4a17d5);return _0x46ff38['schemas']=_0xf7f16a,_0x46ff38['gsiUrl']=_0x1a4564,_0x46ff38['representa'+'tion']=_0x249dfc,_0x46ff38;},_0x44e6de=async(_0x54b6d9,_0x5b21e2)=>{let _0x4cb513=null,_0x10aa56=null;for(const _0x307e5e of _0x54b6d9['adaptation'+'Sets'])if(_0x307e5e['contentTyp'+'e']==='4dgs'){_0x10aa56=_0x307e5e;for(const _0x4cd45c of _0x307e5e['representa'+'tions'])if(_0x4cd45c['id']===_0x5b21e2){_0x4cb513=_0x4cd45c;break;}break;}_0x4cb513||(_0x4cb513=_0x10aa56['representa'+'tions'][0x1a85*-0x1+0xab+0x1*0x19da],console['warn']('Representa'+'tion\x20\x27'+_0x5b21e2+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x4d94d6=_0x4cb513['id'],_0x3d9974=_0x54b6d9['baseUrl']+_0x4d94d6+('/init.gsi.'+'json'),_0x10e449=await(await fetch(_0x3d9974))['text'](),_0x56e5ed=JSON['parse'](_0x10e449),_0x53dda1={};return _0x53dda1[_0x4d94d6]=_0x56e5ed,{'schemas':_0x53dda1,'gsiUrl':_0x3d9974,'repId':_0x4d94d6};},_0x69150a=(_0x3d6540,_0x3777b8='high-quant'+'ized')=>{let _0x22f5ca=null;for(const _0x9824fb of _0x3d6540['adaptation'+'Sets'])if(_0x9824fb['contentTyp'+'e']==='4dgs'){for(const _0x599e79 of _0x9824fb['representa'+'tions'])if(_0x599e79['id']===_0x3777b8){_0x22f5ca=_0x599e79;break;}break;}if(!_0x22f5ca)throw new Error('Representa'+'tion\x20\x27'+_0x3777b8+('\x27\x20not\x20foun'+'d'));return _0x22f5ca;},_0x7cb28=async(_0x10a8e0,_0x45022f)=>{const _0x4d68ca=_0x45022f['id'],_0x40b191=_0x10a8e0['schemas'][_0x4d68ca]['attributes'],_0x744518=_0x45022f['segmentTem'+'plate'][0x460+0x6df*-0x4+-0x1d*-0xcc];globalThis['loadedSegm'+'ents']=[];const _0x542f01=[],_0x52c6bf=[];for(const _0x3230b5 of _0x744518['segmentTim'+'eline'])for(const _0x2e23ce of _0x3230b5['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x3230b5['sg']+'_'+_0x2e23ce))continue;globalThis['loadedSegm'+'ents']['push'](_0x3230b5['sg']+'_'+_0x2e23ce);const _0x1f0b2a=await _0x4b115a(_0x10a8e0,_0x45022f,_0x40b191,_0x3230b5['sg'],_0x2e23ce);_0x52c6bf['push'](_0x1f0b2a['decoded']),_0x542f01['push'](_0x1f0b2a['metadata']);}return _0x16a9fb(_0x52c6bf,_0x40b191,_0x10a8e0['comments']);},_0x3d56f8=async(_0x36e31,_0x204bae,_0x5d664e)=>{if(!_0x5d664e||_0x5d664e['length']===-0x1*0x1421+0xb*0x2da+0x3*-0x3bf)return{'decoded':[],'metadata':[]};const _0x1ff5f2=_0x204bae['id'],_0x50b235=_0x36e31['schemas'][_0x1ff5f2]['attributes'],_0x180cf1=_0x204bae['segmentTem'+'plate'][-0x1181+0x2572+-0x13f1];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0xb59141=_0x180cf1['segmentTim'+'eline'][_0x5d664e[-0x3a*0x4c+0x198b+0x1*-0x853]];globalThis['currentLoa'+'dSg']!==_0xb59141['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x14680b=>!_0x14680b['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0xb59141['sg']);let _0x5ba6c3;const _0x547c54=[];for(const _0x328ff1 of _0x5d664e){_0x5ba6c3=_0x180cf1['segmentTim'+'eline'][_0x328ff1];for(const _0x48618b of _0x5ba6c3['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x5ba6c3['sg']+'_'+_0x48618b)||(globalThis['loadedSegm'+'ents']['push'](_0x5ba6c3['sg']+'_'+_0x48618b),_0x547c54['push'](_0x48618b));}const _0x5b9c0f=await _0x4b115a(_0x36e31,_0x204bae,_0x50b235,_0x5ba6c3['sg'],_0x547c54);_0x5b9c0f['metadata'];const _0x492de3=_0x5b9c0f['decoded'];return _0x16a9fb(_0x492de3,_0x50b235,_0x36e31['comments']);},_0x4b115a=async(_0x3efec8,_0x47c556,_0x30def5,_0xf4eadf,_0x4981f9)=>{const _0x37767f=_0x3efec8['baseUrl'],_0x49bd10=_0x47c556['segmentTem'+'plate'][0x1c0a+0x9b9*0x4+-0x42ee]['media'],_0x2ed56a=_0x4981f9['map'](_0x526481=>''+_0x37767f+_0x49bd10['replace']('$SegGroupI'+'ndex$',String(_0xf4eadf))['replace']('$NodeIndex'+'$',String(_0x526481))),_0x533996=await Promise['all'](_0x2ed56a['map'](async _0x542e36=>{const _0x323aaa=await _0x329b6d(_0x542e36),_0x44fbff=_0x323aaa['metadata'],_0xf7cf49=_0x323aaa['segmentDat'+'a'],_0x4e7ddc=_0x44fbff['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x542e36),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x44fbff['timeStart'],'segment\x20ti'+'meEnd:',_0x44fbff['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x4e7ddc);let _0x9083e9;if(_0x47c556['id']['includes']('quantized')){const _0x790880=_0x44fbff['chunk_boun'+'ds'];_0x9083e9=_0xe5dd97(_0xf7cf49,_0x4e7ddc,_0x30def5,_0xf4eadf,_0x790880);}else _0x9083e9=_0x3b373f(_0xf7cf49,_0x4e7ddc,_0x30def5,_0xf4eadf);return{'decoded':_0x9083e9,'metadata':_0x44fbff};})),_0xc8f8b1=_0x533996['map'](_0x312422=>_0x312422['decoded']),_0xa4abc6=_0x533996['map'](_0xda66b4=>_0xda66b4['metadata']);return{'decoded':_0xc8f8b1,'metadata':_0xa4abc6};},_0x16a9fb=(_0x18b1d2,_0x31724e,_0x4bfb21)=>{if(_0x18b1d2['length']===0x1*0x1fd5+-0xb3*-0x1d+-0x341c)return new _0x2393cb([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(0x1faa+0x1ed*0xd+-0x38b3),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x1*-0x24dc+-0xcda+-0x1b7*0xe),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x485+0x26cd+-0x2b52),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(-0x1*0x157d+0x50b+0x1072),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x9a2+-0x1*-0x2239+-0x1897),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x1*0x25eb+0xa65+-0x3050),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x9*0x32a+-0x11d7+0x2e51),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x2648+-0x1f*-0x109+0x631),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0x1*-0x21d7+-0x305*0x3+0x2*0x1573),'byteSize':0x4}]}],_0x4bfb21);const _0x119775=_0x3370a4(_0x18b1d2),[_0x425796,_0x10d274,_0x8e1a06]=_0x4fd0a7(_0x119775['lifecycle'],-0xefb+-0x1039+-0x3d*-0x83,Float32Array),_0x48cd90=_0x119775['time_index'],_0x57f414=_0x31724e['find'](_0x3a180b=>_0x3a180b['name']==='feature_re'+'st'),_0xa1b179=[];if(_0x57f414&&_0x119775['feature_re'+'st']){const _0x1e6a14=_0x57f414['dataType']['split'](',')[-0xbf3+0x1017+-0x423]['trim']()['replace']('>',''),_0x759b38=_0x4fd0a7(_0x119775['feature_re'+'st'],0x9*0x19d+-0x1*-0x1ded+-0x2c6f,Float32Array);for(const _0x4bff1a of _0x759b38){const _0x6c6003=_0x4fd0a7(_0x4bff1a,_0x1e6a14/(0x25f*0x1+0x1*-0x4a2+-0x61*-0x6),Float32Array);for(let _0xb1888=-0xa9e+0xbaa+-0x1*0x10c;_0xb1888<_0x6c6003['length'];_0xb1888++)_0xa1b179['push']({'name':'f_rest_'+_0xb1888,'type':'float','storage':_0x6c6003[_0xb1888],'byteSize':0x4});}}return new _0x2393cb([{'name':'vertex','count':_0x119775['position']['length']/(-0x1d41*-0x1+0x25*-0x73+-0xc9f),'properties':[{'name':'position','type':'float','storage':_0x119775['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x119775['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x10d274,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x425796,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x8e1a06,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x119775['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x119775['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x119775['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x48cd90,'byteSize':0x4},..._0xa1b179]}],_0x4bfb21);},_0x4fd0a7=(_0x54f4b9,_0x42d3f1,_0x36d9ab)=>{const _0x32992b=new Array(_0x42d3f1),_0x4acda7=Math['floor'](_0x54f4b9['length']/_0x42d3f1),_0x4e5268=_0x54f4b9['length']%_0x42d3f1;for(let _0x240ed0=-0x1017+0x1*0x2452+-0x143b;_0x240ed0<_0x42d3f1;_0x240ed0++){const _0x3f8014=_0x240ed0<_0x4e5268?_0x4acda7+(0xb1+-0xd29*0x1+0x1*0xc79):_0x4acda7;_0x32992b[_0x240ed0]=new _0x36d9ab(_0x3f8014);}for(let _0x339af1=0x13*-0x14e+0x1*0x25b3+-0x295*0x5;_0x339af1<_0x54f4b9['length'];_0x339af1++){const _0x357d3f=_0x339af1%_0x42d3f1,_0xdfae3c=Math['floor'](_0x339af1/_0x42d3f1);_0x32992b[_0x357d3f][_0xdfae3c]=_0x54f4b9[_0x339af1];}return _0x32992b;},_0x329b6d=async _0x47b919=>{const _0x40db41=new _0x1d7a2c(_0x47b919),{metadata:_0x2fb358,segmentData:_0x4612d4}=await _0x40db41['readFragme'+'nt']();return{'metadata':_0x2fb358,'segmentData':_0x4612d4};},_0x35b490=(_0xb789e,_0x188a79)=>{let _0x21c14d,_0x53a85c,_0x3c1d14=-(0xaa*0x25+-0x2*-0x132f+-0x1*0x3eef);if(_0xb789e['encoding']){const _0xb54a8d=_0xb789e['encoding']['storageTyp'+'e'];if(_0xb54a8d==='uint32')_0x53a85c=Uint32Array,_0x21c14d=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xb54a8d['startsWith']('array<ucha'+'r')){_0x53a85c=Uint8Array;const _0x30e9c8=_0xb54a8d['split'](',')[-0xcce+0x194e+-0xc7f]['trim']()['replace']('>','');_0x3c1d14=parseInt(_0x30e9c8),_0x21c14d=_0x3c1d14*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0xb54a8d);}}else{if(_0x53a85c=Float32Array,_0xb789e['dataType']==='vec3f')_0x21c14d=(0xc7a+-0x23d9*0x1+0x1762)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xb789e['dataType']==='vec4f')_0x21c14d=(0x191b+-0x1805+-0x112)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xb789e['dataType']==='vec2f')_0x21c14d=(-0xbde+0xdcb+-0x1eb*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0xb789e['dataType']['startsWith']('array<floa'+'t')){const _0x5ea56f=_0xb789e['dataType']['split'](',')[-0x150+0xac5+-0x37*0x2c]['trim']()['replace']('>','');_0x3c1d14=parseInt(_0x5ea56f),_0x21c14d=_0x3c1d14*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0xb789e['dataType']);}}}}return{'dataSize':_0x188a79*_0x21c14d,'datatype':_0x53a85c,'arraySize':_0x3c1d14};},_0x39dfed=(_0x2cf9ce,_0x462541)=>{const _0x22f15c=(-0x1*0x1be7+-0xf*-0x2+0x1bca<<_0x462541)-(0x677*-0x1+-0x103f+0x16b7);return(_0x2cf9ce&_0x22f15c)/_0x22f15c;},_0x57e55b=_0x5714e3=>{const _0x8910e3=new Float32Array(_0x5714e3['length']*(-0xe3*-0x13+0x7*-0x449+0xd29));for(let _0x4b6571=-0x471+-0x5dd*0x2+-0x1*-0x102b;_0x4b6571<_0x5714e3['length'];_0x4b6571++)_0x8910e3[_0x4b6571*(0x1d8+-0x1*-0x1827+0xcfe*-0x2)]=_0x39dfed(_0x5714e3[_0x4b6571]>>>-0xc69+0x13*-0x67+-0x1*-0x1423,0x5*0x4b7+0x1*0x6+-0x178e),_0x8910e3[_0x4b6571*(0x3*0x755+-0x1f8f+0x993*0x1)+(0x16*0x3a+-0x523*-0x2+-0xf41)]=_0x39dfed(_0x5714e3[_0x4b6571]>>>0x338+0x3ff+-0x12*0x66,0xd34+-0x27*-0xdf+-0x2f23),_0x8910e3[_0x4b6571*(-0x26e7+0xa7*0x1d+0x13ff)+(0x1*0x2003+-0x2438+0x53*0xd)]=_0x39dfed(_0x5714e3[_0x4b6571],-0x103a*0x1+-0x1ca*-0x8+-0xa7*-0x3);return _0x8910e3;},_0x2fd57e=_0x53b6d8=>{const _0x11680a=new Float32Array(_0x53b6d8['length']*(-0x1742+-0xe13*0x2+0x19b6*0x2));for(let _0x3a63bd=0x293*-0x2+-0x7*0x1c1+0x116d;_0x3a63bd<_0x53b6d8['length'];_0x3a63bd++)_0x11680a[_0x3a63bd*(-0x294*0x1+-0x160e*0x1+0xc53*0x2)]=_0x39dfed(_0x53b6d8[_0x3a63bd]>>>0xf*-0x19b+-0xc*0x53+0x1c11,0x1*0xc73+0x16*0x17c+0x419*-0xb),_0x11680a[_0x3a63bd*(-0x3a4+-0x1*-0xbb9+-0x811)+(0x1abd+0x187*0x11+-0x34b3)]=_0x39dfed(_0x53b6d8[_0x3a63bd]>>>0x214e+-0x33*-0x8d+-0x3d55,0x1065+-0x5*0xce+-0xc57),_0x11680a[_0x3a63bd*(-0x106e+0x220b+-0x1199)+(0x1bdb+-0x2322+0x749)]=_0x39dfed(_0x53b6d8[_0x3a63bd]>>>0x24e4+-0xd7*-0x9+-0x2c6b,-0xae8*0x1+-0x16d+-0xd3*-0xf),_0x11680a[_0x3a63bd*(-0x2*-0x107e+-0x1d4a+-0x3ae*0x1)+(-0x1*0x8ff+0x321*-0xc+0x2e8e)]=_0x39dfed(_0x53b6d8[_0x3a63bd],0x5bf*0x1+-0x26cb+0x2114);return _0x11680a;},_0xb6f2db=_0x831a3b=>{const _0x3b5983=new Float32Array(_0x831a3b['length']*(0xa71+0xc94+0x136*-0x13)),_0x371885=(0x6*-0xfd+-0x13*-0x85+0xe*-0x48)/(Math['sqrt'](-0x89+0xd52*-0x1+0xddd)*(-0x4f*-0x37+-0x1379+0x280+0.5));for(let _0x1c768d=-0x1140+0x1a1a+0x46d*-0x2;_0x1c768d<_0x831a3b['length'];_0x1c768d++){const _0x4d66ae=(_0x39dfed(_0x831a3b[_0x1c768d]>>>0x782+-0x1bc0+0x1452,0x10*0x15b+-0x7*-0x129+-0x1dc5)-(0x2*-0x15d+-0x666+0x920+0.5))*_0x371885,_0x36e5d1=(_0x39dfed(_0x831a3b[_0x1c768d]>>>0xe62+0x4dc*0x2+-0x1810,0x6f3*-0x5+-0xc7d+0x1*0x2f46)-(-0x26d9*-0x1+0x507+-0x30*0xea+0.5))*_0x371885,_0x31de06=(_0x39dfed(_0x831a3b[_0x1c768d],0x1*0x24fd+0x1ff5+-0x18*0x2df)-(0x5*-0x24a+0x3*-0x755+0x2171+0.5))*_0x371885,_0x138d0a=Math['sqrt'](-0x1c7f+-0xe7a+0x2afa-(_0x4d66ae*_0x4d66ae+_0x36e5d1*_0x36e5d1+_0x31de06*_0x31de06));let _0x45c784=0x1269+0x1*-0x194d+0x62*0x12,_0x3e1779=-0x848+-0x3*-0x212+0x212,_0x2887d9=-0x839+-0x11bd+-0xcfb*-0x2,_0x55df9e=-0x1fb8+0x1*0x13b6+0xc02;switch(_0x831a3b[_0x1c768d]>>>0x1f66+0x1a4e+-0x3996){case-0xe1d*-0x1+-0x9ac*0x1+0x17b*-0x3:_0x45c784=_0x138d0a,_0x3e1779=_0x4d66ae,_0x2887d9=_0x36e5d1,_0x55df9e=_0x31de06;break;case-0x1a74+0x47*0x29+0xf16:_0x45c784=_0x138d0a,_0x3e1779=_0x36e5d1,_0x2887d9=_0x31de06,_0x55df9e=_0x4d66ae;break;case 0x162*-0x15+-0x1*0x3fb+0x2107:_0x45c784=_0x36e5d1,_0x3e1779=_0x138d0a,_0x2887d9=_0x31de06,_0x55df9e=_0x4d66ae;break;case-0x251+0x12d1+-0x107d:_0x45c784=_0x36e5d1,_0x3e1779=_0x31de06,_0x2887d9=_0x138d0a,_0x55df9e=_0x4d66ae;break;}const _0x5615b8=_0x3d86d7(_0x45c784,_0x3e1779,_0x2887d9,_0x55df9e);_0x3b5983[_0x1c768d*(0x1552+0x2*0x1113+-0x3775)]=_0x5615b8['x'],_0x3b5983[_0x1c768d*(0x57c*0x6+0x22c3+-0x43a8)+(-0x3b7+0xce+0x2ea)]=_0x5615b8['y'],_0x3b5983[_0x1c768d*(-0x29b+-0x11*0x61+0x90f)+(0x1e23*0x1+-0x24ea+-0xc1*-0x9)]=_0x5615b8['z'];}return _0x3b5983;},_0x4fc8fa=(_0x304dc0,_0x2d9fcd,_0x436be5)=>{const _0xd80a2d=_0x436be5-_0x2d9fcd,_0x5dc1d5=new Float32Array(_0x304dc0['length']);for(let _0x386825=-0x18d3+0x21ce+0xd1*-0xb;_0x386825<_0x304dc0['length'];_0x386825++)_0x5dc1d5[_0x386825]=_0x304dc0[_0x386825]/(0xaf+0x1058+-0x1008)*_0xd80a2d+_0x2d9fcd;return _0x5dc1d5;},_0x13d076=new Float32Array(0x1c1f+0x248a+-0x40a8),_0x536552=new Int32Array(_0x13d076['buffer']),_0x24bb68=_0x5562f1=>{_0x13d076[-0x31e+-0x2*0x8e6+0x14ea]=_0x5562f1;const _0x24622f=_0x536552[-0x155+0x77f*-0x1+-0xa*-0xe2];let _0x4150c3=_0x24622f>>-0xd8b+-0x6c5*0x1+-0x20*-0xa3&-0x67b+0x2ed5*0x4+-0x34d9,_0x3a00be=_0x24622f>>0x37*-0xf+-0xa7*-0x1a+-0xdb1&-0x11a+0x283*-0x3+0x10a2*0x1;const _0x11974c=_0x24622f>>-0x6de+0x2189+-0x1a94&-0x17f4+-0x1*0x12a9+0x2b9c;return _0x11974c<0x242d+-0x1324+-0x10a2?_0x4150c3:_0x11974c>0x1ca2+-0x969*0x4+-0x33*-0x30?(_0x4150c3|=-0xa6de+0x96d3+0x8c0b,_0x4150c3|=(_0x11974c===-0xbb9+-0xd*0x2ab+-0x5*-0x97b?-0x892*-0x4+-0x1225+0x11*-0xf3:0xb8d*-0x3+0x5a2+-0x5*-0x5ce)&&_0x24622f&-0x1*0x305341+-0x4bfb5*-0x2+0x5a6*0x1d89,_0x4150c3):_0x11974c<-0x1d98+0x12*-0x37+-0xb4d*-0x3?(_0x3a00be|=-0x3d*-0x6c+-0xbcc*0x1+-0x50*0x13,_0x4150c3|=(_0x3a00be>>0x1*-0x73d+0x2*-0x72f+0x160d-_0x11974c)+(_0x3a00be>>-0xf66+0xadc+0x4fb-_0x11974c&-0x796+0x39*-0x84+0x24fb),_0x4150c3):(_0x4150c3|=_0x11974c-(0x1c*-0xc4+-0xaf1+-0x20d1*-0x1)<<-0x1*0x18fb+-0x1cab+-0xd6c*-0x4|_0x3a00be>>0x89*-0x28+0xd87+0x7e2,_0x4150c3+=_0x3a00be&-0x6ab+-0x3d6*0x9+0x2932,_0x4150c3);},_0x4e8c3d=_0x1fa27b=>{const _0x2d5bd9=new Uint16Array(_0x1fa27b['length']);for(let _0x5c72a4=-0x23bc+0x1*0x2225+0x197*0x1;_0x5c72a4<_0x1fa27b['length']/(-0x1c10+0x26*-0xb6+0x3718);++_0x5c72a4)_0x2d5bd9[_0x5c72a4*(-0x741+-0x5*0x472+0x1d7f)]=_0x24bb68(_0x1fa27b[_0x5c72a4*(0x7*0x26b+0x25fb+-0x36e4)]*_0x39d5a1+(0x2364+-0x1b1d*-0x1+-0x3e81+0.5)),_0x2d5bd9[_0x5c72a4*(0x130b+-0x1347+-0x2*-0x20)+(-0x1238+0x288+0xfb1)]=_0x24bb68(_0x1fa27b[_0x5c72a4*(-0x851+0xb22+0x2cd*-0x1)+(-0x1d53*-0x1+-0xbd*0x13+0x1b*-0x91)]*_0x39d5a1+(0x234d+-0x116*0x19+0x1*-0x827+0.5)),_0x2d5bd9[_0x5c72a4*(0x91c+-0xa86*0x3+0x167a)+(-0x24e8+0x20d0+0x41a)]=_0x24bb68(_0x1fa27b[_0x5c72a4*(-0x19*-0x15a+0x3*0x5ff+-0x33c3)+(-0x175*-0x9+-0xcd6+0x3*-0x17)]*_0x39d5a1+(0xe27+-0x242a+0x7*0x325+0.5)),_0x2d5bd9[_0x5c72a4*(0x2*-0x6de+0x22d8+-0x3c*0x5a)+(-0xae0+-0x1*-0x71+0xa72)]=_0x24bb68(_0x1fa27b[_0x5c72a4*(-0xf23*-0x2+0xbd2+-0xa85*0x4)+(0x1171+0x1754+-0x2f*0xde)]);return _0x2d5bd9;},_0x4a55cd=new _0x3f1f7b(-0x172e*-0x1+0x10a6+-0x1*0x27d4,0x9c1+0x20a1+0x136*-0x23,-0x1d86+0x2332+-0x5ac,0x10cb+0xdff+-0x233*0xe),_0x3d86d7=(_0x835b44,_0x2c1926,_0x3c454c,_0x219ce7)=>(_0x4a55cd['set'](_0x2c1926,_0x3c454c,_0x219ce7,_0x835b44),_0x4a55cd['normalize'](),_0x4a55cd['w']<-0x541*0x5+0x181a+0x22b&&_0x4a55cd['mulScalar'](-(0x417*-0x9+-0x403*0x4+-0x4*-0xd37)),_0x4a55cd);function _0xe5dd97(_0x6efea,_0x52b28e,_0x5c1269,_0x178bab,_0x2f1cfb){const _0x4a642a=_0x2f1cfb[Object['keys'](_0x2f1cfb)[-0x910+0x13f*0x11+-0xc1f*0x1]]['length'],_0x5a5965=-0x1fc7+0x1e16+0x2b1*0x1;let _0x1e2b55=[],_0x29bebd=_0x52b28e;for(let _0x33f2a1=0x4a9*-0x1+-0xbe*0xc+0xd91*0x1;_0x33f2a1<_0x4a642a;_0x33f2a1++){const _0xbbc531=Math['min'](_0x5a5965,_0x29bebd);_0x1e2b55['push'](_0xbbc531),_0x29bebd-=_0xbbc531;}let _0x5e6c13=0x180+0x30*0x4c+-0x240*0x7,_0x4bd92e={};for(let _0x52db37 of _0x5c1269){const _0x126e89=_0x52db37['name'],{dataSize:_0x3d61e7,datatype:_0x208ed9}=_0x35b490(_0x52db37,_0x52b28e);let _0x23bb13=_0x6efea['buffer']['slice'](_0x5e6c13,_0x5e6c13+_0x3d61e7),_0x318c8f=new _0x208ed9(_0x23bb13);_0x4bd92e[_0x126e89]=_0x318c8f,_0x5e6c13+=_0x3d61e7;}let _0x257601=[],_0x3d80d7=-0x6*-0xa+-0x629*0x2+0x77*0x1a;for(let _0x13adfc=0xa3*-0x18+-0x9*0x2ea+0x2982;_0x13adfc<_0x4a642a;_0x13adfc++){const _0x1176b7=_0x8196af(_0x4bd92e,_0x2f1cfb,_0x13adfc,_0x1e2b55,_0x3d80d7,_0x5c1269),_0x1eaab0=_0x1176b7['chunkDecom'+'pressed'];_0x257601['push'](_0x1eaab0),_0x3d80d7=_0x1176b7['chunkStart'+'Idx'];}let _0x4e45f0={};for(let _0x13ef07 of Object['keys'](_0x257601[0x1*0x11e6+0xc7+-0x1*0x12ad])){let _0x58d17d=-0x20ad+0x122b+0x4d6*0x3;for(let _0x227c8b=0xed6+-0x1f85*0x1+0x10af;_0x227c8b<_0x257601['length'];_0x227c8b++)_0x58d17d+=_0x257601[_0x227c8b][_0x13ef07]['length'];_0x13ef07==='color_opac'+'ity'||_0x13ef07==='scale'?_0x4e45f0[_0x13ef07]=new Uint16Array(_0x58d17d):_0x4e45f0[_0x13ef07]=new Float32Array(_0x58d17d);let _0x265d89=0x1c2a+0x4e5+-0x210f;for(let _0x1f9abd=0x648*0x2+-0x13e3+0x5*0x177;_0x1f9abd<_0x257601['length'];_0x1f9abd++)_0x4e45f0[_0x13ef07]['set'](_0x257601[_0x1f9abd][_0x13ef07],_0x265d89),_0x265d89+=_0x257601[_0x1f9abd][_0x13ef07]['length'];}return _0x5c1269['some'](_0x479670=>_0x479670['name']==='feature_re'+'st')&&(_0x4e45f0['feature_re'+'st']=_0x2597e4(_0x4bd92e,_0x5c1269)),_0x4e45f0['time_index']=new Float32Array(_0x52b28e),_0x4e45f0['time_index']['fill'](_0x178bab-(0x193b+0x721+-0x3*0xac9)),_0x4e45f0;}const _0x8196af=(_0x3e01aa,_0x5e9aac,_0x1bb7d4,_0x5a272c,_0x439b57,_0x43716a)=>{const _0x251fe0=_0x5a272c[_0x1bb7d4],_0x2e85b1=_0x439b57+_0x251fe0,_0x17bdcb=(_0x34f755,_0x105025,_0x4273b6)=>_0x34f755*(-0x2*0xbcf+-0x902+0x20a1-_0x4273b6)+_0x105025*_0x4273b6;let _0x41d5e0={};for(let _0x182336 of _0x43716a){const _0x17c72b=_0x182336['name'],_0x50a081=_0x182336['encoding']['codec'],_0xe84a25=_0x3e01aa[_0x17c72b]['slice'](_0x439b57,_0x2e85b1);if(_0x50a081==='pack_11_10'+'_11'){if(_0x17c72b==='scale'){const _0x9d12fe=_0x5e9aac['min_scales'][_0x1bb7d4],_0x1f9e00=_0x5e9aac['max_scales'][_0x1bb7d4],_0xf24f10=_0x57e55b(_0xe84a25),_0xa38c23=_0xf24f10['length'],_0x5b5da8=new Uint16Array(_0xa38c23);for(let _0x3efdcd=0x9*-0x29a+-0xd4e+-0xeb*-0x28;_0x3efdcd<_0xa38c23;_0x3efdcd++)_0x5b5da8[_0x3efdcd]=_0x24bb68(Math['exp'](_0x17bdcb(_0x9d12fe[_0x3efdcd%(-0xb*-0xb8+-0x9d6*-0x1+-0x11bb)],_0x1f9e00[_0x3efdcd%(-0x18*-0x18f+-0x1*-0x24d7+-0x4a3c)],_0xf24f10[_0x3efdcd])));_0x41d5e0[_0x17c72b]=_0x5b5da8;}else{const _0xdaa750=_0x57e55b(_0xe84a25);let _0x24aa0f,_0x5bc5e3;if(_0x17c72b==='position')_0x24aa0f=_0x5e9aac['min_means'][_0x1bb7d4],_0x5bc5e3=_0x5e9aac['max_means'][_0x1bb7d4];else{if(_0x17c72b==='motion')_0x24aa0f=_0x5e9aac['min_motion'][_0x1bb7d4],_0x5bc5e3=_0x5e9aac['max_motion'][_0x1bb7d4];else{if(_0x17c72b==='lifecycle'){const _0x137045=_0x5e9aac['min_t_scal'+'e'][_0x1bb7d4],_0x37b944=_0x5e9aac['max_t_scal'+'e'][_0x1bb7d4],_0x13932f=_0x5e9aac['min_time'][_0x1bb7d4],_0x59dfd2=_0x5e9aac['max_time'][_0x1bb7d4],_0x59a591=_0x5e9aac['min_cutoff'][_0x1bb7d4],_0x5d8dbf=_0x5e9aac['max_cutoff'][_0x1bb7d4];_0x24aa0f=[_0x137045[-0x1676+-0x3*-0x6ab+0x275],_0x13932f[-0x5*-0x63+0x1*-0x1a26+0x1837],_0x59a591[-0x1cf9+-0x6*0x7c+0x1fe1]],_0x5bc5e3=[_0x37b944[-0x25*0x1e+0x1319*0x1+-0xec3*0x1],_0x59dfd2[0x20f4+0xb*0x353+-0x4585*0x1],_0x5d8dbf[0x1*-0x2687+-0x4df+0x2b66]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x17c72b);}}for(let _0x1f3284=0x1889+-0x23d8*-0x1+-0x3c61;_0x1f3284<_0xdaa750['length'];_0x1f3284++)_0xdaa750[_0x1f3284]=_0x17bdcb(_0x24aa0f[_0x1f3284%(0x6c*0x2b+0x1409+-0x262a)],_0x5bc5e3[_0x1f3284%(-0x2*-0x6e2+0x22ab+-0x6*0x812)],_0xdaa750[_0x1f3284]);_0x41d5e0[_0x17c72b]=_0xdaa750;}}else{if(_0x50a081==='pack_8888'){let _0x220e53=_0x2fd57e(_0xe84a25);const _0xc5391a=_0x5e9aac['min_colors'][_0x1bb7d4],_0x3b459a=_0x5e9aac['max_colors'][_0x1bb7d4],_0x2be129=new Uint16Array(_0x220e53['length']);for(let _0x1212a4=0x1*0x67f+-0x21f5+-0x1*-0x1b76;_0x1212a4<_0x220e53['length'];_0x1212a4++){const _0x570556=_0x1212a4*(0x312+0x3*-0xb2a+-0x1*-0x1e70);_0x2be129[_0x570556]=_0x24bb68(_0x17bdcb(_0xc5391a[-0x1*-0x1333+-0x5*-0x13d+-0x1964],_0x3b459a[-0x24c1+-0x5*-0x39e+0x12ab],_0x220e53[_0x570556])),_0x2be129[_0x570556+(0x19b8+-0x140b+-0x5ac)]=_0x24bb68(_0x17bdcb(_0xc5391a[0x47*0x8b+0x1c9d+-0x4329],_0x3b459a[-0x1202+-0x43+0x1246],_0x220e53[_0x570556+(0x16*-0x6d+-0xaa+0x1*0xa09)])),_0x2be129[_0x570556+(-0xa*0x29+0x1770+-0xb*0x1fc)]=_0x24bb68(_0x17bdcb(_0xc5391a[-0x321+0x71*0xd+-0x29a],_0x3b459a[-0x40*-0x9+0x1*-0xa8f+-0x851*-0x1],_0x220e53[_0x570556+(0x2118+0x1ee2*-0x1+0x1*-0x234)])),_0x2be129[_0x570556+(-0x187c+0x2275+-0x55*0x1e)]=_0x24bb68(_0x220e53[_0x570556+(-0x67*0x3e+0x1bc*0x4+-0x1*-0x1205)]);}_0x41d5e0[_0x17c72b]=_0x2be129;}else{if(_0x50a081==='pack_rotat'+'ion_32'){const _0x17e88e=_0xb6f2db(_0xe84a25);_0x41d5e0[_0x17c72b]=_0x17e88e;}else{if(_0x50a081==='range_quan'+'t_u8'){if(_0x17c72b==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x50a081);}}}}}return{'chunkDecompressed':_0x41d5e0,'chunkStartIdx':_0x2e85b1};},_0x2597e4=(_0x13600d,_0x2cef4c)=>{const _0x29296b='feature_re'+'st',_0x3e9605=_0x2cef4c['find'](_0xde61e1=>_0xde61e1['name']===_0x29296b);let _0x1275e0;const _0x3f5265=_0x3e9605['encoding']['codec'],_0x1e132c=_0x13600d[_0x29296b];if(_0x3f5265==='range_quan'+'t_u8'){const [_0x35d6ad,_0x5cfd57]=_0x3e9605['encoding']['range'];_0x1275e0=_0x4fc8fa(_0x1e132c,_0x35d6ad,_0x5cfd57);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x3f5265);return _0x1275e0;},_0x3b373f=(_0x1c9892,_0x4ce55f,_0x11cbcf,_0x21c97f)=>{let _0x2faa02=-0x22c1+-0x1*0x8b+0x234c;const _0x5e66e4={};for(const _0x475f39 of _0x11cbcf){const {dataSize:_0x12f499}=_0x35b490(_0x475f39,_0x4ce55f);if(['vec3f','vec4f','vec2f']['includes'](_0x475f39['dataType']))_0x5e66e4[_0x475f39['name']]=new Float32Array(_0x1c9892['buffer']['slice'](_0x2faa02,_0x2faa02+_0x12f499));else{if(_0x475f39['dataType']['startsWith']('array<floa'+'t'))_0x5e66e4[_0x475f39['name']]=new Float32Array(_0x1c9892['buffer']['slice'](_0x2faa02,_0x2faa02+_0x12f499));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x475f39['dataType']);}_0x2faa02+=_0x12f499;}const _0x369097=new Uint16Array(_0x5e66e4['scale']['length']);for(let _0x98dd40=-0x2*0xc6a+-0x1f99+-0x12cf*-0x3;_0x98dd40<_0x5e66e4['scale']['length'];_0x98dd40++)_0x369097[_0x98dd40]=_0x24bb68(Math['exp'](_0x5e66e4['scale'][_0x98dd40]));_0x5e66e4['scale']=_0x369097;const _0xef9c3c=_0x5e66e4['rotation']['length']/(-0x1ea3*0x1+0x1d38+-0x1*-0x16f),_0x5817b1=new Float32Array(_0xef9c3c*(-0x7*0x4a+0x18eb*-0x1+-0xa*-0x2b2));for(let _0x23986b=-0x18c+0x3f4+0xb*-0x38;_0x23986b<_0xef9c3c;_0x23986b++){const _0x32ffab=_0x3d86d7(_0x5e66e4['rotation'][_0x23986b*(-0x1*-0x2567+0x9eb+-0x5*0x976)],_0x5e66e4['rotation'][_0x23986b*(-0x256a+-0x703*-0x4+-0x1*-0x962)+(0x1*0x23cf+0x1*0x1731+-0x3aff)],_0x5e66e4['rotation'][_0x23986b*(0x1dac+0x41*-0x45+-0x1*0xc23)+(0xf9*-0x1c+0x1*-0x5df+0x211d)],_0x5e66e4['rotation'][_0x23986b*(0x198a+-0x1b73+0x1d*0x11)+(0x2648+-0x11b4+-0x1491)]);_0x5817b1[_0x23986b*(0x7*-0x565+0x1713+-0xeb3*-0x1)]=_0x32ffab['x'],_0x5817b1[_0x23986b*(-0x1*-0x1723+0x1*-0x15e3+-0x13d)+(-0x1423*-0x1+0xd*-0xf7+0x43*-0x1d)]=_0x32ffab['y'],_0x5817b1[_0x23986b*(-0x1e65+0x825+0x1643)+(0x4c9+0x1f24*-0x1+0x1*0x1a5d)]=_0x32ffab['z'];}return _0x5e66e4['rotation']=_0x5817b1,_0x5e66e4['color_opac'+'ity']=_0x4e8c3d(_0x5e66e4['color_opac'+'ity']),_0x5e66e4['time_index']=new Float32Array(_0x4ce55f),_0x5e66e4['time_index']['fill'](_0x21c97f-(0x2*0x362+-0x4a*0x1e+0x1e9)),_0x5e66e4;},_0x3370a4=(_0x3ded8c,_0xe42212)=>{const _0x4f1b1b={};if(_0x3ded8c['length']===0x153a+-0x137*0x1a+0x17b*0x7)return _0x3ded8c[0xfb4+-0xf72+-0x16*0x3];for(const _0x4ed77d of Object['keys'](_0x3ded8c[-0x3de*0x6+-0x1eed+-0x3*-0x120b]))if(_0x3ded8c[0x1404+0x2667+-0x3a6b][_0x4ed77d]instanceof Float32Array||_0x3ded8c[0xbf2+-0xd*-0x2d9+0x30f7*-0x1][_0x4ed77d]instanceof Uint16Array){const _0x176c7b=_0x3ded8c['reduce']((_0x1a8da4,_0x59e42a)=>_0x1a8da4+_0x59e42a[_0x4ed77d]['length'],-0x1*-0x8ed+-0x1c93+-0xa*-0x1f7);let _0x10baa8;_0x3ded8c[-0x3a3*-0x4+0xd14+-0x1ba0][_0x4ed77d]instanceof Uint16Array?_0x10baa8=new Uint16Array(_0x176c7b):_0x10baa8=new Float32Array(_0x176c7b);let _0xddb802=-0xa6*-0x3+0x1*0x1d9+-0x3cb;for(const _0x5392a4 of _0x3ded8c)_0x10baa8['set'](_0x5392a4[_0x4ed77d],_0xddb802),_0xddb802+=_0x5392a4[_0x4ed77d]['length'];_0x4f1b1b[_0x4ed77d]=_0x10baa8;}else Array['isArray'](_0x3ded8c[0x6e*-0x55+-0x7*-0x109+0x1d47][_0x4ed77d])?_0x4f1b1b[_0x4ed77d]=_0x3ded8c['flatMap'](_0x3339db=>Array['from'](_0x3339db[_0x4ed77d])):_0x4f1b1b[_0x4ed77d]=_0x3ded8c['map'](_0x2a2629=>_0x2a2629[_0x4ed77d])['flat']();return _0x4f1b1b;};}class hk extends me{constructor(_0x564aee){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x564aee,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x710f62){var _0x348b55;return(_0x348b55=this['worker'])==null||_0x348b55['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x710f62}),new Promise((_0x3ebb65,_0xdcd1d3)=>{if(!this['worker']){_0xdcd1d3(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5566f7=>{if(!this['worker'])return;const {data:_0x13b958}=_0x5566f7;if(this['manifestUr'+'l']===_0x13b958['url'])switch(_0x13b958['type']){case'onloadMani'+'fest':_0x3ebb65({'manifest':_0x13b958['data'],'url':_0x13b958['url'],'representation':_0x13b958['representa'+'tion']});break;case'error':_0xdcd1d3(_0x13b958['data']);break;}};});}['loadGsdSeg'+'ments'](_0x10dd12,_0x573a8e){var _0x29c818;return(_0x29c818=this['worker'])==null||_0x29c818['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x3dcefc,_0x3ca975)=>{if(!this['worker']){_0x3ca975(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x560891=>{if(!this['worker'])return;const {data:_0xa5bd4b}=_0x560891;if(this['manifestUr'+'l']===_0xa5bd4b['url'])switch(_0xa5bd4b['type']){case'progress':_0x10dd12==null||_0x10dd12(_0xa5bd4b['bytes'],_0xa5bd4b['totalLengt'+'h'],_0xa5bd4b['url']);break;case'loadGsdSeg'+'mentsDone':_0x3dcefc(_0xa5bd4b['data']);break;case'error':_0x573a8e==null||_0x573a8e(_0xa5bd4b['data'],_0xa5bd4b['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x53661e,_0x5c32c7,_0x26752a){var _0x418435;return(_0x418435=this['worker'])==null||_0x418435['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x53661e}),new Promise((_0x13257b,_0x279321)=>{if(!this['worker']){_0x279321(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5c771e=>{if(!this['worker'])return;const {data:_0x222526}=_0x5c771e;if(this['manifestUr'+'l']===_0x222526['url'])switch(_0x222526['type']){case'progress':_0x5c32c7==null||_0x5c32c7(_0x222526['bytes'],_0x222526['totalLengt'+'h'],_0x222526['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x13257b(_0x222526);break;case'error':_0x26752a==null||_0x26752a(_0x222526['data'],_0x222526['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x2522+-0x124*0x10+-0x12e2));}}const Xh=class Xh{constructor(_0x2e8d18,_0x5b898b,_0x5a29df){h(this,'lastLoadIn'+'dex',-0x19*0x67+-0x257f+0x2f8e),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x2e8d18,this['representa'+'tion']=_0x5b898b,this['gsdAssetPa'+'rser']=_0x5a29df,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x2e8d18,_0x5b898b));}['getSegment'+'Timeline'](_0x4f6b22,_0x478013){let _0x25d70a=null;for(const _0x4bcce9 of _0x4f6b22['adaptation'+'Sets'])if(_0x4bcce9['contentTyp'+'e']==='4dgs'){for(const _0xf2b30 of _0x4bcce9['representa'+'tions'])if(_0xf2b30['id']===_0x478013){_0x25d70a=_0xf2b30;break;}break;}if(!_0x25d70a)throw new Error('Representa'+'tion\x20\x27'+_0x478013+('\x27\x20not\x20foun'+'d'));return _0x25d70a['segmentTem'+'plate'][-0x1*-0xa8f+0x51f*-0x3+0x6*0xcd]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x5bee90){const _0x29246e=this['findSegmen'+'tTimeline'](_0x5bee90);if(!_0x29246e)return;const _0x2a9ac5=_0x29246e['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x3*-0x17f+0x6b+0x95*0x7)?_0x29246e['timelineIn'+'dex']+(-0x859+0x5e7*-0x1+0xe41):-0x1*-0x2e0+0xc*-0x30b+0x21a4;this['lastLoadIn'+'dex']!==_0x2a9ac5&&(this['lastLoadIn'+'dex']=_0x2a9ac5,this['loadNextSe'+'gment'](_0x2a9ac5));}async['loadNextSe'+'gment'](_0x458f5b){const _0x27a8e5=[];for(let _0x45359c=0x9*0x2e6+0x659+0x1b5*-0x13;_0x45359c<Xh['CACHE_COUN'+'T'];_0x45359c++)_0x27a8e5['push']((_0x458f5b+_0x45359c)%this['segmentTim'+'elines']['length']);const _0x51018d=_0x27a8e5[_0x27a8e5['length']-(-0x1740+-0x7*-0x15b+-0x2*-0x6e2)],_0x582132=this['segmentTim'+'elines'][_0x51018d]['t']+this['segmentTim'+'elines'][_0x51018d]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x27a8e5,_0x582132);}['findSegmen'+'tTimeline'](_0x29574b){let _0x2376f7=0x7b8*0x4+-0x1*0x1d84+-0x15c,_0x3c8d5e=this['segmentTim'+'elines']['length']-(0xfb+0x1d*-0x7f+0xd69);for(;_0x2376f7<=_0x3c8d5e;){const _0x97aa45=_0x2376f7+_0x3c8d5e>>0x113*-0xf+-0xb8f+0x6d*0x41,{t:_0x733a60,d:_0x599501}=this['segmentTim'+'elines'][_0x97aa45];if(_0x29574b<_0x733a60)_0x3c8d5e=_0x97aa45-(-0x1e89+0x257b*-0x1+0x4405);else{if(_0x29574b>=_0x733a60+_0x599501)_0x2376f7=_0x97aa45+(-0xad*-0x7+-0x9e3+-0x1*-0x529);else return{'timeline':this['segmentTim'+'elines'][_0x97aa45],'timelineIndex':_0x97aa45};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x5d5+0x23*-0x101+-0xdaa*-0x3);let Wu=Xh;class dk{constructor(_0x13c21d,_0xee8d03){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x6fb+0x25ae+0x1*-0x1eb2)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x13c21d,this['maxRetries']=_0xee8d03,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x1eef*0x1+-0x2*0x677+0x2bdd,this['manifest']={});}async['load'](_0x2e5c22,_0x3a6bd1,_0x100ef4){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x2e5c22['load']);const _0x59f0b7=_0x100ef4['data']['events'];this['events']=_0x59f0b7,this['asset']=_0x100ef4,this['callback']=_0x3a6bd1,this['timeOption']=_0x100ef4['data']['timeOption'];let _0x13bda9=_0x100ef4['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x2e5c22['load']);const _0x5c1c07=await this['readWorker']['loadGsdMan'+'ifest'](_0x13bda9);this['manifest']=_0x5c1c07['manifest'],_0x13bda9=_0x5c1c07['manifest']['representa'+'tion']||_0x13bda9,this['schedule']=new Wu(this['manifest'],_0x13bda9,this),this['totalRecei'+'vedCount']=-0x1399+-0x1*0x185c+0x2bf5;const _0x4f336a=this['getSegment'+'Timeline'](this['manifest'],_0x13bda9),_0x32fa85=_0x4f336a[0xcbe+0x1566+-0x2*0x1112]['t']+_0x4f336a[0x2426+-0x17b0+-0xc76]['d'];this['appendload'+'DataTask']([0x254a+-0x2*0xb73+-0xe64,0x20ef*0x1+0x4e9*-0x1+-0x1c05],_0x32fa85),_0x59f0b7['on']('timeChange'+'d',_0x141f60=>{var _0xd46fa1;(_0xd46fa1=this['schedule'])==null||_0xd46fa1['onTimeChan'+'ged'](_0x141f60);});}['getSegment'+'Timeline'](_0x50047b,_0x7764a9){let _0x51ee11=null;for(const _0x238444 of _0x50047b['adaptation'+'Sets'])if(_0x238444['contentTyp'+'e']==='4dgs'){for(const _0x2096d9 of _0x238444['representa'+'tions'])if(_0x2096d9['id']===_0x7764a9){_0x51ee11=_0x2096d9;break;}break;}if(!_0x51ee11)throw new Error('Representa'+'tion\x20\x27'+_0x7764a9+('\x27\x20not\x20foun'+'d'));return _0x51ee11['segmentTem'+'plate'][0xc73+0x7d*0x5+-0xee4]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x495500,_0x5b811a){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x495500,'loadedTime':_0x5b811a}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x1*-0x24f1+-0x1*0x113c+-0x1*0x13b5);try{for(;this['loadDataTa'+'skQueue']['length']>0x46+0x30e*-0xc+0x2462;){const _0x4200b2=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x4200b2);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x406+0x1*-0x71+0x4*-0xe5);}}}async['loadGsplat'+'Data'](_0x30f37f){var _0x418704,_0x222702;const {segmentIndexs:_0x4e2c9e,loadedTime:_0x19da74}=_0x30f37f,_0x69ba4=this['events'],_0x34199a=this['asset'],_0x5cd43=this['callback'],_0x50e7b4=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x4e2c9e,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x3e3*-0x5+-0x2438+-0x10cb*-0x1));try{const _0x5f4ec1=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x4e2c9e,(_0xec55af,_0x1bdb81)=>{this['totalRecei'+'ved']+=_0xec55af,_0x34199a&&_0x69ba4['fire']('progress',this['totalRecei'+'ved'],_0x1bdb81);},(_0xca014f,_0xfa8966)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0xfa8966,_0xca014f);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x92*0x31+-0x3*-0x88c+0x6c*-0x7f),_0x5f4ec1['data']['elements'][0x735+0xe8b+-0x15c0]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x5f4ec1['data']['elements'][-0x117d+0xe74+0x309]['count']*(0x13*-0x39+-0x4de0+0x792b*0x1))['toFixed'](0x467*0x6+0x59*0x37+-0x15*0x22b));const _0x2530f5=_0x5f4ec1['data'];if(_0x2530f5['elements'][0x17cd+0xd*-0x16e+0x5*-0x10b]['count']===-0x3b*-0x83+0x3*-0x1eb+0x88*-0x2e)return;this['totalRecei'+'vedCount']+=_0x2530f5['elements'][-0x83*0x33+0x16c5+-0xd5*-0x4]['count'];const _0x399b5d=new iC(_0x2530f5['elements'],_0x2530f5['comments']);_0x34199a['fire']('load:data',_0x399b5d);const _0x52b191=_0x34199a['data']['createTime']!==((_0x222702=(_0x418704=this['onlyOneAss'+'et'])==null?void(0x1a56*0x1+-0x1497+0x1*-0x5bf):_0x418704['data'])==null?void(0x1612+0x202a+-0x34*0x10b):_0x222702['createTime']);this['gsplatReso'+'urce']&&!_0x52b191?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x399b5d,_0x50e7b4,_0x19da74,_0x34199a)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x399b5d),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x50e7b4,this['onlyOneAss'+'et']=_0x34199a,_0x5cd43&&_0x5cd43(null,this['gsplatReso'+'urce']),_0x69ba4['fire']('loadAllAss'+'etsDone'));}catch(_0x3e0d90){console['error']('loadGsplat'+'Data','error',_0x3e0d90),_0x5cd43&&_0x5cd43(_0x3e0d90,null);}}['open'](_0x518f3c,_0x4a00dc){return _0x4a00dc;}}class fk extends Qe{constructor(_0x5dad7b){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x5dad7b,'gsplat'),this['parsers']={'ply':new lk(_0x5dad7b,0x1bf*-0x13+0x1d36*-0x1+0x3e66),'json':new dk(_0x5dad7b,-0xafb+0x68d*0x1+0x471)};}['_getUrlWit'+'houtParams'](_0x38c4fa){return _0x38c4fa['indexOf']('?')>=0x1897*0x1+0x1525+-0x2dbc?_0x38c4fa['split']('?')[-0x1d*-0x3+-0x2e*0x5f+0x10bb]:_0x38c4fa;}['_getParser'](_0x31e9d5){const _0x3460c6=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x31e9d5))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x3460c6]||this['parsers']['ply'];}['load'](_0x3ead48,_0x175777,_0x5c3760){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x3ead48=='string'&&(_0x3ead48={'load':_0x3ead48,'original':_0x3ead48}),this['_getParser'](_0x3ead48['original'])['load'](_0x3ead48,_0x175777,_0x5c3760);}['open'](_0x4c0d99,_0x4c3375,_0x1241f6){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x4c3375;}}class $u{static['setCompres'+'sedPRS'](_0x3d30b5,_0x255c51,_0x37df94){const _0x326c00=_0x37df94['singleVecs'];let _0xc28a89,_0x630e89;const _0x4f4901=_0x255c51['___1'];_0x4f4901||(_0xc28a89=_0x37df94['tripleVecs'],_0x630e89=_0x255c51['___2']);let _0x44e641=_0x4f4901?_0x4f4901[-0x76f+0x21d0*-0x1+-0x293f*-0x1]:_0xc28a89[_0x630e89];_0x3d30b5['setLocalPo'+'sition'](_0x326c00[_0x44e641],_0x326c00[_0x44e641+(0x1e68+-0x32*0x68+-0xa17)],_0x326c00[_0x44e641+(-0x7*0x58c+-0x5*0x61f+0x4571)]),_0x44e641=_0x4f4901?_0x4f4901[-0xd6*0x1+0x6a1*-0x5+0x21fc]:_0xc28a89[_0x630e89+(0x9a3*-0x4+-0x1*-0x15ca+0x10c3)],_0x3d30b5['setLocalEu'+'lerAngles'](_0x326c00[_0x44e641],_0x326c00[_0x44e641+(0x1086+0x12d*-0x5+-0xaa4)],_0x326c00[_0x44e641+(-0x8*-0x4d9+0x2ac*-0x4+-0x1c16)]),_0x44e641=_0x4f4901?_0x4f4901[0x2710*-0x1+-0x1d*-0xe3+0xd5b]:_0xc28a89[_0x630e89+(-0x287*0x3+0x1c1e+-0x1487)],_0x3d30b5['setLocalSc'+'ale'](_0x326c00[_0x44e641],_0x326c00[_0x44e641+(0x676+0x545*0x6+-0x2613)],_0x326c00[_0x44e641+(-0x2a*-0x41+-0x1*-0x2141+-0x2be9)]);}static['oneCharToK'+'ey'](_0x1e1eca,_0x1c50e3){const _0x49d731=_0x1e1eca['charCodeAt'](-0x2448+0x1a07+0xa41)-_0x1c50e3['fieldFirst'+'Code'];return _0x1c50e3['fieldArray'][_0x49d731];}static['multCharTo'+'Key'](_0x362767,_0x5cfddc){let _0x3b03bd=0x213d+0x1320+0x77b*-0x7;for(let _0x3ed440=0x51*0x5f+0x13ec+-0x10a9*0x3;_0x3ed440<_0x362767['length'];_0x3ed440++)_0x3b03bd=_0x3b03bd*_0x5cfddc['fieldCodeB'+'ase']+_0x362767['charCodeAt'](_0x3ed440)-_0x5cfddc['fieldFirst'+'Code'];return _0x5cfddc['fieldArray'][_0x3b03bd];}}class Uh{constructor(_0x2230e9,_0x2d50b6){this['_node']=_0x2230e9,this['_data']=_0x2d50b6;}['run'](){const _0x19accf=Object['prototype']['toString']['call'](this['_node']);return _0x19accf==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x19accf==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x10e73d){let _0x509a01=_0x10e73d;const _0x27be66=_0x10e73d['length'];_0x27be66===-0x2*-0x1305+-0x148f*0x1+-0x117a?_0x509a01=$u['oneCharToK'+'ey'](_0x10e73d,this['_data']):_0x27be66===-0x1b09+0x1b47+-0x3c&&(_0x509a01=$u['multCharTo'+'Key'](_0x10e73d,this['_data'])),this['_result'][_0x509a01]=new Uh(this['_node'][_0x10e73d],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x5f0651){const _0x2833fc=new Uh(_0x5f0651,this['_data'])['run']();this['_result']['push'](_0x2833fc);}}class bm{constructor(_0x387ace,_0x2f842c){this['_app']=_0x387ace,this['_isTemplat'+'e']=_0x2f842c;}['parse'](_0x46f5df){const _0x32aefc={};let _0x5e6841=null;const _0x9c6ccc=_0x46f5df['compressed'+'Format'];_0x9c6ccc&&!_0x46f5df['entDecompr'+'essed']&&(_0x46f5df['entDecompr'+'essed']=!(-0xd*-0x121+0x1274+-0x303*0xb),_0x46f5df['entities']=new Uh(_0x46f5df['entities'],_0x9c6ccc)['run']());for(const _0x33dd81 in _0x46f5df['entities']){const _0x4f09af=_0x46f5df['entities'][_0x33dd81],_0x1d0751=this['_createEnt'+'ity'](_0x4f09af,_0x9c6ccc);_0x32aefc[_0x33dd81]=_0x1d0751,_0x4f09af['parent']===null&&(_0x5e6841=_0x1d0751);}for(const _0x5efd0d in _0x46f5df['entities']){const _0x3736f5=_0x32aefc[_0x5efd0d],_0xb04988=_0x46f5df['entities'][_0x5efd0d]['children'],_0x22cc38=_0xb04988['length'];for(let _0x4b1e37=-0x900+-0xb78*0x3+0x2b68;_0x4b1e37<_0x22cc38;_0x4b1e37++){const _0x34b263=_0x32aefc[_0xb04988[_0x4b1e37]];_0x34b263&&_0x3736f5['addChild'](_0x34b263);}}return this['_openCompo'+'nentData'](_0x5e6841,_0x46f5df['entities']),_0x5e6841;}['_createEnt'+'ity'](_0x4ab82b,_0x3ac593){const _0x434022=new lt(_0x4ab82b['name'],this['_app']);if(_0x434022['setGuid'](_0x4ab82b['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x434022,_0x4ab82b,_0x3ac593),_0x434022['_enabled']=_0x4ab82b['enabled']??!(0x6e2*0x1+-0x1*-0x1cdd+-0x1*0x23bf),this['_isTemplat'+'e']?_0x434022['_template']=!(-0x4*-0x5fd+0x2129+0x1*-0x391d):_0x434022['_enabledIn'+'Hierarchy']=_0x434022['_enabled'],_0x434022['template']=_0x4ab82b['template'],_0x4ab82b['tags']){for(let _0x5da17b=0x1d*0x115+0x546+-0xb*0x355;_0x5da17b<_0x4ab82b['tags']['length'];_0x5da17b++)_0x434022['tags']['add'](_0x4ab82b['tags'][_0x5da17b]);}return _0x434022;}['_setPosRot'+'Scale'](_0x22470f,_0x25e4da,_0x5615b5){if(_0x5615b5)$u['setCompres'+'sedPRS'](_0x22470f,_0x25e4da,_0x5615b5);else{const _0x403688=_0x25e4da['position'],_0x1d6c81=_0x25e4da['rotation'],_0x308e3b=_0x25e4da['scale'];_0x22470f['setLocalPo'+'sition'](_0x403688[-0xc1a+0x11*0x1f6+-0x153c],_0x403688[-0x1c9b+0x560+0x2*0xb9e],_0x403688[-0x20be+0x1273+0xe4d]),_0x22470f['setLocalEu'+'lerAngles'](_0x1d6c81[0x174e+0x649*0x1+-0x1d97],_0x1d6c81[0x2297+0x1*-0x16c7+-0xbcf],_0x1d6c81[0x70+-0x11*0x12e+0x13a0]),_0x22470f['setLocalSc'+'ale'](_0x308e3b[-0xaa9+-0xb11+0x15ba],_0x308e3b[0x8c3*-0x3+0x171*0x5+0x1315],_0x308e3b[-0x15*-0xe5+-0x407*-0x2+0x1ad5*-0x1]);}}['_openCompo'+'nentData'](_0x495e3e,_0x5c2643){const _0x3e1375=this['_app']['systems']['list'];let _0x447e32=_0x3e1375['length'];const _0x2eb0a=_0x5c2643[_0x495e3e['getGuid']()];for(let _0x9a9f50=0xa43*-0x1+0x1*-0x1aa5+0x24e8;_0x9a9f50<_0x447e32;_0x9a9f50++){const _0x282cbe=_0x3e1375[_0x9a9f50],_0x10e576=_0x2eb0a['components'][_0x282cbe['id']];_0x10e576&&_0x282cbe['addCompone'+'nt'](_0x495e3e,_0x10e576);}_0x447e32=_0x2eb0a['children']['length'];const _0x3c7936=_0x495e3e['_children'];for(let _0x41d7fe=-0x71*-0x25+0x2169*-0x1+0x1114;_0x41d7fe<_0x447e32;_0x41d7fe++)_0x3c7936[_0x41d7fe]?_0x3c7936[_0x41d7fe]=this['_openCompo'+'nentData'](_0x3c7936[_0x41d7fe],_0x5c2643):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x495e3e['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x495e3e;}}class E0{static['load'](_0xd51658,_0x2741a5,_0xdbd63b){typeof _0xd51658=='string'&&(_0xd51658={'load':_0xd51658,'original':_0xd51658}),ot['get'](_0xd51658['load'],{'retry':_0x2741a5>0x2b*0x70+-0x12e*0x4+-0x58*0x29,'maxRetries':_0x2741a5},(_0x19bb1a,_0x4ba969)=>{if(!_0x19bb1a)_0xdbd63b(_0x19bb1a,_0x4ba969);else{let _0x243d9d='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0xd51658['original'];_0x19bb1a['message']?(_0x243d9d+=':\x20'+_0x19bb1a['message'],_0x19bb1a['stack']&&(_0x243d9d+='\x0a'+_0x19bb1a['stack'])):_0x243d9d+=':\x20'+_0x19bb1a,_0xdbd63b(_0x243d9d);}});}}class uk extends Qe{constructor(_0x4cf110){super(_0x4cf110,'hierarchy');}['load'](_0x486826,_0x4d5586){E0['load'](_0x486826,this['maxRetries'],_0x4d5586);}['open'](_0x1c2367,_0x587466){this['_app']['systems']['script']['preloading']=!(0x6fb*-0x1+-0x24c8+0x2bc3);const _0x3100be=new bm(this['_app'],!(-0x1fe5+0x121c+-0x2c2*-0x5))['parse'](_0x587466);return this['_app']['systems']['script']['preloading']=!(0x775+-0x15d9+0xe65),_0x3100be;}}class pk extends Qe{constructor(_0x3cdfdc){super(_0x3cdfdc,'html'),h(this,'decoder',null);}['load'](_0x1cfde7,_0x5d7063){typeof _0x1cfde7=='string'&&(_0x1cfde7={'load':_0x1cfde7,'original':_0x1cfde7}),ot['get'](_0x1cfde7['load'],{'retry':this['maxRetries']>-0xa9c*0x2+0x8*0x1+0x1530,'maxRetries':this['maxRetries']},(_0x1f37c1,_0x3f4bd9)=>{_0x1f37c1?_0x5d7063('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x1cfde7['original']+'\x20['+_0x1f37c1+']'):_0x5d7063(null,_0x3f4bd9);});}['openBinary'](_0x598b3c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x598b3c);}}class mk extends Qe{constructor(_0x5cd41d){super(_0x5cd41d,'json'),h(this,'decoder',null);}['load'](_0x3d446d,_0x1b64cd){typeof _0x3d446d=='string'&&(_0x3d446d={'load':_0x3d446d,'original':_0x3d446d});const _0x5258ae={'retry':this['maxRetries']>0x1e9+-0x1*0x1a93+-0x29*-0x9a,'maxRetries':this['maxRetries']};_0x3d446d['load']['startsWith']('blob:')&&(_0x5258ae['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x3d446d['load'],_0x5258ae,(_0x319533,_0x2505b4)=>{_0x319533?_0x1b64cd('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3d446d['original']+'\x20['+_0x319533+']'):_0x1b64cd(null,_0x2505b4);});}['openBinary'](_0x37653b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x37653b));}}class _k{constructor(){this['removeInva'+'lid']=!(0x1*-0x9b8+0x117a+-0x6*0x14b),this['valid']=!(-0x2135+-0x17bc+0x38f1),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x485607,_0xeda79a){this['valid']=!(0x4f*-0x39+0x274*0x2+0xcb0),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x485607,_0xeda79a[_0x485607]),this['removeInva'+'lid']&&delete _0xeda79a[_0x485607];}['validate'](_0x3d1bab){const _0x725285=$n,_0x4b15e1=gb,_0x120e45=_0x3d1bab['mappingFor'+'mat']==='path';for(const _0x1ff0de in _0x3d1bab){const _0x336fb0=_0x725285[_0x1ff0de];if(!_0x336fb0){_0x4b15e1[_0x1ff0de]?delete _0x3d1bab[_0x1ff0de]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x1ff0de),this['valid']=!(0x23dd+0x3a*0x20+-0x2b1c));continue;}if(_0x336fb0['startsWith']('enum')){const _0x207543=_0x336fb0['split'](':')[-0x39e*0x5+0x24af+-0x1298];this['enumValida'+'tors'][_0x207543]&&(this['enumValida'+'tors'][_0x207543](_0x3d1bab[_0x1ff0de])||this['setInvalid'](_0x1ff0de,_0x3d1bab));}else{if(_0x336fb0==='number')typeof _0x3d1bab[_0x1ff0de]!='number'&&this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='boolean')typeof _0x3d1bab[_0x1ff0de]!='boolean'&&this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='string')typeof _0x3d1bab[_0x1ff0de]!='string'&&this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='vec2')_0x3d1bab[_0x1ff0de]instanceof Array&&_0x3d1bab[_0x1ff0de]['length']===0xa75+0x3*-0x7cc+0xcf1||this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='rgb')_0x3d1bab[_0x1ff0de]instanceof Array&&_0x3d1bab[_0x1ff0de]['length']===0x2*-0xa79+0xa9*-0x10+0x1f85||this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='texture')_0x120e45?typeof _0x3d1bab[_0x1ff0de]=='string'||_0x3d1bab[_0x1ff0de]===null||_0x3d1bab[_0x1ff0de]instanceof _e||this['setInvalid'](_0x1ff0de,_0x3d1bab):typeof _0x3d1bab[_0x1ff0de]=='number'||_0x3d1bab[_0x1ff0de]===null||_0x3d1bab[_0x1ff0de]instanceof _e||this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='boundingbo'+'x')_0x3d1bab[_0x1ff0de]['center']&&_0x3d1bab[_0x1ff0de]['center']instanceof Array&&_0x3d1bab[_0x1ff0de]['center']['length']===0x1bb4+0xbd6+-0x2787||this['setInvalid'](_0x1ff0de,_0x3d1bab),_0x3d1bab[_0x1ff0de]['halfExtent'+'s']&&_0x3d1bab[_0x1ff0de]['halfExtent'+'s']instanceof Array&&_0x3d1bab[_0x1ff0de]['halfExtent'+'s']['length']===-0x2329*0x1+-0xcdb+0x3007||this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='cubemap')typeof _0x3d1bab[_0x1ff0de]=='number'||_0x3d1bab[_0x1ff0de]===null||_0x3d1bab[_0x1ff0de]===void(0x2*0x97c+0x2a1*0x8+-0x200*0x14)||_0x3d1bab[_0x1ff0de]instanceof _e&&_0x3d1bab[_0x1ff0de]['cubemap']||this['setInvalid'](_0x1ff0de,_0x3d1bab);else{if(_0x336fb0==='chunks'){const _0x29d766=Object['keys'](_0x3d1bab[_0x1ff0de]);for(let _0x34c037=-0x1b*0x153+0x2494+0x1*-0xd3;_0x34c037<_0x29d766['length'];_0x34c037++)typeof _0x3d1bab[_0x1ff0de][_0x29d766[_0x34c037]]!='string'&&this['setInvalid'](_0x29d766[_0x34c037],_0x3d1bab[_0x1ff0de]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x336fb0);}}}}}}}}}}return _0x3d1bab['validated']=!(-0x115c*-0x2+0x59*0x56+-0xac5*0x6),this['valid'];}['_createEnu'+'mValidator'](_0x14ae36){return function(_0x2ce407){return _0x14ae36['indexOf'](_0x2ce407)>=-0xc75+0x22d1+-0x4*0x597;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x20be6e){const _0x58dcd9=this['migrate'](_0x20be6e),_0x5dcec4=this['_validate'](_0x58dcd9),_0x36ad8e=new Ut();return this['initialize'](_0x36ad8e,_0x5dcec4),_0x36ad8e;}['initialize'](_0x40808f,_0x4904bc){if(_0x4904bc['validated']||(_0x4904bc=this['_validate'](_0x4904bc)),_0x4904bc['chunks']&&_0x4904bc['chunks']&&Object['keys'](_0x4904bc['chunks'])['length']>0x1f*0xf7+-0x2*0xc69+0x517*-0x1){const _0x4e4887=_0x40808f['shaderChun'+'ks']['glsl'];Object['entries'](_0x4904bc['chunks'])['forEach'](([_0x3452a7,_0x4ff983])=>_0x4e4887['set'](_0x3452a7,_0x4ff983));}for(const _0x262f78 in _0x4904bc){const _0x22da10=$n[_0x262f78],_0xb1d392=_0x4904bc[_0x262f78];if(_0x22da10==='vec2')_0x40808f[_0x262f78]=new J(_0xb1d392[0x256b+-0x2642+0xd7],_0xb1d392[0x1dd8*0x1+-0x2088+0xd*0x35]);else{if(_0x22da10==='rgb')_0x40808f[_0x262f78]=new ie(_0xb1d392[0xb38+-0x449*-0x7+-0x2937],_0xb1d392[0x9a6+-0x100+0x1*-0x8a5],_0xb1d392[0x5b*-0x5b+-0x422*0x9+0x458d]);else{if(_0x22da10==='texture')_0xb1d392 instanceof _e?_0x40808f[_0x262f78]=_0xb1d392:_0x40808f[_0x262f78]instanceof _e&&typeof _0xb1d392=='number'&&_0xb1d392>-0x1f79+0x137f+0xbfa||(_0x40808f[_0x262f78]=null);else{if(_0x22da10==='cubemap')_0xb1d392 instanceof _e?_0x40808f[_0x262f78]=_0xb1d392:_0x40808f[_0x262f78]instanceof _e&&typeof _0xb1d392=='number'&&_0xb1d392>0x20ed*0x1+0x2a*-0x44+-0x15c5||(_0x40808f[_0x262f78]=null),_0x262f78==='cubeMap'&&!_0xb1d392&&(_0x40808f['prefiltere'+'dCubemaps']=null);else{if(_0x22da10==='boundingbo'+'x'){const _0xb93d1b=new D(_0xb1d392['center'][-0x21ec+0x1*0x626+0x2c7*0xa],_0xb1d392['center'][0xba*-0x3+-0x2260+0x31*0xbf],_0xb1d392['center'][-0x1f5f+0x19*0x6b+0x14ee]),_0x210bc5=new D(_0xb1d392['halfExtent'+'s'][0xce4+0x124*-0x1f+0x1678],_0xb1d392['halfExtent'+'s'][-0x1*-0x9d7+0x322*-0x5+-0x2*-0x2ea],_0xb1d392['halfExtent'+'s'][0x115*0x17+-0x2*-0x108e+-0x39fd]);_0x40808f[_0x262f78]=new De(_0xb93d1b,_0x210bc5);}else _0x40808f[_0x262f78]=_0x4904bc[_0x262f78];}}}}}_0x40808f['update']();}['migrate'](_0x270899){_0x270899['shader']&&delete _0x270899['shader'],_0x270899['mapping_fo'+'rmat']&&(_0x270899['mappingFor'+'mat']=_0x270899['mapping_fo'+'rmat'],delete _0x270899['mapping_fo'+'rmat']);let _0x226d3e;const _0x2dc05c=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x226d3e=0x4*0x7f6+-0xd51+-0x1287;_0x226d3e<_0x2dc05c['length'];_0x226d3e++){const _0x3d930c=_0x2dc05c[_0x226d3e][-0xc71*0x1+0x10d9+-0x1*0x468],_0x4782af=_0x2dc05c[_0x226d3e][-0x5cd+0x2b*-0x43+0x110f];_0x270899[_0x3d930c]!==void(-0x7ed+-0x19b2+-0x97*-0x39)&&(_0x270899[_0x4782af]===void(-0x1d1e*0x1+-0x22b1+0x3fcf)&&(_0x270899[_0x4782af]=_0x270899[_0x3d930c]),delete _0x270899[_0x3d930c]);}const _0x36dc6d=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x226d3e=-0x752+-0x101e*-0x1+0x4*-0x233;_0x226d3e<_0x36dc6d['length'];_0x226d3e++){const _0x5be821=_0x36dc6d[_0x226d3e];_0x270899['hasOwnProp'+'erty'](_0x5be821)&&delete _0x270899[_0x5be821];}return _0x270899;}['_validate'](_0x59adae){return _0x59adae['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x59adae)),_0x59adae;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x4ef8be){super(_0x4ef8be,'material'),this['_assets']=_0x4ef8be['assets'],this['_device']=_0x4ef8be['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x19094b,_0x22fb8){typeof _0x19094b=='string'&&(_0x19094b={'load':_0x19094b,'original':_0x19094b}),ot['get'](_0x19094b['load'],{'retry':this['maxRetries']>0x1ad+0x17*-0x1ab+0x24b0,'maxRetries':this['maxRetries']},(_0x34ef22,_0x58c7ad)=>{_0x34ef22?_0x22fb8&&_0x22fb8('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x19094b['original']+'\x20['+_0x34ef22+']'):_0x22fb8&&(_0x58c7ad['_engine']=!(0xd4b*0x1+0x130d*-0x2+0x57*0x49),_0x22fb8(null,_0x58c7ad));});}['open'](_0x4555ae,_0x4316b7){const _0x2e9a39=this['_parser']['parse'](_0x4316b7);return _0x4316b7['_engine']&&(_0x2e9a39['_data']=_0x4316b7,delete _0x4316b7['_engine']),_0x2e9a39;}['patch'](_0x2d4a22,_0x4bf5c4){_0x2d4a22['resource']['_data']&&(_0x2d4a22['_data']=_0x2d4a22['resource']['_data'],delete _0x2d4a22['resource']['_data']),_0x2d4a22['data']['name']=_0x2d4a22['name'],_0x2d4a22['resource']['name']=_0x2d4a22['name'],this['_bindAndAs'+'signAssets'](_0x2d4a22,_0x4bf5c4),_0x2d4a22['off']('unload',this['_onAssetUn'+'load'],this),_0x2d4a22['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x506e1a){delete _0x506e1a['data']['parameters'],delete _0x506e1a['data']['chunks'],delete _0x506e1a['data']['name'];}['_assignTex'+'ture'](_0x4b66aa,_0x1c4579,_0x540492){_0x1c4579['resource'][_0x4b66aa]=_0x540492;}['_getPlaceh'+'olderTextu'+'re'](_0x4359c5){const _0x5b7e0b=Sk[_0x4359c5];return w['assert'](_0x5b7e0b,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x4359c5),fa(this['_device'],_0x5b7e0b);}['_assignPla'+'ceholderTe'+'xture'](_0x411b41,_0x3466d1){_0x3466d1['resource'][_0x411b41]=this['_getPlaceh'+'olderTextu'+'re'](_0x411b41);}['_onTexture'+'Load'](_0x49a84f,_0x177558,_0x55ed80){this['_assignTex'+'ture'](_0x49a84f,_0x177558,_0x55ed80['resource']),_0x177558['resource']['update']();}['_onTexture'+'Add'](_0xee431f,_0x4ad687,_0x296f42){this['_assets']['load'](_0x296f42);}['_onTexture'+'RemoveOrUn'+'load'](_0x3fad83,_0x44126f,_0x446aef){const _0x255fb4=_0x44126f['resource'];_0x255fb4&&_0x44126f['resource'][_0x3fad83]===_0x446aef['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x3fad83,_0x44126f),_0x255fb4['update']());}['_assignCub'+'emap'](_0x26090e,_0x55ef13,_0x452c99){if(_0x55ef13['resource'][_0x26090e]=_0x452c99[0x1f96+-0x26f*-0x1+-0x2205],_0x26090e==='cubeMap'){const _0x240195=_0x452c99['slice'](0x1*0x2305+0xe5b+0x1075*-0x3);_0x240195['every'](_0x4ec092=>_0x4ec092)?_0x55ef13['resource']['prefiltere'+'dCubemaps']=_0x240195:_0x240195[0x1*0xca9+-0x2101+0x2e8*0x7]&&(_0x55ef13['resource']['envAtlas']=_0x240195[0x1*-0x25df+-0x16fc+0x3cdb]);}}['_onCubemap'+'Load'](_0x32c2b9,_0x21e9cc,_0x5d7036){this['_assignCub'+'emap'](_0x32c2b9,_0x21e9cc,_0x5d7036['resources']),this['_parser']['initialize'](_0x21e9cc['resource'],_0x21e9cc['data']);}['_onCubemap'+'Add'](_0x2b5116,_0x82fa50,_0x264d19){this['_assets']['load'](_0x264d19);}['_onCubemap'+'RemoveOrUn'+'load'](_0x4f471d,_0x342bb6,_0x6d70a1){const _0x12d25f=_0x342bb6['resource'];_0x342bb6['data']['prefiltere'+'dCubeMap12'+'8']===_0x6d70a1['resources'][0x2*-0x202+-0x61d+0xa22]&&(this['_assignCub'+'emap'](_0x4f471d,_0x342bb6,[null,null,null,null,null,null,null]),_0x12d25f['update']());}['_bindAndAs'+'signAssets'](_0x46ff27,_0x3d9bc0){const _0x4bcf33=this['_parser']['migrate'](_0x46ff27['data']),_0x15285a=_0x46ff27['resource'],_0x2be33d=_0x4bcf33['mappingFor'+'mat']==='path',_0x3c7e5b=Cd;let _0x171722,_0x5a965c,_0x31598c;for(_0x171722=0x2*0xd12+-0x5cf+0x411*-0x5;_0x171722<_0x3c7e5b['length'];_0x171722++){_0x5a965c=_0x3c7e5b[_0x171722],_0x31598c=_0x15285a['_assetRefe'+'rences'][_0x5a965c];const _0x11e06d=_0x4bcf33[_0x5a965c],_0x31492f=_0x15285a[_0x5a965c],_0x4a8ab8=_0x31492f===this['_getPlaceh'+'olderTextu'+'re'](_0x5a965c),_0x54a976=_0x4bcf33['validated'];_0x11e06d&&(!_0x31492f||!_0x54a976||_0x4a8ab8)?(_0x31598c||(_0x31598c=new gl(_0x5a965c,_0x46ff27,_0x3d9bc0,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x15285a['_assetRefe'+'rences'][_0x5a965c]=_0x31598c),_0x2be33d?_0x31598c['url']=_0x46ff27['getAbsolut'+'eUrl'](_0x11e06d):_0x31598c['id']=_0x11e06d,_0x31598c['asset']&&(_0x31598c['asset']['resource']?this['_assignTex'+'ture'](_0x5a965c,_0x46ff27,_0x31598c['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x5a965c,_0x46ff27),_0x3d9bc0['load'](_0x31598c['asset']))):_0x31598c&&(_0x2be33d?_0x31598c['url']=null:_0x31598c['id']=null);}const _0x15f46f=fm;for(_0x171722=-0x4f7*0x4+-0x11*0x31+0x171d;_0x171722<_0x15f46f['length'];_0x171722++)_0x5a965c=_0x15f46f[_0x171722],_0x31598c=_0x15285a['_assetRefe'+'rences'][_0x5a965c],_0x4bcf33[_0x5a965c]&&!_0x46ff27['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x31598c||(_0x31598c=new gl(_0x5a965c,_0x46ff27,_0x3d9bc0,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x15285a['_assetRefe'+'rences'][_0x5a965c]=_0x31598c),_0x2be33d?_0x31598c['url']=_0x4bcf33[_0x5a965c]:_0x31598c['id']=_0x4bcf33[_0x5a965c],_0x31598c['asset']&&(_0x31598c['asset']['loaded']&&this['_assignCub'+'emap'](_0x5a965c,_0x46ff27,_0x31598c['asset']['resources']),_0x3d9bc0['load'](_0x31598c['asset'])));this['_parser']['initialize'](_0x15285a,_0x4bcf33);}}class vk{constructor(_0x596a7f){this['_device']=_0x596a7f['device'],this['_defaultMa'+'terial']=_0x596a7f['defaultMat'+'erial'],this['_assets']=_0x596a7f['assets'];}['parse'](_0x404808,_0x26f6f0,_0x10f5e3){kh['parse']('filename.g'+'lb','',_0x404808,this['_device'],this['_assets'],(_0x10f5e3==null?void(0x99e*0x4+-0x4*-0x170+-0x8d8*0x5):_0x10f5e3['options'])??{},(_0x2bf3b1,_0x426c0e)=>{if(_0x2bf3b1)_0x26f6f0(_0x2bf3b1);else{const _0x5463d5=yr['createMode'+'l'](_0x426c0e,this['_defaultMa'+'terial']);_0x426c0e['destroy'](),_0x26f6f0(null,_0x5463d5);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x6bef28){this['_device']=_0x6bef28['device'],this['_defaultMa'+'terial']=_0x6bef28['defaultMat'+'erial'];}['parse'](_0x372b04,_0x10712f){const _0x2a5d86=_0x372b04['model'];if(!_0x2a5d86){_0x10712f(null,null);return;}if(_0x2a5d86['version']<=0x1e01+-0x1c75+-0x18b){_0x10712f('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x5e0961=this['_parseNode'+'s'](_0x372b04),_0x240eb7=this['_parseSkin'+'s'](_0x372b04,_0x5e0961),_0x2af82d=this['_parseVert'+'exBuffers'](_0x372b04),_0x3ab65=this['_parseInde'+'xBuffers'](_0x372b04,_0x2af82d),_0x17faa1=this['_parseMorp'+'hs'](_0x372b04,_0x5e0961,_0x2af82d),_0x226d72=this['_parseMesh'+'es'](_0x372b04,_0x240eb7['skins'],_0x17faa1['morphs'],_0x2af82d,_0x3ab65['buffer'],_0x3ab65['data']),_0x23d034=this['_parseMesh'+'Instances'](_0x372b04,_0x5e0961,_0x226d72,_0x240eb7['skins'],_0x240eb7['instances'],_0x17faa1['morphs'],_0x17faa1['instances']),_0x15b55e=new sr();_0x15b55e['graph']=_0x5e0961[0x1*-0x19b7+-0x21a0+0x3b57*0x1],_0x15b55e['meshInstan'+'ces']=_0x23d034,_0x15b55e['skinInstan'+'ces']=_0x240eb7['instances'],_0x15b55e['morphInsta'+'nces']=_0x17faa1['instances'],_0x15b55e['getGraph']()['syncHierar'+'chy'](),_0x10712f(null,_0x15b55e);}['_parseNode'+'s'](_0x405f37){const _0x27af9c=_0x405f37['model'],_0x4a1b63=[];let _0x4321e9;for(_0x4321e9=0x1b*-0x35+-0x1*-0x869+0x13*-0x26;_0x4321e9<_0x27af9c['nodes']['length'];_0x4321e9++){const _0x546e50=_0x27af9c['nodes'][_0x4321e9],_0x4a3458=new Ie(_0x546e50['name']);_0x4a3458['setLocalPo'+'sition'](_0x546e50['position'][-0x5ed+0x41*-0x64+0x1f51],_0x546e50['position'][0x26fc+0x847+0x20e*-0x17],_0x546e50['position'][0x1d39*-0x1+-0x2*0x127d+0x4235]),_0x4a3458['setLocalEu'+'lerAngles'](_0x546e50['rotation'][0x77d+-0x1bf0+0x5*0x417],_0x546e50['rotation'][0x9*-0x101+0xddf+-0x4d5],_0x546e50['rotation'][-0x1c1f+0x183a+0x3e7]),_0x4a3458['setLocalSc'+'ale'](_0x546e50['scale'][0x1bf1*-0x1+-0x167*-0x2+0x1923],_0x546e50['scale'][-0x148f+-0x806*-0x2+0x484],_0x546e50['scale'][0xeb1*0x1+0x1*-0x660+-0x84f*0x1]),_0x4a3458['scaleCompe'+'nsation']=!!_0x546e50['scaleCompe'+'nsation'],_0x4a1b63['push'](_0x4a3458);}for(_0x4321e9=-0xa*0x16d+0x131b+-0x4d8;_0x4321e9<_0x27af9c['parents']['length'];_0x4321e9++)_0x4a1b63[_0x27af9c['parents'][_0x4321e9]]['addChild'](_0x4a1b63[_0x4321e9]);return _0x4a1b63;}['_parseSkin'+'s'](_0x332cb0,_0x558bed){const _0x74f96d=_0x332cb0['model'],_0x5693a3=[],_0x203a8b=[];let _0x1d1af3,_0x5d5ed3;for(_0x1d1af3=-0x6*0x362+-0x15b1+0x1*0x29fd;_0x1d1af3<_0x74f96d['skins']['length'];_0x1d1af3++){const _0x4c9bfd=_0x74f96d['skins'][_0x1d1af3],_0x55bdf7=[];for(_0x5d5ed3=0x19fd+-0xd43+-0xcba;_0x5d5ed3<_0x4c9bfd['inverseBin'+'dMatrices']['length'];_0x5d5ed3++){const _0x4066b7=_0x4c9bfd['inverseBin'+'dMatrices'][_0x5d5ed3];_0x55bdf7[_0x5d5ed3]=new te()['set'](_0x4066b7);}const _0x5bdcd1=new Lv(this['_device'],_0x55bdf7,_0x4c9bfd['boneNames']);_0x5693a3['push'](_0x5bdcd1);const _0x5e6915=new Ol(_0x5bdcd1),_0x32de31=[];for(_0x5d5ed3=0x2612+0x11db+-0x67*0x8b;_0x5d5ed3<_0x5bdcd1['boneNames']['length'];_0x5d5ed3++){const _0x419512=_0x5bdcd1['boneNames'][_0x5d5ed3],_0x2c9358=_0x558bed[0x23d5+-0x1ac7+0x13*-0x7a]['findByName'](_0x419512);_0x32de31['push'](_0x2c9358);}_0x5e6915['bones']=_0x32de31,_0x203a8b['push'](_0x5e6915);}return{'skins':_0x5693a3,'instances':_0x203a8b};}['_getMorphV'+'ertexCount'](_0x434da6,_0x1e9d14,_0x1bd01d){for(let _0x1720e3=0x2388+-0x1a37+-0x9*0x109;_0x1720e3<_0x434da6['meshes']['length'];_0x1720e3++){const _0x1f01b5=_0x434da6['meshes'][_0x1720e3];if(_0x1f01b5['morph']===_0x1e9d14)return _0x1bd01d[_0x1f01b5['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x5e3216,_0x3ff4fd,_0x2427e7){const _0x38f1d4=_0x5e3216['model'],_0x2fa85b=[],_0xf801fe=[];let _0x263012,_0x15a2b4,_0x234089,_0x6251e8,_0x2fb57a,_0x552511;if(_0x38f1d4['morphs']){const _0x5314ff=function(_0x4bf6b3,_0x3825e1,_0x4d3f7a){const _0x41d96d=new Float32Array(_0x4d3f7a*(-0xf29+-0x1*0x1d25+0x2c51));for(let _0x4641c7=0xc29+-0x256c+0x1943;_0x4641c7<_0x3825e1['length'];_0x4641c7++){const _0x21deeb=_0x3825e1[_0x4641c7]*(0x812+-0x568+-0x61*0x7);_0x41d96d[_0x21deeb]=_0x4bf6b3[_0x4641c7*(-0x6f2+0x1994+-0x129f)],_0x41d96d[_0x21deeb+(0x1678+-0xef*-0x18+-0x2cdf)]=_0x4bf6b3[_0x4641c7*(-0x3*0x809+0x15e1+-0xbf*-0x3)+(-0x1fab+0x7*0x3fd+0x3c1)],_0x41d96d[_0x21deeb+(-0xa61*0x3+0x226d+0x2*-0x1a4)]=_0x4bf6b3[_0x4641c7*(0x37*0xad+-0x68f*0x3+-0x117b)+(-0x7ca+0x215b*-0x1+0x2927)];}return _0x41d96d;};for(_0x263012=-0x238f+-0x53*0xd+0x27c6;_0x263012<_0x38f1d4['morphs']['length'];_0x263012++){for(_0x6251e8=_0x38f1d4['morphs'][_0x263012]['targets'],_0x552511=[],_0x234089=this['_getMorphV'+'ertexCount'](_0x38f1d4,_0x263012,_0x2427e7),_0x15a2b4=-0x1d1f+0x3f1*0x8+-0x269;_0x15a2b4<_0x6251e8['length'];_0x15a2b4++){const _0x397493=_0x6251e8[_0x15a2b4]['aabb'],_0x3bca48=_0x397493['min'],_0x4cb53c=_0x397493['max'],_0x46603e=new De(new D((_0x4cb53c[-0x1617+-0x2*0x94f+0x28b5]+_0x3bca48[-0x2072+0x2*0x33d+0x19f8])*(0x15a8+-0x11af+-0x3f9+0.5),(_0x4cb53c[0x3*0x75d+-0x3*-0xb1+0x1829*-0x1]+_0x3bca48[-0x1ed2+-0x1*-0x2114+0x241*-0x1])*(-0x1f5a*0x1+-0x66c+0x25c6*0x1+0.5),(_0x4cb53c[0x232a+-0x31c+-0x200c]+_0x3bca48[0x10b1+-0x273*0x3+-0x956])*(0x157f*-0x1+0x202d+-0x2*0x557+0.5)),new D((_0x4cb53c[0xe63+-0xd34+-0x12f]-_0x3bca48[-0xb9c*0x1+-0x19f4+0x2590])*(0x90+-0x22*0xde+0xc*0x269+0.5),(_0x4cb53c[-0x35b*0x3+-0x1428+0x1e3a]-_0x3bca48[0x383+-0x2386+-0x2004*-0x1])*(0x46*0x1f+0x169a*0x1+-0x1f14+0.5),(_0x4cb53c[-0x45*0x7f+0x5*0x32b+0x1266]-_0x3bca48[0x5*0x503+-0x12e3+-0x107*0x6])*(0xb63+0x1f9b+-0x2*0x157f+0.5))),_0x1e496f=_0x6251e8[_0x15a2b4]['indices'];let _0x4336ea=_0x6251e8[_0x15a2b4]['deltaPosit'+'ions'],_0x22bd32=_0x6251e8[_0x15a2b4]['deltaNorma'+'ls'];_0x1e496f&&(_0x4336ea=_0x5314ff(_0x4336ea,_0x1e496f,_0x234089),_0x22bd32=_0x5314ff(_0x22bd32,_0x1e496f,_0x234089)),_0x2fb57a=new Md({'deltaPositions':_0x4336ea,'deltaNormals':_0x22bd32,'name':_0x6251e8[_0x15a2b4]['name'],'aabb':_0x46603e}),_0x552511['push'](_0x2fb57a);}const _0x1235dc=new mm(_0x552511,this['_device']);_0x2fa85b['push'](_0x1235dc);const _0x2b0359=new xa(_0x1235dc);_0xf801fe['push'](_0x2b0359);}}return{'morphs':_0x2fa85b,'instances':_0xf801fe};}['_parseVert'+'exBuffers'](_0x1a9c35){const _0x437bba=_0x1a9c35['model'],_0x99bfc4=[],_0x4023d0={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x42f6c8=0x1068+-0x1*-0xd3+-0x113b;_0x42f6c8<_0x437bba['vertices']['length'];_0x42f6c8++){const _0x37792e=_0x437bba['vertices'][_0x42f6c8],_0xc75aff=[];for(const _0x4a7c79 in _0x37792e){const _0x339add=_0x37792e[_0x4a7c79];_0xc75aff['push']({'semantic':_0x4023d0[_0x4a7c79],'components':_0x339add['components'],'type':Tk[_0x339add['type']],'normalize':_0x4023d0[_0x4a7c79]===Wt});}const _0x5211d8=new kt(this['_device'],_0xc75aff),_0x396703=_0x37792e['position']['data']['length']/_0x37792e['position']['components'],_0x2e6269=new Is(this['_device'],_0x5211d8,_0x396703),_0x5c37f4=new Uo(_0x2e6269);for(let _0x49be4c=0xe*0x288+-0x1ff3+-0x37d*0x1;_0x49be4c<_0x396703;_0x49be4c++){for(const _0x53ac02 in _0x37792e){const _0x17a56c=_0x37792e[_0x53ac02];switch(_0x17a56c['components']){case-0x1274+-0x35*-0x1+0x1240:_0x5c37f4['element'][_0x4023d0[_0x53ac02]]['set'](_0x17a56c['data'][_0x49be4c]);break;case 0x2415+0x1b4c+-0x1*0x3f5f:_0x5c37f4['element'][_0x4023d0[_0x53ac02]]['set'](_0x17a56c['data'][_0x49be4c*(0x55f*-0x5+0x6c0+0x141d)],0xff6+-0x1*0x7cf+0x95*-0xe-_0x17a56c['data'][_0x49be4c*(-0x17*-0x1d+-0x266*0x6+0x1*0xbcb)+(0xe67+-0xc55*-0x2+-0x2710)]);break;case-0x86*-0x47+0x1*0x222d+-0x4754:_0x5c37f4['element'][_0x4023d0[_0x53ac02]]['set'](_0x17a56c['data'][_0x49be4c*(-0xc7+-0x1*-0x1499+-0x13cf)],_0x17a56c['data'][_0x49be4c*(0xe*0x28b+0x2015+-0x43ac)+(0x8a2+-0x99*-0x1+-0x93a)],_0x17a56c['data'][_0x49be4c*(-0x13*-0xf8+0x244c+-0x36b1)+(-0x2650+0xa76*-0x1+0x30c8)]);break;case 0x1093+0xad6+0x1b65*-0x1:_0x5c37f4['element'][_0x4023d0[_0x53ac02]]['set'](_0x17a56c['data'][_0x49be4c*(-0x17ef+-0x1*0x10f3+0x28e6)],_0x17a56c['data'][_0x49be4c*(0x9c1+0x3*-0x893+0xffc)+(-0x1526*-0x1+-0xbae+0x977*-0x1)],_0x17a56c['data'][_0x49be4c*(-0x1970+0x10ef*0x2+-0x86a)+(-0x1*-0x188f+-0x124a*-0x2+-0x3d21)],_0x17a56c['data'][_0x49be4c*(0x4d1+-0x84*0xe+0x26b)+(0x1cd*0x2+0xfde+-0x1375*0x1)]);break;}}_0x5c37f4['next']();}_0x5c37f4['end'](),_0x99bfc4['push'](_0x2e6269);}return _0x99bfc4;}['_parseInde'+'xBuffers'](_0x3a089a,_0x567518){const _0x2091f4=_0x3a089a['model'];let _0x30514e=null,_0x2bcc8c=null,_0x29c806,_0x3eaf1d=0x1e3*-0x7+0x8f+0x653*0x2;for(_0x29c806=-0x2c1+-0xce5*0x1+0xfa6;_0x29c806<_0x2091f4['meshes']['length'];_0x29c806++){const _0x5e6a2f=_0x2091f4['meshes'][_0x29c806];_0x5e6a2f['indices']!==void(-0x2582+-0x3*0x443+-0x1*-0x324b)&&(_0x3eaf1d+=_0x5e6a2f['indices']['length']);}let _0x5ab4f0=0x2363+-0x18bc*0x1+0x38d*-0x3;for(_0x29c806=0x1d27+-0x56*-0x52+-0x38b3;_0x29c806<_0x567518['length'];_0x29c806++)_0x5ab4f0=Math['max'](_0x5ab4f0,_0x567518[_0x29c806]['numVertice'+'s']);return _0x3eaf1d>0xfb*-0x27+-0xd3*-0x15+0x14ee&&(_0x5ab4f0>-0x19464+-0x22*0xb93+-0x1*-0x41de9?(_0x30514e=new br(this['_device'],wr,_0x3eaf1d),_0x2bcc8c=new Uint32Array(_0x30514e['lock']())):(_0x30514e=new br(this['_device'],Yi,_0x3eaf1d),_0x2bcc8c=new Uint16Array(_0x30514e['lock']()))),{'buffer':_0x30514e,'data':_0x2bcc8c};}['_parseMesh'+'es'](_0x3e096f,_0x501617,_0x4bbb3a,_0x197052,_0x3acc7d,_0x493316){const _0x4d6ec9=_0x3e096f['model'],_0x47a767=[];let _0x2c7978=0x5fd+-0x2f*-0xbe+-0x28df;for(let _0xb46030=-0x44f*0x8+0xce5*0x2+0x1*0x8ae;_0xb46030<_0x4d6ec9['meshes']['length'];_0xb46030++){const _0x4cf0c5=_0x4d6ec9['meshes'][_0xb46030],_0xddcaa=_0x4cf0c5['aabb'],_0x576527=_0xddcaa['min'],_0xa40c1f=_0xddcaa['max'],_0x1b7f27=new De(new D((_0xa40c1f[-0x19d6*-0x1+0x141e+0x11*-0x2b4]+_0x576527[-0x1ece*0x1+0x1c34+0xde*0x3])*(0x178f*0x1+-0xc8f+-0x160*0x8+0.5),(_0xa40c1f[0x66d+0x17*-0xd3+-0x1*-0xc89]+_0x576527[0x9*-0x3f2+-0x229b+-0xe06*-0x5])*(-0x25b3+-0x1*-0x1eb3+0x700+0.5),(_0xa40c1f[0x96*-0x3d+0x2cb+-0x2ff*-0xb]+_0x576527[-0x1*0x2c7+-0xb0f+0xdd8])*(-0x26de*0x1+-0xa8*0x2+0x282e+0.5)),new D((_0xa40c1f[0x22d1+-0x5a3+0x1f2*-0xf]-_0x576527[-0x1*0x15bf+-0x581*0x3+0x2642])*(-0x21c9+-0x81*-0x25+0xf24+0.5),(_0xa40c1f[0x61*0xa+-0x5f0+0x227]-_0x576527[-0x1*0x1217+-0x1*0xf7f+0x2197])*(-0xc4e+-0x1*0x1e67+-0xd*-0x349+0.5),(_0xa40c1f[-0x2ad+-0xeac+0x115b]-_0x576527[0x1*-0x73b+0x99*-0x39+0x294e])*(-0x26e7+-0x456+0x2b3d+0.5))),_0x2f899e=_0x4cf0c5['indices']!==void(0x140+0x1e35+-0x1f75*0x1),_0x4b8f56=new Ge(this['_device']);_0x4b8f56['vertexBuff'+'er']=_0x197052[_0x4cf0c5['vertices']],_0x4b8f56['indexBuffe'+'r'][0x417+-0x1ec0+0x1aa9]=_0x2f899e?_0x3acc7d:null,_0x4b8f56['primitive'][0x5bf*-0x2+0x44+-0x1*-0xb3a]['type']=xk[_0x4cf0c5['type']],_0x4b8f56['primitive'][-0x1fd*-0x2+0x9*-0x1d+-0x2f5]['base']=_0x2f899e?_0x4cf0c5['base']+_0x2c7978:_0x4cf0c5['base'],_0x4b8f56['primitive'][-0x1952+-0x1*0x1d35+0x3687]['count']=_0x4cf0c5['count'],_0x4b8f56['primitive'][0x134a*0x1+-0x1ab7+-0x1*-0x76d]['indexed']=_0x2f899e,_0x4b8f56['skin']=_0x4cf0c5['skin']!==void(0x2185*-0x1+-0x2*0xe4b+0x3e1b)?_0x501617[_0x4cf0c5['skin']]:null,_0x4b8f56['morph']=_0x4cf0c5['morph']!==void(-0x589*0x3+-0x1*-0x4ab+0x8*0x17e)?_0x4bbb3a[_0x4cf0c5['morph']]:null,_0x4b8f56['aabb']=_0x1b7f27,_0x2f899e&&(_0x493316['set'](_0x4cf0c5['indices'],_0x2c7978),_0x2c7978+=_0x4cf0c5['indices']['length']),_0x47a767['push'](_0x4b8f56);}return _0x3acc7d!==null&&_0x3acc7d['unlock'](),_0x47a767;}['_parseMesh'+'Instances'](_0x46200a,_0x5099b2,_0x36f2d2,_0x40265e,_0x2b98bf,_0x1a4322,_0x5c6d7a){const _0x12d26f=_0x46200a['model'],_0x561ff7=[];let _0x2d1cc2;for(_0x2d1cc2=0x1*-0x148b+-0x7*0x19d+0x1fd6;_0x2d1cc2<_0x12d26f['meshInstan'+'ces']['length'];_0x2d1cc2++){const _0x2f8fcc=_0x12d26f['meshInstan'+'ces'][_0x2d1cc2],_0x41e80e=_0x5099b2[_0x2f8fcc['node']],_0x28b65a=_0x36f2d2[_0x2f8fcc['mesh']],_0x4a268f=new He(_0x28b65a,this['_defaultMa'+'terial'],_0x41e80e);if(_0x28b65a['skin']){const _0x3f0992=_0x40265e['indexOf'](_0x28b65a['skin']);if(_0x3f0992===-(-0xb3*0x2f+-0x10a2+0x3180))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4a268f['skinInstan'+'ce']=_0x2b98bf[_0x3f0992];}if(_0x28b65a['morph']){const _0x3de503=_0x1a4322['indexOf'](_0x28b65a['morph']);if(_0x3de503===-(0x72d*-0x1+0x7f*0x6+0x21a*0x2))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4a268f['morphInsta'+'nce']=_0x5c6d7a[_0x3de503];}_0x561ff7['push'](_0x4a268f);}return _0x561ff7;}}class Ek extends Qe{constructor(_0x440c6f){super(_0x440c6f,'model'),this['_parsers']=[],this['device']=_0x440c6f['graphicsDe'+'vice'],this['assets']=_0x440c6f['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x5d4a33,_0x40e056)=>xe['getExtensi'+'on'](_0x5d4a33)==='.json'),this['addParser'](new vk(this),(_0x56826d,_0x448a4e)=>xe['getExtensi'+'on'](_0x56826d)==='.glb');}['load'](_0x4aac68,_0x8f6335,_0x504d71){typeof _0x4aac68=='string'&&(_0x4aac68={'load':_0x4aac68,'original':_0x4aac68});const _0x9139b0={'retry':this['maxRetries']>0x1031+-0x539+-0xaf8,'maxRetries':this['maxRetries']};(_0x4aac68['load']['startsWith']('blob:')||_0x4aac68['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x4aac68['original'])['toLowerCas'+'e']()==='.glb'?_0x9139b0['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x9139b0['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4aac68['load'],_0x9139b0,(_0x4f0a1e,_0x4fb1aa)=>{if(_0x8f6335){if(_0x4f0a1e)_0x8f6335('Error\x20load'+'ing\x20model:'+'\x20'+_0x4aac68['original']+'\x20['+_0x4f0a1e+']');else{for(let _0x1290dc=-0x8*0x35+-0x237+0x1*0x3df;_0x1290dc<this['_parsers']['length'];_0x1290dc++){const _0x44a71e=this['_parsers'][_0x1290dc];if(_0x44a71e['decider'](_0x4aac68['original'],_0x4fb1aa)){_0x44a71e['parser']['parse'](_0x4fb1aa,(_0xd42e2,_0xd437bf)=>{_0xd42e2?_0x8f6335(_0xd42e2):_0x8f6335(null,_0xd437bf);},_0x504d71);return;}}_0x8f6335('No\x20parsers'+'\x20found');}}});}['open'](_0x3f9d2c,_0x331418){return _0x331418;}['patch'](_0xa96287,_0x340b7c){if(!_0xa96287['resource'])return;const _0x20833d=_0xa96287['data'],_0x1cc5c9=this;_0xa96287['resource']['meshInstan'+'ces']['forEach']((_0xcd44c2,_0x2f5e48)=>{if(_0x20833d['mapping']){const _0x6fb37=function(_0x1db884){_0x1db884['resource']?_0xcd44c2['material']=_0x1db884['resource']:(_0x1db884['once']('load',_0x6fb37),_0x340b7c['load'](_0x1db884)),_0x1db884['once']('remove',_0x16e59e=>{_0xcd44c2['material']===_0x16e59e['resource']&&(_0xcd44c2['material']=_0x1cc5c9['defaultMat'+'erial']);});};if(!_0x20833d['mapping'][_0x2f5e48]){_0xcd44c2['material']=_0x1cc5c9['defaultMat'+'erial'];return;}const _0x4809ab=_0x20833d['mapping'][_0x2f5e48]['material'],_0x390da6=_0x20833d['mapping'][_0x2f5e48]['path'];let _0x427f4d;if(_0x4809ab!==void(0x11f4+-0xb6d+-0x687))_0x4809ab?(_0x427f4d=_0x340b7c['get'](_0x4809ab),_0x427f4d?_0x6fb37(_0x427f4d):_0x340b7c['once']('add:'+_0x4809ab,_0x6fb37)):_0xcd44c2['material']=_0x1cc5c9['defaultMat'+'erial'];else{if(_0x390da6){const _0x15566d=_0xa96287['getAbsolut'+'eUrl'](_0x20833d['mapping'][_0x2f5e48]['path']);_0x427f4d=_0x340b7c['getByUrl'](_0x15566d),_0x427f4d?_0x6fb37(_0x427f4d):_0x340b7c['once']('add:url:'+_0x15566d,_0x6fb37);}}}});}['addParser'](_0x10afab,_0x3e5420){this['_parsers']['push']({'parser':_0x10afab,'decider':_0x3e5420});}}class bk extends Qe{constructor(_0x5d1d4f){super(_0x5d1d4f,'scene');}['load'](_0x20f0db,_0x43775c){E0['load'](_0x20f0db,this['maxRetries'],_0x43775c);}['open'](_0x29f634,_0x50382e){this['_app']['systems']['script']['preloading']=!(-0x256a+0xeee+0x167c);const _0x2af269=new bm(this['_app'],!(0x22b7+0xbf7+-0x2ead))['parse'](_0x50382e),_0x49d2bf=this['_app']['scene'];return _0x49d2bf['root']=_0x2af269,this['_app']['applyScene'+'Settings'](_0x50382e['settings']),this['_app']['systems']['script']['preloading']=!(0xc07*-0x3+0x129e+0x1178),_0x49d2bf;}}const qh=class qh{static['push'](_0x14a21e){qh['_types']['push'](_0x14a21e);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x488d44,_0x29575a,_0x5497e7)=>{Ck[_0x488d44]=0x1*0xf6e+0x883*0x1+-0x8*0x2fe;});function Pk(_0x5ae44b,_0x1c9d1f,_0x1bcedc){if(typeof _0x5ae44b!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x5ae44b+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x5ae44b['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x5ae44b)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x1c9d1f=_0x1c9d1f||_0x5ae44b['__name']||Wo['__getScrip'+'tName'](_0x5ae44b),Ak['has'](_0x1c9d1f))throw new Error('script\x20nam'+'e:\x20\x27'+_0x1c9d1f+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x5ae44b['__name']=_0x1c9d1f,Ks['getApplica'+'tion']()['scripts']['add'](_0x5ae44b),aa['push'](_0x5ae44b);}const Mk=_0xeb3de4=>_0xeb3de4[-0xfe+-0x16f9+0x17f7]['toLowerCas'+'e']()+_0xeb3de4['substring'](-0x125f*0x1+0x7f*0x49+-0x1*0x11d7);class Dk extends Qe{constructor(_0x18be9f){super(_0x18be9f,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x388245 in this['_cache']){const _0x3d1f65=this['_cache'][_0x388245],_0x39bd34=_0x3d1f65['parentNode'];_0x39bd34&&_0x39bd34['removeChil'+'d'](_0x3d1f65);}this['_cache']={};}['load'](_0x525469,_0x3757f1){typeof _0x525469=='string'&&(_0x525469={'load':_0x525469,'original':_0x525469});const _0x4f288a=this;this['_app'];const _0x549f89=(_0x525469['load'],(_0x398b14,_0xba2f04,_0x3d1e5a)=>{if(_0x398b14)_0x3757f1(_0x398b14);else{const _0x420ee1={};for(let _0x19973f=0x97*-0x2f+0x5ca+0x15ef;_0x19973f<aa['_types']['length'];_0x19973f++)_0x420ee1[aa['_types'][_0x19973f]['name']]=aa['_types'][_0x19973f];aa['_types']['length']=-0x17*0x6d+-0xb25*-0x1+-0x15a,_0x3757f1(null,_0x420ee1,_0x3d1e5a);const _0x337e66=_0xba2f04['split']('&hash=')[0x7*-0x291+-0x12ff*-0x2+-0x3*0x6ad];delete _0x4f288a['_loader']['_cache'][Cn['makeKey'](_0x337e66,'script')];}}),[_0x200cfe]=_0x525469['load']['split']('?');_0x200cfe['endsWith']('.mjs')?this['_loadModul'+'e'](_0x200cfe,_0x549f89):this['_loadScrip'+'t'](_0x525469['load'],_0x549f89);}['open'](_0x3f278c,_0x404826){return _0x404826;}['patch'](_0x5e69a7,_0x47a104){}['_loadScrip'+'t'](_0x156fea,_0x38ab3a){const _0xa07924=document['head'],_0x4db6ab=document['createElem'+'ent']('script');this['_cache'][_0x156fea]=_0x4db6ab,_0x4db6ab['async']=!(0x324+-0x9*-0x27+0x482*-0x1),_0x4db6ab['addEventLi'+'stener']('error',_0x57e23e=>{_0x38ab3a('Script:\x20'+_0x57e23e['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x2*0xb5a+0xbbb+0xafa));let _0x164d9d=!(0x20c2+0x3d1*-0x2+-0x3b*0x6d);_0x4db6ab['onload']=_0x4db6ab['onreadysta'+'techange']=function(){!_0x164d9d&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x164d9d=!(0x24db+0x52*0x2f+-0x33e9),_0x38ab3a(null,_0x156fea,_0x4db6ab));},_0x4db6ab['src']=_0x156fea,_0xa07924['appendChil'+'d'](_0x4db6ab);}['_loadModul'+'e'](_0x143c74,_0x1502eb){const _0x5cd55a=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x4a092d=new URL(_0x143c74,_0x5cd55a);import(_0x4a092d['toString']())['then'](_0x3f08fd=>{var _0x191a8b,_0x5603b7;const _0x396213=_0x4a092d['pathname']['split']('/')['pop'](),_0xe68260=(_0x5603b7=(_0x191a8b=this['_app']['assets']['find'](_0x396213,'script'))==null?void(-0x1*0x15db+0x1949+-0x2*0x1b7):_0x191a8b['data'])==null?void(-0x6*0x46+0x8e9*-0x3+-0x327*-0x9):_0x5603b7['scripts'];for(const _0x2f48a5 in _0x3f08fd){const _0x23e246=_0x3f08fd[_0x2f48a5];if(_0x23e246['prototype']instanceof ts){const _0x5b0a34=Mk(_0x23e246['name']);_0x23e246['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x23e246['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x23e246['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x5b0a34+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x5ae3a6=_0x23e246['scriptName']??_0x5b0a34;Pk(_0x23e246,_0x5ae3a6),_0xe68260&&this['_app']['scripts']['addSchema'](_0x5ae3a6,_0xe68260[_0x5ae3a6]);}}_0x1502eb(null,_0x143c74,null);})['catch'](_0xdadd97=>{_0x1502eb(_0xdadd97);});}}class Ik extends Qe{constructor(_0x224b1f){super(_0x224b1f,'shader'),h(this,'decoder',null);}['load'](_0x13c6a9,_0x322701){typeof _0x13c6a9=='string'&&(_0x13c6a9={'load':_0x13c6a9,'original':_0x13c6a9}),ot['get'](_0x13c6a9['load'],{'retry':this['maxRetries']>0x25*-0x5d+0x2169+-0x8e*0x24,'maxRetries':this['maxRetries']},(_0x41d2ac,_0x5e5c62)=>{_0x41d2ac?_0x322701('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x13c6a9['original']+'\x20['+_0x41d2ac+']'):_0x322701(null,_0x5e5c62);});}['openBinary'](_0x4e0037){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4e0037);}}function Pf(_0x461b57){const _0x3dbfea=this;_0x3dbfea['resource']&&(_0x3dbfea['resource']['atlas']=_0x461b57['resource']);}function Mf(_0x258dab){this['registry']['load'](_0x258dab);}class Lk extends Qe{constructor(_0x2ac988){super(_0x2ac988,'sprite'),this['_assets']=_0x2ac988['assets'],this['_device']=_0x2ac988['graphicsDe'+'vice'];}['load'](_0x385d1a,_0x40a99e){typeof _0x385d1a=='string'&&(_0x385d1a={'load':_0x385d1a,'original':_0x385d1a}),xe['getExtensi'+'on'](_0x385d1a['original'])==='.json'&&ot['get'](_0x385d1a['load'],{'retry':this['maxRetries']>-0x64*0x25+-0x3*-0x761+0x7af*-0x1,'maxRetries':this['maxRetries']},(_0x20ef78,_0x5b1f55)=>{_0x20ef78?_0x40a99e(_0x20ef78):_0x40a99e(null,_0x5b1f55);});}['open'](_0x3424fb,_0x2f91d8){const _0x45d41f=new BA(this['_device']);return _0x3424fb&&(_0x45d41f['__data']=_0x2f91d8),_0x45d41f;}['patch'](_0x548329,_0x1c6c70){const _0x1eec0d=_0x548329['resource'];if(_0x1eec0d['__data']&&(_0x548329['data']['pixelsPerU'+'nit']=_0x1eec0d['__data']['pixelsPerU'+'nit'],_0x548329['data']['renderMode']=_0x1eec0d['__data']['renderMode'],_0x548329['data']['frameKeys']=_0x1eec0d['__data']['frameKeys'],_0x1eec0d['__data']['textureAtl'+'asAsset'])){const _0x37212d=_0x1c6c70['getByUrl'](_0x1eec0d['__data']['textureAtl'+'asAsset']);_0x37212d?_0x548329['data']['textureAtl'+'asAsset']=_0x37212d['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x1eec0d['__data']['textureAtl'+'asAsset']);}_0x1eec0d['startUpdat'+'e'](),_0x1eec0d['renderMode']=_0x548329['data']['renderMode'],_0x1eec0d['pixelsPerU'+'nit']=_0x548329['data']['pixelsPerU'+'nit'],_0x1eec0d['frameKeys']=_0x548329['data']['frameKeys'],this['_updateAtl'+'as'](_0x548329),_0x1eec0d['endUpdate'](),_0x548329['off']('change',this['_onAssetCh'+'ange'],this),_0x548329['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x4f84eb){const _0x5d8f05=_0x4f84eb['resource'];if(!_0x4f84eb['data']['textureAtl'+'asAsset']){_0x5d8f05['atlas']=null;return;}this['_assets']['off']('load:'+_0x4f84eb['data']['textureAtl'+'asAsset'],Pf,_0x4f84eb),this['_assets']['on']('load:'+_0x4f84eb['data']['textureAtl'+'asAsset'],Pf,_0x4f84eb);const _0x12a383=this['_assets']['get'](_0x4f84eb['data']['textureAtl'+'asAsset']);_0x12a383&&_0x12a383['resource']?_0x5d8f05['atlas']=_0x12a383['resource']:_0x12a383?this['_assets']['load'](_0x12a383):(this['_assets']['off']('add:'+_0x4f84eb['data']['textureAtl'+'asAsset'],Mf,_0x4f84eb),this['_assets']['on']('add:'+_0x4f84eb['data']['textureAtl'+'asAsset'],Mf,_0x4f84eb));}['_onAssetCh'+'ange'](_0x1e9e8e,_0x4095ce,_0x4643ad,_0x4d9b99){_0x4095ce==='data'&&_0x4643ad&&_0x4643ad['textureAtl'+'asAsset']&&_0x4d9b99&&_0x4643ad['textureAtl'+'asAsset']!==_0x4d9b99['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x4d9b99['textureAtl'+'asAsset'],Pf,_0x1e9e8e),this['_assets']['off']('add:'+_0x4d9b99['textureAtl'+'asAsset'],Mf,_0x1e9e8e));}}class vS{constructor(_0x52ca74,_0x36ea29){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x52ca74,this['_data']=_0x36ea29);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x4f0814=new bm(this['_app'],!(-0x3*-0x544+0x6d4*0x5+0x8*-0x63e));this['_templateR'+'oot']=_0x4f0814['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x423212){super(_0x423212,'template'),h(this,'decoder',null);}['load'](_0x23ec60,_0x109c4a){typeof _0x23ec60=='string'&&(_0x23ec60={'load':_0x23ec60,'original':_0x23ec60});const _0x100402={'retry':this['maxRetries']>-0x8a5+0x1*0x1c44+0x1*-0x139f,'maxRetries':this['maxRetries']};ot['get'](_0x23ec60['load'],_0x100402,(_0x17caf7,_0x49e8a3)=>{_0x17caf7?_0x109c4a('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x23ec60['original']):_0x109c4a(_0x17caf7,_0x49e8a3);});}['open'](_0x3ec23c,_0x3e527e){return new vS(this['_app'],_0x3e527e);}['openBinary'](_0xffe4b9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0xffe4b9)));}}class Ok extends Qe{constructor(_0x662d84){super(_0x662d84,'text'),h(this,'decoder',null);}['load'](_0x209911,_0x4949c1){typeof _0x209911=='string'&&(_0x209911={'load':_0x209911,'original':_0x209911}),ot['get'](_0x209911['load'],{'retry':this['maxRetries']>-0x1cac+0x1c8+0xd72*0x2,'maxRetries':this['maxRetries']},(_0xbce131,_0x540344)=>{_0xbce131?_0x4949c1('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x209911['original']+'\x20['+_0xbce131+']'):_0x4949c1(null,_0x540344);});}['openBinary'](_0x514dc5){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x514dc5);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x92aa81){super(_0x92aa81,'textureatl'+'as'),this['_loader']=_0x92aa81['loader'];}['load'](_0x42c78e,_0x1dcfd7){typeof _0x42c78e=='string'&&(_0x42c78e={'load':_0x42c78e,'original':_0x42c78e});const _0x2d7525=this,_0x1983cb=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x42c78e['original'])==='.json'?ot['get'](_0x42c78e['load'],{'retry':this['maxRetries']>-0x1f*-0xb5+0x6*0x3f3+0x1*-0x2d9d,'maxRetries':this['maxRetries']},(_0x417cb3,_0x46f682)=>{if(_0x417cb3)_0x1dcfd7(_0x417cb3);else{const _0x47a75e=_0x42c78e['original']['replace']('.json','.png');_0x2d7525['_loader']['load'](_0x47a75e,'texture',(_0x5ed8ae,_0x27d8e1)=>{_0x5ed8ae?_0x1dcfd7(_0x5ed8ae):_0x1dcfd7(null,{'data':_0x46f682,'texture':_0x27d8e1});});}}):_0x1983cb['load'](_0x42c78e,_0x1dcfd7);}['open'](_0x2cbfa4,_0x2d773b,_0x996ae5){const _0x159934=new zA();if(_0x2d773b['texture']&&_0x2d773b['data'])_0x159934['texture']=_0x2d773b['texture'],_0x159934['__data']=_0x2d773b['data'];else{const _0x50def2=this['_loader']['getHandler']('texture')['open'](_0x2cbfa4,_0x2d773b,_0x996ae5);if(!_0x50def2)return null;_0x159934['texture']=_0x50def2;}return _0x159934;}['patch'](_0x3e6acc,_0x508e8a){if(!_0x3e6acc['resource'])return;_0x3e6acc['resource']['__data']&&(_0x3e6acc['resource']['__data']['minfilter']!==void(0x1*-0x6b2+-0x20ee+-0x8*-0x4f4)&&(_0x3e6acc['data']['minfilter']=_0x3e6acc['resource']['__data']['minfilter']),_0x3e6acc['resource']['__data']['magfilter']!==void(-0x5c4+-0x21db+0x279f)&&(_0x3e6acc['data']['magfilter']=_0x3e6acc['resource']['__data']['magfilter']),_0x3e6acc['resource']['__data']['addressu']!==void(0x47d+-0x393*-0x2+-0xba3)&&(_0x3e6acc['data']['addressu']=_0x3e6acc['resource']['__data']['addressu']),_0x3e6acc['resource']['__data']['addressv']!==void(-0x9f*-0xc+-0x1*0x110b+0x997*0x1)&&(_0x3e6acc['data']['addressv']=_0x3e6acc['resource']['__data']['addressv']),_0x3e6acc['resource']['__data']['mipmaps']!==void(-0x31f*0x3+0x1724+-0xdc7)&&(_0x3e6acc['data']['mipmaps']=_0x3e6acc['resource']['__data']['mipmaps']),_0x3e6acc['resource']['__data']['anisotropy']!==void(-0x2293*0x1+0x578+0x1d1b)&&(_0x3e6acc['data']['anisotropy']=_0x3e6acc['resource']['__data']['anisotropy']),_0x3e6acc['resource']['__data']['rgbm']!==void(-0x1*-0x3a+-0x1579+0x153f)&&(_0x3e6acc['data']['rgbm']=!!_0x3e6acc['resource']['__data']['rgbm']),_0x3e6acc['data']['frames']=_0x3e6acc['resource']['__data']['frames'],delete _0x3e6acc['resource']['__data']);const _0x518338=_0x3e6acc['resource']['texture'];if(_0x518338&&(_0x518338['name']=_0x3e6acc['name'],_0x3e6acc['data']['hasOwnProp'+'erty']('minfilter')&&_0x518338['minFilter']!==Lc[_0x3e6acc['data']['minfilter']]&&(_0x518338['minFilter']=Lc[_0x3e6acc['data']['minfilter']]),_0x3e6acc['data']['hasOwnProp'+'erty']('magfilter')&&_0x518338['magFilter']!==Lc[_0x3e6acc['data']['magfilter']]&&(_0x518338['magFilter']=Lc[_0x3e6acc['data']['magfilter']]),_0x3e6acc['data']['hasOwnProp'+'erty']('addressu')&&_0x518338['addressU']!==Ic[_0x3e6acc['data']['addressu']]&&(_0x518338['addressU']=Ic[_0x3e6acc['data']['addressu']]),_0x3e6acc['data']['hasOwnProp'+'erty']('addressv')&&_0x518338['addressV']!==Ic[_0x3e6acc['data']['addressv']]&&(_0x518338['addressV']=Ic[_0x3e6acc['data']['addressv']]),_0x3e6acc['data']['hasOwnProp'+'erty']('mipmaps')&&_0x518338['mipmaps']!==_0x3e6acc['data']['mipmaps']&&(_0x518338['mipmaps']=_0x3e6acc['data']['mipmaps']),_0x3e6acc['data']['hasOwnProp'+'erty']('anisotropy')&&_0x518338['anisotropy']!==_0x3e6acc['data']['anisotropy']&&(_0x518338['anisotropy']=_0x3e6acc['data']['anisotropy']),_0x3e6acc['data']['hasOwnProp'+'erty']('rgbm'))){const _0x19c959=_0x3e6acc['data']['rgbm']?Zi:Ds;_0x518338['type']!==_0x19c959&&(_0x518338['type']=_0x19c959);}_0x3e6acc['resource']['texture']=_0x518338;const _0x43ecb8={};for(const _0x1850b0 in _0x3e6acc['data']['frames']){const _0x5e923b=_0x3e6acc['data']['frames'][_0x1850b0];_0x43ecb8[_0x1850b0]={'rect':new re(_0x5e923b['rect']),'pivot':new J(_0x5e923b['pivot']),'border':new re(_0x5e923b['border'])};}_0x3e6acc['resource']['frames']=_0x43ecb8,_0x3e6acc['off']('change',this['_onAssetCh'+'ange'],this),_0x3e6acc['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x19423e,_0x38f728,_0xcaafe3){let _0x22b045;if(_0x38f728==='data'||_0x38f728==='data.frame'+'s'){const _0x2e51a0={};for(const _0x5e8514 in _0xcaafe3['frames'])_0x22b045=_0xcaafe3['frames'][_0x5e8514],_0x2e51a0[_0x5e8514]={'rect':new re(_0x22b045['rect']),'pivot':new J(_0x22b045['pivot']),'border':new re(_0x22b045['border'])};_0x19423e['resource']['frames']=_0x2e51a0;}else{const _0x22ad94=_0x38f728['match'](Fk);if(_0x22ad94){const _0x2f6040=_0x22ad94[-0x8c5+-0x2523+0x2de9];_0xcaafe3?(_0x19423e['resource']['frames'][_0x2f6040]?(_0x22b045=_0x19423e['resource']['frames'][_0x2f6040],_0x22b045['rect']['set'](_0xcaafe3['rect'][0x1842+-0x15ed+-0x255],_0xcaafe3['rect'][-0x2*0x105f+-0x1*-0x2131+0x1*-0x72],_0xcaafe3['rect'][-0x140b+0x219d+-0xd90],_0xcaafe3['rect'][-0x9e*0x1a+0x71e*-0x1+0x172d]),_0x22b045['pivot']['set'](_0xcaafe3['pivot'][-0x460+-0x1*-0x155f+-0x10ff],_0xcaafe3['pivot'][0x2*0x863+-0x622+-0xaa3]),_0x22b045['border']['set'](_0xcaafe3['border'][-0x7b2+0x1258+-0xaa6],_0xcaafe3['border'][-0x2459+-0xbbc+-0x1*-0x3016],_0xcaafe3['border'][0xfe9+0x62e+-0x1615],_0xcaafe3['border'][-0xa60+0x7a6+0x2bd])):_0x19423e['resource']['frames'][_0x2f6040]={'rect':new re(_0xcaafe3['rect']),'pivot':new J(_0xcaafe3['pivot']),'border':new re(_0xcaafe3['border'])},_0x19423e['resource']['fire']('set:frame',_0x2f6040,_0x19423e['resource']['frames'][_0x2f6040])):_0x19423e['resource']['frames'][_0x2f6040]&&(delete _0x19423e['resource']['frames'][_0x2f6040],_0x19423e['resource']['fire']('remove:fra'+'me',_0x2f6040));}}}}function kk(){const _0x4c2295={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x11610f={'astc':_0x4c2295['cTFASTC_4x'+'4'],'dxt':_0x4c2295['cTFBC1'],'etc1':_0x4c2295['cTFETC1'],'etc2':_0x4c2295['cTFETC1'],'pvr':_0x4c2295['cTFPVRTC1_'+'4_RGB'],'atc':_0x4c2295['cTFATC_RGB'],'none':_0x4c2295['cTFRGB565']},_0x46c07b={'astc':_0x4c2295['cTFASTC_4x'+'4'],'dxt':_0x4c2295['cTFBC3'],'etc1':_0x4c2295['cTFRGBA444'+'4'],'etc2':_0x4c2295['cTFETC2'],'pvr':_0x4c2295['cTFPVRTC1_'+'4_RGBA'],'atc':_0x4c2295['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x4c2295['cTFRGBA444'+'4']},_0x29a10d={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x1e1641=(_0x46ab95,_0x32acbe)=>{switch(_0x46ab95){case _0x4c2295['cTFETC1']:return _0x32acbe['formats']['etc2']?_0x29a10d['ETC2_RGB']:_0x29a10d['ETC1'];case _0x4c2295['cTFETC2']:return _0x29a10d['ETC2_RGBA'];case _0x4c2295['cTFBC1']:return _0x29a10d['DXT1'];case _0x4c2295['cTFBC3']:return _0x29a10d['DXT5'];case _0x4c2295['cTFPVRTC1_'+'4_RGB']:return _0x29a10d['PVRTC_4BPP'+'_RGB_1'];case _0x4c2295['cTFPVRTC1_'+'4_RGBA']:return _0x29a10d['PVRTC_4BPP'+'_RGBA_1'];case _0x4c2295['cTFASTC_4x'+'4']:return _0x29a10d['ASTC_4x4'];case _0x4c2295['cTFATC_RGB']:return _0x29a10d['ATC_RGB'];case _0x4c2295['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x29a10d['ATC_RGBA'];case _0x4c2295['cTFRGBA32']:return _0x29a10d['R8_G8_B8_A'+'8'];case _0x4c2295['cTFRGB565']:return _0x29a10d['R5_G6_B5'];case _0x4c2295['cTFRGBA444'+'4']:return _0x29a10d['R4_G4_B4_A'+'4'];}},_0x35caaa=_0x574528=>{const _0x507e82=function(_0x28b9cb,_0x298a3a){const _0x37763a=_0x28b9cb*(-0x1fe8*-0x1+0x1*-0x565+-0x1a83+0.00784313725490196)-(0x4a*-0x21+-0x1ff5+0x2980),_0x5d8c62=_0x298a3a*((-0x3*0x509+0x1*-0x13a6+0x1*0x22c3)/(0x388+0xa6*0x16+-0x10cd))-(0xa3*-0xd+0xe09*0x1+-0x5c1),_0x33231e=Math['sqrt'](0xb40+-0x1699+0x1*0xb5a-Math['min'](0x1*0x2f5+0x23ba+-0x26ae,_0x37763a*_0x37763a+_0x5d8c62*_0x5d8c62));return Math['max'](-0x4*-0x7ae+0x1f20+0x3dd8*-0x1,Math['min'](-0x68b+0xbc6+-0x43c*0x1,Math['floor']((_0x33231e+(0xd*-0x57+-0x8d0+-0x69e*-0x2))*(0x6*0x24e+0x13bd*0x1+-0x2191+0.5)*(-0x176*-0x17+-0x7d*-0x4a+-0x44bd))));};for(let _0x19a89c=0xd5f+0x1ac7*-0x1+0xd68;_0x19a89c<_0x574528['length'];_0x19a89c+=0x11*-0x7+-0xd*-0x19f+0x526*-0x4){const _0x1ff35f=_0x574528[_0x19a89c+(-0x7*0x4a5+0xa74+-0x235*-0xa)],_0x879192=_0x574528[_0x19a89c+(-0xf82+0x195b+-0x12*0x8c)];_0x574528[_0x19a89c+(-0x16e*0x17+-0x14ab+-0x358d*-0x1)]=_0x1ff35f,_0x574528[_0x19a89c+(0xd34*0x2+0x13d6+0xb8f*-0x4)]=_0x507e82(_0x1ff35f,_0x879192),_0x574528[_0x19a89c+(-0x3c*0x6c+-0x152+0x1*0x1aa5)]=0x139*0x7+-0x12df+0xb4f;}return _0x574528;},_0x4165c2=_0x5be51e=>{const _0x544a64=new Uint16Array(_0x5be51e['length']/(-0x13f9*-0x1+-0x43a*-0x9+-0x15*0x2c3));for(let _0x57a8cd=-0x1e7e+0x114+-0x1f6*-0xf;_0x57a8cd<_0x5be51e['length'];_0x57a8cd+=-0x2471*-0x1+-0x1*0x1069+-0x1404){const _0x1976a7=_0x5be51e[_0x57a8cd+(-0x213+0x1*0x248f+-0x227c)],_0x134bcd=_0x5be51e[_0x57a8cd+(0x1*-0x5b+-0x1a37+0x1a93*0x1)],_0x9a034b=_0x5be51e[_0x57a8cd+(0x15c3+0x18e8+-0x2ea9)];_0x544a64[_0x57a8cd/(-0x124d+0x499+0xdb8)]=(_0x1976a7&0x65*-0x2e+-0x1cc8+0x2fe6)<<-0xb70+-0x3*0xc49+0x3053|(_0x134bcd&0x1*-0x9f7+0x6df+0x414)<<0x2020+-0x1*-0x11e+-0x213b|_0x9a034b>>-0x183*0xa+-0x4e+0xf6f;}return _0x544a64;},_0x4e813c=(_0x265199,_0x5af14e)=>(_0x265199&_0x265199-(-0x1b84+-0x102*0x1+0x1c87))===0x154*0x1d+-0x7*-0x380+-0xfc1*0x4&&(_0x5af14e&_0x5af14e-(-0x567+-0x1547+-0x1*-0x1aaf))===-0x1b2c+0x2302*0x1+-0x7d6,_0x4babe7=()=>typeof performance<'u'?performance['now']():0x1e4f+0x1*-0x24c4+-0x227*-0x3;let _0x4d1e66,_0x56a19c,_0x358b5d;const _0x1700cb=(_0x7267a6,_0x8a3098,_0xa7515)=>{if(_0xa7515){if(_0x7267a6['formats']['astc'])return'astc';}else{if(_0x8a3098){if(_0x7267a6['formats']['etc2'])return'etc2';}else{if(_0x7267a6['formats']['etc2'])return'etc2';if(_0x7267a6['formats']['etc1'])return'etc1';}}return(_0x8483cb=>{for(let _0x1d3e9c=0x3b*0x30+-0x1*-0x221e+0x1*-0x2d2e;_0x1d3e9c<_0x8483cb['length'];++_0x1d3e9c){const _0x1729c4=_0x8483cb[_0x1d3e9c];if(_0x7267a6['formats'][_0x1729c4])return _0x1729c4;}return'none';})(_0x8a3098?_0x358b5d:_0x56a19c);},_0x390b42=(_0x221071,_0xe42650,_0x28dcc1)=>{switch(_0x28dcc1){case _0x4c2295['cTFETC1']:case _0x4c2295['cTFETC2']:return!(-0x1*-0x175+0x1*-0x1703+0x158e);case _0x4c2295['cTFBC1']:case _0x4c2295['cTFBC3']:return(_0x221071&0xd0d+-0x2f3*0x4+-0x9f*0x2)===-0x1*-0x1d9f+0x932+-0x26d1&&(_0xe42650&-0xfbd+0x3+-0x1*-0xfbd)===-0x17ea*-0x1+-0x694+-0x7*0x27a;case _0x4c2295['cTFPVRTC1_'+'4_RGB']:case _0x4c2295['cTFPVRTC1_'+'4_RGBA']:return _0x4e813c(_0x221071,_0xe42650);case _0x4c2295['cTFASTC_4x'+'4']:return!(-0xe6e*-0x1+-0x573+-0x8fb);case _0x4c2295['cTFATC_RGB']:case _0x4c2295['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x152f+-0x125a+-0x2789*-0x1);}return!(0x49*0x44+-0x1*-0x1e6a+-0x487*0xb);},_0xb7ff62=(_0x29da35,_0x596bf8,_0x4ecc76)=>{if(!_0x4d1e66['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x148776=_0x4babe7(),_0x420ef3=new _0x4d1e66['KTX2File'](new Uint8Array(_0x596bf8)),_0x2ee36a=_0x420ef3['getWidth'](),_0x5d25c4=_0x420ef3['getHeight'](),_0x125ae6=_0x420ef3['getLevels'](),_0x394257=!!_0x420ef3['getHasAlph'+'a'](),_0x57a1d4=_0x420ef3['isUASTC']&&_0x420ef3['isUASTC']();if(!_0x2ee36a||!_0x5d25c4||!_0x125ae6)throw _0x420ef3['close'](),_0x420ef3['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x29da35+'\x20width='+_0x2ee36a+'\x20height='+_0x5d25c4+'\x20levels='+_0x125ae6);const _0x11f818=_0x1700cb(_0x4ecc76['deviceDeta'+'ils'],_0x394257,_0x57a1d4),_0x52697b=!!_0x4ecc76['isGGGR']&&_0x11f818==='pvr';let _0x4edb05;if(_0x52697b?_0x4edb05=_0x4c2295['cTFRGBA32']:(_0x4edb05=_0x394257?_0x46c07b[_0x11f818]:_0x11610f[_0x11f818],_0x390b42(_0x2ee36a,_0x5d25c4,_0x4edb05)||(_0x4edb05=_0x394257?_0x4c2295['cTFRGBA32']:_0x4c2295['cTFRGB565'])),!_0x420ef3['startTrans'+'coding']())throw _0x420ef3['close'](),_0x420ef3['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x29da35);let _0x3a23e3;const _0x208c93=[];for(let _0x4671ef=0x139d*0x1+-0x8fa+-0xaa3;_0x4671ef<_0x125ae6;++_0x4671ef){const _0x3b7fd5=_0x420ef3['getImageTr'+'anscodedSi'+'zeInBytes'](_0x4671ef,-0x1f44+0x3e*0x33+0x12ea,0x4b1+-0xcd2+0x821,_0x4edb05),_0x53b8e6=new Uint8Array(_0x3b7fd5);if(!_0x420ef3['transcodeI'+'mage'](_0x53b8e6,_0x4671ef,-0x1bee+-0xa73+0x2661,0x14b6+0x123b+-0x1*0x26f1,_0x4edb05,-0xa75*0x2+-0x29e+0x1788,-(-0x1*-0x21cd+0x12f8+0x4*-0xd31),-(0x9e0+0x912+-0x12f1)))throw _0x420ef3['close'](),_0x420ef3['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x29da35);const _0x965495=_0x4edb05===_0x4c2295['cTFRGB565']||_0x4edb05===_0x4c2295['cTFRGBA444'+'4'];_0x208c93['push'](_0x965495?new Uint16Array(_0x53b8e6['buffer']):_0x53b8e6);}if(_0x420ef3['close'](),_0x420ef3['delete'](),_0x52697b){for(_0x4edb05=_0x4c2295['cTFRGB565'],_0x3a23e3=0x12e7+-0x1c0d+0x1*0x926;_0x3a23e3<_0x208c93['length'];++_0x3a23e3)_0x208c93[_0x3a23e3]=_0x4165c2(_0x35caaa(_0x208c93[_0x3a23e3]));}return{'format':_0x1e1641(_0x4edb05,_0x4ecc76['deviceDeta'+'ils']),'width':_0x2ee36a,'height':_0x5d25c4,'levels':_0x208c93,'cubemap':!(0x22a7+0x1d74+-0x6*0xaaf),'transcodeTime':_0x4babe7()-_0x148776,'url':_0x29da35,'unswizzledGGGR':_0x52697b};},_0x4d908c=(_0x81728b,_0x25156d,_0x229310)=>{const _0x34973a=_0x4babe7(),_0xb82f91=new _0x4d1e66['BasisFile'](new Uint8Array(_0x25156d)),_0xa5f87d=_0xb82f91['getImageWi'+'dth'](-0x2b1*-0x5+0x1*-0x182f+0xaba,-0x5e+0x2101+-0x20a3),_0x57584d=_0xb82f91['getImageHe'+'ight'](-0x1*0x1c12+0x1c28+0xb*-0x2,0x1dad*0x1+-0x119+-0x1c94),_0x4c8f33=_0xb82f91['getNumImag'+'es'](),_0x38fe87=_0xb82f91['getNumLeve'+'ls'](0x1a9a+-0x73+-0x1a27),_0x39bccd=!!_0xb82f91['getHasAlph'+'a'](),_0x1f84fe=_0xb82f91['isUASTC']&&_0xb82f91['isUASTC']();if(!_0xa5f87d||!_0x57584d||!_0x4c8f33||!_0x38fe87)throw _0xb82f91['close'](),_0xb82f91['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x81728b+'\x20width='+_0xa5f87d+'\x20height='+_0x57584d+'\x20images='+_0x4c8f33+'\x20levels='+_0x38fe87);const _0x34572b=_0x1700cb(_0x229310['deviceDeta'+'ils'],_0x39bccd,_0x1f84fe),_0x5416df=!!_0x229310['isGGGR']&&_0x34572b==='pvr';let _0x42ee66;if(_0x5416df?_0x42ee66=_0x4c2295['cTFRGBA32']:(_0x42ee66=_0x39bccd?_0x46c07b[_0x34572b]:_0x11610f[_0x34572b],_0x390b42(_0xa5f87d,_0x57584d,_0x42ee66)||(_0x42ee66=_0x39bccd?_0x4c2295['cTFRGBA32']:_0x4c2295['cTFRGB565'])),!_0xb82f91['startTrans'+'coding']())throw _0xb82f91['close'](),_0xb82f91['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x81728b);let _0x349349;const _0x4f375c=[];for(let _0x5a9fe6=0x1*0x24cb+0x331*0x3+0x1*-0x2e5e;_0x5a9fe6<_0x38fe87;++_0x5a9fe6){const _0x506f6a=_0xb82f91['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1*0x25d+0x1617+0x1f9*-0xa,_0x5a9fe6,_0x42ee66),_0x1faab0=new Uint8Array(_0x506f6a);if(!_0xb82f91['transcodeI'+'mage'](_0x1faab0,-0x2b1*-0x2+0x17f*-0x5+0x219,_0x5a9fe6,_0x42ee66,-0x1*0x20ed+0xb+0xaf6*0x3,-0x10c9+0x11fe+-0x135)){if(_0x5a9fe6===_0x38fe87-(-0x8aa+-0x1*-0x12bb+-0xa10)&&_0x506f6a===_0x4f375c[_0x5a9fe6-(0x1e4a*0x1+0x1c5f+0xeaa*-0x4)]['buffer']['byteLength'])_0x1faab0['set'](new Uint8Array(_0x4f375c[_0x5a9fe6-(-0x5d*0x3+-0x3ad*0x7+0x1ad3)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x81728b);else throw _0xb82f91['close'](),_0xb82f91['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x81728b);}const _0x1da5de=_0x42ee66===_0x4c2295['cTFRGB565']||_0x42ee66===_0x4c2295['cTFRGBA444'+'4'];_0x4f375c['push'](_0x1da5de?new Uint16Array(_0x1faab0['buffer']):_0x1faab0);}if(_0xb82f91['close'](),_0xb82f91['delete'](),_0x5416df){for(_0x42ee66=_0x4c2295['cTFRGB565'],_0x349349=-0x1251+0x1*-0x1f3c+0x318d;_0x349349<_0x4f375c['length'];++_0x349349)_0x4f375c[_0x349349]=_0x4165c2(_0x35caaa(_0x4f375c[_0x349349]));}return{'format':_0x1e1641(_0x42ee66,_0x229310['deviceDeta'+'ils']),'width':_0xa5f87d,'height':_0x57584d,'levels':_0x4f375c,'cubemap':!(-0x1279+0x5*-0x1f7+0x5a9*0x5),'transcodeTime':_0x4babe7()-_0x34973a,'url':_0x81728b,'unswizzledGGGR':_0x5416df};},_0x3ab13f=(_0xea738,_0x423a6a,_0xcc7728)=>_0xcc7728['isKTX2']?_0xb7ff62(_0xea738,_0x423a6a,_0xcc7728):_0x4d908c(_0xea738,_0x423a6a,_0xcc7728),_0x1025d1=(_0x26e2c7,_0x1d29fd,_0x2c66e9)=>{try{const _0x251bed=_0x3ab13f(_0x26e2c7,_0x1d29fd,_0x2c66e9);_0x251bed['levels']=_0x251bed['levels']['map'](_0x59f2d2=>_0x59f2d2['buffer']),self['postMessag'+'e']({'url':_0x26e2c7,'data':_0x251bed},_0x251bed['levels']);}catch(_0x56b590){self['postMessag'+'e']({'url':_0x26e2c7,'err':_0x56b590},null);}},_0xa58ae1=(_0xd781c6,_0x26c100)=>{const _0x45c8b1=(_0x258339,_0xfb10a2)=>(WebAssembly['instantiat'+'e'](_0xd781c6['module'],_0x258339)['then'](_0x44f0ef=>{_0xfb10a2(_0x44f0ef);})['catch'](_0x28eae5=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x28eae5);}),{});self['BASIS'](_0xd781c6['module']?{'instantiateWasm':_0x45c8b1}:null)['then'](_0x5d6b8c=>{_0x5d6b8c['initialize'+'Basis'](),_0x4d1e66=_0x5d6b8c,_0x56a19c=_0xd781c6['rgbPriorit'+'y'],_0x358b5d=_0xd781c6['rgbaPriori'+'ty'],_0x26c100(null);});},_0x15024a=[];self['onmessage']=_0x4cab04=>{const _0xa7d522=_0x4cab04['data'];switch(_0xa7d522['type']){case'init':_0xa58ae1(_0xa7d522['config'],()=>{for(let _0x5630ec=0x4*0xb3+-0x1*0x9c7+0x6fb;_0x5630ec<_0x15024a['length'];++_0x5630ec)_0x1025d1(_0x15024a[_0x5630ec]['url'],_0x15024a[_0x5630ec]['data'],_0x15024a[_0x5630ec]['options']);_0x15024a['length']=0x1a89+-0x1f09+0x480;});break;case'transcode':_0x4d1e66?_0x1025d1(_0xa7d522['url'],_0xa7d522['data'],_0xa7d522['options']):_0x15024a['push'](_0xa7d522);break;}};}const Uk=_0x3ccdd6=>({'astc':!!_0x3ccdd6['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x3ccdd6['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x3ccdd6['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x3ccdd6['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x3ccdd6['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x3ccdd6['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x26455e,_0xdafd8a)=>{const _0x540867=_0x2802d3=>{const _0xfbd011=['/*\x20basis\x20*'+'/',_0x2802d3,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0xfbd011],{'type':'applicatio'+'n/javascri'+'pt'});},_0x17ddf1=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xd8510e=new WebAssembly['Module'](Uint8Array['of'](0x8df+-0x2381+0xd51*0x2,-0x1e*0xe9+-0x1661+0x3*0x10b0,0x1*0xd3f+-0x5*0x2af+0x3*0x35,0x1*0x22c8+-0x8cd*-0x3+-0x3cc2,0x89b+-0x2*-0x119b+0x2bd0*-0x1,0x2de*0x4+0xd7f+-0x18f7,-0x6f6+-0x1473*0x1+0x1b69,0x19eb+-0x1bce+0x1e3));if(_0xd8510e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xd8510e)instanceof WebAssembly['Instance'];}}catch{}return!(-0xe3*0xf+0x1cc6+-0xf78);},_0x270c0b=(_0x1cdf12,_0x3e448f)=>{_0xdafd8a(null,{'workerUrl':URL['createObje'+'ctURL'](_0x540867(_0x1cdf12)),'module':_0x3e448f,'rgbPriority':_0x26455e['rgbPriorit'+'y'],'rgbaPriority':_0x26455e['rgbaPriori'+'ty']});},_0x4005dc={'cache':!(0x14e+-0x1cb1+0xab*0x29),'responseType':'text','retry':_0x26455e['maxRetries']>0x3*0x1bb+0x1*-0x25ff+0x20ce,'maxRetries':_0x26455e['maxRetries']};if(_0x26455e['glueUrl']&&_0x26455e['wasmUrl']&&_0x17ddf1()){let _0x53156a=null,_0x2ae0a3=null;ot['get'](_0x26455e['glueUrl'],_0x4005dc,(_0x12256e,_0x48f734)=>{_0x12256e?_0xdafd8a(_0x12256e):_0x2ae0a3?_0x270c0b(_0x48f734,_0x2ae0a3):_0x53156a=_0x48f734;});const _0x5bf6ec=fetch(_0x26455e['wasmUrl']),_0x3208c7=()=>{_0x5bf6ec['then'](_0x57a0ae=>_0x57a0ae['arrayBuffe'+'r']())['then'](_0x34396c=>WebAssembly['compile'](_0x34396c))['then'](_0x5d1b41=>{_0x53156a?_0x270c0b(_0x53156a,_0x5d1b41):_0x2ae0a3=_0x5d1b41;})['catch'](_0x31462b=>{_0xdafd8a(_0x31462b,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5bf6ec)['then'](_0x9dd77=>{_0x53156a?_0x270c0b(_0x53156a,_0x9dd77):_0x2ae0a3=_0x9dd77;})['catch'](_0x528d21=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x26455e['wasmUrl']+'\x20('+_0x528d21+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x3208c7();}):_0x3208c7();}else ot['get'](_0x26455e['fallbackUr'+'l'],_0x4005dc,(_0x52585d,_0x48faa7)=>{_0x52585d?_0xdafd8a(_0x52585d,null):_0x270c0b(_0x48faa7,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x390666,_0xb48317,_0x341985,_0x1360ca){if(this['callbacks']['hasOwnProp'+'erty'](_0x390666))this['callbacks'][_0x390666]['push'](_0x341985);else{this['callbacks'][_0x390666]=[_0x341985];const _0x2361f6={'url':_0x390666,'data':_0xb48317,'options':_0x1360ca};this['clients']['length']>-0x9f5+0x7*-0x542+-0x1*-0x2ec3?this['clients']['shift']()['run'](_0x2361f6):this['queue']['push'](_0x2361f6);}}['enqueueCli'+'ent'](_0xcb42db){this['queue']['length']>-0x3*-0x2b+0xbab+-0xc2c?_0xcb42db['run'](this['queue']['shift']()):this['clients']['push'](_0xcb42db);}['handleResp'+'onse'](_0xbd932b,_0x3c37a9,_0x302cdc){const _0x5c58c0=this['callbacks'][_0xbd932b];if(_0x3c37a9){for(let _0x125e00=-0xa79+-0x1*-0x2495+-0x45a*0x6;_0x125e00<_0x5c58c0['length'];++_0x125e00)_0x5c58c0[_0x125e00](_0x3c37a9);}else{_0x302cdc['format']===Jh||_0x302cdc['format']===ed?_0x302cdc['levels']=_0x302cdc['levels']['map'](_0x19f2f9=>new Uint16Array(_0x19f2f9)):_0x302cdc['levels']=_0x302cdc['levels']['map'](_0x14d171=>new Uint8Array(_0x14d171));for(let _0xda2f4e=-0x1*-0x1217+0x1*0x239c+-0xe9*0x3b;_0xda2f4e<_0x5c58c0['length'];++_0xda2f4e)_0x5c58c0[_0xda2f4e](null,_0x302cdc);}delete this['callbacks'][_0xbd932b];}}class Vk{constructor(_0x1a02aa,_0x2f1904,_0x12c7b1){this['queue']=_0x1a02aa,this['worker']=new Worker(_0x2f1904['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x2d702e=>{const _0x2c5835=_0x2d702e['data'];this['queue']['handleResp'+'onse'](_0x2c5835['url'],_0x2c5835['err'],_0x2c5835['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x2f1904}),this['eager']=_0x12c7b1;}['run'](_0x455519){const _0x510c82=[];_0x455519['data']instanceof ArrayBuffer&&_0x510c82['push'](_0x455519['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x455519['url'],'format':_0x455519['format'],'data':_0x455519['data'],'options':_0x455519['options']},_0x510c82),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=-0x1*-0xe95+-0xb*-0x273+0x2985*-0x1,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0x1287+0x22bd*-0x1+0x3549,Xu=new zk();let xS=null,qu=!(-0x9e+-0x18f+-0xba*-0x3);function Xk(_0x5bc234){if(!qu){if(!_0x5bc234)_0x5bc234=xS||{};else{if(_0x5bc234['lazyInit']){xS=_0x5bc234;return;}}if(!_0x5bc234['glueUrl']||!_0x5bc234['wasmUrl']||!_0x5bc234['fallbackUr'+'l']){const _0x1b8656=YS['getConfig']('BASIS');_0x1b8656&&(_0x5bc234={'glueUrl':_0x1b8656['glueUrl'],'wasmUrl':_0x1b8656['wasmUrl'],'fallbackUrl':_0x1b8656['fallbackUr'+'l'],'numWorkers':_0x1b8656['numWorkers']});}if(_0x5bc234['glueUrl']||_0x5bc234['wasmUrl']||_0x5bc234['fallbackUr'+'l']){qu=!(0x7bb*-0x4+-0x112*-0x11+-0x16a*-0x9);const _0x2e5109=Math['max'](0xb0b+0x3d*-0x52+0x880,Math['min'](-0x112d+0x7ec+-0x951*-0x1,_0x5bc234['numWorkers']||Gk)),_0x3881cd=_0x5bc234['numWorkers']===-0x13be+0x5d*0x21+0x7c2||(_0x5bc234['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x5bc234['eagerWorke'+'rs']:!(-0x5*0x3dc+0x43*0xd+0xfe5*0x1));_0x5bc234['rgbPriorit'+'y']=_0x5bc234['rgbPriorit'+'y']||Hk,_0x5bc234['rgbaPriori'+'ty']=_0x5bc234['rgbaPriori'+'ty']||Wk,_0x5bc234['maxRetries']=_0x5bc234['hasOwnProp'+'erty']('maxRetries')?_0x5bc234['maxRetries']:$k,Bk(_0x5bc234,(_0x494a30,_0x7eba8d)=>{if(_0x494a30)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x494a30);else{for(let _0x545d24=-0x2488+-0x162a+0x3ab2;_0x545d24<_0x2e5109;++_0x545d24)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x7eba8d,_0x3881cd));}});}}}let Df=null;function b0(_0x4e60b3,_0x2ad9f1,_0x774866,_0x351e01,_0x4c654a){return Xk(),Df||(Df={'formats':Uk(_0x4e60b3)}),Xu['enqueueJob'](_0x2ad9f1,_0x774866,_0x351e01,{'deviceDetails':Df,'isGGGR':!!(_0x4c654a!=null&&_0x4c654a['isGGGR']),'isKTX2':!!(_0x4c654a!=null&&_0x4c654a['isKTX2'])}),qu;}class eo{['load'](_0x16cea4,_0x4b2ad3,_0x43ccab){throw new Error('not\x20implem'+'ented');}['open'](_0x39658a,_0x440036,_0x5a71df){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x75b9d6,_0x96c413){super(),this['device']=_0x96c413,this['maxRetries']=0x6f+-0x55d+0x4ee*0x1;}['load'](_0x288fda,_0x47c8ce,_0x5b5fb8){const _0x164cd5=this['device'],_0x29dd94=_0x21fd93=>{var _0x216c14,_0x42d97b,_0x19d142;b0(_0x164cd5,_0x288fda['load'],_0x21fd93,_0x47c8ce,{'isGGGR':(((_0x19d142=(_0x42d97b=(_0x216c14=_0x5b5fb8==null?void(0x1b3b+-0xd*-0x7f+-0x2*0x10d7):_0x5b5fb8['file'])==null?void(-0xadf*-0x1+0x34*0x92+0x7d*-0x53):_0x216c14['variants'])==null?void(0x36e+0xb4b*-0x2+0x1328):_0x42d97b['basis'])==null?void(0x1*0x202d+-0x18f1+-0x73c):_0x19d142['opt'])&-0x3*-0x57f+-0x2066+0xff1)!==0x6*0xa3+0x76a+-0xb3c})||_0x47c8ce('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x5b5fb8['name']+']('+_0x5b5fb8['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x288fda['load'],(_0x356e6c,_0x3cc81d)=>{_0x356e6c?_0x47c8ce(_0x356e6c):_0x29dd94(_0x3cc81d);},_0x5b5fb8,this['maxRetries']);}['open'](_0x4ea487,_0x346fe6,_0x3fc1d1,_0x13166d={}){const _0x4fd32f=_0x13166d['srgb']?ld(_0x346fe6['format']):_0x346fe6['format'],_0x3590ba=new _e(_0x3fc1d1,{'name':_0x4ea487,'profilerHint':Pr,'addressU':_0x346fe6['cubemap']?ue:yt,'addressV':_0x346fe6['cubemap']?ue:yt,'width':_0x346fe6['width'],'height':_0x346fe6['height'],'format':_0x4fd32f,'cubemap':_0x346fe6['cubemap'],'levels':_0x346fe6['levels'],..._0x13166d});return _0x3590ba['upload'](),_0x3590ba;}}const A0=new Uint8Array([0x25d8*-0x1+-0x220c+0x486d,-0x13*-0xd2+0xbe*-0x34+0x1752,-0x16b*-0x1a+0x21*-0xe9+-0x687,-0x1*0x22a3+0x1e69+0x1*0x481,-0xa79+0x1079+-0x5f3,-0xe*0x1d2+0xc3a+0xd4c,0x9ff+0x2249+-0x2c2e,-0x24bd+-0x1306*0x1+0x37cd,0x1eeb+-0x1*-0x778+-0x2663,-0x62*-0x3+0x8*-0xab+0x432,0x196c+0x1151+-0x2abd,-0xcb5+-0x247a+0x313c,-0x1f1b+-0x1112+0x3076*0x1,-0x22*0xf+-0x13c2+0x1608,-0x26e1+0x9*0xf5+0x1e88,0x15a3+0x20f4+-0x3645,0x1*-0x1d7c+-0x1cdd+0x3a59,-0x2f7+-0x16*0xbe+0x134b,-0x20a+0x1463+-0x1259*0x1,-0x5cb*0x6+-0x1f51+0x4214,0x21f4+-0x7a4+-0x1a50,-0x11*0xf1+-0x2*-0xd68+-0xacf,-0x4*0x83+0xbac+0x1c*-0x58,0x1f1*-0x13+0x1321*-0x1+0x3805,-0x247*-0x1+0x1759+-0x4*0x666,0x7a*-0x2d+0x101*0x22+0x1*-0xcaa,0x5*0x13f+0x2*0x11e4+-0x2a03,0x2*0xdf+0x89*-0x3+-0x23,0x1*0x1e83+0x4*0x779+-0x3c67,0xcb*-0x27+0x1885+-0x3*-0x22d,0x1599+-0x843+-0xd41,-0x1762+-0x14*-0x77+-0xeda*-0x1,-0x3e*0x74+-0x71*0x3d+0x378e,-0x1*-0x126c+-0x23fc*-0x1+-0x3668,-0x3*0xbbf+-0x1d3*0xf+-0x1*-0x3e9a,0x39*0x2c+0x1*0xe8f+-0x185b,0x1a54+-0x1fae+-0x1*-0x567,0xcf1*0x2+0x3b7*-0x9+-0x3b*-0x22,-0x1e07+0x155b+0x8f0,-0x582*0x6+0x2547+-0x2*0x1fd,0x175*-0xe+0x1*-0x969+0x1e23,0xd1c+0x41*-0x35+0xd1,0x285*0xc+-0x3c2*0x2+-0x15de,-0x8a7+0x7*0x1e3+-0xb*0x61,-0x4*-0x405+-0xcb9*0x3+0x167b,-0xb45*-0x2+0x17bd+0x2b3*-0x11,-0x575+0x3d*0x9f+-0x24a*0xe,0x1418+0x2*-0x1056+0xd4a,0x32d*-0x3+0x156e+0x130*-0xa,-0xd*0x152+-0x182*-0x8+0x51a,-0x640*0x1+0x7d*-0x1c+0x9f6*0x2,-0x7b1*-0x1+0xb03+-0x125b,-0x1bf2+-0x53*0x18+0x11*0x21a,-0x62f+0x18d*0xe+0x3d*-0x40,-0x115*0x2+-0x5*-0x85+-0x2c,-0x155*0x8+0xca6+-0x1d*0xd,-0x21+0x1bce+-0x1b19,-0x1*0x1ea9+-0x8d7+0x4f*0x83,0x2f*0x6d+-0x15ef+-0x1ec*-0x1,-0x903+-0x15a7+-0x5*-0x622,0x1*0x2205+-0x18ff*0x1+0x906*-0x1,0x35*0x8d+-0x1*-0x1cb+-0x1efc,-0xa9b+-0x1d37*-0x1+-0x1*0x1253,0x1eee+-0x129c+-0xc0d,0x1cad+0x1a*0x13d+0x8a7*-0x7,0x3*-0xa6f+0x1*0x17e1+0x7b0,0x4c7*0x5+0x1e1c+-0x3551*0x1,0x1f72+0x24c8+-0x43f8,-0x1969+0x8*-0x4bd+-0x43f*-0xf,0xf36+-0x6*-0x5f0+0xc95*-0x4]),C0=(_0x225d1f,_0x1afc84)=>{const _0x4a0dab=new _e(_0x225d1f,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0xa8+-0x240b+0x1c5*0x14),'levels':[_0x1afc84]}),_0x2bb2b1=new gt({'colorBuffer':_0x4a0dab,'depth':!(0x79*-0x18+-0x9*0xa9+0x114a)});_0x225d1f['setFramebu'+'ffer'](_0x2bb2b1['impl']['_glFrameBu'+'ffer']),_0x225d1f['initRender'+'Target'](_0x2bb2b1);const _0xedd08c=new Uint8ClampedArray(0x267a+0x1572+0x48*-0xd5);return _0x225d1f['gl']['readPixels'](-0x1d*-0x6d+0x50d+-0x1*0x1166,0x17d6+-0x21b7+-0x119*-0x9,0x3df*0x1+-0x4*-0xd3+-0xe*0x83,-0x1*0x160d+-0x1843+0x47*0xa7,_0x225d1f['gl']['RGBA'],_0x225d1f['gl']['UNSIGNED_B'+'YTE'],_0xedd08c),_0x2bb2b1['destroy'](),_0x4a0dab['destroy'](),_0xedd08c[0x1ca0+-0x7f0+-0x14b0]===0x1db4+-0x1*0x1dba+0x7&&_0xedd08c[-0x6*-0x5e2+0x5*0x35+-0x2454]===-0x12b*-0x16+0x1*-0x22b6+0x906&&_0xedd08c[-0x2*0x822+-0x25c+0x12a2]===0x5db*-0x1+0x23b3+0x1*-0x1dd5&&_0xedd08c[0x10*0x22f+0x23c7+-0x46b4]===-0x7*0x134+0x40f+0x4*0x127;},jk=_0x3bc74b=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1e003b=>C0(_0x3bc74b,_0x1e003b))['catch'](_0x4fcd92=>!(-0x1cee*0x1+0xb5a*0x1+0x1*0x1195)),Yk=_0x58bf6b=>new Promise((_0x4334d4,_0x56ca35)=>{const _0x5a0a43=new Image();_0x5a0a43['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x5a0a43['onload']=()=>{_0x4334d4(C0(_0x58bf6b,_0x5a0a43));};});class Kk{static['run'](_0x247608){jk(_0x247608)['then'](_0x5194d2=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x5194d2);}),Yk(_0x247608)['then'](_0x761b98=>{console['log']('imgElement'+'IsCorrect='+_0x761b98);});}}class Zk extends eo{constructor(_0x155a70,_0x2d09db){super(),this['crossOrigi'+'n']=_0x155a70['prefix']?'anonymous':null,this['maxRetries']=0x2670+-0x1164+-0x150c,this['device']=_0x2d09db,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x1c2e08,_0x5015cc,_0x5aa899){var _0x25fa07;const _0x223416=!!((_0x25fa07=_0x5aa899==null?void(-0x18a6+-0x1*0xfdd+0x3*0xd81):_0x5aa899['file'])!=null&&_0x25fa07['contents']);if(_0x223416){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x5aa899['file']['contents']]),_0x5015cc);return;}_0x1c2e08={'load':URL['createObje'+'ctURL'](new Blob([_0x5aa899['file']['contents']])),'original':_0x1c2e08['original']};}const _0x2c577b=(_0x5a8d65,_0x12cc8f)=>{_0x223416&&URL['revokeObje'+'ctURL'](_0x1c2e08['load']),_0x5015cc(_0x5a8d65,_0x12cc8f);};let _0xbb8fee;_0x5aa899&&_0x5aa899['options']&&_0x5aa899['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0xbb8fee=_0x5aa899['options']['crossOrigi'+'n']:jn['test'](_0x1c2e08['load'])&&(_0xbb8fee=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x1c2e08['load'],_0x1c2e08['original'],_0xbb8fee,_0x2c577b,_0x5aa899):this['_loadImage'](_0x1c2e08['load'],_0x1c2e08['original'],_0xbb8fee,_0x2c577b);}['open'](_0x3e8797,_0x3482a3,_0x4206a4,_0x561bb9={}){const _0x1e09d6=new _e(_0x4206a4,{'name':_0x3e8797,'profilerHint':Pr,'width':_0x3482a3['width'],'height':_0x3482a3['height'],'format':_0x561bb9['srgb']?_s:Ne,..._0x561bb9});return _0x1e09d6['setSource'](_0x3482a3),_0x1e09d6;}['_loadImage'](_0x2119bc,_0x4cbda8,_0x4b53a6,_0x748e76){const _0x27768c=new Image();_0x4b53a6&&(_0x27768c['crossOrigi'+'n']=_0x4b53a6);let _0x5cbac9=-0x1*0x1acf+-0xfa*0x7+0x21a5;const _0xdf80bb=this['maxRetries'];let _0x3bf82e;_0x27768c['onload']=function(){_0x748e76(null,_0x27768c);},_0x27768c['onerror']=function(){if(!_0x3bf82e){if(_0xdf80bb>0x64+0x1565*-0x1+0x1501&&++_0x5cbac9<=_0xdf80bb){const _0x1d81d0=Math['pow'](-0x6ad+0x10b2+-0xa03,_0x5cbac9)*(0x3*0x34d+0xd9f*-0x1+0x41c);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4cbda8+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x1d81d0+'ms...');const _0x9398cb=_0x2119bc['indexOf']('?')>=-0xe*0x20f+0x1*-0xd3f+0x2a11?'&':'?';_0x3bf82e=setTimeout(()=>{_0x27768c['src']=_0x2119bc+_0x9398cb+'retry='+Date['now'](),_0x3bf82e=null;},_0x1d81d0);}else _0x748e76('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4cbda8+'\x27');}},_0x27768c['src']=_0x2119bc;}['_loadImage'+'Bitmap'](_0x386a17,_0xd80ec0,_0x26d5c7,_0x2825d8,_0x131b0c){const _0x5c41ca={'cache':!(-0x257e+0x12f7+0x1287*0x1),'responseType':'blob','retry':this['maxRetries']>-0x15*-0x1+-0x13e*-0x3+-0x3cf,'maxRetries':this['maxRetries'],'progress':_0x131b0c};ot['get'](_0x386a17,_0x5c41ca,(_0x22d4f0,_0x5f3db4)=>{_0x22d4f0?_0x2825d8(_0x22d4f0):this['_loadImage'+'BitmapFrom'+'Blob'](_0x5f3db4,_0x2825d8);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x5776e1,_0x54ce56){createImageBitmap(_0x5776e1,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1f9cdb=>_0x54ce56(null,_0x1f9cdb))['catch'](_0x11d87d=>_0x54ce56(_0x11d87d));}}const If=[-0x83*0x13f2186+0x4d8947c+-0x1*-0xf6c9dec1,-0xa8e2ed1e+0x5db4deb*0xb+0x593f*0x3449b,-0x3307fb4+0x1*0xe10fe31+-0x32e8*0x3e6],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x2d0e14,_0x5e2e5d,_0x384d3f,_0xf48eae){return _0x2d0e14===In?new Uint32Array(_0x5e2e5d,_0x384d3f,_0xf48eae/(-0xab*-0x10+0x621+-0x11*0xfd)):new Uint8Array(_0x5e2e5d,_0x384d3f,_0xf48eae);}class eU extends eo{constructor(_0x5d85ef){super(),this['maxRetries']=-0x1cbd+0xd4+-0x1be9*-0x1;}['load'](_0x672a02,_0x3bb4ef,_0x2cce27){pe['fetchArray'+'Buffer'](_0x672a02['load'],_0x3bb4ef,_0x2cce27,this['maxRetries']);}['open'](_0x59ad80,_0x4b8d2d,_0x5f3d4b,_0x105453={}){const _0x146780=this['parse'](_0x4b8d2d);if(!_0x146780)return null;const _0x9ce75c=_0x105453['srgb']?ld(_0x146780['format']):_0x146780['format'],_0x5a2e06=new _e(_0x5f3d4b,{'name':_0x59ad80,'profilerHint':Pr,'addressU':_0x146780['cubemap']?ue:yt,'addressV':_0x146780['cubemap']?ue:yt,'width':_0x146780['width'],'height':_0x146780['height'],'format':_0x9ce75c,'cubemap':_0x146780['cubemap'],'levels':_0x146780['levels'],..._0x105453});return _0x5a2e06['upload'](),_0x5a2e06;}['parse'](_0x394d5e){const _0x316271=new Uint32Array(_0x394d5e);if(If[0xb*-0x21a+0xf3f+-0x41*-0x1f]!==_0x316271[-0x274*-0xd+0x26a5+-0x4689]||If[0x823+-0x1*0x207a+0x1858]!==_0x316271[-0x1*0x2537+-0x84b*-0x1+0x1ced*0x1]||If[-0x3*-0x99d+-0x224f+0x2*0x2bd]!==_0x316271[-0x537+0x23c7*-0x1+-0x148*-0x20])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3c159a={'endianness':_0x316271[-0xaff+0x1b1f+-0x101d],'glType':_0x316271[0x1*-0x251e+0x10d*-0x2+0x117*0x24],'glTypeSize':_0x316271[-0x150+-0xa0f*-0x2+-0x12c9],'glFormat':_0x316271[-0x14ea+0x73e*0x2+0x674],'glInternalFormat':_0x316271[0x167*0xb+-0x1c4c+-0xce6*-0x1],'glBaseInternalFormat':_0x316271[0x445*0x2+0xbe6+-0x51a*0x4],'pixelWidth':_0x316271[0x41*0x27+0x33b*0xc+-0x30a2],'pixelHeight':_0x316271[0x21+-0xd*-0x7f+-0x68a],'pixelDepth':_0x316271[-0x863+-0x1*0x383+0xbf1],'numberOfArrayElements':_0x316271[0x25*-0x1d+-0xf1*0x1+-0x22*-0x27],'numberOfFaces':_0x316271[-0x7*-0x3c1+0xb2b*-0x2+-0x1*0x3e4],'numberOfMipmapLevels':_0x316271[-0x1fc1+0x16b4*-0x1+-0x1*-0x3683],'bytesOfKeyValueData':_0x316271[-0x1fee+0x985*0x1+-0x4*-0x59e]};if(_0x3c159a['pixelDepth']>0x189f*0x1+-0x4a4+-0x13fa)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3c159a['numberOfAr'+'rayElement'+'s']!==0x116*-0x1e+0x97c+-0x4*-0x5c6)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x2b28c3=Qk[_0x3c159a['glInternal'+'Format']];if(_0x2b28c3===void(0xd1e+0x38d+0x11*-0xfb))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3c159a['glInternal'+'Format']),null;let _0x125e85=-0x23cd+0x26ac+-0x1*0x2cf+_0x3c159a['bytesOfKey'+'ValueData']/(0x11*0x22c+0xcea+-0x31d2);const _0x1fdcb3=_0x3c159a['numberOfFa'+'ces']>-0x71f+0x845+0x1*-0x125,_0x570897=[];for(let _0x2508b0=-0x2549+-0x2*0xaf9+0x3b3b;_0x2508b0<(_0x3c159a['numberOfMi'+'pmapLevels']||0x2*-0x56c+0x1b*-0xb7+0x1e26);_0x2508b0++){const _0x39297d=_0x316271[_0x125e85++];_0x1fdcb3&&_0x570897['push']([]);const _0x500c90=_0x1fdcb3?_0x570897[_0x2508b0]:_0x570897;for(let _0x320fb1=0x1c34+-0x1*-0xb2d+-0x1*0x2761;_0x320fb1<(_0x1fdcb3?0xb1*-0x1b+0xfa3+0x30e:0xb*0x1b1+0x200d*-0x1+0xd73);++_0x320fb1)_0x500c90['push'](Jk(_0x2b28c3,_0x394d5e,_0x125e85*(0x1*-0x59d+-0x1*0x7be+0x1e9*0x7),_0x39297d)),_0x125e85+=_0x39297d+(0x2*0x3e5+0xe*0xc7+-0x12a9)>>0x1e6e+-0x1*-0x809+-0x2675;}return{'format':_0x2b28c3,'width':_0x3c159a['pixelWidth'],'height':_0x3c159a['pixelHeigh'+'t'],'levels':_0x570897,'cubemap':_0x1fdcb3};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x42a380,_0x2959f8){super(),this['maxRetries']=0x1*-0x7a3+0x20a0+0x1*-0x18fd,this['device']=_0x2959f8;}['load'](_0x4d8c26,_0x461257,_0x273473){pe['fetchArray'+'Buffer'](_0x4d8c26['load'],(_0x5d64f7,_0x555204)=>{_0x5d64f7?_0x461257(_0x5d64f7,_0x555204):this['parse'](_0x555204,_0x4d8c26,_0x461257,_0x273473);},_0x273473,this['maxRetries']);}['open'](_0x95b722,_0x5c3c92,_0x333512,_0x2932f9={}){const _0x4204c3=_0x2932f9['srgb']?ld(_0x5c3c92['format']):_0x5c3c92['format'],_0x225351=new _e(_0x333512,{'name':_0x95b722,'profilerHint':Pr,'addressU':_0x5c3c92['cubemap']?ue:yt,'addressV':_0x5c3c92['cubemap']?ue:yt,'width':_0x5c3c92['width'],'height':_0x5c3c92['height'],'format':_0x4204c3,'cubemap':_0x5c3c92['cubemap'],'levels':_0x5c3c92['levels'],..._0x2932f9});return _0x225351['upload'](),_0x225351;}['parse'](_0x356faf,_0xb19498,_0x20de48,_0x11a5fc){var _0x16f2c8,_0x33e3a1,_0x44a750;const _0x556201=new KS(_0x356faf),_0x47f45e=[_0x556201['readU32be'](),_0x556201['readU32be'](),_0x556201['readU32be']()];if(_0x47f45e[-0xd*0xdb+-0x1*0xd2b+0x184a*0x1]!==-0x2176914c+-0x1547f0498+0x1*0x22140ea3c||_0x47f45e[0x1aa2*0x1+0x2621*0x1+-0x40c2]!==0x9d84f*0x3e1+0xc437*-0x132f+0x1*0x8b64165||_0x47f45e[0xca0*-0x1+-0x32d*-0x2+0x218*0x3]!==0x11b9*0x10dc7+-0xa3ea43*-0x1+-0x646fc08)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x2df401={'vkFormat':_0x556201['readU32'](),'typeSize':_0x556201['readU32'](),'pixelWidth':_0x556201['readU32'](),'pixelHeight':_0x556201['readU32'](),'pixelDepth':_0x556201['readU32'](),'layerCount':_0x556201['readU32'](),'faceCount':_0x556201['readU32'](),'levelCount':_0x556201['readU32'](),'supercompressionScheme':_0x556201['readU32']()},_0x4b24a1={'dfdByteOffset':_0x556201['readU32'](),'dfdByteLength':_0x556201['readU32'](),'kvdByteOffset':_0x556201['readU32'](),'kvdByteLength':_0x556201['readU32'](),'sgdByteOffset':_0x556201['readU64'](),'sgdByteLength':_0x556201['readU64']()},_0x92b5c=[];for(let _0x11b0b8=0x1069+-0x1*-0x1df1+-0x2e5a;_0x11b0b8<Math['max'](-0x3d5*-0x4+-0x1*-0x218b+-0x1a1*0x1e,_0x2df401['levelCount']);++_0x11b0b8)_0x92b5c['push']({'byteOffset':_0x556201['readU64'](),'byteLength':_0x556201['readU64'](),'uncompressedByteLength':_0x556201['readU64']()});if(_0x556201['readU32']()!==_0x4b24a1['kvdByteOff'+'set']-_0x4b24a1['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x556201['skip'](0xeaa+-0x1d57+-0x2f1*-0x5);const _0x45ca32=_0x556201['readU8']();_0x556201['skip'](_0x4b24a1['dfdByteLen'+'gth']-(0xebb*-0x2+-0xb*0x2a6+0x138b*0x3)),_0x556201['skip'](_0x4b24a1['kvdByteLen'+'gth']),_0x2df401['supercompr'+'essionSche'+'me']===-0x834*-0x1+0x1*-0x15da+0x48d*0x3||_0x45ca32===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0xb19498['load'],_0x356faf,_0x20de48,{'isGGGR':(((_0x44a750=(_0x33e3a1=(_0x16f2c8=_0x11a5fc==null?void(0xf*0x147+-0x105d+-0xb3*0x4):_0x11a5fc['file'])==null?void(0x959+-0x248b+0x1b32):_0x16f2c8['variants'])==null?void(0x448*0x4+0x1d57+-0x2e77):_0x33e3a1['basis'])==null?void(0x1b5d+0x6a1*-0x3+-0x57*0x16):_0x44a750['opt'])&-0x1d3*0x1+0x1669+-0x148e*0x1)!==0x1e7*0x1+-0x2*-0xe7f+0x2cf*-0xb,'isKTX2':!(-0x346*0x4+0x1*0x192c+-0xc14)})||_0x20de48('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x11a5fc['name']+']('+_0x11a5fc['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x20de48('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x773660){super(),this['maxRetries']=0x2*-0x800+0x2*0x542+0x57c;}['load'](_0x3ea2a8,_0x81325c,_0x1a8386){pe['fetchArray'+'Buffer'](_0x3ea2a8['load'],_0x81325c,_0x1a8386,this['maxRetries']);}['open'](_0x205ae7,_0x248cf0,_0xafc6b2,_0x2de6ac={}){const _0xe0cdbe=new Uint32Array(_0x248cf0,0x18c*-0x16+0x3d*0x16+0x1cca,0x146a+0x2c*0x34+-0x1d3a),_0x394087=_0xe0cdbe[-0xd3*0xa+0x1*-0x167c+0x1ebe],_0x1cec7b=_0xe0cdbe[0x256a+0x21ce+-0x1*0x4735],_0x2e0681=Math['max'](_0xe0cdbe[0x102+-0x253a+0x9*0x407],-0x52*0x72+-0x3*0x2a7+0x2c7a),_0x13f1ca=_0xe0cdbe[-0x1fbc+-0xe75+0x2e45]===-0x3*-0x176+-0xa7c+0x61e,_0x1aaf1b=_0xe0cdbe[-0x1624+-0xce5+0x231e],_0x43c7e8=_0xe0cdbe[0x2220*0x1+-0x1603+0xc07*-0x1],_0x11333e=_0xe0cdbe[0x1f7*0x2+-0x24fb+0x2129*0x1]===-0x120bc+0xd43+0x21179,_0xc6b262=-0x2494beb6+-0x9d14d05*0x8+0x166*0x7598ab,_0x3610ee=0x2d653538+-0x146*0xd7f74+0x647dc31*0x4,_0xb0cf5=0x60*0x66+-0xf7e*-0x1+-0x1*0x354d,_0x1d6180=-0x1ef2+0x1b2+-0xeda*-0x2,_0x51883c=0xeeb*-0x737f+-0x54e85f59+0x1*0x8ce6ab33,_0x1f5318=-0x88edccc+0x3*-0x1a29e2bd+-0x573304b*-0x19,_0x3fc5b7=0x516076ac+0x1*-0x1fe5acfb+-0x1*0x469761,_0x4259ce=0xbeec3f5*-0x2+-0x152753*0x1f+-0x1ef1*-0x271b7,_0x218f99=0x3*0x1c66156f+0x264eb13*0x1f+-0x6e36834a;let _0x8e59af=!(-0x1f6*0x7+-0x237e+0x1*0x3139),_0x3e86f6=!(-0xc27*0x3+0xa43*0x3+-0x1*-0x5ad),_0x140cca=!(-0x2*0x242+-0x17dc+0x1c61),_0x339295=!(0x77b*-0x3+-0x1*-0x1601+0x1*0x71),_0x57288a=null,_0x3e2e42=0x1b02+0x1*-0x26b5+-0x7*-0x1ac,_0x355d00;if(_0x13f1ca?_0x1aaf1b===_0xc6b262?(_0x57288a=td,_0x8e59af=!(0x18c8+0x16c1+-0x2f89)):_0x1aaf1b===_0x3610ee?(_0x57288a=vl,_0x8e59af=!(0x9a4*0x3+-0x2*0xe68+-0x1c)):_0x1aaf1b===_0xb0cf5?(_0x57288a=nt,_0x3e2e42=-0xcf5*0x2+-0xa*-0x2e1+-0x2de):_0x1aaf1b===_0x1d6180?(_0x57288a=Xt,_0x3e2e42=0xd*0x108+0x9*-0xb3+0x17*-0x4f):_0x1aaf1b===_0x51883c?(_0x57288a=id,_0x8e59af=!(0x31c*0x2+-0xc6e+-0x2*-0x31b),_0x3e86f6=!(-0x6f*-0x3a+-0x12da+-0x64c)):_0x1aaf1b===_0x1f5318||_0x1aaf1b===_0x3fc5b7?(_0x57288a=_0x1aaf1b===_0x1f5318?xl:Tl,_0x8e59af=!(-0x1a3f+0x2*0x1c9+0x16ad),_0x140cca=!(0xc4d+0x109c+-0x1ce9)):(_0x1aaf1b===_0x4259ce||_0x1aaf1b===_0x218f99)&&(_0x57288a=_0x1aaf1b===_0x4259ce?rd:ad,_0x8e59af=!(-0x1470+-0x4aa*-0x7+-0x6*0x209),_0x339295=!(0x8f+-0x22e3+0x2254)):_0x43c7e8===-0x7*-0x39+0x86f+-0x1a5*0x6&&(_0x57288a=Ne),!_0x57288a)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x205ae7+'.'),_0x355d00=new _e(_0xafc6b2,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x355d00;_0x355d00=new _e(_0xafc6b2,{'name':_0x205ae7,'profilerHint':Pr,'addressU':_0x11333e?ue:yt,'addressV':_0x11333e?ue:yt,'width':_0x394087,'height':_0x1cec7b,'format':_0x57288a,'cubemap':_0x11333e,'mipmaps':_0x2e0681>-0x5*0x4c9+-0x1c75+0x3463,..._0x2de6ac});let _0x4ad50a=-0xc2*0x30+-0x26*-0x2e+0x1e0c;const _0x4c2291=_0x11333e?-0x2170+0x4f1*-0x5+0x3a2b:-0x1bc8+0x795*0x1+0x1434;let _0x283a86;const _0x33cd7c=0x13e5*0x1+-0x16*0x92+-0x755*0x1,_0x1ba73b=0x1372*0x1+0x16c6+0x151a*-0x2,_0x4c1164=_0x1aaf1b===_0xc6b262?0x2ca*0xb+-0x5*-0x493+0x3*-0x11d7:-0x441*-0x7+0x17df+-0x3596;let _0x22a04a,_0x119b0a,_0x23669a;for(let _0x5e5557=0x1ca6+-0x1*-0x2325+-0x1*0x3fcb;_0x5e5557<_0x4c2291;_0x5e5557++){let _0x13dc69=_0x394087,_0x2bd126=_0x1cec7b;for(let _0x209f89=0x1*0xe0d+-0x79*-0x3a+0x3c5*-0xb;_0x209f89<_0x2e0681;_0x209f89++){_0x8e59af?_0x3e86f6?_0x283a86=Math['floor']((_0x13dc69+(-0x1cdb+-0x1ac+-0x517*-0x6))/(0x3*0x159+0x3*-0x2dd+0x1*0x490))*Math['floor']((_0x2bd126+(0x21d8+-0x1*0x4c3+-0x1d12))/(-0x2341*0x1+-0xe*0x2+0x1*0x2361))*(0x1d*-0x151+0x1bbd+0x86*0x14):_0x140cca?_0x283a86=Math['max'](_0x13dc69,0x2*0x870+0x1bbf+-0x11*0x29f)*Math['max'](_0x2bd126,0x4b7+0x1e8d+-0x233c)/(-0x1*0x1475+-0xb6*0x25+0x2ec7):_0x339295?_0x283a86=Math['max'](_0x13dc69,-0xa36+-0x17d6+0x2214)*Math['max'](_0x2bd126,-0x1*-0x17b1+-0x1091*0x2+0x979)/(0x1*0x1cfa+-0x64d*-0x4+-0x362c):(_0x22a04a=Math['floor']((_0x13dc69+_0x33cd7c-(0x1789+0x21e5+-0x396d))/_0x33cd7c),_0x119b0a=Math['floor']((_0x2bd126+_0x1ba73b-(-0x3b*-0x3b+0x2*-0x8d+-0xc7e))/_0x1ba73b),_0x23669a=_0x22a04a*_0x119b0a,_0x283a86=_0x23669a*_0x4c1164):_0x283a86=_0x13dc69*_0x2bd126*(0x35*-0x53+-0xece+-0xaab*-0x3);const _0x4e26ad=_0x57288a===Xt?new Float32Array(_0x248cf0,_0x4ad50a,_0x283a86):_0x57288a===nt?new Uint16Array(_0x248cf0,_0x4ad50a,_0x283a86):new Uint8Array(_0x248cf0,_0x4ad50a,_0x283a86);_0x11333e?(_0x355d00['_levels'][_0x209f89]||(_0x355d00['_levels'][_0x209f89]=[]),_0x355d00['_levels'][_0x209f89][_0x5e5557]=_0x4e26ad):_0x355d00['_levels'][_0x209f89]=_0x4e26ad,_0x4ad50a+=_0x283a86*_0x3e2e42,_0x13dc69=Math['max'](_0x13dc69*(0x14*-0x106+-0x1*0x20ac+0x3524+0.5),-0x101a+-0x12a5+-0x10*-0x22c),_0x2bd126=Math['max'](_0x2bd126*(-0x1ff2+-0x3f+0x2031+0.5),0x2a7+-0x5c*0x3b+0x5f*0x32);}}return _0x355d00['upload'](),_0x355d00;}}class rU extends eo{constructor(_0xb17f4e){super(),this['maxRetries']=-0x1*-0x56+-0x5*0x6c5+0x2183;}['load'](_0x38563e,_0x3c7a3e,_0x2e3b1e){pe['fetchArray'+'Buffer'](_0x38563e['load'],_0x3c7a3e,_0x2e3b1e,this['maxRetries']),_0x2e3b1e['data']&&!_0x2e3b1e['data']['type']&&(_0x2e3b1e['data']['type']=mh);}['open'](_0x2c118d,_0x34edc5,_0x13cd0a,_0x1fbc46={}){const _0x1f2710=this['parse'](_0x34edc5);if(!_0x1f2710)return null;const _0x29a50c=new _e(_0x13cd0a,{'name':_0x2c118d,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x1f2710['width'],'height':_0x1f2710['height'],'levels':_0x1f2710['levels'],'format':Ne,'type':mh,'mipmaps':!(0x786+-0x8ee+0x1*0x169),..._0x1fbc46});return _0x29a50c['upload'](),_0x29a50c;}['parse'](_0x40aa88){const _0x6f5134=new KS(_0x40aa88);if(!_0x6f5134['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x3b7d00={};for(;;){const _0x26be55=_0x6f5134['readLine']();if(_0x26be55['length']===0x1366*0x2+-0x2375+-0x357)break;{const _0x4915e2=_0x26be55['split']('=');_0x4915e2['length']===-0x51*0x59+0xbf*-0x34+0x42f7&&(_0x3b7d00[_0x4915e2[0x7a*0x20+0x1*0x19ef+-0x292f]]=_0x4915e2[0x18d*0x17+-0x1*-0x1f9d+-0x166d*0x3]);}}if(!_0x3b7d00['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x407438=_0x6f5134['readLine']()['split']('\x20');if(_0x407438['length']!==-0xc*-0x1cc+0x23c7+-0x3953)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x595087=parseInt(_0x407438[0x1015+0x199b+-0x29af],0x37*0x3b+0x5*0x517+0x1e*-0x145),_0x4385c7=parseInt(_0x407438[-0x42*0x7a+0x13d*0x1+0xf1d*0x2],0x1c5+0x2d2+-0x48d),_0x42dc54=this['_readPixel'+'s'](_0x6f5134,_0x4385c7,_0x595087,_0x407438[-0xc3d+-0xc7e+-0x1e7*-0xd]==='-Y');return _0x42dc54?{'width':_0x4385c7,'height':_0x595087,'levels':[_0x42dc54]}:null;}['_readPixel'+'s'](_0x57a298,_0x126dce,_0x23d3cd,_0x3bafb0){if(_0x126dce<-0x203b*-0x1+-0x1962+-0x6d1||_0x126dce>0x341c*0x1+-0x2dd9+0x79bc*0x1)return this['_readPixel'+'sFlat'](_0x57a298,_0x126dce,_0x23d3cd);const _0x49cf75=[0x9b0+0xd47+0x16f7*-0x1,-0x4*0x9a3+0x26ed*0x1+-0x61,-0x49*-0x3a+-0x9*0x20a+0x1d0,0x1*-0x147e+0x1802+-0x96*0x6];if(_0x57a298['readArray'](_0x49cf75),_0x49cf75[0x960+-0xa51+0xf1]!==-0x389*0x7+0x199*0x4+0x125d||_0x49cf75[0x5de+0x1e62+-0x9*0x407]!==-0x6*0x93+0xa*-0xd9+0x5f7*0x2||(_0x49cf75[-0x1e8f*0x1+-0x63b*0x5+0x3db8]&0x707+0xa5*0x34+-0x280b)!==0x2*-0x407+0xa*0x26a+-0x1016)return _0x57a298['skip'](-(0x2*0xf33+0x8bd*-0x1+-0x15a5)),this['_readPixel'+'sFlat'](_0x57a298,_0x126dce,_0x23d3cd);const _0x5c211d=new ArrayBuffer(_0x126dce*_0x23d3cd*(0x2*0x3d5+0x25b6+0x2*-0x16ae)),_0x1b2c21=new Uint8Array(_0x5c211d);let _0x38c23d=_0x3bafb0?0x3f3+0x98*-0x3c+0x1fad:_0x126dce*(-0xab6+0xc*0x225+-0x71*0x22)*(_0x23d3cd-(0x2650+0x1e32+-0xf7*0x47)),_0x516a59,_0xb5366b,_0x570867,_0x5bc15b,_0x115d9e,_0x4ad5d6;for(_0xb5366b=0x1ca6+-0xe2a+0x67*-0x24;_0xb5366b<_0x23d3cd;++_0xb5366b){if(_0xb5366b&&_0x57a298['readArray'](_0x49cf75),(_0x49cf75[-0x19b9+-0x5*0x55d+-0xc*-0x461]<<0x24aa+0x1262+0x3704*-0x1)+_0x49cf75[0xcd*0x29+0x1382+0xc5*-0x44]!==_0x126dce)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5bc15b=0x1c67*0x1+-0x17*-0xb0+-0x2c37;_0x5bc15b<0x1e88*0x1+-0xd*-0xbd+0x1e9*-0x15;++_0x5bc15b)for(_0x516a59=0x1236+-0xf96+-0x2a0;_0x516a59<_0x126dce;)if(_0x115d9e=_0x57a298['readU8'](),_0x115d9e>0x206*-0x13+-0x16bc+-0x5*-0xc56){if(_0x115d9e-=-0x1059+0x14d*-0x4+0x5*0x469,_0x516a59+_0x115d9e>_0x126dce)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4ad5d6=_0x57a298['readU8'](),_0x570867=-0x1cea+-0x9e9+-0x26d3*-0x1;_0x570867<_0x115d9e;++_0x570867)_0x1b2c21[_0x38c23d+_0x5bc15b+(0x1b11+-0x311*0x2+0x3*-0x6f9)*_0x516a59++]=_0x4ad5d6;}else{if(_0x115d9e===-0x5*-0x310+0x1a95+-0x29e5||_0x516a59+_0x115d9e>_0x126dce)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x570867=0x545*-0x1+0x113e+0xbf9*-0x1;_0x570867<_0x115d9e;++_0x570867)_0x1b2c21[_0x38c23d+_0x5bc15b+(-0x1*-0x2df+-0xd47+0x4*0x29b)*_0x516a59++]=_0x57a298['readU8']();}_0x38c23d+=_0x126dce*(0x31*0x97+0x1*-0x1cc1+-0x22)*(_0x3bafb0?0x5*-0x613+-0xb4f+0x29af*0x1:-(-0x151d+0x238b*0x1+-0xe6d));}return _0x1b2c21;}['_readPixel'+'sFlat'](_0x11757f,_0xe0ecad,_0x3199e7){return _0x11757f['remainingB'+'ytes']===_0xe0ecad*_0x3199e7*(-0x1c35*-0x1+0x67*0x22+-0x29df)?new Uint8Array(_0x11757f['arraybuffe'+'r'],_0x11757f['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x37ac72){const _0x5ad0ea=Xi['calcMipLev'+'elsCount'](_0x37ac72['_width'],_0x37ac72['_height']),_0x13f585=function(_0x2905f4){return _0x2905f4 instanceof HTMLCanvasElement||_0x2905f4 instanceof HTMLImageElement||_0x2905f4 instanceof HTMLVideoElement;};if(!(_0x37ac72['_format']===Ne||_0x37ac72['_format']===Xt)||_0x37ac72['_volume']||_0x37ac72['_compresse'+'d']||_0x37ac72['_levels']['length']===0x1*-0x2299+0x213a*0x1+0x160||_0x37ac72['_levels']['length']===_0x5ad0ea||_0x13f585(_0x37ac72['_cubemap']?_0x37ac72['_levels'][0x1f07+0x973+-0x287a][-0x9c7*-0x1+-0xea0+0x4d9]:_0x37ac72['_levels'][-0x2*0x989+-0x144e+-0x38*-0xb4]))return;const _0x2547a2=function(_0xec2ae3,_0x3d749a,_0x11fc3d){const _0x562851=Math['max'](-0x3e5*-0x3+0x412*0x7+-0x282c,_0xec2ae3>>-0x392*-0x7+0x1101+0xd7*-0x32),_0x54c20c=Math['max'](-0x28e+-0x7d*0x9+0xb2*0xa,_0x3d749a>>-0x1dcd+-0x280+0x676*0x5),_0x199183=new _0x11fc3d['constructo'+'r'](_0x562851*_0x54c20c*(0x25c+0x2d9+0x1*-0x531)),_0x4a51b7=Math['floor'](_0xec2ae3/_0x562851),_0x5c1a7c=Math['floor'](_0x3d749a/_0x54c20c),_0x5dad0a=_0x4a51b7*_0x5c1a7c;for(let _0x79a7b3=0x577+-0x590*0x6+0x1be9;_0x79a7b3<_0x54c20c;++_0x79a7b3)for(let _0x5c4c06=0x2*0x12b+0x20*-0x131+0x23ca;_0x5c4c06<_0x562851;++_0x5c4c06)for(let _0x562e64=-0xab*-0x1e+0x6b6+0x8*-0x358;_0x562e64<0x1d9c+0x1d*-0xa3+0x197*-0x7;++_0x562e64){let _0x5492c3=0x37a*-0x2+-0x7*-0x4a3+-0x1981;for(let _0x3c2bab=0x2eb*0x9+-0x440+-0x1603;_0x3c2bab<_0x5c1a7c;++_0x3c2bab)for(let _0x18ac7b=-0x1ae6+0x134f*0x1+0x797;_0x18ac7b<_0x4a51b7;++_0x18ac7b)_0x5492c3+=_0x11fc3d[(_0x5c4c06*_0x4a51b7+_0x18ac7b+(_0x79a7b3*_0x5c1a7c+_0x3c2bab)*_0xec2ae3)*(0x1*-0x1a1f+0x2185*0x1+0xbd*-0xa)+_0x562e64];_0x199183[(_0x5c4c06+_0x79a7b3*_0x562851)*(-0x1f2d+-0x415*-0x1+0x6c7*0x4)+_0x562e64]=_0x5492c3/_0x5dad0a;}return _0x199183;};for(let _0x10dae7=_0x37ac72['_levels']['length'];_0x10dae7<_0x5ad0ea;++_0x10dae7){const _0x10fcef=Math['max'](-0x12b8+-0x15e7+0x28a0,_0x37ac72['_width']>>_0x10dae7-(0x14ea+0x10e1*-0x1+0x18*-0x2b)),_0x40208b=Math['max'](-0x21f9*-0x1+0x1d7c+-0x3f74,_0x37ac72['_height']>>_0x10dae7-(0x6ff+-0x6e7+-0x17));if(_0x37ac72['_cubemap']){const _0x18e7e1=[];for(let _0x574479=-0x33b*0x1+0x6d*0x47+-0x1b00;_0x574479<0x112f+-0x1*-0x3af+-0x14d8;++_0x574479)_0x18e7e1['push'](_0x2547a2(_0x10fcef,_0x40208b,_0x37ac72['_levels'][_0x10dae7-(0x1*-0x2b+0x457*0x2+0x2*-0x441)][_0x574479]));_0x37ac72['_levels']['push'](_0x18e7e1);}else _0x37ac72['_levels']['push'](_0x2547a2(_0x10fcef,_0x40208b,_0x37ac72['_levels'][_0x10dae7-(-0x2ec+0xa1f+-0x3*0x266)]));}_0x37ac72['_levelsUpd'+'ated']=_0x37ac72['_cubemap']?[[!(0x296+-0x29*-0x1+-0x25*0x13),!(-0x4a*0x72+-0x7e0+0x28d4),!(0x1*-0xce3+0x35*0x31+-0x75*-0x6),!(0xdbf+-0x1ba9+0x1*0xdea),!(0xe97*0x1+-0x9a7+-0x4f0),!(-0x1*0x1ce1+0x191b+0x3c6)]]:[!(-0x43b+-0x23f0+0x282b)];};class oU extends Qe{constructor(_0x21bf3a){super(_0x21bf3a,'texture');const _0x135297=_0x21bf3a['assets'],_0xffe9c=_0x21bf3a['graphicsDe'+'vice'];this['_device']=_0xffe9c,this['_assets']=_0x135297,this['imgParser']=new Zk(_0x135297,_0xffe9c),this['parsers']={'dds':new iU(_0x135297),'ktx':new eU(_0x135297),'ktx2':new sU(_0x135297,_0xffe9c),'basis':new qk(_0x135297,_0xffe9c),'hdr':new rU(_0x135297)};}set['crossOrigi'+'n'](_0x13385d){this['imgParser']['crossOrigi'+'n']=_0x13385d;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x199335){this['imgParser']['maxRetries']=_0x199335;for(const _0x269e2e in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x269e2e)&&(this['parsers'][_0x269e2e]['maxRetries']=_0x199335);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x52de7e){return _0x52de7e['indexOf']('?')>=-0x26cb+-0x179b*-0x1+-0x24*-0x6c?_0x52de7e['split']('?')[0xd13+0x1*-0xeaa+-0x25*-0xb]:_0x52de7e;}['_getParser'](_0x2619b0){const _0x120f4d=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2619b0))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x120f4d]||this['imgParser'];}['_getTextur'+'eOptions'](_0x105a55){var _0x509b94;const _0x5a1705={'profilerHint':Pr};if(_0x105a55){((_0x509b94=_0x105a55['name'])==null?void(-0x9da+0x395*-0x6+0x22*0xec):_0x509b94['length'])>0x6b2*0x3+-0xa64+-0x1*0x9b2&&(_0x5a1705['name']=_0x105a55['name']);const _0x14e143=_0x105a55['data'];_0x14e143['hasOwnProp'+'erty']('minfilter')&&(_0x5a1705['minFilter']=wS[_0x14e143['minfilter']]),_0x14e143['hasOwnProp'+'erty']('magfilter')&&(_0x5a1705['magFilter']=wS[_0x14e143['magfilter']]),_0x14e143['hasOwnProp'+'erty']('addressu')&&(_0x5a1705['addressU']=TS[_0x14e143['addressu']]),_0x14e143['hasOwnProp'+'erty']('addressv')&&(_0x5a1705['addressV']=TS[_0x14e143['addressv']]),_0x14e143['hasOwnProp'+'erty']('mipmaps')&&(_0x5a1705['mipmaps']=_0x14e143['mipmaps']),_0x14e143['hasOwnProp'+'erty']('anisotropy')&&(_0x5a1705['anisotropy']=_0x14e143['anisotropy']),_0x14e143['hasOwnProp'+'erty']('flipY')&&(_0x5a1705['flipY']=!!_0x14e143['flipY']),_0x14e143['hasOwnProp'+'erty']('srgb')&&(_0x5a1705['srgb']=!!_0x14e143['srgb']),_0x5a1705['type']=Ds,_0x14e143['hasOwnProp'+'erty']('type')?_0x5a1705['type']=aU[_0x14e143['type']]:_0x14e143['hasOwnProp'+'erty']('rgbm')&&_0x14e143['rgbm']?_0x5a1705['type']=Zi:_0x105a55['file']&&(_0x105a55['file']['opt']&0x1ad3+-0x7*-0x48e+0x138f*-0x3)!==0x1f9a+0x312+-0x2*0x1156&&(_0x5a1705['type']=Jo);}return _0x5a1705;}['load'](_0x577a88,_0x2176df,_0x35752f){typeof _0x577a88=='string'&&(_0x577a88={'load':_0x577a88,'original':_0x577a88}),this['_getParser'](_0x577a88['original'])['load'](_0x577a88,_0x2176df,_0x35752f);}['open'](_0x241bc6,_0x29e557,_0x103154){if(!_0x241bc6)return;const _0x2f7b0b=this['_getTextur'+'eOptions'](_0x103154);let _0x25fded=this['_getParser'](_0x241bc6)['open'](_0x241bc6,_0x29e557,this['_device'],_0x2f7b0b);return _0x25fded===null?_0x25fded=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x25fded),_0x29e557['unswizzled'+'GGGR']&&(_0x103154['file']['variants']['basis']['opt']&=-(0x23bc+0xfc3+-0x3376))),_0x25fded;}['patch'](_0x397e83,_0x2356d8){const _0x30c62b=_0x397e83['resource'];if(!_0x30c62b)return;const _0x2fc04e=this['_getTextur'+'eOptions'](_0x397e83);for(const _0x1e8bfe of Object['keys'](_0x2fc04e))_0x30c62b[_0x1e8bfe]=_0x2fc04e[_0x1e8bfe];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x1856b9){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x1856b9;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x41c38d){!this['_supported']||this['_manager']['active']||(this['_root']=_0x41c38d);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x15b14a,_0xf54add,_0x1fc942,_0x414cda=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x15b14a,this['_xrHitTest'+'Source']=_0xf54add,this['_transient']=_0x1fc942,this['_inputSour'+'ce']=_0x414cda);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x41c49e=this['manager']['hitTest']['sources'],_0x3b5165=_0x41c49e['indexOf'](this);_0x3b5165!==-(0xa6+0x33*-0x44+0xce7)&&_0x41c49e['splice'](_0x3b5165,0x6fa*-0x1+-0xc4e+-0x1349*-0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x50a30e){if(this['_transient']){const _0x4b7254=_0x50a30e['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0xbd0f2b=0x17c7+-0x9*0x39f+0x8d0;_0xbd0f2b<_0x4b7254['length'];_0xbd0f2b++){const _0x46a6c5=_0x4b7254[_0xbd0f2b];if(!_0x46a6c5['results']['length'])continue;let _0x638ec9;_0x46a6c5['inputSourc'+'e']&&(_0x638ec9=this['manager']['input']['_getByInpu'+'tSource'](_0x46a6c5['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x46a6c5['results'],_0x638ec9);}}else{const _0x58c50d=_0x50a30e['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x58c50d['length'])return;this['updateHitR'+'esults'](_0x58c50d);}}['updateHitR'+'esults'](_0x45eb0c,_0x276b9c){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x276b9c)return;const _0x4f5820=Rc['pop']()??new D();_0x276b9c?_0x4f5820['copy'](_0x276b9c['getOrigin']()):_0x4f5820['copy'](this['manager']['camera']['getPositio'+'n']());let _0x98e32e=(0x9de+-0x2550*0x1+0x1b73)/(-0x21f0+0x19a7+0x849),_0x2ed445=null;const _0x5b5616=Rc['pop']()??new D(),_0x33d350=bS['pop']()??new le();for(let _0x59079f=0xe01+0x3*0xc82+-0x3387;_0x59079f<_0x45eb0c['length'];_0x59079f++){const _0x54d7e9=_0x45eb0c[_0x59079f]['getPose'](this['manager']['_reference'+'Space']),_0x1e7baa=_0x4f5820['distance'](_0x54d7e9['transform']['position']);_0x1e7baa>=_0x98e32e||(_0x98e32e=_0x1e7baa,_0x2ed445=_0x45eb0c[_0x59079f],_0x5b5616['copy'](_0x54d7e9['transform']['position']),_0x33d350['copy'](_0x54d7e9['transform']['orientatio'+'n']));}this['fire']('result',_0x5b5616,_0x33d350,_0x276b9c||this['_inputSour'+'ce'],_0x2ed445),this['manager']['hitTest']['fire']('result',this,_0x5b5616,_0x33d350,_0x276b9c||this['_inputSour'+'ce'],_0x2ed445),Rc['push'](_0x4f5820),Rc['push'](_0x5b5616),bS['push'](_0x33d350);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x373df3){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x20d4+-0x25ae+-0x21*-0x223)),h(this,'_checkingA'+'vailabilit'+'y',!(0x1942+0x1*-0x1c4f+0x30e)),h(this,'sources',[]),(this['manager']=_0x373df3,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x208e96=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x12*0x1a6+-0x1a1b+0x2*-0x1c8);if(!_0x208e96)return;this['_available']=_0x208e96,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x692*0x1+-0x1e75+0x2507),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x2947ed=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2947ed})['then'](_0x461935=>{_0x461935['cancel'](),this['manager']['active']&&(this['_available']=!(-0x90b+-0xc13*-0x3+-0x1b2e),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x11b*0x1+0x55*-0xb+-0x28d*-0x1);for(let _0x135bec=0x1319*0x2+-0x3*0x71+-0x24df;_0x135bec<this['sources']['length'];_0x135bec++)this['sources'][_0x135bec]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x5e3809={}){var _0x3b9180,_0x3d48e4;if(!this['_supported']){(_0x3b9180=_0x5e3809['callback'])==null||_0x3b9180['call'](_0x5e3809,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x3d48e4=_0x5e3809['callback'])==null||_0x3d48e4['call'](_0x5e3809,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x5e3809['profile']&&!_0x5e3809['spaceType']&&(_0x5e3809['spaceType']=ES);let _0x2b0a98;const _0x1a8a37=_0x5e3809['offsetRay'];if(_0x1a8a37){const _0x319d2f=new DOMPoint(_0x1a8a37['origin']['x'],_0x1a8a37['origin']['y'],_0x1a8a37['origin']['z'],-0x1d8c+-0x9f9+0x2786),_0x306c68=new DOMPoint(_0x1a8a37['direction']['x'],_0x1a8a37['direction']['y'],_0x1a8a37['direction']['z'],-0xb64*-0x2+-0x8*0xe1+-0x1f8*0x8);_0x2b0a98=new XRRay(_0x319d2f,_0x306c68);}const _0x15b83a=_0x5e3809['callback'];_0x5e3809['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x5e3809['spaceType'])['then'](_0x3600fb=>{if(!this['manager']['session']){const _0x2c4887=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x15b83a&&_0x15b83a(_0x2c4887),this['fire']('error',_0x2c4887);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x3600fb,'entityTypes':_0x5e3809['entityType'+'s']||void(0x72e*-0x2+-0x23*-0x2a+0x44f*0x2),'offsetRay':_0x2b0a98})['then'](_0x4ce655=>{this['_onHitTest'+'Source'](_0x4ce655,!(-0x1f4*0x8+-0xa3f*-0x1+0x562),_0x5e3809['inputSourc'+'e'],_0x15b83a);})['catch'](_0x58ecb3=>{_0x15b83a&&_0x15b83a(_0x58ecb3),this['fire']('error',_0x58ecb3);});})['catch'](_0x15b152=>{_0x15b83a&&_0x15b83a(_0x15b152),this['fire']('error',_0x15b152);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x5e3809['profile'],'entityTypes':_0x5e3809['entityType'+'s']||void(0x1*0x11+0xf49+-0xf5a),'offsetRay':_0x2b0a98})['then'](_0x5a17bc=>{this['_onHitTest'+'Source'](_0x5a17bc,!(-0x51b*-0x4+0x2*0x35b+-0x1b22),_0x5e3809['inputSourc'+'e'],_0x15b83a);})['catch'](_0x236ed4=>{_0x15b83a&&_0x15b83a(_0x236ed4),this['fire']('error',_0x236ed4);});}['_onHitTest'+'Source'](_0x280f2d,_0x150bed,_0x5e1292,_0x21a956){if(!this['manager']['session']){_0x280f2d['cancel']();const _0x6aa6a9=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x21a956&&_0x21a956(_0x6aa6a9),this['fire']('error',_0x6aa6a9);return;}const _0x514d07=new ju(this['manager'],_0x280f2d,_0x150bed,_0x5e1292??null);this['sources']['push'](_0x514d07),_0x21a956&&_0x21a956(null,_0x514d07),this['fire']('add',_0x514d07);}['update'](_0x24aa18){if(this['_available']){for(let _0x46b29a=0x1*0xdee+0x16*-0xfa+-0x2*-0x3c7;_0x46b29a<this['sources']['length'];_0x46b29a++)this['sources'][_0x46b29a]['update'](_0x24aa18);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x531132,_0x2f863f){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x13*0xa7+-0x590+0x11f5),h(this,'_trackable',!(-0x1acc+-0x1*-0x23a5+-0x8d8)),h(this,'_tracking',!(0xd7c+0xd72*-0x1+0x9*-0x1)),h(this,'_emulated',!(0x1e2f+0xe84+-0x2cb2)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x531132,this['_width']=_0x2f863f);}get['image'](){return this['_image'];}set['width'](_0x5c5f1f){this['_width']=_0x5c5f1f;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1d5f18=>(this['_bitmap']=_0x1d5f18,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x33a39a){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x2*0x92+0xa80+-0xba3*0x1)),h(this,'_images',[]),(this['_manager']=_0x33a39a,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x49f8b8,_0x4a4f34){if(!this['_supported']||this['_manager']['active'])return null;const _0x565eef=new Yu(_0x49f8b8,_0x4a4f34);return this['_images']['push'](_0x565eef),_0x565eef;}['remove'](_0x360672){if(this['_manager']['active'])return;const _0x46e3b5=this['_images']['indexOf'](_0x360672);_0x46e3b5!==-(-0x18ec+0x15f1+0x2*0x17e)&&(_0x360672['destroy'](),this['_images']['splice'](_0x46e3b5,-0x1*0x265a+-0x2060+0x46bb));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x238c10=>{this['_available']=!(0x14d6+0x43*-0x43+0x1*-0x34d);for(let _0x5a3c34=-0x6e1+0xf6d+-0x88c;_0x5a3c34<_0x238c10['length'];_0x5a3c34++)this['_images'][_0x5a3c34]['_trackable']=_0x238c10[_0x5a3c34]==='trackable';})['catch'](_0x359472=>{this['_available']=!(0x2511*-0x1+-0x2fb*0x5+0x33f9),this['fire']('error',_0x359472);});}['_onSession'+'End'](){this['_available']=!(0x17*-0x105+0x2*-0x1091+0x3896);for(let _0x25f842=-0xd8c+0x1459+0x6cd*-0x1;_0x25f842<this['_images']['length'];_0x25f842++){const _0x74d335=this['_images'][_0x25f842];_0x74d335['_pose']=null,_0x74d335['_measuredW'+'idth']=0x26d7+0x1a4d+-0x1*0x4124,_0x74d335['_tracking']&&(_0x74d335['_tracking']=!(-0x13a4+-0x11*0x1e4+0x33c9*0x1),_0x74d335['fire']('untracked'));}}['prepareIma'+'ges'](_0x20e36b){this['_images']['length']?Promise['all'](this['_images']['map'](_0x31ba01=>_0x31ba01['prepare']()))['then'](_0x338c51=>{_0x20e36b(null,_0x338c51);})['catch'](_0x2a585b=>{_0x20e36b(_0x2a585b,null);}):_0x20e36b(null,null);}['update'](_0x54ae2d){if(!this['_available'])return;const _0x34414e=_0x54ae2d['getImageTr'+'ackingResu'+'lts'](),_0x3fd502={};for(let _0x417092=-0x1*-0x1d87+-0x1*-0xcf2+-0x1*0x2a79;_0x417092<_0x34414e['length'];_0x417092++){_0x3fd502[_0x34414e[_0x417092]['index']]=_0x34414e[_0x417092];const _0x2ba91e=this['_images'][_0x34414e[_0x417092]['index']];_0x2ba91e['_emulated']=_0x34414e[_0x417092]['trackingSt'+'ate']==='emulated',_0x2ba91e['_measuredW'+'idth']=_0x34414e[_0x417092]['measuredWi'+'dthInMeter'+'s'],_0x2ba91e['_pose']=_0x54ae2d['getPose'](_0x34414e[_0x417092]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x5243e6=-0x1c7a+-0xd*0x3e+0x1fa0;_0x5243e6<this['_images']['length'];_0x5243e6++)this['_images'][_0x5243e6]['_tracking']&&!_0x3fd502[_0x5243e6]?(this['_images'][_0x5243e6]['_tracking']=!(-0x1619+-0x23*-0x65+0x84b),this['_images'][_0x5243e6]['fire']('untracked')):!this['_images'][_0x5243e6]['_tracking']&&_0x3fd502[_0x5243e6]&&(this['_images'][_0x5243e6]['_tracking']=!(0x2fd+0x1*-0x1fb9+0x6*0x4ca),this['_images'][_0x5243e6]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x1ab99a,_0x5f5ba0){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x1ab99a,this['_hand']=_0x5f5ba0,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x57e+-0x137f+0x18fd;l<AS['length'];l++)R0[AS[l]]=!(0x2e*-0x4+0x2039+-0x1f81);class CS{constructor(_0x1cd2d6,_0x464cb6,_0xee5030,_0x5ed048=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x8e9*-0x1+-0x1*0x983+-0x312*-0x6)),(this['_index']=_0x1cd2d6,this['_id']=_0x464cb6,this['_hand']=_0xee5030,this['_finger']=_0x5ed048,this['_wrist']=_0x464cb6==='wrist',this['_tip']=this['_finger']&&!!R0[_0x464cb6]);}['update'](_0x10bd77){this['_dirtyLoca'+'l']=!(0x26a0+-0x1fa1+-0x6ff),this['_radius']=_0x10bd77['radius'],this['_localPosi'+'tion']['copy'](_0x10bd77['transform']['position']),this['_localRota'+'tion']['copy'](_0x10bd77['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1*-0x1ead+0x1a*-0x13e+0x3efa),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x3deef9=this['_hand']['_manager']['camera']['parent'];_0x3deef9?this['_worldTran'+'sform']['mul2'](_0x3deef9['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x2381+0x24c2+-0x4843+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x259047){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x7*0x427+0x22b8+-0x2*0x2d3)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x47e8d3=_0x259047['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x259047['_manager'],this['_inputSour'+'ce']=_0x259047,_0x47e8d3['get']('wrist')){const _0x30bab4=new CS(0x37a+-0x5da*-0x2+0x3a*-0x43,'wrist',this,null);this['_wrist']=_0x30bab4,this['_joints']['push'](_0x30bab4),this['_jointsByI'+'d']['wrist']=_0x30bab4;}for(let _0x1e76f3=0x5*-0x1f7+0x1a64+-0x1*0x1091;_0x1e76f3<rh['length'];_0x1e76f3++){const _0x4cdc4f=new uU(_0x1e76f3,this);for(let _0x462e91=0x5df+-0x2449+0x1e6a;_0x462e91<rh[_0x1e76f3]['length'];_0x462e91++){const _0x261e47=rh[_0x1e76f3][_0x462e91];if(!_0x47e8d3['get'](_0x261e47))continue;const _0x3037b6=new CS(_0x462e91,_0x261e47,this,_0x4cdc4f);this['_joints']['push'](_0x3037b6),this['_jointsByI'+'d'][_0x261e47]=_0x3037b6,_0x3037b6['tip']&&(this['_tips']['push'](_0x3037b6),_0x4cdc4f['_tip']=_0x3037b6),_0x4cdc4f['_joints']['push'](_0x3037b6);}}}['update'](_0x4c5c85){const _0x3438ed=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x3c0e93=-0x1805+0x2eb*0x3+0xf44;_0x3c0e93<this['_joints']['length'];_0x3c0e93++){const _0x5b5340=this['_joints'][_0x3c0e93],_0x58f795=_0x3438ed['hand']['get'](_0x5b5340['_id']);if(_0x58f795){let _0x1d3de1;if(_0x4c5c85['session']['visibility'+'State']!=='hidden'&&(_0x1d3de1=_0x4c5c85['getJointPo'+'se'](_0x58f795,this['_manager']['_reference'+'Space'])),_0x1d3de1)_0x5b5340['update'](_0x1d3de1),_0x5b5340['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x1*0xfc4+0x1a4f*-0x1+0x2a13),this['fire']('tracking'));else{if(_0x5b5340['wrist']){this['_tracking']&&(this['_tracking']=!(-0x10*0x161+0x1*-0x3b+0x164c),this['fire']('trackinglo'+'st'));break;}}}}const _0x3b28d4=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x524e65=this['_jointsByI'+'d']['thumb-tip'],_0x41bbe1=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x11bf07=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x3fa5bc=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x3562fb=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x3b28d4&&_0x524e65&&_0x41bbe1&&_0x11bf07&&_0x3fa5bc&&_0x3562fb){this['_inputSour'+'ce']['_dirtyRay']=!(-0x11*-0x14b+-0x2*-0x113+-0x1821),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x524e65['_localPosi'+'tion'],_0x11bf07['_localPosi'+'tion'],0x2a*0xed+-0x3d6+-0x1*0x230c+0.5);let _0x471340=_0x3b28d4,_0x54ab57=_0x3562fb;if(this['_inputSour'+'ce']['handedness']===hU){const _0x42e8ac=_0x471340;_0x471340=_0x54ab57,_0x54ab57=_0x42e8ac;}Wr['sub2'](_0x471340['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x54ab57['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x41bbe1['_localPosi'+'tion'],_0x3fa5bc['_localPosi'+'tion'],0x115c+0x1a17+-0x2b73+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x1a2e+0x2d8+0xbab*0x2+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x7cb+0x43*-0x83+0x2a15)&&this['_fingerIsC'+'losed'](-0xc*0x1a1+-0x78e*-0x3+-0x31c)&&this['_fingerIsC'+'losed'](0x125d+-0x124c*-0x1+-0x1*0x24a6)&&this['_fingerIsC'+'losed'](-0x59a+-0x1ff9+-0x2597*-0x1)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1371+-0x67a*0x2+0x1*0x2065),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x1c1+-0x133*0xc+0x1026),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x104b97){const _0x332cf1=this['_fingers'][_0x104b97];return Wr['sub2'](_0x332cf1['joints'][-0x2*0x1017+-0x73d*0x1+0x1*0x276b]['_localPosi'+'tion'],_0x332cf1['joints'][-0x137*0x2+0x26b7+0x102*-0x24]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x332cf1['joints'][-0x17e*-0x10+-0x1359+-0x485]['_localPosi'+'tion'],_0x332cf1['joints'][-0xa*0x1d3+-0x1c8c+0x2ecd]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0xb36+0x2582+-0xd26*0x2+0.8);}['getJointBy'+'Id'](_0x5cc924){return this['_jointsByI'+'d'][_0x5cc924]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0x207b+0x238f+-0x314;class Qt extends me{constructor(_0x4dac62,_0x234b1f){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x1370+0x266*0x9+0x3d*-0x9)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x1ddd+-0x7*0x1c3+-0x1187)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x16b4+0x1eaf+-0x3563)),h(this,'_dirtyRay',!(-0x1c3c+0x1a5c*-0x1+0x3699)),h(this,'_selecting',!(0x12*-0x1ee+0x5e7*0x1+-0xe6b*-0x2)),h(this,'_squeezing',!(0x3b*0x8a+-0x317*-0xa+-0x1*0x3eb3)),h(this,'_elementIn'+'put',!(-0x20b9+0x6d*-0x59+-0x234f*-0x2)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x4dac62,this['_xrInputSo'+'urce']=_0x234b1f,_0x234b1f['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2d31e3){this['_elementIn'+'put']!==_0x2d31e3&&(this['_elementIn'+'put']=_0x2d31e3,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0xea98aa){if(this['_hand'])this['_hand']['update'](_0xea98aa);else{const _0x1e1526=this['_xrInputSo'+'urce']['gripSpace'];if(_0x1e1526){const _0x52099f=_0xea98aa['getPose'](_0x1e1526,this['_manager']['_reference'+'Space']);if(_0x52099f){this['_grip']||(this['_grip']=!(-0x11*0xeb+-0xe*-0x1a3+-0x1*0x74f),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x4e8a50=de(),_0x4db3e7=(_0x4e8a50-this['_velocitie'+'sTimestamp'])/(0x12e9*0x2+-0x1005+-0x11e5);this['_velocitie'+'sTimestamp']=_0x4e8a50,this['_dirtyLoca'+'l']=!(0x272+0x1*-0x12c6+-0x5*-0x344),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x52099f['transform']['position']),this['_localRota'+'tion']['copy'](_0x52099f['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x8c*0x4+0x71*-0x8+0x5b8),this['_manager']['input']['velocities'+'Supported']&&_0x52099f['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x52099f['linearVelo'+'city']):_0x4db3e7>-0xf40+-0x1883+0x105*0x27&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4db3e7),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0x77a+0x1df0*0x1+0xa*-0x23f+0.15));}else this['_velocitie'+'sAvailable']=!(-0x12dd+-0x2443*-0x1+-0x1165*0x1);}const _0x2287c2=_0xea98aa['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x2287c2&&(this['_dirtyRay']=!(0xa54*0x1+-0xacd+0x1*0x79),this['_rayLocal']['origin']['copy'](_0x2287c2['transform']['position']),this['_rayLocal']['direction']['set'](0x9f*-0x5+-0x4b*0x3+0x3fc,0x9ce+0x86f*-0x2+0xe2*0x8,-(0x19a1+-0x1220*0x2+0x28*0x44)),DS['copy'](_0x2287c2['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*-0x1ef3+-0x24fb+0x609),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x58a9d8=this['_manager']['camera']['parent'];_0x58a9d8?this['_worldTran'+'sform']['mul2'](_0x58a9d8['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x36bc63=this['_dirtyRay'];if(this['_dirtyRay']=!(0x4aa+-0x672+0x1c9),this['_manager']['camera']['parent']){const _0x23b8c1=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x23b8c1['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x23b8c1),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x36bc63&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4e9b80={}){_0x4e9b80['inputSourc'+'e']=this,_0x4e9b80['profile']=this['_xrInputSo'+'urce']['profiles'][0x1f07+-0x163e+0xad*-0xd];const _0xe38377=_0x4e9b80['callback'];_0x4e9b80['callback']=(_0x52ba96,_0x39c5f3)=>{_0x39c5f3&&this['onHitTestS'+'ourceAdd'](_0x39c5f3),_0xe38377&&_0xe38377(_0x52ba96,_0x39c5f3);},this['_manager']['hitTest']['start'](_0x4e9b80);}['onHitTestS'+'ourceAdd'](_0x40173e){this['_hitTestSo'+'urces']['push'](_0x40173e),this['fire']('hittest:ad'+'d',_0x40173e),_0x40173e['on']('result',(_0x2db9bf,_0x5f35ce,_0x24dc74,_0x12bbfe)=>{_0x24dc74===this&&this['fire']('hittest:re'+'sult',_0x40173e,_0x2db9bf,_0x5f35ce,_0x12bbfe);}),_0x40173e['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x40173e),this['fire']('hittest:re'+'move',_0x40173e);});}['onHitTestS'+'ourceRemov'+'e'](_0x4950d9){const _0x3d40de=this['_hitTestSo'+'urces']['indexOf'](_0x4950d9);_0x3d40de!==-(-0x2b*-0x76+0x2d*0x4b+0x6*-0x580)&&this['_hitTestSo'+'urces']['splice'](_0x3d40de,-0x1*0xdb5+0x266c+-0x18b6);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x249546){var _0x3134a3,_0x539b41;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1*-0x212d+0x26fe+-0x482a)),(this['manager']=_0x249546,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x539b41=(_0x3134a3=window['XRPose'])==null?void(0x3a0*-0x9+0x4c*-0x3d+0x32bc):_0x3134a3['prototype'])!=null&&_0x539b41['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2d68f3=>{this['_onInputSo'+'urcesChang'+'e'](_0x2d68f3);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x7b7dbf=this['manager']['session'];_0x7b7dbf['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x7b7dbf['addEventLi'+'stener']('select',_0x218aee=>{const _0x32557a=this['_getByInpu'+'tSource'](_0x218aee['inputSourc'+'e']);_0x32557a['update'](_0x218aee['frame']),_0x32557a['fire']('select',_0x218aee),this['fire']('select',_0x32557a,_0x218aee);}),_0x7b7dbf['addEventLi'+'stener']('selectstar'+'t',_0x3b6e09=>{const _0xc42880=this['_getByInpu'+'tSource'](_0x3b6e09['inputSourc'+'e']);_0xc42880['_selecting']||(_0xc42880['update'](_0x3b6e09['frame']),_0xc42880['_selecting']=!(-0x6b9*0x1+0x176b+-0x10b2),_0xc42880['fire']('selectstar'+'t',_0x3b6e09),this['fire']('selectstar'+'t',_0xc42880,_0x3b6e09));}),_0x7b7dbf['addEventLi'+'stener']('selectend',_0x497f8d=>{const _0x41e73d=this['_getByInpu'+'tSource'](_0x497f8d['inputSourc'+'e']);_0x41e73d['update'](_0x497f8d['frame']),_0x41e73d['_selecting']=!(0x2215+0x3*-0x19b+-0xb*0x2a9),_0x41e73d['fire']('selectend',_0x497f8d),this['fire']('selectend',_0x41e73d,_0x497f8d);}),_0x7b7dbf['addEventLi'+'stener']('squeeze',_0x5a7a95=>{const _0x4f91a0=this['_getByInpu'+'tSource'](_0x5a7a95['inputSourc'+'e']);_0x4f91a0['update'](_0x5a7a95['frame']),_0x4f91a0['fire']('squeeze',_0x5a7a95),this['fire']('squeeze',_0x4f91a0,_0x5a7a95);}),_0x7b7dbf['addEventLi'+'stener']('squeezesta'+'rt',_0x5d2658=>{const _0x26c582=this['_getByInpu'+'tSource'](_0x5d2658['inputSourc'+'e']);_0x26c582['update'](_0x5d2658['frame']),_0x26c582['_squeezing']=!(-0x9*0x277+-0x5bd*0x5+0xcb8*0x4),_0x26c582['fire']('squeezesta'+'rt',_0x5d2658),this['fire']('squeezesta'+'rt',_0x26c582,_0x5d2658);}),_0x7b7dbf['addEventLi'+'stener']('squeezeend',_0x474625=>{const _0x15f953=this['_getByInpu'+'tSource'](_0x474625['inputSourc'+'e']);_0x15f953['update'](_0x474625['frame']),_0x15f953['_squeezing']=!(0x1786*0x1+0x226c+-0x39f1*0x1),_0x15f953['fire']('squeezeend',_0x474625),this['fire']('squeezeend',_0x15f953,_0x474625);});const _0x242bb3=_0x7b7dbf['inputSourc'+'es'];for(let _0x3c1aeb=0x1*0x1929+0x19bb+-0x1*0x32e4;_0x3c1aeb<_0x242bb3['length'];_0x3c1aeb++)this['_addInputS'+'ource'](_0x242bb3[_0x3c1aeb]);}['_onSession'+'End'](){let _0x5d1590=this['_inputSour'+'ces']['length'];for(;_0x5d1590--;){const _0x21463d=this['_inputSour'+'ces'][_0x5d1590];this['_inputSour'+'ces']['splice'](_0x5d1590,0x1e9f+-0x7ac*-0x5+0x7aa*-0x9),_0x21463d['fire']('remove'),this['fire']('remove',_0x21463d);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x3e8097){for(let _0x105e56=0x2*0xa0c+-0x694*-0x4+-0x2d*0x108;_0x105e56<_0x3e8097['removed']['length'];_0x105e56++)this['_removeInp'+'utSource'](_0x3e8097['removed'][_0x105e56]);for(let _0x2bb427=-0x2615+-0x190a+-0x8f*-0x71;_0x2bb427<_0x3e8097['added']['length'];_0x2bb427++)this['_addInputS'+'ource'](_0x3e8097['added'][_0x2bb427]);}['_getByInpu'+'tSource'](_0x870fb){for(let _0x350444=0x796+-0x2706+-0x2*-0xfb8;_0x350444<this['_inputSour'+'ces']['length'];_0x350444++)if(this['_inputSour'+'ces'][_0x350444]['inputSourc'+'e']===_0x870fb)return this['_inputSour'+'ces'][_0x350444];return null;}['_removeApp'+'Entity'](_0x5ad626){const _0x4a7baa=this['manager']['app']['root']['findByName']('Armature_'+_0x5ad626);_0x4a7baa&&this['manager']['app']['root']['removeChil'+'d'](_0x4a7baa);}['_addInputS'+'ource'](_0x5e4213){if(this['_removeApp'+'Entity'](_0x5e4213['handedness']),this['_getByInpu'+'tSource'](_0x5e4213))return;const _0x2d0bc6=new Qt(this['manager'],_0x5e4213);this['_inputSour'+'ces']['push'](_0x2d0bc6),this['fire']('add',_0x2d0bc6);}['_removeInp'+'utSource'](_0x3fa79b){for(let _0x37ada8=0x246+-0x24de+0x6c*0x52;_0x37ada8<this['_inputSour'+'ces']['length'];_0x37ada8++){if(this['_inputSour'+'ces'][_0x37ada8]['inputSourc'+'e']!==_0x3fa79b)continue;const _0xb4d89a=this['_inputSour'+'ces'][_0x37ada8];this['_inputSour'+'ces']['splice'](_0x37ada8,-0x3e4+0x21a+0x1cb);let _0x30c099=_0xb4d89a['hitTestSou'+'rces']['length'];for(;_0x30c099--;)_0xb4d89a['hitTestSou'+'rces'][_0x30c099]['remove']();this['_removeApp'+'Entity'](_0xb4d89a['handedness']),_0xb4d89a['fire']('remove'),this['fire']('remove',_0xb4d89a);return;}}['update'](_0x2ff611){for(let _0x1dab0b=0x2*0x4af+-0xe20+-0x15*-0x3a;_0x1dab0b<this['_inputSour'+'ces']['length'];_0x1dab0b++)this['_inputSour'+'ces'][_0x1dab0b]['update'](_0x2ff611);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x2adbb9){super(),h(this,'_manager'),h(this,'_supported',!(0x541+-0x1*0xd0f+0x7cf)),h(this,'_available',!(0x20d7+0x2c0+-0x2396)),h(this,'_lightProb'+'eRequested',!(0x2*0xf07+0xb5c+-0x1*0x2969)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x1553+-0x224+-0x132f),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x16bb+-0x53*-0x59+-0x23d*0x17)),(this['_manager']=_0x2adbb9,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x10e6+0x8*0x443+0x8e*-0x1f));}['_onSession'+'End'](){this['_supported']=!(-0x2ee*0x9+-0x2490+0x3eef),this['_available']=!(-0x5a*-0x40+-0x3f5*-0x1+-0x1a74),this['_lightProb'+'eRequested']=!(-0x181+0x14f*0x1+-0x33*-0x1),this['_lightProb'+'e']=null;}['start'](){let _0xfa026f;if(this['_manager']['session']||(_0xfa026f=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0xfa026f&&this['_manager']['type']!==$o&&(_0xfa026f=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0xfa026f&&!this['_supported']&&(_0xfa026f=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0xfa026f&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0xfa026f=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0xfa026f){this['fire']('error',_0xfa026f);return;}this['_lightProb'+'eRequested']=!(0x73b+0x2125+-0x2860),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3c3132=>{const _0x50e4f8=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x5e3+0x24b3+-0x1ecf),this['_manager']['active']?_0x50e4f8&&(this['_lightProb'+'e']=_0x3c3132):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x544399=>{this['_lightProb'+'eRequested']=!(-0x1357*0x2+-0x1bd9+0x4288),this['fire']('error',_0x544399);});}['end'](){this['_lightProb'+'eRequested']=!(-0x844*0x2+0x112f+-0x2*0x53),this['_lightProb'+'e']=null,this['_available']=!(-0x1799+-0x25c2+0x3d5c);}['update'](_0x4f40e8){if(!this['_lightProb'+'e'])return;const _0x1f47bd=_0x4f40e8['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x1f47bd)return;this['_available']||(this['_available']=!(0x92*0x1+0x243+-0x2d5),this['fire']('available'));const _0x5cc8bb=_0x1f47bd['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x2298+-0x8e*0x1+0x2327,Math['max'](_0x5cc8bb['x'],Math['max'](_0x5cc8bb['y'],_0x5cc8bb['z']))),Ja['copy'](_0x5cc8bb)['mulScalar']((-0x4*0x520+0x42*0x97+-0x126d)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0x18d5+0x22dd+-0x282*0x4,-0x4e3+-0x25ab*0x1+-0x1a*-0x1a3,0x233d+-0x229+-0x2114),IS['copy'](_0x1f47bd['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],0x871+-0x290*0xa+0x1189),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x1f47bd['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x226*0x3+-0x1f1f*-0x1+-0x2591;class Qu extends me{constructor(_0x20768e,_0x21315a){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x20768e,this['_xrPlane']=_0x21315a,this['_lastChang'+'edTime']=_0x21315a['lastChange'+'dTime'],this['_orientati'+'on']=_0x21315a['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x453359){const _0x48be93=this['_planeDete'+'ction']['_manager'],_0x2743e1=_0x453359['getPose'](this['_xrPlane']['planeSpace'],_0x48be93['_reference'+'Space']);_0x2743e1&&(this['_position']['copy'](_0x2743e1['transform']['position']),this['_rotation']['copy'](_0x2743e1['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x39ecd7){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x3ed*0x2+0x258f+-0xb5a*0x4)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x39ecd7,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1*0x1d39+0x2545+-0x80b)&&(this['_available']=!(-0x869+0x1*-0x4c5+0x7*0x1e2),this['fire']('available'));}['_onSession'+'End'](){for(let _0x26b544=-0x1f68+0x4c*-0x6a+0x3ee0;_0x26b544<this['_planes']['length'];_0x26b544++)this['_planes'][_0x26b544]['destroy'](),this['fire']('remove',this['_planes'][_0x26b544]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x7f*0x4+-0x171e+0x191a,this['_available']&&(this['_available']=!(0x13f3+-0x3*-0x8b+-0x1593),this['fire']('unavailabl'+'e'));}['update'](_0x478d4d){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x478d4d['detectedPl'+'anes']['size'])this['_available']=!(-0x4a*-0xc+0x6e*-0x2e+0x104c),this['fire']('available');else return;}const _0x307444=_0x478d4d['detectedPl'+'anes'];for(const [_0x43def3,_0x504f5e]of this['_planesInd'+'ex'])_0x307444['has'](_0x43def3)||(this['_planesInd'+'ex']['delete'](_0x43def3),this['_planes']['splice'](this['_planes']['indexOf'](_0x504f5e),-0x26*-0x86+-0x1*0x835+-0xbae),_0x504f5e['destroy'](),this['fire']('remove',_0x504f5e));for(const _0x116f1c of _0x307444){let _0x599ef1=this['_planesInd'+'ex']['get'](_0x116f1c);_0x599ef1?_0x599ef1['update'](_0x478d4d):(_0x599ef1=new Qu(this,_0x116f1c),this['_planesInd'+'ex']['set'](_0x116f1c,_0x599ef1),this['_planes']['push'](_0x599ef1),_0x599ef1['update'](_0x478d4d),this['fire']('add',_0x599ef1));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x26b5da,_0x211f42,_0x104a9=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x26b5da,this['_xrAnchor']=_0x211f42,this['_uuid']=_0x104a9);}['destroy'](){if(!this['_xrAnchor'])return;const _0x3c9fd0=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x3c9fd0,this);}['update'](_0x5f1212){if(!this['_xrAnchor'])return;const _0x4eeb29=_0x5f1212['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x4eeb29){if(this['_position']['equals'](_0x4eeb29['transform']['position'])&&this['_rotation']['equals'](_0x4eeb29['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x4eeb29['transform']['position']),this['_rotation']['copy'](_0x4eeb29['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x111980){if(!this['_anchors']['persistenc'+'e']){_0x111980==null||_0x111980(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x111980==null||_0x111980(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x111980&&this['_uuidReque'+'sts']['push'](_0x111980);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x5117b6=>{this['_uuid']=_0x5117b6,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x111980==null||_0x111980(null,_0x5117b6);for(const _0x4d22a4 of this['_uuidReque'+'sts'])_0x4d22a4(null,_0x5117b6);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x5117b6);})['catch'](_0x4e8dd6=>{_0x111980==null||_0x111980(_0x4e8dd6,null);for(const _0x4d6403 of this['_uuidReque'+'sts'])_0x4d6403(_0x4e8dd6,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x375b54){if(!this['_uuid']){_0x375b54==null||_0x375b54(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x8206a2=>{this['_uuid']=null,_0x375b54==null||_0x375b54(_0x8206a2),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x3704fd){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x1933+-0x75*-0xf+-0x200d)),h(this,'_checkingA'+'vailabilit'+'y',!(0x18f*0x3+-0x172*0x14+0x183c)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x2c*0x7a+0x1630+-0x4*0x4e):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x3704fd,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x30f5eb;const _0x31999d=((_0x30f5eb=this['manager']['session']['enabledFea'+'tures'])==null?void(-0xb67+-0x66c+0x11d3):_0x30f5eb['indexOf']('anchors'))>=-0x204a+-0x2*-0x742+0x11c6;_0x31999d&&(this['_available']=_0x31999d,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x22b2+-0x17fe+-0x5*-0xbbd);for(let _0x552e73=-0x1*0xc69+-0x1f02+-0xab*-0x41;_0x552e73<this['_creationQ'+'ueue']['length'];_0x552e73++)this['_creationQ'+'ueue'][_0x552e73]['callback']&&this['_creationQ'+'ueue'][_0x552e73]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0xacf*0x1+0x6c2*-0x2+-0xd*-0x1df,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x4ad1f8=this['_list']['length'];for(;_0x4ad1f8--;)this['_list'][_0x4ad1f8]['destroy']();this['_list']['length']=-0x223a+0x2*0x905+0x1030,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x3ef323,_0x273bc8=null){const _0x323dbd=new Io(this,_0x3ef323,_0x273bc8);return this['_index']['set'](_0x3ef323,_0x323dbd),_0x273bc8&&this['_indexByUu'+'id']['set'](_0x273bc8,_0x323dbd),this['_list']['push'](_0x323dbd),_0x323dbd['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x323dbd;}['_onAnchorD'+'estroy'](_0x226c8a,_0xba8e78){this['_index']['delete'](_0x226c8a),_0xba8e78['uuid']&&this['_indexByUu'+'id']['delete'](_0xba8e78['uuid']);const _0x524358=this['_list']['indexOf'](_0xba8e78);_0x524358!==-(-0xf73+0x1643+-0x6cf)&&this['_list']['splice'](_0x524358,0xd*0x215+0x2b*0x2e+-0x22ca),this['fire']('destroy',_0xba8e78);}['create'](_0xc3d90d,_0x54e67e,_0x380676){if(!this['_available']){_0x380676==null||_0x380676(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0xc3d90d instanceof XRHitTestResult){const _0x2b2c76=_0xc3d90d;if(_0x380676=_0x54e67e,!this['_supported']){_0x380676==null||_0x380676(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x2b2c76['createAnch'+'or']){_0x380676==null||_0x380676(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x2b2c76['createAnch'+'or']()['then'](_0x44ab02=>{const _0x29d13d=this['_createAnc'+'hor'](_0x44ab02);_0x380676==null||_0x380676(null,_0x29d13d),this['fire']('add',_0x29d13d);})['catch'](_0x543203=>{_0x380676==null||_0x380676(_0x543203,null),this['fire']('error',_0x543203);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0xc3d90d,_0x54e67e),'callback':_0x380676});}['restore'](_0x3f94ce,_0x4bef56){if(!this['_available']){_0x4bef56==null||_0x4bef56(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x4bef56==null||_0x4bef56(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x4bef56==null||_0x4bef56(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x3f94ce)['then'](_0x35d215=>{const _0x46faf2=this['_createAnc'+'hor'](_0x35d215,_0x3f94ce);_0x4bef56==null||_0x4bef56(null,_0x46faf2),this['fire']('add',_0x46faf2);})['catch'](_0x4e7320=>{_0x4bef56==null||_0x4bef56(_0x4e7320,null),this['fire']('error',_0x4e7320);});}['forget'](_0x193b5c,_0x11fe81){if(!this['_available']){_0x11fe81==null||_0x11fe81(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x11fe81==null||_0x11fe81(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x11fe81==null||_0x11fe81(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x193b5c)['then'](()=>{_0x11fe81==null||_0x11fe81(null);})['catch'](_0x313159=>{_0x11fe81==null||_0x11fe81(_0x313159),this['fire']('error',_0x313159);});}['update'](_0x39971c){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0xf9a+0x605*0x2+-0x1ba4),_0x39971c['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4674cd=>{_0x4674cd['delete'](),this['manager']['active']&&(this['_available']=!(-0x99*-0x39+0x7c5+-0x6f9*0x6),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x1cab3b=-0x2d6*-0x1+-0x2443+0x216d;_0x1cab3b<this['_creationQ'+'ueue']['length'];_0x1cab3b++){const _0x72c832=this['_creationQ'+'ueue'][_0x1cab3b];_0x39971c['createAnch'+'or'](_0x72c832['transform'],this['manager']['_reference'+'Space'])['then'](_0x36f439=>{_0x72c832['callback']&&this['_callbacks'+'Anchors']['set'](_0x36f439,_0x72c832['callback']);})['catch'](_0x49b3df=>{_0x72c832['callback']&&_0x72c832['callback'](_0x49b3df,null),this['fire']('error',_0x49b3df);});}this['_creationQ'+'ueue']['length']=0xc45+0x1*0x715+-0x135a;}for(const [_0x271ac6,_0x3c55be]of this['_index'])_0x39971c['trackedAnc'+'hors']['has'](_0x271ac6)||(this['_index']['delete'](_0x271ac6),_0x3c55be['destroy']());for(let _0x1b1522=-0x540+-0x5*-0x1c6+-0x39e;_0x1b1522<this['_list']['length'];_0x1b1522++)this['_list'][_0x1b1522]['update'](_0x39971c);for(const _0x2b9da9 of _0x39971c['trackedAnc'+'hors']){if(this['_index']['has'](_0x2b9da9))continue;try{const _0x3cfc05=_0x2b9da9['anchorSpac'+'e'];}catch{continue;}const _0x15b1ec=this['_createAnc'+'hor'](_0x2b9da9);_0x15b1ec['update'](_0x39971c);const _0x5d18b6=this['_callbacks'+'Anchors']['get'](_0x2b9da9);_0x5d18b6&&(this['_callbacks'+'Anchors']['delete'](_0x2b9da9),_0x5d18b6(null,_0x15b1ec)),this['fire']('add',_0x15b1ec);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x5efc20,_0x455001){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x2*-0x1009+-0xddc+0x2dee),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x5efc20,this['_xrMesh']=_0x455001,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x11901f){const _0x2d561a=this['_meshDetec'+'tion']['_manager'],_0x130e0a=_0x11901f['getPose'](this['_xrMesh']['meshSpace'],_0x2d561a['_reference'+'Space']);_0x130e0a&&(this['_position']['copy'](_0x130e0a['transform']['position']),this['_rotation']['copy'](_0x130e0a['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x1e34d3){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x8*0x1d6+0xf86+-0xd5)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x1e34d3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x6a9c9d){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x6a9c9d['detectedMe'+'shes']['size'])this['_available']=!(-0x1*0x14f6+-0x2155+-0x7b*-0x71),this['fire']('available');else return;}for(const _0x52e1 of _0x6a9c9d['detectedMe'+'shes']){let _0x521197=this['_index']['get'](_0x52e1);_0x521197?_0x521197['update'](_0x6a9c9d):(_0x521197=new Ju(this,_0x52e1),this['_index']['set'](_0x52e1,_0x521197),this['_list']['push'](_0x521197),_0x521197['update'](_0x6a9c9d),this['fire']('add',_0x521197));}for(const _0x1dabf8 of this['_index']['values']())_0x6a9c9d['detectedMe'+'shes']['has'](_0x1dabf8['xrMesh'])||this['_removeMes'+'h'](_0x1dabf8);}['_removeMes'+'h'](_0x54b4ba){this['_index']['delete'](_0x54b4ba['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x54b4ba),-0x45*0x17+-0x194*-0x12+-0x4*0x58d),_0x54b4ba['destroy'](),this['fire']('remove',_0x54b4ba);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x38c06b=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x8bd+0x17be+-0xf00);if(!_0x38c06b)return;this['_available']=_0x38c06b,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xc6+-0x6a*-0x11+0x7cf*-0x1);for(const _0x15ae6f of this['_index']['values']())this['_removeMes'+'h'](_0x15ae6f);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x5c0684,_0x1c855e,_0x48f495){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x24ec+0x1194+-0x367d)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x3*-0x17d+-0xc5b+0x804)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x5c0684,this['_xrView']=_0x1c855e);const _0x2f83c1=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x2f83c1,{'format':Cr,'mipmaps':!(0xed6+0xcc5+-0x1b9a*0x1),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x7d02ac=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x2f83c1,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x48f495===0x18a5+-0x167+0x7bf*-0x3?0x1771+-0x6a7*0x3+0x1be*-0x2:_0x48f495,'mipmaps':!(0x203f+-0x7e6+0xa4*-0x26),'addressU':ue,'addressV':ue,'minFilter':_0x7d02ac,'magFilter':_0x7d02ac,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x57a55d=0xf56+0x2*0x54a+-0x2*0xcf5;_0x57a55d<this['_textureDe'+'pth']['_levels']['length'];_0x57a55d++)this['_textureDe'+'pth']['_levels'][_0x57a55d]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x2f83c1['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x16afa0;return((_0x16afa0=this['_depthInfo'])==null?void(-0x1e29*0x1+0x91+-0x766*-0x4):_0x16afa0['rawValueTo'+'Meters'])||-0x11cb+-0x1*0x6f5+0x18c0;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x259c05,_0x464418){this['_xrView']=_0x464418,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x5319bb=_0x259c05['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x5319bb['x'],this['_viewport']['y']=_0x5319bb['y'],this['_viewport']['z']=_0x5319bb['width'],this['_viewport']['w']=_0x5319bb['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x259c05);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x45d50d=this['_manager']['webglBindi'+'ng'];if(!_0x45d50d)return;const _0x20f1b9=_0x45d50d['getCameraI'+'mage'](this['_xrCamera']);if(!_0x20f1b9)return;const _0x1a80a1=this['_manager']['app']['graphicsDe'+'vice'],_0x3ec140=_0x1a80a1['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x3ec140['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x3ec140['createFram'+'ebuffer']();else{const _0x576f96=_0x3ec140['COLOR_ATTA'+'CHMENT0'],_0x42147e=this['_xrCamera']['width'],_0x23d3df=this['_xrCamera']['height'];_0x1a80a1['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x3ec140['framebuffe'+'rTexture2D'](_0x3ec140['FRAMEBUFFE'+'R'],_0x576f96,_0x3ec140['TEXTURE_2D'],_0x20f1b9,-0x1*-0x22e6+0x15*-0x116+0xc18*-0x1),_0x1a80a1['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x3ec140['framebuffe'+'rTexture2D'](_0x3ec140['FRAMEBUFFE'+'R'],_0x576f96,_0x3ec140['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x5d1+-0x1a*0x165+0x2a13),_0x3ec140['bindFrameb'+'uffer'](_0x3ec140['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x3ec140['bindFrameb'+'uffer'](_0x3ec140['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x3ec140['blitFrameb'+'uffer'](-0x134+-0x169+0x29d,_0x23d3df,_0x42147e,-0x1b19+0x2131+-0x618,0x154c+-0x20b1+0xb65,-0x1f6*0x13+0xb*-0x7a+0x2a80,_0x42147e,_0x23d3df,_0x3ec140['COLOR_BUFF'+'ER_BIT'],_0x3ec140['NEAREST']);}}['_updateDep'+'th'](_0x23ac97){var _0x35a5a5,_0x51b218;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x5f03cc=this['_manager']['views']['depthGpuOp'+'timized'],_0x15f174=_0x5f03cc?this['_manager']['webglBindi'+'ng']:_0x23ac97;if(!_0x15f174){this['_depthInfo']=null;return;}const _0x16e297=_0x15f174['getDepthIn'+'formation'](this['_xrView']);if(!_0x16e297){this['_depthInfo']=null;return;}let _0x4b0dcb=!this['_depthInfo']!=!_0x16e297;this['_depthInfo']=_0x16e297;const _0x1b2052=((_0x35a5a5=this['_depthInfo'])==null?void(0x181e+0xe9*-0x13+-0x6d3*0x1):_0x35a5a5['width'])||-0x23d8+0xd1c*0x1+0x1*0x16c0,_0x1d537f=((_0x51b218=this['_depthInfo'])==null?void(-0x1*-0x1d30+0x4*-0x7fd+-0x4*-0xb1):_0x51b218['height'])||-0xf7+0x717+-0x22*0x2e;let _0x4a7ade=!(-0x1dd6+0x1*0xc89+0x114e);if((this['_textureDe'+'pth']['width']!==_0x1b2052||this['_textureDe'+'pth']['height']!==_0x1d537f)&&(this['_textureDe'+'pth']['_width']=_0x1b2052,this['_textureDe'+'pth']['_height']=_0x1d537f,_0x4b0dcb=!(-0xec9+0xedd+-0x1*0x14),_0x4a7ade=!(0x2b*0x2f+-0x2455+0x1c70)),_0x4b0dcb&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x5f03cc){if(this['_depthInfo']['texture']){const _0x57b3c=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x57b3c['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x57b3c['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x57b3c['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x57b3c['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x57b3c['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x57b3c['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x57b3c['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x57b3c['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xda5+-0x2*-0x782+0x29b*-0xb);}}else this['_textureDe'+'pth']['_levels'][0x89*0xf+-0x4e4*-0x4+-0x3f1*0x7]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x2*0xb0f+-0x13ed*0x1+-0x1*0x231]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x4a7ade&&this['fire']('depth:resi'+'ze',_0x1b2052,_0x1d537f);}['updateTran'+'sforms'](_0x56332a){_0x56332a?(this['_viewInvOf'+'fMat']['mul2'](_0x56332a,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0xe46+0x226a+-0x1424]=this['_viewInvOf'+'fMat']['data'][0x756+-0xf3d+0x197*0x5],this['_positionD'+'ata'][-0xa67+0x1764+-0xcfc]=this['_viewInvOf'+'fMat']['data'][0xbb*-0x21+0x19a8+-0x40*0x6],this['_positionD'+'ata'][-0x1ce1*0x1+-0x4*0x1e9+0x2487]=this['_viewInvOf'+'fMat']['data'][0x1bd*-0xe+0x3*0x935+-0x33b];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x50fd5a,_0x4a9a2d){var _0x3585ea;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x3585ea=this['_depthInfo'])==null?void(0xd9b+-0x454*-0x7+-0x2be7*0x1):_0x3585ea['getDepthIn'+'Meters'](_0x50fd5a,_0x4a9a2d))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x4504a6=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x4504a6['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x4504a6['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x242c0b){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x155a+0x32*0x7f+-0x373*0x1)),h(this,'_available'+'Depth',!(0x7a2*0x1+-0xc4b*0x3+0x1d40)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x242c0b,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x1c21d0,_0x4a9466){for(let _0x2164a1=0x8a1+0x1367*-0x1+0xe*0xc5;_0x2164a1<_0x4a9466['length'];_0x2164a1++)this['_indexTmp']['set'](_0x4a9466[_0x2164a1]['eye'],_0x4a9466[_0x2164a1]);for(const [_0x32eae5,_0x76fb87]of this['_indexTmp']){let _0x2c0506=this['_index']['get'](_0x32eae5);_0x2c0506?_0x2c0506['update'](_0x1c21d0,_0x76fb87):(_0x2c0506=new O0(this['_manager'],_0x76fb87,_0x4a9466['length']),this['_index']['set'](_0x32eae5,_0x2c0506),this['_list']['push'](_0x2c0506),_0x2c0506['update'](_0x1c21d0,_0x76fb87),this['fire']('add',_0x2c0506));}for(const [_0x564989,_0x1de47b]of this['_index']){if(this['_indexTmp']['has'](_0x564989))continue;_0x1de47b['destroy'](),this['_index']['delete'](_0x564989);const _0x441f83=this['_list']['indexOf'](_0x1de47b);_0x441f83!==-(-0x2384+0x2f*0x55+0x13ea)&&this['_list']['splice'](_0x441f83,-0x1596+0x1*-0x1d96+0x332d),this['fire']('remove',_0x1de47b);}this['_indexTmp']['clear']();}['get'](_0x1ae7be){return this['_index']['get'](_0x1ae7be)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x3*-0x982+0x60*-0x6+-0x1a45),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x32*-0x83+-0x115*-0x19+0x176*-0x1),this['_available'+'Depth'])){const _0x10ec87=this['_manager']['session'];this['_depthUsag'+'e']=_0x10ec87['depthUsage'],this['_depthForm'+'at']=_0x10ec87['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x5f1d77 of this['_index']['values']())_0x5f1d77['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x2ec+-0x1c*0xf1+-0x161*-0x11),this['_available'+'Depth']=!(-0x459+-0x4*-0x129+-0x4a),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x19e6+0x1*0x1d+-0x1a03;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0xcdacad){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x26cd*-0x1+-0xb27+-0xc7d*-0x4+0.1),h(this,'_depthFar',0x3d*-0x1+-0xf9b+-0x1*-0x13c0),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x15dd*-0x1+-0x7b5*-0x1+0x2f5*-0xa),h(this,'_height',0x1817+0x1ed2+-0x36e9*0x1),h(this,'_framebuff'+'erScaleFac'+'tor',-0x7bb+-0x423*0x2+0x1002),(this['app']=_0xcdacad,this['_available'][lU]=!(0x19c7*0x1+0x3*-0xce7+0xcef),this['_available'][cU]=!(-0x4*-0x94f+-0xb68+-0x19d3),this['_available'][$o]=!(0x1153+-0x16*0x182+0xfda),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x138a6e,_0x3c340f,_0x1caa8e,_0x2ed38c){let _0x5306ba=_0x2ed38c;if(typeof _0x2ed38c=='object'&&(_0x5306ba=_0x2ed38c['callback']),!this['_available'][_0x3c340f]){_0x5306ba&&_0x5306ba(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x5306ba&&_0x5306ba(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x138a6e,this['_camera']['camera']['xr']=this,this['_type']=_0x3c340f,this['_spaceType']=_0x1caa8e,this['_framebuff'+'erScaleFac'+'tor']=(_0x2ed38c==null?void(-0x1b6*0x9+0x15c6+-0x6*0x110):_0x2ed38c['framebuffe'+'rScaleFact'+'or'])??-0x16*-0x163+-0x123d+-0xc44,this['_setClipPl'+'anes'](_0x138a6e['nearClip'],_0x138a6e['farClip']);const _0x5e5e46={'requiredFeatures':[_0x1caa8e],'optionalFeatures':[]},_0x2326bf=this['app']['graphicsDe'+'vice'];_0x2326bf!=null&&_0x2326bf['isWebGPU']&&_0x5e5e46['requiredFe'+'atures']['push']('webgpu');const _0x35059a=_0x2326bf==null?void(0x1e71+-0x31d*0x5+-0xe*0x110):_0x2326bf['isWebGL2'];if(_0x3c340f===$o){if(_0x5e5e46['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x5e5e46['optionalFe'+'atures']['push']('hit-test'),_0x2ed38c&&(_0x2ed38c['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x5e5e46['optionalFe'+'atures']['push']('image-trac'+'king'),_0x2ed38c['planeDetec'+'tion']&&_0x5e5e46['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x2ed38c['meshDetect'+'ion']&&_0x5e5e46['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x5e5e46['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x5e5e46['domOverlay']={'root':this['domOverlay']['root']}),_0x2ed38c&&_0x2ed38c['anchors']&&this['anchors']['supported']&&_0x5e5e46['optionalFe'+'atures']['push']('anchors'),_0x2ed38c&&_0x2ed38c['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x5e5e46['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x549e88=[],_0xbac0d1=[];if(_0x549e88['push'](P0,dU),_0xbac0d1['push'](I0,M0,D0),_0x2ed38c['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x4e4489=_0x549e88['indexOf'](_0x2ed38c['depthSensi'+'ng']['usagePrefe'+'rence']);_0x4e4489!==-(0x257d+-0x98+-0x24e4)&&_0x549e88['splice'](_0x4e4489,-0x94f+-0xa15*-0x2+-0x1cf*0x6),_0x549e88['unshift'](_0x2ed38c['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x2ed38c['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x453cb7=_0xbac0d1['indexOf'](_0x2ed38c['depthSensi'+'ng']['dataFormat'+'Preference']);_0x453cb7!==-(0x23f9*-0x1+0xecf*-0x2+0x4198)&&_0xbac0d1['splice'](_0x453cb7,0x1*0x1de3+0x1*-0x1e23+0x41),_0xbac0d1['unshift'](_0x2ed38c['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x5e5e46['depthSensi'+'ng']={'usagePreference':_0x549e88,'dataFormatPreference':_0xbac0d1};}_0x35059a&&_0x2ed38c&&_0x2ed38c['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x5e5e46['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x5e5e46['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x2ed38c&&_0x2ed38c['optionalFe'+'atures']&&(_0x5e5e46['optionalFe'+'atures']=_0x5e5e46['optionalFe'+'atures']['concat'](_0x2ed38c['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4bcb8c,_0x397fc7)=>{if(_0x4bcb8c){_0x5306ba&&_0x5306ba(_0x4bcb8c),this['fire']('error',_0x4bcb8c);return;}_0x397fc7!==null&&(_0x5e5e46['trackedIma'+'ges']=_0x397fc7),this['_onStartOp'+'tionsReady'](_0x3c340f,_0x1caa8e,_0x5e5e46,_0x5306ba);}):this['_onStartOp'+'tionsReady'](_0x3c340f,_0x1caa8e,_0x5e5e46,_0x5306ba);}['_onStartOp'+'tionsReady'](_0x4eff4c,_0x2db971,_0x4a3904,_0x5cc544){const _0x7bba14=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x4a3904;navigator['xr']['requestSes'+'sion'](_0x4eff4c,_0x7bba14)['then'](_0x2f8098=>{this['_onSession'+'Start'](_0x2f8098,_0x2db971,_0x5cc544);})['catch'](_0xe319a=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x5cc544&&_0x5cc544(_0xe319a),this['fire']('error',_0xe319a);});}['end'](_0x4a5c51){if(!this['_session']){_0x4a5c51&&_0x4a5c51(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x4a5c51&&this['once']('end',_0x4a5c51),this['_session']['end']();}['isAvailabl'+'e'](_0xfd807f){return this['_available'][_0xfd807f];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x4a0c4 in this['_available'])this['_sessionSu'+'pportCheck'](_0x4a0c4);}['initiateRo'+'omCapture'](_0x8ddaf2){if(!this['_session']){_0x8ddaf2(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x8ddaf2(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x8ddaf2&&_0x8ddaf2(null);})['catch'](_0x3f2528=>{_0x8ddaf2&&_0x8ddaf2(_0x3f2528);});}['updateTarg'+'etFrameRat'+'e'](_0x1680a9,_0xaa5d9c){var _0x2213c8;if(!((_0x2213c8=this['_session'])!=null&&_0x2213c8['updateTarg'+'etFrameRat'+'e'])){_0xaa5d9c==null||_0xaa5d9c(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x1680a9)['then'](()=>{_0xaa5d9c==null||_0xaa5d9c();})['catch'](_0x3a3cc5=>{_0xaa5d9c==null||_0xaa5d9c(_0x3a3cc5);});}['_sessionSu'+'pportCheck'](_0x38e123){navigator['xr']['isSessionS'+'upported'](_0x38e123)['then'](_0x5416bb=>{this['_available'][_0x38e123]!==_0x5416bb&&(this['_available'][_0x38e123]=_0x5416bb,this['fire']('available',_0x38e123,_0x5416bb),this['fire']('available:'+_0x38e123,_0x5416bb));})['catch'](_0x2895cd=>{this['fire']('error',_0x2895cd);});}['_onSession'+'Start'](_0x3f389a,_0x195744,_0x15715c){let _0x12b242=!(0x155+-0x25f4+0x24a0);this['_session']=_0x3f389a;const _0x593146=()=>{this['fire']('visibility'+':change',_0x3f389a['visibility'+'State']);},_0x4e0f17=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x29f006=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x4e0f17),this['_camera']['off']('set_farCli'+'p',_0x4e0f17),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3f389a['removeEven'+'tListener']('end',_0x29f006),_0x3f389a['removeEven'+'tListener']('visibility'+'change',_0x593146),_0x12b242||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0xb2a+0x1c70+-0x1146,this['_height']=-0x251f+0x214*0x1+0x230b,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3f389a['addEventLi'+'stener']('end',_0x29f006),_0x3f389a['addEventLi'+'stener']('visibility'+'change',_0x593146),this['_camera']['on']('set_nearCl'+'ip',_0x4e0f17),this['_camera']['on']('set_farCli'+'p',_0x4e0f17),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x39574f;this['fire']('frameratec'+'hange',(_0x39574f=this['_session'])==null?void(0x1*-0x124a+-0x1271+0x1*0x24bb):_0x39574f['frameRate']);}),_0x3f389a['requestRef'+'erenceSpac'+'e'](_0x195744)['then'](_0x4c047b=>{this['_reference'+'Space']=_0x4c047b,this['app']['tick'](),_0x15715c&&_0x15715c(null),this['fire']('start');})['catch'](_0x1da05e=>{_0x12b242=!(-0x16f0+-0x1194+0x4*0xa21),_0x3f389a['end'](),_0x15715c&&_0x15715c(_0x1da05e),this['fire']('error',_0x1da05e);});}['_setClipPl'+'anes'](_0x5bb990,_0x244e43){this['_depthNear']===_0x5bb990&&this['_depthFar']===_0x244e43||(this['_depthNear']=_0x5bb990,this['_depthFar']=_0x244e43,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x30c36a=this['app']['graphicsDe'+'vice'],_0x162ea4=_0x30c36a['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x30c36a['gl'],{'alpha':!(0x112*0x1d+-0x15ed*-0x1+-0x34f7*0x1),'depth':!(-0x25*0x73+0x2a2*-0xd+0x1*0x32d9),'stencil':!(-0x6db+-0x1*-0x1f66+0x188b*-0x1),'framebufferScaleFactor':_0x162ea4,'antialias':!(-0x1637+0xfcf+0x1*0x669)}),_0x30c36a!=null&&_0x30c36a['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x30c36a['gl']);}catch(_0x2919a1){this['fire']('error',_0x2919a1);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x4e5487=>{this['fire']('error',_0x4e5487);});},0x1*-0x1e95+0x132f*0x1+0xb66);}['update'](_0x4e4d0b){if(!this['_session'])return!(-0x2229+-0x593*0x1+0x27bd);const _0x55528a=_0x4e4d0b['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x2f8b29=_0x4e4d0b['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x55528a||this['_height']!==_0x2f8b29)&&(this['_width']=_0x55528a,this['_height']=_0x2f8b29,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x55528a,_0x2f8b29));const _0x4ed51a=_0x4e4d0b['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x4ed51a)return!(-0x10dd+0xdef+0x2ef*0x1);const _0x31c76e=this['views']['list']['length'];this['views']['update'](_0x4e4d0b,_0x4ed51a['views']);const _0x52f3ee=_0x4ed51a['transform']['position'],_0x2f30fe=_0x4ed51a['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x52f3ee['x'],_0x52f3ee['y'],_0x52f3ee['z']),this['_localRota'+'tion']['set'](_0x2f30fe['x'],_0x2f30fe['y'],_0x2f30fe['z'],_0x2f30fe['w']),_0x31c76e===0x255*-0x1+-0x170b+0xe0*0x1d&&this['views']['list']['length']>0x1c58*-0x1+0x1*-0x1573+0x31cb){const _0x19e3be=new te(),_0x3a67c4=this['views']['list'][-0x13d*-0xc+0x1e72+-0x2d4e];_0x19e3be['copy'](_0x3a67c4['projMat']);const _0x1460d8=_0x19e3be['data'],_0x4b6da4=(-0x12e0+-0x1586+0x2868)*Math['atan']((-0x1*0x5ba+0xff8+-0xa3d)/_0x1460d8[-0x1b05*-0x1+0x16a4+-0x12*0x2c2])*(-0x3*0x245+0xf89+-0x806)/Math['PI'],_0x5d25f7=_0x1460d8[0x2141+-0x1d*0xde+0xa*-0xcf]/_0x1460d8[0x1063*-0x1+-0x1*0x605+-0xef*-0x18],_0x3ec95e=_0x1460d8[-0xe6*-0x18+-0x1143+-0x1*0x43f]/(_0x1460d8[0x1ecc+-0xfaa+0xe*-0x114]+(0x1a9c+-0x10a*-0x13+-0x2e59)),_0x455d2e=_0x1460d8[-0x9*-0x7+0xff0+-0x1021]/(_0x1460d8[-0x1cdf+-0xb65*-0x1+0x1184]-(-0x21f4+0x47*-0x2a+0x2d9b));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x5d25f7,'farClip':_0x3ec95e,'fov':_0x4b6da4,'horizontalFov':!(0x9a9+-0x190f+0xf67),'nearClip':_0x455d2e});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4e4d0b),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4e4d0b),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4e4d0b),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4e4d0b),this['anchors']['supported']&&this['anchors']['update'](_0x4e4d0b),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4e4d0b),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4e4d0b)),this['fire']('update',_0x4e4d0b),!(-0x1a09+-0x168e*-0x1+0x37b);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x412335;return((_0x412335=this['_session'])==null?void(0x1d*0x4+0x1854+-0x34*0x7a):_0x412335['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x35379b){var _0x3278d7;(((_0x3278d7=this['_baseLayer'])==null?void(0x26d5+0x10db*0x1+-0x37b0):_0x3278d7['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x2646+-0x562*0x1+0x20e3*-0x1&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x35379b);}get['fixedFovea'+'tion'](){var _0x462aa2;return((_0x462aa2=this['_baseLayer'])==null?void(-0x1898+0x23be+-0x1*0xb26):_0x462aa2['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x316011,_0x34a846={}){super(_0x316011);const _0xa2e06f=new tL();_0xa2e06f['graphicsDe'+'vice']=_0x34a846['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x316011,_0x34a846),this['addCompone'+'ntSystems'](_0xa2e06f),this['addResourc'+'eHandles'](_0xa2e06f),_0xa2e06f['elementInp'+'ut']=_0x34a846['elementInp'+'ut'],_0xa2e06f['keyboard']=_0x34a846['keyboard'],_0xa2e06f['mouse']=_0x34a846['mouse'],_0xa2e06f['touch']=_0x34a846['touch'],_0xa2e06f['gamepads']=_0x34a846['gamepads'],_0xa2e06f['scriptPref'+'ix']=_0x34a846['scriptPref'+'ix'],_0xa2e06f['assetPrefi'+'x']=_0x34a846['assetPrefi'+'x'],_0xa2e06f['scriptsOrd'+'er']=_0x34a846['scriptsOrd'+'er'],_0xa2e06f['soundManag'+'er']=new Pw(),_0xa2e06f['lightmappe'+'r']=pL,_0xa2e06f['batchManag'+'er']=IE,_0xa2e06f['xr']=ln,this['init'](_0xa2e06f);}['createDevi'+'ce'](_0x164c0a,_0x3d6463){return _0x3d6463['graphicsDe'+'viceOption'+'s']||(_0x3d6463['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x3d6463['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0xdd*0x1d+-0x863+0x2e*0xba)),_0x3d6463['graphicsDe'+'viceOption'+'s']['alpha']=_0x3d6463['graphicsDe'+'viceOption'+'s']['alpha']||!(0x452*0x1+0x4f9+-0x94a),new aw(_0x164c0a,_0x3d6463['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1d0e6d){_0x1d0e6d['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x2d3208){_0x2d3208['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x26c13b,_0x478e16){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x144+0x25d8+0x3*-0xd09)),h(this,'_loaded',!(0x25cd*-0x1+-0x251b+0x4ae9)),h(this,'_failed',[]),(this['_registry']=_0x478e16,_0x26c13b['forEach'](_0x3d9746=>{if(_0x3d9746 instanceof pe)_0x3d9746['registry']||(_0x3d9746['registry']=_0x478e16),this['_assets']['add'](_0x3d9746);else{const _0x3a174d=_0x478e16['get'](_0x3d9746);_0x3a174d?this['_assets']['add'](_0x3a174d):this['_waitForAs'+'set'](_0x3d9746);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x27592d=>{this['_registry']['off']('add:'+_0x27592d,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x5ccd15){var _0x3b6963;return _0x5ccd15['type']==='model'&&((_0x3b6963=_0x5ccd15['file'])==null?void(-0x1eb2*-0x1+-0x3*-0x67c+0x1913*-0x2):_0x3b6963['url'])&&_0x5ccd15['file']['url']&&_0x5ccd15['file']['url']['match'](/.json$/g);}['load'](_0x58b16a,_0x439c48){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x17d7+0xdfb+-0x4ee*-0x2),this['_callback']=_0x58b16a,this['_scope']=_0x439c48,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x19f50b=!(-0x15cf+-0x18a7+-0x393*-0xd);this['_assets']['forEach'](_0x19df17=>{_0x19df17['loaded']||(_0x19f50b=!(0x257*0xb+-0x193a+-0x83),this['_assetHasD'+'ependencie'+'s'](_0x19df17)&&this['_registry']['loadFromUr'+'l'](_0x19df17['file']['url'],_0x19df17['type'],(_0x60c584,_0x38d51b)=>{if(_0x60c584){this['_onError'](_0x60c584,_0x19df17);return;}this['_onLoad'](_0x19df17);}),this['_loadingAs'+'sets']['add'](_0x19df17),this['_registry']['add'](_0x19df17));}),this['_loadingAs'+'sets']['forEach'](_0x137357=>{this['_assetHasD'+'ependencie'+'s'](_0x137357)||this['_registry']['load'](_0x137357);}),!_0x19f50b&&this['_waitingAs'+'sets']['size']===-0x2333+0x2503+-0x1d0&&this['_loadingCo'+'mplete']();}['ready'](_0x3c5070,_0x15d862=this){this['_loaded']?_0x3c5070['call'](_0x15d862,Array['from'](this['_assets'])):this['once']('load',_0x6dd0e1=>{_0x3c5070['call'](_0x15d862,_0x6dd0e1);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x253c*-0x1+0x1*0xb04+0x68e*0x4),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x40e075){this['_loadingAs'+'sets']['has'](_0x40e075)&&(this['fire']('progress',_0x40e075),this['_loadingAs'+'sets']['delete'](_0x40e075)),this['_loadingAs'+'sets']['size']===0xc*-0x2f3+0x437*0x2+0x1af6&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x3ca*-0x1+0x687*-0x4+0x1*0x1de6);}['_onError'](_0x4a0b11,_0x361edd){this['_loadingAs'+'sets']['has'](_0x361edd)&&(this['_failed']['push'](_0x361edd),this['_loadingAs'+'sets']['delete'](_0x361edd)),this['_loadingAs'+'sets']['size']===0x210f+0xb39+-0x1*0x2c48&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x669*-0x3+0xe89*-0x1+-0x10e2*-0x2);}['_onAddAsse'+'t'](_0x214eb1){this['_waitingAs'+'sets']['delete'](_0x214eb1),this['_assets']['add'](_0x214eb1),_0x214eb1['loaded']||(this['_loadingAs'+'sets']['add'](_0x214eb1),this['_registry']['load'](_0x214eb1));}['_waitForAs'+'set'](_0x434ce3){this['_waitingAs'+'sets']['add'](_0x434ce3),this['_registry']['once']('add:'+_0x434ce3,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x4d7d83,_0x3987d6){super(_0x4d7d83),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x3987d6;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1e819e=>{_0x1e819e['defaultUni'+'formBuffer']['destroy'](),_0x1e819e['destroy']();}),this['viewBindGr'+'oups']['length']=0xb39+-0x1f3f*-0x1+-0x2a78;}['update'](_0x46a25d,_0x39ae3e,_0x32f343,_0x331dec){this['camera']=_0x46a25d,this['scene']=_0x39ae3e,this['layers']=_0x32f343,this['mapping']=_0x331dec;}['execute'](){const _0x1c3b34=this['device'],{renderer:_0x2937da,camera:_0x5756da,scene:_0xb24d13,layers:_0x10ad93,mapping:_0x119bb1,renderTarget:_0x1ae38d}=this,_0x2c6fc3=_0xb24d13['layers']['layerList'],_0x33df5d=_0xb24d13['layers']['subLayerEn'+'abled'],_0x202c5a=_0xb24d13['layers']['subLayerLi'+'st'];for(let _0x52e671=0xdf9+0x468+-0x5*0x3ad;_0x52e671<_0x2c6fc3['length'];_0x52e671++){const _0xe2de6a=_0x2c6fc3[_0x52e671];if(!(_0x10ad93&&_0x10ad93['indexOf'](_0xe2de6a)<0xffc+-0x1bc9+0xbcd)&&_0xe2de6a['enabled']&&_0x33df5d[_0x52e671]&&_0xe2de6a['camerasSet']['has'](_0x5756da['camera'])){const _0x2ee6e7=_0x202c5a[_0x52e671];Q['pushGpuMar'+'ker'](_0x1c3b34,_0xe2de6a['name']+'('+(_0x2ee6e7?'TRANSP':'OPAQUE')+')'),_0xe2de6a['_clearDept'+'hBuffer']&&_0x2937da['clear'](_0x5756da['camera'],!(-0x99c*-0x1+-0x11ab*-0x1+-0x1b46),!(0x1929+0x1ef9+-0x5*0xb3a),!(0x1*-0x445+0xa18+-0x12a*0x5));const _0x2149e4=_0xe2de6a['meshInstan'+'ces'];for(let _0xd4663d=0x1a2d+0x584*-0x5+0x167;_0xd4663d<_0x2149e4['length'];_0xd4663d++){const _0x3f3086=_0x2149e4[_0xd4663d];_0x3f3086['pick']&&_0x3f3086['transparen'+'t']===_0x2ee6e7&&(Fc['push'](_0x3f3086),_0x119bb1['set'](_0x3f3086['id'],_0x3f3086));}Fc['length']>-0x2e7*0x1+0x941*-0x2+0x261*0x9&&(_0xb24d13['clusteredL'+'ightingEna'+'bled']&&_0x2937da['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x2937da['setCameraU'+'niforms'](_0x5756da['camera'],_0x1ae38d),_0x1c3b34['supportsUn'+'iformBuffe'+'rs']&&_0x2937da['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x2937da['viewUnifor'+'mFormat'],_0x2937da['viewBindGr'+'oupFormat'],null),_0x2937da['renderForw'+'ard'](_0x5756da['camera'],_0x1ae38d,Fc,_U,Zn,_0x4487cb=>{_0x1c3b34['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=0x73f+0x1a9e+-0x1*0x21dd),Q['popGpuMark'+'er'](_0x1c3b34);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x2450bb,_0x4f76db,_0x125445){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0xcfb*-0x1+-0x13*0x18e+0x7*0x613)),(w['assert'](_0x2450bb),this['renderer']=_0x2450bb['renderer'],this['device']=_0x2450bb['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x2450bb['renderer']),this['width']=0x1dbb+0x12d1+0x1846*-0x2,this['height']=0x3*0x756+-0xbd5+-0xa2d*0x1,this['resize'](_0x4f76db,_0x125445),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x12f2+0x5*-0x699+-0xe0c*-0x1);}));}['getSelecti'+'on'](_0xbf57fd,_0x5b08cf,_0x2e0bbe=-0x1f52+0x3*0xbdd+-0x444,_0x257e20=-0x318*-0x8+0x805+0x3*-0xaec){const _0x49a29f=this['device'];if(_0x49a29f['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0xbf57fd!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x5b08cf=this['renderTarg'+'et']['height']-(_0x5b08cf+_0x257e20);const _0x2c05e9=this['sanitizeRe'+'ct'](_0xbf57fd,_0x5b08cf,_0x2e0bbe,_0x257e20);_0x49a29f['setRenderT'+'arget'](this['renderTarg'+'et']),_0x49a29f['updateBegi'+'n']();const _0x13d994=new Uint8Array((-0x11*0x1f5+0x3e*-0x1a+-0x1*-0x2795)*_0x2c05e9['z']*_0x2c05e9['w']);return _0x49a29f['readPixels'](_0x2c05e9['x'],_0x2c05e9['y'],_0x2c05e9['z'],_0x2c05e9['w'],_0x13d994),_0x49a29f['updateEnd'](),this['decodePixe'+'ls'](_0x13d994,this['mapping']);}['getSelecti'+'onAsync'](_0x3e5823,_0x15ae45,_0xc215de=0x2a5*-0x4+-0x1*0x2519+0x2fae,_0x15d15c=-0xf54+-0x5*-0x2ca+-0x1*-0x163){var _0x2d7e8f;(_0x2d7e8f=this['device'])!=null&&_0x2d7e8f['isWebGL2']&&(_0x15ae45=this['renderTarg'+'et']['height']-(_0x15ae45+_0x15d15c));const _0x473850=this['sanitizeRe'+'ct'](_0x3e5823,_0x15ae45,_0xc215de,_0x15d15c);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x473850['x'],_0x473850['y'],_0x473850['z'],_0x473850['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x37*0x7+0xd54+-0xbd3*0x1)})['then'](_0x10e841=>this['decodePixe'+'ls'](_0x10e841,this['mapping']));}['sanitizeRe'+'ct'](_0x3030b3,_0xf8f966,_0x4a433c,_0x3a02fc){const _0x20c22c=this['renderTarg'+'et']['width'],_0x9ebf57=this['renderTarg'+'et']['height'];return _0x3030b3=Y['clamp'](Math['floor'](_0x3030b3),0x7b0+0x5*-0x74b+-0x1*-0x1cc7,_0x20c22c-(0x164d*0x1+-0x1681+-0x35*-0x1)),_0xf8f966=Y['clamp'](Math['floor'](_0xf8f966),-0xf52+0xb*-0xc+0xfd6,_0x9ebf57-(-0x1ce+0x2b7*-0x3+-0x9f4*-0x1)),_0x4a433c=Math['floor'](Math['max'](_0x4a433c,-0x39d*-0x3+-0x345+-0x791)),_0x4a433c=Math['min'](_0x4a433c,_0x20c22c-_0x3030b3),_0x3a02fc=Math['floor'](Math['max'](_0x3a02fc,-0x16*-0x159+0xea6+-0x2c4b)),_0x3a02fc=Math['min'](_0x3a02fc,_0x9ebf57-_0xf8f966),SU['set'](_0x3030b3,_0xf8f966,_0x4a433c,_0x3a02fc);}['decodePixe'+'ls'](_0x9dc966,_0x49b83a){const _0x58c100=[];if(this['deviceVali'+'d']){const _0x167d04=_0x9dc966['length'];for(let _0x5239de=-0x1ebd+-0x19dc*0x1+-0x3899*-0x1;_0x5239de<_0x167d04;_0x5239de+=-0x69a+0x22a6+0x12b*-0x18){const _0x558839=_0x9dc966[_0x5239de+(0x17b*0x7+0x71b*0x5+-0x16f2*0x2)],_0x108033=_0x9dc966[_0x5239de+(-0x1*0xf16+0x2b5+-0x2*-0x631)],_0x56bcf1=_0x9dc966[_0x5239de+(0x25a1+-0x1340+0x125f*-0x1)],_0x458dfb=(_0x9dc966[_0x5239de+(-0x3e*0x34+-0x147c+0xc5*0x2b)]<<0x1*0x295+-0xb9c*0x2+0x14bb|_0x558839<<-0x400+-0x10*-0x17d+0x13c*-0x10|_0x108033<<-0x4dd*0x1+0x26b9+0x4*-0x875|_0x56bcf1)>>>0xd0c+0x1c22+-0x6dd*0x6;_0x458dfb!==0x12c27c88f+-0x26b9623*0x51+0x97e2b883&&Rf['add'](_0x49b83a['get'](_0x458dfb));}Rf['forEach'](_0x33f208=>{_0x33f208&&_0x58c100['push'](_0x33f208);}),Rf['clear']();}return _0x58c100;}['allocateRe'+'nderTarget'](){const _0xefbd1f=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x1009+0xfaa*0x1+-0x1fb2),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0xefbd1f,'depth':!(-0x2*-0xfe5+-0x1b87*0x1+0x443*-0x1)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x7da574,_0x595adc,_0x273ef9){_0x273ef9 instanceof Ot&&(_0x273ef9=[_0x273ef9]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0xa3a1a3=this['renderPass'];_0xa3a1a3['init'](this['renderTarg'+'et']),_0xa3a1a3['colorOps']['clearValue']=ie['WHITE'],_0xa3a1a3['colorOps']['clear']=!(-0xdbb+0xfab+0x4*-0x7c),_0xa3a1a3['depthStenc'+'ilOps']['clearDepth']=!(-0x1ea+0x1046*-0x1+0x308*0x6),_0xa3a1a3['update'](_0x7da574,_0x595adc,_0x273ef9,this['mapping']),_0xa3a1a3['render']();}['resize'](_0x541013,_0x868d86){this['width']=Math['floor'](_0x541013),this['height']=Math['floor'](_0x868d86);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x4eb3a6,_0x52a5fa,_0x2ea324){return yU['cross'](_0x4eb3a6,_0x52a5fa)['dot'](_0x2ea324);}function xU(_0x5de901,_0x169a34,_0x4d09f6){en['sub2'](_0x169a34,_0x5de901),Nc['sub2'](_0x4d09f6[0x1048+0x264d+-0x3695],_0x5de901),Ff['sub2'](_0x4d09f6[-0x8b3+0x117b*0x2+-0x1a42*0x1],_0x5de901),OS['sub2'](_0x4d09f6[-0x1763+-0x2499+0xe*0x449],_0x5de901),kc['cross'](OS,en);let _0x5a36c4=Nc['dot'](kc),_0x2fac9a,_0x19ee8b;if(_0x5a36c4>=-0x161+0x1a3a+-0x18d9*0x1){if(_0x2fac9a=-Ff['dot'](kc),_0x2fac9a<-0x3b4*-0x5+-0x17*-0xce+-0x2506||(_0x19ee8b=BS(en,Ff,Nc),_0x19ee8b<-0xb1*0x10+-0x1*-0x13ff+-0x8ef))return-(0x19b9+-0x24d4*0x1+0xb1c);const _0x1a3852=(0x1*0x25af+-0x6*-0x1cd+-0x307c)/(_0x2fac9a+_0x5a36c4+_0x19ee8b);Uc['copy'](_0x4d09f6[0x191+-0xacb+0x1*0x93a])['mulScalar'](_0x2fac9a*_0x1a3852),Bc['copy'](_0x4d09f6[0xc8*-0x1b+-0x1*-0x1c2d+-0x714])['mulScalar'](_0x5a36c4*_0x1a3852),zc['copy'](_0x4d09f6[-0x191a+-0x81*-0x3+-0x1799*-0x1])['mulScalar'](_0x19ee8b*_0x1a3852),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x4d09f6[0x1*0xc2f+0xe03+-0x1a2f],_0x5de901),_0x2fac9a=Nf['dot'](kc),_0x2fac9a<0xd25+0x755*-0x1+0xf8*-0x6||(_0x19ee8b=BS(en,Nc,Nf),_0x19ee8b<0x91c+0xed3+-0x17ef*0x1))return-(-0x1*-0x6d7+0x1e78+-0x254e);_0x5a36c4=-_0x5a36c4;const _0x32f1bf=(-0x308*0x2+-0x2476+0x2a87)/(_0x2fac9a+_0x5a36c4+_0x19ee8b);Uc['copy'](_0x4d09f6[0xe6+0x14eb+-0x15d1])['mulScalar'](_0x2fac9a*_0x32f1bf),Bc['copy'](_0x4d09f6[0x19c9+-0x252d*0x1+-0x7*-0x1a1])['mulScalar'](_0x5a36c4*_0x32f1bf),zc['copy'](_0x4d09f6[0x158e*-0x1+-0x2105+0x3695])['mulScalar'](_0x19ee8b*_0x32f1bf),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x4d09f6[-0xb82+-0x1*-0x234d+-0x17cb],_0x4d09f6[-0x97c+-0x1*-0xcef+-0x1*0x371])['lengthSq']()<(0x5*-0x23+-0x1b4c+0x1bfb+0.0001)*(0x22e1+0x61*-0x2+-0x221f+0.0001)||en['sub2'](_0x4d09f6[-0x1581+0xe8c+0x6f6],_0x4d09f6[0x1*0x1678+-0x30f+-0x1366])['lengthSq']()<(-0x6b2+0x37b*0x3+-0x3bf+0.0001)*(-0x1*-0x26b9+0x1fc8+-0x4681+0.0001)?-(0x8bd*0x1+-0x1d9*0x13+0x2b*0x9d):kf['sub'](_0x5de901)['lengthSq']();}class Am{constructor(_0x4c9efd,_0x2a64bb,_0x217003){this['event']=_0x4c9efd,this['element']=_0x2a64bb,this['camera']=_0x217003,this['_stopPropa'+'gation']=!(0x23a*-0x5+0x5de+0x1*0x545);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0x24e9+0x2*0x284+-0x29f1),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x29a186,_0xf98c10,_0x3d9e61,_0x54a6ad,_0x2c5837,_0x2defac,_0x59dcb3){super(_0x29a186,_0xf98c10,_0x3d9e61),this['x']=_0x54a6ad,this['y']=_0x2c5837,this['ctrlKey']=_0x29a186['ctrlKey']||!(-0xbe2+0xd*0x29b+-0x15fc),this['altKey']=_0x29a186['altKey']||!(0x4*0x670+0xa6*0x2e+0x29*-0x15b),this['shiftKey']=_0x29a186['shiftKey']||!(-0x2e4*-0xc+0x1*-0xc7b+-0x1634),this['metaKey']=_0x29a186['metaKey']||!(0x178d*-0x1+-0x1*-0x2609+-0xb*0x151),this['button']=_0x29a186['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x29a186['movementX']||_0x29a186['webkitMove'+'mentX']||_0x29a186['mozMovemen'+'tX']||0x24bc+-0x5cb*-0x1+-0x2a87,this['dy']=_0x29a186['movementY']||_0x29a186['webkitMove'+'mentY']||_0x29a186['mozMovemen'+'tY']||-0x265d+-0x16c+0x27c9):(this['dx']=_0x54a6ad-_0x2defac,this['dy']=_0x2c5837-_0x59dcb3),this['wheelDelta']=0x117*0x1f+-0x1*0xdcd+0x13fc*-0x1,_0x29a186['type']==='wheel'&&(_0x29a186['deltaY']>0x201e*-0x1+-0x2*0xe2a+0xa13*0x6?this['wheelDelta']=-0x7*-0x241+0x10d9+0x1*-0x209f:_0x29a186['deltaY']<0xc0c*0x2+0x1c79+-0x3491&&(this['wheelDelta']=-(-0x1*-0x1567+0x651*0x5+-0x34fb)));}}class Ao extends Am{constructor(_0x46c3d6,_0x48b551,_0x3aed6f,_0x23626c,_0x16ada8,_0x4bca0b){super(_0x46c3d6,_0x48b551,_0x3aed6f),this['touches']=_0x46c3d6['touches'],this['changedTou'+'ches']=_0x46c3d6['changedTou'+'ches'],this['x']=_0x23626c,this['y']=_0x16ada8,this['touch']=_0x4bca0b;}}class dr extends Am{constructor(_0x3ffd54,_0x494245,_0x4b8e67,_0x2729ec){super(_0x3ffd54,_0x494245,_0x4b8e67),this['inputSourc'+'e']=_0x2729ec;}}class Xo{constructor(_0x21159a,_0x21d051){this['_app']=null,this['_attached']=!(-0xe48+0x2243+-0x13fa),this['_target']=null,this['_enabled']=!(0x6*0x404+0x8ba+-0x20d2),this['_lastX']=0x1ce2*-0x1+-0x1807+0x7*0x78f,this['_lastY']=-0x2+0x1bb*0xb+-0x1307*0x1,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x21d051||_0x21d051['useMouse']!==!(-0x2178+-0x1169+0x3ea*0xd),this['_useTouch']=!_0x21d051||_0x21d051['useTouch']!==!(0x1*0x990+0xf45+-0xe3*0x1c),this['_useXr']=!_0x21d051||_0x21d051['useXr']!==!(-0xd19+0x1ae6+-0xdcc),this['_selectEve'+'ntsAttache'+'d']=!(0x2be+0x166f+-0x192c),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x21159a);}set['enabled'](_0x8bd7a8){this['_enabled']=_0x8bd7a8;}get['enabled'](){return this['_enabled'];}set['app'](_0x3a602c){this['_app']=_0x3a602c;}get['app'](){return this['_app']||Ms();}['attach'](_0x19334e){this['_attached']&&(this['_attached']=!(0x2c3+-0x120f+0xf4d),this['detach']()),this['_target']=_0x19334e,this['_attached']=!(0x3*-0x26b+-0x1a08+-0x1*-0x2149);const _0x494619=Ae['passiveEve'+'nts']?{'passive':!(-0x24e4+0x119d+0x1347)}:!(-0x2171+0x212d+-0x17*-0x3);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x494619),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x494619),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x494619),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x494619)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x494619),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x1b76+-0xe4f+-0x132*0xb)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x5fd*0x6+0x103c+-0x3429)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x1457+-0x106*-0x25+0x4*-0xe8d))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0xc95+-0xb5d+-0x138),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x2d8+-0x6*-0x656+-0x3*0xbb9);const _0xa30d5f=Ae['passiveEve'+'nts']?{'passive':!(0xdea+0x1f40+-0x2d2a)}:!(0x9*-0x1c1+-0x1c*-0xc+-0x2*-0x73d);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0xa30d5f),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0xa30d5f),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0xa30d5f),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0xa30d5f)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0xa30d5f),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x1d87+0x21*-0x33+-0x16f3)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0xebf+-0x647+-0x877)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x154d+-0x1c56+0x3*0x108c))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x2243+0x15c0+0x4*0x321),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x9a6a5b){this['_elements']['indexOf'](_0x9a6a5b)===-(-0x22ab+-0x1be7+-0x3e93*-0x1)&&this['_elements']['push'](_0x9a6a5b);}['removeElem'+'ent'](_0x15f029){const _0x433843=this['_elements']['indexOf'](_0x15f029);_0x433843!==-(0x40*0x9b+-0x16*0x9f+-0x1*0x1915)&&this['_elements']['splice'](_0x433843,0x515*0x3+0x13e0+-0x231e);}['_handleUp'](_0x5a3d93){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x5a3d93),this['_onElement'+'MouseEvent']('mouseup',_0x5a3d93)));}['_handleDow'+'n'](_0x2e5281){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2e5281),this['_onElement'+'MouseEvent']('mousedown',_0x2e5281)));}['_handleMov'+'e'](_0x4f857c){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4f857c),this['_onElement'+'MouseEvent']('mousemove',_0x4f857c),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x14d41d){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x14d41d),this['_onElement'+'MouseEvent']('mousewheel',_0x14d41d));}['_determine'+'TouchedEle'+'ments'](_0x12cf32){const _0x147220={},_0x122f2e=this['app']['systems']['camera']['cameras'];for(let _0x56c3d9=_0x122f2e['length']-(-0x4*0x17d+-0xa2d*0x3+0x247c);_0x56c3d9>=0x1736+-0x178e+0x4*0x16;_0x56c3d9--){const _0x14c32e=_0x122f2e[_0x56c3d9];let _0x4a3a3d=0x17b1+0xd5f+-0x1*0x2510;const _0x3a81a5=_0x12cf32['changedTou'+'ches']['length'];for(let _0x474e67=-0x12da+0x1188+0xd*0x1a;_0x474e67<_0x3a81a5;_0x474e67++){if(_0x147220[_0x12cf32['changedTou'+'ches'][_0x474e67]['identifier']]){_0x4a3a3d++;continue;}const _0x293171=Wc(_0x12cf32['changedTou'+'ches'][_0x474e67]),_0x5d9995=this['_getTarget'+'ElementByC'+'oords'](_0x14c32e,_0x293171['x'],_0x293171['y']);_0x5d9995&&(_0x4a3a3d++,_0x147220[_0x12cf32['changedTou'+'ches'][_0x474e67]['identifier']]={'element':_0x5d9995,'camera':_0x14c32e,'x':_0x293171['x'],'y':_0x293171['y']});}if(_0x4a3a3d===_0x3a81a5)break;}return _0x147220;}['_handleTou'+'chStart'](_0x52d271){if(!this['_enabled'])return;const _0x160531=this['_determine'+'TouchedEle'+'ments'](_0x52d271);for(let _0x3d0e18=0x51*0x2e+0x1cca+-0x2b58,_0x5db41d=_0x52d271['changedTou'+'ches']['length'];_0x3d0e18<_0x5db41d;_0x3d0e18++){const _0x362c6a=_0x52d271['changedTou'+'ches'][_0x3d0e18],_0x3b4f81=_0x160531[_0x362c6a['identifier']],_0x4832e3=this['_touchedEl'+'ements'][_0x362c6a['identifier']];_0x3b4f81&&(!_0x4832e3||_0x3b4f81['element']!==_0x4832e3['element'])&&(this['_fireEvent'](_0x52d271['type'],new Ao(_0x52d271,_0x3b4f81['element'],_0x3b4f81['camera'],_0x3b4f81['x'],_0x3b4f81['y'],_0x362c6a)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x362c6a['identifier']]=!(-0x20c7*-0x1+-0x1*0x2048+0x6*-0x15));}for(const _0x39dca1 in _0x160531)this['_touchedEl'+'ements'][_0x39dca1]=_0x160531[_0x39dca1];}['_handleTou'+'chEnd'](_0x552125){if(!this['_enabled'])return;const _0xa35ee8=this['app']['systems']['camera']['cameras'];for(const _0x2abcb0 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x2abcb0];for(let _0x5621a3=0x1b81*-0x1+-0x445+0x1fc6*0x1,_0x2ddd8b=_0x552125['changedTou'+'ches']['length'];_0x5621a3<_0x2ddd8b;_0x5621a3++){const _0x395ae1=_0x552125['changedTou'+'ches'][_0x5621a3],_0x444109=this['_touchedEl'+'ements'][_0x395ae1['identifier']];if(!_0x444109)continue;const _0xafb50a=_0x444109['element'],_0x51fcab=_0x444109['camera'],_0x157ad9=_0x444109['x'],_0x325397=_0x444109['y'];delete this['_touchedEl'+'ements'][_0x395ae1['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x395ae1['identifier']];const _0x17081f=Wc(_0x395ae1);for(let _0x4a1600=_0xa35ee8['length']-(0xbe*0x20+0x119a+-0x2959);_0x4a1600>=0x2616*0x1+-0x3*0x295+-0x1e57;_0x4a1600--)this['_getTarget'+'ElementByC'+'oords'](_0xa35ee8[_0x4a1600],_0x17081f['x'],_0x17081f['y'])===_0xafb50a&&(this['_clickedEn'+'tities'][_0xafb50a['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x552125,_0xafb50a,_0x51fcab,_0x157ad9,_0x325397,_0x395ae1)),this['_clickedEn'+'tities'][_0xafb50a['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x552125['type'],new Ao(_0x552125,_0xafb50a,_0x51fcab,_0x157ad9,_0x325397,_0x395ae1));}}['_handleTou'+'chMove'](_0x4c7142){if(_0x4c7142['preventDef'+'ault'](),!this['_enabled'])return;const _0x42bb79=this['_determine'+'TouchedEle'+'ments'](_0x4c7142);for(let _0x3c34df=-0x20a9+0x1cf6+0x3b3,_0x14f86b=_0x4c7142['changedTou'+'ches']['length'];_0x3c34df<_0x14f86b;_0x3c34df++){const _0x193a58=_0x4c7142['changedTou'+'ches'][_0x3c34df],_0x31b569=_0x42bb79[_0x193a58['identifier']],_0x486a07=this['_touchedEl'+'ements'][_0x193a58['identifier']];if(_0x486a07){const _0x9ada50=Wc(_0x193a58);(!_0x31b569||_0x31b569['element']!==_0x486a07['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x193a58['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x4c7142,_0x486a07['element'],_0x486a07['camera'],_0x9ada50['x'],_0x9ada50['y'],_0x193a58)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x193a58['identifier']]=!(-0xd15+-0xe46+0x1b5b)),this['_fireEvent']('touchmove',new Ao(_0x4c7142,_0x486a07['element'],_0x486a07['camera'],_0x9ada50['x'],_0x9ada50['y'],_0x193a58));}}}['_onElement'+'MouseEvent'](_0xc1c270,_0x3d1dac){let _0x4bf758=null;const _0xa122bf=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x170106=this['app']['systems']['camera']['cameras'];let _0x4ce985;for(let _0x30800d=_0x170106['length']-(-0x1271+-0x97a*0x1+0x6fb*0x4);_0x30800d>=-0x15*-0x1a5+0x1db4+-0x403d&&(_0x4ce985=_0x170106[_0x30800d],_0x4bf758=this['_getTarget'+'ElementByC'+'oords'](_0x4ce985,cr,hr),!_0x4bf758);_0x30800d--);if(this['_hoveredEl'+'ement']=_0x4bf758,(_0xc1c270==='mousemove'||_0xc1c270==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0xc1c270,new bo(_0x3d1dac,this['_pressedEl'+'ement'],_0x4ce985,cr,hr,this['_lastX'],this['_lastY'])):_0x4bf758&&(this['_fireEvent'](_0xc1c270,new bo(_0x3d1dac,_0x4bf758,_0x4ce985,cr,hr,this['_lastX'],this['_lastY'])),_0xc1c270==='mousedown'&&(this['_pressedEl'+'ement']=_0x4bf758)),_0xa122bf!==this['_hoveredEl'+'ement']&&(_0xa122bf&&this['_fireEvent']('mouseleave',new bo(_0x3d1dac,_0xa122bf,_0x4ce985,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x3d1dac,this['_hoveredEl'+'ement'],_0x4ce985,cr,hr,this['_lastX'],this['_lastY']))),_0xc1c270==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x3ff08a=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x119437=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x1f7cbb=this['_clickedEn'+'tities'][_0x3ff08a]||0x29*0x9e+0x77b*-0x2+-0x296*0x4;_0x119437=Date['now']()-_0x1f7cbb>0x1326*-0x1+0xcf3+-0x3*-0x275,delete this['_clickedEn'+'tities'][_0x3ff08a];}_0x119437&&this['_fireEvent']('click',new bo(_0x3d1dac,this['_hoveredEl'+'ement'],_0x4ce985,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0xbe73df=this['app']['xr']['input']['inputSourc'+'es'];for(let _0xfc3fbd=-0x18b1+0x996*-0x1+0x2247;_0xfc3fbd<_0xbe73df['length'];_0xfc3fbd++)this['_onElement'+'SelectEven'+'t']('selectmove',_0xbe73df[_0xfc3fbd],null);}['_onXrInput'+'Remove'](_0xdb2097){const _0x381b0d=this['_selectedE'+'lements'][_0xdb2097['id']];_0x381b0d&&(_0xdb2097['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x381b0d,null,_0xdb2097))),delete this['_selectedE'+'lements'][_0xdb2097['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0xdb2097['id']];}['_onSelectS'+'tart'](_0x41041e,_0x469076){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x41041e,_0x469076);}['_onSelectE'+'nd'](_0x5e09e4,_0x4f7b28){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x5e09e4,_0x4f7b28);}['_onElement'+'SelectEven'+'t'](_0x41e8c7,_0x50a29c,_0x2a376f){let _0x273704;const _0xbbdfce=this['_selectedE'+'lements'][_0x50a29c['id']];let _0x10fae2;const _0x1f5901=this['app']['systems']['camera']['cameras'];let _0x26da56;if(_0x50a29c['elementInp'+'ut']){ep['set'](_0x50a29c['getOrigin'](),_0x50a29c['getDirecti'+'on']());for(let _0x4ee83c=_0x1f5901['length']-(-0x118a+0x739+0xa52);_0x4ee83c>=-0x1ca*0xa+-0xf5*-0x10+-0xf*-0x2c&&(_0x26da56=_0x1f5901[_0x4ee83c],_0x273704=this['_getTarget'+'ElementByR'+'ay'](ep,_0x26da56),!_0x273704);_0x4ee83c--);}_0x50a29c['_elementEn'+'tity']=_0x273704||null,_0x273704?(this['_selectedE'+'lements'][_0x50a29c['id']]=_0x273704,_0x10fae2=_0x273704):delete this['_selectedE'+'lements'][_0x50a29c['id']],_0xbbdfce!==_0x10fae2&&(_0xbbdfce&&this['_fireEvent']('selectleav'+'e',new dr(_0x2a376f,_0xbbdfce,_0x26da56,_0x50a29c)),_0x10fae2&&this['_fireEvent']('selectente'+'r',new dr(_0x2a376f,_0x10fae2,_0x26da56,_0x50a29c)));const _0x5b2ef7=this['_selectedP'+'ressedElem'+'ents'][_0x50a29c['id']];_0x41e8c7==='selectmove'&&_0x5b2ef7&&this['_fireEvent']('selectmove',new dr(_0x2a376f,_0x5b2ef7,_0x26da56,_0x50a29c)),_0x41e8c7==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x50a29c['id']]=_0x10fae2,_0x10fae2&&this['_fireEvent']('selectstar'+'t',new dr(_0x2a376f,_0x10fae2,_0x26da56,_0x50a29c))),!_0x50a29c['elementInp'+'ut']&&_0x5b2ef7&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x50a29c['id']],_0xbbdfce&&this['_fireEvent']('selectend',new dr(_0x2a376f,_0x5b2ef7,_0x26da56,_0x50a29c))),_0x41e8c7==='selectend'&&_0x50a29c['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x50a29c['id']],_0x5b2ef7&&this['_fireEvent']('selectend',new dr(_0x2a376f,_0x5b2ef7,_0x26da56,_0x50a29c)),_0x5b2ef7&&_0x5b2ef7===_0xbbdfce&&this['_fireEvent']('click',new dr(_0x2a376f,_0x5b2ef7,_0x26da56,_0x50a29c)));}['_fireEvent'](_0x569cc2,_0x15f433){let _0x3a0920=_0x15f433['element'];for(;_0x3a0920['fire'](_0x569cc2,_0x15f433),!(_0x15f433['_stopPropa'+'gation']||!_0x3a0920['entity']['parent']||(_0x3a0920=_0x3a0920['entity']['parent']['element'],!_0x3a0920)););}['_calcMouse'+'Coords'](_0x4b7965){const _0x11043=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x44b527=Math['floor'](_0x11043['left']),_0x581a19=Math['floor'](_0x11043['top']);cr=_0x4b7965['clientX']-_0x44b527,hr=_0x4b7965['clientY']-_0x581a19;}['_sortEleme'+'nts'](_0x1a967c,_0x29cc61){const _0xc76fd6=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x1a967c['layers'],_0x29cc61['layers']);return _0xc76fd6!==0x772+-0x6*0x300+0xa8e?_0xc76fd6:_0x1a967c['screen']&&!_0x29cc61['screen']?-(-0x554+-0x1*0x219e+0x26f3):!_0x1a967c['screen']&&_0x29cc61['screen']?0x9f5+-0x8e2+-0x112:!_0x1a967c['screen']&&!_0x29cc61['screen']?0xa2+-0x2579*0x1+-0x24d7*-0x1:_0x1a967c['screen']['screen']['screenSpac'+'e']&&!_0x29cc61['screen']['screen']['screenSpac'+'e']?-(-0x43f*-0x2+0x5*-0x105+0x364*-0x1):_0x29cc61['screen']['screen']['screenSpac'+'e']&&!_0x1a967c['screen']['screen']['screenSpac'+'e']?0x3*0xc59+-0xba6+-0x1964:_0x29cc61['drawOrder']-_0x1a967c['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x313224,_0x1fd823,_0x118a22){const _0x45821e=this['_calculate'+'RayScreen'](_0x1fd823,_0x118a22,_0x313224,Ri)?Ri:null,_0x4f49bb=this['_calculate'+'Ray3d'](_0x1fd823,_0x118a22,_0x313224,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x313224,_0x45821e,_0x4f49bb);}['_getTarget'+'ElementByR'+'ay'](_0x317058,_0x54362e){Ri['origin']['copy'](_0x317058['origin']),Ri['direction']['copy'](_0x317058['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x54362e['farClip']*(0x12e2+0x1de5+-0x30c5))['add'](Ri['origin']);const _0x185f7d=Ri,_0xd771cc=_0x54362e['worldToScr'+'een'](_0x185f7d['origin'],Of),_0x1c88db=this['_calculate'+'RayScreen'](_0xd771cc['x'],_0xd771cc['y'],_0x54362e,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x54362e,_0x1c88db,_0x185f7d);}['_getTarget'+'Element'](_0xcdf93b,_0x2a0873,_0x38020a){let _0x588b5a=null,_0x2f517b=(0x17ca+0x1077+0xb8*-0x38)/(-0x1ff8+0x20d*-0x7+-0x1*-0x2e53);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x5954e5=-0xdc8+0x599+0x82f,_0x2a22be=this['_elements']['length'];_0x5954e5<_0x2a22be;_0x5954e5++){const _0x1d5828=this['_elements'][_0x5954e5];if(_0x1d5828['layers']['some'](_0x47d50b=>_0xcdf93b['layersSet']['has'](_0x47d50b))){if(_0x1d5828['screen']&&_0x1d5828['screen']['screen']['screenSpac'+'e']){if(!_0x2a0873)continue;if(this['_checkElem'+'ent'](_0x2a0873,_0x1d5828,!(0x1d6c+-0x781+-0x15eb))>=0xa94+-0x131*-0x1d+-0x2d21*0x1){_0x588b5a=_0x1d5828;break;}}else{if(!_0x38020a)continue;const _0x307665=this['_checkElem'+'ent'](_0x38020a,_0x1d5828,!(-0x2*0x24b+0xe55+-0x3a*0x2b));if(_0x307665>=-0x7e*0x6+-0x6*0x296+0x2*0x93c&&(_0x307665<_0x2f517b&&(_0x588b5a=_0x1d5828,_0x2f517b=_0x307665),_0x1d5828['screen'])){_0x588b5a=_0x1d5828;break;}}}}return _0x588b5a;}['_calculate'+'RayScreen'](_0x50c4cb,_0x58a359,_0x13aa63,_0x4df526){const _0x322640=this['app']['graphicsDe'+'vice']['width'],_0x152a00=this['app']['graphicsDe'+'vice']['height'],_0x42706f=_0x13aa63['rect']['z']*_0x322640,_0x5e423f=_0x13aa63['rect']['w']*_0x152a00,_0x5edb1c=_0x13aa63['rect']['x']*_0x322640,_0x4a3887=_0x5edb1c+_0x42706f,_0x581f82=(-0x3d7+0x266e+-0x2296-_0x13aa63['rect']['y'])*_0x152a00,_0x38da87=_0x581f82-_0x5e423f;let _0x581e72=_0x50c4cb*_0x322640/this['_target']['clientWidt'+'h'],_0x3ee9ef=_0x58a359*_0x152a00/this['_target']['clientHeig'+'ht'];return _0x581e72>=_0x5edb1c&&_0x581e72<=_0x4a3887&&_0x3ee9ef<=_0x581f82&&_0x3ee9ef>=_0x38da87?(_0x581e72=_0x322640*(_0x581e72-_0x5edb1c)/_0x42706f,_0x3ee9ef=_0x152a00*(_0x3ee9ef-_0x38da87)/_0x5e423f,_0x3ee9ef=_0x152a00-_0x3ee9ef,_0x4df526['origin']['set'](_0x581e72,_0x3ee9ef,0x217+0x1a*0x6d+-0xd28),_0x4df526['direction']['set'](-0x1a81+-0x836+0x1*0x22b7,0x2e2+-0x2671+0x238f*0x1,-(0x1*-0x45f+-0x2b*0x52+0x1226)),_0x4df526['end']['copy'](_0x4df526['direction'])['mulScalar'](-0xc3a+-0xcbf*0x2+0x25ba)['add'](_0x4df526['origin']),!(0x2*0x99a+-0x13ae+-0x2*-0x3d)):!(-0xaa7+0x34c+-0x3ae*-0x2);}['_calculate'+'Ray3d'](_0x504f39,_0x171e23,_0x4391e1,_0x18f04d){const _0x36a852=this['_target']['clientWidt'+'h'],_0x247412=this['_target']['clientHeig'+'ht'],_0x16d035=_0x4391e1['rect']['z']*_0x36a852,_0x36ac18=_0x4391e1['rect']['w']*_0x247412,_0x20eed7=_0x4391e1['rect']['x']*_0x36a852,_0x18e3ad=_0x20eed7+_0x16d035,_0x52cb74=(0x1090+-0x45d*-0x2+0x1949*-0x1-_0x4391e1['rect']['y'])*_0x247412,_0x152ff8=_0x52cb74-_0x36ac18;let _0xc51cdd=_0x504f39,_0x2b42bb=_0x171e23;return _0x504f39>=_0x20eed7&&_0x504f39<=_0x18e3ad&&_0x171e23<=_0x52cb74&&_0x2b42bb>=_0x152ff8?(_0xc51cdd=_0x36a852*(_0xc51cdd-_0x20eed7)/_0x16d035,_0x2b42bb=_0x247412*(_0x2b42bb-_0x152ff8)/_0x36ac18,_0x4391e1['screenToWo'+'rld'](_0xc51cdd,_0x2b42bb,_0x4391e1['nearClip'],Of),_0x4391e1['screenToWo'+'rld'](_0xc51cdd,_0x2b42bb,_0x4391e1['farClip'],RS),_0x18f04d['origin']['copy'](Of),_0x18f04d['direction']['set'](-0x13*-0x18+-0x5*0x305+0xd51,-0x5*0x3d9+0x7fc+0xb41,-(0xc3c+0x9*-0x313+-0xd0*-0x13)),_0x18f04d['end']['copy'](RS),!(-0x388+-0x267*0xf+0x2791)):!(-0x1abc+0xac9+0x1*0xff4);}['_checkElem'+'ent'](_0x5e291d,_0x572c00,_0x477560){if(_0x572c00['maskedBy']&&this['_checkElem'+'ent'](_0x5e291d,_0x572c00['maskedBy']['element'],_0x477560)<-0x15ab+0x16a7+-0xfc)return-(0x2126+-0x24ec+0x3c7);let _0x6b37c8;_0x477560?_0x6b37c8=Xo['calculateS'+'caleToScre'+'en'](_0x572c00):_0x6b37c8=Xo['calculateS'+'caleToWorl'+'d'](_0x572c00);const _0x4372c0=Xo['buildHitCo'+'rners'](_0x572c00,_0x477560?_0x572c00['screenCorn'+'ers']:_0x572c00['worldCorne'+'rs'],_0x6b37c8);return xU(_0x5e291d['origin'],_0x5e291d['end'],_0x4372c0);}static['buildHitCo'+'rners'](_0x4675c7,_0x1901ff,_0x1e2e70){let _0x7b313b=_0x1901ff;if(_0x4675c7['entity']&&_0x4675c7['entity']['button']){const _0x271203=_0x4675c7['entity']['button']['hitPadding']||vU;wo['copy'](_0x4675c7['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x4*-0x440+-0x15*-0x13b+0x2*-0x156b)),Eo['copy'](_0x4675c7['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0xfad+0x5*-0x459+0x611)),wo['mulScalar'](_0x271203['w']*_0x1e2e70['y']),Vc['mulScalar'](_0x271203['y']*_0x1e2e70['y']),Eo['mulScalar'](_0x271203['z']*_0x1e2e70['x']),Gc['mulScalar'](_0x271203['x']*_0x1e2e70['x']),FS['copy'](_0x7b313b[-0x8fb+-0x1*-0x2239+-0x193e])['add'](Vc)['add'](Gc),NS['copy'](_0x7b313b[-0x1*-0x2029+0xe41+-0x6d*0x6d])['add'](Vc)['add'](Eo),kS['copy'](_0x7b313b[-0xbf7+-0x110f+0x1d08])['add'](wo)['add'](Eo),US['copy'](_0x7b313b[-0x1bfe+-0x1631+0x1*0x3232])['add'](wo)['add'](Gc),_0x7b313b=[FS,NS,kS,US];}if(_0x1e2e70['x']<-0xe60+-0x7*0x4c5+0x2fc3){const _0x3d3d98=_0x7b313b[-0xa7e*0x1+-0xe89+-0x11*-0x179]['x'],_0x4f721a=_0x7b313b[-0x21d1*-0x1+-0x3*-0x5dd+-0x3368]['x'];_0x7b313b[0x3e+-0x50b+0x1*0x4cd]['x']=_0x3d3d98,_0x7b313b[0x10ab+-0x93b+-0x76f]['x']=_0x4f721a,_0x7b313b[-0x1*0xc5+0x2482+0x23bb*-0x1]['x']=_0x4f721a,_0x7b313b[-0x84a+-0x1*-0x2459+-0x1c0c]['x']=_0x3d3d98;}if(_0x1e2e70['y']<0xb7+0x49a*0x5+-0x17b9){const _0x466ec5=_0x7b313b[-0x942*0x3+0x164f*-0x1+0x1*0x3217]['y'],_0xa11050=_0x7b313b[0xe75+-0x5e8+-0xb*0xc7]['y'];_0x7b313b[-0xac7+-0x1*-0x11ea+-0x7*0x105]['y']=_0x466ec5,_0x7b313b[-0xf9*-0x1+0xc9+0x1*-0x1c1]['y']=_0x466ec5,_0x7b313b[0xac+0x1e24+-0x1ece]['y']=_0xa11050,_0x7b313b[0x16e5+0x68e*-0x2+-0x4e3*0x2]['y']=_0xa11050;}if(_0x1e2e70['z']<-0x125d+-0x1aac+0x2d09){const _0x103571=_0x7b313b[0x1bb2+0x4df*0x3+-0x2a4d]['x'],_0x34eda7=_0x7b313b[0x11d4+-0x20e7+-0x9*-0x1ad]['y'],_0x3754de=_0x7b313b[-0x16f0*-0x1+0x1*0xa96+-0xdc*0x27]['z'];_0x7b313b[0xce8+-0xd3c*0x1+0x2*0x2b]['x']=_0x7b313b[0xf9e+0x1*-0x2183+0x1*0x11e5]['x'],_0x7b313b[-0x9*0x87+0x2606*0x1+-0x2145]['y']=_0x7b313b[0xc66*0x2+-0x3*0x87e+-0x57*-0x2]['y'],_0x7b313b[-0x22e*-0x5+-0x17c2+0x6*0x225]['z']=_0x7b313b[0x6d6*0x2+0xe*0x1f7+0x6dd*-0x6]['z'],_0x7b313b[-0x2132+-0x1650+0x3782]['x']=_0x103571,_0x7b313b[-0x4ed+0x1416+-0xf29]['y']=_0x34eda7,_0x7b313b[-0x242b+-0x1af0+0x3*0x1509]['z']=_0x3754de;}return _0x7b313b;}static['calculateS'+'caleToScre'+'en'](_0x461f18){let _0x24baa0=_0x461f18['entity'];const _0xb1126=_0x461f18['screen']['screen']['scale'];for(tn['set'](_0xb1126,_0xb1126,_0xb1126);_0x24baa0&&!_0x24baa0['screen'];)tn['mul'](_0x24baa0['getLocalSc'+'ale']()),_0x24baa0=_0x24baa0['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x4914b1){let _0x2a426d=_0x4914b1['entity'];for(tn['set'](0x2304+-0x531+-0x1dd2,-0xa26*0x3+0x17c+0x1cf7,-0x1c2a+0x116b+0xac0);_0x2a426d;)tn['mul'](_0x2a426d['getLocalSc'+'ale']()),_0x2a426d=_0x2a426d['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x501adf,_0x145c8e){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x501adf,new _m(_0x145c8e));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x3f830c){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x54eb2){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x54eb2?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x9930ae){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x9930ae?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),0x3*0x439+0x1*-0xf7f+-0x2*-0x36a;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0xa50+-0x1*0x1619+-0x1*-0xbc9);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0xa06+-0x4a+0xa50);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x1*0xd1+-0x1*0x91c+0x9ed);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x1*0x228f+-0xf*-0x226+0x42c9*-0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x1*0x11ab+-0x2602+-0x1*-0x1457);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x1d9c+0xfe0+-0x2d7c);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x12f*0x1f+0x1d3e+-0x1*0x41ef);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x2627+-0x1a97+-0xb90);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x2*-0x89e+0x1*-0x372+0x14ae*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x1ebe+-0x16*-0xc8+0x5*0x2b6);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x8c7+0x73*-0x1+-0xa4*0xd);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x6b7992,_0xd55a05){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x57117c=this['blendState'];ut['copy'](_0x57117c),ut['setColorBl'+'end'](_0x57117c['colorOp'],_0x6b7992,_0xd55a05),ut['setAlphaBl'+'end'](_0x57117c['alphaOp'],_0x6b7992,_0xd55a05),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x179400,_0x2be5eb,_0x498f71,_0x3013e7){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x144d68=this['blendState'];ut['copy'](_0x144d68),ut['setColorBl'+'end'](_0x144d68['colorOp'],_0x179400,_0x2be5eb),ut['setAlphaBl'+'end'](_0x144d68['alphaOp'],_0x498f71,_0x3013e7),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x2e9604){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0xa69f1a=this['blendState'];ut['copy'](_0xa69f1a),ut['setColorBl'+'end'](_0x2e9604,_0xa69f1a['colorSrcFa'+'ctor'],_0xa69f1a['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x2e9604,_0xa69f1a['alphaSrcFa'+'ctor'],_0xa69f1a['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x12eea7,_0x3b1782){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x1e58fa=this['blendState'];ut['copy'](_0x1e58fa),ut['setColorBl'+'end'](_0x12eea7,_0x1e58fa['colorSrcFa'+'ctor'],_0x1e58fa['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x3b1782,_0x1e58fa['alphaSrcFa'+'ctor'],_0x1e58fa['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0xdde9ee,_0x4b9847,_0x5a0be2,_0x4efa2d){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x2578cc=this['blendState'];ut['copy'](_0x2578cc),ut['setColorWr'+'ite'](_0xdde9ee,_0x4b9847,_0x5a0be2,_0x4efa2d),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x21d6fd){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x21d6fd,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x387642){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x387642,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x2d5b95){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x2d5b95,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x490bee){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x490bee,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x12b928,_0x475552){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x475552+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x475552);},'set'(_0x31d367,_0x2e6f8e,_0x485d6a){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x2e6f8e+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x2e6f8e,_0x485d6a),!(0x1e31+-0x1f73*-0x1+-0x3da4);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x48dc25){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x48dc25;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x3d698b){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x3d698b;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x4e8616){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x4e8616;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x43276a){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x43276a;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x4fa7e6){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x352b94){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x2ab9d6){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x199c7a,_0x107f3d)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x199c7a,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x199c7a+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x107f3d];},'set':function(_0x2bb2c7){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x199c7a+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x107f3d]=_0x2bb2c7,this['updateShad'+'ers']=!(-0x1e7*-0xd+0x15b*-0x5+-0x11f4);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x1583fe,_0x3a3df2,_0x44b08d=''){Object['defineProp'+'erty'](_0x1583fe['prototype'],_0x3a3df2,{'set':function(_0x2f2133){w['errorOnce'](_0x1583fe['name']+'#'+_0x3a3df2+('\x20has\x20been\x20'+'removed.\x20')+_0x44b08d);},'get':function(){w['errorOnce'](_0x1583fe['name']+'#'+_0x3a3df2+('\x20has\x20been\x20'+'removed.\x20')+_0x44b08d);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x3876b3){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x3876b3);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x556e1e){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x556e1e];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x51b0d8){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x51b0d8;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x5f414d){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x449011){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x449011;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x10a0+-0x15ad+0x26b1);},'set':function(_0x489456){this['gloss']=_0x489456*(0x17c9+-0x1adf+-0x5*-0x9e+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x309f14){this['useTonemap']=_0x309f14;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x33e875=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x2003+0x1b8a+0x25*0x1f)));return this['anisotropy'+'Intensity']*_0x33e875;},'set':function(_0x443cb2){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x443cb2),_0x443cb2>=0x1ce7+-0x149f+-0x848*0x1?this['anisotropy'+'Rotation']=-0x1*-0x195f+-0x578+-0x13e7*0x1:this['anisotropy'+'Rotation']=0x1*-0x63c+-0x1227*0x1+0x18bd;}});function Qs(_0x23f97d,_0x3c9df3){Object['defineProp'+'erty'](Ut['prototype'],_0x3c9df3,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x3c9df3+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x23f97d+'\x20instead.'),this[_0x23f97d];},'set':function(_0x2fac3e){w['deprecated']('pc.Standar'+'dMaterial#'+_0x3c9df3+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x23f97d+'\x20instead.'),this[_0x23f97d]=_0x2fac3e;}});}function Id(_0x43b450){Object['defineProp'+'erty'](Ut['prototype'],_0x43b450,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x43b450+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x43b450+('\x20was\x20alway'+'s\x20true')),!(-0x1*0x12e+0xfe7+-0xeb9);},'set':function(_0x5701c6){w['deprecated']('pc.Standar'+'dMaterial#'+_0x43b450+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x43b450+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x523c21,_0xa88ab4){_0x523c21!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x523c21,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x523c21+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0xa88ab4||_0x523c21)+'.'),this['litOptions'][_0xa88ab4||_0x523c21];},'set':function(_0x3b19dd){w['deprecated']('Setting\x20pc'+'.Options#'+_0x523c21+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0xa88ab4||_0x523c21)+'.'),this['litOptions'][_0xa88ab4||_0x523c21]=_0x3b19dd;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x44e82f){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x44e82f);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x26ce+-0x2241+-0x48b);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x1ac5+0xe64+-0x2b*0xf5);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x4c2351,_0x2cb08a,_0x290dc1){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x4c2351=_0x4c2351||this['graphicsDe'+'vice']['canvas'];const _0x5910e5=function(){_0x2cb08a(),document['removeEven'+'tListener']('fullscreen'+'change',_0x5910e5);},_0xed119d=function(){_0x290dc1(),document['removeEven'+'tListener']('fullscreen'+'error',_0xed119d);};_0x2cb08a&&document['addEventLi'+'stener']('fullscreen'+'change',_0x5910e5,!(-0x26a0+-0x7c*0x2f+0x193*0x27)),_0x290dc1&&document['addEventLi'+'stener']('fullscreen'+'error',_0xed119d,!(0x1c2d+0x2*-0xee3+-0x5*-0x52)),_0x4c2351['requestFul'+'lscreen']?_0x4c2351['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x290dc1();},Ks['prototype']['disableFul'+'lscreen']=function(_0x280fc9){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x588ffc=function(){_0x280fc9(),document['removeEven'+'tListener']('fullscreen'+'change',_0x588ffc);};_0x280fc9&&document['addEventLi'+'stener']('fullscreen'+'change',_0x588ffc,!(0xb0b+0x24b*0x10+0x1*-0x2fba)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x408a61){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x5405b3=this['scenes']['find'](_0x408a61);return _0x5405b3?_0x5405b3['url']:null;},Ks['prototype']['loadScene']=function(_0xdf2e35,_0x6c30cb){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0xdf2e35,_0x6c30cb);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x1323df,_0x2d1321){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x1323df,_0x2d1321);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x494e4b,_0x2be5a5){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x494e4b,_0x2be5a5);},Tm['prototype']['setVisible']=function(_0x9c7d02){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x9c7d02;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x22dba3){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x22dba3;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x4*0x996+-0x2b9+0x2912?this['gravity']['copy'](arguments[0xefe+0xe01+-0xd*0x23b]):this['gravity']['set'](arguments[0x3*-0x287+0x2db+-0xb*-0x6e],arguments[-0x1303+0x1*-0x3c5+0x16c9*0x1],arguments[0xf47+0x1*0xb3c+-0x73*0x3b]);};class wU{constructor(_0x2f29b3){this['_frameInde'+'x']=-0x4*-0x551+-0xd0+-0x1474,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x253e+0x1d43+0x7fc,this['enabled']=!(-0x1c80+0x1e*-0x1+0x4a*0x63),_0x2f29b3['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x2f29b3['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x2f29b3['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x9ab6c4){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0xa0cdd0=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0xa0cdd0,this['_frameInde'+'x']=-0x1b80+-0x1eda+0x3a5a,this['mark'](_0x9ab6c4);}['mark'](_0x1d2256){if(!this['enabled'])return;const _0x500cff=de();if(this['_frameInde'+'x']>0x22*-0xd2+-0xcc1+0x28a5){const _0x56aa95=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x6*0x67+-0x240a+0x5*0x7b1)];_0x56aa95[-0x1*0xd15+0x9e2+-0x4*-0xcd]=_0x500cff-_0x56aa95[0x1fa4+-0x1820+-0x783];}else{if(this['_timings']['length']>0x9bc*0x4+-0xe1a+-0x18d6){const _0x643d90=this['_timings'][this['_timings']['length']-(0x3b7+-0x1ffb+0x1c45)];_0x643d90[0x1dd+-0x252+-0x1*-0x76]=_0x500cff-_0x643d90[0x28d+0x6c*-0x42+0x653*0x4];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x1d2256,_0x500cff]);else{const _0x4dff5d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4dff5d[0x1*-0x1a36+0x812*-0x1+-0x892*-0x4]=_0x1d2256,_0x4dff5d[-0x2*0x2d2+-0x1*-0xf59+0x2e*-0x36]=_0x500cff;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x1bba+0x2*0xe1e+-0x37f6,-(0x1d3c+0x1*0x1b11+-0x384c))['map'](_0x4705a9=>_0x4705a9[-0x103*0xf+0x190d+-0x1*0x9df]);}}class EU{constructor(_0x517be4){this['device']=_0x517be4,_0x517be4['gpuProfile'+'r']['enabled']=!(0xa61+-0x1520+0x395*0x3),this['enabled']=!(0x2345+-0x146b*-0x1+-0x37b0),this['unitsName']='ms',this['decimalPla'+'ces']=0x1835+0xfc4+0x4*-0x9fe,this['_timings']=[];}get['timings'](){return this['_timings'][-0x246+0x21aa+-0x1f64]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x4b832e,_0x589171,_0x273e64,_0x42b36f,_0xa2d6bc){this['app']=_0x4b832e,this['values']=[],this['statNames']=_0x589171,this['statNames']['length']>-0x10*-0x97+0x1*0x2492+0x933*-0x5&&(this['statNames']['length']=-0x2427*0x1+0x2100+-0x87*-0x6),this['unitsName']=_0x42b36f,this['decimalPla'+'ces']=_0x273e64,this['multiplier']=_0xa2d6bc||0x1*-0x476+-0x22e9+-0x4*-0x9d8;const _0x145888=(_0x194edc,_0x1c3dc4)=>_0x194edc['split']('.')['reduce']((_0x5f3161,_0x252b32)=>_0x5f3161?_0x5f3161[_0x252b32]:null,_0x1c3dc4||this);_0x4b832e['on']('frameupdat'+'e',_0x49cb52=>{for(let _0x91e722=-0x1*0x1d4d+0x18e+0x1bbf;_0x91e722<this['statNames']['length'];_0x91e722++)this['values'][_0x91e722]=_0x145888(this['statNames'][_0x91e722],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x308e5a,_0xf5193e,_0x2aa8f2,_0x47f5a9,_0x440154){this['app']=_0xf5193e,this['name']=_0x308e5a,this['device']=_0xf5193e['graphicsDe'+'vice'],this['timer']=_0x440154,this['watermark']=_0x2aa8f2,this['enabled']=!(-0x24b5+0x1e3+0x22d3),this['textRefres'+'hRate']=_0x47f5a9,this['avgTotal']=-0x3*-0x2ab+0x2+-0x803,this['avgTimer']=0xa09+-0x19a2+0xf99,this['avgCount']=0x155*-0x1+-0x4*-0x383+-0x7*0x1d1,this['timingText']='',this['texture']=null,this['yOffset']=0x2617+-0x3*-0x542+-0x35dd,this['cursor']=0x1848+0x2b*-0x99+0x16b,this['sample']=new Uint8ClampedArray(0x16d0+-0x1ca3+0x5d7),this['sample']['set']([-0xed3+0x5*0x61f+-0xfc8,0x252a+0xe9+-0x2613,-0x1b7*0x7+-0x31*-0x2e+0x5b*0x9,-0x2*0x95f+-0x35*-0x1d+-0x36f*-0x4]),this['counter']=0xc*-0x21a+0x2*-0x10c7+0x3ac6,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x59772b){const _0x5a41a5=this['timer']['timings'],_0x173e7c=_0x5a41a5['reduce']((_0x40516c,_0x261869)=>_0x40516c+_0x261869,-0xb*-0x29+-0x211e+0x1f5b);if(this['avgTotal']+=_0x173e7c,this['avgTimer']+=_0x59772b,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x7f7+0x5*-0x31c+0x795,this['avgTotal']=0x1*-0x182f+-0x2374+0x3ba3,this['avgCount']=-0x1b29+-0xd00+-0x3*-0xd63),this['enabled']){let _0x47afc0=-0x153*0x7+0x18b5+-0xf70;const _0x235e9f=(-0x2*0x980+-0xaf*-0xe+-0x15*-0x73+0.5)*this['watermark'];for(let _0x12c8ca=-0x207c+0x12d7+0xda5;_0x12c8ca<_0x5a41a5['length'];++_0x12c8ca)_0x47afc0+=Math['floor'](_0x5a41a5[_0x12c8ca]/_0x235e9f*(-0x11f2+0xd8*-0x15+0x5*0x755)),this['sample'][_0x12c8ca]=_0x47afc0;this['sample'][-0xfc1+-0x282+0x1246]=this['watermark']/_0x235e9f*(-0xd*0x3a+-0x1*0x14ed+0x84a*0x3),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x1a*-0x6a+-0x25ce+0x3096)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x1c3*0x1+0x105b*0x1+0x3a6*-0x4);}}['render'](_0x498160,_0x10583e,_0x1c8fd4,_0x11b415,_0x237251){_0x498160['quad'](_0x10583e+_0x11b415,_0x1c8fd4,-_0x11b415,_0x237251,this['enabled']?this['cursor']:-0x116f+0x1*0x6b0+0xabf,this['enabled']?0x3b*0x9+0x1*-0x21d+0x2*0x5+0.5+this['yOffset']:this['texture']['height']-(0x5a8*-0x6+0x1566+0xc8b),-_0x11b415,0x91*-0x1+-0x1eee+0x1f7f,this['texture'],0x4*-0x1d3+-0x12d1*0x1+-0x1a1d*-0x1);}}class AU{constructor(_0x2d40fd,_0x5f2c03){const _0x5bcdb0=_0x5a3c1f=>{_0x5a3c1f['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x5a3c1f['textAlign']='left',_0x5a3c1f['textBaseli'+'ne']='alphabetic';},_0x1defdc=_0x16ddf4=>_0x16ddf4==='.'||_0x16ddf4['length']===-0x1dff*0x1+0x24e9*0x1+-0x1*0x6e9&&_0x16ddf4['charCodeAt'](-0x2220+-0x4d6+0x26f6*0x1)>=0xf05+-0x7f0+0x5*-0x161&&_0x16ddf4['charCodeAt'](-0x1*0x17fd+0x210a*0x1+-0x90d)<=-0x4cd+0x1*-0x1767+0x1c6d,_0x38e86a=document['createElem'+'ent']('canvas'),_0x3adc44=_0x38e86a['getContext']('2d',{'alpha':!(0xa01+0x45b+-0xe5c)});_0x5bcdb0(_0x3adc44);const _0x2671af=new Map(),_0x18e82c=-0x9e*-0x1+-0x210a+0x2071,_0x391cab=0x22fa+-0xa72+-0xe*0x19c;let _0x37bce1=_0x18e82c,_0x241146=_0x18e82c;_0x5f2c03['forEach'](_0x5f97f5=>{const _0x2237f4=_0x3adc44['measureTex'+'t'](_0x5f97f5),_0x347636=Math['ceil'](-_0x2237f4['actualBoun'+'dingBoxLef'+'t']),_0x4c017f=Math['ceil'](_0x2237f4['actualBoun'+'dingBoxRig'+'ht']),_0x5bae01=Math['ceil'](_0x2237f4['actualBoun'+'dingBoxAsc'+'ent']),_0x2f55fb=Math['ceil'](_0x2237f4['actualBoun'+'dingBoxDes'+'cent']),_0x137a8e=_0x347636+_0x4c017f,_0x1a4239=_0x5bae01+_0x2f55fb;_0x37bce1+_0x137a8e+_0x18e82c>=_0x391cab&&(_0x37bce1=_0x18e82c,_0x241146+=-0x44+0x779*-0x1+0x7cd),_0x2671af['set'](_0x5f97f5,{'l':_0x347636,'r':_0x4c017f,'a':_0x5bae01,'d':_0x2f55fb,'w':_0x137a8e,'h':_0x1a4239,'x':_0x37bce1,'y':_0x241146}),_0x37bce1+=_0x137a8e+_0x18e82c;}),_0x38e86a['width']=-0xcfd*0x3+0xb9*0x2c+0x92b,_0x38e86a['height']=Y['nextPowerO'+'fTwo'](_0x241146+(0x366+0x160*-0x18+0x1*0x1daa)+_0x18e82c),_0x5bcdb0(_0x3adc44),_0x3adc44['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x3adc44['fillRect'](-0x1*-0x2122+-0x9ad*0x4+0x592,0x982*-0x3+0x86d+-0x23*-0x93,_0x38e86a['width'],_0x38e86a['height']),_0x2671af['forEach']((_0x30d5af,_0x13f4a5)=>{_0x3adc44['fillStyle']=_0x1defdc(_0x13f4a5)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x3adc44['fillText'](_0x13f4a5,_0x30d5af['x']-_0x30d5af['l'],_0x30d5af['y']+_0x30d5af['a']);}),this['placements']=_0x2671af;const _0x2ab4a8=_0x3adc44['getImageDa'+'ta'](0xe1f+-0x3b*0x2b+-0x436,0xc9+-0x1b65+0x1a9c,_0x38e86a['width'],_0x38e86a['height'])['data'];for(let _0x20ce27=0x1*-0xb1b+0x1c10+-0x10f5;_0x20ce27<_0x2ab4a8['length'];_0x20ce27+=-0x169f*0x1+-0xa1d*-0x1+0xe*0xe5)_0x2ab4a8[_0x20ce27+(0x1d50+0xb26+-0x221*0x13)]=_0x2ab4a8[_0x20ce27+(0xc03+0xa99*-0x1+-0x16a)],_0x2ab4a8[_0x20ce27+(0x688+0x2645+-0x2ccd)]=-0x5*0x214+0x94b+0x218,_0x2ab4a8[_0x20ce27+(0x1dfd+0x2*-0x8a7+-0xcae)]=0x1b*0xb5+-0x52*0x13+0x3a*-0x35,_0x2ab4a8[_0x20ce27+(0x14ff*-0x1+0x20b9*0x1+-0xbb8*0x1)]=0x17a*-0x2+-0x1310*-0x2+-0x2a1*0xd;this['texture']=new _e(_0x2d40fd,{'name':'mini-stats'+'-word-atla'+'s','width':_0x38e86a['width'],'height':_0x38e86a['height'],'mipmaps':!(0x95*-0x2b+-0x2432+0x1e9d*0x2),'minFilter':Te,'magFilter':Te,'levels':[_0x2ab4a8]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x373a43,_0x528899,_0x387508,_0x12e726){const _0x38b1b8=this['placements']['get'](_0x528899);return _0x38b1b8?(_0x373a43['quad'](_0x387508+_0x38b1b8['l']-(-0x163b+0x3*0x20b+0x101b),_0x12e726-_0x38b1b8['d']+(-0x15d*0xf+-0x8ae*0x4+-0x499*-0xc),_0x38b1b8['w']+(-0x1d*0x74+-0x1d62*0x1+0x1544*0x2),_0x38b1b8['h']+(0x1dba+0x1185*0x2+-0x40c2),_0x38b1b8['x']-(-0xe*-0xf8+0x128*-0x1b+0x11a9),this['texture']['height']-_0x38b1b8['y']-_0x38b1b8['h']-(-0x2*-0xe0d+-0x228b+0x672),void(0xbc3+0x491*0x4+-0x1e07),void(0x178e+0x840+-0x1*0x1fce),this['texture'],0x20f4+0x5*0x32f+-0x30de),_0x38b1b8['w']):-0x246e+0x1*-0x1ab9+0x3f27;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x2d9486,_0x3b8b28=0x10d3+0x4*-0x65e+0xaa5){const _0x2d529a=new kt(_0x2d9486,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x39524e=new Uint16Array(_0x3b8b28*(-0x5d9+-0x322*0x4+0x1267));for(let _0x1b2ef0=-0x17d1+-0xe09+-0x5f*-0x66;_0x1b2ef0<_0x3b8b28;++_0x1b2ef0)_0x39524e[_0x1b2ef0*(-0xbf*0x15+0x26c*-0x1+-0x1*-0x121d)+(-0x1b2d*-0x1+-0x20d5+0x5a8*0x1)]=_0x1b2ef0*(0x12d1*-0x2+-0x41*-0x67+0xb7f),_0x39524e[_0x1b2ef0*(-0x1*-0x13d9+-0x63+-0x1370)+(-0x264a*0x1+0x2ee+0x235d)]=_0x1b2ef0*(-0x128+-0xdb1+0x5*0x2f9)+(0x554*-0x1+0x14d9+0x6*-0x296),_0x39524e[_0x1b2ef0*(-0x1c90+-0x4a8+-0x4a*-0x73)+(-0x18*0x50+-0x1f12+0x2694)]=_0x1b2ef0*(0xb3*-0x4+0x48b*0x4+-0xf5c)+(0x19*0x75+-0x24d6+0x2d3*0x9),_0x39524e[_0x1b2ef0*(-0x2c4+-0x2df+-0x3*-0x1e3)+(-0x1bb*-0x14+-0x22*0xa3+-0x11*0xc3)]=_0x1b2ef0*(0x7b+-0x2ec*-0x1+-0x121*0x3),_0x39524e[_0x1b2ef0*(-0xe95*-0x2+0x2*-0xa23+-0x8de)+(-0x7b9+-0xa*-0x92+0x209)]=_0x1b2ef0*(-0x25*-0x1+0x3*-0xd03+0x53*0x78)+(0x172b+0x4f1*0x5+0x16*-0x22d),_0x39524e[_0x1b2ef0*(-0x3*0x5ab+-0x1*0x14bb+0x25c2)+(0x7d8+-0x24ca+0x1*0x1cf7)]=_0x1b2ef0*(-0x763*-0x4+-0x16de+-0x6aa)+(0x1*-0x1db9+-0x3*0x734+0x6a*0x7c);this['device']=_0x2d9486,this['buffer']=new Is(_0x2d9486,_0x2d529a,_0x3b8b28*(-0x1b14+-0xde0*0x2+0x36d8),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x12e1+0x9e3+0x481*0x2)),this['indexBuffe'+'r']=new br(_0x2d9486,Yi,_0x3b8b28*(0x3ee+0x13*-0x137+-0x1*-0x132d),ms,_0x39524e),this['prim']={'type':js,'indexed':!(-0x2ce*-0x5+-0xa45+-0x3c1),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x160f+0xd0*-0x2+-0x1*0x146f,this['mesh']=new Ge(_0x2d9486),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x233*-0xf+-0x8d7+0x29d4]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x256a49=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x256a49,_0x256a49['cull']=bt,_0x256a49['depthState']=Yt['NODEPTH'],_0x256a49['blendState']=new pt(!(-0x1472+-0x21*-0x10c+-0x1*0xe1a),fs,jh,Yh,fs,Ft,Ft),_0x256a49['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x256a49,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0xa12*0x1+0x40*-0x1+0xa56)},this['targetSize']={'width':_0x2d9486['width'],'height':_0x2d9486['height']};}['quad'](_0x2b6116,_0x370907,_0x3c3400,_0xddf7fd,_0x1f0522,_0x2968fb,_0x560e56,_0x3a2778,_0x5bd99c,_0x45f105=-0x2e7*0x6+0x3*0x449+-0x1*-0x48f){const _0x3266e5=this['targetSize']['width'],_0x4ccfd4=this['targetSize']['height'],_0x566fed=_0x2b6116/_0x3266e5,_0x3caff0=_0x370907/_0x4ccfd4,_0x52124e=(_0x2b6116+_0x3c3400)/_0x3266e5,_0x346dc3=(_0x370907+_0xddf7fd)/_0x4ccfd4,_0x1eec5d=_0x5bd99c['width'],_0x5cec95=_0x5bd99c['height'],_0x551112=_0x1f0522/_0x1eec5d,_0x5ef57a=_0x2968fb/_0x5cec95,_0x315130=(_0x1f0522+(_0x560e56??_0x3c3400))/_0x1eec5d,_0x2cb1e0=(_0x2968fb+(_0x3a2778??_0xddf7fd))/_0x5cec95;this['data']['set']([_0x566fed,_0x3caff0,_0x45f105,_0x551112,_0x5ef57a,0xff*0x14+-0x195f+0x9*0x9b,0x190b*0x1+0x1c6*0x2+-0x1c97,_0x52124e,_0x3caff0,_0x45f105,_0x315130,_0x5ef57a,0xae3+0x76f+-0x9*0x209,-0x1*0x920+0xfc+0x1*0x824,_0x52124e,_0x346dc3,_0x45f105,_0x315130,_0x2cb1e0,-0x42d+-0x35*0x7d+0xf*0x201,0xb85*0x1+0x197a*-0x1+-0xdf6*-0x1,_0x566fed,_0x346dc3,_0x45f105,_0x551112,_0x2cb1e0,0x1a1e+-0x1f85+0x1*0x567,-0x1bc7+0xafa+0x10ce],(-0x1b*-0x96+0x7f9*0x4+0x7ef*-0x6)*this['quads']),this['quads']++,this['prim']['count']+=0x5*-0x67f+-0xdb0+-0x5*-0x93d;}['startFrame'](){this['quads']=0x167*-0x8+0x1709+-0xbd1,this['prim']['count']=-0x18ac+-0x25a*0x2+0x1d60,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x342a6a,_0x407a9e,_0x222761,_0x51a16c,_0x492d41,_0xb81e26){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x492d41,-0x13*0xa3+-0x1bac+-0x27c5*-0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x222761),this['material']['setParamet'+'er']('wordsTex',_0x51a16c),_0x342a6a['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x407a9e);}}class N0{constructor(_0xcf04a6,_0x3037ab){const _0x55e1be=_0xcf04a6['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x55e1be['height']/_0x55e1be['maxPixelRa'+'tio'],_0x3037ab={...N0['getDefault'+'Options'](),..._0x3037ab},this['options']=_0x3037ab,this['initGraphs'](_0xcf04a6,_0x55e1be,_0x3037ab);const _0x5dc121=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x5635d4=>_0x5635d4['name']))['concat'](_0x3037ab['stats']?_0x3037ab['stats']['map'](_0x4624de=>_0x4624de['unitsName']):[])['filter'](_0x23bf22=>!!_0x23bf22));this['wordAtlas']=new AU(_0x55e1be,_0x5dc121),this['sizes']=_0x3037ab['sizes'],this['_activeSiz'+'eIndex']=_0x3037ab['startSizeI'+'ndex'];const _0x36ffd3=document['createElem'+'ent']('div');_0x36ffd3['setAttribu'+'te']('id','mini-stats'),_0x3037ab['position']==='top'?_0x36ffd3['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x36ffd3['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x36ffd3['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x36ffd3),_0x36ffd3['addEventLi'+'stener']('mouseenter',_0x5a0d63=>{this['opacity']=-0x9dc+0xa0c+0x2f*-0x1;}),_0x36ffd3['addEventLi'+'stener']('mouseleave',_0x357ded=>{this['opacity']=-0x192d+-0x13ed+-0x2e*-0xfb+0.7;}),_0x36ffd3['addEventLi'+'stener']('click',_0x4b25b9=>{_0x4b25b9['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x593*-0x1+-0x2c5*-0xb+0x17*-0x115))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x55e1be['on']('resizecanv'+'as',this['updateDiv'],this),_0x55e1be['on']('losecontex'+'t',this['loseContex'+'t'],this),_0xcf04a6['on']('postrender',this['postRender'],this),this['app']=_0xcf04a6,this['drawLayer']=_0xcf04a6['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x55e1be,this['render2d']=new IU(_0x55e1be),this['div']=_0x36ffd3,this['width']=0x2253+-0x69+-0x21ea,this['height']=0x157b+-0x2109+0x3a*0x33,this['gspacing']=-0x21d8+0xa*-0x2a5+0x3c4c,this['clr']=[-0x2e7+0x3b0+0x28*-0x5,-0x1*0x23e9+0x21d1+-0x3*-0xb3,-0x1da5*-0x1+-0x1*-0x21d7+-0x3f7b,-0x218d+0x295*0xa+0x7bb+0.5],this['_enabled']=!(-0x1d52+-0x13d2+0x3124),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x320aa4=>_0x320aa4['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x25ac+0x151c+0x1*0x1091)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x239a+0x1ea1+0x4f9)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x2*-0xf93+-0x28*-0x53+-0x1*-0x122e)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0xc*0x31+-0x1*0x2120+0x236c),'watermark':0x21},'gpu':{'enabled':!(-0x21c1+-0xa3a*0x1+0x2bfb),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x98dcae){this['_activeSiz'+'eIndex']=_0x98dcae,this['gspacing']=this['sizes'][_0x98dcae]['spacing'],this['resize'](this['sizes'][_0x98dcae]['width'],this['sizes'][_0x98dcae]['height'],this['sizes'][_0x98dcae]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x4bb4bf){this['clr'][-0x1a8+0xe1e+-0xc73]=_0x4bb4bf;}get['opacity'](){return this['clr'][-0x1*0x11c3+0x194+0x1032];}get['overallHei'+'ght'](){const _0x36a321=this['graphs'],_0x358bba=this['gspacing'];return this['height']*_0x36a321['length']+_0x358bba*(_0x36a321['length']-(0x3*-0xc13+-0x4a*0x6f+-0x445*-0x10));}set['enabled'](_0x3a2ea3){if(_0x3a2ea3!==this['_enabled']){this['_enabled']=_0x3a2ea3;for(let _0x551fea=0xefa+-0x21c2+0x12c8;_0x551fea<this['graphs']['length'];++_0x551fea)this['graphs'][_0x551fea]['enabled']=_0x3a2ea3,this['graphs'][_0x551fea]['timer']['enabled']=_0x3a2ea3;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x40682c,_0x3b453c,_0x502950){if(this['graphs']=[],_0x502950['cpu']['enabled']){const _0x408007=new wU(_0x40682c),_0x40cd83=new Uf('CPU',_0x40682c,_0x502950['cpu']['watermark'],_0x502950['textRefres'+'hRate'],_0x408007);this['graphs']['push'](_0x40cd83);}if(_0x502950['gpu']['enabled']){const _0x3909b7=new EU(_0x3b453c),_0x5aa7d3=new Uf('GPU',_0x40682c,_0x502950['gpu']['watermark'],_0x502950['textRefres'+'hRate'],_0x3909b7);this['graphs']['push'](_0x5aa7d3);}_0x502950['stats']&&_0x502950['stats']['forEach'](_0x481b19=>{const _0x1705e7=new bU(_0x40682c,_0x481b19['stats'],_0x481b19['decimalPla'+'ces'],_0x481b19['unitsName'],_0x481b19['multiplier']),_0x13ce00=new Uf(_0x481b19['name'],_0x40682c,_0x481b19['watermark'],_0x502950['textRefres'+'hRate'],_0x1705e7);this['graphs']['push'](_0x13ce00);});const _0x39794d=_0x502950['sizes']['reduce']((_0x1db74d,_0x3698cd)=>_0x3698cd['width']>_0x1db74d?_0x3698cd['width']:_0x1db74d,0x24bc+-0x448+-0x2074);this['texture']=new _e(_0x3b453c,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x39794d),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0xd55*0x1+-0xc15+0x196b),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x5795a5,_0xaf9f77)=>{_0x5795a5['texture']=this['texture'],_0x5795a5['yOffset']=_0xaf9f77;});}['render'](){const _0x5d1099=this['graphs'],_0x4e7fe8=this['wordAtlas'],_0x1984ef=this['render2d'],_0x3dd621=this['width'],_0x2ac82e=this['height'],_0x27998e=this['gspacing'];_0x1984ef['startFrame']();for(let _0x1a600c=-0x5*-0x1c1+-0x105f+0x79a;_0x1a600c<_0x5d1099['length'];++_0x1a600c){const _0x13ea06=_0x5d1099[_0x1a600c];let _0x4fe805=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x1a600c+(-0x198d+-0xf61+0x3*0xda5))*(_0x2ac82e+_0x27998e):_0x1a600c*(_0x2ac82e+_0x27998e);_0x13ea06['render'](_0x1984ef,-0x66*0x32+-0x2*-0x3d7+-0x1*-0xc3e,_0x4fe805,_0x3dd621,_0x2ac82e);let _0x5c77be=0x31*-0xb5+-0x85e+-0xac1*-0x4;_0x4fe805+=_0x2ac82e-(0x4*0x88a+0x4eb+-0x25*0x10e),_0x5c77be+=_0x4e7fe8['render'](_0x1984ef,_0x13ea06['name'],_0x5c77be,_0x4fe805)+(-0x1f31*-0x1+0xe9a*-0x1+-0xdf*0x13);const _0x501b33=_0x13ea06['timingText'];for(let _0x13bfdf=-0x1*0x203b+-0x1da4+0x3ddf*0x1;_0x13bfdf<_0x501b33['length'];++_0x13bfdf)_0x5c77be+=_0x4e7fe8['render'](_0x1984ef,_0x501b33[_0x13bfdf],_0x5c77be,_0x4fe805);_0x13ea06['timer']['unitsName']&&(_0x5c77be+=0x2*0xdcf+0x1073+-0x2c0e,_0x4e7fe8['render'](_0x1984ef,_0x13ea06['timer']['unitsName'],_0x5c77be,_0x4fe805));}_0x1984ef['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x2ac82e);}['resize'](_0x1f5373,_0x591100,_0x5c619f){const _0x4e1b6d=this['graphs'];for(let _0x2b518a=0x190+0x1e91+-0x2021;_0x2b518a<_0x4e1b6d['length'];++_0x2b518a)_0x4e1b6d[_0x2b518a]['enabled']=_0x5c619f;this['width']=_0x1f5373,this['height']=_0x591100,this['updateDiv']();}['updateDiv'](){const _0x4f9170=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x4f9170['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x4f9170['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x1c8d61=>_0x1c8d61['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x51a22f,_0x3f223f,_0x757dd3)=>{_0x51a22f['on'](_0x3f223f,_0x757dd3),this['eventsList']=this['eventsList']['concat']({'e':_0x51a22f,'ty':_0x3f223f,'fn':_0x757dd3});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x1f08e3,ty:_0x33c0dc,fn:_0x389c5e})=>{_0x1f08e3['off'](_0x33c0dc,_0x389c5e);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x5931bc=>{var _0x3de4c4;if(console['log']('add\x20xr\x20inp'+'ut',_0x5931bc['handedness']),!((_0x3de4c4=_0x5931bc['profiles'])!=null&&_0x3de4c4['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x51ea49=_0x5931bc['profiles']['map'](async _0x169af3=>{var _0x343429;const _0x4666cf=this['basePath']+'/'+_0x169af3+('/profile.j'+'son');try{const _0x4b8a46=await fetch(_0x4666cf);if(!_0x4b8a46['ok'])return null;const _0x4b68e2=await _0x4b8a46['json'](),_0x240f07=((_0x343429=_0x4b68e2['layouts'][_0x5931bc['handedness']])==null?void(0x502*0x3+-0x13f1+0x1*0x4eb):_0x343429['assetPath'])||'',_0x35f88b=this['basePath']+'/'+_0x4b68e2['profileId']+'/'+_0x5931bc['handedness']+_0x240f07['replace'](/^\/?(left|right)/,''),_0x2d7815=await new Promise((_0x2c828a,_0x1ec80a)=>{this['app']['assets']['loadFromUr'+'l'](_0x35f88b,'container',(_0x5a9d56,_0x588d6c)=>{_0x5a9d56?_0x1ec80a(_0x5a9d56):_0x2c828a(_0x588d6c);});});return{'profileId':_0x169af3,'asset':_0x2d7815};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x169af3),null;}}),_0x144a9e=(await Promise['all'](_0x51ea49))['find'](_0x3ad5b3=>_0x3ad5b3!==null);if(_0x144a9e){const {asset:_0x23c442}=_0x144a9e,_0x5e3adf=_0x23c442['resource']['instantiat'+'eRenderEnt'+'ity']();_0x5e3adf['name']='Armature_'+_0x5931bc['handedness'],this['app']['root']['addChild'](_0x5e3adf),this['preEntitie'+'s']['set'](_0x5931bc,_0x5e3adf);const _0x3c1a50=new Map();if(_0x5931bc['hand'])for(const _0x357749 of _0x5931bc['hand']['joints']){const _0x27b089=_0x5e3adf['findByName'](_0x357749['id']);_0x27b089&&_0x3c1a50['set'](_0x357749,_0x27b089);}this['controller'+'s']['set'](_0x5931bc,{'entity':_0x5e3adf,'jointMap':_0x3c1a50});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x5a37fe=>{var _0x5b0687;const _0x454eb3=this['controller'+'s']['get'](_0x5a37fe);_0x454eb3&&((_0x5b0687=_0x454eb3['entity'])==null||_0x5b0687['destroy'](),this['app']['root']['removeChil'+'d'](_0x454eb3==null?void(-0xe9d+-0x1*-0x24f7+-0x165a):_0x454eb3['entity']),this['controller'+'s']['delete'](_0x5a37fe));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x56bb32,_0x3ae7a0,_0x3d9dfc;const _0x39d62c=this['app'];(_0x56bb32=this['controller'+'s'])==null||_0x56bb32['forEach'](_0x52fe9e=>{var _0x468ff3;_0x39d62c['root']['removeChil'+'d'](_0x52fe9e==null?void(0x233d+-0x1350+-0x3*0x54f):_0x52fe9e['entity']),(_0x468ff3=_0x52fe9e['entity'])==null||_0x468ff3['destroy']();}),(_0x3ae7a0=this['controller'+'s'])==null||_0x3ae7a0['clear'](),(_0x3d9dfc=this['preEntitie'+'s'])==null||_0x3d9dfc['forEach'](_0x1eedae=>{_0x39d62c['root']['removeChil'+'d'](_0x1eedae),_0x1eedae==null||_0x1eedae['destroy']();});const _0x192aae=()=>{const _0x2d0d5a=_0x39d62c['root']['findByName']('Armature_l'+'eft'),_0x240838=_0x39d62c['root']['findByName']('Armature_r'+'ight');for(_0x2d0d5a&&_0x39d62c['root']['removeChil'+'d'](_0x2d0d5a),_0x240838&&_0x39d62c['root']['removeChil'+'d'](_0x240838);_0x39d62c['root']['findByName']('Armature_l'+'eft')||_0x39d62c['root']['findByName']('Armature_r'+'ight');)_0x192aae();};_0x192aae();});}['update'](_0x2e7c46){var _0x232d56;if((_0x232d56=this['app']['xr'])!=null&&_0x232d56['active']){for(const [_0x419005,{entity:_0x5e5244,jointMap:_0x23310c}]of this['controller'+'s'])if(_0x419005['hand']){for(const [_0x106bef,_0x33dbd1]of _0x23310c)_0x33dbd1['setPositio'+'n'](_0x106bef['getPositio'+'n']()),_0x33dbd1['setRotatio'+'n'](_0x106bef['getRotatio'+'n']());}else _0x5e5244['setPositio'+'n'](_0x419005['getPositio'+'n']()),_0x5e5244['setRotatio'+'n'](_0x419005['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x19aa+0xf4d+0x2*0x52f)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x22f5+-0x1e18*0x1+-0x94b*-0x7,-0x3d*-0x4+0x1fdd+-0x20d0,0x80*-0x2f+-0x110e+0x288e)),h(this,'invalidCol'+'or',new ie(0x2353*0x1+-0x1*-0x234a+-0x469c,0x2*-0x12b9+0x1*0x71e+-0x50e*-0x6,0x9*-0x42c+-0x18*-0x44+0x1f2c)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0xf3e*-0x1+-0x1cf+-0xd6e)),h(this,'teleportLe'+'ftOpenStat'+'us',!(-0x163*-0x5+0xc43+0x11*-0x121));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x5095c1=>{const _0x385ad5=()=>{this['activePoin'+'ters']['set'](_0x5095c1,!(0xe62+0x2*-0x133a+0x1812));},_0x39e662=()=>{this['activePoin'+'ters']['set'](_0x5095c1,!(0x1914+0x1*-0x15cd+-0x346)),this['tryTelepor'+'t'](_0x5095c1);};_0x5095c1['on']('selectstar'+'t',_0x385ad5),_0x5095c1['on']('selectend',_0x39e662),this['inputHandl'+'ers']['set'](_0x5095c1,{'handleSelectStart':_0x385ad5,'handleSelectEnd':_0x39e662}),this['inputSourc'+'es']['add'](_0x5095c1);}),this['app']['xr']['input']['on']('remove',_0x513d25=>{const _0x113fa1=this['inputHandl'+'ers']['get'](_0x513d25);_0x113fa1&&(_0x513d25['off']('selectstar'+'t',_0x113fa1['handleSele'+'ctStart']),_0x513d25['off']('selectend',_0x113fa1['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x513d25)),this['activePoin'+'ters']['delete'](_0x513d25),this['inputSourc'+'es']['delete'](_0x513d25);});}['findPlaneI'+'ntersectio'+'n'](_0x2f7b67,_0x32057d){if(Math['abs'](_0x32057d['y'])<-0x1*-0x19a3+-0xa5*0x35+0x886+0.00001)return null;const _0x461afd=-_0x2f7b67['y']/_0x32057d['y'];return _0x461afd<-0x26a8+0x1720+0x8*0x1f1?null:new D(_0x2f7b67['x']+_0x32057d['x']*_0x461afd,-0xce+0x1b8*0x4+-0x612,_0x2f7b67['z']+_0x32057d['z']*_0x461afd);}['tryTelepor'+'t'](_0x42689f){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x3d8b75=_0x42689f['getOrigin'](),_0x5cc635=_0x42689f['getDirecti'+'on'](),_0x304a40=this['findPlaneI'+'ntersectio'+'n'](_0x3d8b75,_0x5cc635);if(_0x304a40){const _0xac352e=this['entity']['getPositio'+'n']()['y'];_0x304a40['y']=_0xac352e,this['entity']['setPositio'+'n'](_0x304a40);}}}['update'](){for(const _0xed6734 of this['inputSourc'+'es']){const _0x4954fa=_0xed6734['getOrigin'](),_0xeb27c3=_0xed6734['getDirecti'+'on']();if(_0xed6734['gamepad']&&!_0xed6734['hand']){const _0x5d1ded=_0xed6734['gamepad'];for(let _0x5532f3=-0x1ed1+0x5*-0x43b+0x8*0x67f;_0x5532f3<_0x5d1ded['buttons']['length'];++_0x5532f3)_0x5d1ded['buttons'][_0x5532f3]['pressed']&&console['log'](_0x5532f3,_0xed6734['handedness']),_0xed6734['handedness']==='right'&&_0x5532f3===0x1*0xda5+0x13cf+0x1*-0x2173&&(this['teleportOp'+'enStatus']=_0x5d1ded['buttons'][0xb5+-0x19a0+0x18ec]['pressed']),_0xed6734['handedness']==='left'&&_0x5532f3===-0x8ea+0x14da+-0xbef&&(this['teleportLe'+'ftOpenStat'+'us']=_0x5d1ded['buttons'][-0x2d4*0xd+0x2546+-0x1*0x81]['pressed']);}const _0x1f00a5=_0xed6734['handedness'];if(!this['enableDraw'+'Ray']&&(_0x1f00a5==='right'&&!this['teleportOp'+'enStatus']||_0x1f00a5==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x4a3a45=this['findPlaneI'+'ntersectio'+'n'](_0x4954fa,_0xeb27c3);if(this['enableDraw'+'Ray']||!_0x4a3a45){const _0x4d18ba=_0x4954fa['clone']()['add'](_0xeb27c3['clone']()['mulScalar'](0x34*-0x21+-0x859*0x1+0xf71)),_0x50f28f=this['enableDraw'+'Ray']?_0xed6734['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x4954fa,_0x4d18ba,_0x50f28f);}else this['app']['drawLine'](_0x4954fa,_0x4a3a45,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x4a3a45);}}['drawTelepo'+'rtIndicato'+'r'](_0x4de724){for(let _0x418a53=0x453+0x17b2+0x3*-0x957;_0x418a53<0x25*0x4f+-0x48+-0x1*0xb03;_0x418a53++){const _0xdc154b=_0x418a53/(-0x181b+-0x7eb+0x5*0x66e)*Math['PI']*(0x23*0xfd+-0xb26+-0x176f),_0x158527=(_0x418a53+(0x146f+-0x15*-0x24+-0x49*0x52))/(-0x73d*0x2+0xbe*0xb+0x670)*Math['PI']*(0x106a*-0x1+0xa3c+0x630),_0x1c3a96=_0x4de724['x']+Math['cos'](_0xdc154b)*(0x1a83+0x1b2a+-0x35ad+0.2),_0x1dc603=_0x4de724['z']+Math['sin'](_0xdc154b)*(0x1001+-0x1*-0x55d+-0x155e+0.2),_0x43f50d=_0x4de724['x']+Math['cos'](_0x158527)*(0x60d*0x1+0x2477+0x1542*-0x2+0.2),_0x227c4b=_0x4de724['z']+Math['sin'](_0x158527)*(-0x21ed+-0x7*-0x4e3+0xc*-0x6+0.2);this['app']['drawLine'](new D(_0x1c3a96,-0xcf7*-0x1+0x1*-0x1b44+0xe4d+0.01,_0x1dc603),new D(_0x43f50d,-0x1*0x4c3+0x26c1+-0x21fe+0.01,_0x227c4b),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x53be1a(_0x4eaf7f){function _0x10114f(_0x35fe83){if(typeof _0x35fe83==='string')return function(_0xba6c66){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x35fe83/_0x35fe83)['length']!==0x606+-0x108+-0x4fd*0x1||_0x35fe83%(0xb17+0x1071+0x4*-0x6dd)===-0x10*-0x17e+-0x2627+0xe47?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x10114f(++_0x35fe83);}try{if(_0x4eaf7f)return _0x10114f;else _0x10114f(-0xb93+0x1afb+-0xf68);}catch(_0x368383){}}