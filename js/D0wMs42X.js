const _0xb410c5=(function(){let _0x18041b=!![];return function(_0x22bf63,_0x2cd140){const _0x4289b1=_0x18041b?function(){if(_0x2cd140){const _0x2a9ef3=_0x2cd140['apply'](_0x22bf63,arguments);return _0x2cd140=null,_0x2a9ef3;}}:function(){};return _0x18041b=![],_0x4289b1;};}()),_0x2ad25f=_0xb410c5(this,function(){return _0x2ad25f['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2ad25f)['search']('(((.+)+)+)'+'+$');});_0x2ad25f();const _0x59d23c=(function(){let _0x5e9166=!![];return function(_0x399340,_0x54550f){const _0x3cad45=_0x5e9166?function(){if(_0x54550f){const _0x16cc53=_0x54550f['apply'](_0x399340,arguments);return _0x54550f=null,_0x16cc53;}}:function(){};return _0x5e9166=![],_0x3cad45;};}());(function(){_0x59d23c(this,function(){const _0x4e39a3=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x2684af=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x22577c=_0x419904('init');!_0x4e39a3['test'](_0x22577c+'chain')||!_0x2684af['test'](_0x22577c+'input')?_0x22577c('0'):_0x419904();})();}());const _0x107364=(function(){let _0x5d9283=!![];return function(_0x3eb8f9,_0x730eba){const _0x1bb6a1=_0x5d9283?function(){if(_0x730eba){const _0x4507ed=_0x730eba['apply'](_0x3eb8f9,arguments);return _0x730eba=null,_0x4507ed;}}:function(){};return _0x5d9283=![],_0x1bb6a1;};}()),_0x4e35b7=_0x107364(this,function(){let _0x2655e1;try{const _0x396c06=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x2655e1=_0x396c06();}catch(_0x6200cb){_0x2655e1=window;}const _0x33f1aa=_0x2655e1['console']=_0x2655e1['console']||{},_0x561675=['log','warn','info','error','exception','table','trace'];for(let _0x329b62=0x1fc*-0x4+-0x44*0x60+0x1*0x2170;_0x329b62<_0x561675['length'];_0x329b62++){const _0x351ce2=_0x107364['constructo'+'r']['prototype']['bind'](_0x107364),_0x1d6755=_0x561675[_0x329b62],_0x463771=_0x33f1aa[_0x1d6755]||_0x351ce2;_0x351ce2['__proto__']=_0x107364['bind'](_0x107364),_0x351ce2['toString']=_0x463771['toString']['bind'](_0x463771),_0x33f1aa[_0x1d6755]=_0x351ce2;}});_0x4e35b7();var k0=Object['defineProp'+'erty'],U0=(_0x224c70,_0x208171,_0x41ca9b)=>_0x208171 in _0x224c70?k0(_0x224c70,_0x208171,{'enumerable':!(0x167e+-0x5cd+0x1*-0x10b1),'configurable':!(0x2*0x827+-0x1640+0x1*0x5f2),'writable':!(0x3d*0x3a+0x1*0x228+-0xffa),'value':_0x41ca9b}):_0x224c70[_0x208171]=_0x41ca9b,h=(_0x427510,_0xfc81b6,_0x1ee872)=>U0(_0x427510,typeof _0xfc81b6!='symbol'?_0xfc81b6+'':_0xfc81b6,_0x1ee872),B0=(_0x383324=>(_0x383324['HIGH']='high',_0x383324['MEDIUM']='medium',_0x383324['LOW']='low',_0x383324['LOW_VR']='lowVR',_0x383324))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x4f0c3f=navigator['userAgent']['includes']('Macintosh'),_0xbbf1ca=navigator['maxTouchPo'+'ints']===0xb82+0x1*-0xa5f+-0x11e,_0x89a5a=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x4f0c3f&&_0xbbf1ca&&_0x89a5a;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x3ad807=navigator['userAgent']['toLowerCas'+'e']();return _0x3ad807['includes']('pico')||_0x3ad807['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x4c4c31=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x3d90c4=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x4c4c31)?'iOS':/android/['test'](_0x4c4c31)?'Android':/mac/['test'](_0x3d90c4)?'macOS':/win/['test'](_0x3d90c4)?'Windows':/linux/['test'](_0x3d90c4)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x1b53+0x6ea+-0x2210,this['MEDIUM_FPS'+'_THRESHOLD']=0x12a1*0x1+0x15b*-0x8+-0x7ab,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x1*0x1e56+-0xbe5+0x59*-0x35)*(0x1*0x14f3+0x4a7+-0x159a)*(0x1*-0x187f+-0x1f98+0x1*0x3c17)*(0x86b+0x1*0xa40+-0xeab),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(-0x10c1+-0x1*-0x1f07+-0xe44)*(0x102*-0xa+-0xb6c*-0x3+-0x143*0x10)*(-0x14ba+-0xdb9*0x2+0x342c)*(-0x9a8+-0x2203+-0x1*-0x2fab),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x3fe55e){const _0x523f90=_0x3fe55e['toLowerCas'+'e']();for(const [_0x5d521c,_0x4adfbd]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x523f90['includes'](_0x5d521c))return _0x4adfbd*(0x8db+0xc43*-0x3+0x1c52);return-0x2d*-0x29+-0x1150+-0x3*-0x36f;}['getModelSc'+'ore'](_0x2410be,_0xcf063e){const _0x93045a=_0x2410be['toLowerCas'+'e'](),_0x5cd47d=_0xcf063e['toLowerCas'+'e']();for(const [_0x1a8f16,_0x428c69]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x93045a['includes'](_0x1a8f16)&&_0x428c69['some'](_0x302b7c=>_0x302b7c['test'](_0x5cd47d)))return 0x890+-0x5*0x8d+-0x575;for(const [_0x488fd1,_0x9daf3d]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x93045a['includes'](_0x488fd1)&&_0x9daf3d['some'](_0x1b7ead=>_0x1b7ead['test'](_0x5cd47d)))return 0xf39+0x1175+-0x1034*0x2;for(const [_0x427e94,_0x4f606d]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x93045a['includes'](_0x427e94)&&_0x4f606d['some'](_0x14a377=>_0x14a377['test'](_0x5cd47d)))return 0x1149+0x5ff+-0x1716;return 0x842+-0x8e7+0xe1;}['getMemoryS'+'core'](_0x476d21){return _0x476d21?_0x476d21>=0x127d+-0x4e3*0x13+-0x3c9e*-0x2?0x7*0x10f+0xdce+-0x14d3:_0x476d21>=0xa7c+0x1*0x18e9+-0x425?0x1*0x8a7+-0x18ca+0x1d5*0x9:_0x476d21>=-0x10ed+-0x1a6*0x1+0x2a03?-0x24bf+-0x1*-0x2187+0x1c4*0x2:_0x476d21>=0x1d3*0xc+0x1*-0x1279+-0x271*-0x5?-0x3b7*-0xa+-0x989+0x91d*-0x3:_0x476d21>=-0xd69*-0x1+-0x1e1e+0x1885?0x26*-0xd+0x2*-0x6fc+-0x127*-0xe:0x6*-0x199+0x7f3+0x1d5*0x1:0x2029*-0x1+-0x270c+0x4767;}['getDriverS'+'core'](_0x6403bc){if(!_0x6403bc)return 0x25c7+-0x36f+-0xb62*0x3;const _0x1550ad=_0x6403bc['match'](/20[2-9][0-9]/);if(_0x1550ad){const _0x26e3ec=parseInt(_0x1550ad[0x2e3*0x4+0x945+0x1*-0x14d1]);if(_0x26e3ec>=0x1*-0x43c+-0x491*0x7+0x2c1a)return 0x2405+-0x7e+0x5*-0x707;if(_0x26e3ec>=0x3ec*-0x3+-0x19ec+0x91e*0x5)return-0x16f9*-0x1+0x1*-0x2605+0xf5c;if(_0x26e3ec>=0x26*0x35+-0x5*0x71d+-0x88*-0x43)return 0x12a*0x9+0x1afe+-0x253c;}return-0xfa5*0x1+0x3*0x89f+-0xa06*0x1;}['evaluateGP'+'U'](_0x5d0de2){const _0x1b2d0f=this['getVendorS'+'core'](_0x5d0de2['vendor']),_0x4d9e52=this['getModelSc'+'ore'](_0x5d0de2['vendor'],_0x5d0de2['renderer']),_0x4a99c0=this['getMemoryS'+'core'](_0x5d0de2['memory']),_0x3a7508=this['getDriverS'+'core'](_0x5d0de2['driverVers'+'ion']);return console['log']('GPU:',_0x5d0de2['vendor']),console['log']('GPU:',_0x5d0de2['renderer']),console['log']('GPU:',_0x5d0de2['driverVers'+'ion']),console['table'](_0x5d0de2),_0x1b2d0f*(-0x1c13+-0x15ef+0x3202+0.3)+_0x4d9e52*(0x1*-0x1c2c+-0x2*-0xceb+0x256+0.4)+_0x4a99c0*(-0xdad*-0x1+-0x1*-0x20c3+0x10*-0x2e7+0.2)+_0x3a7508*(-0x2076+0x3*0x8a2+0x690+0.1);}['evaluateCP'+'U'](){const _0x381c6c=navigator['hardwareCo'+'ncurrency'];return _0x381c6c>=0x4a2*0x1+-0x1*-0x268b+0x8a1*-0x5?-0x232*0xe+0xfd6+0xee9:_0x381c6c>=0x122e+0xa13+-0x1c3d?-0x1*0x115f+0x7*0xa9+-0x8e*-0x17:-0x234d+0x649*0x4+0xa2a;}['evaluateMe'+'mory'](_0x2966c1){return typeof _0x2966c1=='string'?0x1*0x2209+-0xd6a+-0x1*0x149f:_0x2966c1['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x1f56de){const _0x32aeba=WS(),_0x468707=GS(),_0x2c35b2=HS();if(_0x468707)return'medium';if(_0x2c35b2)return'lowVR';if(_0x32aeba)return'low';const _0x4f2a54=_0x1f56de['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0xcf5+-0x22c3+0xfe9*0x3:_0x1f56de['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x1a9b+0x1e38+-0x5*0xb5d:0x1*0xe95+0x1*-0x1c43+0xdaf*0x1;let _0xcdf43f=-0x1997+-0xdb4+-0xa*-0x3ee;typeof _0x1f56de['gpuInfo']!='string'&&(_0xcdf43f=this['evaluateGP'+'U'](_0x1f56de['gpuInfo']));const _0x2204a9=this['evaluateCP'+'U'](),_0xaf0094=this['evaluateMe'+'mory'](_0x1f56de['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x1*0x571+0x117b+-0x16e9:this['evaluateMe'+'mory'](_0x1f56de['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0xcf3+-0xd46+-0x11*-0x5:0x2*0x63d+0xc1b+0x11e*-0x16,_0x59d5c5=_0x4f2a54+_0xcdf43f+_0x2204a9+_0xaf0094;return console['log']('GPU:',_0x4f2a54,_0xcdf43f,_0x2204a9,_0xaf0094),_0x59d5c5>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x59d5c5>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x1a1e0b){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x1a1e0b];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x1fc3c1){var _0x5a39a8=Date['now']();return setTimeout(function(){_0x1fc3c1({'didTimeout':!(0x20e9+-0x1d8c+-0x5*0xac),'timeRemaining':function(){return Math['max'](-0x37c+0x1a26+-0x16aa,-0x183c+0x6e*-0x15+0x4*0x85d-(Date['now']()-_0x5a39a8));}});},0x623*-0x1+0x1*-0x222b+0x284f);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x38311c){clearTimeout(_0x38311c);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x149765,_0x253212){for(const _0x4d9fbb in _0x253212){const _0x4a323d=_0x253212[_0x4d9fbb];Array['isArray'](_0x4a323d)?_0x149765[_0x4d9fbb]=ah([],_0x4a323d):_0x4a323d&&typeof _0x4a323d=='object'?_0x149765[_0x4d9fbb]=ah({},_0x4a323d):_0x149765[_0x4d9fbb]=_0x4a323d;}return _0x149765;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x4e2562=>{const _0x200999=Math['random']()*(0x1a89*0x1+0x11d2*-0x1+0x5*-0x1bb)|0xef2+-0x2fc+0x2*-0x5fb;return(_0x4e2562==='x'?_0x200999:_0x200999&0xd*-0xe3+0x1f5b+0x1*-0x13d1|0x6a2+-0x1*-0x13c6+-0x1a60)['toString'](0x63*0x13+-0x1e30+-0xd*-0x1c3);});}},xe={'delimiter':'/','join'(..._0x3d9c8c){let _0x2a4edf=_0x3d9c8c[-0x2170+-0x1d48+0x3eb8];for(let _0x5a1946=0x222a+0x19d0+0x9ff*-0x6;_0x5a1946<_0x3d9c8c['length']-(0x1c8b*0x1+0x1b40+-0x2*0x1be5);_0x5a1946++){const _0x534573=_0x3d9c8c[_0x5a1946],_0x69f655=_0x3d9c8c[_0x5a1946+(0x5*-0x407+0x2281+-0xe5d)];if(_0x69f655[0x1*0x171f+0x3*0xc57+-0x1e12*0x2]===xe['delimiter']){_0x2a4edf=_0x69f655;continue;}_0x534573&&_0x69f655&&_0x534573[_0x534573['length']-(0x1f9*-0xd+-0x1f3a+0x38e0)]!==xe['delimiter']&&_0x69f655[0x2*-0xef+0x1*0x14ed+-0x130f]!==xe['delimiter']?_0x2a4edf+=xe['delimiter']+_0x69f655:_0x2a4edf+=_0x69f655;}return _0x2a4edf;},'normalize'(_0x24ab8e){const _0x2d2cf9=_0x24ab8e['startsWith'](xe['delimiter']),_0x504ec5=_0x24ab8e['endsWith'](xe['delimiter']),_0x3c7ba4=_0x24ab8e['split']('/');let _0x4d86e2='',_0x205671=[];for(let _0x27cf0c=0x13*0x191+-0x2151+0xb6*0x5;_0x27cf0c<_0x3c7ba4['length'];_0x27cf0c++)if(_0x3c7ba4[_0x27cf0c]!==''&&_0x3c7ba4[_0x27cf0c]!=='.'){if(_0x3c7ba4[_0x27cf0c]==='..'&&_0x205671['length']>-0x3c1*-0xa+0x1b7*-0x10+-0xa1a*0x1){_0x205671=_0x205671['slice'](0xb9*-0x14+0x5*-0x30d+0x1db5,_0x205671['length']-(-0x2*-0x326+0x43*0x3d+0x9*-0x279));continue;}_0x27cf0c>-0x5e9+0x1d3*-0x4+-0x17*-0x93&&_0x205671['push'](xe['delimiter']),_0x205671['push'](_0x3c7ba4[_0x27cf0c]);}return _0x4d86e2=_0x205671['join'](''),!_0x2d2cf9&&_0x4d86e2[-0xc55+-0x1fa2+0x2bf7]===xe['delimiter']&&(_0x4d86e2=_0x4d86e2['slice'](0x3*-0x2a3+-0x539*-0x1+0x2b1)),_0x504ec5&&_0x4d86e2[_0x4d86e2['length']-(0x1a38+-0x1*-0x1997+-0x33ce)]!==xe['delimiter']&&(_0x4d86e2+=xe['delimiter']),_0x4d86e2;},'split'(_0x321463){const _0x2dd0f2=_0x321463['lastIndexO'+'f'](xe['delimiter']);return _0x2dd0f2!==-(0x1867+0x23*0x1f+-0x1ca3*0x1)?[_0x321463['substring'](-0x7*-0x1f+0x108f+-0x1168,_0x2dd0f2),_0x321463['substring'](_0x2dd0f2+(0x11f1*-0x1+-0x1441+0x2633))]:['',_0x321463];},'getBasename'(_0x54aee3){return xe['split'](_0x54aee3)[-0x1*0x12f1+0x107a+0x278];},'getDirectory'(_0x3a1704){return xe['split'](_0x3a1704)[-0x2*-0x313+0x11*-0x152+0x7*0x254];},'getExtension'(_0x470630){const _0x1b6f50=_0x470630['split']('?')[-0x2*0xa53+0x2151+-0xcab]['split']('.')['pop']();return _0x1b6f50!==_0x470630?'.'+_0x1b6f50:'';},'isRelativePath'(_0x3cfc7d){return _0x3cfc7d['charAt'](0x9b*0x28+0x102f*-0x1+0x11*-0x79)!=='/'&&_0x3cfc7d['match'](/:\/\//)===null;},'extractPath'(_0x10bca1){let _0x2388bc='';const _0x364f91=_0x10bca1['split']('/');let _0x28082a=0xf1e+-0x1*-0x143+-0x1061;if(_0x364f91['length']>-0x324+0x5b9+-0x294){if(xe['isRelative'+'Path'](_0x10bca1)){if(_0x364f91[-0xe32+0x14b1+-0x67f*0x1]==='.'){for(_0x28082a=-0x18dc+0x46*-0x89+0x3e52;_0x28082a<_0x364f91['length']-(-0x27f+-0xc1f+0x13*0xc5);++_0x28082a)_0x2388bc+=_0x28082a===0x4a3*0x3+0x211c+-0x2f05?_0x364f91[_0x28082a]:'/'+_0x364f91[_0x28082a];}else{if(_0x364f91[0x1beb+-0x238f+-0xc*-0xa3]==='..'){for(_0x28082a=0x2a*0x58+0x5b*-0x53+-0x7*-0x227;_0x28082a<_0x364f91['length']-(0x2068+-0x47d+0x4a7*-0x6);++_0x28082a)_0x2388bc+=_0x28082a===-0x1f1e+0x31d*0x7+0xd9*0xb?_0x364f91[_0x28082a]:'/'+_0x364f91[_0x28082a];}else{for(_0x2388bc='.',_0x28082a=0x25d1+-0x1*-0xa81+0x1829*-0x2;_0x28082a<_0x364f91['length']-(0x5*0x509+0x26f1+-0x401d);++_0x28082a)_0x2388bc+='/'+_0x364f91[_0x28082a];}}}else{for(_0x28082a=-0x8f2*0x1+0x4*-0x5aa+-0x1*-0x1f9a;_0x28082a<_0x364f91['length']-(0x1ff5+-0x244c+-0x8b*-0x8);++_0x28082a)_0x2388bc+=_0x28082a===-0x92f*-0x1+-0x1*-0xbe1+-0x8*0x2a2?_0x364f91[_0x28082a]:'/'+_0x364f91[_0x28082a];}}return _0x2388bc;}},J0=()=>{let _0x459dd4=!(0x13a9+-0x2e*0x1f+-0xe16);try{const _0x25c403=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x459dd4=!(-0x1372+0xa5*0x2c+0xe*-0xa3),!(0x2*-0x5d1+0xf76*0x2+-0x1349);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x25c403),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x25c403);}catch{}return _0x459dd4;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x2e9*0x1+-0x329*0x2+0x369),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x1931f+-0x116fe+0x5bdf,jS=0x2e3*0x6d+-0xcd14+0x6e6c,Rm=-0x1*-0x4bb6+-0x14ca9+-0x1*-0x1dcf3,rx=0x1977d+0x5*-0x13c6+-0x54a0,ax=0xd1e+0x2c26*0x1+-0x1937,Om=0x104*-0x9d+0x5b39+0x23621,Fm=0x1*0x250d5+0x1dfdf+-0x23eb5,nx=0x3199f+-0x29*-0xce7+-0x336a3,ox=-0x1f5df+0x2b6f6+-0x2bd8*-0x7,lx=0x9d*-0x6b+0x10*-0x4a+0x670f,cx=0x2064+0x2*0x19cf+0x5ab*-0x9,zf=0xc9ae*0x2+0x2*0x585d+-0x1*0x14616,Vf=-0x832d+0x5*0xa31+0x14e47;function Gf(_0x1b2048,_0x2e1421=-0x6*0x33d+0x1856+0x4*-0x13a){const _0x4f8e59=_0x1b2048['length'];if(_0x2e1421<0x1c9b+0x3*-0xa42+0x22b||_0x2e1421>=_0x4f8e59)return null;const _0x268c02=_0x1b2048['charCodeAt'](_0x2e1421);if(_0x4f8e59>0x478*-0x8+0x1*0x7e5+0x1bdc&&_0x268c02>=Bf&&_0x268c02<=jS){const _0x5875ad=_0x1b2048['charCodeAt'](_0x2e1421+(-0x5ec+0x175*0x11+-0x2*0x96c));if(_0x5875ad>=Rm&&_0x5875ad<=rx)return{'code':(_0x268c02-Bf)*(0x4*-0x163+-0x1fe6+0x2972)+_0x5875ad-Rm+(0xd79*-0xe+0xcdc2+-0x4*-0x3bb7),'long':!(-0xec2*-0x1+0x9a8+-0x19*0xfa)};}return{'code':_0x268c02,'long':!(-0x184a*0x1+0x2235+-0x9ea)};}function fr(_0x1546c2,_0x590118,_0x338527){if(!_0x1546c2)return!(-0x1e66+0x2*0x10c8+-0x1*0x329);const _0x2c65c6=Gf(_0x1546c2);if(_0x2c65c6){const _0x2e09cd=_0x2c65c6['code'];return _0x2e09cd>=_0x590118&&_0x2e09cd<=_0x338527;}return!(-0x1a99*-0x1+-0x25*-0xc+-0x1c54);}function hx(_0xf4e71c,_0x4a42c1){if(_0x4a42c1===_0xf4e71c['length']-(-0x1d2a+0x33*0x6e+0x3*0x26b))return-0x2af*0x1+-0x725+0x9d5;if(fr(_0xf4e71c[_0x4a42c1],Bf,jS)){const _0x2eafb9=_0xf4e71c['substring'](_0x4a42c1,_0x4a42c1+(-0x1309+0x3*-0xc1d+0x3762)),_0x4d4df5=_0xf4e71c['substring'](_0x4a42c1+(-0x132f+0x97*0x2+0x1203),_0x4a42c1+(-0x1751*0x1+0xd*-0x2c0+-0x113*-0x37));return fr(_0x4d4df5,nx,ox)||fr(_0x2eafb9,Om,Fm)&&fr(_0x4d4df5,Om,Fm)?0x26a0+0x1*-0x70a+-0x1f92:fr(_0x4d4df5,zf,Vf)?-0x6a*-0x19+-0x2b*-0x9+-0xbda:-0x2517+0x105+0x120a*0x2;}return fr(_0xf4e71c[_0x4a42c1+(0x793+0x12f9+0x1c5*-0xf)],zf,Vf)?-0x98*-0xb+0x110+-0x796:-0x33e*0x6+0x25a4+-0x122f;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x21ed78,..._0x3e5833){for(let _0x3f0bce=-0x187*-0x5+-0x1*0x13fd+0xc5a;_0x3f0bce<_0x3e5833['length'];_0x3f0bce++)_0x21ed78=_0x21ed78['replace']('{'+_0x3f0bce+'}',_0x3e5833[_0x3f0bce]);return _0x21ed78;},'getCodePoint'(_0x4b334d,_0x3afede){const _0x10cdcb=Gf(_0x4b334d,_0x3afede);return _0x10cdcb&&_0x10cdcb['code'];},'getCodePoints'(_0x53af1c){if(typeof _0x53af1c!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x3573be=-0x1dd6+0xa04*0x2+0x9ce;const _0x140479=[];let _0xd2dd07;for(;_0xd2dd07=Gf(_0x53af1c,_0x3573be);)_0x140479['push'](_0xd2dd07['code']),_0x3573be+=_0xd2dd07['long']?-0x11a7*0x2+0x1262*-0x1+0x35b2:0x1314+-0x197+-0x117c;return _0x140479;},'getSymbols'(_0x398872){if(typeof _0x398872!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xa384d6=0x8a*-0x42+0x2*-0xfba+0x4308;const _0x7522bd=_0x398872['length'],_0x4f7d66=[];let _0x7d8033=-0x35*0x41+-0x42d*-0x1+0x948,_0x526fbe;for(;_0xa384d6<_0x7522bd;){if(_0x7d8033+=hx(_0x398872,_0xa384d6+_0x7d8033),_0x526fbe=_0x398872[_0xa384d6+_0x7d8033],fr(_0x526fbe,lx,cx)&&(_0x526fbe=_0x398872[_0xa384d6+_0x7d8033++]),fr(_0x526fbe,zf,Vf)&&(_0x526fbe=_0x398872[_0xa384d6+_0x7d8033++]),_0x526fbe&&_0x526fbe['charCodeAt'](0x7cb+0x1ea5*-0x1+0x16da)===ax){_0x526fbe=_0x398872[_0xa384d6+_0x7d8033++];continue;}const _0x43099a=_0x398872['substring'](_0xa384d6,_0xa384d6+_0x7d8033);_0x4f7d66['push'](_0x43099a),_0xa384d6+=_0x7d8033,_0x7d8033=0x3*0xb27+0xe06+-0x2f7b;}return _0x4f7d66;},'fromCodePoint'(..._0x40a954){return _0x40a954['map'](_0x2dfc4e=>_0x2dfc4e>0x20a7+0xb4ec+0x5*0x87c?(_0x2dfc4e-=0x73*0x193+-0xd3bd*0x2+0x1f271*0x1,String['fromCharCo'+'de']((_0x2dfc4e>>0x2b*0x6b+0x2618+-0x3807)+(-0x19d3a+0x1*-0xecee+-0x905c*-0x6),_0x2dfc4e%(0x1a7a+0x1*-0x451+-0x1229)+(-0x13*-0xb0d+-0x16e38+0x17841))):String['fromCharCo'+'de'](_0x2dfc4e))['join']('');}},Zr=class Zr{static['set'](_0x431d4a,_0x1a6c93=!(0x5b7+0x1*0x1dd1+-0x2388)){_0x1a6c93?Zr['_traceChan'+'nels']['add'](_0x431d4a):Zr['_traceChan'+'nels']['delete'](_0x431d4a);}static['get'](_0x1b0ce8){return Zr['_traceChan'+'nels']['has'](_0x1b0ce8);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x1804+-0x1a92+0x3297));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x4c3d01){Vt['_loggedMes'+'sages']['has'](_0x4c3d01)||(Vt['_loggedMes'+'sages']['add'](_0x4c3d01),console['warn']('DEPRECATED'+':\x20'+_0x4c3d01));}static['removed'](_0x3daf82){Vt['_loggedMes'+'sages']['has'](_0x3daf82)||(Vt['_loggedMes'+'sages']['add'](_0x3daf82),console['error']('REMOVED:\x20'+_0x3daf82));}static['assertDepr'+'ecated'](_0x59f6dc,_0x322fd1){_0x59f6dc||Vt['deprecated'](_0x322fd1);}static['assert'](_0x27abde,..._0x1de6d2){_0x27abde||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x1de6d2);}static['assertDest'+'royed'](_0x16688d){var _0x4a3080;if(_0x16688d!=null&&_0x16688d['__alreadyD'+'estroyed']){const _0x358f93='['+((_0x4a3080=_0x16688d['constructo'+'r'])==null?void(-0x1*0x182e+-0x8fb+-0xd*-0x28d):_0x4a3080['name'])+(']\x20with\x20nam'+'e\x20[')+_0x16688d['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x358f93)||(Vt['_loggedMes'+'sages']['add'](_0x358f93),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x358f93,_0x16688d));}}static['call'](_0x356546){_0x356546();}static['log'](..._0x3f3782){console['log'](..._0x3f3782);}static['logOnce'](_0x393db2,..._0x4a6ba6){Vt['_loggedMes'+'sages']['has'](_0x393db2)||(Vt['_loggedMes'+'sages']['add'](_0x393db2),console['log'](_0x393db2,..._0x4a6ba6));}static['warn'](..._0x149f14){console['warn'](..._0x149f14);}static['warnOnce'](_0x2af422,..._0x43ddc8){Vt['_loggedMes'+'sages']['has'](_0x2af422)||(Vt['_loggedMes'+'sages']['add'](_0x2af422),console['warn'](_0x2af422,..._0x43ddc8));}static['error'](..._0x25950b){console['error'](..._0x25950b);}static['errorOnce'](_0x5ad4c9,..._0x39f033){Vt['_loggedMes'+'sages']['has'](_0x5ad4c9)||(Vt['_loggedMes'+'sages']['add'](_0x5ad4c9),console['error'](_0x5ad4c9,..._0x39f033));}static['trace'](_0x3259fb,..._0x4a0010){mi['get'](_0x3259fb)&&(console['groupColla'+'psed'](_0x3259fb['padEnd'](0x95d+-0x1222*-0x1+-0x1b6b,'\x20')+'|',..._0x4a0010),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x34edfa,_0x557d3f){_0x34edfa&&(_0x34edfa['name']=_0x557d3f);}static['setLabel'](_0xeafeae,_0x140421){_0xeafeae&&(_0xeafeae['label']=_0x140421);}static['setDestroy'+'ed'](_0x585e8c){_0x585e8c&&(_0x585e8c['__alreadyD'+'estroyed']=!(0x753+-0x22d6+-0x1*-0x1b83));}}class dx{constructor(_0x4b7ee9,_0x4802ed,_0x1d4363,_0x4615d0,_0x589ace=!(0x5*-0xd4+0x1aec*-0x1+0x1f11)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(-0x43*-0x6d+-0x2119+0x493*0x1)),(this['handler']=_0x4b7ee9,this['name']=_0x4802ed,this['callback']=_0x1d4363,this['scope']=_0x4615d0,this['_once']=_0x589ace);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x15421d,_0x4fff56,_0x53639f=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x15421d,_0x4fff56,_0x53639f,!(0x1*-0x1b4f+0x2*0x4b+-0x26e*-0xb));}['once'](_0x4a8370,_0x212f33,_0x2177f9=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x4a8370,_0x212f33,_0x2177f9,!(-0x2e7*0x4+-0x1873+-0x1*-0x240f));}set['removed'](_0x3e17a8){_0x3e17a8&&(this['_removed']=!(-0x1*-0x1748+0x87b*-0x3+0x229));}get['removed'](){return this['_removed'];}['toJSON'](_0x4d69a9){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x5e8d85,_0x576cee,_0x56243b,_0x3d470f){if((!_0x5e8d85||typeof _0x5e8d85!='string'||!_0x576cee)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x5e8d85+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x576cee),this['_callbacks']['has'](_0x5e8d85)||this['_callbacks']['set'](_0x5e8d85,[]),this['_callbackA'+'ctive']['has'](_0x5e8d85)){const _0x2a3922=this['_callbackA'+'ctive']['get'](_0x5e8d85);_0x2a3922&&_0x2a3922===this['_callbacks']['get'](_0x5e8d85)&&this['_callbackA'+'ctive']['set'](_0x5e8d85,_0x2a3922['slice']());}const _0x25c352=new dx(this,_0x5e8d85,_0x576cee,_0x56243b,_0x3d470f);return this['_callbacks']['get'](_0x5e8d85)['push'](_0x25c352),_0x25c352;}['on'](_0x40d33d,_0x285e47,_0x12b40a=this){return this['_addCallba'+'ck'](_0x40d33d,_0x285e47,_0x12b40a,!(-0xb*0x2af+-0xe*0x263+-0x26*-0x1a8));}['once'](_0x5ce851,_0x5063a5,_0x4305c6=this){return this['_addCallba'+'ck'](_0x5ce851,_0x5063a5,_0x4305c6,!(-0x1*0x1709+-0x7*0x511+0x3a80));}['off'](_0xc6a6fa,_0x592937,_0x32a553){if(_0xc6a6fa)this['_callbackA'+'ctive']['has'](_0xc6a6fa)&&this['_callbackA'+'ctive']['get'](_0xc6a6fa)===this['_callbacks']['get'](_0xc6a6fa)&&this['_callbackA'+'ctive']['set'](_0xc6a6fa,this['_callbackA'+'ctive']['get'](_0xc6a6fa)['slice']());else{for(const [_0x3b5c02,_0x3dc830]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x3b5c02)&&this['_callbacks']['get'](_0x3b5c02)===_0x3dc830&&this['_callbackA'+'ctive']['set'](_0x3b5c02,_0x3dc830['slice']());}if(_0xc6a6fa){if(_0x592937){const _0x340783=this['_callbacks']['get'](_0xc6a6fa);if(!_0x340783)return this;for(let _0x45298a=-0x1*0xdcc+-0x6e5*0x2+0x42*0x6b;_0x45298a<_0x340783['length'];_0x45298a++)_0x340783[_0x45298a]['callback']===_0x592937&&(_0x32a553&&_0x340783[_0x45298a]['scope']!==_0x32a553||(_0x340783[_0x45298a]['removed']=!(0x1*0x2647+0x10*-0x1cf+0x3*-0x31d),_0x340783['splice'](_0x45298a,-0x53*-0x2b+-0xad4+0x2*-0x18e),_0x45298a--));_0x340783['length']===0x23cd+-0x1c4c+-0x781&&this['_callbacks']['delete'](_0xc6a6fa);}else{const _0x2bc7be=this['_callbacks']['get'](_0xc6a6fa);if(_0x2bc7be){for(let _0x562bf1=0x27*-0xf9+-0x7*0x221+0x34d6;_0x562bf1<_0x2bc7be['length'];_0x562bf1++)_0x2bc7be[_0x562bf1]['removed']=!(-0x19f6+-0x1*-0xbc+-0x193a*-0x1);this['_callbacks']['delete'](_0xc6a6fa);}}}else{for(const _0x2e352f of this['_callbacks']['values']())for(let _0x465bb5=-0x3*-0x5a7+-0x139*-0x1d+-0x346a;_0x465bb5<_0x2e352f['length'];_0x465bb5++)_0x2e352f[_0x465bb5]['removed']=!(0xc5c+-0x8f*-0x6+-0xfb6);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x3eae1d){const _0xfd2260=_0x3eae1d['name'];_0x3eae1d['removed']=!(-0x36d*-0x9+0x7a4+-0x2679),this['_callbackA'+'ctive']['has'](_0xfd2260)&&this['_callbackA'+'ctive']['get'](_0xfd2260)===this['_callbacks']['get'](_0xfd2260)&&this['_callbackA'+'ctive']['set'](_0xfd2260,this['_callbackA'+'ctive']['get'](_0xfd2260)['slice']());const _0x40878d=this['_callbacks']['get'](_0xfd2260);if(!_0x40878d)return this;const _0x1f6719=_0x40878d['indexOf'](_0x3eae1d);return _0x1f6719!==-(0x1354+-0x3*0x902+0x7b3)&&(_0x40878d['splice'](_0x1f6719,0x9*-0x3af+0x3*0xcbe+-0x512),_0x40878d['length']===-0x9e7+0x1*0x1f3c+0x1555*-0x1&&this['_callbacks']['delete'](_0xfd2260)),this;}['fire'](_0x299085,_0x1f1965,_0x5dccac,_0xf64469,_0x31a435,_0x582653,_0x4aa740,_0x21d181,_0x48f933){if(!_0x299085)return this;const _0x149bd6=this['_callbacks']['get'](_0x299085);if(!_0x149bd6)return this;let _0x27dac4;this['_callbackA'+'ctive']['has'](_0x299085)?this['_callbackA'+'ctive']['get'](_0x299085)!==_0x149bd6&&(_0x27dac4=_0x149bd6['slice']()):this['_callbackA'+'ctive']['set'](_0x299085,_0x149bd6);for(let _0x23cd16=0x26f3+-0xabf+-0x1c34;(_0x27dac4||this['_callbackA'+'ctive']['get'](_0x299085))&&_0x23cd16<(_0x27dac4||this['_callbackA'+'ctive']['get'](_0x299085))['length'];_0x23cd16++){const _0x3dffae=(_0x27dac4||this['_callbackA'+'ctive']['get'](_0x299085))[_0x23cd16];if(_0x3dffae['callback']&&(_0x3dffae['callback']['call'](_0x3dffae['scope'],_0x1f1965,_0x5dccac,_0xf64469,_0x31a435,_0x582653,_0x4aa740,_0x21d181,_0x48f933),_0x3dffae['_once'])){const _0x2046de=this['_callbacks']['get'](_0x299085),_0x2227fa=_0x2046de?_0x2046de['indexOf'](_0x3dffae):-(0x2*-0xbc5+-0xbf6+-0x1*-0x2381);if(_0x2227fa!==-(-0x1*-0x71f+-0x14b6+-0x2b8*-0x5)){this['_callbackA'+'ctive']['get'](_0x299085)===_0x2046de&&this['_callbackA'+'ctive']['set'](_0x299085,this['_callbackA'+'ctive']['get'](_0x299085)['slice']());const _0x34f537=this['_callbacks']['get'](_0x299085);if(!_0x34f537)continue;_0x34f537[_0x2227fa]['removed']=!(0xf96+-0x13a0+0x40a),_0x34f537['splice'](_0x2227fa,0x8f2+0x81e+-0x110f),_0x34f537['length']===0x13a8+-0x1373+0x35*-0x1&&this['_callbacks']['delete'](_0x299085);}}}return _0x27dac4||this['_callbackA'+'ctive']['delete'](_0x299085),this;}['hasEvent'](_0x1b6f38){var _0x48280d;return!!((_0x48280d=this['_callbacks']['get'](_0x1b6f38))!=null&&_0x48280d['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x1c78ac,_0x16b6e5){if(this['_index'][_0x1c78ac])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x1c78ac);const _0x48ff7c=this['_list']['push'](_0x16b6e5)-(0x383*-0x2+-0x1bf5+-0x117e*-0x2);this['_index'][_0x1c78ac]=_0x48ff7c;}['has'](_0x1879b1){return this['_index'][_0x1879b1]!==void(0x9be*0x1+0x15*0x18e+-0x2a64);}['get'](_0x31a4f9){const _0x6bd76d=this['_index'][_0x31a4f9];return _0x6bd76d!==void(-0x757*-0x5+-0x1a2d+0x543*-0x2)?this['_list'][_0x6bd76d]:null;}['remove'](_0xecdc2c){const _0x5de432=this['_index'][_0xecdc2c];if(_0x5de432!==void(-0x1ca2+0x8fb+0x183*0xd)){this['_list']['splice'](_0x5de432,0x2cf*0x8+-0x3a*-0x71+-0x3011),delete this['_index'][_0xecdc2c];for(_0xecdc2c in this['_index']){const _0x27ca4d=this['_index'][_0xecdc2c];_0x27ca4d>_0x5de432&&(this['_index'][_0xecdc2c]=_0x27ca4d-(-0x11*0x189+0x1*0xdcd+0xc4d));}return!(0x8a1*0x1+0x1c94*0x1+-0x2535);}return!(0xbf*0xa+0x1a84+-0x21f9);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x282*-0x4+0x2e7*0xb+-0x5f*0x3b;for(const _0x51c0f1 in this['_index'])delete this['_index'][_0x51c0f1];}}const ux=_0x47a844=>{const _0x45e8c3={};let _0x174d1b=_0x45e8c3;return()=>(_0x174d1b===_0x45e8c3&&(_0x174d1b=_0x47a844()),_0x174d1b);},ii=class ii{static['loadScript'](_0x183bb0,_0x51c57c){const _0x33baf2=document['createElem'+'ent']('script');_0x33baf2['setAttribu'+'te']('src',_0x183bb0),_0x33baf2['onload']=()=>{_0x51c57c(null);},_0x33baf2['onerror']=()=>{_0x51c57c('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x183bb0+'\x27');},document['body']['appendChil'+'d'](_0x33baf2);}static['loadWasm'](_0x1aa427,_0x2b2b74,_0x3950a0){const _0x551639=ii['wasmSuppor'+'ted']()&&_0x2b2b74['glueUrl']&&_0x2b2b74['wasmUrl']?_0x2b2b74['glueUrl']:_0x2b2b74['fallbackUr'+'l'];_0x551639?ii['loadScript'](_0x551639,_0x51bad0=>{if(_0x51bad0)_0x3950a0(_0x51bad0,null);else{const _0x3b7bf8=window[_0x1aa427];window[_0x1aa427]=void(0x1c4b+-0x1*-0x1bde+-0x3829),_0x3b7bf8({'locateFile':()=>_0x2b2b74['wasmUrl'],'onAbort':()=>{_0x3950a0('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x287f8d=>{_0x3950a0(null,_0x287f8d);});}}):_0x3950a0('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x1c2254){return ii['modules']['hasOwnProp'+'erty'](_0x1c2254)||(ii['modules'][_0x1c2254]={'config':null,'initializing':!(-0x6f0+0x1*0x1b65+0x77*-0x2c),'instance':null,'callbacks':[]}),ii['modules'][_0x1c2254];}static['initialize'](_0x51aba1,_0x34bd0e){if(_0x34bd0e['initializi'+'ng'])return;const _0x8c719a=_0x34bd0e['config'];(_0x8c719a['glueUrl']||_0x8c719a['wasmUrl']||_0x8c719a['fallbackUr'+'l'])&&(_0x34bd0e['initializi'+'ng']=!(0x1*-0x1486+-0x20*0x2c+0x2*0xd03),ii['loadWasm'](_0x51aba1,_0x8c719a,(_0x26184a,_0x57ca75)=>{_0x26184a?_0x8c719a['errorHandl'+'er']?_0x8c719a['errorHandl'+'er'](_0x26184a):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x51aba1+'\x20error='+_0x26184a):(_0x34bd0e['instance']=_0x57ca75,_0x34bd0e['callbacks']['forEach'](_0x57779e=>{_0x57779e(_0x57ca75);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5676a6=new WebAssembly['Module'](Uint8Array['of'](0xd97+0x2306+-0x309d,-0xa*-0x3c7+0xf02+-0x3467,-0x5*-0x689+0xeb5+-0x2eef*0x1,-0xd72+0x1c69+-0x2*0x745,-0xcfd+0x1b*0x121+-0x117d,0x1*-0xd6b+-0x1e3b*-0x1+-0x8*0x21a,-0x10fd+0x2492+-0x1395*0x1,-0x629*0x4+0x1b*-0x52+0x10a5*0x2));if(_0x5676a6 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5676a6)instanceof WebAssembly['Instance'];}}catch{}return!(0x5fc+0x6a7+-0xca2);}));let Yr=ii;class YS{static['setConfig'](_0x5c90fe,_0x3d8903){const _0x5240ec=Yr['getModule'](_0x5c90fe);_0x5240ec['config']=_0x3d8903,_0x5240ec['callbacks']['length']>0xb*0x1cd+0x11*0x95+0xeda*-0x2&&Yr['initialize'](_0x5c90fe,_0x5240ec);}static['getConfig'](_0x39a884){var _0xba8b22,_0x24c62c;return(_0x24c62c=(_0xba8b22=Yr['modules'])==null?void(0x2339+-0x92*-0x3f+0x5*-0xe3b):_0xba8b22[_0x39a884])==null?void(0x2*-0x805+-0x1*0x683+0x17*0xfb):_0x24c62c['config'];}static['getInstanc'+'e'](_0x5352b6,_0x2c5369){const _0x35c6b7=Yr['getModule'](_0x5352b6);_0x35c6b7['instance']?_0x2c5369(_0x35c6b7['instance']):(_0x35c6b7['callbacks']['push'](_0x2c5369),_0x35c6b7['config']&&Yr['initialize'](_0x5352b6,_0x35c6b7));}}class KS{constructor(_0x19e29b){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x1*0xc72+-0x1e2d+-0x11bb*-0x1),(this['arraybuffe'+'r']=_0x19e29b,this['dataView']=new DataView(_0x19e29b));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x24ae42=0x1*-0x23e7+0x1fe5+0x402){this['offset']=_0x24ae42;}['skip'](_0x2a0977){this['offset']+=_0x2a0977;}['align'](_0x30b7c7){this['offset']=this['offset']+_0x30b7c7-(0x101*0x1e+-0xad*0x1+0x4e8*-0x6)&~(_0x30b7c7-(0x21a9+0xa9f*0x3+-0x15d7*0x3));}['_inc'](_0x5d7ac6){return this['offset']+=_0x5d7ac6,this['offset']-_0x5d7ac6;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x575b79){let _0x5a4c1f='';for(let _0xf31bbe=-0xfbe+0x200b+-0x1*0x104d;_0xf31bbe<_0x575b79;++_0xf31bbe)_0x5a4c1f+=this['readChar']();return _0x5a4c1f;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0xf3*-0x9+-0x26d+-0x61c),!(0x3cc*0xa+0x1069*-0x2+-0x526));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x471*-0x5+-0x2*-0x66e+-0x9*0x3e5),!(0x79d*-0x4+-0x4*0x861+0x3ff8));}['readU64'](){return this['readU32']()+(0xa*0x3df+0x1c71+-0x4325*0x1)**(-0xcb5+0x1fd6+-0x1301)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x2*0x1369+0x900+-0x2fce*0x1),!(-0x2468+0x1e4d*0x1+0x1*0x61c));}['readArray'](_0x146539){for(let _0x2b472c=0x212d*-0x1+0x1229+0xf04;_0x2b472c<_0x146539['length'];++_0x2b472c)_0x146539[_0x2b472c]=this['readU8']();}['readLine'](){const _0x19bebc=this['dataView'];let _0x1a3d73='';for(;!(this['offset']>=_0x19bebc['byteLength']);){const _0x487a90=String['fromCharCo'+'de'](this['readU8']());if(_0x487a90==='\x0a')break;_0x1a3d73+=_0x487a90;}return _0x1a3d73;}}class oh{constructor(_0x4369d3){h(this,'items',[]),h(this,'length',0x2375+-0x1*-0x1fb5+0x1*-0x432a),h(this,'loopIndex',-(0x3*0x7fb+-0x4*0x98f+0x4c4*0x3)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x4369d3['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x497ec8){let _0x1f233b=-0x1c91+-0x55*-0x11+0x12*0x146,_0x5d5c9d=this['items']['length']-(-0x403+-0x21*-0xc+-0x4f*-0x8);const _0x3d618a=_0x497ec8[this['_sortBy']];let _0x4f3778,_0x529ac4;for(;_0x1f233b<=_0x5d5c9d;)_0x4f3778=Math['floor']((_0x1f233b+_0x5d5c9d)/(-0x1*-0xa85+-0x95*-0x2f+-0x83*0x4a)),_0x529ac4=this['items'][_0x4f3778][this['_sortBy']],_0x529ac4<=_0x3d618a?_0x1f233b=_0x4f3778+(-0x25c2+-0xc8a+-0x1*-0x324d):_0x529ac4>_0x3d618a&&(_0x5d5c9d=_0x4f3778-(0x1*-0x425+0x1*0x422+0x4));return _0x1f233b;}['_doSort'](_0x588643,_0x515bc1){const _0x1b4ced=this['_sortBy'];return _0x588643[_0x1b4ced]-_0x515bc1[_0x1b4ced];}['insert'](_0x2ee166){const _0x3fbbb6=this['_binarySea'+'rch'](_0x2ee166);this['items']['splice'](_0x3fbbb6,0xc*-0x68+0x32d*-0x5+0x14c1,_0x2ee166),this['length']++,this['loopIndex']>=_0x3fbbb6&&this['loopIndex']++;}['append'](_0x1e3c66){this['items']['push'](_0x1e3c66),this['length']++;}['remove'](_0x44b5ae){const _0x37e11a=this['items']['indexOf'](_0x44b5ae);_0x37e11a<-0x22d9+-0x1*-0x29c+0x203d||(this['items']['splice'](_0x37e11a,0x1cf6+-0x2c7+0x2*-0xd17),this['length']--,this['loopIndex']>=_0x37e11a&&this['loopIndex']--);}['sort'](){const _0x28cdd8=this['loopIndex']>=0x2615*-0x1+-0xd37+-0x1*-0x334c?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x28cdd8!==null&&(this['loopIndex']=this['items']['indexOf'](_0x28cdd8));}}class Oo extends me{constructor(_0x403d6c){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x403d6c;}['add'](..._0x389a1e){let _0x516382=!(-0xea2+0x921+0xf*0x5e);const _0x3b2818=this['_processAr'+'guments'](_0x389a1e,!(-0x1d6e+-0x1b97+-0x3905*-0x1));if(!_0x3b2818['length'])return _0x516382;for(let _0x27cb1b=0x4d1+-0x5e*0x26+0x923*0x1;_0x27cb1b<_0x3b2818['length'];_0x27cb1b++)this['_index'][_0x3b2818[_0x27cb1b]]||(_0x516382=!(-0x5*-0x1c5+0xd*0x1+0x86*-0x11),this['_index'][_0x3b2818[_0x27cb1b]]=!(-0x227c+-0xe5*-0x24+-0x8*-0x49),this['_list']['push'](_0x3b2818[_0x27cb1b]),this['fire']('add',_0x3b2818[_0x27cb1b],this['_parent']));return _0x516382&&this['fire']('change',this['_parent']),_0x516382;}['remove'](..._0x56d0ee){let _0x37da1d=!(-0x864+-0x65e+0x1*0xec3);if(!this['_list']['length'])return _0x37da1d;const _0x562b9c=this['_processAr'+'guments'](_0x56d0ee,!(-0x1fc1+-0x10cc*0x1+0x308d));if(!_0x562b9c['length'])return _0x37da1d;for(let _0x534b21=0x1415+-0x26c+-0xb*0x19b;_0x534b21<_0x562b9c['length'];_0x534b21++)this['_index'][_0x562b9c[_0x534b21]]&&(_0x37da1d=!(0x3*-0x1e1+-0xc8d+0x1230),delete this['_index'][_0x562b9c[_0x534b21]],this['_list']['splice'](this['_list']['indexOf'](_0x562b9c[_0x534b21]),-0x88*-0x8+-0x19bf+-0x2*-0xac0),this['fire']('remove',_0x562b9c[_0x534b21],this['_parent']));return _0x37da1d&&this['fire']('change',this['_parent']),_0x37da1d;}['clear'](){if(!this['_list']['length'])return;const _0x36d4bb=this['_list']['slice'](-0xcc1+0x3*0x3cb+0x16*0x10);this['_list']=[],this['_index']={};for(let _0x1d62e8=0x65*0x6+0x646+-0x1*0x8a4;_0x1d62e8<_0x36d4bb['length'];_0x1d62e8++)this['fire']('remove',_0x36d4bb[_0x1d62e8],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x161e3a){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x161e3a)):!(0x1d6e+-0x231a+0x5ad);}['_has'](_0x6ce6b0){if(!this['_list']['length']||!_0x6ce6b0['length'])return!(0x20ae*0x1+-0x14aa+0x4b*-0x29);for(let _0x2f9de7=-0x2051+0x2f*-0xa0+-0x11*-0x3a1;_0x2f9de7<_0x6ce6b0['length'];_0x2f9de7++)if(_0x6ce6b0[_0x2f9de7]['length']===0xb*-0x356+-0x13f*-0x4+0x1fb7*0x1){if(this['_index'][_0x6ce6b0[_0x2f9de7][0x20ac+-0x2*0xcbc+-0x734]])return!(-0xaa5*0x3+-0xf02+-0xc5*-0x3d);}else{let _0x5dcedf=!(0xcf3+0xb*0xa1+-0x13de);for(let _0x4d9113=0x1*0x7a+-0x1bff+0x1b85;_0x4d9113<_0x6ce6b0[_0x2f9de7]['length'];_0x4d9113++)if(!this['_index'][_0x6ce6b0[_0x2f9de7][_0x4d9113]]){_0x5dcedf=!(-0x6f6+-0xbc*-0x1c+-0xd99);break;}if(_0x5dcedf)return!(-0x1bae+-0x1ef3+0x3aa1*0x1);}return!(-0x128f*0x2+-0x1607+0x1*0x3b26);}['list'](){return this['_list']['slice'](-0xdb*0x1d+0x352*-0xb+0x3d55);}['_processAr'+'guments'](_0x28bf89,_0x2af911){const _0x15176e=[];let _0x5e7267=[];if(!_0x28bf89||!_0x28bf89['length'])return _0x15176e;for(let _0x43b021=-0xb68*0x2+0x20a5+0x347*-0x3;_0x43b021<_0x28bf89['length'];_0x43b021++)if(_0x28bf89[_0x43b021]instanceof Array){_0x2af911||(_0x5e7267=[]);for(let _0x353cda=-0x1b3c+0x17f9+0x343;_0x353cda<_0x28bf89[_0x43b021]['length'];_0x353cda++)typeof _0x28bf89[_0x43b021][_0x353cda]=='string'&&(_0x2af911?_0x15176e['push'](_0x28bf89[_0x43b021][_0x353cda]):_0x5e7267['push'](_0x28bf89[_0x43b021][_0x353cda]));!_0x2af911&&_0x5e7267['length']&&_0x15176e['push'](_0x5e7267);}else typeof _0x28bf89[_0x43b021]=='string'&&(_0x2af911?_0x15176e['push'](_0x28bf89[_0x43b021]):_0x15176e['push']([_0x28bf89[_0x43b021]]));return _0x15176e;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x2213b3){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x11a8e6=_0x2213b3['match'](px);this['scheme']=_0x11a8e6[0x1d78+0x21e1+0x151d*-0x3],this['authority']=_0x11a8e6[0x2*0x255+0x20fa+-0x25a0],this['path']=_0x11a8e6[-0xd*-0x157+-0x142e+0x2c8],this['query']=_0x11a8e6[-0x1*-0x2659+-0x5f5*0x6+-0x294],this['fragment']=_0x11a8e6[0x16d9*-0x1+0x43*0x7b+-0x94f];}['toString'](){let _0x2475c5='';return this['scheme']&&(_0x2475c5+=this['scheme']+':'),this['authority']&&(_0x2475c5+='//'+this['authority']),_0x2475c5+=this['path'],this['query']&&(_0x2475c5+='?'+this['query']),this['fragment']&&(_0x2475c5+='#'+this['fragment']),_0x2475c5;}['getQuery'](){const _0x57d041={};if(this['query']){const _0x6cd32d=decodeURIComponent(this['query'])['split']('&');for(const _0x15fb48 of _0x6cd32d){const _0x5984fe=_0x15fb48['split']('=');_0x57d041[_0x5984fe[0x20b0+0x79*-0x31+-0x987]]=_0x5984fe[-0x233d+-0xc26+0x2f64];}}return _0x57d041;}['setQuery'](_0xacbe3e){let _0x309d72='';for(const _0x1b3723 in _0xacbe3e)_0xacbe3e['hasOwnProp'+'erty'](_0x1b3723)&&(_0x309d72!==''&&(_0x309d72+='&'),_0x309d72+=encodeURIComponent(_0x1b3723)+'='+encodeURIComponent(_0xacbe3e[_0x1b3723]));this['query']=_0x309d72;}}const mx=0x6a2+0x136*-0x8+0x30e,tp=0x1db8+-0x3*-0xcb6+-0x62b*0xb,Nm=-0x15ae+-0x1f6f+-0x1*-0x3521,_x=-0x1a3*-0x3+-0x1273+-0x3*-0x485,Y={'DEG_TO_RAD':Math['PI']/(0x140b+-0x1c7c+0x925),'RAD_TO_DEG':(-0x1001+0x3b*0x4d+0x1*-0x10a)/Math['PI'],'clamp'(_0x48338f,_0x354b3c,_0x16fd61){return _0x48338f>=_0x16fd61?_0x16fd61:_0x48338f<=_0x354b3c?_0x354b3c:_0x48338f;},'intToBytes24'(_0x10dc71){const _0x55b4bc=_0x10dc71>>-0x427*-0x5+0xa0+-0x35*0x67&-0x19e6+0x268f+0x5d5*-0x2,_0x312779=_0x10dc71>>0x16fe+0x1b99+-0x7*0x739&0x1*-0x69e+0x80b+-0x6e,_0x40bd75=_0x10dc71&0x9*0x39e+-0x63b+0x655*-0x4;return[_0x55b4bc,_0x312779,_0x40bd75];},'intToBytes32'(_0x4e154e){const _0x452000=_0x4e154e>>0xaea*-0x1+-0x7*-0x61+0x17*0x5d&0x1584+0x4c6+-0x194b,_0xd78909=_0x4e154e>>0x1d53+0x228+-0x1f6b&0xeaf*0x1+-0x1ad5*0x1+0xd25,_0x48cdfb=_0x4e154e>>0x2*0x565+0x1*-0xfc2+0x4*0x140&0xb*-0x1be+-0x24aa+0x38d3,_0x1c318e=_0x4e154e&0xab2*-0x3+0x4b7*0x1+0x1c5e;return[_0x452000,_0xd78909,_0x48cdfb,_0x1c318e];},'bytesToInt24'(_0x196986,_0x55a607,_0x3873fa){return _0x196986['length']&&(_0x3873fa=_0x196986[0x14d*-0xb+0x117d+-0x32c],_0x55a607=_0x196986[0x2*0x8c6+0x1e6b+-0x2ff6],_0x196986=_0x196986[0x455+-0x1879+-0x4*-0x509]),_0x196986<<0xcdd+-0x8cf+0xe*-0x49|_0x55a607<<0x1*-0x395+-0x237e+-0x47*-0x8d|_0x3873fa;},'bytesToInt32'(_0x39d30f,_0x49a61d,_0x3c7252,_0xfe0538){return _0x39d30f['length']&&(_0xfe0538=_0x39d30f[0x11be+0xa21*0x1+-0xdee*0x2],_0x3c7252=_0x39d30f[-0x32*0x91+-0x6*0x38a+0x3d*0xd0],_0x49a61d=_0x39d30f[-0x98b*-0x3+0x80*-0x6+-0x19a0],_0x39d30f=_0x39d30f[0x2*0x494+-0x382*-0x5+-0x1ab2]),(_0x39d30f<<0x14df+0xb*0x1d5+0x1477*-0x2|_0x49a61d<<0x1b6a+-0x25a*0x7+-0xae4|_0x3c7252<<0x2167+-0x2a4*0xe+-0x3*-0x133|_0xfe0538)>>>-0xf1c+-0x1697+0x25b3;},'lerp'(_0x4efc36,_0x48a541,_0x262cf0){return _0x4efc36+(_0x48a541-_0x4efc36)*Y['clamp'](_0x262cf0,-0x1b96+-0x1a53+0x35e9,0x1*-0x1169+-0xa1*0xb+0x1855);},'lerpAngle'(_0x5800b8,_0x447e28,_0x3f5488){return _0x447e28-_0x5800b8>-0x2*-0x4f+0x1*0x1195+0x1*-0x117f&&(_0x447e28-=0x208e+0xd71+-0x2c97),_0x447e28-_0x5800b8<-(0xf82+0x1f44+-0x2e12)&&(_0x447e28+=-0x2*-0xfe5+0x766+-0x25c8),Y['lerp'](_0x5800b8,_0x447e28,Y['clamp'](_0x3f5488,0x118+-0xf92+0xe7a,-0x75+0x1956+0x18e0*-0x1));},'powerOfTwo'(_0x50ac23){return _0x50ac23!==0x1e12+0x2550+-0x4362&&!(_0x50ac23&_0x50ac23-(-0x17*-0x8f+0x1*-0x79f+-0x539));},'nextPowerOfTwo'(_0x9d07d7){return _0x9d07d7--,_0x9d07d7|=_0x9d07d7>>-0x2569+-0x1448+0x39b2,_0x9d07d7|=_0x9d07d7>>-0xcbd*-0x1+0x1a3*0x3+-0x469*0x4,_0x9d07d7|=_0x9d07d7>>0x3*0x43+0x27*0xfb+-0x2702,_0x9d07d7|=_0x9d07d7>>-0xfbd+-0x1ef*-0x9+-0x1a2,_0x9d07d7|=_0x9d07d7>>0x1*-0x12dd+0x52*0x3d+0x9d*-0x1,_0x9d07d7++,_0x9d07d7;},'nearestPowerOfTwo'(_0x2b72e9){return Math['pow'](-0xd*0x1c9+0x10*0x251+-0x2c5*0x5,Math['round'](Math['log2'](_0x2b72e9)));},'random'(_0xf6dcd1,_0x108a74){const _0x433389=_0x108a74-_0xf6dcd1;return Math['random']()*_0x433389+_0xf6dcd1;},'smoothstep'(_0x5e5746,_0x360c27,_0x2abe4a){return _0x2abe4a<=_0x5e5746?0x15d*0x14+-0x25b0+0x17*0x74:_0x2abe4a>=_0x360c27?0xddf+-0x1b9e+0xdc0*0x1:(_0x2abe4a=(_0x2abe4a-_0x5e5746)/(_0x360c27-_0x5e5746),_0x2abe4a*_0x2abe4a*(0x1870+-0x2*-0xe3a+-0x34e1-(-0x1*-0xda5+-0x83b*-0x1+0x9*-0x26e)*_0x2abe4a));},'smootherstep'(_0x2d0881,_0x1f006a,_0x397184){return _0x397184<=_0x2d0881?-0x3*0x99c+-0x1*0x21b+0x1eef:_0x397184>=_0x1f006a?0x1356+-0x1588+0x233:(_0x397184=(_0x397184-_0x2d0881)/(_0x1f006a-_0x2d0881),_0x397184*_0x397184*_0x397184*(_0x397184*(_0x397184*(0xb3c+-0x2510+0x19da)-(0xd*-0x255+0xc*0x1b7+0x9cc))+(-0x71d+-0x60d*0x1+-0x69a*-0x2)));},'roundUp'(_0x5a3495,_0x2f17b0){return _0x2f17b0===-0x88e+-0x2366+-0x2bf4*-0x1?_0x5a3495:Math['ceil'](_0x5a3495/_0x2f17b0)*_0x2f17b0;},'between'(_0xad1b19,_0x4eefdf,_0x2832c4,_0x35a8fa){const _0x3b0b65=Math['min'](_0x4eefdf,_0x2832c4),_0x3ce40a=Math['max'](_0x4eefdf,_0x2832c4);return _0x35a8fa?_0xad1b19>=_0x3b0b65&&_0xad1b19<=_0x3ce40a:_0xad1b19>_0x3b0b65&&_0xad1b19<_0x3ce40a;}},Tt=class Tt{constructor(_0x3b4434=0x14a1+-0x2080+-0x1*-0xbdf,_0x26175a=-0x25c0+-0xb*-0x25e+0xbb6,_0x3108c8=0x68b+-0x10a*-0x1+-0x1*0x795,_0x143918=-0x179e*-0x1+-0x13*-0x47+-0x1ce2){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x9afa6e=_0x3b4434['length'];_0x9afa6e===-0x6c0+0x39*0x8e+-0x18db||_0x9afa6e===0x15a5+-0x4d*-0x27+-0x2*0x10ae?(this['r']=_0x3b4434[0x43*0x7a+0x8e*0x2+-0x210a],this['g']=_0x3b4434[0x15b4+0xb45+0x4*-0x83e],this['b']=_0x3b4434[0x21c3+-0x291*0x2+-0x1c9f],this['a']=_0x3b4434[0xd*-0x2f6+0xcb1+0x19d0]??-0x1*-0x1632+-0x146b*0x1+-0x1*0x1c6):(this['r']=_0x3b4434,this['g']=_0x26175a,this['b']=_0x3108c8,this['a']=_0x143918);}['clone'](){const _0x130a76=this['constructo'+'r'];return new _0x130a76(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x164829){return this['r']=_0x164829['r'],this['g']=_0x164829['g'],this['b']=_0x164829['b'],this['a']=_0x164829['a'],this;}['equals'](_0x386fb9){return this['r']===_0x386fb9['r']&&this['g']===_0x386fb9['g']&&this['b']===_0x386fb9['b']&&this['a']===_0x386fb9['a'];}['set'](_0x26a01f,_0x26523a,_0x4f2687,_0x3af5d1=0x4e6+-0x8f3*-0x1+0x8*-0x1bb){return this['r']=_0x26a01f,this['g']=_0x26523a,this['b']=_0x4f2687,this['a']=_0x3af5d1,this;}['lerp'](_0x2d45a9,_0x4a3242,_0x5b55e9){return this['r']=_0x2d45a9['r']+_0x5b55e9*(_0x4a3242['r']-_0x2d45a9['r']),this['g']=_0x2d45a9['g']+_0x5b55e9*(_0x4a3242['g']-_0x2d45a9['g']),this['b']=_0x2d45a9['b']+_0x5b55e9*(_0x4a3242['b']-_0x2d45a9['b']),this['a']=_0x2d45a9['a']+_0x5b55e9*(_0x4a3242['a']-_0x2d45a9['a']),this;}['linear'](_0x64754d=this){return this['r']=Math['pow'](_0x64754d['r'],-0x1*-0x557+-0xbf*-0x11+0x902*-0x2+0.20000000000000018),this['g']=Math['pow'](_0x64754d['g'],0x3*-0x479+0x1723+-0x9b6+0.20000000000000018),this['b']=Math['pow'](_0x64754d['b'],-0x1127+-0x1*0x6f1+0x2*0xc0d+0.20000000000000018),this['a']=_0x64754d['a'],this;}['gamma'](_0x173515=this){return this['r']=Math['pow'](_0x173515['r'],(-0x1*0x684+0x7*0x19d+-0x5e*0xd)/(-0x133d+-0x2102+0x3441+0.20000000000000018)),this['g']=Math['pow'](_0x173515['g'],(0xa*-0x3c1+0x558*-0x6+-0x1*-0x459b)/(-0x1e04+-0x17*-0x128+-0x36e*-0x1+0.20000000000000018)),this['b']=Math['pow'](_0x173515['b'],(-0x12*-0x74+0xd55*-0x1+-0x52e*-0x1)/(-0x2063+-0x151f+0x1ac2*0x2+0.20000000000000018)),this['a']=_0x173515['a'],this;}['mulScalar'](_0x20481a){return this['r']*=_0x20481a,this['g']*=_0x20481a,this['b']*=_0x20481a,this;}['fromString'](_0x25a0d1){const _0x56f8ec=parseInt(_0x25a0d1['replace']('#','0x'),-0x655*-0x6+0x431+-0x2a1f*0x1);let _0x294ede;return _0x25a0d1['length']>0x13*-0x10b+0x1428+-0x50?_0x294ede=Y['intToBytes'+'32'](_0x56f8ec):(_0x294ede=Y['intToBytes'+'24'](_0x56f8ec),_0x294ede[0x1473+0x16f5+-0x2b65]=-0x13*-0x1cd+0xdc5+-0x2efd),this['set'](_0x294ede[-0xf85+0x1003+-0x7e]/(0xb42+0x1daf+-0x27f2),_0x294ede[-0x62a+-0x2*-0x65+0x33*0x1b]/(0x771+0x1153+0x1*-0x17c5),_0x294ede[-0x2061+-0x7da+0x283d]/(0xaae*-0x3+0x92*0x1+0x1*0x2077),_0x294ede[0x2*-0x7bd+-0x2635+0x1*0x35b2]/(-0x4e0+-0x1*-0x1ffa+-0x1a1b)),this;}['fromArray'](_0x542ab0,_0x40d6b1=0x47*0xb+-0x228a+0x1f7d*0x1){return this['r']=_0x542ab0[_0x40d6b1]??this['r'],this['g']=_0x542ab0[_0x40d6b1+(-0x19c+0x24*0x10a+0xbb*-0x31)]??this['g'],this['b']=_0x542ab0[_0x40d6b1+(0xc75+0x316*0x1+-0xf89)]??this['b'],this['a']=_0x542ab0[_0x40d6b1+(0xde1+0x10f*0x7+-0x1547)]??this['a'],this;}['toString'](_0x3bea3b,_0x202b41){const {r:_0xbf3e82,g:_0x22ca05,b:_0x551550,a:_0x156b6b}=this;if(_0x202b41||_0xbf3e82>-0x61*0x63+-0x7a7+0x2d2b||_0x22ca05>0x133e+-0xf4f*-0x1+-0x228c||_0x551550>0x23dd+-0x6ab*0x1+-0x1d31)return _0xbf3e82['toFixed'](-0x270f+0x1*0xa8f+0x32b*0x9)+',\x20'+_0x22ca05['toFixed'](0x497+-0x1533+0x109f)+',\x20'+_0x551550['toFixed'](0x10*0x194+0x9a*-0x30+0x1*0x3a3)+',\x20'+_0x156b6b['toFixed'](0x43*0xd+0x39*0x43+-0x124f);let _0x3b5337='#'+((-0x1a32+-0x188d+-0x1d0*-0x1c<<-0x5fe+0x5*0x73a+-0x1e0c)+(Math['round'](_0xbf3e82*(-0x16ab+0xca2+-0x1*-0xb08))<<-0x30a+-0x49*-0x13+-0x251*0x1)+(Math['round'](_0x22ca05*(-0x10*0x1d5+0xc85+0x11ca))<<-0x4b*0xb+0x149b*-0x1+-0xc*-0x1fd)+Math['round'](_0x551550*(0x929+0xca3*-0x2+0x111c)))['toString'](-0x738+-0x1613+0x1d5b*0x1)['slice'](0x13*0x83+-0x609+-0x3af);if(_0x3bea3b===!(0xa16+-0x46*-0x14+-0xf8e)){const _0x1d84fe=Math['round'](_0x156b6b*(0x2f6+-0x11ac+0x1*0xfb5))['toString'](-0x1103+0x1*0x12f7+-0x1e4);this['a']<(-0x2c7*-0x5+0x2163+-0x2f36)/(0x1*-0x156c+0x1*0x1aa2+-0x437)?_0x3b5337+='0'+_0x1d84fe:_0x3b5337+=_0x1d84fe;}return _0x3b5337;}['toArray'](_0x2110b7=[],_0x17ea71=0x62a+-0x1bb8+0x158e,_0x2bdf12=!(-0x1037+0x1d2+-0x1*-0xe65)){return _0x2110b7[_0x17ea71]=this['r'],_0x2110b7[_0x17ea71+(0x26d*-0x2+-0x111a*-0x2+-0x1*0x1d59)]=this['g'],_0x2110b7[_0x17ea71+(-0x1d29*-0x1+0x23af+0xc1*-0x56)]=this['b'],_0x2bdf12&&(_0x2110b7[_0x17ea71+(0xdc5+0x2bf+-0x1081)]=this['a']),_0x2110b7;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x19f2+-0x1*0xfbc+-0xc2*-0x37,-0x8b8*0x2+0x1413+0x87*-0x5,0x10a3*-0x1+0x1bb*-0xc+-0x2567*-0x1,-0x5eb+0x833*-0x3+0x1*0x1e85))),h(Tt,'BLUE',Object['freeze'](new Tt(-0x62f*0x1+0x10*-0xb6+-0x9b*-0x1d,-0x1d8*-0xd+0x26*0x101+0x1f0f*-0x2,0xc6d+-0xad*-0x17+-0x1bf7,-0x378*-0x3+0x77*0x47+-0x2*0x15b4))),h(Tt,'CYAN',Object['freeze'](new Tt(0x1*0x12ff+0x127*-0x13+0x2e6,0x26df+0x1139*-0x1+-0x15a5,0x18a4+0x1fe+-0x1aa1*0x1,0x2*0x70b+0xfe8*-0x1+0x1*0x1d3))),h(Tt,'GRAY',Object['freeze'](new Tt(0x1*0x1169+0x18ac+-0x3*0xe07+0.5,-0x2099+0x44*0x59+0x8f5*0x1+0.5,0x13e6+-0x527*-0x3+-0x1*0x235b+0.5,-0x1255+-0x25*0x3b+0x1add))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x4*0x32e+0x1*-0x1c33+0x28eb,-0x1*0x1eb1+0x10d5+-0x15*-0xa9,0x4*-0xd7+-0x6d*-0x2b+-0xef3,0x24+0x443*0x3+-0xcec))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x1809+-0x1d6b*-0x1+-0x3573,0x1*-0xeb7+0x141*-0xd+0x1f04,-0x856+0x1e16+-0x13*0x125,-0x2f5+-0x2299+-0x783*-0x5))),h(Tt,'RED',Object['freeze'](new Tt(-0x17a9+0x1d*-0x153+0x3e11*0x1,-0x1*0x1b98+-0x2529+0x40c1,-0x17fa+-0x1*-0x998+0xe62,-0x19*-0x15c+-0x4ea*-0x4+-0x35a3))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x1129+0x8db+0x84f,-0x1609+0x2*-0x12a0+0x3b4a,0x22bc+0x171c+-0x1*0x39d7,0x3*0xb61+-0x2704*0x1+0xa*0x7d))),h(Tt,'YELLOW',Object['freeze'](new Tt(-0x1*0xaed+0x24bb+-0x19cd,-0x1*-0x2459+-0x1ed7+-0x581*0x1,0x1c33+-0xb5*0x27+-0xa0,0x19a2+0x1*-0x7bf+0x1*-0x11e2)));let ie=Tt;class ZS{constructor(_0x3fb3c3,_0x32a9d2=-0x1b7e+-0x3*0xcd9+0x4209){h(this,'_curve'),h(this,'_left',-(0x1*-0x1139+0x3b3+0x1*0xd87)/(0x1*0x1d4b+0x52a+0x2275*-0x1)),h(this,'_right',(0x167*-0x2+0x3*-0x1d3+0x848)/(-0x1*0x12f+-0x1*-0x1cd9+0x1baa*-0x1)),h(this,'_recip',0x1e86+0x233*-0x2+-0x1a20),h(this,'_p0',0xa9e*0x1+0x21bb*0x1+-0x2c59),h(this,'_p1',-0x93e+0x2397+-0x5*0x545),h(this,'_m0',-0x20bf+0x1ac3+0x17f*0x4),h(this,'_m1',0x1b*-0xc9+-0xa87+0x1fba),(this['_curve']=_0x3fb3c3,this['_reset'](_0x32a9d2));}['evaluate'](_0x2ad89f,_0x36bd1d=!(0xc4*-0x15+0x8d*-0x43+0x34fc)){(_0x36bd1d||_0x2ad89f<this['_left']||_0x2ad89f>=this['_right'])&&this['_reset'](_0x2ad89f);let _0x5e1e8c;const _0x244a3b=this['_curve']['type'];if(_0x244a3b===_x)_0x5e1e8c=this['_p0'];else{const _0x8fd072=this['_recip']===0x121a+0x1*0xd52+-0x1f6c*0x1?0x268a+-0x173d+-0x1*0xf4d:(_0x2ad89f-this['_left'])*this['_recip'];_0x244a3b===mx?_0x5e1e8c=Y['lerp'](this['_p0'],this['_p1'],_0x8fd072):_0x244a3b===tp?_0x5e1e8c=Y['lerp'](this['_p0'],this['_p1'],_0x8fd072*_0x8fd072*(0x188*-0xe+-0x12c*-0x1+0x1447-(-0x141a+-0xfb*0xf+0x22d1)*_0x8fd072)):_0x5e1e8c=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x8fd072);}return _0x5e1e8c;}['_reset'](_0x4fa4bb){const _0x45e891=this['_curve']['keys'],_0x42f9eb=_0x45e891['length'];if(!_0x42f9eb)this['_left']=-(-0x9*0x3ff+-0xb97+0x2f8f)/(0x12*-0x5+-0x77+0xd1),this['_right']=(0x5*0x149+0x1*0xbfb+-0x1267)/(0x1*0x1a8d+-0x1078+-0x1*0xa15),this['_recip']=0x4*-0x98a+0x218d+0x189*0x3,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1acb+-0x12f7+0x1*0x2dc2;else{if(_0x4fa4bb<_0x45e891[0x12*-0x98+-0x1d3b+0x27eb][-0x1*0x246+0x7dd+0x3*-0x1dd])this['_left']=-(-0x4fd*-0x7+0x32*0x1e+-0x266*0x11)/(-0x1d52+0x5*0x2de+0xefc),this['_right']=_0x45e891[-0x1c8f+-0x8c8+0x2557][-0x1396+-0xb*-0xfd+0x8b7],this['_recip']=-0x65*-0x1c+0x12d1+-0x1ddd,this['_p0']=this['_p1']=_0x45e891[0x13db+-0xb*-0x36+-0x1*0x162d][-0x1f10+-0x7af+0x26c0],this['_m0']=this['_m1']=-0xfb+0xf*-0xfd+0xfce;else{if(_0x4fa4bb>=_0x45e891[_0x42f9eb-(-0x24fc+-0x246a+0x4967)][-0x104e+-0x22b0+0x32fe])this['_left']=_0x45e891[_0x42f9eb-(-0x192f+-0x8*0x1fc+0x92*0x48)][0x106*-0x16+-0x81*0x25+0x29*0x101],this['_right']=(0x1*0x1505+0x24*-0x5+0xd0*-0x19)/(0x130b+0x1828+-0x2b33),this['_recip']=-0x1a55*-0x1+-0x21a+-0x1*0x183b,this['_p0']=this['_p1']=_0x45e891[_0x42f9eb-(0x4c0+0x1025+-0x14e4)][0x3da*0x5+0xdb2+-0x20f3],this['_m0']=this['_m1']=-0x1205*0x1+0x8f5+-0x1d0*-0x5;else{let _0xc067dd=0xc6a+0x2*-0x57e+-0x3*0x7a;for(;_0x4fa4bb>=_0x45e891[_0xc067dd+(-0x11f3+0xc88+0x2*0x2b6)][-0x2474*0x1+-0x2f*-0x65+0x5*0x395];)_0xc067dd++;this['_left']=_0x45e891[_0xc067dd][-0x1f32+-0xf7e*-0x2+0x36],this['_right']=_0x45e891[_0xc067dd+(-0x558+-0x1*0xa1b+0xf74*0x1)][-0x1495*0x1+0x6*0x291+0x52f];const _0x48ff5c=(0x1*0xbc0+0x2608+0x31c7*-0x1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x48ff5c)?_0x48ff5c:0x4*-0x67d+0x4d9+0x151b,this['_p0']=_0x45e891[_0xc067dd][0x13*0x207+0x1c77+-0x42fb],this['_p1']=_0x45e891[_0xc067dd+(-0xbc0*0x2+-0x12*0xdb+0x1b1*0x17)][0xaa+-0x1740+0x1697],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x45e891,_0xc067dd);}}}}['_calcTange'+'nts'](_0x2d744,_0x198ca6){let _0x2c2a7d;const _0xe57239=_0x2d744[_0x198ca6],_0x5a9307=_0x2d744[_0x198ca6+(-0x1ddb*0x1+0x90f+-0x429*-0x5)];let _0x2558f1;if(_0x198ca6===0x158f+0x1bf1+0x16*-0x240?_0x2c2a7d=[_0x2d744[-0xba1+-0x9f4+-0x1a9*-0xd][0x6a2*-0x3+0x5b7+0xe2f]+(_0x2d744[-0x6ef+-0x1*-0xeb8+-0x7c9][0x1656+-0x12c7*0x2+0xf38]-_0x2d744[-0x1839+0x7*0x3e6+0xc4*-0x4][-0x93*-0xa+0x233*0x7+-0x1523]),_0x2d744[-0xc9c*0x1+0x71*0x29+0x1*-0x57d][-0x31*-0xb3+0x15a7*0x1+-0x37e9]+(_0x2d744[0x3*0x3b3+0xd69+-0x1882][-0x62f+0x1*0xc3f+-0x60f]-_0x2d744[0x1*-0x10e5+0x35c+0xd8a*0x1][0x1*0x65d+-0xc5*-0x27+-0x245f])]:_0x2c2a7d=_0x2d744[_0x198ca6-(-0x1*0x257+0x2574+-0x4*0x8c7)],_0x198ca6===_0x2d744['length']-(-0x819*0x2+-0x6f*0x11+0x5*0x4b7)?_0x2558f1=[_0x2d744[_0x198ca6+(0x599*0x6+0x24b7+-0x332*0x16)][0xd*0xa1+-0x17c6+0xf99]+(_0x2d744[_0x198ca6+(-0x1dc5+-0xa39*0x2+0x3238)][0x201e+-0x7c9*0x4+0x1*-0xfa]-_0x2d744[_0x198ca6][-0xec9+0x1*0xed7+-0x2*0x7]),_0x2d744[_0x198ca6+(-0x4*-0x911+-0xd*0x1a1+-0xf16)][-0x2420+0x1e3c+0x1*0x5e5]+(_0x2d744[_0x198ca6+(-0x10f*-0x24+-0x2*0xab5+-0x10b1)][-0x1d8f+-0x1906+-0x22*-0x19b]-_0x2d744[_0x198ca6][0x9d*-0x36+0x9*-0x213+0x33ca])]:_0x2558f1=_0x2d744[_0x198ca6+(0x1*-0x39e+-0x90a*-0x2+-0x64*0x25)],this['_curve']['type']===Nm){const _0x566b2f=(0x4ab+-0x3*0x679+0xec2)*(_0x5a9307[0x3*0x45d+-0x46b+-0x8ac]-_0xe57239[0x23cd+0x6c*-0x26+-0x13c5])/(_0x5a9307[-0x491*-0x2+0xa3*-0x2b+0x207*0x9]-_0x2c2a7d[0x2151+-0x1*0xeef+-0x1262]),_0x777ee4=(0x38b+-0xfe+-0x28b)*(_0x5a9307[0x1*0x12f1+-0x4f*-0x1+-0x1340]-_0xe57239[-0xa28+-0x163c+0x2064])/(_0x2558f1[-0x11fb*-0x2+-0x1*-0x22a2+-0x2f1*0x18]-_0xe57239[0x244d*-0x1+-0x148+0x2595]);this['_m0']=this['_curve']['tension']*(isFinite(_0x566b2f)?_0x566b2f:-0x233d+0x152b+-0xe12*-0x1)*(_0x5a9307[0x664+-0x217a*-0x1+-0x27dd]-_0x2c2a7d[-0x1ce7+-0x108f+0x71*0x67]),this['_m1']=this['_curve']['tension']*(isFinite(_0x777ee4)?_0x777ee4:0xc74+-0x739*0x5+0x17a9)*(_0x2558f1[0x1*-0xad5+-0x1056+0xbc*0x25]-_0xe57239[-0x2*-0x8de+0x8*-0x30d+0x6ad*0x1]);}else{const _0x27545a=(_0x5a9307[-0x22e2+0x35f+0x1f83]-_0xe57239[-0xf*-0x9b+-0x193+-0x782])/(_0xe57239[0x1*0x113d+0x1*0x2696+-0x37d3*0x1]-_0x2c2a7d[0x95*0x2e+-0x19*0x1a+-0x5e*0x42]),_0x4d161a=(_0x5a9307[0x1835*-0x1+-0x2515+-0x621*-0xa]-_0xe57239[0x2*0x772+0x23bd*0x1+-0x32a1])/(_0x2558f1[-0x1f27+0x113*0x4+0x1adb]-_0x5a9307[-0x1*-0xaf9+0x83*-0xb+-0x558]),_0x380c88=_0xe57239[0x2457+-0x3f9*-0x6+-0x3c2c]+(_0x2c2a7d[-0x43e+-0x217c+-0xd*-0x2e7]-_0xe57239[0x964+-0x796+-0x1cd])*(isFinite(_0x27545a)?_0x27545a:-0x2438+-0xd58+0x3190),_0x41b5c9=_0x5a9307[0xe3*-0x25+0x35*-0x46+-0x976*-0x5]+(_0x2558f1[0x1b6f+0x4*-0x2d1+-0x102a]-_0x5a9307[0xf1+-0x2c*0x6f+-0x204*-0x9])*(isFinite(_0x4d161a)?_0x4d161a:0x1*-0x12df+-0xb1+0x1390),_0x2e659e=this['_curve']['tension'];this['_m0']=_0x2e659e*(_0x5a9307[0xef*-0x25+-0x82f*-0x1+0x1a5d]-_0x380c88),this['_m1']=_0x2e659e*(_0x41b5c9-_0xe57239[0x713*0x3+0x13*-0x6d+-0xd21]);}}['_evaluateH'+'ermite'](_0x43e813,_0x340f91,_0x3740ce,_0x51ba2c,_0x4c28fc){const _0x4e4600=_0x4c28fc*_0x4c28fc,_0x28936f=_0x4c28fc+_0x4c28fc,_0x2afbf8=-0x882+0xf83+-0x700-_0x4c28fc,_0x12cb2e=_0x2afbf8*_0x2afbf8;return _0x43e813*((-0x1*-0xbf7+-0x2e6+-0x910+_0x28936f)*_0x12cb2e)+_0x3740ce*(_0x4c28fc*_0x12cb2e)+_0x340f91*(_0x4e4600*(-0x2105+-0xa5a+0x2b62-_0x28936f))+_0x51ba2c*(_0x4e4600*(_0x4c28fc-(0x856+-0x17fe+0xfa9)));}}class qs{constructor(_0x11f81a){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0x2429+0xa5d*0x1+0x18d*-0x1e+0.5),h(this,'_eval',new ZS(this));if(_0x11f81a){for(let _0x2db307=0xd0*0xe+-0x1*0x2203+0x13*0x131;_0x2db307<_0x11f81a['length']-(-0xe*0x283+-0x2f7*0xc+0x46bf);_0x2db307+=0x6e1+0xce1*-0x2+0x12e3)this['keys']['push']([_0x11f81a[_0x2db307],_0x11f81a[_0x2db307+(0x13f3*-0x1+0x1bc0+-0x1*0x7cc)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x4fb63e,_0x1206b1){const _0x36b615=this['keys'],_0x3590b3=_0x36b615['length'];let _0x6f0776=-0x2156+0x59*0x47+-0x5*-0x1bb;for(;_0x6f0776<_0x3590b3&&!(_0x36b615[_0x6f0776][-0x11d+0x1*0x167f+-0x1562]>_0x4fb63e);_0x6f0776++);const _0x8b4148=[_0x4fb63e,_0x1206b1];return this['keys']['splice'](_0x6f0776,0x13d8+0x1724+-0x2afc,_0x8b4148),_0x8b4148;}['get'](_0x552ef7){return this['keys'][_0x552ef7];}['sort'](){this['keys']['sort']((_0xd4d21d,_0x5902d6)=>_0xd4d21d[0x79e*-0x4+0x3*-0x8ad+0x9*0x647]-_0x5902d6[0x2c2+-0x25ba+0x22f8]);}['value'](_0xa0437f){return this['_eval']['evaluate'](_0xa0437f,!(0x1*-0x6c5+-0x208d+0xe*0x2cf));}['closest'](_0x546f0a){const _0x579dd2=this['keys'],_0x1ddf34=_0x579dd2['length'];let _0x447d6c=-0x99*-0x35+0x2*-0x97f+-0xcad,_0x4fe3f4=null;for(let _0x4f62b5=0x6d5+-0xa6*-0xc+-0xe9d;_0x4f62b5<_0x1ddf34;_0x4f62b5++){const _0x382acc=Math['abs'](_0x546f0a-_0x579dd2[_0x4f62b5][-0x14c+-0x40e+-0x2*-0x2ad]);if(_0x447d6c>=_0x382acc)_0x447d6c=_0x382acc,_0x4fe3f4=_0x579dd2[_0x4f62b5];else break;}return _0x4fe3f4;}['clone'](){const _0x53f89c=new this['constructo'+'r']();return _0x53f89c['keys']=this['keys']['map'](_0x3689df=>[..._0x3689df]),_0x53f89c['type']=this['type'],_0x53f89c['tension']=this['tension'],_0x53f89c;}['quantize'](_0x1997f7){_0x1997f7=Math['max'](_0x1997f7,0x1626+-0x1*0x20fb+0xad7);const _0x8582b0=new Float32Array(_0x1997f7),_0x5b2c72=(0x1a9c+-0x1af3+0x8*0xb)/(_0x1997f7-(0x17e1*-0x1+-0x809*-0x2+-0x1f4*-0x4));_0x8582b0[-0x21ef+-0xf*0x233+0x10bb*0x4]=this['_eval']['evaluate'](0x3dc+0x2254+-0x98c*0x4,!(0x1cfc+0x18*-0x11+0x2*-0xdb2));for(let _0x3424f1=0x2322*0x1+0x66a+-0xdd9*0x3;_0x3424f1<_0x1997f7;_0x3424f1++)_0x8582b0[_0x3424f1]=this['_eval']['evaluate'](_0x5b2c72*_0x3424f1);return _0x8582b0;}['quantizeCl'+'amped'](_0x472731,_0x50d4a6,_0x189335){const _0x553568=this['quantize'](_0x472731);for(let _0x1ad28b=-0x9*0xf+0x4*-0x2b1+0xb4b;_0x1ad28b<_0x553568['length'];++_0x1ad28b)_0x553568[_0x1ad28b]=Math['min'](_0x189335,Math['max'](_0x50d4a6,_0x553568[_0x1ad28b]));return _0x553568;}}class na{constructor(..._0x1c1242){h(this,'curves',[]),h(this,'_type',tp);if(_0x1c1242['length']>-0x1de+0x8b*-0x2c+0x527*0x5){for(let _0x336335=0x1*0x1cb7+0xd69+-0x2a20;_0x336335<_0x1c1242['length'];_0x336335++)this['curves']['push'](new qs(_0x1c1242[_0x336335]));}else{if(_0x1c1242['length']===0x1*0x2253+0x597+-0x27ea)this['curves']['push'](new qs());else{const _0x1e539c=_0x1c1242[0x254f+-0xc61*0x1+0x18ee*-0x1];if(typeof _0x1e539c=='number'){for(let _0x5b54a7=-0x6f4+-0x6c+-0x3b*-0x20;_0x5b54a7<_0x1e539c;_0x5b54a7++)this['curves']['push'](new qs());}else{for(let _0x296a43=-0x7b4+0x99*0x14+0x20*-0x22;_0x296a43<_0x1e539c['length'];_0x296a43++)this['curves']['push'](new qs(_0x1e539c[_0x296a43]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x92a602){this['_type']=_0x92a602;for(let _0x5efa1e=0xa68+-0xc29*0x3+0x1a13;_0x5efa1e<this['curves']['length'];_0x5efa1e++)this['curves'][_0x5efa1e]['type']=_0x92a602;}get['type'](){return this['_type'];}['get'](_0x293212){return this['curves'][_0x293212];}['value'](_0x47f79e,_0x3a4b23=[]){const _0x436b04=this['curves']['length'];_0x3a4b23['length']=_0x436b04;for(let _0x3624d3=-0x8de+0xd98+-0x4ba;_0x3624d3<_0x436b04;_0x3624d3++)_0x3a4b23[_0x3624d3]=this['curves'][_0x3624d3]['value'](_0x47f79e);return _0x3a4b23;}['clone'](){const _0x587b53=new this['constructo'+'r']();_0x587b53['curves']=[];for(let _0xa57fe8=0x260d+0x1948+-0x1*0x3f55;_0xa57fe8<this['curves']['length'];_0xa57fe8++)_0x587b53['curves']['push'](this['curves'][_0xa57fe8]['clone']());return _0x587b53['_type']=this['_type'],_0x587b53;}['quantize'](_0x360ed7){_0x360ed7=Math['max'](_0x360ed7,0x3*0x749+0x233b+-0x1*0x3914);const _0x5cb270=this['curves']['length'],_0x4902ab=new Float32Array(_0x360ed7*_0x5cb270),_0x448de0=(-0x1eb*0x1+0x1ca8+0x1abc*-0x1)/(_0x360ed7-(-0x4db*-0x5+-0x22a7*-0x1+-0x3aed));for(let _0x39fe8c=-0x205*0x3+0x1759+-0x114a;_0x39fe8c<_0x5cb270;_0x39fe8c++){const _0x5c7aea=new ZS(this['curves'][_0x39fe8c]);for(let _0x370052=0x23e1+0x949+-0x2d2a;_0x370052<_0x360ed7;_0x370052++)_0x4902ab[_0x370052*_0x5cb270+_0x39fe8c]=_0x5c7aea['evaluate'](_0x448de0*_0x370052);}return _0x4902ab;}['quantizeCl'+'amped'](_0x4bd03c,_0x107295,_0x1db8ae){const _0x178aec=this['quantize'](_0x4bd03c);for(let _0x9875d8=0x1c61*-0x1+0xfed+-0xc74*-0x1;_0x9875d8<_0x178aec['length'];++_0x9875d8)_0x178aec[_0x9875d8]=Math['min'](_0x1db8ae,Math['max'](_0x107295,_0x178aec[_0x9875d8]));return _0x178aec;}}const Hf=new Float32Array(-0x189f*-0x1+-0x456*-0x8+-0x3b4e),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x197358){Hf[0x1*0x72d+0x1e62+-0x258f]=_0x197358;const _0x44e63f=km[0x20f9+0xc97+-0x2d90];let _0xd32ba2=_0x44e63f>>-0x683+-0x8c6+0xf59&0x13a*0xc7+-0x1882*-0x7+-0x11fa4,_0x206725=_0x44e63f>>-0x1cdc+0xbd6+-0x1112*-0x1&-0x12b6*-0x1+0x261b+-0x30d2;const _0x31cbeb=_0x44e63f>>0x2405*-0x1+-0x135c*-0x2+-0x2*0x14e&0xcfe+0x75*-0x4f+0x1*0x181c;return _0x31cbeb<0x49c*0x2+-0x1b63+-0x1*-0x1292?_0xd32ba2:_0x31cbeb>-0x229c+-0xd85+0xb*0x46d?(_0xd32ba2|=-0x202c+-0x1*0x43f+-0x1*-0xa06b,_0xd32ba2|=(_0x31cbeb===-0x11fc+-0x19b2+0x2cad?0x2c*-0x42+0x1c66+-0x110e:0x47d*-0x7+0x82b+0x1741*0x1)&&_0x44e63f&-0x99f773+-0x3cdd95+0x51ded*0x43,_0xd32ba2):_0x31cbeb<-0x27*-0x3e+-0x9*0x3e7+0x1*0x1a1e?(_0x206725|=0xa4b+-0x1f*-0x30+-0x81b,_0xd32ba2|=(_0x206725>>-0x261d*0x1+0x19fd+0x2*0x649-_0x31cbeb)+(_0x206725>>-0x11*0x8b+-0xf*-0x26e+-0x95*0x2e-_0x31cbeb&0x8*-0x24b+-0x182c+0x2a85),_0xd32ba2):(_0xd32ba2|=_0x31cbeb-(-0x121b+0x1a93+-0x2*0x404)<<0xd7a+-0xe8*-0x8+0x1*-0x14b0|_0x206725>>-0x5b*0x67+-0x139f+0x383d*0x1,_0xd32ba2+=_0x206725&-0x8*-0x23b+-0x5*-0x34b+0x1127*-0x2,_0xd32ba2);}static['float2RGBA'+'8'](_0x31dc87,_0x25e12d){Hf[-0x35*0xab+-0x1481+-0x37e8*-0x1]=_0x31dc87;const _0x34a094=km[-0x14*0x18d+0x1d7*0x15+-0x79f];_0x25e12d['r']=(_0x34a094>>-0x2039+0x220c+-0x1bb*0x1&-0xea1+-0x245+0x11e5)/(-0x13c3+-0x258d*0x1+0x3a4f),_0x25e12d['g']=(_0x34a094>>-0x1*0x21dd+0x1852+0x99b&0x2*0x1f1+0x1*0x1b2+-0x495)/(-0x83e+-0x2143+0x2a80),_0x25e12d['b']=(_0x34a094>>0x346*0x3+-0x9b*-0x10+0x115*-0x12&0x2*0x2ba+-0x3d1*0x7+0x1642)/(0x22bb+0x18*-0xc7+-0xf14),_0x25e12d['a']=(_0x34a094&-0x800+-0x1288+0x1b87)/(0xb*0x2d9+0x1140+-0x2f94);}}const wt=class wt{constructor(_0xe3aa5=0x94d*0x1+0x58f*-0x3+-0x1*-0x760,_0x146c6f=0x1b2f*0x1+0x1*0x809+-0x2338,_0xf00ec3=-0x49*0x7d+0x2a1*0x1+0x841*0x4){h(this,'x'),h(this,'y'),h(this,'z'),_0xe3aa5['length']===-0xaba+-0x4ed*-0x2+0xe3?(this['x']=_0xe3aa5[-0x1*-0x1745+-0x672+-0x10d3],this['y']=_0xe3aa5[-0xb63+0x60f*-0x3+0x1d91],this['z']=_0xe3aa5[-0x1640+0x11*0x95+0x41f*0x3]):(this['x']=_0xe3aa5,this['y']=_0x146c6f,this['z']=_0xf00ec3);}['add'](_0x1b55fa){return this['x']+=_0x1b55fa['x'],this['y']+=_0x1b55fa['y'],this['z']+=_0x1b55fa['z'],this;}['add2'](_0x2b5b64,_0x5f5346){return this['x']=_0x2b5b64['x']+_0x5f5346['x'],this['y']=_0x2b5b64['y']+_0x5f5346['y'],this['z']=_0x2b5b64['z']+_0x5f5346['z'],this;}['addScalar'](_0x1d967e){return this['x']+=_0x1d967e,this['y']+=_0x1d967e,this['z']+=_0x1d967e,this;}['addScaled'](_0x18aef2,_0x3a79e0){return this['x']+=_0x18aef2['x']*_0x3a79e0,this['y']+=_0x18aef2['y']*_0x3a79e0,this['z']+=_0x18aef2['z']*_0x3a79e0,this;}['clone'](){const _0x2586cb=this['constructo'+'r'];return new _0x2586cb(this['x'],this['y'],this['z']);}['copy'](_0x2c2b4c){return this['x']=_0x2c2b4c['x'],this['y']=_0x2c2b4c['y'],this['z']=_0x2c2b4c['z'],this;}['cross'](_0x4a3e99,_0x329866){const _0x517da2=_0x4a3e99['x'],_0x1ccc9e=_0x4a3e99['y'],_0x85a070=_0x4a3e99['z'],_0x3f7949=_0x329866['x'],_0x3658ea=_0x329866['y'],_0x21d586=_0x329866['z'];return this['x']=_0x1ccc9e*_0x21d586-_0x3658ea*_0x85a070,this['y']=_0x85a070*_0x3f7949-_0x21d586*_0x517da2,this['z']=_0x517da2*_0x3658ea-_0x3f7949*_0x1ccc9e,this;}['distance'](_0x364190){const _0x396199=this['x']-_0x364190['x'],_0x1e71b8=this['y']-_0x364190['y'],_0x23a201=this['z']-_0x364190['z'];return Math['sqrt'](_0x396199*_0x396199+_0x1e71b8*_0x1e71b8+_0x23a201*_0x23a201);}['div'](_0x2a6826){return this['x']/=_0x2a6826['x'],this['y']/=_0x2a6826['y'],this['z']/=_0x2a6826['z'],this;}['div2'](_0x533a48,_0x4e71d9){return this['x']=_0x533a48['x']/_0x4e71d9['x'],this['y']=_0x533a48['y']/_0x4e71d9['y'],this['z']=_0x533a48['z']/_0x4e71d9['z'],this;}['divScalar'](_0x1843f1){return this['x']/=_0x1843f1,this['y']/=_0x1843f1,this['z']/=_0x1843f1,this;}['dot'](_0x37f5af){return this['x']*_0x37f5af['x']+this['y']*_0x37f5af['y']+this['z']*_0x37f5af['z'];}['equals'](_0x24cf0a){return this['x']===_0x24cf0a['x']&&this['y']===_0x24cf0a['y']&&this['z']===_0x24cf0a['z'];}['equalsAppr'+'ox'](_0x38b029,_0x587dc1=-0x872*0x2+0x1b21+-0x1*0xa3d+0.000001){return Math['abs'](this['x']-_0x38b029['x'])<_0x587dc1&&Math['abs'](this['y']-_0x38b029['y'])<_0x587dc1&&Math['abs'](this['z']-_0x38b029['z'])<_0x587dc1;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x4ba9fb,_0x1ecc96,_0x4ca6d3){return this['x']=_0x4ba9fb['x']+_0x4ca6d3*(_0x1ecc96['x']-_0x4ba9fb['x']),this['y']=_0x4ba9fb['y']+_0x4ca6d3*(_0x1ecc96['y']-_0x4ba9fb['y']),this['z']=_0x4ba9fb['z']+_0x4ca6d3*(_0x1ecc96['z']-_0x4ba9fb['z']),this;}['mul'](_0x38c91c){return this['x']*=_0x38c91c['x'],this['y']*=_0x38c91c['y'],this['z']*=_0x38c91c['z'],this;}['mul2'](_0x5e295c,_0x2b01d9){return this['x']=_0x5e295c['x']*_0x2b01d9['x'],this['y']=_0x5e295c['y']*_0x2b01d9['y'],this['z']=_0x5e295c['z']*_0x2b01d9['z'],this;}['mulScalar'](_0x145348){return this['x']*=_0x145348,this['y']*=_0x145348,this['z']*=_0x145348,this;}['normalize'](_0x3d07f1=this){const _0x493142=_0x3d07f1['x']*_0x3d07f1['x']+_0x3d07f1['y']*_0x3d07f1['y']+_0x3d07f1['z']*_0x3d07f1['z'];if(_0x493142>0x880+0x58c+-0xe0c){const _0x307264=(0x1641+-0x300+0x9a*-0x20)/Math['sqrt'](_0x493142);this['x']=_0x3d07f1['x']*_0x307264,this['y']=_0x3d07f1['y']*_0x307264,this['z']=_0x3d07f1['z']*_0x307264;}return this;}['floor'](_0x57a41f=this){return this['x']=Math['floor'](_0x57a41f['x']),this['y']=Math['floor'](_0x57a41f['y']),this['z']=Math['floor'](_0x57a41f['z']),this;}['ceil'](_0x3b53e1=this){return this['x']=Math['ceil'](_0x3b53e1['x']),this['y']=Math['ceil'](_0x3b53e1['y']),this['z']=Math['ceil'](_0x3b53e1['z']),this;}['round'](_0x3084e9=this){return this['x']=Math['round'](_0x3084e9['x']),this['y']=Math['round'](_0x3084e9['y']),this['z']=Math['round'](_0x3084e9['z']),this;}['min'](_0x4a1c48){return _0x4a1c48['x']<this['x']&&(this['x']=_0x4a1c48['x']),_0x4a1c48['y']<this['y']&&(this['y']=_0x4a1c48['y']),_0x4a1c48['z']<this['z']&&(this['z']=_0x4a1c48['z']),this;}['max'](_0x3d65e0){return _0x3d65e0['x']>this['x']&&(this['x']=_0x3d65e0['x']),_0x3d65e0['y']>this['y']&&(this['y']=_0x3d65e0['y']),_0x3d65e0['z']>this['z']&&(this['z']=_0x3d65e0['z']),this;}['project'](_0x3fc811){const _0x3dc56=this['x']*_0x3fc811['x']+this['y']*_0x3fc811['y']+this['z']*_0x3fc811['z'],_0x42a939=_0x3fc811['x']*_0x3fc811['x']+_0x3fc811['y']*_0x3fc811['y']+_0x3fc811['z']*_0x3fc811['z'],_0x16d28f=_0x3dc56/_0x42a939;return this['x']=_0x3fc811['x']*_0x16d28f,this['y']=_0x3fc811['y']*_0x16d28f,this['z']=_0x3fc811['z']*_0x16d28f,this;}['set'](_0x2c6a7f,_0x2215b9,_0x4d8bd4){return this['x']=_0x2c6a7f,this['y']=_0x2215b9,this['z']=_0x4d8bd4,this;}['sub'](_0x306c10){return this['x']-=_0x306c10['x'],this['y']-=_0x306c10['y'],this['z']-=_0x306c10['z'],this;}['sub2'](_0x320816,_0xb5dcd9){return this['x']=_0x320816['x']-_0xb5dcd9['x'],this['y']=_0x320816['y']-_0xb5dcd9['y'],this['z']=_0x320816['z']-_0xb5dcd9['z'],this;}['subScalar'](_0x2682f6){return this['x']-=_0x2682f6,this['y']-=_0x2682f6,this['z']-=_0x2682f6,this;}['fromArray'](_0x1c153e,_0x2e3e22=-0x1255*0x1+-0x19c0+0x2c15){return this['x']=_0x1c153e[_0x2e3e22]??this['x'],this['y']=_0x1c153e[_0x2e3e22+(-0x1*0x1bc4+-0x1*0x1fa9+0x3b6e)]??this['y'],this['z']=_0x1c153e[_0x2e3e22+(-0x76*-0x30+0x1d*0xcb+-0x2d1d)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3f1b3e=[],_0x502cad=0x2*0xb00+0x2017+-0x3617){return _0x3f1b3e[_0x502cad]=this['x'],_0x3f1b3e[_0x502cad+(-0x3b9+-0x19d2+-0x7a*-0x3e)]=this['y'],_0x3f1b3e[_0x502cad+(-0x442*0x5+-0x1d04*0x1+0x508*0xa)]=this['z'],_0x3f1b3e;}};h(wt,'ZERO',Object['freeze'](new wt(0x6f7+0x13*-0xe5+-0xd6*-0xc,-0x13*0x97+0x122b*0x1+-0x6f6,0x6*0x5d8+0x166*-0x3+-0x1ede))),h(wt,'HALF',Object['freeze'](new wt(-0x7*-0x36c+0x7c+-0x1870+0.5,-0x2*0x595+0x238c+0x1862*-0x1+0.5,0x2*0x599+-0x3c*-0x5c+0x1*-0x20c2+0.5))),h(wt,'ONE',Object['freeze'](new wt(0x1eb*-0x7+0x145f+-0x1*0x6f1,0x5c7*-0x1+0x3e*-0xb+0x872,0x73e*0x1+0x8c7+-0x32*0x52))),h(wt,'UP',Object['freeze'](new wt(0x19ff+0xc1d+-0x261c,0xb52+-0x5*0x3ef+0x85a,-0x3*-0x623+-0xfc5+0xd*-0x34))),h(wt,'DOWN',Object['freeze'](new wt(0x844+0x15*-0x21+-0x1*0x58f,-(-0x249d+-0x119b*-0x1+0x1303),0x126e+0x5*0x67f+-0x1*0x32e9))),h(wt,'RIGHT',Object['freeze'](new wt(-0xa7*-0x2f+-0x3*0xb32+0x4b*0xa,-0x265b+0x31a+0x5f*0x5f,0x66e*0x2+0x5*-0x199+-0x4df))),h(wt,'LEFT',Object['freeze'](new wt(-(0x7a8*-0x1+0x217*0x3+0x4*0x59),0x2648+0x1*-0x205e+-0x5ea,-0x11c4+-0x6b*-0x4b+-0xd95))),h(wt,'FORWARD',Object['freeze'](new wt(0x1985*0x1+0x1*0x4ed+-0x1e72,-0x4c6*-0x1+0x4e8*0x1+-0x9ae,-(0x10ed+0x1*0x193a+0xa*-0x437)))),h(wt,'BACK',Object['freeze'](new wt(-0x429+-0x1827+0x1c50,-0x538*0x3+0x2672+-0x16ca,0x10e8+-0x175+-0xf72)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x178+-0xb78+0xa09)),this['data'][-0x1*0x217a+-0x26b4+0x482e]=this['data'][-0x52c*0x5+0x3*0x5e2+0x83a]=this['data'][-0x2*-0x1db+-0x1*-0x97c+-0xd2a]=-0x424+-0x1*0x1615+0x1a3a;}['clone'](){const _0x365265=this['constructo'+'r'];return new _0x365265()['copy'](this);}['copy'](_0x1c8193){const _0x21c39c=_0x1c8193['data'],_0x3bac14=this['data'];return _0x3bac14[-0xe73+0x1*-0x239f+0x1d*0x1ba]=_0x21c39c[-0x136d*-0x1+0x1d71+-0x30de],_0x3bac14[0x988+-0x152b*0x1+0x2e9*0x4]=_0x21c39c[-0x1*0x1c3c+0x12a4+0x15*0x75],_0x3bac14[-0x1768+-0x67e+0x1de8]=_0x21c39c[0xd63+0x824*-0x1+0x1bf*-0x3],_0x3bac14[0x1*0x1ecb+-0x4ce+-0x10a*0x19]=_0x21c39c[-0x1*0x2539+0x3a9*-0x1+0x1d*0x169],_0x3bac14[0x1e73*-0x1+-0x9a4+0x1*0x281b]=_0x21c39c[-0x15c6+0x1315+0x2b5],_0x3bac14[-0x12f+0x127*-0xd+-0x3*-0x565]=_0x21c39c[0x7d2+-0x2489+0x1cbc],_0x3bac14[0x133+0x2393+-0x24c0]=_0x21c39c[0x11f2*-0x1+0x1*-0x253c+0x3734*0x1],_0x3bac14[-0x19e2+-0x1c0a+0x35f3]=_0x21c39c[-0x2115+-0x1f90+0x2056*0x2],_0x3bac14[-0x1459+0x23*0xc9+-0x71a]=_0x21c39c[0xb7b+-0xe*-0x188+0x20e3*-0x1],this;}['set'](_0x6c8b17){const _0x1f90c6=this['data'];return _0x1f90c6[0x2*0x5cb+0xd*0xcb+-0x15e5]=_0x6c8b17[-0xe0f*-0x1+-0xa72+-0x39d],_0x1f90c6[0x17*0x95+0x2*0x82+-0xe66]=_0x6c8b17[0x80*0x36+0x1403*-0x1+0x1*-0x6fc],_0x1f90c6[-0x245a+0xae1+0x1*0x197b]=_0x6c8b17[0xa23*-0x1+-0xadb+0x1500],_0x1f90c6[0x3*-0x21a+-0xb*-0x33e+-0x1d59]=_0x6c8b17[0x49a+0x1b1c+-0x5*0x657],_0x1f90c6[0x2*-0x183+-0x1bc0+0x1eca]=_0x6c8b17[-0x1dc3+-0x9*0x31d+-0x3*-0x1344],_0x1f90c6[0xb55+0x10f*-0x1+-0xa41]=_0x6c8b17[-0x5a1*-0x1+0x1*-0xe3f+0x8a3],_0x1f90c6[0x3a3+0x2f5*0x7+-0x1850]=_0x6c8b17[-0x1232+0x1d7c+0x7*-0x19c],_0x1f90c6[-0x86b*0x4+0x2*0xc83+0x8ad*0x1]=_0x6c8b17[-0x60*0x30+-0x5*-0x38b+0x50],_0x1f90c6[0x13+0x21c1+-0x26a*0xe]=_0x6c8b17[-0x187c*-0x1+0xca9*-0x2+0x2*0x6f],this;}['getX'](_0x30c102=new D()){return _0x30c102['set'](this['data'][0x24bb*-0x1+-0x1476+0x3931],this['data'][0x111d+0x209b+-0x31b7],this['data'][0x7f*-0x13+0x3*-0x1f+-0x1a2*-0x6]);}['getY'](_0x564f2a=new D()){return _0x564f2a['set'](this['data'][-0x1*-0x136d+-0x4ca+-0x30*0x4e],this['data'][-0x25ce+-0x1a5a+0x402c],this['data'][0x27*0x3d+-0x1a1b+0x10d5]);}['getZ'](_0x4cdc1b=new D()){return _0x4cdc1b['set'](this['data'][0x2048+-0x3*-0x78b+0x36e3*-0x1],this['data'][-0x2315+0x1d1a+0x602],this['data'][-0x1f3f*0x1+0x8e0+0x1667]);}['equals'](_0x52a146){const _0x11a399=this['data'],_0x1e0bbe=_0x52a146['data'];return _0x11a399[-0x1*-0x96c+0x2c0+-0xc2c]===_0x1e0bbe[-0x3+0xe9f+0x16*-0xaa]&&_0x11a399[-0x1*-0x851+-0x978+0x128]===_0x1e0bbe[0x18d7+-0xd*0x52+-0x14ac*0x1]&&_0x11a399[-0x2e0+0x478+0x7*-0x3a]===_0x1e0bbe[-0x1*-0x8bc+-0x262*-0x9+-0x1e2c]&&_0x11a399[-0x3*-0x57+0xaa3*-0x1+0x9a1]===_0x1e0bbe[-0x1e71+-0xf*-0x139+-0xc1d*-0x1]&&_0x11a399[0x1ff5+0x7b+0x4*-0x81b]===_0x1e0bbe[-0x16*0x18d+-0x22*-0xbc+0x66*0x17]&&_0x11a399[-0x87*-0x44+0x10b5+-0xd23*0x4]===_0x1e0bbe[0x12fe+-0xe8a+0x5*-0xe3]&&_0x11a399[-0x191e*0x1+-0x26f6+0x401a]===_0x1e0bbe[-0x1*-0xd20+-0x1e3a+0x224*0x8]&&_0x11a399[0x83+0x86f+-0x1*0x8eb]===_0x1e0bbe[0x8ea+-0x92*0x1a+-0x27*-0x27]&&_0x11a399[-0x603+-0x2061+-0x1336*-0x2]===_0x1e0bbe[-0x21c7*0x1+0x143a+0xd95];}['isIdentity'](){const _0x148e5d=this['data'];return _0x148e5d[0x2695*0x1+-0x3*-0xc7b+-0x4c06]===-0x29*0x86+0x364*-0x3+-0xd*-0x26f&&_0x148e5d[-0x477+-0x19c1+0x1e39]===-0x1c66+0x4f*0x61+-0x189&&_0x148e5d[-0x4bd+0xc6b+-0x7ac]===-0x1*0x1cf3+-0x1cd4+0x1*0x39c7&&_0x148e5d[-0x1bb+-0x196b+0x1b29]===-0x1*-0x10b7+-0x25e0+-0x1*-0x1529&&_0x148e5d[-0x1c66+0x1*-0x1d4b+0x39b5]===0x2381*0x1+0x845*-0x4+0x4*-0x9b&&_0x148e5d[-0x26a1+0xec+0x25ba*0x1]===-0x22b9*0x1+-0xc44*0x1+0x2efd&&_0x148e5d[0x701*0x2+0xa*0x71+-0x1266]===0x234b+0xb85*0x2+-0x3a55&&_0x148e5d[0x12c1*0x1+-0x1d90+0x13*0x92]===-0x174*0x19+0x11*0xe5+-0x1*-0x151f&&_0x148e5d[-0x1*-0x291+0xe*-0x6a+0x343]===-0xa1c+0xf0f+-0x4f2;}['setIdentit'+'y'](){const _0x21884e=this['data'];return _0x21884e[0x1b94+0x22db+-0x3e6f*0x1]=0x1*0x10ee+0x44b*-0x9+0x31a*0x7,_0x21884e[0x138b*0x1+0x1613+-0x299d]=0x2bc+-0x1a3f+0x1783,_0x21884e[0x105f+0x3*0x2ad+-0x1864]=-0x32*0xb5+-0x1bb1+0x3f0b,_0x21884e[-0x1*0x218a+0x29*0x2b+-0xd55*-0x2]=0x4*-0x8f2+0x132*-0x1a+-0xb*-0x614,_0x21884e[-0x1d52+-0xfd3+-0x1*-0x2d29]=0x1132*0x1+0x2*-0x200+0xb*-0x133,_0x21884e[-0x1cf9+0xc*-0x89+0x236a]=0x1ef9+-0x1*-0xb9+-0x1fb2,_0x21884e[-0x107e+-0x1366+-0x23ea*-0x1]=0x1eaa+0x2661+0x23*-0x1f9,_0x21884e[-0xd29+-0x18*0x2+0x1ac*0x8]=-0x1*-0x263f+0x2e*-0xa9+-0x7e1,_0x21884e[-0x25ac+-0x7d*0x3+-0x1*-0x272b]=0x22f5+-0x45*-0x5a+-0x3b36,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x278234=this){const _0x179fea=_0x278234['data'],_0x4f51b5=this['data'];if(_0x179fea===_0x4f51b5){let _0x48e3f3;_0x48e3f3=_0x179fea[0x1fe*-0x12+0x8fd+-0x2b0*-0xa],_0x4f51b5[0x2679+0x64d*-0x2+-0x9a*0x2b]=_0x179fea[0x91c*-0x2+0x11*0x7f+0xe4*0xb],_0x4f51b5[0xb90+0x19d4+-0x2561]=_0x48e3f3,_0x48e3f3=_0x179fea[-0xb5*-0x9+-0x2308*0x1+0x98f*0x3],_0x4f51b5[-0x1*0x6f7+0x47c*0x8+-0x31*0x97]=_0x179fea[-0x144a+0x7*-0x25d+-0x55*-0x6f],_0x4f51b5[-0xa*-0x1c2+0x1654*0x1+0x3fd*-0xa]=_0x48e3f3,_0x48e3f3=_0x179fea[-0xc7f+-0xb3a+0x17be],_0x4f51b5[-0x165e+0x6b9+0xfaa]=_0x179fea[-0x10*0xc+0x1*-0x28d+0x354],_0x4f51b5[-0x48d*0x1+-0x535+-0x343*-0x3]=_0x48e3f3;}else _0x4f51b5[-0x16*0x97+0x21*-0x91+0x79*0x43]=_0x179fea[0x3cb*-0x5+-0xd58+0x204f],_0x4f51b5[-0x25*0x8e+-0xd62+0x21e9]=_0x179fea[-0xcb*-0x1f+-0x1c40*-0x1+-0x1a69*0x2],_0x4f51b5[-0x1f*-0xf1+-0x62a*-0x2+-0x2981]=_0x179fea[0xc*-0x2ee+-0x1*0xa8e+0x4*0xb6f],_0x4f51b5[0x231+-0x1e98+0x1c6a]=_0x179fea[0xb07+-0x18a3+-0x5*-0x2b9],_0x4f51b5[0x14bd*-0x1+0x1f55+-0xa94*0x1]=_0x179fea[0x1*-0x155+0x1ccb+-0x1b72],_0x4f51b5[0x1*-0x985+0x2*-0x10b4+0x2e*0xef]=_0x179fea[-0xfd2+0xb74+0x465],_0x4f51b5[0x29*0x77+-0x1ed7+0xbce]=_0x179fea[-0x213d+0x3*-0x39a+0xeaf*0x3],_0x4f51b5[0x2a5*-0x3+-0xf01*0x1+0x16f7]=_0x179fea[0xa19+0x1*-0x1b09+0x10f5],_0x4f51b5[0x1*-0x21c7+0xdfd*0x2+-0x1*-0x5d5]=_0x179fea[0x17*-0x17e+0xed5+0x1385];return this;}['setFromMat'+'4'](_0x4bc7a5){const _0x2426dc=_0x4bc7a5['data'],_0x8abf1d=this['data'];return _0x8abf1d[0x3*0xa16+0xcfb*0x1+-0x1*0x2b3d]=_0x2426dc[0x934*-0x4+-0x35f+0x282f],_0x8abf1d[0x3*-0xc79+-0x2*0xb23+0x1b*0x236]=_0x2426dc[-0x89f+0x17e9*0x1+-0xf49],_0x8abf1d[0x1cbd+-0xd51+-0x2*0x7b5]=_0x2426dc[0x1c00+0xf97+-0x2b95*0x1],_0x8abf1d[-0x757*-0x5+-0x16a5+0x1*-0xe0b]=_0x2426dc[-0x1425+0x58*-0x6b+0x38f1],_0x8abf1d[-0x408+0x26a*-0x9+0x1*0x19c6]=_0x2426dc[0xc01*0x3+0x1825+0x1*-0x3c23],_0x8abf1d[0x1628+-0x1b*0x88+-0x7cb]=_0x2426dc[0x2*0xc37+0xa01*-0x1+-0xe67],_0x8abf1d[-0x2555+0x1d01+-0x2*-0x42d]=_0x2426dc[-0xc42+-0x1*0x393+0xfdd],_0x8abf1d[0x1*-0x184c+0xeae*-0x2+-0x3*-0x11e5]=_0x2426dc[-0x3d*-0x7+-0x141*0x17+-0xc7*-0x23],_0x8abf1d[0x1cbc+0x1327*-0x2+-0x2*-0x4cd]=_0x2426dc[-0x12d0+-0x1cb8+0x2f92],this;}['setFromQua'+'t'](_0x1e860e){const _0x28beac=_0x1e860e['x'],_0x1b9d7c=_0x1e860e['y'],_0x1c41f9=_0x1e860e['z'],_0x2cc2d5=_0x1e860e['w'],_0x5dcd0b=_0x28beac+_0x28beac,_0x301eb1=_0x1b9d7c+_0x1b9d7c,_0x5c4eff=_0x1c41f9+_0x1c41f9,_0x2287d5=_0x28beac*_0x5dcd0b,_0x1b9d4c=_0x28beac*_0x301eb1,_0x8208b7=_0x28beac*_0x5c4eff,_0x22c303=_0x1b9d7c*_0x301eb1,_0x4d476a=_0x1b9d7c*_0x5c4eff,_0x11b993=_0x1c41f9*_0x5c4eff,_0xa66a3c=_0x2cc2d5*_0x5dcd0b,_0xf7d0ef=_0x2cc2d5*_0x301eb1,_0x5daf5f=_0x2cc2d5*_0x5c4eff,_0x1cfaa9=this['data'];return _0x1cfaa9[0x22a9+-0x168b+0x42*-0x2f]=0x9*-0x329+0x26b3+-0xa41-(_0x22c303+_0x11b993),_0x1cfaa9[0x3*0x8c6+-0x29a+-0x1*0x17b7]=_0x1b9d4c+_0x5daf5f,_0x1cfaa9[-0x12c*-0x5+-0x82*-0x8+-0x9ea]=_0x8208b7-_0xf7d0ef,_0x1cfaa9[0xe0e+-0x12c1+0x4b6]=_0x1b9d4c-_0x5daf5f,_0x1cfaa9[0x6b8+0xb9e*0x2+-0x1df0]=-0x25*-0xa3+0x4a*0x8+0x3b2*-0x7-(_0x2287d5+_0x11b993),_0x1cfaa9[-0x4cd*-0x5+0x2e2*-0x5+-0x62*0x19]=_0x4d476a+_0xa66a3c,_0x1cfaa9[0x2077*-0x1+0x5e0+-0x9*-0x2f5]=_0x8208b7+_0xf7d0ef,_0x1cfaa9[0x1d*0x49+0x2*-0x1051+-0x1864*-0x1]=_0x4d476a-_0xa66a3c,_0x1cfaa9[0x655+-0x1*0x1e15+-0x17c8*-0x1]=-0x8*0x254+-0x16d1+0x2972-(_0x2287d5+_0x22c303),this;}['invertMat4'](_0x5120e1){const _0x66a795=_0x5120e1['data'],_0x4d59f4=_0x66a795[0xb2d*-0x2+-0x184*0xf+0x2d16],_0x162710=_0x66a795[-0x4f4+0x21bc+-0x1cc7],_0x5c2367=_0x66a795[-0x2f*0xcc+0x1de6+-0x16*-0x58],_0x91d744=_0x66a795[0x23a2+0x1ecd+-0x426b],_0x552401=_0x66a795[-0xad*0x8+-0x5*0x427+0x1a3*0x10],_0x5b83f2=_0x66a795[-0x5*-0x58+0x4*0x1f3+0x32a*-0x3],_0x55ad3a=_0x66a795[0x1844*0x1+0xbd7+-0x2413],_0x29187c=_0x66a795[0x349+-0x5*-0x1be+-0xbf6],_0x4af877=_0x66a795[-0x137*-0xd+-0x128f*-0x1+0x12*-0x1e8],_0x41b78b=_0x4af877*_0x552401-_0x5b83f2*_0x29187c,_0x39b20f=-_0x4af877*_0x162710+_0x5c2367*_0x29187c,_0x3e2a4b=_0x5b83f2*_0x162710-_0x5c2367*_0x552401,_0x5c24f1=-_0x4af877*_0x91d744+_0x5b83f2*_0x55ad3a,_0x553e11=_0x4af877*_0x4d59f4-_0x5c2367*_0x55ad3a,_0x2a3880=-_0x5b83f2*_0x4d59f4+_0x5c2367*_0x91d744,_0x2509cb=_0x29187c*_0x91d744-_0x552401*_0x55ad3a,_0x2ea9c8=-_0x29187c*_0x4d59f4+_0x162710*_0x55ad3a,_0x51e3d4=_0x552401*_0x4d59f4-_0x162710*_0x91d744,_0xb8e33=_0x4d59f4*_0x41b78b+_0x162710*_0x5c24f1+_0x5c2367*_0x2509cb;if(_0xb8e33===0x41f*-0x1+-0x6cd*-0x1+-0x2ae)this['setIdentit'+'y']();else{const _0x4173a5=(-0x221e+0x349*0x7+0x20*0x59)/_0xb8e33,_0xd1c82e=this['data'];_0xd1c82e[0x211a+0x2*-0x8eb+-0x2*0x7a2]=_0x41b78b*_0x4173a5,_0xd1c82e[0x295*0xb+-0x1b0d+-0x159]=_0x39b20f*_0x4173a5,_0xd1c82e[0x1215+-0xe84+-0x1*0x38f]=_0x3e2a4b*_0x4173a5,_0xd1c82e[-0x1*-0x3ef+-0x197e+0x1f6*0xb]=_0x5c24f1*_0x4173a5,_0xd1c82e[-0x13bd+-0x127e*0x2+0x53*0xaf]=_0x553e11*_0x4173a5,_0xd1c82e[-0xc01*-0x1+0x9ad*-0x4+0x1ab8]=_0x2a3880*_0x4173a5,_0xd1c82e[0xea0+0x25*0x7d+-0x20ab]=_0x2509cb*_0x4173a5,_0xd1c82e[-0x26d0+0x1809+0x5*0x2f6]=_0x2ea9c8*_0x4173a5,_0xd1c82e[-0x178d*-0x1+-0x20b5+0x31*0x30]=_0x51e3d4*_0x4173a5;}return this;}['transformV'+'ector'](_0x2d5470,_0x3a1d14=new D()){const _0x18c30f=this['data'],{x:_0x43cc7f,y:_0x3821e4,z:_0x2cb9c5}=_0x2d5470;return _0x3a1d14['x']=_0x43cc7f*_0x18c30f[0x1504+-0x449*0x7+0x8fb]+_0x3821e4*_0x18c30f[0x3d*0x20+0x7ce+-0x1*0xf6b]+_0x2cb9c5*_0x18c30f[-0x2116+0x1ea7+-0x25*-0x11],_0x3a1d14['y']=_0x43cc7f*_0x18c30f[0x6*-0x648+0x5*0x12b+0x1fda]+_0x3821e4*_0x18c30f[-0x22ce+-0x13+0x22e5]+_0x2cb9c5*_0x18c30f[0x4*-0x53b+0xe*0x245+-0xad3],_0x3a1d14['z']=_0x43cc7f*_0x18c30f[0x19df*-0x1+-0x46a+0x1e4b]+_0x3821e4*_0x18c30f[-0x2*-0x39a+0x18ec+-0x201b*0x1]+_0x2cb9c5*_0x18c30f[0x1*0xedb+0x26*0x1+-0x1*0xef9],_0x3a1d14;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x2ce+0x2*0x527+0x280*-0x3,0x1*-0x6b6+-0xf56+0x160c,0xb94*0x1+0x29*-0x43+-0x1*0xd9,0x8a9+0x8*-0x10b+0x3*-0x1b,-0x2551+-0xb*0x2bd+0x10dc*0x4,-0x13a2+0x1c3d+-0x89b,0x1015+-0xb*-0x4+-0x1041,-0x1670+0x1a7c+-0x7*0x94,0xb*0x58+-0x1*-0x1222+-0x15ea])));let _i=gn;const Gt=class Gt{constructor(_0x223fdc=0x2*-0x1b7+-0x1160+0x14ce,_0x2b3688=-0x188f+0x215e*-0x1+0x134f*0x3){h(this,'x'),h(this,'y'),_0x223fdc['length']===0x1e04+0xb30+0x2*-0x1499?(this['x']=_0x223fdc[-0x28*-0x88+-0x111b+-0x425],this['y']=_0x223fdc[-0x91*0x1c+-0x87*-0x46+-0x150d*0x1]):(this['x']=_0x223fdc,this['y']=_0x2b3688);}['add'](_0x51fa58){return this['x']+=_0x51fa58['x'],this['y']+=_0x51fa58['y'],this;}['add2'](_0x5baa9c,_0x3154a4){return this['x']=_0x5baa9c['x']+_0x3154a4['x'],this['y']=_0x5baa9c['y']+_0x3154a4['y'],this;}['addScalar'](_0x1f269d){return this['x']+=_0x1f269d,this['y']+=_0x1f269d,this;}['addScaled'](_0x4f6be1,_0x14fd28){return this['x']+=_0x4f6be1['x']*_0x14fd28,this['y']+=_0x4f6be1['y']*_0x14fd28,this;}['clone'](){const _0x5e565a=this['constructo'+'r'];return new _0x5e565a(this['x'],this['y']);}['copy'](_0x14d6c3){return this['x']=_0x14d6c3['x'],this['y']=_0x14d6c3['y'],this;}['cross'](_0x5aeaf4){return this['x']*_0x5aeaf4['y']-this['y']*_0x5aeaf4['x'];}['distance'](_0x635712){const _0x408a91=this['x']-_0x635712['x'],_0x536a92=this['y']-_0x635712['y'];return Math['sqrt'](_0x408a91*_0x408a91+_0x536a92*_0x536a92);}['div'](_0x59491f){return this['x']/=_0x59491f['x'],this['y']/=_0x59491f['y'],this;}['div2'](_0x176813,_0x1bf955){return this['x']=_0x176813['x']/_0x1bf955['x'],this['y']=_0x176813['y']/_0x1bf955['y'],this;}['divScalar'](_0x523ce9){return this['x']/=_0x523ce9,this['y']/=_0x523ce9,this;}['dot'](_0x3b037e){return this['x']*_0x3b037e['x']+this['y']*_0x3b037e['y'];}['equals'](_0x4c3f76){return this['x']===_0x4c3f76['x']&&this['y']===_0x4c3f76['y'];}['equalsAppr'+'ox'](_0x673b6a,_0x224cea=-0x2510+0x1d1*-0x3+0x2a83+0.000001){return Math['abs'](this['x']-_0x673b6a['x'])<_0x224cea&&Math['abs'](this['y']-_0x673b6a['y'])<_0x224cea;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x586e23,_0x30cd62,_0x235c48){return this['x']=_0x586e23['x']+_0x235c48*(_0x30cd62['x']-_0x586e23['x']),this['y']=_0x586e23['y']+_0x235c48*(_0x30cd62['y']-_0x586e23['y']),this;}['mul'](_0x19459b){return this['x']*=_0x19459b['x'],this['y']*=_0x19459b['y'],this;}['mul2'](_0xbbd54a,_0x20c8f1){return this['x']=_0xbbd54a['x']*_0x20c8f1['x'],this['y']=_0xbbd54a['y']*_0x20c8f1['y'],this;}['mulScalar'](_0x176a75){return this['x']*=_0x176a75,this['y']*=_0x176a75,this;}['normalize'](_0x5afa4a=this){const _0x2fa77d=_0x5afa4a['x']*_0x5afa4a['x']+_0x5afa4a['y']*_0x5afa4a['y'];if(_0x2fa77d>0x7f*0x38+0x2db*0x4+-0x139a*0x2){const _0x2d4591=(0x48*-0x4+-0x7*0x43c+0x1ec5)/Math['sqrt'](_0x2fa77d);this['x']=_0x5afa4a['x']*_0x2d4591,this['y']=_0x5afa4a['y']*_0x2d4591;}return this;}['rotate'](_0x16e67a){const _0x10b3a0=Math['atan2'](this['x'],this['y'])+_0x16e67a*Y['DEG_TO_RAD'],_0x164be6=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x10b3a0)*_0x164be6,this['y']=Math['cos'](_0x10b3a0)*_0x164be6,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x352048){return Math['atan2'](this['x']*_0x352048['y']+this['y']*_0x352048['x'],this['x']*_0x352048['x']+this['y']*_0x352048['y'])*Y['RAD_TO_DEG'];}['floor'](_0x13c224=this){return this['x']=Math['floor'](_0x13c224['x']),this['y']=Math['floor'](_0x13c224['y']),this;}['ceil'](_0x18514f=this){return this['x']=Math['ceil'](_0x18514f['x']),this['y']=Math['ceil'](_0x18514f['y']),this;}['round'](_0x1604f8=this){return this['x']=Math['round'](_0x1604f8['x']),this['y']=Math['round'](_0x1604f8['y']),this;}['min'](_0x1a4a9b){return _0x1a4a9b['x']<this['x']&&(this['x']=_0x1a4a9b['x']),_0x1a4a9b['y']<this['y']&&(this['y']=_0x1a4a9b['y']),this;}['max'](_0x5daad6){return _0x5daad6['x']>this['x']&&(this['x']=_0x5daad6['x']),_0x5daad6['y']>this['y']&&(this['y']=_0x5daad6['y']),this;}['set'](_0xa3cbf1,_0x39dd5d){return this['x']=_0xa3cbf1,this['y']=_0x39dd5d,this;}['sub'](_0x2937fb){return this['x']-=_0x2937fb['x'],this['y']-=_0x2937fb['y'],this;}['sub2'](_0x5c9b8c,_0x180117){return this['x']=_0x5c9b8c['x']-_0x180117['x'],this['y']=_0x5c9b8c['y']-_0x180117['y'],this;}['subScalar'](_0x41da84){return this['x']-=_0x41da84,this['y']-=_0x41da84,this;}['fromArray'](_0x11eeb1,_0x4b2526=-0x12d3+-0xeed+0x90*0x3c){return this['x']=_0x11eeb1[_0x4b2526]??this['x'],this['y']=_0x11eeb1[_0x4b2526+(-0x1*0xa49+-0x227c+0x2cc6)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x31f766=[],_0x1e2e03=0x2*-0x6ce+-0x14b*0x2+-0x3*-0x566){return _0x31f766[_0x1e2e03]=this['x'],_0x31f766[_0x1e2e03+(-0x1*0x8c5+-0x2404+0x2cca)]=this['y'],_0x31f766;}static['angleRad'](_0x1ad31d,_0x372d58){return Math['atan2'](_0x1ad31d['x']*_0x372d58['y']-_0x1ad31d['y']*_0x372d58['x'],_0x1ad31d['x']*_0x372d58['x']+_0x1ad31d['y']*_0x372d58['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0xa6d+0x1f66+0x1*-0x29d3,0x19a8+-0x838*-0x1+0x43c*-0x8))),h(Gt,'HALF',Object['freeze'](new Gt(0x17f1+-0x423+-0x13ce+0.5,-0x1*-0x1f99+0x419*0x7+-0x4*0xf12+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x97*0x1+0x3f*0x30+-0xb38,-0x1774+0xfc1+-0x1*-0x7b4))),h(Gt,'UP',Object['freeze'](new Gt(-0x3f*0x97+-0x23*-0x73+0x1570,0x1*0x1f1+0x9f7+0xb*-0x115))),h(Gt,'DOWN',Object['freeze'](new Gt(0x599*0x4+0x36*0x57+-0x28be,-(0xeac+-0x1*-0x216d+-0x3018)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x673+-0x348+-0x32a,-0x11b*-0x3+0x6e0+-0xa31))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x611+-0x1207+-0x3*-0x3fd),-0xae4+0x224b+-0x1767)));let J=Gt;const pr=class pr{constructor(_0x509fa9=0x123c+0x96+0x646*-0x3,_0x8319f4=0x61*-0x38+-0xae0+0x2018,_0x157d10=-0x1*-0x5ea+0x1439+-0x1a23*0x1,_0x27fe98=0x276+0x156*-0x13+0x16ec){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x509fa9['length']===-0xba9+-0xf46+0x1af3?(this['x']=_0x509fa9[-0x1218+-0x55*0x29+0x1fb5],this['y']=_0x509fa9[0xeb9*0x1+0x240c+-0x156*0x26],this['z']=_0x509fa9[-0x6*0x45b+-0x2e9*0x7+0x2e83],this['w']=_0x509fa9[0x2342+0x6f4+0x2a33*-0x1]):(this['x']=_0x509fa9,this['y']=_0x8319f4,this['z']=_0x157d10,this['w']=_0x27fe98);}['add'](_0x581cc9){return this['x']+=_0x581cc9['x'],this['y']+=_0x581cc9['y'],this['z']+=_0x581cc9['z'],this['w']+=_0x581cc9['w'],this;}['add2'](_0x5a7da9,_0x340a11){return this['x']=_0x5a7da9['x']+_0x340a11['x'],this['y']=_0x5a7da9['y']+_0x340a11['y'],this['z']=_0x5a7da9['z']+_0x340a11['z'],this['w']=_0x5a7da9['w']+_0x340a11['w'],this;}['addScalar'](_0x3121f8){return this['x']+=_0x3121f8,this['y']+=_0x3121f8,this['z']+=_0x3121f8,this['w']+=_0x3121f8,this;}['addScaled'](_0x3edf3d,_0x1ec96b){return this['x']+=_0x3edf3d['x']*_0x1ec96b,this['y']+=_0x3edf3d['y']*_0x1ec96b,this['z']+=_0x3edf3d['z']*_0x1ec96b,this['w']+=_0x3edf3d['w']*_0x1ec96b,this;}['clone'](){const _0x1ce28d=this['constructo'+'r'];return new _0x1ce28d(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x469373){return this['x']=_0x469373['x'],this['y']=_0x469373['y'],this['z']=_0x469373['z'],this['w']=_0x469373['w'],this;}['div'](_0xa1eb70){return this['x']/=_0xa1eb70['x'],this['y']/=_0xa1eb70['y'],this['z']/=_0xa1eb70['z'],this['w']/=_0xa1eb70['w'],this;}['div2'](_0x54a65d,_0x3ffef5){return this['x']=_0x54a65d['x']/_0x3ffef5['x'],this['y']=_0x54a65d['y']/_0x3ffef5['y'],this['z']=_0x54a65d['z']/_0x3ffef5['z'],this['w']=_0x54a65d['w']/_0x3ffef5['w'],this;}['divScalar'](_0x4afec4){return this['x']/=_0x4afec4,this['y']/=_0x4afec4,this['z']/=_0x4afec4,this['w']/=_0x4afec4,this;}['dot'](_0x97c2d8){return this['x']*_0x97c2d8['x']+this['y']*_0x97c2d8['y']+this['z']*_0x97c2d8['z']+this['w']*_0x97c2d8['w'];}['equals'](_0xbf7068){return this['x']===_0xbf7068['x']&&this['y']===_0xbf7068['y']&&this['z']===_0xbf7068['z']&&this['w']===_0xbf7068['w'];}['equalsAppr'+'ox'](_0x5eeea5,_0x4a6af8=-0x1f3+0x17f*0xc+-0x1001+0.000001){return Math['abs'](this['x']-_0x5eeea5['x'])<_0x4a6af8&&Math['abs'](this['y']-_0x5eeea5['y'])<_0x4a6af8&&Math['abs'](this['z']-_0x5eeea5['z'])<_0x4a6af8&&Math['abs'](this['w']-_0x5eeea5['w'])<_0x4a6af8;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x1962f7,_0x383a14,_0xc490c7){return this['x']=_0x1962f7['x']+_0xc490c7*(_0x383a14['x']-_0x1962f7['x']),this['y']=_0x1962f7['y']+_0xc490c7*(_0x383a14['y']-_0x1962f7['y']),this['z']=_0x1962f7['z']+_0xc490c7*(_0x383a14['z']-_0x1962f7['z']),this['w']=_0x1962f7['w']+_0xc490c7*(_0x383a14['w']-_0x1962f7['w']),this;}['mul'](_0x58c8b6){return this['x']*=_0x58c8b6['x'],this['y']*=_0x58c8b6['y'],this['z']*=_0x58c8b6['z'],this['w']*=_0x58c8b6['w'],this;}['mul2'](_0x4c7021,_0x5b20bb){return this['x']=_0x4c7021['x']*_0x5b20bb['x'],this['y']=_0x4c7021['y']*_0x5b20bb['y'],this['z']=_0x4c7021['z']*_0x5b20bb['z'],this['w']=_0x4c7021['w']*_0x5b20bb['w'],this;}['mulScalar'](_0x3570ff){return this['x']*=_0x3570ff,this['y']*=_0x3570ff,this['z']*=_0x3570ff,this['w']*=_0x3570ff,this;}['normalize'](_0x581833=this){const _0x4bb0d7=_0x581833['x']*_0x581833['x']+_0x581833['y']*_0x581833['y']+_0x581833['z']*_0x581833['z']+_0x581833['w']*_0x581833['w'];if(_0x4bb0d7>0xc07+0x1d8b+-0x272*0x11){const _0x2af5af=(0x9c1+-0x2*0xea+0x152*-0x6)/Math['sqrt'](_0x4bb0d7);this['x']=_0x581833['x']*_0x2af5af,this['y']=_0x581833['y']*_0x2af5af,this['z']=_0x581833['z']*_0x2af5af,this['w']=_0x581833['w']*_0x2af5af;}return this;}['floor'](_0x57293a=this){return this['x']=Math['floor'](_0x57293a['x']),this['y']=Math['floor'](_0x57293a['y']),this['z']=Math['floor'](_0x57293a['z']),this['w']=Math['floor'](_0x57293a['w']),this;}['ceil'](_0x10ded9=this){return this['x']=Math['ceil'](_0x10ded9['x']),this['y']=Math['ceil'](_0x10ded9['y']),this['z']=Math['ceil'](_0x10ded9['z']),this['w']=Math['ceil'](_0x10ded9['w']),this;}['round'](_0x313b12=this){return this['x']=Math['round'](_0x313b12['x']),this['y']=Math['round'](_0x313b12['y']),this['z']=Math['round'](_0x313b12['z']),this['w']=Math['round'](_0x313b12['w']),this;}['min'](_0x109b2c){return _0x109b2c['x']<this['x']&&(this['x']=_0x109b2c['x']),_0x109b2c['y']<this['y']&&(this['y']=_0x109b2c['y']),_0x109b2c['z']<this['z']&&(this['z']=_0x109b2c['z']),_0x109b2c['w']<this['w']&&(this['w']=_0x109b2c['w']),this;}['max'](_0x290215){return _0x290215['x']>this['x']&&(this['x']=_0x290215['x']),_0x290215['y']>this['y']&&(this['y']=_0x290215['y']),_0x290215['z']>this['z']&&(this['z']=_0x290215['z']),_0x290215['w']>this['w']&&(this['w']=_0x290215['w']),this;}['set'](_0xe2b05a,_0x4247eb,_0x293496,_0x25ed16){return this['x']=_0xe2b05a,this['y']=_0x4247eb,this['z']=_0x293496,this['w']=_0x25ed16,this;}['sub'](_0x74e9eb){return this['x']-=_0x74e9eb['x'],this['y']-=_0x74e9eb['y'],this['z']-=_0x74e9eb['z'],this['w']-=_0x74e9eb['w'],this;}['sub2'](_0x137a0a,_0x4c4e2f){return this['x']=_0x137a0a['x']-_0x4c4e2f['x'],this['y']=_0x137a0a['y']-_0x4c4e2f['y'],this['z']=_0x137a0a['z']-_0x4c4e2f['z'],this['w']=_0x137a0a['w']-_0x4c4e2f['w'],this;}['subScalar'](_0x4b62b3){return this['x']-=_0x4b62b3,this['y']-=_0x4b62b3,this['z']-=_0x4b62b3,this['w']-=_0x4b62b3,this;}['fromArray'](_0x4ecef2,_0x2f139d=-0x136*-0x16+-0x739*0x2+-0xc32){return this['x']=_0x4ecef2[_0x2f139d]??this['x'],this['y']=_0x4ecef2[_0x2f139d+(0x1f4+0x1*0x7a+-0x1*0x26d)]??this['y'],this['z']=_0x4ecef2[_0x2f139d+(-0x14b*-0x2+-0x18b5*-0x1+-0x1b49)]??this['z'],this['w']=_0x4ecef2[_0x2f139d+(-0xa9d*0x3+0xb37+-0x9*-0x24b)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xa9d119=[],_0x442cf6=-0xcda+0x10b8+0x2*-0x1ef){return _0xa9d119[_0x442cf6]=this['x'],_0xa9d119[_0x442cf6+(0xab1+0x15de+-0x1047*0x2)]=this['y'],_0xa9d119[_0x442cf6+(0xf51+0x6*-0x60b+0x14f3)]=this['z'],_0xa9d119[_0x442cf6+(-0x1dfd+-0x141e+0x321e*0x1)]=this['w'],_0xa9d119;}};h(pr,'ZERO',Object['freeze'](new pr(0x2c5*0xe+0x23fe+-0x6*0xc76,0x1a76+-0x72*-0xc+-0x1fce,0x241*-0x1+-0x795+-0x1*-0x9d6,-0x1895+0x230c+-0xa77))),h(pr,'HALF',Object['freeze'](new pr(0x1f50+0x8b*-0x2e+-0x656+0.5,-0x2*0x575+-0x17a9+-0x1*-0x2293+0.5,-0x49*0x1+0xa31+0x1*-0x9e8+0.5,0x151e+-0x3ce+-0x454*0x4+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0xf9d*-0x1+0x85b+-0x17f7,0x12b4+0xb5*-0x7+0x8*-0x1b8,0x1*0xa5b+-0x750+0x2*-0x185,0x33*0x45+-0x1601+-0x2d*-0x2f)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x3*0x6d+0x1*0x1e2d+-0x1f64)),this['data'][0xb*0x91+-0x1f77+0x193c]=this['data'][0x106c+-0xba8+-0xf3*0x5]=this['data'][-0x18cc+0x29*0x67+0x857]=this['data'][0x784+0xa*0x1e1+0x1a3f*-0x1]=-0x17be*-0x1+0x1*-0xca1+-0xb1c;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x4c47f9,_0xf81f30,_0x585d19,_0x1c3481,_0x35eca9){_0x35eca9?(_0x4c47f9['x']=_0x1c3481*Math['tan'](_0xf81f30*Math['PI']/(0x776+-0x1b*-0x89+-0x1481)),_0x4c47f9['y']=_0x4c47f9['x']/_0x585d19):(_0x4c47f9['y']=_0x1c3481*Math['tan'](_0xf81f30*Math['PI']/(0xaee+-0x13ee+0xa68)),_0x4c47f9['x']=_0x4c47f9['y']*_0x585d19);}['add2'](_0x5444c4,_0x23d5e6){const _0x401e01=_0x5444c4['data'],_0x50b287=_0x23d5e6['data'],_0x9be91e=this['data'];return _0x9be91e[-0xa13+0x2af*0x3+0x206]=_0x401e01[-0x2339+-0xcf2+0x302b]+_0x50b287[-0x4a9+-0x1978+0xa0b*0x3],_0x9be91e[0x43*0x7b+0xc6f+-0x2c9f]=_0x401e01[0x2025+0x1c2f+0x1*-0x3c53]+_0x50b287[0x1*0x26cb+-0x3*0x38a+-0x1c2c],_0x9be91e[-0x995+-0x10*0xc1+0x15a7]=_0x401e01[-0x5fd*-0x5+0x1b93+-0x362*0x11]+_0x50b287[-0x227b+0x2585+-0x308],_0x9be91e[0x1*0x17e+-0x716+0x29*0x23]=_0x401e01[0x13b9+0x25c9+-0x397f*0x1]+_0x50b287[-0x7cd+-0x37+0x19b*0x5],_0x9be91e[-0xf1f*-0x1+-0x1b75+0x41e*0x3]=_0x401e01[0x2*0x7b8+-0x156d+0x601]+_0x50b287[0x1986+0x1a0+-0x12e*0x17],_0x9be91e[0x59*0x60+0x7cf*-0x3+-0x9ee]=_0x401e01[-0x1c9e+0x20af+-0x40c]+_0x50b287[0x1030+-0x57f+-0xaac],_0x9be91e[-0x1*0x13cd+0x5*0xff+0x4*0x3b6]=_0x401e01[-0x10ae+0x5ad*-0x3+0x37*0x9d]+_0x50b287[0x1205*0x1+-0x1421+-0x111*-0x2],_0x9be91e[0x739+-0x4*-0x214+-0x7c1*0x2]=_0x401e01[-0x1*0x1f5+0x181e+-0x2*0xb11]+_0x50b287[-0x128d*0x2+0x1703+0x8b*0x1a],_0x9be91e[-0x4*0x795+-0x124*0x17+0x3898]=_0x401e01[0x73*0x4+0x234e+0x2*-0x1289]+_0x50b287[0x6*-0x423+0x1*-0x277+0x6f*0x3f],_0x9be91e[0x195d+0x21f7+0x2b*-0x161]=_0x401e01[0x85*-0x1d+-0x22c3+-0xb9*-0x45]+_0x50b287[0x538+0xab3+-0xfe2],_0x9be91e[-0x258b+0x41d*0x1+0x2178]=_0x401e01[-0x1*-0x11f9+-0x7*-0x239+-0x217e]+_0x50b287[0xbe4*0x1+-0x4ca+-0x710],_0x9be91e[-0x2*0x8e7+0x35e*0x3+0x7bf]=_0x401e01[0x355*-0x2+0x1*-0x754+-0xe09*-0x1]+_0x50b287[0x1cb0+-0x3*0x17f+-0x1828*0x1],_0x9be91e[-0x20c6+0x25*0x82+0x8*0x1c1]=_0x401e01[-0x52f*0x3+-0x20*0xc8+-0x1*-0x2899]+_0x50b287[-0x1*0xb29+-0xc16+0x174b],_0x9be91e[0x25d3+-0x702+-0x1ec4*0x1]=_0x401e01[0x4*0xf9+-0x72c+0x355]+_0x50b287[0x2a9+0x191d+-0x1bb9],_0x9be91e[-0x331+0x3d3+-0x1*0x94]=_0x401e01[-0x10b6*-0x2+-0x2*0x47+-0x20d0]+_0x50b287[-0x50*-0x72+0x16c4+0x39*-0x106],_0x9be91e[-0x293*0xf+0x1e*-0x119+0x479a]=_0x401e01[-0xa94+0x5b2+0x4f1]+_0x50b287[0x10b9+0x526*-0x5+0x914],this;}['add'](_0x2160bf){return this['add2'](this,_0x2160bf);}['clone'](){const _0x14aac7=this['constructo'+'r'];return new _0x14aac7()['copy'](this);}['copy'](_0x599451){const _0x34df20=_0x599451['data'],_0x556b79=this['data'];return _0x556b79[0x77e+0x4*0x4ba+-0x1a66]=_0x34df20[-0x224d*-0x1+0x13bd*-0x1+-0xe90],_0x556b79[0x222c+-0x137*-0x1+-0x2362]=_0x34df20[-0x1326+-0x45d*-0x1+-0x2*-0x765],_0x556b79[-0x10c*0xe+-0xbfe+0x1aa8]=_0x34df20[-0x2568+0x1965+0xc05],_0x556b79[0x1b53+-0x3*-0x88a+-0x5*0xa96]=_0x34df20[-0x9a2*0x2+-0x1*-0x1769+0x17*-0x2e],_0x556b79[-0x9d7*0x1+0x1ff6*0x1+-0x161b]=_0x34df20[0x8a*0x31+0x1a70+-0x34d6],_0x556b79[0x2f1*0x1+-0x29a+-0x52]=_0x34df20[0x27*-0x85+0x7d*-0xa+0x192a*0x1],_0x556b79[0xaba+0x53*0x6e+-0x2e5e]=_0x34df20[0x210f+0x16c+-0x2275],_0x556b79[0x2516+-0x4*0x963+0x7d]=_0x34df20[0x24a3+-0x1aa5+-0x9f7*0x1],_0x556b79[0x1e81+-0x6*0x2cd+0x1*-0xdab]=_0x34df20[-0x496*0x4+0x21dc+-0x1*0xf7c],_0x556b79[0xa*-0x259+0x178*-0x2+0x3d*0x6f]=_0x34df20[-0x1231*-0x1+0xadf+0x1*-0x1d07],_0x556b79[0x1b*0x67+0x1*-0xf67+-0x125*-0x4]=_0x34df20[0x2*-0x10ba+-0x1dd7*0x1+0x3f55],_0x556b79[0x1af2+0x3*0xc4b+-0x34*0x13a]=_0x34df20[-0x26bf+-0x1457+-0x3b21*-0x1],_0x556b79[-0x1b61+-0x1*-0x8f6+0x1277]=_0x34df20[0x3*-0x2c1+0x19+0x836],_0x556b79[-0x15*-0xb1+0x4a*0x7d+-0x2*0x194d]=_0x34df20[-0x1a55+-0x62*-0x2e+0x8c6],_0x556b79[-0xeef*-0x1+-0x1517+0x636]=_0x34df20[0x1a30+-0x17*-0x94+0x31*-0xce],_0x556b79[0x300*-0xd+0x1*0x1391+0x137e]=_0x34df20[0x109b+-0x1*-0xc11+-0x1c9d],this;}['equals'](_0x4a2b99){const _0x9a7f5d=this['data'],_0x10f79a=_0x4a2b99['data'];return _0x9a7f5d[0x3ba+-0xf78+0x5df*0x2]===_0x10f79a[0x11e8+0x1669+-0x2851*0x1]&&_0x9a7f5d[-0x1*0x1ac1+0x551+-0xb*-0x1f3]===_0x10f79a[0x131a+-0x1*-0x1dbd+-0x30d6]&&_0x9a7f5d[0x1c9b+0x1*0x215f+0x7bf*-0x8]===_0x10f79a[-0x1*-0x1105+-0x2*-0x551+-0x1ba5]&&_0x9a7f5d[0x254d+0x5*0x252+-0x30e4]===_0x10f79a[-0xe9f+-0x7*-0xdf+0x889*0x1]&&_0x9a7f5d[0x1*-0xf85+-0x1b*0x21+-0x4c1*-0x4]===_0x10f79a[0x220d+-0x964*0x4+0x387]&&_0x9a7f5d[0x6b1+0x1957+-0x2003]===_0x10f79a[-0x120a*-0x1+-0x71f+-0xae6]&&_0x9a7f5d[-0x1f7d+0x98e+0x15f5]===_0x10f79a[-0xa6*-0xb+0x25c1+-0x2cdd]&&_0x9a7f5d[-0x9*0x31+-0x952*-0x4+-0x11c4*0x2]===_0x10f79a[0x1206+0x19c0+-0x2bbf]&&_0x9a7f5d[0x1cd*0xb+-0xf7f*-0x1+0x15*-0x1ae]===_0x10f79a[0xbbf+-0xb20+0x1*-0x97]&&_0x9a7f5d[-0x24c2+-0x59*-0x29+0x241*0xa]===_0x10f79a[-0x11af+-0x7*0xc3+0x170d]&&_0x9a7f5d[-0x57*0x11+-0x15c*0x1a+0x2929]===_0x10f79a[0x1ba1+0x265*0x1+-0x1*0x1dfc]&&_0x9a7f5d[-0x3*0x6+0x1159*0x1+0x2*-0x89e]===_0x10f79a[-0x8f5+0xa*0x280+-0x2*0x800]&&_0x9a7f5d[-0x4ba+-0xf*-0x1c7+-0x15e3]===_0x10f79a[0x1d0d+-0x871+-0x4*0x524]&&_0x9a7f5d[-0x217e+-0xe62+0x2fed]===_0x10f79a[0x10d0+0x7*-0x2de+-0x7*-0x79]&&_0x9a7f5d[0x2e5+-0xe40+0x1*0xb69]===_0x10f79a[0xac*0x1+-0xd6a+-0xd*-0xfc]&&_0x9a7f5d[0x5*-0x26f+-0x16*-0x18d+-0x15e4]===_0x10f79a[0x22+-0x1ded+0xeed*0x2];}['isIdentity'](){const _0x36cc51=this['data'];return _0x36cc51[-0x185*-0x16+-0x40a+-0x12*0x1a2]===0x5*-0x48b+0x9ef*-0x1+-0x1*-0x20a7&&_0x36cc51[-0x2db*0x8+0x1*0x77+0x1662]===-0x1e7e+0x135*-0x13+-0x2f*-0x123&&_0x36cc51[-0x557*0x4+0x1*-0x11a5+-0x1*-0x2703]===0x187a+-0x255b+0xce1&&_0x36cc51[-0xcf6+0x228d+-0x1594]===-0x4cc*-0x1+0xbb2+0x107e*-0x1&&_0x36cc51[0xf6d*0x1+-0x7*0x38c+0x96b*0x1]===-0x8d4+-0x1f75*0x1+0x2849*0x1&&_0x36cc51[0x7*0x3db+0x17b4+-0x32ac]===0x11c6+-0x2d8*-0xa+-0x2e35*0x1&&_0x36cc51[-0x439*-0x1+-0x23*0x76+0xbef]===-0x7ef+0x16dc+0x1*-0xeed&&_0x36cc51[-0x73b*-0x3+-0x1*-0x195b+-0x2f05]===-0x25df*-0x1+-0x54d*0x7+-0x62*0x2&&_0x36cc51[-0x772+0xcd*-0x23+0x2381*0x1]===0x1*0x9e5+0xb2*-0x17+0x1*0x619&&_0x36cc51[-0x1d33+-0x24a6+0x41e2]===-0x17b2+-0x194*-0x6+-0x6*-0x25f&&_0x36cc51[-0x2257+0x1*0x253f+-0x2*0x16f]===-0x5d*0x5b+-0x4f9+0x2609&&_0x36cc51[0x1217*0x1+0x6b*-0x5+-0x1*0xff5]===0xaba+0x1*0x1262+0x8a*-0x36&&_0x36cc51[-0x3a+0x2a9*0x5+0x29b*-0x5]===-0x301+0x257c+-0x227b&&_0x36cc51[-0x6b*0x25+0xc1*-0x20+-0x76*-0x56]===0x1*-0x613+0x15ee+0x21*-0x7b&&_0x36cc51[0x3b*-0x1+0x1*-0x193a+0x1983]===-0x266+-0x1d05+0x1f6b&&_0x36cc51[-0x2*0xaa2+0x1299+-0x1*-0x2ba]===-0x1c5c*0x1+0x37*-0x79+0x365c;}['mul2'](_0x56b299,_0x423265){const _0x519b04=_0x56b299['data'],_0x50f139=_0x423265['data'],_0x2cfd6f=this['data'],_0x3f8259=_0x519b04[0xbfb*0x2+-0xf*0x1e3+0x457],_0x3dc71d=_0x519b04[0x1a4*-0x1+0x709*-0x1+-0x457*-0x2],_0x2bed35=_0x519b04[-0xa44+-0x21a*-0xf+-0x140*0x11],_0x11053e=_0x519b04[-0x1110+0x11a4+-0x91*0x1],_0x940ad8=_0x519b04[-0x14*0xb3+-0x4*-0x636+-0xad8],_0x297bbc=_0x519b04[-0xb*-0x171+0x22d*-0x2+0x15*-0x8c],_0x57f4b4=_0x519b04[0xdf*0x2b+0x11b9+-0x5*0xb08],_0x3f046a=_0x519b04[-0x2*-0x1205+0xaad*-0x1+-0x1956],_0x103b6e=_0x519b04[-0x59*0x1+0x1476+-0x1415],_0xc5593a=_0x519b04[-0x863+-0x1244+0x2*0xd58],_0x27966d=_0x519b04[-0x2452+0xa06*0x1+0x1a56],_0x3dcb2f=_0x519b04[0x45*-0x3+-0x165f*-0x1+0x1585*-0x1],_0xf7ca89=_0x519b04[0x1d3*0x12+0x16dc+-0x1bd3*0x2],_0x530a43=_0x519b04[0x49*-0x22+0x2*-0x832+0x1*0x1a23],_0xc5ae6a=_0x519b04[0x1882+-0x200d+0x799],_0x2b73fd=_0x519b04[-0x16c5+0x3eb+0x12e9];let _0x20fd77,_0x259672,_0x904225,_0x173f52;return _0x20fd77=_0x50f139[0xbe*-0x13+0x172e+0x2*-0x48a],_0x259672=_0x50f139[0x4f*-0x3e+-0x1f7*-0xa+-0x1*0x83],_0x904225=_0x50f139[0x1b90+-0x2524+0x199*0x6],_0x173f52=_0x50f139[0x66+0xd3*-0x3+-0x2*-0x10b],_0x2cfd6f[0x24c*-0x1+0x8c*0x26+-0xd*0x16c]=_0x3f8259*_0x20fd77+_0x940ad8*_0x259672+_0x103b6e*_0x904225+_0xf7ca89*_0x173f52,_0x2cfd6f[-0x1*-0x23c6+-0x16cf+-0xe*0xed]=_0x3dc71d*_0x20fd77+_0x297bbc*_0x259672+_0xc5593a*_0x904225+_0x530a43*_0x173f52,_0x2cfd6f[0x504*-0x3+-0x477+0x1385]=_0x2bed35*_0x20fd77+_0x57f4b4*_0x259672+_0x27966d*_0x904225+_0xc5ae6a*_0x173f52,_0x2cfd6f[0x118d*-0x1+-0xa39*0x1+-0x1bc9*-0x1]=_0x11053e*_0x20fd77+_0x3f046a*_0x259672+_0x3dcb2f*_0x904225+_0x2b73fd*_0x173f52,_0x20fd77=_0x50f139[0x13f9+0x209+-0x15fe],_0x259672=_0x50f139[-0xe67+0x2615+-0x17a9],_0x904225=_0x50f139[0x4b8+-0x2*-0x8d7+0x166*-0x10],_0x173f52=_0x50f139[-0xc*0x86+-0x9*-0x32d+-0x1646],_0x2cfd6f[0x1e7a+0x3b1+0x1*-0x2227]=_0x3f8259*_0x20fd77+_0x940ad8*_0x259672+_0x103b6e*_0x904225+_0xf7ca89*_0x173f52,_0x2cfd6f[-0x44f*-0x7+0x1*-0x607+-0x181d]=_0x3dc71d*_0x20fd77+_0x297bbc*_0x259672+_0xc5593a*_0x904225+_0x530a43*_0x173f52,_0x2cfd6f[0x19b9+-0x2*0xb9b+0x27d*-0x1]=_0x2bed35*_0x20fd77+_0x57f4b4*_0x259672+_0x27966d*_0x904225+_0xc5ae6a*_0x173f52,_0x2cfd6f[0x22c8+0x1*-0x229f+-0x22]=_0x11053e*_0x20fd77+_0x3f046a*_0x259672+_0x3dcb2f*_0x904225+_0x2b73fd*_0x173f52,_0x20fd77=_0x50f139[-0x4f*-0x6d+-0x491*0x4+0xf57*-0x1],_0x259672=_0x50f139[0x173a+-0x2453+-0x29*-0x52],_0x904225=_0x50f139[0x89a+0x1a8d+-0x231d],_0x173f52=_0x50f139[-0x1fd8+0x1*-0x1654+0x3637],_0x2cfd6f[-0x1533+-0x2630+-0x29*-0x173]=_0x3f8259*_0x20fd77+_0x940ad8*_0x259672+_0x103b6e*_0x904225+_0xf7ca89*_0x173f52,_0x2cfd6f[-0x6*0x361+0xb1a+0x1*0x935]=_0x3dc71d*_0x20fd77+_0x297bbc*_0x259672+_0xc5593a*_0x904225+_0x530a43*_0x173f52,_0x2cfd6f[0x210b*-0x1+0x214c+0x1*-0x37]=_0x2bed35*_0x20fd77+_0x57f4b4*_0x259672+_0x27966d*_0x904225+_0xc5ae6a*_0x173f52,_0x2cfd6f[0x266a+0x17*-0x17b+0x229*-0x2]=_0x11053e*_0x20fd77+_0x3f046a*_0x259672+_0x3dcb2f*_0x904225+_0x2b73fd*_0x173f52,_0x20fd77=_0x50f139[0x14bc+-0x3f*-0x1+-0x14ef],_0x259672=_0x50f139[0x1*-0x161a+-0x1c37+0x192f*0x2],_0x904225=_0x50f139[-0x2100+-0x785+0x2f*0xdd],_0x173f52=_0x50f139[0x16f7+0x30*-0xd+-0x1478],_0x2cfd6f[0x2*-0x753+0x17f2+-0x4a0*0x2]=_0x3f8259*_0x20fd77+_0x940ad8*_0x259672+_0x103b6e*_0x904225+_0xf7ca89*_0x173f52,_0x2cfd6f[0x1981+0x26e*-0xa+-0x128]=_0x3dc71d*_0x20fd77+_0x297bbc*_0x259672+_0xc5593a*_0x904225+_0x530a43*_0x173f52,_0x2cfd6f[-0x8de+0x15*-0x99+0x17*0xef]=_0x2bed35*_0x20fd77+_0x57f4b4*_0x259672+_0x27966d*_0x904225+_0xc5ae6a*_0x173f52,_0x2cfd6f[-0xabf*0x2+-0x2378+0x3905]=_0x11053e*_0x20fd77+_0x3f046a*_0x259672+_0x3dcb2f*_0x904225+_0x2b73fd*_0x173f52,this;}['mulAffine2'](_0x1fefce,_0x3a25f8){const _0x21ddc3=_0x1fefce['data'],_0x3e6ece=_0x3a25f8['data'],_0x20e1ec=this['data'],_0x20f936=_0x21ddc3[0x1*-0x3d4+0x36c*0x2+-0x304],_0x35c4d2=_0x21ddc3[-0x633+-0xf30+-0x4a*-0x4a],_0x3bf1ed=_0x21ddc3[0x329*0x4+-0xe*-0x14e+-0xf73*0x2],_0xe5be83=_0x21ddc3[-0xb3d*0x2+-0xdee+-0x91b*-0x4],_0x2c568b=_0x21ddc3[0x177b*-0x1+0x1131*-0x2+0x1cf1*0x2],_0x39b65a=_0x21ddc3[-0xcec+-0x22b4+-0x2*-0x17d3],_0x249c1b=_0x21ddc3[0x1590+0x8*-0x3a6+0x7a8],_0x2c3b6b=_0x21ddc3[-0x9d*0x7+-0x46f+-0x1*-0x8c3],_0x467291=_0x21ddc3[-0x1*0x329+0x1037+-0xd04],_0x3437c4=_0x21ddc3[0x1e46*-0x1+-0x1e8b*0x1+0x3cdd],_0x19587b=_0x21ddc3[0x254b+0x5*0x64d+-0x44bf],_0x41f34d=_0x21ddc3[-0x36*-0x71+-0x3ad*-0x1+-0x1b75];let _0x54f15d,_0x107e4a,_0x562a79;return _0x54f15d=_0x3e6ece[-0x1cd7+0x160+0x1b77],_0x107e4a=_0x3e6ece[-0x2336+-0x12cd+0x3604],_0x562a79=_0x3e6ece[0xb00+0x1a*-0x115+0x1124],_0x20e1ec[-0x187f+-0x8bf+-0x17*-0x172]=_0x20f936*_0x54f15d+_0xe5be83*_0x107e4a+_0x249c1b*_0x562a79,_0x20e1ec[-0x2686*-0x1+0xf36+-0xf*0x395]=_0x35c4d2*_0x54f15d+_0x2c568b*_0x107e4a+_0x2c3b6b*_0x562a79,_0x20e1ec[-0x6*0x3ab+-0x10cc*-0x1+0x538]=_0x3bf1ed*_0x54f15d+_0x39b65a*_0x107e4a+_0x467291*_0x562a79,_0x20e1ec[0x34*-0x51+-0x1*-0x2133+0x3f*-0x44]=-0x153f+0x1eb6+-0x977*0x1,_0x54f15d=_0x3e6ece[0xb5d*-0x3+0x961*0x3+0x5f8],_0x107e4a=_0x3e6ece[-0x65*0x31+0x8d*0x9+-0xb*-0x14f],_0x562a79=_0x3e6ece[0x230e+-0x2*0x44e+-0x1a6c],_0x20e1ec[-0x1b8d+0x18d*-0xb+0x2ca0]=_0x20f936*_0x54f15d+_0xe5be83*_0x107e4a+_0x249c1b*_0x562a79,_0x20e1ec[-0x2240+-0x21d3+0x4418]=_0x35c4d2*_0x54f15d+_0x2c568b*_0x107e4a+_0x2c3b6b*_0x562a79,_0x20e1ec[-0xb0e+-0x17c2+0x2*0x116b]=_0x3bf1ed*_0x54f15d+_0x39b65a*_0x107e4a+_0x467291*_0x562a79,_0x20e1ec[-0x1f9a+-0x22*0x56+0x6b*0x67]=-0x1b39+-0x4*0x313+0x2785,_0x54f15d=_0x3e6ece[0x47*-0x83+-0x1ba7+0x3c4*0x11],_0x107e4a=_0x3e6ece[0x4*0x687+0x4d*-0x3e+-0x76d],_0x562a79=_0x3e6ece[-0x57*0x28+0x178*0x18+-0x159e],_0x20e1ec[0x2aa+-0x23d7*-0x1+0x2679*-0x1]=_0x20f936*_0x54f15d+_0xe5be83*_0x107e4a+_0x249c1b*_0x562a79,_0x20e1ec[-0x866+0x531*0x2+-0x1f3]=_0x35c4d2*_0x54f15d+_0x2c568b*_0x107e4a+_0x2c3b6b*_0x562a79,_0x20e1ec[0x50*-0xf+0x2*0xe7f+-0x611*0x4]=_0x3bf1ed*_0x54f15d+_0x39b65a*_0x107e4a+_0x467291*_0x562a79,_0x20e1ec[-0x4*0x5b6+0x3*-0x1b7+0x1c08]=-0x1620+0x213d+-0x5*0x239,_0x54f15d=_0x3e6ece[0x41*-0x18+-0x2286+0x3*0xd8e],_0x107e4a=_0x3e6ece[0x25e5+-0x1e*-0x6c+-0x3280],_0x562a79=_0x3e6ece[-0x25*-0x2d+0x1650*-0x1+0xfdd],_0x20e1ec[-0x1736+-0xeb1+0x25f3]=_0x20f936*_0x54f15d+_0xe5be83*_0x107e4a+_0x249c1b*_0x562a79+_0x3437c4,_0x20e1ec[-0x9*0x59+0xb*0x1c3+-0x1033]=_0x35c4d2*_0x54f15d+_0x2c568b*_0x107e4a+_0x2c3b6b*_0x562a79+_0x19587b,_0x20e1ec[0x85a*0x2+0x1bf+-0x1*0x1265]=_0x3bf1ed*_0x54f15d+_0x39b65a*_0x107e4a+_0x467291*_0x562a79+_0x41f34d,_0x20e1ec[-0xf96+0x12*-0xda+0x1ef9]=0x9be+0x1f0d*-0x1+0x7c*0x2c,this;}['mul'](_0x5d8838){return this['mul2'](this,_0x5d8838);}['transformP'+'oint'](_0x105726,_0xcd067f=new D()){const _0x35d355=this['data'],{x:_0x4cfa72,y:_0x39050b,z:_0x499649}=_0x105726;return _0xcd067f['x']=_0x4cfa72*_0x35d355[-0x9*-0x147+-0x1*0x152b+0x4d6*0x2]+_0x39050b*_0x35d355[-0x15c9+-0x1711*0x1+0x2cde]+_0x499649*_0x35d355[0x2053+0x1*-0x2309+0x2be]+_0x35d355[-0x1*0x1445+-0x9c1+0x1e12],_0xcd067f['y']=_0x4cfa72*_0x35d355[0x7ab+0x1fb0+-0x275a]+_0x39050b*_0x35d355[0xb*-0x1e8+0x1bae*-0x1+0x30ab]+_0x499649*_0x35d355[0x2f3*-0x7+0x598*0x3+0x2*0x1f3]+_0x35d355[0x720*-0x1+-0x7e8+0xf15],_0xcd067f['z']=_0x4cfa72*_0x35d355[-0x3*0x793+0x10e*-0x1d+0x3551]+_0x39050b*_0x35d355[0x2359*0x1+0x9*-0x211+-0x10ba]+_0x499649*_0x35d355[-0x1bc8*0x1+-0x1969+0x1*0x353b]+_0x35d355[0xa5+0x1094*0x1+-0x112b],_0xcd067f;}['transformV'+'ector'](_0x37498d,_0x5e75ee=new D()){const _0x53922b=this['data'],{x:_0x3557ee,y:_0xdf4225,z:_0x1be655}=_0x37498d;return _0x5e75ee['x']=_0x3557ee*_0x53922b[0x618+0x71*0xb+0xaf3*-0x1]+_0xdf4225*_0x53922b[-0x6b6*0x4+-0x3f*-0x36+0xd92]+_0x1be655*_0x53922b[-0x247f+-0x17c2+0x3c49],_0x5e75ee['y']=_0x3557ee*_0x53922b[0x144f+0x2*0x2a9+-0x19a0]+_0xdf4225*_0x53922b[-0x2bd*0x2+-0x1b4*-0x13+-0x1add]+_0x1be655*_0x53922b[-0x3*0xcad+-0xd1f*-0x2+0x1*0xbd2],_0x5e75ee['z']=_0x3557ee*_0x53922b[0x1e7f+-0x16d9+-0x7a4]+_0xdf4225*_0x53922b[-0x6fb*0x1+0x1*-0xd8e+0x115*0x13]+_0x1be655*_0x53922b[0x267a+0x25*0xbf+-0x420b],_0x5e75ee;}['transformV'+'ec4'](_0x93e348,_0x3ebaf1=new re()){const _0x28bf1f=this['data'],{x:_0x42d974,y:_0x22b945,z:_0x6a3b1,w:_0x2ef16b}=_0x93e348;return _0x3ebaf1['x']=_0x42d974*_0x28bf1f[0x1006+0x26*0x98+0x1c1*-0x16]+_0x22b945*_0x28bf1f[-0x2*0x1333+-0x6d*-0x42+0xa50*0x1]+_0x6a3b1*_0x28bf1f[-0xfbd+0x1*0x25e1+-0x161c]+_0x2ef16b*_0x28bf1f[-0x2682+0x813+-0x1e7b*-0x1],_0x3ebaf1['y']=_0x42d974*_0x28bf1f[0x2*-0x116d+0x184d+-0x547*-0x2]+_0x22b945*_0x28bf1f[-0x1*-0x1e95+-0x13e+-0x1d52]+_0x6a3b1*_0x28bf1f[-0x388+-0x1685+-0x13e*-0x15]+_0x2ef16b*_0x28bf1f[-0x1ed0+0x1408+0xad5],_0x3ebaf1['z']=_0x42d974*_0x28bf1f[0x1adb+-0x1*-0x24b8+0x1*-0x3f91]+_0x22b945*_0x28bf1f[0x6cf+0x1f8b+-0x2654]+_0x6a3b1*_0x28bf1f[0x131c*-0x2+0x20e6+-0x2*-0x2ae]+_0x2ef16b*_0x28bf1f[-0x25a5*0x1+-0x1*-0x12d9+0x13*0xfe],_0x3ebaf1['w']=_0x42d974*_0x28bf1f[0x13d*-0x14+-0xf*0x283+0x3e74]+_0x22b945*_0x28bf1f[0x24da+-0x193*0x1+-0x2340]+_0x6a3b1*_0x28bf1f[0x2462+0x72b+-0x2*0x15c1]+_0x2ef16b*_0x28bf1f[0x15d7*-0x1+0x1*-0xd51+0x2337],_0x3ebaf1;}['setLookAt'](_0x9af6,_0x5e19ea,_0x4b87cb){ei['sub2'](_0x9af6,_0x5e19ea)['normalize'](),Js['copy'](_0x4b87cb)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0xa708c1=this['data'];return _0xa708c1[0x18fe+-0xda*-0x2b+-0xf67*0x4]=Os['x'],_0xa708c1[0x13d6*-0x1+-0x178b+0x3*0xe76]=Os['y'],_0xa708c1[0x1b97+0x1*0x2209+-0x3d9e]=Os['z'],_0xa708c1[-0x2ca+-0x8da+-0x9d*-0x13]=0xa4*-0x39+-0x162e+0x1d59*0x2,_0xa708c1[-0x1cb7+-0x1a26+0x36e1]=Js['x'],_0xa708c1[-0x48b*0x1+-0xd5b+0x11eb]=Js['y'],_0xa708c1[-0xe1+0x353+-0x1*0x26c]=Js['z'],_0xa708c1[-0x26a1*0x1+0x8a1*0x1+0x1e07*0x1]=-0x1381+0x4b9+0xec8,_0xa708c1[-0x1f0e+0x2293+-0x37d]=ei['x'],_0xa708c1[-0x1e36*-0x1+-0x1a*0xe3+-0x71f]=ei['y'],_0xa708c1[-0x182a+0x1598+0x29c]=ei['z'],_0xa708c1[-0x2*-0xe1e+0x991+-0x219*0x12]=0x15c1+0x581*0x2+-0x20c3,_0xa708c1[0x1810+-0x8ce*0x3+-0x133*-0x2]=_0x9af6['x'],_0xa708c1[0xeb2+0x643+0xa74*-0x2]=_0x9af6['y'],_0xa708c1[0xcfe+0x1ab6+0x7ee*-0x5]=_0x9af6['z'],_0xa708c1[0x6b5*0x1+0x405+0x1*-0xaab]=0x130+0x1*0x5ae+-0x6dd,this;}['setFrustum'](_0x4dade3,_0x5dc5dc,_0x3d4830,_0x5cdb50,_0x20fa68,_0x4d1dde){const _0x5ea34a=(0x13f3*0x1+-0x25ae+0x1*0x11bd)*_0x20fa68,_0x3f3d08=_0x5dc5dc-_0x4dade3,_0x201284=_0x5cdb50-_0x3d4830,_0x36c4e2=_0x4d1dde-_0x20fa68,_0x2ca9b4=this['data'];return _0x2ca9b4[0xe99+-0x1e4b+0xfb2]=_0x5ea34a/_0x3f3d08,_0x2ca9b4[0x10f2+-0xd31+-0x3c0]=-0x401*-0x2+-0x13*-0x18f+-0x259f,_0x2ca9b4[-0x8*-0x281+0x1c0a*-0x1+-0x24*-0x39]=-0x2*0x13+-0xe3f*0x1+-0x2e1*-0x5,_0x2ca9b4[0x2523+-0x983+-0x1b9d]=-0x13*-0x109+0x1*0x853+0x2*-0xdff,_0x2ca9b4[-0x7db*-0x1+-0x179b*0x1+0xfc4]=-0x2306+0x15a6+0xd60,_0x2ca9b4[-0x14a9*0x1+0x1da5*0x1+-0x8f7]=_0x5ea34a/_0x201284,_0x2ca9b4[-0x3d0+-0xe25+0x11fb]=0xb*-0x147+0xe*-0x164+0x2185,_0x2ca9b4[0x5*-0xb9+-0x1b9d+0x17d*0x15]=-0x19cf*0x1+-0x2277+0x3c46,_0x2ca9b4[0x1fb9+-0xcbf+0x61*-0x32]=(_0x5dc5dc+_0x4dade3)/_0x3f3d08,_0x2ca9b4[0x1650+-0x1*-0x1bb0+-0x31f7]=(_0x5cdb50+_0x3d4830)/_0x201284,_0x2ca9b4[0x3*0x8ff+0xb49+-0x263c]=(-_0x4d1dde-_0x20fa68)/_0x36c4e2,_0x2ca9b4[-0x17*0x43+0x1791+0x1181*-0x1]=-(-0x1a23+-0x14c7*0x1+-0x1*-0x2eeb),_0x2ca9b4[-0x1*-0x913+-0x3ff+-0x508]=0x41c+-0xa5a+0x63e,_0x2ca9b4[0x19eb+-0x7d+-0x49*0x59]=-0x7*0x50a+-0x1a*0x15b+0x4684,_0x2ca9b4[-0x1*-0x2027+0x51b*0x1+0x129a*-0x2]=-_0x5ea34a*_0x4d1dde/_0x36c4e2,_0x2ca9b4[-0x7*0x4cf+-0x468+0x2620]=0x7c7+-0x6b*0xc+-0x1*0x2c3,this;}['setPerspec'+'tive'](_0x52a6a1,_0x3bfe40,_0x2c8a4e,_0x13fc6f,_0x50d88b){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x52a6a1,_0x3bfe40,_0x2c8a4e,_0x50d88b),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x2c8a4e,_0x13fc6f);}['setOrtho'](_0xc2faac,_0xe9e525,_0x233cc7,_0x1e03ab,_0x3d9b12,_0x4ae755){const _0xa88f35=this['data'];return _0xa88f35[0x8df+-0x1074+0x795]=(0x64e+0x1b*-0xce+0xf6e*0x1)/(_0xe9e525-_0xc2faac),_0xa88f35[0x2*0x971+0x19ad*-0x1+-0x6cc*-0x1]=-0x25f*0x2+-0x26ab+0x2b69,_0xa88f35[-0x25e1+0xe*0x1f7+0xa61]=-0x10b7+-0x5b*-0x52+-0x425*0x3,_0xa88f35[0x1d07+0x1e16+-0x3b1a]=-0x1cca*0x1+0x9f2+-0x218*-0x9,_0xa88f35[-0xd0f+0x533+-0x60*-0x15]=-0x1234+0x109f+0x1*0x195,_0xa88f35[0x23a3+-0x1ab4*0x1+0x475*-0x2]=(-0xf82+0x21a8+-0x56*0x36)/(_0x1e03ab-_0x233cc7),_0xa88f35[0x90c+-0x76+0x224*-0x4]=-0x157*0xc+0xca3+-0x371*-0x1,_0xa88f35[-0x656+0x236c*-0x1+-0x13*-0x233]=-0x662+0x82e*0x4+-0x1a56,_0xa88f35[-0x31*-0xc3+-0x82+0x81*-0x49]=0x1063+0xdac+-0x1e0f,_0xa88f35[0x28e+-0x17f1+0x156c]=-0x1e8d+0x202*0x11+0x395*-0x1,_0xa88f35[0x64*0x1b+-0x1122+0x6a0]=-(0x1361+-0x1*0x1da7+0xa48)/(_0x4ae755-_0x3d9b12),_0xa88f35[-0xbd1+0xfd1*-0x1+0x1bad]=0x19*0x18+0x2624+-0x287c,_0xa88f35[0x1*0x650+0x1*0x13f3+-0x1a37]=-(_0xe9e525+_0xc2faac)/(_0xe9e525-_0xc2faac),_0xa88f35[0xcc9+0x21+-0x1*0xcdd]=-(_0x1e03ab+_0x233cc7)/(_0x1e03ab-_0x233cc7),_0xa88f35[-0x1a*0x1+-0x34d*-0x5+-0x1059]=-(_0x4ae755+_0x3d9b12)/(_0x4ae755-_0x3d9b12),_0xa88f35[-0x1bf+0x1f33*0x1+0x5e1*-0x5]=-0x1bc5+0xc*0x328+0x1af*-0x6,this;}['setFromAxi'+'sAngle'](_0x3ec9a4,_0x46ecd7){_0x46ecd7*=Y['DEG_TO_RAD'];const {x:_0x498924,y:_0x3710cd,z:_0x147657}=_0x3ec9a4,_0x51daf9=Math['cos'](_0x46ecd7),_0x2fd0a3=Math['sin'](_0x46ecd7),_0x29a424=-0x24a4+-0x1*-0x11c5+-0x4*-0x4b8-_0x51daf9,_0xed2b04=_0x29a424*_0x498924,_0x2b80c4=_0x29a424*_0x3710cd,_0x486817=this['data'];return _0x486817[-0x1cf1+-0x1*0x1f4b+0x3c3c]=_0xed2b04*_0x498924+_0x51daf9,_0x486817[-0x9*-0x26d+0x319*0xb+-0x37e7]=_0xed2b04*_0x3710cd+_0x2fd0a3*_0x147657,_0x486817[0x1*-0x865+0x199*0xc+-0xac5]=_0xed2b04*_0x147657-_0x2fd0a3*_0x3710cd,_0x486817[0xe33+-0x1d*0x28+-0x18*0x67]=0x8b5+0x2*0xd6a+-0x2389,_0x486817[-0x1526+0xe35+0x6f5*0x1]=_0xed2b04*_0x3710cd-_0x2fd0a3*_0x147657,_0x486817[-0x34f+-0x22a7+-0x25fb*-0x1]=_0x2b80c4*_0x3710cd+_0x51daf9,_0x486817[0x818+0xd6f+-0x1581]=_0x2b80c4*_0x147657+_0x2fd0a3*_0x498924,_0x486817[0x181*0xf+0x1c49+-0x1*0x32d1]=-0x241a*-0x1+0x197c+-0x1ecb*0x2,_0x486817[-0x62f*-0x1+-0x74c+0x125*0x1]=_0xed2b04*_0x147657+_0x2fd0a3*_0x3710cd,_0x486817[0x59f+0x67*-0x3a+-0x8e0*-0x2]=_0x2b80c4*_0x147657-_0x498924*_0x2fd0a3,_0x486817[-0xdf0*-0x1+-0xa*-0x5+-0xe18]=_0x29a424*_0x147657*_0x147657+_0x51daf9,_0x486817[-0xd4e+-0xd2e+-0x1a87*-0x1]=-0x3*-0xb99+0x129c+0x1f*-0x1b9,_0x486817[0x86*0x5+0x1b50+-0x1de2]=0xf1e+-0x5*0x251+-0x389,_0x486817[0x756*0x1+-0x13*-0xdb+-0xbc5*0x2]=0x1177+-0xe71*0x1+-0x306,_0x486817[0x43*-0x33+-0x1b67+-0x6*-0x6cd]=0x2300+-0x2d2+-0x6*0x55d,_0x486817[-0x6d*0x3d+-0x16d9+-0x104b*-0x3]=-0x6ad*-0x1+-0x11*-0x20f+-0x1*0x29ab,this;}['setTransla'+'te'](_0x5e3eaa,_0x70fb20,_0x18c7e2){const _0x58e1d3=this['data'];return _0x58e1d3[-0x167e+0x14d4+0x1aa]=0x15b3+-0x1509+-0xd*0xd,_0x58e1d3[0x796*-0x1+-0x8a1+-0xc*-0x15a]=-0x703+0x172+0x19*0x39,_0x58e1d3[0xa49*0x3+0x2209*-0x1+0x330]=0xaa3*0x2+-0x178c+0x123*0x2,_0x58e1d3[-0x1*-0x17b+-0x471*0x1+0x2f9]=-0xac2+0x2177*0x1+-0x1*0x16b5,_0x58e1d3[0x19d*-0xe+-0x1632+-0x2f*-0xf4]=-0x65*0x17+-0x1*-0x124d+-0x49d*0x2,_0x58e1d3[-0x77e*0x1+0x2009+-0x2*0xc43]=-0x2228+-0xd6e+0x2f97,_0x58e1d3[-0x83*-0x29+0xbb7+-0x20ac]=0x4ca+0x1d72+-0x1c*0x139,_0x58e1d3[-0x3b0*0x3+-0x4*0x60f+0x2353]=-0x118c+-0x996+0x1b22,_0x58e1d3[0x1bdb+-0xff7*0x1+-0xbdc]=-0x1922+-0x16*-0xa1+0x1*0xb4c,_0x58e1d3[-0x41+-0xd6c+0x2d*0x4e]=0x118f+0xc1*-0xe+0xa3*-0xb,_0x58e1d3[0x2a2*0x5+-0x13e*-0x1a+-0xc*0x3c9]=-0x1*-0x2265+0x1a48+-0x3cac,_0x58e1d3[-0x6f3*-0x4+0x201c+-0x5*0xbf9]=-0x1bdf+-0x1994+0x3573,_0x58e1d3[-0x2*-0x357+-0x6*0x6d+-0x414]=_0x5e3eaa,_0x58e1d3[-0x10f1+-0x93f*0x3+0x21*0x15b]=_0x70fb20,_0x58e1d3[-0xf*-0x204+-0x266c+0x41f*0x2]=_0x18c7e2,_0x58e1d3[0x4c*0x4b+0x764+0x1*-0x1d99]=0x1*-0x19d9+0x19*0xf1+0x251,this;}['setScale'](_0x32b9e7,_0x587c48,_0x2f6017){const _0xb3d81=this['data'];return _0xb3d81[-0xb*0x373+0x140e+0xf1*0x13]=_0x32b9e7,_0xb3d81[-0x20c4+-0x122f+0x32f4]=0x22a0+-0x36f+-0x5*0x63d,_0xb3d81[-0xe9d+0x901*0x1+0x1*0x59e]=0x527*0x1+0x12f1+0x6*-0x404,_0xb3d81[0x2bb*0x7+-0x2*0xda6+0x832]=0x3f5*0x8+-0x38a*0x4+-0x1180,_0xb3d81[-0x17fd+-0x1*0x16db+0x2edc]=0xa5d*-0x1+0x1798+-0xd3b,_0xb3d81[0x5c1+0x129e+-0x6*0x40f]=_0x587c48,_0xb3d81[0x519+0x123*-0x20+-0xa6f*-0x3]=0x17e9+0xbef+0x1f*-0x128,_0xb3d81[0x1*-0x2018+-0x39*0x3f+-0x21*-0x166]=0x4e5*-0x5+-0x19e4*-0x1+-0x16b,_0xb3d81[0xea4+-0x45*-0x71+0x53*-0x8b]=0x9eb*0x3+-0x157c+-0x845,_0xb3d81[-0x59d*-0x3+0x1715+-0x27e3]=0x2133*-0x1+-0x1*-0x1451+0xce2,_0xb3d81[-0x4a3*-0x8+0xdb5+-0x32c3]=_0x2f6017,_0xb3d81[0x2*0x6d3+0x1ef8+0x1*-0x2c93]=-0x2a4*0x4+0x215a+-0x16ca,_0xb3d81[-0x7a7+0x3a3+0x410]=-0xf53+-0x9*0x9d+0x14d8,_0xb3d81[-0x208e+-0x219*-0x3+0xd28*0x2]=0x793+0x117f+0x1*-0x1912,_0xb3d81[-0xceb+-0x1675*-0x1+-0x97c]=0x1*-0xfb3+0x21e1+-0xb3*0x1a,_0xb3d81[-0x1f27+-0x726*-0x1+0x37*0x70]=-0x20cc+0x5d+0x2070,this;}['setViewpor'+'t'](_0x26d11a,_0xd2fcc1,_0x461db8,_0x5bf570){const _0x57f947=this['data'];return _0x57f947[-0xd70+0x5*0x3e2+-0x99*0xa]=_0x461db8*(0x2040+-0x1236+-0xe0a+0.5),_0x57f947[-0x2ab*-0xb+-0xa4b+-0x130d]=0xe6f*-0x1+0xfda+-0x16b,_0x57f947[-0x1071+0x1*-0x20c7+-0x313a*-0x1]=0x1710+0x5de*-0x1+-0x1132,_0x57f947[-0x25b*-0xd+-0x21f0+0x354]=-0xca5+0x1*-0x1299+0x1f3e,_0x57f947[-0x192+-0x88f+0xa25]=0x10a2*-0x1+0x1be*-0xa+0x220e,_0x57f947[0x102f*-0x1+-0x3*-0xbb9+-0x12f7]=_0x5bf570*(-0x1*0xa8d+-0x2f*0x3a+0x711*0x3+0.5),_0x57f947[-0x89d+0x65e+-0x1*-0x245]=-0x1bfe*-0x1+0x167f+-0x5*0xa19,_0x57f947[-0xa2*-0xa+0x1e1*-0x10+0x17c3]=0x1a75+-0x5*0x5cf+0x296*0x1,_0x57f947[0xbf*0x29+-0x1ea2+0x1*0x13]=-0x1489+0x96d*0x3+-0x7be,_0x57f947[-0x21e8+0x106d+0x1184*0x1]=0xe95+0x2184*0x1+-0x3019,_0x57f947[0x1755+-0x281+-0x14ca]=0x2e+0x14f2*-0x1+0x14c4+0.5,_0x57f947[0x405*0x5+0x1ab2+-0x160*0x22]=0x2*0x435+0x2610+0x2e7a*-0x1,_0x57f947[-0x1226+-0x359+0x158b]=_0x26d11a+_0x461db8*(-0x4*0xa9+0x1658+-0x13b4*0x1+0.5),_0x57f947[0x1658+0x61*0x32+-0x293d]=_0xd2fcc1+_0x5bf570*(0x2703+-0x13f7+-0x130c+0.5),_0x57f947[-0x1219*0x1+0x2568+0x3*-0x66b]=-0x1142+0x3f5*0x7+-0xa71+0.5,_0x57f947[-0x74+-0xdbd*-0x1+-0xd3a*0x1]=-0xa40+-0xb*-0x18+0x1*0x939,this;}['setReflect'+'ion'](_0xf30bd2,_0x2561f3){const _0x5d7fcd=_0xf30bd2['x'],_0x136e99=_0xf30bd2['y'],_0x1e597c=_0xf30bd2['z'],_0x7e36e7=this['data'];return _0x7e36e7[-0x21d1+-0x24f*0x7+-0x31fa*-0x1]=-0x94d+0x21e4+-0x1896*0x1-(0xcc2+0xad2+0x7*-0x35e)*_0x5d7fcd*_0x5d7fcd,_0x7e36e7[-0x3a*-0x21+-0x15e+0x1*-0x61b]=-(-0x3*0x9ce+-0x1*-0x1a14+0x358)*_0x5d7fcd*_0x136e99,_0x7e36e7[0x158b+-0x25f6+0x5*0x349]=-(-0x2*0x31b+-0x1ab4+0x20ec)*_0x5d7fcd*_0x1e597c,_0x7e36e7[-0x2*-0xddc+0xfd3+-0x2b88]=0x1ff8+-0xae*-0x5+-0x235e,_0x7e36e7[-0xd32+0x9ad+0x389]=-(0xe92+-0x9+0xe87*-0x1)*_0x5d7fcd*_0x136e99,_0x7e36e7[-0x1*0x1de9+-0xde2*-0x2+0x22a]=0x1daf+0x204e+0x1*-0x3dfc-(-0x8fd+0x2199+0x86*-0x2f)*_0x136e99*_0x136e99,_0x7e36e7[-0x241f+0x55c+0x1ec9]=-(-0xb07+0x1*0x1109+-0x3*0x200)*_0x136e99*_0x1e597c,_0x7e36e7[0x18fc+-0x719*0x2+-0xac3]=-0x1*-0x1379+-0x1e0a+0xa91,_0x7e36e7[0x2*-0x64e+0x1e79+-0x53*0x37]=-(-0x6bd*0x1+0x1*-0xe96+0x1555*0x1)*_0x5d7fcd*_0x1e597c,_0x7e36e7[-0x26bc+0xe00+0x175*0x11]=-(0x69*-0x39+-0x9b7+0x211a)*_0x136e99*_0x1e597c,_0x7e36e7[-0x5*-0x12b+-0x14*-0x1b4+-0x27dd]=0x669+-0x2d*0xab+-0x4bb*-0x5-(0x14d8+0x9a*-0x31+-0x2*-0x452)*_0x1e597c*_0x1e597c,_0x7e36e7[-0x4*0x50a+0xd*0x115+0x622]=-0x5bc+0x156e+-0xfb2,_0x7e36e7[-0x1161+-0x113f+-0x1c*-0x13d]=-(-0x20f0+0x3*-0x36b+0x2b33)*_0x5d7fcd*_0x2561f3,_0x7e36e7[-0x5*0x301+-0x21f1+0x3103]=-(-0x5fc*0x3+0x490+0xd66)*_0x136e99*_0x2561f3,_0x7e36e7[-0x1521+0x9fc+0xb33]=-(0x9e*-0x1d+0x1912*0x1+-0x395*0x2)*_0x1e597c*_0x2561f3,_0x7e36e7[-0x38*0x24+0x8d2+-0xe3]=-0x42+0x2*0x1198+-0x1*0x22ed,this;}['invert'](_0xf32f9e=this){const _0x5eda1a=_0xf32f9e['data'],_0x3a5a31=_0x5eda1a[-0xc9*0x13+0xcb4+0x3f*0x9],_0x1e80c6=_0x5eda1a[0x1*0xc9d+0x3d7*0x7+-0x277d],_0x115971=_0x5eda1a[0x44*-0x2b+0xe8*-0x7+0x11c6],_0x38033f=_0x5eda1a[0x1*0x2634+0x1*0x152d+-0x3b5e],_0x553cc0=_0x5eda1a[-0x20a9+-0x7ab+0x2*0x142c],_0x37f242=_0x5eda1a[0xeec*0x2+-0x2684+0x8b1],_0x160299=_0x5eda1a[0x1*0x575+0x1d2e+-0x1*0x229d],_0x4f7578=_0x5eda1a[0x1*-0x21e1+0x1168*-0x1+0x3350],_0xcf9cc7=_0x5eda1a[0xdfc*0x2+0x1*0x5a3+-0xbf*0x2d],_0xbaa710=_0x5eda1a[0x1*0xe0f+0x17b9+-0x25bf],_0x1aa4a6=_0x5eda1a[0x15e*-0x11+0x7b4+0x7ca*0x2],_0x215c75=_0x5eda1a[0x1b83*0x1+-0xf*-0x10b+-0x2b1d],_0x5f0545=_0x5eda1a[-0x19d*0x16+0x1*0x1df+0x33*0xa9],_0x2434e7=_0x5eda1a[-0x5*-0x36d+0x19*-0xe5+0x549*0x1],_0x2308ba=_0x5eda1a[0x13*-0x10a+-0x19*0x56+0x1c32],_0x33cec4=_0x5eda1a[-0x2648+-0xc4d+-0x39e*-0xe],_0x68e56f=_0x3a5a31*_0x37f242-_0x1e80c6*_0x553cc0,_0x36f4dd=_0x3a5a31*_0x160299-_0x115971*_0x553cc0,_0x3ad105=_0x3a5a31*_0x4f7578-_0x38033f*_0x553cc0,_0x185b7a=_0x1e80c6*_0x160299-_0x115971*_0x37f242,_0x850150=_0x1e80c6*_0x4f7578-_0x38033f*_0x37f242,_0x30c6af=_0x115971*_0x4f7578-_0x38033f*_0x160299,_0x31130b=_0xcf9cc7*_0x2434e7-_0xbaa710*_0x5f0545,_0x1a245f=_0xcf9cc7*_0x2308ba-_0x1aa4a6*_0x5f0545,_0x2baaf8=_0xcf9cc7*_0x33cec4-_0x215c75*_0x5f0545,_0x326630=_0xbaa710*_0x2308ba-_0x1aa4a6*_0x2434e7,_0x5b5b09=_0xbaa710*_0x33cec4-_0x215c75*_0x2434e7,_0x5d9f0a=_0x1aa4a6*_0x33cec4-_0x215c75*_0x2308ba,_0x1da9f6=_0x68e56f*_0x5d9f0a-_0x36f4dd*_0x5b5b09+_0x3ad105*_0x326630+_0x185b7a*_0x2baaf8-_0x850150*_0x1a245f+_0x30c6af*_0x31130b;if(_0x1da9f6===0x4b*0x14+0x1376+0x7*-0x39e)this['setIdentit'+'y']();else{const _0x12e4a0=(0x218*-0xc+-0x1*-0x1b83+-0x262)/_0x1da9f6,_0x26996c=this['data'];_0x26996c[-0x1*-0x1337+-0x1*0x9b1+0x2e*-0x35]=(_0x37f242*_0x5d9f0a-_0x160299*_0x5b5b09+_0x4f7578*_0x326630)*_0x12e4a0,_0x26996c[0x18bd+-0x9e*-0x9+-0x1e4a]=(-_0x1e80c6*_0x5d9f0a+_0x115971*_0x5b5b09-_0x38033f*_0x326630)*_0x12e4a0,_0x26996c[-0x26cb+-0x9*0xf4+0x2f61]=(_0x2434e7*_0x30c6af-_0x2308ba*_0x850150+_0x33cec4*_0x185b7a)*_0x12e4a0,_0x26996c[-0x2363+0xa32+0x1934]=(-_0xbaa710*_0x30c6af+_0x1aa4a6*_0x850150-_0x215c75*_0x185b7a)*_0x12e4a0,_0x26996c[0x103c+0x3*0x1bb+-0x1569]=(-_0x553cc0*_0x5d9f0a+_0x160299*_0x2baaf8-_0x4f7578*_0x1a245f)*_0x12e4a0,_0x26996c[0x207f+-0x4*0x687+-0x65e]=(_0x3a5a31*_0x5d9f0a-_0x115971*_0x2baaf8+_0x38033f*_0x1a245f)*_0x12e4a0,_0x26996c[-0x1995+0x1*0x1604+0x1*0x397]=(-_0x5f0545*_0x30c6af+_0x2308ba*_0x3ad105-_0x33cec4*_0x36f4dd)*_0x12e4a0,_0x26996c[-0x1cde+-0x2*-0x59f+0x11a7]=(_0xcf9cc7*_0x30c6af-_0x1aa4a6*_0x3ad105+_0x215c75*_0x36f4dd)*_0x12e4a0,_0x26996c[0x16da+-0xb80+-0xb52]=(_0x553cc0*_0x5b5b09-_0x37f242*_0x2baaf8+_0x4f7578*_0x31130b)*_0x12e4a0,_0x26996c[-0x1223*0x1+0x55*0x6b+-0x115b]=(-_0x3a5a31*_0x5b5b09+_0x1e80c6*_0x2baaf8-_0x38033f*_0x31130b)*_0x12e4a0,_0x26996c[-0x1*-0xf1+0x1*0xb11+-0xbf8]=(_0x5f0545*_0x850150-_0x2434e7*_0x3ad105+_0x33cec4*_0x68e56f)*_0x12e4a0,_0x26996c[0x27d*0x5+0xb8*-0x8+-0x6a6]=(-_0xcf9cc7*_0x850150+_0xbaa710*_0x3ad105-_0x215c75*_0x68e56f)*_0x12e4a0,_0x26996c[0x169*-0x7+0x34b*-0xb+-0x2*-0x1712]=(-_0x553cc0*_0x326630+_0x37f242*_0x1a245f-_0x160299*_0x31130b)*_0x12e4a0,_0x26996c[0x1d79+0xf4*-0x19+-0x2*0x2cc]=(_0x3a5a31*_0x326630-_0x1e80c6*_0x1a245f+_0x115971*_0x31130b)*_0x12e4a0,_0x26996c[0x24c3+-0x15f9+-0x3af*0x4]=(-_0x5f0545*_0x185b7a+_0x2434e7*_0x36f4dd-_0x2308ba*_0x68e56f)*_0x12e4a0,_0x26996c[-0x20d9+0x3e0*-0x1+0x24c8]=(_0xcf9cc7*_0x185b7a-_0xbaa710*_0x36f4dd+_0x1aa4a6*_0x68e56f)*_0x12e4a0;}return this;}['set'](_0x5542db){const _0x195e97=this['data'];return _0x195e97[0x6*0x1ea+0xbb6+-0xb99*0x2]=_0x5542db[0x387+-0x1851+0x6*0x377],_0x195e97[0x22c9+0x184e+-0x3b16]=_0x5542db[-0x14dc+-0x1d*0x11b+0x34ec],_0x195e97[-0x620+-0x2*0xc90+-0xfa1*-0x2]=_0x5542db[0xda*0x29+0x20f1+-0x43d9],_0x195e97[0x520+0xb4c+-0x1*0x1069]=_0x5542db[-0xc0d+0x1dd8+0x1*-0x11c8],_0x195e97[-0xcc7*0x2+0xd1*-0xe+-0x250*-0x10]=_0x5542db[-0x4*0x790+-0x22d0*0x1+-0x682*-0xa],_0x195e97[-0x1ffb+0x22ff+-0x2ff]=_0x5542db[0x234d*0x1+0xa61*-0x1+-0x18e7],_0x195e97[-0x92c+-0x11*0x203+0x2b65]=_0x5542db[-0x49*-0x19+-0x4be*0x8+-0x1*-0x1ed5],_0x195e97[0x2327+0x1534+-0x3854]=_0x5542db[0xcb3*-0x3+0xf43+0x16dd],_0x195e97[0x12f8*-0x2+0x50c+0x20ec]=_0x5542db[-0x119e+0xe2a+0x37c],_0x195e97[0x52a+0x236d+-0x3a*0xb3]=_0x5542db[-0x7*0x12b+0x24a4+0x2*-0xe37],_0x195e97[-0x115f+0x9da+-0x9*-0xd7]=_0x5542db[0x1ce7*0x1+-0x49*0x83+0x87e],_0x195e97[0x1393+0x3*0x1ef+-0x1955]=_0x5542db[-0xdb5+0x8c*0x3+0x5*0x26c],_0x195e97[0xf70+-0x2323+0x13bf]=_0x5542db[-0x16*-0x167+0xb72+-0x2a40],_0x195e97[0x26a7+0x1b47+0x5*-0xd2d]=_0x5542db[-0x1be5+-0x24a2+0x4094],_0x195e97[-0x1*0x2159+-0x57*-0xb+-0xed5*-0x2]=_0x5542db[-0x21c3+0x8db+-0x9*-0x2c6],_0x195e97[0x2*0xdb+-0x11d6+0x102f]=_0x5542db[-0x91b+-0xf9c+0x18c6],this;}['setIdentit'+'y'](){const _0x350560=this['data'];return _0x350560[-0x5fb*-0x2+-0x1*0x949+0x1*-0x2ad]=-0x3*0x409+0x1f19*-0x1+0x2b35,_0x350560[-0xa8*0x3b+-0xdd*0x11+-0x1ab3*-0x2]=-0x147f+0x17f6+-0x377,_0x350560[0x5b4*-0x1+-0x4*0x1c1+0xcba]=0x1483+0x1de*0xd+-0x2cc9,_0x350560[-0x7*-0xce+0x1c81+-0x2220]=-0x21c9+0x107c+0x1*0x114d,_0x350560[0xf*-0x1c3+0x319*0x5+0xaf4]=0x1ae+0x1b97+0x1d45*-0x1,_0x350560[0x15*-0x155+-0x1*-0x6b7+0x1a3*0xd]=0x7*-0xb5+-0x1*0x236f+0x2863,_0x350560[0xd25+0xc1*-0x11+0xd*-0x6]=-0x1*-0x1bc7+0x1*-0x15a3+0x624*-0x1,_0x350560[-0x1077+0x1*0x1345+-0x2c7]=-0x5*-0x7a5+-0x2c*0x8e+-0xdd1,_0x350560[-0x19b9+0x6e*-0x43+-0x368b*-0x1]=-0xb0a+-0xe5f+0x1969,_0x350560[0x1dde+0x1751*0x1+-0x3526]=-0x205b+0x215f*0x1+-0x104,_0x350560[0x1*-0x2cf+-0xb58+-0x15*-0xad]=-0x8d*0x2e+-0xae3+0x243a,_0x350560[-0x1954+-0x8*-0x3f1+-0x629]=0xee7*0x2+0x8d7+-0x26a5,_0x350560[0x1828+0xa8b+-0xb8d*0x3]=-0x305*-0x7+-0x2365+-0x2da*-0x5,_0x350560[-0x98f+-0x16eb*0x1+0x2087]=-0x24ce+0x1*-0x1d12+0x41e0,_0x350560[0x1d3b*0x1+0x1f4b*0x1+0x285*-0x18]=0x26a4+-0x1c8f*0x1+-0xa15,_0x350560[0x13*0xe2+-0x23e2+0x132b*0x1]=0xd*0xdf+0x5f0+-0x8a1*0x2,this;}['setTRS'](_0x3d29ad,_0x4f5173,_0x313002){const _0x224fb6=_0x4f5173['x'],_0x1a9b9b=_0x4f5173['y'],_0x4be7ed=_0x4f5173['z'],_0x2715f5=_0x4f5173['w'],_0x3d122a=_0x313002['x'],_0x15982d=_0x313002['y'],_0x2bb556=_0x313002['z'],_0x4b6e24=_0x224fb6+_0x224fb6,_0x3bdebc=_0x1a9b9b+_0x1a9b9b,_0x59fbd2=_0x4be7ed+_0x4be7ed,_0x1999d0=_0x224fb6*_0x4b6e24,_0x245e49=_0x224fb6*_0x3bdebc,_0x1b82db=_0x224fb6*_0x59fbd2,_0x456955=_0x1a9b9b*_0x3bdebc,_0x268f0b=_0x1a9b9b*_0x59fbd2,_0x133f67=_0x4be7ed*_0x59fbd2,_0x56e893=_0x2715f5*_0x4b6e24,_0xa92a87=_0x2715f5*_0x3bdebc,_0x5346ff=_0x2715f5*_0x59fbd2,_0x268116=this['data'];return _0x268116[0xeba+-0x14c0*-0x1+-0x237a]=(0x1810+0x182*0xc+-0x2a27-(_0x456955+_0x133f67))*_0x3d122a,_0x268116[-0x72b*-0x4+0x25c3*-0x1+0x918]=(_0x245e49+_0x5346ff)*_0x3d122a,_0x268116[-0x425*-0x5+-0x93d+-0x1*0xb7a]=(_0x1b82db-_0xa92a87)*_0x3d122a,_0x268116[-0x2561+-0xa44+0x2fa8]=0x26*-0x6f+0x1*-0xd9a+0x7*0x44c,_0x268116[-0x60d*-0x3+-0x248b+0xf8*0x13]=(_0x245e49-_0x5346ff)*_0x15982d,_0x268116[0x162c+-0x769+-0xebe]=(0x496*0x1+0xa6f*0x3+0x23e2*-0x1-(_0x1999d0+_0x133f67))*_0x15982d,_0x268116[-0x249d+-0xa3*-0x3+0x22ba]=(_0x268f0b+_0x56e893)*_0x15982d,_0x268116[-0x2ed+0x1*0x901+-0x60d]=-0xb*-0x5e+-0x1*-0x12b7+-0x16c1,_0x268116[0x1a*0x1+-0x1*-0x2363+-0x1d*0x139]=(_0x1b82db+_0xa92a87)*_0x2bb556,_0x268116[0x6c2+0xf79+0x1632*-0x1]=(_0x268f0b-_0x56e893)*_0x2bb556,_0x268116[0x83c+-0x1*-0x117+-0x1*0x949]=(-0x635*-0x5+-0x11d2+-0xd36-(_0x1999d0+_0x456955))*_0x2bb556,_0x268116[0x1f16+-0x3bf*-0x5+0x18e3*-0x2]=-0x2b*-0x8b+-0x667+-0x10f2,_0x268116[0x3*0x15c+-0x1ecd+0x1ac5*0x1]=_0x3d29ad['x'],_0x268116[-0x28*-0xcf+-0x1*0xf95+-0x85b*0x2]=_0x3d29ad['y'],_0x268116[-0xc95+0xc4b+-0x8*-0xb]=_0x3d29ad['z'],_0x268116[-0x16a6+-0x1cdc+0x3391]=-0x849*0x1+0x1*-0x1d70+-0xb*-0x36e,this;}['transpose'](_0x4348d0=this){const _0x467a75=_0x4348d0['data'],_0xac62c7=this['data'];if(_0x467a75===_0xac62c7){let _0x89b9a2;_0x89b9a2=_0x467a75[0x39*-0x99+0x1*0xe8a+-0x2*-0x9c4],_0xac62c7[-0x26b3+0x15dc+0x10d8]=_0x467a75[-0xdf*-0x21+0x1d08+-0x39c3*0x1],_0xac62c7[0x3*0x79+0xe6a+-0xfd1]=_0x89b9a2,_0x89b9a2=_0x467a75[-0x259b*-0x1+-0x1f47*-0x1+-0x44e0],_0xac62c7[-0x2300+-0x24ef+0x47f1]=_0x467a75[-0x24ad*-0x1+0x8f0*0x3+-0x39*0x11d],_0xac62c7[-0xd75+-0xb7+0xe34]=_0x89b9a2,_0x89b9a2=_0x467a75[-0x4*-0x15f+-0x1f1c+0x1*0x19a3],_0xac62c7[0x1027*0x1+0x655*0x6+-0x3622*0x1]=_0x467a75[0x2317+-0x22b5+-0x56],_0xac62c7[0x3*0x526+0x11*0x11c+0x2*-0x1121]=_0x89b9a2,_0x89b9a2=_0x467a75[-0x208f*-0x1+-0x49a*0x6+0xd*-0x61],_0xac62c7[0x71a+-0x7*0x425+-0x15ef*-0x1]=_0x467a75[0x1758+0x1*-0x14ce+-0x281],_0xac62c7[-0xd1*0x6+0x22f8+-0x1e09]=_0x89b9a2,_0x89b9a2=_0x467a75[-0x1031+0xb1b+0x51d],_0xac62c7[0x1212+-0x221a+-0x100f*-0x1]=_0x467a75[-0x1c51+-0x1*-0x2271+-0x613*0x1],_0xac62c7[0x2233+0x2*-0xa49+0x4*-0x365]=_0x89b9a2,_0x89b9a2=_0x467a75[-0x2*-0x71e+0x3*0x46b+-0x1b72],_0xac62c7[0x174+-0x18bc+-0x7*-0x355]=_0x467a75[0x1160+0xe49+0x1f9b*-0x1],_0xac62c7[-0x1b21+0xe0f+0xd20]=_0x89b9a2;}else _0xac62c7[0x1*0x779+0x1001+-0x177a]=_0x467a75[-0x2*0x68a+-0xc85*-0x3+-0x187b],_0xac62c7[0x7*0x52a+-0x112*-0xf+0x245*-0x17]=_0x467a75[-0x15*-0x49+-0xbf6+-0x3*-0x1ff],_0xac62c7[0x4*-0xc6+0x1a*0x16f+-0x222c]=_0x467a75[-0xbd9+0x1*-0x9f7+0x576*0x4],_0xac62c7[0x1*-0x457+-0x403+-0x85d*-0x1]=_0x467a75[0xe49+0x1b9f+0x1*-0x29dc],_0xac62c7[-0x1*0x19fd+0x5*-0x583+0x3590]=_0x467a75[0x14f3+0x1b13+-0x1*0x3005],_0xac62c7[-0x1751+-0x1eb8+-0x2*-0x1b07]=_0x467a75[-0x150b+0x224+0x12ec],_0xac62c7[-0x1*0xcb1+-0x111*0x9+0x594*0x4]=_0x467a75[-0x1a05+-0x1b6+-0x1*-0x1bc4],_0xac62c7[0x2*0xa49+0x2295+-0x3720]=_0x467a75[-0x7*0x13d+-0xfb3*0x1+-0x13*-0x149],_0xac62c7[-0x13ba+0x1*-0x20+0x13e2]=_0x467a75[-0x20*-0x44+-0x3bd+-0x4c1*0x1],_0xac62c7[0x2ba+-0x1f90+0x1cdf]=_0x467a75[0x8b*0x25+0xa6*-0x9+-0xe3b],_0xac62c7[0x114+-0xd3d+0xc33]=_0x467a75[0xb12+0x23c+-0xc*0x11b],_0xac62c7[0x1783+-0x252+0x1526*-0x1]=_0x467a75[-0xebb+0x23b4+-0x14eb],_0xac62c7[0x728+0xb6b+-0x1287]=_0x467a75[0x3*0x4ac+0x19d*-0x2+-0xac7],_0xac62c7[0x199d+-0x29*0x2f+0x1*-0x1209]=_0x467a75[-0x623*0x1+-0xdae+0x13d8],_0xac62c7[0x1677+0x1*-0xdbd+-0x8ac]=_0x467a75[-0x2081+0x1355*-0x2+-0x239b*-0x2],_0xac62c7[-0x1101+0xef*-0x4+0x14cc]=_0x467a75[-0x1*-0xf5b+0x1488+-0x8f5*0x4];return this;}['getTransla'+'tion'](_0x465111=new D()){return _0x465111['set'](this['data'][0x7c*-0x1c+0x1*0x1edb+-0x113f],this['data'][0x6b*-0x4+-0x37e*-0xb+-0x24b1*0x1],this['data'][0x185*0x5+-0xdc1+-0x13e*-0x5]);}['getX'](_0x39a890=new D()){return _0x39a890['set'](this['data'][0x2265*-0x1+-0x1c48+-0x5*-0xc89],this['data'][-0x1f43*0x1+0x986+0x17*0xf2],this['data'][0x6*-0x2a4+0x1d6c+-0x12*0xc1]);}['getY'](_0x115959=new D()){return _0x115959['set'](this['data'][0x1831*0x1+0x19b6+-0x31e3],this['data'][-0x13f*0x2+-0x4a4+0x727],this['data'][-0x23dc+-0x136e+0xf*0x3b0]);}['getZ'](_0x3ece3b=new D()){return _0x3ece3b['set'](this['data'][0x1*0x1b29+-0x1*0x16e7+-0x43a*0x1],this['data'][0x3a5*-0x8+0x5c9*-0x2+0x827*0x5],this['data'][-0x19e9+0x20aa+-0x6b7]);}['getScale'](_0x4de75f=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x4de75f['set'](Os['length'](),Js['length'](),ei['length']()),_0x4de75f;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x126c+0x92*0x29+-0x1*0x29ce?-(-0xc61+0x1c41+-0xfdf):-0x156*-0x5+0x288+-0x1*0x935;}['setFromEul'+'erAngles'](_0x21da9d,_0x4f9882,_0x25949f){_0x21da9d*=Y['DEG_TO_RAD'],_0x4f9882*=Y['DEG_TO_RAD'],_0x25949f*=Y['DEG_TO_RAD'];const _0xe798a4=Math['sin'](-_0x21da9d),_0x1957d2=Math['cos'](-_0x21da9d),_0x10f773=Math['sin'](-_0x4f9882),_0x4d8f59=Math['cos'](-_0x4f9882),_0x5b226f=Math['sin'](-_0x25949f),_0x349a0e=Math['cos'](-_0x25949f),_0x41ed78=this['data'];return _0x41ed78[-0x1605+-0x256f*-0x1+-0xf6a]=_0x4d8f59*_0x349a0e,_0x41ed78[0x229c+-0x6d9*0x1+0x13*-0x176]=-_0x4d8f59*_0x5b226f,_0x41ed78[0x8ff*0x2+0x1dad+0x2fa9*-0x1]=_0x10f773,_0x41ed78[0xa47+0x2*0xcf7+-0x2432]=-0xd8b*-0x1+-0xb8b+-0x40*0x8,_0x41ed78[0x20*-0xd0+-0x1ba1+-0x1bb*-0x1f]=_0x1957d2*_0x5b226f+_0x349a0e*_0xe798a4*_0x10f773,_0x41ed78[-0x26f+-0xb40+-0x2*-0x6da]=_0x1957d2*_0x349a0e-_0xe798a4*_0x10f773*_0x5b226f,_0x41ed78[0x2*0x1233+0x2162+-0x2*0x22e1]=-_0x4d8f59*_0xe798a4,_0x41ed78[0x3*-0x86b+0xc4b*-0x1+0x1*0x2593]=0x3*-0x653+-0x1*-0x12bf+0x3a,_0x41ed78[-0x730+0x1*0x107+0x631]=_0xe798a4*_0x5b226f-_0x1957d2*_0x349a0e*_0x10f773,_0x41ed78[0xf20+-0x1962+0xa4b]=_0x349a0e*_0xe798a4+_0x1957d2*_0x10f773*_0x5b226f,_0x41ed78[0x21*-0xa9+0x175b*-0x1+-0x1*-0x2d2e]=_0x1957d2*_0x4d8f59,_0x41ed78[-0x4d+0x41b+-0x3c3]=-0x1*0x8c3+-0x4*-0x593+-0xd89,_0x41ed78[0xb5*-0x2f+0x1*0x44f+0x73e*0x4]=-0x1*0x356+-0x9*0x153+0xf41,_0x41ed78[0xe19+-0x17*0x7+-0xd6b]=-0x139*-0x1f+0x1c53+-0xe*0x4bb,_0x41ed78[0x17f0+0x11*-0x107+-0x66b]=0xeb*0xf+0x1588+0x7*-0x50b,_0x41ed78[-0x20fc+0x2162+-0x1*0x57]=0x2396+0x208b+-0x4420,this;}['getEulerAn'+'gles'](_0xd1ed3e=new D()){this['getScale'](Hl);const _0x57a435=Hl['x'],_0x4523a0=Hl['y'],_0x261208=Hl['z'];if(_0x57a435===0x1*0x9eb+-0x24d1+0x1ae6||_0x4523a0===-0xa*0x2ea+0x1862+0x4c2||_0x261208===-0x1770+-0x1a63+0x31d3)return _0xd1ed3e['set'](0x1899+-0x43*-0x4f+0x1*-0x2d46,0x12c9+-0x1b0a*0x1+0x841*0x1,0x2162*-0x1+0x1*0x18e3+0x87f);const _0x4ca81c=this['data'],_0x16e981=Math['asin'](-_0x4ca81c[-0x1d4f+-0x1c0c+0x395d]/_0x57a435),_0x364bfa=Math['PI']*(-0x2544+0x71e*0x1+0x22*0xe3+0.5);let _0xcb54b9,_0x30e1dc;return _0x16e981<_0x364bfa?_0x16e981>-_0x364bfa?(_0xcb54b9=Math['atan2'](_0x4ca81c[-0x31*0xb3+0x175c+0xaed]/_0x4523a0,_0x4ca81c[-0x1268+-0x1c7*-0x2+0x2*0x772]/_0x261208),_0x30e1dc=Math['atan2'](_0x4ca81c[0x5*-0x453+-0x11*-0x17f+-0x3cf*0x1]/_0x57a435,_0x4ca81c[0x179e+0x2ac+-0x1a4a*0x1]/_0x57a435)):(_0x30e1dc=-0x439*-0x4+0x1*-0x1c14+0xb30,_0xcb54b9=-Math['atan2'](_0x4ca81c[-0x1156+-0x1b42+-0x5*-0x8ec]/_0x4523a0,_0x4ca81c[-0xd*-0x1b1+0x1ac2+0x16*-0x237]/_0x4523a0)):(_0x30e1dc=-0x5*0x74+0x902+0x2*-0x35f,_0xcb54b9=Math['atan2'](_0x4ca81c[0x26e1+0x1*-0x25f9+0x26*-0x6]/_0x4523a0,_0x4ca81c[-0x175b+0x24ba+-0xd5a]/_0x4523a0)),_0xd1ed3e['set'](_0xcb54b9,_0x16e981,_0x30e1dc)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x1b34+0x2*-0xdff+0x3732,-0x13ca+-0x1a2e+0x2df8,-0x1d9b+-0x1*-0x243f+-0x11*0x64,-0x7f6+0x904+-0x10e,0xa7b+0x1b4b+-0x3c7*0xa,-0x1e54+-0xb*0x22d+0x1df*0x1d,0x1d15*0x1+0x1904+0xb*-0x4eb,-0x2477*-0x1+-0x86e+0x1c09*-0x1,0xb63+-0x4*0x1b8+-0x483,0x20b1+0x1c09*0x1+0xa1f*-0x6,0xb39+0x1*0x14a2+-0x48d*0x7,0x2f*-0x57+0x499+0xb60,-0x2541+0x4c*0xb+0x21fd,-0xc*0x87+-0xfb2+0x1606,0x2*-0xc5b+-0x7*0x54+0x1b02,0x4a4+0x1402+-0x4ee*0x5])));let te=Qr;const Sn=class Sn{constructor(_0x2f7558=-0x1698+-0x3a3*-0x7+-0x2dd*0x1,_0x370b15=0x9c2*-0x2+0x1*-0x187d+0x2c01,_0x3d4258=0x1607+0x18e*0x5+-0x1dcd,_0x3caf87=-0xf*-0x9b+0x3a4+-0xb*0x128){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x2f7558['length']===-0xb6*0x16+0x5e7+0xb*0xe3?(this['x']=_0x2f7558[0x2ff+-0x65b*-0x1+-0x95a],this['y']=_0x2f7558[0x2584+0x26d*-0xc+-0xef*0x9],this['z']=_0x2f7558[0x4*-0x286+-0x18c4+0x116f*0x2],this['w']=_0x2f7558[0x10af+0x1423+-0x9*0x417]):(this['x']=_0x2f7558,this['y']=_0x370b15,this['z']=_0x3d4258,this['w']=_0x3caf87);}['clone'](){const _0xae9ff3=this['constructo'+'r'];return new _0xae9ff3(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x77e619=this){return this['x']=_0x77e619['x']*-(-0x1*-0x2351+-0xc5e+-0x16f2),this['y']=_0x77e619['y']*-(-0x2*-0x2d+0x1fb9+0x2*-0x1009),this['z']=_0x77e619['z']*-(-0x5*0x6fb+0x4*-0x8d3+0x4634),this['w']=_0x77e619['w'],this;}['copy'](_0x94e2e){return this['x']=_0x94e2e['x'],this['y']=_0x94e2e['y'],this['z']=_0x94e2e['z'],this['w']=_0x94e2e['w'],this;}['dot'](_0x13969a){return this['x']*_0x13969a['x']+this['y']*_0x13969a['y']+this['z']*_0x13969a['z']+this['w']*_0x13969a['w'];}['equals'](_0x4e5dae){return this['x']===_0x4e5dae['x']&&this['y']===_0x4e5dae['y']&&this['z']===_0x4e5dae['z']&&this['w']===_0x4e5dae['w'];}['equalsAppr'+'ox'](_0x49574b,_0x18945b=-0x1a1e+-0x6b+0x1*0x1a89+0.000001){return Math['abs'](this['x']-_0x49574b['x'])<_0x18945b&&Math['abs'](this['y']-_0x49574b['y'])<_0x18945b&&Math['abs'](this['z']-_0x49574b['z'])<_0x18945b&&Math['abs'](this['w']-_0x49574b['w'])<_0x18945b;}['getAxisAng'+'le'](_0x3321e0){let _0x299331=Math['acos'](this['w'])*(0x2463+0xd3*0x4+-0x27ad);const _0x381b0a=Math['sin'](_0x299331/(0x3*0x556+-0x43*-0x45+-0x220f));return _0x381b0a!==0x1c27*-0x1+0x1439+0x7ee?(_0x3321e0['x']=this['x']/_0x381b0a,_0x3321e0['y']=this['y']/_0x381b0a,_0x3321e0['z']=this['z']/_0x381b0a,(_0x3321e0['x']<-0x57*-0x57+-0x1057+-0xd3a||_0x3321e0['y']<0x2*-0x12c5+0x17d6+0x4*0x36d||_0x3321e0['z']<0x2655*0x1+0x444+-0x885*0x5)&&(_0x3321e0['x']*=-(0x11*-0xfd+-0x2594+0x3662),_0x3321e0['y']*=-(0x157f*-0x1+-0x841*0x3+-0xd*-0x38f),_0x3321e0['z']*=-(0x2*0x107b+-0xfb+-0x1ffa),_0x299331*=-(0x2585+-0x22*-0xed+-0x44fe))):(_0x3321e0['x']=-0xa45+-0x1187+-0x1bcd*-0x1,_0x3321e0['y']=0x23cc*0x1+0x1*-0x40f+0x145*-0x19,_0x3321e0['z']=0xa*0x29+0x1fda+-0x2174),_0x299331*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x2a5c3d=new D()){let _0x1ae495,_0xa4b730,_0xb1499f;const _0x301237=this['x'],_0x536293=this['y'],_0x122177=this['z'],_0x35b4e2=this['w'],_0xf260a8=(-0x1*0x1036+0x110b+-0xd3)*(_0x35b4e2*_0x536293-_0x301237*_0x122177);return _0xf260a8<=-(0x1*-0x130a+-0x119*-0x9+0x929+0.99999)?(_0x1ae495=(-0x80c+-0x5*-0xb1+0x1*0x499)*Math['atan2'](_0x301237,_0x35b4e2),_0xa4b730=-Math['PI']/(-0x2b2+-0x59e*-0x4+0x1fa*-0xa),_0xb1499f=-0xb*0x266+-0x6ba+0x211c):_0xf260a8>=-0x9fa*-0x1+-0x122e+-0x3c*-0x23+0.99999?(_0x1ae495=(-0x26b1+0xc1d+0xa6*0x29)*Math['atan2'](_0x301237,_0x35b4e2),_0xa4b730=Math['PI']/(0x1*-0x1025+0x1db7+-0xd90),_0xb1499f=0x1630+-0x10f5+-0x53b):(_0x1ae495=Math['atan2']((-0xb3*0x23+-0x23*-0x6a+0x9fd)*(_0x35b4e2*_0x301237+_0x536293*_0x122177),-0x7*-0x23c+0xf65+-0x3*0xa58-(0x401+-0x17*0xe5+-0x425*-0x4)*(_0x301237*_0x301237+_0x536293*_0x536293)),_0xa4b730=Math['asin'](_0xf260a8),_0xb1499f=Math['atan2']((0x618+0x39*0x91+-0x265f*0x1)*(_0x35b4e2*_0x122177+_0x301237*_0x536293),-0x47*0x4+0x58*0x54+-0x1bc3-(-0x7bf+0x1*0xf35+-0x774)*(_0x536293*_0x536293+_0x122177*_0x122177))),_0x2a5c3d['set'](_0x1ae495,_0xa4b730,_0xb1499f)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x5bc696=this){return this['conjugate'](_0x5bc696)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x3b147c,_0xe01abf,_0x2334e6){const _0x4fd19e=(-0x12e*0x19+-0xfeb+0x2d6a-_0x2334e6)*(_0x3b147c['dot'](_0xe01abf)<-0x12*-0x1e9+-0x67f+-0x1be3?-(-0x1034+-0x22*-0x49+-0x683*-0x1):-0x56*0x50+-0x3*0xa70+0x3a31*0x1);return this['x']=_0x3b147c['x']*_0x4fd19e+_0xe01abf['x']*_0x2334e6,this['y']=_0x3b147c['y']*_0x4fd19e+_0xe01abf['y']*_0x2334e6,this['z']=_0x3b147c['z']*_0x4fd19e+_0xe01abf['z']*_0x2334e6,this['w']=_0x3b147c['w']*_0x4fd19e+_0xe01abf['w']*_0x2334e6,this['normalize']();}['mul'](_0x3c33fc){const _0x49e0eb=this['x'],_0x1cab07=this['y'],_0xc84084=this['z'],_0x30320b=this['w'],_0x3c2d5f=_0x3c33fc['x'],_0x3865a1=_0x3c33fc['y'],_0x22bd5a=_0x3c33fc['z'],_0x6e6973=_0x3c33fc['w'];return this['x']=_0x30320b*_0x3c2d5f+_0x49e0eb*_0x6e6973+_0x1cab07*_0x22bd5a-_0xc84084*_0x3865a1,this['y']=_0x30320b*_0x3865a1+_0x1cab07*_0x6e6973+_0xc84084*_0x3c2d5f-_0x49e0eb*_0x22bd5a,this['z']=_0x30320b*_0x22bd5a+_0xc84084*_0x6e6973+_0x49e0eb*_0x3865a1-_0x1cab07*_0x3c2d5f,this['w']=_0x30320b*_0x6e6973-_0x49e0eb*_0x3c2d5f-_0x1cab07*_0x3865a1-_0xc84084*_0x22bd5a,this;}['mulScalar'](_0x5ebb48,_0x1350b9=this){return this['x']=_0x1350b9['x']*_0x5ebb48,this['y']=_0x1350b9['y']*_0x5ebb48,this['z']=_0x1350b9['z']*_0x5ebb48,this['w']=_0x1350b9['w']*_0x5ebb48,this;}['mul2'](_0x16e469,_0x45cdb7){const _0x19c23c=_0x16e469['x'],_0x322f4a=_0x16e469['y'],_0x3a7a88=_0x16e469['z'],_0x30bf43=_0x16e469['w'],_0x31fe58=_0x45cdb7['x'],_0x2244d2=_0x45cdb7['y'],_0x18a67d=_0x45cdb7['z'],_0x326976=_0x45cdb7['w'];return this['x']=_0x30bf43*_0x31fe58+_0x19c23c*_0x326976+_0x322f4a*_0x18a67d-_0x3a7a88*_0x2244d2,this['y']=_0x30bf43*_0x2244d2+_0x322f4a*_0x326976+_0x3a7a88*_0x31fe58-_0x19c23c*_0x18a67d,this['z']=_0x30bf43*_0x18a67d+_0x3a7a88*_0x326976+_0x19c23c*_0x2244d2-_0x322f4a*_0x31fe58,this['w']=_0x30bf43*_0x326976-_0x19c23c*_0x31fe58-_0x322f4a*_0x2244d2-_0x3a7a88*_0x18a67d,this;}['normalize'](_0x3ad134=this){let _0x28b5b4=_0x3ad134['length']();return _0x28b5b4===0x2152+0x34d*-0x9+0x39d*-0x1?(this['x']=this['y']=this['z']=-0x19b7+-0x18d*-0x8+-0xd4f*-0x1,this['w']=-0x3*-0x9f7+0xe10+0x2bf4*-0x1):(_0x28b5b4=(0x4*0xac+-0x1399+0x10ea)/_0x28b5b4,this['x']=_0x3ad134['x']*_0x28b5b4,this['y']=_0x3ad134['y']*_0x28b5b4,this['z']=_0x3ad134['z']*_0x28b5b4,this['w']=_0x3ad134['w']*_0x28b5b4),this;}['set'](_0x3f88f5,_0x5b109e,_0x24b7ab,_0x554386){return this['x']=_0x3f88f5,this['y']=_0x5b109e,this['z']=_0x24b7ab,this['w']=_0x554386,this;}['setFromAxi'+'sAngle'](_0x3cc45f,_0x5f2cb5){_0x5f2cb5*=(0x1*0x1d1b+-0x3*0x7dd+-0x161*0x4+0.5)*Y['DEG_TO_RAD'];const _0x222239=Math['sin'](_0x5f2cb5),_0x31a271=Math['cos'](_0x5f2cb5);return this['x']=_0x222239*_0x3cc45f['x'],this['y']=_0x222239*_0x3cc45f['y'],this['z']=_0x222239*_0x3cc45f['z'],this['w']=_0x31a271,this;}['setFromEul'+'erAngles'](_0x23a06d,_0x3850ab,_0x46a944){if(_0x23a06d instanceof D){const _0x10b1a3=_0x23a06d;_0x23a06d=_0x10b1a3['x'],_0x3850ab=_0x10b1a3['y'],_0x46a944=_0x10b1a3['z'];}const _0x1caf79=(-0x1a55+-0x4e1+0xaa*0x2f+0.5)*Y['DEG_TO_RAD'];_0x23a06d*=_0x1caf79,_0x3850ab*=_0x1caf79,_0x46a944*=_0x1caf79;const _0x18c2d0=Math['sin'](_0x23a06d),_0x1e7625=Math['cos'](_0x23a06d),_0x138b19=Math['sin'](_0x3850ab),_0x152c9c=Math['cos'](_0x3850ab),_0x58d030=Math['sin'](_0x46a944),_0x29ffd1=Math['cos'](_0x46a944);return this['x']=_0x18c2d0*_0x152c9c*_0x29ffd1-_0x1e7625*_0x138b19*_0x58d030,this['y']=_0x1e7625*_0x138b19*_0x29ffd1+_0x18c2d0*_0x152c9c*_0x58d030,this['z']=_0x1e7625*_0x152c9c*_0x58d030-_0x18c2d0*_0x138b19*_0x29ffd1,this['w']=_0x1e7625*_0x152c9c*_0x29ffd1+_0x18c2d0*_0x138b19*_0x58d030,this;}['setFromMat'+'4'](_0x15b3df){const _0x2d1568=_0x15b3df['data'];let _0x11f42d=_0x2d1568[0xc7+0x2066+-0x212d],_0x2a4773=_0x2d1568[0x132c+-0x1c1+0x1*-0x116a],_0x100389=_0x2d1568[-0x1*-0x74b+-0x46+0x703*-0x1],_0x41bd70=_0x2d1568[-0x28f*0xb+-0xeb7*0x1+-0xe*-0x310],_0x286de2=_0x2d1568[-0x3d*0x1f+-0x1ba1+0x2309],_0x1f5ed8=_0x2d1568[-0xbd6+-0x26ce+0x1955*0x2],_0x40ffba=_0x2d1568[0x19*-0x13d+0x3c5*0x1+0x367*0x8],_0x149b4a=_0x2d1568[-0x2628+-0x260e+0x4c3f],_0x1c701b=_0x2d1568[0xbd6+0x7ba+-0x1386],_0xebe03;return _0xebe03=_0x11f42d*_0x11f42d+_0x2a4773*_0x2a4773+_0x100389*_0x100389,_0xebe03===0x1de7*0x1+-0x105*0xa+-0x3f1*0x5?this['set'](0x1*0xabb+0x1cd3*0x1+0x7a*-0x53,0x524+-0xd0+-0x454,-0xbba+0x78d*0x5+-0x1a07,-0x10d*0x25+0x2e2*0x3+-0x56*-0x5a):(_0xebe03=(-0x1*-0x26f9+-0xf*-0xdf+-0x3409)/Math['sqrt'](_0xebe03),_0x11f42d*=_0xebe03,_0x2a4773*=_0xebe03,_0x100389*=_0xebe03,_0xebe03=_0x41bd70*_0x41bd70+_0x286de2*_0x286de2+_0x1f5ed8*_0x1f5ed8,_0xebe03===0x11d8+0x1542+-0x7d2*0x5?this['set'](-0x3af*-0x1+0x1*0x10c5+-0x1474,-0x51d*0x6+-0xe4e+0x2cfc,-0x849*-0x4+-0xd*0x8e+0x2*-0xcf7,0x14d2+-0x1e6*0x12+-0x107*-0xd):(_0xebe03=(0x261b+-0x501+0x2119*-0x1)/Math['sqrt'](_0xebe03),_0x41bd70*=_0xebe03,_0x286de2*=_0xebe03,_0x1f5ed8*=_0xebe03,_0xebe03=_0x40ffba*_0x40ffba+_0x149b4a*_0x149b4a+_0x1c701b*_0x1c701b,_0xebe03===0x44e+0x8*-0x1d3+-0x6*-0x1b7?this['set'](-0x56*-0x29+0x2561+-0x5af*0x9,0x13f7+-0x21*0x2d+-0xe2a,-0x7e8+0x174b+-0xf63,0x22fe+0x266+-0x11*0x233):(_0xebe03=(-0xe1*-0x27+0x1251+-0x3497*0x1)/Math['sqrt'](_0xebe03),_0x40ffba*=_0xebe03,_0x149b4a*=_0xebe03,_0x1c701b*=_0xebe03,_0x1c701b<-0x1*0x18f7+-0x2351+0x8*0x789?_0x11f42d>_0x286de2?this['set'](0x843+-0xcd6+0x494+_0x11f42d-_0x286de2-_0x1c701b,_0x2a4773+_0x41bd70,_0x40ffba+_0x100389,_0x1f5ed8-_0x149b4a):this['set'](_0x2a4773+_0x41bd70,-0x1a0b*0x1+0x2479+0x11*-0x9d-_0x11f42d+_0x286de2-_0x1c701b,_0x1f5ed8+_0x149b4a,_0x40ffba-_0x100389):_0x11f42d<-_0x286de2?this['set'](_0x40ffba+_0x100389,_0x1f5ed8+_0x149b4a,0x116e*-0x1+0x2164*0x1+-0x2b*0x5f-_0x11f42d-_0x286de2+_0x1c701b,_0x2a4773-_0x41bd70):this['set'](_0x1f5ed8-_0x149b4a,_0x40ffba-_0x100389,_0x2a4773-_0x41bd70,0x17ce+0x1a5f+-0x322c+_0x11f42d+_0x286de2+_0x1c701b),this['mulScalar']((0x14b+-0x4f*-0x5+-0x2d5)/this['length']()))));}['setFromDir'+'ections'](_0x558a36,_0x42320f){const _0x13da57=-0x202a*0x1+-0x2601*-0x1+0x1*-0x5d6+_0x558a36['dot'](_0x42320f);return _0x13da57<Number['EPSILON']?Math['abs'](_0x558a36['x'])>Math['abs'](_0x558a36['y'])?(this['x']=-_0x558a36['z'],this['y']=0x3*-0xb81+0x95*-0x7+0x2696,this['z']=_0x558a36['x'],this['w']=-0x235b+-0x10ed+0x1c*0x1de):(this['x']=0x1b56*-0x1+-0x1*-0x647+0x150f,this['y']=-_0x558a36['z'],this['z']=_0x558a36['y'],this['w']=0x1*0x2521+-0x1*-0x1cc4+-0x41e5):(this['x']=_0x558a36['y']*_0x42320f['z']-_0x558a36['z']*_0x42320f['y'],this['y']=_0x558a36['z']*_0x42320f['x']-_0x558a36['x']*_0x42320f['z'],this['z']=_0x558a36['x']*_0x42320f['y']-_0x558a36['y']*_0x42320f['x'],this['w']=_0x13da57),this['normalize']();}['slerp'](_0x4a74fa,_0x18141a,_0x53617f){const _0x5050e4=_0x4a74fa['x'],_0x50e212=_0x4a74fa['y'],_0x587f34=_0x4a74fa['z'],_0x5a14ab=_0x4a74fa['w'];let _0x56ac8c=_0x18141a['x'],_0x20bf4c=_0x18141a['y'],_0x3bc901=_0x18141a['z'],_0x4cbe57=_0x18141a['w'],_0x9af5c3=_0x5a14ab*_0x4cbe57+_0x5050e4*_0x56ac8c+_0x50e212*_0x20bf4c+_0x587f34*_0x3bc901;if(_0x9af5c3<-0x2662+0x741*0x1+0x1f21&&(_0x4cbe57=-_0x4cbe57,_0x56ac8c=-_0x56ac8c,_0x20bf4c=-_0x20bf4c,_0x3bc901=-_0x3bc901,_0x9af5c3=-_0x9af5c3),Math['abs'](_0x9af5c3)>=-0x8*0x1a+0x1a81+-0x19b0)return this['w']=_0x5a14ab,this['x']=_0x5050e4,this['y']=_0x50e212,this['z']=_0x587f34,this;const _0x56926b=Math['acos'](_0x9af5c3),_0x46449f=Math['sqrt'](0x19*0x89+0x165f*0x1+0x1*-0x23bf-_0x9af5c3*_0x9af5c3);if(Math['abs'](_0x46449f)<0x1554+-0x38b+-0x9d*0x1d+0.001)return this['w']=_0x5a14ab*(0x10f3+-0x2*-0x9d+-0x122d+0.5)+_0x4cbe57*(0xd82+0x6*-0x655+-0x2*-0xc3e+0.5),this['x']=_0x5050e4*(0x2*0x94f+0x1e9e+0x4*-0xc4f+0.5)+_0x56ac8c*(-0x3*-0xa53+0xa*-0xae+-0x80f*0x3+0.5),this['y']=_0x50e212*(-0x1339+0x133*0x11+-0x12a+0.5)+_0x20bf4c*(-0x3*-0x66a+0x6d*-0x2f+0xc5+0.5),this['z']=_0x587f34*(0x1fb1+-0xa*-0x16d+0x1*-0x2df3+0.5)+_0x3bc901*(-0x141*0xf+0x1d67+-0xa98+0.5),this;const _0x3138d0=Math['sin']((0x1d0*0x4+-0xa6+-0x699-_0x53617f)*_0x56926b)/_0x46449f,_0x37b8bc=Math['sin'](_0x53617f*_0x56926b)/_0x46449f;return this['w']=_0x5a14ab*_0x3138d0+_0x4cbe57*_0x37b8bc,this['x']=_0x5050e4*_0x3138d0+_0x56ac8c*_0x37b8bc,this['y']=_0x50e212*_0x3138d0+_0x20bf4c*_0x37b8bc,this['z']=_0x587f34*_0x3138d0+_0x3bc901*_0x37b8bc,this;}['transformV'+'ector'](_0x236764,_0x53a484=new D()){const _0x59739a=_0x236764['x'],_0x2d7cf2=_0x236764['y'],_0x3a67d7=_0x236764['z'],_0x1a0518=this['x'],_0x2881a8=this['y'],_0x47db9b=this['z'],_0x2b4399=this['w'],_0x21f6e0=_0x2b4399*_0x59739a+_0x2881a8*_0x3a67d7-_0x47db9b*_0x2d7cf2,_0x429706=_0x2b4399*_0x2d7cf2+_0x47db9b*_0x59739a-_0x1a0518*_0x3a67d7,_0x3a7604=_0x2b4399*_0x3a67d7+_0x1a0518*_0x2d7cf2-_0x2881a8*_0x59739a,_0x44e064=-_0x1a0518*_0x59739a-_0x2881a8*_0x2d7cf2-_0x47db9b*_0x3a67d7;return _0x53a484['x']=_0x21f6e0*_0x2b4399+_0x44e064*-_0x1a0518+_0x429706*-_0x47db9b-_0x3a7604*-_0x2881a8,_0x53a484['y']=_0x429706*_0x2b4399+_0x44e064*-_0x2881a8+_0x3a7604*-_0x1a0518-_0x21f6e0*-_0x47db9b,_0x53a484['z']=_0x3a7604*_0x2b4399+_0x44e064*-_0x47db9b+_0x21f6e0*-_0x2881a8-_0x429706*-_0x1a0518,_0x53a484;}['fromArray'](_0x5c03c6,_0x2acdb3=-0x4b3*-0x1+-0xa63+-0xe*-0x68){return this['x']=_0x5c03c6[_0x2acdb3]??this['x'],this['y']=_0x5c03c6[_0x2acdb3+(-0x1*-0x1801+0x2210+-0x3a10)]??this['y'],this['z']=_0x5c03c6[_0x2acdb3+(-0x25*-0x3e+-0x184*-0x1+-0x1*0xa78)]??this['z'],this['w']=_0x5c03c6[_0x2acdb3+(-0x24c6+0x1a29*0x1+-0xa*-0x110)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x526166=[],_0x49ac41=-0x1d54+0x755*0x1+0x15ff){return _0x526166[_0x49ac41]=this['x'],_0x526166[_0x49ac41+(0x639+0xae6+0x7*-0x272)]=this['y'],_0x526166[_0x49ac41+(-0x4ac*-0x4+-0x2551+0xd*0x16f)]=this['z'],_0x526166[_0x49ac41+(-0x1e5*-0x12+-0x19*-0x8a+-0x2f91)]=this['w'],_0x526166;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0x1fa+-0x16c9+0x3*0x841,-0x1e*0xaf+0x1b1*0x11+-0x83f,0x2*0xd82+0x1749+-0x1*0x324d,-0x229f*-0x1+0x1*0x80f+-0x2aad))),h(Sn,'ZERO',Object['freeze'](new Sn(-0xf9*-0x3+-0x145e+0x1173,-0xa*0x105+0x1*0x926+-0x86*-0x2,-0x33d*-0x2+-0x259*0xb+0x17d*0xd,-0x2386*0x1+0x1be5+0x7a1*0x1)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x28210f,_0x47a7b7){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0xcc1+-0x1e2e+0x116d+0.5,0xd57+0x5*-0x73+-0xb18+0.5,0x3b*-0x6f+-0x1*-0xdbe+0xbd7+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x28210f&&this['center']['copy'](_0x28210f),_0x47a7b7&&this['halfExtent'+'s']['copy'](_0x47a7b7));}['add'](_0x44d136){const _0x325e18=this['center'],_0x1f0002=_0x325e18['x'],_0x2ca39b=_0x325e18['y'],_0x50a86d=_0x325e18['z'],_0x30c0c6=this['halfExtent'+'s'],_0x54ed32=_0x30c0c6['x'],_0x52d336=_0x30c0c6['y'],_0x3081c2=_0x30c0c6['z'];let _0x251364=_0x1f0002-_0x54ed32,_0x653221=_0x1f0002+_0x54ed32,_0x216a1a=_0x2ca39b-_0x52d336,_0x15dd0f=_0x2ca39b+_0x52d336,_0x296e6d=_0x50a86d-_0x3081c2,_0x245e80=_0x50a86d+_0x3081c2;const _0x23c2da=_0x44d136['center'],_0x57d3bf=_0x23c2da['x'],_0x38cb5e=_0x23c2da['y'],_0x5d83d1=_0x23c2da['z'],_0x4df696=_0x44d136['halfExtent'+'s'],_0x35dea0=_0x4df696['x'],_0x577e11=_0x4df696['y'],_0x19aea6=_0x4df696['z'],_0x22f549=_0x57d3bf-_0x35dea0,_0x55287c=_0x57d3bf+_0x35dea0,_0x3591dc=_0x38cb5e-_0x577e11,_0x16d79f=_0x38cb5e+_0x577e11,_0x5430c6=_0x5d83d1-_0x19aea6,_0x141be7=_0x5d83d1+_0x19aea6;_0x22f549<_0x251364&&(_0x251364=_0x22f549),_0x55287c>_0x653221&&(_0x653221=_0x55287c),_0x3591dc<_0x216a1a&&(_0x216a1a=_0x3591dc),_0x16d79f>_0x15dd0f&&(_0x15dd0f=_0x16d79f),_0x5430c6<_0x296e6d&&(_0x296e6d=_0x5430c6),_0x141be7>_0x245e80&&(_0x245e80=_0x141be7),_0x325e18['x']=(_0x251364+_0x653221)*(-0x17bd+-0x4ad*0x1+0x2*0xe35+0.5),_0x325e18['y']=(_0x216a1a+_0x15dd0f)*(0x18d2+0x2*0x1340+0x1*-0x3f52+0.5),_0x325e18['z']=(_0x296e6d+_0x245e80)*(-0x4*-0x3a6+-0x513*-0x5+-0x27f7+0.5),_0x30c0c6['x']=(_0x653221-_0x251364)*(-0x2*0x11a7+-0x43*0xd+0x1b*0x16f+0.5),_0x30c0c6['y']=(_0x15dd0f-_0x216a1a)*(0xdfc+-0x3ea+0x2*-0x509+0.5),_0x30c0c6['z']=(_0x245e80-_0x296e6d)*(0x232+0x1d3c+-0x1f6e+0.5);}['copy'](_0x2640c0){this['center']['copy'](_0x2640c0['center']),this['halfExtent'+'s']['copy'](_0x2640c0['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x101379){const _0x50a46a=this['getMax'](),_0x464270=this['getMin'](),_0x430913=_0x101379['getMax'](),_0x2dc82b=_0x101379['getMin']();return _0x464270['x']<=_0x430913['x']&&_0x50a46a['x']>=_0x2dc82b['x']&&_0x464270['y']<=_0x430913['y']&&_0x50a46a['y']>=_0x2dc82b['y']&&_0x464270['z']<=_0x430913['z']&&_0x50a46a['z']>=_0x2dc82b['z'];}['_intersect'+'sRay'](_0xb4bf21,_0x3b060a){const _0x2215cf=Pa['copy'](this['getMin']())['sub'](_0xb4bf21['origin']),_0x573d9a=Ma['copy'](this['getMax']())['sub'](_0xb4bf21['origin']),_0x5646b4=_0xb4bf21['direction'];_0x5646b4['x']===-0x1a5f+-0x3*-0x735+0x8*0x98?(_0x2215cf['x']=_0x2215cf['x']<0x340+0x80+-0x3c0?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x573d9a['x']=_0x573d9a['x']<0x1919+0x60f+0x4*-0x7ca?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2215cf['x']/=_0x5646b4['x'],_0x573d9a['x']/=_0x5646b4['x']),_0x5646b4['y']===0xdf*-0x25+0x5*0x45+0x1ee2*0x1?(_0x2215cf['y']=_0x2215cf['y']<0x166c+-0x20*0xef+0x774?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x573d9a['y']=_0x573d9a['y']<-0x5*-0x282+0x67f+-0x1309?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2215cf['y']/=_0x5646b4['y'],_0x573d9a['y']/=_0x5646b4['y']),_0x5646b4['z']===-0xc2*-0x23+-0x184f+-0x237?(_0x2215cf['z']=_0x2215cf['z']<0x77c+0x1c81+-0x23fd*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x573d9a['z']=_0x573d9a['z']<0x1*0x210e+-0x1b3c+-0x12a*0x5?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2215cf['z']/=_0x5646b4['z'],_0x573d9a['z']/=_0x5646b4['z']);const _0x2ea510=Um['set'](Math['min'](_0x2215cf['x'],_0x573d9a['x']),Math['min'](_0x2215cf['y'],_0x573d9a['y']),Math['min'](_0x2215cf['z'],_0x573d9a['z'])),_0x52cd39=Bm['set'](Math['max'](_0x2215cf['x'],_0x573d9a['x']),Math['max'](_0x2215cf['y'],_0x573d9a['y']),Math['max'](_0x2215cf['z'],_0x573d9a['z'])),_0x5af9ec=Math['min'](Math['min'](_0x52cd39['x'],_0x52cd39['y']),_0x52cd39['z']),_0xbab7cb=Math['max'](Math['max'](_0x2ea510['x'],_0x2ea510['y']),_0x2ea510['z']),_0x60d591=_0x5af9ec>=_0xbab7cb&&_0xbab7cb>=0xf47+-0xc76+-0x1*0x2d1;return _0x60d591&&_0x3b060a['copy'](_0xb4bf21['direction'])['mulScalar'](_0xbab7cb)['add'](_0xb4bf21['origin']),_0x60d591;}['_fastInter'+'sectsRay'](_0x557540){const _0x5e36c6=Pa,_0x4a7065=Ma,_0x2071fe=Um,_0x584468=Bm,_0x1aa3a1=gx,_0x453ab4=_0x557540['direction'];return _0x5e36c6['sub2'](_0x557540['origin'],this['center']),_0x584468['set'](Math['abs'](_0x5e36c6['x']),Math['abs'](_0x5e36c6['y']),Math['abs'](_0x5e36c6['z'])),_0x2071fe['mul2'](_0x5e36c6,_0x453ab4),!(_0x584468['x']>this['halfExtent'+'s']['x']&&_0x2071fe['x']>=0xb*-0x1d9+0x2b*0xc1+-0xc18||_0x584468['y']>this['halfExtent'+'s']['y']&&_0x2071fe['y']>=0x10d8+0x8cb+-0x19a3||_0x584468['z']>this['halfExtent'+'s']['z']&&_0x2071fe['z']>=-0x5dd+0xdb6+0x11f*-0x7||(_0x1aa3a1['set'](Math['abs'](_0x453ab4['x']),Math['abs'](_0x453ab4['y']),Math['abs'](_0x453ab4['z'])),_0x4a7065['cross'](_0x453ab4,_0x5e36c6),_0x4a7065['set'](Math['abs'](_0x4a7065['x']),Math['abs'](_0x4a7065['y']),Math['abs'](_0x4a7065['z'])),_0x4a7065['x']>this['halfExtent'+'s']['y']*_0x1aa3a1['z']+this['halfExtent'+'s']['z']*_0x1aa3a1['y'])||_0x4a7065['y']>this['halfExtent'+'s']['x']*_0x1aa3a1['z']+this['halfExtent'+'s']['z']*_0x1aa3a1['x']||_0x4a7065['z']>this['halfExtent'+'s']['x']*_0x1aa3a1['y']+this['halfExtent'+'s']['y']*_0x1aa3a1['x']);}['intersects'+'Ray'](_0x248906,_0x2bcb5c){return _0x2bcb5c?this['_intersect'+'sRay'](_0x248906,_0x2bcb5c):this['_fastInter'+'sectsRay'](_0x248906);}['setMinMax'](_0x51486a,_0x1369ea){this['center']['add2'](_0x1369ea,_0x51486a)['mulScalar'](0x22f4+0x1876+-0x3b6a+0.5),this['halfExtent'+'s']['sub2'](_0x1369ea,_0x51486a)['mulScalar'](0x1af5*0x1+-0x848+0x1*-0x12ad+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x58f24a){const _0x1cc5b5=this['getMin'](),_0x264d1f=this['getMax']();return!(_0x58f24a['x']<_0x1cc5b5['x']||_0x58f24a['x']>_0x264d1f['x']||_0x58f24a['y']<_0x1cc5b5['y']||_0x58f24a['y']>_0x264d1f['y']||_0x58f24a['z']<_0x1cc5b5['z']||_0x58f24a['z']>_0x264d1f['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x19725b,_0xa33e67,_0xe64336=!(0x9*0x301+0x3*-0xa91+0x4ab)){const _0x348cc7=_0x19725b['center'],_0x1dfab8=_0x19725b['halfExtent'+'s'],_0x5ca5f9=_0xa33e67['data'];let _0x9aba48=_0x5ca5f9[-0xb0c+0x51e+-0x45*-0x16],_0x2541ba=_0x5ca5f9[-0x2a*0x91+0x1139+0x695],_0x31ee82=_0x5ca5f9[0x2e1*-0x1+0x5*0x67f+-0x1d92],_0x1e1371=_0x5ca5f9[-0x19*-0x1f+0x7bb*-0x3+0x142b],_0x1592b0=_0x5ca5f9[0x14c5+-0x22c9+0xe09],_0x14b674=_0x5ca5f9[-0x12f5+-0x6*-0x2b0+-0x16f*-0x2],_0x1fc1d2=_0x5ca5f9[0x1376+-0x1c*-0x47+-0xd9c*0x2],_0x408126=_0x5ca5f9[0x1475+-0xb3*0x29+0x83c],_0xa7ddc2=_0x5ca5f9[0xb5*0x5+0x1ffc+-0x237b*0x1];if(_0xe64336){let _0x4d581b=_0x9aba48*_0x9aba48+_0x2541ba*_0x2541ba+_0x31ee82*_0x31ee82;if(_0x4d581b>-0x223f+0x588+-0x1cb7*-0x1){const _0x37596d=(0x1c29+0x1392+-0x2fba)/Math['sqrt'](_0x4d581b);_0x9aba48*=_0x37596d,_0x2541ba*=_0x37596d,_0x31ee82*=_0x37596d;}if(_0x4d581b=_0x1e1371*_0x1e1371+_0x1592b0*_0x1592b0+_0x14b674*_0x14b674,_0x4d581b>0x1*-0x15cb+-0x250e+0x3ad9){const _0x588c54=(-0x1a*0x115+-0x2*-0xfbb+0x353*-0x1)/Math['sqrt'](_0x4d581b);_0x1e1371*=_0x588c54,_0x1592b0*=_0x588c54,_0x14b674*=_0x588c54;}if(_0x4d581b=_0x1fc1d2*_0x1fc1d2+_0x408126*_0x408126+_0xa7ddc2*_0xa7ddc2,_0x4d581b>-0xb*-0x15d+-0x97d+-0x8d*0xa){const _0x4fd7c1=(0x2d7*0x6+-0x907*-0x4+-0x3*0x11b7)/Math['sqrt'](_0x4d581b);_0x1fc1d2*=_0x4fd7c1,_0x408126*=_0x4fd7c1,_0xa7ddc2*=_0x4fd7c1;}}this['center']['set'](_0x5ca5f9[0x1d19+-0x9d+0x2*-0xe38]+_0x9aba48*_0x348cc7['x']+_0x2541ba*_0x348cc7['y']+_0x31ee82*_0x348cc7['z'],_0x5ca5f9[0x8bd*0x3+-0xd72*0x1+-0x2*0x65c]+_0x1e1371*_0x348cc7['x']+_0x1592b0*_0x348cc7['y']+_0x14b674*_0x348cc7['z'],_0x5ca5f9[0x1*-0x1fee+0xe25+-0x11d7*-0x1]+_0x1fc1d2*_0x348cc7['x']+_0x408126*_0x348cc7['y']+_0xa7ddc2*_0x348cc7['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x9aba48)*_0x1dfab8['x']+Math['abs'](_0x2541ba)*_0x1dfab8['y']+Math['abs'](_0x31ee82)*_0x1dfab8['z'],Math['abs'](_0x1e1371)*_0x1dfab8['x']+Math['abs'](_0x1592b0)*_0x1dfab8['y']+Math['abs'](_0x14b674)*_0x1dfab8['z'],Math['abs'](_0x1fc1d2)*_0x1dfab8['x']+Math['abs'](_0x408126)*_0x1dfab8['y']+Math['abs'](_0xa7ddc2)*_0x1dfab8['z']);}static['computeMin'+'Max'](_0x4eb2f9,_0x2ca42b,_0x14b7ca,_0x383d8f=_0x4eb2f9['length']/(-0xb09+0x9*0x355+-0x1*0x12f1)){if(_0x383d8f>-0x749+-0x907+0x1050){let _0x18ea4d=_0x4eb2f9[-0x185f+-0x163*-0x9+0x2*0x5f2],_0x37b923=_0x4eb2f9[0x24*-0x2d+0x1a0b+-0x13b6],_0x31e528=_0x4eb2f9[-0x198e+0x2209+-0x3*0x2d3],_0x465ce7=_0x18ea4d,_0x509947=_0x37b923,_0x442a0c=_0x31e528;const _0x139a69=_0x383d8f*(-0x89*0xa+-0x1*0x20d1+-0x3*-0xcba);for(let _0x4fa926=-0x14de+-0x52*-0x20+0xaa1*0x1;_0x4fa926<_0x139a69;_0x4fa926+=0x1*-0x55d+-0x32*-0x9d+-0x194a){const _0x2399e2=_0x4eb2f9[_0x4fa926],_0x5c6c9c=_0x4eb2f9[_0x4fa926+(-0x1a93+-0x19d0+0x3464)],_0x32f000=_0x4eb2f9[_0x4fa926+(0x271+0x17e7+0x1*-0x1a56)];_0x2399e2<_0x18ea4d&&(_0x18ea4d=_0x2399e2),_0x5c6c9c<_0x37b923&&(_0x37b923=_0x5c6c9c),_0x32f000<_0x31e528&&(_0x31e528=_0x32f000),_0x2399e2>_0x465ce7&&(_0x465ce7=_0x2399e2),_0x5c6c9c>_0x509947&&(_0x509947=_0x5c6c9c),_0x32f000>_0x442a0c&&(_0x442a0c=_0x32f000);}_0x2ca42b['set'](_0x18ea4d,_0x37b923,_0x31e528),_0x14b7ca['set'](_0x465ce7,_0x509947,_0x442a0c);}}['compute'](_0x53c540,_0x3d4d05){De['computeMin'+'Max'](_0x53c540,Pa,Ma,_0x3d4d05),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x4bb09e){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x4bb09e)<=_0x4bb09e['radius']*_0x4bb09e['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x304ef7){const _0x3934d6=this['getMin'](),_0x30a5c2=this['getMax']();let _0x44f0ba=0x46+-0x1*-0x25cd+-0x39*0xab;const _0x7a3814=['x','y','z'];for(let _0x1cec7d=-0xdad+0x1403+-0x656;_0x1cec7d<-0x52*0x3d+0x175e+-0x1*0x3d1;++_0x1cec7d){let _0x57db2c=-0x1535+-0x862+0x1d97;const _0x30bb3f=_0x304ef7['center'][_0x7a3814[_0x1cec7d]],_0x2b2a3a=_0x3934d6[_0x7a3814[_0x1cec7d]],_0x4051fe=_0x30a5c2[_0x7a3814[_0x1cec7d]];let _0x599a91=0x1cf2+0x2f7+-0x7*0x48f;_0x30bb3f<_0x2b2a3a&&(_0x599a91=_0x2b2a3a-_0x30bb3f,_0x57db2c+=_0x599a91*_0x599a91),_0x30bb3f>_0x4051fe&&(_0x599a91=_0x30bb3f-_0x4051fe,_0x57db2c+=_0x599a91*_0x599a91),_0x44f0ba+=_0x57db2c;}return _0x44f0ba;}['_expand'](_0x150333,_0x1b92c6){Pa['add2'](this['getMin'](),_0x150333),Ma['add2'](this['getMax'](),_0x1b92c6),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x105140=new D(),_0x42043d=0x152e+-0x25fc+-0x2cd*-0x6+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x105140),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x105140,this['radius']=_0x42043d);}['containsPo'+'int'](_0x4f0c3a){const _0x1984e7=Wl['sub2'](_0x4f0c3a,this['center'])['lengthSq'](),_0x15ac68=this['radius'];return _0x1984e7<_0x15ac68*_0x15ac68;}['intersects'+'Ray'](_0x419ddd,_0xd77ddb){const _0x2ef2e8=Wl['copy'](_0x419ddd['origin'])['sub'](this['center']),_0x35d381=_0x2ef2e8['dot'](Sx['copy'](_0x419ddd['direction'])['normalize']()),_0x311454=_0x2ef2e8['dot'](_0x2ef2e8)-this['radius']*this['radius'];if(_0x311454>-0x251*-0xa+0x1382+0x1556*-0x2&&_0x35d381>-0x25c4+-0x82c+0x6*0x7a8)return!(0xb1d+-0x239*0x4+-0x8*0x47);const _0x26b27e=_0x35d381*_0x35d381-_0x311454;if(_0x26b27e<-0x13c3*-0x1+-0x1adc*0x1+-0x719*-0x1)return!(-0x40e*0x1+0x3fd*0x9+-0x1fd6);const _0x38f0fe=Math['abs'](-_0x35d381-Math['sqrt'](_0x26b27e));return _0xd77ddb&&_0xd77ddb['copy'](_0x419ddd['direction'])['mulScalar'](_0x38f0fe)['add'](_0x419ddd['origin']),!(-0x9d3+0x1fd6+-0x1603);}['intersects'+'BoundingSp'+'here'](_0x1836ad){Wl['sub2'](_0x1836ad['center'],this['center']);const _0x5c0724=_0x1836ad['radius']+this['radius'];return Wl['lengthSq']()<=_0x5c0724*_0x5c0724;}}class QS{constructor(_0xea3cea=D['UP'],_0x339859=-0x1*0x107+0x5d2+-0x1*0x4cb){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0xea3cea),this['distance']=_0x339859);}['clone'](){const _0x135af7=this['constructo'+'r'];return new _0x135af7()['copy'](this);}['copy'](_0x530175){return this['normal']['copy'](_0x530175['normal']),this['distance']=_0x530175['distance'],this;}['intersects'+'Line'](_0x449bcf,_0x5bdd28,_0x4268f4){const _0x249c1=this['distance'],_0x3ecbbc=this['normal']['dot'](_0x449bcf)+_0x249c1,_0xea3a08=this['normal']['dot'](_0x5bdd28)+_0x249c1,_0xa00a10=_0x3ecbbc/(_0x3ecbbc-_0xea3a08),_0x529681=_0xa00a10>=0x2*0xf13+-0x85f+0x15c7*-0x1&&_0xa00a10<=0x6*-0x592+0xb*0x224+-0x3*-0x34b;return _0x529681&&_0x4268f4&&_0x4268f4['lerp'](_0x449bcf,_0x5bdd28,_0xa00a10),_0x529681;}['intersects'+'Ray'](_0x445dac,_0x5bd2b3){const _0x59301f=this['normal']['dot'](_0x445dac['direction']);if(_0x59301f===0x31*0x47+-0xa37*0x1+0x360*-0x1)return!(0x987+0x496+-0xe1c);const _0xbca98f=-(this['normal']['dot'](_0x445dac['origin'])+this['distance'])/_0x59301f;return _0xbca98f>=0x1091*-0x2+0x1b8*-0x4+0x2802&&_0x5bd2b3&&_0x5bd2b3['copy'](_0x445dac['direction'])['mulScalar'](_0xbca98f)['add'](_0x445dac['origin']),_0xbca98f>=-0x71*0x25+-0x4cf*-0x5+0x2f*-0x2a;}['normalize'](){const _0x5e9014=(-0x309+-0xce*0x8+0x1*0x97a)/this['normal']['length']();return this['normal']['mulScalar'](_0x5e9014),this['distance']*=_0x5e9014,this;}['set'](_0x2c19d6,_0xd9a2e7,_0x2a51ca,_0x15a5ae){return this['normal']['set'](_0x2c19d6,_0xd9a2e7,_0x2a51ca),this['distance']=_0x15a5ae,this;}['setFromPoi'+'ntNormal'](_0x2c27cb,_0x2a5ff3){return this['normal']['copy'](_0x2a5ff3),this['distance']=-this['normal']['dot'](_0x2c27cb),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x23b8dc=-0xa80+-0xa1*0x3c+0x303c;_0x23b8dc<0x10b5+0xf2f+-0x1fde;_0x23b8dc++)this['planes'][_0x23b8dc]=new QS();}['clone'](){const _0x327c46=this['constructo'+'r'];return new _0x327c46()['copy'](this);}['copy'](_0x1fa38e){for(let _0x2efb77=0xdda+0x1ce5+-0x1f*0x161;_0x2efb77<-0x26a2+-0x10d*-0x17+-0xe7d*-0x1;_0x2efb77++)this['planes'][_0x2efb77]['copy'](_0x1fa38e['planes'][_0x2efb77]);return this;}['setFromMat'+'4'](_0x2a6424){const [_0x2f0e0e,_0x528529,_0x14375c,_0x288f6c,_0x322c15,_0x3ef546,_0x3bc479,_0x4265a7,_0x48026d,_0x52fbde,_0x5144a5,_0x218f75,_0x3a7e15,_0x7c0aff,_0x1e2563,_0x1abb87]=_0x2a6424['data'],_0x39a91f=this['planes'];_0x39a91f[-0x379+0x2*0x1197+-0x1fb5]['set'](_0x288f6c-_0x2f0e0e,_0x4265a7-_0x322c15,_0x218f75-_0x48026d,_0x1abb87-_0x3a7e15)['normalize'](),_0x39a91f[-0x25a7+0x15f2+0x2*0x7db]['set'](_0x288f6c+_0x2f0e0e,_0x4265a7+_0x322c15,_0x218f75+_0x48026d,_0x1abb87+_0x3a7e15)['normalize'](),_0x39a91f[0x2b3*-0x6+0x7f*-0x25+0x1*0x228f]['set'](_0x288f6c+_0x528529,_0x4265a7+_0x3ef546,_0x218f75+_0x52fbde,_0x1abb87+_0x7c0aff)['normalize'](),_0x39a91f[0x3*0x3f5+-0x868+-0x11*0x34]['set'](_0x288f6c-_0x528529,_0x4265a7-_0x3ef546,_0x218f75-_0x52fbde,_0x1abb87-_0x7c0aff)['normalize'](),_0x39a91f[0x18d3+0x1*0x1d52+-0x1*0x3621]['set'](_0x288f6c-_0x14375c,_0x4265a7-_0x3bc479,_0x218f75-_0x5144a5,_0x1abb87-_0x1e2563)['normalize'](),_0x39a91f[-0x6*-0x2dd+-0xa66+-0x6c3]['set'](_0x288f6c+_0x14375c,_0x4265a7+_0x3bc479,_0x218f75+_0x5144a5,_0x1abb87+_0x1e2563)['normalize']();}['containsPo'+'int'](_0x4f0a68){for(let _0x1666c8=0x3d1*-0x8+0x270+-0x383*-0x8;_0x1666c8<-0x2b6*-0x7+-0x17d0+0x4dc;_0x1666c8++){const {normal:_0x375b79,distance:_0x19149d}=this['planes'][_0x1666c8];if(_0x375b79['dot'](_0x4f0a68)+_0x19149d<=0x22dc*0x1+0x17*0x77+-0x3*0xf2f)return!(0x25*-0x6f+0x980+-0x2*-0x346);}return!(0x1545+-0x7*-0x4d3+-0x370a);}['containsSp'+'here'](_0x1951f3){const {center:_0x405c80,radius:_0x224a4b}=_0x1951f3;let _0x163afa=0x2701+-0x6e6+-0x201b;for(let _0x5092c3=-0x2*0x5a4+-0x6c+-0xe*-0xd6;_0x5092c3<-0x2*-0x9b2+0x18be+-0x4*0xb07;_0x5092c3++){const {normal:_0x153ae3,distance:_0xdd90cb}=this['planes'][_0x5092c3],_0x136175=_0x153ae3['dot'](_0x405c80)+_0xdd90cb;if(_0x136175<=-_0x224a4b)return 0xe14+0x1a*0x70+-0x1974;_0x136175>_0x224a4b&&_0x163afa++;}return _0x163afa===-0x13e*-0x6+-0x3*0x622+0x138*0x9?0x883*-0x4+0x1*-0x1463+0x3671:0x1*-0x12b+-0x19d*-0x11+-0x1a41;}}class Dn{constructor(_0x196d3b,_0x5e0416){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x196d3b&&this['origin']['copy'](_0x196d3b),_0x5e0416&&this['direction']['copy'](_0x5e0416));}['set'](_0x5ee218,_0x5bc282){return this['origin']['copy'](_0x5ee218),this['direction']['copy'](_0x5bc282),this;}['copy'](_0x5b978a){return this['set'](_0x5b978a['origin'],_0x5b978a['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x3d*0x68+0x17*-0x10f+0x3121*0x1,ue=0xe29+0x5*-0xfe+-0x932,ip=-0x1f2*-0xd+-0xee*-0xd+-0x255e,rp=0x1*-0x16d3+0x2627*0x1+-0xf54,Ft=0x55e+-0x48f*0x7+0x1a8c,vx=-0x1578+0x20b4+0x3be*-0x3,JS=-0x2*-0x151+-0x1602+0x1364,xx=0x1c96+-0x8cd+-0x13c4,jh=0x16d*-0x2+-0xae7*0x3+0x2395*0x1,Yh=-0x39b+0xcf3+-0x950,fs=0x21ed+-0xdc9*0x1+0x2*-0xa12,Tx=0x25bb+0x101b+0xa*-0x562,wx=0x1948+0x4*0x29b+-0x23b1*0x1,Ex=-0x1*0x1726+-0x259e+0x3cc8,ms=-0x208c+-0xc08+0x2c94,lh=0x49a*-0x7+-0x1*0x2443+0x447a,ey=0x1955+0x20*0x59+-0x2473,bx=0x1ac4+-0x1d17+0x256,jo=0x1ecc+0x2*-0x1283+-0x1*-0x63b,Yo=0x19f0+0x6a9*0x3+-0x2de9,ch=0x6*0x675+0x17b5*0x1+-0x3e6f,bt=0x1*0x1fd7+0x1*-0xd29+-0x2*0x957,pa=-0x1*-0xfec+-0x892+0xb*-0xab,Fo=-0x13*0x5+-0xb71*0x3+0x22b4,Ax=-0xb23*0x1+-0xe9b+0x1*0x19c1,Te=-0xd*-0x113+0x2*0xfe0+-0x2db7*0x1,vt=0x1742+-0x6f*-0x47+-0x1b05*0x2,Kh=0x23cf*0x1+0x1*0x27+-0x27*0xec,Zh=0x108b+0x18e4+-0x296c,Qh=0x1*0x13a3+0x2195+-0x3534,ma=-0x1dc1+-0x2*0xc02+-0x11*-0x32a,Cx=-0xd8a+-0x1403+-0x4cb*-0x7,hh=0x19c4+-0x195+-0x182e,dh=0x1343+0x4d*-0xb+-0x1*0xff2,Wf=-0x159d+-0xb8*-0xd+0xc48,Px=0xca7+-0x172a+0xa87,Mx=0x7*0x1be+-0x1f74+0x1347,Dx=-0x3*-0x556+0x24e5+-0x34e1,Wi=-0x4e3*0x6+0x23fa*-0x1+-0x4153*-0x1,$f=0xc5*-0x1+0x203d+-0x1f78,Yi=-0xa6f+0x31d+0x177*0x5,wr=0x1a70+-0xda9+-0x1*0xcc5,ty=-0x14b5+-0x7fa+-0x7*-0x419,sy=0x1*0x14d9+-0x266f*-0x1+0x3b47*-0x1,ap=0x125*-0x18+-0xd09+0x2883,Jh=-0x5bb+0x18a0+-0x2*0x971,np=-0xd*-0x20b+-0x7bd+-0x12ce,ed=0x9f8+0x10f4+-0x1ae7*0x1,Cr=0x115*-0x21+0x30b*-0x4+-0x1*-0x2fe7,Ne=0xf*-0xa5+-0x19c5+0x2377,td=-0x24fa*-0x1+-0x1*0x11d6+0x4c7*-0x4,op=0x14e9*0x1+-0x2*-0xa9+-0x1632,vl=-0xfa3*0x1+-0x1352*-0x2+-0x16f7*0x1,ui=-0x2*0xcd7+-0x19*0x1d+-0x2*-0xe47,nt=-0xfb7+0xb*-0x1+0x11*0xee,Ye=-0x1b8d+-0x1*-0x1a11+0x189,Xt=-0x679*-0x5+0x89f*0x1+0x1477*-0x2,Ji=0x15b*0x3+0x1b5+-0x13*0x4d,$i=0x11c0+-0xb97+0x1*-0x619,sd=-0x3ff+-0x292*0x8+0x18a0,In=-0xba7*-0x2+0x1*0x1f4d+-0x3689,lp=-0x7d7*0x1+-0x127d*0x2+0x1672*0x2,_s=0x17e9+0x678+0x1e4d*-0x1,id=0x1*0x1e3f+-0xa2b*0x2+-0x94*0x11,cp=0x1*0x655+0x3cb+-0x5*0x202,hp=-0x17f8+0x1890+-0x81*0x1,xl=-0x601+-0x2e*0x47+-0x3*-0x649,Tl=0x5*0x792+0x233e+-0x48ff,rd=0xc55+0x1adb+-0x2716,ad=-0x22d*0x3+0x1*0x112e+-0x6c*0x19,iy=-0x6a*0x2e+0xf*-0xd1+-0x1f67*-0x1,ry=0x1e96+-0x1*-0x136d+0x31e6*-0x1,ay=0x27e+0x11d9*-0x2+0x2152,ny=-0x623*-0x2+0x1d2c+-0x1*0x2953,dp=-0x152*0x19+-0xef9+-0x5*-0x99f,oy=-0x1ce8+-0x426+0x212f*0x1,fp=0x1e14+-0x121c+-0x1f9*0x6,up=-0x1886+0x3ad+-0x4f*-0x44,pp=0xb*0x320+-0x16b+0x10f*-0x1f,Ki=-0x1ac2+-0x6ce+-0x21b5*-0x1,mp=0x1*-0x4e1+0x1fd1+-0x8ee*0x3,ly=0xc26*-0x3+-0x1*-0x2110+0x389,_p=0x21eb+0x1c1+0x11c2*-0x2,gp=-0x17*-0x51+-0x49*-0x25+-0x1*0x11ab,Sp=0x97*-0xb+-0x14bd*-0x1+-0xe16,yp=0x1249+0x1*0x7d+-0x129b,vp=0x15*-0xe9+0x2394+-0x104b,cy=0x14f5+-0x5fa+-0xece,xp=0x1416+-0xc4e+0x116*-0x7,nd=-0x9*-0x38f+-0x1*0x1b6d+0x57*-0xd,Tp=-0x4d*0x59+-0x1*0x64e+0x28f*0xd,Ue=0x1*-0x1d4+-0x20f2+0x22f7,od=0x1b6f+-0x1*-0x16ff+-0x323c,wp=0x2*-0x65+-0x14ca+0x15c7,Ep=-0x227b+-0xf3d+0x3c*0xd5,bp=-0xde3+0xaec*-0x3+-0x2edc*-0x1,Xf=0x2*-0x271+0x344+-0x24*-0xd,qf=0x15*0x8+-0xa93+0xa22,jf=-0xf95+-0xacf*0x2+0x256b,Yf=0x1b21+-0x8d9+-0x120b,Kf=0x3f*0x36+-0x31*-0xa5+-0x2ca1,Zf=-0x574+0x10*0x25f+-0x9*0x395,hy=-0x9ab+0x1*-0x1091+0x71*0x3c,dy=0x78c+0x3fb*-0x1+0x2*-0x1a8,fy=-0x23d1+-0x2*-0xa91+0xf*0xff,uy=-0x2459+0x451+0x1*0x204b,Qf=-0x230d*-0x1+0x133c+-0x3605*0x1,vn=0x2*-0x6f1+0x2500+0x1*-0x16d9,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0xc22+0x17ed+-0xbcb*0x1)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x9e3+-0x26d+-0xc50*-0x1)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x36f+0x1cae+-0x1*0x193f)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x1a0a+0x15cd+0x2fd7*-0x1)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x10b9*0x1+0x6fb*-0x5+0x33a0)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x1*0x1c96+0x1bb1*-0x1+0x3847)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x1*0x22de+-0x1*-0x199d+0x941)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x6f4+0x9*0x6f+-0x7*0x18d)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0xc97+0xa68*0x3+-0x2bcf)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0xb07*0x1+-0xe1+-0xa26),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x1240+-0xc*0x1d2+-0xe6*-0x4),'srgb':!(0x245f+-0x1815+-0xc4a)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(-0xbc3+-0x13a1+0x1f64),'srgb':!(0xd*0x1fb+0x1*-0xfd8+-0x9e7)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x2015+0x442+-0x2457)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x3e*0x2d+0x98c*0x4+0x1*-0x1b4a),'srgb':!(0xe81+-0x1a85*0x1+0xc04)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x2616+0x1*0x1cc9+-0x42df),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x2*-0x80b+-0x236+0x124c),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x8f+0x1*-0x1ae1+0x1a52),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x837*-0x1+-0x23c4+-0x1*-0x1b8d)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x51c+-0xb*0x36d+-0x88f*-0x5),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x9aa*0x3+0x15d3+0x72b),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0xebd+0x1baf+-0xcf2),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x1f7d+-0x1e43*0x1+-0x13a),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x171*0x11+0x261c+-0x3e9d),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x2*-0xfa7+0x49*-0x12+-0x1a2c),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x8e3+-0x1fe1+0x16fe),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x65c*-0x2+0x16f8+-0xa40)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x2684+-0x1*0x312+-0x1*0x2372)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x268a+-0x19bf*-0x1+-0x28f*-0x5),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0xf*0x68+0xd2d*0x2+-0x1*0x2072),'srgb':!(-0x67c*0x2+0x1802+-0xb0a)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x1a*-0x69+0x1*-0x9a9+-0x2b*-0x79),'srgb':!(-0x2*0xbaa+0x6bb*0x1+0x1099)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x1*-0x1095+-0x24d*0x1+0x8*-0x1c9),'srgb':!(-0x5e0+0xab0+0x7*-0xb0)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x62*-0x1a+0x43+-0xa37),'srgb':!(0x2516+-0xc0b*0x1+-0x190b*0x1)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1*-0x62f+-0x1*0xb5+-0x15*-0x54),'srgb':!(0xa24+-0xe4+-0x940)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x94d*-0x1+0xa6*-0x14+-0x1645*-0x1),'srgb':!(0x2594+0x1a21*-0x1+-0xb73)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x2241+-0x1b63+0x3da4),'srgb':!(-0x1*-0xc31+0x25b7+-0x1*0x31e8)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x1591+0x177+0x141a)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x1740+-0x1d19+0x3459)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0xbdf*0x1+0x2a*0xac+-0x1059)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x1691*0x1+0x1*0xa30+-0x20c1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0x714+-0x12b1+0xb9d)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0x13*0x1b+-0x1f24+0x1d23)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x196f*-0x1+0x19f4+-0x3363)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0xe3*-0x21+-0x33*-0x61+0xc*0xd4)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0xb*-0x151+-0x3*-0x382+0x3f5)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(0x15e6*0x1+0x1e3e+-0x4*0xd09)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x1647+0x24be*-0x1+0x3b05)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x1b9c+-0x24d+-0x1f*0xd1)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x16bf+0x1de9+-0x72a)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x1ad9*0x1+0x23a1+-0x3e7a)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(0x78+-0x1256*-0x1+-0x3a*0x53)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x6b*-0x20+-0x31*0xad+0x2e7d)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x1ae7+0x1231+-0x9c*0x4a)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x174f+-0x5*-0x343+-0x39a*0xb)}]]),Ix=_0x2011b8=>{var _0x4fcefc;return((_0x4fcefc=Nt['get'](_0x2011b8))==null?void(0x1*0x1f49+0x3c*-0x6a+-0x671):_0x4fcefc['blockSize'])!==void(-0x17f*-0x4+-0x1dbd+0x17c1*0x1);},fh=_0x23c9dc=>{var _0x1d1b79;return((_0x1d1b79=Nt['get'](_0x23c9dc))==null?void(0x1*-0xd87+-0x56*-0x56+-0xf5d):_0x1d1b79['srgb'])===!(0xb6b+0xb2a+-0x1695);},dn=_0x5a2d97=>{var _0x3ccae0;return((_0x3ccae0=Nt['get'](_0x5a2d97))==null?void(0xb23+-0x1*0x26a8+-0x581*-0x5):_0x3ccae0['isInt'])===!(-0x2239+-0xc69+0x2ea2);},ld=_0x320620=>{var _0x127468;return((_0x127468=Nt['get'](_0x320620))==null?void(-0x14fa+-0x1af2+0x2fec):_0x127468['srgbFormat'])||_0x320620;},Lx=_0x5ea03a=>{for(const [_0x52fa50,_0x2eb573]of Nt)if(_0x2eb573['srgbFormat']===_0x5ea03a)return _0x52fa50;return _0x5ea03a;},py=_0x420270=>{const _0x4be129=Nt['get'](_0x420270);return!!(_0x4be129!=null&&_0x4be129['ldr']&&!(_0x4be129!=null&&_0x4be129['srgb']));},my=_0xdb6a88=>{switch(_0xdb6a88){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=-0x1cab*0x1+0x17*0xe3+0x846,hd=0x1*-0x11d7+-0xb7b*-0x2+-0x51e,_y=0x261f+-0x12fd+0xcc*-0x18,gy=0x1a7b+0x5d*-0x48+-0x50,js=0x493+0x1bcd+-0xda*0x26,Er=-0x1f2e*0x1+0x1*-0x13+-0x1*-0x1f46,oa=0xc63+-0xc3f+0x5*-0x6,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x1b2f+-0x493*-0x4+-0x2d7a,xn=-0x25c5+-0x1*0x579+-0x29*-0x10e,kx=-0x5*0x149+-0x2*0x99+0x3f*0x1f,Ux=-0x1*0x2395+0x2e2*-0x5+-0x4a*-0xad,Bx=0x5f8*0x4+-0x275+-0xab3*0x2,$l=0x2eb+-0x26e5*0x1+-0x266*-0xf,yy=0x13d*-0x5+0x480+0x3e*0x7,Od=-0x2fe*0xb+0x226+0x65*0x4e,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x12dc+-0x1*-0xc53+-0x1f2e,Pr=-0x2*0x5d4+0x994+0x216,vy=0x2425*0x1+0x53e*-0x4+-0xf2a,xy='2d',zx=0x186b+0x1*0x2644+-0x3eaf,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1*-0x2502+0x7b5*0x4+-0x62e*-0x1,la=-0x2707*0x1+0x60b+0x20fd,fd=0xe27*0x1+-0x1*-0xc9f+-0x23b*0xc,Ml=-0x1a25+0xb58+0xc*0x13c,Ty=0x17ce+0x278*-0xa+0xe6,el=-0x28d*-0x7+-0x241*0x2+0x355*-0x4,Ve=0x1df*-0x1+-0x403+0x5e8,Tn=-0xd1*-0x2f+0x1*-0x13fa+-0x1265,_a=0x573+-0x67*-0x1a+-0xfe8,Xs=0xcdf+0x16*-0x191+0x61*0x39,ga=-0x260f*0x1+0x2e*0x97+0xaf0,ds=0xacd+-0x2*0x28c+-0x5b1,Rn=0x48d+-0x24d3*0x1+-0x49d*-0x7,ca=-0x2667+-0x13d*0x3+0x2a24,ha=-0x2516+0x1756+0xdc7,da=-0x1864+-0x9ad+0x2219,tl=0x14d5+0x2520+0x4*-0xe7b,sl=-0x1ddb+-0x1*0x59b+0x2380,il=-0x1*-0x1ccf+-0x19cf+0x2f5*-0x1,_h=-0x13e7*0x1+0x86*0x37+-0x8d7,On=0x2af+-0x1*-0x18b1+-0x1b53,li=0x23b7*0x1+-0x425*-0x4+0x2b*-0x137,Hx=0x4c*0x55+-0x4c*0x1+-0x18e1*0x1,Wx=0x553*0x3+-0x39*-0x61+0x1*-0x2582,ud=-0x1*-0x1c76+0x2392+0x7d*-0x83,$x=-0xcc5*-0x1+-0x1c99+-0x32e*-0x5,Xx=-0xf*0x21f+-0x1*0x79c+0x2780,qx=0x25b6+-0x2649+0xa7,pd=0xb06+-0x3*0x5f5+0x377*0x2,md=-0xe16+-0x796+0x22d*0xa,Lp=0xf1*0x1a+-0x1c93+0x430,wy=0x4*0x610+-0x1*-0x1f05+-0x372d,jx=-0x1*0x166d+-0x1*-0x9fe+0x1*0xc88,Fn=0x6*-0x1a2+-0x25*0x47+0x1429,Nn=0x1*-0x110b+0x1e4f+-0xd29,kn=-0x16f1*0x1+0x7*-0x4be+0x383f,Un=-0x1*-0x24a+-0x79d*-0x2+-0x2d*0x63,Bn=-0x267b*-0x1+0x75+-0x26d2,_d=0x87+0xd5*0x9+-0x7e5,gd=-0xe81+-0x1*-0x13ca+0x529*-0x1,zn=-0x7*0x571+-0x8c2+-0x6b6*-0x7,Sd=0xcc4+0x18a2+-0x2544,yd=0x19bc+-0x582+0x8b*-0x25,Vn=0x3e3+-0x4*-0x789+-0x21e3,vd=-0xc4e+0x5*-0x4d5+0xc34*0x3,xd=-0x53*-0x6b+0x3*0x8ee+0x3d55*-0x1,gh=0x1b97+0x17c8+-0x3338,Rp=0xa39+-0x240b+0x19fa*0x1,Op=0x1ceb+0x5*-0x1b+-0x1c3b,Yx=-0x860+-0x8fa+0x1184,Kx=-0x257+-0x6*-0x311+-0xfe4,Zx=0x1a*-0x21+0xe35+-0xaaf,Qx=0x1f32+0xd87+-0x2c8c*0x1,Jx=-0x1*-0x21d+0x23ee+-0x25dd,eT=-0x14*0xa4+0xe0f*0x1+-0x44*0x4,tT=0x5df*0x4+-0xe02+-0x94a,sT=0x19*0x187+-0x2310+-0x2ee,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x41c23f,_0x537c2e)=>{_0x41c23f['forEach'](_0x1ac615=>rT['set'](_0x1ac615,_0x537c2e));});const aT='webgl2',Fp=-0x1*0x84c+-0x10ff+0x4*0x653,by=0xb5*-0x2e+0xae+0x1fda,nT=0xd90+-0x5*0x6c7+0x1457*0x1,oT='ldr',Ay=0x1*-0x85d+0x20bf+0x4f*-0x4f,Cy=0x73*-0x26+-0x1*0xc97+0x1dab,Py=-0x20f5+-0x1564+0x365d*0x1,My=-0x658+0x1*0x48a+-0x2f*-0xa,Dy=-0x1b25*0x1+-0x1188+0x2cbd,Iy=-0xc2b+-0x1*0x1ecb+0x158b*0x2,Ly=-0x4b7+-0x95*-0x7+0xe4,Ry=0x2334+0x497+-0x274b,lT=0x1*0xb41+-0x26ce+0x1c8c,rl=0x38f+0x533+-0x8c2,Oy=0x147*0x1+-0x22df+0x2199,su=-0x19e+0x5f1+-0x451*0x1,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x1dd+0x5c4+-0x3e6,-0x10a1+0x3*-0xaac+-0x1df*-0x1a,0x1*0x22c9+0x20c5+-0x438c,0xc0b*-0x2+-0x5b3+0x1dcb*0x1,0x384+-0xd*0x1d+0x3*-0xad,-0xb*-0x207+0x10d*0x17+-0x2e74,-0x9*-0xc7+-0x8d5+-0x1da*-0x1,0x52*0xe+-0x59*-0x5b+-0x241d],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0xe95+-0x1b08+0xc74,0x65b*0x6+-0x2*-0xe7d+-0x431a,-0x5*-0x19+-0xf10+0x4dd*0x3],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x77e+-0x1*0x20bf+0xf*0x1af,Le[gs]=0x48f+-0x21d8+0x2*0xea5,Le[gi]=-0x1eb+0x5bf*0x6+-0x1*0x208d,Le[us]=-0x172f*-0x1+0x1460+-0x742*0x6,Le[Wt]=0x1*-0x586+-0x17f5*0x1+0x1d7f,Le[is]=-0x2095*0x1+-0x1*0x2621+-0x3b9*-0x13,Le[ba]=-0x2*-0x97a+0x184*-0x3+0x7*-0x20e,Le[wl]=0x26b2+0x6f5+-0x2da0,Le[El]=-0x26a*-0xa+-0xda1*-0x1+-0x25bd,Le[bl]=0x20dd*-0x1+-0xc93+0x1*0x2d79,Le[Al]=-0x59*-0x61+0x2*0x1228+0xb5*-0x63,Le[Cl]=0xfc+-0x3*0x611+0x1142,Le[Pl]=-0x1d7+-0x6c1+-0x4*-0x229,Le[yi]=0x31*0x9e+0xa54+-0x2885,Le[Jf]=0x1*0x141e+0x22f8+0x1*-0x3716,Le[uh]=-0x1a4d+-0xfa0+0x29ee,Le[Ap]=0x22a5*-0x1+-0x1a79+0x3d20,Le[Cp]=0xec*0x3+0xe5a+0x97*-0x1d,Le[Pp]=0x4e*0xb+0x2594+-0x28ea,Le[Rx]=-0xb1f+-0x8*-0xf3+0x38c,Le[Ox]=-0xa2c+0xc0b*-0x1+0x163d,Le[Fx]=-0x130d*0x1+0x2475+-0x1161,Le[Ko]=-0x118d+-0xdd*-0x23+-0xca2,Le[Zo]=0xeaa+-0xd*-0x73+-0x5*0x418,Le[Nx]=0x2051+0x205d*0x1+-0x2a*0x18a,Le[Mp]=-0x1d81+-0x2*-0x1347+0x1*-0x902,Le[Dp]=0xb5e+-0x43*-0x60+0x3*-0xc26,Le[ph]=0x1537*-0x1+-0x4a7+0x19eb,Le[Ip]=0xd71+-0x2dc+-0x31*0x37,Le[Ln]=-0x121d*-0x2+-0x49*0x35+-0x150e;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x127a+0x1be7+-0x1*0x2e61;}static['pushGpuMar'+'ker'](_0x2095e0,_0x12921f){mr['markers']['push'](_0x12921f),_0x2095e0['pushMarker'](_0x12921f);}static['popGpuMark'+'er'](_0x1889be){mr['markers']['length']&&mr['markers']['pop'](),_0x1889be['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0x5de+0x231c+-0x28fa;class Td{constructor(_0x510e66,_0x114e66){h(this,'slot',-(0x4*-0x403+-0x1*0x1615+0x2622)),h(this,'scopeId',null),(this['name']=_0x510e66,this['visibility']=_0x114e66);}}class kp extends Td{}class fT extends Td{constructor(_0xed16dc,_0x1f31fa,_0x507b2e=!(0x2bf+-0x8b*0xa+0x2b0)){super(_0xed16dc,_0x1f31fa),h(this,'format',''),(this['readOnly']=_0x507b2e,w['assert'](_0x507b2e||!(_0x1f31fa&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x548d0,_0x39f295,_0x4a016e=xy,_0xbe2e80=zx,_0x5df10c=!(-0x1445*0x1+0x191b*0x1+-0x2*0x26b),_0x48abc5=null){super(_0x548d0,_0x39f295),this['textureDim'+'ension']=_0x4a016e,this['sampleType']=_0xbe2e80,this['hasSampler']=_0x5df10c,this['samplerNam'+'e']=_0x48abc5??_0x548d0+'_sampler';}}class uT extends Td{constructor(_0x12aec5,_0x58fecc=Ne,_0x4e3102=xy,_0x1e21b0=!(0x2231+-0x266f+0x43e),_0x466ad4=!(-0x171+-0x257*0xe+0x2234)){super(_0x12aec5,nT),this['format']=_0x58fecc,this['textureDim'+'ension']=_0x4e3102,this['write']=_0x1e21b0,this['read']=_0x466ad4;}}class Ny{constructor(_0x2f675e,_0x2b1635){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x2b1635));let _0x910b90=0x3*0xbc5+0x15ac+-0x38fb;_0x2b1635['forEach'](_0x1a25e1=>{_0x1a25e1['slot']=_0x910b90++,_0x1a25e1 instanceof Gm&&_0x1a25e1['hasSampler']&&_0x910b90++,_0x1a25e1 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x1a25e1):_0x1a25e1 instanceof Gm?this['textureFor'+'mats']['push'](_0x1a25e1):_0x1a25e1 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x1a25e1):_0x1a25e1 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x1a25e1):w['assert']('Invalid\x20bi'+'nd\x20format',_0x1a25e1);}),this['device']=_0x2f675e;const _0x2fb9bd=_0x2f675e['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x1794f5,_0x5c65f2)=>this['bufferForm'+'atsMap']['set'](_0x1794f5['name'],_0x5c65f2)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x2c1ddc,_0x536b15)=>{this['textureFor'+'matsMap']['set'](_0x2c1ddc['name'],_0x536b15),_0x2c1ddc['scopeId']=_0x2fb9bd['resolve'](_0x2c1ddc['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x57bef4,_0x31cb01)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x57bef4['name'],_0x31cb01),_0x57bef4['scopeId']=_0x2fb9bd['resolve'](_0x57bef4['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x431db7,_0x28b914)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x431db7['name'],_0x28b914),_0x431db7['scopeId']=_0x2fb9bd['resolve'](_0x431db7['name']);}),this['impl']=_0x2f675e['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x4f19ab){const _0x293450=this['textureFor'+'matsMap']['get'](_0x4f19ab);return _0x293450!==void(-0x36f+0x1f63+0x6fd*-0x4)?this['textureFor'+'mats'][_0x293450]:null;}['getStorage'+'Texture'](_0x24536c){const _0x302112=this['storageTex'+'tureFormat'+'sMap']['get'](_0x24536c);return _0x302112!==void(0x115c*-0x2+-0x14a5*0x1+0x375d)?this['storageTex'+'tureFormat'+'s'][_0x302112]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x4a6528,_0x52414a){return this['_cache']['has'](_0x4a6528)||(this['_cache']['set'](_0x4a6528,_0x52414a()),_0x4a6528['on']('destroy',()=>{this['remove'](_0x4a6528);}),_0x4a6528['on']('devicelost',()=>{var _0x45c9ca,_0x4b9b87;(_0x4b9b87=(_0x45c9ca=this['_cache']['get'](_0x4a6528))==null?void(-0x1101+-0xe57+0x4*0x7d6):_0x45c9ca['loseContex'+'t'])==null||_0x4b9b87['call'](_0x45c9ca,_0x4a6528);})),this['_cache']['get'](_0x4a6528);}['remove'](_0x3cad41){var _0x424707,_0x6de4ce;(_0x6de4ce=(_0x424707=this['_cache']['get'](_0x3cad41))==null?void(-0x19d5+0x5*-0x315+0x149f*0x2):_0x424707['destroy'])==null||_0x6de4ce['call'](_0x424707,_0x3cad41),this['_cache']['delete'](_0x3cad41);}}class Xi{static['calcLevelD'+'imension'](_0x565c5c,_0xbb03c5){return Math['max'](_0x565c5c>>_0xbb03c5,0x1394+-0x1*0x59+-0xd6*0x17);}static['calcMipLev'+'elsCount'](_0x32cdb8,_0x1ec699,_0x561489=0x7*-0x432+-0x25d2*-0x1+-0x873){return-0x104a+0x1*-0x139d+0x23e8+Math['floor'](Math['log2'](Math['max'](_0x32cdb8,_0x1ec699,_0x561489)));}static['calcLevelG'+'puSize'](_0x17af9f,_0x528bf1,_0x3e4205,_0x39b29f){var _0x3f7d3f;const _0x4b9158=Nt['get'](_0x39b29f);w['assert'](_0x4b9158!==void(-0x498+0x1ac1*-0x1+0x645*0x5),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x39b29f);const _0x49b0e9=((_0x3f7d3f=Nt['get'](_0x39b29f))==null?void(0x39*-0xad+0x3b*-0x16+0x2b97*0x1):_0x3f7d3f['size'])??0x55b*-0x5+-0x227+-0x7*-0x422;if(_0x49b0e9>0xf*-0x85+-0x176d+0x14d*0x18)return _0x17af9f*_0x528bf1*_0x3e4205*_0x49b0e9;const _0x33c185=_0x4b9158['blockSize']??0x156b*-0x1+0x257c+-0x9*0x1c9;let _0x181f45=Math['floor']((_0x17af9f+(0x1eb7*-0x1+0x15b*-0x17+0x17*0x2b1))/(-0x9*-0x136+0xb00+0xaf1*-0x2));const _0x20167f=Math['floor']((_0x528bf1+(0xd65*0x1+0x1189+-0x1eeb*0x1))/(0x1*-0x2281+0x64d+0x1c38)),_0xa614b0=Math['floor']((_0x3e4205+(-0x115*0x11+0xac2*0x2+-0x31c))/(-0x11e3*-0x2+0x1a9+-0x256b*0x1));return(_0x39b29f===xl||_0x39b29f===Tl)&&(_0x181f45=Math['max'](Math['floor'](_0x181f45/(-0xbe8+0x13c4+-0xf*0x86)),0x1*-0xa11+-0x32*-0x9f+-0x14fc)),_0x181f45*_0x20167f*_0xa614b0*_0x33c185;}static['calcGpuSiz'+'e'](_0x48b70b,_0x523e70,_0x5b4c78,_0x4fc832,_0x99755,_0x31d842){let _0x39bcaa=-0x47b+-0x2*-0xf37+-0x19f3;for(;_0x39bcaa+=Xi['calcLevelG'+'puSize'](_0x48b70b,_0x523e70,_0x5b4c78,_0x4fc832),!(!_0x99755||_0x48b70b===0x2710+-0x175*-0xb+-0x3716&&_0x523e70===0x2*-0xc8c+-0xf6d*-0x1+0x2*0x4d6&&_0x5b4c78===0x2*-0xde4+0x17f6+0x3d3);)_0x48b70b=Math['max'](_0x48b70b>>0x4*-0x7fe+0x95*0x3b+0x6*-0x65,-0x1658+-0xe*0x151+0x28c7),_0x523e70=Math['max'](_0x523e70>>-0x1cfa+0x1c19*-0x1+0x3914,0x3*0x133+-0xe*0x93+-0x2*-0x239),_0x5b4c78=Math['max'](_0x5b4c78>>-0x25c7+-0x1ef3*0x1+0x44bb,-0x21f2+0x13f5+0xdfe);return _0x39bcaa*(_0x31d842?-0x12b3+0x189b*0x1+-0x2f1*0x2:0x2073+0x488+-0x24fa);}}let pT=-0x44a+0x2188+-0x1d3e;class _e{constructor(_0x408267,_0x39cf5c={}){h(this,'name'),h(this,'_gpuSize',-0x1*0x1d21+-0xf6d+0x2c8e),h(this,'id',pT++),h(this,'_invalid',!(0x26f0+0x23d*0x3+-0x2da6)),h(this,'_lockedLev'+'el',-(0x77*0x5+-0x16a0+0x2e*0x71)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0xd+-0x54d*0x2+0xa8d),h(this,'_storage',!(-0xf4*-0xd+-0x1a1*-0x15+-0x2e98)),h(this,'_numLevels',-0xd99+-0x3c8+0x1161),h(this,'_numLevels'+'Requested');var _0x191171;this['device']=_0x408267,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x39cf5c['width']||Number['isInteger'](_0x39cf5c['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x39cf5c),w['assert'](!_0x39cf5c['height']||Number['isInteger'](_0x39cf5c['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x39cf5c),w['assert'](!_0x39cf5c['depth']||Number['isInteger'](_0x39cf5c['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x39cf5c),this['name']=_0x39cf5c['name']??'',this['_width']=Math['floor'](_0x39cf5c['width']??-0x174e+-0x2112+0x3*0x12cc),this['_height']=Math['floor'](_0x39cf5c['height']??-0xb39*0x1+0x1526+-0x2b*0x3b),this['_format']=_0x39cf5c['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x39cf5c['minFilter']=Te,_0x39cf5c['magFilter']=Te),this['_volume']=_0x39cf5c['volume']??!(0x1da8+0x2*-0xe4b+0x111*-0x1),this['_depth']=Math['floor'](_0x39cf5c['depth']??0x1c60+0x1*0x4d9+0x109c*-0x2),this['_arrayLeng'+'th']=Math['floor'](_0x39cf5c['arrayLengt'+'h']??0x1f2e+-0x1*-0x1e1d+-0xdd*0x47),this['_storage']=_0x39cf5c['storage']??!(0x223+0x203e+-0x2260),this['_cubemap']=_0x39cf5c['cubemap']??!(0x2677+-0x3*0xcf4+0x66),this['_flipY']=_0x39cf5c['flipY']??!(0x2562+-0x7d*0x49+-0x1bc),this['_premultip'+'lyAlpha']=_0x39cf5c['premultipl'+'yAlpha']??!(-0x1*-0x13dd+0x2*-0xf16+0xa50),this['_mipmaps']=_0x39cf5c['mipmaps']??!(-0x1922+0x2395*-0x1+0x3cb7),this['_numLevels'+'Requested']=_0x39cf5c['numLevels'],_0x39cf5c['numLevels']!==void(0x1d7+-0x6bb*0x3+-0x9*-0x20a)&&(this['_numLevels']=_0x39cf5c['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x39cf5c['minFilter']??ma,this['_magFilter']=_0x39cf5c['magFilter']??vt,this['_anisotrop'+'y']=_0x39cf5c['anisotropy']??-0x1726+-0x1*-0x1597+0x190,this['_addressU']=_0x39cf5c['addressU']??yt,this['_addressV']=_0x39cf5c['addressV']??yt,this['_addressW']=_0x39cf5c['addressW']??yt,this['_compareOn'+'Read']=_0x39cf5c['compareOnR'+'ead']??!(0x8cd*0x3+-0x21a3+0x73d),this['_compareFu'+'nc']=_0x39cf5c['compareFun'+'c']??hh,this['_type']=_0x39cf5c['type']??Ds,w['assert'](!_0x39cf5c['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x39cf5c['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x39cf5c['projection']&&_0x39cf5c['projection']!==tu&&(this['projection']=_0x39cf5c['projection']),this['profilerHi'+'nt']=_0x39cf5c['profilerHi'+'nt']??-0x55*-0x19+0x1743+-0x1f90,this['_levels']=_0x39cf5c['levels'];const _0x3685fd=!!_0x39cf5c['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x3685fd),_0x408267['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x191171=Nt['get'](this['format']))==null?void(0x427+0x13a7+-0x17ce):_0x191171['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2f6138=this['device'];if(_0x2f6138){const _0x3cc3cf=_0x2f6138['textures']['indexOf'](this);_0x3cc3cf!==-(0x171d+0x83*-0x1d+-0x845)&&_0x2f6138['textures']['splice'](_0x3cc3cf,0xad+0x818+-0x8c4),_0x2f6138['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2f6138),this['adjustVram'+'SizeTracki'+'ng'](_0x2f6138['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x3f3d9a=!(0x1*-0x1dfb+-0xf22+0x2d1d)){var _0x5ae5ca;const {device:_0x4f15cf}=this;(_0x5ae5ca=this['impl'])==null||_0x5ae5ca['destroy'](_0x4f15cf),this['impl']=null,this['impl']=_0x4f15cf['createText'+'ureImpl'](this),this['dirtyAll'](),_0x3f3d9a&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x1f6eac,_0x53e88c,_0xde76ac=-0x1*-0x25ab+-0x158f*0x1+-0xd9*0x13){const _0x240edd=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x240edd['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x240edd),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x1f6eac),this['_height']=Math['floor'](_0x53e88c),this['_depth']=Math['floor'](_0xde76ac),this['_updateNum'+'Level'](),this['impl']=_0x240edd['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x1a8519,_0x811a0f){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x811a0f+('\x20vram.text'+'ure:\x20')+_0x1a8519['tex']+'\x20=>\x20'+(_0x1a8519['tex']+_0x811a0f)),_0x1a8519['tex']+=_0x811a0f,this['profilerHi'+'nt']===eu?_0x1a8519['texShadow']+=_0x811a0f:this['profilerHi'+'nt']===Pr?_0x1a8519['texAsset']+=_0x811a0f:this['profilerHi'+'nt']===vy&&(_0x1a8519['texLightma'+'p']+=_0x811a0f);}['propertyCh'+'anged'](_0x2f0ae3){this['impl']['propertyCh'+'anged'](_0x2f0ae3),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x20027f=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x1*-0x217e+-0xc95+-0x14e8,_0xc8b26d=this['_numLevels'+'Requested'];_0xc8b26d!==void(0x19bd+-0x20fc+0x73f)&&_0xc8b26d>_0x20027f&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x20027f,this),this['_numLevels']=Math['min'](_0xc8b26d??_0x20027f,_0x20027f),this['_mipmaps']=this['_numLevels']>-0x286*0xe+0x1*0x22db+0x7a;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x3189ef){this['_minFilter']!==_0x3189ef&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x3189ef,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x593a9d){this['_magFilter']!==_0x593a9d&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x593a9d,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x4c8346){this['_addressU']!==_0x4c8346&&(this['_addressU']=_0x4c8346,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x56ae56){this['_addressV']!==_0x56ae56&&(this['_addressV']=_0x56ae56,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x42d98b){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x42d98b!==this['_addressW']&&(this['_addressW']=_0x42d98b,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x3abadc){this['_compareOn'+'Read']!==_0x3abadc&&(this['_compareOn'+'Read']=_0x3abadc,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x4158cc){this['_compareFu'+'nc']!==_0x4158cc&&(this['_compareFu'+'nc']=_0x4158cc,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x5c5364){this['_anisotrop'+'y']!==_0x5c5364&&(this['_anisotrop'+'y']=_0x5c5364,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x54340c){this['_mipmaps']!==_0x54340c&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x54340c,_0x54340c&&(this['_needsMipm'+'apsUpload']=!(0x98c+0x1445+-0x1dd1)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x2d7be4=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x2*0x50b+-0xdd7+0x3c2);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x2d7be4,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0xad1*-0x3+-0x17e*0x13+0x1*-0x419;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x43e289){this['_type']!==_0x43e289&&(this['_type']=_0x43e289,this['device']['_shadersDi'+'rty']=!(-0x73*0xf+0x4*0x755+0x1*-0x1697));}get['type'](){return this['_type'];}set['srgb'](_0x1df995){var _0x2ea9d1,_0x4ca2dd,_0x45067f,_0x108ddd;const _0x3a261f=fh(this['format']);if(_0x1df995!==_0x3a261f){if(_0x1df995){const _0x1e71f1=ld(this['format']);this['_format']!==_0x1e71f1&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x2ea9d1=Nt['get'](this['format']))==null?void(0x1*-0x2ce+0xba5*-0x3+0x25bd):_0x2ea9d1['name'])+'\x20->\x20'+((_0x4ca2dd=Nt['get'](_0x1e71f1))==null?void(0x2d0+0x411+-0x6e1):_0x4ca2dd['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1e71f1,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1195+-0x8*0x16f+0x1d0d));}else{const _0x1f625f=Lx(this['format']);this['_format']!==_0x1f625f&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x45067f=Nt['get'](this['format']))==null?void(0x1a6b*0x1+-0x919*-0x1+-0x2384):_0x45067f['name'])+'\x20->\x20'+((_0x108ddd=Nt['get'](_0x1f625f))==null?void(0x3*-0x51c+-0xc74+0x1bc8):_0x108ddd['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1f625f,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x6ac+-0x1*-0x1bf4+-0x1548));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x2a47a3){this['_flipY']!==_0x2a47a3&&(this['_flipY']=_0x2a47a3,this['_needsUplo'+'ad']=!(-0x1282+-0x3*-0x1e4+-0x3e*-0x35));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x108c3b){this['_premultip'+'lyAlpha']!==_0x108c3b&&(this['_premultip'+'lyAlpha']=_0x108c3b,this['_needsUplo'+'ad']=!(0x6d5*0x5+-0x52e+-0x1cfb));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x167e+0x17*-0x15d+0x8dd*0x1),!(-0x9*0x285+0x1f47+-0x44d*0x2),!(0x255b+-0xa41+-0x1b1a),!(0xc22*0x3+0x2532*0x1+0x4*-0x1266),!(-0x322*0x4+-0x225f+0x1*0x2ee7),!(0x91b+-0x16d0+0xdb5)]]:[!(-0x19aa+0x110c*-0x2+0x1de1*0x2)],this['_needsUplo'+'ad']=!(-0x2d3*0x9+-0xae*-0x1a+0x7bf),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x158+0x142b+-0x1582),this['propertyCh'+'anged'](lT);}['lock'](_0x50a0b1={}){_0x50a0b1['level']??(_0x50a0b1['level']=-0xa*0x149+-0x805*0x4+0x2cee),_0x50a0b1['face']??(_0x50a0b1['face']=0x1*-0x27b+0xed*-0x13+0x1412),_0x50a0b1['mode']??(_0x50a0b1['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x50a0b1['mode']===yy||_0x50a0b1['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x50a0b1['mode'],this['_lockedLev'+'el']=_0x50a0b1['level'];const _0x5b3ece=this['cubemap']?this['_levels'][_0x50a0b1['face']]:this['_levels'];if((_0x5b3ece==null?void(0x1419+0x1ef2+-0x330b):_0x5b3ece[_0x50a0b1['level']])===null){const _0x4b0cb6=Math['max'](0xb2b+-0x4c7*0x2+0x4*-0x67,this['_width']>>_0x50a0b1['level']),_0x2330f2=Math['max'](-0x124+-0x2147*0x1+0x226c,this['_height']>>_0x50a0b1['level']),_0x4899f5=Math['max'](-0x6*0x1b5+-0x1ef4+0x2933,this['_depth']>>_0x50a0b1['level']),_0xfbb1e=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x4b0cb6,_0x2330f2,_0x4899f5,this['_format']));_0x5b3ece[_0x50a0b1['level']]=new(my(this['_format']))(_0xfbb1e);}return _0x5b3ece==null?void(-0xfee*0x1+0xb50+0x49e):_0x5b3ece[_0x50a0b1['level']];}['setSource'](_0x24a60e,_0x50bfe1=-0x2a7*0x5+0x68e+0x65*0x11){let _0x5a7252=!(-0x1*-0x70a+-0x212a+0x1a21),_0x376ca8,_0x2e627d;if(this['_cubemap']){if(_0x24a60e[-0x1d69*-0x1+-0x5*0x5d9+-0x2c]){_0x376ca8=_0x24a60e[0x22ca+-0x2*-0xc75+-0x1*0x3bb4]['width']||0xc0f+-0x1b05*-0x1+-0x9c5*0x4,_0x2e627d=_0x24a60e[0xd95+-0x25f4+0x185f]['height']||-0x61f*0x3+-0x130+0x138d;for(let _0x469e5c=-0x1c1f+0xd3+0x1b4c;_0x469e5c<-0x3b5*-0x1+0x2*0xb57+-0x1a5d*0x1;_0x469e5c++){const _0x5898c9=_0x24a60e[_0x469e5c];if(!_0x5898c9||_0x5898c9['width']!==_0x376ca8||_0x5898c9['height']!==_0x2e627d||!this['device']['_isBrowser'+'Interface'](_0x5898c9)){_0x5a7252=!(0x104*-0x1+-0x1*-0x5d2+-0x267*0x2);break;}}}else _0x5a7252=!(-0x1*-0x1490+-0x2*-0x12d6+-0x3a3c);if(!_0x5a7252){for(let _0x2403f5=-0x22a8+0x2*-0x67f+0x2fa6;_0x2403f5<0x653+0x1b*0xfc+0x13*-0x1bb;_0x2403f5++)this['_levels'][_0x50bfe1][_0x2403f5]!==_0x24a60e[_0x2403f5]&&(this['_levelsUpd'+'ated'][_0x50bfe1][_0x2403f5]=!(0x1*-0xa0f+0x230+-0x1*-0x7df));}}else this['device']['_isBrowser'+'Interface'](_0x24a60e)||(_0x5a7252=!(0x4d*-0x3b+-0xe3c+0x1ffb)),_0x5a7252||(_0x24a60e!==this['_levels'][_0x50bfe1]&&(this['_levelsUpd'+'ated'][_0x50bfe1]=!(-0x1*0x2565+-0x24d9*-0x1+0x8c)),_0x24a60e instanceof HTMLVideoElement?(_0x376ca8=_0x24a60e['videoWidth'],_0x2e627d=_0x24a60e['videoHeigh'+'t']):(_0x376ca8=_0x24a60e['width'],_0x2e627d=_0x24a60e['height']));if(_0x5a7252){if(this['_width']=0x232b+0x96e+-0x2c95,this['_height']=-0xe90+0xac*-0x37+0x3388,this['_cubemap']){for(let _0xc7d50f=-0x1730+0x9*-0x2a1+-0x43*-0xb3;_0xc7d50f<0x1a*0x137+0x13c5+-0x3355;_0xc7d50f++)this['_levels'][_0x50bfe1][_0xc7d50f]=null,this['_levelsUpd'+'ated'][_0x50bfe1][_0xc7d50f]=!(0x1*-0x2169+-0x4*0x281+0x1*0x2b6d);}else this['_levels'][_0x50bfe1]=null,this['_levelsUpd'+'ated'][_0x50bfe1]=!(-0x1640+-0xdd8+0x2418);}else _0x50bfe1===-0x186a+0x3f6+0x1474&&(this['_width']=_0x376ca8,this['_height']=_0x2e627d),this['_levels'][_0x50bfe1]=_0x24a60e;(this['_invalid']!==_0x5a7252||!_0x5a7252)&&(this['_invalid']=_0x5a7252,this['upload']());}['getSource'](_0x5687fe=0x1*-0x210e+0xdc9*0x1+0x1345){return this['_levels'][_0x5687fe];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x265d+-0x948+0x2fa6),this['_lockedMod'+'e']=$l;}['upload'](){var _0x3aded5,_0x816200;this['_needsUplo'+'ad']=!(-0x1*-0x1937+-0x231+-0x1706),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x816200=(_0x3aded5=this['impl'])['uploadImme'+'diate'])==null||_0x816200['call'](_0x3aded5,this['device'],this);}['read'](_0x1e05e1,_0x49c318,_0x311b2f,_0xd6f244,_0x113959={}){var _0x22404d,_0x2479ec;return(_0x2479ec=(_0x22404d=this['impl'])['read'])==null?void(-0x135*-0x1d+-0x241b+0x3*0x5e):_0x2479ec['call'](_0x22404d,_0x1e05e1,_0x49c318,_0x311b2f,_0xd6f244,_0x113959);}['write'](_0x18a78e,_0x1a5a66,_0x171dd2,_0x47a53,_0x40d6f9){var _0x266a78,_0x58c8c7;return(_0x58c8c7=(_0x266a78=this['impl'])['write'])==null?void(0x1154+0x25c9+-0x371d):_0x58c8c7['call'](_0x266a78,_0x18a78e,_0x1a5a66,_0x171dd2,_0x47a53,_0x40d6f9);}}const mT={'white':[0x1f7*0x13+0x2667+0x4abd*-0x1,0xd97+-0x164f+0x9b7,0x1*0x399+-0x14f*0x18+-0x3*-0x99a,-0x147a+0x6*0x3e5+-0x5*0x61],'gray':[0x2342+-0xdad+0x303*-0x7,-0x584+-0xcc+0x6d0,-0x12db+0x16a4+0x1*-0x349,0x1*-0x1c4+0x57b+-0x2b8],'black':[0x2099+-0x2644+0x5ab,-0x170+-0x258a+0x26fa,-0x3f*0x4e+0x10*-0x248+-0x37b2*-0x1,-0x775+-0x2535+0x2da9],'normal':[0x7c3+0xf1+0xd2*-0xa,-0x1e08+-0x2338+0x41c0,0xbd*-0x21+0x335*-0x1+0x1c91,-0x8da+0x269f+0x1cc6*-0x1],'pink':[0xa43+-0x1af4+0x11b0,-0xa*-0x2e3+-0xf5b*-0x1+-0x15*0x215,-0x206*0xe+-0x491*-0x7+-0x2a4,0x1dcf+0x2086+-0x6*0xa39]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3331df=>{_0x3331df['destroy']();});}}const gT=new Kt(),fa=(_0x543168,_0x1fb0c8)=>{const _0x5d2cda=gT['get'](_0x543168,()=>new _T());if(!_0x5d2cda['map']['has'](_0x1fb0c8)){const _0x46c01a=new _e(_0x543168,{'name':'built-in-t'+'exture-'+_0x1fb0c8,'width':0x1,'height':0x1,'format':Ne}),_0x1fb5a3=_0x46c01a['lock'](),_0x462119=mT[_0x1fb0c8];w['assert'](_0x462119,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x1fb0c8+('\x27\x20not\x20foun'+'d')),_0x1fb5a3['set'](_0x462119),_0x46c01a['unlock'](),_0x5d2cda['map']['set'](_0x1fb0c8,_0x46c01a);}return _0x5d2cda['map']['get'](_0x1fb0c8);};let ST=0x185b+0x403*-0x1+0x3e*-0x54;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x180662,_0x1088f8,_0xdc219e){h(this,'renderVers'+'ionUpdated',-(-0x1b*0x13d+0x1c50+-0x10*-0x52)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x180662,this['format']=_0x1088f8,this['dirty']=!(0x2602+0x5e3+-0x2be5),this['impl']=_0x180662['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0xdc219e,_0xdc219e&&this['setUniform'+'Buffer'](Np,_0xdc219e),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x1088f8));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0xd0b55b,_0x5672d5){const _0x2e4132=this['format']['bufferForm'+'atsMap']['get'](_0xd0b55b);w['assert'](_0x2e4132!==void(0x3aa+0x2*-0x7ac+-0x12b*-0xa),'Setting\x20a\x20'+'uniform\x20['+_0xd0b55b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x2e4132]!==_0x5672d5&&(this['uniformBuf'+'fers'][_0x2e4132]=_0x5672d5,this['dirty']=!(-0x6*0x3d2+0x1*0x689+0x1063));}['setStorage'+'Buffer'](_0x18c3b0,_0x5ee9bd){const _0x219a6f=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x18c3b0);w['assert'](_0x219a6f!==void(0x3*-0x490+0x1b96*0x1+0xde6*-0x1),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x18c3b0+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x219a6f]!==_0x5ee9bd&&(this['storageBuf'+'fers'][_0x219a6f]=_0x5ee9bd,this['dirty']=!(-0x1e59+0x4b*0x1a+0x16bb*0x1));}['setTexture'](_0x597341,_0x2fcf7f){const _0x3eccff=this['format']['textureFor'+'matsMap']['get'](_0x597341);w['assert'](_0x3eccff!==void(-0x1a23+-0x26d0+0x40f3),'Setting\x20a\x20'+'texture\x20['+_0x597341+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x3eccff]!==_0x2fcf7f?(this['textures'][_0x3eccff]=_0x2fcf7f,this['dirty']=!(-0x1350+-0x16*0xc3+0x2412)):this['renderVers'+'ionUpdated']<_0x2fcf7f['renderVers'+'ionDirty']&&(this['dirty']=!(-0xb21+-0x2a*0x3a+0x14a5));}['setStorage'+'Texture'](_0x4156d1,_0x1b3b14){const _0x3100b4=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x4156d1);w['assert'](_0x3100b4!==void(0x970+-0x45f+-0x511),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x4156d1+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x3100b4]!==_0x1b3b14?(this['storageTex'+'tures'][_0x3100b4]=_0x1b3b14,this['dirty']=!(0x8e9+-0x1*0x392+0x1*-0x557)):this['renderVers'+'ionUpdated']<_0x1b3b14['renderVers'+'ionDirty']&&(this['dirty']=!(0x918+-0xbc*-0x8+-0xef8));}['updateUnif'+'ormBuffers'](){for(let _0x28825b=0x53+-0x608*-0x4+-0x1873;_0x28825b<this['uniformBuf'+'fers']['length'];_0x28825b++)this['uniformBuf'+'fers'][_0x28825b]['update']();}['update'](){const {textureFormats:_0xa61c6e,storageTextureFormats:_0x18fc6b,storageBufferFormats:_0x197acd}=this['format'];for(let _0x2a429d=-0x2484+-0x2*-0x10e7+0x2b6;_0x2a429d<_0xa61c6e['length'];_0x2a429d++){const _0x4f4241=_0xa61c6e[_0x2a429d];let _0x488cc7=_0x4f4241['scopeId']['value'];_0x488cc7||(_0x4f4241['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x488cc7=fa(this['device'],'white')),_0x4f4241['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x488cc7=fa(this['device'],'pink')),_0x488cc7||(w['errorOnce']('Texture\x20'+_0x4f4241['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x488cc7=fa(this['device'],'pink'))),this['setTexture'](_0x4f4241['name'],_0x488cc7);}for(let _0x11f780=0x16*0xcb+0xd3*-0xf+-0x515*0x1;_0x11f780<_0x18fc6b['length'];_0x11f780++){const _0x44845f=_0x18fc6b[_0x11f780],_0x52e533=_0x44845f['scopeId']['value'];w['assert'](_0x52e533,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x44845f['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x44845f['name'],_0x52e533);}for(let _0x2ba713=-0xce4+0x5*-0x504+-0x4*-0x97e;_0x2ba713<_0x197acd['length'];_0x2ba713++){const _0x34b8d0=_0x197acd[_0x2ba713],_0x5500a8=_0x34b8d0['scopeId']['value'];w['assert'](_0x5500a8,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x34b8d0['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x34b8d0['name'],_0x5500a8);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x18a5e4=-0x996+-0x11*0x137+0x1e3d;_0x18a5e4<this['uniformBuf'+'fers']['length'];_0x18a5e4++){const _0x5688de=this['uniformBuf'+'fers'][_0x18a5e4];this['uniformBuf'+'ferOffsets'][_0x18a5e4]=_0x5688de['offset'],this['renderVers'+'ionUpdated']<_0x5688de['renderVers'+'ionDirty']&&(this['dirty']=!(0x10a*0x15+0x133e+-0x2910));}this['dirty']&&(this['dirty']=!(-0x2*0xf5c+0x9c*-0x2+0x25*0xdd),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x26e2e3,_0x312413,_0xd92d22,_0x52d880=0x1ed1+0x1*-0x17b4+-0x71c){return _0x26e2e3&~(_0x52d880<<_0xd92d22)|_0x312413<<_0xd92d22;},'get'(_0x128cd9,_0x5e11b1,_0x474075=0x218e+0x1e5d*0x1+-0x38d*0x12){return _0x128cd9>>_0x5e11b1&_0x474075;},'all'(_0xc4f1f,_0x4f59e8,_0x19f083=-0x13f*-0x1d+0x1c28+-0x1*0x404a){const _0x5ef4dc=_0x19f083<<_0x4f59e8;return(_0xc4f1f&_0x5ef4dc)===_0x5ef4dc;},'any'(_0x257c8a,_0x328b58,_0x47b63d=0x1f6a+-0x1f50+-0x19){return(_0x257c8a&_0x47b63d<<_0x328b58)!==-0x13f1+-0x219d+0x358e;}},Xl=0x47*0x2f+-0x294*0x9+-0x105*-0xa,ir=-0x10c7+0x64*-0x50+0x3016,Hm=0x2*0xfad+-0x13*0x184+-0x28e,Wm=-0x52a*-0x1+-0xc00+0x6d9,$m=0x2*-0x701+0x1aa7+-0xc9e,Xm=0x499*0x2+0x5*0x43f+-0x1e62,qm=0x689*-0x1+-0xb43*-0x2+-0xfef*0x1,jm=-0xd41+0x8*-0x476+0x3103,iu=0x25ab+-0x1*-0x5ba+0x1*-0x2b4f,Ym=-0x1be2+-0x1066*-0x1+0xb93,Km=-0x1cea*0x1+0x53*0x4d+0xf*0x45,Zm=0x2*-0xc80+-0x24a3+0x3dbc,Qm=0x1773+0x5*0x115+-0x1cc2,yT=-0xca4+0x460*-0x6+0x26f3*0x1,vT=iu,ri=class ri{constructor(_0x4493e7=!(-0x1219+-0x3ed+0x1*0x1607),_0x3fbb25=fs,_0x4ee661=Ft,_0x283cab=rp,_0x15eb51,_0x4f9ee2,_0x2404b0,_0x4ba808=!(-0x41*-0x7+-0x6*0x3e1+-0x1*-0x157f),_0x4bffbd=!(-0x26e3+0xb18+0x1bcb),_0x1965f6=!(0x64b+-0x1632+-0x3*-0x54d),_0x48ca72=!(-0x89*0x43+-0x1e7a+-0x1*-0x4255)){h(this,'target0',-0x18b2+0x2544+0x649*-0x2),(this['setColorBl'+'end'](_0x3fbb25,_0x4ee661,_0x283cab),this['setAlphaBl'+'end'](_0x15eb51??_0x3fbb25,_0x4f9ee2??_0x4ee661,_0x2404b0??_0x283cab),this['setColorWr'+'ite'](_0x4ba808,_0x4bffbd,_0x1965f6,_0x48ca72),this['blend']=_0x4493e7);}set['blend'](_0x12fd5b){this['target0']=qe['set'](this['target0'],_0x12fd5b?-0x269d+-0x2394+-0x4a32*-0x1:-0xd*-0x8+-0x3*-0x5db+-0x11f9*0x1,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x45322d,_0x2b552b,_0x2e545a){this['target0']=qe['set'](this['target0'],_0x45322d,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x2b552b,Wm,ir),this['target0']=qe['set'](this['target0'],_0x2e545a,$m,ir);}['setAlphaBl'+'end'](_0x5c2203,_0x110069,_0x2d0a75){this['target0']=qe['set'](this['target0'],_0x5c2203,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x110069,qm,ir),this['target0']=qe['set'](this['target0'],_0x2d0a75,jm,ir);}['setColorWr'+'ite'](_0x3a98a4,_0x59dd4d,_0x41b899,_0x6b4a41){this['redWrite']=_0x3a98a4,this['greenWrite']=_0x59dd4d,this['blueWrite']=_0x41b899,this['alphaWrite']=_0x6b4a41;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x24a3a7){this['target0']=qe['set'](this['target0'],_0x24a3a7?-0x3*-0xb6f+-0xd01+-0x154b:-0x3*-0xbc5+-0x261f+0x2d0,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x3bfa63){this['target0']=qe['set'](this['target0'],_0x3bfa63?0x9f7+-0x20a+-0xd*0x9c:-0x5*-0x5d1+0x11f3*0x2+-0x40fb,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0xd302c9){this['target0']=qe['set'](this['target0'],_0xd302c9?-0x2*-0xd4e+-0x9*-0x9+-0x1aec:0xcae*0x3+0x13ce+0x269*-0x18,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x1d108f){this['target0']=qe['set'](this['target0'],_0x1d108f?-0x449+-0x131d*-0x2+-0x21f0:-0x169*0xb+0x2b*-0x71+-0x227e*-0x1,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x3a8af6){return this['target0']=_0x3a8af6['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x24dae8){return this['target0']===_0x24dae8['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x1638+0x1795+-0x1*0x15d),void(-0x1d0f+-0xd6c+-0x2a7b*-0x1),void(0x13f5*-0x1+0x87*0x42+-0xed9*0x1),void(0x2*0x1387+0xdf*-0x17+-0x1305),void(0x11ac+0x2570*0x1+-0x371c),void(-0x1612+-0x469*-0x1+-0x21*-0x89),void(-0x3fb+-0x194+0x58f),!(-0x2292+0x1*0x441+0x1e52),!(-0xb68+0x201b+-0x14b2),!(0x80f+-0x7f1+-0x1d),!(-0x1087*-0x1+0x25f6+-0x367c)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0xaaa+0x4cc+-0x2*-0x2ef),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x20ef*-0x1+0x1*0xb57+-0x3*0xec2),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x2f*0x6a+0x4a*0x52+0x451*-0xa);}['get'](_0x4900dc){let _0x43868b=this['map']['get'](_0x4900dc);return _0x43868b===void(-0x3fc+-0x21b*0x3+-0x125*-0x9)&&(_0x43868b=this['id']++,this['map']['set'](_0x4900dc,_0x43868b)),_0x43868b;}}const xT=new Bp(),Jm=-0x2535+0x6fd*0x2+0x1742,e_=-0x199a+-0x11*0x19a+0x34d4,t_=-0x11f+-0xf7c+0x109e,_r=class _r{constructor(_0x25de6b=Wf,_0x3f4b96=!(-0x3*-0x2bd+-0x45f+-0x3d8)){h(this,'data',0x11*-0xf1+0x17e0+0x193*-0x5),h(this,'_depthBias',-0x1c89+-0xea1+0x2b2a),h(this,'_depthBias'+'Slope',0xbdf+-0x5f5*0x3+0x600),h(this,'key',0x4f*-0x1d+0xb*0x1c3+-0xa6e),(this['func']=_0x25de6b,this['write']=_0x3f4b96);}set['test'](_0x1b3b8e){this['func']=_0x1b3b8e?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x1ec4a4){this['data']=qe['set'](this['data'],_0x1ec4a4?-0x17db*0x1+0x9d3+0xe09:0x3*-0x75e+-0x13*-0x1dd+0x46f*-0x3,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x311293){this['data']=qe['set'](this['data'],_0x311293,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x203b10){this['_depthBias']=_0x203b10,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x5ad925){this['_depthBias'+'Slope']=_0x5ad925,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x594818){return this['data']=_0x594818['data'],this['_depthBias']=_0x594818['_depthBias'],this['_depthBias'+'Slope']=_0x594818['_depthBias'+'Slope'],this['key']=_0x594818['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x1c18cc,_depthBias:_0x2f878c,_depthBiasSlope:_0x263545}=this,_0x5c1412=_0x1c18cc+'-'+_0x2f878c+'-'+_0x263545;this['key']=xT['get'](_0x5c1412);}['equals'](_0x23fa2f){return this['key']===_0x23fa2f['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x7*-0x38d+-0x1d74+0x4f*0xb0)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(-0x13*0x45+0xd75+-0xb*0xc2))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x79f*0x2+-0x1f3e+0x100*0x10),h(this,'revision',-0x2*0x8d6+-0x2141*-0x1+-0xf95);}['equals'](_0x5035ec){return this['globalId']===_0x5035ec['globalId']&&this['revision']===_0x5035ec['revision'];}['copy'](_0xb0d7fb){this['globalId']=_0xb0d7fb['globalId'],this['revision']=_0xb0d7fb['revision'];}['reset'](){this['globalId']=0xde+-0x1*0x1f03+0x1e25,this['revision']=-0x1*0x21bd+-0x621*-0x1+0x1f*0xe4;}}let s_=0x1b2c+0x9fa+-0x2526;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x3cc949){this['name']=_0x3cc949,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x4bcfe1){}['setValue'](_0x2ddef8){this['value']=_0x2ddef8,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x22b353){this['name']=_0x22b353,this['variables']=new Map();}['resolve'](_0x5190d3){return this['variables']['has'](_0x5190d3)||this['variables']['set'](_0x5190d3,new wT(_0x5190d3)),this['variables']['get'](_0x5190d3);}['removeValu'+'e'](_0x46295c){for(const _0x5ac360 in this['variables']){const _0x4f0711=this['variables'][_0x5ac360];_0x4f0711['value']===_0x46295c&&(_0x4f0711['value']=null);}}}let bT=-0x1fe5+-0x1280+-0x3265*-0x1;class Is{constructor(_0x378c85,_0xc4f5f9,_0x477445,_0x3d9b21){h(this,'usage',ms),(w['assert'](arguments['length']<=0x18c1+-0x1186+-0x737&&(!_0x3d9b21||typeof _0x3d9b21=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x3d9b21==null?void(0x1*-0x1a75+0x973+0x1102):_0x3d9b21['usage'])??ms,this['device']=_0x378c85,this['format']=_0xc4f5f9,this['numVertice'+'s']=_0x477445,this['id']=bT++,this['impl']=_0x378c85['createVert'+'exBufferIm'+'pl'](this,_0xc4f5f9,_0x3d9b21),this['numBytes']=_0xc4f5f9['verticesBy'+'teSize']?_0xc4f5f9['verticesBy'+'teSize']:_0xc4f5f9['size']*_0x477445,this['adjustVram'+'SizeTracki'+'ng'](_0x378c85['_vram'],this['numBytes']));const _0x16d148=_0x3d9b21==null?void(-0x2e5+0x5bb*0x4+-0x1407*0x1):_0x3d9b21['data'];_0x16d148?this['setData'](_0x16d148):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x2a866b=this['device'],_0x5713d1=_0x2a866b['buffers']['indexOf'](this);_0x5713d1!==-(-0xc07+-0x2422+0x2*0x1815)&&_0x2a866b['buffers']['splice'](_0x5713d1,0x2*0x8f4+0x1a87+-0x2c6e*0x1),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x2a866b),this['adjustVram'+'SizeTracki'+'ng'](_0x2a866b['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x216546,_0x473d99){w['trace'](q0,this['id']+'\x20size:\x20'+_0x473d99+'\x20vram.vb:\x20'+_0x216546['vb']+'\x20=>\x20'+(_0x216546['vb']+_0x473d99)),_0x216546['vb']+=_0x473d99;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x1f2a08){return _0x1f2a08['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x1f2a08['byteLength']),!(-0x1b*0x7d+-0x26d7*-0x1+-0xb*0x255)):(this['storage']=_0x1f2a08,this['unlock'](),!(-0xd9*-0x11+-0x2038+0x11cf));}}function hi(_0x1b4368){if(_0x1b4368==null)return-0x4a+-0x736+0x780;let _0x6e2aba=-0x11*-0xa3+0x244e+-0x2f21;for(let _0x4561a4=-0xda3+-0x136+0x21f*0x7,_0x1f1b9a=_0x1b4368['length'];_0x4561a4<_0x1f1b9a;_0x4561a4++)_0x6e2aba=(_0x6e2aba<<0x863*-0x3+0x2179+-0x84b)-_0x6e2aba+_0x1b4368['charCodeAt'](_0x4561a4),_0x6e2aba|=0x25fc+-0x1e*-0x4e+0xbc8*-0x4;return _0x6e2aba;}function By(_0x1b9bfa){let _0x9542d3=-0x1c05c*-0x8f8d+0x4d5*-0x187f10+-0xc5d*0x5183;for(let _0x95e1f7=0x12d1*-0x1+-0x4*0xb3+0x159d;_0x95e1f7<_0x1b9bfa['length'];_0x95e1f7++)_0x9542d3^=_0x1b9bfa[_0x95e1f7],_0x9542d3*=0x14ef331+-0x24bb*0xa6d+-0xd37a7*-0x17;return _0x9542d3>>>0x3d*0x7+-0x9b9+0x80e*0x1;}const AT=new Bp(),CT=[0x8*-0x454+-0x1633+0x38d5,-0x101f*0x1+-0x277+0x129a*0x1,-0xc80*0x2+-0x1dc0+0x36c8,-0x266c+0xc60+0x1a18,-0xb40+0xa9*-0x1+0xbf9],PT=new Kt();class kt{constructor(_0xb2076f,_0x1e3cce,_0x434cbc){this['device']=_0xb2076f,this['_elements']=[],this['hasUv0']=!(-0x1*0x26ae+-0x258b+0x1*0x4c3a),this['hasUv1']=!(-0x1503+-0x157f+-0x1*-0x2a83),this['hasColor']=!(-0x1486+-0x87+0x150e),this['hasTangent'+'s']=!(0x481*-0x1+0x13b9+-0xf37),this['verticesBy'+'teSize']=0x7a9+-0x18ba+0x1111,this['vertexCoun'+'t']=_0x434cbc,this['interleave'+'d']=_0x434cbc===void(-0x1*-0x3b7+0x23b1+-0x2768),this['instancing']=!(-0x5b3+-0x92+0x16*0x49),this['size']=_0x1e3cce['reduce']((_0x23c391,_0x330d17)=>_0x23c391+Math['ceil'](_0x330d17['components']*No[_0x330d17['type']]/(-0x2*0x581+-0x1150+0x1c56))*(0x4e6*0x4+0x43f+-0x17d3),0x325*0x3+-0xd1d+-0x6*-0x9d);let _0x19e7d5=-0x1f5d+-0x106*0x20+0x3*0x155f,_0x41fd27;for(let _0xa3ab5b=-0x18c6+0xbff*0x2+0xc8,_0x3076fa=_0x1e3cce['length'];_0xa3ab5b<_0x3076fa;_0xa3ab5b++){const _0x510fa6=_0x1e3cce[_0xa3ab5b];_0x41fd27=_0x510fa6['components']*No[_0x510fa6['type']],w['assert'](kt['isElementV'+'alid'](_0xb2076f,_0x510fa6),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x510fa6['semantic']+'\x20:\x20'+cT[_0x510fa6['type']]+'\x20x\x20'+_0x510fa6['components']),_0x434cbc&&(_0x19e7d5=Y['roundUp'](_0x19e7d5,_0x41fd27),w['assert'](_0x41fd27%(0x2ae*-0x7+0x7f7+0xacf*0x1)===-0x3b3*-0x3+-0x10d6*0x2+-0x1*-0x1693,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x41fd27));const _0x12399c=_0x510fa6['asInt']??!(0x847*0x4+0x31*0xd+-0x2398),_0x11864d=_0x12399c?!(-0x178b+0xc89+0xb03):_0x510fa6['normalize']??!(-0x67*0x61+-0x885*-0x1+-0x49*-0x6b),_0x38ed9e={'name':_0x510fa6['semantic'],'offset':_0x434cbc?_0x19e7d5:_0x510fa6['hasOwnProp'+'erty']('offset')?_0x510fa6['offset']:_0x19e7d5,'stride':_0x434cbc?_0x41fd27:_0x510fa6['hasOwnProp'+'erty']('stride')?_0x510fa6['stride']:this['size'],'dataType':_0x510fa6['type'],'numComponents':_0x510fa6['components'],'normalize':_0x11864d,'size':_0x41fd27,'asInt':_0x12399c};this['_elements']['push'](_0x38ed9e),_0x434cbc?_0x19e7d5+=_0x41fd27*_0x434cbc:_0x19e7d5+=Math['ceil'](_0x41fd27/(0x1bb8+0x2*0x38b+-0x1*0x22ca))*(0xc49+0x73+-0x1*0xcb8),_0x510fa6['semantic']===is?this['hasUv0']=!(0x843+0x1eab+0x1c5*-0x16):_0x510fa6['semantic']===ba?this['hasUv1']=!(-0x1502+0xf*0x1b7+0x47*-0x11):_0x510fa6['semantic']===Wt?this['hasColor']=!(-0x6b*-0x2a+-0x6d8+-0xab6):_0x510fa6['semantic']===yi&&(this['hasTangent'+'s']=!(-0x6e6+0xa25*-0x3+0x2555));}_0x434cbc&&(this['verticesBy'+'teSize']=_0x19e7d5),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x4ebbd5){return PT['get'](_0x4ebbd5,()=>new kt(_0x4ebbd5,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x44baf4,_0x43117b){const _0x14364d=_0x43117b['components']*No[_0x43117b['type']];return!(_0x44baf4['isWebGPU']&&!CT['includes'](_0x14364d));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x30e605=[],_0x3c3e27=[],_0xff8360=this['_elements']['length'];for(let _0x48aeb4=-0x174*0x1+0x12a4+-0x1130;_0x48aeb4<_0xff8360;_0x48aeb4++){const {name:_0xcc126c,dataType:_0xe0ec78,numComponents:_0x35ca4d,normalize:_0x2217b8,offset:_0x3a35fb,stride:_0x3b6b64,size:_0x1f747f,asInt:_0x54f9c2}=this['_elements'][_0x48aeb4],_0x16ee8c=_0xcc126c+_0xe0ec78+_0x35ca4d+_0x2217b8+_0x54f9c2;_0x30e605['push'](_0x16ee8c);const _0x35cf0a=_0x16ee8c+_0x3a35fb+_0x3b6b64+_0x1f747f;_0x3c3e27['push'](_0x35cf0a);}_0x30e605['sort']();const _0x483361=_0x30e605['join']();this['batchingHa'+'sh']=hi(_0x483361),this['shaderProc'+'essingHash'+'String']=_0x483361,this['renderingH'+'ashString']=_0x3c3e27['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x2bb659={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x1dad+0x259d+-0x434a)),h(this,'_key'),(this['_func']=_0x2bb659['func']??Wi,this['_ref']=_0x2bb659['ref']??-0x1*-0xcb9+-0xb0e+-0x1ab,this['_readMask']=_0x2bb659['readMask']??0x1da5+0x24a1+-0x4147,this['_writeMask']=_0x2bb659['writeMask']??-0x2*0x10d+-0x1*0x2615+-0x15*-0x1f6,this['_fail']=_0x2bb659['fail']??xn,this['_zfail']=_0x2bb659['zfail']??xn,this['_zpass']=_0x2bb659['zpass']??xn,this['_evalKey']());}set['func'](_0x4248f9){this['_func']=_0x4248f9,this['_dirty']=!(0x24f7*0x1+-0x161+-0x5*0x71e);}get['func'](){return this['_func'];}set['ref'](_0xec0811){this['_ref']=_0xec0811,this['_dirty']=!(0x1265*0x2+0x4*-0x8b3+-0x1fe);}get['ref'](){return this['_ref'];}set['fail'](_0x3cb10f){this['_fail']=_0x3cb10f,this['_dirty']=!(-0x1db8+-0x161e+0x1*0x33d6);}get['fail'](){return this['_fail'];}set['zfail'](_0x41bae7){this['_zfail']=_0x41bae7,this['_dirty']=!(0x1a20+0x382*0x4+-0x2828);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x28a98e){this['_zpass']=_0x28a98e,this['_dirty']=!(0x4c5+0x26a7+-0x1c*0x18d);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x1ec0a1){this['_readMask']=_0x1ec0a1,this['_dirty']=!(-0x32d*-0xb+-0x1*0x6ad+-0x1c42);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x5b8cf4){this['_writeMask']=_0x5b8cf4,this['_dirty']=!(-0x6b5*-0x3+0x1c8d+-0x30ac);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x43da79,_ref:_0xec8e38,_fail:_0x39d8e5,_zfail:_0x5ac977,_zpass:_0x341d83,_readMask:_0x2895b5,_writeMask:_0x39d505}=this,_0x1327da=_0x43da79+','+_0xec8e38+','+_0x39d8e5+','+_0x5ac977+','+_0x341d83+','+_0x2895b5+','+_0x39d505;this['_key']=MT['get'](_0x1327da),this['_dirty']=!(0xf21+-0xf6b+0x4b);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x3e5e23){return this['_func']=_0x3e5e23['_func'],this['_ref']=_0x3e5e23['_ref'],this['_readMask']=_0x3e5e23['_readMask'],this['_writeMask']=_0x3e5e23['_writeMask'],this['_fail']=_0x3e5e23['_fail'],this['_zfail']=_0x3e5e23['_zfail'],this['_zpass']=_0x3e5e23['_zpass'],this['_dirty']=_0x3e5e23['_dirty'],this['_key']=_0x3e5e23['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x2657f3,_0x48331c){var _0xe205e5,_0x5a665c,_0x221c15,_0x11ce6b,_0x3b5b19,_0x30ab03;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x80*-0x2c+-0x102a+0x5d5*-0x1)),h(this,'isWebGPU',!(-0xe*-0xf7+0xdc3*0x1+-0x2ba*0xa)),h(this,'isWebGL2',!(-0x1307*0x1+-0xc3d+0x1f45)),h(this,'isHdr',!(-0x10a3+0x2*0xb2d+-0x11*0x56)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0x47a+0x1db5+0x1*-0x153b),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',-0x1*0xaf3+-0x1050+0x574*0x5),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x628+0x1*0xeb7+-0x88e),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0xa*0x1b3+-0x1f5f+0xe62)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x18fd*-0x1+0x1*0x2374+-0x2*0x53b)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x14*-0xae+-0x168e+-0x1*-0x2426),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0x796+-0x43*0x43+0x4*0x27d)),h(this,'supportsUn'+'iformBuffe'+'rs',!(-0x2414*0x1+-0x3*0x469+0x4*0xc54)),h(this,'supportsCl'+'ipDistance'+'s',!(0xd1a+-0x2*-0x1df+-0x10d7)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(0x22d*-0x3+0x1*0x2518+-0x1e90)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x24e3+0x1aa2+0x65*0x1a)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x527+-0x2*0x9d1+0x18ca)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x11*0x1cf+-0x26d+-0x1c52,-0x1a90+0x175e+0x332,0xeb7*-0x2+-0x1*0xa91+-0x3*-0xd55,-0x1717*0x1+0xa*-0x71+0x1b82],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0x2b4*0x1+0x2575+-0x22c0)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x2657f3,'setAttribu'+'te'in _0x2657f3&&_0x2657f3['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x48331c},(_0xe205e5=this['initOption'+'s'])['alpha']??(_0xe205e5['alpha']=!(0x9c*0x1c+0x3c2+-0xd*0x19a)),(_0x5a665c=this['initOption'+'s'])['depth']??(_0x5a665c['depth']=!(-0x2*-0x4eb+0x1861+0x1cd*-0x13)),(_0x221c15=this['initOption'+'s'])['stencil']??(_0x221c15['stencil']=!(0x2685+-0x83*-0x5+-0x2914)),(_0x11ce6b=this['initOption'+'s'])['antialias']??(_0x11ce6b['antialias']=!(0x1*0x399+-0x1*-0x1d16+0xae5*-0x3)),(_0x3b5b19=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x3b5b19['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x30ab03=this['initOption'+'s'])['displayFor'+'mat']??(_0x30ab03['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x1121*0x2+-0x6fb*0x1+-0x1b46,window['devicePixe'+'lRatio']):0x1*0x1923+-0x27*-0x2b+-0x1faf,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x452+0x22a6*-0x1+0x1e54,this['_shaderSwi'+'tchesPerFr'+'ame']=-0xc63+-0x9ac+0x160f,this['_primsPerF'+'rame']=[]);for(let _0x1426ac=cd;_0x1426ac<=oa;_0x1426ac++)this['_primsPerF'+'rame'][_0x1426ac]=-0x534*0x7+0x64e*-0x5+0x43f2;this['_renderTar'+'getCreatio'+'nTime']=0x1059*-0x2+0x35*-0x4+-0xe*-0x265,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x3*0x6ee+-0x628+0x1af2);}['postInit'](){const _0x304f7d=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x442620=new Float32Array([-(-0x16b*0xb+0xaa5+0x1a7*0x3),-(-0x19f2+-0x131*-0x9+0x2*0x79d),-0x20*-0x11+-0x1e26+0x1c07,-(-0x16ae+0x19*0x175+-0xdbe),-(0x54f+-0x245f+0x1*0x1f11),-0xbe1+0x1c6d+-0x108b,0x1f31+0x3a6*-0x3+0xa1f*-0x2,0x20f*0x11+0x15bf+-0x23*0x19f]);this['quadVertex'+'Buffer']=new Is(this,_0x304f7d,0x1ff*0x1+0x84*0x1d+-0x10ef,{'data':_0x442620});}['initCapsDe'+'fines'](){const {capsDefines:_0x5aee}=this;_0x5aee['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x5aee['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x5aee['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x39aa69,_0x58b021,_0x3dcd2e;this['fire']('destroy'),(_0x39aa69=this['quadVertex'+'Buffer'])==null||_0x39aa69['destroy'](),this['quadVertex'+'Buffer']=null,(_0x58b021=this['dynamicBuf'+'fers'])==null||_0x58b021['destroy'](),this['dynamicBuf'+'fers']=null,(_0x3dcd2e=this['gpuProfile'+'r'])==null||_0x3dcd2e['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x5cafe3){this['fire']('destroy:sh'+'ader',_0x5cafe3);const _0x22f48f=this['shaders']['indexOf'](_0x5cafe3);_0x22f48f!==-(-0x1e64*-0x1+-0x7c9*0x1+-0x169a)&&this['shaders']['splice'](_0x22f48f,-0x1450+-0x1b7d+0x2fce);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x426ab5;this['contextLos'+'t']=!(0x12b*0x1f+-0x822+-0x1c13),this['backBuffer'+'Size']['set'](-(0x9f5+0x1a26+0x2*-0x120d),-(0x736+-0x80e+0xd9));for(const _0x28cead of this['textures'])_0x28cead['loseContex'+'t']();for(const _0x30b830 of this['buffers'])_0x30b830['loseContex'+'t']();for(const _0x24e80f of this['targets'])_0x24e80f['loseContex'+'t']();(_0x426ab5=this['gpuProfile'+'r'])==null||_0x426ab5['loseContex'+'t']();}['restoreCon'+'text'](){var _0x227887,_0x360077;this['contextLos'+'t']=!(0x2250*-0x1+0x207d*0x1+0x34*0x9),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4dc8e9 of this['buffers'])_0x4dc8e9['unlock']();(_0x360077=(_0x227887=this['gpuProfile'+'r'])==null?void(0xd36+0x29*-0x29+-0x6a5):_0x227887['restoreCon'+'text'])==null||_0x360077['call'](_0x227887);}['toJSON'](_0x19505d){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0xad8+0x1901+-0x23d9),this['shaderAsyn'+'cCompile']=!(-0x11f5*0x2+-0x7*-0x401+-0x4*-0x1f9),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=-0x11*0x6+-0x3ad+0x95*0x7,this['sx']=this['sy']=this['sw']=this['sh']=0x1a*-0x29+-0x17f2+0x1c1c,this['blendColor']=new ie(-0x4da+0x48b*-0x4+-0x7*-0x34a,-0x2152+0xe36+0x131c,-0xfa3+-0x1c2e+-0x2bd1*-0x1,0x148e+0x1*0x1216+-0x1*0x26a4);}['setStencil'+'State'](_0x89efdc,_0x14e183){w['assert'](!(0xd8d*0x1+0x18a0+-0x7*0x574));}['setBlendSt'+'ate'](_0x73f2a0){w['assert'](!(-0x277*-0x7+-0x1efb+0x5f*0x25));}['setBlendCo'+'lor'](_0x40bcb9,_0x4675a8,_0x3e70f4,_0x138d69){w['assert'](!(-0xeb8+-0x1b*-0x37+0x2*0x476));}['setDepthSt'+'ate'](_0x1f9e77){w['assert'](!(0x45f*-0x7+-0xf79+0x2e13));}['setCullMod'+'e'](_0x5b90cb){w['assert'](!(0x20dd+-0x61*0x5+0x1ef7*-0x1));}['setRenderT'+'arget'](_0x43295e){this['renderTarg'+'et']=_0x43295e;}['setVertexB'+'uffer'](_0x4c03b9){_0x4c03b9&&this['vertexBuff'+'ers']['push'](_0x4c03b9);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x8a3+0x247d+0x2c9*-0xa;}['getIndirec'+'tDrawSlot'](){return 0x68b+-0x1*-0x1dd7+-0x2*0x1231;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x54fbe2){if(_0x54fbe2['initialize'+'d'])return;const _0x5248fc=de();this['fire']('fbo:create',{'timestamp':_0x5248fc,'target':this}),_0x54fbe2['init'](),this['targets']['add'](_0x54fbe2),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x5248fc;}['draw'](_0x21f8cc,_0x5775f1,_0x4815db,_0x4d5c00,_0x1f2216=!(-0x888+-0x17a2+-0xb3*-0x2e),_0x2c84b6=!(-0x1275+0x1480+-0x20b*0x1)){w['assert'](!(-0x1f6e+0x1b29+0x446));}['_isBrowser'+'Interface'](_0x3b83d4){return this['_isImageBr'+'owserInter'+'face'](_0x3b83d4)||this['_isImageCa'+'nvasInterf'+'ace'](_0x3b83d4)||this['_isImageVi'+'deoInterfa'+'ce'](_0x3b83d4);}['_isImageBr'+'owserInter'+'face'](_0x3bcd4f){return typeof ImageBitmap<'u'&&_0x3bcd4f instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x3bcd4f instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x475d0d){return typeof HTMLCanvasElement<'u'&&_0x475d0d instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x459760){return typeof HTMLVideoElement<'u'&&_0x459760 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x4dce41,_0x1eee6f){const _0xab5a02=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0xbfa+-0x2*0xfef+0x5*0x8c5),_0xba51f4=Math['floor'](_0x4dce41*_0xab5a02),_0x448ecc=Math['floor'](_0x1eee6f*_0xab5a02);(_0xba51f4!==this['canvas']['width']||_0x448ecc!==this['canvas']['height'])&&this['setResolut'+'ion'](_0xba51f4,_0x448ecc);}['setResolut'+'ion'](_0x3d091e,_0x40016b){this['canvas']['width']=_0x3d091e,this['canvas']['height']=_0x40016b,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x3d091e,_0x40016b);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x21424e=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x21424e['width'],this['clientRect']['height']=_0x21424e['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x339ff8){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xcfb+-0xa83*0x3+0x128f);}set['maxPixelRa'+'tio'](_0x4e51ba){this['_maxPixelR'+'atio']=_0x4e51ba;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x25ad53){}['endRenderP'+'ass'](_0x2a2691){}['startCompu'+'tePass'](_0x2b9789){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x683*0x4+-0x2437+0x4d*0xcf,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x4f21fa=this['textures']['slice']();_0x4f21fa['sort']((_0xef9358,_0x50aee2)=>_0x50aee2['gpuSize']-_0xef9358['gpuSize']),w['log']('Textures:\x20'+_0x4f21fa['length']);let _0x50809e=0xfeb+0x13*0x1f9+0xaae*-0x5;_0x4f21fa['forEach']((_0x157663,_0x22d5ab)=>{const _0x59baa8=_0x157663['gpuSize'];_0x50809e+=_0x59baa8,w['log'](_0x22d5ab+'.\x20'+_0x157663['name']+'\x20'+_0x157663['width']+'x'+_0x157663['height']+'\x20VRAM:\x20'+(_0x59baa8/(0x1*0x1435+0xf11+-0x1f46)/(-0x2693+0x1481+0xb09*0x2))['toFixed'](-0x191*0x11+0x13ee+0x65*0x11)+'\x20MB');}),w['log']('Total:\x20'+(_0x50809e/(0x2ce*-0xd+-0xeb*0x2+0x2*0x1526)/(0x1a*-0x2f+0x1f3d+-0x1677))['toFixed'](0x19a2+0x47+0x1*-0x19e7)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x255c6e=>_0x255c6e['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x9a3e7f,_0x36444b='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x4cfa25=[In,nt,Xt],_0x501bcb=!(-0x145*0xf+-0x1cee+0x2ff9),_0x21c589=-0x1571+-0x44*-0x68+-0x62e){for(let _0x43f1b9=0xef8+0xe06+-0xe7f*0x2;_0x43f1b9<_0x4cfa25['length'];_0x43f1b9++){const _0x1675bb=_0x4cfa25[_0x43f1b9];switch(_0x1675bb){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x1675bb;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x1675bb;break;case Xt:if(this['isWebGPU']&&_0x21c589>-0x2473+-0x13df*0x1+0x3853)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x501bcb||this['textureFlo'+'atFilterab'+'le']))return _0x1675bb;break;}}}['validateAt'+'tributes'](_0x5a684a,_0x3af5c7,_0x25cc53){w['call'](()=>{ql['clear'](),_0x3af5c7==null||_0x3af5c7['elements']['forEach'](_0x16beed=>ql['add'](Le[_0x16beed['name']])),_0x25cc53==null||_0x25cc53['elements']['forEach'](_0x40e2ba=>ql['add'](Le[_0x40e2ba['name']]));for(const [_0x5e501e,_0x73ad22]of _0x5a684a['attributes'])ql['has'](_0x5e501e)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x73ad22+(']\x20at\x20locat'+'ion\x20')+_0x5e501e+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x5a684a,'vb0Format':_0x3af5c7,'vb1Format':_0x25cc53});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x216d+-0x166e+0x5*-0x233;class gt{constructor(_0x4e2f98={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x38a686,_0x586cce,_0x5bd917,_0x176c53,_0x1e9efc,_0x199fc3;w['assert'](!(_0x4e2f98 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x9910ed=((_0x38a686=_0x4e2f98['colorBuffe'+'r'])==null?void(0x535+0x172d+-0x1c62):_0x38a686['device'])??((_0x586cce=_0x4e2f98['colorBuffe'+'rs'])==null?void(0x1*-0x12+-0x16b7+0x16c9):_0x586cce[-0x2*0xdb5+-0x1209+0x1*0x2d73]['device'])??((_0x5bd917=_0x4e2f98['depthBuffe'+'r'])==null?void(-0x24a1+0x2709+-0x268):_0x5bd917['device'])??_0x4e2f98['graphicsDe'+'vice'];w['assert'](_0x9910ed,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x9910ed;const {maxSamples:_0x236d76}=this['_device'];if(this['_samples']=Math['min'](_0x4e2f98['samples']??0x4*-0xdf+-0x146f+0x1*0x17ec,_0x236d76),_0x9910ed['isWebGPU']&&(this['_samples']=this['_samples']>-0x2279+0x5*-0x2e1+0x30df?_0x236d76:0xeca+0x53*-0x42+0x69d*0x1),this['_colorBuff'+'er']=_0x4e2f98['colorBuffe'+'r'],_0x4e2f98['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x4e2f98['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x4e2f98['depthBuffe'+'r'],this['_face']=_0x4e2f98['face']??-0x2408+0x2e*0x8b+0xb0e,this['_depthBuff'+'er']){const _0xc29e7d=this['_depthBuff'+'er']['_format'];_0xc29e7d===$i||_0xc29e7d===vn?(this['_depth']=!(0x1*0x2501+0x15f1+-0x5*0xbca),this['_stencil']=!(-0x791*-0x2+-0x2545+0x1624)):_0xc29e7d===sd?(this['_depth']=!(-0x1a*-0x2f+-0x1*-0x143+-0x609),this['_stencil']=!(0x8e*0xb+0x1131+-0x174b)):_0xc29e7d===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x250c+-0x1878+0x3d85?(this['_depth']=!(0x5d1*-0x4+-0xda6+0x46*0x87),this['_stencil']=!(0x1a56+0x1f33+-0x3988)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1e08+0x19c8+-0x37cf),this['_stencil']=!(0x2b*-0x90+0x5*0x773+0x3*-0x45a));}else this['_depth']=_0x4e2f98['depth']??!(0xc4b*0x1+0x527+-0x13f*0xe),this['_stencil']=_0x4e2f98['stencil']??!(-0x1d28+-0x2*0xbe6+0x34f5);_0x4e2f98['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x4e2f98['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x4e2f98['colorBuffe'+'rs'][-0x883*-0x4+-0x26*0xee+-0x52*-0x4])),this['autoResolv'+'e']=_0x4e2f98['autoResolv'+'e']??!(-0xe6b*-0x1+-0x1604+-0x5*-0x185),this['name']=_0x4e2f98['name'],this['name']||(this['name']=(_0x176c53=this['_colorBuff'+'er'])==null?void(-0x1704+-0x14d4+-0xf4*-0x2e):_0x176c53['name']),this['name']||(this['name']=(_0x1e9efc=this['_depthBuff'+'er'])==null?void(-0x996+0x90+0x906):_0x1e9efc['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x4e2f98['flipY']??!(-0x120c+-0x1f55+0x387*0xe),this['_mipLevel']=_0x4e2f98['mipLevel']??-0x164e+0x3a4+0x1*0x12aa,this['_mipLevel']>-0x3bc*0x3+-0x2bf*0x1+0x1*0xdf3&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x4e2f98}),this['_mipLevel']=-0x196b+0xa4f+0x4*0x3c7),this['_mipmaps']=_0x4e2f98['mipLevel']===void(-0x1922+-0x1cec+0x360e),this['validateMr'+'t'](),this['impl']=_0x9910ed['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x199fc3=this['_colorBuff'+'ers'])!=null&&_0x199fc3['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x43e235=this['_device'];_0x43e235&&(_0x43e235['targets']['delete'](this),_0x43e235['renderTarg'+'et']===this&&_0x43e235['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x575fe4=this['_device'];_0x575fe4&&this['impl']['destroy'](_0x575fe4);}['destroyTex'+'tureBuffer'+'s'](){var _0x14a0e5,_0x9814f6;(_0x14a0e5=this['_depthBuff'+'er'])==null||_0x14a0e5['destroy'](),this['_depthBuff'+'er']=null,(_0x9814f6=this['_colorBuff'+'ers'])==null||_0x9814f6['forEach'](_0x4a281f=>{_0x4a281f['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x5f3e21,_0x3ed0cd){var _0x2c5e1e,_0x2575e5;if(this['width']!==_0x5f3e21||this['height']!==_0x3ed0cd){if(this['mipLevel']>0x22ad+0x871+0x1*-0x2b1e){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x309f40=this['_device'];this['destroyFra'+'meBuffers'](),_0x309f40['renderTarg'+'et']===this&&_0x309f40['setRenderT'+'arget'](null),(_0x2c5e1e=this['_depthBuff'+'er'])==null||_0x2c5e1e['resize'](_0x5f3e21,_0x3ed0cd),(_0x2575e5=this['_colorBuff'+'ers'])==null||_0x2575e5['forEach'](_0x3d7805=>{_0x3d7805['resize'](_0x5f3e21,_0x3ed0cd);}),this['validateMr'+'t'](),this['impl']=_0x309f40['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x44275d,height:_0x3a9bde,cubemap:_0x38d6a4,volume:_0x1cac2c}=this['_colorBuff'+'ers'][0x1f26+-0x16ff+-0x1*0x827];for(let _0x5e3d4c=0xc4d+-0x1f5d+-0x1*-0x1311;_0x5e3d4c<this['_colorBuff'+'ers']['length'];_0x5e3d4c++){const _0x26b206=this['_colorBuff'+'ers'][_0x5e3d4c];w['assert'](_0x26b206['width']===_0x44275d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x26b206['height']===_0x3a9bde,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x26b206['cubemap']===_0x38d6a4,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x26b206['volume']===_0x1cac2c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x205ecd=!(-0x1*0x425+0x25c6+-0x21a1),_0x259b23=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1345+-0x7*0x2d5+0x8f&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x205ecd?'[color]':'')+':'+(_0x259b23?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x205ecd,_0x259b23),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x489a1d,_0x30f408,_0x37c173){if(!this['_device']){if(_0x489a1d['_device'])this['_device']=_0x489a1d['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0xdc0+-0x3*-0xb74+-0x149b);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x489a1d['name']+'->'+this['name']);const _0x1643e4=this['_device']['copyRender'+'Target'](_0x489a1d,this,_0x30f408,_0x37c173);return Q['popGpuMark'+'er'](this['_device']),_0x1643e4;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x3b3a43){var _0x5ab3a8;return(_0x5ab3a8=this['_colorBuff'+'ers'])==null?void(0x2b2+-0xad8+0x826):_0x5ab3a8[_0x3b3a43];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x2e890e,_0x3ac2a2;let _0xab939d=((_0x2e890e=this['_colorBuff'+'er'])==null?void(0x2253+0x1*-0xf29+-0x132a):_0x2e890e['width'])||((_0x3ac2a2=this['_depthBuff'+'er'])==null?void(0x3*0xbf7+0x35*-0x3b+-0x2*0xbd7):_0x3ac2a2['width'])||this['_device']['width'];return this['_mipLevel']>-0x1*0x2493+-0x17aa+-0x7*-0x89b&&(_0xab939d=Xi['calcLevelD'+'imension'](_0xab939d,this['_mipLevel'])),_0xab939d;}get['height'](){var _0x276dde,_0x154880;let _0xf153c0=((_0x276dde=this['_colorBuff'+'er'])==null?void(0x1fcd*-0x1+-0x1*-0x4f3+0x1ada):_0x276dde['height'])||((_0x154880=this['_depthBuff'+'er'])==null?void(0x8a*-0x19+-0x2*0xb93+-0x8*-0x494):_0x154880['height'])||this['_device']['height'];return this['_mipLevel']>0x167+-0x1*0x2629+-0x1*-0x24c2&&(_0xf153c0=Xi['calcLevelD'+'imension'](_0xf153c0,this['_mipLevel'])),_0xf153c0;}['isColorBuf'+'ferSrgb'](_0x3d8bbb=-0x1af+-0xd7*0xb+0xaec){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x120f2e=this['getColorBu'+'ffer'](_0x3d8bbb);return _0x120f2e?fh(_0x120f2e['format']):!(0x1*0x22a8+-0x1ef3*-0x1+0x36*-0x137);}}const IT={'equals'(_0x1516e6,_0x1adbfa){if(_0x1516e6['length']!==_0x1adbfa['length'])return!(0x81e*-0x4+0xbce+-0xb*-0x1e1);for(let _0x2bba8e=-0xc*0x21f+-0x757*0x5+0x8e1*0x7;_0x2bba8e<_0x1516e6['length'];_0x2bba8e++)if(_0x1516e6[_0x2bba8e]!==_0x1adbfa[_0x2bba8e])return!(0x20*0x114+0x1df4+0x935*-0x7);return!(0x120f+0x4c2+-0x16d1);}};class wd{constructor(){h(this,'_refCount',0x24c5*-0x1+-0x1954+0x3e19);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x55d3b5){super(),h(this,'object'),(this['object']=_0x55d3b5,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x185c71=>{var _0x14c1ca;(_0x14c1ca=_0x185c71['object'])==null||_0x14c1ca['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x4a9d50){const _0x3e4a22=this['cache']['get'](_0x4a9d50);return _0x3e4a22?(_0x3e4a22['incRefCoun'+'t'](),_0x3e4a22['object']):null;}['set'](_0x33aa15,_0x51cf82){w['assert'](!this['cache']['has'](_0x33aa15),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x33aa15,'object':_0x51cf82}),this['cache']['set'](_0x33aa15,new LT(_0x51cf82));}['release'](_0x4b1691){var _0x23f87c;const _0x1a9c27=this['cache']['get'](_0x4b1691);_0x1a9c27?(_0x1a9c27['decRefCoun'+'t'](),_0x1a9c27['refCount']===0x24dc+0x1*-0xf7d+-0x155f&&(this['cache']['delete'](_0x4b1691),(_0x23f87c=_0x1a9c27['object'])==null||_0x23f87c['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x4b1691});}}class OT extends RT{['loseContex'+'t'](_0x5d4258){this['clear']();}}const FT=new Kt(),Fd=_0x24d99b=>FT['get'](_0x24d99b,()=>new OT()),At=[];At[Xs]=-0x21e4+-0x1a96+0x3c7b,At[ga]=0x1b0*-0x7+0x5b9*0x3+-0x1*0x559,At[ds]=-0x25ad+0x130c+0x12a4,At[Rn]=-0x1*-0xb7+0x5*-0x517+0x18c0,At[_a]=-0x146b+0xcff+0x76d*0x1,At[ca]=0x1296+0x1*-0x91f+0x1*-0x975,At[ha]=0xe0+0x4*-0x1f+-0x61,At[da]=-0x7eb*0x3+-0x1*0xd7e+0x2543,At[Tn]=-0x1aef+-0x1fc5+0x3ab5,At[tl]=0x2*-0xc13+-0x1514+0x2d3c,At[sl]=0x937+0xf50+-0x1884,At[il]=0xbdc+-0x2416+0x183e*0x1,At[_h]=-0x1*0xaad+-0x2090*0x1+0x2b45,At[On]=0x1763+-0x1d2*-0x13+-0x3*0x134f,At[li]=0x1e3e+0x326+-0x2154,At[Fn]=-0x36e+0x2*0xf01+-0x1a93*0x1,At[Nn]=-0x7*0x547+0x2*-0x22f+0x7*0x5e7,At[kn]=0x2263+-0x5f8+-0x18*0x12f,At[Un]=-0x9e*-0x15+-0x1e0f+-0x111d*-0x1;class dt{constructor(_0x41b8c0,_0x5d02a1,_0x2cf3bd=-0x1b30+0x6*-0x445+-0x2ef*-0x12){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x41b8c0,this['name']=_0x2cf3bd?_0x41b8c0+'[0]':_0x41b8c0,this['type']=_0x5d02a1,this['numCompone'+'nts']=At[_0x5d02a1],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5d02a1+'\x20used\x20for\x20'+_0x41b8c0),this['updateType']=_0x5d02a1,_0x2cf3bd>0x230+-0x3*-0x146+0x301*-0x2)switch(_0x5d02a1){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x5d02a1]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x41b8c0+'\x27.'),w['call'](()=>{this['invalid']=!(-0x4f*-0x51+0x1*-0x824+0x5*-0x35f);});break;}this['count']=_0x2cf3bd,w['assert'](!isNaN(_0x2cf3bd),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x41b8c0+'['+_0x2cf3bd+']'),w['call'](()=>{isNaN(_0x2cf3bd)&&(this['invalid']=!(-0xde*0xa+-0x727+0xfd3));});let _0x1a6b33=this['numCompone'+'nts'];_0x2cf3bd&&(_0x1a6b33=Y['roundUp'](_0x1a6b33,0x1*-0x255a+0xe86*-0x1+0x29*0x144)),this['byteSize']=_0x1a6b33*(0x1da3+-0x6a*-0x9+-0x2159),_0x2cf3bd&&(this['byteSize']*=_0x2cf3bd),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5d02a1+'\x20used\x20for\x20'+_0x41b8c0);}get['isArrayTyp'+'e'](){return this['count']>0x2675+-0x1c57*-0x1+0x474*-0xf;}['calculateO'+'ffset'](_0x37fea1){let _0x33d88e=this['byteSize']<=0x1*-0xe99+-0x7ce*-0x2+-0x1*0xfb?this['byteSize']:-0x439*-0x7+0x219d+0x7*-0x904;this['count']&&(_0x33d88e=-0xbc1*0x2+-0x24f2+0x142c*0x3),_0x37fea1=Y['roundUp'](_0x37fea1,_0x33d88e),this['offset']=_0x37fea1/(0x29*0xb5+0x8*-0xb+-0x1ca1);}}class zy{constructor(_0x27483e,_0x55d35d){h(this,'byteSize',0x2194+0x1549*-0x1+-0xc4b),h(this,'map',new Map()),(this['scope']=_0x27483e['scope'],this['uniforms']=_0x55d35d);let _0x4c33f5=-0x1e7*-0x12+-0x13be+-0xe80;for(let _0x104672=0x6e6*0x1+-0x259e+0x8*0x3d7;_0x104672<_0x55d35d['length'];_0x104672++){const _0x4d8593=_0x55d35d[_0x104672];_0x4d8593['calculateO'+'ffset'](_0x4c33f5),_0x4c33f5=_0x4d8593['offset']*(-0x4f6+0x26+-0xc*-0x67)+_0x4d8593['byteSize'],_0x4d8593['scopeId']=this['scope']['resolve'](_0x4d8593['name']),this['map']['set'](_0x4d8593['name'],_0x4d8593);}this['byteSize']=Y['roundUp'](_0x4c33f5,0x476+0x1*-0xc6+-0x3a0);}['get'](_0x4b2ae2){return this['map']['get'](_0x4b2ae2);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x294483,_0x5be2bf=new Map(),_0x2f529d={}){Lt['sourceName']=_0x2f529d['sourceName'],_0x294483=this['stripComme'+'nts'](_0x294483),_0x294483=_0x294483['split'](/\r?\n/)['map'](_0x433be6=>_0x433be6['trimEnd']())['join']('\x0a');const _0x3d3b85=new Map(),_0x568317=new Map();if(_0x294483=this['_preproces'+'s'](_0x294483,_0x3d3b85,_0x568317,_0x5be2bf,_0x2f529d['stripDefin'+'es']),_0x294483===null)return null;const _0x695233=new Map();return _0x3d3b85['forEach']((_0x2bac1c,_0x54d7e9)=>{Number['isInteger'](parseFloat(_0x2bac1c))&&!_0x2bac1c['includes']('.')&&_0x695233['set'](_0x54d7e9,_0x2bac1c);}),_0x294483=this['stripComme'+'nts'](_0x294483),_0x294483=this['stripUnuse'+'dColorAtta'+'chments'](_0x294483,_0x2f529d),_0x294483=this['RemoveEmpt'+'yLines'](_0x294483),_0x294483=this['processArr'+'aySize'](_0x294483,_0x695233),_0x294483=this['injectDefi'+'nes'](_0x294483,_0x568317),_0x294483;}static['stripUnuse'+'dColorAtta'+'chments'](_0x22d08c,_0x51c1b7){if(_0x51c1b7['stripUnuse'+'dColorAtta'+'chments']){const _0x4c08a7=new Map(),_0x3e8c8b=_0x22d08c['match'](a_);if(_0x3e8c8b==null||_0x3e8c8b['forEach'](_0x1bd661=>{const _0x5f31dc=parseInt(_0x1bd661['charAt'](_0x1bd661['length']-(-0x47+-0x1f47+0x1f8f)),0x205*-0x2+-0x1001+-0x1415*-0x1);_0x4c08a7['set'](_0x5f31dc,(_0x4c08a7['get'](_0x5f31dc)??0x92b+0x1*-0x1e8f+-0x1*-0x1564)+(0x449*0x5+-0x4*0x350+-0x82c));}),Array['from'](_0x4c08a7['values']())['some'](_0x24d280=>_0x24d280===0x55*-0x6b+0x1d*0xd9+0xaf3*0x1)){const _0x57e70a=_0x22d08c['split']('\x0a'),_0x526f8b=[];for(let _0x4cbf49=0xba4*-0x2+-0xb30+0x2278;_0x4cbf49<_0x57e70a['length'];_0x4cbf49++){const _0xc4b2cd=_0x57e70a[_0x4cbf49]['match'](a_);if(_0xc4b2cd){const _0x3ee67a=parseInt(_0xc4b2cd[0x1ca3+0x26*0xca+-0x1*0x3a9f]['charAt'](_0xc4b2cd[-0x11e6*0x1+-0x2399*-0x1+-0x11b3]['length']-(0x2f5*-0x3+-0x1ad7+0x23b7)),-0x1527+-0x3cd*0xa+0x3b33);if(_0x3ee67a>-0x363*-0x7+0x14f3+-0x2ca8&&_0x4c08a7['get'](_0x3ee67a)===0x5a7*0x1+0x2*-0xf0+-0x3c6)continue;}_0x526f8b['push'](_0x57e70a[_0x4cbf49]);}_0x22d08c=_0x526f8b['join']('\x0a');}}return _0x22d08c;}static['stripComme'+'nts'](_0x3d4d70){return _0x3d4d70['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x5d8149,_0xbc26a8){return _0x5d8149!==null&&_0xbc26a8['forEach']((_0x4f4f8e,_0x11580c)=>{_0x5d8149=_0x5d8149['replace'](new RegExp('\x5c['+_0x11580c+'\x5c]','g'),'['+_0x4f4f8e+']');}),_0x5d8149;}static['injectDefi'+'nes'](_0x55a06d,_0x4cb1a1){if(_0x55a06d!==null&&_0x4cb1a1['size']>0x1*-0xf2+0x25f9+-0x2507){const _0x86d278=_0x55a06d['split']('\x0a');_0x4cb1a1['forEach']((_0x14c6e6,_0x388a96)=>{const _0x3ea3e0=new RegExp(_0x388a96,'g');for(let _0x43f747=0x5*0x6df+0xdb6*0x1+0x3011*-0x1;_0x43f747<_0x86d278['length'];_0x43f747++)_0x86d278[_0x43f747]['includes']('#')||(_0x86d278[_0x43f747]=_0x86d278[_0x43f747]['replace'](_0x3ea3e0,_0x14c6e6));}),_0x55a06d=_0x86d278['join']('\x0a');}return _0x55a06d;}static['RemoveEmpt'+'yLines'](_0x719b){return _0x719b!==null&&(_0x719b=_0x719b['split'](/\r?\n/)['map'](_0x26ae20=>_0x26ae20['trim']()===''?'':_0x26ae20)['join']('\x0a'),_0x719b=_0x719b['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x719b;}static['_preproces'+'s'](_0xd6330,_0x361629=new Map(),_0x12819b,_0x4ff5d6,_0x59ef07){var _0x4fb7df;const _0x156fe4=_0xd6330,_0x4b9ab6=[];let _0x50840e=!(0x1*0x1379+0x17d5+-0xf*0x2e3),_0x5ec67a;for(;(_0x5ec67a=Fs['exec'](_0xd6330))!==null&&!_0x50840e;){const _0x25f3da=_0x5ec67a[-0x1ac8+-0x93b+0x2404];switch(_0x25f3da){case'define':{Nd['lastIndex']=_0x5ec67a['index'];const _0x1ef347=Nd['exec'](_0xd6330);w['assert'](_0x1ef347,'Invalid\x20['+_0x25f3da+']:\x20'+_0xd6330['substring'](_0x5ec67a['index'],_0x5ec67a['index']+(-0x1cfc+0x2*-0x139+-0x1*-0x1fd2))+'...'),_0x50840e||(_0x50840e=_0x1ef347===null);const _0x2b6bd4=_0x1ef347[-0x15ee+0x25ee*0x1+-0xfff];r_['lastIndex']=_0x1ef347['index'];const _0x13bbef=r_['exec'](_0x2b6bd4)[0x1*-0x2347+-0x4e1*0x4+0x36cb];let _0x3c253b=_0x2b6bd4['substring'](_0x13bbef['length'])['trim']();_0x3c253b===''&&(_0x3c253b='true');const _0x30c9a4=Lt['_keep'](_0x4b9ab6);let _0xd99a8d=_0x59ef07;if(_0x30c9a4){const _0x18f716=_0x13bbef['startsWith']('{')&&_0x13bbef['endsWith']('}');_0x18f716&&(_0xd99a8d=!(-0x1583+0x26b7*0x1+-0x1134)),_0x18f716?_0x12819b['set'](_0x13bbef,_0x3c253b):_0x361629['set'](_0x13bbef,_0x3c253b),_0xd99a8d&&(_0xd6330=_0xd6330['substring'](0x783+0x236b+-0x2aee,_0x1ef347['index']-(-0x1*0x81d+0x25bc+-0x1d9e))+_0xd6330['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x1ef347['index']-(0x1ac*0x14+-0x423+-0x1d4c));}w['trace'](Lr,_0x25f3da+':\x20['+_0x13bbef+']\x20'+_0x3c253b+'\x20'+(_0x30c9a4?'':'IGNORED')),_0xd99a8d||(Fs['lastIndex']=_0x1ef347['index']+_0x1ef347[-0x2*0x9b7+0x26f3+0x1385*-0x1]['length']);break;}case'undef':{kd['lastIndex']=_0x5ec67a['index'];const _0x1951d2=kd['exec'](_0xd6330),_0x305fd7=_0x1951d2[-0x6e6+-0x1*-0x672+0x75]['trim'](),_0x2b8173=Lt['_keep'](_0x4b9ab6);_0x2b8173&&(_0x361629['delete'](_0x305fd7),_0x59ef07&&(_0xd6330=_0xd6330['substring'](-0x9*-0x3+0x7d5*0x2+-0xfc5,_0x1951d2['index']-(-0x125+-0x40f*0x4+0x32*0x59))+_0xd6330['substring'](kd['lastIndex']),Fs['lastIndex']=_0x1951d2['index']-(-0x8*0x311+-0x1*0x2133+0x39bc))),w['trace'](Lr,_0x25f3da+':\x20['+_0x305fd7+']\x20'+(_0x2b8173?'':'IGNORED')),_0x59ef07||(Fs['lastIndex']=_0x1951d2['index']+_0x1951d2[0x7*-0x351+-0xbcf+-0x2*-0x1183]['length']);break;}case'extension':{i_['lastIndex']=_0x5ec67a['index'];const _0x326cda=i_['exec'](_0xd6330);if(w['assert'](_0x326cda,'Invalid\x20['+_0x25f3da+']:\x20'+_0xd6330['substring'](_0x5ec67a['index'],_0x5ec67a['index']+(-0xc39+0xde5+-0x148))+'...'),_0x50840e||(_0x50840e=_0x326cda===null),_0x326cda){const _0x55d54c=_0x326cda[0x1784+0xdd5*-0x1+-0x9ae],_0xb39090=Lt['_keep'](_0x4b9ab6);_0xb39090&&_0x361629['set'](_0x55d54c,'true'),w['trace'](Lr,_0x25f3da+':\x20['+_0x55d54c+']\x20'+(_0xb39090?'':'IGNORED'));}Fs['lastIndex']=_0x326cda['index']+_0x326cda[-0x12ae+-0x113*-0x11+-0x1*-0x6b]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x5ec67a['index'];const _0x4ea754=Ud['exec'](_0xd6330),_0x1fb652=_0x4ea754[0x718+0xed9*0x1+-0x15ef],_0x618361=Lt['evaluate'](_0x1fb652,_0x361629);_0x50840e||(_0x50840e=_0x618361['error']);let _0x43b9e4=_0x618361['result'];_0x25f3da==='ifndef'&&(_0x43b9e4=!_0x43b9e4),_0x4b9ab6['push']({'anyKeep':_0x43b9e4,'keep':_0x43b9e4,'start':_0x5ec67a['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x25f3da+':\x20['+_0x1fb652+']\x20=>\x20'+_0x43b9e4),Fs['lastIndex']=_0x4ea754['index']+_0x4ea754[0x173*0x13+-0x2349+0x7c0]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x5ec67a['index'];const _0x3a4a3a=Bd['exec'](_0xd6330),_0x19757f=_0x4b9ab6['pop']();if(!_0x19757f){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x3a4a3a[0x2*0x101+0x51c+-0x71d]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0xd6330['substring'](_0x5ec67a['index'],_0x5ec67a['index']+(-0x14b0+-0x1*0xd6d+0x2281))+'...',{'source':_0x156fe4}),_0x50840e=!(-0x1f4*-0x8+0x1f7e*0x1+-0x2f1e);continue;}const _0xf51f1=_0x19757f['keep']?_0xd6330['substring'](_0x19757f['end'],_0x5ec67a['index']):'';w['trace'](Lr,_0x25f3da+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0xf51f1!=='')),_0xd6330=_0xd6330['substring'](0x112e+-0xcf*0x1e+0x1*0x714,_0x19757f['start'])+_0xf51f1+_0xd6330['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x19757f['start']+_0xf51f1['length'];const _0x1e4822=_0x3a4a3a[-0x28*-0x4f+-0x75a+-0x4fd*0x1];if(_0x1e4822==='else'||_0x1e4822==='elif'){let _0x2df4ab=!(0x1073*0x1+-0x7e7+0xf3*-0x9);if(!_0x19757f['anyKeep']){if(_0x1e4822==='else')_0x2df4ab=!_0x19757f['keep'];else{const _0x31225f=Lt['evaluate'](_0x3a4a3a[-0x1b9d+0x152a+0x675],_0x361629);_0x2df4ab=_0x31225f['result'],_0x50840e||(_0x50840e=_0x31225f['error']);}}_0x4b9ab6['push']({'anyKeep':_0x19757f['anyKeep']||_0x2df4ab,'keep':_0x2df4ab,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x25f3da+':\x20['+_0x3a4a3a[-0x258c+-0x22c6+0x4854]+']\x20=>\x20'+_0x2df4ab);}break;}case'include':{zd['lastIndex']=_0x5ec67a['index'];const _0x45ae86=zd['exec'](_0xd6330);if(_0x50840e||(_0x50840e=_0x45ae86===null),!_0x45ae86){w['assert'](_0x45ae86,'Invalid\x20['+_0x25f3da+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0xd6330['substring'](_0x5ec67a['index'],_0x5ec67a['index']+(0x1815+-0x1a0f+-0x65*-0x6))+'...'),_0x50840e=!(-0xbcf*0x2+-0x4*-0x709+-0x3*0x182);continue;}const _0xac7cba=_0x45ae86[-0x123b+-0x1*0x1e8b+-0x1*-0x30c7]['trim'](),_0x10a9fd=(_0x4fb7df=_0x45ae86[-0x76*0x8+0x171f+-0x136d*0x1])==null?void(0x5*0x555+-0xb03+0x7d3*-0x2):_0x4fb7df['trim'](),_0x19aeac=Lt['_keep'](_0x4b9ab6);if(_0x19aeac){let _0x291f62=_0x4ff5d6==null?void(0x955*-0x1+-0x1a5c+0x23b1):_0x4ff5d6['get'](_0xac7cba);if(_0x291f62!==void(0x1a3a+0xe8a+-0x28c4)){if(_0x291f62=this['stripComme'+'nts'](_0x291f62),_0x10a9fd){const _0x410163=_0x361629['get'](_0x10a9fd),_0x22ad4f=parseFloat(_0x410163);if(Number['isInteger'](_0x22ad4f)){let _0x535f40='';for(let _0x1ebed3=-0x103f+0x1*0x20c3+-0x1084;_0x1ebed3<_0x22ad4f;_0x1ebed3++)_0x535f40+=_0x291f62['replace'](VT,String(_0x1ebed3));_0x291f62=_0x535f40;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x10a9fd+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0xd6330['substring'](_0x5ec67a['index'],_0x5ec67a['index']+(-0x1d48+-0x18b2+0x2*0x1b2f))+'...',{'originalSource':_0x156fe4,'source':_0xd6330}),_0x50840e=!(-0x13*0x1f9+0x268b+-0x110);}_0xd6330=_0xd6330['substring'](-0xe0a+0x1706+-0x8fc,_0x45ae86['index']-(0x1feb+0x2d7+-0x7*0x4f7))+_0x291f62+_0xd6330['substring'](zd['lastIndex']),Fs['lastIndex']=_0x45ae86['index']-(-0x35*-0x7a+-0x166a*-0x1+-0x2fab);}else{console['error']('Include\x20\x22'+_0xac7cba+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x156fe4,'source':_0xd6330}),_0x50840e=!(-0x788+-0x3f3*0x2+0xf6e);continue;}}w['trace'](Lr,_0x25f3da+':\x20['+_0xac7cba+']\x20'+(_0x19aeac?'':'IGNORED'));break;}}}return _0x4b9ab6['length']>0x1d17+-0x7f*-0x2b+-0x326c*0x1&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x50840e=!(0x7*-0x2fe+0x9d2+-0x2*-0x590)),_0x50840e?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x156fe4}),null):_0xd6330;}static['_keep'](_0x4c1509){for(let _0x20e640=-0x23ed+-0x2*-0x9e3+-0x1*-0x1027;_0x20e640<_0x4c1509['length'];_0x20e640++)if(!_0x4c1509[_0x20e640]['keep'])return!(-0x5*0x35c+-0x1db3+0x2e80);return!(0x1fed+-0xfb5+-0x8*0x207);}static['evaluateAt'+'omicExpres'+'sion'](_0x28e274,_0x2cb8a8){let _0x49e96d=!(-0x14f2+-0xe7+0x15da);_0x28e274=_0x28e274['trim']();let _0x508bf8=!(-0xb4c+-0x78*0x38+0x258d);if(_0x28e274==='true')return{'result':!(-0x1088+-0x3a+0x10c2),'error':_0x49e96d};if(_0x28e274==='false')return{'result':!(0xb*-0xe2+0x4*0x85f+-0x5*0x4c1),'error':_0x49e96d};const _0x5ad60a=NT['exec'](_0x28e274);if(_0x5ad60a){_0x508bf8=_0x5ad60a[-0x2189+0x1843*-0x1+0x1*0x39cd]==='!',_0x28e274=_0x5ad60a[-0x13f*0x1+0x21e5*0x1+-0x829*0x4]['trim']();const _0x3bac63=_0x2cb8a8['has'](_0x28e274);return{'result':_0x508bf8?!_0x3bac63:_0x3bac63,'error':_0x49e96d};}const _0x266a98=BT['exec'](_0x28e274);if(_0x266a98){const _0x5ad5fb=_0x2cb8a8['get'](_0x266a98[0x144f+-0x1f25+-0xad7*-0x1]['trim']())??_0x266a98[0x4e2*-0x4+0xe63*0x2+0x1*-0x93d]['trim'](),_0x2046cd=_0x2cb8a8['get'](_0x266a98[0x21f4+0x21e2+0x61*-0xb3]['trim']())??_0x266a98[0x176+0x26a8+-0x281b]['trim'](),_0x388713=_0x266a98[0x4b5*-0x5+-0xe9+0xc3a*0x2]['trim']();let _0x58cf96=!(0xded+0x17*-0x1b+-0xb7f);switch(_0x388713){case'==':_0x58cf96=_0x5ad5fb===_0x2046cd;break;case'!=':_0x58cf96=_0x5ad5fb!==_0x2046cd;break;case'<':_0x58cf96=_0x5ad5fb<_0x2046cd;break;case'<=':_0x58cf96=_0x5ad5fb<=_0x2046cd;break;case'>':_0x58cf96=_0x5ad5fb>_0x2046cd;break;case'>=':_0x58cf96=_0x5ad5fb>=_0x2046cd;break;default:_0x49e96d=!(0x222e+0x2054+0x2141*-0x2);}return{'result':_0x58cf96,'error':_0x49e96d};}return{'result':_0x2cb8a8['has'](_0x28e274),'error':_0x49e96d};}static['processPar'+'entheses'](_0x1a26c0,_0x1bf5f5){let _0x443076=!(0x1139+0x516+0xa*-0x23b),_0x530acc=_0x1a26c0['trim']();for(;_0x530acc['startsWith']('(')&&_0x530acc['endsWith'](')');){let _0x228572=0xb*-0xd+-0x4cc+-0x3*-0x1c9,_0xc49166=!(-0x156e*-0x1+-0x75*0xd+-0xf7d);for(let _0x184c00=0x26b*-0x3+-0x18ae+0x663*0x5;_0x184c00<_0x530acc['length']-(0xe50+-0x1d9b*0x1+-0xf4c*-0x1);_0x184c00++)if(_0x530acc[_0x184c00]==='(')_0x228572++;else{if(_0x530acc[_0x184c00]===')'&&(_0x228572--,_0x228572===0xf1d+0x131e+-0xb69*0x3)){_0xc49166=!(0xa*0x153+0xddc+-0x1*0x1b19);break;}}if(_0xc49166)_0x530acc=_0x530acc['slice'](-0x17*0x65+0x27a+0x69a,-(-0x156b*-0x1+0x74*-0x12+0x6a1*-0x2))['trim']();else break;}for(;;){let _0xd8abc3=!(-0x115b+-0x1f50+0xc2b*0x4),_0x37f7d9=-0x3b*0x9b+0x4*0x2f+0xd*0x2b1,_0x1e1ab8=0xab*0x39+-0x1b8b+0xa88*-0x1,_0x1c9f5c=-(-0x118d*-0x1+-0x496*-0x4+-0x4*0x8f9),_0x1e6551=-(-0x1ebd+0x98e+0x1530),_0x35211e=0x1c65+0x2*0x1292+-0x4189;for(let _0x6db8ba=-0x29*-0x52+0x106+-0xe28;_0x6db8ba<_0x530acc['length'];_0x6db8ba++)if(_0x530acc[_0x6db8ba]==='('){const _0x41fef8=_0x530acc['substring'](-0xa37+0x1*0x14cd+-0xa96,_0x6db8ba);UT['test'](_0x41fef8)?_0x35211e++:_0x35211e===0x1940+0x1fdb+0x531*-0xb&&(_0x37f7d9++,_0x37f7d9>_0x1e1ab8&&(_0x1e1ab8=_0x37f7d9,_0x1c9f5c=_0x6db8ba),_0xd8abc3=!(-0x1b*0x13d+0x2a9*0x4+0x1*0x16cb));}else _0x530acc[_0x6db8ba]===')'&&(_0x35211e>0x24fb+0x1160+-0x365b?_0x35211e--:_0x37f7d9>0x4*0x198+0xcde+-0x133e&&(_0x37f7d9===_0x1e1ab8&&_0x1c9f5c!==-(-0x1d61+-0x1031+0x2d93)&&(_0x1e6551=_0x6db8ba),_0x37f7d9--));if(!_0xd8abc3||_0x1c9f5c===-(0x23f2+0x12*0x83+-0x2d27)||_0x1e6551===-(-0xa9d+0x17*0x12b+-0x103f))break;const _0x167cc7=_0x530acc['substring'](_0x1c9f5c+(0x234+0xec6+-0x10f9),_0x1e6551),{result:_0x267ca8,error:_0x358586}=Lt['evaluate'](_0x167cc7,_0x1bf5f5);_0x443076=_0x443076||_0x358586,_0x530acc=_0x530acc['substring'](0x2eb+-0x1*0x1d8e+0x1aa3,_0x1c9f5c)+(_0x267ca8?'true':'false')+_0x530acc['substring'](_0x1e6551+(-0x1*0x977+0x1a5d+-0x10e5));}return{'expression':_0x530acc,'error':_0x443076};}static['evaluate'](_0x31b531,_0x16b603){const _0x404496=zT['exec'](_0x31b531)===null;w['assert'](_0x404496,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x31b531);let _0xd047c7=_0x31b531,_0x444321=!(0x1*-0x859+0x1*0x102b+-0x7d1);if(_0x31b531['replace'](kT,'')['indexOf']('(')!==-(-0xe3*-0x19+0x9d*0xd+-0x1e23)){const _0x2252f9=Lt['processPar'+'entheses'](_0x31b531,_0x16b603);_0xd047c7=_0x2252f9['expression'],_0x444321=_0x2252f9['error'];}if(_0x444321)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x31b531+'\x22'),{'result':!(0x15e5+0x2*-0x88a+-0x4d0),'error':!(0x133f+0x13f7+-0x1*0x2736)};const _0x161f85=_0xd047c7['split']('||');for(const _0x59e798 of _0x161f85){const _0x144e3e=_0x59e798['split']('&&');let _0x292a37=!(0x9eb*0x2+0xef*-0xb+-0x991*0x1);for(const _0x3370da of _0x144e3e){const {result:_0xe85426,error:_0x59a7c5}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x3370da['trim'](),_0x16b603);if(!_0xe85426||_0x59a7c5){_0x292a37=!(0x26*-0x7+-0x1790+0x1*0x189b);break;}}if(_0x292a37)return{'result':!(0x1251*0x1+0x14e*-0x1a+0xf9b),'error':!_0x404496};}return{'result':!(0x8b*0x41+0xd*0x47+0x1*-0x26e5),'error':!_0x404496};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x480d4e,_0x23d9fd){w['assert'](_0x23d9fd),w['assert'](!_0x23d9fd['vertexDefi'+'nes']||_0x23d9fd['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x23d9fd['vertexIncl'+'udes']||_0x23d9fd['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x23d9fd['fragmentDe'+'fines']||_0x23d9fd['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x23d9fd['fragmentIn'+'cludes']||_0x23d9fd['fragmentIn'+'cludes']instanceof Map);const _0x26bb20=_0xa1bb8d=>{let _0x246877=_0xa1bb8d['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x246877)||(_0x246877=[_0x246877]),_0x246877;},_0x140179=(_0x479f09,_0x4a0be9,_0x77cc5,_0x38905d)=>{const _0x52552d=_0x480d4e['isWebGPU']?_0x479f09:_0x4a0be9;let _0x1de16d='';if(!_0x77cc5){const _0x1e6ac8=_0x26bb20(_0x38905d);for(let _0x31689c=-0x35d+0x2021+-0xe62*0x2;_0x31689c<_0x480d4e['maxColorAt'+'tachments'];_0x31689c++){_0x1de16d+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x31689c+'\x0a';const _0x3069b4=_0x1e6ac8[_0x31689c]??'vec4';_0x1de16d+='#define\x20ou'+'tType_'+_0x31689c+'\x20'+_0x3069b4+'\x0a';}}return _0x1de16d+_0x52552d;},_0x4fb752=(_0x4d79cd,_0x1bcbf2)=>{let _0x4bb552='';if(!_0x4d79cd){const _0x4c4245=_0x26bb20(_0x1bcbf2);for(let _0x523ff6=0x49*0x57+-0x38f+0x44*-0x50;_0x523ff6<_0x480d4e['maxColorAt'+'tachments'];_0x523ff6++){const _0xae55e2=_0x4c4245[_0x523ff6]??'vec4',_0x5c0785=Fy['get'](_0xae55e2);w['assert'](_0x5c0785,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0xae55e2+'\x20->\x20'+_0x5c0785),_0x4bb552+='alias\x20pcOu'+'tType'+_0x523ff6+'\x20=\x20'+_0x5c0785+';\x0a';}}return _0x4bb552;},_0x187b28=_0x23d9fd['name']??'Untitled';let _0x14c11c,_0x2f6893;const _0x199de5=Jt['getDefines'+'Code'](_0x480d4e,_0x23d9fd['vertexDefi'+'nes']),_0x42ea22=Jt['getDefines'+'Code'](_0x480d4e,_0x23d9fd['fragmentDe'+'fines']);return _0x23d9fd['shaderLang'+'uage']===it?(_0x14c11c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4fb752(!(-0x69*0x1+0x1d12+-0xb*0x29b),_0x23d9fd)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x199de5+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23d9fd['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x2f6893='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x4fb752(!(-0x2332+0x483*0x2+-0x1*-0x1a2d),_0x23d9fd)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x42ea22+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23d9fd['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x23d9fd['vertexCode']),_0x14c11c=Jt['versionCod'+'e'](_0x480d4e)+_0x140179(Wy,Gy,!(-0xb3e+0x3e7*-0x5+0x1ec1),_0x23d9fd)+_0x199de5+Jt['precisionC'+'ode'](_0x480d4e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x187b28)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23d9fd['vertexCode'],w['assert'](_0x23d9fd['fragmentCo'+'de']),_0x2f6893=(_0x23d9fd['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x480d4e)+_0x140179(Hy,Vy,!(-0x1*-0xec5+0x1eb*-0x1+-0xcd9),_0x23d9fd)+_0x42ea22+Jt['precisionC'+'ode'](_0x480d4e)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x187b28)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x23d9fd['fragmentCo'+'de']),{'name':_0x187b28,'shaderLanguage':_0x23d9fd['shaderLang'+'uage']??Fe,'attributes':_0x23d9fd['attributes'],'vshader':_0x14c11c,'vincludes':_0x23d9fd['vertexIncl'+'udes'],'fincludes':_0x23d9fd['fragmentIn'+'cludes'],'fshader':_0x2f6893,'useTransformFeedback':_0x23d9fd['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x23d9fd['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x23d9fd['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x376312,_0x4bd1cc){let _0x301baf='';return _0x376312['capsDefine'+'s']['forEach']((_0xf51d7e,_0x5850af)=>{_0x301baf+='#define\x20'+_0x5850af+'\x20'+_0xf51d7e+'\x0a';}),_0x301baf+='\x0a',_0x4bd1cc==null||_0x4bd1cc['forEach']((_0x79accb,_0x3e8f75)=>{_0x301baf+='#define\x20'+_0x3e8f75+'\x20'+_0x79accb+'\x0a';}),_0x301baf+='\x0a',_0x301baf;}static['getShaderN'+'ameCode'](_0x942aa){return'#define\x20SH'+'ADER_NAME\x20'+_0x942aa+'\x0a';}static['versionCod'+'e'](_0x14b4cd){return _0x14b4cd['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x576b59,_0x39f2cd){_0x39f2cd&&_0x39f2cd!=='highp'&&_0x39f2cd!=='mediump'&&_0x39f2cd!=='lowp'&&(_0x39f2cd=null),_0x39f2cd&&(_0x39f2cd==='highp'&&_0x576b59['maxPrecisi'+'on']!=='highp'&&(_0x39f2cd='mediump'),_0x39f2cd==='mediump'&&_0x576b59['maxPrecisi'+'on']==='lowp'&&(_0x39f2cd='lowp'));const _0x558cca=_0x39f2cd||_0x576b59['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x558cca+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x558cca+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x558cca+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x558cca+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x558cca+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x558cca+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x558cca+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x17e381){const _0x5d6fe9={};let _0x48c0cc=0x15b9+0x1*-0x278+0x9f*-0x1f,_0x587d05=_0x17e381['indexOf']('attribute');for(;_0x587d05>=-0x140d+-0x81b+0x1c28&&!(_0x587d05>0x22df+-0x108e+-0x1*0x1251&&_0x17e381[_0x587d05-(-0x13fd+0x335+0x1*0x10c9)]==='/');){let _0x2c6d4d=!(-0x13b7+0xe*0x232+-0x234*0x5);if(_0x587d05>0xfc2+-0x1739+0x777){let _0x3f8dda=_0x17e381['lastIndexO'+'f']('\x0a',_0x587d05);_0x3f8dda=_0x3f8dda!==-(-0x3e6*-0x3+-0x1839+0xc88)?_0x3f8dda+(-0x22fd+0x446+-0x3d7*-0x8):0x2050+-0xcfd+-0x1353,_0x17e381['substring'](_0x3f8dda,_0x587d05)['includes']('#')&&(_0x2c6d4d=!(-0x9bc+-0x1*-0x19f9+0x103d*-0x1));}if(!_0x2c6d4d){const _0x3f0ea5=_0x17e381['indexOf'](';',_0x587d05),_0x2878f4=_0x17e381['lastIndexO'+'f']('\x20',_0x3f0ea5),_0x330ea2=_0x17e381['substring'](_0x2878f4+(-0x840+0x4bc+0x385),_0x3f0ea5);if(_0x5d6fe9[_0x330ea2])w['warn']('Attribute\x20'+'['+_0x330ea2+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x17e381});else{const _0x374409=GT[_0x330ea2];_0x374409!==void(-0x943*0x1+0x153e*0x1+0xbfb*-0x1)?_0x5d6fe9[_0x330ea2]=_0x374409:(_0x5d6fe9[_0x330ea2]='ATTR'+_0x48c0cc,_0x48c0cc++);}}_0x587d05=_0x17e381['indexOf']('attribute',_0x587d05+(0xd73+0x80*-0x1c+0x8e));}return _0x5d6fe9;}}let HT=-0xa36*-0x3+0xc*-0x2b3+0x1c2;class qy{constructor(_0x283679,_0x1bd0f5){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x283679,this['definition']=_0x1bd0f5,this['name']=_0x1bd0f5['name']||'Untitled',this['init'](),_0x1bd0f5['cshader'])w['assert'](_0x283679['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x1bd0f5['vshader']&&!_0x1bd0f5['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x1bd0f5['cshader']=ko['run'](_0x1bd0f5['cshader'],_0x1bd0f5['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0xbdd+-0x611+-0x2e6*0x2)});else{w['assert'](_0x1bd0f5['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x1bd0f5['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x1bd0f5['vshader'],this['fUnmodifie'+'d']=_0x1bd0f5['fshader'];});const _0x46b8e6=_0x1bd0f5['shaderLang'+'uage']===it;_0x1bd0f5['vshader']=ko['run'](_0x1bd0f5['vshader'],_0x1bd0f5['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x46b8e6}),_0x1bd0f5['shaderLang'+'uage']===Fe&&(_0x1bd0f5['attributes']??(_0x1bd0f5['attributes']=Jt['collectAtt'+'ributes'](_0x1bd0f5['vshader'])));const _0x4f8ecf=_0x283679['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x1bd0f5['fshader']=ko['run'](_0x1bd0f5['fshader'],_0x1bd0f5['fincludes'],{'stripUnusedColorAttachments':_0x4f8ecf,'stripDefines':_0x46b8e6,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x1bd0f5['vshader']||!_0x1bd0f5['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(-0x244b+-0x1d00+0x414b);return;}}this['impl']=_0x283679['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x1*-0x1485+0x2*0x493+0xed5*-0x2),this['failed']=!(-0x41b+0x1be5+-0x17c9);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x23fdc1,_0x38c8a6,_0x565f04){const _0x2b7350=_0x23fdc1['storageFlo'+'at32'];_0x2b7350[_0x565f04]=_0x38c8a6;},Be[ga]=(_0x1d2c04,_0x5d8949,_0x5902b7)=>{const _0x16e24a=_0x1d2c04['storageFlo'+'at32'];_0x16e24a[_0x5902b7]=_0x5d8949[0xc9*0xd+0xfb5+-0x2*0xcf5],_0x16e24a[_0x5902b7+(-0x14e9+0x5b*-0x1+0x1545)]=_0x5d8949[-0x1d9f+-0x7*0xac+0x4*0x895];},Be[ds]=(_0x5e3bff,_0x540387,_0x219bf0)=>{const _0x5084fa=_0x5e3bff['storageFlo'+'at32'];_0x5084fa[_0x219bf0]=_0x540387[0x189b+0x74b*-0x1+0x8a8*-0x2],_0x5084fa[_0x219bf0+(-0x12b9+0x262c+-0x1372)]=_0x540387[-0x3*0x5d1+0x21*-0x31+0x17c5],_0x5084fa[_0x219bf0+(-0xb5e+-0x7*0x161+-0x301*-0x7)]=_0x540387[0xa0*0x1c+0x826+0x223*-0xc];},Be[Rn]=(_0x42bd97,_0x6c6c83,_0x26139d)=>{const _0x333096=_0x42bd97['storageFlo'+'at32'];_0x333096[_0x26139d]=_0x6c6c83[0x2607+0x270d+-0x4d14],_0x333096[_0x26139d+(0x4d9*-0x5+0x822+0x101c)]=_0x6c6c83[-0x1173+0x1332+-0x1be],_0x333096[_0x26139d+(-0x335*0x1+-0xde4+-0x111b*-0x1)]=_0x6c6c83[0xd*0x61+-0x23b*-0xb+-0x1d74],_0x333096[_0x26139d+(0x2a1*0x7+0x4c5+0x4d*-0x4d)]=_0x6c6c83[0x1*-0x19ab+0x7*-0x299+0x2bdd];},Be[_a]=function(_0x42ea99,_0x5e3d79,_0x3ef780){const _0x5e8714=_0x42ea99['storageInt'+'32'];_0x5e8714[_0x3ef780]=_0x5e3d79;},Be[ca]=function(_0x59afe5,_0xb7e614,_0x33414f){const _0x2f0d18=_0x59afe5['storageInt'+'32'];_0x2f0d18[_0x33414f]=_0xb7e614[0x109c+-0x1*-0x1c94+0x4*-0xb4c],_0x2f0d18[_0x33414f+(0xc+-0x62b+0x620)]=_0xb7e614[0x1*-0x21e9+-0x1*0xcc8+0x56*0x8b];},Be[ha]=function(_0x51b932,_0x4e82ba,_0x2d0bd0){const _0x544909=_0x51b932['storageInt'+'32'];_0x544909[_0x2d0bd0]=_0x4e82ba[-0x1*-0x18b9+0x2047*-0x1+-0x78e*-0x1],_0x544909[_0x2d0bd0+(0xf4b+0x2605+-0x354f)]=_0x4e82ba[0x426*-0x8+-0x1d8d+-0x3ebe*-0x1],_0x544909[_0x2d0bd0+(-0x14c3+-0x5e*-0x54+-0xa13)]=_0x4e82ba[-0x18be+0x1*-0x1cc7+0x3587*0x1];},Be[da]=function(_0xc484ec,_0x403b63,_0x8d027){const _0x599d54=_0xc484ec['storageInt'+'32'];_0x599d54[_0x8d027]=_0x403b63[0xf56+-0xb27+-0x15*0x33],_0x599d54[_0x8d027+(-0x1*-0x1a7b+-0x120d*0x1+-0x86d)]=_0x403b63[-0x1f62+0xc5f+0x1304],_0x599d54[_0x8d027+(-0x1*0x471+-0x2214+0x2687)]=_0x403b63[-0x806+0xcba+-0x4b2],_0x599d54[_0x8d027+(0x228c+0x25e2*-0x1+0x1*0x359)]=_0x403b63[0x1007+0x1b0d+-0x1*0x2b11];},Be[_h]=(_0x39248d,_0x4bb695,_0x5dd983)=>{const _0x245f7a=_0x39248d['storageFlo'+'at32'];_0x245f7a[_0x5dd983]=_0x4bb695[-0x612*0x2+-0x2*-0x12d2+-0x180*0x11],_0x245f7a[_0x5dd983+(-0x1*0x1c33+0x1a7e+0x1b6)]=_0x4bb695[0x1ae9+0x8*-0xe8+-0x13a8],_0x245f7a[_0x5dd983+(0xa4c+0xe2c*-0x2+0x1210)]=_0x4bb695[-0x1*-0x24c2+-0x8f9+0x223*-0xd],_0x245f7a[_0x5dd983+(-0x3*-0xb02+0x60b+0x1386*-0x2)]=_0x4bb695[-0x1c2+-0x1*0x1902+-0xf*-0x1c9],_0x245f7a[_0x5dd983+(-0xa6*-0x1c+-0x2009+0xde9)]=_0x4bb695[0x2*-0x12c1+0x5*-0x209+0x2fb3*0x1],_0x245f7a[_0x5dd983+(0x1*0x1f7+-0x201b+-0x135*-0x19)]=_0x4bb695[0x4f2+0x147*0x3+-0x26*0x3b];},Be[On]=(_0x2a9848,_0x343672,_0x4a4fa8)=>{const _0x59ace2=_0x2a9848['storageFlo'+'at32'];_0x59ace2[_0x4a4fa8]=_0x343672[-0x1024+0x8a*0x1c+0x10c],_0x59ace2[_0x4a4fa8+(-0x1*0xf05+0x1*0x667+0x89f)]=_0x343672[0xd4b+0x1*0xa13+-0x175d],_0x59ace2[_0x4a4fa8+(-0x1a5*-0x9+-0x1aa0+0xbd5*0x1)]=_0x343672[-0x1*0x26ed+-0xa45*0x3+0x45be],_0x59ace2[_0x4a4fa8+(0xf7b+0x2*-0x163+-0x43b*0x3)]=_0x343672[-0x1*0x9af+-0x1bfa+-0x4*-0x96b],_0x59ace2[_0x4a4fa8+(0x2222+-0x771+-0x1*0x1aac)]=_0x343672[-0x50*0x3d+0x415*0x2+-0xaea*-0x1],_0x59ace2[_0x4a4fa8+(-0x1*0x179c+-0x1*0x15ca+0x99*0x4c)]=_0x343672[-0x185*0x13+0x7fc+0x14e8],_0x59ace2[_0x4a4fa8+(0xf32+-0x1807+0x8dd)]=_0x343672[0x1b7a+-0x18b1+-0x2c3],_0x59ace2[_0x4a4fa8+(0x1c*0x1+0x2312+-0x2325)]=_0x343672[0x1afb+0x9c*0x1+-0x1b90],_0x59ace2[_0x4a4fa8+(0x25*0x68+0x3*0x7d0+-0x266e)]=_0x343672[0x12b5+-0x2*-0x1319+0x38df*-0x1];},Be[ud]=function(_0x122ea5,_0x5d5c2c,_0x54f1d7,_0x274cc2){const _0x5e8272=_0x122ea5['storageFlo'+'at32'];for(let _0x37cb64=0x1e6a+0x15df*0x1+-0x3449;_0x37cb64<_0x274cc2;_0x37cb64++)_0x5e8272[_0x54f1d7+_0x37cb64*(-0x1129*-0x1+0x81*-0x2f+0x68a)]=_0x5d5c2c[_0x37cb64];},Be[pd]=(_0x34ba35,_0x41c6fc,_0x3e31b9,_0x5c9622)=>{const _0x40c57d=_0x34ba35['storageFlo'+'at32'];for(let _0x23aec4=0x26*-0x25+0x12ff+-0xd81;_0x23aec4<_0x5c9622;_0x23aec4++)_0x40c57d[_0x3e31b9+_0x23aec4*(0x1fd6+-0x1*0x161+-0x1e71)]=_0x41c6fc[_0x23aec4*(-0x7b4+-0x1*-0x90a+-0x14*0x11)],_0x40c57d[_0x3e31b9+_0x23aec4*(0x5*0x6a3+0x6*0x2ef+0x29*-0x13d)+(-0x3fb*0x6+-0x1381+0x2*0x15b2)]=_0x41c6fc[_0x23aec4*(0x1*0x177b+0x19d8+-0x3151)+(-0x159a+0x30*0x6d+-0xd*-0x17)];},Be[md]=(_0x3e4c2d,_0x19be1a,_0x488c74,_0x13e615)=>{const _0x4a7ade=_0x3e4c2d['storageFlo'+'at32'];for(let _0x376699=-0x158a+-0x1d23*0x1+-0x32ad*-0x1;_0x376699<_0x13e615;_0x376699++)_0x4a7ade[_0x488c74+_0x376699*(0x7*0x1b1+0x16d*-0xc+0x549)]=_0x19be1a[_0x376699*(0xa9d+0x1*0x1ceb+-0x2785)],_0x4a7ade[_0x488c74+_0x376699*(-0x1c6*0x8+-0x892+0x16c6)+(0x20d6+0xec*-0x1d+-0x619)]=_0x19be1a[_0x376699*(-0x2364+0x1f36*-0x1+0x429d*0x1)+(0x1edd*0x1+-0xfe*-0x1+-0x1fda)],_0x4a7ade[_0x488c74+_0x376699*(-0x1f44+-0xb57+0x2a9f)+(0x1b25*-0x1+0x106d+0xaba)]=_0x19be1a[_0x376699*(-0x1eeb+-0x1*0x205f+-0x5*-0xca9)+(0x106f+0x8*0xb+-0x10c5)];},Be[Fn]=(_0x24f02c,_0x52f8b9,_0x41016d,_0x285cce)=>{const _0x5269f8=_0x24f02c['storageUin'+'t32'];_0x5269f8[_0x41016d]=_0x52f8b9;},Be[Nn]=(_0x3a9c49,_0x392ea0,_0x2e7af2,_0x1cf6be)=>{const _0x15194c=_0x3a9c49['storageUin'+'t32'];_0x15194c[_0x2e7af2]=_0x392ea0[0x1e35+0x85*0x1a+-0x2bb7],_0x15194c[_0x2e7af2+(0x66d+0xf1*0x11+-0x166d)]=_0x392ea0[0x1992+-0x1531+-0x23*0x20];},Be[kn]=(_0x102594,_0x590153,_0x50b358,_0x1661a9)=>{const _0x8e9e47=_0x102594['storageUin'+'t32'];_0x8e9e47[_0x50b358]=_0x590153[-0x1*0x2fb+-0x1727*0x1+0xf*0x1be],_0x8e9e47[_0x50b358+(0x3f3*0x6+0xd*-0x1e5+0x8*0x1e)]=_0x590153[0x22ef+0x60*-0x1e+-0x2*0xbd7],_0x8e9e47[_0x50b358+(-0x64c+-0xf92+0x15e0)]=_0x590153[0x23db+0xcfd+-0x30d6];},Be[Un]=(_0x59119b,_0x26a108,_0x2732c0,_0x205ee1)=>{const _0x149036=_0x59119b['storageUin'+'t32'];_0x149036[_0x2732c0]=_0x26a108[-0x60*0x49+-0x746+0x22a6],_0x149036[_0x2732c0+(-0x18d*-0x13+-0x957+-0x141f*0x1)]=_0x26a108[0x36d*0x5+-0x12e+-0x9d*0x1a],_0x149036[_0x2732c0+(-0x28b*-0x9+0x1c97*-0x1+-0x2db*-0x2)]=_0x26a108[0x107c+-0x8b*0x13+-0x629],_0x149036[_0x2732c0+(-0x17*-0x19c+0x102c+-0x1*0x352d)]=_0x26a108[-0x22*-0xd3+0x372+-0x1f75];},Be[Bn]=function(_0x219d79,_0x29c559,_0x505fdf,_0x52e152){const _0x5e2937=_0x219d79['storageInt'+'32'];for(let _0x1bd4d5=0xdb2+-0xd53*-0x1+-0x1*0x1b05;_0x1bd4d5<_0x52e152;_0x1bd4d5++)_0x5e2937[_0x505fdf+_0x1bd4d5*(-0x1*-0x3c2+-0xf79+0xbbb)]=_0x29c559[_0x1bd4d5];},Be[gd]=Be[Bn],Be[_d]=function(_0x40a2a5,_0xd83224,_0x5e2bfd,_0x1cf009){const _0x22f08d=_0x40a2a5['storageUin'+'t32'];for(let _0x1b854d=-0x3*-0x552+0x259*-0xe+-0x4*-0x43a;_0x1b854d<_0x1cf009;_0x1b854d++)_0x22f08d[_0x5e2bfd+_0x1b854d*(0x23d7+-0x53*0x1f+-0x19c6)]=_0xd83224[_0x1b854d];},Be[zn]=(_0xac8879,_0xa1340a,_0x1391d3,_0x9a3912)=>{const _0x3bdf84=_0xac8879['storageInt'+'32'];for(let _0x159e17=0x1*-0x241+0x1ece+0x1c8d*-0x1;_0x159e17<_0x9a3912;_0x159e17++)_0x3bdf84[_0x1391d3+_0x159e17*(0x15e3+-0x1*-0x254d+-0x4*0xecb)]=_0xa1340a[_0x159e17*(0x25c5+0x57b+-0xf*0x2e2)],_0x3bdf84[_0x1391d3+_0x159e17*(-0x1802*-0x1+-0x2336+0xb38)+(-0x11*-0x22f+-0x271+0xb*-0x327)]=_0xa1340a[_0x159e17*(-0x1e12+-0x4*-0x7eb+-0x198)+(-0x1a6*-0x9+-0x1c6*-0x1+-0x109b)];},Be[yd]=Be[zn],Be[Sd]=(_0x43674d,_0x1e9954,_0x34a711,_0x3bf185)=>{const _0x331cf3=_0x43674d['storageUin'+'t32'];for(let _0x5bbee4=0x10d7+0x2425+-0x34fc;_0x5bbee4<_0x3bf185;_0x5bbee4++)_0x331cf3[_0x34a711+_0x5bbee4*(-0x203b+-0x342+0x1*0x2381)]=_0x1e9954[_0x5bbee4*(0x254c+-0x2*-0xb5+-0x26b4)],_0x331cf3[_0x34a711+_0x5bbee4*(0x170+-0x9c0+0x854)+(0x1*-0x611+-0x1dca+-0x2d*-0xcc)]=_0x1e9954[_0x5bbee4*(0x1216+0x575+0x4b5*-0x5)+(0x1*0x67d+0xb*-0x199+-0xb17*-0x1)];},Be[Vn]=(_0x4fb283,_0x5872a7,_0x5f064f,_0x56f088)=>{const _0x4d733c=_0x4fb283['storageInt'+'32'];for(let _0xd2b321=-0x3*0x925+-0x1743+0x32b2;_0xd2b321<_0x56f088;_0xd2b321++)_0x4d733c[_0x5f064f+_0xd2b321*(0x2*0x18+-0x31d*0x8+0x18bc)]=_0x5872a7[_0xd2b321*(-0x1498+-0xf7a*0x1+-0xc07*-0x3)],_0x4d733c[_0x5f064f+_0xd2b321*(-0x74e+-0x5*-0x64d+-0x182f)+(-0x1*0x2572+0x1fc3+0x5b0)]=_0x5872a7[_0xd2b321*(-0x3*0x2ab+-0xf93+0x29f*0x9)+(-0x1a99+-0x1ca3+-0x4f*-0xb3)],_0x4d733c[_0x5f064f+_0xd2b321*(0xf9*-0x1+-0xd93+0x748*0x2)+(-0x41*0x3c+0x1*-0x1d86+0x776*0x6)]=_0x5872a7[_0xd2b321*(-0x1*0xc85+-0xc0a*0x2+-0x8e*-0x42)+(0x3*0xcb6+-0x399*0x5+0x407*-0x5)];},Be[xd]=Be[Vn],Be[vd]=(_0x4f5945,_0x57675c,_0xa71bda,_0x55d141)=>{const _0x37f769=_0x4f5945['storageUin'+'t32'];for(let _0x396c65=-0x53d*-0x3+0x105e+-0x2015;_0x396c65<_0x55d141;_0x396c65++)_0x37f769[_0xa71bda+_0x396c65*(-0x18ba+-0x2593+0x3e51)]=_0x57675c[_0x396c65*(-0x2551+0x1*-0xb69+0x30bd)],_0x37f769[_0xa71bda+_0x396c65*(-0x8*-0x2fe+0x437*-0x1+-0x13b5)+(0xda3*0x1+-0x101*-0x17+0x4f*-0x77)]=_0x57675c[_0x396c65*(0x1*-0xd01+-0x371*0x2+0x13e6)+(-0x25b+-0x204b+0x22a7)],_0x37f769[_0xa71bda+_0x396c65*(-0x1*-0x110b+0x2303*0x1+-0x1*0x340a)+(0x2*-0x7cd+0x13ca+-0x42e)]=_0x57675c[_0x396c65*(-0x2c*0xae+-0x19b5+-0x1bd*-0x20)+(0x128f+-0xa45+-0x848)];};class zp{constructor(_0x562850,_0x17b9a8,_0x468f88=!(0x4*0x245+0x2f*0x5b+-0x19c9)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x1d9d+-0x21b4+0x417);if(this['device']=_0x562850,this['format']=_0x17b9a8,this['persistent']=_0x468f88,w['assert'](_0x17b9a8),_0x468f88){this['impl']=_0x562850['createUnif'+'ormBufferI'+'mpl'](this);const _0x2d8597=new ArrayBuffer(_0x17b9a8['byteSize']);this['assignStor'+'age'](new Int32Array(_0x2d8597)),_0x562850['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x4660c8=this['device'];this['impl']['destroy'](_0x4660c8),_0x4660c8['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1b81+0x325+0x185c:this['allocation']['offset'];}['assignStor'+'age'](_0x189e20){this['storageInt'+'32']=_0x189e20,this['storageUin'+'t32']=new Uint32Array(_0x189e20['buffer'],_0x189e20['byteOffset'],_0x189e20['byteLength']/(-0x1807+0x3*-0x2a1+0xff7*0x2)),this['storageFlo'+'at32']=new Float32Array(_0x189e20['buffer'],_0x189e20['byteOffset'],_0x189e20['byteLength']/(-0xd15*0x1+-0x17d0+0x24e9));}['loseContex'+'t'](){var _0x470b39;(_0x470b39=this['impl'])==null||_0x470b39['loseContex'+'t']();}['setUniform'](_0x2ce487,_0x45d142){w['assert'](_0x2ce487);const _0x4ffe39=_0x2ce487['offset'];if(_0x45d142!=null){const _0x333b5b=Be[_0x2ce487['updateType']];_0x333b5b?_0x333b5b(this,_0x45d142,_0x4ffe39,_0x2ce487['count']):this['storageFlo'+'at32']['set'](_0x45d142,_0x4ffe39);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x2ce487['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x2ce487['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x1bd359,_0x29e4d1){const _0x447777=this['format']['map']['get'](_0x1bd359);w['assert'](_0x447777,'Uniform\x20na'+'me\x20['+_0x1bd359+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x447777&&this['setUniform'](_0x447777,_0x29e4d1);}['startUpdat'+'e'](_0x49956e){if(!this['persistent']){const _0x21dd98=this['allocation'],_0x559feb=_0x21dd98['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x21dd98,this['format']['byteSize']),this['assignStor'+'age'](_0x21dd98['storage']),_0x49956e&&(_0x49956e['bindGroup']=_0x21dd98['gpuBuffer']['getBindGro'+'up'](this),_0x49956e['offsets'][0x35*0x95+0x1e9*0x13+0x1*-0x4324]=_0x21dd98['offset']),_0x559feb!==_0x21dd98['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x3af41d){this['startUpdat'+'e'](_0x3af41d);const _0x4ca804=this['format']['uniforms'];for(let _0x1391d1=0x239e*-0x1+0x244d*-0x1+0x47eb;_0x1391d1<_0x4ca804['length'];_0x1391d1++){const _0x197bf7=_0x4ca804[_0x1391d1]['scopeId']['value'];this['setUniform'](_0x4ca804[_0x1391d1],_0x197bf7);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0xf48+0x1979+0x8*-0x518)),h(this,'_enableReq'+'uest',!(-0x233a+-0x4f*-0x17+0x2*0xe11)),h(this,'_frameTime',-0xb52+-0x6c4*0x2+0x18da);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0xda696c){this['_enableReq'+'uest']=_0xda696c;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x153a+0x1586+-0x2ac0));}['request'](_0x34c31c){this['pastFrameA'+'llocations']['set'](_0x34c31c,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x11eb81,_0x34d48c){if(_0x34d48c){const _0x4e71e7=this['pastFrameA'+'llocations']['get'](_0x11eb81);if(w['assert'](_0x4e71e7['length']===_0x34d48c['length']),_0x34d48c['length']>0xc30+-0x144b+-0x5*-0x19f&&(this['_frameTime']=_0x34d48c['reduce']((_0x29ac85,_0x3008b0)=>_0x29ac85+_0x3008b0,-0x1f29+-0x7bd+0x26e6)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x11eb81+'\x20--');let _0x32b0d6=0x3*-0x393+-0x1f17+-0x3*-0xdf0;for(let _0x29573e=0x2f*0xc4+0xac*-0x18+0xa4*-0x1f;_0x29573e<_0x4e71e7['length'];++_0x29573e){const _0xb7fc9a=_0x4e71e7[_0x29573e];_0x32b0d6+=_0x34d48c[_0x29573e],w['trace'](Gl,_0x34d48c[_0x29573e]['toFixed'](0x2f*0x13+-0x16*0x167+0x1b5f)+'\x20ms\x20'+_0xb7fc9a);}w['trace'](Gl,_0x32b0d6['toFixed'](0x2*-0xf43+0x1a14+0x474)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x11eb81);}['getSlot'](_0x322f0a){const _0x2a2fcd=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x322f0a),_0x2a2fcd;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x45375c){this['bufferId']&&(_0x45375c['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x4cf97a,_0x3d6c30,_0x36a555,_0x2d6637){const _0x565aee=_0x4cf97a['gl'];if(this['bufferId'])_0x565aee['bindBuffer'](_0x36a555,this['bufferId']),_0x565aee['bufferSubD'+'ata'](_0x36a555,0x1b28+-0x1b61+0x39*0x1,_0x2d6637);else{let _0x5c7105;switch(_0x3d6c30){case ms:_0x5c7105=_0x565aee['STATIC_DRA'+'W'];break;case lh:_0x5c7105=_0x565aee['DYNAMIC_DR'+'AW'];break;case ey:_0x5c7105=_0x565aee['STREAM_DRA'+'W'];break;case bx:_0x5c7105=_0x565aee['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x565aee['createBuff'+'er'](),_0x565aee['bindBuffer'](_0x36a555,this['bufferId']),_0x565aee['bufferData'](_0x36a555,_0x2d6637,_0x5c7105);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x4b59a8){super['destroy'](_0x4b59a8),_0x4b59a8['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x1256e5){const _0x2d2552=_0x1256e5['device'];super['unlock'](_0x2d2552,_0x1256e5['usage'],_0x2d2552['gl']['ARRAY_BUFF'+'ER'],_0x1256e5['storage']);}}class qT extends jy{constructor(_0x3331f2){super();const _0x1eb7ac=_0x3331f2['device']['gl'],_0x344188=_0x3331f2['format'];_0x344188===$f?this['glFormat']=_0x1eb7ac['UNSIGNED_B'+'YTE']:_0x344188===Yi?this['glFormat']=_0x1eb7ac['UNSIGNED_S'+'HORT']:_0x344188===wr&&(this['glFormat']=_0x1eb7ac['UNSIGNED_I'+'NT']);}['unlock'](_0x3b9a89){const _0x2c66aa=_0x3b9a89['device'];super['unlock'](_0x2c66aa,_0x3b9a89['usage'],_0x2c66aa['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x3b9a89['storage']);}}class jT{constructor(_0x5aa3d1,_0x2aa351,_0x4da52f,_0x16e9a3){if(this['locationId']=_0x16e9a3,this['scopeId']=_0x5aa3d1['scope']['resolve'](_0x2aa351),this['version']=new Uy(),_0x2aa351['substring'](_0x2aa351['length']-(0x1*-0x106+0x25*0x62+-0xd21))==='[0]')switch(_0x4da52f){case Xs:_0x4da52f=ud;break;case _a:_0x4da52f=Bn;break;case Fn:_0x4da52f=_d;break;case Tn:_0x4da52f=gd;break;case ga:_0x4da52f=pd;break;case ca:_0x4da52f=zn;break;case Nn:_0x4da52f=Sd;break;case tl:_0x4da52f=yd;break;case ds:_0x4da52f=md;break;case ha:_0x4da52f=Vn;break;case kn:_0x4da52f=vd;break;case sl:_0x4da52f=xd;break;case Rn:_0x4da52f=Lp;break;case da:_0x4da52f=gh;break;case Un:_0x4da52f=Rp;break;case il:_0x4da52f=Op;break;}this['dataType']=_0x4da52f,this['value']=[null,null,null,null],this['array']=[];}}let l_=0xee1+-0x1*-0x1871+-0x2752;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x41b60e){this['map']['forEach'](_0x17b190=>{_0x41b60e['gl']['deleteShad'+'er'](_0x17b190);});}['loseContex'+'t'](_0x321fff){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x525fd1){h(this,'compileDur'+'ation',0x4cb*-0x3+-0x1b1*-0x11+-0xe60),(this['init'](),this['compile'](_0x525fd1['device'],_0x525fd1),this['link'](_0x525fd1['device'],_0x525fd1),_0x525fd1['device']['shaders']['push'](_0x525fd1));}['destroy'](_0x5cabb3){this['glProgram']&&(_0x5cabb3['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5aab9e,_0x4100c7){this['compile'](_0x5aab9e,_0x4100c7),this['link'](_0x5aab9e,_0x4100c7);}['compile'](_0x314ba9,_0x1e864d){const _0x341e4f=_0x1e864d['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x314ba9,_0x341e4f['vshader'],!(0x2067+0xe3a+-0x2ea1)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x314ba9,_0x341e4f['fshader'],!(0x48e+-0x17*-0x2+-0x1*0x4bb));}['link'](_0x115a01,_0x5dca62){if(this['glProgram'])return;const _0x3be81a=_0x115a01['gl'];if(_0x3be81a['isContextL'+'ost']())return;let _0x2d3429=-0xaff+0x158d+-0xa8e;w['call'](()=>{this['compileDur'+'ation']=-0x1*-0x10bf+-0x59*0x5d+-0x2a*-0x5f,_0x2d3429=de();});const _0x210600=_0x3be81a['createProg'+'ram']();this['glProgram']=_0x210600,_0x3be81a['attachShad'+'er'](_0x210600,this['glVertexSh'+'ader']),_0x3be81a['attachShad'+'er'](_0x210600,this['glFragment'+'Shader']);const _0x3a25e0=_0x5dca62['definition'],_0x53c79f=_0x3a25e0['attributes'];if(_0x3a25e0['useTransfo'+'rmFeedback']){const _0x35a3ca=[];for(const _0x1b2c2a in _0x53c79f)_0x53c79f['hasOwnProp'+'erty'](_0x1b2c2a)&&_0x35a3ca['push']('out_'+_0x1b2c2a);_0x3be81a['transformF'+'eedbackVar'+'yings'](_0x210600,_0x35a3ca,_0x3be81a['INTERLEAVE'+'D_ATTRIBS']);}const _0x2f9233={};for(const _0x5681f6 in _0x53c79f)if(_0x53c79f['hasOwnProp'+'erty'](_0x5681f6)){const _0xc77c5d=_0x53c79f[_0x5681f6],_0xbe8b1b=Le[_0xc77c5d];w['assert'](!_0x2f9233['hasOwnProp'+'erty'](_0xbe8b1b),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x2f9233[_0xbe8b1b]+'\x20and\x20'+_0x5681f6),_0x2f9233[_0xbe8b1b]=_0x5681f6,_0x3be81a['bindAttrib'+'Location'](_0x210600,_0xbe8b1b,_0x5681f6);}_0x3be81a['linkProgra'+'m'](_0x210600),w['call'](()=>{this['compileDur'+'ation']=de()-_0x2d3429;}),_0x115a01['_shaderSta'+'ts']['linked']++,_0x3a25e0['tag']===Sy&&_0x115a01['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x2c6520,_0x4ec930,_0x33c22c){const _0x45c8d1=_0x2c6520['gl'];if(_0x45c8d1['isContextL'+'ost']())return null;const _0x4ba4ce=(_0x33c22c?ZT:QT)['get'](_0x2c6520,()=>new KT());let _0x12256a=_0x4ba4ce['map']['get'](_0x4ec930);if(!_0x12256a){const _0x451284=de();_0x2c6520['fire']('shader:com'+'pile:start',{'timestamp':_0x451284,'target':_0x2c6520}),_0x12256a=_0x45c8d1['createShad'+'er'](_0x33c22c?_0x45c8d1['VERTEX_SHA'+'DER']:_0x45c8d1['FRAGMENT_S'+'HADER']),_0x45c8d1['shaderSour'+'ce'](_0x12256a,_0x4ec930),_0x45c8d1['compileSha'+'der'](_0x12256a),_0x4ba4ce['map']['set'](_0x4ec930,_0x12256a);const _0x50b002=de();_0x2c6520['fire']('shader:com'+'pile:end',{'timestamp':_0x50b002,'target':_0x2c6520}),_0x2c6520['_shaderSta'+'ts']['compileTim'+'e']+=_0x50b002-_0x451284,_0x33c22c?_0x2c6520['_shaderSta'+'ts']['vsCompiled']++:_0x2c6520['_shaderSta'+'ts']['fsCompiled']++;}return _0x12256a;}['finalize'](_0x17cdbb,_0xef3d2e){var _0x25df77,_0x17fcf9;const _0x47c032=_0x17cdbb['gl'];if(_0x47c032['isContextL'+'ost']())return!(0x5e3+-0x220*-0xf+0x565*-0x7);const _0x21d13d=this['glProgram'],_0x1c6c2f=_0xef3d2e['definition'],_0x1e7283=de();_0x17cdbb['fire']('shader:lin'+'k:start',{'timestamp':_0x1e7283,'target':_0x17cdbb});let _0x289ab6=0x1ad4+0x1ae4*-0x1+0x10;if(w['call'](()=>{_0x289ab6=de();}),!_0x47c032['getProgram'+'Parameter'](_0x21d13d,_0x47c032['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x17cdbb,_0xef3d2e,this['glVertexSh'+'ader'],_0x1c6c2f['vshader'],'vertex')||!this['_isCompile'+'d'](_0x17cdbb,_0xef3d2e,this['glFragment'+'Shader'],_0x1c6c2f['fshader'],'fragment'))return!(0x35*0x4+0x959+0x2a*-0x3e);const _0x5f075e='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x47c032['getProgram'+'InfoLog'](_0x21d13d);return _0x1c6c2f['translated'+'Frag']=(_0x25df77=_0x47c032['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x14ef+-0x1147*-0x2+0xd9f*-0x1):_0x25df77['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x1c6c2f['translated'+'Vert']=(_0x17fcf9=_0x47c032['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1ff6+-0x1be6*-0x1+-0x1*-0x410):_0x17fcf9['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x5f075e,_0x1c6c2f),console['error'](_0x5f075e),!(-0x1eb*0xb+0x1571+-0x3*0x1d);}const _0x2aa5e5=_0x47c032['getProgram'+'Parameter'](_0x21d13d,_0x47c032['ACTIVE_ATT'+'RIBUTES']);_0xef3d2e['attributes']['clear']();for(let _0x259333=-0x499*-0x7+-0x1*-0x10f5+-0x5*0x9d4;_0x259333<_0x2aa5e5;_0x259333++){const _0x20d0cc=_0x47c032['getActiveA'+'ttrib'](_0x21d13d,_0x259333),_0x41cf63=_0x47c032['getAttribL'+'ocation'](_0x21d13d,_0x20d0cc['name']);YT['has'](_0x20d0cc['name'])||(_0x1c6c2f['attributes'][_0x20d0cc['name']]===void(0x2227*-0x1+-0x260+0x2487)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x20d0cc['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0xef3d2e['label']+']',_0xef3d2e),_0xef3d2e['failed']=!(-0x1a7c+-0x38c*0x6+-0x7f6*-0x6)):_0xef3d2e['attributes']['set'](_0x41cf63,_0x20d0cc['name']));}const _0x48e8a1=_0x17cdbb['_samplerTy'+'pes'],_0x63a420=_0x47c032['getProgram'+'Parameter'](_0x21d13d,_0x47c032['ACTIVE_UNI'+'FORMS']);for(let _0x573511=0x26f4+0x192d+-0x4021;_0x573511<_0x63a420;_0x573511++){const _0x3a4b7c=_0x47c032['getActiveU'+'niform'](_0x21d13d,_0x573511),_0x45277b=_0x47c032['getUniform'+'Location'](_0x21d13d,_0x3a4b7c['name']),_0x39200a=new jT(_0x17cdbb,_0x3a4b7c['name'],_0x17cdbb['pcUniformT'+'ype'][_0x3a4b7c['type']],_0x45277b);_0x48e8a1['has'](_0x3a4b7c['type'])?this['samplers']['push'](_0x39200a):this['uniforms']['push'](_0x39200a);}_0xef3d2e['ready']=!(0x1da6+-0x19*0x89+0x7*-0x253);const _0x4e09d9=de();return _0x17cdbb['fire']('shader:lin'+'k:end',{'timestamp':_0x4e09d9,'target':_0x17cdbb}),_0x17cdbb['_shaderSta'+'ts']['compileTim'+'e']+=_0x4e09d9-_0x1e7283,w['call'](()=>{const _0x11a0cf=de()-_0x289ab6;this['compileDur'+'ation']+=_0x11a0cf,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0xef3d2e['id']+']\x20'+_0xef3d2e['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x1e51+-0x26bc+-0x2*-0x436)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x40b+0x1b6*0x5+-0xc98)+'ms');}),!(-0x1615+-0x3e6*-0x3+0xa63);}['_isCompile'+'d'](_0x542e8a,_0x9aae8a,_0xca116d,_0x5a0268,_0x3fde3f){const _0x42817d=_0x542e8a['gl'];if(!_0x42817d['getShaderP'+'arameter'](_0xca116d,_0x42817d['COMPILE_ST'+'ATUS'])){const _0x3d0bba=_0x42817d['getShaderI'+'nfoLog'](_0xca116d),[_0x941496,_0x13177f]=this['_processEr'+'ror'](_0x5a0268,_0x3d0bba),_0x245c4f='Failed\x20to\x20'+'compile\x20'+_0x3fde3f+'\x20shader:\x0a\x0a'+_0x3d0bba+'\x0a'+_0x941496+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x13177f['shader']=_0x9aae8a,console['error'](_0x245c4f,_0x13177f),console['error'](_0x245c4f),!(0x4*0x605+-0x1a*0x72+0x1c9*-0x7);}return!(-0x1*-0x1d15+0x13c9+-0x30de);}['isLinked'](_0x471148){const {extParallelShaderCompile:_0x370665}=_0x471148;return _0x370665?_0x471148['gl']['getProgram'+'Parameter'](this['glProgram'],_0x370665['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*-0x1355+-0xb3*0x1+0x502*0x4);}['_processEr'+'ror'](_0xe661d2,_0x5c6888){const _0x58e377={};let _0x4e4cb6='';if(_0xe661d2){const _0x13add3=_0xe661d2['split']('\x0a');let _0x1a6746=0x3*-0x11b+0x1*0x631+-0x2*0x170,_0x1137af=_0x13add3['length'];if(_0x5c6888&&_0x5c6888['startsWith']('ERROR:')){const _0x34b414=_0x5c6888['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x34b414&&(_0x58e377['message']=_0x34b414[0x3*0x337+-0x3c6*-0x6+0x36*-0x99],_0x58e377['line']=parseInt(_0x34b414[-0x1a14+-0x2*0x791+0x2938],-0x1cd+0x1*0x14de+-0x1307),_0x1a6746=Math['max'](0x1d16*-0x1+-0x26d7+0x43ed,_0x58e377['line']-(-0x1d62+-0x27*0x6c+0x1*0x2ddc)),_0x1137af=Math['min'](_0x13add3['length'],_0x58e377['line']+(0x942+-0x1ea+-0x3*0x271)));}for(let _0xa7b6fa=_0x1a6746;_0xa7b6fa<_0x1137af;_0xa7b6fa++){const _0x5e665c=_0xa7b6fa+(0xe64+-0x5d8+-0x88b)===_0x58e377['line']?'>\x20':'\x20\x20';_0x4e4cb6+=''+_0x5e665c+(_0xa7b6fa+(-0xa61*-0x1+-0x2*-0xd8b+-0x2576))+':\x09'+_0x13add3[_0xa7b6fa]+'\x0a';}_0x58e377['source']=_0xe661d2;}return[_0x4e4cb6,_0x58e377];}}function c_(_0x1a017d,_0x1cb46a){const _0x347a81=_0x1a017d['width'],_0x2c4585=_0x1a017d['height'];if(_0x347a81>_0x1cb46a||_0x2c4585>_0x1cb46a){const _0x5e77e5=_0x1cb46a/Math['max'](_0x347a81,_0x2c4585),_0x5204e4=Math['floor'](_0x347a81*_0x5e77e5),_0x403767=Math['floor'](_0x2c4585*_0x5e77e5);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x1cb46a+('.\x20Resizing'+'\x20from\x20')+_0x347a81+',\x20'+_0x2c4585+'\x20to\x20'+_0x5204e4+',\x20'+_0x403767+'.');const _0x5a6285=document['createElem'+'ent']('canvas');return _0x5a6285['width']=_0x5204e4,_0x5a6285['height']=_0x403767,_0x5a6285['getContext']('2d')['drawImage'](_0x1a017d,-0x1*0x2011+-0x94f*-0x3+0x424,-0xf49+-0x92*-0x5+0xc6f,_0x347a81,_0x2c4585,0x1e2f+0xff*-0x9+-0x1538,-0x466+-0x1*-0x2443+-0xa9f*0x3,_0x5204e4,_0x403767),_0x5a6285;}return _0x1a017d;}class ew{constructor(_0x355a31){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x7b3+-0x1*0x1246+0x1*0x19f9),this['texture']=_0x355a31;}['destroy'](_0x1170d4){if(this['_glTexture']){for(let _0x2d92b2=-0x115f+-0x200a+0x1*0x3169;_0x2d92b2<_0x1170d4['textureUni'+'ts']['length'];_0x2d92b2++){const _0xf2ad78=_0x1170d4['textureUni'+'ts'][_0x2d92b2];for(let _0x3d6da7=0x67*-0x47+0xeb8+-0xdd9*-0x1;_0x3d6da7<_0xf2ad78['length'];_0x3d6da7++)_0xf2ad78[_0x3d6da7]===this['_glTexture']&&(_0xf2ad78[_0x3d6da7]=null);}_0x1170d4['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x1cf407){this['dirtyParam'+'eterFlags']|=_0x1cf407;}['initialize'](_0x16dfc6,_0x428183){const _0x423ece=_0x16dfc6['gl'];switch(this['_glTexture']=_0x423ece['createText'+'ure'](),this['_glTarget']=_0x428183['_cubemap']?_0x423ece['TEXTURE_CU'+'BE_MAP']:_0x428183['_volume']?_0x423ece['TEXTURE_3D']:_0x428183['array']?_0x423ece['TEXTURE_2D'+'_ARRAY']:_0x423ece['TEXTURE_2D'],_0x428183['_format']){case ty:this['_glFormat']=_0x423ece['ALPHA'],this['_glInterna'+'lFormat']=_0x423ece['ALPHA'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x423ece['LUMINANCE'],this['_glInterna'+'lFormat']=_0x423ece['LUMINANCE'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x423ece['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x423ece['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x423ece['RED'],this['_glInterna'+'lFormat']=_0x423ece['R8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x423ece['RG'],this['_glInterna'+'lFormat']=_0x423ece['RG8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['RGB565'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['RGB5_A1'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['RGBA4'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['RGB8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['RGBA8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x423ece['SRGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x423ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x423ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x423ece['SRGB'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x423ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x423ece['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x16dfc6['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x16dfc6['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x423ece['RED'],this['_glInterna'+'lFormat']=_0x423ece['R16F'],this['_glPixelTy'+'pe']=_0x423ece['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x423ece['RG'],this['_glInterna'+'lFormat']=_0x423ece['RG16F'],this['_glPixelTy'+'pe']=_0x423ece['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['RGB16F'],this['_glPixelTy'+'pe']=_0x423ece['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['RGBA16F'],this['_glPixelTy'+'pe']=_0x423ece['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['RGB32F'],this['_glPixelTy'+'pe']=_0x423ece['FLOAT'];break;case Xt:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['RGBA32F'],this['_glPixelTy'+'pe']=_0x423ece['FLOAT'];break;case Ji:this['_glFormat']=_0x423ece['RED'],this['_glInterna'+'lFormat']=_0x423ece['R32F'],this['_glPixelTy'+'pe']=_0x423ece['FLOAT'];break;case $i:this['_glFormat']=_0x423ece['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x423ece['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x423ece['FLOAT'];break;case vn:this['_glFormat']=_0x423ece['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x423ece['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x423ece['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x423ece['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x423ece['RGB'],this['_glInterna'+'lFormat']=_0x423ece['SRGB8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x423ece['RGBA'],this['_glInterna'+'lFormat']=_0x423ece['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R8I'],this['_glPixelTy'+'pe']=_0x423ece['BYTE'];break;case oy:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R8UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R16I'],this['_glPixelTy'+'pe']=_0x423ece['SHORT'];break;case up:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R16UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R32I'],this['_glPixelTy'+'pe']=_0x423ece['INT'];break;case Ki:this['_glFormat']=_0x423ece['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x423ece['R32UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG8I'],this['_glPixelTy'+'pe']=_0x423ece['BYTE'];break;case ly:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG8UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG16I'],this['_glPixelTy'+'pe']=_0x423ece['SHORT'];break;case gp:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG16UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG32I'],this['_glPixelTy'+'pe']=_0x423ece['INT'];break;case yp:this['_glFormat']=_0x423ece['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x423ece['RG32UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA8I'],this['_glPixelTy'+'pe']=_0x423ece['BYTE'];break;case cy:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA8UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA16I'],this['_glPixelTy'+'pe']=_0x423ece['SHORT'];break;case nd:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA16UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA32I'],this['_glPixelTy'+'pe']=_0x423ece['INT'];break;case Ue:this['_glFormat']=_0x423ece['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x423ece['RGBA32UI'],this['_glPixelTy'+'pe']=_0x423ece['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x3*0xaab+0x6*0x4e1+-0x3d46);}['upload'](_0x1d0812,_0x142f2b){w['assert'](_0x142f2b['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x142f2b);const _0x5810e7=_0x1d0812['gl'];if(!_0x142f2b['_needsUplo'+'ad']&&(_0x142f2b['_needsMipm'+'apsUpload']&&_0x142f2b['_mipmapsUp'+'loaded']||!_0x142f2b['pot']))return;let _0x37e297=-0x1d66+0x2*0xb3+0x1c00,_0x4d536b,_0x4d528;const _0x19c03c=_0x142f2b['numLevels'];for(_0x142f2b['array']&&_0x5810e7['texStorage'+'3D'](_0x5810e7['TEXTURE_2D'+'_ARRAY'],_0x19c03c,this['_glInterna'+'lFormat'],_0x142f2b['_width'],_0x142f2b['_height'],_0x142f2b['_arrayLeng'+'th']);_0x142f2b['_levels'][_0x37e297]||_0x37e297===0x2*-0xf49+0x173d+0x755;){if(!_0x142f2b['_needsUplo'+'ad']&&_0x37e297===-0x4*-0x4d8+-0x24*0xca+-0x484*-0x2){_0x37e297++;continue;}else{if(_0x37e297&&(!_0x142f2b['_needsMipm'+'apsUpload']||!_0x142f2b['_mipmaps']))break;}if(_0x4d536b=_0x142f2b['_levels'][_0x37e297],_0x4d528=(-0x184d*-0x1+-0x1bd9+0x38d)/Math['pow'](-0x2+-0xbff+-0x1*-0xc03,_0x37e297),_0x37e297===-0x1be0+-0x1d8a+-0x396b*-0x1&&!_0x142f2b['_compresse'+'d']&&!_0x142f2b['_integerFo'+'rmat']&&_0x142f2b['_levels']['length']<_0x19c03c&&(_0x5810e7['generateMi'+'pmap'](this['_glTarget']),_0x142f2b['_mipmapsUp'+'loaded']=!(0x647*0x4+0x5c4+-0x1ee0*0x1)),_0x142f2b['_cubemap']){let _0x18d4d7;if(_0x1d0812['_isBrowser'+'Interface'](_0x4d536b[-0x247*-0xf+0x1*-0x2645+-0x1*-0x41c]))for(_0x18d4d7=-0xa*0x7+0x1780+-0x3*0x7be;_0x18d4d7<0x1*-0x2682+-0xf25+0x35ad;_0x18d4d7++){if(!_0x142f2b['_levelsUpd'+'ated'][-0x1a66+0x19dc+-0x3*-0x2e][_0x18d4d7])continue;let _0x35ff77=_0x4d536b[_0x18d4d7];_0x1d0812['_isImageBr'+'owserInter'+'face'](_0x35ff77)&&(_0x35ff77['width']>_0x1d0812['maxCubeMap'+'Size']||_0x35ff77['height']>_0x1d0812['maxCubeMap'+'Size'])&&(_0x35ff77=c_(_0x35ff77,_0x1d0812['maxCubeMap'+'Size']),_0x37e297===0xb87+-0x22*0xc7+0xee7&&(_0x142f2b['_width']=_0x35ff77['width'],_0x142f2b['_height']=_0x35ff77['height'])),_0x1d0812['setUnpackF'+'lipY'](!(0xaf5+-0xf27+0xd7*0x5)),_0x1d0812['setUnpackP'+'remultiply'+'Alpha'](_0x142f2b['_premultip'+'lyAlpha']),this['_glCreated']?_0x5810e7['texSubImag'+'e2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,0x1*0x1723+0x239b+-0x3abe,0x11e*0xb+0x1*0x481+-0x10cb*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x35ff77):_0x5810e7['texImage2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x35ff77);}else for(_0x4d528=(0x103b+0x1*-0x5a5+-0x9*0x12d)/Math['pow'](0x1336*0x1+-0x622+-0xd12,_0x37e297),_0x18d4d7=0x1609+-0x24b1+-0xea8*-0x1;_0x18d4d7<-0x1414+0x37d*0x1+0x109d;_0x18d4d7++){if(!_0x142f2b['_levelsUpd'+'ated'][-0x872+0x612+0x260][_0x18d4d7])continue;const _0x5bf158=_0x4d536b[_0x18d4d7];_0x142f2b['_compresse'+'d']?this['_glCreated']&&_0x5bf158?_0x5810e7['compressed'+'TexSubImag'+'e2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,0x33*-0xe+-0x45*-0x71+-0x1bab,-0x985*0x1+0x47*-0x20+0x1265,Math['max'](_0x142f2b['_width']*_0x4d528,-0x70c+0x1*-0xabb+0x11c8),Math['max'](_0x142f2b['_height']*_0x4d528,-0x2113+-0x1a54*-0x1+-0x4*-0x1b0),this['_glInterna'+'lFormat'],_0x5bf158):_0x5810e7['compressed'+'TexImage2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,this['_glInterna'+'lFormat'],Math['max'](_0x142f2b['_width']*_0x4d528,0x1697+-0x25d5+0xf3f),Math['max'](_0x142f2b['_height']*_0x4d528,0x4*0x41e+0x16ff+-0x1*0x2776),-0x146a+0x7*-0x331+0xc7*0x37,_0x5bf158):(_0x1d0812['setUnpackF'+'lipY'](!(0x1219+-0x1*-0x1d7f+-0x2f97*0x1)),_0x1d0812['setUnpackP'+'remultiply'+'Alpha'](_0x142f2b['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5bf158?_0x5810e7['texSubImag'+'e2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,0x969*0x4+0x2*-0x741+0x7b6*-0x3,-0xc*-0x293+0x20f8+-0x3fdc,Math['max'](_0x142f2b['_width']*_0x4d528,0x9*-0x16e+-0xac*-0x2e+-0x1209),Math['max'](_0x142f2b['_height']*_0x4d528,0x1aa*-0xe+0x1da1+-0x1e*0x36),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5bf158):_0x5810e7['texImage2D'](_0x5810e7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18d4d7,_0x37e297,this['_glInterna'+'lFormat'],Math['max'](_0x142f2b['_width']*_0x4d528,-0x144c+-0x10dd+-0x1*-0x252a),Math['max'](_0x142f2b['_height']*_0x4d528,0x1bb6+-0x77*-0xd+-0x6c*0x50),0x4*0x955+0x57*-0x63+0x1*-0x3af,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5bf158));}}else{if(_0x142f2b['_volume'])_0x142f2b['_compresse'+'d']?_0x5810e7['compressed'+'TexImage3D'](_0x5810e7['TEXTURE_3D'],_0x37e297,this['_glInterna'+'lFormat'],Math['max'](_0x142f2b['_width']*_0x4d528,0x239e+0x1eb*-0x1+0x26*-0xe3),Math['max'](_0x142f2b['_height']*_0x4d528,0x2541+0x10e5+0x3625*-0x1),Math['max'](_0x142f2b['_depth']*_0x4d528,-0x730*-0x2+-0x3*-0x7a2+0x7*-0x553),-0x2401+0xe3f+0x15c2,_0x4d536b):(_0x1d0812['setUnpackF'+'lipY'](!(-0x1*0xdbd+0x18c2+-0xb04)),_0x1d0812['setUnpackP'+'remultiply'+'Alpha'](_0x142f2b['_premultip'+'lyAlpha']),_0x5810e7['texImage3D'](_0x5810e7['TEXTURE_3D'],_0x37e297,this['_glInterna'+'lFormat'],Math['max'](_0x142f2b['_width']*_0x4d528,-0x2417+0x116*0x1b+-0x22*-0x33),Math['max'](_0x142f2b['_height']*_0x4d528,-0x74*0x6+-0x7d*-0x1+0x23c*0x1),Math['max'](_0x142f2b['_depth']*_0x4d528,0x21fa+-0xb*0x19c+0x7*-0x253),0x16bd*-0x1+-0x1c*-0xee+-0x3*0x119,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b));else{if(_0x142f2b['array']&&typeof _0x4d536b=='object'){if(_0x142f2b['_arrayLeng'+'th']===_0x4d536b['length']){if(_0x142f2b['_compresse'+'d']){for(let _0x4f7b2d=-0x1c4a+0x20d0+0x1*-0x486;_0x4f7b2d<_0x142f2b['_arrayLeng'+'th'];_0x4f7b2d++)_0x5810e7['compressed'+'TexSubImag'+'e3D'](_0x5810e7['TEXTURE_2D'+'_ARRAY'],_0x37e297,-0x107*-0x10+-0x617*0x3+0x1d5,0x1*0x1f76+0x2a5*-0x1+-0x1cd1*0x1,_0x4f7b2d,Math['max'](Math['floor'](_0x142f2b['_width']*_0x4d528),-0x2*0xe27+0x1ae3+0x16c),Math['max'](Math['floor'](_0x142f2b['_height']*_0x4d528),0x1968+-0x767*-0x1+-0x286*0xd),0x52*0x30+0xfb8*-0x2+0x1011,this['_glInterna'+'lFormat'],_0x4d536b[_0x4f7b2d]);}else{for(let _0x3272ac=0x2211+0x23a7+-0x17*0x308;_0x3272ac<_0x142f2b['_arrayLeng'+'th'];_0x3272ac++)_0x5810e7['texSubImag'+'e3D'](_0x5810e7['TEXTURE_2D'+'_ARRAY'],_0x37e297,0x9f*-0x11+-0x6*-0x355+-0xa1*0xf,-0x1*0xd43+-0x1*0x120f+0xd3*0x26,_0x3272ac,Math['max'](Math['floor'](_0x142f2b['_width']*_0x4d528),-0xf56+0x1*0xeb7+0x4*0x28),Math['max'](Math['floor'](_0x142f2b['_height']*_0x4d528),0x2*0xe4e+-0x120b+-0xa90),-0x328+-0x45*0x2f+-0x3f5*-0x4,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b[_0x3272ac]);}}}else{if(_0x1d0812['_isBrowser'+'Interface'](_0x4d536b)){_0x1d0812['_isImageBr'+'owserInter'+'face'](_0x4d536b)&&(_0x4d536b['width']>_0x1d0812['maxTexture'+'Size']||_0x4d536b['height']>_0x1d0812['maxTexture'+'Size'])&&(_0x4d536b=c_(_0x4d536b,_0x1d0812['maxTexture'+'Size']),_0x37e297===0x22a*0xc+-0x1af0+0xf8&&(_0x142f2b['_width']=_0x4d536b['width'],_0x142f2b['_height']=_0x4d536b['height']));const _0x211d52=_0x4d536b['width']||_0x4d536b['videoWidth'],_0x5657e0=_0x4d536b['height']||_0x4d536b['videoHeigh'+'t'];_0x1d0812['setUnpackF'+'lipY'](_0x142f2b['_flipY']),_0x1d0812['setUnpackP'+'remultiply'+'Alpha'](_0x142f2b['_premultip'+'lyAlpha']),this['_glCreated']&&_0x142f2b['_width']===_0x211d52&&_0x142f2b['_height']===_0x5657e0&&!_0x1d0812['_isImageVi'+'deoInterfa'+'ce'](_0x4d536b)?_0x5810e7['texSubImag'+'e2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,0x1b3+-0x24b2+0x22ff,0x1a66+-0x1c06+0x1a0,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b):(_0x5810e7['texImage2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b),_0x37e297===0x1bb9+0x183b*0x1+-0xa*0x532&&(_0x142f2b['_width']=_0x211d52,_0x142f2b['_height']=_0x5657e0));}else _0x4d528=(-0x43c+0x347+0xf6)/Math['pow'](0x838+0x837+-0x106d,_0x37e297),_0x142f2b['_compresse'+'d']?this['_glCreated']&&_0x4d536b?_0x5810e7['compressed'+'TexSubImag'+'e2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,0x241+-0x8e*0x13+0x849,0x1*-0x9eb+-0x1c13+0x25fe*0x1,Math['max'](Math['floor'](_0x142f2b['_width']*_0x4d528),0x1*0x419+0x1573+-0x198b),Math['max'](Math['floor'](_0x142f2b['_height']*_0x4d528),-0x13f1+-0x1d6a+0x41d*0xc),this['_glInterna'+'lFormat'],_0x4d536b):_0x5810e7['compressed'+'TexImage2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x142f2b['_width']*_0x4d528),0x11aa+0x11b*0x1d+0x158*-0x25),Math['max'](Math['floor'](_0x142f2b['_height']*_0x4d528),-0x699+-0xef*0xd+0x12bd),0x21a3+-0x1934+-0x86f,_0x4d536b):(_0x1d0812['setUnpackF'+'lipY'](!(-0x1*-0x2581+-0x1ba6+-0xc2*0xd)),_0x1d0812['setUnpackP'+'remultiply'+'Alpha'](_0x142f2b['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4d536b?_0x5810e7['texSubImag'+'e2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,-0x42b+0x237*0xc+-0x1669*0x1,0x1*0x711+-0xf45+0x1a4*0x5,Math['max'](_0x142f2b['_width']*_0x4d528,0xd0*0x1+-0x27a*-0xd+-0x2101),Math['max'](_0x142f2b['_height']*_0x4d528,0xc62*-0x2+0xd*-0x287+-0x20*-0x1cd),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b):_0x5810e7['texImage2D'](_0x5810e7['TEXTURE_2D'],_0x37e297,this['_glInterna'+'lFormat'],Math['max'](_0x142f2b['_width']*_0x4d528,-0x1adb+-0x2340+0x3e1c),Math['max'](_0x142f2b['_height']*_0x4d528,-0x85f+-0x2*-0x12b7+-0x1d0e),0x1f79+0x1*-0x393+-0x1be6,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4d536b));_0x37e297===0x265e+-0x1*0x2387+-0x2d7?_0x142f2b['_mipmapsUp'+'loaded']=!(0x3d5*-0x1+0x12ef+-0xf19):_0x142f2b['_mipmapsUp'+'loaded']=!(0x143b*-0x1+-0x15*0x176+-0x32e9*-0x1);}}}_0x37e297++;}if(_0x142f2b['_needsUplo'+'ad']){if(_0x142f2b['_cubemap']){for(let _0x59a841=0xb2a+-0x1b0b+0xfe1;_0x59a841<0x3f2+-0x6ce*0x4+0x354*0x7;_0x59a841++)_0x142f2b['_levelsUpd'+'ated'][-0xe0b+0x15e9*0x1+-0x7de][_0x59a841]=!(0x1*-0x575+0x20fe+0x4*-0x6e2);}else _0x142f2b['_levelsUpd'+'ated'][-0x15*-0x5d+0x61e+0x3*-0x495]=!(0x140a+0x1594+-0x299d);}!_0x142f2b['_compresse'+'d']&&!_0x142f2b['_integerFo'+'rmat']&&_0x142f2b['_mipmaps']&&_0x142f2b['_needsMipm'+'apsUpload']&&_0x142f2b['_levels']['length']===-0x1d09+0x23c5+-0x6bb*0x1&&(_0x5810e7['generateMi'+'pmap'](this['_glTarget']),_0x142f2b['_mipmapsUp'+'loaded']=!(0x5bf+-0xe36*0x1+0x877)),_0x142f2b['_gpuSize']&&_0x142f2b['adjustVram'+'SizeTracki'+'ng'](_0x1d0812['_vram'],-_0x142f2b['_gpuSize']),_0x142f2b['_gpuSize']=_0x142f2b['gpuSize'],_0x142f2b['adjustVram'+'SizeTracki'+'ng'](_0x1d0812['_vram'],_0x142f2b['_gpuSize']),this['_glCreated']=!(-0x9*0x39c+0x33*-0x3b+0x2c3d);}['read'](_0x5b02b8,_0x5eb473,_0x23a134,_0x513e9c,_0x23e894){const _0x1700cf=this['texture'];return _0x1700cf['device']['readTextur'+'eAsync'](_0x1700cf,_0x5b02b8,_0x5eb473,_0x23a134,_0x513e9c,_0x23e894);}['write'](_0xab9455,_0x1627dc,_0x912a66,_0x3db3e0,_0xe5f9){const {texture:_0x362286}=this,{device:_0x548f1e}=_0x362286;return _0x548f1e['setTexture'](_0x362286,-0x1739+-0xa2+0x17db),_0x548f1e['writeTextu'+'reAsync'](_0x362286,_0xab9455,_0x1627dc,_0x912a66,_0x3db3e0,_0xe5f9);}}class tw{constructor(_0x37834b,_0x5d7241){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x37834b,this['resolveFB']=_0x5d7241);}['destroy'](_0x4e2ba3){this['msaaFB']&&(_0x4e2ba3['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x4e2ba3['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(0x22*-0x56+-0x18df+0x244c));}['destroy'](_0x497017){var _0x131488;const _0x579b58=_0x497017['gl'];this['_isInitial'+'ized']=!(0x2a7*-0x1+0xfd8+0x8*-0x1a6),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x579b58['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x579b58['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x579b58['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x35b2c8=>{_0x579b58['deleteRend'+'erbuffer'](_0x35b2c8);}),this['_glMsaaCol'+'orBuffers']['length']=-0x250*0xa+-0x543+0x1c63,(_0x131488=this['colorMrtFr'+'amebuffers'])==null||_0x131488['forEach'](_0x14fad8=>{_0x14fad8['destroy'](_0x579b58);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x497017)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x1632+0x1d0+0x1462);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0xd8674b,_0x130e96){var _0x155836,_0x1abbdc;const _0x5c0603=_0xd8674b['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x1*0x17f+-0x92c+0xaab);const _0x1b370d=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1*-0x23ff+-0x758+-0x1ca7))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x130e96['width']<=-0x14*-0x5e+-0x55b*-0x4+-0x2*0xe62||_0x130e96['height']<=0x2546+-0x1*0x103d+-0x1509)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x130e96['width']+'\x20x\x20'+_0x130e96['height'],_0x130e96);}),this['_glFrameBu'+'ffer']=_0x5c0603['createFram'+'ebuffer'](),_0xd8674b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1dcfe0=((_0x155836=_0x130e96['_colorBuff'+'ers'])==null?void(0x1*-0x73e+-0x1071+-0x8d*-0x2b):_0x155836['length'])??0x1743+-0x28*-0x7a+-0xc5*0x37,_0x492650=_0x5c0603['COLOR_ATTA'+'CHMENT0'];for(let _0x47a52d=-0x8bd+-0x1075+0x1932;_0x47a52d<_0x1dcfe0;++_0x47a52d){const _0xf2672f=_0x130e96['getColorBu'+'ffer'](_0x47a52d);_0xf2672f&&(_0xf2672f['impl']['_glTexture']||(_0xf2672f['_width']=Math['min'](_0xf2672f['width'],_0xd8674b['maxRenderB'+'ufferSize']),_0xf2672f['_height']=Math['min'](_0xf2672f['height'],_0xd8674b['maxRenderB'+'ufferSize']),_0xd8674b['setTexture'](_0xf2672f,0x21a3+-0x25c5+-0x1*-0x422)),_0x5c0603['framebuffe'+'rTexture2D'](_0x5c0603['FRAMEBUFFE'+'R'],_0x492650+_0x47a52d,_0xf2672f['_cubemap']?_0x5c0603['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x130e96['_face']:_0x5c0603['TEXTURE_2D'],_0xf2672f['impl']['_glTexture'],_0x130e96['mipLevel']),_0x1b370d['push'](_0x492650+_0x47a52d));}_0x5c0603['drawBuffer'+'s'](_0x1b370d);const _0x4a0889=_0x130e96['_depthBuff'+'er'];if(_0x4a0889||_0x130e96['_depth']){const _0x27cbf4=_0x130e96['_stencil']?_0x5c0603['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x5c0603['DEPTH_ATTA'+'CHMENT'];if(_0x4a0889)_0x4a0889['impl']['_glTexture']||(_0x4a0889['_width']=Math['min'](_0x4a0889['width'],_0xd8674b['maxRenderB'+'ufferSize']),_0x4a0889['_height']=Math['min'](_0x4a0889['height'],_0xd8674b['maxRenderB'+'ufferSize']),_0xd8674b['setTexture'](_0x4a0889,-0x4e1*0x1+-0xbf8*0x1+0x10d9)),_0x5c0603['framebuffe'+'rTexture2D'](_0x5c0603['FRAMEBUFFE'+'R'],_0x27cbf4,_0x4a0889['_cubemap']?_0x5c0603['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x130e96['_face']:_0x5c0603['TEXTURE_2D'],_0x130e96['_depthBuff'+'er']['impl']['_glTexture'],_0x130e96['mipLevel']);else{if(!(_0x130e96['_samples']>0x4*0x778+-0xdb5+-0x2*0x815)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x5c0603['createRend'+'erbuffer']());const _0x128898=_0x130e96['_stencil']?_0x5c0603['DEPTH24_ST'+'ENCIL8']:_0x5c0603['DEPTH_COMP'+'ONENT32F'];_0x5c0603['bindRender'+'buffer'](_0x5c0603['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x5c0603['renderbuff'+'erStorage'](_0x5c0603['RENDERBUFF'+'ER'],_0x128898,_0x130e96['width'],_0x130e96['height']),_0x5c0603['framebuffe'+'rRenderbuf'+'fer'](_0x5c0603['FRAMEBUFFE'+'R'],_0x27cbf4,_0x5c0603['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x5c0603['bindRender'+'buffer'](_0x5c0603['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0xd8674b,_0x130e96));}if(_0x130e96['_samples']>0x1*0x266e+-0x1708+0x7*-0x233){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x5c0603['createFram'+'ebuffer'](),_0xd8674b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2a36d8=((_0x1abbdc=_0x130e96['_colorBuff'+'ers'])==null?void(0x17e*-0x1+0x1d05+-0x1b87):_0x1abbdc['length'])??-0x73*-0x3d+-0x1*0x2653+0x6*0x1d2;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x87d*0x1+-0x196e+0x13*0x1c9)){const _0x35851c=_0x5c0603['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x35851c);const _0x182a93=_0xd8674b['backBuffer'+'Format']===Ne?_0x5c0603['RGBA8']:_0x5c0603['RGB8'];_0x5c0603['bindRender'+'buffer'](_0x5c0603['RENDERBUFF'+'ER'],_0x35851c),_0x5c0603['renderbuff'+'erStorageM'+'ultisample'](_0x5c0603['RENDERBUFF'+'ER'],_0x130e96['_samples'],_0x182a93,_0x130e96['width'],_0x130e96['height']),_0x5c0603['framebuffe'+'rRenderbuf'+'fer'](_0x5c0603['FRAMEBUFFE'+'R'],_0x5c0603['COLOR_ATTA'+'CHMENT0'],_0x5c0603['RENDERBUFF'+'ER'],_0x35851c);}else for(let _0x56238d=0x17bf*0x1+-0x2*-0x1+-0x17c1;_0x56238d<_0x2a36d8;++_0x56238d){const _0x5994f3=_0x130e96['getColorBu'+'ffer'](_0x56238d);if(_0x5994f3){const _0x3dd3e6=_0x5c0603['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x3dd3e6),_0x5c0603['bindRender'+'buffer'](_0x5c0603['RENDERBUFF'+'ER'],_0x3dd3e6),_0x5c0603['renderbuff'+'erStorageM'+'ultisample'](_0x5c0603['RENDERBUFF'+'ER'],_0x130e96['_samples'],_0x5994f3['impl']['_glInterna'+'lFormat'],_0x130e96['width'],_0x130e96['height']),_0x5c0603['framebuffe'+'rRenderbuf'+'fer'](_0x5c0603['FRAMEBUFFE'+'R'],_0x5c0603['COLOR_ATTA'+'CHMENT0']+_0x56238d,_0x5c0603['RENDERBUFF'+'ER'],_0x3dd3e6);}}if(_0x130e96['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x4c4ef5=_0x130e96['_stencil']?_0x5c0603['DEPTH24_ST'+'ENCIL8']:_0x5c0603['DEPTH_COMP'+'ONENT32F'],_0x2eccd7=_0x130e96['_stencil']?_0x5c0603['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x5c0603['DEPTH_ATTA'+'CHMENT'];let _0x5c0720;const _0x5b20e9=_0x130e96['_depthBuff'+'er'];_0x5b20e9&&(_0x5c0720=_0x5b20e9['id']+':'+_0x130e96['width']+':'+_0x130e96['height']+':'+_0x130e96['_samples']+':'+_0x4c4ef5+':'+_0x2eccd7,this['_glMsaaDep'+'thBuffer']=Fd(_0xd8674b)['get'](_0x5c0720)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x5c0603['createRend'+'erbuffer'](),_0x5c0603['bindRender'+'buffer'](_0x5c0603['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x5c0603['renderbuff'+'erStorageM'+'ultisample'](_0x5c0603['RENDERBUFF'+'ER'],_0x130e96['_samples'],_0x4c4ef5,_0x130e96['width'],_0x130e96['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x5c0603['deleteRend'+'erbuffer'](this);},_0x5b20e9&&Fd(_0xd8674b)['set'](_0x5c0720,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x5c0720,_0x5c0603['framebuffe'+'rRenderbuf'+'fer'](_0x5c0603['FRAMEBUFFE'+'R'],_0x2eccd7,_0x5c0603['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0xd8674b,_0x130e96,'MSAA')),_0x2a36d8>0x1*-0x1486+0x1ac5*0x1+-0x2*0x31f&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0xd8674b,_0x130e96,_0x2a36d8),_0xd8674b['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x5c0603['drawBuffer'+'s'](_0x1b370d));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x4f1805,_0x57afe5,_0x4bd7d5){const _0x3bbfd7=_0x4f1805['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x21ca4a=0x2477+0x185e*-0x1+-0x13*0xa3;_0x21ca4a<_0x4bd7d5;++_0x21ca4a){const _0x26a892=_0x57afe5['getColorBu'+'ffer'](_0x21ca4a),_0x42e5e9=_0x3bbfd7['createFram'+'ebuffer']();_0x4f1805['setFramebu'+'ffer'](_0x42e5e9);const _0x5edc88=this['_glMsaaCol'+'orBuffers'][_0x21ca4a];_0x3bbfd7['bindRender'+'buffer'](_0x3bbfd7['RENDERBUFF'+'ER'],_0x5edc88),_0x3bbfd7['renderbuff'+'erStorageM'+'ultisample'](_0x3bbfd7['RENDERBUFF'+'ER'],_0x57afe5['_samples'],_0x26a892['impl']['_glInterna'+'lFormat'],_0x57afe5['width'],_0x57afe5['height']),_0x3bbfd7['framebuffe'+'rRenderbuf'+'fer'](_0x3bbfd7['FRAMEBUFFE'+'R'],_0x3bbfd7['COLOR_ATTA'+'CHMENT0'],_0x3bbfd7['RENDERBUFF'+'ER'],_0x5edc88),_0x3bbfd7['drawBuffer'+'s']([_0x3bbfd7['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x4f1805,_0x57afe5,'MSAA-MRT-s'+'rc'+_0x21ca4a));const _0x3bf536=_0x3bbfd7['createFram'+'ebuffer']();_0x4f1805['setFramebu'+'ffer'](_0x3bf536),_0x3bbfd7['framebuffe'+'rTexture2D'](_0x3bbfd7['FRAMEBUFFE'+'R'],_0x3bbfd7['COLOR_ATTA'+'CHMENT0'],_0x26a892['_cubemap']?_0x3bbfd7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x57afe5['_face']:_0x3bbfd7['TEXTURE_2D'],_0x26a892['impl']['_glTexture'],0x16e8+0x2*-0xf33+-0x1*-0x77e),this['colorMrtFr'+'amebuffers'][_0x21ca4a]=new tw(_0x42e5e9,_0x3bf536),w['call'](()=>this['_checkFbo'](_0x4f1805,_0x57afe5,'MSAA-MRT-d'+'st'+_0x21ca4a));}}['_checkFbo'](_0x19d2c6,_0x35a1d6,_0x4173be=''){const _0x6fbc9d=_0x19d2c6['gl'],_0x5c6143=_0x6fbc9d['checkFrame'+'bufferStat'+'us'](_0x6fbc9d['FRAMEBUFFE'+'R']);let _0x560108;switch(_0x5c6143){case _0x6fbc9d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x560108='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x6fbc9d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x560108='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x6fbc9d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x560108='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x6fbc9d['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x560108='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x560108,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x560108+(',\x20render\x20t'+'arget:\x20')+_0x35a1d6['name']+'\x20'+_0x4173be,_0x35a1d6);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1990+0x1ad*-0xb+0x2bff,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x71e+0x5b6+0x66a*-0x2),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x7c1+-0x194f+-0x15*-0xd6),this['_isInitial'+'ized']=!(-0x22c1+0x576+-0xc*-0x271);}['internalRe'+'solve'](_0x3d7690,_0x4400e2,_0xb5f928,_0x5605ca,_0x27aaba){w['assert'](_0x4400e2!==_0xb5f928,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x3d7690['setScissor'](-0x17*-0xc7+-0x224b+-0xb*-0x17e,-0x1ec8+-0xf52+0x2e1a,_0x5605ca['width'],_0x5605ca['height']);const _0xee1384=_0x3d7690['gl'];_0xee1384['bindFrameb'+'uffer'](_0xee1384['READ_FRAME'+'BUFFER'],_0x4400e2),_0xee1384['bindFrameb'+'uffer'](_0xee1384['DRAW_FRAME'+'BUFFER'],_0xb5f928),_0xee1384['blitFrameb'+'uffer'](0xf57+0x475+0x4*-0x4f3,-0x232+0x4a*-0x49+-0x2a*-0x8e,_0x5605ca['width'],_0x5605ca['height'],-0x459+-0x218+0x671,0xbbd*0x2+-0x1b6c+0x2*0x1f9,_0x5605ca['width'],_0x5605ca['height'],_0x27aaba,_0xee1384['NEAREST']);}['resolve'](_0x49de20,_0x12f6ac,_0x1792ae,_0x5e7da1){const _0x29bbe6=_0x49de20['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x1792ae)for(let _0x59ae85=0x25cc+-0x5*-0x349+-0x3639;_0x59ae85<this['colorMrtFr'+'amebuffers']['length'];_0x59ae85++){const _0x5ce0ff=this['colorMrtFr'+'amebuffers'][_0x59ae85];Q['pushGpuMar'+'ker'](_0x49de20,'RESOLVE-MR'+'T'+_0x59ae85),this['internalRe'+'solve'](_0x49de20,_0x5ce0ff['msaaFB'],_0x5ce0ff['resolveFB'],_0x12f6ac,_0x29bbe6['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x49de20);}_0x5e7da1&&(Q['pushGpuMar'+'ker'](_0x49de20,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x49de20,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x12f6ac,_0x29bbe6['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x49de20));}else Q['pushGpuMar'+'ker'](_0x49de20,'RESOLVE'),this['internalRe'+'solve'](_0x49de20,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x12f6ac,(_0x1792ae?_0x29bbe6['COLOR_BUFF'+'ER_BIT']:-0x50b+-0x778*0x1+-0xc83*-0x1)|(_0x5e7da1?_0x29bbe6['DEPTH_BUFF'+'ER_BIT']:0x3*0x719+-0x198a*-0x1+-0x2ed5)),Q['popGpuMark'+'er'](_0x49de20);_0x29bbe6['bindFrameb'+'uffer'](_0x29bbe6['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x3feac0){this['queries']['forEach'](_0x2935a4=>_0x3feac0['deleteQuer'+'y'](_0x2935a4)),this['queries']=null;}}class rw extends $T{constructor(_0x429317){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x429317,this['ext']=_0x429317['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x3a1522=>this['device']['gl']['deleteQuer'+'y'](_0x3a1522)),this['frameQueri'+'es']['forEach'](_0x1abbd0=>this['device']['gl']['deleteQuer'+'y'](_0x1abbd0)),this['previousFr'+'ameQueries']['forEach'](_0x2cdfac=>_0x2cdfac['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x39ba2c){if(this['ext']){const _0x1b8d1a=this['getSlot'](_0x39ba2c),_0x34abed=this['getQuery']();return this['frameQueri'+'es'][_0x1b8d1a]=_0x34abed,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x34abed),_0x1b8d1a;}}['end'](_0x57f8b4){_0x57f8b4!==void(0x140c+0x710*-0x2+-0x5ec)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x4bc956=this['ext'],_0xd07ff0=this['device']['gl'],_0x4da26c=this['device']['renderVers'+'ion'],_0xe120a8=this['frameQueri'+'es'];if(_0xe120a8['length']>-0xe8+0x261b*0x1+0x2533*-0x1){this['frameQueri'+'es']=[];const _0xfc5e29=new iw();_0xfc5e29['queries']=_0xe120a8,_0xfc5e29['renderVers'+'ion']=_0x4da26c,this['previousFr'+'ameQueries']['push'](_0xfc5e29);}if(this['previousFr'+'ameQueries']['length']>-0x258c+0x1bd6+0x9b6){const _0x2918f0=this['previousFr'+'ameQueries'][0xa4*0x5+0x249d+-0x27d1],_0x2e037f=_0x2918f0['queries'],_0x7ef22=_0x2e037f[_0x2e037f['length']-(0x45a+-0x10ea+0xc91)],_0x1ba9bd=_0xd07ff0['getQueryPa'+'rameter'](_0x7ef22,_0xd07ff0['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x5c72ea=_0xd07ff0['getParamet'+'er'](_0x4bc956['GPU_DISJOI'+'NT_EXT']);if(_0x1ba9bd&&!_0x5c72ea){this['previousFr'+'ameQueries']['shift']();const _0x8f022c=this['timings'];_0x8f022c['length']=0x8d*-0x45+-0x66d*-0x1+0x1f94;for(let _0x3848f2=-0x2*0x79d+-0x1259+0x2d*0xbf;_0x3848f2<_0x2e037f['length'];_0x3848f2++){const _0xfd69a2=_0x2e037f[_0x3848f2],_0x341457=_0xd07ff0['getQueryPa'+'rameter'](_0xfd69a2,_0xd07ff0['QUERY_RESU'+'LT']);_0x8f022c[_0x3848f2]=_0x341457*(-0x27d*0x1+0x1*0x13f9+-0x117c+0.000001),this['freeQuerie'+'s']['push'](_0xfd69a2);}this['report'](_0x2918f0['renderVers'+'ion'],_0x8f022c);}_0x5c72ea&&(this['previousFr'+'ameQueries']['forEach'](_0x45465c=>{this['report'](_0x45465c['renderVers'+'ion'],null),_0x45465c['destroy'](_0xd07ff0);}),this['previousFr'+'ameQueries']['length']=0x4be*0x1+0x31e*0x4+-0x1*0x1136);}super['request'](_0x4da26c);}}}const Da=[];class aw extends $e{constructor(_0x342c49,_0x2be57b={}){super(_0x342c49,_0x2be57b),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x3*-0x3df+-0x610+0x11ae)),(_0x2be57b=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x18d3+0x59c+-0x5f*0x52),this['_contextLo'+'stHandler']=_0x135b7c=>{_0x135b7c['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x12f5a2=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x12f5a2&&_0x12f5a2['includes']('AppleWebKi'+'t')&&(_0x12f5a2['includes']('15.4')||_0x12f5a2['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x2be57b['antialias']=!(-0x2*-0x455+-0x845+0x14*-0x5),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x26f838=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x46d7c7=_0x26f838?_0x26f838[0x1*0x845+0x18f6+0x109d*-0x2]:null;if(_0x46d7c7){const _0x4b4377=parseFloat(_0x46d7c7);(Ae['name']==='windows'&&(_0x4b4377>=0x10cf+0x12*-0x1af+0x41*0x37||_0x4b4377===-0x154*-0x1d+0x23d7+-0x49e8)||Ae['name']==='android'&&_0x4b4377>=0x26*0x56+0x821*0x3+0x1*-0x24a3)&&(_0x2be57b['antialias']=!(-0xdf3*0x1+-0xe81+-0x9b*-0x2f),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x46d7c7));}}this['backBuffer'+'Antialias']=_0x2be57b['antialias']??!(-0x10b7+0xda2+-0x1*-0x316),_0x2be57b['antialias']=!(-0x1067+-0x2559+0x5f9*0x9);const _0x15c420=_0x2be57b['gl']??_0x342c49['getContext']('webgl2',_0x2be57b);if(!_0x15c420)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x15c420,this['isWebGL2']=!(-0x186b+-0x2*0x123d+0x8b3*0x7),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x50fbfe=Ae['browserNam'+'e']==='chrome',_0x4ebdc4=Ae['browserNam'+'e']==='safari',_0x1feecf=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x25f+0x166d+-0x140d);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x4ebdc4,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x1feecf&&_0x50fbfe&&!_0x2be57b['alpha'],_0x342c49['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x5e*0x5d+-0x1*0x4ee+-0x1d37)),_0x342c49['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x808+0x123d+-0xa34*0x1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x4ebdc4&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x15c420['SAMPLER_2D'],_0x15c420['SAMPLER_CU'+'BE'],_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x15c420['INT_SAMPLE'+'R_2D'],_0x15c420['SAMPLER_2D'+'_SHADOW'],_0x15c420['SAMPLER_CU'+'BE_SHADOW'],_0x15c420['SAMPLER_3D'],_0x15c420['INT_SAMPLE'+'R_3D'],_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x15c420['SAMPLER_2D'+'_ARRAY'],_0x15c420['INT_SAMPLE'+'R_2D_ARRAY'],_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x15c420['REPEAT'],_0x15c420['CLAMP_TO_E'+'DGE'],_0x15c420['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x15c420['FUNC_ADD'],_0x15c420['FUNC_SUBTR'+'ACT'],_0x15c420['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x15c420['MIN'],_0x15c420['MAX']],this['glBlendFun'+'ctionColor']=[_0x15c420['ZERO'],_0x15c420['ONE'],_0x15c420['SRC_COLOR'],_0x15c420['ONE_MINUS_'+'SRC_COLOR'],_0x15c420['DST_COLOR'],_0x15c420['ONE_MINUS_'+'DST_COLOR'],_0x15c420['SRC_ALPHA'],_0x15c420['SRC_ALPHA_'+'SATURATE'],_0x15c420['ONE_MINUS_'+'SRC_ALPHA'],_0x15c420['DST_ALPHA'],_0x15c420['ONE_MINUS_'+'DST_ALPHA'],_0x15c420['CONSTANT_C'+'OLOR'],_0x15c420['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x15c420['ZERO'],_0x15c420['ONE'],_0x15c420['SRC_COLOR'],_0x15c420['ONE_MINUS_'+'SRC_COLOR'],_0x15c420['DST_COLOR'],_0x15c420['ONE_MINUS_'+'DST_COLOR'],_0x15c420['SRC_ALPHA'],_0x15c420['SRC_ALPHA_'+'SATURATE'],_0x15c420['ONE_MINUS_'+'SRC_ALPHA'],_0x15c420['DST_ALPHA'],_0x15c420['ONE_MINUS_'+'DST_ALPHA'],_0x15c420['CONSTANT_A'+'LPHA'],_0x15c420['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x15c420['NEVER'],_0x15c420['LESS'],_0x15c420['EQUAL'],_0x15c420['LEQUAL'],_0x15c420['GREATER'],_0x15c420['NOTEQUAL'],_0x15c420['GEQUAL'],_0x15c420['ALWAYS']],this['glStencilO'+'p']=[_0x15c420['KEEP'],_0x15c420['ZERO'],_0x15c420['REPLACE'],_0x15c420['INCR'],_0x15c420['INCR_WRAP'],_0x15c420['DECR'],_0x15c420['DECR_WRAP'],_0x15c420['INVERT']],this['glClearFla'+'g']=[-0x2*0x93b+0x1*0x1e66+-0xbf0,_0x15c420['COLOR_BUFF'+'ER_BIT'],_0x15c420['DEPTH_BUFF'+'ER_BIT'],_0x15c420['COLOR_BUFF'+'ER_BIT']|_0x15c420['DEPTH_BUFF'+'ER_BIT'],_0x15c420['STENCIL_BU'+'FFER_BIT'],_0x15c420['STENCIL_BU'+'FFER_BIT']|_0x15c420['COLOR_BUFF'+'ER_BIT'],_0x15c420['STENCIL_BU'+'FFER_BIT']|_0x15c420['DEPTH_BUFF'+'ER_BIT'],_0x15c420['STENCIL_BU'+'FFER_BIT']|_0x15c420['COLOR_BUFF'+'ER_BIT']|_0x15c420['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1db*0x14+-0x1c9+-0x3*-0xcf7,_0x15c420['BACK'],_0x15c420['FRONT'],_0x15c420['FRONT_AND_'+'BACK']],this['glFilter']=[_0x15c420['NEAREST'],_0x15c420['LINEAR'],_0x15c420['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x15c420['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x15c420['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x15c420['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x15c420['POINTS'],_0x15c420['LINES'],_0x15c420['LINE_LOOP'],_0x15c420['LINE_STRIP'],_0x15c420['TRIANGLES'],_0x15c420['TRIANGLE_S'+'TRIP'],_0x15c420['TRIANGLE_F'+'AN']],this['glType']=[_0x15c420['BYTE'],_0x15c420['UNSIGNED_B'+'YTE'],_0x15c420['SHORT'],_0x15c420['UNSIGNED_S'+'HORT'],_0x15c420['INT'],_0x15c420['UNSIGNED_I'+'NT'],_0x15c420['FLOAT'],_0x15c420['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x15c420['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x15c420['INT']]=_a,this['pcUniformT'+'ype'][_0x15c420['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x15c420['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x15c420['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x15c420['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x15c420['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x15c420['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x15c420['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x15c420['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x15c420['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x15c420['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x15c420['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x15c420['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x15c420['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x15c420['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x15c420['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x15c420['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x15c420['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x15c420['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x15c420['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x15c420['TEXTURE_2D']]=0x1869+0x1b34+-0x339d,this['targetToSl'+'ot'][_0x15c420['TEXTURE_CU'+'BE_MAP']]=-0x10ad+-0x15fb+0x26a9,this['targetToSl'+'ot'][_0x15c420['TEXTURE_3D']]=0x1*-0xa20+0x2258+-0x1836;let _0x10523c,_0x7096e5,_0x3dbe03,_0x12de08,_0x42c08d;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x3d669a,_0x2ac212){_0x3d669a['value']!==_0x2ac212&&(_0x15c420['uniform1i'](_0x3d669a['locationId'],_0x2ac212),_0x3d669a['value']=_0x2ac212);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x110bc3,_0x88fb30){_0x110bc3['value']!==_0x88fb30&&(_0x15c420['uniform1f'](_0x110bc3['locationId'],_0x88fb30),_0x110bc3['value']=_0x88fb30);},this['commitFunc'+'tion'][ga]=function(_0x4082e2,_0x236fec){_0x42c08d=_0x4082e2['value'],_0x10523c=_0x236fec[-0xa8a*-0x2+-0x1f6a*0x1+0x3f*0x2a],_0x7096e5=_0x236fec[0x135b*-0x2+-0x865*-0x4+-0x5*-0x107],(_0x42c08d[0x1488+0x21da+-0x3662]!==_0x10523c||_0x42c08d[0x387*0xa+0x5*0x4fd+0x44d*-0xe]!==_0x7096e5)&&(_0x15c420['uniform2fv'](_0x4082e2['locationId'],_0x236fec),_0x42c08d[0x47*-0x43+0x20ca+0x1*-0xe35]=_0x10523c,_0x42c08d[0x13b9+-0xff7+-0x3c1]=_0x7096e5);},this['commitFunc'+'tion'][ds]=function(_0x1d4ca5,_0x5a6f48){_0x42c08d=_0x1d4ca5['value'],_0x10523c=_0x5a6f48[-0x4*0x485+0x1*-0x91d+0x1*0x1b31],_0x7096e5=_0x5a6f48[-0x1*-0x2591+0x1028+-0x6b7*0x8],_0x3dbe03=_0x5a6f48[-0x133c+-0x159b+0x1*0x28d9],(_0x42c08d[-0x1*-0x1cd+-0x15*-0x146+-0x1c8b]!==_0x10523c||_0x42c08d[0x8c1+0x34b*-0x8+0x1198]!==_0x7096e5||_0x42c08d[0x1152+0x4*0x6b1+-0x2c14]!==_0x3dbe03)&&(_0x15c420['uniform3fv'](_0x1d4ca5['locationId'],_0x5a6f48),_0x42c08d[0x14de+0x19c3+-0xf8b*0x3]=_0x10523c,_0x42c08d[-0x213e+-0x1c64+0x1f*0x1fd]=_0x7096e5,_0x42c08d[-0x1*-0x23f0+0x4dc*-0x2+0x1a36*-0x1]=_0x3dbe03);},this['commitFunc'+'tion'][Rn]=function(_0x477dde,_0x559539){_0x42c08d=_0x477dde['value'],_0x10523c=_0x559539[-0x237d+-0x1f*-0x13d+-0x2e6],_0x7096e5=_0x559539[0x16a9+0xfcd+-0x2675],_0x3dbe03=_0x559539[0x867+-0x1fdf*-0x1+0xa11*-0x4],_0x12de08=_0x559539[0x1*0x1db7+0x1c7b+-0x3a2f],(_0x42c08d[0x11fa+0xe2f+0x2029*-0x1]!==_0x10523c||_0x42c08d[0x1*0x1267+0x120+0x2ca*-0x7]!==_0x7096e5||_0x42c08d[-0x16af*0x1+0x1*0x1a47+-0x9*0x66]!==_0x3dbe03||_0x42c08d[0x41a*0x8+0x419*0x1+0x24e6*-0x1]!==_0x12de08)&&(_0x15c420['uniform4fv'](_0x477dde['locationId'],_0x559539),_0x42c08d[0x1eba+0x8d*0x1+0x1f47*-0x1]=_0x10523c,_0x42c08d[-0x2f9+-0x6*-0x5d4+-0x1ffe]=_0x7096e5,_0x42c08d[-0x1*-0xf8e+-0xe5+-0xea7]=_0x3dbe03,_0x42c08d[0xae5*-0x1+0x1*0xe09+0x3*-0x10b]=_0x12de08);},this['commitFunc'+'tion'][ca]=function(_0x24c362,_0x3434ae){_0x42c08d=_0x24c362['value'],_0x10523c=_0x3434ae[0x2bc*0xb+0xfe6+-0x2dfa],_0x7096e5=_0x3434ae[-0xb*-0x104+-0x214+-0x917],(_0x42c08d[0xf5d*0x2+-0x528+-0x2*0xcc9]!==_0x10523c||_0x42c08d[0x1*-0x26ce+-0x38*-0x12+-0x71*-0x4f]!==_0x7096e5)&&(_0x15c420['uniform2iv'](_0x24c362['locationId'],_0x3434ae),_0x42c08d[-0x1423+-0x1*0x1b09+0x4*0xbcb]=_0x10523c,_0x42c08d[0x36f*-0x7+-0xb3b+-0x1*-0x2345]=_0x7096e5);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x5114cd,_0x1e644b){_0x42c08d=_0x5114cd['value'],_0x10523c=_0x1e644b[0x2d9+-0xda0+0xac7],_0x7096e5=_0x1e644b[0x50a+-0x15b4+0x10ab],_0x3dbe03=_0x1e644b[-0x2b0+-0x74*-0x3a+-0x1796],(_0x42c08d[0x1385+-0x26e1+0x135c]!==_0x10523c||_0x42c08d[0xb24+-0x347*-0xb+-0x2f30]!==_0x7096e5||_0x42c08d[0x1*0x19d+0x22fd+0x2*-0x124c]!==_0x3dbe03)&&(_0x15c420['uniform3iv'](_0x5114cd['locationId'],_0x1e644b),_0x42c08d[0x14b7+0xc1c+-0x20d3]=_0x10523c,_0x42c08d[0x1*-0x1ded+0x2138+-0x1*0x34a]=_0x7096e5,_0x42c08d[0x25d9+0x1*0x1d21+-0x42f8]=_0x3dbe03);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x26f5e9,_0xfa703d){_0x42c08d=_0x26f5e9['value'],_0x10523c=_0xfa703d[0xbfb+-0x1024+0x47*0xf],_0x7096e5=_0xfa703d[-0x3d*0x3+0xc25+0x3cf*-0x3],_0x3dbe03=_0xfa703d[0x1*-0x1027+0x1d0a+-0xce1],_0x12de08=_0xfa703d[0xfd0+0x1*0xfef+0xc*-0x2a5],(_0x42c08d[-0x2121*0x1+0x23e5+0x76*-0x6]!==_0x10523c||_0x42c08d[-0x12c2+-0x1*0x2141+0x3404]!==_0x7096e5||_0x42c08d[0x621+0x7*-0x95+-0x4*0x83]!==_0x3dbe03||_0x42c08d[-0x17b+-0x1*-0x17f3+-0x1675]!==_0x12de08)&&(_0x15c420['uniform4iv'](_0x26f5e9['locationId'],_0xfa703d),_0x42c08d[0x1*0xaf5+0x1da*0x9+-0x1b9f]=_0x10523c,_0x42c08d[0xd0*-0xb+-0x1*-0x103f+-0x74e]=_0x7096e5,_0x42c08d[-0x1*0xe8b+-0x8*-0x269+-0x1*0x4bb]=_0x3dbe03,_0x42c08d[0x2029+-0x49*0x65+-0x359]=_0x12de08);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x34c883,_0x168d08){_0x15c420['uniformMat'+'rix2fv'](_0x34c883['locationId'],!(-0x194*-0x15+0x1*0x3a+0x3*-0xb1f),_0x168d08);},this['commitFunc'+'tion'][On]=function(_0x3c9491,_0x353aff){_0x15c420['uniformMat'+'rix3fv'](_0x3c9491['locationId'],!(0x93a*0x1+0x2f0+-0xb*0x11b),_0x353aff);},this['commitFunc'+'tion'][li]=function(_0x2b8485,_0x5df796){_0x15c420['uniformMat'+'rix4fv'](_0x2b8485['locationId'],!(0xb9a+0x2198+-0x2d31*0x1),_0x5df796);},this['commitFunc'+'tion'][ud]=function(_0x1f0557,_0x3eaf4c){_0x15c420['uniform1fv'](_0x1f0557['locationId'],_0x3eaf4c);},this['commitFunc'+'tion'][pd]=function(_0x1a9a8d,_0x1b4896){_0x15c420['uniform2fv'](_0x1a9a8d['locationId'],_0x1b4896);},this['commitFunc'+'tion'][md]=function(_0xa6e9f5,_0xefb0ee){_0x15c420['uniform3fv'](_0xa6e9f5['locationId'],_0xefb0ee);},this['commitFunc'+'tion'][Lp]=function(_0x1c1f1d,_0x2ed23c){_0x15c420['uniform4fv'](_0x1c1f1d['locationId'],_0x2ed23c);},this['commitFunc'+'tion'][Fn]=function(_0x154e82,_0x17d3b5){_0x154e82['value']!==_0x17d3b5&&(_0x15c420['uniform1ui'](_0x154e82['locationId'],_0x17d3b5),_0x154e82['value']=_0x17d3b5);},this['commitFunc'+'tion'][Nn]=function(_0x491f8d,_0x13edd5){_0x42c08d=_0x491f8d['value'],_0x10523c=_0x13edd5[-0x64c+0x1791*0x1+0x1*-0x1145],_0x7096e5=_0x13edd5[-0x177f+0x2b*-0x6b+-0x1*-0x2979],(_0x42c08d[0x1802*-0x1+-0x2*0x10af+0x3960]!==_0x10523c||_0x42c08d[0x1*-0x162f+-0x5*-0x13f+0xff5]!==_0x7096e5)&&(_0x15c420['uniform2ui'+'v'](_0x491f8d['locationId'],_0x13edd5),_0x42c08d[0x1452+-0x4a8*-0x4+-0x26f2]=_0x10523c,_0x42c08d[0x38*0x49+0x1*0x1c14+-0x2c0b]=_0x7096e5);},this['commitFunc'+'tion'][kn]=function(_0x3786b3,_0x54c9e6){_0x42c08d=_0x3786b3['value'],_0x10523c=_0x54c9e6[0x2172+0x57c*0x3+0x6*-0x851],_0x7096e5=_0x54c9e6[0x3*-0x8b3+-0x169f+0x30b9],_0x3dbe03=_0x54c9e6[-0xec8+0x1*-0x1227+0x3*0xafb],(_0x42c08d[0x5*0x47+0xe00+-0xf63]!==_0x10523c||_0x42c08d[0x1*-0x7dc+-0x13*-0x4b+-0x2a*-0xe]!==_0x7096e5||_0x42c08d[-0x1d68+-0x1e59+0x3bc3]!==_0x3dbe03)&&(_0x15c420['uniform3ui'+'v'](_0x3786b3['locationId'],_0x54c9e6),_0x42c08d[-0x11e9+-0x193d+0x2b26]=_0x10523c,_0x42c08d[0xc*0x300+0x1*-0x21d9+-0x1*0x226]=_0x7096e5,_0x42c08d[-0x2*0xa55+0x22*0x5e+0x830]=_0x3dbe03);},this['commitFunc'+'tion'][Un]=function(_0x43482c,_0x13c098){_0x42c08d=_0x43482c['value'],_0x10523c=_0x13c098[-0x8*-0x435+0x1f53+0xcff*-0x5],_0x7096e5=_0x13c098[-0x35a+-0x119*-0x2+0x129],_0x3dbe03=_0x13c098[-0x5*-0x35b+0x265b+0x62*-0x90],_0x12de08=_0x13c098[0x201c+-0x76a+-0x18af],(_0x42c08d[-0xe7c+-0xa*0x32d+0x2e3e]!==_0x10523c||_0x42c08d[0x1f39+0x83+0x1fbb*-0x1]!==_0x7096e5||_0x42c08d[0xc06*-0x1+-0x11c1+0x1dc9]!==_0x3dbe03||_0x42c08d[-0x5e6*-0x5+0x1*0x12a4+-0x301f*0x1]!==_0x12de08)&&(_0x15c420['uniform4ui'+'v'](_0x43482c['locationId'],_0x13c098),_0x42c08d[-0x1*-0x1eeb+-0x12d5+0xc16*-0x1]=_0x10523c,_0x42c08d[-0x2*0x369+-0x916*0x1+0xfe9]=_0x7096e5,_0x42c08d[-0x1b*0x148+0x76f+0x5*0x56f]=_0x3dbe03,_0x42c08d[-0x12fc+-0x1*0x1be+0x14bd]=_0x12de08);},this['commitFunc'+'tion'][Bn]=function(_0x2bdfd6,_0x3abe1f){_0x15c420['uniform1iv'](_0x2bdfd6['locationId'],_0x3abe1f);},this['commitFunc'+'tion'][_d]=function(_0x34ad2e,_0x587975){_0x15c420['uniform1ui'+'v'](_0x34ad2e['locationId'],_0x587975);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x2055bc,_0x5e1a91){_0x15c420['uniform2iv'](_0x2055bc['locationId'],_0x5e1a91);},this['commitFunc'+'tion'][Sd]=function(_0x128b1a,_0x5762fc){_0x15c420['uniform2ui'+'v'](_0x128b1a['locationId'],_0x5762fc);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x537e12,_0x37f0f2){_0x15c420['uniform3iv'](_0x537e12['locationId'],_0x37f0f2);},this['commitFunc'+'tion'][vd]=function(_0x690b4d,_0x560319){_0x15c420['uniform3ui'+'v'](_0x690b4d['locationId'],_0x560319);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x1d52b6,_0x3c53f0){_0x15c420['uniform4iv'](_0x1d52b6['locationId'],_0x3c53f0);},this['commitFunc'+'tion'][Rp]=function(_0xbe12e7,_0x19707f){_0x15c420['uniform4ui'+'v'](_0xbe12e7['locationId'],_0x19707f);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0xe9958d,_0x36db0c){_0x15c420['uniformMat'+'rix4fv'](_0xe9958d['locationId'],!(-0x1*0xc34+0x1e25+-0x11f0),_0x36db0c);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x3e024e=this['gl'];this['feedback']&&_0x3e024e['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1*0xa57+-0x2a6+0x2*0x67f)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x8d1*-0x1+-0x1237*0x1+0x967)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x4c0c52){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x4c0c52;}['updateBack'+'bufferForm'+'at'](_0x369167){const _0xfa2601=this['gl'];_0xfa2601['bindFrameb'+'uffer'](_0xfa2601['FRAMEBUFFE'+'R'],_0x369167);const _0x44d0e5=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x44d0e5?Ne:Cr;}['updateBack'+'buffer'](){const _0x3047cc=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x3047cc)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x9fe+-0xb*-0x67+0x592),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x1838f8,_0x14d8e0){return new XT();}['createInde'+'xBufferImp'+'l'](_0x2c9452){return new qT(_0x2c9452);}['createShad'+'erImpl'](_0xdca96d){return new JT(_0xdca96d);}['createText'+'ureImpl'](_0x4b56b3){return new ew(_0x4b56b3);}['createRend'+'erTargetIm'+'pl'](_0x4630c8){return new sw();}['pushMarker'](_0x587ea0){if(Ae['browser']&&window['spector']){const _0x28feb2=Q['toString']();window['spector']['setMarker'](_0x28feb2+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x220f4a=Q['toString']();_0x220f4a['length']?window['spector']['setMarker'](_0x220f4a+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x20444c=this['gl'];let _0x296ca3='highp';if(_0x20444c['getShaderP'+'recisionFo'+'rmat']){const _0x3ee692=_0x20444c['getShaderP'+'recisionFo'+'rmat'](_0x20444c['VERTEX_SHA'+'DER'],_0x20444c['HIGH_FLOAT']),_0x41e86b=_0x20444c['getShaderP'+'recisionFo'+'rmat'](_0x20444c['VERTEX_SHA'+'DER'],_0x20444c['MEDIUM_FLO'+'AT']),_0x40291e=_0x20444c['getShaderP'+'recisionFo'+'rmat'](_0x20444c['FRAGMENT_S'+'HADER'],_0x20444c['HIGH_FLOAT']),_0x23aa0f=_0x20444c['getShaderP'+'recisionFo'+'rmat'](_0x20444c['FRAGMENT_S'+'HADER'],_0x20444c['MEDIUM_FLO'+'AT']);if(_0x3ee692&&_0x41e86b&&_0x40291e&&_0x23aa0f){const _0x20431c=_0x3ee692['precision']>0xf*0x43+-0x1b7d+-0xbc8*-0x2&&_0x40291e['precision']>-0x7ec*-0x4+0x1989+-0x3939,_0x4b2e2b=_0x41e86b['precision']>-0xdca+0x17*0x136+-0x190*0x9&&_0x23aa0f['precision']>-0x23bc+-0x269*0x6+0x3232;_0x20431c||(_0x4b2e2b?(_0x296ca3='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x296ca3='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x296ca3;}['getExtensi'+'on'](){for(let _0x5c1958=-0x1*-0x1ad1+0x1f*-0xcf+-0x38*0x8;_0x5c1958<arguments['length'];_0x5c1958++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x5c1958])!==-(0x2231+0xd27+0x2f57*-0x1))return this['gl']['getExtensi'+'on'](arguments[_0x5c1958]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x10807e=this['gl'];this['supportedE'+'xtensions']=_0x10807e['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x18bd+0x52e+0x138f),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x52ea7f=this['gl'];let _0x2fff7a;const _0x54e897=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x33aa88=_0x52ea7f['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x33aa88==null?void(-0x1757+-0x3c*0x95+-0xba7*-0x5):_0x33aa88['antialias'])??!(-0x3*0xa47+-0xb0*-0xe+0xb5*0x1e),this['supportsSt'+'encil']=(_0x33aa88==null?void(-0x2401+0x1a1c+-0x1*-0x9e5):_0x33aa88['stencil'])??!(0x1e14+-0x21ab+0x398),this['maxTexture'+'Size']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_3D_TEX'+'TURE_SIZE']),_0x2fff7a=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x2fff7a?_0x52ea7f['getParamet'+'er'](_0x2fff7a['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x2fff7a?_0x52ea7f['getParamet'+'er'](_0x2fff7a['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x27ae62=/\bMali-G52+/,_0x43b83f=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x54e897['match'](_0x43b83f))&&!this['unmaskedRe'+'nderer']['match'](_0x27ae62),_0x2fff7a=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x2fff7a?_0x52ea7f['getParamet'+'er'](_0x2fff7a['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x159b*0x1+-0x359*0x4+-0x280*-0xe;const _0xc81b06=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0xc81b06?_0x52ea7f['getParamet'+'er'](_0x52ea7f['MAX_SAMPLE'+'S']):0xb5f*-0x1+0x1*-0x103f+0x1b9f,this['maxSamples']=Math['min'](this['maxSamples'],-0x138f+-0x98*0x1c+0x2433),this['samples']=_0xc81b06&&this['backBuffer'+'Antialias']?this['maxSamples']:0x19*0xfe+-0x95*0x34+0x577,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1*-0x1+-0x1*-0xbfb+-0xc*0xff&&(this['supportsAr'+'eaLights']=!(0xbaa+-0x257*-0x7+-0x1c0a)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x2bdbc4=this['gl'];_0x2bdbc4['disable'](_0x2bdbc4['BLEND']),_0x2bdbc4['blendFunc'](_0x2bdbc4['ONE'],_0x2bdbc4['ZERO']),_0x2bdbc4['blendEquat'+'ion'](_0x2bdbc4['FUNC_ADD']),_0x2bdbc4['colorMask'](!(0xe9b+-0x111b*-0x1+0x386*-0x9),!(-0x17c9*-0x1+-0x2664+-0x1*-0xe9b),!(0x25*-0xbd+-0x1d25*0x1+0x3876),!(-0x6*-0x129+-0xf5a+0x864)),_0x2bdbc4['blendColor'](0xa1*0xa+0x1215+-0x185f,0x66b*0x1+-0x241a+0x1daf,-0x8ed+0x250+0x1*0x69d,0x1613+0x52b*-0x3+-0x692),_0x2bdbc4['enable'](_0x2bdbc4['CULL_FACE']),this['cullFace']=_0x2bdbc4['BACK'],_0x2bdbc4['cullFace'](_0x2bdbc4['BACK']),_0x2bdbc4['enable'](_0x2bdbc4['DEPTH_TEST']),_0x2bdbc4['depthFunc'](_0x2bdbc4['LEQUAL']),_0x2bdbc4['depthMask'](!(0x775*0x1+0xf45+-0x16ba)),this['stencil']=!(-0x3*0xc22+-0x537*-0x7+-0x1a*0x1),_0x2bdbc4['disable'](_0x2bdbc4['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x2033+-0xf97+-0x109c,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x1*-0x1c53+0x1e48+-0xf6,_0x2bdbc4['stencilFun'+'c'](_0x2bdbc4['ALWAYS'],0x235b+-0x214+-0x2147,-0x1*0x101+0x1cae+-0x1aae),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x1*0x822+0x1167+-0x846*0x1,this['stencilWri'+'teMaskBack']=0x1d77*-0x1+0x295*-0x1+-0x210b*-0x1,_0x2bdbc4['stencilOp'](_0x2bdbc4['KEEP'],_0x2bdbc4['KEEP'],_0x2bdbc4['KEEP']),_0x2bdbc4['stencilMas'+'k'](-0x1188+-0x5*-0x12+0x122d),this['alphaToCov'+'erage']=!(-0x10c9+0xa9d+0x3*0x20f),this['raster']=!(-0x96e+0x1*-0x317+-0x5*-0x281),_0x2bdbc4['disable'](_0x2bdbc4['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x2bdbc4['disable'](_0x2bdbc4['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x337+-0x3d9*-0x2+-0x47a),_0x2bdbc4['disable'](_0x2bdbc4['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x3*-0xc79+-0x5*0x107+0x1*0x2a8f,_0x2bdbc4['clearDepth'](0xd*-0x1e8+0x23d0+-0xb07*0x1),this['clearColor']=new ie(0x799+0x1781+-0x6*0x52f,-0xf*0x61+0x223f+-0x1c90,-0x2*-0xe77+0x2*-0x1159+0x5c4,0xe4*0x6+-0x287*0x6+0x9d2),_0x2bdbc4['clearColor'](-0x5*-0x2a3+-0x2a*0x59+0x16b,0x2062+0x365+-0x23c7,-0x1922+0x1bbe+-0x29c,0x3e2+0xfca*0x2+0x22*-0x10b),this['clearStenc'+'il']=-0x13dc+0x1333+-0x1*-0xa9,_0x2bdbc4['clearStenc'+'il'](-0x1f2*-0x4+-0x5*0x1df+0x193),_0x2bdbc4['hint'](_0x2bdbc4['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x2bdbc4['NICEST']),_0x2bdbc4['enable'](_0x2bdbc4['SCISSOR_TE'+'ST']),_0x2bdbc4['pixelStore'+'i'](_0x2bdbc4['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x2bdbc4['NONE']),this['unpackFlip'+'Y']=!(0xb3e+0x2692+-0x31cf),_0x2bdbc4['pixelStore'+'i'](_0x2bdbc4['UNPACK_FLI'+'P_Y_WEBGL'],!(0x88b*0x1+-0xc1d*0x3+0x1bcd*0x1)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x935*-0x3+0x1a2b+0x175*0x1),_0x2bdbc4['pixelStore'+'i'](_0x2bdbc4['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x1178+-0x16c3+0x6*0xe2)),_0x2bdbc4['pixelStore'+'i'](_0x2bdbc4['UNPACK_ALI'+'GNMENT'],-0x49*0x5f+-0x25*0xb3+0x34f7);}['initTextur'+'eUnits'](_0x15217a=0x903*0x2+-0x9a5+0x851*-0x1){this['textureUni'+'ts']=[];for(let _0x126c01=0xfca+-0x379*-0x4+0x106*-0x1d;_0x126c01<_0x15217a;_0x126c01++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1ffe+0x133d+-0x333b,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x1dd121 of this['shaders'])_0x1dd121['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x100ab5 of this['shaders'])_0x100ab5['restoreCon'+'text']();}['setViewpor'+'t'](_0x24e235,_0xed2f95,_0x291dfc,_0x185073){(this['vx']!==_0x24e235||this['vy']!==_0xed2f95||this['vw']!==_0x291dfc||this['vh']!==_0x185073)&&(this['gl']['viewport'](_0x24e235,_0xed2f95,_0x291dfc,_0x185073),this['vx']=_0x24e235,this['vy']=_0xed2f95,this['vw']=_0x291dfc,this['vh']=_0x185073);}['setScissor'](_0x4ccf19,_0x11c683,_0x31b1f6,_0x4ac2ab){(this['sx']!==_0x4ccf19||this['sy']!==_0x11c683||this['sw']!==_0x31b1f6||this['sh']!==_0x4ac2ab)&&(this['gl']['scissor'](_0x4ccf19,_0x11c683,_0x31b1f6,_0x4ac2ab),this['sx']=_0x4ccf19,this['sy']=_0x11c683,this['sw']=_0x31b1f6,this['sh']=_0x4ac2ab);}['setFramebu'+'ffer'](_0x29cd58){if(this['activeFram'+'ebuffer']!==_0x29cd58){const _0x2757ee=this['gl'];_0x2757ee['bindFrameb'+'uffer'](_0x2757ee['FRAMEBUFFE'+'R'],_0x29cd58),this['activeFram'+'ebuffer']=_0x29cd58;}}['copyRender'+'Target'](_0x233b5a,_0x27ca40,_0x816a44,_0x281c41){var _0xcd1ea7,_0xcd2204;const _0x223d5a=this['gl'];if(_0x233b5a===this['backBuffer']&&(_0x233b5a=null),_0x816a44){if(_0x27ca40){if(_0x233b5a){if(!_0x233b5a['_colorBuff'+'er']||!_0x27ca40['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x108d+-0x1d11+0xc85);if(_0x233b5a['_colorBuff'+'er']['_format']!==_0x27ca40['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0xa9*0x2c+0x1*-0xef2+-0xe19);}}else{if(!_0x233b5a['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x9b0+-0x2*0xd19+0x1083*0x1);}}if(_0x281c41&&_0x233b5a&&!_0x233b5a['_depth']){if(!_0x233b5a['_depthBuff'+'er']||!_0x27ca40['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x2025*-0x1+0x1fea+0x3c);if(_0x233b5a['_depthBuff'+'er']['_format']!==_0x27ca40['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x2150+0x697+0xd5d*0x2);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x5be8e7=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x27ca40,this['updateBegi'+'n']();const _0x22993f=_0x233b5a?_0x233b5a['impl']['_glFrameBu'+'ffer']:(_0xcd1ea7=this['backBuffer'])==null?void(0x27*0xc1+0x1b37+-0x389e):_0xcd1ea7['impl']['_glFrameBu'+'ffer'],_0x501baa=_0x27ca40?_0x27ca40['impl']['_glFrameBu'+'ffer']:(_0xcd2204=this['backBuffer'])==null?void(-0x5*-0x571+-0x2329*-0x1+-0x3e5e):_0xcd2204['impl']['_glFrameBu'+'ffer'];w['assert'](_0x22993f!==_0x501baa,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x223d5a['bindFrameb'+'uffer'](_0x223d5a['READ_FRAME'+'BUFFER'],_0x22993f),_0x223d5a['bindFrameb'+'uffer'](_0x223d5a['DRAW_FRAME'+'BUFFER'],_0x501baa);const _0x20446f=_0x233b5a?_0x233b5a['width']:_0x27ca40?_0x27ca40['width']:this['width'],_0x4d127e=_0x233b5a?_0x233b5a['height']:_0x27ca40?_0x27ca40['height']:this['height'];return _0x223d5a['blitFrameb'+'uffer'](-0x1c5*-0x15+-0x2b4+-0x2275,-0x14*0x10f+0x1d05+-0x7d9,_0x20446f,_0x4d127e,0x170f+-0x4f*0x6e+0xae3,0x137+-0x2156+-0x201f*-0x1,_0x20446f,_0x4d127e,(_0x816a44?_0x223d5a['COLOR_BUFF'+'ER_BIT']:-0x11c0+0x1*-0xeed+0x20ad)|(_0x281c41?_0x223d5a['DEPTH_BUFF'+'ER_BIT']:0xd*0x104+-0x22b7+0x1*0x1583),_0x223d5a['NEAREST']),this['renderTarg'+'et']=_0x5be8e7,_0x223d5a['bindFrameb'+'uffer'](_0x223d5a['FRAMEBUFFE'+'R'],_0x5be8e7?_0x5be8e7['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x128f+0x4*-0x9c2+0x17*0x281);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x42709b){const _0x2745df=_0x42709b['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x2745df,w['assert'](_0x2745df),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x42709b['name']+'\x20RT:'+_0x2745df['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x5e0902,height:_0x5b554a}=_0x2745df;this['setViewpor'+'t'](0x1*-0xf38+0x45*-0x12+0x1412,0x3d7+-0x1be5+-0x180e*-0x1,_0x5e0902,_0x5b554a),this['setScissor'](0x2*0xaa8+0x2*-0x935+0x35*-0xe,-0x98*0x2b+0x1*0x1b83+0x1*-0x1fb,_0x5e0902,_0x5b554a);const _0x11b468=_0x42709b['colorOps'],_0x207483=_0x42709b['depthStenc'+'ilOps'];if(_0x11b468!=null&&_0x11b468['clear']||_0x207483['clearDepth']||_0x207483['clearStenc'+'il']){let _0x4beff3=-0x1387+0xf95+0x3f2;const _0x351ce5={};_0x11b468!=null&&_0x11b468['clear']&&(_0x4beff3|=jo,_0x351ce5['color']=[_0x11b468['clearValue']['r'],_0x11b468['clearValue']['g'],_0x11b468['clearValue']['b'],_0x11b468['clearValue']['a']]),_0x207483['clearDepth']&&(_0x4beff3|=Yo,_0x351ce5['depth']=_0x207483['clearDepth'+'Value']),_0x207483['clearStenc'+'il']&&(_0x4beff3|=ch,_0x351ce5['stencil']=_0x207483['clearStenc'+'ilValue']),_0x351ce5['flags']=_0x4beff3,this['clear'](_0x351ce5);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x130*0x16+-0x46b+-0x1*0x15b5),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x45e3af){var _0x58f3d4;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x562108=this['renderTarg'+'et'],_0x1f62a3=_0x45e3af['colorArray'+'Ops']['length'];if(_0x562108){Da['length']=0x1*-0x1cd5+-0x9*0x2db+0x3688;const _0x29dd7a=this['gl'];for(let _0x1e803d=-0xe*0x1f+0x833+-0x681;_0x1e803d<_0x1f62a3;_0x1e803d++){const _0xc8ff70=_0x45e3af['colorArray'+'Ops'][_0x1e803d];_0xc8ff70['store']||_0xc8ff70['resolve']||Da['push'](_0x29dd7a['COLOR_ATTA'+'CHMENT0']+_0x1e803d);}_0x562108!==this['backBuffer']&&(_0x45e3af['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x29dd7a['DEPTH_ATTA'+'CHMENT']),_0x45e3af['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x29dd7a['STENCIL_AT'+'TACHMENT'])),Da['length']>0x23*0xc8+0x1d67+-0x38bf&&_0x45e3af['fullSizeCl'+'earRect']&&_0x29dd7a['invalidate'+'Framebuffe'+'r'](_0x29dd7a['DRAW_FRAME'+'BUFFER'],Da),_0x1f62a3&&((_0x58f3d4=_0x45e3af['colorOps'])!=null&&_0x58f3d4['resolve'])&&_0x45e3af['samples']>0x1*0xe0f+0x57*-0x2b+0x8f&&_0x562108['autoResolv'+'e']&&_0x562108['resolve'](!(-0x59d+0x1548+0x539*-0x3),!(0x1066+0x1*-0x62+-0x1003)),_0x562108['depthBuffe'+'r']&&_0x45e3af['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x45e3af['samples']>0xa*-0x2b1+-0xc81+0x6*0x692&&_0x562108['autoResolv'+'e']&&_0x562108['resolve'](!(-0x1841+0x1*-0x2a2+0x1ae4),!(-0x1124*-0x1+-0x26*-0xe9+-0x33ba));for(let _0xe6a0eb=0x133d+-0x6f7*0x4+0x89f*0x1;_0xe6a0eb<_0x1f62a3;_0xe6a0eb++)if(_0x45e3af['colorArray'+'Ops'][_0xe6a0eb]['genMipmaps']){const _0x33c339=_0x562108['_colorBuff'+'ers'][_0xe6a0eb];_0x33c339&&_0x33c339['impl']['_glTexture']&&_0x33c339['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0xe6a0eb),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0xa*0x154+-0x1fd0+0x1289)),this['bindTextur'+'e'](_0x33c339),this['gl']['generateMi'+'pmap'](_0x33c339['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x11a7+0x201b+-0xe73),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x14f6a4){this['_defaultFr'+'amebuffer']!==_0x14f6a4&&(this['_defaultFr'+'amebuffer']=_0x14f6a4,this['_defaultFr'+'amebufferC'+'hanged']=!(0x1*0xa51+-0x2*0x3ee+-0x1*0x275));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x18995d=0x4fd+0x60b+0x4*-0x2c2;_0x18995d<this['textureUni'+'ts']['length'];++_0x18995d)for(let _0x5a5226=-0x499*-0x5+-0x1*-0x1ba9+-0x1*0x32a6;_0x5a5226<0xe*0xa7+-0x17b5+0xe96;++_0x5a5226)this['textureUni'+'ts'][_0x18995d][_0x5a5226]=null;}const _0x18148a=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x18148a);const _0x4337ed=_0x18148a['impl'];_0x4337ed['initialize'+'d']||this['initRender'+'Target'](_0x18148a),this['setFramebu'+'ffer'](_0x4337ed['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x35a4f5=this['renderTarg'+'et'];if(_0x35a4f5&&_0x35a4f5!==this['backBuffer']){_0x35a4f5['_samples']>-0x20f0+0x223*-0x1+0x2314&&_0x35a4f5['autoResolv'+'e']&&_0x35a4f5['resolve']();const _0xb060ad=_0x35a4f5['_colorBuff'+'er'];_0xb060ad&&_0xb060ad['impl']['_glTexture']&&_0xb060ad['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1*-0x217+-0x25*-0xae+-0x170e*0x1)),this['bindTextur'+'e'](_0xb060ad),this['gl']['generateMi'+'pmap'](_0xb060ad['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x3f2a05){if(this['unpackFlip'+'Y']!==_0x3f2a05){this['unpackFlip'+'Y']=_0x3f2a05;const _0x5e316b=this['gl'];_0x5e316b['pixelStore'+'i'](_0x5e316b['UNPACK_FLI'+'P_Y_WEBGL'],_0x3f2a05);}}['setUnpackP'+'remultiply'+'Alpha'](_0x45a63a){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x45a63a){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x45a63a;const _0x105a05=this['gl'];_0x105a05['pixelStore'+'i'](_0x105a05['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x45a63a);}}['activeText'+'ure'](_0x27e8d3){this['textureUni'+'t']!==_0x27e8d3&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x27e8d3),this['textureUni'+'t']=_0x27e8d3);}['bindTextur'+'e'](_0x46b429){const _0x1f795b=_0x46b429['impl'],_0x731708=_0x1f795b['_glTarget'],_0x2aa3ca=_0x1f795b['_glTexture'],_0x1f03b4=this['textureUni'+'t'],_0x378250=this['targetToSl'+'ot'][_0x731708];this['textureUni'+'ts'][_0x1f03b4][_0x378250]!==_0x2aa3ca&&(this['gl']['bindTextur'+'e'](_0x731708,_0x2aa3ca),this['textureUni'+'ts'][_0x1f03b4][_0x378250]=_0x2aa3ca);}['bindTextur'+'eOnUnit'](_0x45ecae,_0x529cc7){const _0x2d8ba5=_0x45ecae['impl'],_0x2867da=_0x2d8ba5['_glTarget'],_0x41ba38=_0x2d8ba5['_glTexture'],_0x24ba1e=this['targetToSl'+'ot'][_0x2867da];this['textureUni'+'ts'][_0x529cc7][_0x24ba1e]!==_0x41ba38&&(this['activeText'+'ure'](_0x529cc7),this['gl']['bindTextur'+'e'](_0x2867da,_0x41ba38),this['textureUni'+'ts'][_0x529cc7][_0x24ba1e]=_0x41ba38);}['setTexture'+'Parameters'](_0x280566){const _0x2519d5=this['gl'],_0x1da6b8=_0x280566['impl']['dirtyParam'+'eterFlags'],_0x4b0bd4=_0x280566['impl']['_glTarget'];if(_0x1da6b8&Ay){let _0x46eb5f=_0x280566['_minFilter'];(!_0x280566['_mipmaps']||_0x280566['_compresse'+'d']&&_0x280566['_levels']['length']===-0x2*0x9af+0xa21*-0x1+0x10*0x1d8)&&(_0x46eb5f===Kh||_0x46eb5f===Zh?_0x46eb5f=Te:(_0x46eb5f===Qh||_0x46eb5f===ma)&&(_0x46eb5f=vt)),_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x46eb5f]);}if(_0x1da6b8&Cy&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x280566['_magFilter']]),_0x1da6b8&Py&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x280566['_addressU']]),_0x1da6b8&My&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x280566['_addressV']]),_0x1da6b8&Dy&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x280566['_addressW']]),_0x1da6b8&Iy&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_CO'+'MPARE_MODE'],_0x280566['_compareOn'+'Read']?_0x2519d5['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x2519d5['NONE']),_0x1da6b8&Ly&&_0x2519d5['texParamet'+'eri'](_0x4b0bd4,_0x2519d5['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x280566['_compareFu'+'nc']]),_0x1da6b8&Ry){const _0xd8a0ab=this['extTexture'+'FilterAnis'+'otropic'];_0xd8a0ab&&_0x2519d5['texParamet'+'erf'](_0x4b0bd4,_0xd8a0ab['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x280566['_anisotrop'+'y']),-0x3*0x2f3+0x3f3+-0x4e7*-0x1,this['maxAnisotr'+'opy']));}}['setTexture'](_0x3e5314,_0x2179f5){const _0x54d121=_0x3e5314['impl'];_0x54d121['_glTexture']||_0x54d121['initialize'](this,_0x3e5314),_0x54d121['dirtyParam'+'eterFlags']>-0x1*-0x188c+0x1*0x38f+-0x5*0x59f||_0x3e5314['_needsUplo'+'ad']||_0x3e5314['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x2179f5),this['bindTextur'+'e'](_0x3e5314),_0x54d121['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x3e5314),_0x54d121['dirtyParam'+'eterFlags']=0x1c2a+-0x4*0x5c7+-0x287*0x2),(_0x3e5314['_needsUplo'+'ad']||_0x3e5314['_needsMipm'+'apsUpload'])&&(_0x54d121['upload'](this,_0x3e5314),_0x3e5314['_needsUplo'+'ad']=!(-0xe*-0x61+-0x2318+0x1dcb),_0x3e5314['_needsMipm'+'apsUpload']=!(-0x8ad+0x1c7b*-0x1+0x421*0x9))):this['bindTextur'+'eOnUnit'](_0x3e5314,_0x2179f5);}['createVert'+'exArray'](_0x27d965){let _0x27bd95,_0x2496fe;const _0x110b9c=_0x27d965['length']>0x18c1+-0x2*-0x5d3+-0x2466*0x1;if(_0x110b9c){_0x27bd95='';for(let _0x27593d=-0x1f0a+-0x1a87*0x1+-0x3991*-0x1;_0x27593d<_0x27d965['length'];_0x27593d++){const _0x46b1a6=_0x27d965[_0x27593d];_0x27bd95+=_0x46b1a6['id']+_0x46b1a6['format']['renderingH'+'ash'];}_0x2496fe=this['_vaoMap']['get'](_0x27bd95);}if(!_0x2496fe){const _0x2d0234=this['gl'];_0x2496fe=_0x2d0234['createVert'+'exArray'](),_0x2d0234['bindVertex'+'Array'](_0x2496fe),_0x2d0234['bindBuffer'](_0x2d0234['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x185ac9=!(-0x14*-0x17b+-0x13ee+-0x1*0x9ad);for(let _0x56123a=0x110d*-0x1+0x13cb*-0x1+0x624*0x6;_0x56123a<_0x27d965['length'];_0x56123a++){const _0x5ceb1d=_0x27d965[_0x56123a];_0x2d0234['bindBuffer'](_0x2d0234['ARRAY_BUFF'+'ER'],_0x5ceb1d['impl']['bufferId']);const _0x389560=_0x5ceb1d['format']['elements'];for(let _0x576763=-0x1*0x2063+0x14*-0xb5+0x2e87;_0x576763<_0x389560['length'];_0x576763++){const _0x3fb2a6=_0x389560[_0x576763],_0x42470f=Le[_0x3fb2a6['name']];_0x42470f===-0x1a13+0x1*-0xc2e+-0x2641*-0x1&&(_0x185ac9=!(0x62d*-0x1+-0x381+0x9ae)),_0x3fb2a6['asInt']?_0x2d0234['vertexAttr'+'ibIPointer'](_0x42470f,_0x3fb2a6['numCompone'+'nts'],this['glType'][_0x3fb2a6['dataType']],_0x3fb2a6['stride'],_0x3fb2a6['offset']):_0x2d0234['vertexAttr'+'ibPointer'](_0x42470f,_0x3fb2a6['numCompone'+'nts'],this['glType'][_0x3fb2a6['dataType']],_0x3fb2a6['normalize'],_0x3fb2a6['stride'],_0x3fb2a6['offset']),_0x2d0234['enableVert'+'exAttribAr'+'ray'](_0x42470f),_0x5ceb1d['format']['instancing']&&_0x2d0234['vertexAttr'+'ibDivisor'](_0x42470f,0x2*0xd8e+-0xdf4+-0xd27);}}_0x2d0234['bindVertex'+'Array'](null),_0x2d0234['bindBuffer'](_0x2d0234['ARRAY_BUFF'+'ER'],null),_0x110b9c&&this['_vaoMap']['set'](_0x27bd95,_0x2496fe),_0x185ac9||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x2496fe;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x4ba912){const _0x49688b=this['gl'];let _0x4347cd;if(this['vertexBuff'+'ers']['length']===0x2247+-0x238+-0x200e){const _0x413709=this['vertexBuff'+'ers'][-0xa38+0x2d3*0x2+0x492];w['assert'](_0x413709['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x413709['impl']['vao']||(_0x413709['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4347cd=_0x413709['impl']['vao'];}else _0x4347cd=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4347cd&&(this['boundVao']=_0x4347cd,_0x49688b['bindVertex'+'Array'](_0x4347cd));const _0x423ca3=_0x4ba912?_0x4ba912['impl']['bufferId']:null;_0x49688b['bindBuffer'](_0x49688b['ELEMENT_AR'+'RAY_BUFFER'],_0x423ca3);}['draw'](_0x11c292,_0x392681,_0x33b295,_0x5c51e5,_0x1a55c4=!(-0x7e4+0x19b7+0xd*-0x15f),_0x3e7f8d=!(0x3*-0x641+0xe8b+0x438)){const _0x561471=this['shader'];if(_0x561471&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x6b7c92=this['gl'];_0x1a55c4&&(w['call'](()=>{var _0x34108a,_0x56d1ca;return this['validateAt'+'tributes'](this['shader'],(_0x34108a=this['vertexBuff'+'ers'][0xc9f+-0x43*-0x49+-0x1fba])==null?void(0xa8e+-0x1*0xdb4+0x326):_0x34108a['format'],(_0x56d1ca=this['vertexBuff'+'ers'][0x13d3+0x1cef+-0x30c1*0x1])==null?void(0x2332+0x181c+-0x3b4e):_0x56d1ca['format']);}),this['setBuffers'](_0x392681));let _0x25aa6f=-0x1*-0x20e6+-0x1dc1+-0x325;const _0x187d83=_0x561471['impl']['samplers'];for(let _0x4a9d51=-0x12a*-0x3+0x2555+-0x28d3,_0x296f03=_0x187d83['length'];_0x4a9d51<_0x296f03;_0x4a9d51++){const _0x12b993=_0x187d83[_0x4a9d51];let _0x5a632e=_0x12b993['scopeId']['value'];if(!_0x5a632e){const _0x4e32fc=_0x12b993['scopeId']['name'];w['assert'](_0x4e32fc!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x4e32fc!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4e32fc==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5a632e=fa(this,'white')),_0x4e32fc==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5a632e=fa(this,'pink')),_0x5a632e||(w['errorOnce']('Shader\x20'+_0x561471['name']+'\x20requires\x20'+_0x4e32fc+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x561471),_0x5a632e=fa(this,'pink'));}if(_0x5a632e instanceof _e){const _0x1b8947=_0x5a632e;this['setTexture'](_0x1b8947,_0x25aa6f),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0xce3+0xb58*-0x3+0x1527&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x1b8947?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x1b8947}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x1b8947&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x1b8947})),_0x12b993['slot']!==_0x25aa6f&&(_0x6b7c92['uniform1i'](_0x12b993['locationId'],_0x25aa6f),_0x12b993['slot']=_0x25aa6f),_0x25aa6f++;}else{_0x12b993['array']['length']=-0x208*-0xa+0x16a*-0xd+-0x1ee;const _0x1252ef=_0x5a632e['length'];for(let _0x2c7da7=-0x1*0x25df+-0x1f43+0x4522;_0x2c7da7<_0x1252ef;_0x2c7da7++){const _0x89ae86=_0x5a632e[_0x2c7da7];this['setTexture'](_0x89ae86,_0x25aa6f),_0x12b993['array'][_0x2c7da7]=_0x25aa6f,_0x25aa6f++;}_0x6b7c92['uniform1iv'](_0x12b993['locationId'],_0x12b993['array']);}}const _0x73781d=_0x561471['impl']['uniforms'];for(let _0x28b3bc=-0x255a+-0x1a79+0x3fd3,_0x556f8e=_0x73781d['length'];_0x28b3bc<_0x556f8e;_0x28b3bc++){const _0x59378f=_0x73781d[_0x28b3bc],_0x34b890=_0x59378f['scopeId'],_0x1d6591=_0x59378f['version'],_0x588828=_0x34b890['versionObj'+'ect']['version'];if(_0x1d6591['globalId']!==_0x588828['globalId']||_0x1d6591['revision']!==_0x588828['revision']){_0x1d6591['globalId']=_0x588828['globalId'],_0x1d6591['revision']=_0x588828['revision'];const _0xc82981=_0x34b890['value'];_0xc82981!=null?this['commitFunc'+'tion'][_0x59378f['dataType']](_0x59378f,_0xc82981):w['warnOnce']('Shader\x20['+_0x561471['label']+(']\x20requires'+'\x20uniform\x20[')+_0x59378f['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x6b7c92['bindBuffer'+'Base'](_0x6b7c92['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x210d+-0x8a*0x2+-0x5*0x665,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x6b7c92['beginTrans'+'formFeedba'+'ck'](_0x6b7c92['POINTS']));const _0x352f6a=this['glPrimitiv'+'e'][_0x11c292['type']],_0x26cb55=_0x11c292['count'];if(_0x11c292['indexed']){w['assert'](_0x392681['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x1ddb7b=_0x392681['impl']['glFormat'],_0x337332=_0x11c292['base']*_0x392681['bytesPerIn'+'dex'];_0x33b295>0x120d*0x1+0xad9*0x1+0x2*-0xe73?_0x6b7c92['drawElemen'+'tsInstance'+'d'](_0x352f6a,_0x26cb55,_0x1ddb7b,_0x337332,_0x33b295):_0x6b7c92['drawElemen'+'ts'](_0x352f6a,_0x26cb55,_0x1ddb7b,_0x337332);}else{const _0x378668=_0x11c292['base'];_0x33b295>-0xb5a+-0x2*0x14f+-0x6*-0x254?_0x6b7c92['drawArrays'+'Instanced'](_0x352f6a,_0x378668,_0x26cb55,_0x33b295):_0x6b7c92['drawArrays'](_0x352f6a,_0x378668,_0x26cb55);}this['transformF'+'eedbackBuf'+'fer']&&(_0x6b7c92['endTransfo'+'rmFeedback'](),_0x6b7c92['bindBuffer'+'Base'](_0x6b7c92['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x2454+0x80f*-0x2+-0x2*-0x1a39,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x11c292['type']]+=_0x11c292['count']*(_0x33b295>-0x2113+-0x24c8+0x45dc*0x1?_0x33b295:0x7d*0x7+-0x1*-0x2419+-0x2783);}_0x3e7f8d&&this['clearVerte'+'xBuffer']();}['clear'](_0x3cde77){const _0x46df27=this['defaultCle'+'arOptions'];_0x3cde77=_0x3cde77||_0x46df27;const _0x5bb93a=_0x3cde77['flags']??_0x46df27['flags'];if(_0x5bb93a!==0x85d*-0x2+0x2*0x58f+0x4*0x167){const _0x183922=this['gl'];if(_0x5bb93a&jo){const _0x429e48=_0x3cde77['color']??_0x46df27['color'],_0x1b9f16=_0x429e48[0x1*-0xd4f+-0x121*0x19+0x6ec*0x6],_0x21ddba=_0x429e48[0x1b5*-0x11+0xfe7+0xd1f],_0x2f87f7=_0x429e48[0x1c5+0x14ac+-0x166f],_0x3ebce9=_0x429e48[-0x3*-0x6c5+0x3d2+0xe*-0x1b9],_0xd1d1a8=this['clearColor'];(_0x1b9f16!==_0xd1d1a8['r']||_0x21ddba!==_0xd1d1a8['g']||_0x2f87f7!==_0xd1d1a8['b']||_0x3ebce9!==_0xd1d1a8['a'])&&(this['gl']['clearColor'](_0x1b9f16,_0x21ddba,_0x2f87f7,_0x3ebce9),this['clearColor']['set'](_0x1b9f16,_0x21ddba,_0x2f87f7,_0x3ebce9)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x5bb93a&Yo){const _0x562d84=_0x3cde77['depth']??_0x46df27['depth'];_0x562d84!==this['clearDepth']&&(this['gl']['clearDepth'](_0x562d84),this['clearDepth']=_0x562d84),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x5bb93a&ch){const _0x62625e=_0x3cde77['stencil']??_0x46df27['stencil'];_0x62625e!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x62625e),this['clearStenc'+'il']=_0x62625e),_0x183922['stencilMas'+'k'](-0x29*0xd3+-0x6*0x63e+0x483e),this['stencilWri'+'teMaskFron'+'t']=-0xbd*-0x33+-0x20c6*0x1+0x8e*-0x7,this['stencilWri'+'teMaskBack']=0x31b*0xb+-0x2185+0x5b;}_0x183922['clear'](this['glClearFla'+'g'][_0x5bb93a]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x3f8d89,_0xcd786a,_0x3e6cbc,_0x36c8f9,_0x43b9a2){const _0x21cb0e=this['gl'];_0x21cb0e['readPixels'](_0x3f8d89,_0xcd786a,_0x3e6cbc,_0x36c8f9,_0x21cb0e['RGBA'],_0x21cb0e['UNSIGNED_B'+'YTE'],_0x43b9a2);}['clientWait'+'Async'](_0x50daad,_0x22ede2){const _0x37cce4=this['gl'],_0x5032a1=_0x37cce4['fenceSync'](_0x37cce4['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x779+-0x107*-0x1a+-0x133d);return this['submit'](),new Promise((_0x2ab3e7,_0xc7a4b1)=>{function _0xc1cc1(){const _0x4fd3fb=_0x37cce4['clientWait'+'Sync'](_0x5032a1,_0x50daad,-0x165a+-0x1*-0xd31+0x929);_0x4fd3fb===_0x37cce4['TIMEOUT_EX'+'PIRED']?setTimeout(_0xc1cc1,_0x22ede2):(_0x37cce4['deleteSync'](_0x5032a1),_0x4fd3fb===_0x37cce4['WAIT_FAILE'+'D']?_0xc7a4b1(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x2ab3e7());}_0xc1cc1();});}async['readPixels'+'Async'](_0x17cdcf,_0xa159ec,_0x59d4d8,_0x2b52db,_0x2f5fad){var _0xeb8a3b;const _0x331069=this['gl'],_0x6b46ef=(_0xeb8a3b=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x4fd*-0x2+0x2*0x181+0x6f8):_0xeb8a3b['impl'],_0xde90c4=(_0x6b46ef==null?void(0x3dd*0x2+0xc9a+0x2*-0xa2a):_0x6b46ef['_glFormat'])??_0x331069['RGBA'],_0x1c3ab4=(_0x6b46ef==null?void(0x1*0x2527+0x88d+0x4e*-0x96):_0x6b46ef['_glPixelTy'+'pe'])??_0x331069['UNSIGNED_B'+'YTE'],_0xe9f489=_0x331069['createBuff'+'er']();return _0x331069['bindBuffer'](_0x331069['PIXEL_PACK'+'_BUFFER'],_0xe9f489),_0x331069['bufferData'](_0x331069['PIXEL_PACK'+'_BUFFER'],_0x2f5fad['byteLength'],_0x331069['STREAM_REA'+'D']),_0x331069['readPixels'](_0x17cdcf,_0xa159ec,_0x59d4d8,_0x2b52db,_0xde90c4,_0x1c3ab4,0xf34+0x8f*0x3b+-0x3029),_0x331069['bindBuffer'](_0x331069['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x8ca+0xea2+-0xbb*0x8,-0x1e5b+0x2dd*0x2+-0x387*-0x7),_0x331069['bindBuffer'](_0x331069['PIXEL_PACK'+'_BUFFER'],_0xe9f489),_0x331069['getBufferS'+'ubData'](_0x331069['PIXEL_PACK'+'_BUFFER'],-0xa4a+-0x6d*0x4c+0x2aa6,_0x2f5fad),_0x331069['bindBuffer'](_0x331069['PIXEL_PACK'+'_BUFFER'],null),_0x331069['deleteBuff'+'er'](_0xe9f489),_0x2f5fad;}['readTextur'+'eAsync'](_0x2d1407,_0x2a49df,_0x171d38,_0x2a9d02,_0x6c370,_0x155d4b){const _0x1aa45f=_0x155d4b['face']??-0xed+0x1a58+0x9*-0x2d3,_0x3fb1ae=_0x155d4b['renderTarg'+'et']??new gt({'colorBuffer':_0x2d1407,'depth':!(0x435+0x6*0x65b+-0x2a56),'face':_0x1aa45f});w['assert'](_0x3fb1ae['colorBuffe'+'r']===_0x2d1407);const _0x38ba5b=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x2a9d02,_0x6c370,-0xe9*0x5+0x1a56+-0x15c8,_0x2d1407['_format'])),_0x4344cb=_0x155d4b['data']??new(my(_0x2d1407['_format']))(_0x38ba5b);return this['setRenderT'+'arget'](_0x3fb1ae),this['initRender'+'Target'](_0x3fb1ae),new Promise((_0x2eae06,_0x498897)=>{this['readPixels'+'Async'](_0x2a49df,_0x171d38,_0x2a9d02,_0x6c370,_0x4344cb)['then'](_0x39c67a=>{_0x155d4b['renderTarg'+'et']||_0x3fb1ae['destroy'](),_0x2eae06(_0x39c67a);})['catch'](_0x498897);});}async['writeTextu'+'reAsync'](_0x2a8ce7,_0x36b247,_0xf04b12,_0x1fbb0e,_0x3eff88,_0x1eefbd){const _0x41d2ce=this['gl'],_0x56603a=_0x2a8ce7['impl'],_0x302d23=(_0x56603a==null?void(-0x234+-0x2335+0x2569):_0x56603a['_glFormat'])??_0x41d2ce['RGBA'],_0x2c6cda=(_0x56603a==null?void(-0x2437*-0x1+0x2*0x52+0xff*-0x25):_0x56603a['_glPixelTy'+'pe'])??_0x41d2ce['UNSIGNED_B'+'YTE'],_0x1838bf=_0x41d2ce['createBuff'+'er']();_0x41d2ce['bindBuffer'](_0x41d2ce['PIXEL_UNPA'+'CK_BUFFER'],_0x1838bf),_0x41d2ce['bufferData'](_0x41d2ce['PIXEL_UNPA'+'CK_BUFFER'],_0x1eefbd,_0x41d2ce['STREAM_DRA'+'W']),_0x41d2ce['bindTextur'+'e'](_0x41d2ce['TEXTURE_2D'],_0x56603a['_glTexture']),_0x41d2ce['texSubImag'+'e2D'](_0x41d2ce['TEXTURE_2D'],-0x875+-0xd47+0x6b*0x34,_0x36b247,_0xf04b12,_0x1fbb0e,_0x3eff88,_0x302d23,_0x2c6cda,0x1*0x6bb+0xc43+-0x11*0x11e),_0x41d2ce['bindBuffer'](_0x41d2ce['PIXEL_UNPA'+'CK_BUFFER'],null),_0x2a8ce7['_needsUplo'+'ad']=!(0x98f+0x1ac9*-0x1+-0x113b*-0x1),_0x2a8ce7['_mipmapsUp'+'loaded']=!(-0x18da+0x22d0+-0x9f5),await this['clientWait'+'Async'](0x1*0x12d6+-0x6*0x588+0xe5a,-0x186d+-0xb19+0x2396);}['setAlphaTo'+'Coverage'](_0x365f71){this['alphaToCov'+'erage']!==_0x365f71&&(this['alphaToCov'+'erage']=_0x365f71,_0x365f71?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5ea873){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5ea873){this['transformF'+'eedbackBuf'+'fer']=_0x5ea873;const _0xeada1=this['gl'];_0x5ea873?(this['feedback']||(this['feedback']=_0xeada1['createTran'+'sformFeedb'+'ack']()),_0xeada1['bindTransf'+'ormFeedbac'+'k'](_0xeada1['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0xeada1['bindTransf'+'ormFeedbac'+'k'](_0xeada1['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x2c7cab){this['raster']!==_0x2c7cab&&(this['raster']=_0x2c7cab,_0x2c7cab?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x2a9615){if(this['stencil']!==_0x2a9615){const _0x22c3b8=this['gl'];_0x2a9615?_0x22c3b8['enable'](_0x22c3b8['STENCIL_TE'+'ST']):_0x22c3b8['disable'](_0x22c3b8['STENCIL_TE'+'ST']),this['stencil']=_0x2a9615;}}['setStencil'+'Func'](_0x646160,_0x2aafbb,_0x133915){(this['stencilFun'+'cFront']!==_0x646160||this['stencilRef'+'Front']!==_0x2aafbb||this['stencilMas'+'kFront']!==_0x133915||this['stencilFun'+'cBack']!==_0x646160||this['stencilRef'+'Back']!==_0x2aafbb||this['stencilMas'+'kBack']!==_0x133915)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x646160],_0x2aafbb,_0x133915),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x646160,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x2aafbb,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x133915);}['setStencil'+'FuncFront'](_0xa88c9b,_0x266d85,_0x5f3c62){if(this['stencilFun'+'cFront']!==_0xa88c9b||this['stencilRef'+'Front']!==_0x266d85||this['stencilMas'+'kFront']!==_0x5f3c62){const _0x548ec0=this['gl'];_0x548ec0['stencilFun'+'cSeparate'](_0x548ec0['FRONT'],this['glComparis'+'on'][_0xa88c9b],_0x266d85,_0x5f3c62),this['stencilFun'+'cFront']=_0xa88c9b,this['stencilRef'+'Front']=_0x266d85,this['stencilMas'+'kFront']=_0x5f3c62;}}['setStencil'+'FuncBack'](_0x318de3,_0x46f8b,_0xf92c2d){if(this['stencilFun'+'cBack']!==_0x318de3||this['stencilRef'+'Back']!==_0x46f8b||this['stencilMas'+'kBack']!==_0xf92c2d){const _0x25c5f8=this['gl'];_0x25c5f8['stencilFun'+'cSeparate'](_0x25c5f8['BACK'],this['glComparis'+'on'][_0x318de3],_0x46f8b,_0xf92c2d),this['stencilFun'+'cBack']=_0x318de3,this['stencilRef'+'Back']=_0x46f8b,this['stencilMas'+'kBack']=_0xf92c2d;}}['setStencil'+'Operation'](_0x45817d,_0x1b79ba,_0x71d6a0,_0x197d65){(this['stencilFai'+'lFront']!==_0x45817d||this['stencilZfa'+'ilFront']!==_0x1b79ba||this['stencilZpa'+'ssFront']!==_0x71d6a0||this['stencilFai'+'lBack']!==_0x45817d||this['stencilZfa'+'ilBack']!==_0x1b79ba||this['stencilZpa'+'ssBack']!==_0x71d6a0)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x45817d],this['glStencilO'+'p'][_0x1b79ba],this['glStencilO'+'p'][_0x71d6a0]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x45817d,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x1b79ba,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x71d6a0),(this['stencilWri'+'teMaskFron'+'t']!==_0x197d65||this['stencilWri'+'teMaskBack']!==_0x197d65)&&(this['gl']['stencilMas'+'k'](_0x197d65),this['stencilWri'+'teMaskFron'+'t']=_0x197d65,this['stencilWri'+'teMaskBack']=_0x197d65);}['setStencil'+'OperationF'+'ront'](_0x2aadb4,_0x2e71f0,_0x19a911,_0x591f5f){(this['stencilFai'+'lFront']!==_0x2aadb4||this['stencilZfa'+'ilFront']!==_0x2e71f0||this['stencilZpa'+'ssFront']!==_0x19a911)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x2aadb4],this['glStencilO'+'p'][_0x2e71f0],this['glStencilO'+'p'][_0x19a911]),this['stencilFai'+'lFront']=_0x2aadb4,this['stencilZfa'+'ilFront']=_0x2e71f0,this['stencilZpa'+'ssFront']=_0x19a911),this['stencilWri'+'teMaskFron'+'t']!==_0x591f5f&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x591f5f),this['stencilWri'+'teMaskFron'+'t']=_0x591f5f);}['setStencil'+'OperationB'+'ack'](_0x5d8c13,_0x69a57c,_0x95d0d0,_0x6461c1){(this['stencilFai'+'lBack']!==_0x5d8c13||this['stencilZfa'+'ilBack']!==_0x69a57c||this['stencilZpa'+'ssBack']!==_0x95d0d0)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x5d8c13],this['glStencilO'+'p'][_0x69a57c],this['glStencilO'+'p'][_0x95d0d0]),this['stencilFai'+'lBack']=_0x5d8c13,this['stencilZfa'+'ilBack']=_0x69a57c,this['stencilZpa'+'ssBack']=_0x95d0d0),this['stencilWri'+'teMaskBack']!==_0x6461c1&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x6461c1),this['stencilWri'+'teMaskBack']=_0x6461c1);}['setBlendSt'+'ate'](_0x493838){const _0x4cb667=this['blendState'];if(!_0x4cb667['equals'](_0x493838)){const _0x5cc31c=this['gl'],{blend:_0xdc8c90,colorOp:_0x11f256,alphaOp:_0x5dea55,colorSrcFactor:_0x426bc0,colorDstFactor:_0x312917,alphaSrcFactor:_0x35a4a1,alphaDstFactor:_0x560898}=_0x493838;if(_0x4cb667['blend']!==_0xdc8c90&&(_0xdc8c90?_0x5cc31c['enable'](_0x5cc31c['BLEND']):_0x5cc31c['disable'](_0x5cc31c['BLEND'])),_0x4cb667['colorOp']!==_0x11f256||_0x4cb667['alphaOp']!==_0x5dea55){const _0x2e99b9=this['glBlendEqu'+'ation'];_0x5cc31c['blendEquat'+'ionSeparat'+'e'](_0x2e99b9[_0x11f256],_0x2e99b9[_0x5dea55]);}(_0x4cb667['colorSrcFa'+'ctor']!==_0x426bc0||_0x4cb667['colorDstFa'+'ctor']!==_0x312917||_0x4cb667['alphaSrcFa'+'ctor']!==_0x35a4a1||_0x4cb667['alphaDstFa'+'ctor']!==_0x560898)&&_0x5cc31c['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x426bc0],this['glBlendFun'+'ctionColor'][_0x312917],this['glBlendFun'+'ctionAlpha'][_0x35a4a1],this['glBlendFun'+'ctionAlpha'][_0x560898]),_0x4cb667['allWrite']!==_0x493838['allWrite']&&this['gl']['colorMask'](_0x493838['redWrite'],_0x493838['greenWrite'],_0x493838['blueWrite'],_0x493838['alphaWrite']),_0x4cb667['copy'](_0x493838);}}['setBlendCo'+'lor'](_0xf9f756,_0x475ade,_0x2a4bc6,_0x2a2eb2){const _0x388cb5=this['blendColor'];(_0xf9f756!==_0x388cb5['r']||_0x475ade!==_0x388cb5['g']||_0x2a4bc6!==_0x388cb5['b']||_0x2a2eb2!==_0x388cb5['a'])&&(this['gl']['blendColor'](_0xf9f756,_0x475ade,_0x2a4bc6,_0x2a2eb2),_0x388cb5['set'](_0xf9f756,_0x475ade,_0x2a4bc6,_0x2a2eb2));}['setStencil'+'State'](_0x30abe5,_0x28fbd7){_0x30abe5||_0x28fbd7?(this['setStencil'+'Test'](!(-0x145f+0x2480+0x1*-0x1021)),_0x30abe5===_0x28fbd7?(this['setStencil'+'Func'](_0x30abe5['func'],_0x30abe5['ref'],_0x30abe5['readMask']),this['setStencil'+'Operation'](_0x30abe5['fail'],_0x30abe5['zfail'],_0x30abe5['zpass'],_0x30abe5['writeMask'])):(_0x30abe5??(_0x30abe5=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x30abe5['func'],_0x30abe5['ref'],_0x30abe5['readMask']),this['setStencil'+'OperationF'+'ront'](_0x30abe5['fail'],_0x30abe5['zfail'],_0x30abe5['zpass'],_0x30abe5['writeMask']),_0x28fbd7??(_0x28fbd7=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x28fbd7['func'],_0x28fbd7['ref'],_0x28fbd7['readMask']),this['setStencil'+'OperationB'+'ack'](_0x28fbd7['fail'],_0x28fbd7['zfail'],_0x28fbd7['zpass'],_0x28fbd7['writeMask']))):this['setStencil'+'Test'](!(-0x32a+-0xf5a+-0xb*-0x1af));}['setDepthSt'+'ate'](_0x4f9324){const _0x2d83eb=this['depthState'];if(!_0x2d83eb['equals'](_0x4f9324)){const _0x128098=this['gl'],_0x3ecf32=_0x4f9324['write'];_0x2d83eb['write']!==_0x3ecf32&&_0x128098['depthMask'](_0x3ecf32);let {func:_0x128a26,test:_0x29ac65}=_0x4f9324;!_0x29ac65&&_0x3ecf32&&(_0x29ac65=!(-0x2d0+-0x26eb+0x29bb),_0x128a26=Wi),_0x2d83eb['func']!==_0x128a26&&_0x128098['depthFunc'](this['glComparis'+'on'][_0x128a26]),_0x2d83eb['test']!==_0x29ac65&&(_0x29ac65?_0x128098['enable'](_0x128098['DEPTH_TEST']):_0x128098['disable'](_0x128098['DEPTH_TEST']));const {depthBias:_0x49e381,depthBiasSlope:_0x417412}=_0x4f9324;_0x49e381||_0x417412?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0xef+0x88b+-0x97a),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x128098['polygonOff'+'set'](_0x417412,_0x49e381)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x914+-0x10d*0x9+-0x2*-0x31),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2d83eb['copy'](_0x4f9324);}}['setCullMod'+'e'](_0xa9a16c){if(this['cullMode']!==_0xa9a16c){if(_0xa9a16c===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x17c646=this['glCull'][_0xa9a16c];this['cullFace']!==_0x17c646&&(this['gl']['cullFace'](_0x17c646),this['cullFace']=_0x17c646);}this['cullMode']=_0xa9a16c;}}['setShader'](_0x2efe03,_0x182c9f=!(-0xd88*0x2+-0x24f9+0x400a)){_0x2efe03!==this['shader']&&(this['shader']=_0x2efe03,this['shaderAsyn'+'cCompile']=_0x182c9f,this['shaderVali'+'d']=void(-0x1e42+-0x77b+0x1*0x25bd),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x31edcd}=this,{impl:_0x2eb860}=_0x31edcd;this['shaderVali'+'d']===void(-0x62d+0x673+-0x46)&&(_0x31edcd['failed']?this['shaderVali'+'d']=!(0x94a*0x1+0x2bf*-0x2+-0x1*0x3cb):_0x31edcd['ready']||(this['shaderAsyn'+'cCompile']?_0x2eb860['isLinked'](this)?_0x2eb860['finalize'](this,_0x31edcd)||(_0x31edcd['failed']=!(0x218c+-0xe8e+-0x11*0x11e),this['shaderVali'+'d']=!(0x2*-0xd4f+-0x2432+0x3ed1)):this['shaderVali'+'d']=!(0x2e7+-0x601+0x31b):_0x2eb860['finalize'](this,_0x31edcd)||(_0x31edcd['failed']=!(-0x245d+-0xf5e+0x33bb),this['shaderVali'+'d']=!(-0xa0*0x1d+-0x13*0x74+0x5*0x559)))),this['shaderVali'+'d']===void(-0x1272+0x1008+-0x67*-0x6)&&(this['gl']['useProgram'](_0x2eb860['glProgram']),this['shaderVali'+'d']=!(-0x19a3*-0x1+-0x249a+0xaf7));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4f050e=this['gl'];this['_vaoMap']['forEach']((_0x24976a,_0x555879,_0x416a29)=>{_0x4f050e['deleteVert'+'exArray'](_0x24976a);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x5b4237){_0x5b4237?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x214908=-0x3e1+0x51b*0x1+0xd6*-0x1){const _0x115262=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x115262['loseContex'+'t'](),setTimeout(()=>_0x115262['restoreCon'+'text'](),_0x214908);}}let nw=-0x5*0xf9+0x3*0x8b5+0x3*-0x716;class br{constructor(_0x5a83ee,_0x30dcd3,_0x398992,_0x1e57a0=ms,_0x1734cd,_0x21c16c){this['device']=_0x5a83ee,this['format']=_0x30dcd3,this['numIndices']=_0x398992,this['usage']=_0x1e57a0,this['id']=nw++,this['impl']=_0x5a83ee['createInde'+'xBufferImp'+'l'](this,_0x21c16c);const _0x39335e=hT[_0x30dcd3];this['bytesPerIn'+'dex']=_0x39335e,this['numBytes']=this['numIndices']*_0x39335e,_0x1734cd?this['setData'](_0x1734cd):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x5a83ee['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1208d3=this['device'],_0x701e4f=_0x1208d3['buffers']['indexOf'](this);_0x701e4f!==-(0x128d+0x10e9+-0x2375)&&_0x1208d3['buffers']['splice'](_0x701e4f,-0x1*-0x493+0x1139*0x2+0xb*-0x38c),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1208d3),this['adjustVram'+'SizeTracki'+'ng'](_0x1208d3['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x21f373,_0x36a204){w['trace'](j0,this['id']+'\x20size:\x20'+_0x36a204+'\x20vram.ib:\x20'+_0x21f373['ib']+'\x20=>\x20'+(_0x21f373['ib']+_0x36a204)),_0x21f373['ib']+=_0x36a204;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x6f7d5a){return _0x6f7d5a['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x6f7d5a['byteLength']),!(-0x2365+0x2*0x1159+-0x1e*-0x6)):(this['storage']=_0x6f7d5a,this['unlock'](),!(0x2131+0x463*0x5+-0x3*0x1260));}['_lockTyped'+'Array'](){const _0x59607c=this['lock']();return this['format']===wr?new Uint32Array(_0x59607c):this['format']===Yi?new Uint16Array(_0x59607c):new Uint8Array(_0x59607c);}['writeData'](_0x15de94,_0x145691){const _0x12dde2=this['_lockTyped'+'Array']();if(_0x15de94['length']>_0x145691){if(ArrayBuffer['isView'](_0x15de94))_0x15de94=_0x15de94['subarray'](0x4e4+0x1189+0x166d*-0x1,_0x145691),_0x12dde2['set'](_0x15de94);else{for(let _0x5f50ee=0x1a2+-0x77b+0x5d9;_0x5f50ee<_0x145691;_0x5f50ee++)_0x12dde2[_0x5f50ee]=_0x15de94[_0x5f50ee];}}else _0x12dde2['set'](_0x15de94);this['unlock']();}['readData'](_0x28f963){const _0x1ba55d=this['_lockTyped'+'Array'](),_0x470e48=this['numIndices'];if(ArrayBuffer['isView'](_0x28f963))_0x28f963['set'](_0x1ba55d);else{_0x28f963['length']=0x335*0x5+-0x3*-0x1c1+0x3a*-0x5e;for(let _0x5a380a=-0x25d6+-0x1a2b+0x4001;_0x5a380a<_0x470e48;_0x5a380a++)_0x28f963[_0x5a380a]=_0x1ba55d[_0x5a380a];}return _0x470e48;}}class ow{constructor(){h(this,'clearValue',new ie(0x22b3+-0x79f*-0x1+-0x2a52,-0x4*-0x407+-0x4be+0xa*-0x123,-0xe9*0x22+-0x14bb+0x33ad*0x1,-0x83*0x2b+0x1c*-0xb4+0x29b2)),h(this,'clearValue'+'Linear',new ie(-0x261b+0x2582+-0x33*-0x3,0x18d9+0x222f+0x761*-0x8,-0xa08+0x3*0x6a7+-0x9ed,0xb0e+0x1*-0x24cf+0x19c2)),h(this,'clear',!(-0x14b7+-0x269a+0x3b52)),h(this,'store',!(0x61e+-0x11e5*0x1+0xbc8)),h(this,'resolve',!(0x4b6+-0x4be*-0x3+-0x2*0x978)),h(this,'genMipmaps',!(0x1783*0x1+-0x28c+-0x14f6));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0xe59+-0xa99*0x1+0x851*0x3),h(this,'clearStenc'+'ilValue',-0xc2c+0x1*-0x7c7+-0x13f3*-0x1),h(this,'clearDepth',!(-0x263f*0x1+-0x255f+0x4b9f)),h(this,'clearStenc'+'il',!(-0x2003+0x13ae*-0x1+0x33b2)),h(this,'storeDepth',!(0x10f*0x1b+-0x2*0x126+-0x349*0x8)),h(this,'resolveDep'+'th',!(-0x1048+0xdd*-0x29+0x33ae)),h(this,'storeStenc'+'il',!(0x1*0x42e+-0x12c0+-0x7*-0x215));}}class ys{constructor(_0x58b9f2){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x1*-0x20e0+-0x236a+0x444a)),h(this,'_skipStart',!(0x1235+0x18f7+-0x2b*0x101)),h(this,'_skipEnd',!(0x720+0xbcc+-0x12eb)),h(this,'executeEna'+'bled',!(0x236d+0x2532+0x1*-0x489f)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x2c+0x9c*0x16+-0xd94),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x95c+0x3e4*-0xa+0x3044)),h(this,'fullSizeCl'+'earRect',!(0x3*0x68f+0xed5+-0x2282)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x58b9f2),this['device']=_0x58b9f2);}get['colorOps'](){return this['colorArray'+'Ops'][0x1*-0xddb+-0x13*0x71+0x163e];}set['name'](_0x33582b){this['_name']=_0x33582b;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x4dede7){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x4dede7;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x4cd1ac){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x4cd1ac;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0xf528e6){this['_options']=_0xf528e6,_0xf528e6&&(this['scaleX']=this['scaleX']??0x1fd5+0x5e5+-0x25b9,this['scaleY']=this['scaleY']??-0x1fb3+-0xb10+0x2ac4);}get['options'](){return this['_options'];}['init'](_0x1426e4=null,_0x31b714){this['options']=_0x31b714,this['renderTarg'+'et']=_0x1426e4,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x2136+0x24d0+0x4605*-0x1),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x4fda7c,_0x2438d9,_0x4b0d3c,_0x28acb3;const _0xed2375=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0xed2375!=null&&_0xed2375['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x2294+-0x103f*0x1+-0x10f1*-0x3));const _0x2dda3a=_0xed2375?((_0x4fda7c=_0xed2375['_colorBuff'+'ers'])==null?void(-0x163d+0x29*-0xca+0x3697):_0x4fda7c['length'])??0x19d*-0xb+0x1c*-0x69+0x1d3b:-0x1d2b+0x11b*-0xb+0x3*0xdc7;this['colorArray'+'Ops']['length']=-0x1f38+-0x74*0x1a+-0x4*-0xac0;for(let _0x10e645=-0x1d63+-0xc95+0x53f*0x8;_0x10e645<_0x2dda3a;_0x10e645++){const _0x2c8b76=new ow();this['colorArray'+'Ops'][_0x10e645]=_0x2c8b76,this['samples']===-0x5da*0x1+0x20cc+-0x1*0x1af1&&(_0x2c8b76['store']=!(0xa*-0x3c5+-0x95*0x2e+-0x101e*-0x4),_0x2c8b76['resolve']=!(0x6e6+0x141b+-0x1b00));const _0x1ec5e2=(_0x4b0d3c=(_0x2438d9=this['renderTarg'+'et'])==null?void(0xfb*0x26+0x12*-0x10b+-0x127c):_0x2438d9['_colorBuff'+'ers'])==null?void(0x20e+-0x2131+-0x1f23*-0x1):_0x4b0d3c[_0x10e645];if((_0x28acb3=this['renderTarg'+'et'])!=null&&_0x28acb3['mipmaps']&&(_0x1ec5e2!=null&&_0x1ec5e2['mipmaps'])){const _0x4558ae=dn(_0x1ec5e2['_format']);_0x2c8b76['genMipmaps']=!_0x4558ae;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x1898ec=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x265270=Math['floor'](_0x1898ec['width']*this['scaleX']),_0x54971b=Math['floor'](_0x1898ec['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x265270,_0x54971b);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x45be3b){this['_enabled']!==_0x45be3b&&(this['_enabled']=_0x45be3b,_0x45be3b?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x58262a){const _0x185d2d=this['colorArray'+'Ops']['length'];for(let _0x28507f=0x4*0x482+-0x4ed+0xb*-0x131;_0x28507f<_0x185d2d;_0x28507f++){const _0x315857=this['colorArray'+'Ops'][_0x28507f];_0x58262a&&(_0x315857['clearValue']['copy'](_0x58262a),_0x315857['clearValue'+'Linear']['linear'](_0x58262a)),_0x315857['clear']=!!_0x58262a;}}['setClearDe'+'pth'](_0x3d4d6b){_0x3d4d6b&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x3d4d6b),this['depthStenc'+'ilOps']['clearDepth']=_0x3d4d6b!==void(0x2693+0x131f+-0x5*0xb8a);}['setClearSt'+'encil'](_0x2e844a){_0x2e844a&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x2e844a),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x2e844a!==void(0x45*-0x1+0xd*-0x13b+0x1044);}['render'](){if(this['enabled']){const _0x237e4d=this['device'],_0x101052=this['renderTarg'+'et']!==void(-0x26a2+0x1bdf+-0x5f*-0x1d);w['call'](()=>{this['log'](_0x237e4d,_0x237e4d['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x101052&&!this['_skipStart']&&_0x237e4d['startRende'+'rPass'](this),this['execute'](),_0x101052&&!this['_skipEnd']&&_0x237e4d['endRenderP'+'ass'](this)),this['after'](),_0x237e4d['renderPass'+'Index']++;}}['log'](_0x590342,_0x16586c=0xe0a+0x11*-0x216+0x2*0xab6){var _0x393be0,_0x204cc4,_0x1f941d;if(mi['get'](Pm)||mi['get'](cn)){const _0x2cf035=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x590342['backBuffer']:null),_0x4262b4=!!(_0x2cf035!=null&&_0x2cf035['impl']['assignedCo'+'lorTexture'])||(_0x2cf035==null?void(0x19c3+0x2b*0x7a+-0x2e41):_0x2cf035['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x2*-0x8ef+-0x1d7e+0xba0),_0x594949=((_0x393be0=_0x2cf035==null?void(0x26d*0x9+-0x8f3+0xce2*-0x1):_0x2cf035['_colorBuff'+'ers'])==null?void(0x6b*-0x53+-0x52*-0x65+0x1*0x257):_0x393be0['length'])??(_0x4262b4?0x1*-0x2573+-0x8a9+0x1*0x2e1d:0x1f27+-0x8d5+0x1652*-0x1),_0x305794=_0x2cf035==null?void(-0x1113+-0xf*-0x16b+0x432*-0x1):_0x2cf035['depth'],_0x40ad59=_0x2cf035==null?void(-0x11*-0x139+-0x19*-0x19+0xb9d*-0x2):_0x2cf035['stencil'],_0x1424d4=_0x2cf035==null?void(0x5e0*-0x6+-0x113f+-0x1*-0x347f):_0x2cf035['mipLevel'],_0x757342=_0x2cf035?'\x20RT:\x20'+(_0x2cf035?_0x2cf035['name']:'NULL')+'\x20'+(_0x594949>-0x2*0x313+-0x9*-0x2f3+-0x1465?'[Color'+(_0x594949>0x5*0x67b+0x535+0x259b*-0x1?'\x20x\x20'+_0x594949:'')+']':'')+(_0x305794?'[Depth]':'')+(_0x40ad59?'[Stencil]':'')+'\x20'+_0x2cf035['width']+'\x20x\x20'+_0x2cf035['height']+(this['samples']>0x1879+-0x15b2+-0xed*0x3?'\x20samples:\x20'+this['samples']:'')+(_0x1424d4>0x26ce*-0x1+0x3*-0x3ec+-0x1949*-0x2?'\x20mipLevel:'+'\x20'+_0x1424d4:''):'',_0x9cdc62=this['_skipStart']?'++':_0x16586c['toString']()['padEnd'](-0x897*-0x1+0x1*-0x20a1+0x180c,'\x20');w['trace'](Pm,_0x9cdc62+':\x20'+this['name']['padEnd'](0xd2+0x19d2+0x5*-0x550,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x757342['padEnd'](-0x2*-0xfbc+0x1451+0x1139*-0x3));for(let _0x566f00=0x2612+0x1*-0xd1+0xbb*-0x33;_0x566f00<_0x594949;_0x566f00++){const _0x2eb848=this['colorArray'+'Ops'][_0x566f00],_0x4e631c=(_0x204cc4=Nt['get'](_0x4262b4?_0x590342['backBuffer'+'Format']:_0x2cf035['getColorBu'+'ffer'](_0x566f00)['format']))==null?void(0x11c+-0x8*0x24+0x4):_0x204cc4['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x566f00+']:\x20'+(_0x2eb848['clear']?'clear':'load')+'->'+(_0x2eb848['store']?'store':'discard')+'\x20'+(_0x2eb848['resolve']?'resolve\x20':'')+(_0x2eb848['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x4e631c+']\x20'+(_0x2eb848['clear']?'[clear:\x20'+_0x2eb848['clearValue']['toString'](!(0x52*-0x74+-0x6d9+0x5*0x8cd),!(0x14d1+0x1*-0x1d1b+-0x425*-0x2))+']':''));}if(this['depthStenc'+'ilOps']){const _0x3c7912=''+(_0x2cf035['depthBuffe'+'r']?'\x20[format:\x20'+((_0x1f941d=Nt['get'](_0x2cf035['depthBuffe'+'r']['format']))==null?void(0x2*-0x9e+0x1bf9+-0x1abd):_0x1f941d['name'])+']':'');_0x305794&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x3c7912+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x40ad59&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x3c7912+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x55bc84){this['array'][this['index']]=_0x55bc84;}function hw(_0x576610,_0x461df5){this['array'][this['index']]=_0x576610,this['array'][this['index']+(-0x1*-0x2107+-0x1829*-0x1+-0x392f)]=_0x461df5;}function dw(_0x1a43d6,_0x3563c7,_0x94f1b3){this['array'][this['index']]=_0x1a43d6,this['array'][this['index']+(-0x64b*-0x5+-0x89b*0x1+-0x1*0x16db)]=_0x3563c7,this['array'][this['index']+(0x18b1+-0x871+-0x1b*0x9a)]=_0x94f1b3;}function fw(_0xdab785,_0xc01539,_0x58716c,_0x5c7824){this['array'][this['index']]=_0xdab785,this['array'][this['index']+(-0x2a5+-0x332+0x5d8)]=_0xc01539,this['array'][this['index']+(0x1*0x21a3+-0x1907+-0x89a)]=_0x58716c,this['array'][this['index']+(-0x24b8+-0x240b+0x2b2*0x1b)]=_0x5c7824;}function uw(_0xff428f,_0x491027,_0x279e3d){this['array'][_0xff428f]=_0x491027[_0x279e3d];}function pw(_0x574857,_0x2aff52,_0x2334fd){this['array'][_0x574857]=_0x2aff52[_0x2334fd],this['array'][_0x574857+(0x1bf0+0x1ec5*-0x1+0x2d6)]=_0x2aff52[_0x2334fd+(-0x29*-0x24+-0x6+-0x5bd)];}function mw(_0x37fc8d,_0x1d4df7,_0x54b5bd){this['array'][_0x37fc8d]=_0x1d4df7[_0x54b5bd],this['array'][_0x37fc8d+(-0x1dc5+0x11*-0x53+-0x1*-0x2349)]=_0x1d4df7[_0x54b5bd+(-0x2015+0x1b81*-0x1+0x3b97)],this['array'][_0x37fc8d+(0x5f*-0xe+-0x8*0x97+0x4f6*0x2)]=_0x1d4df7[_0x54b5bd+(0x10*0x1dd+0x10eb*-0x1+-0xce3*0x1)];}function _w(_0x366329,_0x22c764,_0x2db356){this['array'][_0x366329]=_0x22c764[_0x2db356],this['array'][_0x366329+(-0x1bc+0x194*-0x13+0x1fb9)]=_0x22c764[_0x2db356+(-0x805+-0x2*-0x431+-0x5c)],this['array'][_0x366329+(0x816+0x936+-0x114a)]=_0x22c764[_0x2db356+(0xf4e+0x3*-0x4ef+-0x7f)],this['array'][_0x366329+(-0x89*-0x21+-0xe17+-0x38f*0x1)]=_0x22c764[_0x2db356+(-0x2*-0x71b+0xd5f+-0x1b92)];}function gw(_0x2c1013,_0x135670,_0xdfb867){_0x135670[_0xdfb867]=this['array'][_0x2c1013];}function Sw(_0x2dddc9,_0x2dfc5d,_0x6343d2){_0x2dfc5d[_0x6343d2]=this['array'][_0x2dddc9],_0x2dfc5d[_0x6343d2+(0x38c+0x1*-0x2467+0x20dc)]=this['array'][_0x2dddc9+(0x1*-0x12c2+-0xa0d+0x1cd0)];}function yw(_0x2723ca,_0x5772e1,_0x27f8f9){_0x5772e1[_0x27f8f9]=this['array'][_0x2723ca],_0x5772e1[_0x27f8f9+(-0x21*-0xce+0x20de+-0x11f*0x35)]=this['array'][_0x2723ca+(-0x1c1f+-0x8e1*0x3+0x1*0x36c3)],_0x5772e1[_0x27f8f9+(0xe9*0x21+-0x1*0x2197+0x390)]=this['array'][_0x2723ca+(0x9c*-0x3a+-0x1*-0x1eb+-0x1*-0x216f)];}function vw(_0x241f7b,_0x36aae3,_0x8a6564){_0x36aae3[_0x8a6564]=this['array'][_0x241f7b],_0x36aae3[_0x8a6564+(0x3a9*-0x9+0x153d+0xbb5)]=this['array'][_0x241f7b+(0x1145*0x1+-0x364+-0x1*0xde0)],_0x36aae3[_0x8a6564+(0x23ec+-0x3*-0xc13+0x3b*-0x139)]=this['array'][_0x241f7b+(-0x343*0x2+-0xb*0x362+0x2bbe)],_0x36aae3[_0x8a6564+(-0x21*0x88+0x1*0x176e+-0x5e3)]=this['array'][_0x241f7b+(0x28*-0xa6+0x1bef+-0x7f*0x4)];}class xw{constructor(_0x22f394,_0x121036,_0xe2b51){switch(this['index']=0xd*-0x161+-0x50e*0x1+0x16fb,this['numCompone'+'nts']=_0x121036['numCompone'+'nts'],_0xe2b51['interleave'+'d']?this['array']=new wn[_0x121036['dataType']](_0x22f394,_0x121036['offset']):this['array']=new wn[_0x121036['dataType']](_0x22f394,_0x121036['offset'],_0xe2b51['vertexCoun'+'t']*_0x121036['numCompone'+'nts']),this['stride']=_0x121036['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x121036['numCompone'+'nts']){case 0x1582+-0x788+-0xdf9:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0x4*0x57c+-0x10b2+-0x4*-0x9a9:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x19ac+0x1e99+-0x4a*0x11:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0x270f+0x347*0x7+-0x7*-0x24e:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x46269f){return this['array'][this['index']+_0x46269f];}['set'](_0x2a1050,_0x442081,_0x41f853,_0x150093){}['getToArray'](_0x35fe65,_0x38fe5f,_0x96cf15){}['setFromArr'+'ay'](_0x1dc6ea,_0x128a34,_0x5a4e7a){}}class Uo{constructor(_0x1d3e45){this['vertexBuff'+'er']=_0x1d3e45,this['vertexForm'+'atSize']=_0x1d3e45['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x2bae98=this['vertexBuff'+'er']['getFormat']();for(let _0x659c18=-0xac9+0x65*0x54+-0x61*0x3b;_0x659c18<_0x2bae98['elements']['length'];_0x659c18++){const _0x5e058b=_0x2bae98['elements'][_0x659c18];this['accessors'][_0x659c18]=new xw(this['buffer'],_0x5e058b,_0x2bae98),this['element'][_0x5e058b['name']]=this['accessors'][_0x659c18];}}['next'](_0x23d3c9=-0x1*0x1276+-0xc23*0x3+0x36e0*0x1){let _0x6f6a0e=0xf8f*-0x1+0x1eaf+-0xf2*0x10;const _0x931d5d=this['accessors'],_0x1c77bb=this['accessors']['length'];for(;_0x6f6a0e<_0x1c77bb;){const _0x3cd8cd=_0x931d5d[_0x6f6a0e++];_0x3cd8cd['index']+=_0x23d3c9*_0x3cd8cd['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x2ab7b4,_0x36a70b,_0x2d44a4){const _0x376c92=this['element'][_0x2ab7b4];if(_0x376c92){_0x2d44a4>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2d44a4+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2d44a4=this['vertexBuff'+'er']['numVertice'+'s']);const _0x507f0b=_0x376c92['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x1ff753=0x757*-0x1+-0xb1f+0x1*0x1276;for(let _0x536401=-0x1c59*-0x1+-0x52f+-0x172a;_0x536401<_0x2d44a4;_0x536401++)_0x376c92['setFromArr'+'ay'](_0x1ff753,_0x36a70b,_0x536401*_0x507f0b),_0x1ff753+=_0x376c92['stride'];}else{if(_0x36a70b['length']>_0x2d44a4*_0x507f0b){const _0x2fee87=_0x2d44a4*_0x507f0b;if(ArrayBuffer['isView'](_0x36a70b))_0x36a70b=_0x36a70b['subarray'](-0x2483*-0x1+-0x1e64+-0x61f,_0x2fee87),_0x376c92['array']['set'](_0x36a70b);else{for(let _0x42a949=-0x189a+-0xb23+0x23bd;_0x42a949<_0x2fee87;_0x42a949++)_0x376c92['array'][_0x42a949]=_0x36a70b[_0x42a949];}}else _0x376c92['array']['set'](_0x36a70b);}}}['readData'](_0x519fc9,_0x326857){const _0x319220=this['element'][_0x519fc9];let _0xb82bb4=0x1de3+0xa7*0x19+-0x1b6*0x1b;if(_0x319220){_0xb82bb4=this['vertexBuff'+'er']['numVertice'+'s'];let _0x3dc549;const _0x1bbf5a=_0x319220['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x326857)&&(_0x326857['length']=-0x71*0x1b+-0x1*0x1501+0x31*0xac),_0x319220['index']=-0x123d*0x1+0xb52+0x6eb;let _0x1a14f1=-0x198d+-0x1f25+0x7b*0x76;for(_0x3dc549=-0x20ac+-0x761*0x1+0x1*0x280d;_0x3dc549<_0xb82bb4;_0x3dc549++)_0x319220['getToArray'](_0x1a14f1,_0x326857,_0x3dc549*_0x1bbf5a),_0x1a14f1+=_0x319220['stride'];}else{if(ArrayBuffer['isView'](_0x326857))_0x326857['set'](_0x319220['array']);else{_0x326857['length']=-0x1*-0x2202+-0x187c+-0x986;const _0xb0df5b=_0xb82bb4*_0x1bbf5a;for(_0x3dc549=0x52d*0x1+-0x2412+0x1ee5;_0x3dc549<_0xb0df5b;_0x3dc549++)_0x326857[_0x3dc549]=_0x319220['array'][_0x3dc549];}}}return _0xb82bb4;}}const Tw=-(-0xdd0*-0x2+-0x26c8+-0x1*-0xb29);class ww{constructor(_0x5e9de1,_0x7510c1){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x7510c1&&(this['key']=_0x7510c1['keyCode'],this['element']=_0x7510c1['target'],this['event']=_0x7510c1);}}const jl=new ww();function Vd(_0xfb82be){return jl['key']=_0xfb82be['keyCode'],jl['element']=_0xfb82be['target'],jl['event']=_0xfb82be,jl;}function Yl(_0x28833a){return typeof _0x28833a=='string'?_0x28833a['toUpperCas'+'e']()['charCodeAt'](0x59+0x8*0x163+0x1*-0xb71):_0x28833a;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x4f9dff,_0xba6ca1={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x4f9dff&&this['attach'](_0x4f9dff),this['preventDef'+'ault']=_0xba6ca1['preventDef'+'ault']||!(-0x3d9*0x4+-0x1ec7*0x1+-0xf64*-0x3),this['stopPropag'+'ation']=_0xba6ca1['stopPropag'+'ation']||!(-0x35*0x51+-0x863*0x2+0x218c));}['attach'](_0x267402){this['_element']&&this['detach'](),this['_element']=_0x267402,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x287*0x5+-0x16ff+0x1*0xa5d)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x2c1*-0x1+-0x1f46+-0x6*-0x4c1)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x4*0xf4+0xb29+-0x758)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x1295+-0xb5d*-0x3+-0xf81)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x2591+0x359+-0x3*0xda3));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x3*0x607+0x179f+-0x5*0x857)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0xbd3+0x1*-0xc5e+0x1832));}['toKeyIdent'+'ifier'](_0xeb2d7a){_0xeb2d7a=Yl(_0xeb2d7a);const _0x5b9751=Ew[_0xeb2d7a['toString']()];if(_0x5b9751)return _0x5b9751;let _0x5b8093=_0xeb2d7a['toString'](-0x135b*0x2+-0xd34+-0x1*-0x33fa)['toUpperCas'+'e']();const _0x37f4dc=_0x5b8093['length'];for(let _0x1876ba=0x225*0x10+-0x3*-0x296+0x2ce*-0xf;_0x1876ba<-0x2047+0x16dc+0x15*0x73-_0x37f4dc;_0x1876ba++)_0x5b8093='0'+_0x5b8093;return'U+'+_0x5b8093;}['_handleKey'+'Down'](_0x3d4ef9){const _0x3d51e5=_0x3d4ef9['keyCode']||_0x3d4ef9['charCode'];if(_0x3d51e5===void(0x1445+0x1e39+-0x327e))return;const _0x2b727a=this['toKeyIdent'+'ifier'](_0x3d51e5);this['_keymap'][_0x2b727a]=!(-0x1766+0x20b4+0x18d*-0x6),this['fire']('keydown',Vd(_0x3d4ef9)),this['preventDef'+'ault']&&_0x3d4ef9['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3d4ef9['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x446573){const _0x5b6327=_0x446573['keyCode']||_0x446573['charCode'];if(_0x5b6327===void(0x1*-0x1c42+0x5*0x6f3+-0x67d))return;const _0x2d6d55=this['toKeyIdent'+'ifier'](_0x5b6327);delete this['_keymap'][_0x2d6d55],this['fire']('keyup',Vd(_0x446573)),this['preventDef'+'ault']&&_0x446573['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x446573['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x5d43a5){this['fire']('keypress',Vd(_0x5d43a5)),this['preventDef'+'ault']&&_0x5d43a5['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5d43a5['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x1fd1e6 in this['_lastmap'])delete this['_lastmap'][_0x1fd1e6];for(const _0xc3ff8 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0xc3ff8)&&(this['_lastmap'][_0xc3ff8]=this['_keymap'][_0xc3ff8]);}['isPressed'](_0x2a2305){const _0x12c428=Yl(_0x2a2305),_0x341906=this['toKeyIdent'+'ifier'](_0x12c428);return!!this['_keymap'][_0x341906];}['wasPressed'](_0x11460f){const _0x5610e3=Yl(_0x11460f),_0x1e2c07=this['toKeyIdent'+'ifier'](_0x5610e3);return!!this['_keymap'][_0x1e2c07]&&!this['_lastmap'][_0x1e2c07];}['wasRelease'+'d'](_0x3b5bb7){const _0x278f46=Yl(_0x3b5bb7),_0x1ddcc9=this['toKeyIdent'+'ifier'](_0x278f46);return!this['_keymap'][_0x1ddcc9]&&!!this['_lastmap'][_0x1ddcc9];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x441ea0,_0x1cf550){h(this,'x',0x897*0x1+0x3b1+-0xc48),h(this,'y',-0x1f*-0x4+0x1299+-0x1315*0x1),h(this,'dx',-0xd89+0x5*0x7ac+-0x18d3),h(this,'dy',0x8*-0x313+-0x22dd+0x3b75),h(this,'button',Tw),h(this,'wheelDelta',0x17*-0xad+0x1dfa+-0xe6f),h(this,'element'),h(this,'ctrlKey',!(-0x1a77+-0x4*0x46f+0x2c34)),h(this,'altKey',!(0xa*0x314+-0x3*0x1d7+-0x6a*0x3d)),h(this,'shiftKey',!(0x1*-0x1c85+0x2*0x1034+-0x1*0x3e2)),h(this,'metaKey',!(0x1f08*0x1+-0x4dc+0x1d*-0xe7)),h(this,'event');let _0x57d292={'x':0x0,'y':0x0};if(_0x1cf550){if(_0x1cf550 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x57d292=_0x441ea0['_getTarget'+'Coords'](_0x1cf550);}else _0x1cf550={};if(_0x57d292)this['x']=_0x57d292['x'],this['y']=_0x57d292['y'];else{if(ru())this['x']=0x2c7*0x8+-0x1*-0x16e5+-0x2d1d,this['y']=0x20c+0x2d5+-0x4e1;else return;}_0x1cf550['type']==='wheel'&&(_0x1cf550['deltaY']>-0x765+-0x12*0x218+0xf07*0x3?this['wheelDelta']=0x1485+0x236f+-0x37f3:_0x1cf550['deltaY']<0x1296+-0x2*-0x5b3+-0x1dfc&&(this['wheelDelta']=-(0x26*0x3e+0x77*0x33+0x3*-0xaf8))),ru()?(this['dx']=_0x1cf550['movementX']||_0x1cf550['webkitMove'+'mentX']||_0x1cf550['mozMovemen'+'tX']||0x2*0xa21+0x24*-0xda+-0x79*-0x16,this['dy']=_0x1cf550['movementY']||_0x1cf550['webkitMove'+'mentY']||_0x1cf550['mozMovemen'+'tY']||-0x1cb1+0x1ef2+-0x241):(this['dx']=this['x']-_0x441ea0['_lastX'],this['dy']=this['y']-_0x441ea0['_lastY']),(_0x1cf550['type']==='mousedown'||_0x1cf550['type']==='mouseup')&&(this['button']=_0x1cf550['button']),this['buttons']=_0x441ea0['_buttons']['slice'](-0xb5*-0x5+0xb*0xcf+0x2b*-0x4a),this['element']=_0x1cf550['target'],this['ctrlKey']=_0x1cf550['ctrlKey']??!(-0x911*-0x3+0x863*0x2+-0x2bf8),this['altKey']=_0x1cf550['altKey']??!(0xec5+0x161f+-0x24e3),this['shiftKey']=_0x1cf550['shiftKey']??!(0x1*0x4ab+0x1*0x806+-0xcb0),this['metaKey']=_0x1cf550['metaKey']??!(-0x16b1+-0x1322+0xa75*0x4),this['event']=_0x1cf550;}}class sa extends me{constructor(_0x5dbe51){super(),h(this,'_lastX',-0x3b*0x40+-0x21b1*-0x1+0x175*-0xd),h(this,'_lastY',0x1*0x4bf+-0x409+-0x7*0x1a),h(this,'_buttons',[!(0x2293+0xdb7+-0x3049),!(-0x3f3+-0xb*0x383+0x2a95),!(-0x2659*0x1+0x259a+0xc0*0x1)]),h(this,'_lastbutto'+'ns',[!(0x66a+0x382*-0x9+-0x153*-0x13),!(0xfad*-0x1+0x221+0xd8d),!(-0x1e4b+0x153+0x1cf9)]),h(this,'_target',null),h(this,'_attached',!(0x17f+-0x1fef+0x1e71)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x5de79c=>{_0x5de79c['preventDef'+'ault']();},this['attach'](_0x5dbe51));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0xfee5e8){if(this['_target']=_0xfee5e8,this['_attached'])return;this['_attached']=!(0x181*0x2+-0x1b1b+0x1819*0x1);const _0x34b93f={'passive':!(-0x79d+0x182+0x61c)},_0x5220c8=Ae['passiveEve'+'nts']?_0x34b93f:!(0x149+-0x1cd3*-0x1+0x1*-0x1e1b);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5220c8),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5220c8),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5220c8),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5220c8);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x263e+-0x238*0x11+0x4bf7),this['_target']=null;const _0x466a4b={'passive':!(-0x169*0x16+0x17f3*-0x1+0x36fa)},_0x568a3a=Ae['passiveEve'+'nts']?_0x466a4b:!(0x1fbf+-0x12d*0x11+-0x3eb*0x3);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x568a3a),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x568a3a),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x568a3a),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x568a3a);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x10f39,_0x1c82ec){if(!document['body']['requestPoi'+'nterLock']){_0x1c82ec&&_0x1c82ec();return;}const _0x5bde1c=()=>{_0x10f39(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5bde1c);},_0x32a3dc=()=>{_0x1c82ec(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x32a3dc);};_0x10f39&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5bde1c,!(-0x23c6*-0x1+0x1ada+0x11*-0x3af)),_0x1c82ec&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x32a3dc,!(-0x391+0x24fb+-0x2169)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x3a5afe){if(!document['exitPointe'+'rLock'])return;const _0x10d0e9=()=>{_0x3a5afe(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x10d0e9);};_0x3a5afe&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x10d0e9,!(0x11b*-0x1f+-0x13c4+0x2*0x1b05)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0xb*-0x49+-0x1df3+0x1ad0]=this['_buttons'][-0x23e5+0x1035+0x13b0],this['_lastbutto'+'ns'][-0x237d+0x245*-0xa+0x428*0xe]=this['_buttons'][0x247f+0x6b0+-0x2*0x1597],this['_lastbutto'+'ns'][0xd*-0x3a+-0x156+0x3d*0x12]=this['_buttons'][-0x17b1+0x166f*-0x1+0x49d*0xa];}['isPressed'](_0x36bac5){return this['_buttons'][_0x36bac5];}['wasPressed'](_0x2a6f19){return this['_buttons'][_0x2a6f19]&&!this['_lastbutto'+'ns'][_0x2a6f19];}['wasRelease'+'d'](_0xcacce0){return!this['_buttons'][_0xcacce0]&&this['_lastbutto'+'ns'][_0xcacce0];}['_handleUp'](_0x4d3d25){this['_buttons'][_0x4d3d25['button']]=!(-0x23bf+0x5f7*0x1+-0x7d*-0x3d);const _0x2b26f1=new ta(this,_0x4d3d25);_0x2b26f1['event']&&this['fire']('mouseup',_0x2b26f1);}['_handleDow'+'n'](_0xd8c7b1){this['_buttons'][_0xd8c7b1['button']]=!(-0x12*0x127+0x13b6+0x108);const _0x248746=new ta(this,_0xd8c7b1);_0x248746['event']&&this['fire']('mousedown',_0x248746);}['_handleMov'+'e'](_0x59d2cb){const _0x1647b2=new ta(this,_0x59d2cb);_0x1647b2['event']&&(this['fire']('mousemove',_0x1647b2),this['_lastX']=_0x1647b2['x'],this['_lastY']=_0x1647b2['y']);}['_handleWhe'+'el'](_0x2b54ff){const _0x3d4979=new ta(this,_0x2b54ff);_0x3d4979['event']&&this['fire']('mousewheel',_0x3d4979);}['_getTarget'+'Coords'](_0x1a6317){const _0x2cbc1c=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x1a0775=Math['floor'](_0x2cbc1c['left']),_0x5f0aca=Math['floor'](_0x2cbc1c['top']);return _0x1a6317['clientX']<_0x1a0775||_0x1a6317['clientX']>=_0x1a0775+this['_target']['clientWidt'+'h']||_0x1a6317['clientY']<_0x5f0aca||_0x1a6317['clientY']>=_0x5f0aca+this['_target']['clientHeig'+'ht']?null:{'x':_0x1a6317['clientX']-_0x1a0775,'y':_0x1a6317['clientY']-_0x5f0aca};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x269846){let _0x2d09b6=0xc5*-0x25+-0x202*0xa+0x308d,_0x10b7aa=-0x1*-0xb2d+-0x15eb*0x1+0x55f*0x2,_0x4debd5=_0x269846['target'];for(;!(_0x4debd5 instanceof HTMLElement)&&_0x4debd5;)_0x4debd5=_0x4debd5['parentNode'];for(;_0x4debd5;)_0x2d09b6+=_0x4debd5['offsetLeft']-_0x4debd5['scrollLeft'],_0x10b7aa+=_0x4debd5['offsetTop']-_0x4debd5['scrollTop'],_0x4debd5=_0x4debd5['offsetPare'+'nt'];return{'x':_0x269846['pageX']-_0x2d09b6,'y':_0x269846['pageY']-_0x10b7aa};}class d_{constructor(_0x7849a6){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x2f9c7b=Wc(_0x7849a6);this['id']=_0x7849a6['identifier'],this['x']=_0x2f9c7b['x'],this['y']=_0x2f9c7b['y'],this['target']=_0x7849a6['target'],this['touch']=_0x7849a6;}}class Kl{constructor(_0xd8a934,_0x459117){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x459117['target'],this['event']=_0x459117,this['touches']=Array['from'](_0x459117['touches'])['map'](_0x3cfa1e=>new d_(_0x3cfa1e)),this['changedTou'+'ches']=Array['from'](_0x459117['changedTou'+'ches'])['map'](_0x581e76=>new d_(_0x581e76)));}['getTouchBy'+'Id'](_0x39d69a,_0x1ee225){return _0x1ee225['find'](_0x5e0fe6=>_0x5e0fe6['id']===_0x39d69a)||null;}}class Zl extends me{constructor(_0x5b5cb2){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x5b5cb2);}['attach'](_0x45c40b){this['_element']&&this['detach'](),this['_element']=_0x45c40b,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x15f0+0x107*0x26+-0x3cf9)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x1b5b+0x198e+-0x2a*-0xb)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(-0x417+0x1*0x2133+0x1d1b*-0x1)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x2344+-0x317*0xc+-0x1*-0x4859));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0xf2e+0x9fa*-0x2+0x2323)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(0x2b*-0xe7+-0x24a5+-0x4b73*-0x1)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x1b4c+0x1*-0x24b3+-0x2b*-0x38)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x2378+-0x26a4+0x1*0x4a1d))),this['_element']=null;}['_handleTou'+'chStart'](_0x3bfeac){this['fire']('touchstart',new Kl(this,_0x3bfeac));}['_handleTou'+'chEnd'](_0xc22fb9){this['fire']('touchend',new Kl(this,_0xc22fb9));}['_handleTou'+'chMove'](_0x5ed63c){_0x5ed63c['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x5ed63c));}['_handleTou'+'chCancel'](_0x318db7){this['fire']('touchcance'+'l',new Kl(this,_0x318db7));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x418b63,_0x5608fd,_0x5d2a1b){typeof _0x5608fd=='function'&&(_0x5d2a1b=_0x5608fd,_0x5608fd={});const _0x245e30=this['request']('GET',_0x418b63,_0x5608fd,_0x5d2a1b),{progress:_0x4e340c}=_0x5608fd;if(_0x4e340c){const _0x55e516=_0xefebae=>{_0xefebae['lengthComp'+'utable']&&_0x4e340c['fire']('progress',_0xefebae['loaded'],_0xefebae['total']);},_0x22153c=_0x2ef429=>{_0x55e516(_0x2ef429),_0x245e30['removeEven'+'tListener']('loadstart',_0x55e516),_0x245e30['removeEven'+'tListener']('progress',_0x55e516),_0x245e30['removeEven'+'tListener']('loadend',_0x22153c);};_0x245e30['addEventLi'+'stener']('loadstart',_0x55e516),_0x245e30['addEventLi'+'stener']('progress',_0x55e516),_0x245e30['addEventLi'+'stener']('loadend',_0x22153c);}return _0x245e30;}['post'](_0x2e1f9d,_0x10cc1a,_0x2e89b3,_0x3144ff){return typeof _0x2e89b3=='function'&&(_0x3144ff=_0x2e89b3,_0x2e89b3={}),_0x2e89b3['postdata']=_0x10cc1a,this['request']('POST',_0x2e1f9d,_0x2e89b3,_0x3144ff);}['put'](_0x18b987,_0x2810c7,_0x5e91fb,_0x7c9077){return typeof _0x5e91fb=='function'&&(_0x7c9077=_0x5e91fb,_0x5e91fb={}),_0x5e91fb['postdata']=_0x2810c7,this['request']('PUT',_0x18b987,_0x5e91fb,_0x7c9077);}['del'](_0x1266be,_0x28d089,_0x3c0f62){return typeof _0x28d089=='function'&&(_0x3c0f62=_0x28d089,_0x28d089={}),this['request']('DELETE',_0x1266be,_0x28d089,_0x3c0f62);}['request'](_0x2bbc0a,_0x10e397,_0x11839c,_0x40bf27){let _0x4201e4,_0x2a7706,_0x46ef6b,_0x1887d9=!(-0xf62*0x2+-0x5*0x3e+0x1*0x1ffb);if(typeof _0x11839c=='function'&&(_0x40bf27=_0x11839c,_0x11839c={}),_0x11839c['retry']&&(_0x11839c=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x11839c)),_0x11839c['callback']=_0x40bf27,_0x11839c['async']==null&&(_0x11839c['async']=!(-0x22*0x4a+-0xa*-0x27b+-0xefa)),_0x11839c['headers']==null&&(_0x11839c['headers']={}),_0x11839c['postdata']!=null){if(_0x11839c['postdata']instanceof Document)_0x46ef6b=_0x11839c['postdata'];else{if(_0x11839c['postdata']instanceof FormData)_0x46ef6b=_0x11839c['postdata'];else{if(_0x11839c['postdata']instanceof Object){let _0x495dab=_0x11839c['headers']['Content-Ty'+'pe'];switch(_0x495dab===void(0x15e8+-0x6*0x1e7+-0x4f*0x22)&&(_0x11839c['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x495dab=_0x11839c['headers']['Content-Ty'+'pe']),_0x495dab){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x46ef6b='';let _0x3f2f35=!(-0x262f+-0xa6*0x1d+0x38fd);for(const _0x276372 in _0x11839c['postdata'])if(_0x11839c['postdata']['hasOwnProp'+'erty'](_0x276372)){_0x3f2f35?_0x3f2f35=!(-0x2041+0x2103+-0xc1):_0x46ef6b+='&';const _0x38fec0=encodeURIComponent(_0x276372),_0x2db3e=encodeURIComponent(_0x11839c['postdata'][_0x276372]);_0x46ef6b+=_0x38fec0+'='+_0x2db3e;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x495dab==null&&(_0x11839c['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x46ef6b=JSON['stringify'](_0x11839c['postdata']);break;}}else _0x46ef6b=_0x11839c['postdata'];}}}if(_0x11839c['cache']===!(0x2050+-0x2706+-0xbf*-0x9)){const _0x4afe3c=de();_0x4201e4=new Rd(_0x10e397),_0x4201e4['query']?_0x4201e4['query']=_0x4201e4['query']+'&ts='+_0x4afe3c:_0x4201e4['query']='ts='+_0x4afe3c,_0x10e397=_0x4201e4['toString']();}_0x11839c['query']&&(_0x4201e4=new Rd(_0x10e397),_0x2a7706=ah(_0x4201e4['getQuery'](),_0x11839c['query']),_0x4201e4['setQuery'](_0x2a7706),_0x10e397=_0x4201e4['toString']());const _0x5b3ff4=new XMLHttpRequest();_0x5b3ff4['open'](_0x2bbc0a,_0x10e397,_0x11839c['async']),_0x5b3ff4['withCreden'+'tials']=_0x11839c['withCreden'+'tials']!==void(0x1*-0x89b+0x916*0x2+0x1f*-0x4f)?_0x11839c['withCreden'+'tials']:!(-0x24cd+-0xb55+-0x1*-0x3023),_0x5b3ff4['responseTy'+'pe']=_0x11839c['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x10e397);for(const _0x11dd8e in _0x11839c['headers'])_0x11839c['headers']['hasOwnProp'+'erty'](_0x11dd8e)&&_0x5b3ff4['setRequest'+'Header'](_0x11dd8e,_0x11839c['headers'][_0x11dd8e]);_0x5b3ff4['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x2bbc0a,_0x10e397,_0x11839c,_0x5b3ff4);},_0x5b3ff4['onerror']=()=>{this['_onError'](_0x2bbc0a,_0x10e397,_0x11839c,_0x5b3ff4),_0x1887d9=!(0x837*0x1+0x1*0x9b7+-0x55*0x36);};try{_0x5b3ff4['send'](_0x46ef6b);}catch(_0xbf32ff){_0x1887d9||_0x11839c['error'](_0x5b3ff4['status'],_0x5b3ff4,_0xbf32ff);}return _0x5b3ff4;}['_guessResp'+'onseType'](_0xd633fb){const _0x833865=new Rd(_0xd633fb),_0x3f6412=xe['getExtensi'+'on'](_0x833865['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x3f6412)>=0x377*0x2+0x1f19*0x1+0x2607*-0x1?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3f6412==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x3f6412==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x4ddf38){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x4ddf38)>=0x3*0x223+-0x1223*0x1+0xbba;}['_isBinaryR'+'esponseTyp'+'e'](_0x142128){return _0x142128===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x142128===Oe['ResponseTy'+'pe']['BLOB']||_0x142128===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x42e449,_0x51d602,_0x102407,_0x3f7431){if(_0x3f7431['readyState']===-0x1c65+-0x1c*-0x58+-0x12c9*-0x1)switch(_0x3f7431['status']){case-0x10e3*-0x2+0x1a84+-0x2*0x1e25:{_0x3f7431['responseUR'+'L']&&_0x3f7431['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x42e449,_0x51d602,_0x102407,_0x3f7431):this['_onError'](_0x42e449,_0x51d602,_0x102407,_0x3f7431);break;}case 0x1*0xe1d+0x16*0x18a+-0x2f31:case 0x2c*-0x2+0x20dc*0x1+0x1*-0x1fbb:case-0x3*-0xb9b+-0x27a+0x17*-0x15f:case-0x1a2f*-0x1+-0x1d*-0x12e+-0x3b35:{this['_onSuccess'](_0x42e449,_0x51d602,_0x102407,_0x3f7431);break;}default:{this['_onError'](_0x42e449,_0x51d602,_0x102407,_0x3f7431);break;}}}['_onSuccess'](_0x1c7403,_0x1300fa,_0x29ff2c,_0x59ab78){let _0x3a97be,_0x577def;const _0x5e58e3=_0x59ab78['getRespons'+'eHeader']('Content-Ty'+'pe');_0x5e58e3&&(_0x577def=_0x5e58e3['split'](';')[-0xe03+-0x164+-0xf67*-0x1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x577def)||this['_isBinaryR'+'esponseTyp'+'e'](_0x59ab78['responseTy'+'pe'])?_0x3a97be=_0x59ab78['response']:_0x577def===Oe['ContentTyp'+'e']['JSON']||_0x1300fa['split']('?')[0x29*-0xea+0x224f+0x32b]['endsWith']('.json')?_0x3a97be=JSON['parse'](_0x59ab78['responseTe'+'xt']):_0x59ab78['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x577def===Oe['ContentTyp'+'e']['XML']?_0x3a97be=_0x59ab78['responseXM'+'L']:_0x3a97be=_0x59ab78['responseTe'+'xt'],_0x29ff2c['callback'](null,_0x3a97be);}catch(_0x5c0399){_0x29ff2c['callback'](_0x5c0399);}}['_onError'](_0x10d86b,_0x28f311,_0x130ce8,_0x3a0e59){if(!_0x130ce8['retrying']){if(_0x130ce8['retry']&&_0x130ce8['retries']<_0x130ce8['maxRetries']){_0x130ce8['retries']++,_0x130ce8['retrying']=!(0x24a+0x17d0+-0x1a1a);const _0x16296a=Y['clamp'](Math['pow'](0x19aa+-0xea8+-0xb00,_0x130ce8['retries'])*Oe['retryDelay'],-0x1*-0x1e75+-0x548+-0x1*0x192d,_0x130ce8['maxRetryDe'+'lay']||0x10*0x9e+-0x1001*0x2+0x29aa*0x1);console['log'](_0x10d86b+':\x20'+_0x28f311+'\x20-\x20Error\x20'+_0x3a0e59['status']+('.\x20Retrying'+'\x20in\x20')+_0x16296a+'\x20ms'),setTimeout(()=>{_0x130ce8['retrying']=!(-0x25b9+0x16f1+0x2f5*0x5),this['request'](_0x10d86b,_0x28f311,_0x130ce8,_0x130ce8['callback']);},_0x16296a);}else _0x130ce8['callback'](_0x3a0e59['status']===0x1*0x14c6+-0x7*0x41b+0x7f7?'Network\x20er'+'ror':_0x3a0e59['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0xa5d+-0x1*-0x4aa+0x617);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x5772ed){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x5772ed;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x50a0ab){this['position']['copy'](_0x50a0ab);const _0x2859af=this['listener'];_0x2859af&&('positionX'in _0x2859af?(_0x2859af['positionX']['value']=_0x50a0ab['x'],_0x2859af['positionY']['value']=_0x50a0ab['y'],_0x2859af['positionZ']['value']=_0x50a0ab['z']):_0x2859af['setPositio'+'n']&&_0x2859af['setPositio'+'n'](_0x50a0ab['x'],_0x50a0ab['y'],_0x50a0ab['z']));}['setOrienta'+'tion'](_0x141ad9){this['orientatio'+'n']['copy'](_0x141ad9);const _0x45e716=this['listener'];if(_0x45e716){const _0x60d87d=_0x141ad9['data'];'forwardX'in _0x45e716?(_0x45e716['forwardX']['value']=-_0x60d87d[-0x449*0x9+0x1*-0x5bf+0x2c58*0x1],_0x45e716['forwardY']['value']=-_0x60d87d[0x68c+0x1148+-0x17cb],_0x45e716['forwardZ']['value']=-_0x60d87d[0x1de1+0x1b13*-0x1+-0x2c4],_0x45e716['upX']['value']=_0x60d87d[-0x1e26+0x1*-0x7f9+-0x2ef*-0xd],_0x45e716['upY']['value']=_0x60d87d[-0x860+-0x1046+0x1a5*0xf],_0x45e716['upZ']['value']=_0x60d87d[0xf0d+0x1225+-0x212c]):_0x45e716['setOrienta'+'tion']&&_0x45e716['setOrienta'+'tion'](-_0x60d87d[0x1242+-0xe8+0x3*-0x5c6],-_0x60d87d[-0x248e*0x1+0x1f*0xf+0x2*0x1163],-_0x60d87d[-0x180+-0x469*-0x3+0xbb1*-0x1],_0x60d87d[0x2*-0x823+-0x1478+-0x5*-0x75a],_0x60d87d[0x1*-0x129d+-0x252d*-0x1+-0x1*0x128b],_0x60d87d[-0x25*0x6f+0x1807*0x1+-0x3fb*0x2]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x29e163=this['_manager']['context'];return _0x29e163?_0x29e163['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0xae*-0x29+-0x51b*0x1+-0xb61*0x2),this['listener']=new Cw(this),this['_volume']=0x5f7*0x5+0x1*0x735+-0x2507;}set['volume'](_0x496d80){_0x496d80=Y['clamp'](_0x496d80,0x1a*0x16d+0x1*0x16c7+-0x13f3*0x3,0x5*-0x1b3+-0x1640+0x1ec0),this['_volume']=_0x496d80,this['fire']('volumechan'+'ge',_0x496d80);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x110b*-0x1+-0x4a+0x1*-0x10c1),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x2065*0x1+0x1*-0x1bb+0x2221),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x4d4a8c;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x4d4a8c=this['_context'])==null||_0x4d4a8c['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x44acc8=this['_context']['createBuff'+'erSource']();_0x44acc8['buffer']=this['_context']['createBuff'+'er'](0x100c+-0x51*-0x1+-0x2*0x82e,0x2174+-0xa*0x2c0+-0x1*0x5f3,this['_context']['sampleRate']),_0x44acc8['connect'](this['_context']['destinatio'+'n']),_0x44acc8['start'](0x145b+-0x1072+-0x3e9),_0x44acc8['onended']=_0x474172=>{_0x44acc8['disconnect'](-0x1e7a+-0x2291+0x1*0x410b),this['fire']('resume');};},_0x45fe14=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x45fe14);})['catch'](_0x33f492=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x33f492);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x215ee0=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x215ee0);})['catch'](_0x228ef4=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x228ef4);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x4f7a00=>{window['addEventLi'+'stener'](_0x4f7a00,this['_unlockHan'+'dlerFunc'],!(-0x1*-0x10ea+-0x1831+0x8*0xe9));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x24c004=>{window['removeEven'+'tListener'](_0x24c004,this['_unlockHan'+'dlerFunc'],!(-0x3*-0xcbf+-0x7*0x15d+0x71*-0x41));});}}class Mw{constructor(_0x202e2b){h(this,'audio'),h(this,'buffer'),_0x202e2b instanceof Audio?this['audio']=_0x202e2b:this['buffer']=_0x202e2b;}get['duration'](){let _0x135a67=0x46*0x8b+-0x223*-0x11+-0x4a55;return this['buffer']?_0x135a67=this['buffer']['duration']:this['audio']&&(_0x135a67=this['audio']['duration']),_0x135a67||0x1d2a+-0x2*-0x12a1+-0x426c;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x77a+-0x940+-0x1*-0x10ba,fn=0x1911+-0x15a*0x6+-0x10f4,Hs=-0x1*0x1fa1+-0xfa7+-0x2*-0x17a5;function es(_0x24fc52,_0x2f9120){return _0x24fc52%_0x2f9120||-0xd84+-0x24b*-0x9+-0x71f;}class As extends me{constructor(_0x25ba65,_0x169de6,_0x40c55b){super(),h(this,'source',null),(this['_manager']=_0x25ba65,this['_volume']=_0x40c55b['volume']!==void(0x1*-0x998+-0x26ac+0x3044)?Y['clamp'](Number(_0x40c55b['volume'])||-0x1ac2*0x1+0x20a3+-0x5e1,-0x15ba+0x3d*0x9b+-0xf35,-0x7c5+-0x7*-0xf1+0x1*0x12f):-0x1d20+-0x217b+0x3e9c,this['_pitch']=_0x40c55b['pitch']!==void(-0x3*-0x85f+0xe5b+-0xd28*0x3)?Math['max'](-0x1373+0x3ef+0xf84+0.01,Number(_0x40c55b['pitch'])||0x915+-0xc4f+0x33a):-0x9ac*0x2+-0x1*0x268a+0x39e3,this['_loop']=!!(_0x40c55b['loop']!==void(0x312+-0x251*-0x1+0xc5*-0x7)&&_0x40c55b['loop']),this['_sound']=_0x169de6,this['_state']=Hs,this['_suspended']=!(-0x144f+0x2*-0x443+0x1cd6*0x1),this['_suspendEn'+'dEvent']=0x7*0x3b+-0x11b9+0x101c,this['_suspendIn'+'stanceEven'+'ts']=!(-0xff*-0x11+0x1*0x2ab+-0x1*0x1399),this['_playWhenL'+'oaded']=!(0x6f*0x31+-0x2*0x12c5+0x104b),this['_startTime']=Math['max'](0x1b81+-0x1*-0x13af+-0x2f30,Number(_0x40c55b['startTime'])||-0x25fa+0x1034*0x2+-0x3e*-0x17),this['_duration']=Math['max'](0xe4e*-0x2+0x1*0x268a+-0x9ee,Number(_0x40c55b['duration'])||-0x8*0x3+-0x59f*-0x1+-0x587),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x40c55b['onPlay'],this['_onPauseCa'+'llback']=_0x40c55b['onPause'],this['_onResumeC'+'allback']=_0x40c55b['onResume'],this['_onStopCal'+'lback']=_0x40c55b['onStop'],this['_onEndCall'+'back']=_0x40c55b['onEnd'],Dl()?(this['_startedAt']=-0x2522+-0x485+0x29a7,this['_currentTi'+'me']=0x1*0x422+0x1*0x1511+-0x1933,this['_currentOf'+'fset']=-0xaec+-0x1b73+0x265f,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xf3f+-0x1dcb+0xe8d),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x5*-0xf1+-0x44*0x65+0x1*0x1620),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0xe5a2e6){if(!(_0xe5a2e6<0x5e7*-0x5+0x1b89+0x2e*0xb)){if(this['_state']===Zt){const _0x213094=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x6c5*-0x4+0xa3*0x13+0x5*0x2ff),this['stop'](),this['_startOffs'+'et']=_0xe5a2e6,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x213094;}else this['_startOffs'+'et']=_0xe5a2e6,this['_currentTi'+'me']=_0xe5a2e6;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0x11*0x210+-0x17a3+-0x75*0x19:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x3cfa95){this['_duration']=Math['max'](0x6bf+0xe0d+0x14cc*-0x1,Number(_0x3cfa95)||0x2ff*0x3+0x2*-0x1031+0x1*0x1765);const _0x14339d=this['_state']===Zt;this['stop'](),_0x14339d&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x91f*0x2+-0x3*0x41b+0x1e8f*0x1;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x321db6){this['_loop']=!!_0x321db6,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x2a8b74){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x2a8b74)||0x3ad*-0x8+0x1*0x735+0x1*0x1633,-0x3*-0xa3+-0x5de*-0x3+-0x22b*0x9+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x5c8ce4){this['_sound']=_0x5c8ce4,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x5259ad){this['_startTime']=Math['max'](-0x2*0xf77+-0x23fa+0x42e8,Number(_0x5259ad)||0x114d+0x1*-0x10a5+-0x7*0x18);const _0xc57955=this['_state']===Zt;this['stop'](),_0xc57955&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x26002d){_0x26002d=Y['clamp'](_0x26002d,0x1e34*-0x1+0x1058+0xddc,0x1*0x1403+-0x24ec+0x875*0x2),this['_volume']=_0x26002d,this['gain']&&(this['gain']['gain']['value']=_0x26002d*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1866+0x216e+-0x4*0xe75){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x1b46+0x11a0+0x335*-0xe),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x1918+-0x243*-0x9+0x25f*0x2),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x2dd+-0xb*0x235+-0x1*-0x156b),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0xd96+0x27a+-0x100f):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x4*0x629+0x18c6+-0x22),!(-0x19aa+-0x3*0x329+-0x2326*-0x1)):(this['_playAudio'+'Immediate'](),!(0x1*0x19fb+-0x5*-0x689+0x3aa8*-0x1));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x318+0xf8f+-0xc76),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x14c306=es(this['_startOffs'+'et'],this['duration']);_0x14c306=es(this['_startTime']+_0x14c306,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0xb55+-0x11*-0x55+0x2*-0x87d,_0x14c306,this['_duration']):this['source']['start'](0x3*-0x905+-0x21d4+-0x4af*-0xd,_0x14c306),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x15d9+-0x9fc+0x1*-0xbdd,this['_currentOf'+'fset']=_0x14c306,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x1b*-0x43+-0x22d*-0xd+-0x2359),this['_state']!==Zt?!(-0x1e2b*-0x1+-0xc*-0x1ac+-0x2*0x191d):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x85b+0x63e+-0xe99*0x1),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x59*0x4d+0x7b3+0x1312*0x1));}['resume'](){if(this['_state']!==fn)return!(0xd7c+0x5*0x93+0xd*-0x142);let _0xd0b358=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xd0b358=es(this['_startOffs'+'et'],this['duration']),_0xd0b358=es(this['_startTime']+_0xd0b358,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x45f*-0x6+0x67a*-0x5+0x628,_0xd0b358,this['_duration']):this['source']['start'](-0x7*-0x16d+-0xf86+0x58b,_0xd0b358),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xd0b358,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x363*0x5+0x5*0x5fb+-0x2ed5),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x20ff+0x21bb+-0x5e*0x2);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x122b+0x62*-0x14+0x19d4),this['_state']===Hs)return!(0x1*0x1f6+-0x2*0x12cb+-0x1*-0x23a1);const _0x20f280=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x6d*0x1+-0x10f*-0x9+0x2*-0x4fa,this['_currentTi'+'me']=0x66*0x44+-0x2fb+-0x181d*0x1,this['_currentOf'+'fset']=0x1e9c*-0x1+0x98c+0x1510,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x20f280&&this['source']&&this['source']['stop'](-0x1b2f*0x1+0xe52+0xcdd),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x2e7*-0x6+0x4bb*-0x7+0x3287);}['setExterna'+'lNodes'](_0x495688,_0x5ef64a){if(!_0x495688){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x5ef64a||(_0x5ef64a=_0x495688);const _0x42fe1d=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x495688&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x42fe1d),this['_firstNode']=_0x495688,this['_connector'+'Node']['connect'](_0x495688)),this['_lastNode']!==_0x5ef64a&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x42fe1d),this['_lastNode']=_0x5ef64a,this['_lastNode']['connect'](_0x42fe1d));}['clearExter'+'nalNodes'](){const _0x3a9621=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x3a9621),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x3a9621);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x4fe6fe=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x4fe6fe['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0x7*-0x117+-0x2c9*-0x4+-0x1d*0x1f),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x4*-0x922+-0x1522+-0xf65):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0xbcb+-0x3d*0x59+0x2101),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x2447+0x20*0x9d+-0xb*0x515));},'pause':function(){return!this['source']||this['_state']!==Zt?!(-0x2*-0xd51+-0x2*-0xdad+-0x1*0x35fb):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x3df+0x4fa+-0x8d8),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0xf91*0x1+0xd4e+0x1*0x243));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x2f*-0x64+0x15d+0x2*-0x9dc):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x13*0x1cb+-0x902+0x1*0x2b14),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x71*-0x34+0x2377+0xbaf*-0x5));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0x6f5+0x37d+-0x7*-0x7f):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x26c7+0x1240*0x1+-0x1c83*0x2),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x83+-0x4c7+0x54*0xd));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x22*0x8b+-0x36*0x60+0x1ca);let _0x555dde=es(this['_startOffs'+'et'],this['duration']);_0x555dde=es(this['_startTime']+_0x555dde,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x555dde;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1*-0x1ef3+-0x3a9*-0x1+0x919*0x3),this['source']=this['_sound']['audio']['cloneNode'](!(-0xc4*0x31+0x59*-0xa+-0x13e*-0x21)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2e725d){_0x2e725d=Y['clamp'](_0x2e725d,0x2142+-0x1*0x415+-0x1d2d,-0x7*-0xa9+0x3*-0x257+0x1*0x267),this['_volume']=_0x2e725d,this['source']&&(this['source']['volume']=_0x2e725d*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x295296){this['_pitch']=Math['max'](Number(_0x295296)||-0x1207+0x1e88+-0xc81,-0x8a0*-0x4+-0x15bc+-0xcc4+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x31f469){this['stop'](),this['_sound']=_0x31f469;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x129+-0x1caf+0x1b86:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0xbb6c80){_0xbb6c80<-0xbd5*0x1+0x2*-0x62d+0x182f||(this['_startOffs'+'et']=_0xbb6c80,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0xbb6c80,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0xad9*0x2+0x17*0x25f+-0x252b;class sn extends As{constructor(_0x2dc704,_0x5af0f4,_0x4e16f5={}){super(_0x2dc704,_0x5af0f4,_0x4e16f5),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x4e16f5['position']&&(this['position']=_0x4e16f5['position']),this['maxDistanc'+'e']=_0x4e16f5['maxDistanc'+'e']!==void(0x1f97+-0x69d*0x2+-0x125d)?Number(_0x4e16f5['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x4e16f5['refDistanc'+'e']!==void(0x2146+0x2*0xdb7+-0x3cb4)?Number(_0x4e16f5['refDistanc'+'e']):-0x4*-0x7f0+-0x11*-0xe1+0x6*-0x7c8,this['rollOffFac'+'tor']=_0x4e16f5['rollOffFac'+'tor']!==void(-0x13*0x1ee+0x22ec+-0x1*-0x1be)?Number(_0x4e16f5['rollOffFac'+'tor']):0x187*-0x17+0x2e4*0xd+-0x272,this['distanceMo'+'del']=_0x4e16f5['distanceMo'+'del']!==void(0x747+0x61*-0x20+0x4d9)?_0x4e16f5['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4c4c82){this['_position']['copy'](_0x4c4c82);const _0x1fec51=this['panner'];'positionX'in _0x1fec51?(_0x1fec51['positionX']['value']=_0x4c4c82['x'],_0x1fec51['positionY']['value']=_0x4c4c82['y'],_0x1fec51['positionZ']['value']=_0x4c4c82['z']):_0x1fec51['setPositio'+'n']&&_0x1fec51['setPositio'+'n'](_0x4c4c82['x'],_0x4c4c82['y'],_0x4c4c82['z']);}get['position'](){return this['_position'];}set['velocity'](_0x2ab334){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x2ab334);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x5ab3b2){this['panner']['maxDistanc'+'e']=_0x5ab3b2;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x4b115a){this['panner']['refDistanc'+'e']=_0x4b115a;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x12c243){this['panner']['rolloffFac'+'tor']=_0x12c243;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x14114e){this['panner']['distanceMo'+'del']=_0x14114e;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x2cb4b7,_0xd18252,_0x1ad75a,_0x348d31,_0x5d614a,_0x56eadf){l=l['sub2'](_0x2cb4b7,_0xd18252);const _0x96e7a1=l['length']();if(_0x96e7a1<_0x1ad75a)return-0x217f+-0x310*-0xb+-0x30;if(_0x96e7a1>_0x348d31)return 0x14a1+-0x21b6+-0x1*-0xd15;let _0x2b0320=-0xd3c+0x768+0x2ea*0x2;return _0x56eadf===Vp?_0x2b0320=0x1*0x1d8f+-0x1367*-0x2+-0x445c-_0x5d614a*(_0x96e7a1-_0x1ad75a)/(_0x348d31-_0x1ad75a):_0x56eadf===bw?_0x2b0320=_0x1ad75a/(_0x1ad75a+_0x5d614a*(_0x96e7a1-_0x1ad75a)):_0x56eadf===Aw&&(_0x2b0320=Math['pow'](_0x96e7a1/_0x1ad75a,-_0x5d614a)),Y['clamp'](_0x2b0320,-0x9*0x3c+0x1865+0xa3*-0x23,-0x1fa7+-0x197*0x1+0x213f*0x1);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x9d5fb6){if(this['_position']['copy'](_0x9d5fb6),this['source']){const _0x38781f=this['_manager']['listener']['getPositio'+'n'](),_0x394570=t(_0x38781f,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x5a5d6a=this['volume'];this['source']['volume']=_0x5a5d6a*_0x394570*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x220256){this['_maxDistan'+'ce']=_0x220256;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x61c4b3){this['_refDistan'+'ce']=_0x61c4b3;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x5dd806){this['_rollOffFa'+'ctor']=_0x5dd806;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x4a041c){this['_distanceM'+'odel']=_0x4a041c;}});}const Gp=-0x18d9+0x1fba+0x3*-0x24b,Hp=0x99*0x5+0x427+0x723*-0x1,Zs=-0x17e+-0x2*0x100b+0x2196,Cs=0x1b31+0x1*0xaff+-0x262d,Gn=-0x141b+-0x8*0x6d+0x1787,Wp=-0x1b41+-0x1*-0x985+0x11c1,Ed=-0x15a5+-0x20*-0x12c+-0xfd5,$p=-0x1*-0x19d6+0x1e32+-0x3801,Xp=-0x1f2e+-0x13b3+0x32e9,qp=0x1076+-0x2317+0x12aa,jp=-0x117b*0x1+0x1f6*-0xd+0x8f*0x4d,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x1*0x1c55+-0x180f+-0x1c*-0x1df,Yp=-0x7cf*0x1+-0x1*-0xb3f+-0x1*0x36e,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=-0xd*0x1cb+-0xd07+0x2456,Ky=-0xe12+-0x19cf+0x2*0x13f8,er=0x81e*0x2+-0x3d*-0x9b+-0x352b,ps=-0xc8*0x6+0x24f3+0x1021*-0x2,Kp=0x3d*-0x22+0x1bf5+-0x13d9,Zp=-0x3*-0x6f7+-0x22da+0xdf8,Il=0x585*-0x2+-0x607*-0x1+-0x27*-0x21,ve=0x575*-0x1+0x275*0x2+0x1*0x8b,Ke=0xb73+0x1e6c+-0x29de,Ze=0x43*0x46+0x5*0x4a7+-0x2993,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=0x1773+0x28*-0x9d+0x179,Ys=-0xb9+-0x1229*0x1+-0x2*-0x971,Zy=0x7ed*0x1+-0x2141+-0x5*-0x511,Qy=-0xa*-0x179+0x20a5+0x61*-0x7d,Jy=-0x152e+0xd4c+-0x7e5*-0x1,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0x1097*0x1+-0x7*0x58d+0x1644,ev=-0x1777+-0x1*-0x1c15+-0x49d,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=0x2323+-0x1a56+-0x8cd,au=-0x1a38+0x9*-0x3c2+-0x15*-0x2dc,Jp=-0x21a+-0x1*-0x9f7+-0x7da,kw=-0x23e8+-0x4*0x8dd+-0x23b0*-0x2,tv=0x627+0x13bc*0x1+-0x19de,al=0x1493+-0x93*-0x35+0x2*-0x197e,sv=0x2215+0x515+0x2723*-0x1,iv=-0x2*0x8a9+0xb17*-0x2+0x2788,Uw=-0xcbb*-0x1+0x12ec+-0x1f9e,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x19a4+-0x11*0x211+0x97d)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x6be+0x190b+-0x124d)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0xaad+0x1*-0x140+-0x96d)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x1b7*-0xa+0xd67*-0x1+0x89*-0x7)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(-0x5*-0x6b2+0x53b+0x26b5*-0x1)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(0x26fd+0x1*-0x6ad+-0x2050)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0x71*0x36+0x274*-0xd+0x80e)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0x15f6+0x2*-0x493+0x16a*0x16)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x1*-0x70+-0x2290+0x2300)}]]),Bw=0xac*-0x36+-0x23*-0x67+0x1732,em=-0x2*-0x1148+0xc56+-0x2ee5,nu=-0x1f4b+-0x9e*-0x39+0xc7*-0x5,rv=0xb*0x368+0x1fc4+-0x453c,ai=-0x696+-0x1*-0x204b+-0x19b5*0x1,zw=-0x1071+0x22*-0x119+0x35c4,yh=0x176+-0x1f00+0x1d8a,Vw=0xad*-0xd+-0xd*0x167+0x1b05,ni=0x1c49+0x4*0x81e+-0x3cc1*0x1,En=-0x2663+-0x113*0x1e+-0x234f*-0x2,un=-0x2*0x56+-0x1f05+0x1fb1,$r=0x1b41+-0x1*-0xaa9+-0xf*0x287,Jl=-0xa1*-0xd+-0x1*0x2053+0x8*0x305,tm=0x1b5+0xf*0x1+-0x1c4,av=-0x70*-0x2+-0x881+0x7a2,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x115+0x18ac+-0x19c1,Xc=-0xa*0xdf+0x245*0x1+0xa*0xa5,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x233*-0x9+0x1cad+-0x8e2,UU=0x1841*0x1+-0x1017*-0x1+-0x2857,BU=0x1e29+0xd67+-0x2b8e,zU=0x2*0x16b+-0x34*0xb6+-0x2225*-0x1,VU=-0x1962+0xb67+0xdff,GU=-0x1*0x19f9+-0x1cb0+0x36ae,nv=0x1*0x1912+0x9*-0x5e+0xb*-0x1fa,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=0x1*-0xbd5+0x104a+-0x475,bd=0x1*0x1357+-0x42*-0x54+0x1dd*-0x16,cv=0x1*0x12b5+0x1*0x7cf+-0x1a82,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x64b+-0x436+0xa82,nl=-0x2606+-0x13d*-0xb+-0x3*-0x823,nm=0x16fb+0x341+-0x1a38,dv=0xa41+0x17a*0xd+0x1*-0x1d6b,fv=0x46*-0x47+0x109d+-0x2dd*-0x1,ol=0x4*-0x4db+-0x1*0xb57+-0x1ee3*-0x1,ou=0x71d+-0x3d*-0x7a+-0x23ef,uv=0x271+-0xdc*-0x4+0x9*-0x99,Eh=0x1e*0x7d+0x1d1*0xd+0x1*-0x2543,om=-0x2596+-0x25f9*0x1+0x4d8f,ll=0x14b5+-0x11*-0x2+-0x10d7,cl=-0x1*-0xff3+0x167e+-0x1e71,pv=0xf*0x1f3+-0x241e+-0x1*-0x16e1,hl=0xd*0x3dd+0x1f8a*0x1+-0x1*0x31c3,qc=-0x223b*-0x2+-0x7875+-0x73ff*-0x1,Ps=0x84+-0x1766+0x16e2,xr=-0x2b*-0xe5+-0x1446+0x10*-0x123,lm=0x1844+-0x11a9+-0x1*0x699,Ss=-0x2*0x989+0x8b2+0xa61,di=-0x1cc9*-0x1+-0x2*0x7c1+-0x1*0xd45,fi=0x220e+0x48*-0x3+-0x2132,Aa=0x1c1a+-0x9*0x3f6+-0x45*-0x1c,Rl=-0x23a4+0x2c3*0xe+-0x305,cm=-0x1*-0x156f+-0xff1+-0x27*0x24,Zn=-0x1*0x2153+-0x513+-0x1*-0x2669,ci=-0x1241*-0x1+0x1*-0x724+-0x1*0xb1d,Pt=0x37*0x43+0x1918+0x1c*-0x169,Mt=-0x1*0x685+-0x13bd+0x1a44,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0xb74+0x2*0x1257+-0x100b*0x3,ec=-0x277*0xf+0x2052+0x4a7*0x1,Yc=0x1967+-0x1d7*-0x2+0x5*-0x5d1,jw=0x2*-0x1358+-0x61d*-0x1+0x116*0x1e,Yw=0x1380*0x2+0x25e7+0x5*-0xf61,m_=0x1b30+-0x43a+-0x16f3,Kw=0x2486+0x1*0x20b9+-0x453b,Zw=0x12bf*-0x1+0x66c+0x13c*0xa,hm=0x1*-0x121+0xbf*-0x29+0xcb*0x28,lu=0xcc8+-0x52*-0xa+-0xffb,Ce=0x6ef+0xbfe*0x3+-0x2ae9,je=-0x8b8+0x1*-0x12d5+0x1b8e,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x564984,_0x2c8aaf,_0x183be5){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x564984,this['bindGroupF'+'ormats'][rl]=_0x2c8aaf,this['vertexForm'+'at']=_0x183be5);}['hasUniform'](_0x16a19a){for(let _0x3e72d9=-0xa*0x209+0x1*-0x115+0x3b*0x5d;_0x3e72d9<this['uniformFor'+'mats']['length'];_0x3e72d9++){const _0x315a5b=this['uniformFor'+'mats'][_0x3e72d9];if(_0x315a5b!=null&&_0x315a5b['get'](_0x16a19a))return!(-0x7*0x4b1+0x3fa*-0x1+0x24d1);}return!(-0x1*-0x5c+0x2*-0xaac+0x14fd);}['hasTexture'](_0x288e21){for(let _0x27f736=-0x827*-0x2+0x55c*0x7+-0x53*0xa6;_0x27f736<this['bindGroupF'+'ormats']['length'];_0x27f736++){const _0x14572c=this['bindGroupF'+'ormats'][_0x27f736];if(_0x14572c!=null&&_0x14572c['getTexture'](_0x288e21))return!(-0x2*-0x17+0x2b3*-0x1+-0x2b*-0xf);}return!(-0x1854+0xac+0x7e3*0x3);}['getVertexE'+'lement'](_0x24e044){var _0x29464e;return(_0x29464e=this['vertexForm'+'at'])==null?void(0xe34+0xee9*-0x1+0xb5*0x1):_0x29464e['elements']['find'](_0x2a554b=>_0x2a554b['name']===_0x24e044);}['generateKe'+'y'](_0x4d6ef3){var _0x3be928;let _0x124971=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x4d6ef3['isWebGPU']&&(_0x124971+=(_0x3be928=this['vertexForm'+'at'])==null?void(-0x3f3+-0x10f6+0x14e9):_0x3be928['shaderProc'+'essingHash'+'String']),_0x124971;}}const gv=new Kt();function Hn(_0x492b44){const _0x4d1f49=gv['get'](_0x492b44);return w['assert'](_0x4d1f49),_0x4d1f49;}function cE(_0x342e73,_0x4fafcd){w['assert'](_0x4fafcd),gv['get'](_0x342e73,()=>_0x4fafcd);}class ya{static['definesHas'+'h'](_0x439806){const _0x1a6c68=Array['from'](_0x439806)['sort']((_0x34c635,_0x2c3d9f)=>_0x34c635[-0x252d+0x209+0x2324]>_0x2c3d9f[-0x1*0x45f+-0x1*0x2121+-0x4*-0x960]?-0x16ad+0x12*-0x131+-0x2c2*-0x10:-(0x1dce+0x29f*-0x5+-0x10b2*0x1));return hi(JSON['stringify'](_0x1a6c68));}}const hE=new Kt();class dE{constructor(_0x21e77a,_0x3849ac,_0x5946e0={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x21e77a),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x21e77a),this['name']=_0x21e77a,this['index']=_0x3849ac,Object['assign'](this,_0x5946e0),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x3bc45c;this['isShadow']?_0x3bc45c='SHADOW':this['isForward']?_0x3bc45c='FORWARD':this['index']===Zn&&(_0x3bc45c='PICK'),this['defines']['set'](_0x3bc45c+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x3d9*0x1+-0x1b81*-0x1+-0x17a8);const _0x473dcf=(_0x18c236,_0x3ba9df,_0x2bf836)=>{const _0x2516c6=this['allocate'](_0x18c236,_0x2bf836);w['assert'](_0x2516c6['index']===_0x3ba9df);};_0x473dcf('forward',Aa,{'isForward':!(0xbfb+0xb3+-0x3*0x43a)}),_0x473dcf('prepass',Rl),_0x473dcf('shadow',cm),_0x473dcf('pick',Zn);}static['get'](_0x43a828){return w['assert'](_0x43a828),hE['get'](_0x43a828,()=>new Si());}['allocate'](_0x4336fe,_0xd3d14a){let _0x2769e1=this['passesName'+'d']['get'](_0x4336fe);return _0x2769e1===void(-0x112e*0x2+0x13ae+0xeae)&&(_0x2769e1=new dE(_0x4336fe,this['nextIndex'],_0xd3d14a),this['passesName'+'d']['set'](_0x2769e1['name'],_0x2769e1),this['passesInde'+'xed'][_0x2769e1['index']]=_0x2769e1,this['nextIndex']++),_0x2769e1;}['getByIndex'](_0x203166){const _0x1e8646=this['passesInde'+'xed'][_0x203166];return w['assert'](_0x1e8646),_0x1e8646;}['getByName'](_0x5480ba){return this['passesName'+'d']['get'](_0x5480ba);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x1cbf+-0x1*0x4b1+-0x2171*-0x1)),h(this,'_key','');}['set'](_0x4eb599,_0x47ccb9){return(!this['has'](_0x4eb599)||this['get'](_0x4eb599)!==_0x47ccb9)&&this['markDirty'](),super['set'](_0x4eb599,_0x47ccb9);}['add'](_0x598067){for(const [_0x3ba3e,_0x155221]of Object['entries'](_0x598067))this['set'](_0x3ba3e,_0x155221);return this;}['delete'](_0x3b9150){const _0x3720d7=this['has'](_0x3b9150),_0x1a33e6=super['delete'](_0x3b9150);return _0x3720d7&&_0x1a33e6&&this['markDirty'](),_0x1a33e6;}['clear'](){this['size']>-0x149*-0x14+-0x4d0*-0x7+-0x3b64&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0x1*-0x527+0xa20+-0x4f9),this['_keyDirty']=!(-0x47*0x53+-0x1a33+0x3138);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x2*0x9+-0x1698+0x1687);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x1b35+0x3*-0xcb4+0x4152),this['_key']=Array['from'](this['entries']())['sort'](([_0x3fac69],[_0x2530e5])=>_0x3fac69<_0x2530e5?-(-0x16df*0x1+0x92a*-0x2+0x2934):_0x3fac69>_0x2530e5?-0xac7+-0x6f*-0x12+-0x3*-0xfe:0x1258*0x1+0x22f3*-0x1+0x109b)['map'](([_0x264bf2,_0x14c712])=>_0x264bf2+'='+hi(_0x14c712))['join'](',')),this['_key'];}['copy'](_0x480a0f){this['clear']();for(const [_0xf0cd82,_0x4d45e1]of _0x480a0f)this['set'](_0xf0cd82,_0x4d45e1);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x4f772a,_0x3cbad1=Fe){const _0x51be8f=fE['get'](_0x4f772a,()=>new Pe());return _0x3cbad1===Fe?_0x51be8f['glsl']:_0x51be8f['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0x1*0x85f+0x305*-0x4+0x3b5||this['wgsl']['size']>-0x4cf*0x3+-0x5*0x795+0x42*0xcb;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x5654f0){return this['version']=_0x5654f0['version'],this['glsl']['copy'](_0x5654f0['glsl']),this['wgsl']['copy'](_0x5654f0['wgsl']),this;}}class bh{static['merge'](..._0x2e975e){const _0x28264d=new Map(_0x2e975e[0x3*0x943+0x314+0x1*-0x1edd]??[]);for(let _0x24877d=0xe0f*0x1+-0x13e7+0x5d9;_0x24877d<_0x2e975e['length'];_0x24877d++){const _0x51d60c=_0x2e975e[_0x24877d];if(_0x51d60c){for(const [_0x3f003a,_0x41d310]of _0x51d60c)_0x28264d['set'](_0x3f003a,_0x41d310);}}return _0x28264d;}}class uE extends ya{constructor(_0x17bddd,_0x142d4a){super(),this['key']=_0x17bddd,this['shaderDefi'+'nition']=_0x142d4a;}['generateKe'+'y'](_0x1b17eb){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x347757,_0x185c68){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x341816,_0x58d2a2){const _0x271eec=Hn(_0x341816);let _0x54e7c2=_0x271eec['getCachedS'+'hader'](_0x58d2a2['uniqueName']);if(!_0x54e7c2){const _0x2f608f=_0x341816['isWebGPU']&&(!!_0x58d2a2['vertexWGSL']||!!_0x58d2a2['vertexChun'+'k'])&&(!!_0x58d2a2['fragmentWG'+'SL']||!!_0x58d2a2['fragmentCh'+'unk']),_0x514af0=Pe['get'](_0x341816,_0x2f608f?it:Fe),_0xe06e89=_0x58d2a2['vertexChun'+'k']?_0x514af0['get'](_0x58d2a2['vertexChun'+'k']):_0x2f608f?_0x58d2a2['vertexWGSL']:_0x58d2a2['vertexGLSL'],_0x4d2da1=_0x58d2a2['fragmentCh'+'unk']?_0x514af0['get'](_0x58d2a2['fragmentCh'+'unk']):_0x2f608f?_0x58d2a2['fragmentWG'+'SL']:_0x58d2a2['fragmentGL'+'SL'];w['assert'](_0xe06e89,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x58d2a2),w['assert'](_0x4d2da1,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x58d2a2);const _0x3cf4e3=bh['merge'](_0x514af0,_0x58d2a2['fragmentIn'+'cludes']),_0x5a14d3=bh['merge'](_0x514af0,_0x58d2a2['vertexIncl'+'udes']);_0x54e7c2=new qy(_0x341816,Jt['createDefi'+'nition'](_0x341816,{'name':_0x58d2a2['uniqueName'],'shaderLanguage':_0x2f608f?it:Fe,'attributes':_0x58d2a2['attributes'],'vertexCode':_0xe06e89,'fragmentCode':_0x4d2da1,'useTransformFeedback':_0x58d2a2['useTransfo'+'rmFeedback'],'vertexIncludes':_0x5a14d3,'vertexDefines':_0x58d2a2['vertexDefi'+'nes'],'fragmentIncludes':_0x3cf4e3,'fragmentDefines':_0x58d2a2['fragmentDe'+'fines'],'fragmentOutputTypes':_0x58d2a2['fragmentOu'+'tputTypes']})),_0x271eec['setCachedS'+'hader'](_0x58d2a2['uniqueName'],_0x54e7c2);}return _0x54e7c2;}static['getCoreDef'+'ines'](_0x30d8f6,_0x4e6314){const _0x5a2145=new Map(_0x30d8f6['defines']);return _0x4e6314['cameraShad'+'erParams']['defines']['forEach']((_0x419ce6,_0x552c55)=>_0x5a2145['set'](_0x552c55,_0x419ce6)),Si['get'](_0x4e6314['device'])['getByIndex'](_0x4e6314['pass'])['defines']['forEach']((_0x3cab55,_0x594863)=>_0x5a2145['set'](_0x594863,_0x3cab55)),_0x5a2145;}static['processSha'+'der'](_0x42defa,_0x32147d){w['assert'](_0x42defa);const _0x4da2df=_0x42defa['definition'],_0x26b6d1=(_0x4da2df['name']??'shader')+'-id-'+_0x42defa['id'],_0x16af5e=new uE(_0x26b6d1,_0x4da2df),_0x515e21='shader',_0x250167=Hn(_0x42defa['device']);w['assert'](!_0x250167['isRegister'+'ed'](_0x515e21)),_0x250167['register'](_0x515e21,_0x16af5e);const _0x44088c=_0x250167['getProgram'](_0x515e21,{},_0x32147d);return _0x250167['unregister'](_0x515e21),_0x44088c;}static['addScreenD'+'epthChunkD'+'efines'](_0x18370f,_0x286ba5,_0x3ee6a3){_0x286ba5['sceneDepth'+'MapLinear']&&_0x3ee6a3['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x18370f['textureFlo'+'atRenderab'+'le']&&_0x3ee6a3['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x2ac*0x7+-0x268a+0x393f)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x196e48){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x281dc7=_0x196e48['device'];if(this['shader']=_0x196e48,w['assert'](_0x196e48),_0x281dc7['supportsUn'+'iformBuffe'+'rs']){const _0x2e53ef=new Ad();this['shader']=$t['processSha'+'der'](_0x196e48,_0x2e53ef);const _0x16e189=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x16e189&&(this['uniformBuf'+'fer']=new zp(_0x281dc7,_0x16e189,!(-0x143d+-0x32*-0x2c+0x2a*0x47)));const _0x39eb7b=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x39eb7b),this['bindGroup']=new Up(_0x281dc7,_0x39eb7b),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x1cb6bd,_0x1798db;(_0x1cb6bd=this['uniformBuf'+'fer'])==null||_0x1cb6bd['destroy'](),this['uniformBuf'+'fer']=null,(_0x1798db=this['bindGroup'])==null||_0x1798db['destroy'](),this['bindGroup']=null;}['render'](_0x250ebc,_0x2ee17f){const _0x1df800=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x1df800,'QuadRender'),_0x250ebc&&(so['set'](_0x1df800['vx'],_0x1df800['vy'],_0x1df800['vw'],_0x1df800['vh']),io['set'](_0x1df800['sx'],_0x1df800['sy'],_0x1df800['sw'],_0x1df800['sh']),_0x2ee17f=_0x2ee17f??_0x250ebc,_0x1df800['setViewpor'+'t'](_0x250ebc['x'],_0x250ebc['y'],_0x250ebc['z'],_0x250ebc['w']),_0x1df800['setScissor'](_0x2ee17f['x'],_0x2ee17f['y'],_0x2ee17f['z'],_0x2ee17f['w'])),_0x1df800['setVertexB'+'uffer'](_0x1df800['quadVertex'+'Buffer'],-0x234a+-0x26a6+0x49f0*0x1);const _0x15f2c7=this['shader'];if(_0x1df800['setShader'](_0x15f2c7),_0x1df800['supportsUn'+'iformBuffe'+'rs']){_0x1df800['setBindGro'+'up'](rl,_0x1df800['emptyBindG'+'roup']);const _0x100cb7=this['bindGroup'];_0x100cb7['update'](),_0x1df800['setBindGro'+'up'](Oy,_0x100cb7);const _0x38a490=this['uniformBuf'+'fer'];_0x38a490?(_0x38a490['update'](Gd),_0x1df800['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x1df800['setBindGro'+'up'](su,_0x1df800['emptyBindG'+'roup']);}_0x1df800['draw'](pE),_0x250ebc&&(_0x1df800['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x1df800['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x1df800);}}class mE extends ys{constructor(_0x76c0f7,_0x456e7f,_0x3ade48,_0x5023c1){super(_0x76c0f7),this['quad']=_0x456e7f,this['rect']=_0x3ade48,this['scissorRec'+'t']=_0x5023c1;}['execute'](){const {device:_0x560144}=this;Q['pushGpuMar'+'ker'](_0x560144,this['name']+':'+this['quad']['shader']['name']),_0x560144['setCullMod'+'e'](bt),_0x560144['setDepthSt'+'ate'](Yt['NODEPTH']),_0x560144['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x560144);}}const _E=new re();function Ar(_0x1f73bd,_0x24467a,_0x4cb60a,_0x3b0bb9,_0x125f27){w['assert'](_0x24467a!==void(0x8e3*-0x1+-0xb1e+0x1401));const _0x277dfd=arguments[0x2553+-0x15f*0x5+-0x1e73];w['call'](()=>{_0x277dfd!==void(-0x5*0x6e2+0x1*-0x7c9+0xe11*0x3)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x236e9c=new Ah(_0x4cb60a);_0x3b0bb9||(_0x3b0bb9=_E,_0x3b0bb9['x']=-0x23ba+0x1*0x11c3+0x3f*0x49,_0x3b0bb9['y']=-0x183c+-0x26ff+-0x3f3b*-0x1,_0x3b0bb9['z']=_0x24467a?_0x24467a['width']:_0x1f73bd['width'],_0x3b0bb9['w']=_0x24467a?_0x24467a['height']:_0x1f73bd['height']);const _0x2c05bd=new mE(_0x1f73bd,_0x236e9c,_0x3b0bb9,_0x125f27);_0x2c05bd['init'](_0x24467a),_0x2c05bd['colorOps']['clear']=!(0x17f+-0x3*-0xaaf+-0x218b),_0x2c05bd['depthStenc'+'ilOps']['clearDepth']=!(0x3fa+0x1*0x2269+-0x2*0x1331),_0x1f73bd['isWebGPU']&&_0x24467a===null&&_0x1f73bd['samples']>0x4c1*-0x2+-0x18ac*0x1+0x222f&&(_0x2c05bd['colorOps']['store']=!(-0x5e0+0x3*-0x86d+-0x19*-0x13f)),_0x2c05bd['render'](),_0x236e9c['destroy']();}class g_{constructor(_0x211cae,_0x4c89b5,_0x5154a9){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x211cae,this['dynamic']=_0x4c89b5,this['batchGroup'+'Id']=_0x5154a9);}['destroy'](_0x373fa0,_0x4d2efe){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x373fa0,_0x4d2efe),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x3504cb,_0x2f80de){for(let _0x5f1c63=0x6*0x60c+-0x1*-0x2cf+-0x2717;_0x5f1c63<_0x2f80de['length'];_0x5f1c63++){const _0x2f4b75=_0x3504cb['layers']['getLayerBy'+'Id'](_0x2f80de[_0x5f1c63]);_0x2f4b75&&_0x2f4b75['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x46c67,_0x366cf1){for(let _0x4202a1=0x1be0+0x17f3*0x1+0x1*-0x33d3;_0x4202a1<_0x366cf1['length'];_0x4202a1++){const _0x3a9d46=_0x46c67['layers']['getLayerBy'+'Id'](_0x366cf1[_0x4202a1]);_0x3a9d46&&_0x3a9d46['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x2*-0x10d7+-0x1b*-0xc3+-0x363f]['aabb']);for(let _0x1bfd59=-0x1b4b+0x8dc+0x24e*0x8;_0x1bfd59<this['origMeshIn'+'stances']['length'];_0x1bfd59++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x1bfd59]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x48e+0x1dfa+0x2*-0x1144;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x8fedc7,_0x159c20,_0x4f078e,_0x5b2696,_0x297305=[er]){h(this,'_ui',!(-0x342*0x7+-0x7fa+0x1ec9*0x1)),h(this,'_sprite',!(0x204c+0xc11+-0x2c5c)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x8fedc7,this['name']=_0x159c20,this['dynamic']=_0x4f078e,this['maxAabbSiz'+'e']=_0x5b2696,this['layers']=_0x297305);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x4a0841){h(this,'bones'),(this['_dirty']=!(0x850*0x2+-0x1d75*0x1+0xcd5),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x1db1+0x9*-0x3d5+0x4cd),this['_updateBef'+'oreCull']=!(-0x2f5*0x2+-0x1f*0x13+0x837),_0x4a0841&&this['initSkin'](_0x4a0841));}set['rootBone'](_0x554c3a){this['_rootBone']=_0x554c3a;}get['rootBone'](){return this['_rootBone'];}['init'](_0x2358d7,_0x3d73b1){const _0xf48761=_0x3d73b1*(-0x2bc+0x1*-0x20d1+0x2390);let _0x23e875=Math['ceil'](Math['sqrt'](_0xf48761));_0x23e875=Y['roundUp'](_0x23e875,-0x1957+0x1dd4+-0x47a);const _0x473e2a=Math['ceil'](_0xf48761/_0x23e875);this['boneTextur'+'e']=new _e(_0x2358d7,{'width':_0x23e875,'height':_0x473e2a,'format':Xt,'mipmaps':!(-0x1*0x1357+0x1316*-0x1+-0x1337*-0x2),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x371ab3,_0x46a7e4){this['rootBone']=_0x371ab3;const _0x361d03=this['skin'],_0x3d46b2=[];for(let _0x2485e4=0xd1+0x10e5+-0x11b6;_0x2485e4<_0x361d03['boneNames']['length'];_0x2485e4++){const _0x1ff81f=_0x361d03['boneNames'][_0x2485e4];let _0xb959ca=_0x371ab3['findByName'](_0x1ff81f);_0xb959ca||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x1ff81f+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x46a7e4['name']+(',\x20rootBone'+':\x20')+_0x371ab3['name']),_0xb959ca=_0x46a7e4),_0x3d46b2['push'](_0xb959ca);}this['bones']=_0x3d46b2;}['initSkin'](_0x5eb8fd){this['skin']=_0x5eb8fd,this['bones']=[];const _0x108c49=_0x5eb8fd['inverseBin'+'dPose']['length'];this['init'](_0x5eb8fd['device'],_0x108c49),this['matrices']=[];for(let _0x1905fb=0x3c7+-0x1ce1+0x2ca*0x9;_0x1905fb<_0x108c49;_0x1905fb++)this['matrices'][_0x1905fb]=new te();}['uploadBone'+'s'](_0x5a5812){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x45baf4,_0x181b1d){if(this['_skinUpdat'+'eIndex']!==_0x181b1d){this['_skinUpdat'+'eIndex']=_0x181b1d,S_['copy'](_0x45baf4['getWorldTr'+'ansform']())['invert']();for(let _0x243011=this['bones']['length']-(-0x1bc7+-0x11d9+-0x1*-0x2da1);_0x243011>=-0xfab+-0x1*-0x1eb6+-0x1*0xf0b;_0x243011--)this['matrices'][_0x243011]['mulAffine2'](S_,this['bones'][_0x243011]['getWorldTr'+'ansform']()),this['matrices'][_0x243011]['mulAffine2'](this['matrices'][_0x243011],this['skin']['inverseBin'+'dPose'][_0x243011]);}}['updateMatr'+'ices'](_0xced36b,_0x2ef89e){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0xced36b,_0x2ef89e);}['updateMatr'+'ixPalette'](_0x524137,_0x10e1a5){this['_updateMat'+'rices'](_0x524137,_0x10e1a5);const _0x203e90=this['matrixPale'+'tte'],_0x25b3ef=this['bones']['length'];for(let _0x487bbb=0xf40+0x1586+-0x24c6;_0x487bbb<_0x25b3ef;_0x487bbb++){const _0x53fb92=this['matrices'][_0x487bbb]['data'],_0x1098b4=_0x487bbb*(0x2338+-0x4*-0x6ee+-0x3ee4);_0x203e90[_0x1098b4]=_0x53fb92[0x1f7a*-0x1+0x1dec+-0x18e*-0x1],_0x203e90[_0x1098b4+(-0x17*-0x1a5+0x1*0x1c93+-0x4265)]=_0x53fb92[-0x23f9+-0x1b16+0x3f13],_0x203e90[_0x1098b4+(0x40c+0x1021+0x6b9*-0x3)]=_0x53fb92[-0xd4*0x6+-0xc51+0x1151],_0x203e90[_0x1098b4+(0xe26+-0x2277+0x1454)]=_0x53fb92[-0x113a+-0x1ddb+0x2f21],_0x203e90[_0x1098b4+(-0xc9*0x1a+-0x1*-0x6fb+0xd73)]=_0x53fb92[0x2650+-0x16f3+-0xf5c],_0x203e90[_0x1098b4+(0xf3b+-0xeb9+0x1*-0x7d)]=_0x53fb92[0x2591+-0x3d*-0x48+0x48f*-0xc],_0x203e90[_0x1098b4+(0xf9e+-0x3c5+-0xbd3)]=_0x53fb92[0x2*0x58a+0xf39+-0x1a44*0x1],_0x203e90[_0x1098b4+(0xb5b+-0x11fc+0x8e*0xc)]=_0x53fb92[-0x831+-0xf05*-0x2+-0x15cc],_0x203e90[_0x1098b4+(0x1115+0x4c8+0x747*-0x3)]=_0x53fb92[-0x23cb+-0x185d+0x3c2a],_0x203e90[_0x1098b4+(0x23a9+-0x17ee+0x6*-0x1f3)]=_0x53fb92[-0x1*-0x22fe+0x164c+-0x3944],_0x203e90[_0x1098b4+(-0x2099+0x60f+-0x15*-0x144)]=_0x53fb92[-0x3b0+-0x4d*0x4+-0x1*-0x4ee],_0x203e90[_0x1098b4+(0xae4+-0x2416+0x193d)]=_0x53fb92[0x48*0x61+-0xe71+-0xcc9];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x38129c,_0x516c9f,_0x4b7546){super();const _0x2d3285=_0x516c9f['length'];this['init'](_0x38129c,_0x2d3285),this['device']=_0x38129c,this['rootNode']=_0x4b7546,this['bones']=_0x516c9f;}['updateMatr'+'ices'](_0x1a2f12,_0x234fdf){}['updateMatr'+'ixPalette'](_0x1d867f,_0x4b26dd){const _0x2095a4=this['matrixPale'+'tte'],_0x4b066e=this['bones']['length'];for(let _0x395eaa=-0x205*0xa+-0xc22+0x2054;_0x395eaa<_0x4b066e;_0x395eaa++){const _0x2e1434=this['bones'][_0x395eaa]['getWorldTr'+'ansform']()['data'],_0x18bdc2=_0x395eaa*(-0x25*-0x8e+0x2070+0x412*-0xd);_0x2095a4[_0x18bdc2]=_0x2e1434[-0xd*0x167+0x1*-0x14c0+0x24b*0x11],_0x2095a4[_0x18bdc2+(-0x1*-0x1397+-0x218+-0x117e)]=_0x2e1434[-0x1639+0xbda*-0x1+0x2217],_0x2095a4[_0x18bdc2+(-0x54c+0x17b3+0x1*-0x1265)]=_0x2e1434[-0x1*0x15ab+0x190b+-0x2*0x1ac],_0x2095a4[_0x18bdc2+(-0x87a*0x1+-0x1dcf*0x1+0x264c)]=_0x2e1434[-0x230*-0xe+0x16d8+-0x34*0x107],_0x2095a4[_0x18bdc2+(0xb71+0x1*-0x277+0x2*-0x47b)]=_0x2e1434[0x151b*-0x1+-0x2221+-0x373d*-0x1],_0x2095a4[_0x18bdc2+(0x373*0x1+-0x742*0x5+0xaf4*0x3)]=_0x2e1434[-0x159b+-0x252e+-0x4e*-0xc1],_0x2095a4[_0x18bdc2+(0x81*-0x37+-0x1de+0x1*0x1d9b)]=_0x2e1434[-0x22f3+0x1ffa+0x302],_0x2095a4[_0x18bdc2+(0xa2a*-0x3+-0x9ff+0x2884)]=_0x2e1434[0x1*0x14f6+-0x948+-0xba1],_0x2095a4[_0x18bdc2+(-0x95*0x2b+0xb*0x191+0x7d4)]=_0x2e1434[0x7*-0x29c+0x1*-0x304+0x154a],_0x2095a4[_0x18bdc2+(-0x1861*-0x1+0x1993+0xd*-0x3d7)]=_0x2e1434[-0xc+0x7f5+0x2a1*-0x3],_0x2095a4[_0x18bdc2+(0x1a*0xa7+-0x1b*0x61+-0x23b*0x3)]=_0x2e1434[0x24d7+-0xc2*0x1f+-0x1*0xd4f],_0x2095a4[_0x18bdc2+(-0xbd4+-0x129*-0x4+0x73b)]=_0x2e1434[-0x247f+0xa8e*0x1+0x19ff];}this['uploadBone'+'s'](this['device']);}}let gE=-0x21e3+0x525*0x4+0xd4f;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1cca+0x2098+-0x3d61),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x3b*0x1+0x364*-0x4+0xb*0x141,this['maxIndices']=-0x13a6+0x1a0*-0x17+0x3906,this['vertexCoun'+'t']=0xe56+-0x3*0xb3b+-0x3df*-0x5,this['indexCount']=-0x8d*-0x2f+-0x2516+0xb33,this['vertexStre'+'amsUpdated']=!(0xcdd*-0x1+0x14a8+-0x1*0x7ca),this['indexStrea'+'mUpdated']=!(-0x2621+0x6*-0x465+0x4080),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x156648,_0x50d9ae){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x156648,'Vertex\x20str'+'eam\x20'+_0x50d9ae+'\x20has\x20'+_0x156648+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x156648;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x2652+-0x2*0x122d+-0x1f5),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x12e7*-0x1+0x153d+-0x253),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x10f6+0x12f0+-0x8f9*0x4),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x1*-0x1069+0x604+0xa69);class SE{constructor(_0x4e6ead,_0xbb519d,_0x1abe91,_0x4e2591,_0x189e27){this['data']=_0x4e6ead,this['componentC'+'ount']=_0xbb519d,this['dataType']=_0x1abe91,this['dataTypeNo'+'rmalize']=_0x4e2591,this['asInt']=_0x189e27;}}class Ge extends wd{constructor(_0x28380e,_0x5d37a2){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x1ab1+-0x131c+-0x1*0x795),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x183d+0x65b*0x6+-0x3e5e)),h(this,'_storageVe'+'rtex',!(0x175b+-0x2383+0xc29)),(this['id']=gE++,w['assert'](_0x28380e,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x28380e,this['_storageIn'+'dex']=(_0x5d37a2==null?void(-0x1*0xf75+-0x135a+0x22cf*0x1):_0x5d37a2['storageInd'+'ex'])||!(-0x3c3*0x5+0x3d1+-0x15d*-0xb),this['_storageVe'+'rtex']=(_0x5d37a2==null?void(-0x19b2+0x934+0x107e):_0x5d37a2['storageVer'+'tex'])||!(0x5e0+-0x2*-0x71f+0x141d*-0x1));}static['fromGeomet'+'ry'](_0x2dc2f4,_0x103e6a,_0x20520f={}){const _0x2c6636=new Ge(_0x2dc2f4,_0x20520f),{positions:_0x29dbdd,normals:_0xefbef4,tangents:_0x4b9305,colors:_0x564329,uvs:_0x3dce32,uvs1:_0x596e44,blendIndices:_0x41b61e,blendWeights:_0x5317c8,indices:_0x1d51f2}=_0x103e6a;return _0x29dbdd&&_0x2c6636['setPositio'+'ns'](_0x29dbdd),_0xefbef4&&_0x2c6636['setNormals'](_0xefbef4),_0x4b9305&&_0x2c6636['setVertexS'+'tream'](yi,_0x4b9305,-0x1d9c+0x1*-0x164+0x1f04),_0x564329&&_0x2c6636['setColors3'+'2'](_0x564329),_0x3dce32&&_0x2c6636['setUvs'](-0xcdf+-0xcf*-0x3+0xa72,_0x3dce32),_0x596e44&&_0x2c6636['setUvs'](0x59*-0x2f+-0x1a85+0x2add,_0x596e44),_0x41b61e&&_0x2c6636['setVertexS'+'tream'](us,_0x41b61e,-0xf5b+0xbbd*0x2+-0x1*0x81b,_0x41b61e['length']/(0x240e+-0x1e4*-0x5+-0x2d7e),la),_0x5317c8&&_0x2c6636['setVertexS'+'tream'](gi,_0x5317c8,-0xb*-0x2ff+-0x118c*0x2+-0x227*-0x1),_0x1d51f2&&_0x2c6636['setIndices'](_0x1d51f2),_0x2c6636['update'](),_0x2c6636;}set['morph'](_0x2936bd){_0x2936bd!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x2936bd,_0x2936bd&&_0x2936bd['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x426841){this['_aabb']=_0x426841,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x10deac=this['morph'];_0x10deac&&(this['morph']=null,_0x10deac['refCount']<0xd45*0x1+-0x199b+-0x3*-0x41d&&_0x10deac['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x593e30=0x4*-0x69b+0x1d5*0x13+-0x863;_0x593e30<this['indexBuffe'+'r']['length'];_0x593e30++)this['_destroyIn'+'dexBuffer'](_0x593e30);this['indexBuffe'+'r']['length']=-0xe*-0x70+-0x1df6+-0x2a6*-0x9,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x255f56){this['indexBuffe'+'r'][_0x255f56]&&(this['indexBuffe'+'r'][_0x255f56]['destroy'](),this['indexBuffe'+'r'][_0x255f56]=null);}['_initBoneA'+'abbs'](_0x55734c){this['boneAabb']=[],this['boneUsed']=[];let _0x2ee7b1,_0x2d5f63,_0x11cf29,_0x30f487,_0x313693;const _0x55e561=[],_0x476439=[],_0x5e5c83=this['boneUsed'],_0x57c905=this['skin']['boneNames']['length'];let _0x21be2a,_0x5c1ae4,_0x29f550;for(let _0xca8c4e=-0x2*-0xeaf+0xe1*0x3+-0x2001;_0xca8c4e<_0x57c905;_0xca8c4e++)_0x55e561[_0xca8c4e]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x476439[_0xca8c4e]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x249b1a=new Uo(this['vertexBuff'+'er']),_0x48ff09=_0x249b1a['element'][Me],_0x3c827f=_0x249b1a['element'][gi],_0x33570a=_0x249b1a['element'][us],_0x2be806=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0xab41a8=0x4ff*0x6+0x1c45+-0x3a3f;_0xab41a8<_0x2be806;_0xab41a8++){for(let _0x16844b=0x2378+-0x8eb*0x1+-0x1a8d;_0x16844b<0x15*0x9d+-0x127f*-0x1+-0x1f5c;_0x16844b++)if(_0x3c827f['array'][_0x3c827f['index']+_0x16844b]>0x25d6+0x728+-0x1*0x2cfe){const _0x5ed2ce=_0x33570a['array'][_0x33570a['index']+_0x16844b];if(_0x5e5c83[_0x5ed2ce]=!(-0x45a*0x7+0xbe1*-0x1+0x2a57),_0x2ee7b1=_0x48ff09['array'][_0x48ff09['index']],_0x2d5f63=_0x48ff09['array'][_0x48ff09['index']+(0x74d+0x1047+-0x55*0x47)],_0x11cf29=_0x48ff09['array'][_0x48ff09['index']+(0x40*0x3d+-0x9*0x175+-0x221)],_0x30f487=_0x476439[_0x5ed2ce],_0x313693=_0x55e561[_0x5ed2ce],_0x313693['x']>_0x2ee7b1&&(_0x313693['x']=_0x2ee7b1),_0x313693['y']>_0x2d5f63&&(_0x313693['y']=_0x2d5f63),_0x313693['z']>_0x11cf29&&(_0x313693['z']=_0x11cf29),_0x30f487['x']<_0x2ee7b1&&(_0x30f487['x']=_0x2ee7b1),_0x30f487['y']<_0x2d5f63&&(_0x30f487['y']=_0x2d5f63),_0x30f487['z']<_0x11cf29&&(_0x30f487['z']=_0x11cf29),_0x55734c){let _0x55e9ef=_0x21be2a=_0x2ee7b1,_0x157493=_0x5c1ae4=_0x2d5f63,_0x593eb8=_0x29f550=_0x11cf29;for(let _0x24aa39=-0x1*0x151e+-0x5bf*-0x6+-0xd5c;_0x24aa39<_0x55734c['length'];_0x24aa39++){const _0x4106a6=_0x55734c[_0x24aa39],_0x4593ad=_0x4106a6['deltaPosit'+'ions'][_0xab41a8*(0x1754+0x704+-0x1e55)],_0x282833=_0x4106a6['deltaPosit'+'ions'][_0xab41a8*(0x43+-0x20b7*-0x1+0x20f7*-0x1)+(-0xae8+-0xc04+0x16ed)],_0x206939=_0x4106a6['deltaPosit'+'ions'][_0xab41a8*(-0x89a+0xb16+0xd3*-0x3)+(-0x247d*-0x1+-0x1*-0x1e7a+0x119*-0x3d)];_0x4593ad<-0x441*0x4+0x9*0x30e+-0xa7a?_0x55e9ef+=_0x4593ad:_0x21be2a+=_0x4593ad,_0x282833<0x11c8*-0x2+-0x162a+0x39ba?_0x157493+=_0x282833:_0x5c1ae4+=_0x282833,_0x206939<-0x1*-0x2b+0xd*-0x117+0xe00?_0x593eb8+=_0x206939:_0x29f550+=_0x206939;}_0x313693['x']>_0x55e9ef&&(_0x313693['x']=_0x55e9ef),_0x313693['y']>_0x157493&&(_0x313693['y']=_0x157493),_0x313693['z']>_0x593eb8&&(_0x313693['z']=_0x593eb8),_0x30f487['x']<_0x21be2a&&(_0x30f487['x']=_0x21be2a),_0x30f487['y']<_0x5c1ae4&&(_0x30f487['y']=_0x5c1ae4),_0x30f487['z']<_0x29f550&&(_0x30f487['z']=_0x29f550);}}_0x249b1a['next']();}const _0x465002=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x3eaf77=>_0x3eaf77['name']===Me);if(_0x465002&&_0x465002['normalize']){const _0x19acfc=((()=>{switch(_0x465002['dataType']){case dd:return _0x54983d=>Math['max'](_0x54983d/(-0x316*0xb+0x20c8+-0x5*-0x55),-(-0x49*0x83+-0xf*0xba+0x3042));case la:return _0x228d95=>_0x228d95/(0xd5*0x1+-0x149+0x173);case fd:return _0x20204a=>Math['max'](_0x20204a/(0xe21a+0x1*-0x188+-0xc9*0x7b),-(-0x1390+0xc*-0x97+0x1*0x1aa5));case Ml:return _0x4b724f=>_0x4b724f/(0x1c3*0xac+-0x1472*0x1+-0x1a93);default:return _0x3507a4=>_0x3507a4;}})());for(let _0xfc4621=-0x1d3*0xb+0x67*-0xb+0x187e;_0xfc4621<_0x57c905;_0xfc4621++)if(_0x5e5c83[_0xfc4621]){const _0x41a50d=_0x55e561[_0xfc4621],_0x5ccb5d=_0x476439[_0xfc4621];_0x41a50d['set'](_0x19acfc(_0x41a50d['x']),_0x19acfc(_0x41a50d['y']),_0x19acfc(_0x41a50d['z'])),_0x5ccb5d['set'](_0x19acfc(_0x5ccb5d['x']),_0x19acfc(_0x5ccb5d['y']),_0x19acfc(_0x5ccb5d['z']));}}for(let _0x3d342e=0x19b1*0x1+0x13d*-0x16+0x18d;_0x3d342e<_0x57c905;_0x3d342e++){const _0x40fc90=new De();_0x40fc90['setMinMax'](_0x55e561[_0x3d342e],_0x476439[_0x3d342e]),this['boneAabb']['push'](_0x40fc90);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x4bf*-0x2+0x6a*0x2a+-0x25*0xba&&this['indexBuffe'+'r'][0x1cf*0x5+0x1c93+-0x259e]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1*-0x2683+0x2620+-0x4ca3]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x1c45+-0x1cb9+-0xa*-0x5b3]['numIndices']));}['clear'](_0x3a85c8,_0x317f2c,_0x500a75=0x9c4*0x2+-0x7*0x48b+-0x3*-0x417,_0x58ba76=-0x18f9+0x4*0x424+0x869){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1*-0x1633+-0x135b+-0x2d8),this['_geometryD'+'ata']['maxVertice'+'s']=_0x500a75,this['_geometryD'+'ata']['maxIndices']=_0x58ba76,this['_geometryD'+'ata']['verticesUs'+'age']=_0x3a85c8?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x317f2c?ms:lh;}['setVertexS'+'tream'](_0x1bf1f3,_0x41c1f1,_0x3d3c8d,_0x43075e,_0x15b094=Ve,_0x41ad57=!(0x1943+0x33b+-0x1c7d),_0x1e0013=!(0x192f+0x3*0x99f+-0x5*0xacf)){this['_initGeome'+'tryData']();const _0x15a890=_0x43075e||_0x41c1f1['length']/_0x3d3c8d;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x15a890,_0x1bf1f3),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xb23+-0xc*-0x49+0x1*-0xe8f),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1bf1f3]=new SE(_0x41c1f1,_0x3d3c8d,_0x15b094,_0x41ad57,_0x1e0013);}['getVertexS'+'tream'](_0x2f484d,_0x3d0d09){let _0x2a7f8f=0x1656*0x1+-0x4bf*0x3+-0x819,_0x4d75fc=!(-0x1*-0x2510+0x1f66+-0x4475);if(this['_geometryD'+'ata']){const _0x3a15d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2f484d];_0x3a15d&&(_0x4d75fc=!(0x1382+-0x1*0x19c7+-0x5*-0x141),_0x2a7f8f=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x3d0d09)?_0x3d0d09['set'](_0x3a15d['data']):(_0x3d0d09['length']=0x1909+0x1cde+-0x35e7,_0x3d0d09['push'](_0x3a15d['data'])));}return _0x4d75fc||this['vertexBuff'+'er']&&(_0x2a7f8f=new Uo(this['vertexBuff'+'er'])['readData'](_0x2f484d,_0x3d0d09)),_0x2a7f8f;}['setPositio'+'ns'](_0x551d56,_0x202353=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x515e53){this['setVertexS'+'tream'](Me,_0x551d56,_0x202353,_0x515e53,Ve,!(0x3*-0x359+0x9*-0x39d+-0x11*-0x281));}['setNormals'](_0x23e64b,_0x66abb4=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x4c3e70){this['setVertexS'+'tream'](gs,_0x23e64b,_0x66abb4,_0x4c3e70,Ve,!(-0x2ab*0x2+-0x1f90+-0xc4d*-0x3));}['setUvs'](_0x3feda9,_0x8a2741,_0x5f2945=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x56e1fd){this['setVertexS'+'tream'](zm+_0x3feda9,_0x8a2741,_0x5f2945,_0x56e1fd,Ve,!(-0x2*0x5b3+0xa97*0x2+-0x9c7));}['setColors'](_0x5aa64b,_0x5e455e=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2a66cc){this['setVertexS'+'tream'](Wt,_0x5aa64b,_0x5e455e,_0x2a66cc,Ve,!(-0x15d1+-0xab2+0x1*0x2084));}['setColors3'+'2'](_0x11006c,_0x8e9f32){this['setVertexS'+'tream'](Wt,_0x11006c,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x8e9f32,la,!(0x2486+-0x1*-0x1215+-0x369b*0x1));}['setIndices'](_0x1def67,_0x34cd30){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x16fd+0x7b+0x1682),this['_geometryD'+'ata']['indices']=_0x1def67,this['_geometryD'+'ata']['indexCount']=_0x34cd30||_0x1def67['length'];}['getPositio'+'ns'](_0x298a63){return this['getVertexS'+'tream'](Me,_0x298a63);}['getNormals'](_0x11b6c4){return this['getVertexS'+'tream'](gs,_0x11b6c4);}['getUvs'](_0x56783f,_0x32a840){return this['getVertexS'+'tream'](zm+_0x56783f,_0x32a840);}['getColors'](_0x385c27){return this['getVertexS'+'tream'](Wt,_0x385c27);}['getIndices'](_0x56067c){let _0x54713c=0x3*-0x63d+-0x1*0x1b05+0x2dbc;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x44ec19=this['_geometryD'+'ata']['indices'];if(_0x54713c=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x56067c))_0x56067c['set'](_0x44ec19);else{_0x56067c['length']=0x1*0xd3e+0x1*-0x28d+-0x11*0xa1;for(let _0x2917bc=-0x89a+-0x1*-0x1122+-0xd*0xa8,_0x30edf1=_0x44ec19['length'];_0x2917bc<_0x30edf1;_0x2917bc++)_0x56067c['push'](_0x44ec19[_0x2917bc]);}}else this['indexBuffe'+'r']['length']>-0x3cf+-0x92*0x36+0x229b&&this['indexBuffe'+'r'][0x2217+0x1951+-0x3b68]&&(_0x54713c=this['indexBuffe'+'r'][0xcd9+0x1594+-0x226d]['readData'](_0x56067c));return _0x54713c;}['update'](_0x440891=js,_0x54177e=!(0x1*0x1604+0x1*0x287+-0x188b)){if(this['_geometryD'+'ata']){if(_0x54177e){const _0x2a8a6b=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x2a8a6b&&_0x2a8a6b['componentC'+'ount']===-0x117*0xb+0x5b1*-0x2+0x1762&&(this['_aabb']['compute'](_0x2a8a6b['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x38ca58=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x38ca58=!(-0x1f*-0x5b+-0x17c8+0xcc3),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x38ca58&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x459049=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x459049=!(0x61*0x2f+0x1477+-0x6*0x661),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x459049&&this['indexBuffe'+'r']['length']>-0x1*0xe02+0xebc+-0xba&&this['indexBuffe'+'r'][-0x2f*-0xd4+-0x75*-0x2+-0x27d6]&&(this['indexBuffe'+'r'][-0x366+-0x1*-0x10dc+-0xd76]['destroy'](),this['indexBuffe'+'r'][-0x2572+-0x13a*0xb+0x32f0]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x1*-0x9c5+-0x164f*0x1+0xc8a]['type']=_0x440891,this['indexBuffe'+'r']['length']>-0x1*0x1d58+-0x131f+0x3077&&this['indexBuffe'+'r'][0x25e7+-0xd69*0x1+0x5*-0x4e6]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x9*-0x317+-0x1*0x1a0f+-0x1c0]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x24a0+-0x101*-0x17+-0x3bb7]['indexed']=!(0x210*-0x3+0x1cb9*-0x1+-0x1b*-0x14b)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0xc5b+-0x38f*-0x1+-0xfea]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0xe7f*0x1+-0x1117*0x2+0x30ad]['indexed']=!(-0x688+-0x127a+0x13*0x151)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x14e4*-0x1+0x1cc1+-0x31a5,this['_geometryD'+'ata']['indexCount']=-0x3d*0x97+0x1*-0x18d9+0x3cd4,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x109c+-0xca+-0xfd1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1edd+-0xc9*-0x3+-0x3*-0x981),this['_geometryD'+'ata']['recreate']=!(0x3c9*0x3+0x551+-0x10ab),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x3b32a3){const _0x426113=[];for(const _0x4725db in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4ac04e=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4725db];_0x426113['push']({'semantic':_0x4725db,'components':_0x4ac04e['componentC'+'ount'],'type':_0x4ac04e['dataType'],'normalize':_0x4ac04e['dataTypeNo'+'rmalize'],'asInt':_0x4ac04e['asInt']});}return new kt(this['device'],_0x426113,_0x3b32a3);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x6c470e=this['_geometryD'+'ata']['maxVertice'+'s'],_0x281ef8=this['_buildVert'+'exFormat'](_0x6c470e);this['vertexBuff'+'er']=new Is(this['device'],_0x281ef8,_0x6c470e,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x1bffd5=new Uo(this['vertexBuff'+'er']),_0x3430d=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x2e0c2d in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4ef968=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2e0c2d];_0x1bffd5['writeData'](_0x2e0c2d,_0x4ef968['data'],_0x3430d),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2e0c2d];}_0x1bffd5['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x5*0x145+-0x1074+0x16cd||!this['indexBuffe'+'r'][0x1bc2+0x220+-0x55*0x5a]){const _0x154c81=this['_geometryD'+'ata']['maxVertice'+'s'],_0x216021=_0x154c81>0x3*0x96be+-0x3*-0x67d+-0xd7b2||_0x154c81===0x15ab+-0xacf*0x2+-0xd?wr:Yi,_0x131403=this['_storageIn'+'dex']?{'storage':!(-0x1d73+0x6b*-0x4+0x1*0x1f1f)}:void(-0x7f9*0x4+-0x3dc*-0x2+0x182c);this['indexBuffe'+'r'][0x2546+-0x272*0xe+-0x185*0x2]=new br(this['device'],_0x216021,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x67*0x22+-0x1718+0x96a),_0x131403);}const _0x2606ce=this['_geometryD'+'ata']['indices'];_0x2606ce&&(this['indexBuffe'+'r'][0x164e+0x5*0x3df+-0x29a9]['writeData'](_0x2606ce,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x2b37fb){_0x2b37fb===$r?this['generateWi'+'reframe']():_0x2b37fb===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1a7+0x9b+-0x43*-0x4,'indexed':!(-0x4b9+-0x79e+0x8*0x18b)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x13b90e=this['vertexBuff'+'er']['numVertice'+'s'],_0x7df46=[];let _0x386dfc;if(this['indexBuffe'+'r']['length']>0x1904+0x417*-0x1+-0x14ed&&this['indexBuffe'+'r'][-0x3d*-0x13+-0x128e+-0xe07*-0x1]){const _0x4a7649=[[-0x15b1+0x1960+0x1*-0x3af,-0x8e6+-0xcae*-0x1+-0x3c7],[0x1d1*0x3+-0x9c0+0x1d*0x26,0x7*-0x9b+-0x1a*-0x2+0x159*0x3],[-0x1fd6+-0x1cd*0x2+0x2372,0x1*0x19e7+-0x157f+-0x468]],_0x1c587b=this['primitive'][un]['base'],_0x21e50f=this['primitive'][un]['count'],_0xfe6419=this['primitive'][un]['baseVertex']||0xc2b+-0xa*-0xf2+-0x159f,_0x41a9aa=this['indexBuffe'+'r'][un],_0x492a15=new Sh[_0x41a9aa['format']](_0x41a9aa['storage']),_0x4bef97=new Set();for(let _0x309694=_0x1c587b;_0x309694<_0x1c587b+_0x21e50f;_0x309694+=-0x26d5*-0x1+0x43*0xd+-0x2a39)for(let _0x344c02=0xd*-0x18b+-0x3*0xb4d+0x1*0x35f6;_0x344c02<-0x12*0x90+-0x1ef+0xf*0xce;_0x344c02++){const _0x44353d=_0x492a15[_0x309694+_0x4a7649[_0x344c02][0x3*0x7a7+0x1e34+-0x3529]]+_0xfe6419,_0x3e12f0=_0x492a15[_0x309694+_0x4a7649[_0x344c02][0x23b3+-0xde*-0x2c+0x2e*-0x19b]]+_0xfe6419,_0x15730b=_0x44353d>_0x3e12f0?_0x3e12f0*_0x13b90e+_0x44353d:_0x44353d*_0x13b90e+_0x3e12f0;_0x4bef97['has'](_0x15730b)||(_0x4bef97['add'](_0x15730b),_0x7df46['push'](_0x44353d,_0x3e12f0));}_0x386dfc=_0x41a9aa['format'];}else{for(let _0x394155=-0x22a+0x16fb+-0x49*0x49;_0x394155<_0x13b90e;_0x394155+=0x43c+-0xab8*0x1+0x67f)_0x7df46['push'](_0x394155,_0x394155+(0x1e9e*-0x1+-0x23a6+0x27*0x1b3),_0x394155+(0x502+-0x1019+0x47*0x28),_0x394155+(0x67*0xb+0x9d+0x8*-0xa1),_0x394155+(0xb09*-0x1+0x2f*0xba+-0x171b),_0x394155);_0x386dfc=_0x7df46['length']>-0x1f34b+0x11f12+0x750e*0x4?wr:Yi;}const _0x3df0f7=new br(this['vertexBuff'+'er']['device'],_0x386dfc,_0x7df46['length']);new Sh[_0x3df0f7['format']](_0x3df0f7['storage'])['set'](_0x7df46),_0x3df0f7['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x7df46['length'],'indexed':!(0x26e*0x1+-0x9*0x28c+-0x2*-0xa3f)},this['indexBuffe'+'r'][$r]=_0x3df0f7;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0xf65a17,_0x2a0c2d){return _0xf65a17 instanceof Function?_0xf65a17:_0x1de0a2=>{let _0x1397d6=_0x1de0a2[_0xf65a17];return _0x1397d6 instanceof Function&&(_0x1397d6=_0x1397d6()),_0x1397d6===_0x2a0c2d;};}function Sv(_0x18a08c,_0x5d8f78){if(_0x5d8f78(_0x18a08c))return _0x18a08c;const _0x45c71c=_0x18a08c['_children'],_0x55e558=_0x45c71c['length'];for(let _0x1597ba=0x3*-0xc9c+-0x2ac+0x2880;_0x1597ba<_0x55e558;++_0x1597ba){const _0x1ca603=Sv(_0x45c71c[_0x1597ba],_0x5d8f78);if(_0x1ca603)return _0x1ca603;}return null;}class Ie extends me{constructor(_0xc4be4b='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(-0x1ce9+0x3b*-0x1f+0x11*0x21f,0x7*0xe3+-0x1b71*-0x1+-0x21a5,0x1*-0x23e3+-0x9*-0x2e7+0x9c5)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0x2*-0x1296+-0x443*0x7+0x1*-0x756)),h(this,'_aabbVer',-0x207*-0x2+0x6*-0x429+-0x14e8*-0x1),h(this,'_frozen',!(-0x2067+-0x10ed+-0xad*-0x49)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0xe5c+0x6*0x59e+-0x300f)),h(this,'_worldScal'+'eSign',0x135e+-0x1a2a+-0x6*-0x122),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(0xb7b+0xbb9*-0x2+0x3fd*0x3)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x1a3c+0x45f+0x15dd),h(this,'_enabled',!(-0x1f58+-0x5d9*0x6+0x16*0x305)),h(this,'_enabledIn'+'Hierarchy',!(-0x1*-0xd85+0x12*-0x117+-0x16*-0x47)),h(this,'scaleCompe'+'nsation',!(-0x1*0x1b05+0x11*-0x205+-0x8b*-0x71)),this['name']=_0xc4be4b;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1fd8+-0xc43+-0x1*-0x2c1c));}get['normalMatr'+'ix'](){const _0xd3fc55=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0xd3fc55['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x11*-0x1f1+-0x1f78+-0x188)),_0xd3fc55;}set['enabled'](_0xa1f8d3){var _0x553630;this['_enabled']!==_0xa1f8d3&&(this['_enabled']=_0xa1f8d3,(_0xa1f8d3&&((_0x553630=this['_parent'])!=null&&_0x553630['enabled'])||!_0xa1f8d3)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0xa1f8d3));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x2b3fc5=this['_parent'];if(!_0x2b3fc5)return'';let _0x110baf=this['name'];for(;_0x2b3fc5&&_0x2b3fc5['_parent'];)_0x110baf=_0x2b3fc5['name']+'/'+_0x110baf,_0x2b3fc5=_0x2b3fc5['_parent'];return _0x110baf;}get['root'](){let _0x59e63b=this;for(;_0x59e63b['_parent'];)_0x59e63b=_0x59e63b['_parent'];return _0x59e63b;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0xde364b,_0x21b9a5){_0xde364b['_onHierarc'+'hyStateCha'+'nged'](_0x21b9a5);const _0x221615=_0xde364b['_children'];for(let _0x133760=-0x214c+-0x29*-0xe5+-0x361,_0x3938ce=_0x221615['length'];_0x133760<_0x3938ce;_0x133760++)_0x221615[_0x133760]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x221615[_0x133760],_0x21b9a5);}['_onHierarc'+'hyStateCha'+'nged'](_0xc17ce1){this['_enabledIn'+'Hierarchy']=_0xc17ce1,_0xc17ce1&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x2fc6da){_0x2fc6da['name']=this['name'];const _0x442c91=this['tags']['_list'];_0x2fc6da['tags']['clear']();for(let _0x2743ff=0x65*-0x8+0x1401+-0x10d9;_0x2743ff<_0x442c91['length'];_0x2743ff++)_0x2fc6da['tags']['add'](_0x442c91[_0x2743ff]);_0x2fc6da['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x2fc6da['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x2fc6da['localScale']['copy'](this['localScale']),_0x2fc6da['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x2fc6da['position']['copy'](this['position']),_0x2fc6da['rotation']['copy'](this['rotation']),_0x2fc6da['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x2fc6da['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x2fc6da['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x2fc6da['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x2fc6da['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x2fc6da['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x2fc6da['_aabbVer']=this['_aabbVer']+(-0x800+-0xd6*0x1d+0x203f*0x1),_0x2fc6da['_enabled']=this['_enabled'],_0x2fc6da['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x2fc6da['_enabledIn'+'Hierarchy']=!(-0x14f2+0x487*0x7+0xb*-0xfa);}['clone'](){const _0x3212e5=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x3212e5),_0x3212e5;}['copy'](_0x5b8de4){return _0x5b8de4['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x21b522=this['_children'];for(;_0x21b522['length'];){const _0x173d2c=_0x21b522['pop']();_0x173d2c['_parent']=null,_0x173d2c['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x2f4b41,_0x13196){const _0x4313dd=[],_0x5a0d80=b_(_0x2f4b41,_0x13196);return this['forEach'](_0x1c5a0f=>{_0x5a0d80(_0x1c5a0f)&&_0x4313dd['push'](_0x1c5a0f);}),_0x4313dd;}['findOne'](_0x161bab,_0x3510d4){const _0x7d115d=b_(_0x161bab,_0x3510d4);return Sv(this,_0x7d115d);}['findByTag'](..._0x213bfd){const _0x18cf38=[],_0x217506=(_0x5cb93d,_0x293182)=>{_0x293182&&_0x5cb93d['tags']['has'](..._0x213bfd)&&_0x18cf38['push'](_0x5cb93d);for(let _0x212b34=0xe22+-0x7*0x3d9+0xccd;_0x212b34<_0x5cb93d['_children']['length'];_0x212b34++)_0x217506(_0x5cb93d['_children'][_0x212b34],!(-0x1c8f+-0x7f8+0x2487));};return _0x217506(this,!(0x8c*0x6+-0x86+-0x2c1)),_0x18cf38;}['findByName'](_0x95afc6){return this['findOne']('name',_0x95afc6);}['findByPath'](_0x54240f){const _0x50f647=Array['isArray'](_0x54240f)?_0x54240f:_0x54240f['split']('/');let _0x504a84=this;for(let _0x27e933=0xa7*-0x1d+0x3e0+0xf0b,_0x5ea8ac=_0x50f647['length'];_0x27e933<_0x5ea8ac;++_0x27e933)if(_0x504a84=_0x504a84['children']['find'](_0x1d07a0=>_0x1d07a0['name']===_0x50f647[_0x27e933]),!_0x504a84)return null;return _0x504a84;}['forEach'](_0x45ea92,_0x419e6b){_0x45ea92['call'](_0x419e6b,this);const _0x3bab89=this['_children'],_0x4591f2=_0x3bab89['length'];for(let _0xa9bbc7=0x600+-0xd*-0x8b+-0xd0f;_0xa9bbc7<_0x4591f2;++_0xa9bbc7)_0x3bab89[_0xa9bbc7]['forEach'](_0x45ea92,_0x419e6b);}['isDescenda'+'ntOf'](_0x4e4458){let _0x1cf11b=this['_parent'];for(;_0x1cf11b;){if(_0x1cf11b===_0x4e4458)return!(-0xadb+0x1fc+0x8df*0x1);_0x1cf11b=_0x1cf11b['_parent'];}return!(0x23e9+-0x2*-0x1005+0xb53*-0x6);}['isAncestor'+'Of'](_0x5317db){return _0x5317db['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x2539+0x15a2+0xf98)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x193*-0xd+-0x269+0x1*-0x120e&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x4b3bea;(_0x4b3bea=this['_parent'])==null||_0x4b3bea['removeChil'+'d'](this);}['reparent'](_0x2198e5,_0x2fba41){this['remove'](),_0x2198e5&&(_0x2fba41>=-0x2a5*0xe+-0x1517*0x1+-0x30f*-0x13?_0x2198e5['insertChil'+'d'](this,_0x2fba41):_0x2198e5['addChild'](this));}['setLocalEu'+'lerAngles'](_0x3682fb,_0x2f4db5,_0x2cad03){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3682fb,_0x2f4db5,_0x2cad03),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x1d6971,_0x4b4994,_0x15150a){_0x1d6971 instanceof D?this['localPosit'+'ion']['copy'](_0x1d6971):this['localPosit'+'ion']['set'](_0x1d6971,_0x4b4994,_0x15150a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x46b2a7,_0x370b7b,_0x28a285,_0x576827){_0x46b2a7 instanceof le?this['localRotat'+'ion']['copy'](_0x46b2a7):this['localRotat'+'ion']['set'](_0x46b2a7,_0x370b7b,_0x28a285,_0x576827),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x27abff,_0x567388,_0x14214a){_0x27abff instanceof D?this['localScale']['copy'](_0x27abff):this['localScale']['set'](_0x27abff,_0x567388,_0x14214a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1361+-0x4*-0x35f+0x5e5),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x4aaa8e=this['_parent'];for(;_0x4aaa8e;)_0x4aaa8e['_frozen']=!(0x16ae+-0x37*0x13+-0x1298),_0x4aaa8e=_0x4aaa8e['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1be4+-0xa7b+0x1*-0x1168),this['_dirtyWorl'+'d']=!(0x2055+0x715*-0x2+0x1*-0x122b);for(let _0xcd6534=-0x14e8+-0xc08+0x20f0;_0xcd6534<this['_children']['length'];_0xcd6534++)this['_children'][_0xcd6534]['_dirtyWorl'+'d']||this['_children'][_0xcd6534]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1*0xa9a+-0x7cb+-0x2cf),this['_worldScal'+'eSign']=-0x2*0x99d+0x28e*-0x1+0xae4*0x2,this['_aabbVer']++;}['setPositio'+'n'](_0x32b395,_0x2dd80f,_0x529adc){_0x32b395 instanceof D?rs['copy'](_0x32b395):rs['set'](_0x32b395,_0x2dd80f,_0x529adc),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x375844,_0x274069,_0x55b4f1,_0x2c68d3){if(_0x375844 instanceof le?as['copy'](_0x375844):as['set'](_0x375844,_0x274069,_0x55b4f1,_0x2c68d3),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x22bd59=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x22bd59)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x38c541,_0x529ce4){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x38c541),this['localRotat'+'ion']['copy'](_0x529ce4);else{const _0x34000f=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x34000f)['invert'](),ro['transformP'+'oint'](_0x38c541,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x529ce4);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x110412,_0x1f83e7,_0x339b7b){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x110412,_0x1f83e7,_0x339b7b),this['_parent']!==null){const _0x257ef2=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x257ef2)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x327250){this['_prepareIn'+'sertChild'](_0x327250),this['_children']['push'](_0x327250),this['_onInsertC'+'hild'](_0x327250);}['addChildAn'+'dSaveTrans'+'form'](_0x39427c){const _0x41fe82=_0x39427c['getPositio'+'n'](),_0x18f9ce=_0x39427c['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x39427c),_0x39427c['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x41fe82)),_0x39427c['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x18f9ce)),this['_children']['push'](_0x39427c),this['_onInsertC'+'hild'](_0x39427c);}['insertChil'+'d'](_0x4f2eef,_0x46b905){this['_prepareIn'+'sertChild'](_0x4f2eef),this['_children']['splice'](_0x46b905,-0x3*-0xc9b+-0x95f+-0x1*0x1c72,_0x4f2eef),this['_onInsertC'+'hild'](_0x4f2eef);}['_prepareIn'+'sertChild'](_0x272772){_0x272772['remove'](),w['assert'](_0x272772!==this,'GraphNode\x20'+(_0x272772==null?void(-0x116*0x17+-0x7ba+0x20b4):_0x272772['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x272772),'GraphNode\x20'+(_0x272772==null?void(0x526*-0x4+-0xe7d*0x1+0x2315):_0x272772['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x412838,_0x2f8213,_0x2f2c2c){this['fire'](_0x412838,_0x2f2c2c);for(let _0x4ad121=0x16a*0x1+-0x1*-0x168c+-0x17f6*0x1;_0x4ad121<this['_children']['length'];_0x4ad121++)this['_children'][_0x4ad121]['_fireOnHie'+'rarchy'](_0x2f8213,_0x2f8213,_0x2f2c2c);}['_onInsertC'+'hild'](_0x301c98){_0x301c98['_parent']=this;const _0x1e1040=_0x301c98['_enabled']&&this['enabled'];_0x301c98['_enabledIn'+'Hierarchy']!==_0x1e1040&&(_0x301c98['_enabledIn'+'Hierarchy']=_0x1e1040,_0x301c98['_notifyHie'+'rarchyStat'+'eChanged'](_0x301c98,_0x1e1040)),_0x301c98['_updateGra'+'phDepth'](),_0x301c98['_dirtifyWo'+'rld'](),this['_frozen']&&_0x301c98['_unfreezeP'+'arentToRoo'+'t'](),_0x301c98['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x301c98);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x958+-0x1*-0x197f+-0x22d6):0x1c1a+0x1c53+-0x386d;for(let _0x52a197=0x114d+-0x1*0x1138+-0x15*0x1,_0x158313=this['_children']['length'];_0x52a197<_0x158313;_0x52a197++)this['_children'][_0x52a197]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x1f057e){const _0xc6290a=this['_children']['indexOf'](_0x1f057e);_0xc6290a!==-(-0x1ddf*-0x1+0x172e+-0x350c)&&(this['_children']['splice'](_0xc6290a,0x1372+-0x1610+0x29f),_0x1f057e['_parent']=null,_0x1f057e['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x1f057e));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0xefd*0x1+0x7c1+-0x11*-0x6d)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x1071f5;const _0x543c92=this['_parent'];let _0x417e41=this['localScale'],_0x2ac3a7=_0x543c92;if(_0x2ac3a7){for(;_0x2ac3a7&&_0x2ac3a7['scaleCompe'+'nsation'];)_0x2ac3a7=_0x2ac3a7['_parent'];_0x2ac3a7&&(_0x2ac3a7=_0x2ac3a7['_parent'],_0x2ac3a7&&(_0x1071f5=_0x2ac3a7['worldTrans'+'form']['getScale'](),T_['mul2'](_0x1071f5,this['localScale']),_0x417e41=T_));}Wd['setFromMat'+'4'](_0x543c92['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x2e7c00=_0x543c92['worldTrans'+'form'];_0x543c92['scaleCompe'+'nsation']&&(w_['mul2'](_0x1071f5,_0x543c92['getLocalSc'+'ale']()),v_['setTRS'](_0x543c92['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x2e7c00=v_),_0x2e7c00['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x417e41);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1*0xf94+0x1563*0x1+-0x5ce*0x1);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x2*-0x1319+-0x1*0x5a7+0x2bd9),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x2d3412=this['_children'];for(let _0x539dab=-0x245b+0x19eb*-0x1+0x6*0xa61,_0x1e5d80=_0x2d3412['length'];_0x539dab<_0x1e5d80;_0x539dab++)_0x2d3412[_0x539dab]['syncHierar'+'chy']();}['lookAt'](_0x4ccc6a,_0x31b1f4,_0xeaab4f,_0x45151b=0xc35*0x1+0xbff+-0x1834,_0x16271b=-0x42d+0x1*0x132d+-0xeff,_0x4804aa=0xb44+0x1e52+0x2996*-0x1){if(_0x4ccc6a instanceof D)$d['copy'](_0x4ccc6a),_0x31b1f4 instanceof D?tc['copy'](_0x31b1f4):tc['copy'](D['UP']);else{if(_0xeaab4f===void(0xb70+-0x1785+0xc15*0x1))return;$d['set'](_0x4ccc6a,_0x31b1f4,_0xeaab4f),tc['set'](_0x45151b,_0x16271b,_0x4804aa);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x39db66,_0x4e9e8c,_0x2c8421){_0x39db66 instanceof D?rs['copy'](_0x39db66):rs['set'](_0x39db66,_0x4e9e8c,_0x2c8421),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x2baa9f,_0x524262,_0x1ef2eb){_0x2baa9f instanceof D?rs['copy'](_0x2baa9f):rs['set'](_0x2baa9f,_0x524262,_0x1ef2eb),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x2a2b3c,_0x19f2da,_0x4b1e47){if(as['setFromEul'+'erAngles'](_0x2a2b3c,_0x19f2da,_0x4b1e47),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x2afc66=this['getRotatio'+'n'](),_0x4607c8=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x4607c8)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x2afc66);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x267212,_0x589d4c,_0x3e371a){as['setFromEul'+'erAngles'](_0x267212,_0x589d4c,_0x3e371a),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x52034f){const _0x26e788=yv['get'](_0x52034f);return w['assert'](_0x26e788),_0x26e788;}function xE(_0x796fef,_0x1521ef){w['assert'](_0x1521ef),yv['get'](_0x796fef,()=>_0x1521ef);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x123c5d,_0x205806)=>{_0x205806['destroy']();}),this['cache']['clear']();}['incRef'](_0xc0e8f5){const _0x2015a8=(this['cache']['get'](_0xc0e8f5)||-0x2c*0x37+-0xaf4+0x1468)+(-0x7cf+-0x48b+-0xc5b*-0x1);this['cache']['set'](_0xc0e8f5,_0x2015a8);}['decRef'](_0x4de935){if(_0x4de935){let _0x43a9c9=this['cache']['get'](_0x4de935);_0x43a9c9&&(_0x43a9c9--,_0x43a9c9===0x20df+-0xd*-0x16d+-0x5*0xa48?(this['cache']['delete'](_0x4de935),_0x4de935['destroy']()):this['cache']['set'](_0x4de935,_0x43a9c9));}}}class zi{static['incRef'](_0x1b9fdd){this['cache']['incRef'](_0x1b9fdd);}static['decRef'](_0x49019e){this['cache']['decRef'](_0x49019e);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x200e*0x1+0x227e+-0x270;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0x77f+0x157f+-0xdfc);class bE{constructor(_0x20aa5c){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x8cc+-0xfbc+0x1*0x1889)),this['count']=_0x20aa5c;}['destroy'](){var _0x4322ab;this['_destroyVe'+'rtexBuffer']&&((_0x4322ab=this['vertexBuff'+'er'])==null||_0x4322ab['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x314+0x1a39+-0x1721));}['get'](_0x1ae9b3){return this['map']['get'](_0x1ae9b3)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x4d5103){if(!this['bindGroup']){const _0x19f7ff=this['shader'];w['assert'](_0x19f7ff);const _0x41571a=_0x19f7ff['meshBindGr'+'oupFormat'];w['assert'](_0x41571a),this['bindGroup']=new Up(_0x4d5103,_0x41571a),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0xaf7dcd){if(!this['uniformBuf'+'fer']){const _0x2c1bcb=this['shader'];w['assert'](_0x2c1bcb);const _0x215a64=_0x2c1bcb['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x215a64),this['uniformBuf'+'fer']=new zp(_0xaf7dcd,_0x215a64,!(0x30*-0x5e+-0x3*0x219+0x17ec));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x26bb4f,_0x2152f2;(_0x26bb4f=this['bindGroup'])==null||_0x26bb4f['destroy'](),this['bindGroup']=null,(_0x2152f2=this['uniformBuf'+'fer'])==null||_0x2152f2['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x538a9e,_0x4536b0,_0x360526=null){h(this,'castShadow',!(0x12f1+-0xdf1+0x4ff*-0x1)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0x5*-0x5d9+0x18c9+0x474)),h(this,'drawOrder',-0x671+-0x34+-0x3*-0x237),h(this,'_drawBucke'+'t',0x15*-0x8c+0x26f5*-0x1+0x518*0xa),h(this,'node'),h(this,'visible',!(-0x2f*0x67+-0x1cc3+0x24*0x153)),h(this,'visibleThi'+'sFrame',!(0x1e85*-0x1+-0x3e*-0xa0+-0x83a)),h(this,'flipFacesF'+'actor',0x13*0x6d+0x2195+-0x29ab),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x29+0x2*-0xbaa+0x172b)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x1b52*0x1+-0x174d+-0x404)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x61*-0x55+-0x4a*-0x1+-0x207e)),h(this,'_aabbMeshV'+'er',-(-0x381+0x1950+-0x15ce)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0x979+0x1b67+0x3b0*-0xa)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x26a+-0x16be+-0x4*-0x515),h(this,'_sortKeyFo'+'rward',-0xf3*-0x1+0x1d37*0x1+-0x1e2a),h(this,'_sortKeyDy'+'namic',-0x10e*0x3+0x73b+-0x411),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x7*-0x43a+-0x2014+0x3daa)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x10*-0x1f7+-0x2665*0x1+0x2*0x22eb)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x59d*-0x4+-0x125*0x11+-0x2ef),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x538a9e instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x360526,this['_mesh']=_0x538a9e,_0x538a9e['incRefCoun'+'t'](),this['material']=_0x4536b0,_0x538a9e['vertexBuff'+'er']){const _0x464c21=_0x538a9e['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x464c21['hasUv0']?nm:-0x1fa+0x2269*-0x1+0x9*0x40b,this['_shaderDef'+'s']|=_0x464c21['hasUv1']?dv:0x617*0x1+0x239*0xb+0x2*-0xf45,this['_shaderDef'+'s']|=_0x464c21['hasColor']?fv:-0x2642+-0x13aa+0x39ec,this['_shaderDef'+'s']|=_0x464c21['hasTangent'+'s']?om:0x102*-0x1c+-0x209*0x2+0x1*0x204a;}this['updateKey']();}set['drawBucket'](_0x2deaa1){this['_drawBucke'+'t']=Math['floor'](_0x2deaa1)&0x55*0xe+-0x178d*-0x1+-0x1b34,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x2fd787){this['_renderSty'+'le']=_0x2fd787,this['mesh']['prepareRen'+'derState'](_0x2fd787);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x45ee83){_0x45ee83!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x45ee83,_0x45ee83&&_0x45ee83['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x1a2a16){this['_aabb']=_0x1a2a16;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0xa4c86c=this['_customAab'+'b'],_0x529b5e=!!_0xa4c86c;if(!_0xa4c86c){if(_0xa4c86c=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x31fcdd=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x31fcdd);}const _0x398d1c=this['mesh']['boneUsed'];let _0x694318=!(0x723+-0x1ae5+0x13c2);for(let _0x281fde=0x2*-0xba3+-0x2*-0x524+0xcfe;_0x281fde<this['mesh']['boneAabb']['length'];_0x281fde++)_0x398d1c[_0x281fde]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x281fde],this['skinInstan'+'ce']['matrices'][_0x281fde]),_0x694318?(_0x694318=!(0x91*0x38+-0x73*0x56+0xa1*0xb),_0xa4c86c['center']['copy'](sc['center']),_0xa4c86c['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0xa4c86c['add'](sc));_0x529b5e=!(-0x457+-0x1*0x815+0xc6c);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0xa4c86c['center']['copy'](this['mesh']['aabb']['center']),_0xa4c86c['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0xa4c86c['center']['set'](0x4*0x628+0x1236+-0x2ad6,0x1727+-0x1*-0x1e06+-0x352d*0x1,0x346+-0x27*0x9+-0x1e7),_0xa4c86c['halfExtent'+'s']['set'](-0x22a*-0xc+-0x1*0x819+0x4b*-0x3d,0x2038*0x1+0x20d3*-0x1+0x9b,0x32d*-0x3+-0x2b+0x92*0x11)),this['mesh']&&this['mesh']['morph']){const _0x3b7f53=this['mesh']['morph']['aabb'];_0xa4c86c['_expand'](_0x3b7f53['getMin'](),_0x3b7f53['getMax']());}_0x529b5e=!(0x12a+-0x12a*-0x1+0x2*-0x12a),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x529b5e&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0xa4c86c,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x2dfa6e=>{_0x2dfa6e['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x47b885,_0x5da96f,_0xc86230,_0x4e06b9,_0x4ee8f3,_0x8b721f,_0x16e4a9){var _0x1999b5;const _0x44bd85=this['_shaderDef'+'s'];Rr[-0x9*0x21+0x1b4+-0x8b]=_0x47b885,Rr[-0x1*-0x114b+0x1d52+-0x9d*0x4c]=_0x5da96f,Rr[-0x7d*-0x15+0x1b85+-0x1*0x25c4]=_0x44bd85,Rr[0xa68+0x91c+0x1381*-0x1]=_0x4e06b9['hash'];const _0x1a94fb=By(Rr);let _0x3a6b2e=this['_shaderCac'+'he']['get'](_0x1a94fb);if(!_0x3a6b2e){const _0x22e965=this['_material'];if(_0x3a6b2e=new CE(),_0x3a6b2e['shader']=_0x22e965['variants']['get'](_0x1a94fb),_0x3a6b2e['hashes']=new Uint32Array(Rr),!_0x3a6b2e['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x13ac77=_0x22e965['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0xc86230,'objDefs':_0x44bd85,'cameraShaderParams':_0x4e06b9,'pass':_0x47b885,'sortedLights':_0x16e4a9,'viewUniformFormat':_0x4ee8f3,'viewBindGroupFormat':_0x8b721f,'vertexFormat':(_0x1999b5=this['mesh']['vertexBuff'+'er'])==null?void(-0xcca+-0xd92+-0x697*-0x4):_0x1999b5['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x22e965['variants']['set'](_0x1a94fb,_0x13ac77),_0x3a6b2e['shader']=_0x13ac77;}this['_shaderCac'+'he']['set'](_0x1a94fb,_0x3a6b2e);}return w['call'](()=>{IT['equals'](_0x3a6b2e['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x3a6b2e;}set['material'](_0x2a4d17){this['clearShade'+'rs']();const _0x5d34f3=this['_material'];_0x5d34f3&&_0x5d34f3['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x2a4d17,_0x2a4d17&&(_0x2a4d17['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x2a4d17['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x320728){_0x320728!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x320728,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x2a2937){this['_calculate'+'SortDistan'+'ce']=_0x2a2937;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x18e889){this['_receiveSh'+'adow']!==_0x18e889&&(this['_receiveSh'+'adow']=_0x18e889,this['_updateSha'+'derDefs'](_0x18e889?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x526ded){this['_updateSha'+'derDefs'](_0x526ded?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x65f*0x1+0x1f8*-0x8+-0x161f*-0x1;}set['skinInstan'+'ce'](_0x47ac52){this['_skinInsta'+'nce']=_0x47ac52,this['_updateSha'+'derDefs'](_0x47ac52?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x34d2c0){var _0xa0e12b;(_0xa0e12b=this['_morphInst'+'ance'])==null||_0xa0e12b['destroy'](),this['_morphInst'+'ance']=_0x34d2c0;let _0x112c5b=this['_shaderDef'+'s'];_0x112c5b=_0x34d2c0&&_0x34d2c0['morph']['morphPosit'+'ions']?_0x112c5b|ll:_0x112c5b&~ll,_0x112c5b=_0x34d2c0&&_0x34d2c0['morph']['morphNorma'+'ls']?_0x112c5b|cl:_0x112c5b&~cl,_0x112c5b=_0x34d2c0&&_0x34d2c0['morph']['intRenderF'+'ormat']?_0x112c5b|hl:_0x112c5b&~hl,this['_updateSha'+'derDefs'](_0x112c5b);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x130b02){this['_screenSpa'+'ce']!==_0x130b02&&(this['_screenSpa'+'ce']=_0x130b02,this['_updateSha'+'derDefs'](_0x130b02?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x4d4675){this['_sortKeyFo'+'rward']=_0x4d4675;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x290d77){const _0x30da00=this['_shaderDef'+'s']&0xab6f*-0x1+0x4aac+-0x2*-0xb061;this['_updateSha'+'derDefs'](_0x30da00|_0x290d77<<-0xc9c*-0x1+0x66*-0xe+0x1*-0x6f8);}get['mask'](){return this['_shaderDef'+'s']>>-0x1c37+0x1*0x971+0x12d6;}set['instancing'+'Count'](_0x303003){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x303003);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0xf*-0xe3+0x2161+-0x1414;}['destroy'](){var _0x35b3e9,_0x2de362,_0x5a4729;const _0x26bf12=this['mesh'];_0x26bf12&&(this['mesh']=null,_0x26bf12['refCount']<-0x19*0xaf+-0xf*-0x253+0x1*-0x11c5&&_0x26bf12['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x5cf*0x1+0x1273*-0x1+0xcf*0x1e],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x7*-0x47c+0x24da+-0x443d],null),(_0x35b3e9=this['_skinInsta'+'nce'])==null||_0x35b3e9['destroy'](),this['_skinInsta'+'nce']=null,(_0x2de362=this['morphInsta'+'nce'])==null||_0x2de362['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x5a4729=this['instancing'+'Data'])==null||_0x5a4729['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x23d313,_0x120302){if(_0x23d313){for(let _0x68b221=0x6cc+0x63*-0x7+0x15d*-0x3;_0x68b221<_0x23d313['length'];_0x68b221++){_0x23d313[_0x68b221]['_renderSty'+'le']=_0x120302;const _0x19c720=_0x23d313[_0x68b221]['mesh'];qd['has'](_0x19c720)||(qd['add'](_0x19c720),_0x19c720['prepareRen'+'derState'](_0x120302));}qd['clear']();}}['_isVisible'](_0x32d675){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x32d675):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x32d675['frustum']['containsSp'+'here'](Xd)>0x5*0x72a+0x11ad+0x19f*-0x21):!(0x1*-0x19ef+0x2*0x100b+0x313*-0x2);}['updateKey'](){const {material:_0x474a5a}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x10*0x77+0xcaf+-0x528|(_0x474a5a['alphaToCov'+'erage']||_0x474a5a['alphaTest']?0x60d226+-0x47e502+0x1*0x2712dc:0x89*0x27+0xc5*0x1+-0x15a4)|_0x474a5a['id']&0x4723f7*0x1+0xe*0x7956e+-0x714ffc;}['setInstanc'+'ing'](_0x5ea009,_0x4cd764=!(-0x1*-0x80e+0x1aa*-0x5+-0x1*-0x45)){_0x5ea009?(this['instancing'+'Data']=new bE(_0x5ea009['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x5ea009,_0x5ea009['format']['instancing']=!(0x2061+-0xa78+-0x15e9),this['cull']=_0x4cd764):(this['instancing'+'Data']=null,this['cull']=!(-0x1*0x2624+0x88e+0x1d96)),this['_updateSha'+'derDefs'](_0x5ea009?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x3d7c87,_0x42938a){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x3d7c87==null?void(0x24db+-0x210e+-0x3cd):_0x3d7c87['camera'])??null,_0x42938a),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x17482c;this['_allocIndi'+'rectData']();const _0x9ff7e6=(_0x17482c=this['mesh'])==null?void(-0x26d1+0x1759+0x21*0x78):_0x17482c['primitive'][this['renderStyl'+'e']],_0x227707=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x227707[-0x23ee*-0x1+0x11ed*-0x1+-0x1201*0x1]=_0x9ff7e6['count'],_0x227707[0x49*-0x3a+-0x7b8+-0x1843*-0x1]=_0x9ff7e6['base'],_0x227707[0x18bc+0xda5+-0x13*0x205]=_0x9ff7e6['baseVertex'],_0x227707;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x424889){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x424889));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x2c795c){return this['parameters'][_0x2c795c];}['setParamet'+'er'](_0x1f2a6c,_0x7753d6,_0x337534=0xc8b1ee23+-0x3*0xa19f4421+0x21c2bde3f){const _0x464736=this['parameters'][_0x1f2a6c];_0x464736?(_0x464736['data']=_0x7753d6,_0x464736['passFlags']=_0x337534):this['parameters'][_0x1f2a6c]={'scopeId':null,'data':_0x7753d6,'passFlags':_0x337534};}['setRealtim'+'eLightmap'](_0x41b981,_0x3dd207){const _0x53644a=this['getParamet'+'er'](_0x41b981);_0x53644a!==_0x3dd207&&(_0x53644a&&zi['decRef'](_0x53644a['data']),_0x3dd207?(zi['incRef'](_0x3dd207),this['setParamet'+'er'](_0x41b981,_0x3dd207)):this['deletePara'+'meter'](_0x41b981));}['deletePara'+'meter'](_0x4d3327){this['parameters'][_0x4d3327]&&delete this['parameters'][_0x4d3327];}['setParamet'+'ers'](_0x4d3ff1,_0x263b47){const _0x31f7d5=this['parameters'];for(const _0x336acd in _0x31f7d5){const _0x4b66f6=_0x31f7d5[_0x336acd];_0x4b66f6['passFlags']&_0x263b47&&(_0x4b66f6['scopeId']||(_0x4b66f6['scopeId']=_0x4d3ff1['scope']['resolve'](_0x336acd)),_0x4b66f6['scopeId']['setValue'](_0x4b66f6['data']));}}['setLightma'+'pped'](_0x555e44){_0x555e44?this['mask']=(this['mask']|di)&-(0x566*0x1+-0x79*-0x17+0x103f*-0x1):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x172c+0x51*-0x4c+0x2f38],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x25e5+-0xa*-0x72+-0x2a58],null),this['_shaderDef'+'s']&=-(0x1*-0x1f5f+-0x1*0x1245+0x4265),this['mask']=(this['mask']|Ss)&-(-0x53*0x43+0x24d2+0x1*-0xf12));}['setCustomA'+'abb'](_0x24241c){_0x24241c?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x24241c):this['_customAab'+'b']=_0x24241c['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x2*0x102e+-0x17*0x139+0x4*-0x10f)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0x1*-0x3e5+0x101a+-0x13ff,-0xa82*-0x2+0x1cb2+-0x31b5,-0x1*0x688+-0x1ce7+0x2372,-0x1*0x133+0x22ba+-0x2185,0x4d*0x7d+0x11f*0xb+-0x31eb,-0x57b*-0x1+-0x2273*-0x1+-0x27ed],ME=[-0x1*0x2026+-0x1*0x1a11+0x3a37,-0x2d3+0x1c0e+-0x193a,0x105+0x17*0xfe+0x4*-0x5f5,-0x964*0x3+0x950+0x12dc,-0x1*0xda9+0x195d+-0x49*0x29,-0x22*0x8e+0x1*-0x2510+0x37ee],A_=new _i();function C_(_0x24e648,_0x262dbc){if(_0x24e648&&!_0x262dbc||!_0x24e648&&_0x262dbc)return!(0x10b1*-0x1+-0x17b*-0x2+0xdbc);if(_0x24e648=_0x24e648['data'],_0x262dbc=_0x262dbc['data'],_0x24e648===_0x262dbc)return!(0x2212+0x1ca4+0x2e*-0x15d);if(_0x24e648 instanceof Float32Array&&_0x262dbc instanceof Float32Array){if(_0x24e648['length']!==_0x262dbc['length'])return!(-0x1351+0xab5*0x1+-0x2df*-0x3);for(let _0x8be704=0x1fe9+0xfe9+0x1*-0x2fd2;_0x8be704<_0x24e648['length'];_0x8be704++)if(_0x24e648[_0x8be704]!==_0x262dbc[_0x8be704])return!(0x235c+-0x240b+0xb0);return!(0x2261+-0x9c7+-0x189a);}return!(0xf98+0x192f+-0x22*0x133);}function DE(_0x9eea98,_0x2433ba){for(const _0x4c77a6 in _0x9eea98)if(_0x9eea98['hasOwnProp'+'erty'](_0x4c77a6)&&!C_(_0x9eea98[_0x4c77a6],_0x2433ba[_0x4c77a6]))return!(0x1*0xbff+-0x1ee6+0x12e8);for(const _0x1d6b73 in _0x2433ba)if(_0x2433ba['hasOwnProp'+'erty'](_0x1d6b73)&&!C_(_0x2433ba[_0x1d6b73],_0x9eea98[_0x1d6b73]))return!(-0x1dfc+0xfdd*-0x2+0x3db7);return!(-0x1d22+0xdee*-0x1+-0x2b10*-0x1);}function jd(_0x53bee2){return _0x53bee2['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x2dc4cb,_0x25026a,_0x406df5){this['device']=_0x2dc4cb,this['rootNode']=_0x25026a,this['scene']=_0x406df5,this['_init']=!(0x5d3*-0x1+0x1d60*-0x1+0xc*0x2ef),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x8bb+0x4*0x7bb+-0x1*0x27a7,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x15b3b7,_0x438cb7,_0x5eedfc,_0x4f1dc9,_0x49009f){if(_0x4f1dc9===void(-0x11d*-0x1d+0x240c+0x4455*-0x1)&&(_0x4f1dc9=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x4f1dc9]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4f1dc9+('\x20already\x20e'+'xists.'));return;}const _0x3a76b3=new St(_0x4f1dc9,_0x15b3b7,_0x438cb7,_0x5eedfc,_0x49009f);return this['_batchGrou'+'ps'][_0x4f1dc9]=_0x3a76b3,_0x3a76b3;}['removeGrou'+'p'](_0x181dbd){if(!this['_batchGrou'+'ps'][_0x181dbd]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x181dbd+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x38706f=[];for(let _0x4860f7=-0x2075+-0x2*-0x1121+0x1cd*-0x1;_0x4860f7<this['_batchList']['length'];_0x4860f7++)this['_batchList'][_0x4860f7]['batchGroup'+'Id']===_0x181dbd?this['destroyBat'+'ch'](this['_batchList'][_0x4860f7]):_0x38706f['push'](this['_batchList'][_0x4860f7]);this['_batchList']=_0x38706f,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x181dbd),delete this['_batchGrou'+'ps'][_0x181dbd];}['markGroupD'+'irty'](_0x5c12b4){this['_dirtyGrou'+'ps']['indexOf'](_0x5c12b4)<-0x1f*-0xea+0xc7f*-0x2+-0x358&&this['_dirtyGrou'+'ps']['push'](_0x5c12b4);}['getGroupBy'+'Name'](_0x9d9eb2){const _0x1b73df=this['_batchGrou'+'ps'];for(const _0x14602c in _0x1b73df)if(_0x1b73df['hasOwnProp'+'erty'](_0x14602c)&&_0x1b73df[_0x14602c]['name']===_0x9d9eb2)return _0x1b73df[_0x14602c];return null;}['getBatches'](_0x53639c){const _0x523887=[],_0x36aee7=this['_batchList']['length'];for(let _0x15a8ab=0x1*-0xd2b+0x2369+-0x163e;_0x15a8ab<_0x36aee7;_0x15a8ab++){const _0x19d47f=this['_batchList'][_0x15a8ab];_0x19d47f['batchGroup'+'Id']===_0x53639c&&_0x523887['push'](_0x19d47f);}return _0x523887;}['_removeMod'+'elsFromBat'+'chGroup'](_0x39c535,_0xbc00a3){if(_0x39c535['enabled']){_0x39c535['model']&&_0x39c535['model']['batchGroup'+'Id']===_0xbc00a3&&(_0x39c535['model']['batchGroup'+'Id']=-(0x2*-0x391+-0x51+-0x6a*-0x12)),_0x39c535['render']&&_0x39c535['render']['batchGroup'+'Id']===_0xbc00a3&&(_0x39c535['render']['batchGroup'+'Id']=-(-0x99*-0x27+-0x92f+-0x4b5*0x3)),_0x39c535['element']&&_0x39c535['element']['batchGroup'+'Id']===_0xbc00a3&&(_0x39c535['element']['batchGroup'+'Id']=-(-0x6de+0x793*-0x4+-0x252b*-0x1)),_0x39c535['sprite']&&_0x39c535['sprite']['batchGroup'+'Id']===_0xbc00a3&&(_0x39c535['sprite']['batchGroup'+'Id']=-(0x1*-0x1922+-0xdf6+0x2719));for(let _0x1ca438=-0x1eb3+0x3*0x81a+0x665;_0x1ca438<_0x39c535['_children']['length'];_0x1ca438++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x39c535['_children'][_0x1ca438],_0xbc00a3);}}['insert'](_0x353972,_0x5492fa,_0x2f4236){const _0x353b3c=this['_batchGrou'+'ps'][_0x5492fa];w['assert'](_0x353b3c,'Invalid\x20ba'+'tch\x20'+_0x5492fa+'\x20insertion'),_0x353b3c&&_0x353b3c['_obj'][_0x353972]['indexOf'](_0x2f4236)<0x2663+0x1a*-0x114+-0xa5b&&(_0x353b3c['_obj'][_0x353972]['push'](_0x2f4236),this['markGroupD'+'irty'](_0x5492fa));}['remove'](_0x2a669d,_0x352a9c,_0x289aa3){const _0x5e956f=this['_batchGrou'+'ps'][_0x352a9c];if(w['assert'](_0x5e956f,'Invalid\x20ba'+'tch\x20'+_0x352a9c+'\x20insertion'),_0x5e956f){const _0x1f7fa1=_0x5e956f['_obj'][_0x2a669d]['indexOf'](_0x289aa3);_0x1f7fa1>=-0x75f*0x2+0x5*-0x4b1+-0xb*-0x379&&(_0x5e956f['_obj'][_0x2a669d]['splice'](_0x1f7fa1,0x7f3+0x1340+-0x1b32*0x1),this['markGroupD'+'irty'](_0x352a9c));}}['_extractRe'+'nder'](_0x2b1d73,_0x44ccf6,_0x3c316b,_0x11eda6){return _0x2b1d73['render']&&(_0x44ccf6=_0x11eda6[_0x2b1d73['render']['batchGroup'+'Id']]=_0x44ccf6['concat'](_0x2b1d73['render']['meshInstan'+'ces']),_0x2b1d73['render']['removeFrom'+'Layers']()),_0x44ccf6;}['_extractMo'+'del'](_0x4726e3,_0x11f432,_0x50f118,_0x51456c){return _0x4726e3['model']&&_0x4726e3['model']['model']&&(_0x11f432=_0x51456c[_0x4726e3['model']['batchGroup'+'Id']]=_0x11f432['concat'](_0x4726e3['model']['meshInstan'+'ces']),_0x4726e3['model']['removeMode'+'lFromLayer'+'s'](),_0x4726e3['model']['_batchGrou'+'p']=_0x50f118),_0x11f432;}['_extractEl'+'ement'](_0x23e722,_0x55f671,_0x27b891){if(!_0x23e722['element'])return;let _0x20c9a3=!(0x1521+-0x173+-0x49*0x45);_0x23e722['element']['_text']&&_0x23e722['element']['_text']['_model']['meshInstan'+'ces']['length']>0x1fda*0x1+-0xe4*0xe+-0x1362?(_0x55f671['push'](_0x23e722['element']['_text']['_model']['meshInstan'+'ces'][0x1*0x100d+-0x824+-0x7e9]),_0x23e722['element']['removeMode'+'lFromLayer'+'s'](_0x23e722['element']['_text']['_model']),_0x20c9a3=!(0x3*-0x83+-0x1fd6+-0x1*-0x215f)):_0x23e722['element']['_image']&&(_0x55f671['push'](_0x23e722['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x23e722['element']['removeMode'+'lFromLayer'+'s'](_0x23e722['element']['_image']['_renderabl'+'e']['model']),_0x23e722['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x55f671['push'](_0x23e722['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x23e722['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x23e722['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x23e722['element']['_dirtifyMa'+'sk'](),_0x23e722['element']['_onPrerend'+'er']())),_0x20c9a3=!(-0x9a5+-0x3*-0x5bf+-0x1b*0x48)),_0x20c9a3&&(_0x27b891['_ui']=!(0x16e1*0x1+-0x13*-0xe9+-0x282c),_0x23e722['element']['_batchGrou'+'p']=_0x27b891);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x17bfb5,_0x573af7){for(let _0x561370=0x1*-0x1bc9+-0x1*-0x1741+-0x14*-0x3a;_0x561370<_0x573af7['length'];_0x561370++){const _0x2626f7=_0x573af7[_0x561370],_0x40cad4=this['_batchGrou'+'ps'][_0x2626f7];if(!_0x40cad4)continue;let _0x50fbd9=_0x17bfb5[_0x2626f7];_0x50fbd9||(_0x50fbd9=_0x17bfb5[_0x2626f7]=[]);for(let _0xbf6fa8=-0x8e6+-0x1*-0x2cf+-0x617*-0x1;_0xbf6fa8<_0x40cad4['_obj']['model']['length'];_0xbf6fa8++)_0x50fbd9=this['_extractMo'+'del'](_0x40cad4['_obj']['model'][_0xbf6fa8],_0x50fbd9,_0x40cad4,_0x17bfb5);for(let _0x2118f3=0x1a24+0x43a+-0x1e5e;_0x2118f3<_0x40cad4['_obj']['render']['length'];_0x2118f3++)_0x50fbd9=this['_extractRe'+'nder'](_0x40cad4['_obj']['render'][_0x2118f3],_0x50fbd9,_0x40cad4,_0x17bfb5);for(let _0x219df9=-0xc7e+-0x16a+-0xde8*-0x1;_0x219df9<_0x40cad4['_obj']['element']['length'];_0x219df9++)this['_extractEl'+'ement'](_0x40cad4['_obj']['element'][_0x219df9],_0x50fbd9,_0x40cad4);for(let _0x383102=-0x4c2+-0x24ed+-0x1*-0x29af;_0x383102<_0x40cad4['_obj']['sprite']['length'];_0x383102++){const _0xc034b0=_0x40cad4['_obj']['sprite'][_0x383102];_0xc034b0['sprite']&&_0xc034b0['sprite']['_meshInsta'+'nce']&&(_0x40cad4['dynamic']||_0xc034b0['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x50fbd9['push'](_0xc034b0['sprite']['_meshInsta'+'nce']),_0xc034b0['sprite']['removeMode'+'lFromLayer'+'s'](),_0x40cad4['_sprite']=!(-0x12c+-0x1723+0x1*0x184f),_0xc034b0['sprite']['_batchGrou'+'p']=_0x40cad4);}}}['generate'](_0x44800b){const _0x228e5c={};_0x44800b||(_0x44800b=Object['keys'](this['_batchGrou'+'ps']));const _0x1d22f0=[];for(let _0x388709=0x1af1+-0xab6+-0x33f*0x5;_0x388709<this['_batchList']['length'];_0x388709++){if(_0x44800b['indexOf'](this['_batchList'][_0x388709]['batchGroup'+'Id'])<-0x1f06+-0x3*-0x31+0x1e73){_0x1d22f0['push'](this['_batchList'][_0x388709]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x388709]);}if(this['_batchList']=_0x1d22f0,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x228e5c,_0x44800b),_0x44800b===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x8*-0x199+-0x11b9+-0x73*-0xb;else{const _0x55d5d3=[];for(let _0xcbfcf5=0x2b*-0x5f+-0xf1d+-0x1*-0x1f12;_0xcbfcf5<this['_dirtyGrou'+'ps']['length'];_0xcbfcf5++)_0x44800b['indexOf'](this['_dirtyGrou'+'ps'][_0xcbfcf5])<-0x1975+-0x78b+0x2*0x1080&&_0x55d5d3['push'](this['_dirtyGrou'+'ps'][_0xcbfcf5]);this['_dirtyGrou'+'ps']=_0x55d5d3;}let _0xaf14a4,_0x22da31,_0x972b22,_0x486f97;for(const _0x7b90d0 in _0x228e5c)if(_0x228e5c['hasOwnProp'+'erty'](_0x7b90d0)){if(_0xaf14a4=_0x228e5c[_0x7b90d0],_0x972b22=this['_batchGrou'+'ps'][_0x7b90d0],!_0x972b22){w['error']('batch\x20grou'+'p\x20'+_0x7b90d0+'\x20not\x20found');continue;}_0x22da31=this['prepare'](_0xaf14a4,_0x972b22['dynamic'],_0x972b22['maxAabbSiz'+'e'],_0x972b22['_ui']||_0x972b22['_sprite']);for(let _0x589911=-0xc83*-0x1+0x5*-0xec+0x11*-0x77;_0x589911<_0x22da31['length'];_0x589911++)_0x486f97=this['create'](_0x22da31[_0x589911],_0x972b22['dynamic'],parseInt(_0x7b90d0,-0x1237*-0x1+-0x1849+-0x22*-0x2e)),_0x486f97&&_0x486f97['addToLayer'+'s'](this['scene'],_0x972b22['layers']);}}['prepare'](_0x453de0,_0x38b429,_0x2b5cd5=Number['POSITIVE_I'+'NFINITY'],_0x622dfe){if(_0x453de0['length']===0x2396+0x5dd*0x1+-0x2973)return[];const _0x4b447c=_0x2b5cd5*(0x1*0xc5c+0x68e*0x5+-0x2d22+0.5),_0x2ad1b5=-0x1c37+0x20e6+-0xaf,_0x537a97=0x25*-0x151cc48+-0x83e7106c+0x1b4b996d3,_0x3b8040=new De(),_0x5ceeb9=new De();let _0x4a869a=null,_0x31a9b3;const _0x5eba4d=[];let _0xf8064=0x1*0x6bb+-0x2141*0x1+-0xd43*-0x2;_0x622dfe&&_0x453de0['sort']((_0x541c21,_0x31106d)=>_0x541c21['drawOrder']-_0x31106d['drawOrder']);let _0x1dcf3d=_0x453de0,_0x3616b3;const _0x234e95=_0x622dfe?function(_0x2475f7){_0x4a869a?_0x4a869a['add'](_0x2475f7['aabb']):_0x4a869a=_0x2475f7['aabb']['clone'](),_0x3616b3['push'](_0x2475f7);}:function(_0x3733ae){_0x3616b3['push'](_0x3733ae);};for(;_0x1dcf3d['length']>0x19b4+-0x1343*-0x2+-0x403a;){_0x5eba4d[_0xf8064]=[_0x1dcf3d[-0x5*-0x434+0x16fd+-0x2c01]],_0x3616b3=[];const _0x4a7eb1=_0x1dcf3d[-0x1a15+-0x1f3f+0x3954]['material'],_0x1e018b=_0x1dcf3d[0xd08+0x86d+-0x1575]['layer'],_0xd8cf49=_0x1dcf3d[0x1065+0x19ea*0x1+-0x2a4f]['_shaderDef'+'s'],_0x86369f=_0x1dcf3d[0x1*-0x212a+0x2c*0x59+-0x2*-0x8ef]['parameters'],_0x48a132=_0x1dcf3d[0x26b5+0x1a91+0xf*-0x45a]['stencilFro'+'nt'];let _0x1988a7=_0x1dcf3d[0x2353+0xe27*0x1+-0x317a]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x28f792=_0x1dcf3d[-0x7d1+-0x28+-0x7f9*-0x1]['drawOrder'];_0x3b8040['copy'](_0x1dcf3d[-0x1ad*-0x9+-0x1cfd+0xde8]['aabb']);const _0x49fe90=jd(_0x1dcf3d[0xcc3+0x1*0x3bb+-0x107e]),_0x19f3af=_0x1dcf3d[-0xa80+0x1*-0xee9+0x515*0x5]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x51bf31=_0x1dcf3d[0x13f7*0x1+0xed5+-0x22cc]['mesh']['primitive'][0x55d+-0x8a*0x35+0x1735]['indexed'];_0x4a869a=null;for(let _0x4fe278=-0xbcf+-0x1838+-0x481*-0x8;_0x4fe278<_0x1dcf3d['length'];_0x4fe278++){const _0x46126b=_0x1dcf3d[_0x4fe278];if(_0x38b429&&_0x5eba4d[_0xf8064]['length']>=_0x2ad1b5){_0x3616b3=_0x3616b3['concat'](_0x1dcf3d['slice'](_0x4fe278));break;}if(_0x4a7eb1!==_0x46126b['material']||_0x1e018b!==_0x46126b['layer']||_0x19f3af!==_0x46126b['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x51bf31!==_0x46126b['mesh']['primitive'][-0x1db0+-0x5b7+0x2367]['indexed']||_0xd8cf49!==_0x46126b['_shaderDef'+'s']||_0x1988a7+_0x46126b['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x537a97){_0x234e95(_0x46126b);continue;}if(_0x5ceeb9['copy'](_0x3b8040),_0x5ceeb9['add'](_0x46126b['aabb']),_0x5ceeb9['halfExtent'+'s']['x']>_0x4b447c||_0x5ceeb9['halfExtent'+'s']['y']>_0x4b447c||_0x5ceeb9['halfExtent'+'s']['z']>_0x4b447c){_0x234e95(_0x46126b);continue;}if(_0x48a132&&(!(_0x31a9b3=_0x46126b['stencilFro'+'nt'])||_0x48a132['func']!==_0x31a9b3['func']||_0x48a132['zpass']!==_0x31a9b3['zpass'])){_0x234e95(_0x46126b);continue;}if(_0x49fe90!==jd(_0x46126b)){_0x234e95(_0x46126b);continue;}if(!DE(_0x86369f,_0x46126b['parameters'])){_0x234e95(_0x46126b);continue;}if(_0x622dfe&&_0x4a869a&&_0x4a869a['intersects'](_0x46126b['aabb'])&&_0x46126b['drawOrder']!==_0x28f792){_0x234e95(_0x46126b);continue;}_0x3b8040['add'](_0x46126b['aabb']),_0x1988a7+=_0x46126b['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x5eba4d[_0xf8064]['push'](_0x46126b);}_0xf8064++,_0x1dcf3d=_0x3616b3;}return _0x5eba4d;}['collectBat'+'chedMeshDa'+'ta'](_0x35a638,_0x4b742c){let _0x31c96d=null,_0x39ebb2=-0x7af+0x12ae+-0xaff,_0x455c87=-0x491+0x1148+-0x1*0xcb7,_0x5c3e75=null;for(let _0x530584=-0x1*-0x1736+-0x1c4d+0x517*0x1;_0x530584<_0x35a638['length'];_0x530584++)if(_0x35a638[_0x530584]['visible']){const _0x33c49b=_0x35a638[_0x530584]['mesh'],_0x281baf=_0x33c49b['vertexBuff'+'er']['numVertice'+'s'];if(_0x39ebb2+=_0x281baf,_0x33c49b['primitive'][0x253f*-0x1+-0xe0d+0x334c]['indexed'])_0x455c87+=_0x33c49b['primitive'][-0x174c*0x1+0x1114+0x8*0xc7]['count'];else{const _0x5e49cf=_0x33c49b['primitive'][0x2069*0x1+-0x83f*0x3+-0x4*0x1eb]['type'];(_0x5e49cf===oa||_0x5e49cf===Er)&&_0x33c49b['primitive'][0x2527+0x6+0x1f*-0x133]['count']===-0x8d8+0x15fe*0x1+-0xd22&&(_0x455c87+=-0x8*0x2dd+-0xa7*-0x27+0x283*-0x1);}if(!_0x31c96d){_0x5c3e75=_0x35a638[_0x530584]['material'],_0x31c96d={};const _0x965d83=_0x33c49b['vertexBuff'+'er']['format']['elements'];for(let _0x921e54=-0x568*-0x1+-0x2184+0x1c1c;_0x921e54<_0x965d83['length'];_0x921e54++){const _0x50794e=_0x965d83[_0x921e54]['name'];_0x31c96d[_0x50794e]={'numComponents':_0x965d83[_0x921e54]['numCompone'+'nts'],'dataType':_0x965d83[_0x921e54]['dataType'],'normalize':_0x965d83[_0x921e54]['normalize'],'count':0x0};}_0x4b742c&&(_0x31c96d[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x769*-0x5+-0x5bf*0x1+0x2acd),'count':0x0});}}return{'streams':_0x31c96d,'batchNumVerts':_0x39ebb2,'batchNumIndices':_0x455c87,'material':_0x5c3e75};}['create'](_0x330f7b,_0x2e6c03,_0x597bc4){const _0x110466=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x19f2+-0x17ab+0x319d));let _0x43e96b=null,_0x9e2fba,_0x31e55d,_0x4d7f3e,_0x711643=null;const _0x2a3006=this['collectBat'+'chedMeshDa'+'ta'](_0x330f7b,_0x2e6c03);if(_0x2a3006['streams']){const _0x32915d=_0x2a3006['streams'];let _0x36c1bf=_0x2a3006['material'];const _0x1069e1=_0x2a3006['batchNumVe'+'rts'],_0x44efa3=_0x2a3006['batchNumIn'+'dices'];_0x711643=new g_(_0x330f7b,_0x2e6c03,_0x597bc4),this['_batchList']['push'](_0x711643);let _0x5905c0,_0x54b91b,_0xb43bfd,_0x941fe8,_0x194ac4=0x12a8+0x1*-0x821+-0xa87,_0xda364b=0x2e7*-0xc+-0x13f*-0x5+0x1*0x1c99,_0x38c056;const _0x3a4149=_0x1069e1<=-0x12*-0x1b8f+-0x88f0+-0x671f?Uint16Array:Uint32Array,_0x368fa4=new _0x3a4149(_0x44efa3);for(_0x9e2fba in _0x32915d)_0x43e96b=_0x32915d[_0x9e2fba],_0x43e96b['typeArrayT'+'ype']=wn[_0x43e96b['dataType']],_0x43e96b['elementByt'+'eSize']=No[_0x43e96b['dataType']],_0x43e96b['buffer']=new _0x43e96b['typeArrayT'+'ype'](_0x1069e1*_0x43e96b['numCompone'+'nts']);for(let _0x5d9b75=0x1d7a+0x2444+0x55*-0xc6;_0x5d9b75<_0x330f7b['length'];_0x5d9b75++)if(_0x330f7b[_0x5d9b75]['visible']){_0x31e55d=_0x330f7b[_0x5d9b75]['mesh'],_0x4d7f3e=_0x31e55d['vertexBuff'+'er']['numVertice'+'s'],_0x2e6c03||(_0x38c056=_0x330f7b[_0x5d9b75]['node']['getWorldTr'+'ansform']());for(_0x9e2fba in _0x32915d)if(_0x9e2fba!==us){_0x43e96b=_0x32915d[_0x9e2fba];const _0x14c57b=new _0x43e96b['typeArrayT'+'ype'](_0x43e96b['buffer']['buffer'],_0x43e96b['elementByt'+'eSize']*_0x43e96b['count']),_0xb71fe6=_0x31e55d['getVertexS'+'tream'](_0x9e2fba,_0x14c57b)*_0x43e96b['numCompone'+'nts'];if(_0x43e96b['count']+=_0xb71fe6,!_0x2e6c03&&_0x43e96b['numCompone'+'nts']>=-0x44+0x1218+-0x11d1){if(_0x9e2fba===Me){const _0x55488f=_0x38c056['data'],_0x35e41f=_0x55488f[-0x25cc+-0xfd*0x1+0x26c9],_0x428867=_0x55488f[0x4*-0x8fa+0x10*-0x1db+0x4199],_0x4fa864=_0x55488f[-0x1a6*0x3+0x1*0x2203+0x1d0f*-0x1],_0xd294ce=_0x55488f[0x1*0x2088+0xf74+-0x2ff8],_0x1701c3=_0x55488f[-0x10e8+-0x1d7c*0x1+0x2e69],_0x2fbefe=_0x55488f[-0x2b*-0xb7+-0xb55*-0x1+0x9*-0x4ac],_0x27b9bc=_0x55488f[0x2707+0x17d6+0xc91*-0x5],_0x2eafd0=_0x55488f[-0x1a07+0xb36+0x76d*0x2],_0x4f0368=_0x55488f[0x1c15+0xc27+0x126*-0x23],_0x466007=_0x55488f[0x41*0x29+-0xb*-0x32+0x1*-0xc83],_0x13577c=_0x55488f[0x100e*0x1+0xb2d*0x1+0x47*-0x62],_0x32bb87=_0x55488f[-0x2a9*0x1+-0x914+0xbcb];let _0x595955,_0x37a563,_0xb71bfe;for(let _0x134be7=0x9eb*0x2+-0x6c4*0x1+-0xd12;_0x134be7<_0xb71fe6;_0x134be7+=_0x43e96b['numCompone'+'nts'])_0x595955=_0x14c57b[_0x134be7],_0x37a563=_0x14c57b[_0x134be7+(-0x2*0x687+0x263d+0xb*-0x24a)],_0xb71bfe=_0x14c57b[_0x134be7+(0x17c2+-0x2691*0x1+-0xed1*-0x1)],_0x14c57b[_0x134be7]=_0x595955*_0x35e41f+_0x37a563*_0xd294ce+_0xb71bfe*_0x27b9bc+_0x466007,_0x14c57b[_0x134be7+(0x5bc+-0x1*-0x944+-0xeff)]=_0x595955*_0x428867+_0x37a563*_0x1701c3+_0xb71bfe*_0x2eafd0+_0x13577c,_0x14c57b[_0x134be7+(0xfb6*-0x2+0x7b7+0x1*0x17b7)]=_0x595955*_0x4fa864+_0x37a563*_0x2fbefe+_0xb71bfe*_0x4f0368+_0x32bb87;}else{if(_0x9e2fba===gs||_0x9e2fba===yi){A_['invertMat4'](_0x38c056)['transpose']();const [_0x104c82,_0x43fd17,_0xecc178,_0x5d08a0,_0x2c4bb8,_0x2e4534,_0x25165c,_0x3e5523,_0x4b5b5f]=A_['data'];let _0x6d42a7,_0x1a06e1,_0xf6a4da;for(let _0x4b6197=-0xc42+0x40b+0x837;_0x4b6197<_0xb71fe6;_0x4b6197+=_0x43e96b['numCompone'+'nts'])_0x6d42a7=_0x14c57b[_0x4b6197],_0x1a06e1=_0x14c57b[_0x4b6197+(0x8*0x4dc+-0x200f+-0x6d0)],_0xf6a4da=_0x14c57b[_0x4b6197+(0xa4+0x134e*0x2+-0x273e*0x1)],_0x14c57b[_0x4b6197]=_0x6d42a7*_0x104c82+_0x1a06e1*_0x5d08a0+_0xf6a4da*_0x25165c,_0x14c57b[_0x4b6197+(-0x1387*0x2+0xbdc+0x1b33)]=_0x6d42a7*_0x43fd17+_0x1a06e1*_0x2c4bb8+_0xf6a4da*_0x3e5523,_0x14c57b[_0x4b6197+(-0x115*0x23+-0x109+-0x26ea*-0x1)]=_0x6d42a7*_0xecc178+_0x1a06e1*_0x2e4534+_0xf6a4da*_0x4b5b5f;}}}}if(_0x2e6c03){_0x43e96b=_0x32915d[us];for(let _0x386e17=-0x200f+-0xed8*0x1+0x2ee7;_0x386e17<_0x4d7f3e;_0x386e17++)_0x43e96b['buffer'][_0x43e96b['count']++]=_0x5d9b75;}if(_0x31e55d['primitive'][-0x1*-0x16fb+-0x7f4+-0xf07]['indexed']){_0x5905c0=_0x31e55d['primitive'][0x1*-0x783+-0x1818+-0xa89*-0x3]['base'],_0x54b91b=_0x31e55d['primitive'][0x1d*-0x2e+0x16fd+-0x6f*0x29]['baseVertex']||0x13*0xe8+-0x11ee+0xb6,_0xb43bfd=_0x31e55d['primitive'][-0xab+-0xbc9+0xc74]['count'];const _0x3a7b98=_0x31e55d['indexBuffe'+'r'][-0x5ad*0x1+-0x13ed+-0x3a*-0x71]['getFormat']();_0x941fe8=new Sh[_0x3a7b98](_0x31e55d['indexBuffe'+'r'][0x191*0x5+-0xcca+-0x1a7*-0x3]['storage']);}else{_0x54b91b=-0x6*-0x6a+-0x3b1+0x135;const _0x30c4fe=_0x31e55d['primitive'][-0x2f3*-0x2+0x12f1*0x2+0x3a6*-0xc]['type'];if(_0x30c4fe===oa||_0x30c4fe===Er){if(_0x31e55d['primitive'][0x31+-0x55*0x2b+-0x1*-0xe16]['count']===0x1f*-0x8b+0xc94+0x445)_0x5905c0=0x42a*-0x1+-0x1a68+-0x2b*-0xb6,_0xb43bfd=0xbcb+0x92f+0x24*-0x95,_0x941fe8=_0x30c4fe===oa?PE:ME;else{_0xb43bfd=-0x669+-0x96+0x6ff*0x1;continue;}}}for(let _0x29a1ea=0x86c+0x2023+-0x288f;_0x29a1ea<_0xb43bfd;_0x29a1ea++)_0x368fa4[_0x29a1ea+_0xda364b]=_0x941fe8[_0x5905c0+_0x29a1ea]+_0x54b91b+_0x194ac4;_0xda364b+=_0xb43bfd,_0x194ac4+=_0x4d7f3e;}_0x31e55d=new Ge(this['device']);for(_0x9e2fba in _0x32915d)_0x43e96b=_0x32915d[_0x9e2fba],_0x31e55d['setVertexS'+'tream'](_0x9e2fba,_0x43e96b['buffer'],_0x43e96b['numCompone'+'nts'],void(-0x2fb*0x1+0x10*0x110+-0xe05),_0x43e96b['dataType'],_0x43e96b['normalize']);_0x368fa4['length']>0x1d52+-0x41a+-0x21a*0xc&&_0x31e55d['setIndices'](_0x368fa4),_0x31e55d['update'](js,!(0xcf+0x5*-0x2dd+0xd83)),_0x2e6c03&&(_0x36c1bf=_0x36c1bf['clone'](),_0x36c1bf['update']());const _0x51b6b5=new He(_0x31e55d,_0x36c1bf,this['rootNode']);_0x51b6b5['castShadow']=_0x711643['origMeshIn'+'stances'][-0x1*0x26ad+0x1*-0x1f79+0x4626]['castShadow'],_0x51b6b5['parameters']=_0x711643['origMeshIn'+'stances'][0x44c+0x1367+-0x1*0x17b3]['parameters'],_0x51b6b5['layer']=_0x711643['origMeshIn'+'stances'][0x7*0x262+-0x1b2a+0xa7c]['layer'],_0x51b6b5['_shaderDef'+'s']=_0x711643['origMeshIn'+'stances'][-0xaf6+-0x2*-0x1225+-0x1954]['_shaderDef'+'s'],_0x51b6b5['batching']=!(0xe46+-0x2531+0x16eb),_0x51b6b5['cull']=_0x711643['origMeshIn'+'stances'][0x6f8+-0x6*-0x7a+0x22*-0x4a]['cull'];const _0x6a8f0d=this['_batchGrou'+'ps'][_0x597bc4];if(_0x6a8f0d&&_0x6a8f0d['_ui']&&(_0x51b6b5['cull']=!(-0x8aa*-0x1+0x1*-0x805+-0xa4)),_0x2e6c03){const _0x2d6669=[];for(let _0x3ff3e9=0x20c7*0x1+0x1466+-0x352d;_0x3ff3e9<_0x711643['origMeshIn'+'stances']['length'];_0x3ff3e9++)_0x2d6669['push'](_0x711643['origMeshIn'+'stances'][_0x3ff3e9]['node']);_0x51b6b5['skinInstan'+'ce']=new y_(this['device'],_0x2d6669,this['rootNode']);}_0x51b6b5['_updateAab'+'b']=!(0x2133+-0x1*0x12ad+-0xe85),_0x51b6b5['drawOrder']=_0x711643['origMeshIn'+'stances'][-0xb83+-0x14e0+0x2063*0x1]['drawOrder'],_0x51b6b5['stencilFro'+'nt']=_0x711643['origMeshIn'+'stances'][-0xe63+0x14ec+-0x689]['stencilFro'+'nt'],_0x51b6b5['stencilBac'+'k']=_0x711643['origMeshIn'+'stances'][0x1bb*-0xb+-0x5*-0x64d+-0xc78]['stencilBac'+'k'],_0x51b6b5['flipFacesF'+'actor']=jd(_0x711643['origMeshIn'+'stances'][-0x5b1+0x3*0x557+0xa54*-0x1]),_0x51b6b5['castShadow']=_0x711643['origMeshIn'+'stances'][-0x1e7b+0x1bb+0x1cc0]['castShadow'],_0x711643['meshInstan'+'ce']=_0x51b6b5,_0x711643['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x110466,_0x711643;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x2185*-0x1+0x3*-0xa3+-0x5*-0x716&&this['generate'](this['_dirtyGrou'+'ps']);const _0x44a673=de();for(let _0x4401b8=0x108f+0xe78*0x2+0x265*-0x13;_0x4401b8<this['_batchList']['length'];_0x4401b8++)this['_batchList'][_0x4401b8]['dynamic']&&this['_batchList'][_0x4401b8]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x44a673;}['clone'](_0x25dfe7,_0x4309e1){const _0x365ad9=new g_(_0x4309e1,_0x25dfe7['dynamic'],_0x25dfe7['batchGroup'+'Id']);this['_batchList']['push'](_0x365ad9);const _0x5b6682=[];for(let _0x40f0d9=-0x8db+0xa*0x367+-0x192b;_0x40f0d9<_0x4309e1['length'];_0x40f0d9++)_0x5b6682['push'](_0x4309e1[_0x40f0d9]['node']);return _0x365ad9['meshInstan'+'ce']=new He(_0x25dfe7['meshInstan'+'ce']['mesh'],_0x25dfe7['meshInstan'+'ce']['material'],_0x25dfe7['meshInstan'+'ce']['node']),_0x365ad9['meshInstan'+'ce']['_updateAab'+'b']=!(0x1850+0x22a1+0x8*-0x75e),_0x365ad9['meshInstan'+'ce']['parameters']=_0x4309e1[0x240d+0x1042*-0x1+-0x13cb]['parameters'],_0x365ad9['meshInstan'+'ce']['cull']=_0x4309e1[-0x59*-0x56+-0x1b*-0x71+0x85d*-0x5]['cull'],_0x365ad9['meshInstan'+'ce']['layer']=_0x4309e1[-0x1*0x260e+-0x20*-0x1f+0x222e]['layer'],_0x25dfe7['dynamic']&&(_0x365ad9['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x5b6682,this['rootNode'])),_0x365ad9['meshInstan'+'ce']['castShadow']=_0x25dfe7['meshInstan'+'ce']['castShadow'],_0x365ad9;}['destroyBat'+'ch'](_0x16d5b0){_0x16d5b0['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x16d5b0['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x45ab64,_0x4b35b9,_0x4ca8ef){if((_0x45ab64==null?void(-0x3a6*-0x2+0xc1*0x33+0x7*-0x689):_0x45ab64['colorBuffe'+'r']['format'])!==_0x4ca8ef)return!(-0x13a*0x14+-0x2*-0xd37+-0x3*0xa2);const _0x365b6b=(_0x4b35b9==null?void(-0x19b+-0x62d+0x1f2*0x4):_0x4b35b9['width'])||this['device']['width'],_0x5e8691=(_0x4b35b9==null?void(0x1d5*0x1+0xbbe+-0xd93):_0x4b35b9['height'])||this['device']['height'];return!_0x45ab64||_0x365b6b!==_0x45ab64['width']||_0x5e8691!==_0x45ab64['height'];}['allocateRe'+'nderTarget'](_0xef9c1e,_0x190a57,_0x49e6d5,_0x355f19){const _0x13f2e8=new _e(_0x49e6d5,{'name':P_,'format':_0x355f19,'width':_0x190a57?_0x190a57['colorBuffe'+'r']['width']:_0x49e6d5['width'],'height':_0x190a57?_0x190a57['colorBuffe'+'r']['height']:_0x49e6d5['height'],'mipmaps':!(0xf7*0x15+0x2309*-0x1+-0xec6*-0x1),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0xef9c1e?(_0xef9c1e['destroyFra'+'meBuffers'](),_0xef9c1e['_colorBuff'+'er']=_0x13f2e8,_0xef9c1e['_colorBuff'+'ers']=[_0x13f2e8]):_0xef9c1e=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x13f2e8,'depth':!(0x5*-0x169+0x8ee+-0x8*0x3c),'stencil':!(0x2*-0x7bf+0x59*-0x3b+0x2402),'autoResolve':!(-0xf93+0x67*-0x40+-0x4*-0xa55)}),_0xef9c1e;}['releaseRen'+'derTarget'](_0x39fc38){_0x39fc38&&(_0x39fc38['destroyTex'+'tureBuffer'+'s'](),_0x39fc38['destroy']());}['frameUpdat'+'e'](){const _0x44d912=this['device'],_0x4f5a52=this['source'],_0x48bf92=(_0x4f5a52==null?void(0x64c+0x232a+0x6e9*-0x6):_0x4f5a52['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x4f5a52==null?void(-0x7a7+-0x50b*-0x2+-0x26f):_0x4f5a52['colorBuffe'+'r'],_0x48bf92)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x4f5a52,_0x44d912,_0x48bf92));const _0x5f50d4=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x44d912['scope']['resolve'](P_)['setValue'](_0x5f50d4);}['execute'](){const _0x44f218=this['device'];Q['pushGpuMar'+'ker'](_0x44f218,'GRAB-COLOR');const _0x1abffa=this['source'],_0x1d616b=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x44f218['isWebGPU']?(_0x44f218['copyRender'+'Target'](_0x1abffa,this['colorRende'+'rTarget'],!(-0x243d+-0xa8b*0x3+0xe*0x4d9),!(-0x156d+0x8fa+0xc74)),_0x44f218['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x44f218['copyRender'+'Target'](_0x1abffa,this['colorRende'+'rTarget'],!(-0x2119+0x5*0x352+0x107f),!(-0x2d6*0xb+-0x525+0x2458)),_0x44f218['activeText'+'ure'](_0x44f218['maxCombine'+'dTextures']-(-0xfc+-0x1*-0xbe9+0x2*-0x576)),_0x44f218['bindTextur'+'e'](_0x1d616b),_0x44f218['gl']['generateMi'+'pmap'](_0x1d616b['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x44f218);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x2a0615,_0x4c26d3){super(_0x2a0615),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x4c26d3;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x316142,_0x463f08){const _0x3b33b6=(_0x463f08==null?void(-0x1188+0x1*0xa75+0x1*0x713):_0x463f08['width'])||this['device']['width'],_0x2d4c7d=(_0x463f08==null?void(0x22d8+0x4*0x153+0x2*-0x1412):_0x463f08['height'])||this['device']['height'];return!_0x316142||_0x3b33b6!==_0x316142['width']||_0x2d4c7d!==_0x316142['height'];}['allocateRe'+'nderTarget'](_0x1c1905,_0x1b57c1,_0x50705c,_0x323cbd,_0x2a0686){const _0x1795a0=new _e(_0x50705c,{'name':M_,'format':_0x323cbd,'width':_0x1b57c1?_0x1b57c1['colorBuffe'+'r']['width']:_0x50705c['width'],'height':_0x1b57c1?_0x1b57c1['colorBuffe'+'r']['height']:_0x50705c['height'],'mipmaps':!(0x57b+0x71*0x4e+-0x4fd*0x8),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x1c1905?(_0x1c1905['destroyFra'+'meBuffers'](),_0x2a0686?_0x1c1905['_depthBuff'+'er']=_0x1795a0:(_0x1c1905['_colorBuff'+'er']=_0x1795a0,_0x1c1905['_colorBuff'+'ers']=[_0x1795a0])):_0x1c1905=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x2a0686?null:_0x1795a0,'depthBuffer':_0x2a0686?_0x1795a0:null,'depth':!_0x2a0686,'stencil':_0x50705c['supportsSt'+'encil'],'autoResolve':!(-0x1e9*0x2+0x12c7+-0x4fc*0x3)}),_0x1c1905;}['releaseRen'+'derTarget'](_0xecd12d){_0xecd12d&&(_0xecd12d['destroyTex'+'tureBuffer'+'s'](),_0xecd12d['destroy']());}['before'](){var _0x3b8944,_0x378c92;const _0x8feed8=this['camera'],_0x5d005e=this['device'],_0x46f395=(_0x8feed8==null?void(0xa01*-0x3+0x98f+-0x1dc*-0xb):_0x8feed8['renderTarg'+'et'])??_0x5d005e['backBuffer'];let _0x5c01a6=!(-0xceb*-0x2+0x275+-0x1c4b),_0x1f1ed5=_0x46f395['stencil']?sd:$i;_0x5d005e['isWebGPU']&&_0x46f395['samples']>-0xcff*0x3+-0x18*-0xe+-0x1a*-0x173&&(_0x1f1ed5=Ji,_0x5c01a6=!(0x188d+0x811+-0x209d));const _0x5140d0=((_0x3b8944=_0x8feed8['renderTarg'+'et'])==null?void(0x2020+-0xe5a+-0xd*0x15e):_0x3b8944['depthBuffe'+'r'])??((_0x378c92=_0x8feed8['renderTarg'+'et'])==null?void(-0x6+-0x5d*-0x1e+-0xae0):_0x378c92['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5140d0)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x8feed8['renderTarg'+'et'],_0x5d005e,_0x1f1ed5,_0x5c01a6));const _0x49dc8a=_0x5c01a6?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x5d005e['scope']['resolve'](M_)['setValue'](_0x49dc8a);}['execute'](){const _0x417940=this['device'];if(Q['pushGpuMar'+'ker'](_0x417940,'GRAB-DEPTH'),_0x417940['isWebGL2']&&_0x417940['renderTarg'+'et']['samples']>-0x137*0x18+0x1d*-0x19+0x1ffe){const _0x17cb38=_0x417940['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x48672b=this['depthRende'+'rTarget'];_0x417940['renderTarg'+'et']=_0x48672b,_0x417940['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x417940,_0x17cb38,_0x48672b['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x417940['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x417940['copyRender'+'Target'](_0x417940['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0xe74+-0xedb+0x68),!(-0x2115+-0x13df+-0x1a7a*-0x2));Q['popGpuMark'+'er'](_0x417940);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x16e*0x3+0x1e15+-0x225e)),h(this,'_ssaoEnabl'+'ed',!(-0x1*-0xb4d+0x1ad2*-0x1+0xf86)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x134b+-0x244*0x4+0x1c5c)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0xa*0xdd+-0x1*0x822+0x2*0x862));}get['hash'](){if(this['_hash']===void(0xf31+-0x9a8+-0x6d*0xd)){const _0x2a3495=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x2a3495);}return this['_hash'];}get['defines'](){const _0x44f98d=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x1889+-0x5c5*0x1+0x3*-0x641),_0x44f98d['clear'](),this['_sceneDept'+'hMapLinear']&&_0x44f98d['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x468+0xec1*0x1+-0xa59)),_0x44f98d['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x44f98d['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x44f98d['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x44f98d;}['markDirty'](){this['_hash']=void(-0x1922+0xd52+0x7*0x1b0),this['_definesDi'+'rty']=!(-0x7c9*-0x5+-0x4*0x98b+-0x1*0xc1);}set['fog'](_0x132694){this['_fog']!==_0x132694&&(this['_fog']=_0x132694,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4009ee){this['_ssaoEnabl'+'ed']!==_0x4009ee&&(this['_ssaoEnabl'+'ed']=_0x4009ee,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x2c753e){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x23b2+0x2*-0xc2b+-0xe2*-0x44),this['_gammaCorr'+'ection']!==_0x2c753e&&(this['_gammaCorr'+'ection']=_0x2c753e,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x45ad51){this['_toneMappi'+'ng']!==_0x45ad51&&(this['_toneMappi'+'ng']=_0x45ad51,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x2b0396){this['_srgbRende'+'rTarget']!==_0x2b0396&&(this['_srgbRende'+'rTarget']=_0x2b0396,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x51121b){this['_sceneDept'+'hMapLinear']!==_0x51121b&&(this['_sceneDept'+'hMapLinear']=_0x51121b,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x1b*-0x6d+0x3*-0x4cf+-0x96*-0x5),(this['_aspectRat'+'io']=(0xa3b+-0xa2b+0x0)/(-0x5db*0x1+-0x43*-0x8a+0x49*-0x6a),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x1*-0x1499+0xbf9+0x8a0+0.75,0x1a34+0x1*-0xf53+-0x1*0xae1+0.75,-0x5a8*-0x3+-0x1960+0x868*0x1+0.75,-0x1e68+-0x1b*-0x125+0x6*-0x15),this['_clearColo'+'rBuffer']=!(0xdf1+-0x209*-0x5+0x9*-0x2ae),this['_clearDept'+'h']=-0x1*0x1732+0x1fe3+-0x8b0,this['_clearDept'+'hBuffer']=!(-0x1e6c+0x1a3f+-0x1*-0x42d),this['_clearSten'+'cil']=-0x5*-0x5de+0x1*-0x2681+0x92b,this['_clearSten'+'cilBuffer']=!(0x1*-0x1ead+0x1d39+0x3e*0x6),this['_cullFaces']=!(0x1049+0x1*-0x1416+0x3cd),this['_farClip']=0x1ab+0x1223+-0x2*0x7f3,this['_flipFaces']=!(-0x172e+-0x11a9*-0x1+0x586),this['_fov']=0x1*-0x26f8+-0x1a93+0x41b8,this['_frustumCu'+'lling']=!(-0x19ca+0x1cfa*-0x1+0xdb1*0x4),this['_horizonta'+'lFov']=!(0x2526+0x26*-0xda+-0x4c9),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x2*-0x7f6+-0x157c+0x590+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x22bc+-0xb42+0x2e08,this['_projectio'+'n']=ni,this['_rect']=new re(0x25ff+0x1*-0x401+-0xe5*0x26,0x2*0x28e+0x3*0xa43+-0x3fd*0x9,0x1558+0x1377+-0x28ce,-0x379*0x6+-0xf03+0x23da),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x21*0xe3+-0x971+-0x13d2,0x5a0+-0x257c+0x1fdc*0x1,-0x1e8b+0x1f65+-0xd9,-0x419*-0x5+0x1*-0x5c9+-0x1*0xeb3),this['_scissorRe'+'ctClear']=!(-0x155c+0x11c2+-0x39b*-0x1),this['_aperture']=-0x2018+-0x1cdd+0x3d05,this['_shutter']=(0x255e+-0x2b*0x1+0x45*-0x8a)/(-0x1*0x279+0x32b+0x336),this['_sensitivi'+'ty']=-0x2174*0x1+-0x1f96+0x44f2,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x1d*-0xba+-0x1048+-0x556*-0x7),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0x37*-0xa1+-0xd9c+0x3033),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x43*-0x52+0x57*0xf+0x20b*-0xd),this['_shaderMat'+'ricesVersi'+'on']=0xe88+-0xe35*-0x2+0x1579*-0x2,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x1993+0x1352*0x1+-0x2ce5,-0x1cbc+0x2cb*-0x5+-0x283*-0x11,-0x191b+0x54a*-0x5+0x338d,-0x248b+-0x1d4e+-0x751*-0x9],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x4fccd8,_0x558932;(_0x4fccd8=this['renderPass'+'ColorGrab'])==null||_0x4fccd8['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x558932=this['renderPass'+'DepthGrab'])==null||_0x558932['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0xb5*0x1f+0x654+-0xd*-0x133;}['_storeShad'+'erMatrices'](_0x3dba45,_0x34681a,_0x4fd437,_0x5c2827){this['_shaderMat'+'ricesVersi'+'on']!==_0x5c2827&&(this['_shaderMat'+'ricesVersi'+'on']=_0x5c2827,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x3dba45),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x3dba45),this['_viewProjI'+'nverse']['invert'](_0x3dba45),this['_jitters'][-0x196b+-0x15ff+-0x97c*-0x5]=this['_jitters'][0x3*-0x1e7+-0x1*-0x1db3+0x4a*-0x53],this['_jitters'][0x5*-0x18b+-0x4*0x838+0x1*0x289a]=this['_jitters'][0x3*0xb37+-0x9f4*-0x1+0xe88*-0x3],this['_jitters'][-0x1*-0xad5+0x43b*-0x1+0xd*-0x82]=_0x34681a,this['_jitters'][0x8db*-0x4+0x1*-0x188b+0x3bf8]=_0x4fd437);}get['fullSizeCl'+'earRect'](){const _0x5e3c84=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x5e3c84['x']===0x2708+-0x1*0x335+-0xbf1*0x3&&_0x5e3c84['y']===-0x617*-0x1+0x1101+-0x1718&&_0x5e3c84['z']===0x217*0x7+0x4a5+0x1345*-0x1&&_0x5e3c84['w']===-0x7*0x593+-0x1*-0x4d5+-0x2231*-0x1;}set['aspectRati'+'o'](_0xc13af1){this['_aspectRat'+'io']!==_0xc13af1&&(this['_aspectRat'+'io']=_0xc13af1,this['_projMatDi'+'rty']=!(0xc3b+-0x85+0x1*-0xbb6));}get['aspectRati'+'o'](){var _0x13f4d6;return(_0x13f4d6=this['xr'])!=null&&_0x13f4d6['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x1241d3){this['_aspectRat'+'ioMode']!==_0x1241d3&&(this['_aspectRat'+'ioMode']=_0x1241d3,this['_projMatDi'+'rty']=!(0x168a*0x1+-0xb30*0x1+0x1*-0xb5a));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x1d50d3){this['_calculate'+'Projection']=_0x1d50d3,this['_projMatDi'+'rty']=!(-0x1286+0x12cd+-0x47);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x209378){this['_calculate'+'Transform']=_0x209378;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x411d7f){this['_clearColo'+'r']['copy'](_0x411d7f);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x54d5f4){this['_clearColo'+'rBuffer']=_0x54d5f4;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x21eb43){this['_clearDept'+'h']=_0x21eb43;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x60895b){this['_clearDept'+'hBuffer']=_0x60895b;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x18d942){this['_clearSten'+'cil']=_0x18d942;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x32e5a5){this['_clearSten'+'cilBuffer']=_0x32e5a5;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x3f2dcd){this['_cullFaces']=_0x3f2dcd;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x47fcd6){this['_farClip']!==_0x47fcd6&&(this['_farClip']=_0x47fcd6,this['_projMatDi'+'rty']=!(-0x54*-0x2a+0x5e1+0x7*-0x2cf));}get['farClip'](){var _0x53404d;return(_0x53404d=this['xr'])!=null&&_0x53404d['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0xe95fde){this['_flipFaces']=_0xe95fde;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x3e3774){this['_fov']!==_0x3e3774&&(this['_fov']=_0x3e3774,this['_projMatDi'+'rty']=!(0x1e16+-0x6*0xcf+0xa*-0x286));}get['fov'](){var _0x3a7afe;return(_0x3a7afe=this['xr'])!=null&&_0x3a7afe['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2cda10){this['_frustumCu'+'lling']=_0x2cda10;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0xe2bce5){this['_horizonta'+'lFov']!==_0xe2bce5&&(this['_horizonta'+'lFov']=_0xe2bce5,this['_projMatDi'+'rty']=!(-0x1*0x1e15+0x2231+0x41c*-0x1));}get['horizontal'+'Fov'](){var _0x3867b7;return(_0x3867b7=this['xr'])!=null&&_0x3867b7['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x3be8fb){this['_layers']=_0x3be8fb['slice'](-0xbae+0x307+0x1bb*0x5),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x4b64f7){this['_nearClip']!==_0x4b64f7&&(this['_nearClip']=_0x4b64f7,this['_projMatDi'+'rty']=!(0x386*-0x5+-0x1a5*-0x13+-0xda1));}get['nearClip'](){var _0x5397ea;return(_0x5397ea=this['xr'])!=null&&_0x5397ea['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x19758c){this['_node']=_0x19758c;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x11eb1e){this['_orthoHeig'+'ht']!==_0x11eb1e&&(this['_orthoHeig'+'ht']=_0x11eb1e,this['_projMatDi'+'rty']=!(-0x68*-0x10+0xad3*0x1+-0x1153*0x1));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x23ea29){this['_projectio'+'n']!==_0x23ea29&&(this['_projectio'+'n']=_0x23ea29,this['_projMatDi'+'rty']=!(0x1e8d+-0x7d2*0x4+-0x11*-0xb));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x5e3533){this['_rect']['copy'](_0x5e3533);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x3b4a4d){this['_renderTar'+'get']=_0x3b4a4d;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x4ed6a7){this['_scissorRe'+'ct']['copy'](_0x4ed6a7);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x2b484d=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x2b484d)['invert'](),this['_viewMatDi'+'rty']=!(-0x1d37*-0x1+0x288+0x11*-0x1de);}return this['_viewMat'];}set['aperture'](_0x4ff2f6){this['_aperture']=_0x4ff2f6;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x1b37af){this['_sensitivi'+'ty']=_0x1b37af;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x47fc5c){this['_shutter']=_0x47fc5c;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4518b6){this['_xr']!==_0x4518b6&&(this['_xr']=_0x4518b6,this['_projMatDi'+'rty']=!(-0x1*-0x1765+0xa9a+-0x21ff));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x3e815f){return this['_aspectRat'+'io']=_0x3e815f['_aspectRat'+'io'],this['_farClip']=_0x3e815f['_farClip'],this['_fov']=_0x3e815f['_fov'],this['_horizonta'+'lFov']=_0x3e815f['_horizonta'+'lFov'],this['_nearClip']=_0x3e815f['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x3e815f['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x3e815f['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x3e815f['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x3e815f['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x3e815f['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x3e815f['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x3e815f['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x3e815f['calculateT'+'ransform'],this['clearColor']=_0x3e815f['clearColor'],this['clearColor'+'Buffer']=_0x3e815f['clearColor'+'Buffer'],this['clearDepth']=_0x3e815f['clearDepth'],this['clearDepth'+'Buffer']=_0x3e815f['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x3e815f['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x3e815f['clearStenc'+'ilBuffer'],this['cullFaces']=_0x3e815f['cullFaces'],this['flipFaces']=_0x3e815f['flipFaces'],this['frustumCul'+'ling']=_0x3e815f['frustumCul'+'ling'],this['layers']=_0x3e815f['layers'],this['orthoHeigh'+'t']=_0x3e815f['orthoHeigh'+'t'],this['projection']=_0x3e815f['projection'],this['rect']=_0x3e815f['rect'],this['renderTarg'+'et']=_0x3e815f['renderTarg'+'et'],this['scissorRec'+'t']=_0x3e815f['scissorRec'+'t'],this['aperture']=_0x3e815f['aperture'],this['shutter']=_0x3e815f['shutter'],this['sensitivit'+'y']=_0x3e815f['sensitivit'+'y'],this['shaderPass'+'Info']=_0x3e815f['shaderPass'+'Info'],this['jitter']=_0x3e815f['jitter'],this['_projMatDi'+'rty']=!(0x7*-0x2f6+-0x142d+0x25*0x11b),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x4dfdbe,_0xa959cf){var _0x3bc350;_0xa959cf?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x4dfdbe)):((_0x3bc350=this['renderPass'+'ColorGrab'])==null||_0x3bc350['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x8483cd,_0x43450c,_0x5ce224){var _0x3cefd5;_0x5ce224?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x8483cd,this)):((_0x3cefd5=this['renderPass'+'DepthGrab'])==null||_0x3cefd5['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1f50*0x1+-0x45a*0x1+0x23ab));}['worldToScr'+'een'](_0x25700a,_0x3c398f,_0x3d3374,_0x320712=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x25700a,_0x320712);const _0x57e2e6=this['_viewProjM'+'at']['data'],_0x2e5974=_0x25700a['x']*_0x57e2e6[0x38*-0x2e+-0x2328+-0x1*-0x2d3b]+_0x25700a['y']*_0x57e2e6[0x2c2*0x6+0x1d89+0x189*-0x1e]+_0x25700a['z']*_0x57e2e6[-0xc31*-0x1+-0x1*-0x17c9+-0x1*0x23ef]+(-0x203f*0x1+0xf94*0x2+0x118)*_0x57e2e6[0xe3c+-0x391+0xc2*-0xe];_0x320712['x']=(_0x320712['x']/_0x2e5974+(-0x3*0xccd+-0xc3*-0x2b+0x5a7))*(-0x1*0x5bf+-0x577*-0x1+0x2*0x24+0.5),_0x320712['y']=(0x730+0x976*0x1+-0x10a5-_0x320712['y']/_0x2e5974)*(-0xdbb+-0xd84+0x9*0x307+0.5);const {x:_0x35ec60,y:_0x34b857,z:_0x1aa824,w:_0x361f0a}=this['_rect'];return _0x320712['x']=_0x320712['x']*_0x1aa824*_0x3c398f+_0x35ec60*_0x3c398f,_0x320712['y']=_0x320712['y']*_0x361f0a*_0x3d3374+(-0x7*-0x41a+-0x8b7*-0x4+0x3f91*-0x1-_0x34b857-_0x361f0a)*_0x3d3374,_0x320712;}['screenToWo'+'rld'](_0x10c7da,_0x2750af,_0x64d102,_0x31972e,_0x1c3a5a,_0x43c01b=new D()){const {x:_0x27d95e,y:_0x8d9d39,z:_0x249a60,w:_0x3e8674}=this['_rect'],_0x2de3a3=this['farClip']-this['nearClip'];if(La['set']((_0x10c7da-_0x27d95e*_0x31972e)/(_0x249a60*_0x31972e),-0x105d+-0xf55+-0x3*-0xa91-(_0x2750af-(0x35*0x49+0x32*-0x69+0x566-_0x8d9d39-_0x3e8674)*_0x1c3a5a)/(_0x3e8674*_0x1c3a5a),_0x64d102/_0x2de3a3),La['mulScalar'](-0x1a0c+-0x1*-0x269b+-0x15*0x99),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0xcfe7be=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0xcfe7be['transformP'+'oint'](ao,D_);const _0x483eab=this['_node']['getPositio'+'n']();_0x43c01b['sub2'](D_,_0x483eab),_0x43c01b['normalize'](),_0x43c01b['mulScalar'](_0x64d102),_0x43c01b['add'](_0x483eab);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x43c01b);return _0x43c01b;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x5debf7=this['_orthoHeig'+'ht'],_0x4967c5=_0x5debf7*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x4967c5,_0x4967c5,-_0x5debf7,_0x5debf7,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x3*0xca5+-0x17e8+0x3dd8);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x33768b=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x1658+0x12a7+-0x289b)/this['_sensitivi'+'ty']);return(-0x2fa*-0x7+-0x1d0a+0x835)/(Math['pow'](-0x917+-0x1a95*0x1+0x23ae,_0x33768b)*(-0x12ff+0xd43+0x5bd*0x1+0.19999999999999996));}['getScreenS'+'ize'](_0x518ce5){if(this['_projectio'+'n']===ni){const _0x255123=this['_node']['getPositio'+'n']()['distance'](_0x518ce5['center']);if(_0x255123<_0x518ce5['radius'])return 0x10f*-0x17+-0x7*0x20e+0x26bc;const _0x25cbe4=Math['asin'](_0x518ce5['radius']/_0x255123),_0x52bf47=Math['tan'](_0x25cbe4),_0x1bb0d2=Math['tan'](this['fov']/(0xb*0x1df+0x1091+0x1*-0x2524)*Y['DEG_TO_RAD']);return Math['min'](_0x52bf47/_0x1bb0d2,0xbab*-0x2+0x53*-0x6a+0xb*0x53f);}return Y['clamp'](_0x518ce5['radius']/this['_orthoHeig'+'ht'],-0x2103+-0x402*-0x1+0x37*0x87,-0x613+-0x1bb7+0x21cb);}['getFrustum'+'Corners'](_0x333de1=this['nearClip'],_0x294e8a=this['farClip']){const _0x23c93b=this['fov']*Math['PI']/(-0xf4b+0xc7d+0x382);let _0x220e45,_0x1e3f4;this['projection']===ni?this['horizontal'+'Fov']?(_0x220e45=_0x333de1*Math['tan'](_0x23c93b/(0x1ade*-0x1+0x230d+-0x82d)),_0x1e3f4=_0x220e45/this['aspectRati'+'o']):(_0x1e3f4=_0x333de1*Math['tan'](_0x23c93b/(-0xbf*-0x19+0x2*-0xc4d+0x5f5)),_0x220e45=_0x1e3f4*this['aspectRati'+'o']):(_0x1e3f4=this['_orthoHeig'+'ht'],_0x220e45=_0x1e3f4*this['aspectRati'+'o']);const _0x2446ea=OE;return _0x2446ea[0x2*0x27c+0x59f*-0x4+0x1184]['x']=_0x220e45,_0x2446ea[-0x1*-0x267e+0x1*0x2160+-0x47de]['y']=-_0x1e3f4,_0x2446ea[0x155a+0x4a3*-0x7+-0xb1b*-0x1]['z']=-_0x333de1,_0x2446ea[0x2*-0xf42+0x17*0xef+0x90c]['x']=_0x220e45,_0x2446ea[0x5a4+-0x1b09+0x1566]['y']=_0x1e3f4,_0x2446ea[-0x4f*-0x39+-0x14d4+0x33e]['z']=-_0x333de1,_0x2446ea[0x394*0x1+-0x2*-0x5cf+-0xf30]['x']=-_0x220e45,_0x2446ea[-0x2*0xed7+0x161a+0x1*0x796]['y']=_0x1e3f4,_0x2446ea[-0x1b*0xca+0x1b5b+-0x60b]['z']=-_0x333de1,_0x2446ea[-0xb29+-0x35b*0x7+0x22a9]['x']=-_0x220e45,_0x2446ea[-0x2575+0x1*0x1e62+0x716]['y']=-_0x1e3f4,_0x2446ea[-0xf98+0xa86*-0x1+0x1a21]['z']=-_0x333de1,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x220e45=_0x294e8a*Math['tan'](_0x23c93b/(-0xadf+0x165e*-0x1+0x213f)),_0x1e3f4=_0x220e45/this['aspectRati'+'o']):(_0x1e3f4=_0x294e8a*Math['tan'](_0x23c93b/(-0xdc9*0x2+-0x609+0x219d)),_0x220e45=_0x1e3f4*this['aspectRati'+'o'])),_0x2446ea[-0x1398+0x2668+-0x12cc]['x']=_0x220e45,_0x2446ea[0x1*0x20b+0x4*-0x32f+0xab5]['y']=-_0x1e3f4,_0x2446ea[-0x14a1*0x1+-0x1*0x24f6+0x399b]['z']=-_0x294e8a,_0x2446ea[-0x1*-0x16b1+-0xa*-0x29c+-0x30c4]['x']=_0x220e45,_0x2446ea[0x1*-0x12c1+-0x1*0xe5+-0x13*-0x109]['y']=_0x1e3f4,_0x2446ea[-0x20ce*-0x1+-0x13cd+-0xcfc]['z']=-_0x294e8a,_0x2446ea[-0x2*-0x127c+0x856*-0x2+0xad*-0x1e]['x']=-_0x220e45,_0x2446ea[-0x1*0xe67+-0x2de*0x2+0x1429*0x1]['y']=_0x1e3f4,_0x2446ea[-0x1*-0x48a+0x865*-0x4+-0x28*-0xba]['z']=-_0x294e8a,_0x2446ea[-0x1609*-0x1+0x5ca+-0x1bcc]['x']=-_0x220e45,_0x2446ea[0x457+-0xb*0x1bb+0xeb9]['y']=-_0x1e3f4,_0x2446ea[0x7*0x553+0x3*-0x647+0x3*-0x623]['z']=-_0x294e8a,_0x2446ea;}['setXrPrope'+'rties'](_0x2ddd9d){Object['assign'](this['_xrPropert'+'ies'],_0x2ddd9d),this['_projMatDi'+'rty']=!(-0xac+0x28*0x4a+0x44*-0x29);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x130a94,_0x17dc20,_0x10cef4){const _0x4889f1=new Fl();switch(_0x4889f1['node']=new Ie(_0x130a94),_0x4889f1['aspectRati'+'o']=-0x1ad2+-0xbfe*-0x3+-0x927,_0x4889f1['aspectRati'+'oMode']=lu,_0x4889f1['_scissorRe'+'ctClear']=!(-0x1e55+0x20f1+-0x29c),_0x17dc20){case Ke:_0x4889f1['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x10cef4]),_0x4889f1['fov']=-0x76*-0x20+-0x2239+-0x19*-0xcb,_0x4889f1['projection']=ni;break;case Ze:_0x4889f1['projection']=ni;break;case ve:_0x4889f1['projection']=En;break;}return _0x4889f1;}static['evalSpotCo'+'okieMatrix'](_0x409490){let _0x225cfd=gr['_spotCooki'+'eCamera'];_0x225cfd||(_0x225cfd=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x225cfd),_0x225cfd['fov']=_0x409490['_outerCone'+'Angle']*(-0x1*0x1cf7+-0x17*0x14b+0x3ab6);const _0x2cf7ba=_0x225cfd['_node'];_0x2cf7ba['setPositio'+'n'](_0x409490['_node']['getPositio'+'n']()),_0x2cf7ba['setRotatio'+'n'](_0x409490['_node']['getRotatio'+'n']()),_0x2cf7ba['rotateLoca'+'l'](-(0x1816+0x3*0x245+-0x1e8b),-0x1cf6+0x2*0x971+0xa14,-0x234e+0x21cd+0x181),L_['setTRS'](_0x2cf7ba['getPositio'+'n'](),_0x2cf7ba['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x225cfd['projection'+'Matrix'],L_);const _0x38ab4d=_0x409490['cookieMatr'+'ix'],_0x5cfbaf=_0x409490['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x5cfbaf['x'],_0x5cfbaf['y'],_0x5cfbaf['z'],_0x5cfbaf['w']),_0x38ab4d['mul2'](O_,R_),_0x38ab4d;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0x1*-0x933+0x1182*-0x1+0x1ab5*0x1,0x2511*0x1+-0x2625+0x16e*0x1,-0x1*-0x21be+0x1a3+-0x22ad),new le()['setFromEul'+'erAngles'](0x18a7+0xab0+-0x2357,-(-0x775+0x1f*-0x107+0x27a8),0x2636+-0x17fc+0x2*-0x6c3),new le()['setFromEul'+'erAngles'](0xc*0xfb+-0x592*-0x1+-0x2*0x87e,0x2e*0x79+0x25*-0xf1+0xd17,0x1360+0x51+0x13b1*-0x1),new le()['setFromEul'+'erAngles'](-(-0x3a7+0x2355+-0x1f54),0x1bff+0x13*0x1de+-0x3f79,-0x2280+0x2312+-0x1*0x92),new le()['setFromEul'+'erAngles'](-0x41*0x67+-0x1*-0xa5e+-0x1c1*-0x9,0x491+-0x238f*-0x1+-0x1d*0x15c,0x11d5*0x2+-0x1*-0xb66+-0x2e5c),new le()['setFromEul'+'erAngles'](0x3fd*0x1+-0x2162+0x5*0x5e1,-0x1d7a+-0x19f7*0x1+0x53*0xab,0x655*-0x5+-0x1*0xa66+0xe41*0x3)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0xd57*0x2+0x47*-0x26+-0x101e),FE=new D(-(-0x12d4+-0xe7*-0x1+0x11ed+0.5),-0x1*-0x102b+-0x178d*0x1+0x762,-0x1*0x208f+-0x2*-0x6e6+-0x3*-0x641),NE=new D(0x2*-0x154+-0xcd7+0xf7f,-0xb*0x2db+0xb*-0x7a+0x24a7,0x1*0x21c1+-0x8cd+-0x18f4+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x48b45b,_0x597ab7)=>Object['keys'](_0x48b45b)['map'](_0x147e6d=>'#define\x20{'+_0x597ab7+_0x147e6d+'}\x20'+_0x48b45b[_0x147e6d])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x2307ef){h(this,'areaLights'+'Enabled',!(0x20d9*0x1+0x1a6c+-0x3b44)),(this['device']=_0x2307ef,Pe['get'](_0x2307ef,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x2307ef,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0xd*-0x105+0x2104*0x1+-0x2e44),this['shadowsEna'+'bled']=!(-0x1aab*0x1+-0xba6+0x2652),this['areaLights'+'Enabled']=!(-0x4c+-0x131+0xbf*0x2),this['maxLights']=-0x705+-0x19f*0x10+0x6a*0x52);const _0x490357=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1*-0x1134+0x152a+-0x132d*0x2)*_0x490357*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x490357,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=-0x19f9+-0x2349+0x3d42,this['invMaxAtte'+'nuation']=-0x18ce*-0x1+-0x3*-0x77d+-0x2f45,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x4b822f;(_0x4b822f=this['lightsText'+'ure'])==null||_0x4b822f['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x307923,_0x23b246,_0x42abd1,_0x310bbf,_0x7e8110){return new _e(_0x307923,{'name':_0x7e8110,'width':_0x23b246,'height':_0x42abd1,'mipmaps':!(-0x34c*0xa+0x141d*-0x1+0x3516),'format':_0x310bbf,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x18802c,_0x30665c){this['boundsMin']['copy'](_0x18802c),this['boundsDelt'+'a']['copy'](_0x30665c);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x1fea0d,_0x481771){_0x481771['_node']['getWorldTr'+'ansform']()['getY'](_0x1fea0d)['mulScalar'](-(0x1*0x100f+0x8e1*-0x1+-0x72d)),_0x1fea0d['normalize']();}['getLightAr'+'eaSizes'](_0x275019){const _0x187d7a=_0x275019['_node']['getWorldTr'+'ansform']();return _0x187d7a['transformV'+'ector'](FE,vs),Or[-0x415+0x20db+0x1d*-0xfe]=vs['x'],Or[-0x16c7+-0x103*-0x17+0x5*-0x19]=vs['y'],Or[0xcda+0x1e50+-0x4*0xaca]=vs['z'],_0x187d7a['transformV'+'ector'](NE,vs),Or[-0x3*0x469+0xfae+-0x270]=vs['x'],Or[-0x264d+-0x1509+0x3b5a]=vs['y'],Or[0x5b7*0x3+0x1a5f+-0x2b7f]=vs['z'],Or;}['addLightDa'+'ta'](_0x16274b,_0x21c97e){const _0x51c124=_0x16274b['_type']===Ze,_0x4a486f=_0x16274b['atlasViewp'+'ortAllocat'+'ed'],_0x23162e=this['cookiesEna'+'bled']&&!!_0x16274b['_cookie']&&_0x4a486f,_0x2eba5f=this['areaLights'+'Enabled']&&_0x16274b['shape']!==Ys,_0x316f00=this['shadowsEna'+'bled']&&_0x16274b['castShadow'+'s']&&_0x4a486f,_0xccb199=_0x16274b['_node']['getPositio'+'n']();let _0xe0ae19=null,_0x1fa1ce=null;_0x51c124?_0x316f00?_0xe0ae19=_0x16274b['getRenderD'+'ata'](null,0xaf3*-0x1+0x101*-0x9+-0x2*-0x9fe)['shadowMatr'+'ix']:_0x23162e&&(_0xe0ae19=Wn['evalSpotCo'+'okieMatrix'](_0x16274b)):(_0x316f00||_0x23162e)&&(_0x1fa1ce=_0x16274b['atlasViewp'+'ort']);const _0x13e863=this['lightsFloa'+'t'],_0x43074b=this['lightsUint'],_0x1fa799=_0x21c97e*this['lightsText'+'ure']['width']*(-0x40*0x6b+-0x1*-0x25c+0x1868);_0x13e863[_0x1fa799+(-0xd*0x59+-0x2*0x17e+0x37*0x23)*at['POSITION_R'+'ANGE']+(-0x1*-0x929+0x1c1b+-0x2544)]=_0xccb199['x'],_0x13e863[_0x1fa799+(-0x18fd+0x1*0xd9+0x1828)*at['POSITION_R'+'ANGE']+(-0x148b+-0xc1*0xe+0x1f1a)]=_0xccb199['y'],_0x13e863[_0x1fa799+(0x55*0x4a+-0x1*-0x1857+-0x30e5)*at['POSITION_R'+'ANGE']+(-0x18b3*-0x1+-0x17d4+0x1*-0xdd)]=_0xccb199['z'],_0x13e863[_0x1fa799+(0x11a6+0x1c43+-0x2de5)*at['POSITION_R'+'ANGE']+(0x753+-0x1*-0x1777+0x1*-0x1ec7)]=_0x16274b['attenuatio'+'nEnd'];const _0x2f2751=_0x16274b['clusteredD'+'ata'];if(_0x43074b[_0x1fa799+(-0x1ee3+0x2078+-0x191)*at['COLOR_ANGL'+'ES_BIAS']+(0xdf*-0x27+-0x2113+0x10c3*0x4)]=_0x2f2751[0x691*-0x1+-0x9f*-0x5+0x1*0x376],_0x43074b[_0x1fa799+(-0x81*-0x29+-0x1813*0x1+0x36e)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1cd+-0x24fa+0x26c8)]=_0x2f2751[-0x263d+0x2271+0x3cd],_0x43074b[_0x1fa799+(0x208*0x1+0x1*-0x1930+0x172c)*at['COLOR_ANGL'+'ES_BIAS']+(0x4cb*-0x2+-0x1*0x11e7+0x1b7f)]=_0x2f2751[-0xc*0x22a+0xad3+0x50d*0x3],_0x16274b['castShadow'+'s']){const _0x441e3d=_0x16274b['getRenderD'+'ata'](null,0x1*-0x1d6b+-0x1c1a+0xb81*0x5),_0x1d0ad0=_0x16274b['_getUnifor'+'mBiasValue'+'s'](_0x441e3d),_0xbabe94=Mn['float2Half'](_0x1d0ad0['bias']),_0x4a9640=Mn['float2Half'](_0x1d0ad0['normalBias']);_0x43074b[_0x1fa799+(0x7cb+-0xfdc+-0x1*-0x815)*at['COLOR_ANGL'+'ES_BIAS']+(-0x14f3+0x2701+0x120b*-0x1)]=_0xbabe94|_0x4a9640<<0x49d+-0x57*-0x4b+0x1*-0x1e0a;}if(_0x51c124&&(this['getSpotDir'+'ection'](vs,_0x16274b),_0x13e863[_0x1fa799+(0x1fea+0x1*-0x2287+0x2a1*0x1)*at['DIRECTION_'+'FLAGS']+(-0x6eb*0x1+-0x249a+0x2b85)]=vs['x'],_0x13e863[_0x1fa799+(-0xb*-0xf5+0x1*0x893+0x1316*-0x1)*at['DIRECTION_'+'FLAGS']+(0x627*0x1+-0x9a5*0x1+0x37f)]=vs['y'],_0x13e863[_0x1fa799+(0xc7d+-0x4cf*-0x5+-0xe4*0x29)*at['DIRECTION_'+'FLAGS']+(-0xc*0x32c+0x5f9*-0x1+0xb*0x401)]=vs['z']),_0x43074b[_0x1fa799+(0x1*-0x21b3+0x75d*0x3+0xba0)*at['DIRECTION_'+'FLAGS']+(-0x43*-0x65+0x22f4+-0x3d60)]=_0x16274b['getCluster'+'edFlags'](_0x316f00,_0x23162e),_0xe0ae19){const _0x2af2ac=_0xe0ae19['data'];for(let _0xaf6b7=-0x1a60+0x7dc+0x1284;_0xaf6b7<0x1*0xef9+-0x5fe+0x2f9*-0x3;_0xaf6b7++)_0x13e863[_0x1fa799+(0x26d5*-0x1+0x12d7+0x18a*0xd)*at['PROJ_MAT_0']+_0xaf6b7]=_0x2af2ac[_0xaf6b7];}if(_0x1fa1ce&&(_0x13e863[_0x1fa799+(0x21c1+-0x1*0x15fb+0x12d*-0xa)*at['ATLAS_VIEW'+'PORT']+(-0x2*-0x7f5+-0x269b+-0x1*-0x16b1)]=_0x1fa1ce['x'],_0x13e863[_0x1fa799+(-0x525+-0xbf5+0x111e)*at['ATLAS_VIEW'+'PORT']+(0x4a7*0x4+0xe95*-0x2+0xa8f)]=_0x1fa1ce['y'],_0x13e863[_0x1fa799+(-0x1*0x1276+0x1*0xa22+0x1*0x858)*at['ATLAS_VIEW'+'PORT']+(0x10b*-0x19+-0x963+0xe3*0x28)]=_0x1fa1ce['z']/(0x1031+0x1727+-0x2755)),_0x2eba5f){const _0x48c4ab=this['getLightAr'+'eaSizes'](_0x16274b);_0x13e863[_0x1fa799+(-0x13a2+-0x19*-0x8a+0x62c)*at['AREA_DATA_'+'WIDTH']+(-0x1b29+0x7f*-0xa+0x3*0xab5)]=_0x48c4ab[0x1*-0x1d63+-0x3*0xbdf+0x14*0x340],_0x13e863[_0x1fa799+(0x2628*-0x1+-0x7b2+0x2dde)*at['AREA_DATA_'+'WIDTH']+(0x3*0x554+0x5d9+-0x15d4)]=_0x48c4ab[-0x21d4+-0x1a*0x3b+0x27d3],_0x13e863[_0x1fa799+(-0x14e7*0x1+-0x2653*-0x1+0x8*-0x22d)*at['AREA_DATA_'+'WIDTH']+(0x1*-0x192d+-0x1ab5+-0x29*-0x144)]=_0x48c4ab[-0x1aa5+0xb7a+-0x23*-0x6f],_0x13e863[_0x1fa799+(0x1d6a+0x14*0x7+-0x1df2)*at['AREA_DATA_'+'HEIGHT']+(-0x1ad3+-0xfdf*-0x1+-0x4*-0x2bd)]=_0x48c4ab[-0x6*0x1e7+-0x218b+0x2cf8],_0x13e863[_0x1fa799+(-0xd58+0x102f+-0x2d3)*at['AREA_DATA_'+'HEIGHT']+(0x155e*0x1+-0x1219+0x1*-0x344)]=_0x48c4ab[-0xca4*0x1+0x2694+-0x19ec],_0x13e863[_0x1fa799+(-0x131c*0x1+-0x11f5*0x1+0x1*0x2515)*at['AREA_DATA_'+'HEIGHT']+(-0x2*0xbbb+0x4b*-0x72+0x38de)]=_0x48c4ab[-0x607+-0x226d+-0x31d*-0xd];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0x2452+-0x1f5b+-0x5*-0x235;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x6f4d32){h(this,'clusterTex'+'ture'),(this['device']=_0x6f4d32,this['name']='Untitled',this['reportCoun'+'t']=0x17*0xf3+0x266+0x1*-0x183b,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x1*-0x191d+-0x1*-0x4e9+0x91*-0x35,0x1*0x10b1+0x1*-0x80+-0x7*0x250,0x3b*-0x58+-0xc27+0xc*0x2b4),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x54a+0xa*0x293+-0xda*0x18,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x6f4d32),this['registerUn'+'iforms'](_0x6f4d32));}set['maxCellLig'+'htCount'](_0x4f10d6){_0x4f10d6!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x4f10d6,this['_cellsDirt'+'y']=!(-0x133*0x14+0x8*-0x1be+0x652*0x6));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x3a9df4){ic['copy'](_0x3a9df4)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x254+0xc*-0x3f+0x68*0xd));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x3119c0){this['_clusterSk'+'ipId']=_0x3119c0['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x3119c0['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x3119c0['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x3119c0['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x1f70+-0x1907+0x1c3d*0x2),this['_clusterBo'+'undsMinId']=_0x3119c0['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x18e9+0xfe*0x19+0x1e),this['_clusterBo'+'undsDeltaI'+'d']=_0x3119c0['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1a0e+-0x122c+-0x41*0x1f),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x3119c0['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1f3d+0x255b+-0x61b),this['_clusterCe'+'llsDotId']=_0x3119c0['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x8c9+-0x1734+-0x800*-0x4),this['_clusterCe'+'llsMaxId']=_0x3119c0['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x102e+0x2573+-0x359e);}['updatePara'+'ms'](_0x54acab){_0x54acab&&(this['cells']=_0x54acab['cells'],this['maxCellLig'+'htCount']=_0x54acab['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x54acab['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x54acab['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x54acab['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0xffd*0x1+0x2*0x1108+-0x2*0x1906);const _0x406365=this['_cells']['x'],_0xa91175=this['_cells']['y'],_0x106ad9=this['_cells']['z'],_0x567e68=_0x406365*_0xa91175*_0x106ad9,_0x1879a7=this['maxCellLig'+'htCount']*_0x567e68;let _0x245cb1=Math['ceil'](Math['sqrt'](_0x1879a7));_0x245cb1=Y['roundUp'](_0x245cb1,this['maxCellLig'+'htCount']);const _0x1cbcdf=Math['ceil'](_0x1879a7/_0x245cb1);w['assert'](_0x245cb1<=k_&&_0x1cbcdf<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1a86+0x49*0x4b+0x523]=_0x406365,this['_clusterCe'+'llsMaxData'][0x19fa+0x1*0x14e1+-0x176d*0x2]=_0xa91175,this['_clusterCe'+'llsMaxData'][-0x1ad5+0x56b+0x4*0x55b]=_0x106ad9,this['_clusterCe'+'llsDotData'][0x1c*0xa4+0x4f0+-0x16e0*0x1]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0xb5d+0x135e*0x2+0x3218*-0x1]=_0x406365*_0x106ad9*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0xf27*-0x2+0x18*0x71+-0x28e4]=_0x406365*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x1879a7),this['counts']=new Int32Array(_0x567e68),this['_clusterTe'+'xtureSizeD'+'ata'][0x1*0x22e1+0x34*0x77+-0x3b0d]=_0x245cb1,this['_clusterTe'+'xtureSizeD'+'ata'][-0xc*0xe3+-0x2*-0x6e9+-0x32d]=(-0x1e*-0x9d+-0x31c+-0xf49)/_0x245cb1,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1f1d+0x1*-0x25b9+0x44d8]=(0x1*-0x1ced+-0xcde+-0xd6*-0x32)/_0x1cbcdf,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x245cb1,_0x1cbcdf,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0xaf7*0x2+0x139*0x11+-0x2ab6?-0x1f9*0x7+0xb22+-0x2ad*-0x1:-0x936+-0x514+0xe4b),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x245feb=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1f36+-0x23a8+0x472]=this['_cells']['x']/_0x245feb['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2627*-0x1+0x25*-0x10d+0x4d09]=this['_cells']['y']/_0x245feb['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x5cb*-0x5+0x19*-0x2+-0x1cc3]=this['_cells']['z']/_0x245feb['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0xdee+0xb5d*-0x2+0x8cc]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x1*-0x519+0x2*-0xb08+0x1b2a]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x1f3f+-0xbb8+-0x1385*0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x12*0x136+-0x10d*-0x4+-0x1a00]=_0x245feb['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0xb*-0x74+0x26d1+0x362*-0xa]=_0x245feb['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x24ae+-0xec2+-0x15ea]=_0x245feb['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x5c7e93,_0x19c471,_0x178333){_0x19c471['copy'](_0x5c7e93['min']),_0x19c471['sub'](this['boundsMin']),_0x19c471['div'](this['boundsDelt'+'a']),_0x19c471['mul2'](_0x19c471,this['cells']),_0x19c471['floor'](),_0x178333['copy'](_0x5c7e93['max']),_0x178333['sub'](this['boundsMin']),_0x178333['div'](this['boundsDelt'+'a']),_0x178333['mul2'](_0x178333,this['cells']),_0x178333['ceil'](),_0x19c471['max'](D['ZERO']),_0x178333['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x1b9a88){const _0x31928a=this['lightsBuff'+'er']['maxLights'],_0x3250bb=this['_usedLight'+'s'];let _0x4fdb35=-0x1d0+0x2*0xaba+-0x13a3;_0x1b9a88['forEach'](_0x3e2dbc=>{const _0x2d4dc8=!!(_0x3e2dbc['mask']&(Ss|di)),_0x56e37c=_0x3e2dbc['type']===Ze&&_0x3e2dbc['_outerCone'+'Angle']===-0x15b3+0x15bb*-0x1+-0x6d*-0x66;if(_0x3e2dbc['enabled']&&_0x3e2dbc['type']!==ve&&_0x3e2dbc['visibleThi'+'sFrame']&&_0x3e2dbc['intensity']>-0x1b57+-0x1*0x1d17+0x386e&&_0x2d4dc8&&!_0x56e37c){if(_0x4fdb35<_0x31928a){let _0x341d63;_0x4fdb35<_0x3250bb['length']?_0x341d63=_0x3250bb[_0x4fdb35]:(_0x341d63=new U_(),_0x3250bb['push'](_0x341d63)),_0x341d63['light']=_0x3e2dbc,_0x3e2dbc['getBoundin'+'gBox'](Yd),_0x341d63['min']['copy'](Yd['getMin']()),_0x341d63['max']['copy'](Yd['getMax']()),_0x4fdb35++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x31928a-(0x581*0x2+0x9*-0x2c8+0xe07))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x3250bb['length']=_0x4fdb35;}['evaluateBo'+'unds'](){const _0x2439bb=this['_usedLight'+'s'],_0x3f45da=this['boundsMin'],_0x4de775=this['boundsMax'];if(_0x2439bb['length']>0x2453+-0xfa6+-0x14ac){_0x3f45da['copy'](_0x2439bb[0x1161*0x2+-0x14e9+-0xdd8]['min']),_0x4de775['copy'](_0x2439bb[-0xc8a+0x2*0x79c+-0x1*0x2ad]['max']);for(let _0x5eed59=0x22a8+0x1f50+-0x41f6*0x1;_0x5eed59<_0x2439bb['length'];_0x5eed59++)_0x3f45da['min'](_0x2439bb[_0x5eed59]['min']),_0x4de775['max'](_0x2439bb[_0x5eed59]['max']);}else _0x3f45da['set'](0xcad+-0xd48+0x9b,-0xe84+-0x2*-0xfb5+-0x10e6,0x1c92+0x11ce+-0x2e60),_0x4de775['set'](0x117f+0xa1*-0x5+-0xe59,-0x4*-0x163+0x2e*0x63+-0x1*0x1755,0x1db8+-0x121d+-0xb9a);this['boundsDelt'+'a']['sub2'](_0x4de775,_0x3f45da),this['lightsBuff'+'er']['setBounds'](_0x3f45da,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x17096a){this['counts']['fill'](0x1*0x425+0x3b2+-0x7d7),this['clusters']['fill'](-0x2145+-0x1b52+0x3c97),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x17096a?_0x17096a['areaLights'+'Enabled']:!(-0x2*0xd6+0x2702+-0x1f7*0x13);const _0xa2ba89=this['_cells']['x'],_0x5833dd=this['_cells']['z'],_0x282e6e=this['counts'],_0x39f52b=this['_maxCellLi'+'ghtCount'],_0x9780ba=this['clusters'],_0x2bd491=this['maxCellLig'+'htCount'];let _0x3e305e=!(-0x807+-0x2*-0x3a6+0x2f*0x4);const _0x4efba7=this['_usedLight'+'s'];for(let _0x36b09c=0xc15+-0x23f9+0x17e5;_0x36b09c<_0x4efba7['length'];_0x36b09c++){const _0x7a59a2=_0x4efba7[_0x36b09c],_0x3c432c=_0x7a59a2['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x3c432c,_0x36b09c),this['evalLightC'+'ellMinMax'](_0x7a59a2,rc,ac);const _0x479219=rc['x'],_0x3603ba=ac['x'],_0x3cedca=rc['y'],_0x18d943=ac['y'],_0x201d95=rc['z'],_0x491c80=ac['z'];for(let _0x257bf7=_0x479219;_0x257bf7<=_0x3603ba;_0x257bf7++)for(let _0x4d0167=_0x201d95;_0x4d0167<=_0x491c80;_0x4d0167++)for(let _0x2b3293=_0x3cedca;_0x2b3293<=_0x18d943;_0x2b3293++){const _0x771c7a=_0x257bf7+_0xa2ba89*(_0x4d0167+_0x2b3293*_0x5833dd),_0x55d730=_0x282e6e[_0x771c7a];_0x55d730<_0x39f52b?(_0x9780ba[_0x2bd491*_0x771c7a+_0x55d730]=_0x36b09c,_0x282e6e[_0x771c7a]=_0x55d730+(-0x2525+0x1*0x1391+0x7*0x283)):_0x3e305e=!(-0x1beb*-0x1+0x2*-0xf0b+0x22b);}}_0x3e305e&&this['reportCoun'+'t']<-0xdac+0x2694+0x115*-0x17&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x1*0x1c8f+0x15a9*-0x1+0x14*0x283?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x293fa7,_0x4e8e6b=null){this['updatePara'+'ms'](_0x4e8e6b),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x293fa7),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x4e8e6b),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0xa4f+0xf6*-0x1+-0x957+0.39996322972865306,Nl={'circlePoint'(_0x408f61){const _0x1fbd32=Math['sqrt'](Math['random']()),_0x127f17=Math['random']()*(0xba6+0x19e1+-0x2585)*Math['PI'];_0x408f61['x']=_0x1fbd32*Math['cos'](_0x127f17),_0x408f61['y']=_0x1fbd32*Math['sin'](_0x127f17);},'circlePointDeterministic'(_0x3fa686,_0x1eac92,_0x4908f0){const _0x36e224=_0x1eac92*B_,_0x505842=Math['sqrt'](_0x1eac92)/Math['sqrt'](_0x4908f0);_0x3fa686['x']=_0x505842*Math['cos'](_0x36e224),_0x3fa686['y']=_0x505842*Math['sin'](_0x36e224);},'spherePointDeterministic'(_0x368cf9,_0x775fd,_0x569793,_0x3db66b=-0xd*0x35+0x1a86+0x1*-0x17d5,_0x43a9a0=0x1af*-0x4+0x1*0xe17+-0x1*0x75a){_0x3db66b=-0xd78*-0x2+0x2*0xc1c+-0x61*0x87-(-0xbe4*0x1+-0x1a*0x1b+0xea4)*_0x3db66b,_0x43a9a0=0x1205+-0xe12*0x1+-0x3f2-(0x13f6+0x1*-0x15e5+0x1f1)*_0x43a9a0;const _0x3e65e4=Y['lerp'](_0x3db66b,_0x43a9a0,_0x775fd/_0x569793),_0x595493=Math['sqrt'](-0x265f+-0x4*-0x943+0x154-_0x3e65e4*_0x3e65e4),_0xd6307d=B_*_0x775fd;_0x368cf9['x']=Math['cos'](_0xd6307d)*_0x595493,_0x368cf9['y']=_0x3e65e4,_0x368cf9['z']=Math['sin'](_0xd6307d)*_0x595493;},'radicalInverse'(_0x44b9a7){let _0x4c6e46=(_0x44b9a7<<0x50d+-0x24a8+0x2e1*0xb|_0x44b9a7>>>-0x161f+0x1e9c+-0x2cf*0x3)>>>0x5e0+0x2631*-0x1+0x1*0x2051;return _0x4c6e46=((_0x4c6e46&-0x1*-0x6feda08d+0x30*0xee2746+-0x473fa858)<<0xe4*0x7+-0x1bf9+0x15be|(_0x4c6e46&-0xbbac1195+-0x7c6dba4a+0x1e2c47689)>>>0x41b+0x1bec+-0x2*0x1003)>>>0x7f*0x49+0x1ff3+0xa*-0x6d1,_0x4c6e46=((_0x4c6e46&-0x32752d24+0xce28b31+0x58c5d526)<<0x19*0x57+-0x3*-0xbd8+0x3b*-0xbf|(_0x4c6e46&0x1*-0x37c00d8d+0x7*0x396efe44+0x1*-0x8d7c1983)>>>-0x51a+-0x23c3+0x28df)>>>0x1889+-0x865*-0x1+0x1*-0x20ee,_0x4c6e46=((_0x4c6e46&0x3*0x8702033+-0xb*0x331949+-0x80f3b67)<<-0x19b+0xb1e+-0x97f|(_0x4c6e46&0x89e1d656+-0x10419e9d6+0x16b290470)>>>0x1027*-0x1+-0x1*-0x1b25+-0xafa)>>>0x1d6b*-0x1+-0x1679+-0x52*-0xa2,_0x4c6e46=((_0x4c6e46&-0x190e0ec+-0x1*0x1c35a4e+-0x9*-0x7b06b1)<<-0x1*-0x683+0xe1d+-0x1498|(_0x4c6e46&-0x10a569b78+0xf353*0x6f41+0x19f98d565)>>>-0x25a3*-0x1+-0x1a19+-0x5c1*0x2)>>>-0x9ff+0x1531+0x1*-0xb32,_0x4c6e46*(0x2326+-0x5*0x5a6+0x374*-0x2+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0xe8711c){return BE[_0xe8711c]??'decodeGamm'+'a';}static['encodeFunc'](_0x14e026){return zE[_0x14e026]??'encodeGamm'+'a';}}const z_=_0x56eb8f=>{switch(_0x56eb8f){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x563738,_0x308ee2,_0x185cc6)=>{if(_0x563738<=-0x574+0x3*0x8e7+-0x1541)_0x308ee2[_0x185cc6+(0x25de+-0x8*-0x23+0x137b*-0x2)]=0xe*-0x10+0x13+0x1*0xcd,_0x308ee2[_0x185cc6+(0x1a8c+0x29*-0x95+-0x2ae)]=-0x1d0*-0xd+-0x195f+0x1cf*0x1,_0x308ee2[_0x185cc6+(0x1*0x1b37+-0x76f*0x4+0x1*0x287)]=0x41*0x5a+-0x1*0xf9e+-0x73c,_0x308ee2[_0x185cc6+(0x1a7*0x9+0x20ca+0x6b*-0x72)]=0x1e94+-0x473+-0x1a21;else{if(_0x563738>=0x1c75+0x1368+-0x3*0xff4)_0x308ee2[_0x185cc6+(0x1c51+0x1840+-0x3491)]=0x49*-0x7f+-0x3*-0x7db+0xda5,_0x308ee2[_0x185cc6+(-0x21eb+-0x1869+-0x89*-0x6d)]=0x1d2*0x2+-0x1d3*-0xe+-0x1d2e,_0x308ee2[_0x185cc6+(-0x1*0x577+0x1*-0x2645+-0x15df*-0x2)]=-0x1b7*-0xc+-0x2*-0x11d2+0x808*-0x7,_0x308ee2[_0x185cc6+(-0x1*0xaa3+-0xb*-0x59+0x6d3)]=-0x889+-0x1436+0xb*0x29d;else{let _0x1d1deb=(0x1*-0x1de1+0xfa7*-0x1+0x2d89)*_0x563738%(-0x6fd*0x4+-0x13*-0x44+0x16e9),_0x1063fe=(-0x1411+0x2353+0x4c1*-0x3)*_0x563738%(-0x52f*-0x5+-0x971+-0x1*0x1079),_0x47d5fe=(-0x1*0xc04c+-0x1bcc7+0x37b14)*_0x563738%(-0x9*-0x1e3+-0xc07+-0x4f3);const _0x38ab7f=(-0x236526*0x4+0x1eb*-0xf78b+0x3655f30)*_0x563738%(-0x1e6e+0x104e*-0x2+0x3f0b);_0x1d1deb-=_0x1063fe/(0x2a9*0x8+-0xad*0x5+-0x10e8),_0x1063fe-=_0x47d5fe/(0x2317+0x23a7+-0x1*0x45bf),_0x47d5fe-=_0x38ab7f/(0x1*0x157a+-0x7a0+-0xcdb),_0x308ee2[_0x185cc6+(-0x2304+-0x1*0x2669+0x1*0x496d)]=Math['min'](0x1*-0x291+0x5*0x592+-0x184a,Math['floor'](_0x1d1deb*(0x1*-0x17a1+-0xf5a+-0x1bd*-0x17))),_0x308ee2[_0x185cc6+(0x118a+0xd07+0xa30*-0x3)]=Math['min'](-0x7b0+-0x7cc*-0x4+-0x1681,Math['floor'](_0x1063fe*(-0x2*-0x1112+0x126a+-0x338e))),_0x308ee2[_0x185cc6+(0x222f*0x1+0x958+-0x2b85*0x1)]=Math['min'](-0x1*-0x973+0x1*0x2530+0x1fc*-0x17,Math['floor'](_0x47d5fe*(0x1a02+-0x17b4+-0x14e))),_0x308ee2[_0x185cc6+(-0x251e*0x1+0x12ec+0x3b*0x4f)]=Math['min'](-0x1ff1+-0xb2+0x7*0x4ce,Math['floor'](_0x38ab7f*(-0x1*0x2615+0x1*0xeef+0x1826)));}}},VE=_0x2d8ce=>{const _0xa95496=_0x2d8ce['length'],_0x1f743c=Math['min'](_0xa95496,-0x23a6+0x781*-0x5+0x4b2b*0x1),_0x10e239=Math['ceil'](_0xa95496/_0x1f743c),_0xa9fd78=new Uint8Array(_0x1f743c*_0x10e239*(0x2*-0x1057+0xf68+0x114a));let _0x1c1324=0x262a+0x11a2*0x1+-0x4*0xdf3;for(let _0x8ac9c8=-0xfef*0x2+-0x652+0x2630;_0x8ac9c8<_0xa95496;_0x8ac9c8+=-0x16*-0x25+-0x829+-0x1*-0x4ff)nc(_0x2d8ce[_0x8ac9c8+(-0xc75*0x3+0x112*0x11+-0x1*-0x132d)]*(-0x16b5*0x1+-0x7b*-0x31+-0xd6*0x1+0.5)+(0x3*0x94f+-0x1*-0x154c+-0x1*0x3139+0.5),_0xa9fd78,_0x1c1324+(0x31c+0x19b6+-0x1cd2)),nc(_0x2d8ce[_0x8ac9c8+(-0x3c2+-0x57a+0x93d)]*(0x105e+-0x4*-0x409+-0x2082+0.5)+(-0x1b98*0x1+0x3*-0x1cb+0x20f9+0.5),_0xa9fd78,_0x1c1324+(-0x1947+-0x3e1*0x9+-0x2*-0x1e1a)),nc(_0x2d8ce[_0x8ac9c8+(0x1a00+0x871+-0x226f)]*(-0xfa*0x25+-0x1eb7+0x42d9*0x1+0.5)+(0x11ec+0x1e54+-0xc10*0x4+0.5),_0xa9fd78,_0x1c1324+(0x5c2+0x1048+-0x6*0x3ab)),nc(_0x2d8ce[_0x8ac9c8+(-0x254*0x1+0x7f*-0x1a+0xf3d)]/(-0x13a3+-0x7f1+0x26*0xba),_0xa9fd78,_0x1c1324+(0x1*-0x11c3+-0x1*-0x1c66+0xa97*-0x1)),_0x1c1324+=0x186e+-0x557*0x7+0xd03;return{'width':_0x1f743c,'height':_0x10e239,'data':_0xa9fd78};},GE=(_0x1497ce,_0x263b35,_0x21bd43,_0x54e286)=>{const _0x5d0b8a=_0x21bd43*(0x1*-0x12a4+0x74*0x20+0x426)*Math['PI'],_0x56492a=Math['pow'](0x152d+-0x985*0x4+0x10e8-_0x263b35,(0xfc+0x3b6+-0x4b1)/(_0x54e286+(-0x1*-0x1b59+-0x1563+0x3d*-0x19))),_0x511073=Math['sqrt'](0x14c*-0xf+0x3f9+0x2*0x7be-_0x56492a*_0x56492a);_0x1497ce['set'](Math['cos'](_0x5d0b8a)*_0x511073,Math['sin'](_0x5d0b8a)*_0x511073,_0x56492a)['normalize']();},HE=(_0x38a02d,_0x36c3f0,_0x4dadfe)=>{const _0x5c11b6=_0x4dadfe*(-0x242e+-0x2319+0x4749)*Math['PI'],_0x4eb2af=Math['sqrt'](0xeb9+-0x1b1a+-0xc62*-0x1-_0x36c3f0),_0x44d54d=Math['sqrt'](_0x36c3f0);_0x38a02d['set'](Math['cos'](_0x5c11b6)*_0x44d54d,Math['sin'](_0x5c11b6)*_0x44d54d,_0x4eb2af)['normalize']();},WE=(_0x1ff02d,_0x1913ea,_0x244827,_0xbbc411)=>{const _0xdf18e5=_0x244827*(0x17*-0x3+0x17e*-0x13+0x1ca1)*Math['PI'],_0x3fb3ec=Math['sqrt']((0xce7+0x28f*-0xb+0xf3f-_0x1913ea)/(-0x1df9+0x2f*0x4f+0x11*0xe9+(_0xbbc411*_0xbbc411-(-0x21a2+-0x217f*0x1+0x4322*0x1))*_0x1913ea)),_0x583936=Math['sqrt'](0xc72+0xe3*0x17+-0x579*0x6-_0x3fb3ec*_0x3fb3ec);_0x1ff02d['set'](Math['cos'](_0xdf18e5)*_0x583936,Math['sin'](_0xdf18e5)*_0x583936,_0x3fb3ec)['normalize']();},$E=(_0x51ad33,_0x2c4a7f)=>{const _0x3a14be=_0x51ad33*_0x2c4a7f,_0x3a2e68=_0x2c4a7f/(-0xffb*0x2+-0x135b+0x3352-_0x51ad33*_0x51ad33+_0x3a14be*_0x3a14be);return _0x3a2e68*_0x3a2e68*((-0x267f+-0x9ca+0x304a)/Math['PI']);},XE=(_0x466216,_0x27c371)=>{const _0x48ce89=new D(),_0x45b9e9=[];for(let _0x19b0ca=-0x6f2+-0x571+0xc63*0x1;_0x19b0ca<_0x466216;++_0x19b0ca)GE(_0x48ce89,_0x19b0ca/_0x466216,Nl['radicalInv'+'erse'](_0x19b0ca),_0x27c371),_0x45b9e9['push'](_0x48ce89['x'],_0x48ce89['y'],_0x48ce89['z'],0xef*0x15+-0x1*0x3c1+-0xfda);return _0x45b9e9;},qE=(_0x16f20a,_0x3fffce)=>{const _0x22e029=_0x3fffce/_0x16f20a,_0x1c2d49=new D(),_0x30e367=[];for(let _0x31c8f2=0x4*-0x691+-0x8df+-0x2323*-0x1;_0x31c8f2<_0x16f20a;++_0x31c8f2){HE(_0x1c2d49,_0x31c8f2/_0x16f20a,Nl['radicalInv'+'erse'](_0x31c8f2));const _0x5504ba=_0x1c2d49['z']/Math['PI'],_0x16e911=(0x22*-0xa3+-0x4c*-0x83+-0x113e+0.5)*Math['log2'](_0x22e029/_0x5504ba);_0x30e367['push'](_0x1c2d49['x'],_0x1c2d49['y'],_0x1c2d49['z'],_0x16e911);}return _0x30e367;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x6bf4c7,_0x300554)=>{const _0x12c606=jE[_0x6bf4c7];return _0x12c606&&_0x12c606[_0x300554]||_0x6bf4c7;},KE=(_0x5e084d,_0x460b60,_0x11626a)=>{const _0x1f1fa1=_0x11626a/_0x5e084d,_0x19b5f9=0x167*0x6+0x11c2*-0x2+0x1b1b-Math['log2'](_0x460b60)/(-0x1*-0xb29+-0x11c6+0x6a8),_0x198890=_0x19b5f9*_0x19b5f9,_0x4f9975=new D(),_0x5c7649=new D(),_0x102014=new D(-0x284*0xd+-0x1*0x1b85+0x9*0x6b1,-0x2192+-0x241*-0x3+0x1acf*0x1,0x3*0x6e7+-0xf08+-0x5ac),_0x4d654f=[],_0x33b6b7=YE(_0x5e084d,_0x460b60);for(let _0x138f4d=0x236f+0x6ef+0x152f*-0x2;_0x138f4d<_0x33b6b7;++_0x138f4d){WE(_0x4f9975,_0x138f4d/_0x33b6b7,Nl['radicalInv'+'erse'](_0x138f4d),_0x198890);const _0x2fc868=_0x4f9975['z'];if(_0x5c7649['set'](_0x4f9975['x'],_0x4f9975['y'],_0x4f9975['z'])['mulScalar']((-0x74a+0x2c3*0x1+0x489)*_0x2fc868)['sub'](_0x102014),_0x5c7649['z']>-0x1082+0x9d*0x4+0xe0e){const _0x46aae4=$E(Math['min'](-0x1d5*0xb+-0x1be*-0x16+-0x122c,_0x2fc868),_0x198890)/(-0x4*0x88d+-0x1eb3+0x40eb)+(-0x2617+0x1ab6*0x1+-0x3*-0x3cb+0.001),_0x502f54=(-0x164f+-0x1844+0x1*0x2e93+0.5)*Math['log2'](_0x1f1fa1/_0x46aae4);_0x4d654f['push'](_0x5c7649['x'],_0x5c7649['y'],_0x5c7649['z'],_0x502f54);}}for(;_0x4d654f['length']<_0x5e084d*(0x1*-0x1697+-0x6ff+0x1d9a);)_0x4d654f['push'](-0x2fd+-0x3bd*-0x9+-0x6d*0x48,0x144c+-0x1253+0x5*-0x65,-0x179f+-0x14d5+-0x163a*-0x2,0x2*-0x839+-0x59+0x10cb*0x1);return _0x4d654f;},ZE=(_0x553e2b,_0x53d257,_0x5e70dc)=>{const _0x98f889=VE(_0x5e70dc);return new _e(_0x553e2b,{'name':_0x53d257,'width':_0x98f889['width'],'height':_0x98f889['height'],'mipmaps':!(0x1209+-0x1d37+0xb2f),'minFilter':Te,'magFilter':Te,'levels':[_0x98f889['data']]});};class xv{constructor(_0x22010f=!(-0x8*-0x387+-0x39*0x53+-0x9bd)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x22010f;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0xe551d9,_0x276667)=>{_0xe551d9['destroy']();});}['get'](_0x5c3783,_0x28d130){if(!this['map']['has'](_0x5c3783)){const _0x978de6=_0x28d130();return this['map']['set'](_0x5c3783,_0x978de6),_0x978de6;}return this['map']['get'](_0x5c3783);}}const QE=new xv(!(0x233+-0x441+-0x11*-0x1f)),JE=new Kt(),dm=(_0x1627cc,_0x5bfa2f,_0x167ce1)=>JE['get'](_0x1627cc,()=>new xv())['get'](_0x5bfa2f,()=>ZE(_0x1627cc,_0x5bfa2f,QE['get'](_0x5bfa2f,_0x167ce1))),eb=(_0xfbdf6c,_0x3f886f,_0x2c56f3)=>{const _0x298118='lambert-sa'+'mples-'+_0x3f886f+'-'+_0x2c56f3;return dm(_0xfbdf6c,_0x298118,()=>qE(_0x3f886f,_0x2c56f3));},tb=(_0x5ead6b,_0x3b1a9a,_0x3b9388)=>{const _0xd62021='phong-samp'+'les-'+_0x3b1a9a+'-'+_0x3b9388;return dm(_0x5ead6b,_0xd62021,()=>XE(_0x3b1a9a,_0x3b9388));},sb=(_0x5c2968,_0x384072,_0x1beea8,_0x1718f5)=>{const _0x4b2651='ggx-sample'+'s-'+_0x384072+'-'+_0x1beea8+'-'+_0x1718f5;return dm(_0x5c2968,_0x4b2651,()=>KE(_0x384072,_0x1beea8,_0x1718f5));};function vi(_0x139f99,_0x7a6b3f,_0x3df99c={}){var _0x2a9448,_0x551292;w['assert'](_0x139f99 instanceof _e&&_0x7a6b3f instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x2edc94=_0x3df99c['seamPixels']??0x55a+0x17*-0x55+0x249,_0x3b31e6=(((_0x2a9448=_0x3df99c['rect'])==null?void(-0x15f3+-0x1bf6+-0x3*-0x10a3):_0x2a9448['z'])??_0x7a6b3f['width'])-_0x2edc94*(-0xc21+0x1ba*0x12+-0x12f1),_0x1208b3=(((_0x551292=_0x3df99c['rect'])==null?void(-0xad9+-0x1e88+0x6b*0x63):_0x551292['w'])??_0x7a6b3f['height'])-_0x2edc94*(0xd3e+-0x17b6+-0x12*-0x95);if(_0x3b31e6<-0x705*0x1+0x1*0x105+0x601||_0x1208b3<-0x168c+-0x131c+0x9*0x4a1)return!(-0x1b81+-0x9bb+0x253d);const _0x27234d={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x370edf=_0x3df99c['hasOwnProp'+'erty']('specularPo'+'wer')?_0x3df99c['specularPo'+'wer']:0xa69+-0x2657+0x1bef*0x1,_0x37d728=_0x3df99c['hasOwnProp'+'erty']('face')?_0x3df99c['face']:null,_0x9fe7af=_0x3df99c['hasOwnProp'+'erty']('distributi'+'on')?_0x3df99c['distributi'+'on']:_0x370edf===-0x26b*0x4+0x2*0x89a+-0x787?'none':'phong',_0x471baa=_0x27234d[_0x9fe7af]||'reproject',_0x17f0a7=_0x471baa['startsWith']('prefilterS'+'amples'),_0x1a420a=Tr['decodeFunc'](_0x139f99['encoding']),_0x1aad98=Tr['encodeFunc'](_0x7a6b3f['encoding']),_0x4e32cb='sample'+z_(_0x139f99['projection']),_0x4b70d9='getDirecti'+'on'+z_(_0x7a6b3f['projection']),_0x42ce22=_0x3df99c['hasOwnProp'+'erty']('numSamples')?_0x3df99c['numSamples']:0x66a+-0x9c0*-0x2+-0x15ea,_0x867e80='ReprojectS'+'hader:'+_0x471baa+'_'+_0x1a420a+'_'+_0x1aad98+'_'+_0x4e32cb+'_'+_0x4b70d9+'_'+_0x42ce22,_0x22d887=_0x139f99['device'];let _0x2a556d=Hn(_0x22d887)['getCachedS'+'hader'](_0x867e80);if(!_0x2a556d){const _0x43673c=new Map();_0x17f0a7&&_0x43673c['set']('USE_SAMPLE'+'S_TEX',''),_0x139f99['cubemap']&&_0x43673c['set']('CUBEMAP_SO'+'URCE',''),_0x43673c['set']('{PROCESS_F'+'UNC}',_0x471baa),_0x43673c['set']('{DECODE_FU'+'NC}',_0x1a420a),_0x43673c['set']('{ENCODE_FU'+'NC}',_0x1aad98),_0x43673c['set']('{SOURCE_FU'+'NC}',_0x4e32cb),_0x43673c['set']('{TARGET_FU'+'NC}',_0x4b70d9),_0x43673c['set']('{NUM_SAMPL'+'ES}',_0x42ce22),_0x43673c['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x42ce22))['toFixed'](-0x960+-0x19ef+0x710*0x5));const _0x63e9b9=_0x22d887['isWebGPU'],_0x4fbbd9=Pe['get'](_0x22d887,_0x63e9b9?it:Fe),_0x4c2404=new Map();_0x4c2404['set']('decodePS',_0x4fbbd9['get']('decodePS')),_0x4c2404['set']('encodePS',_0x4fbbd9['get']('encodePS')),_0x2a556d=$t['createShad'+'er'](_0x22d887,{'uniqueName':_0x867e80,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x4c2404,'fragmentDefines':_0x43673c});}Q['pushGpuMar'+'ker'](_0x22d887,'ReprojectT'+'exture'),_0x22d887['setBlendSt'+'ate'](pt['NOBLEND']);const _0x5974e8=_0x22d887['scope']['resolve'](_0x139f99['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x5974e8),_0x5974e8['setValue'](_0x139f99);const _0x3df6a2=_0x22d887['scope']['resolve']('params'),_0x52e63d=_0x22d887['scope']['resolve']('uvMod');_0x2edc94>-0x1*0x21f+-0x8f*-0xb+-0x406*0x1?_0x52e63d['setValue']([(_0x3b31e6+_0x2edc94*(-0x8d0+0x1787+-0x1*0xeb5))/_0x3b31e6,(_0x1208b3+_0x2edc94*(0x1*0x2111+-0xf5a+-0x11b5))/_0x1208b3,-_0x2edc94/_0x3b31e6,-_0x2edc94/_0x1208b3]):_0x52e63d['setValue']([0x1*0xcbb+-0x3*0xb45+0x1515,-0x18+-0x1b0+0x1c9,-0x6f9+-0x1eda+-0x1a5*-0x17,0x25*0x3b+0x12*-0x4f+-0x2f9]);const _0xb5e330=[-0x5*0x535+0xb*-0x1fb+0x17e9*0x2,_0x7a6b3f['width']*_0x7a6b3f['height']*(_0x7a6b3f['cubemap']?-0x5*-0x435+0x8c7+-0x1dca:0x820+0x296+-0xab5),_0x139f99['width']*_0x139f99['height']*(_0x139f99['cubemap']?-0xde+-0x1747+0x1*0x182b:-0x173b*-0x1+0x175*-0x17+0x1*0xa49)];if(_0x17f0a7){const _0x324433=_0x139f99['width']*_0x139f99['height']*(_0x139f99['cubemap']?-0x1f4+0xf*0x10d+-0xdc9:-0x4b*-0x20+0xf9c+0x5*-0x4ff),_0x2ff26b=_0x9fe7af==='ggx'?sb(_0x22d887,_0x42ce22,_0x370edf,_0x324433):_0x9fe7af==='lambert'?eb(_0x22d887,_0x42ce22,_0x324433):tb(_0x22d887,_0x42ce22,_0x370edf);_0x22d887['scope']['resolve']('samplesTex')['setValue'](_0x2ff26b),_0x22d887['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x8e2+0x1*0x1fff+-0x44*0x57)/_0x2ff26b['width'],(-0x4*0x99b+0x13a*0x11+0x1193*0x1)/_0x2ff26b['height']]);}for(let _0x4682d7=0x11f7+-0x327+-0x1da*0x8;_0x4682d7<(_0x7a6b3f['cubemap']?0x19f4+0xa61+-0x244f:-0x11b9+-0x1f7*-0x1+0xfc3);_0x4682d7++)if(_0x37d728===null||_0x4682d7===_0x37d728){const _0x34d2c3=new gt({'colorBuffer':_0x7a6b3f,'face':_0x4682d7,'depth':!(0x1c57+0x2*-0x12cb+-0x20*-0x4a),'flipY':_0x22d887['isWebGPU']});_0xb5e330[-0x5*-0x3+-0xdd8+0x1*0xdc9]=_0x4682d7,_0x3df6a2['setValue'](_0xb5e330),Ar(_0x22d887,_0x34d2c3,_0x2a556d,_0x3df99c==null?void(-0x1*0x176f+0xa4*0x1e+0x437):_0x3df99c['rect']),_0x34d2c3['destroy']();}return Q['popGpuMark'+'er'](_0x22d887),!(-0x1ff2+-0x3*0x526+-0x1*-0x2f64);}const Kd=(_0x2c985f,_0x9fb0ea=0x228a+-0x15dd*0x1+-0xcad)=>0x1e2f+-0x859+-0x15d5*0x1+Math['floor'](Math['log2'](Math['max'](_0x2c985f,_0x9fb0ea))),ib=_0x22fc3e=>_0x22fc3e['textureHal'+'fFloatRend'+'erable'],rb=_0xe8d671=>_0xe8d671['textureFlo'+'atRenderab'+'le'],ab=_0xba5177=>ib(_0xba5177)?nt:rb(_0xba5177)?Xt:Ne,nb=_0x46489e=>Ne,ob=(_0x1fdccf,_0x213d87,_0x5d766c,_0x28f706)=>new _e(_0x1fdccf,{'name':'lighting-'+_0x213d87,'cubemap':!(-0xbcb+0x987+0x244),'width':_0x213d87,'height':_0x213d87,'format':_0x5d766c,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(0x209*0x13+0x125c+0x3*-0x1302)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x30301d,_0x1b5694){const _0x4fe35a=_0x30301d['device'];Q['pushGpuMar'+'ker'](_0x4fe35a,'genSkyboxC'+'ubemap');const _0x3db026=ob(_0x4fe35a,_0x1b5694||(_0x30301d['cubemap']?_0x30301d['width']:_0x30301d['width']/(-0x1*0x1cd6+0x39*-0x6a+0x8be*0x6)),Ne);return vi(_0x30301d,_0x3db026,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x4fe35a),_0x3db026;}static['generateLi'+'ghtingSour'+'ce'](_0x1cf18f,_0x2f22fd){const _0x759aa9=_0x1cf18f['device'];Q['pushGpuMar'+'ker'](_0x759aa9,'genLightin'+'gSource');const _0x45387c=ab(_0x759aa9),_0x54644c=(_0x2f22fd==null?void(-0x10b1*0x2+0x2264+-0x56*0x3):_0x2f22fd['target'])||new _e(_0x759aa9,{'name':'lighting-s'+'ource','cubemap':!(-0x75b*-0x5+-0x29*-0x37+-0x2d96),'width':(_0x2f22fd==null?void(0x959+-0x13f9+0xaa0):_0x2f22fd['size'])||-0x2*-0x4a+-0x3c7*0x9+0x21eb,'height':(_0x2f22fd==null?void(0x26d*0x10+-0x4*0x359+0x196c*-0x1):_0x2f22fd['size'])||-0x2*-0xaa1+-0x1d*0xa0+-0x151*0x2,'format':_0x45387c,'type':_0x45387c===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x250f+0x19d*-0x1+-0x14*-0x1ef)});return vi(_0x1cf18f,_0x54644c,{'numSamples':_0x1cf18f['mipmaps']?-0x1*-0x1ef7+0x45*0x47+0x19*-0x201:-0x1*-0xddb+0x2f6*0x5+0x18a9*-0x1}),Q['popGpuMark'+'er'](_0x759aa9),_0x54644c;}static['generateAt'+'las'](_0x3b350f,_0x5ccb7e){const _0x523eb1=_0x3b350f['device'],_0x2bfd97=nb();Q['pushGpuMar'+'ker'](_0x523eb1,'genAtlas');const _0x27b4b9=(_0x5ccb7e==null?void(0x1eb0+-0x1efd+0x4d):_0x5ccb7e['target'])||new _e(_0x523eb1,{'name':'envAtlas','width':(_0x5ccb7e==null?void(0x129a*0x1+0x1f2e+-0x31c8):_0x5ccb7e['size'])||-0xc5*0x18+0x17a6+0x2*-0x197,'height':(_0x5ccb7e==null?void(-0x21*0x86+0xa*0x28d+-0x44*0x1f):_0x5ccb7e['size'])||0x3e3*0x2+-0x3*-0x371+-0x1*0x1019,'format':_0x2bfd97,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0xf4d*-0x1+-0x1*-0x26bc+-0x2*0xbb7)});Q['pushGpuMar'+'ker'](_0x523eb1,'mipmaps');const _0x1c34c5=_0x27b4b9['width']/(0xd79*-0x1+0x2568+0x463*-0x5),_0x2dfcc0=new re(0xc6c*-0x3+0x13d4+-0x12*-0xf8,-0x913+0x3*-0xfe+-0x1*-0xc0d,(0x6*-0x1ea+-0x7*-0x178+0xcd*0x4)*_0x1c34c5,(-0x6e*-0x3+-0x9d*-0x11+-0xab7)*_0x1c34c5),_0x2fa0fe=Kd(-0x2073+0x1915*-0x1+0x3a88)-Kd(-0x92c+-0x15b*0x9+0x1563);for(let _0x42f381=-0x2527*0x1+0x2356+0x1*0x1d1;_0x42f381<_0x2fa0fe;++_0x42f381)vi(_0x3b350f,_0x27b4b9,{'numSamples':0x1,'rect':_0x2dfcc0,'seamPixels':_0x1c34c5}),_0x2dfcc0['x']+=_0x2dfcc0['w'],_0x2dfcc0['y']+=_0x2dfcc0['w'],_0x2dfcc0['z']=Math['max'](0x347*0x1+0x25*-0x4a+0x76c,Math['floor'](_0x2dfcc0['z']*(0x1*-0x17df+-0x59f*0x1+0x1d7e*0x1+0.5))),_0x2dfcc0['w']=Math['max'](0x13*0x17+-0x7cc+0x618,Math['floor'](_0x2dfcc0['w']*(-0x26ab+-0x1da5+0x4450+0.5)));Q['popGpuMark'+'er'](_0x523eb1),Q['pushGpuMar'+'ker'](_0x523eb1,'reflection'+'s'),_0x2dfcc0['set'](0x1c5c+0xac7+0x1*-0x2723,(-0x1473+-0x873+-0x59*-0x56)*_0x1c34c5,(0x1*0x1253+-0x559*0x4+0x411)*_0x1c34c5,(-0x2099+-0x1224+0x3f1*0xd)*_0x1c34c5);for(let _0x319473=-0xc0e*-0x1+-0x21c1*-0x1+0x1a*-0x1c3;_0x319473<0xb89*-0x1+-0x66b+0x11fb;++_0x319473)vi(_0x3b350f,_0x27b4b9,{'numSamples':(_0x5ccb7e==null?void(0x4fd+-0xc00+0x703):_0x5ccb7e['numReflect'+'ionSamples'])||0x41*-0x6d+-0x2*0x1016+-0x3fd9*-0x1,'distribution':(_0x5ccb7e==null?void(0x6*0x469+-0x86f*-0x1+-0x22e5):_0x5ccb7e['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x622+-0x5b5*0x3+-0xba1*-0x2,-0x1522+0x8*0xc0+0x1722>>_0x319473*(0x1c66+-0x3*0xbff+0x799)),'rect':_0x2dfcc0,'seamPixels':_0x1c34c5}),_0x2dfcc0['y']+=_0x2dfcc0['w'],_0x2dfcc0['z']=Math['max'](-0x24ee+0x971+0x1b7e,Math['floor'](_0x2dfcc0['z']*(0x2*0x854+0xc0*0x1+0x8b4*-0x2+0.5))),_0x2dfcc0['w']=Math['max'](-0x191d+0x93b+0x245*0x7,Math['floor'](_0x2dfcc0['w']*(-0x1899+0x3b*0x83+-0x598+0.5)));return Q['popGpuMark'+'er'](_0x523eb1),Q['pushGpuMar'+'ker'](_0x523eb1,'ambient'),_0x2dfcc0['set']((-0x12ee*0x1+-0x262e+0x399c)*_0x1c34c5,(-0x1faf+-0x15*-0x49+-0x2*-0xd99)*_0x1c34c5,(0x101c+-0x1253+0x277)*_0x1c34c5,(-0x1648*-0x1+0x12e4+0x290c*-0x1)*_0x1c34c5),vi(_0x3b350f,_0x27b4b9,{'numSamples':(_0x5ccb7e==null?void(0x1e1a+-0x1f1a+0x100):_0x5ccb7e['numAmbient'+'Samples'])||0x1589*0x1+-0x1cde+-0x311*-0x5,'distribution':'lambert','rect':_0x2dfcc0,'seamPixels':_0x1c34c5}),Q['popGpuMark'+'er'](_0x523eb1),Q['popGpuMark'+'er'](_0x523eb1),_0x27b4b9;}static['generatePr'+'efilteredA'+'tlas'](_0x2cb43f,_0x48ff3d){const _0x1dbf6f=_0x2cb43f[0x1e3b+0x2176+-0x3fb1]['device'],_0x564fd3=_0x2cb43f[0x2264+0x14a3*-0x1+0x7*-0x1f7]['format'],_0x2961c4=_0x2cb43f[-0xbdf*0x2+0x1dcf+-0x611]['type'];Q['pushGpuMar'+'ker'](_0x1dbf6f,'genPrefilt'+'eredAtlas');const _0x4fd5d4=(_0x48ff3d==null?void(-0x14ce+0x3*0xc0d+0xf59*-0x1):_0x48ff3d['target'])||new _e(_0x1dbf6f,{'name':'envPrefilt'+'eredAtlas','width':(_0x48ff3d==null?void(0x1*0x7c7+-0x2ef+-0x4d8):_0x48ff3d['size'])||0x1da5+0x111*-0x13+-0x762,'height':(_0x48ff3d==null?void(0x3c*-0x5a+-0x1775*-0x1+-0x25d):_0x48ff3d['size'])||-0x31*-0x8+-0x1*-0x18d3+-0x185b,'format':_0x564fd3,'type':_0x2961c4,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x1*-0xa4d+0xe*0xbf+0x12*-0x2)});Q['pushGpuMar'+'ker'](_0x1dbf6f,'mipmaps');const _0x35652b=_0x4fd5d4['width']/(0x1928+-0xbc7+0x3*-0x3cb),_0x782148=new re(0x1*0x3c7+-0x1b22+0x175b,0xcb9*0x3+0x1baf+-0x2*0x20ed,(-0x21e5+-0x350*-0x2+0x1d45)*_0x35652b,(-0xf6d+0x1237+-0x1ca)*_0x35652b),_0x4c1026=Kd(0x1ef1+-0xf6e+0xd83*-0x1);for(let _0x135462=0x29*-0x79+0x2b*-0x1+-0xc*-0x1a1;_0x135462<_0x4c1026;++_0x135462)vi(_0x2cb43f[0x1435+-0x2f*0x79+-0x1*-0x202],_0x4fd5d4,{'numSamples':0x1,'rect':_0x782148,'seamPixels':_0x35652b}),_0x782148['x']+=_0x782148['w'],_0x782148['y']+=_0x782148['w'],_0x782148['z']=Math['max'](-0x1b1a+0x6*0x4f7+0x3*-0xe5,Math['floor'](_0x782148['z']*(0x726+0x219b+-0x28c1+0.5))),_0x782148['w']=Math['max'](0xfc7+0x326+-0x12ec,Math['floor'](_0x782148['w']*(0x155*0x2+0xcb8+0xb3*-0x16+0.5)));Q['popGpuMark'+'er'](_0x1dbf6f),Q['pushGpuMar'+'ker'](_0x1dbf6f,'reflection'+'s'),_0x782148['set'](-0x18c8+-0x820+-0x3a8*-0x9,(0x2291*-0x1+0x2575+-0x1e4)*_0x35652b,(0x2ce*0x2+-0x1abf+0x1623)*_0x35652b,(0x56f+0x3*-0x66f+0xe5e)*_0x35652b);for(let _0x31a202=-0x1d2d+0x19d3+-0x35b*-0x1;_0x31a202<_0x2cb43f['length'];++_0x31a202)vi(_0x2cb43f[_0x31a202],_0x4fd5d4,{'numSamples':0x1,'rect':_0x782148,'seamPixels':_0x35652b}),_0x782148['y']+=_0x782148['w'],_0x782148['z']=Math['max'](-0x134f+0x4*0xb0+0x1090,Math['floor'](_0x782148['z']*(0x24f2+-0x1912+-0xbe0+0.5))),_0x782148['w']=Math['max'](0x359+0x2*0xb1d+-0x1992,Math['floor'](_0x782148['w']*(-0xaa+0x4*-0x41b+0x1116+0.5)));return Q['popGpuMark'+'er'](_0x1dbf6f),Q['pushGpuMar'+'ker'](_0x1dbf6f,'ambient'),_0x782148['set']((-0x79f+-0xc1f+-0x1*-0x143e)*_0x35652b,(0xc81*0x1+-0x4fd*0x1+-0x604)*_0x35652b,(0x14bb+0x2548+0x66b*-0x9)*_0x35652b,(0x1*0x1b1b+-0x16d+-0x198e)*_0x35652b),_0x48ff3d!=null&&_0x48ff3d['legacyAmbi'+'ent']?vi(_0x2cb43f[-0x327*-0x9+0x1160+-0x2dba],_0x4fd5d4,{'numSamples':0x1,'rect':_0x782148,'seamPixels':_0x35652b}):vi(_0x2cb43f[0x2ff*0x3+0x178+-0xa75],_0x4fd5d4,{'numSamples':(_0x48ff3d==null?void(-0x21d5+-0x7ac*0x5+0x4831):_0x48ff3d['numSamples'])||0x285+0x1153+-0xbd8,'distribution':'lambert','rect':_0x782148,'seamPixels':_0x35652b}),Q['popGpuMark'+'er'](_0x1dbf6f),Q['popGpuMark'+'er'](_0x1dbf6f),_0x4fd5d4;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x3f8fcd,_0x2bcb1e)=>{const _0x293824=_0x3f8fcd['split']('.')['map'](_0x4c1b64=>parseInt(_0x4c1b64,0x20e*0x3+0x65f*0x1+0x7*-0x1c9)),_0x4760e3=_0x2bcb1e['split']('.')['map'](_0x31ad46=>parseInt(_0x31ad46,0x7*0x25f+0x11a+-0x11a9));return _0x293824[0x13ea+0x2676+-0x3a60]<_0x4760e3[-0x855+0x22bd+-0x1a68]||_0x293824[0x251e*-0x1+0x377*0x5+0x13cb]===_0x4760e3[-0x1772+-0x12a*0x14+0x2eba]&&_0x293824[0x1*0x1a4b+0x90a+0x11aa*-0x2]<_0x4760e3[0xd89+0x1b94+-0x291c];},hb=(_0x136645,_0x4c35ec)=>{for(const _0xa94d7d of _0x136645['keys']())if(V_['hasOwnProp'+'erty'](_0xa94d7d)){const _0x3b05b6=V_[_0xa94d7d];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0xa94d7d+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x3b05b6+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x1c996b=lb[_0xa94d7d];_0x1c996b&&(!_0x4c35ec||cb(_0x4c35ec,_0x1c996b))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0xa94d7d+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1c996b+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x4c35ec||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0xf57ef0,_0x125402,_0x4930b6=!(-0x29*-0xc2+0x1*-0x1a9e+-0x1e*0x26)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0xf57ef0,this['options']=_0x125402);const _0x47974e=_0x125402['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0xf57ef0['isWebGPU']&&_0x4930b6&&(_0x47974e!=null&&_0x47974e['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x125402['userAttrib'+'utes']){for(const [_0x318154,_0xb88db]of Object['entries'](_0x125402['userAttrib'+'utes']))this['attributes'][_0xb88db]=_0x318154;}const _0x12fd08=Pe['get'](_0xf57ef0,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x12fd08),_0x47974e){const _0x35e168=this['shaderLang'+'uage']===Fe?_0x47974e['glsl']:_0x47974e['wgsl'];w['call'](()=>{hb(_0x35e168,_0x47974e['version']);}),_0x35e168['forEach']((_0x4453b1,_0x4bce23)=>{for(const _0x385c12 in Zd)Zd['hasOwnProp'+'erty'](_0x385c12)&&_0x4453b1['indexOf'](_0x385c12)>=0xb44+0x13f*-0x5+-0x509&&(this['attributes'][_0x385c12]=Zd[_0x385c12]);this['chunks']['set'](_0x4bce23,_0x4453b1);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x125402['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x125402['lights']['length']>-0xe9c+-0x1190*-0x2+-0x65*0x34||_0x125402['dirLightMa'+'pEnabled']||_0x125402['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x125402['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x125402['useSpecula'+'r']||_0x125402['ambientSH']||_0x125402['useHeights']||_0x125402['enableGGXS'+'pecular']||_0x125402['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x125402['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x125402['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x125402['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x125402['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x1aadfb,_0x408f77,_0x4455cb=''){_0x1aadfb&&this['fDefines']['set'](_0x408f77,_0x4455cb);}['generateVe'+'rtexShader'](_0x15caaf,_0x50c38a,_0x3f0992){const {options:_0x22d5f0,vDefines:_0x5c1bcd,attributes:_0x161a3b}=this,_0x3d850f=new Map();if(_0x3d850f['set']('vPositionW','vec3'),(_0x22d5f0['nineSliced'+'Mode']===Pt||_0x22d5f0['nineSliced'+'Mode']===Mt)&&_0x5c1bcd['set']('NINESLICED',!(-0x5*0x44f+-0x5*-0x7b5+-0x10fe)),this['options']['linearDept'+'h']&&(_0x5c1bcd['set']('LINEAR_DEP'+'TH',!(-0xb4d+-0x12cb+0x1e18)),_0x3d850f['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x5c1bcd['set']('NORMALS',!(-0x813+-0x5d*0x67+0x2d7e)),this['options']['useInstanc'+'ing']){const _0x1b6197=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x1b6197['get']('transformI'+'nstancingV'+'S')&&(_0x161a3b['instance_l'+'ine1']=Mp,_0x161a3b['instance_l'+'ine2']=Dp,_0x161a3b['instance_l'+'ine3']=Ip,_0x161a3b['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x161a3b['vertex_nor'+'mal']=gs,_0x3d850f['set']('vNormalW','vec3'),_0x22d5f0['hasTangent'+'s']&&(_0x22d5f0['useHeights']||_0x22d5f0['useNormals']||_0x22d5f0['useClearCo'+'atNormals']||_0x22d5f0['enableGGXS'+'pecular'])?(_0x5c1bcd['set']('TANGENTS',!(0x5*0x673+-0x7c*0x5+-0x1dd3)),_0x161a3b['vertex_tan'+'gent']=yi,_0x3d850f['set']('vTangentW','vec3'),_0x3d850f['set']('vBinormalW','vec3')):_0x22d5f0['enableGGXS'+'pecular']&&(_0x5c1bcd['set']('GGX_SPECUL'+'AR',!(0x2*-0x1373+-0x35*-0x3+-0x29*-0xef)),_0x3d850f['set']('vObjectSpa'+'ceUpW','vec3')));const _0x521bbe=0x2f*0x84+0x1*-0x1e95+0x65b*0x1;for(let _0x3b0b22=0x3fc*-0x6+-0x1b5b+0x3343;_0x3b0b22<_0x521bbe;_0x3b0b22++)_0x15caaf[_0x3b0b22]&&(_0x5c1bcd['set']('UV'+_0x3b0b22,!(0x23d5+-0x22*0x9c+0x35*-0x49)),_0x161a3b['vertex_tex'+'Coord'+_0x3b0b22]='TEXCOORD'+_0x3b0b22),_0x50c38a[_0x3b0b22]&&(_0x5c1bcd['set']('UV'+_0x3b0b22+('_UNMODIFIE'+'D'),!(0xb48*-0x1+0x1720+-0x4*0x2f6)),_0x3d850f['set']('vUv'+_0x3b0b22,'vec2'));let _0x53d3bf=0x625*0x3+0xed2*0x1+0x2141*-0x1;const _0x3fd3e8=new Set();_0x3f0992['forEach'](_0x2ad492=>{const {id:_0x3287cb,uv:_0x551f3c,name:_0x4b11d9}=_0x2ad492,_0x579213=_0x3287cb+_0x551f3c*(-0xaf4+0xb45*-0x2+0x21e2*0x1);if(!_0x3fd3e8['has'](_0x579213)){_0x3fd3e8['add'](_0x579213),_0x3d850f['set']('vUV'+_0x551f3c+'_'+_0x3287cb,'vec2');const _0x79629a='texture_'+_0x4b11d9+('MapTransfo'+'rm');_0x5c1bcd['set']('{TRANSFORM'+'_NAME_'+_0x53d3bf+'}',_0x79629a),_0x5c1bcd['set']('{TRANSFORM'+'_UV_'+_0x53d3bf+'}',_0x551f3c),_0x5c1bcd['set']('{TRANSFORM'+'_ID_'+_0x53d3bf+'}',_0x3287cb),_0x53d3bf++;}}),_0x5c1bcd['set']('UV_TRANSFO'+'RMS_COUNT',_0x53d3bf),_0x22d5f0['vertexColo'+'rs']&&(_0x161a3b['vertex_col'+'or']=Wt,_0x5c1bcd['set']('VERTEX_COL'+'OR',!(-0x24d4+0xae4+0x19f0)),_0x3d850f['set']('vVertexCol'+'or','vec4')),_0x22d5f0['useMsdf']&&_0x22d5f0['msdfTextAt'+'tribute']&&(_0x161a3b['vertex_out'+'lineParame'+'ters']=Ko,_0x161a3b['vertex_sha'+'dowParamet'+'ers']=Zo,_0x5c1bcd['set']('MSDF',!(0x6fa+0xba8+0x951*-0x2))),(_0x22d5f0['useMorphPo'+'sition']||_0x22d5f0['useMorphNo'+'rmal'])&&(_0x5c1bcd['set']('MORPHING',!(-0x9*-0x227+0x1*0x322+-0x1*0x1681)),_0x22d5f0['useMorphTe'+'xtureBased'+'Int']&&_0x5c1bcd['set']('MORPHING_I'+'NT',!(-0x1b19+0xad*-0xb+0x2288)),_0x22d5f0['useMorphPo'+'sition']&&_0x5c1bcd['set']('MORPHING_P'+'OSITION',!(0x20ff*0x1+-0x65*-0x6+0xb*-0x337)),_0x22d5f0['useMorphNo'+'rmal']&&_0x5c1bcd['set']('MORPHING_N'+'ORMAL',!(-0x106*0x1f+-0x5d5+0x783*0x5)),_0x161a3b['morph_vert'+'ex_id']=Ln),_0x22d5f0['skin']&&(_0x161a3b['vertex_bon'+'eIndices']=us,_0x22d5f0['batch']?_0x5c1bcd['set']('BATCH',!(0x1*-0x1652+0xb0e+0xb44)):(_0x161a3b['vertex_bon'+'eWeights']=gi,_0x5c1bcd['set']('SKIN',!(0x2*-0xcc6+-0xb*0xe9+0x238f)))),_0x22d5f0['useInstanc'+'ing']&&_0x5c1bcd['set']('INSTANCING',!(-0x9f*0xb+-0x26e*-0x1+0x467)),_0x22d5f0['screenSpac'+'e']&&_0x5c1bcd['set']('SCREENSPAC'+'E',!(0x10a*-0x4+0x15b4+-0x4*0x463)),_0x22d5f0['pixelSnap']&&_0x5c1bcd['set']('PIXELSNAP',!(0x17d8+0xe50+-0x8*0x4c5)),_0x3d850f['forEach']((_0x32122f,_0x460714)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x460714['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x460714+':\x20'+Fy['get'](_0x32122f)+';\x0a':'varying\x20'+_0x32122f+'\x20'+_0x460714+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x3a21ee,_0x1600ce){const _0x2a3d92=this['fDefines'],_0x3a6a07=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x3a6a07['lights']['length']),_0x3a21ee&&_0x2a3d92['set']('AREA_LIGHT'+'S',!(0xe5f+0x20b*-0x8+0x1f9)),_0x1600ce&&this['lighting']&&(_0x2a3d92['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x19eb+-0x7af+0x91e*-0x2)),_0x3a6a07['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2a3d92['set']('CLUSTER_CO'+'OKIES',!(0x7ac+0x2555+-0x2d01)),_0x3a6a07['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x2a3d92['set']('CLUSTER_AR'+'EALIGHTS',!(0x1a2c+0x2*-0x43c+-0x11b4)),_0x3a6a07['lightMaskD'+'ynamic']&&_0x2a3d92['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x2357*0x1+0x412+0x39*-0xb1)),_0x3a6a07['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x3a6a07['noShadow'])){const _0x1368cd=qi['get'](_0x3a6a07['clusteredL'+'ightingSha'+'dowType']);_0x2a3d92['set']('CLUSTER_SH'+'ADOWS',!(0x22df+-0x1*-0x6b5+0x6ee*-0x6)),_0x2a3d92['set']('SHADOW_KIN'+'D_'+_0x1368cd['kind'],!(0xc46+0x181d+-0x2463)),_0x2a3d92['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x1368cd['kind'],!(-0x224*0x1+0x1855*-0x1+0x1b*0xfb));}for(let _0x207166=0xbbf*0x1+-0x84a*-0x1+0xdf*-0x17;_0x207166<_0x3a6a07['lights']['length'];_0x207166++){const _0x1d6e95=_0x3a6a07['lights'][_0x207166],_0x3dbf9e=_0x1d6e95['_type'];if(_0x1600ce&&_0x3dbf9e!==ve)continue;const _0x4d086d=_0x3a21ee&&_0x1d6e95['_shape']?_0x1d6e95['_shape']:Ys,_0x1c7647=_0x1d6e95['_shadowTyp'+'e'],_0x2049fb=_0x1d6e95['castShadow'+'s']&&!_0x3a6a07['noShadow'],_0x84633b=qi['get'](_0x1c7647);w['assert'](_0x84633b),_0x2a3d92['set']('LIGHT'+_0x207166,!(-0x1ec*0x11+0x32*0x36+0x1620)),_0x2a3d92['set']('LIGHT'+_0x207166+'TYPE',''+u_[_0x3dbf9e]),_0x2a3d92['set']('LIGHT'+_0x207166+'SHADOWTYPE',''+_0x84633b['name']),_0x2a3d92['set']('LIGHT'+_0x207166+'SHAPE',''+Fw[_0x4d086d]),_0x2a3d92['set']('LIGHT'+_0x207166+'FALLOFF',''+Nw[_0x1d6e95['_falloffMo'+'de']]),_0x1d6e95['affectSpec'+'ularity']&&_0x2a3d92['set']('LIGHT'+_0x207166+('AFFECT_SPE'+'CULARITY'),!(-0x6a6+-0x1f97+-0x263d*-0x1)),_0x1d6e95['_cookie']&&(_0x3dbf9e===Ze&&!_0x1d6e95['_cookie']['_cubemap']||_0x3dbf9e===Ke&&_0x1d6e95['_cookie']['_cubemap'])&&(_0x2a3d92['set']('LIGHT'+_0x207166+'COOKIE',!(-0x10c3+-0x25a*0x5+0x95*0x31)),_0x2a3d92['set']('{LIGHT'+_0x207166+('COOKIE_CHA'+'NNEL}'),_0x1d6e95['_cookieCha'+'nnel']),_0x3dbf9e===Ze&&(_0x1d6e95['_cookieTra'+'nsform']&&_0x2a3d92['set']('LIGHT'+_0x207166+('COOKIE_TRA'+'NSFORM'),!(-0x112e+0x449*-0x3+0x1e09)),_0x1d6e95['_cookieFal'+'loff']&&_0x2a3d92['set']('LIGHT'+_0x207166+('COOKIE_FAL'+'LOFF'),!(0x22a9*-0x1+0x1a03+0x1b*0x52)))),_0x2049fb&&(_0x2a3d92['set']('LIGHT'+_0x207166+'CASTSHADOW',!(-0x42*-0x57+0x1b47*-0x1+0x4d9)),_0x84633b['pcf']&&_0x2a3d92['set']('LIGHT'+_0x207166+'SHADOW_PCF',!(0x2*0x1132+0x1+-0x2265)),_0x1d6e95['_normalOff'+'setBias']&&!_0x1d6e95['_isVsm']&&_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x1ac1+0x2c6*0x9+0x5bf*-0x9)),_0x3dbf9e===ve&&(_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_SA'+'MPLE_ORTHO'),!(0x1fe0+0xc59*-0x3+0x1b*0x31)),_0x1d6e95['cascadeBle'+'nd']>-0xcee+0x1*0x1a8a+-0x1*0xd9c&&_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0xcc2+-0x456+0x1118)),_0x1d6e95['numCascade'+'s']>0xfa4+0x5*-0x431+0x552&&_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_CA'+'SCADES'),!(-0x6ee*0x1+0x225+0x4c9))),(_0x84633b['pcf']||_0x84633b['pcss']||this['device']['isWebGPU'])&&_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x1a*0xa0+-0x6f0*-0x2+-0x1e20)),_0x3dbf9e===Ke&&_0x2a3d92['set']('LIGHT'+_0x207166+('_SHADOW_SA'+'MPLE_POINT'),!(0x10e+-0xaf3*-0x1+-0xc01))),_0x2049fb&&(_0x2a3d92['set']('SHADOW_KIN'+'D_'+_0x84633b['kind'],!(0x21*-0x11+0x12a9*0x2+-0x2321)),_0x3dbf9e===ve&&_0x2a3d92['set']('SHADOW_DIR'+'ECTIONAL',!(0x7d*0x49+-0x27*-0x47+-0x2e76)));}}['prepareFor'+'wardPass'](_0x127818){const {options:_0x5501f7}=this,_0x2ad71d=_0x5501f7['clusteredL'+'ightingEna'+'bled']&&_0x5501f7['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x5501f7['lights']['some'](_0x2a8694=>_0x2a8694['_shape']&&_0x2a8694['_shape']!==Ys),_0x42fcb3=!_0x5501f7['lightMapEn'+'abled']||_0x5501f7['lightMapWi'+'thoutAmbie'+'nt'],_0x1cfbcb=this['needsNorma'+'l']&&(_0x5501f7['useNormals']||_0x5501f7['useClearCo'+'atNormals']||_0x5501f7['enableGGXS'+'pecular']&&!_0x5501f7['useHeights']);_0x5501f7['useSpecula'+'r']&&(this['fDefineSet'](!(-0x228e+0x989+0x15*0x131),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x5501f7['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x5501f7['fresnelMod'+'el']>0x32d*-0x3+-0x175a+0x20e1,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x5501f7['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x5501f7['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x5501f7['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x5501f7['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x5501f7['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x5501f7['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x5501f7['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x5501f7['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x5501f7['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x5501f7['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x5501f7['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x5501f7['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x5501f7['skyboxInte'+'nsity']>0x616*0x1+0x1*-0x1c21+0x160b,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x5501f7['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x5501f7['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x1cfbcb,'LIT_TBN'),this['fDefineSet'](_0x42fcb3,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x5501f7['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x5501f7['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x5501f7['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x5501f7['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x5501f7['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x5501f7['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x5501f7['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x5501f7['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x5501f7['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x5501f7['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x5501f7['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x5501f7['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x5501f7['useAo'],'LIT_AO'),this['fDefineSet'](_0x5501f7['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x5501f7['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x5501f7['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x5501f7['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0xa*0x37+-0x1197+0x13bd),'LIT_FRESNE'+'L_MODEL',Rw[_0x5501f7['fresnelMod'+'el']]),this['fDefineSet'](!(-0x2005+0x737+0xfe*0x19),'LIT_NONE_S'+'LICE_MODE',qw[_0x5501f7['nineSliced'+'Mode']]),this['fDefineSet'](!(0x214a*-0x1+0x2689+-0x53f*0x1),'LIT_BLEND_'+'TYPE',Yy[_0x5501f7['blendType']]),this['fDefineSet'](!(0xc80+-0x1*0x67f+0x1*-0x601),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x5501f7['cubeMapPro'+'jection']]),this['fDefineSet'](!(0x1b2+-0x1f91+0x1ddf*0x1),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x5501f7['occludeSpe'+'cular']]),this['fDefineSet'](!(-0x9*-0x162+0x162+-0xdd4),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x5501f7['reflection'+'Source']]),this['fDefineSet'](!(-0xa89+0xf+0xa7a),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x5501f7['ambientSou'+'rce']]),this['fDefineSet'](!(-0x1d8c+0x1363+0xa29),'{lightingU'+'v}',_0x127818??''),this['fDefineSet'](!(-0xe5*0x13+-0x196*0x11+0x2bf5),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x5501f7['reflection'+'Encoding'])),this['fDefineSet'](!(0x709+0x1d3c*0x1+-0x2445),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x5501f7['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x1cc8+0x760+0x1568),'{ambientDe'+'code}',Tr['decodeFunc'](_0x5501f7['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x2ad71d,_0x5501f7['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x4144f5}=this,_0x2bc4f4=this['shaderPass'+'Info']['lightType'],_0x367c91=this['shaderPass'+'Info']['shadowType'],_0x4b90ce=qi['get'](_0x367c91);w['assert'](_0x4b90ce);const _0x3de5bf=_0x2bc4f4===ve||!_0x4b90ce['vsm']&&_0x2bc4f4===Ze;this['fDefineSet'](_0x3de5bf,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0xeed*0x1+0x127c+-0x2169),'LIGHT_TYPE',''+u_[_0x2bc4f4]),this['fDefineSet'](!(0x2*-0x81b+0x47*0x3b+-0x27),'SHADOW_TYP'+'E',''+_0x4b90ce['name']),this['fDefineSet'](_0x4144f5['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x7fc135,_0x4df54d,_0x54d87b){const _0x51202a=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x7fc135??''),this['includes']['set']('frontendCo'+'dePS',_0x4df54d??''),_0x51202a['pass']===Zn||_0x51202a['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x54d87b)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(0x107a+0x1acb*0x1+-0x2b44)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x1*0x989+0x2*0x15d+0x6cf),h(this,'alphaTest',!(-0x2159+0x17e6+0x25d*0x4)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x5e*0x17+0x7*0x41e+-0x2543)),h(this,'screenSpac'+'e',!(-0xa7f*0x3+-0xf5b+0x2ed9)),h(this,'skin',!(-0x17df+-0xd5c+0x253c)),h(this,'batch',!(0x2*0x1a1+0xb93*0x3+-0x25fa*0x1)),h(this,'useInstanc'+'ing',!(-0x2343+-0x2384+0x46c8)),h(this,'useMorphPo'+'sition',!(-0x1c91+-0xd*-0x26+0x1aa4)),h(this,'useMorphNo'+'rmal',!(0xa0+-0x65*-0x43+0xd87*-0x2)),h(this,'useMorphTe'+'xtureBased'+'Int',!(-0xe3c+-0x119e+-0x1fdb*-0x1)),h(this,'nineSliced'+'Mode',0x1cce+-0x1*-0xb92+-0x2860),h(this,'clusteredL'+'ightingEna'+'bled',!(-0x14b8+0x197e+0x5e*-0xd)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x26b*-0x1+-0x303+0x56f)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x4f9+0x26*-0xc1+0x362*0x7)),h(this,'clusteredL'+'ightingSha'+'dowType',0xd58+-0x57e+0xf*-0x86),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x1*0x1a7d+0x147b+-0x2ef7)),h(this,'vertexColo'+'rs',!(0x631*0x1+0x873+-0xea3)),h(this,'lightMapEn'+'abled',!(0x1771+-0xa2a*-0x1+-0x219a)),h(this,'dirLightMa'+'pEnabled',!(-0x5*-0x655+-0x7*0x400+0x3*-0x138)),h(this,'useHeights',!(0x153d+0x1*-0x8b0+-0xc8c)),h(this,'useNormals',!(0xf1c*-0x1+0xac+0xe71)),h(this,'useClearCo'+'atNormals',!(-0x1ed6*0x1+0x1ced+0x1ea)),h(this,'useAo',!(0x1*-0x765+-0x20f7*0x1+0x285d*0x1)),h(this,'diffuseMap'+'Enabled',!(-0xf*0x8f+-0x1*0x15e6+0x1e48)),h(this,'pixelSnap',!(0x8*0x48e+0x1a47+-0x3eb6)),h(this,'ambientSH',!(-0x1b37+0x1762*-0x1+0x329a)),h(this,'ssao',!(0x1*-0x599+0x96b+0x1*-0x3d1)),h(this,'twoSidedLi'+'ghting',!(0x4*0x544+0x460+-0x196f)),h(this,'occludeDir'+'ect',!(0x1*0x1b4f+-0x937*0x1+0xb*-0x1a5)),h(this,'occludeSpe'+'cular',0x2610+0x1da2+-0x43b2),h(this,'occludeSpe'+'cularFloat',!(0x10*-0x4b+0x1*0x1091+-0xbe0)),h(this,'useMsdf',!(0x252c+0x205b+-0x4586)),h(this,'msdfTextAt'+'tribute',!(-0x1f68+-0x1568+0x34d1)),h(this,'alphaToCov'+'erage',!(0xcf7*0x3+0x1167+0x384b*-0x1)),h(this,'opacityFad'+'esSpecular',!(-0xad1+-0x1fd3*-0x1+-0x1501)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x5bd*0x5+-0x1*0x7c3+-0x91d*-0x4),h(this,'useSpecula'+'r',!(0x101+0xb5*-0x27+0x1a93)),h(this,'useSpecula'+'rityFactor',!(-0xf2*0xa+-0x12b3+0x1c28)),h(this,'enableGGXS'+'pecular',!(-0x1*0x1d53+0xbad+-0x1*-0x11a7)),h(this,'fresnelMod'+'el',0x1772+-0x17be+0x4c),h(this,'useRefract'+'ion',!(-0x53*-0x56+-0xb36+0x11*-0xfb)),h(this,'useClearCo'+'at',!(-0x9f0+0xa8d+-0x9c)),h(this,'useSheen',!(0x155*0x19+-0x2c*0x1+-0x20*0x109)),h(this,'useIridesc'+'ence',!(0x1d2b+0x79*-0x1+-0xd*0x235)),h(this,'useMetalne'+'ss',!(-0xa26+0x7e8+-0x23f*-0x1)),h(this,'useDynamic'+'Refraction',!(0x11cc+0x7a*-0x4c+-0x1*-0x126d)),h(this,'dispersion',!(-0xa*0x114+-0x17*-0xda+0x1*-0x8cd)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x40c+-0x3*-0x1c5+0x17*-0xe)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x1f*0xe2+0x1454+-0x70b*-0x1),h(this,'useCubeMap'+'Rotation',!(-0x14ba+-0x2630+0x3aeb)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x14e8+0x1*0xf53+-0x243a)),h(this,'lights',[]),h(this,'noShadow',!(0x9*0x3d0+-0x9*-0x17f+0x5*-0x98e)),h(this,'lightMaskD'+'ynamic',-0x803*-0x2+-0x555+-0xab1),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x2*-0x1187+-0x4*0x2dc+-0x179d)),h(this,'shadowCatc'+'her',!(0x268d+0x6c*-0x17+0x2*-0xe6c));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0xc92+-0x1e*-0xd5+-0x2587)),h(this,'specularTi'+'nt',!(0x2369+0x347*-0x1+-0x1*0x2021)),h(this,'metalnessT'+'int',!(0x2037+-0x2326+0x2f0)),h(this,'glossTint',!(-0x11a8+0x401+-0x5c*-0x26)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(-0x172*-0x4+0x161*0x5+-0xcac)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x22c4+0x199*0x6+0x2c59*-0x1)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0xe77+-0x22b2+0x312a)),h(this,'glossInver'+'t',!(-0x71*-0x25+0x4ee*-0x3+-0x18a)),h(this,'sheenGloss'+'Invert',!(0x24f+-0x7*0x543+0x2287)),h(this,'clearCoatG'+'lossInvert',!(0x1*-0x15bc+-0x1*0x1b63+0x3120)),h(this,'useAO',!(-0x5c9*-0x1+0xaad*0x3+0x25cf*-0x1)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x3e4c81){return'lit'+Object['keys'](_0x3e4c81)['sort']()['map'](_0x47a1f7=>{var _0x333346;return _0x47a1f7==='shaderChun'+'ks'?((_0x333346=_0x3e4c81['shaderChun'+'ks'])==null?void(-0x13b5+0x5*0x23b+0x88e*0x1):_0x333346['key'])??'':_0x47a1f7==='lights'?Ev['generateLi'+'ghtsKey'](_0x3e4c81):_0x47a1f7+_0x3e4c81[_0x47a1f7];})['join']('\x0a');},'generateLightsKey'(_0xae0934){return'lights:'+_0xae0934['lights']['map'](_0x14cfae=>!_0xae0934['clusteredL'+'ightingEna'+'bled']||_0x14cfae['_type']===ve?_0x14cfae['key']+',':'')['join']('');}},bn=[],Qd=_0x82943c=>Object['keys'](_0x82943c)['filter'](_0x487602=>_0x487602!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x522a2d){let _0x31015c;return _0x522a2d===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x522a2d)),_0x31015c=this['propsMin']):_0x522a2d===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x522a2d)),_0x31015c=this['props']):_0x31015c=Qd(_0x522a2d),'standard:\x0a'+ya['definesHas'+'h'](_0x522a2d['defines'])+'\x0a'+_0x31015c['map'](_0x508985=>_0x508985+_0x522a2d[_0x508985])['join']('\x0a')+Ev['generateKe'+'y'](_0x522a2d['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x4661cd,_0x15d1b1,_0xc31ff2){const _0x4f6b97=_0xc31ff2[_0x4661cd],_0x2e0a71=_0xc31ff2[_0x15d1b1],_0x457e93=_0xc31ff2['litOptions']['pass']===Aa;let _0x175f70;return _0x457e93&&_0xc31ff2['litOptions']['nineSliced'+'Mode']===Pt||_0x457e93&&_0xc31ff2['litOptions']['nineSliced'+'Mode']===Mt?_0x175f70='nineSliced'+'Uv':(_0x4f6b97===0xc4d+-0x5*-0x58c+-0x2809?_0x175f70='vUv'+_0x2e0a71:_0x175f70='vUV'+_0x2e0a71+'_'+_0x4f6b97,_0xc31ff2['heightMap']&&_0x4661cd!=='heightMapT'+'ransform'&&(_0x175f70+='\x20+\x20dUvOffs'+'et')),_0x175f70;}['_validateM'+'apChunk'](_0x4e30be,_0x545253,_0x19fa7f){w['call'](()=>{const _0x147e31=_0x19fa7f['get'](_0x545253)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x107a00=[],_0x149242=(_0x1e3c05,_0x2074c6)=>{_0x147e31['includes'](_0x1e3c05)&&_0x107a00['push']('\x20\x20'+_0x1e3c05+'\x20->\x20'+_0x2074c6);};[['$UV','{STD_'+_0x4e30be+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x4e30be+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x4e30be+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x4e30be+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x4e30be+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x4e30be+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x4e30be+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x5d70eb,_0x3e49f4])=>_0x149242(_0x5d70eb,_0x3e49f4)),[['MAPFLOAT','STD_'+_0x4e30be+'_CONSTANT'],['MAPCOLOR','STD_'+_0x4e30be+'_CONSTANT'],['MAPVERTEX','STD_'+_0x4e30be+'_VERTEX'],['MAPTEXTURE','STD_'+_0x4e30be+'_TEXTURE'],['MAPINVERT','STD_'+_0x4e30be+'_INVERT']]['forEach'](([_0x9fef65,_0x19efe3])=>_0x149242(_0x9fef65,_0x19efe3)),_0x147e31['includes']('$texture2D'+'SAMPLE')&&_0x149242('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x107a00['length']>0x1d33+-0x322+-0x1a11&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x545253+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x107a00['join']('\x0a'),{'code':_0x147e31});});}['_addMapDef'+'ines'](_0x8c4cf8,_0x3946b4,_0x1d8d3a,_0x3aef0c,_0x436195,_0x1da4e1,_0x208869=null){const _0x29ebbd=_0x3946b4+'Map',_0x31950f=_0x3946b4['toUpperCas'+'e'](),_0x4bae79=_0x29ebbd+'Uv',_0x56fb24=_0x29ebbd+'Identifier',_0x4f460e=_0x29ebbd+'Transform',_0x430258=_0x29ebbd+'Channel',_0x35efc1=_0x3946b4+('VertexColo'+'rChannel'),_0x11d2b4=_0x3946b4+'Tint',_0x3749b=_0x3946b4+('VertexColo'+'r'),_0x20035f=_0x3946b4+'Mode',_0x31fcbf=_0x3946b4+'Invert',_0x5f23b0=_0x3aef0c[_0x11d2b4],_0x5e9fdf=_0x3aef0c[_0x3749b],_0x2bfce4=_0x3aef0c[_0x29ebbd],_0x46e69c=_0x3aef0c[_0x56fb24],_0x243364=_0x3aef0c[_0x20035f],_0x2df8c6=_0x436195['get'](_0x1d8d3a);if(w['assert'](_0x2df8c6,'Shader\x20chu'+'nk\x20'+_0x1d8d3a+('\x20not\x20found'+'.')),w['call'](()=>{_0x2df8c6&&this['_validateM'+'apChunk'](_0x31950f,_0x1d8d3a,_0x436195);}),_0x2bfce4){_0x8c4cf8['set']('STD_'+_0x31950f+'_TEXTURE','');const _0x29b29e=this['_getUvSour'+'ceExpressi'+'on'](_0x4f460e,_0x4bae79,_0x3aef0c);_0x8c4cf8['set']('{STD_'+_0x31950f+('_TEXTURE_U'+'V}'),_0x29b29e),_0x8c4cf8['set']('{STD_'+_0x31950f+('_TEXTURE_C'+'HANNEL}'),_0x3aef0c[_0x430258]);const _0x48572c='{STD_'+_0x31950f+('_TEXTURE_N'+'AME}');if(_0x2df8c6['includes'](_0x48572c)){let _0x59fa49='texture_'+_0x29ebbd;const _0x1a1578=_0x1da4e1[_0x46e69c];_0x1a1578?_0x59fa49=_0x1a1578:(_0x1da4e1[_0x46e69c]=_0x59fa49,_0x8c4cf8['set']('STD_'+_0x31950f+('_TEXTURE_A'+'LLOCATE'),'')),_0x8c4cf8['set'](_0x48572c,_0x59fa49);}if(_0x208869){const _0x3d5346=_0x3aef0c[_0x430258]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x208869);_0x8c4cf8['set']('{STD_'+_0x31950f+('_TEXTURE_D'+'ECODE}'),_0x3d5346);}}_0x5e9fdf&&(_0x8c4cf8['set']('STD_'+_0x31950f+'_VERTEX',''),_0x8c4cf8['set']('{STD_'+_0x31950f+('_VERTEX_CH'+'ANNEL}'),_0x3aef0c[_0x35efc1])),_0x243364&&_0x8c4cf8['set']('{STD_'+_0x31950f+('_DETAILMOD'+'E}'),_0x243364),_0x5f23b0&&_0x8c4cf8['set']('STD_'+_0x31950f+'_CONSTANT',''),_0x3aef0c[_0x31fcbf]&&_0x8c4cf8['set']('STD_'+_0x31950f+'_INVERT','');}['_correctCh'+'annel'](_0x18634d,_0xfa8e31,_0x69594d){if(_0x69594d[_0x18634d]>-0x1a3*0xd+-0x647*0x5+-0x3f*-0xd6){if(_0x69594d[_0x18634d]<_0xfa8e31['length'])return _0xfa8e31['substring'](-0x1*-0x9bf+0x1171+-0x5*0x570,_0x69594d[_0x18634d]);if(_0x69594d[_0x18634d]>_0xfa8e31['length']){let _0x324e0e=_0xfa8e31;const _0x1e69a9=_0x324e0e['charAt'](_0x324e0e['length']-(-0x63b+0x289*-0xa+0x1f96)),_0x246ab7=_0x69594d[_0x18634d]-_0x324e0e['length'];for(let _0xbcf9=-0x2168+-0x2272+0x43da;_0xbcf9<_0x246ab7;_0xbcf9++)_0x324e0e+=_0x1e69a9;return _0x324e0e;}return _0xfa8e31;}}['createVert'+'exShader'](_0x4cec0b,_0x3f5412){const _0x2acb46=[],_0x1a700=[],_0x10b841=[];for(const _0x411517 in bn){const _0x300785=_0x411517+'Map';if(_0x3f5412[_0x411517+('VertexColo'+'r')]){const _0x297bfa=_0x411517+('VertexColo'+'rChannel');_0x3f5412[_0x297bfa]=this['_correctCh'+'annel'](_0x411517,_0x3f5412[_0x297bfa],bn);}if(_0x3f5412[_0x300785]){const _0x10825e=_0x300785+'Channel',_0x3aa013=_0x300785+'Transform',_0x5d2c5d=_0x300785+'Uv';_0x3f5412[_0x5d2c5d]=Math['min'](_0x3f5412[_0x5d2c5d],0x220a+0x1f9*-0x1+-0x3*0xab0),_0x3f5412[_0x10825e]=this['_correctCh'+'annel'](_0x411517,_0x3f5412[_0x10825e],bn);const _0x36948d=_0x3f5412[_0x5d2c5d];_0x2acb46[_0x36948d]=!(-0xf24+-0x2*-0x107d+0x3*-0x5f2),_0x1a700[_0x36948d]=_0x1a700[_0x36948d]||_0x3f5412[_0x300785]&&!_0x3f5412[_0x3aa013],_0x3f5412[_0x3aa013]&&_0x10b841['push']({'name':_0x411517,'id':_0x3f5412[_0x3aa013],'uv':_0x3f5412[_0x5d2c5d]});}}_0x3f5412['forceUv1']&&(_0x2acb46[-0x14d*0x3+0xb0+0x1*0x338]=!(-0x25f3+-0x2*0x37+0x2661),_0x1a700[-0x3ce+0x13*-0x161+0x1e02]=_0x1a700[0x4*-0x482+-0x1*0x2dd+0xa73*0x2]!==void(0x1*-0x21e3+0x20a7+-0x4f*-0x4)?_0x1a700[-0x1b7*0x3+0x676+0xc*-0x1c]:!(-0x24*-0x31+-0x3b*0x39+0x63f)),_0x4cec0b['generateVe'+'rtexShader'](_0x2acb46,_0x1a700,_0x10b841);}['prepareFra'+'gmentDefin'+'es'](_0x345f02,_0x9c14cb,_0x313a49){const _0x31bc80=(_0x1cd323,_0x5bbe20,_0x1e3c7d='')=>{_0x1cd323&&_0x9c14cb['set'](_0x5bbe20,_0x1e3c7d);};_0x31bc80(_0x345f02['lightMap'],'STD_LIGHTM'+'AP',''),_0x31bc80(_0x345f02['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x31bc80(_0x345f02['dirLightMa'+'p']&&_0x345f02['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x31bc80(_0x345f02['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x31bc80(_0x345f02['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x31bc80(_0x345f02['aoMap']||_0x345f02['aoVertexCo'+'lor']||_0x345f02['useAO'],'STD_AO',''),_0x31bc80(!(-0x19ef+-0xd*-0x233+0x55*-0x8),'STD_OPACIT'+'Y_DITHER',iE[_0x313a49['isForward']?_0x345f02['litOptions']['opacityDit'+'her']:_0x345f02['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x1939c9,_0x58f85e){const _0x4e9ac9=Si['get'](_0x1939c9)['getByIndex'](_0x58f85e['litOptions']['pass']),_0x4b29cf=_0x4e9ac9['isForward'],_0x3579a3=new db(_0x1939c9,_0x58f85e['litOptions']);this['createVert'+'exShader'](_0x3579a3,_0x58f85e);const _0x57dd52={};_0x58f85e['litOptions']['fresnelMod'+'el']=_0x58f85e['litOptions']['fresnelMod'+'el']===0x9*0x427+-0xd99+-0xb3*0x22?Yp:_0x58f85e['litOptions']['fresnelMod'+'el'];const _0x3a8beb=_0x3579a3['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x58f85e,_0x3a8beb,_0x4e9ac9);let _0x2854aa='';if(_0x4b29cf){if(_0x58f85e['heightMap']&&this['_addMapDef'+'ines'](_0x3a8beb,'height','parallaxPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),(_0x58f85e['litOptions']['blendType']!==Cs||_0x58f85e['litOptions']['alphaTest']||_0x58f85e['litOptions']['alphaToCov'+'erage']||_0x58f85e['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x3a8beb,'opacity','opacityPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),_0x3579a3['needsNorma'+'l']){if((_0x58f85e['normalMap']||_0x58f85e['clearCoatN'+'ormalMap'])&&!_0x58f85e['litOptions']['hasTangent'+'s']){const _0x322d79=_0x58f85e['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x2854aa=this['_getUvSour'+'ceExpressi'+'on'](_0x322d79+'Transform',_0x322d79+'Uv',_0x58f85e);}this['_addMapDef'+'ines'](_0x3a8beb,'normalDeta'+'il','normalMapP'+'S',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x3a8beb,'normal','normalMapP'+'S',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['packedNorm'+'al']?'xy':'xyz');}_0x58f85e['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x3a8beb,'diffuseDet'+'ail','diffusePS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x3a8beb,'diffuse','diffusePS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['diffuseEnc'+'oding']),_0x58f85e['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x3a8beb,'refraction','transmissi'+'onPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'thickness','thicknessP'+'S',_0x58f85e,_0x3579a3['chunks'],_0x57dd52)),_0x58f85e['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x3a8beb,'iridescenc'+'e','iridescenc'+'ePS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52)),(_0x3579a3['lighting']&&_0x58f85e['litOptions']['useSpecula'+'r']||_0x3579a3['reflection'+'s'])&&(_0x58f85e['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x3a8beb,'sheen','sheenPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x3a8beb,'sheenGloss','sheenGloss'+'PS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52)),_0x58f85e['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x3a8beb,'metalness','metalnessP'+'S',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'ior','iorPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52)),_0x58f85e['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x3a8beb,'specularit'+'yFactor','specularit'+'yFactorPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),_0x58f85e['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x3a8beb,'specular','specularPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x3a8beb,'gloss','glossPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52)),_0x58f85e['aoDetail']&&this['_addMapDef'+'ines'](_0x3a8beb,'aoDetail','aoPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),(_0x58f85e['aoMap']||_0x58f85e['aoVertexCo'+'lor']||_0x58f85e['useAO'])&&this['_addMapDef'+'ines'](_0x3a8beb,'ao','aoPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'emissive','emissivePS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['emissiveEn'+'coding']),_0x58f85e['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x3a8beb,'clearCoat','clearCoatP'+'S',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),this['_addMapDef'+'ines'](_0x3a8beb,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x58f85e['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x3a8beb,'anisotropy','anisotropy'+'PS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52),(_0x58f85e['lightMap']||_0x58f85e['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x3a8beb,'light','lightmapPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52,_0x58f85e['lightMapEn'+'coding']);}else{const _0x59f981=_0x58f85e['litOptions']['opacitySha'+'dowDither'];(_0x58f85e['litOptions']['alphaTest']||_0x59f981)&&this['_addMapDef'+'ines'](_0x3a8beb,'opacity','opacityPS',_0x58f85e,_0x3579a3['chunks'],_0x57dd52);}_0x3579a3['generateFr'+'agmentShad'+'er'](_0x3579a3['chunks']['get']('stdDeclara'+'tionPS'),_0x3579a3['chunks']['get']('stdFrontEn'+'dPS'),_0x2854aa);const _0x49612b=bh['merge'](_0x3579a3['chunks'],_0x3579a3['includes']),_0x53fd43=_0x3579a3['vDefines'];_0x58f85e['defines']['forEach']((_0x49801f,_0x42c539)=>_0x53fd43['set'](_0x42c539,_0x49801f)),_0x58f85e['defines']['forEach']((_0x23468a,_0x24e75d)=>_0x3a8beb['set'](_0x24e75d,_0x23468a));const _0x4c74f3=Jt['createDefi'+'nition'](_0x1939c9,{'name':'StandardSh'+'ader','attributes':_0x3579a3['attributes'],'shaderLanguage':_0x3579a3['shaderLang'+'uage'],'vertexCode':_0x3579a3['vshader'],'fragmentCode':_0x3579a3['fshader'],'vertexIncludes':_0x49612b,'fragmentIncludes':_0x49612b,'fragmentDefines':_0x3a8beb,'vertexDefines':_0x53fd43});return _0x3579a3['shaderPass'+'Info']['isForward']&&(_0x4c74f3['tag']=Sy),_0x4c74f3;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0x161*0x1+0x5*-0x3e8+0x14e9;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x8d*0x8+-0x4c7*-0x7+0x15a*-0x1c)),h(this,'parameters',{}),h(this,'alphaTest',-0x2*0x1355+0x25eb+-0xbf*-0x1),h(this,'alphaToCov'+'erage',!(-0x2479+-0x1af4+0x1fb7*0x2)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x1eb4+0x4*0x595+0x10*0x86)),h(this,'_shaderVer'+'sion',0x1a32+0x234d+-0x3d7f),h(this,'_scene',null),h(this,'dirty',!(-0x1a*-0x115+-0x1*0x1dcc+0x1aa)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x1b957d=Fe){const _0x20888b=this['shaderChun'+'ks'];return _0x1b957d===Fe?_0x20888b['glsl']:_0x20888b['wgsl'];}set['shaderChun'+'ksVersion'](_0xaafbbf){this['shaderChun'+'ks']['version']=_0xaafbbf;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x5344e2){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x5344e2;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x5dcd79){this['_depthStat'+'e']['depthBias']=_0x5dcd79;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0xe7a481){this['_depthStat'+'e']['depthBiasS'+'lope']=_0xe7a481;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x9d9492){this['_blendStat'+'e']['redWrite']=_0x9d9492;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x2063a5){this['_blendStat'+'e']['greenWrite']=_0x2063a5;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x57c292){this['_blendStat'+'e']['blueWrite']=_0x57c292;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x8fe8c1){this['_blendStat'+'e']['alphaWrite']=_0x8fe8c1;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x4e5cb5=this['transparen'+'t'],_0x4dcf77=this['meshInstan'+'ces'];for(let _0x363284=0x421+-0xc9a+-0x9*-0xf1;_0x363284<_0x4dcf77['length'];_0x363284++)_0x4dcf77[_0x363284]['transparen'+'t']=_0x4e5cb5;}set['blendState'](_0x1c6278){this['_blendStat'+'e']['copy'](_0x1c6278),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x5efad1){const _0xd13f2f=ss[_0x5efad1];w['assert'](_0xd13f2f,'Unknown\x20bl'+'end\x20mode\x20'+_0x5efad1),this['_blendStat'+'e']['setColorBl'+'end'](_0xd13f2f['op'],_0xd13f2f['src'],_0xd13f2f['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0xd13f2f['alphaOp']??_0xd13f2f['op'],_0xd13f2f['alphaSrc']??_0xd13f2f['src'],_0xd13f2f['alphaDst']??_0xd13f2f['dst']);const _0x94599f=_0x5efad1!==Cs;this['_blendStat'+'e']['blend']!==_0x94599f&&(this['_blendStat'+'e']['blend']=_0x94599f,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x1ddc56,colorSrcFactor:_0x166e61,colorDstFactor:_0x387816,alphaOp:_0x458e35,alphaSrcFactor:_0xa540d3,alphaDstFactor:_0x174c6f}=this['_blendStat'+'e'];for(let _0x299097=-0x265f+0x1cda+-0x985*-0x1;_0x299097<ss['length'];_0x299097++){const _0x259812=ss[_0x299097];if(_0x259812['src']===_0x166e61&&_0x259812['dst']===_0x387816&&_0x259812['op']===_0x1ddc56&&_0x259812['src']===_0xa540d3&&_0x259812['dst']===_0x174c6f&&_0x259812['op']===_0x458e35)return _0x299097;}return Zs;}set['depthState'](_0x495b9a){this['_depthStat'+'e']['copy'](_0x495b9a);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x269092){this['_depthStat'+'e']['test']=_0x269092;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x39aea7){this['_depthStat'+'e']['func']=_0x39aea7;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x19d741){this['_depthStat'+'e']['write']=_0x19d741;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x43da4a){var _0x10f03a,_0x25ed5d;this['name']=_0x43da4a['name'],this['alphaTest']=_0x43da4a['alphaTest'],this['alphaToCov'+'erage']=_0x43da4a['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x43da4a['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x43da4a['_depthStat'+'e']),this['cull']=_0x43da4a['cull'],this['stencilFro'+'nt']=(_0x10f03a=_0x43da4a['stencilFro'+'nt'])==null?void(-0x989+0x1408+-0xa7f*0x1):_0x10f03a['clone'](),_0x43da4a['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x43da4a['stencilFro'+'nt']===_0x43da4a['stencilBac'+'k']?this['stencilFro'+'nt']:_0x43da4a['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x20ebcf in _0x43da4a['parameters'])_0x43da4a['parameters']['hasOwnProp'+'erty'](_0x20ebcf)&&this['_setParame'+'terSimple'](_0x20ebcf,_0x43da4a['parameters'][_0x20ebcf]['data']);return this['defines']['clear'](),_0x43da4a['defines']['forEach']((_0x563b91,_0x2f6cbe)=>this['defines']['set'](_0x2f6cbe,_0x563b91)),this['_shaderChu'+'nks']=_0x43da4a['hasShaderC'+'hunks']?new Pe():null,(_0x25ed5d=this['_shaderChu'+'nks'])==null||_0x25ed5d['copy'](_0x43da4a['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x1772f8=this['meshInstan'+'ces'];for(let _0xd4b0=0x7fc+0xb7+-0x1*0x8b3;_0xd4b0<_0x1772f8['length'];_0xd4b0++)_0x1772f8[_0xd4b0]['updateKey']();}['updateUnif'+'orms'](_0x133278,_0x3eee7f){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5cc734){w['assert'](!(0x1*-0x157d+0x9a8*0x4+0x102*-0x11),'Not\x20implem'+'ented');}['update'](){var _0x55568b,_0x2bd0b5;if(Object['keys'](this['_oldChunks'])['length']>-0x4*-0x32c+-0x163+-0xb4d){for(const [_0x4dc141,_0xb73ef5]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x4dc141,_0xb73ef5),delete this['_oldChunks'][_0x4dc141];}(this['_definesDi'+'rty']||(_0x55568b=this['_shaderChu'+'nks'])!=null&&_0x55568b['isDirty']())&&(this['_definesDi'+'rty']=!(0x1d51+0xd*-0x1ab+0x3*-0x28b),(_0x2bd0b5=this['_shaderChu'+'nks'])==null||_0x2bd0b5['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0xe3b+-0x1cae+0x9*0x19b);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x2d5f73=this['meshInstan'+'ces'],_0x391069=_0x2d5f73['length'];for(let _0x32b4dd=0x1423+0x6e4+-0x1b07;_0x32b4dd<_0x391069;_0x32b4dd++)_0x2d5f73[_0x32b4dd]['clearShade'+'rs']();}['getParamet'+'er'](_0x6bf586){return this['parameters'][_0x6bf586];}['_setParame'+'terSimple'](_0x5dd0ba,_0x13b165){w['call'](()=>{_0x13b165===void(0x18f5+0x1*-0x1727+0x1ce*-0x1)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x5dd0ba+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x396867=this['parameters'][_0x5dd0ba];_0x396867?_0x396867['data']=_0x13b165:this['parameters'][_0x5dd0ba]={'scopeId':null,'data':_0x13b165};}['setParamet'+'er'](_0x1585c5,_0x55a2db){if(_0x55a2db===void(-0x2b8*-0x2+0x6b1+-0x17*0x87)&&typeof _0x1585c5=='object'){const _0x553e77=_0x1585c5;if(_0x553e77['length']){for(let _0x2b6aef=-0x91b+0x2dc*-0x5+-0x3*-0x7cd;_0x2b6aef<_0x553e77['length'];_0x2b6aef++)this['setParamet'+'er'](_0x553e77[_0x2b6aef]);return;}_0x1585c5=_0x553e77['name'],_0x55a2db=_0x553e77['value'];}this['_setParame'+'terSimple'](_0x1585c5,_0x55a2db);}['deletePara'+'meter'](_0x3f6acf){this['parameters'][_0x3f6acf]&&delete this['parameters'][_0x3f6acf];}['setParamet'+'ers'](_0x3d9e64,_0x242f8d){const _0x7e4978=this['parameters'];_0x242f8d===void(0x7f*0x35+0x10b7*0x1+0xa*-0x44d)&&(_0x242f8d=_0x7e4978);for(const _0x4e84c2 in _0x242f8d){const _0x26dffc=_0x7e4978[_0x4e84c2];_0x26dffc&&(_0x26dffc['scopeId']||(_0x26dffc['scopeId']=_0x3d9e64['scope']['resolve'](_0x4e84c2)),_0x26dffc['scopeId']['setValue'](_0x26dffc['data']));}}['setDefine'](_0x14fcf4,_0x359211){let _0x35799c=!(0x26ce+0x1*0x25bf+-0x114*0x47);const {defines:_0x77dd2b}=this;_0x359211!==void(0xc07+0x696+-0x1*0x129d)&&_0x359211!==!(-0x1755+0x372+0x13e4)?(_0x35799c=!_0x77dd2b['has'](_0x14fcf4)||_0x77dd2b['get'](_0x14fcf4)!==_0x359211,_0x77dd2b['set'](_0x14fcf4,_0x359211)):(_0x35799c=_0x77dd2b['has'](_0x14fcf4),_0x77dd2b['delete'](_0x14fcf4)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x35799c);}['getDefine'](_0x5272fb){return this['defines']['has'](_0x5272fb);}['destroy'](){this['variants']['clear']();for(let _0xe17b06=0x83e+0x1d4d+0x1*-0x258b;_0xe17b06<this['meshInstan'+'ces']['length'];_0xe17b06++){const _0x14b64e=this['meshInstan'+'ces'][_0xe17b06];if(_0x14b64e['clearShade'+'rs'](),_0x14b64e['_material']=null,_0x14b64e['mesh']){const _0x445048=Qn(_0x14b64e['mesh']['device']);this!==_0x445048&&(_0x14b64e['material']=_0x445048);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x4c8+-0x116a+0x1632;}['addMeshIns'+'tanceRef'](_0x3e8ff9){this['meshInstan'+'ces']['push'](_0x3e8ff9);}['removeMesh'+'InstanceRe'+'f'](_0x20ad15){const _0x29acf3=this['meshInstan'+'ces'],_0x34d020=_0x29acf3['indexOf'](_0x20ad15);_0x34d020!==-(-0x8bf*0x4+0x36*-0x71+-0x197*-0x25)&&_0x29acf3['splice'](_0x34d020,0xe*0x1b2+-0x6ec+-0x10cf);}}class Ws{static['update'](_0xc2ff56,_0x17a77f,_0x287936,_0x26c165,_0x66afc8,_0x36be2a,_0x1c6492){Ws['updateShar'+'edOptions'](_0xc2ff56,_0x17a77f,_0x287936,_0x66afc8,_0x36be2a),Ws['updateMate'+'rialOption'+'s'](_0xc2ff56,_0x17a77f),Ws['updateEnvO'+'ptions'](_0xc2ff56,_0x17a77f,_0x287936,_0x26c165),Ws['updateLigh'+'tingOption'+'s'](_0xc2ff56,_0x17a77f,_0x287936,_0x66afc8,_0x1c6492);}static['updateShar'+'edOptions'](_0x1aec2e,_0x35cf0d,_0x2c40b8,_0x3f455b,_0x44bfc6){_0x1aec2e['shaderChun'+'ks']=_0x35cf0d['shaderChun'+'ks'],_0x1aec2e['pass']=_0x44bfc6,_0x1aec2e['alphaTest']=_0x35cf0d['alphaTest']>-0x2ba*0xa+-0x3*0xcc8+0x1ee*0x22,_0x1aec2e['blendType']=_0x35cf0d['blendType'],_0x1aec2e['screenSpac'+'e']=_0x3f455b&&(_0x3f455b&Eh)!==-0x47*-0x4+0x2*0x12ee+-0x1d*0x158,_0x1aec2e['skin']=_0x3f455b&&(_0x3f455b&nl)!==-0x2e*0x22+0x1878+-0x5*0x3ac,_0x1aec2e['useInstanc'+'ing']=_0x3f455b&&(_0x3f455b&ol)!==-0x23*-0x7a+0x5f5*-0x4+0xb7*0xa,_0x1aec2e['useMorphPo'+'sition']=_0x3f455b&&(_0x3f455b&ll)!==0x3*0x853+-0x1b43+-0x1*-0x24a,_0x1aec2e['useMorphNo'+'rmal']=_0x3f455b&&(_0x3f455b&cl)!==0x4f4+0x1*-0x1de9+0x18f5,_0x1aec2e['useMorphTe'+'xtureBased'+'Int']=_0x3f455b&&(_0x3f455b&hl)!==0x38*-0x5+0xa1d+-0x905,_0x1aec2e['hasTangent'+'s']=_0x3f455b&&(_0x3f455b&om)!==-0x59b+-0xb*-0x223+-0x9e*0x1d,_0x1aec2e['nineSliced'+'Mode']=_0x35cf0d['nineSliced'+'Mode']||ci,_0x35cf0d['useLightin'+'g']&&_0x2c40b8['clusteredL'+'ightingEna'+'bled']?(_0x1aec2e['clusteredL'+'ightingEna'+'bled']=!(-0x241*0x2+-0x119*0x1d+0x1*0x2457),_0x1aec2e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2c40b8['lighting']['cookiesEna'+'bled'],_0x1aec2e['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2c40b8['lighting']['shadowsEna'+'bled'],_0x1aec2e['clusteredL'+'ightingSha'+'dowType']=_0x2c40b8['lighting']['shadowType'],_0x1aec2e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2c40b8['lighting']['areaLights'+'Enabled']):(_0x1aec2e['clusteredL'+'ightingEna'+'bled']=!(0x6db+-0x5*-0x1e5+-0x1053),_0x1aec2e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x3d*-0x5c+-0x1938+0x1*0x34d),_0x1aec2e['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x81b+0x120e+0x13*-0x86),_0x1aec2e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x1*0x13d9+-0x1ac0+0x2e9a));}static['updateMate'+'rialOption'+'s'](_0x484e44,_0x1751ef){_0x484e44['separateAm'+'bient']=!(-0x2361*-0x1+-0x65*-0x17+-0xed1*0x3),_0x484e44['pixelSnap']=_0x1751ef['pixelSnap'],_0x484e44['ambientSH']=_0x1751ef['ambientSH'],_0x484e44['twoSidedLi'+'ghting']=_0x1751ef['twoSidedLi'+'ghting'],_0x484e44['occludeDir'+'ect']=_0x1751ef['occludeDir'+'ect'],_0x484e44['occludeSpe'+'cular']=_0x1751ef['occludeSpe'+'cular'],_0x484e44['occludeSpe'+'cularFloat']=_0x1751ef['occludeSpe'+'cularInten'+'sity']!==-0x1*-0x1688+0x3*0x787+0x4*-0xb47,_0x484e44['useMsdf']=!(0xc39+0x646+0x9*-0x20e),_0x484e44['msdfTextAt'+'tribute']=!(-0x3*0x5db+-0x229f+-0x1af*-0x1f),_0x484e44['alphaToCov'+'erage']=_0x1751ef['alphaToCov'+'erage'],_0x484e44['opacityFad'+'esSpecular']=_0x1751ef['opacityFad'+'esSpecular'],_0x484e44['opacityDit'+'her']=_0x1751ef['opacityDit'+'her'],_0x484e44['cubeMapPro'+'jection']=tm,_0x484e44['useSpecula'+'r']=_0x1751ef['hasSpecula'+'r'],_0x484e44['useSpecula'+'rityFactor']=_0x1751ef['hasSpecula'+'rityFactor'],_0x484e44['enableGGXS'+'pecular']=_0x1751ef['ggxSpecula'+'r'],_0x484e44['fresnelMod'+'el']=_0x1751ef['fresnelMod'+'el'],_0x484e44['useRefract'+'ion']=_0x1751ef['hasRefract'+'ion'],_0x484e44['useClearCo'+'at']=_0x1751ef['hasClearCo'+'at'],_0x484e44['useSheen']=_0x1751ef['hasSheen'],_0x484e44['useIridesc'+'ence']=_0x1751ef['hasIrrides'+'cence'],_0x484e44['useMetalne'+'ss']=_0x1751ef['hasMetalne'+'ss'],_0x484e44['useDynamic'+'Refraction']=_0x1751ef['dynamicRef'+'raction'],_0x484e44['dispersion']=_0x1751ef['dispersion']>0x1c1d+-0x6f*0x47+0x2ac,_0x484e44['vertexColo'+'rs']=!(-0x6f+0x12d5+0x11*-0x115),_0x484e44['lightMapEn'+'abled']=_0x1751ef['hasLightin'+'g'],_0x484e44['dirLightMa'+'pEnabled']=_0x1751ef['dirLightMa'+'p'],_0x484e44['useHeights']=_0x1751ef['hasHeights'],_0x484e44['useNormals']=_0x1751ef['hasNormals'],_0x484e44['useClearCo'+'atNormals']=_0x1751ef['hasClearCo'+'atNormals'],_0x484e44['useAo']=_0x1751ef['hasAo'],_0x484e44['diffuseMap'+'Enabled']=_0x1751ef['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x586a06,_0x46177f,_0xc4c90e,_0x39afef){_0x586a06['fog']=_0x46177f['useFog']?_0x39afef['fog']:Kn,_0x586a06['gamma']=_0x39afef['shaderOutp'+'utGamma'],_0x586a06['toneMap']=_0x46177f['useTonemap']?_0x39afef['toneMappin'+'g']:nv,_0x46177f['useSkybox']&&_0xc4c90e['envAtlas']&&_0xc4c90e['skybox']?(_0x586a06['reflection'+'Source']=xh,_0x586a06['reflection'+'Encoding']=_0xc4c90e['envAtlas']['encoding'],_0x586a06['reflection'+'CubemapEnc'+'oding']=_0xc4c90e['skybox']['encoding']):_0x46177f['useSkybox']&&_0xc4c90e['envAtlas']?(_0x586a06['reflection'+'Source']=vh,_0x586a06['reflection'+'Encoding']=_0xc4c90e['envAtlas']['encoding']):_0x46177f['useSkybox']&&_0xc4c90e['skybox']?(_0x586a06['reflection'+'Source']=Th,_0x586a06['reflection'+'Encoding']=_0xc4c90e['skybox']['encoding']):(_0x586a06['reflection'+'Source']=vr,_0x586a06['reflection'+'Encoding']=null),_0x46177f['ambientSH']?(_0x586a06['ambientSou'+'rce']=im,_0x586a06['ambientEnc'+'oding']=null):_0x586a06['reflection'+'Source']!==vr&&_0xc4c90e['envAtlas']?(_0x586a06['ambientSou'+'rce']=rm,_0x586a06['ambientEnc'+'oding']=_0xc4c90e['envAtlas']['encoding']):(_0x586a06['ambientSou'+'rce']=am,_0x586a06['ambientEnc'+'oding']=null);const _0x2bbb64=_0x586a06['reflection'+'Source']!==vr;_0x586a06['skyboxInte'+'nsity']=_0x2bbb64,_0x586a06['useCubeMap'+'Rotation']=_0x2bbb64&&_0xc4c90e['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x371401,_0xe2d7c0,_0x26ebc6,_0x479cd9,_0x483967){if(_0x371401['lightMapWi'+'thoutAmbie'+'nt']=!(0x2*-0x326+-0xd*0x26a+0xb*0x36d),_0xe2d7c0['useLightin'+'g']){const _0xe6808a=[],_0x4432f0=_0x479cd9?_0x479cd9>>0xb*-0xfe+-0x7*-0x22d+-0x1*0x441:Ss;_0x371401['lightMaskD'+'ynamic']=!!(_0x4432f0&Ss),_0x371401['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1118*-0x2+0x1575+-0x37a4),_0x483967&&(Ws['collectLig'+'hts'](ve,_0x483967[ve],_0xe6808a,_0x4432f0),_0x26ebc6['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x483967[Ke],_0xe6808a,_0x4432f0),Ws['collectLig'+'hts'](Ze,_0x483967[Ze],_0xe6808a,_0x4432f0))),_0x371401['lights']=_0xe6808a;}else _0x371401['lights']=[];(_0x371401['lights']['length']===0xcde+-0xd24+-0x2*-0x23&&!_0x26ebc6['clusteredL'+'ightingEna'+'bled']||(_0x479cd9&wh)!==-0x259+-0x10c*0x1f+0x22cd)&&(_0x371401['noShadow']=!(-0x2b*-0x3e+0x83*0x39+0x1*-0x2795));}static['collectLig'+'hts'](_0x1bf33f,_0x5a181f,_0x590ccb,_0x3c90f7){for(let _0x595787=-0x1c9e+0x16eb+0x5b3;_0x595787<_0x5a181f['length'];_0x595787++){const _0x225791=_0x5a181f[_0x595787];_0x225791['enabled']&&_0x225791['mask']&_0x3c90f7&&_0x590ccb['push'](_0x225791);}}}const G_=(_0x3e2f52,_0x5903a4)=>{if(_0x3e2f52['length']!==_0x5903a4['length'])return!(0xa*0x66+-0x254+0x9*-0x2f);for(let _0x20e26f=0x1d6f+0x6ec+-0x245b;_0x20e26f<_0x3e2f52['length'];++_0x20e26f)if(_0x3e2f52[_0x20e26f]!==_0x5903a4[_0x20e26f])return!(0x641*0x5+-0x2*-0x2c0+-0x1a*0x16a);return!(-0x2e*0x45+-0xabd+-0x1723*-0x1);},pb=_0x202347=>_0x202347['r']!==-0x6ef*-0x5+0x1*0x15dd+0x1d*-0x1f3||_0x202347['g']!==-0x2065*-0x1+0x2e*-0xd3+-0x1*-0x586||_0x202347['b']!==-0x109c+0x23cc*-0x1+0x3469,mb=_0x2f34fb=>_0x2f34fb['r']!==0x2159+-0x10f*-0x1d+-0x400c||_0x2f34fb['g']!==-0x1*-0x1863+-0x1*0x1d6a+-0x21*-0x27||_0x2f34fb['b']!==-0x7*-0x522+-0x1c63+0x1*-0x78b;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x488aaa,_0x4fcd64,_0x2115b5,_0x47d2a0,_0x5bfe15,_0x20a02e){this['_updateSha'+'redOptions'](_0x488aaa,_0x4fcd64,_0x2115b5,_0x47d2a0,_0x5bfe15),this['_updateMin'+'Options'](_0x488aaa,_0x2115b5,_0x5bfe15),this['_updateUVO'+'ptions'](_0x488aaa,_0x2115b5,_0x47d2a0,!(0x1*0x117d+-0xaf2*0x2+0x7*0xa1));}['updateRef'](_0x12b88c,_0x3972bb,_0x298cf4,_0x53a3f1,_0x23d745,_0x53b94f,_0x248d92){this['_updateSha'+'redOptions'](_0x12b88c,_0x3972bb,_0x53a3f1,_0x23d745,_0x53b94f),this['_updateEnv'+'Options'](_0x12b88c,_0x53a3f1,_0x3972bb,_0x298cf4),this['_updateMat'+'erialOptio'+'ns'](_0x12b88c,_0x53a3f1,_0x3972bb),_0x12b88c['litOptions']['hasTangent'+'s']=_0x23d745&&(_0x23d745&om)!==-0x1645+0x1907+-0x2c2,this['_updateLig'+'htOptions'](_0x12b88c,_0x3972bb,_0x53a3f1,_0x23d745,_0x248d92),this['_updateUVO'+'ptions'](_0x12b88c,_0x53a3f1,_0x23d745,!(0x5e7*-0x5+-0x716+0x3a9*0xa),_0x298cf4);}['_updateSha'+'redOptions'](_0x2997ac,_0x2656a0,_0x4ea918,_0x35c38b,_0x1e2caa){_0x2997ac['forceUv1']=_0x4ea918['forceUv1'],_0x4ea918['userAttrib'+'utes']&&(_0x2997ac['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x4ea918['userAttrib'+'utes']['entries']())),_0x2997ac['litOptions']['shaderChun'+'ks']=_0x4ea918['shaderChun'+'ks'],_0x2997ac['litOptions']['pass']=_0x1e2caa,_0x2997ac['litOptions']['alphaTest']=_0x4ea918['alphaTest']>-0x5c6*0x4+-0x8b*-0x31+-0x383,_0x2997ac['litOptions']['blendType']=_0x4ea918['blendType'],_0x2997ac['litOptions']['screenSpac'+'e']=_0x35c38b&&(_0x35c38b&Eh)!==0x1a8e+-0x4d*-0x31+0x1f*-0x155,_0x2997ac['litOptions']['skin']=_0x35c38b&&(_0x35c38b&nl)!==-0x1*0x2047+0x1*0x187f+0x7c8,_0x2997ac['litOptions']['batch']=_0x35c38b&&(_0x35c38b&qc)!==-0xd63*0x1+0x9d9+0x38a,_0x2997ac['litOptions']['useInstanc'+'ing']=_0x35c38b&&(_0x35c38b&ol)!==-0xe3d+-0x144a+0x2287,_0x2997ac['litOptions']['useMorphPo'+'sition']=_0x35c38b&&(_0x35c38b&ll)!==0x2459+0x19c+-0x25f5,_0x2997ac['litOptions']['useMorphNo'+'rmal']=_0x35c38b&&(_0x35c38b&cl)!==-0x188e+-0x1e2e*0x1+0x36bc,_0x2997ac['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x35c38b&&(_0x35c38b&hl)!==0x1d0e*0x1+0x884+-0x2a*0xe5,_0x2997ac['litOptions']['nineSliced'+'Mode']=_0x4ea918['nineSliced'+'Mode']||-0x1df+0x1116+-0xf37,_0x2656a0['clusteredL'+'ightingEna'+'bled']&&_0x4ea918['useLightin'+'g']?(_0x2997ac['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x17d7*-0x1+-0x9*0x303+-0x2*-0x1979),_0x2997ac['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2656a0['lighting']['cookiesEna'+'bled'],_0x2997ac['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2656a0['lighting']['shadowsEna'+'bled'],_0x2997ac['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x2656a0['lighting']['shadowType'],_0x2997ac['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2656a0['lighting']['areaLights'+'Enabled']):(_0x2997ac['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1d64+-0x225a*-0x1+-0x3fbd),_0x2997ac['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0xdea+0x1*0x26fb+-0x34e4),_0x2997ac['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x235+0x403+0x2b*-0x25),_0x2997ac['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x106c+-0x239*-0xf+-0x10ea));}['_updateUVO'+'ptions'](_0x4abbe7,_0x37715d,_0x2f2ce7,_0x346f80,_0x2fbc08){let _0x36997d=!(0xd3+-0x21fb+0x2129),_0x1c90c6=!(-0x1023+-0x1*0x197b+-0x5*-0x853),_0x524585=!(0x5e*0x68+-0x3e1*-0x6+-0x3d75);_0x2f2ce7&&(_0x36997d=(_0x2f2ce7&nm)!==0x1*-0x91c+0xc6+0x856,_0x1c90c6=(_0x2f2ce7&dv)!==0xc4b*-0x2+0x15*-0x1ae+-0x3bdc*-0x1,_0x524585=(_0x2f2ce7&fv)!==-0x32e*0x2+0x2239*-0x1+-0xd87*-0x3),_0x4abbe7['litOptions']['vertexColo'+'rs']=!(0x16ab+0x26e1*-0x1+0x1037),this['_mapXForms']=[];const _0x389b67={};for(const _0x540bc8 in bn)this['_updateTex'+'Options'](_0x4abbe7,_0x37715d,_0x540bc8,_0x36997d,_0x1c90c6,_0x524585,_0x346f80,_0x389b67);this['_mapXForms']=null,_0x4abbe7['litOptions']['ssao']=_0x2fbc08==null?void(-0x43*-0x7f+-0x3b*-0x35+-0x2d74):_0x2fbc08['ssaoEnable'+'d'],_0x4abbe7['useAO']=_0x4abbe7['litOptions']['ssao'],_0x4abbe7['litOptions']['lightMapEn'+'abled']=_0x4abbe7['lightMap'],_0x4abbe7['litOptions']['dirLightMa'+'pEnabled']=_0x4abbe7['dirLightMa'+'p'],_0x4abbe7['litOptions']['useHeights']=_0x4abbe7['heightMap'],_0x4abbe7['litOptions']['useNormals']=_0x4abbe7['normalMap'],_0x4abbe7['litOptions']['useClearCo'+'atNormals']=_0x4abbe7['clearCoatN'+'ormalMap'],_0x4abbe7['litOptions']['useAo']=_0x4abbe7['aoMap']||_0x4abbe7['aoVertexCo'+'lor']||_0x4abbe7['litOptions']['ssao'],_0x4abbe7['litOptions']['diffuseMap'+'Enabled']=_0x4abbe7['diffuseMap'];}['_updateTex'+'Options'](_0xf2fc38,_0x8079a9,_0x486924,_0x36e671,_0x2d3fc0,_0x2ad9e5,_0x449d83,_0x2901fc){const _0x1dc4c8=_0x486924==='opacity';if(!_0x449d83||_0x1dc4c8){const _0x5e2888=_0x486924+'Map',_0x515a5e=_0x486924+('VertexColo'+'r'),_0x116d29=_0x486924+('VertexColo'+'rChannel'),_0x5bcd7e=_0x5e2888+'Channel',_0x530335=_0x5e2888+'Transform',_0x58b3b4=_0x5e2888+'Uv',_0x4c3bfa=_0x5e2888+'Identifier';if(_0x486924!=='light'&&(_0xf2fc38[_0x5e2888]=!(0x1ed5+0x1*-0x100f+0xec5*-0x1),_0xf2fc38[_0x4c3bfa]=void(-0x2271*-0x1+-0x16b7+-0x9e*0x13),_0xf2fc38[_0x5bcd7e]='',_0xf2fc38[_0x530335]=-0x1*-0xff9+0x5*-0x6df+0x1262,_0xf2fc38[_0x58b3b4]=0x1*0x1655+-0x12e8+0x1*-0x36d),_0xf2fc38[_0x515a5e]=!(-0x44f*0x2+-0x5fc+0xe9b),_0xf2fc38[_0x116d29]='',_0x1dc4c8&&_0x8079a9['blendType']===Cs&&_0x8079a9['alphaTest']===-0x8a6+0x2457*0x1+0x93b*-0x3&&!_0x8079a9['alphaToCov'+'erage']&&_0x8079a9['opacityDit'+'her']===Sa)return;if(_0x486924!=='height'&&_0x8079a9[_0x515a5e]&&_0x2ad9e5&&(_0xf2fc38[_0x515a5e]=_0x8079a9[_0x515a5e],_0xf2fc38[_0x116d29]=_0x8079a9[_0x116d29],_0xf2fc38['litOptions']['vertexColo'+'rs']=!(-0x1b1c+0x1*-0x3d1+0x1eed)),_0x8079a9[_0x5e2888]){let _0x28115b=!(0x47*-0x38+-0x1*0x345+0x12cd);if(_0x8079a9[_0x58b3b4]===-0x4*-0xa3+-0x10ef+0xe63&&!_0x36e671&&(_0x28115b=!(-0xa6*-0x1+0x4*0x31e+-0xd1d)),_0x8079a9[_0x58b3b4]===-0x778+-0x1d42+0x24bb&&!_0x2d3fc0&&(_0x28115b=!(-0x1413+-0x1377+0x35*0xbf)),_0x28115b){const _0x4417f4=_0x8079a9[_0x5e2888]['id'];let _0x5bf0de=_0x2901fc[_0x4417f4];_0x5bf0de===void(0x5*0x10d+0x105e+-0x159f)&&(_0x2901fc[_0x4417f4]=_0x486924,_0x5bf0de=_0x486924),_0xf2fc38[_0x5e2888]=!!_0x8079a9[_0x5e2888],_0xf2fc38[_0x4c3bfa]=_0x5bf0de,_0xf2fc38[_0x530335]=this['_getMapTra'+'nsformID'](_0x8079a9['getUniform'](_0x530335),_0x8079a9[_0x58b3b4]),_0xf2fc38[_0x5bcd7e]=_0x8079a9[_0x5bcd7e],_0xf2fc38[_0x58b3b4]=_0x8079a9[_0x58b3b4];}}}}['_updateMin'+'Options'](_0x57ce4e,_0x52f2ad,_0x46982f){const _0x2a6763=_0x46982f===Rl;_0x57ce4e['litOptions']['opacitySha'+'dowDither']=_0x2a6763?_0x52f2ad['opacityDit'+'her']:_0x52f2ad['opacitySha'+'dowDither'],_0x57ce4e['litOptions']['linearDept'+'h']=_0x2a6763,_0x57ce4e['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5479cf,_0x54050c,_0xaa653c){var _0x4a6c0c,_0x7ec036,_0x4f3031,_0x17a52c,_0x55c1a8,_0x126460;const _0x1134db=!!(_0x54050c['useMetalne'+'ss']||_0x54050c['specularMa'+'p']||_0x54050c['sphereMap']||_0x54050c['cubeMap']||mb(_0x54050c['specular'])||_0x54050c['specularit'+'yFactor']>-0x4ae+0x1*0x145d+-0x16d*0xb&&_0x54050c['useMetalne'+'ss']||_0x54050c['enableGGXS'+'pecular']||_0x54050c['clearCoat']>-0x951+-0x2*0x7f7+0x17*0x119),_0x1e8e7a=!_0x54050c['useMetalne'+'ss']||_0x54050c['useMetalne'+'ssSpecular'+'Color'],_0x50b60e=_0x1134db&&(_0x54050c['specularTi'+'nt']||!_0x54050c['specularMa'+'p']&&!_0x54050c['specularVe'+'rtexColor'])&&pb(_0x54050c['specular']),_0x5eae28=_0x1134db&&_0x54050c['useMetalne'+'ssSpecular'+'Color']&&(_0x54050c['specularit'+'yFactorTin'+'t']||_0x54050c['specularit'+'yFactor']<-0x43c*0x7+-0xcc4+0xb*0x3db&&!_0x54050c['specularit'+'yFactorMap']),_0x165765=_0x1f83ca=>_0x1f83ca?_0x1f83ca['format']===vl||_0x1f83ca['type']===Jo:!(0x14a9+-0x2593+0x10eb),_0x4722fb=(_0x201bf4,_0x5d7998)=>Math['abs'](_0x201bf4-_0x5d7998)<0x171*0x2+-0x1588+-0x953*-0x2+0.0001;_0x5479cf['specularTi'+'nt']=_0x50b60e,_0x5479cf['specularit'+'yFactorTin'+'t']=_0x5eae28,_0x5479cf['metalnessT'+'int']=_0x54050c['useMetalne'+'ss']&&_0x54050c['metalness']<0x208c+0x3*0x2cc+-0x28ef,_0x5479cf['glossTint']=!(-0x1*-0x3a9+0x6*-0x493+0x17c9),_0x5479cf['diffuseEnc'+'oding']=(_0x4a6c0c=_0x54050c['diffuseMap'])==null?void(-0x5*-0x617+-0x4*-0x64e+-0x37ab):_0x4a6c0c['encoding'],_0x5479cf['diffuseDet'+'ailEncodin'+'g']=(_0x7ec036=_0x54050c['diffuseDet'+'ailMap'])==null?void(-0x373*0x4+-0xbac*0x1+0x1978):_0x7ec036['encoding'],_0x5479cf['emissiveEn'+'coding']=(_0x4f3031=_0x54050c['emissiveMa'+'p'])==null?void(-0x36*-0x71+0x1*-0x268f+0xeb9):_0x4f3031['encoding'],_0x5479cf['lightMapEn'+'coding']=(_0x17a52c=_0x54050c['lightMap'])==null?void(-0x7e+0x1*-0x79f+0x81d):_0x17a52c['encoding'],_0x5479cf['packedNorm'+'al']=_0x165765(_0x54050c['normalMap']),_0x5479cf['refraction'+'Tint']=_0x4722fb(_0x54050c['refraction'],-0xc36+-0x19b2+0xf*0x287),_0x5479cf['refraction'+'IndexTint']=_0x4722fb(_0x54050c['refraction'+'Index'],(0x6*0x2e5+0x47b*0x2+-0x17*0x125)/(0x2359*-0x1+0x11fd+0x5*0x379+0.5)),_0x5479cf['thicknessT'+'int']=_0x54050c['useDynamic'+'Refraction']&&_0x54050c['thickness']!==-0x19db+0x225+0xd*0x1d3,_0x5479cf['specularEn'+'coding']=(_0x55c1a8=_0x54050c['specularMa'+'p'])==null?void(0xa5*-0x5+-0x2*-0xa7f+-0x11c5):_0x55c1a8['encoding'],_0x5479cf['sheenEncod'+'ing']=(_0x126460=_0x54050c['sheenMap'])==null?void(-0x1*-0xf2a+0x1*0xb10+0x8be*-0x3):_0x126460['encoding'],_0x5479cf['aoMapUv']=_0x54050c['aoUvSet'],_0x5479cf['aoDetail']=!!_0x54050c['aoDetailMa'+'p'],_0x5479cf['diffuseDet'+'ail']=!!_0x54050c['diffuseDet'+'ailMap'],_0x5479cf['normalDeta'+'il']=!!_0x54050c['normalMap'],_0x5479cf['normalDeta'+'ilPackedNo'+'rmal']=_0x165765(_0x54050c['normalDeta'+'ilMap']),_0x5479cf['diffuseDet'+'ailMode']=_0x54050c['diffuseDet'+'ailMode'],_0x5479cf['aoDetailMo'+'de']=_0x54050c['aoDetailMo'+'de'],_0x5479cf['clearCoatG'+'loss']=!!_0x54050c['clearCoatG'+'loss'],_0x5479cf['clearCoatP'+'ackedNorma'+'l']=_0x165765(_0x54050c['clearCoatN'+'ormalMap']),_0x5479cf['iorTint']=_0x4722fb(_0x54050c['refraction'+'Index'],(-0x29*-0x78+0x2b1+-0x15e8)/(-0x41c*-0x5+0x1*0x201b+-0x17*0x24a+0.5)),_0xaa653c['forcePassT'+'hroughSpec'+'ular']&&(_0x5479cf['specularEn'+'coding']='linear',_0x5479cf['sheenEncod'+'ing']='linear'),_0x5479cf['iridescenc'+'eTint']=_0x54050c['iridescenc'+'e']!==-0x12cd+-0x954+0x1c22,_0x5479cf['glossInver'+'t']=_0x54050c['glossInver'+'t'],_0x5479cf['sheenGloss'+'Invert']=_0x54050c['sheenGloss'+'Invert'],_0x5479cf['clearCoatG'+'lossInvert']=_0x54050c['clearCoatG'+'lossInvert'],_0x5479cf['useSpecula'+'rColor']=_0x1e8e7a,_0x5479cf['litOptions']['separateAm'+'bient']=!(-0x199f+0x19fd+-0x1*0x5d),_0x5479cf['litOptions']['pixelSnap']=_0x54050c['pixelSnap'],_0x5479cf['litOptions']['ambientSH']=!!_0x54050c['ambientSH'],_0x5479cf['litOptions']['twoSidedLi'+'ghting']=_0x54050c['twoSidedLi'+'ghting'],_0x5479cf['litOptions']['occludeSpe'+'cular']=_0x54050c['occludeSpe'+'cular'],_0x5479cf['litOptions']['occludeSpe'+'cularFloat']=_0x54050c['occludeSpe'+'cularInten'+'sity']!==0x2*0xcdb+0x17b*-0x3+-0x1544,_0x5479cf['litOptions']['useMsdf']=!!_0x54050c['msdfMap'],_0x5479cf['litOptions']['msdfTextAt'+'tribute']=!!_0x54050c['msdfTextAt'+'tribute'],_0x5479cf['litOptions']['alphaToCov'+'erage']=_0x54050c['alphaToCov'+'erage'],_0x5479cf['litOptions']['opacityFad'+'esSpecular']=_0x54050c['opacityFad'+'esSpecular'],_0x5479cf['litOptions']['opacityDit'+'her']=_0x54050c['opacityDit'+'her'],_0x5479cf['litOptions']['cubeMapPro'+'jection']=_0x54050c['cubeMapPro'+'jection'],_0x5479cf['litOptions']['occludeDir'+'ect']=_0x54050c['occludeDir'+'ect'],_0x5479cf['litOptions']['useSpecula'+'r']=_0x1134db,_0x5479cf['litOptions']['useSpecula'+'rityFactor']=(_0x5eae28||!!_0x54050c['specularit'+'yFactorMap'])&&_0x54050c['useMetalne'+'ssSpecular'+'Color'],_0x5479cf['litOptions']['enableGGXS'+'pecular']=_0x54050c['enableGGXS'+'pecular'],_0x5479cf['litOptions']['fresnelMod'+'el']=_0x54050c['fresnelMod'+'el'],_0x5479cf['litOptions']['useRefract'+'ion']=(_0x54050c['refraction']||!!_0x54050c['refraction'+'Map'])&&(_0x54050c['useDynamic'+'Refraction']||_0x5479cf['litOptions']['reflection'+'Source']!==vr),_0x5479cf['litOptions']['useClearCo'+'at']=!!_0x54050c['clearCoat'],_0x5479cf['litOptions']['useSheen']=_0x54050c['useSheen'],_0x5479cf['litOptions']['useIridesc'+'ence']=_0x54050c['useIridesc'+'ence']&&_0x54050c['iridescenc'+'e']!==0x9*-0x2f6+0x2601+0x11*-0xab,_0x5479cf['litOptions']['useMetalne'+'ss']=_0x54050c['useMetalne'+'ss'],_0x5479cf['litOptions']['useDynamic'+'Refraction']=_0x54050c['useDynamic'+'Refraction'],_0x5479cf['litOptions']['dispersion']=_0x54050c['dispersion']>0x18b3+0x59+-0x7*0x394,_0x5479cf['litOptions']['shadowCatc'+'her']=_0x54050c['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x2e3173,_0x493f33,_0x2dcf62,_0xbf230a){_0x2e3173['litOptions']['fog']=_0x493f33['useFog']?_0xbf230a['fog']:Kn,_0x2e3173['litOptions']['gamma']=_0xbf230a['shaderOutp'+'utGamma'],_0x2e3173['litOptions']['toneMap']=_0x493f33['useTonemap']?_0xbf230a['toneMappin'+'g']:nv;let _0x58a62c=!(0x10f3*0x2+-0x4*-0x233+-0x2ab1);if(_0x493f33['envAtlas']&&_0x493f33['cubeMap']?(_0x2e3173['litOptions']['reflection'+'Source']=xh,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x493f33['envAtlas']['encoding'],_0x2e3173['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x493f33['cubeMap']['encoding']):_0x493f33['envAtlas']?(_0x2e3173['litOptions']['reflection'+'Source']=vh,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x493f33['envAtlas']['encoding']):_0x493f33['cubeMap']?(_0x2e3173['litOptions']['reflection'+'Source']=Th,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x493f33['cubeMap']['encoding']):_0x493f33['sphereMap']?(_0x2e3173['litOptions']['reflection'+'Source']=hv,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x493f33['sphereMap']['encoding']):_0x493f33['useSkybox']&&_0x2dcf62['envAtlas']&&_0x2dcf62['skybox']?(_0x2e3173['litOptions']['reflection'+'Source']=xh,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x2dcf62['envAtlas']['encoding'],_0x2e3173['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x2dcf62['skybox']['encoding'],_0x58a62c=!(-0x1b7*0x10+0x11de*-0x2+0x3f2c)):_0x493f33['useSkybox']&&_0x2dcf62['envAtlas']?(_0x2e3173['litOptions']['reflection'+'Source']=vh,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x2dcf62['envAtlas']['encoding'],_0x58a62c=!(-0x616+0x5fb+0x1b)):_0x493f33['useSkybox']&&_0x2dcf62['skybox']?(_0x2e3173['litOptions']['reflection'+'Source']=Th,_0x2e3173['litOptions']['reflection'+'Encoding']=_0x2dcf62['skybox']['encoding'],_0x58a62c=!(0x22f8+-0x1*-0x1a4b+-0x3d43)):(_0x2e3173['litOptions']['reflection'+'Source']=vr,_0x2e3173['litOptions']['reflection'+'Encoding']=null),_0x493f33['ambientSH'])_0x2e3173['litOptions']['ambientSou'+'rce']=im,_0x2e3173['litOptions']['ambientEnc'+'oding']=null;else{const _0xe8f8eb=_0x493f33['envAtlas']||(_0x493f33['useSkybox']&&_0x2dcf62['envAtlas']?_0x2dcf62['envAtlas']:null);_0xe8f8eb&&!_0x493f33['sphereMap']?(_0x2e3173['litOptions']['ambientSou'+'rce']=rm,_0x2e3173['litOptions']['ambientEnc'+'oding']=_0xe8f8eb['encoding']):(_0x2e3173['litOptions']['ambientSou'+'rce']=am,_0x2e3173['litOptions']['ambientEnc'+'oding']=null);}_0x2e3173['litOptions']['skyboxInte'+'nsity']=_0x58a62c,_0x2e3173['litOptions']['useCubeMap'+'Rotation']=_0x58a62c&&_0x2dcf62['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x32aaa3,_0x27c6e0,_0x21cc34,_0x211930,_0x4e26e3){if(_0x32aaa3['lightMap']=!(-0x19b5+0xf9*-0x2+0x24e*0xc),_0x32aaa3['lightMapCh'+'annel']='',_0x32aaa3['lightMapUv']=-0x30*0x36+-0x2028+0x2a48,_0x32aaa3['lightMapTr'+'ansform']=-0x4fd*-0x7+0x1*-0x1153+-0x1198,_0x32aaa3['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1377+-0x23d+-0x1139),_0x32aaa3['dirLightMa'+'p']=!(-0x1a6f+-0x7bf*-0x5+-0x419*0x3),_0x211930&&(_0x32aaa3['litOptions']['noShadow']=(_0x211930&wh)!==0x1e1a+-0x19*0x147+-0x7*-0x43,(_0x211930&ou)!==-0x2cc*0x7+-0x47*-0xd+0xff9&&(_0x32aaa3['lightMapEn'+'coding']=_0x27c6e0['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x32aaa3['lightMap']=!(0x4*0x5fb+0x1581+-0x2d6d),_0x32aaa3['lightMapCh'+'annel']='rgb',_0x32aaa3['lightMapUv']=-0x196d+-0x1026+0x2994,_0x32aaa3['lightMapTr'+'ansform']=0xf2f+0x235c+-0x328b,_0x32aaa3['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x21cc34['lightMap'],(_0x211930&uv)!==0x2*0x272+0x10f0+-0x15d4&&(_0x32aaa3['dirLightMa'+'p']=!(0x1aa8+-0x2*0x1217+-0x2e*-0x35)),(_0x211930&pv)!==-0x1602+-0x656*0x1+0x1c58&&(_0x32aaa3['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x26e0+-0xe*-0x4e+0x4cb*-0x9)))),_0x21cc34['useLightin'+'g']){const _0x426931=[],_0x3fbb44=_0x211930?_0x211930>>0x674+-0x1*-0x53b+-0xb9f:Ss;_0x32aaa3['litOptions']['lightMaskD'+'ynamic']=!!(_0x3fbb44&Ss),_0x4e26e3&&(Ws['collectLig'+'hts'](ve,_0x4e26e3[ve],_0x426931,_0x3fbb44),_0x27c6e0['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x4e26e3[Ke],_0x426931,_0x3fbb44),Ws['collectLig'+'hts'](Ze,_0x4e26e3[Ze],_0x426931,_0x3fbb44))),_0x32aaa3['litOptions']['lights']=_0x426931;}else _0x32aaa3['litOptions']['lights']=[];_0x32aaa3['litOptions']['lights']['length']===0x1*-0xb9+-0xbc*-0x10+0x1*-0xb07&&!_0x27c6e0['clusteredL'+'ightingEna'+'bled']&&(_0x32aaa3['litOptions']['noShadow']=!(0x2*-0xf33+-0x1*0x24b+0x20b1));}['_getMapTra'+'nsformID'](_0x1c521c,_0x1fb477){if(!_0x1c521c)return-0x219*-0x5+-0x3*-0x80b+0xd3*-0x2a;let _0x48b64c=this['_mapXForms'][_0x1fb477];_0x48b64c||(_0x48b64c=[],this['_mapXForms'][_0x1fb477]=_0x48b64c);for(let _0x24c755=0x337*-0xb+-0x33a*-0x4+0x1675;_0x24c755<_0x48b64c['length'];_0x24c755++)if(G_(_0x48b64c[_0x24c755][-0x10f1+0x1*0xc0a+0x4e7]['value'],_0x1c521c[-0x896+0x24ad+-0x1c17]['value'])&&G_(_0x48b64c[_0x24c755][0x470+0x5db*0x2+-0x1025*0x1]['value'],_0x1c521c[0x1051+0xb78*0x1+0x1*-0x1bc8]['value']))return _0x24c755+(-0x8*-0x238+-0x1*0x211a+0x1*0xf5b);return _0x48b64c['push'](_0x1c521c);}}function rt(_0x1ad310,_0x3b2c3b=!(0x2*-0x1241+-0x1*-0xa09+0x1a79*0x1),_0x38b9f5=!(-0x58a*0x2+0x2*-0x1c9+-0x96*-0x19)){const _0x11c595={};return _0x11c595[_0x1ad310+'Map']='texture',_0x11c595[_0x1ad310+'MapTiling']='vec2',_0x11c595[_0x1ad310+'MapOffset']='vec2',_0x11c595[_0x1ad310+('MapRotatio'+'n')]='number',_0x11c595[_0x1ad310+'MapUv']='number',_0x3b2c3b&&(_0x11c595[_0x1ad310+'MapChannel']='string',_0x38b9f5&&(_0x11c595[_0x1ad310+('VertexColo'+'r')]='boolean',_0x11c595[_0x1ad310+('VertexColo'+'rChannel')]='string')),_0x11c595;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x168d+0x118e+-0x1*0x281b),!(0x2*0xcdb+0x62b*-0x3+-0x734)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x2b3*-0x3+0x2*0x7cc+-0x1*0x77f),!(-0xb2b*0x3+-0x7*0x3ca+0x11*0x388)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0xb6d+0x2523*-0x1+0x1*0x3091)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x1b3f+0x8af+-0x1*0x23ed)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x508+-0xe3a+0x1343)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x1e77+-0x3b*-0x15+0x29*0xa0),!(0x100f*0x1+0x1b7*0x11+-0x2d35)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x486b22=>{this['_'+_0x486b22]=Kc[_0x486b22]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x2c1d8c){return super['copy'](_0x2c1d8c),Object['keys'](Kc)['forEach'](_0x28999d=>{this[_0x28999d]=_0x2c1d8c[_0x28999d];}),this['userAttrib'+'utes']=new Map(_0x2c1d8c['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x450732,_0x2d9998){this['userAttrib'+'utes']['set'](_0x2d9998,_0x450732);}['_setParame'+'ter'](_0x30a11f,_0x56a51e){no['add'](_0x30a11f),this['setParamet'+'er'](_0x30a11f,_0x56a51e);}['_setParame'+'ters'](_0x34d6e5){_0x34d6e5['forEach'](_0x3a6e84=>{this['_setParame'+'ter'](_0x3a6e84['name'],_0x3a6e84['value']);});}['_processPa'+'rameters'](_0x50c3e7){const _0x15c1e5=this[_0x50c3e7];_0x15c1e5['forEach'](_0x13dd85=>{no['has'](_0x13dd85)||delete this['parameters'][_0x13dd85];}),this[_0x50c3e7]=no,no=_0x15c1e5,no['clear']();}['_updateMap'](_0x42c639){const _0x51d647=_0x42c639+'Map',_0x49eddb=this[_0x51d647];if(_0x49eddb){this['_setParame'+'ter']('texture_'+_0x51d647,_0x49eddb);const _0x2aba97=_0x51d647+'Transform',_0x416cc6=this['getUniform'](_0x2aba97);_0x416cc6&&this['_setParame'+'ters'](_0x416cc6);}}['_allocUnif'+'orm'](_0x5a5eac,_0x41e265){let _0xb0223b=this['_uniformCa'+'che'][_0x5a5eac];return _0xb0223b||(_0xb0223b=_0x41e265(),this['_uniformCa'+'che'][_0x5a5eac]=_0xb0223b),_0xb0223b;}['getUniform'](_0x4ecef3,_0x563fda,_0x36c5ce){return bv[_0x4ecef3](this,_0x563fda,_0x36c5ce);}['updateUnif'+'orms'](_0x6b9cb6,_0xcc6542){const _0xe510f9=_0xdda618=>this['getUniform'](_0xdda618,_0x6b9cb6,_0xcc6542);this['_setParame'+'ter']('material_a'+'mbient',_0xe510f9('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0xe510f9('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1*-0x221e+0x1f90+-0x41ad)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xe510f9('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0xe510f9('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xe510f9('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0xa08+-0x4*-0x4bb+0x8e4*-0x1&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x1dc9+-0x1899+-0x3662*-0x1&&this['emissive']['g']===-0x166c+-0x1c14+0xca*0x40&&this['emissive']['b']===-0x250f+-0x188c+0x3d9b&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0xe510f9('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x8df*0x4+-0x1284+0x18*-0xb5&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x11*-0x11+-0x49e*0x1+0x5bf*0x1&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0xe510f9('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1f74+-0xa4*0x1f+-0x8*-0x66a?-0x1433+-0x1*-0x25f5+-0x2*0x8e1:(0xc85+0x93*0x25+-0x21c3)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x1af1+0x2622+0x2*-0x2089)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0xe510f9('cubeMapPro'+'jectionBox'));for(const _0x34da83 in bn)this['_updateMap'](_0x34da83);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0xe510f9('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x6b9cb6,_0xcc6542);}['updateEnvU'+'niforms'](_0x94cae0,_0x4dfd64){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x4dfd64['envAtlas']&&_0x4dfd64['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x4dfd64['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x4dfd64['skybox'])):_0x4dfd64['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x4dfd64['envAtlas']):_0x4dfd64['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x4dfd64['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x3ad0d5){const {device:_0x29c6d1,scene:_0x2989ef,pass:_0x152f34,objDefs:_0x127ae,sortedLights:_0x10f200,cameraShaderParams:_0x1934dc}=_0x3ad0d5;this['updateEnvU'+'niforms'](_0x29c6d1,_0x2989ef);const _0x2efcfd=Si['get'](_0x29c6d1)['getByIndex'](_0x152f34),_0x24be29=_0x152f34===Zn||_0x152f34===Rl||_0x2efcfd['isShadow'];let _0x2ba65c=_0x24be29?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x2ba65c['defines']=$t['getCoreDef'+'ines'](this,_0x3ad0d5),_0x24be29?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x2ba65c,_0x2989ef,this,_0x127ae,_0x152f34,_0x10f200):this['shaderOptB'+'uilder']['updateRef'](_0x2ba65c,_0x2989ef,_0x1934dc,this,_0x127ae,_0x152f34,_0x10f200),this['useFog']||_0x2ba65c['defines']['set']('FOG','NONE'),_0x2ba65c['defines']['set']('TONEMAP',ov[_0x2ba65c['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x2ba65c=this['onUpdateSh'+'ader'](_0x2ba65c));const _0x267ef2=new Ad(_0x3ad0d5['viewUnifor'+'mFormat'],_0x3ad0d5['viewBindGr'+'oupFormat'],_0x3ad0d5['vertexForm'+'at']),_0x32ca4a=Hn(_0x29c6d1);_0x32ca4a['register']('standard',Jd);const _0x394905=_0x32ca4a['getProgram']('standard',_0x2ba65c,_0x267ef2,this['userId']);return this['_dirtyShad'+'er']=!(-0x22e*0x5+-0x5aa+-0x1*-0x1091),_0x394905;}['destroy'](){for(const _0x3f4d06 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x3f4d06]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x315a5c,_0x28392e)=>{bv[_0x315a5c]=_0x28392e;},um=(_0x2310b2,_0x6a290,_0x4545a0,_0x176a77)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x2310b2,{'get':_0x176a77||function(){return this['_'+_0x2310b2];},'set':_0x4545a0}),Kc[_0x2310b2]={'value':_0x6a290};},Sb=_0x260369=>{const _0x2af902='_'+_0x260369['name'],_0x16d0dc=_0x260369['dirtyShade'+'rFunc']||(()=>!(-0x1ba8+-0x1515+0x30bd)),_0xf710be=function(_0x311712){const _0x81878b=this[_0x2af902];_0x81878b!==_0x311712&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x16d0dc(_0x81878b,_0x311712),this[_0x2af902]=_0x311712);};um(_0x260369['name'],()=>_0x260369['defaultVal'+'ue'],_0xf710be,_0x260369['getterFunc']);},yb=_0x51ccda=>{const _0x18d30a='_'+_0x51ccda['name'],_0x4102f7=_0x51ccda['dirtyShade'+'rFunc']||(()=>!(0xae*0x2c+-0x1540+-0x8a8)),_0x3dc644=function(_0x39250c){const _0xd11e96=this[_0x18d30a];_0xd11e96['equals'](_0x39250c)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x4102f7(_0xd11e96,_0x39250c),this[_0x18d30a]=_0xd11e96['copy'](_0x39250c));};um(_0x51ccda['name'],()=>_0x51ccda['defaultVal'+'ue']['clone'](),_0x3dc644,_0x51ccda['getterFunc']);},Es=_0x21d7b9=>_0x21d7b9['defaultVal'+'ue']&&_0x21d7b9['defaultVal'+'ue']['clone']?yb(_0x21d7b9):Sb(_0x21d7b9);function et(_0x25396c,_0x5eb6c9='rgb',_0x13ae9f=!(0x2b3*-0xb+-0x5*0x51b+0x3738),_0x3ff8d4=-0x1996+0x218f+-0x7f9){bn[_0x25396c]=_0x5eb6c9['length']||-(0x1706+-0x1*-0xde5+-0x3f*0x96),Es({'name':_0x25396c+'Map','defaultValue':null,'dirtyShaderFunc':(_0x3759c3,_0x968c59)=>!!_0x3759c3!=!!_0x968c59||_0x3759c3&&(_0x3759c3['type']!==_0x968c59['type']||_0x3759c3['format']!==_0x968c59['format'])}),Es({'name':_0x25396c+'MapTiling','defaultValue':new J(-0x257c+-0x899+0x2e16,-0x1*-0x1e95+0xcd*-0x16+0x6*-0x229)}),Es({'name':_0x25396c+'MapOffset','defaultValue':new J(-0x88*0x22+0x27*0xf7+-0x1391,0x242+-0x56*-0xf+-0x74c)}),Es({'name':_0x25396c+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x25396c+'MapUv','defaultValue':_0x3ff8d4}),_0x5eb6c9&&(Es({'name':_0x25396c+'MapChannel','defaultValue':_0x5eb6c9}),_0x13ae9f&&(Es({'name':_0x25396c+('VertexColo'+'r'),'defaultValue':!(0x1681+-0x5*-0x578+-0x2*0x18ec)}),Es({'name':_0x25396c+('VertexColo'+'rChannel'),'defaultValue':_0x5eb6c9})));const _0x2e73cb=_0x25396c+'MapTiling',_0xa603b4=_0x25396c+'MapOffset',_0x55fd59=_0x25396c+('MapRotatio'+'n'),_0x1f8253=_0x25396c+('MapTransfo'+'rm');Pd(_0x1f8253,(_0xeb33f1,_0x4fe1e2,_0x32c1d6)=>{const _0x173e62=_0xeb33f1[_0x2e73cb],_0x4ce3c8=_0xeb33f1[_0xa603b4],_0x3b9e19=_0xeb33f1[_0x55fd59];if(_0x173e62['x']===-0x8*-0x2b4+-0x2251+0xcb2&&_0x173e62['y']===-0x819+0xe02+-0x5e8&&_0x4ce3c8['x']===-0x1377+0x1b41+-0x7ca*0x1&&_0x4ce3c8['y']===-0x26b0+-0x563*0x3+0x36d9&&_0x3b9e19===-0x18d*0x12+-0xa96*-0x1+0x1154)return null;const _0xd2e7ca=_0xeb33f1['_allocUnif'+'orm'](_0x1f8253,()=>[{'name':'texture_'+_0x1f8253+'0','value':new Float32Array(0xb94+0x1592+0x2123*-0x1)},{'name':'texture_'+_0x1f8253+'1','value':new Float32Array(0x192*0x13+0x20b*0x8+-0x35*0xdf)}]),_0x342e49=Math['cos'](_0x3b9e19*Y['DEG_TO_RAD']),_0xded629=Math['sin'](_0x3b9e19*Y['DEG_TO_RAD']),_0x228fa1=_0xd2e7ca[0xc41*-0x3+0xf37+-0x7*-0x314]['value'];_0x228fa1[0x112*-0x16+-0x2118+0x64*0x91]=_0x342e49*_0x173e62['x'],_0x228fa1[0x24c6+0x1e5a+-0x431f]=-_0xded629*_0x173e62['y'],_0x228fa1[0x3ca+-0x1*0x26e1+0x2319]=_0x4ce3c8['x'];const _0x46c98c=_0xd2e7ca[0xd*0x20b+0x1*0x67f+-0x210d]['value'];return _0x46c98c[0x154b+0x73+-0x15be*0x1]=_0xded629*_0x173e62['x'],_0x46c98c[-0x349+0x7ca*0x4+-0x2*0xdef]=_0x342e49*_0x173e62['y'],_0x46c98c[0xd5b+0x12f5+-0xa*0x33b]=0xc71+-0x1229+0x125*0x5-_0x173e62['y']-_0x4ce3c8['y'],_0xd2e7ca;});}function Ra(_0x1ce11a,_0x1f6918){Es({'name':_0x1ce11a,'defaultValue':_0x1f6918,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x1*0xb6b+0x3*-0x8a4+-0x365*-0xb),this['_'+_0x1ce11a];}}),Pd(_0x1ce11a,(_0x451a68,_0x1f65cc,_0x1b65fc)=>{const _0xa7fafb=_0x451a68['_allocUnif'+'orm'](_0x1ce11a,()=>new Float32Array(0x356+-0x3c3+0x70)),_0x2fae23=_0x451a68[_0x1ce11a];return oc['linear'](_0x2fae23),_0xa7fafb[0x45c+0x12a*0xe+-0x14a8]=oc['r'],_0xa7fafb[-0xd1+-0x49+0x11b*0x1]=oc['g'],_0xa7fafb[-0x1425+-0xd88+0x21af]=oc['b'],_0xa7fafb;});}function ze(_0x4351fc,_0x27da8a,_0x5e0ece){Es({'name':_0x4351fc,'defaultValue':_0x27da8a,'dirtyShaderFunc':(_0x241e5c,_0x2e8a7e)=>(_0x241e5c===0x1c9+-0x43*-0x1+0x83*-0x4||_0x241e5c===0x7*-0x3a6+0x132b*-0x2+0x9*0x719)!=(_0x2e8a7e===0x7*0x85+0x26d3+0x2a76*-0x1||_0x2e8a7e===-0x1a37+-0x3e*-0x4d+0x792)}),Pd(_0x4351fc,_0x5e0ece);}function oo(_0x19d980,_0x51f759){Es({'name':_0x19d980,'defaultValue':null,'dirtyShaderFunc':(_0x200d1c,_0x4807a5)=>!!_0x200d1c==!!_0x4807a5}),Pd(_0x19d980,_0x51f759);}function ke(_0x12ed63,_0x1fade4){Es({'name':_0x12ed63,'defaultValue':_0x1fade4});}function vb(){Ra('ambient',new ie(0xca*-0x13+0x1877*0x1+-0x978,0x175b+-0x10d2*0x1+-0x26*0x2c,0x4*-0xd5+-0x1a20+0x1d75)),Ra('diffuse',new ie(-0x33f*-0x1+0x126b+-0x15a9,0x2d+0x1d9+-0x205,0x37a+0x1115+-0x148e)),Ra('specular',new ie(0x25ff*0x1+0xedb+-0x1c3*0x1e,-0x131d*-0x2+-0x1164+-0x14d6,0x16be+-0xfdf+0x6df*-0x1)),Ra('emissive',new ie(0x11*-0x1c+-0x11b*0x1b+0x1fb5,0xf4*-0x13+-0x2d*0x95+0x2c4d,-0xe12+-0x386+0x1198)),Ra('sheen',new ie(-0x20e*-0xb+-0x5*0x6c8+0x3c5*0x3,-0x111f+-0x268+0x1388,-0x12da*-0x1+0x1571+-0x1*0x284a)),Ra('attenuatio'+'n',new ie(0xdb0*-0x1+0x1b1f+-0xd6e,-0x1*-0x2065+0x4*-0x6c7+-0x34*0x1a,0xa2c+0x7cb+-0x13*0xf2)),ze('emissiveIn'+'tensity',0xd*0xa+-0xbf*0xd+0x1*0x932),ze('specularit'+'yFactor',-0x4c*0x1+-0x1*0x1034+0x1081),ze('sheenGloss',-0x2*-0x110b+0x2550+-0x4766),ze('gloss',0x22d7+0xee1*-0x1+-0x1ff*0xa+0.25),ze('aoIntensit'+'y',0x2*0x755+0x1*-0x2267+-0x13be*-0x1),ze('heightMapF'+'actor',0x858+-0xa*0x20b+0xc17,(_0x2203dd,_0x179de9,_0x2d0baf)=>_0x2203dd['heightMapF'+'actor']*(0x1f9*0x13+0x57*0x17+-0x2d4c+0.025)),ze('opacity',-0x168c+-0x1eef+-0x3d2*-0xe),ze('alphaFade',0x1*0x6a1+0xd9d+0x143d*-0x1),ze('alphaTest',-0x10a1+0x21dd+-0x44f*0x4),ze('bumpiness',0x4*0x3a2+-0x1*-0x10f3+0xfbd*-0x2),ze('normalDeta'+'ilMapBumpi'+'ness',0xfb0+-0xbe*-0x2b+-0x2f99),ze('reflectivi'+'ty',0x1927+0x966+-0x42*0x86),ze('occludeSpe'+'cularInten'+'sity',0x20*0x79+0x5*-0x47+-0xdbc),ze('refraction',0x3a9+-0xfb*0x6+0x239),ze('refraction'+'Index',(0x2200+-0x1486+-0xd79)/(0x199b+-0x9*-0x1f7+-0x2b49+0.5)),ze('dispersion',0x1*0x23c9+0x127d*0x1+-0x3646),ze('thickness',0x5e9+0x2*-0x2f+0x81*-0xb),ze('attenuatio'+'nDistance',-0x105d+0x859*0x1+-0x1*-0x804),ze('metalness',-0x638+0xd*-0x14a+0x16fb),ze('anisotropy'+'Intensity',0x1fca*-0x1+-0x1d76*-0x1+0x254),ze('anisotropy'+'Rotation',-0xc91*0x1+0x370+0x921),ze('clearCoat',-0x2069+-0x3*0xabd+-0x20*-0x205),ze('clearCoatG'+'loss',0x97a*-0x2+0x9fa+0x8fb),ze('clearCoatB'+'umpiness',-0x1*0x9ef+-0x1*0x6d1+0x10c1*0x1),ze('aoUvSet',0x1*0x16c1+-0x1*-0x212b+-0x37ec,null),ze('iridescenc'+'e',-0x1*-0xa4f+0x55d*-0x5+0x1082),ze('iridescenc'+'eRefractio'+'nIndex',(0xb6*-0x5+0x1*-0x1bf4+0x1f83*0x1)/(0xcf7+-0x23bd+0x16c7*0x1+0.5)),ze('iridescenc'+'eThickness'+'Min',-0xa3f+-0x1279+0x1cb8),ze('iridescenc'+'eThickness'+'Max',0x2288+0xc01+0x43b*-0xb),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x39ffbc,_0x36feb3,_0x36ed8f)=>{const _0x3b962f=_0x39ffbc['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1e61+-0x1*-0xa6a+0xa*-0x414)},{'name':'envBoxMax','value':new Float32Array(0x16e3+0x46f+0x1*-0x1b4f)}]),_0x52479a=_0x39ffbc['cubeMapPro'+'jectionBox']['getMin'](),_0x3bd863=_0x3b962f[-0x1832+0x5ab*0x1+0x1287]['value'];_0x3bd863[0x1266+-0x87d+0x2b*-0x3b]=_0x52479a['x'],_0x3bd863[-0x58f*-0x6+-0x8*0x1cc+0x653*-0x3]=_0x52479a['y'],_0x3bd863[0x9a*0x21+-0x1c*0x122+0xbe0]=_0x52479a['z'];const _0x2f6b36=_0x39ffbc['cubeMapPro'+'jectionBox']['getMax'](),_0x1d047a=_0x3b962f[0x1*0x1aa7+0x251b+-0x3fc1]['value'];return _0x1d047a[-0x209b+-0x16ee+0x3789]=_0x2f6b36['x'],_0x1d047a[0x282*-0xb+-0x5*-0x2f5+0xcce]=_0x2f6b36['y'],_0x1d047a[-0x3f7+-0x463*0x1+0x85c]=_0x2f6b36['z'],_0x3b962f;}),ke('specularTi'+'nt',!(0x17b3*-0x1+0x15*-0x6f+0x20cf)),ke('specularit'+'yFactorTin'+'t',!(-0x189e+-0x2662*-0x1+-0xdc3)),ke('useMetalne'+'ss',!(-0xd0d+-0x97a*0x2+0x1*0x2002)),ke('useMetalne'+'ssSpecular'+'Color',!(0x7*-0x3c3+-0x2*-0x714+0x2*0x617)),ke('useSheen',!(-0xffa+0x1df8+-0x1*0xdfd)),ke('enableGGXS'+'pecular',!(0x628*-0x6+-0x1b55+0x4046)),ke('occludeDir'+'ect',!(-0xfe*-0x12+-0xe*-0x7f+-0x18cd)),ke('opacityFad'+'esSpecular',!(-0xa*0x183+-0x836+0x1754)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(-0x20b*0x1+0x2505+-0x22f9*0x1)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0xd5a*0x2+0x719*-0x5+0xd*0xad)),ke('useLightin'+'g',!(0x2472+-0x1d*0x149+0xd3)),ke('useTonemap',!(-0x31*0xbc+-0x43*-0xb+0x4b*0x71)),ke('useSkybox',!(0x1c8f+0x7a4+-0x2433)),ke('forceUv1',!(0x562+0x244d+-0x5*0x856)),ke('pixelSnap',!(0x1c22+-0x1*-0x24b5+-0x40d6)),ke('twoSidedLi'+'ghting',!(0x1b17+0x11fe+-0x2d14)),ke('nineSliced'+'Mode',void(0x8d2+-0x918+0x5*0xe)),ke('msdfTextAt'+'tribute',!(0x1889+0x2170+-0x212*0x1c)),ke('useIridesc'+'ence',!(0x23aa+-0xc07*0x1+0x5*-0x4ba)),ke('glossInver'+'t',!(-0x28*0xbe+-0x21b8+0x305*0x15)),ke('sheenGloss'+'Invert',!(-0x1*-0x3dd+0x67*-0x1b+0x701)),ke('clearCoatG'+'lossInvert',!(-0x628*-0x4+0x157*0x5+-0x1f52)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0x1f66*-0x1+-0x4fa+0x1*0x2461)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(-0x1abd+-0x347+0x1e05)),et('ao','g'),et('light','rgb',!(0x62d+0x2b*0x6d+0x187c*-0x1),-0x5*0x4cf+0x1*-0x1849+0x3055),et('msdf',''),et('diffuseDet'+'ail','rgb',!(0x1495*0x1+-0xc93+-0x1*0x801)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x1c09+0xbf7*0x2+-0x33f6)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x21f8a8=function(){return this['_prefilter'+'edCubemaps'];},_0x2afa30=function(_0x56c0e3){const _0x27a9a3=this['_prefilter'+'edCubemaps'];_0x56c0e3=_0x56c0e3||[];let _0x5e147e=!(0x1b5e+0x29*0x2+-0x1baf),_0x5a40ab=!(-0xd81+0xc75*0x1+0x10c);for(let _0x5b90d8=-0x220c+0x23dd+0x1*-0x1d1;_0x5b90d8<-0x1*0xead+-0x890+-0x5*-0x4a7;++_0x5b90d8){const _0x4edd57=_0x56c0e3[_0x5b90d8]||null;_0x27a9a3[_0x5b90d8]!==_0x4edd57&&(_0x27a9a3[_0x5b90d8]=_0x4edd57,_0x5e147e=!(-0xaa1*-0x3+0x1*0xcfa+-0x2cdd)),_0x5a40ab=_0x5a40ab&&!!_0x27a9a3[_0x5b90d8];}_0x5e147e&&(_0x5a40ab?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x27a9a3,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x44f+-0x25c0+-0x2171*-0x1));},_0x4bd360=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x4bd360['slice'](),_0x2afa30,_0x21f8a8);}vb();const Rt=class Rt{static['render'](_0x2cc163,_0x4d0565){const _0x3c35e7=_0x4d0565['device'],_0x30c003=_0x2cc163['cells'],_0x361551=_0x2cc163['lightsBuff'+'er'],_0x115384=_0x361551['boundsMin'],_0x5379a9=_0x361551['boundsDelt'+'a'],_0x534251=_0x115384['clone']()['add'](_0x5379a9),_0x4b43c3=_0x361551['boundsDelt'+'a']['clone']()['div'](_0x30c003),_0x585b2c=Rt['gridPositi'+'ons'],_0x8a2ebb=Rt['gridColors'],_0x13a0ef=new ie(0x511+-0x2147+0x1c36+0.3,-0x2688+0x129f+0x13e9+0.3,-0x36*0x3d+-0x148d*-0x1+-0x7af+0.3),_0xf5b4c0=(_0x32f38c,_0x1977cc,_0x7c7673,_0x510df3,_0xb2de0d,_0x2a9092,_0x4dccdf,_0x24628b,_0x2563d5)=>{for(let _0x5db7c6=-0x1*0x851+0x19*0x44+0xb*0x27;_0x5db7c6<=_0x32f38c;_0x5db7c6++)for(let _0x50707a=0xa*0x3d9+0x5c*0x53+-0x444e;_0x50707a<=_0x1977cc;_0x50707a++){const _0x14e6d5=_0x7c7673+_0x5db7c6*_0x510df3,_0x5de9c1=_0xb2de0d+_0x50707a*_0x2a9092;_0x2563d5===-0x3d*-0x2e+0x11a7+-0x1c9d?_0x585b2c['push'](_0x14e6d5,_0x4dccdf,_0x5de9c1,_0x14e6d5,_0x24628b,_0x5de9c1):_0x2563d5===-0x1f02+0x16*-0x1a2+0x42ef?_0x585b2c['push'](_0x14e6d5,_0x5de9c1,_0x4dccdf,_0x14e6d5,_0x5de9c1,_0x24628b):_0x2563d5===0x1*0x11ec+0x7*-0x14+-0x12*0xf7&&_0x585b2c['push'](_0x4dccdf,_0x14e6d5,_0x5de9c1,_0x24628b,_0x14e6d5,_0x5de9c1);}};if(_0xf5b4c0(_0x30c003['x'],_0x30c003['z'],_0x115384['x'],_0x4b43c3['x'],_0x115384['z'],_0x4b43c3['z'],_0x115384['y'],_0x534251['y'],-0x534+0x1123+0x41*-0x2f),_0xf5b4c0(_0x30c003['x'],_0x30c003['y'],_0x115384['x'],_0x4b43c3['x'],_0x115384['y'],_0x4b43c3['y'],_0x115384['z'],_0x534251['z'],0x1*-0xd91+0x478+0x91a),_0xf5b4c0(_0x30c003['y'],_0x30c003['z'],_0x115384['y'],_0x4b43c3['y'],_0x115384['z'],_0x4b43c3['z'],_0x115384['x'],_0x534251['x'],0xc7c+0xd94+-0x1a0e),_0x585b2c['length']){const _0x944d2e=_0x585b2c['length']/(-0x17*0x31+0x1d*-0x47+-0x427*-0x3);if(_0x944d2e!==_0x8a2ebb['length']/(-0x2f*-0x7f+-0x26aa+0xf5d)){_0x8a2ebb['length']=0x1*-0x1b43+0x1*0x46d+-0x1*-0x16d6;for(let _0x13fb13=-0x1d19+0x481+0x1898;_0x13fb13<_0x944d2e;_0x13fb13++)_0x8a2ebb['push'](_0x13a0ef['r'],_0x13a0ef['g'],_0x13a0ef['b'],_0x13a0ef['a']);}_0x4d0565['drawLineAr'+'rays'](_0x585b2c,_0x8a2ebb),_0x585b2c['length']=0xa5c+0x1ca2+-0x142*0x1f;}let _0x39992d=Rt['mesh'];_0x39992d||(_0x39992d=new Ge(_0x3c35e7),_0x39992d['clear'](!(-0x8*-0x15e+0x15a8+-0x95*0x38),!(-0x2*0x84e+0x2437+0xef*-0x15)),Rt['mesh']=_0x39992d);const _0x1e2f1c=[],_0x405466=[],_0x4445a0=[],_0x275bcc=_0x2cc163['_cells']['x'],_0x382e7c=_0x2cc163['_cells']['z'],_0x583948=_0x2cc163['counts'],_0x1ea25c=_0x2cc163['_maxCellLi'+'ghtCount'],_0x303d6f=new D(),_0x21bec4=new D(),_0x4a745f=new D(),_0x28f24f=_0x5379a9['clone']()['div'](_0x30c003);let _0x5d25ec=0x2a1*-0x6+-0x1*0x163e+-0x4*-0x981;for(let _0x9ce0c7=-0x8*0x2c4+-0x36b+-0x1*-0x198b;_0x9ce0c7<_0x30c003['x'];_0x9ce0c7++)for(let _0x4bb2d1=-0xddf+-0xdab+0x1b8a;_0x4bb2d1<_0x30c003['z'];_0x4bb2d1++)for(let _0x51473e=0x1514+0x1*0x179b+-0x5d*0x7b;_0x51473e<_0x30c003['y'];_0x51473e++){const _0xa37318=_0x9ce0c7+_0x275bcc*(_0x4bb2d1+_0x51473e*_0x382e7c),_0x1c9213=_0x583948[_0xa37318];if(_0x1c9213>-0x19a3+-0x1f91+0x3934){_0x303d6f['x']=_0x115384['x']+_0x28f24f['x']*_0x9ce0c7,_0x303d6f['y']=_0x115384['y']+_0x28f24f['y']*_0x51473e,_0x303d6f['z']=_0x115384['z']+_0x28f24f['z']*_0x4bb2d1,_0x21bec4['add2'](_0x303d6f,_0x28f24f),_0x1e2f1c['push'](_0x303d6f['x'],_0x303d6f['y'],_0x21bec4['z']),_0x1e2f1c['push'](_0x21bec4['x'],_0x303d6f['y'],_0x21bec4['z']),_0x1e2f1c['push'](_0x21bec4['x'],_0x21bec4['y'],_0x21bec4['z']),_0x1e2f1c['push'](_0x303d6f['x'],_0x21bec4['y'],_0x21bec4['z']),_0x1e2f1c['push'](_0x21bec4['x'],_0x303d6f['y'],_0x303d6f['z']),_0x1e2f1c['push'](_0x303d6f['x'],_0x303d6f['y'],_0x303d6f['z']),_0x1e2f1c['push'](_0x303d6f['x'],_0x21bec4['y'],_0x303d6f['z']),_0x1e2f1c['push'](_0x21bec4['x'],_0x21bec4['y'],_0x303d6f['z']),_0x4a745f['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x1c9213/_0x1ea25c)['round']();for(let _0x2b0c69=0x5c1*0x1+0x2675+0x2*-0x161b;_0x2b0c69<0x23ee+0x47*-0x3f+-0x126d;_0x2b0c69++)_0x405466['push'](_0x4a745f['x'],_0x4a745f['y'],_0x4a745f['z'],-0x3b9*0x4+0xaf*-0xd+0x17c8);_0x4445a0['push'](_0x5d25ec*(0xbef+0x7a*-0x29+0x7a3)+(-0x16f4+0x1c3a*-0x1+0x332e),_0x5d25ec*(-0x1*0x8c5+-0x563*0x1+0xe30)+(0x1*-0x287+0x1f2b+-0x1ca3),_0x5d25ec*(-0x2218+-0x26af+-0x3d5*-0x13)+(-0xb8d*-0x1+0x1e80+0x1505*-0x2)),_0x4445a0['push'](_0x5d25ec*(-0x307*0x1+-0x86*0x1f+-0x1*-0x1349)+(0x43+-0x7c2+0x782),_0x5d25ec*(0x1d93+-0x12*0x1f8+0x1*0x5e5)+(0x1*-0x1c9f+0x1a6c+-0xbc*-0x3),_0x5d25ec*(0x713*0x2+-0x10b1*0x1+0x293)+(0x21a1+0xe93+-0x3032)),_0x4445a0['push'](_0x5d25ec*(-0xb09+-0xe14+0x1*0x1925)+(0x2154+0x68*-0x3a+-0x20*0x4e),_0x5d25ec*(-0xa7e+-0x1*0x17bc+-0x2242*-0x1)+(-0x1586+0x3*0xc0f+-0xea2),_0x5d25ec*(-0x76*0x6+-0xd3b+0x1007)+(-0x87d+-0x1e7e+-0x2702*-0x1)),_0x4445a0['push'](_0x5d25ec*(-0x2c*0xa7+-0x225e+0x3f1a)+(0x5*0x49d+0x3ad+0x1ab7*-0x1),_0x5d25ec*(-0xfe*0xb+-0x1*-0x12ff+-0x80d)+(0xc*-0x2a6+0x1d20+0x2ad),_0x5d25ec*(-0x14ab*0x1+0x2031+-0x2*0x5bf)+(-0x1*-0x23fd+0x2124+0x451b*-0x1)),_0x4445a0['push'](_0x5d25ec*(-0xe7e+-0x1b88+-0x2a0e*-0x1)+(0x376*-0xb+0xc1*-0xd+0x2fe2),_0x5d25ec*(-0x5*0x351+0x108e+0x5*0x3)+(-0x1*0x2429+0xbd9*-0x1+0x3004),_0x5d25ec*(-0x2108+-0x157d+-0x7cb*-0x7)+(-0x7*0x337+0x1*0x2597+-0xf10)),_0x4445a0['push'](_0x5d25ec*(0x1897+0x258f+0x3e1e*-0x1)+(-0x2*-0xb65+0xd*-0x2ea+0xf1a*0x1),_0x5d25ec*(0x705+0x1*-0x1c7d+0x1580)+(-0x582+-0x20f2+0x267b),_0x5d25ec*(-0x1f71*0x1+-0x9*0x26a+0x3533)+(0x227*-0x7+-0x1*0x1379+0x2290)),_0x4445a0['push'](_0x5d25ec*(0x91c+0x1b86+-0x3a9*0xa)+(-0x13a2+0x3*-0x133+0x1*0x173c),_0x5d25ec*(0x1*0x1c2c+-0x9f7*0x2+-0x1*0x836)+(0x1e8b+0x4*-0x959+-0x6d9*-0x1),_0x5d25ec*(-0x30c*-0x5+-0xc*-0x26+-0x10fc)+(0x1c26+0x15a0*-0x1+-0x1*0x682)),_0x4445a0['push'](_0x5d25ec*(-0x1a*-0x3+0x11b1+0x1*-0x11f7)+(-0xd*-0x259+-0xe9b*-0x1+0x5a4*-0x8),_0x5d25ec*(0x125*0x5+0x672+-0xc23)+(0x1ae0+-0x1*-0x17e1+-0x32bc),_0x5d25ec*(-0xe4a+0x1fb8+-0x1166)+(-0xe11+0x1*0x126d+-0x458)),_0x4445a0['push'](_0x5d25ec*(-0x1220*0x2+-0x679*0x6+0x4b1e)+(-0x790+-0x1*0x19e2+-0x2173*-0x1),_0x5d25ec*(0xb*0x352+0xf89+0x1*-0x3407)+(-0xa1b+-0x1087*-0x2+-0x3*0x7a5),_0x5d25ec*(-0x1283*-0x2+0x2688+0x25c3*-0x2)+(0xbc5+0x213d+-0x2d00)),_0x4445a0['push'](_0x5d25ec*(0xa38+-0x2b6+-0x77a)+(0x239*0x5+-0x16fa+0xbe1),_0x5d25ec*(0x2323+0xf*-0x1f3+-0x5de)+(-0x26f*0xd+-0x192a+0x38d4),_0x5d25ec*(-0x15*0x13a+0x22fa+-0x930)+(0x2397+-0x89f+-0x1af6)),_0x4445a0['push'](_0x5d25ec*(0x1e58+-0x1ee4+0x4a*0x2)+(-0x31c+0x32+-0x2ef*-0x1),_0x5d25ec*(0x1b1b+0x1dde*0x1+-0x38f1)+(-0x233*0x3+-0x4*0x2f9+0x127d),_0x5d25ec*(-0x2*-0x371+0x72a*0x3+0x8*-0x38b)+(-0x1*-0x254b+0x1c4c+-0x4191)),_0x4445a0['push'](_0x5d25ec*(-0x229*0xb+0x1537+0x294)+(0x5*-0x1f1+0xfe1+-0x62c),_0x5d25ec*(0x81+0x249c+-0x2515)+(0x1d07+0xa9e+-0x27a2),_0x5d25ec*(0x2*0x766+-0x1569+0x6a5)+(-0x16a*0x3+0x4e4*-0x3+0x12f0)),_0x5d25ec++;}}if(_0x5d25ec){if(_0x39992d['setPositio'+'ns'](_0x1e2f1c),_0x39992d['setNormals'](new Float32Array(_0x1e2f1c['length'])),_0x39992d['setColors3'+'2'](_0x405466),_0x39992d['setIndices'](_0x4445a0),_0x39992d['update'](js,!(-0x1557*0x1+-0x16*0x1b2+0x342*0x12)),!Rt['meshInstan'+'ce']){const _0x311277=new Ut();_0x311277['useLightin'+'g']=!(-0x2*-0x1042+-0x135a+-0xd29),_0x311277['emissive']=new ie(0x628+0x2*0xf3f+-0x24a5*0x1,0x1e79+0x71a*0x2+-0x2cac,-0x1*0x154+0x894+-0x23*0x35),_0x311277['emissiveVe'+'rtexColor']=!(0x7c2*-0x5+0xbff+0x13*0x169),_0x311277['blendType']=Ed,_0x311277['depthWrite']=!(0x1*0x472+0x1dc6+-0x2237),_0x311277['update']();const _0x5bda2e=new Ie('WorldClust'+'ersDebug');_0x5bda2e['worldTrans'+'form']=te['IDENTITY'],_0x5bda2e['_dirtyWorl'+'d']=_0x5bda2e['_dirtyNorm'+'al']=!(0x2d2+0x2*-0x4b1+-0x691*-0x1),Rt['meshInstan'+'ce']=new He(_0x39992d,_0x311277,_0x5bda2e),Rt['meshInstan'+'ce']['cull']=!(-0x328+0x1*0x2c3+0x66);}const _0xcba5e5=Rt['meshInstan'+'ce'];_0x4d0565['immediate']['drawMesh'](_0xcba5e5['material'],_0xcba5e5['node']['worldTrans'+'form'],null,_0xcba5e5,_0x4d0565['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x16a0+0x1*0x415+-0x1ab4*0x1,-0x1854+-0x73b*0x5+0x3c7c,-0x1a1c+-0x1f*0x7e+0x295f)),h(Rt,'colorHigh',new D(0x59*0x56+-0x14c*0x1d+0x7de,-0x4bd*0x6+-0x1eb3+0x3b21,0x18b*0x19+-0x11f5*0x2+-0x3*0xe3));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x342471=atob(xb);Vi=Uint8Array['from'](_0x342471,_0x4f105c=>_0x4f105c['charCodeAt'](-0x2d*-0x1d+-0x1*-0xa13+0xf2c*-0x1));}},Tb=()=>(Av(),Vi);class wb{constructor(_0xc4d3dc=-0x281+0x10bd*0x1+-0x4*0x38f){h(this,'seed',0x89*-0x1+0x12c+0x1*-0xa3),(this['seed']=_0xc4d3dc*(0xb*-0x149+-0x1*-0x24d9+-0x2*0xb59),Av());}['_next'](){this['seed']=(this['seed']+(0xe*-0x1c+-0x1*0x179e+0x192a*0x1))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0xf82+-0x228f+0x140c);}['vec4'](_0x464efd=new re()){return this['_next'](),_0x464efd['set'](Vi[this['seed']],Vi[this['seed']+(0x1*-0x1865+-0x3a9*-0x4+0x2*0x4e1)],Vi[this['seed']+(-0x2a5*-0xa+0x9f2+0x1231*-0x2)],Vi[this['seed']+(0x13b7+0x22e+-0x15e2)])['mulScalar']((-0xd43+0x1e00*0x1+-0x10bc)/(0x171b+-0x11cb+0x41*-0x11));}}const Eb=[new D(-(-0x1c14+0x1db7+-0x1a2),-0xc0a*0x1+0x9d*0x1f+-0x6f9,0x415*-0x1+-0x1*0xc91+0x10a6),new D(-0x1*0x1de4+-0x1748+0x352d*0x1,-0x1044*-0x1+-0x1*0x942+-0x702,-0x6c6+-0xc3e*-0x1+0xa*-0x8c),new D(0x48d*-0x6+-0x20*-0x94+0x8ce,-(-0x2086+0x1daa+0x2dd),-0xb43+-0xdbe+0x1901),new D(-0x8f2*0x3+-0x47*0x1+-0x1b1d*-0x1,0x1d2e+0x27b*-0xa+-0x45f,0x22de+-0x10af+-0x122f),new D(-0x1*-0x189b+0x11*-0x115+-0x636,0x1*-0xd3+-0x2*0x6e5+0x4df*0x3,-(0xd03*0x1+-0x2054*0x1+0x1352)),new D(0x18b*0x13+0x1f42+-0x3c93,0x177c+0x10bf*0x1+0x1*-0x283b,-0x1ae9*0x1+-0x35*0x53+0x2c19)];class bb{constructor(){h(this,'colors',new Float32Array(0x23d*0x2+-0xb0c+0x32*0x22));}['update'](_0x3034a8,_0x3ecdac){const _0x546a71=this['colors'],{r:_0x4ac2c1,g:_0x2424c8,b:_0x1923b1}=_0x3034a8;for(let _0x581709=0xb85+0x26*0x8d+-0x2073;_0x581709<-0x12c5*0x1+0x5*-0x1b2+0x27*0xb3;_0x581709++)_0x546a71[_0x581709*(0x8fa+0x3*0x3f5+-0x6f2*0x3)]=_0x4ac2c1,_0x546a71[_0x581709*(-0x1737+-0x17fd+0x2f37)+(-0x1854+-0xc1+0xd*0x1ee)]=_0x2424c8,_0x546a71[_0x581709*(0x10c2+-0x309+-0x5*0x2be)+(-0xcb+-0x1437+0xa*0x21a)]=_0x1923b1;for(let _0x55e2a4=-0x26d5*-0x1+0x385*0x5+-0x386e;_0x55e2a4<_0x3ecdac['length'];_0x55e2a4++){const _0x35254c=_0x3ecdac[_0x55e2a4];if(_0x35254c['_type']===ve)for(let _0x2760ab=-0x1a02+0xf7*0x17+-0x3d1*-0x1;_0x2760ab<-0x353*0x7+-0x137b*0x1+0x2ac6;_0x2760ab++){const _0x44cd50=Math['max'](Eb[_0x2760ab]['dot'](_0x35254c['_direction']),-0x187*-0x17+0x1cf4+-0x4015)*_0x35254c['_intensity'],_0x31c06f=_0x35254c['_color'];_0x546a71[_0x2760ab*(-0x379+-0x1d5c*0x1+-0x1*-0x20d8)]+=_0x31c06f['r']*_0x44cd50,_0x546a71[_0x2760ab*(-0x1802+0x15*-0x25+0x1b0e)+(0x1db3+0x2*-0xa15+-0x988)]+=_0x31c06f['g']*_0x44cd50,_0x546a71[_0x2760ab*(-0x995+0x26bf+-0x1d27)+(-0x1*0xa4e+-0x2*-0x469+0x1*0x17e)]+=_0x31c06f['b']*_0x44cd50;}}}}(function(){let _0x2316a5;try{const _0x136949=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x2316a5=_0x136949();}catch(_0x320e51){_0x2316a5=window;}_0x2316a5['setInterva'+'l'](_0x419904,-0x1fd*0x4+-0x5*-0x2bd+0x9e3);}());const Ab=(_0x8fc13f,_0x5b1dfc,_0x1e18fc,_0x513a6d)=>{const _0x2cd832=new _e(_0x8fc13f,{'name':''+_0x5b1dfc+_0x1e18fc,'width':_0x1e18fc,'height':_0x1e18fc,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x32f*-0x5+0x455*0x2+0x742)});return _0x2cd832['lock']()['set'](_0x513a6d),_0x2cd832['unlock'](),_0x2cd832;},Cb=new Kt(),Pb=_0x3e04d3=>Cb['get'](_0x3e04d3,()=>{const _0x16714c=Tb(),_0x55299d=Math['sqrt'](_0x16714c['length']/(-0x1e78+-0x1*0x845+0x26c1));return Ab(_0x3e04d3,'BlueNoise',_0x55299d,_0x16714c);});class va{constructor(_0x483afa,_0x4f64c6){this['texture']=_0x483afa,this['cached']=!(0x1a7c+-0xdbd+-0x2*0x65f),this['renderTarg'+'ets']=_0x4f64c6;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0xaffec9=this['renderTarg'+'ets'];for(let _0x4c6a7b=0x1271+-0x10a3*0x2+0xed5;_0x4c6a7b<_0xaffec9['length'];_0x4c6a7b++)_0xaffec9[_0x4c6a7b]['destroy']();this['renderTarg'+'ets']['length']=-0x1df*0x12+-0x24f4+0x46a2;}static['create'](_0xbbdc3,_0x289453){let _0x1a9446=null;return _0x289453['_type']===Ke?_0x1a9446=this['createCube'+'map'](_0xbbdc3,_0x289453['_shadowRes'+'olution'],_0x289453['_shadowTyp'+'e']):_0x1a9446=this['create2dMa'+'p'](_0xbbdc3,_0x289453['_shadowRes'+'olution'],_0x289453['_shadowTyp'+'e']),_0x1a9446;}static['createAtla'+'s'](_0x1520cd,_0x1ddebd,_0x593522){const _0x3a7614=this['create2dMa'+'p'](_0x1520cd,_0x1ddebd,_0x593522),_0x4acf01=_0x3a7614['renderTarg'+'ets'],_0x47fd10=_0x4acf01[-0x1a5d+-0x9*0x8+0x1aa5];for(let _0x211bb4=-0x1*0x101e+0x2*-0xad+0x1178;_0x211bb4<-0x1*-0x1646+0xffc*0x1+-0x263d;_0x211bb4++)_0x4acf01['push'](_0x47fd10);return _0x3a7614;}static['create2dMa'+'p'](_0x509181,_0x2148a5,_0x290eed){var _0x3c4d4f;const _0x17aabb=qi['get'](_0x290eed);w['assert'](_0x17aabb);let _0x54f275=_0x17aabb['format'];_0x54f275===Ji&&!_0x509181['textureFlo'+'atRenderab'+'le']&&_0x509181['textureHal'+'fFloatRend'+'erable']&&(_0x54f275=od);const _0x5919a8=(_0x3c4d4f=Nt['get'](_0x54f275))==null?void(-0x25*0x56+-0x4a9*0x5+0x23bb):_0x3c4d4f['name'];let _0x22f9da=vt;_0x290eed===Jp&&(_0x22f9da=_0x509181['extTexture'+'FloatLinea'+'r']?vt:Te),_0x290eed===al&&(_0x22f9da=Te);const _0x368f73=new _e(_0x509181,{'profilerHint':eu,'format':_0x54f275,'width':_0x2148a5,'height':_0x2148a5,'mipmaps':!(-0xf25+0x2*0xe3+-0xd6*-0x10),'minFilter':_0x22f9da,'magFilter':_0x22f9da,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x5919a8});let _0x1e4150=null;return _0x17aabb!=null&&_0x17aabb['pcf']?(_0x368f73['compareOnR'+'ead']=!(-0x2493*0x1+-0x15c1+0xe95*0x4),_0x368f73['compareFun'+'c']=hh,_0x1e4150=new gt({'depthBuffer':_0x368f73})):_0x1e4150=new gt({'colorBuffer':_0x368f73,'depth':!(0x20e8+-0x1f9a+-0xa7*0x2)}),_0x509181['isWebGPU']&&(_0x1e4150['flipY']=!(0x1*0x2f0+0xe*-0x13d+0xe66)),new va(_0x368f73,[_0x1e4150]);}static['createCube'+'map'](_0x14dede,_0x22987c,_0x548856){var _0x4e1e8d;const _0x546c7b=qi['get'](_0x548856);w['assert'](_0x546c7b);const _0x3fdb2e=(_0x4e1e8d=Nt['get'](_0x546c7b['format']))==null?void(-0xf73+-0xc6b*-0x2+-0x963):_0x4e1e8d['name'],_0x93cca=_0x548856===al,_0x2227d9=_0x93cca?Te:vt,_0x2110fa=new _e(_0x14dede,{'profilerHint':eu,'format':_0x546c7b==null?void(-0x2369+0x1568+0xf*0xef):_0x546c7b['format'],'width':_0x22987c,'height':_0x22987c,'cubemap':!(0x4cb+0x45e*0x3+-0x11e5),'mipmaps':!(0x1*-0x1393+-0x1f53*0x1+0x32e7*0x1),'minFilter':_0x2227d9,'magFilter':_0x2227d9,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x3fdb2e});_0x93cca||(_0x2110fa['compareOnR'+'ead']=!(0x713*-0x2+-0x1963+-0x15d*-0x1d),_0x2110fa['compareFun'+'c']=hh);const _0x15ec3d=[];for(let _0x42657b=0x2699*0x1+0x193*0x5+0x4*-0xb9e;_0x42657b<0x107*-0x13+-0x1*0xf1+-0x1*-0x147c;_0x42657b++)_0x93cca?_0x15ec3d['push'](new gt({'colorBuffer':_0x2110fa,'face':_0x42657b,'depth':!(0x6b4+0x1*0x68d+-0xd41*0x1)})):_0x15ec3d['push'](new gt({'depthBuffer':_0x2110fa,'face':_0x42657b}));return new va(_0x2110fa,_0x15ec3d);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x388cd3){this['size']=Math['floor'](_0x388cd3['w']*(0x188b+-0x2a2*0xc+-0x45*-0x29)),this['used']=!(0xda5*-0x2+-0x30a*-0xb+-0x623),this['lightId']=-(-0x196e+-0x2557+0x1f63*0x2),this['rect']=_0x388cd3;}}class Ib{constructor(_0x22e26c){this['device']=_0x22e26c,this['version']=-0x1022+0xda9+0x27a,this['shadowAtla'+'sResolutio'+'n']=0x26ed+-0xa*0x275+0x65b*-0x1,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x1*0x26b3+0x59*0x8+0xa5e*-0x4,this['cookieAtla'+'sResolutio'+'n']=-0x17b0+-0x174f+0x1d*0x19f,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x3c+0x184c+0x3*-0x82d),'mipmaps':!(-0x1a6e+-0x192c+0x1*0x339b),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x346+0x13b6+-0x16fb*0x1),'flipY':!(-0x22ae+0x19*0x9+0x21cd)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(-0x4*-0x551+0x218*-0x6+-0x8b4*0x1,-0xf*0x51+-0x1470+0x133*0x15),new J(0x2253+0x1856+-0x3aa9,-0x1406+-0x17f4+0x1*0x2bfb),new J(0x4f*-0x1d+0x91c+-0x28,-0x861+-0x1bbf*-0x1+0x86*-0x25),new J(0x1e82+0x176c+-0x35ed,-0x35*-0x2+0x3*0xa22+-0x1ecf),new J(-0x1fac+-0x1*0x1e21+0x3dcf,-0x7a*-0x4b+0x2bf*0xb+-0x41f3),new J(0x2b*-0x37+0x3*-0x81e+0xb7*0x2f,0x1bcd+0x1860+-0x342c)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x3e5*0x3+-0x401+0xfb1),this['allocateCo'+'okieAtlas'](0x3*-0x141+-0x5*0x3+-0x1*-0x3d3),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0xe9d3f6;(_0xe9d3f6=this['shadowAtla'+'s'])==null||_0xe9d3f6['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x498201,_0x42b6ec;(_0x498201=this['cookieAtla'+'s'])==null||_0x498201['destroy'](),this['cookieAtla'+'s']=null,(_0x42b6ec=this['cookieRend'+'erTarget'])==null||_0x42b6ec['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x4b2152,_0x59e1c3=$s){var _0x136414;const _0x57df8c=(_0x136414=this['shadowAtla'+'s'])==null?void(-0x20a6+0x1*0x6f8+0xcd7*0x2):_0x136414['texture']['format'],_0x3f615f=qi['get'](_0x59e1c3)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x4b2152||_0x57df8c!==_0x3f615f){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x4b2152,_0x59e1c3),this['shadowAtla'+'s']['cached']=!(0x8*-0x1e+0x15b8+-0x14c8);const _0x1ee659=(-0xb75+0xdc+0xa9d)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x1ee659,_0x1ee659,-(0x5e7*-0x5+0x63a*-0x1+0x23bf)*_0x1ee659,-(-0x7e6*0x2+-0x20af+0x307d*0x1)*_0x1ee659);}}['allocateCo'+'okieAtlas'](_0x414b52){this['cookieAtla'+'s']['width']!==_0x414b52&&(this['cookieRend'+'erTarget']['resize'](_0x414b52,_0x414b52),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x493*0x1+-0x524*0x4+0x1925),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x154852=this['shadowAtla'+'s']['renderTarg'+'ets'][0x43*-0x1f+0x5c6+-0x257*-0x1]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x154852),this['_shadowAtl'+'asParams'][-0xc38+-0xf9b+-0x1bd3*-0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0xc1f+-0x52e+0x114e]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x5d41db,_0x1eb2e7){let _0x50dd1a=_0x1eb2e7['atlasSplit'];if(!_0x50dd1a){const _0x412a72=Math['ceil'](Math['sqrt'](_0x5d41db));_0x50dd1a=Db,_0x50dd1a[0x4*-0x4c6+0x6e8+0xc30]=_0x412a72,_0x50dd1a['length']=0x1*-0x2593+0x10bb*0x1+0x14d9;}if(!((_0x5f5d1d,_0x377060)=>_0x5f5d1d['length']===_0x377060['length']&&_0x5f5d1d['every']((_0x289d9c,_0x508610)=>_0x289d9c===_0x377060[_0x508610]))(_0x50dd1a,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x2252+-0x9bf+0x2c11,this['atlasSplit']['length']=-0x196d+0x24ed+-0x5c0*0x2,this['atlasSplit']['push'](..._0x50dd1a);const _0x12b67f=this['atlasSplit'][-0xb03+0x2331+-0x2*0xc17];if(_0x12b67f>0x25ad+0x1*0xccd+-0x3279){const _0x108697=(-0x4c*0x5b+0x6b*-0x53+0x3db6)/_0x12b67f;for(let _0x3ebefa=-0x1*0x6ca+-0x1d51+0x241b;_0x3ebefa<_0x12b67f;_0x3ebefa++)for(let _0x24ae49=0x1c3*-0x4+-0x4*0x6d9+0x2270;_0x24ae49<_0x12b67f;_0x24ae49++){const _0x13ce9c=new re(_0x3ebefa*_0x108697,_0x24ae49*_0x108697,_0x108697,_0x108697),_0x13b62c=this['atlasSplit'][0x1b2c+-0x16*0x91+0x1*-0xeb5+_0x3ebefa*_0x12b67f+_0x24ae49];if(_0x13b62c>-0x70a*0x1+0x6d*0x44+-0x4f*0x47){for(let _0x12c1b9=-0xf9b+-0x10f4+-0x683*-0x5;_0x12c1b9<_0x13b62c;_0x12c1b9++)for(let _0x330eab=-0x758+0xd01+-0x17*0x3f;_0x330eab<_0x13b62c;_0x330eab++){const _0x250523=_0x108697/_0x13b62c,_0x2d111c=new re(_0x13ce9c['x']+_0x12c1b9*_0x250523,_0x13ce9c['y']+_0x330eab*_0x250523,_0x250523,_0x250523);this['slots']['push'](new tf(_0x2d111c));}}else this['slots']['push'](new tf(_0x13ce9c));}}else this['slots']['push'](new tf(new re(0x1dd*-0x3+-0x553+0xfe*0xb,0x4cf*-0x4+-0x1b67+0x1*0x2ea3,0x2235+-0xf9d*0x2+-0x2fa,0x107d+-0x611*0x5+0xdd9*0x1)));this['slots']['sort']((_0x68af30,_0x448e38)=>_0x448e38['size']-_0x68af30['size']);}}['collectLig'+'hts'](_0x5f0365,_0x41c659){const _0x56c42b=_0x41c659['cookiesEna'+'bled'],_0x28751f=_0x41c659['shadowsEna'+'bled'];let _0x2100a6=!(-0x44*0x13+0xf8f+-0x21a*0x5),_0x4eaf5e=!(-0x54d*0x1+-0xb92*0x3+-0x2804*-0x1);const _0x30d9b6=Mb;return _0x30d9b6['length']=0x828+-0x1e47+0x161f,(_0x56c42b||_0x28751f)&&(_0x468c37=>{for(let _0x481216=-0x5*-0x185+-0x873+0xda;_0x481216<_0x468c37['length'];_0x481216++){const _0x394b99=_0x468c37[_0x481216];if(_0x394b99['visibleThi'+'sFrame']){const _0x3b2a68=_0x28751f&&_0x394b99['castShadow'+'s'],_0x168a3f=_0x56c42b&&!!_0x394b99['cookie'];_0x2100a6||(_0x2100a6=_0x3b2a68),_0x4eaf5e||(_0x4eaf5e=_0x168a3f),(_0x3b2a68||_0x168a3f)&&_0x30d9b6['push'](_0x394b99);}}})(_0x5f0365),_0x30d9b6['sort']((_0x530ce6,_0x24980c)=>_0x24980c['maxScreenS'+'ize']-_0x530ce6['maxScreenS'+'ize']),_0x2100a6&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x41c659['shadowType']),_0x4eaf5e&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x2100a6||_0x4eaf5e)&&this['subdivide'](_0x30d9b6['length'],_0x41c659),_0x30d9b6;}['setupSlot'](_0x3b678e,_0x236a38){_0x3b678e['atlasViewp'+'ort']['copy'](_0x236a38);const _0x348372=_0x3b678e['numShadowF'+'aces'];for(let _0x307d30=-0x1c8b+-0x1ae1*0x1+0x376c;_0x307d30<_0x348372;_0x307d30++)if(_0x3b678e['castShadow'+'s']||_0x3b678e['_cookie']){if(xi['copy'](_0x236a38),ef['copy'](_0x236a38),_0x3b678e['_type']===Ze&&xi['add'](this['scissorVec']),_0x3b678e['_type']===Ke){const _0x1ee101=xi['z']/(-0x28a*-0x5+0x1*0x983+-0x1632),_0xbc11fa=this['cubeSlotsO'+'ffsets'][_0x307d30];xi['x']+=_0x1ee101*_0xbc11fa['x'],xi['y']+=_0x1ee101*_0xbc11fa['y'],xi['z']=_0x1ee101,xi['w']=_0x1ee101,ef['copy'](xi);}if(_0x3b678e['castShadow'+'s']){const _0x5074fa=_0x3b678e['getRenderD'+'ata'](null,_0x307d30);_0x5074fa['shadowView'+'port']['copy'](xi),_0x5074fa['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0xdefee7,_0xa7272e,_0xe2e039){_0xdefee7['atlasViewp'+'ortAllocat'+'ed']=!(0x45b*-0x4+0x211*-0x2+0x158e);const _0x3ec660=this['slots'][_0xa7272e];_0x3ec660['lightId']=_0xdefee7['id'],_0x3ec660['used']=!(-0xfe9+-0x17f6+0x3b*0xad),_0xe2e039&&(_0xdefee7['atlasSlotU'+'pdated']=!(0x7a5+-0x1898+0x10f3),_0xdefee7['atlasVersi'+'on']=this['version'],_0xdefee7['atlasSlotI'+'ndex']=_0xa7272e);}['update'](_0x5120f6,_0x1e312c){this['shadowAtla'+'sResolutio'+'n']=_0x1e312c['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x1e312c['cookieAtla'+'sResolutio'+'n'];const _0x2acf87=this['collectLig'+'hts'](_0x5120f6,_0x1e312c);if(_0x2acf87['length']>0x61e*-0x1+-0x1fbf+0x25dd){const _0x2917e3=this['slots'];for(let _0x57cf92=-0x1f47+0xa39*-0x2+0x33b9*0x1;_0x57cf92<_0x2917e3['length'];_0x57cf92++)_0x2917e3[_0x57cf92]['used']=!(0x1*0x254b+0x1a69+0x1*-0x3fb3);const _0x5a667d=Math['min'](_0x2acf87['length'],_0x2917e3['length']);for(let _0x46a9c4=-0x1f9*0x6+-0x1a97+-0x9*-0x445;_0x46a9c4<_0x5a667d;_0x46a9c4++){const _0x500386=_0x2acf87[_0x46a9c4];_0x500386['castShadow'+'s']&&(_0x500386['_shadowMap']=this['shadowAtla'+'s']);const _0x2da9ea=_0x2917e3[_0x500386['atlasSlotI'+'ndex']];if(_0x500386['atlasVersi'+'on']===this['version']&&_0x500386['id']===(_0x2da9ea==null?void(-0x2*0xa67+-0x90d*0x1+0x1*0x1ddb):_0x2da9ea['lightId'])){const _0x2ec49e=_0x2917e3[_0x500386['atlasSlotI'+'ndex']];_0x2ec49e['size']===_0x2917e3[_0x46a9c4]['size']&&!_0x2ec49e['used']&&this['assignSlot'](_0x500386,_0x500386['atlasSlotI'+'ndex'],!(-0x2612+-0x73*0x5+0x2852));}}let _0x1f3444=-0x61*0x53+0x20a1*-0x1+-0x4014*-0x1;for(let _0x26eb7=-0x1ce4+0x1bd*0x2+-0x196a*-0x1;_0x26eb7<_0x5a667d;_0x26eb7++){for(;_0x1f3444<_0x2917e3['length']&&_0x2917e3[_0x1f3444]['used'];)_0x1f3444++;const _0x4e7826=_0x2acf87[_0x26eb7];_0x4e7826['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x4e7826,_0x1f3444,!(0x1*0xe09+-0x2415*0x1+0x160c*0x1));const _0x3573d8=_0x2917e3[_0x4e7826['atlasSlotI'+'ndex']];this['setupSlot'](_0x4e7826,_0x3573d8['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x5eec27=>{_0x5eec27['forEach'](_0x2c66ec=>{_0x2c66ec['destroy']();});}),this['cache']['clear']();}['getKey'](_0x987e28){const _0x198b0=_0x987e28['_type']===Ke,_0x394f0b=_0x987e28['_shadowTyp'+'e'],_0x5852fc=_0x987e28['_shadowRes'+'olution'];return _0x198b0+'-'+_0x394f0b+'-'+_0x5852fc;}['get'](_0x1296d7,_0x532683){const _0x1153ba=this['getKey'](_0x532683),_0x19c9d2=this['cache']['get'](_0x1153ba);if(_0x19c9d2&&_0x19c9d2['length'])return _0x19c9d2['pop']();const _0x4e4093=va['create'](_0x1296d7,_0x532683);return _0x4e4093['cached']=!(-0x3b1+-0x1bc0+0x1f71),_0x4e4093;}['add'](_0x2bfff1,_0x7a0089){const _0x2cf857=this['getKey'](_0x2bfff1),_0x203b81=this['cache']['get'](_0x2cf857);_0x203b81?_0x203b81['push'](_0x7a0089):this['cache']['set'](_0x2cf857,[_0x7a0089]);}}class Rb extends ys{constructor(_0x2d900b,_0x3b269,_0x1d8300,_0x111626,_0x44449f){super(_0x2d900b),Ea['setName'](this,this['name']+'-'+_0x1d8300['_node']['name']),this['requiresCu'+'bemaps']=!(0x1*0x213b+0x12f7*-0x2+0x2b*0x1c),this['shadowRend'+'erer']=_0x3b269,this['light']=_0x1d8300,this['face']=_0x111626,this['applyVsm']=_0x44449f,this['shadowCame'+'ra']=_0x3b269['prepareFac'+'e'](_0x1d8300,null,_0x111626),_0x3b269['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x4b*0x7b+0x1c1d+0x187*-0x2a));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x1156+0x78a*0x2+0x2069*-0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0xb2fa6a,_0x16b758){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0xb2fa6a,this['shadowRend'+'erer']=_0x16b758,this['device']=_0xb2fa6a['device']);}['cull'](_0x4f04a5,_0xee9e6b,_0x4b61af=null){const _0x151b7e=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x4f04a5['visibleThi'+'sFrame']=!(-0x7*-0xc5+-0x57*-0x1b+-0xe90),_0x151b7e||_0x4f04a5['_shadowMap']||(_0x4f04a5['_shadowMap']=va['create'](this['device'],_0x4f04a5));const _0x103860=_0x4f04a5['_type'],_0x303ef6=_0x103860===Ze?0xc9*0x2a+-0x2087+-0x72:-0x3*-0x3c9+0xa0f+-0x94*0x25;for(let _0x58b71f=-0x14fe+0x172d+0x2b*-0xd;_0x58b71f<_0x303ef6;_0x58b71f++){const _0x21789e=_0x4f04a5['getRenderD'+'ata'](null,_0x58b71f),_0x54b122=_0x21789e['shadowCame'+'ra'];_0x54b122['nearClip']=_0x4f04a5['attenuatio'+'nEnd']/(-0x7ab*0x4+0x95c+-0x1938*-0x1),_0x54b122['farClip']=_0x4f04a5['attenuatio'+'nEnd'];const _0x404270=_0x54b122['_node'],_0x3e2612=_0x4f04a5['_node'];if(_0x404270['setPositio'+'n'](_0x3e2612['getPositio'+'n']()),_0x103860===Ze)_0x54b122['fov']=_0x4f04a5['_outerCone'+'Angle']*(0x217+-0x3b7*-0x1+-0x5cc),_0x404270['setRotatio'+'n'](_0x3e2612['getRotatio'+'n']()),_0x404270['rotateLoca'+'l'](-(0x20*-0xc1+0x1542+-0x4*-0xce),0x5aa+0x2584+0x1*-0x2b2e,0x43d+0xeaf+-0x15a*0xe);else{if(_0x103860===Ke){if(_0x151b7e){const _0x37e342=(0x2ad+0x1*-0x1226+0xf7b)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x4f04a5['atlasViewp'+'ort']['z']/(0x26*0x2+0x2*-0x90c+0x1*0x11cf))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x54b122['fov']=Math['atan'](-0x2392+0x1b9c*-0x1+0x287*0x19+_0x37e342)*Y['RAD_TO_DEG']*(0xc9a+0x4*0x111+-0x10dc);}else _0x54b122['fov']=0x1851+0x2a5*-0x2+-0x7*0x2ab;}}this['renderer']['updateCame'+'raFrustum'](_0x54b122),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xee9e6b,_0x4f04a5,_0x21789e['visibleCas'+'ters'],_0x54b122,_0x4b61af);}}['prepareLig'+'hts'](_0xbc9a7a,_0x2de745){let _0x555878;for(let _0x6221e7=0x8b4+0x48f*-0x3+0x4f9;_0x6221e7<_0x2de745['length'];_0x6221e7++){const _0x4a70ff=_0x2de745[_0x6221e7];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4a70ff)&&_0x4a70ff['atlasViewp'+'ortAllocat'+'ed']){_0xbc9a7a['push'](_0x4a70ff);for(let _0x5ef1f6=0x26ec+0xe51+-0x353d;_0x5ef1f6<_0x4a70ff['numShadowF'+'aces'];_0x5ef1f6++)_0x555878=this['shadowRend'+'erer']['prepareFac'+'e'](_0x4a70ff,null,_0x5ef1f6);}}return _0x555878;}['buildNonCl'+'usteredRen'+'derPasses'](_0x30d288,_0x5d1f5d){for(let _0x559774=-0x1f75+-0x49*-0x11+0x1a9c;_0x559774<_0x5d1f5d['length'];_0x559774++){const _0x5b5b22=_0x5d1f5d[_0x559774];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5b5b22)){const _0x2b24d2=_0x5b5b22['_type']===Ze,_0x46d07c=_0x5b5b22['numShadowF'+'aces'];for(let _0x274767=0x19d3*-0x1+0xd9d+0xc36;_0x274767<_0x46d07c;_0x274767++){const _0x1b88bc=new Rb(this['device'],this['shadowRend'+'erer'],_0x5b5b22,_0x274767,_0x2b24d2);_0x30d288['addRenderP'+'ass'](_0x1b88bc);}}}}}class Fb extends ys{constructor(_0x24e592,_0x23d019,_0x350f46,_0x357347,_0x1fbe42){super(_0x24e592),Ea['setName'](this,this['name']+'-'+_0x350f46['_node']['name']),this['shadowRend'+'erer']=_0x23d019,this['light']=_0x350f46,this['camera']=_0x357347,this['allCascade'+'sRendering']=_0x1fbe42;}['execute'](){const {light:_0x5f33b2,camera:_0x297f65,shadowRenderer:_0x252a0e,allCascadesRendering:_0x1d8ebc}=this,_0x47825f=_0x5f33b2['numShadowF'+'aces'],_0x357cb7=_0x5f33b2['shadowUpda'+'teOverride'+'s'];for(let _0x14bf04=-0xb9*0x22+0x8fb*0x1+0xf97;_0x14bf04<_0x47825f;_0x14bf04++)(_0x357cb7==null?void(0xf91+-0x1d79*-0x1+-0x5*0x902):_0x357cb7[_0x14bf04])!==Ps&&_0x252a0e['renderFace'](_0x5f33b2,_0x297f65,_0x14bf04,!_0x1d8ebc),(_0x357cb7==null?void(0x2f9+-0x985+0x346*0x2):_0x357cb7[_0x14bf04])===xr&&(_0x357cb7[_0x14bf04]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x1d6645,_0x4f8efc,_0x449f81){Xe[0x2*0x1f5+0xe*0x1f3+-0x1f34]['x']=Xe[-0x1cc3+-0x2c1*-0xb+0x17*-0x11]['x']=Xe[-0xe5*-0x7+-0x1*-0x5a7+-0xbe8]['x']=Xe[0x12a*0xa+-0xb77+0x2a*-0x1]['x']=_0x4f8efc['x'],Xe[0x1045+-0xc5*-0x1d+-0x2695*0x1]['y']=Xe[0x663+-0x320*-0xc+0x4e*-0x90]['y']=Xe[0x1979+0x1499+-0xf59*0x3]['y']=Xe[-0x16f2+0x37c*0x6+-0x1f*-0x11]['y']=_0x4f8efc['y'],Xe[0xd25*0x2+0x771*0x2+0x16*-0x1df]['z']=Xe[0x2270+-0x44*-0x8a+-0x1*0x4715]['z']=Xe[0xeb*0x5+-0x263d+0x21ac]['z']=Xe[-0xf*0x1de+-0xb*0x322+0x3e7f]['z']=_0x4f8efc['z'],Xe[0x1292+0x1ec3+0x65*-0x7d]['x']=Xe[-0xa07+0x6b5+0x357]['x']=Xe[0x32+-0x1d6+0x1*0x1aa]['x']=Xe[-0x1*-0xf7f+-0x110b+0x193]['x']=_0x449f81['x'],Xe[0x2238+-0x7e2*-0x4+-0x41c0]['y']=Xe[0x3*-0x7f7+-0x1*0x243d+-0x1*-0x3c24]['y']=Xe[0xeb*0x7+-0xec7+-0x22*-0x3f]['y']=Xe[-0xfe0*0x1+-0x1*0x8e1+0x18c7]['y']=_0x449f81['y'],Xe[-0x1*-0xb2f+-0x1873*0x1+0x236*0x6]['z']=Xe[0xc7a+-0xd6c+0xf3]['z']=Xe[0x3be*-0xa+-0x949+0x3*0xf93]['z']=Xe[-0x2b*0xc2+0x3a5*-0x8+0x3dc3]['z']=_0x449f81['z'];let _0x45d08f=-0x290affdfe+-0x316274e21+-0x4e92958b*-0x1a,_0x2e8654=-(0x22d85b29d+0x3a30f3497+0xb281cd71*-0x5);for(let _0x252124=-0x1*-0x1d3+-0x3*0xa07+0x1c42*0x1;_0x252124<0x3a*-0x6e+-0x2a2*-0x5+0xbca;++_0x252124){_0x1d6645['transformP'+'oint'](Xe[_0x252124],Xe[_0x252124]);const _0x1ec914=Xe[_0x252124]['z'];_0x1ec914<_0x45d08f&&(_0x45d08f=_0x1ec914),_0x1ec914>_0x2e8654&&(_0x2e8654=_0x1ec914);}return sf['min']=_0x45d08f,sf['max']=_0x2e8654,sf;}class kb{constructor(_0x4df74c,_0x561fa2){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x4df74c,this['shadowRend'+'erer']=_0x561fa2,this['device']=_0x4df74c['device']);}['cull'](_0x41c29e,_0x1bd767,_0x774e06,_0x312269=null){_0x41c29e['visibleThi'+'sFrame']=!(-0x1*0x306+0x43*0x61+-0x165d),_0x41c29e['_shadowMap']||(_0x41c29e['_shadowMap']=va['create'](this['device'],_0x41c29e));const _0x1e9c51=_0x774e06['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x41c29e,_0x1e9c51,Math['min'](_0x774e06['_farClip'],_0x41c29e['shadowDist'+'ance']));const _0x33f4a4=_0x41c29e['shadowUpda'+'teOverride'+'s'];for(let _0x2d9a2b=0x8*-0xdc+0x64+0x33e*0x2;_0x2d9a2b<_0x41c29e['numCascade'+'s']&&(_0x33f4a4==null?void(-0x61e*0x4+-0xbc*-0x12+0x18*0x78):_0x33f4a4[_0x2d9a2b])!==Ps;_0x2d9a2b++){const _0x151f50=_0x41c29e['getRenderD'+'ata'](_0x774e06,_0x2d9a2b),_0x56879a=_0x151f50['shadowCame'+'ra'];_0x56879a['renderTarg'+'et']=_0x41c29e['_shadowMap']['renderTarg'+'ets'][-0x16*0x14a+0x1f0d+-0x2b1],_0x151f50['shadowView'+'port']['copy'](_0x41c29e['cascades'][_0x2d9a2b]),_0x151f50['shadowScis'+'sor']['copy'](_0x41c29e['cascades'][_0x2d9a2b]);const _0x46f7d4=_0x56879a['_node'],_0x4c053a=_0x41c29e['_node'];_0x46f7d4['setPositio'+'n'](_0x4c053a['getPositio'+'n']()),_0x46f7d4['setRotatio'+'n'](_0x4c053a['getRotatio'+'n']()),_0x46f7d4['rotateLoca'+'l'](-(0x31f+0x2*0x737+-0x1133),0xd9d+-0x8*0x269+-0x1*-0x5ab,-0x1c1d+0x56f*-0x1+0x218c);const _0x3afeb3=_0x2d9a2b===-0x3*-0x788+0x1952*0x1+-0x2*0x17f5?_0x1e9c51:_0x41c29e['_shadowCas'+'cadeDistan'+'ces'][_0x2d9a2b-(-0xa8c+-0x3b*-0x43+0x1*-0x4e4)],_0x5b6dbd=_0x41c29e['_shadowCas'+'cadeDistan'+'ces'][_0x2d9a2b],_0x52ceb9=_0x774e06['getFrustum'+'Corners'](_0x3afeb3,_0x5b6dbd);Ti['set'](-0x251c+0x1fb8+-0x73*-0xc,0xd6a+0xc0d+-0x29*0x9f,-0x6d*0x7+-0x7*0x25b+0xe*0x164);const _0x1a39a5=_0x774e06['node']['getWorldTr'+'ansform']();for(let _0xbbd15=0x1*0x26f+0x1*0xfb5+-0x102*0x12;_0xbbd15<0x139*-0x17+0x14fc+0x72b;_0xbbd15++)_0x1a39a5['transformP'+'oint'](_0x52ceb9[_0xbbd15],_0x52ceb9[_0xbbd15]),Ti['add'](_0x52ceb9[_0xbbd15]);Ti['mulScalar']((-0x1951+-0xe0*0x4+-0x11*-0x1b2)/(0x2603*-0x1+-0x808+0x2e13));let _0x383076=-0x35*-0x9a+-0x9*-0x319+0x1*-0x3bc3;for(let _0x1c773e=0x219a+0x1*0x1539+-0xaf7*0x5;_0x1c773e<-0x1*0x1be7+0x3b9+0x1836;_0x1c773e++){const _0xda041a=_0x52ceb9[_0x1c773e]['sub'](Ti)['length']();_0xda041a>_0x383076&&(_0x383076=_0xda041a);}const _0x17943b=_0x46f7d4['right'],_0x52897d=_0x46f7d4['up'],_0x12c88e=_0x46f7d4['forward'],_0x4e7211=(-0xbfd+-0x81*-0x35+0x4*-0x3ae+0.25)*_0x41c29e['_shadowRes'+'olution']/_0x383076,_0x32dce8=Math['ceil'](Ti['dot'](_0x52897d)*_0x4e7211)/_0x4e7211,_0x2a73f1=Math['ceil'](Ti['dot'](_0x17943b)*_0x4e7211)/_0x4e7211,_0xa0cd73=_0x52897d['mulScalar'](_0x32dce8),_0x5f5ac6=_0x17943b['mulScalar'](_0x2a73f1),_0x35555f=Ti['dot'](_0x12c88e),_0xa3785=_0x12c88e['mulScalar'](_0x35555f);Ti['add2'](_0xa0cd73,_0x5f5ac6)['add'](_0xa3785),_0x46f7d4['setPositio'+'n'](Ti),_0x46f7d4['translateL'+'ocal'](0x1*-0x787+0x1849*-0x1+0x1fd0,0x1d38+0x1f9f+-0x3cd7,-0x325d*0x75+0x2b61b+0x1ce*0x13b5),_0x56879a['nearClip']=-0x1cdb+0x1ae1*0x1+-0x1*-0x1fa+0.01,_0x56879a['farClip']=0x30bb2d+0x1833fc+-0x2a6aa9,_0x56879a['orthoHeigh'+'t']=_0x383076,this['renderer']['updateCame'+'raFrustum'](_0x56879a),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x1bd767,_0x41c29e,_0x151f50['visibleCas'+'ters'],_0x56879a,_0x312269);const _0x5e33c5=-0x1*-0x9fd+-0xbf*0x13+0x431<<_0x2d9a2b,_0x14ccbf=_0x151f50['visibleCas'+'ters'],_0xacbf56=_0x14ccbf['length'];let _0x182e2b=-0x25*-0x95+-0x5*-0x7a6+-0x3bc7;for(let _0x1edef2=0x19fe+-0xf72+0x10e*-0xa;_0x1edef2<_0xacbf56;_0x1edef2++){const _0x39adb3=_0x14ccbf[_0x1edef2];_0x39adb3['shadowCasc'+'adeMask']&_0x5e33c5&&(_0x14ccbf[_0x182e2b++]=_0x39adb3,_0x182e2b===-0x9d5+-0x1efa*0x1+0x28d0?lc['copy'](_0x39adb3['aabb']):lc['add'](_0x39adb3['aabb']));}_0xacbf56!==_0x182e2b&&(_0x14ccbf['length']=_0x182e2b),H_['copy'](_0x46f7d4['getWorldTr'+'ansform']())['invert']();const _0x2069e1=Nb(H_,lc['getMin'](),lc['getMax']());_0x46f7d4['translateL'+'ocal'](0x19f4+0x605*0x1+0x665*-0x5,0x3*-0x10+-0x35*0x55+0x11c9,_0x2069e1['max']+(0x1a91+0x1*-0x7f4+-0x129d+0.1)),_0x56879a['farClip']=_0x2069e1['max']-_0x2069e1['min']+(0x162c+-0x686*-0x1+-0x1cb2+0.2),_0x151f50['projection'+'Compensati'+'on']=_0x383076;}}['generateSp'+'litDistanc'+'es'](_0x201d57,_0x31d685,_0x242919){_0x201d57['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x242919);for(let _0x467fcf=-0x1be9+-0x1dda+0x39c4;_0x467fcf<_0x201d57['numCascade'+'s'];_0x467fcf++){const _0x13a9d1=_0x467fcf/_0x201d57['numCascade'+'s'],_0x97e97b=_0x31d685+(_0x242919-_0x31d685)*_0x13a9d1,_0x58af73=_0x31d685*(_0x242919/_0x31d685)**_0x13a9d1,_0x13ec0e=Y['lerp'](_0x97e97b,_0x58af73,_0x201d57['cascadeDis'+'tribution']);_0x201d57['_shadowCas'+'cadeDistan'+'ces'][_0x467fcf-(-0x1a43+-0x2064+0x1d54*0x2)]=_0x13ec0e;}}['getLightRe'+'nderPass'](_0x420ad8,_0x2ddbfc){w['assert'](_0x420ad8&&_0x420ad8['_type']===ve);let _0x39d79d=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x420ad8)){const _0x2d7da1=_0x420ad8['numShadowF'+'aces'],_0x2c2bce=_0x420ad8['shadowUpda'+'teOverride'+'s'];let _0x1adb96=!(-0x2207+0x1372+-0xe95*-0x1),_0x3f1f43;for(let _0x14cf70=0x3*0x869+0x1ea3+-0x37de;_0x14cf70<_0x2d7da1;_0x14cf70++)(_0x2c2bce==null?void(-0x264a+-0x548+0x2*0x15c9):_0x2c2bce[_0x14cf70])===Ps&&(_0x1adb96=!(0x19ea*0x1+-0x385*-0x3+-0x2478)),_0x3f1f43=this['shadowRend'+'erer']['prepareFac'+'e'](_0x420ad8,_0x2ddbfc,_0x14cf70);_0x39d79d=new Fb(this['device'],this['shadowRend'+'erer'],_0x420ad8,_0x2ddbfc,_0x1adb96),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x39d79d,_0x3f1f43,_0x1adb96);}return _0x39d79d;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x658+-0x20c0+0x1a6a),lo=new re(-0x13d*-0x8+-0x2278+0x1891,0x1bf3+-0x2*0x679+-0xf00,0x11b*-0x6+0x4*-0x81e+-0x3e9*-0xa,-0xd8*-0x4+0x1b05+-0x1e65),X_=new te();function Ub(_0xd2c042,_0x2af482){return Math['exp'](-(_0xd2c042*_0xd2c042)/((-0x17aa+-0x10b+0x18b7)*_0x2af482*_0x2af482));}function Bb(_0x123fa5){const _0x296bea=(_0x123fa5-(0x1607*-0x1+0x43*0x70+-0x748))/(-0x2f4+0x33*-0x6b+0x819*0x3),_0x36889b=(_0x123fa5-(0x149b+0x30*-0x8f+0xf*0x6a))*(0x11a9*0x2+-0x1e39+-0x519+0.5),_0x2a3c1d=new Array(_0x123fa5);let _0x5f0835=0x1c87+-0x1b62+-0x1*0x125;for(let _0x513332=0xe35+-0x1911+0xadc;_0x513332<_0x123fa5;++_0x513332)_0x2a3c1d[_0x513332]=Ub(_0x513332-_0x36889b,_0x296bea),_0x5f0835+=_0x2a3c1d[_0x513332];for(let _0x300141=0x1cf9+-0xadd+-0x121c;_0x300141<_0x123fa5;++_0x300141)_0x2a3c1d[_0x300141]/=_0x5f0835;return _0x2a3c1d;}class Cv{constructor(_0x3effb8,_0x42941c){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x3effb8['device'],this['renderer']=_0x3effb8,this['lightTextu'+'reAtlas']=_0x42941c);const _0x1b6262=this['device']['scope'];this['sourceId']=_0x1b6262['resolve']('source'),this['pixelOffse'+'tId']=_0x1b6262['resolve']('pixelOffse'+'t'),this['weightId']=_0x1b6262['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1b6262['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x3*0xac1+-0x1aaa*0x1+0x3aee),!(-0x52+-0x2261+0x22b4),!(-0x26e5+0x1dcd+-0x919*-0x1),!(-0x1*0xc9+-0x29*0x4a+0xca4));}static['createShad'+'owCamera'](_0x5a8499,_0x41adeb,_0x5882e9){const _0xe6ed39=Wn['create']('ShadowCame'+'ra',_0x41adeb,_0x5882e9),_0x22e413=qi['get'](_0x5a8499);w['assert'](_0x22e413);const _0x411aa0=(_0x22e413==null?void(0x2525+-0x915+-0x1c10):_0x22e413['vsm'])??!(-0x1*-0x779+-0xa*0x328+0x1818),_0x139b31=(_0x22e413==null?void(0x7*-0x3b8+0x81*0x2f+0x259):_0x22e413['pcf'])??!(0x1778+-0xd*0x1d3+0x40);return _0x411aa0?_0xe6ed39['clearColor']=new ie(0xa*-0x299+-0x3d2*-0xa+-0xc3a,-0x167*-0x14+-0x3*0x593+-0xb53,-0x791*0x1+0x2*-0xba2+0x36d*0x9,-0xcd+0x113e*-0x1+0x120b):_0xe6ed39['clearColor']=new ie(-0x3d6+0x1656+-0x127f,-0xb*0x33+-0x3*0x5d3+0x13ab,0xb*-0x13+0xabb*-0x2+-0x8*-0x2c9,-0x213e+-0x839+0x4*0xa5e),_0xe6ed39['clearDepth'+'Buffer']=!(0x1*0x13db+0xa5d+-0x1e38),_0xe6ed39['clearStenc'+'ilBuffer']=!(-0x1ea+0x269b+-0x10*0x24b),_0xe6ed39['clearColor'+'Buffer']=!_0x139b31,_0xe6ed39;}['_cullShado'+'wCastersIn'+'ternal'](_0x208e17,_0x5aec8b,_0x3eacc1){const _0xfc3209=_0x208e17['length'];for(let _0x39fa23=-0x1afb+0x327*0x7+0x4ea;_0x39fa23<_0xfc3209;_0x39fa23++){const _0x1a9a15=_0x208e17[_0x39fa23];_0x1a9a15['castShadow']&&(!_0x1a9a15['cull']||_0x1a9a15['_isVisible'](_0x3eacc1))&&(_0x1a9a15['visibleThi'+'sFrame']=!(-0x1381+0x1fad*0x1+-0xc2c),_0x5aec8b['push'](_0x1a9a15));}}['cullShadow'+'Casters'](_0x3326c0,_0x39fdf6,_0x23bfbe,_0x425ddd,_0x4a2028){var _0x10544d,_0x181ded;if((_0x10544d=this['renderer']['scene'])==null||_0x10544d['fire'](mv,_0x425ddd),_0x23bfbe['length']=-0x1*0xc3a+0x1f56+-0x131c,_0x4a2028)this['_cullShado'+'wCastersIn'+'ternal'](_0x4a2028,_0x23bfbe,_0x425ddd);else{const _0x5b1fb6=_0x3326c0['layerList'],_0x41d51d=_0x5b1fb6['length'];for(let _0x5524a6=0x1*0x1eeb+0x7a9*0x1+-0x2694;_0x5524a6<_0x41d51d;_0x5524a6++){const _0x326784=_0x5b1fb6[_0x5524a6];_0x326784['_lightsSet']['has'](_0x39fdf6)&&(rf['has'](_0x326784)||(rf['add'](_0x326784),this['_cullShado'+'wCastersIn'+'ternal'](_0x326784['shadowCast'+'ers'],_0x23bfbe,_0x425ddd)));}rf['clear']();}_0x23bfbe['sort'](this['sortCompar'+'eShader']),(_0x181ded=this['renderer']['scene'])==null||_0x181ded['fire'](_v,_0x425ddd);}['sortCompar'+'eShader'](_0x152e48,_0x3f1d98){const _0x4365c2=_0x152e48['_sortKeySh'+'adow'],_0x4c3631=_0x3f1d98['_sortKeySh'+'adow'];return _0x4365c2===_0x4c3631?_0x3f1d98['mesh']['id']-_0x152e48['mesh']['id']:_0x4c3631-_0x4365c2;}['setupRende'+'rState'](_0x36f1f2,_0x5b6d8d){const _0x9d0fc5=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x5b6d8d['_isPcf']:_0x5b6d8d['_isPcf']&&_0x5b6d8d['_type']!==Ke;_0x36f1f2['setBlendSt'+'ate'](_0x9d0fc5?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x36f1f2['setDepthSt'+'ate'](_0x5b6d8d['shadowDept'+'hState']),_0x36f1f2['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x2c6f9b,_0x28925b,_0x1ba3f8,_0x2c8844){const _0x1d406f=_0x28925b['_node'];_0x2c6f9b['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x1d406f['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x2c6f9b['attenuatio'+'nEnd'])),W_['setTRS'](_0x1d406f['getPositio'+'n'](),_0x1d406f['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x28925b['projection'+'Matrix'],W_);const _0x3ff319=_0x1ba3f8['shadowView'+'port'];_0x28925b['rect']=_0x3ff319,_0x28925b['scissorRec'+'t']=_0x1ba3f8['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x3ff319['x'],_0x3ff319['y'],_0x3ff319['z'],_0x3ff319['w']),_0x1ba3f8['shadowMatr'+'ix']['mul2'](X_,$_),_0x2c6f9b['_type']===ve&&_0x2c6f9b['_shadowMat'+'rixPalette']['set'](_0x1ba3f8['shadowMatr'+'ix']['data'],_0x2c8844*(0x254b+0x1*0x133f+-0x387a));}['getShadowP'+'ass'](_0x29c815){var _0x4a95dd;const _0x28f67b=_0x29c815['_type'],_0x29ad93=_0x29c815['_shadowTyp'+'e'];let _0x33e2ab=(_0x4a95dd=this['shadowPass'+'Cache'][_0x28f67b])==null?void(0x1*0x7cf+0x1a4b*0x1+-0x3*0xb5e):_0x4a95dd[_0x29ad93];if(!_0x33e2ab){const _0x5b0945='ShadowPass'+'_'+_0x28f67b+'_'+_0x29ad93;_0x33e2ab=Si['get'](this['device'])['allocate'](_0x5b0945,{'isShadow':!(0x6*0x80+-0x2656+0x2356),'lightType':_0x28f67b,'shadowType':_0x29ad93}),this['shadowPass'+'Cache'][_0x28f67b]||(this['shadowPass'+'Cache'][_0x28f67b]=[]),this['shadowPass'+'Cache'][_0x28f67b][_0x29ad93]=_0x33e2ab;}return _0x33e2ab['index'];}['submitCast'+'ers'](_0x4c3902,_0x3b649e,_0x35b244){var _0x13761b;const _0x41b171=this['device'],_0x3e8b0f=this['renderer'],_0x43d824=_0x3e8b0f['scene'],_0x344842=0x423*-0x1+-0x16bb+0x3*0x8f5<<cm,_0x3e5406=this['getShadowP'+'ass'](_0x3b649e),_0x43a448=_0x35b244['shaderPara'+'ms'],_0x116815=_0x35b244['renderTarg'+'et']['flipY']?-(-0x1ef8+0x9*-0x2a5+-0x30b*-0x12):0x5*0x79+-0x3*0xb3b+-0x1f55*-0x1,_0x5b0c21=_0x4c3902['length'];for(let _0x1eaf09=-0x3c0+-0x2189+0x2549;_0x1eaf09<_0x5b0c21;_0x1eaf09++){const _0x321f81=_0x4c3902[_0x1eaf09],_0x58af1b=_0x321f81['mesh'],_0x51028a=_0x321f81['instancing'+'Data'];if(_0x51028a&&_0x51028a['count']<=-0x2007+-0x1d8*-0x11+0xaf)continue;_0x321f81['ensureMate'+'rial'](_0x41b171);const _0x258159=_0x321f81['material'];Q['pushGpuMar'+'ker'](_0x41b171,'Node:\x20'+_0x321f81['node']['name']+(',\x20Material'+':\x20')+_0x258159['name']),_0x3e8b0f['setBaseCon'+'stants'](_0x41b171,_0x258159),_0x3e8b0f['setSkinnin'+'g'](_0x41b171,_0x321f81),_0x258159['dirty']&&(_0x258159['updateUnif'+'orms'](_0x41b171,_0x43d824),_0x258159['dirty']=!(-0x1*-0x108+0x4ee*0x4+-0x14bf)),_0x3e8b0f['setupCullM'+'ode'](!(-0x847+-0x3*-0x3ad+0x16*-0x20),_0x116815,_0x321f81),_0x258159['setParamet'+'ers'](_0x41b171),_0x321f81['setParamet'+'ers'](_0x41b171,_0x344842);const _0x34c319=_0x321f81['getShaderI'+'nstance'](_0x3e5406,0x6b2+-0x27*-0x71+-0x17e9,_0x43d824,_0x43a448,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x556bca=_0x34c319['shader'];if(w['assert'](_0x556bca,'no\x20shader\x20'+'for\x20pass\x20'+_0x3e5406,_0x258159),_0x556bca['failed'])continue;_0x321f81['_sortKeySh'+'adow']=_0x556bca['id'],_0x41b171['setShader'](_0x556bca),_0x3e8b0f['setVertexB'+'uffers'](_0x41b171,_0x58af1b),_0x3e8b0f['setMorphin'+'g'](_0x41b171,_0x321f81['morphInsta'+'nce']),_0x51028a&&_0x41b171['setVertexB'+'uffer'](_0x51028a['vertexBuff'+'er']),_0x3e8b0f['setMeshIns'+'tanceMatri'+'ces'](_0x321f81),_0x3e8b0f['setupMeshU'+'niformBuff'+'ers'](_0x34c319);const _0x5e84da=_0x321f81['renderStyl'+'e'],_0x18bb95=(_0x13761b=_0x321f81['indirectDa'+'ta'])==null?void(0x148a*0x1+-0x6*0x316+-0x206):_0x13761b['get'](_0x35b244);_0x41b171['draw'](_0x58af1b['primitive'][_0x5e84da],_0x58af1b['indexBuffe'+'r'][_0x5e84da],_0x51028a==null?void(0xdb6+-0x3*-0xaa9+0x687*-0x7):_0x51028a['count'],_0x18bb95),_0x3e8b0f['_shadowDra'+'wCalls']++,_0x51028a&&_0x3e8b0f['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x41b171);}}['needsShado'+'wRendering'](_0xe3ed6a){const _0x373a72=_0xe3ed6a['enabled']&&_0xe3ed6a['castShadow'+'s']&&_0xe3ed6a['shadowUpda'+'teMode']!==Ps&&_0xe3ed6a['visibleThi'+'sFrame'];return _0xe3ed6a['shadowUpda'+'teMode']===xr&&(_0xe3ed6a['shadowUpda'+'teMode']=Ps),_0x373a72&&(this['renderer']['_shadowMap'+'Updates']+=_0xe3ed6a['numShadowF'+'aces']),_0x373a72;}['getLightRe'+'nderData'](_0x534cfe,_0x5ebf0c,_0x58d15c){return _0x534cfe['getRenderD'+'ata'](_0x534cfe['_type']===ve?_0x5ebf0c:null,_0x58d15c);}['setupRende'+'rPass'](_0x5227b5,_0x2911ab,_0x35e2d4){const _0x4331f5=_0x2911ab['renderTarg'+'et'];_0x5227b5['init'](_0x4331f5),_0x5227b5['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x717+-0x247e+0x2b96,_0x5227b5['depthStenc'+'ilOps']['clearDepth']=_0x35e2d4,_0x4331f5['depthBuffe'+'r']?_0x5227b5['depthStenc'+'ilOps']['storeDepth']=!(-0x2376+-0x19ed*-0x1+0x989):(_0x5227b5['colorOps']['clearValue']['copy'](_0x2911ab['clearColor']),_0x5227b5['colorOps']['clear']=_0x35e2d4,_0x5227b5['depthStenc'+'ilOps']['storeDepth']=!(0x1e14+0x236*-0x11+-0x281*-0x3)),_0x5227b5['requiresCu'+'bemaps']=!(0xf45+0x1*-0x76d+0xdf*-0x9);}['prepareFac'+'e'](_0x41e459,_0x5aa690,_0x446bef){const _0x1bfb85=_0x41e459['_type'],_0x1891e9=this['getLightRe'+'nderData'](_0x41e459,_0x5aa690,_0x446bef)['shadowCame'+'ra'],_0x1a66b0=_0x1bfb85===ve?0x15ec+0x1099+-0x2685:_0x446bef;return _0x1891e9['renderTarg'+'et']=_0x41e459['_shadowMap']['renderTarg'+'ets'][_0x1a66b0],_0x1891e9;}['renderFace'](_0x16ecb3,_0x5a6a8c,_0x4bf3a2,_0x2a5880,_0x30b6bc=!(0x14d*-0x6+-0x92*0x7+0x2*0x5e6)){const _0xc08746=this['device'],_0x371754=de();Q['pushGpuMar'+'ker'](_0xc08746,'SHADOW\x20'+_0x16ecb3['_node']['name']+'\x20FACE\x20'+_0x4bf3a2);const _0x4c52b2=this['getLightRe'+'nderData'](_0x16ecb3,_0x5a6a8c,_0x4bf3a2),_0x5e7b11=_0x4c52b2['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x16ecb3,_0x5e7b11,_0x4c52b2,_0x4bf3a2);const _0x16100a=_0x5e7b11['renderTarg'+'et'],_0x421b55=this['renderer'];_0x421b55['setCameraU'+'niforms'](_0x5e7b11,_0x16100a),_0xc08746['supportsUn'+'iformBuffe'+'rs']&&_0x421b55['setupViewU'+'niformBuff'+'ers'](_0x4c52b2['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x30b6bc?(_0x421b55['setupViewp'+'ort'](_0x5e7b11,_0x16100a),_0x2a5880&&_0x421b55['clear'](_0x5e7b11)):_0x421b55['clearView'](_0x5e7b11,_0x16100a,!(0x211f+0x1*0x2bd+0x14*-0x1cb),!(-0x109+0x1b89+-0x1*0x1a7f)),this['setupRende'+'rState'](_0xc08746,_0x16ecb3),this['submitCast'+'ers'](_0x4c52b2['visibleCas'+'ters'],_0x16ecb3,_0x5e7b11),Q['popGpuMark'+'er'](_0xc08746),_0x421b55['_shadowMap'+'Time']+=de()-_0x371754;}['render'](_0x16a658,_0xd09a7,_0x264807=!(0x205f+-0x1*-0x212+-0x2271)){if(this['needsShado'+'wRendering'](_0x16a658)){const _0x37ae8b=_0x16a658['numShadowF'+'aces'];for(let _0x1cd633=0x12f4+0x1903+-0x2bf7;_0x1cd633<_0x37ae8b;_0x1cd633++)this['prepareFac'+'e'](_0x16a658,_0xd09a7,_0x1cd633),this['renderFace'](_0x16a658,_0xd09a7,_0x1cd633,!(0x8*0x33c+0x1615+0x2ff5*-0x1),_0x264807);this['renderVsm'](_0x16a658,_0xd09a7);}}['renderVsm'](_0x510057,_0xd694f0){_0x510057['_isVsm']&&_0x510057['_vsmBlurSi'+'ze']>0xec1+0x1de6+0x5*-0x8ee&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x510057['_type']===ve)&&this['applyVsmBl'+'ur'](_0x510057,_0xd694f0);}['getVsmBlur'+'Shader'](_0x517873,_0x5426e8){const _0xd12fa2=this['blurVsmSha'+'der'];let _0x49bbdd=_0xd12fa2[_0x517873][_0x5426e8];if(!_0x49bbdd){this['blurVsmWei'+'ghts'][_0x5426e8]=Bb(_0x5426e8);const _0x29015a=new Map();_0x29015a['set']('{SAMPLES}',_0x5426e8),_0x517873===-0x25a8+0x206*0xb+0xf67&&_0x29015a['set']('GAUSS',''),_0x49bbdd=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x517873+_0x5426e8,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x29015a}),_0xd12fa2[_0x517873][_0x5426e8]=_0x49bbdd;}return _0x49bbdd;}['applyVsmBl'+'ur'](_0x57705f,_0x585fd5){const _0x591b6d=this['device'];Q['pushGpuMar'+'ker'](_0x591b6d,'VSM\x20'+_0x57705f['_node']['name']),_0x591b6d['setBlendSt'+'ate'](pt['NOBLEND']);const _0x4a45bb=_0x57705f['getRenderD'+'ata'](_0x57705f['_type']===ve?_0x585fd5:null,-0xc97+-0x3f*-0x9+0x1*0xa60)['shadowCame'+'ra']['renderTarg'+'et'],_0x1388f6=this['renderer']['shadowMapC'+'ache']['get'](_0x591b6d,_0x57705f),_0x3a38c5=_0x1388f6['renderTarg'+'ets'][0x1*0x671+-0x20e0+0x1a6f],_0x41bbc0=_0x57705f['vsmBlurMod'+'e'],_0x1187ff=_0x57705f['_vsmBlurSi'+'ze'],_0x3a2535=this['getVsmBlur'+'Shader'](_0x41bbc0,_0x1187ff);lo['z']=_0x57705f['_shadowRes'+'olution']-(0x1*0x985+0x11dc+-0x1b5f),lo['w']=lo['z'],this['sourceId']['setValue'](_0x4a45bb['colorBuffe'+'r']),Fr[0x15e6+-0x5*-0x47b+0xb*-0x407]=(0x3*0xba3+-0x437*0x8+-0x130)/_0x57705f['_shadowRes'+'olution'],Fr[0x2489+-0x279*-0x9+-0x3ac9*0x1]=0x1*-0x703+-0xe87+0x2*0xac5,this['pixelOffse'+'tId']['setValue'](Fr),_0x41bbc0===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x1187ff]),Ar(_0x591b6d,_0x3a38c5,_0x3a2535,null,lo),this['sourceId']['setValue'](_0x3a38c5['colorBuffe'+'r']),Fr[-0x497+0xc96*-0x1+-0x6*-0x2dd]=Fr[0x14ff+-0x6f0+0xe0f*-0x1],Fr[0x1*-0xcb6+0x4*0x167+0x71a]=-0xdf*0x1d+0x5a7+0x139c,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x591b6d,_0x4a45bb,_0x3a2535,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x57705f,_0x1388f6),Q['popGpuMark'+'er'](_0x591b6d);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x2ce65d){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x2ce65d;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x54788e=>{_0x54788e['destroy']();}),this['_allocated']['length']=0xa82+0x1061+0x1*-0x1ae3;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x307f80=new cu(this['device']);_0x307f80['name']='ClusterEmp'+'ty',_0x307f80['update']([]),this['_empty']=_0x307f80;}return this['_empty'];}['assign'](_0x20eede){const _0x561a8a=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x17*-0x7f+0x1*-0x1f7d+0x1414,this['_clusters']['clear']();const _0x59eb4e=_0x20eede['length'];for(let _0x34781a=-0x2b*-0xf+-0x13e*0x17+-0x39*-0x75;_0x34781a<_0x59eb4e;_0x34781a++){const _0x3a96d3=_0x20eede[_0x34781a]['renderActi'+'ons'];if(_0x3a96d3){const _0x141c58=_0x3a96d3['length'];for(let _0x27090c=-0x7a*0x38+0x2168+-0x14*0x56;_0x27090c<_0x141c58;_0x27090c++){const _0x21ad1b=_0x3a96d3[_0x27090c];_0x21ad1b['lightClust'+'ers']=null;const _0x3b0a2f=_0x21ad1b['layer'];if(_0x3b0a2f['hasCluster'+'edLights']&&_0x3b0a2f['meshInstan'+'ces']['length']){const _0x584aee=_0x3b0a2f['getLightId'+'Hash'](),_0x2154cb=this['_clusters']['get'](_0x584aee);let _0x25b3eb=_0x2154cb==null?void(0x51+0x7*0xa3+-0xd*0x5e):_0x2154cb['lightClust'+'ers'];_0x25b3eb||(_0x25b3eb=cc['pop']()??new cu(this['device']),Ea['setName'](_0x25b3eb,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x25b3eb),this['_clusters']['set'](_0x584aee,_0x21ad1b)),_0x21ad1b['lightClust'+'ers']=_0x25b3eb;}_0x21ad1b['lightClust'+'ers']||(_0x21ad1b['lightClust'+'ers']=_0x561a8a);}}}cc['forEach'](_0x1c6d1f=>_0x1c6d1f['destroy']()),cc['length']=0x231*0x4+0xa27+-0x12eb;}['update'](_0xefd6ee,_0x120c93){this['assign'](_0xefd6ee),this['_clusters']['forEach'](_0x21ada1=>{const _0x312ad9=_0x21ada1['layer'];_0x21ada1['lightClust'+'ers']['update'](_0x312ad9['clusteredL'+'ightsSet'],_0x120c93);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x54d934,_0x504daf){super(_0x54d934),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x5*0x46f+0x1*-0x1a21+-0xcb*-0x5)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x504daf,this['requiresCu'+'bemaps']=!(0x9b6+-0x20f*0x4+-0x179),this['blitTextur'+'eId']=_0x54d934['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x54d934['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x54d934['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x468843,_0x6e12f9,_0x503150;(_0x468843=this['_quadRende'+'rer2D'])==null||_0x468843['destroy'](),this['_quadRende'+'rer2D']=null,(_0x6e12f9=this['_quadRende'+'rerCube'])==null||_0x6e12f9['destroy'](),this['_quadRende'+'rerCube']=null,(_0x503150=this['_evtDevice'+'Restored'])==null||_0x503150['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0xc9f949,_0x2ce598){w['assert'](_0xc9f949);const _0x38358e=new pm(_0xc9f949['device'],_0x2ce598);return _0x38358e['init'](_0xc9f949),_0x38358e['colorOps']['clear']=!(0x7f6+-0x55*-0x1+-0x425*0x2),_0x38358e['depthStenc'+'ilOps']['clearDepth']=!(0x15d*-0x1+-0x95*-0x17+-0xc05),_0x38358e;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0xb7b*0x3+-0x3*0x3e6+0x2e23);}['update'](_0x2a2802){const _0x54fbd4=this['_filteredL'+'ights'];this['filter'](_0x2a2802,_0x54fbd4),this['executeEna'+'bled']=_0x54fbd4['length']>-0xd3*-0x28+0x13a*0x5+0x1*-0x271a;}['filter'](_0x1c2cec,_0x5dc24d){for(let _0x1a5a98=-0x1257+-0x1*-0x1b0c+-0x8b5;_0x1a5a98<_0x1c2cec['length'];_0x1a5a98++){const _0xaadf77=_0x1c2cec[_0x1a5a98];_0xaadf77['_type']!==ve&&_0xaadf77['atlasViewp'+'ortAllocat'+'ed']&&(!_0xaadf77['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0xaadf77['enabled']&&_0xaadf77['cookie']&&_0xaadf77['visibleThi'+'sFrame']&&_0x5dc24d['push'](_0xaadf77));}this['_forceCopy']=!(-0x1*-0x1793+0x1cce+0x20*-0x1a3);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x23157d=0xd13+0x3*-0x5fd+0x4e4;_0x23157d<-0x18da+-0x1657*0x1+0x2f37;_0x23157d++){const _0x7a9974=Wn['create'](null,Ke,_0x23157d),_0x153c5b=_0x7a9974['projection'+'Matrix'],_0x1f5758=_0x7a9974['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x23157d]=new te()['mul2'](_0x153c5b,_0x1f5758)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x587744=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x587744);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x12c5c3=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x12c5c3);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x134d9b=this['device'];_0x134d9b['setBlendSt'+'ate'](pt['NOBLEND']),_0x134d9b['setCullMod'+'e'](bt),_0x134d9b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x134d9b['setStencil'+'State']();const _0x380650=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x57894c=this['_cubeSlots'+'Offsets'],_0x338aea=this['_filteredL'+'ights'];for(let _0x219858=-0x3c*0xe+0x10c1+0x1*-0xd79;_0x219858<_0x338aea['length'];_0x219858++){const _0x437bff=_0x338aea[_0x219858];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x437bff['_node']['name']);const _0x1eb82f=_0x437bff['numShadowF'+'aces'],_0x1a376b=_0x1eb82f>0xe9*-0x15+0x141f+-0x101*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x1eb82f>-0x8*-0x293+-0xb*-0x269+-0x178d*0x2&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x437bff['cookie']);for(let _0x2839c0=-0x21f7+-0x1e11+0x4*0x1002;_0x2839c0<_0x1eb82f;_0x2839c0++){if(rr['copy'](_0x437bff['atlasViewp'+'ort']),_0x1eb82f>-0x2*-0xf9f+0x572+-0x24af){const _0x1e14e5=rr['z']/(0x1*0xe87+-0x19*-0x16d+-0x3229),_0x10553b=_0x57894c[_0x2839c0];rr['x']+=_0x1e14e5*_0x10553b['x'],rr['y']+=_0x1e14e5*_0x10553b['y'],rr['z']=_0x1e14e5,rr['w']=_0x1e14e5,this['invViewPro'+'jId']['setValue'](af[_0x2839c0]['data']);}rr['mulScalar'](_0x380650),_0x1a376b['render'](rr);}Q['popGpuMark'+'er'](_0x134d9b);}_0x338aea['length']=0x2011+-0x182*0x1+0x1e8f*-0x1;}}class Vb extends ys{constructor(_0x3f36b7,_0x40e1c5,_0x14db3f){super(_0x3f36b7),this['requiresCu'+'bemaps']=!(-0x3*0xac9+-0x3f+-0x1*-0x209b),this['shadowRend'+'erer']=_0x40e1c5,this['shadowRend'+'ererLocal']=_0x14db3f;}['update'](_0x187f6f){const _0x2c4d19=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0xdc2cb3=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x2c4d19,_0x187f6f),_0x10c143=_0x2c4d19['length'];this['enabled']=_0x10c143>-0x1f53+-0x20f6+0x4049,_0x10c143&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0xdc2cb3,!(-0x1570+0x130b+-0x1*-0x266));}['execute'](){const _0x26c757=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x26dae1=_0x26c757['length'];for(let _0x25d93c=0x1d*0x57+0x1*0xa7e+-0x1459*0x1;_0x25d93c<_0x26dae1;_0x25d93c++){const _0x340f23=_0x26c757[_0x25d93c];for(let _0x3d9543=0x1b*0x61+-0x2578+0x1b3d;_0x3d9543<_0x340f23['numShadowF'+'aces'];_0x3d9543++)this['shadowRend'+'erer']['renderFace'](_0x340f23,null,_0x3d9543,!(-0x1*0x33d+-0x641+0x97e));}_0x26c757['length']=-0x92b+0xbf6+0xb*-0x41;}}class Gb extends ys{constructor(_0x3ba9c8,_0x12d1ce,_0x1fb7d1,_0x392325,_0x3b9b75){super(_0x3ba9c8),this['renderer']=_0x12d1ce,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x3b9b75['cookieRend'+'erTarget'],_0x3b9b75['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x3ba9c8,_0x1fb7d1,_0x392325),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x17e639,_0x3ce2db,_0x45ea8f,_0x515a2b,_0x4b1329){this['frameGraph']=_0x17e639,this['cookiesRen'+'derPass']['enabled']=_0x45ea8f,_0x45ea8f&&this['cookiesRen'+'derPass']['update'](_0x515a2b),this['shadowRend'+'erPass']['enabled']=_0x3ce2db,_0x3ce2db&&this['shadowRend'+'erPass']['update'](_0x4b1329);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x286ff9=de(),{renderer:_0x4680c3}=this,{scene:_0x37802c}=_0x4680c3;_0x4680c3['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x37802c['lighting']),_0x4680c3['_lightClus'+'tersTime']+=de()-_0x286ff9,_0x4680c3['_lightClus'+'ters']=_0x4680c3['worldClust'+'ersAllocat'+'or']['count'];}}let nf=0x5*-0x261+0x49*-0x4c+-0x2191*-0x1;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x5a*0x47+-0x97*-0x19+-0xe7*0x2c,-(-0x1*-0x1ab1+-0x15d8+-0x4d8),0x444+-0x1fe4+0x1*0x1ba1),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([-0x7*-0x2d7+0x1096+-0x2476,-0xf3b+0x16d2+-0x797,-0x1802*-0x1+-0x1*0x1d47+-0x13*-0x47,-0x1*0x25d7+-0x2529+0x4b00,0xd3b+-0x2*0x1192+0x15e9,-0x50d*0x2+-0xef5+-0x8*-0x322,-0x1ff*0x7+-0x6d*-0x45+0x1*-0xf68,0x2580+0x196e+-0x3eee,0x1740+0x1*-0xb19+-0xc27,-0x1*0x2467+-0x9*-0x96+-0x265*-0xd,-0x22d7+-0x2*0xc3e+-0x1*-0x3b53+0.5,0x291+0x113e*-0x1+0xd*0x121,-0xfb1+0xb54+0x45d,0x41*-0x52+0x589*-0x7+0x187*0x27,-0xc77+0x1d25+-0x10ae+0.5,0x5ca+0x5e1+0x5d5*-0x2]),K_=[new J(0x26cb*0x1+-0x203a+0x691*-0x1+0.5,-0x6d*0x10+0x37*0x11+-0x329*-0x1+0.333333),new J(-0x17c*-0x12+0x2*-0x9ad+0x29*-0x2e+0.25,-0x4a*-0x2c+0x61a*-0x4+0xbb0+0.666667),new J(0x2d3+-0x1*0x4cb+0x1f8+0.75,0x10e4+-0x71*-0x2b+-0xbf5*0x3+0.111111),new J(-0xd23+0x4d+0xcd6+0.125,0x2*0xc53+0x119*-0x2+0xc*-0x1df+0.444444),new J(0xa09+0x23e3*-0x1+0x19da+0.625,0x11*-0x212+-0x35d*-0x3+0x1*0x191b+0.777778),new J(-0x25b2+-0x1*-0x1eec+0x6c6+0.375,-0x4c1+-0xaf8+0xfb9+0.222222),new J(0x1*0x1d+0x23e9+0x35*-0xae+0.875,-0x5*0x7ad+-0x1890+0x3ef1+0.555556),new J(-0x2653+-0x1*0x32d+0x2980+0.0625,0x9*0x180+-0x2244+0x14c4+0.888889),new J(0xdf*-0x25+0x1d*-0xc1+0x3618+0.5625,-0xdb7*0x1+0xa*-0x2e6+0x2ab3+0.037037),new J(0x1c58+0x15d*-0x15+-0x1*-0x49+0.3125,-0x120a*-0x1+-0x1*0x187d+0x673+0.37037),new J(0xe*-0x299+-0xcde+0x224*0x17+0.8125,-0x3*0xaf1+0x2639+-0x1*0x566+0.703704),new J(0x37*0x79+0x6*0x25b+-0x2821*0x1+0.1875,-0x507+0xf7a+-0xa73+0.148148),new J(-0x1*-0xeb1+-0x13af*-0x1+0x6e0*-0x5+0.6875,-0xcdc*0x1+0x125*-0x3+0x104b+0.481481),new J(0x1091*-0x2+-0x1531+0x3653+0.4375,-0x12b2*-0x2+0x11b9+0x1*-0x371d+0.814815),new J(-0x1774+0x2587*0x1+-0xe13+0.9375,-0x240d+-0x241a+-0x4827*-0x1+0.259259),new J(0x12e6+-0x2*-0xaa2+-0x282a+0.03125,0x1*0x8dd+-0x1faf*0x1+0x2e*0x7f+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x2f95d7){h(this,'clustersDe'+'bugRendere'+'d',!(-0xfb*0x3+0xa9d+-0x7ab)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x1*-0x170+0xebb+-0xfb0)),(this['device']=_0x2f95d7,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x2f95d7),this['lightTextu'+'reAtlas']=new Ib(_0x2f95d7),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x667+-0x24e2+0x1e7b,this['_morphTime']=-0x6b*0x4e+0x957+-0x18d*-0xf,this['_cullTime']=-0x43*0x8f+0x5a8+-0xa97*-0x3,this['_shadowMap'+'Time']=-0x6*0x7a+0x12e6*0x1+-0x100a,this['_lightClus'+'tersTime']=0x26cc+-0x1f63+0x769*-0x1,this['_layerComp'+'ositionUpd'+'ateTime']=-0x19c1*0x1+0x1*-0x20af+0x1b8*0x22,this['_shadowDra'+'wCalls']=-0x3*-0x28d+0x411*-0x1+-0x396,this['_skinDrawC'+'alls']=-0x1e11+0x800+0x1611,this['_instanced'+'DrawCalls']=0x11f1+-0x1e*-0x119+0x5a7*-0x9,this['_shadowMap'+'Updates']=0x1afb*0x1+-0x2143+0x648,this['_numDrawCa'+'llsCulled']=-0x2*0xeb9+-0x10df+0x2e51,this['_camerasRe'+'ndered']=0x969+0x1caa+-0xab*0x39,this['_lightClus'+'ters']=0x742*-0x2+0x1*-0x1de7+0x53*0x89);const _0xdcf09a=_0x2f95d7['scope'];this['boneTextur'+'eId']=_0xdcf09a['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0xdcf09a['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0xdcf09a['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0xdcf09a['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x29d+0x6ad*0x1+-0x947),this['viewPosId']=_0xdcf09a['resolve']('view_posit'+'ion'),this['projId']=_0xdcf09a['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0xdcf09a['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0xdcf09a['resolve']('matrix_vie'+'w'),this['viewId3']=_0xdcf09a['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0xdcf09a['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0xdcf09a['resolve']('projection'+'FlipY'),this['tbnBasis']=_0xdcf09a['resolve']('tbnBasis'),this['nearClipId']=_0xdcf09a['resolve']('camera_nea'+'r'),this['farClipId']=_0xdcf09a['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x1a6b+-0x35*-0x55+0x1a*0x57),this['cameraPara'+'msId']=_0xdcf09a['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0xdcf09a['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0xf7+0x5c9*-0x6+-0x21bf*-0x1),this['blueNoiseJ'+'itterVersi'+'on']=0x521+-0x39d*-0x9+-0x4f*0x7a,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1*0x1138+-0x1*-0x2bd+-0x13f1),this['blueNoiseJ'+'itterId']=_0xdcf09a['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0xdcf09a['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0xdcf09a['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0xdcf09a['resolve']('texture_op'+'acityMap'),this['exposureId']=_0xdcf09a['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0xdcf09a['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x19ca+0x9c3+0x1007),this['morphPosit'+'ionTex']=_0xdcf09a['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0xdcf09a['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0xdcf09a['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0xdcf09a['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x308f1e,_0xa9c8c8){const _0x49696a=this['device'],_0x3f73fa=_0xa9c8c8?_0xa9c8c8['width']:_0x49696a['width'],_0x561574=_0xa9c8c8?_0xa9c8c8['height']:_0x49696a['height'],_0x108aee=_0x308f1e['rect'];let _0x52c07b=Math['floor'](_0x108aee['x']*_0x3f73fa),_0xc2375c=Math['floor'](_0x108aee['y']*_0x561574),_0x4c3965=Math['floor'](_0x108aee['z']*_0x3f73fa),_0x32db39=Math['floor'](_0x108aee['w']*_0x561574);if(_0x49696a['setViewpor'+'t'](_0x52c07b,_0xc2375c,_0x4c3965,_0x32db39),_0x308f1e['_scissorRe'+'ctClear']){const _0x8718f6=_0x308f1e['scissorRec'+'t'];_0x52c07b=Math['floor'](_0x8718f6['x']*_0x3f73fa),_0xc2375c=Math['floor'](_0x8718f6['y']*_0x561574),_0x4c3965=Math['floor'](_0x8718f6['z']*_0x3f73fa),_0x32db39=Math['floor'](_0x8718f6['w']*_0x561574);}_0x49696a['setScissor'](_0x52c07b,_0xc2375c,_0x4c3965,_0x32db39);}['setCameraU'+'niforms'](_0x145f8e,_0x261960){var _0x2377a9,_0x254385;const _0x228bd2=_0x261960==null?void(0x1434+0x1*0x17ea+0x1*-0x2c1e):_0x261960['flipY'];let _0x3dc71c=null;if(_0x145f8e['xr']&&_0x145f8e['xr']['session']){const _0x220824=((_0x254385=(_0x2377a9=_0x145f8e['_node'])==null?void(-0x2*-0x19d+-0x21be+-0x364*-0x9):_0x2377a9['parent'])==null?void(-0x964*0x1+0x1846+-0xee2):_0x254385['getWorldTr'+'ansform']())||null;_0x3dc71c=_0x145f8e['xr']['views']['list'];for(let _0x413710=0x191b+0x1799+-0x30b4;_0x413710<_0x3dc71c['length'];_0x413710++){const _0x5dd3ac=_0x3dc71c[_0x413710];_0x5dd3ac['updateTran'+'sforms'](_0x220824),_0x145f8e['frustum']['setFromMat'+'4'](_0x5dd3ac['projViewOf'+'fMat']);}}else{let _0x5cfc39=_0x145f8e['projection'+'Matrix'];_0x145f8e['calculateP'+'rojection']&&_0x145f8e['calculateP'+'rojection'](_0x5cfc39,ec);let _0x3f42c5=_0x145f8e['getProject'+'ionMatrixS'+'kybox']();_0x228bd2&&(_0x5cfc39=Hb['mul2'](j_,_0x5cfc39),_0x3f42c5=Wb['mul2'](j_,_0x3f42c5)),this['device']['isWebGPU']&&(_0x5cfc39=$b['mul2'](Y_,_0x5cfc39),_0x3f42c5=Xb['mul2'](Y_,_0x3f42c5));const {jitter:_0x1550ef}=_0x145f8e;let _0x2c599b=-0x1f05+0x4*-0x515+0x3359,_0x34011e=-0x1b2a+0x71d+0x140d;if(_0x1550ef>-0x15a3+0x2f*0xb+0x139e){const _0x226809=_0x261960?_0x261960['width']:this['device']['width'],_0x4479d5=_0x261960?_0x261960['height']:this['device']['height'],_0xda92e2=K_[this['device']['renderVers'+'ion']%K_['length']];_0x2c599b=_0x1550ef*(_0xda92e2['x']*(0x1f*-0x25+0x1048+-0xbcb*0x1)-(0x18fe+0x8*-0x2ce+-0x28d))/_0x226809,_0x34011e=_0x1550ef*(_0xda92e2['y']*(0x23c4+-0x3ec*0x8+-0x22*0x21)-(0x10d9+0x8ed*0x1+0x897*-0x3))/_0x4479d5,_0x5cfc39=qb['copy'](_0x5cfc39),_0x5cfc39['data'][0x8c7+0x1b*-0xd+-0x760]=_0x2c599b,_0x5cfc39['data'][0x9d4+-0x1424+-0xa59*-0x1]=_0x34011e,_0x3f42c5=jb['copy'](_0x3f42c5),_0x3f42c5['data'][-0x6ce+-0xb*0x2f1+-0x7f*-0x4f]=_0x2c599b,_0x3f42c5['data'][0x1e87+0x14ed+-0x336b]=_0x34011e,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x30637f=_0x1550ef>-0x1db0+0x5d2+-0xa*-0x263?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x209e+0x1546*0x1+0xd79*-0x4]=_0x30637f['x'],this['blueNoiseJ'+'itterData'][0x1*0xfc7+0x1a22*-0x1+0x33*0x34]=_0x30637f['y'],this['blueNoiseJ'+'itterData'][0x638+0x7b4+0x1*-0xdea]=_0x30637f['z'],this['blueNoiseJ'+'itterData'][0x14*-0x13e+-0xa33+0x7*0x502]=_0x30637f['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x5cfc39['data']),this['projSkybox'+'Id']['setValue'](_0x3f42c5['data']),_0x145f8e['calculateT'+'ransform'])_0x145f8e['calculateT'+'ransform'](nr,ec);else{const _0x2dfb81=_0x145f8e['_node']['getPositio'+'n'](),_0x3d6022=_0x145f8e['_node']['getRotatio'+'n']();nr['setTRS'](_0x2dfb81,_0x3d6022,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x5cfc39,Oa),this['viewProjId']['setValue'](ar['data']),_0x145f8e['_storeShad'+'erMatrices'](ar,_0x2c599b,_0x34011e,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x228bd2?-(0x13*0x74+-0x1*-0x23c6+-0x2c61):-0x25f9+0x109*-0x13+0x39a5),this['dispatchVi'+'ewPos'](_0x145f8e['_node']['getPositio'+'n']()),_0x145f8e['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x228bd2?-(-0x1*-0x443+-0x7e*0xd+0x112*0x2):0x1672+-0xc66*0x3+-0x3*-0x4eb);const _0x283f30=_0x145f8e['_nearClip'],_0x1e421d=_0x145f8e['_farClip'];return this['nearClipId']['setValue'](_0x283f30),this['farClipId']['setValue'](_0x1e421d),this['cameraPara'+'ms'][-0x20*0x132+-0xa3d*-0x1+0x1c03]=(-0x3*-0x71b+-0x1faf*0x1+0xa5f)/_0x1e421d,this['cameraPara'+'ms'][-0x26c3*-0x1+-0x1a1*-0x8+-0x33ca]=_0x1e421d,this['cameraPara'+'ms'][0x176a+-0x20f7+0x98f]=_0x283f30,this['cameraPara'+'ms'][0x25+-0x8*-0x3b7+-0x1dda]=_0x145f8e['projection']===En?-0x1a14+0x1474+-0x5a1*-0x1:0x1fd+0xc1c+0x191*-0x9,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x145f8e['getExposur'+'e']():this['scene']['exposure']),_0x3dc71c;}['clear'](_0x420ea1,_0x1a91f1,_0x8f06f5,_0x2ab834){const _0x4ea932=(_0x1a91f1??_0x420ea1['_clearColo'+'rBuffer']?jo:0xa45*0x1+0x70*0x19+-0x1535)|(_0x8f06f5??_0x420ea1['_clearDept'+'hBuffer']?Yo:0xed*-0x21+0x307+0x1b86)|(_0x2ab834??_0x420ea1['_clearSten'+'cilBuffer']?ch:-0x1231+-0x1f6f+0x31a0);if(_0x4ea932){const _0x1090a0=this['device'];Q['pushGpuMar'+'ker'](_0x1090a0,'CLEAR'),_0x1090a0['clear']({'color':[_0x420ea1['_clearColo'+'r']['r'],_0x420ea1['_clearColo'+'r']['g'],_0x420ea1['_clearColo'+'r']['b'],_0x420ea1['_clearColo'+'r']['a']],'depth':_0x420ea1['_clearDept'+'h'],'stencil':_0x420ea1['_clearSten'+'cil'],'flags':_0x4ea932}),Q['popGpuMark'+'er'](_0x1090a0);}}['setCamera'](_0xd8c908,_0x306796,_0x1e8b6c,_0x599702=null){this['setCameraU'+'niforms'](_0xd8c908,_0x306796),this['clearView'](_0xd8c908,_0x306796,_0x1e8b6c,!(-0x773*-0x2+-0x2031+0x4*0x453));}['clearView'](_0xfe5799,_0x472ad2,_0x17f8a1,_0x227ef0){const _0x4a9073=this['device'];if(Q['pushGpuMar'+'ker'](_0x4a9073,'CLEAR-VIEW'),_0x4a9073['setRenderT'+'arget'](_0x472ad2),_0x4a9073['updateBegi'+'n'](),_0x227ef0&&(_0x4a9073['setColorWr'+'ite'](!(0x2316+0x124e+-0x3564),!(-0x1375+-0xc74*0x1+-0x1*-0x1fe9),!(0x178a+0x4cd+0x5*-0x5ab),!(0x419*-0x7+0x6e8*-0x2+0x2a7f)),_0x4a9073['setDepthWr'+'ite'](!(-0x10d2*0x2+0x6*0x4c1+0x83*0xa))),this['setupViewp'+'ort'](_0xfe5799,_0x472ad2),_0x17f8a1){const _0x372fb8=_0xfe5799['_clearOpti'+'ons'];_0x4a9073['clear'](_0x372fb8||{'color':[_0xfe5799['_clearColo'+'r']['r'],_0xfe5799['_clearColo'+'r']['g'],_0xfe5799['_clearColo'+'r']['b'],_0xfe5799['_clearColo'+'r']['a']],'depth':_0xfe5799['_clearDept'+'h'],'flags':(_0xfe5799['_clearColo'+'rBuffer']?jo:-0x2*-0xf3a+-0x1cf4+-0x180)|(_0xfe5799['_clearDept'+'hBuffer']?Yo:-0x2090+-0x2209+0x3*0x1633)|(_0xfe5799['_clearSten'+'cilBuffer']?ch:0x1760+-0xb*0x2a5+-0xd1*-0x7),'stencil':_0xfe5799['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x4a9073);}['setupCullM'+'ode'](_0x294363,_0x4c83fe,_0x58f819){const _0x58028e=_0x58f819['material'];let _0x104269=bt;if(_0x294363){let _0x1c6db4=0x1e46+0x65d+0x9*-0x412;(_0x58028e['cull']===Fo||_0x58028e['cull']===pa)&&(_0x1c6db4=_0x4c83fe*_0x58f819['flipFacesF'+'actor']*_0x58f819['node']['worldScale'+'Sign']),_0x1c6db4<0x14*0x151+0x160c+0x90*-0x56?_0x104269=_0x58028e['cull']===Fo?pa:Fo:_0x104269=_0x58028e['cull'];}this['device']['setCullMod'+'e'](_0x104269),_0x104269===bt&&_0x58028e['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x58f819['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x556de0){if(_0x556de0['xr']&&_0x556de0['xr']['views']['list']['length']){const _0x4fc0c7=_0x556de0['xr']['views']['list'][-0x3*-0x65f+0x19ac+-0x2cc9];ar['mul2'](_0x4fc0c7['projMat'],_0x4fc0c7['viewOffMat']),_0x556de0['frustum']['setFromMat'+'4'](ar);return;}const _0x50ab3f=_0x556de0['projection'+'Matrix'];if(_0x556de0['calculateP'+'rojection']&&_0x556de0['calculateP'+'rojection'](_0x50ab3f,ec),_0x556de0['calculateT'+'ransform'])_0x556de0['calculateT'+'ransform'](nr,ec);else{const _0x454f0f=_0x556de0['_node']['getPositio'+'n'](),_0xc87c0a=_0x556de0['_node']['getRotatio'+'n']();nr['setTRS'](_0x454f0f,_0xc87c0a,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x50ab3f,Oa),_0x556de0['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x1af78a,_0x27b160){_0x1af78a['setCullMod'+'e'](_0x27b160['cull']),_0x27b160['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x27b160['opacityMap']),(_0x27b160['opacityMap']||_0x27b160['alphaTest']>0x2c*-0xd3+-0xac*-0x2b+0x8*0xec)&&this['alphaTestI'+'d']['setValue'](_0x27b160['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x4d84c4){nf++;const _0x37df1c=_0x4d84c4['length'];if(_0x37df1c===-0x20a+0x1e45+-0x1c3b)return;const _0x22a9c4=de();for(let _0x1cf49d=-0x1aa6+-0x8*-0x362+0x35*-0x2;_0x1cf49d<_0x37df1c;_0x1cf49d++){const _0x24a4e2=_0x4d84c4[_0x1cf49d]['skinInstan'+'ce'];_0x24a4e2&&(_0x24a4e2['updateMatr'+'ices'](_0x4d84c4[_0x1cf49d]['node'],nf),_0x24a4e2['_dirty']=!(0xd8+-0x2c*0x52+0xd40));}this['_skinTime']+=de()-_0x22a9c4;}['updateGpuS'+'kinMatrice'+'s'](_0x2812f5){const _0x4ca3a5=de();for(const _0x514ceb of _0x2812f5){const _0x4e2b87=_0x514ceb['skinInstan'+'ce'];_0x4e2b87&&_0x4e2b87['_dirty']&&(_0x4e2b87['updateMatr'+'ixPalette'](_0x514ceb['node'],nf),_0x4e2b87['_dirty']=!(0x1c51+-0x24c5+0x875));}this['_skinTime']+=de()-_0x4ca3a5;}['updateMorp'+'hing'](_0x1e281a){const _0x55528b=de();for(const _0x387941 of _0x1e281a){const _0x31b9f3=_0x387941['morphInsta'+'nce'];_0x31b9f3&&_0x31b9f3['_dirty']&&_0x31b9f3['update']();}this['_morphTime']+=de()-_0x55528b;}['updateGSpl'+'ats'](_0x4bf899){var _0x2af082;for(const _0x5c2951 of _0x4bf899)(_0x2af082=_0x5c2951['gsplatInst'+'ance'])==null||_0x2af082['update']();}['gpuUpdate'](_0x3814eb){this['updateGpuS'+'kinMatrice'+'s'](_0x3814eb),this['updateMorp'+'hing'](_0x3814eb),this['updateGSpl'+'ats'](_0x3814eb);}['setVertexB'+'uffers'](_0x29a360,_0x58231c){_0x29a360['setVertexB'+'uffer'](_0x58231c['vertexBuff'+'er']);}['setMorphin'+'g'](_0x3b0315,_0x4912cd){_0x4912cd&&(_0x4912cd['prepareRen'+'dering'](_0x3b0315),_0x3b0315['setVertexB'+'uffer'](_0x4912cd['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x4912cd['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x4912cd['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x4912cd['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x5d170b,_0x105d64){const _0x2d945f=_0x105d64['skinInstan'+'ce'];if(_0x2d945f){this['_skinDrawC'+'alls']++;const _0x5ea4c5=_0x2d945f['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x5ea4c5);}}['dispatchVi'+'ewPos'](_0x43829d){const _0x5596dc=this['viewPos'];_0x5596dc[-0x2*0x110b+-0x130c+0x3522]=_0x43829d['x'],_0x5596dc[-0xca5+-0x23cc+0x3072]=_0x43829d['y'],_0x5596dc[-0x1*-0x63a+0x11dc+-0x5c*0x43]=_0x43829d['z'],this['viewPosId']['setValue'](_0x5596dc);}['initViewBi'+'ndGroupFor'+'mat'](_0x1f272f){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x40a73d=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x1f272f&&_0x40a73d['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x40a73d);const _0x193b42=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x193b42);}}['setupViewU'+'niforms'](_0x4a693e,_0x2072fd){this['projId']['setValue'](_0x4a693e['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x4a693e['projMat']['data']),this['viewId']['setValue'](_0x4a693e['viewOffMat']['data']),this['viewInvId']['setValue'](_0x4a693e['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x4a693e['viewMat3']['data']),this['viewProjId']['setValue'](_0x4a693e['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x4a693e['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x2072fd);}['setupViewU'+'niformBuff'+'ers'](_0x9036dc,_0x3c9694,_0x4feb1e,_0x27e678){w['assert'](Array['isArray'](_0x9036dc),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x1d11db}=this,_0x5ad4d9=(_0x27e678==null?void(0x2001*-0x1+0x1759*0x1+-0x454*-0x2):_0x27e678['length'])??0xd4f*0x2+-0x67a*0x3+0x72f*-0x1;for(;_0x9036dc['length']<_0x5ad4d9;){const _0x38a25e=new zp(_0x1d11db,_0x3c9694,!(0x3*0x89+0x1328+0x1*-0x14c2)),_0x4189bc=new Up(_0x1d11db,_0x4feb1e,_0x38a25e);Ea['setName'](_0x4189bc,'ViewBindGr'+'oup_'+_0x4189bc['id']),_0x9036dc['push'](_0x4189bc);}if(_0x27e678)for(let _0x542404=0x1*0x521+-0x11a0+0x7*0x1c9;_0x542404<_0x5ad4d9;_0x542404++){const _0x2139a4=_0x27e678[_0x542404];this['setupViewU'+'niforms'](_0x2139a4,_0x542404);const _0x2538b0=_0x9036dc[_0x542404];_0x2538b0['defaultUni'+'formBuffer']['update'](),_0x2538b0['update']();}else{const _0x1b1b84=_0x9036dc[0x1ec8+-0x2*-0x5bf+-0x2a46];_0x1b1b84['defaultUni'+'formBuffer']['update'](),_0x1b1b84['update']();}_0x27e678||_0x1d11db['setBindGro'+'up'](rl,_0x9036dc[0x29f+-0x1c88+0x19e9]);}['setupMeshU'+'niformBuff'+'ers'](_0x307acf){const _0xbe634c=this['device'];if(_0xbe634c['supportsUn'+'iformBuffe'+'rs']){const _0x222a81=_0x307acf['getBindGro'+'up'](_0xbe634c);_0x222a81['update'](),_0xbe634c['setBindGro'+'up'](Oy,_0x222a81),_0x307acf['getUniform'+'Buffer'](_0xbe634c)['update'](hf),_0xbe634c['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x3844cd,_0x5b3247=!(0x223d*-0x1+-0x14fc+0x373a)){const _0x48e597=_0x3844cd['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x48e597['data']),_0x5b3247&&this['normalMatr'+'ixId']['setValue'](_0x3844cd['node']['normalMatr'+'ix']['data']);}['cull'](_0xbc17ff,_0x235ed2,_0xa2ca43){const _0x10490e=de(),_0x589bd6=_0xa2ca43['opaque'];_0x589bd6['length']=-0x6*-0xa+0x1*-0x2525+-0x24e9*-0x1;const _0x541f67=_0xa2ca43['transparen'+'t'];_0x541f67['length']=-0x4f8+0x903+0x17*-0x2d;const _0x5143bf=_0xbc17ff['frustumCul'+'ling'],_0x3134a2=_0x235ed2['length'];for(let _0x3d9790=0x359*-0x2+0x827*-0x1+0xed9;_0x3d9790<_0x3134a2;_0x3d9790++){const _0x3ec96e=_0x235ed2[_0x3d9790];_0x3ec96e['visible']&&(!_0x5143bf||!_0x3ec96e['cull']||_0x3ec96e['_isVisible'](_0xbc17ff))&&(_0x3ec96e['visibleThi'+'sFrame']=!(0x261d*-0x1+0x1d8c+0x33*0x2b),(_0x3ec96e['transparen'+'t']?_0x541f67:_0x589bd6)['push'](_0x3ec96e),(_0x3ec96e['skinInstan'+'ce']||_0x3ec96e['morphInsta'+'nce']||_0x3ec96e['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x3ec96e),_0x3ec96e['gsplatInst'+'ance']&&_0x3ec96e['gsplatInst'+'ance']['cameras']['push'](_0xbc17ff)));}this['_cullTime']+=de()-_0x10490e,this['_numDrawCa'+'llsCulled']+=_0x5143bf?_0x3134a2:-0x1256+0x183a+0x34*-0x1d;}['collectLig'+'hts'](_0x53717e){this['lights']['length']=-0x1*-0x1d68+0x1*0x1678+-0x33e0,this['localLight'+'s']['length']=-0x1b44+0x249d+-0x959;const _0x1128ed=this['scene']['_stats'];_0x1128ed['dynamicLig'+'hts']=-0xb*-0xc5+-0x2137+-0x48*-0x58,_0x1128ed['bakedLight'+'s']=-0x9ef+0x7f9*-0x2+-0x109*-0x19;const _0x5f2d99=_0x53717e['layerList']['length'];for(let _0x9e85e1=-0x1d04+0x19f4+-0x188*-0x2;_0x9e85e1<_0x5f2d99;_0x9e85e1++){const _0xf59ae5=_0x53717e['layerList'][_0x9e85e1];if(!cf['has'](_0xf59ae5)){cf['add'](_0xf59ae5);const _0x2b752a=_0xf59ae5['_lights'];for(let _0x585b11=-0x1921+-0x1f51+-0x121*-0x32;_0x585b11<_0x2b752a['length'];_0x585b11++){const _0x3cc7d1=_0x2b752a[_0x585b11];lf['has'](_0x3cc7d1)||(lf['add'](_0x3cc7d1),this['lights']['push'](_0x3cc7d1),_0x3cc7d1['_type']!==ve&&this['localLight'+'s']['push'](_0x3cc7d1),(_0x3cc7d1['mask']&Ss||_0x3cc7d1['mask']&di)&&_0x1128ed['dynamicLig'+'hts']++,_0x3cc7d1['mask']&fi&&_0x1128ed['bakedLight'+'s']++);}}}_0x1128ed['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x174e6e,_0x3f4270){const _0x2445fb=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x24dbf9=this['scene']['physicalUn'+'its'];for(let _0x45ac88=0xec3*0x1+0x1*-0x157d+0x11f*0x6;_0x45ac88<_0x3f4270['length'];_0x45ac88++){const _0xf32d6d=_0x3f4270[_0x45ac88];if(_0xf32d6d['enabled']){if(_0xf32d6d['_type']!==ve){if(_0xf32d6d['getBoundin'+'gSphere'](of),_0x174e6e['frustum']['containsSp'+'here'](of)){_0xf32d6d['visibleThi'+'sFrame']=!(-0x235a+0x3fd*-0x5+-0x5f*-0x95),_0xf32d6d['usePhysica'+'lUnits']=_0x24dbf9;const _0x51dc00=_0x174e6e['getScreenS'+'ize'](of);_0xf32d6d['maxScreenS'+'ize']=Math['max'](_0xf32d6d['maxScreenS'+'ize'],_0x51dc00);}else _0x2445fb||_0xf32d6d['castShadow'+'s']&&!_0xf32d6d['shadowMap']&&(_0xf32d6d['visibleThi'+'sFrame']=!(-0x15c8+-0x20*0x112+0x3808));}else _0xf32d6d['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x384c9f){const _0x1cecd4=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x24ab2c=-0x6*0x496+0x7b7*-0x5+0x1*0x4217;_0x24ab2c<this['localLight'+'s']['length'];_0x24ab2c++){const _0x12dd5b=this['localLight'+'s'][_0x24ab2c];_0x12dd5b['_type']!==ve&&(_0x1cecd4?_0x12dd5b['atlasSlotU'+'pdated']&&_0x12dd5b['shadowUpda'+'teMode']===Ps&&(_0x12dd5b['shadowUpda'+'teMode']=xr):_0x12dd5b['shadowUpda'+'teMode']===Ps&&_0x12dd5b['castShadow'+'s']&&(_0x12dd5b['getRenderD'+'ata'](null,-0x1ea2+0x22c5+-0x1*0x423)['shadowCame'+'ra']['renderTarg'+'et']||(_0x12dd5b['shadowUpda'+'teMode']=xr)),_0x12dd5b['visibleThi'+'sFrame']&&_0x12dd5b['castShadow'+'s']&&_0x12dd5b['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x12dd5b,_0x384c9f));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x525061=_0x384c9f['cameras'];for(let _0x20ec53=0xd16+-0x1741*0x1+0x1*0xa2b;_0x20ec53<_0x525061['length'];_0x20ec53++){const _0x15d58d=_0x525061[_0x20ec53];if(_0x15d58d['enabled']){const _0x136941=_0x15d58d['camera'];let _0x4542b5;const _0x1cecd6=_0x136941['layers'];for(let _0x59ee0e=-0x37c+-0x1ed+-0x569*-0x1;_0x59ee0e<_0x1cecd6['length'];_0x59ee0e++){const _0x537ba5=_0x384c9f['getLayerBy'+'Id'](_0x1cecd6[_0x59ee0e]);if(_0x537ba5){const _0x25537f=_0x537ba5['splitLight'+'s'][ve];for(let _0x1cf8bd=0x1bef+-0x936+-0x12b9;_0x1cf8bd<_0x25537f['length'];_0x1cf8bd++){const _0x87524b=_0x25537f[_0x1cf8bd];_0x87524b['castShadow'+'s']&&!Fa['has'](_0x87524b)&&(Fa['add'](_0x87524b),_0x4542b5=_0x4542b5??[],_0x4542b5['push'](_0x87524b),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x87524b,_0x384c9f,_0x136941));}}}_0x4542b5&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x136941,_0x4542b5),Fa['clear']();}}}['cullCompos'+'ition'](_0x53d4f8){const _0x3518f4=de(),{scene:_0x38d3d6}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x5a7f96=_0x53d4f8['cameras']['length'];this['_camerasRe'+'ndered']+=_0x5a7f96;for(let _0x4dfdbf=0x43*-0x86+0x2126+0x1ec;_0x4dfdbf<_0x5a7f96;_0x4dfdbf++){const _0x24456f=_0x53d4f8['cameras'][_0x4dfdbf];_0x38d3d6==null||_0x38d3d6['fire'](mv,_0x24456f);const _0x3b15ad=_0x24456f['renderTarg'+'et'];_0x24456f['frameUpdat'+'e'](_0x3b15ad),this['updateCame'+'raFrustum'](_0x24456f['camera']);const _0x12a311=_0x24456f['layers'];for(let _0x3cd96c=0xc04+-0x707*-0x5+-0x2f27;_0x3cd96c<_0x12a311['length'];_0x3cd96c++){const _0x55fe40=_0x53d4f8['getLayerBy'+'Id'](_0x12a311[_0x3cd96c]);if(_0x55fe40&&_0x55fe40['enabled']){this['cullLights'](_0x24456f['camera'],_0x55fe40['_lights']);const _0x173bb9=_0x55fe40['getCulledI'+'nstances'](_0x24456f['camera']);this['cull'](_0x24456f['camera'],_0x55fe40['meshInstan'+'ces'],_0x173bb9);}}_0x38d3d6==null||_0x38d3d6['fire'](_v,_0x24456f);}_0x38d3d6['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x53d4f8),_0x38d3d6==null||_0x38d3d6['fire'](lE),this['_cullTime']+=de()-_0x3518f4;}['updateShad'+'ers'](_0x3b17e7,_0x57b056){const _0x177b65=_0x3b17e7['length'];for(let _0x48d4e7=-0x1d3a+0x23b2+-0x678;_0x48d4e7<_0x177b65;_0x48d4e7++){const _0x552392=_0x3b17e7[_0x48d4e7]['material'];if(_0x552392&&!Fa['has'](_0x552392)&&(Fa['add'](_0x552392),_0x552392['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x57b056&&(!_0x552392['useLightin'+'g']||_0x552392['emitter']&&!_0x552392['emitter']['lighting']))continue;_0x552392['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x4d9e98){const _0x3ac4a2=this['scene'],_0x3cab1c=_0x3ac4a2['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x977654=0x6*0x183+0x685*0x1+-0xf97;const _0x4a406e=_0x4d9e98['layerList'],_0xfdd145=_0x4a406e['length'];for(let _0x48acd6=0x26ba*0x1+0x17a6+-0x3e60;_0x48acd6<_0xfdd145;_0x48acd6++){const _0x4686f2=_0x4a406e[_0x48acd6]['meshInstan'+'ces'],_0xd1d093=_0x4686f2['length'];_0x977654+=_0xd1d093;for(let _0x52d0e2=-0x331*0x2+-0x1778+0x1dda;_0x52d0e2<_0xd1d093;_0x52d0e2++){const _0x27cbfc=_0x4686f2[_0x52d0e2];_0x27cbfc['visibleThi'+'sFrame']=!(0x2*0x10e7+0x1281+-0x344e),_0x3cab1c&&df['push'](_0x27cbfc),_0x27cbfc['skinInstan'+'ce']&&ff['push'](_0x27cbfc);}}if(_0x3ac4a2['_stats']['meshInstan'+'ces']=_0x977654,_0x3cab1c){const _0x46bf86=!_0x3ac4a2['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x46bf86),_0x3ac4a2['updateShad'+'ers']=!(0x742+0x5*0x481+-0x1dc6),this['device']['_shadersDi'+'rty']=!(-0x27*-0x75+0x1540+-0x1*0x2712),_0x3ac4a2['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=-0x17df+0x2*-0xe35+0xa75*0x5,ff['length']=0x1*-0x175+-0x53*-0x5f+-0x3*0x9c8;const _0x16d74d=this['lights'],_0x82924c=_0x16d74d['length'];for(let _0xadea85=0x2ba*0x8+-0x19ef*0x1+-0x1*-0x41f;_0xadea85<_0x82924c;_0xadea85++)_0x16d74d[_0xadea85]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x1d5b0c){const _0x414d42=de(),_0x314cf8=_0x1d5b0c['layerList']['length'],_0x478008=this['scene']['_shaderVer'+'sion'];for(let _0x3f860f=-0x246f+0x15ca+-0xea5*-0x1;_0x3f860f<_0x314cf8;_0x3f860f++){const _0xe6f92=_0x1d5b0c['layerList'][_0x3f860f];_0xe6f92['_shaderVer'+'sion']=_0x478008,_0xe6f92['_skipRende'+'rCounter']=0x1*-0xb63+0x1acd+0x2*-0x7b5,_0xe6f92['_forwardDr'+'awCalls']=-0x1de*0x6+-0x2578+-0x4*-0xc2b,_0xe6f92['_shadowDra'+'wCalls']=-0x1c40+-0x166c+-0x11a*-0x2e,_0xe6f92['_renderTim'+'e']=-0x71*0xa+0x62b*0x2+0x3*-0x2a4;}_0x1d5b0c['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x414d42;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1319+0x1*0x2d7+-0x463*0x5),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x2622+-0xe21*0x1+-0x1800),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x22da+-0x1653+-0xc86),this['clearDepth']=!(-0x1*0xbc1+0x2062*0x1+-0x4*0x528),this['clearStenc'+'il']=!(0x479*0x1+0x65*-0x59+0x1ea5),this['triggerPos'+'tprocess']=!(0x1*-0x1e8e+0x1de3+-0x1*-0xac),this['firstCamer'+'aUse']=!(0x1361+-0xf4b+-0x415),this['lastCamera'+'Use']=!(-0xf08+-0x6e4*-0x1+0x8b*0xf),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1*0xc5+0x2*-0x9d5+0x12e6));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4afa9c=>{_0x4afa9c['defaultUni'+'formBuffer']['destroy'](),_0x4afa9c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x2375*0x1+-0x1394+0x1*0x3709;}['setupClear'+'s'](_0x21b31a,_0x233d92){this['clearColor']=(_0x21b31a==null?void(0x2554*-0x1+-0x24dc+0x4a30):_0x21b31a['clearColor'+'Buffer'])||_0x233d92['clearColor'+'Buffer'],this['clearDepth']=(_0x21b31a==null?void(-0xcd1+0x34b*0x1+0x6a*0x17):_0x21b31a['clearDepth'+'Buffer'])||_0x233d92['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x21b31a==null?void(0x355*0xb+0x1be1+-0x4088):_0x21b31a['clearStenc'+'ilBuffer'])||_0x233d92['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x28bd46,_0x2fa599,_0x53a243,_0x1808fe){super(_0x28bd46),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x445*-0x4+-0x1742*0x1+0x62f)),(this['layerCompo'+'sition']=_0x2fa599,this['scene']=_0x53a243,this['renderer']=_0x1808fe);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1903+0x1906+0x1*-0x3209;}['addRenderA'+'ction'](_0x35c54f){this['renderActi'+'ons']['push'](_0x35c54f);}['addLayer'](_0x1c830e,_0x26dd0c,_0x2d733a,_0xafb620=!(-0x1*0x3c1+0x2*-0xef9+0x21b3)){w['assert'](_0x1c830e),w['assert'](this['renderTarg'+'et']!==void(0x13*-0xb9+0x1985*-0x1+0x2740),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x1c830e['camera']['layersSet']['has'](_0x26dd0c['id']),'Camera\x20'+_0x1c830e['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x26dd0c['name']+'.');const _0x33438b=new Pv();if(_0x33438b['renderTarg'+'et']=this['renderTarg'+'et'],_0x33438b['camera']=_0x1c830e,_0x33438b['layer']=_0x26dd0c,_0x33438b['transparen'+'t']=_0x2d733a,_0xafb620){const _0x3d0f45=this['renderActi'+'ons']['length']===-0x529+0x2086+-0x1b5d;_0x33438b['setupClear'+'s'](_0x3d0f45?_0x1c830e:void(0x5*-0x685+-0xb*-0x56+0x1ce7*0x1),_0x26dd0c);}this['addRenderA'+'ction'](_0x33438b);}['addLayers'](_0x41e1c8,_0x3fcb1d,_0x3fd08b,_0x337dc7,_0x4c62d7,_0x3312e2=!(-0x1d19+0x21*0x12b+0x3e*-0x27)){const {layerList:_0x320aad,subLayerList:_0x427b97}=_0x41e1c8;let _0xf014d7=_0x337dc7,_0x57865c=_0x3fd08b;for(;_0x57865c<_0x320aad['length'];){const _0x4648be=_0x320aad[_0x57865c],_0x1f3f20=_0x427b97[_0x57865c];if(_0x3fcb1d['camera']['layersSet']['has'](_0x4648be['id'])&&(this['addLayer'](_0x3fcb1d,_0x4648be,_0x1f3f20,_0xf014d7),_0xf014d7=!(0x49d*0x1+0x1*0x1a0f+-0x1eab)),_0x57865c++,_0x4648be['id']===_0x4c62d7&&_0x1f3f20===_0x3312e2)break;}return _0x57865c;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x115bf0,renderActions:_0x539566}=this;for(let _0x301693=0x1853+-0xb1f+0x82*-0x1a;_0x301693<_0x539566['length'];_0x301693++){const _0x2fd2c8=_0x539566[_0x301693]['camera']['camera'],_0x2a3768=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x2fd2c8);if(_0x2a3768)for(let _0x26348d=0xd11+-0xe04+0xf3;_0x26348d<_0x2a3768['length'];_0x26348d++){const _0x49770c=_0x2a3768[_0x26348d];if(_0x115bf0['dirLightSh'+'adows']['get'](_0x49770c)!==_0x2fd2c8){_0x115bf0['dirLightSh'+'adows']['set'](_0x49770c,_0x2fd2c8);const _0x31fd26=_0x115bf0['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x49770c,_0x2fd2c8);_0x31fd26&&this['beforePass'+'es']['push'](_0x31fd26);}}}}['updateClea'+'rs'](){const _0x458b1f=this['renderActi'+'ons'][0x1*-0xe56+-0x17e7+0x263d];if(_0x458b1f){const _0x59c0cc=_0x458b1f['camera']['camera'],_0x5a2972=_0x59c0cc['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x5a2972&&_0x458b1f['clearColor']?_0x59c0cc['clearColor']:void(0x1*0x136a+0xe*0x23d+-0x32c0)),this['setClearDe'+'pth'](_0x5a2972&&_0x458b1f['clearDepth']&&!this['noDepthCle'+'ar']?_0x59c0cc['clearDepth']:void(0x196a+-0x70b+0x125f*-0x1)),this['setClearSt'+'encil'](_0x5a2972&&_0x458b1f['clearStenc'+'il']?_0x59c0cc['clearStenc'+'il']:void(0x2d2*0x1+0x25f5+-0x28c7));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x33cf14}=this;for(let _0x43ec22=0x3b3*-0x1+0x2565*0x1+-0x13*0x1c6;_0x43ec22<_0x33cf14['length'];_0x43ec22++){const _0x2b5dc4=_0x33cf14[_0x43ec22];_0x2b5dc4['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x2b5dc4['camera']);}}['execute'](){const {layerComposition:_0x370188,renderActions:_0x5393a7}=this;for(let _0x5e9c5f=0x3*0x328+0x4a*-0x4a+-0x6d*-0x1c;_0x5e9c5f<_0x5393a7['length'];_0x5e9c5f++){const _0x5f4324=_0x5393a7[_0x5e9c5f],_0x143f32=_0x5f4324['layer'];w['call'](()=>{_0x370188['getLayerBy'+'Name'](_0x143f32['name'])||w['warnOnce']('Layer\x20'+_0x143f32['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x370188['isEnabled'](_0x143f32,_0x5f4324['transparen'+'t'])&&this['renderRend'+'erAction'](_0x5f4324,_0x5e9c5f===0x21ba+-0x2*0xe97+0xc2*-0x6);}}['after'](){for(let _0x3f31a5=-0xf02*-0x2+-0x1*0x1ca3+0x161*-0x1;_0x3f31a5<this['renderActi'+'ons']['length'];_0x3f31a5++){const _0x181168=this['renderActi'+'ons'][_0x3f31a5];_0x181168['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x181168['camera']);}this['beforePass'+'es']['length']=-0x3b8+-0x3*-0xc9+-0x15d*-0x1;}['renderRend'+'erAction'](_0x28e0c4,_0x227585){var _0x3d46ea;const {renderer:_0x50ece1,scene:_0x3ec364}=this,_0x348e12=_0x50ece1['device'],{layer:_0x9c4dd5,transparent:_0x3299be,camera:_0x931962}=_0x28e0c4;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x931962?_0x931962['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x9c4dd5['name']+'('+(_0x3299be?'TRANSP':'OPAQUE')+')');const _0xbe73a1=de();if(_0x931962){const _0x267e94=_0x931962['gammaCorre'+'ction'],_0x5b74df=_0x931962['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0xe8f+-0x19d*0x9+-0x4*-0x745)&&(_0x931962['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0xe62*-0x2+0x1*0x1d53+0xd*-0xb)&&(_0x931962['toneMappin'+'g']=this['toneMappin'+'g']),_0x3ec364['fire'](nE,_0x931962,_0x9c4dd5,_0x3299be);const _0x3bd32f={'lightClusters':_0x28e0c4['lightClust'+'ers']},_0xcc5d0d=((_0x3d46ea=_0x931962['camera']['shaderPass'+'Info'])==null?void(-0xf23+-0x20e3*0x1+0x1*0x3006):_0x3d46ea['index'])??Aa;(!_0x227585||!_0x931962['camera']['fullSizeCl'+'earRect'])&&(_0x3bd32f['clearColor']=_0x28e0c4['clearColor'],_0x3bd32f['clearDepth']=_0x28e0c4['clearDepth'],_0x3bd32f['clearStenc'+'il']=_0x28e0c4['clearStenc'+'il']);const _0x32d53f=_0x28e0c4['renderTarg'+'et']??_0x348e12['backBuffer'];_0x50ece1['renderForw'+'ardLayer'](_0x931962['camera'],_0x32d53f,_0x9c4dd5,_0x3299be,_0xcc5d0d,_0x28e0c4['viewBindGr'+'oups'],_0x3bd32f),_0x348e12['setBlendSt'+'ate'](pt['NOBLEND']),_0x348e12['setStencil'+'State'](null,null),_0x348e12['setAlphaTo'+'Coverage'](!(0x1*-0x18ed+0x2af*0x2+0x139*0x10)),_0x3ec364['fire'](oE,_0x931962,_0x9c4dd5,_0x3299be),this['gammaCorre'+'ction']!==void(0xea9+-0x23f8+0x154f)&&(_0x931962['gammaCorre'+'ction']=_0x267e94),this['toneMappin'+'g']!==void(0x1879+0x1318+-0x2b91)&&(_0x931962['toneMappin'+'g']=_0x5b74df);}Q['popGpuMark'+'er'](this['device']),_0x9c4dd5['_renderTim'+'e']+=de()-_0xbe73a1;}['log'](_0x190172,_0x3bb072){if(super['log'](_0x190172,_0x3bb072),mi['get'](cn)){const {layerComposition:_0x3ded36}=this;this['renderActi'+'ons']['forEach']((_0x296edd,_0x1afa8d)=>{const _0x1575e6=_0x296edd['layer'],_0x4f3fe9=_0x1575e6['enabled']&&_0x3ded36['isEnabled'](_0x1575e6,_0x296edd['transparen'+'t']),_0x6617b1=_0x296edd['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x1afa8d+':'+('\x20Cam:\x20'+(_0x6617b1?_0x6617b1['entity']['name']:'-'))['padEnd'](0x1daa+-0x1958+-0x4*0x10f,'\x20')+('\x20Lay:\x20'+_0x1575e6['name'])['padEnd'](-0x407+-0x5f*0x5f+-0x1*-0x275e,'\x20')+(_0x296edd['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4f3fe9?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x1575e6['meshInstan'+'ces']['length'])['padEnd'](0xdf1+-0xad9*0x1+-0x313,'\x20'));});}}}class Zb extends ys{constructor(_0x2bec1d,_0x1a9e52,_0x529267){super(_0x2bec1d),this['renderer']=_0x1a9e52,this['renderActi'+'on']=_0x529267,this['requiresCu'+'bemaps']=!(-0x17e*-0x1+0xf0b*0x1+-0x2e*0x5c);}['execute'](){const _0x5a54a2=this['renderActi'+'on'],_0x5a483e=_0x5a54a2['camera'];w['assert'](_0x5a54a2['triggerPos'+'tprocess']&&_0x5a483e['onPostproc'+'essing']),_0x5a483e['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0xb99+-0x631*0x1+-0x12*-0xfd,this['shaderInst'+'ances']['length']=0x2*0x9db+-0x313*-0x5+-0x7*0x503,this['isNewMater'+'ial']['length']=0x1*0xbb7+-0x332*0x5+0x443,this['lightMaskC'+'hanged']['length']=0x1e7c*0x1+0x884*0x4+-0x36*0x132;}};function Jb(_0x376cf5){const _0x3a469b=[];for(let _0x42a6fd=0x56*0x58+0x1879+-0x3609*0x1;_0x42a6fd<_0x376cf5;++_0x42a6fd){const _0x27e6a3=Math['sqrt'](_0x42a6fd+(-0x1*0x183c+0x83*-0x43+0x3a85*0x1+0.5))/Math['sqrt'](_0x376cf5);_0x3a469b['push'](_0x27e6a3);}return _0x3a469b;}function eA(_0x45e5cc){const _0x8bacc5=[];for(let _0x145bb6=0x6ed+0x88a+-0xf77;_0x145bb6<_0x45e5cc;_0x145bb6++){const _0xcaf5c=_0x145bb6/_0x45e5cc,_0x4917d1=Math['sqrt'](_0xcaf5c*_0xcaf5c);_0x8bacc5['push'](_0x4917d1);}return _0x8bacc5;}const Ni=class Ni extends Yb{constructor(_0x1902db){super(_0x1902db);const _0x78a245=this['device'];this['_forwardDr'+'awCalls']=0x5*-0x696+0xf2c+0x11c2,this['_materialS'+'witches']=-0x1bd*0x14+0xe3d+-0x41b*-0x5,this['_depthMapT'+'ime']=0x24f*0x1+0x2b3*0x5+-0x11*0xee,this['_forwardTi'+'me']=0x1*-0x11f3+0xb4a*0x3+-0xfeb,this['_sortTime']=0x43a*0x4+-0xb*0x28f+0xb3d;const _0x1552ba=_0x78a245['scope'];this['fogColorId']=_0x1552ba['resolve']('fog_color'),this['fogStartId']=_0x1552ba['resolve']('fog_start'),this['fogEndId']=_0x1552ba['resolve']('fog_end'),this['fogDensity'+'Id']=_0x1552ba['resolve']('fog_densit'+'y'),this['ambientId']=_0x1552ba['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x1552ba['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x1552ba['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x1552ba['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x1552ba['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x1552ba['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x15b+0x6*-0x217+-0x1*-0xde9),this['fogColor']=new Float32Array(0x2070+0x140e+-0x5*0xa7f),this['ambientCol'+'or']=new Float32Array(-0x1d2*0x8+-0x1de4+-0x1*-0x2c77),this['pcssDiskSa'+'mples']=Jb(0x799*-0x1+-0x946*-0x3+-0x1429),this['pcssSphere'+'Samples']=eA(-0x1c97+0x1b*0xf9+0x4*0x99);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x368fd0){const _0x411606=this['ambientCol'+'or'];if(or['linear'](_0x368fd0['ambientLig'+'ht']),_0x411606[0x49b*0x3+0x1f64+-0x2d35]=or['r'],_0x411606[0x13c9+0x83*0x11+-0x1c7b]=or['g'],_0x411606[0x5*0x3ef+0x2*-0x13d+-0x112f]=or['b'],_0x368fd0['physicalUn'+'its']){for(let _0x256ae9=0x24b*-0xf+-0x1*-0x25eb+-0x386;_0x256ae9<-0x1835+-0x848+-0x820*-0x4;_0x256ae9++)_0x411606[_0x256ae9]*=_0x368fd0['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x411606),this['skyboxInte'+'nsityId']['setValue'](_0x368fd0['physicalUn'+'its']?_0x368fd0['skyboxLumi'+'nance']:_0x368fd0['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x368fd0['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x3c42ee,_0x36c676){const _0x421a79='light'+_0x36c676;this['lightColor'+'Id'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_color'),this['lightDir'][_0x36c676]=new Float32Array(0x23*-0x7a+-0x1*-0x89b+0x816),this['lightDirId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_direction'),this['lightShado'+'wMapId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_radius'),this['lightPos'][_0x36c676]=new Float32Array(-0x3*0x109+0x1*0x17f+0x53*0x5),this['lightPosId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_position'),this['lightWidth'][_0x36c676]=new Float32Array(-0x3*0xa13+0x8*-0x15f+-0x494*-0x9),this['lightWidth'+'Id'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_halfWidth'),this['lightHeigh'+'t'][_0x36c676]=new Float32Array(-0x16d8+-0x1021+0x1f3*0x14),this['lightHeigh'+'tId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+'_cookie'),this['lightCooki'+'eIntId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x36c676]=_0x3c42ee['resolve'](_0x421a79+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x3eb893,_0x4a5e1c,_0x5bef31,_0x53014a,_0x14d5fb){this['lightPos'][_0x4a5e1c][-0x12b*0x12+-0x245f+-0x1*-0x3965]=_0x53014a['x']-_0x5bef31['x']*_0x14d5fb,this['lightPos'][_0x4a5e1c][0x1736+0x25cd+-0x2*0x1e81]=_0x53014a['y']-_0x5bef31['y']*_0x14d5fb,this['lightPos'][_0x4a5e1c][0x1c65+-0x1f23+0x2c0]=_0x53014a['z']-_0x5bef31['z']*_0x14d5fb,this['lightPosId'][_0x4a5e1c]['setValue'](this['lightPos'][_0x4a5e1c]);const _0x14e7bd=_0x3eb893['transformV'+'ector'](new D(-(0x576*-0x3+0x55*0x1+0x100d+0.5),0x1577+-0x24bf+-0x6*-0x28c,-0x163a+0x15b*-0x4+-0xdd3*-0x2));this['lightWidth'][_0x4a5e1c][-0x1fa0+0xf2*-0x13+-0x482*-0xb]=_0x14e7bd['x']*_0x14d5fb,this['lightWidth'][_0x4a5e1c][-0x24b6+-0x2*0x1021+0x44f9]=_0x14e7bd['y']*_0x14d5fb,this['lightWidth'][_0x4a5e1c][-0xde1+-0xb*0x219+-0x13*-0x1f2]=_0x14e7bd['z']*_0x14d5fb,this['lightWidth'+'Id'][_0x4a5e1c]['setValue'](this['lightWidth'][_0x4a5e1c]);const _0x376e69=_0x3eb893['transformV'+'ector'](new D(-0x476*0x4+-0xf70+0x2148,-0x1481+0xd*0x21b+0x6de*-0x1,0x11f6+-0x1ad4+0x8de+0.5));this['lightHeigh'+'t'][_0x4a5e1c][0x3b*0x99+0x10f4+-0x1*0x3437]=_0x376e69['x']*_0x14d5fb,this['lightHeigh'+'t'][_0x4a5e1c][-0x1*0x20c3+-0x3*-0x5cf+0x51d*0x3]=_0x376e69['y']*_0x14d5fb,this['lightHeigh'+'t'][_0x4a5e1c][-0x1d45+-0x2004+0x3d4b]=_0x376e69['z']*_0x14d5fb,this['lightHeigh'+'tId'][_0x4a5e1c]['setValue'](this['lightHeigh'+'t'][_0x4a5e1c]);}['dispatchDi'+'rectLights'](_0x3f4b34,_0x26fe26,_0x4db8db){let _0x10806c=-0x8*0x2bd+-0x65e+-0x5e*-0x4d;const _0x1c5785=this['device']['scope'];for(let _0x461b49=0x377*-0x1+-0x1*-0x20ef+-0x1d78;_0x461b49<_0x3f4b34['length'];_0x461b49++){if(!(_0x3f4b34[_0x461b49]['mask']&_0x26fe26))continue;const _0x11fe7b=_0x3f4b34[_0x461b49],_0x3eda54=_0x11fe7b['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x10806c]||this['_resolveLi'+'ght'](_0x1c5785,_0x10806c),this['lightColor'+'Id'][_0x10806c]['setValue'](_0x11fe7b['_colorLine'+'ar']),_0x3eda54['getY'](_0x11fe7b['_direction'])['mulScalar'](-(0xb*-0x6a+0x14db+-0x104c)),_0x11fe7b['_direction']['normalize'](),this['lightDir'][_0x10806c][0x6*0x4c7+0x1*0x199+-0x1e43]=_0x11fe7b['_direction']['x'],this['lightDir'][_0x10806c][0x284+-0x8d7*0x3+0x1802*0x1]=_0x11fe7b['_direction']['y'],this['lightDir'][_0x10806c][0x14e3+-0xc4e+0x5*-0x1b7]=_0x11fe7b['_direction']['z'],this['lightDirId'][_0x10806c]['setValue'](this['lightDir'][_0x10806c]),_0x11fe7b['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x3eda54,_0x10806c,_0x11fe7b['_direction'],_0x4db8db['_node']['getPositio'+'n'](),_0x4db8db['farClip']),_0x11fe7b['castShadow'+'s']){const _0x18ec3f=_0x11fe7b['getRenderD'+'ata'](_0x4db8db,-0x1*-0x421+-0x2*0xd6a+0x16b3),_0x290884=_0x11fe7b['_getUnifor'+'mBiasValue'+'s'](_0x18ec3f);this['lightShado'+'wMapId'][_0x10806c]['setValue'](_0x18ec3f['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x10806c]['setValue'](_0x18ec3f['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x10806c]['setValue'](_0x11fe7b['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x10806c]['setValue'](_0x11fe7b['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x10806c]['setValue'](_0x11fe7b['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x10806c]['setValue'](-0x1b7+-0x1*0x1475+0x162d-_0x11fe7b['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x10806c]['setValue'](_0x11fe7b['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x10806c]['setValue'](_0x11fe7b['_softShado'+'wParams']),_0x18ec3f['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x10806c]['setValue'](_0x11fe7b['penumbraSi'+'ze']/_0x18ec3f['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x18ec3f['projection'+'Compensati'+'on']);const _0x66526f=_0x11fe7b['_shadowCam'+'eraParams'];_0x66526f['length']=-0x1aba+-0x1f04+0x39c2,_0x66526f[0x92f*0x2+0x25fe+-0x385c]=-0x1d51+0x12*0x20b+-0x775,_0x66526f[-0xce2+-0x1e27+0xe*0x313]=_0x18ec3f['shadowCame'+'ra']['_farClip'],_0x66526f[0xa3*-0xe+0x1643+-0xd57]=_0x18ec3f['shadowCame'+'ra']['_nearClip'],_0x66526f[-0x3d2+0x1a71*-0x1+0x1e46]=0x187e+-0xa4b*-0x1+-0x54*0x6a,this['lightCamer'+'aParamsId'][_0x10806c]['setValue'](_0x66526f);const _0x2faec3=_0x11fe7b['_shadowRen'+'derParams'];_0x2faec3['length']=0xd4*-0x8+-0x1*0x2302+0x1*0x29a6,_0x2faec3[0xdf*-0x4+-0xd*-0x287+-0x1d5f]=_0x11fe7b['_shadowRes'+'olution'],_0x2faec3[-0x6b1+0x639+0x79]=_0x290884['normalBias'],_0x2faec3[-0x2*-0x8f8+0x1*0xed1+-0x20bf*0x1]=_0x290884['bias'],_0x2faec3[-0xf20+-0x397*-0x7+-0x9fe]=-0x2580+-0x16*0x6f+0x53a*0x9,this['lightShado'+'wParamsId'][_0x10806c]['setValue'](_0x2faec3);}_0x10806c++;}return _0x10806c;}['setLTCPosi'+'tionalLigh'+'t'](_0x5448de,_0x3f1f59){const _0x542993=_0x5448de['transformV'+'ector'](new D(-(-0xc5*-0x1+-0x15fe+0x3*0x713+0.5),-0x109c+-0xdeb+-0x61b*-0x5,-0x1*0x1c5d+-0x1dac+-0x53*-0xb3));this['lightWidth'][_0x3f1f59][0x5b3*0x1+0x1982+-0x1f35]=_0x542993['x'],this['lightWidth'][_0x3f1f59][0x6c*-0x44+-0x4c+0x29*0xb5]=_0x542993['y'],this['lightWidth'][_0x3f1f59][0xf*-0x57+-0x120c+0x1727]=_0x542993['z'],this['lightWidth'+'Id'][_0x3f1f59]['setValue'](this['lightWidth'][_0x3f1f59]);const _0x69a2a5=_0x5448de['transformV'+'ector'](new D(0x85*-0x47+-0x853+0x2d36,0x18f2+0x8c7+0x21b9*-0x1,0xa*0x108+-0x1d8b*0x1+-0x669*-0x3+0.5));this['lightHeigh'+'t'][_0x3f1f59][0x210a+0x2008+-0x4112*0x1]=_0x69a2a5['x'],this['lightHeigh'+'t'][_0x3f1f59][0x347*0x7+-0x55c+-0x1194]=_0x69a2a5['y'],this['lightHeigh'+'t'][_0x3f1f59][0x10f4+0x1cae+0x92*-0x50]=_0x69a2a5['z'],this['lightHeigh'+'tId'][_0x3f1f59]['setValue'](this['lightHeigh'+'t'][_0x3f1f59]);}['dispatchOm'+'niLight'](_0x188495,_0x2b7d4e,_0x4a301e){const _0x71060e=_0x2b7d4e['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4a301e]||this['_resolveLi'+'ght'](_0x188495,_0x4a301e),this['lightRadiu'+'sId'][_0x4a301e]['setValue'](_0x2b7d4e['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4a301e]['setValue'](_0x2b7d4e['_colorLine'+'ar']),_0x71060e['getTransla'+'tion'](_0x2b7d4e['_position']),this['lightPos'][_0x4a301e][-0x10f2+-0x2363+0x3455]=_0x2b7d4e['_position']['x'],this['lightPos'][_0x4a301e][0x5f9*-0x5+0x1*-0xdb4+0x2b92]=_0x2b7d4e['_position']['y'],this['lightPos'][_0x4a301e][-0x2*-0x37c+0x1*0xe6d+-0x49*0x4b]=_0x2b7d4e['_position']['z'],this['lightPosId'][_0x4a301e]['setValue'](this['lightPos'][_0x4a301e]),_0x2b7d4e['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x71060e,_0x4a301e),_0x2b7d4e['castShadow'+'s']){const _0x291081=_0x2b7d4e['getRenderD'+'ata'](null,-0x1114+0xffc*-0x2+0x310c);this['lightShado'+'wMapId'][_0x4a301e]['setValue'](_0x291081['shadowBuff'+'er']);const _0x4adcff=_0x2b7d4e['_getUnifor'+'mBiasValue'+'s'](_0x291081),_0x5f5434=_0x2b7d4e['_shadowRen'+'derParams'];_0x5f5434['length']=-0xa3a*0x2+0x1*0x12fd+0x17b,_0x5f5434[-0x227d+-0x182a+0x3aa7]=_0x2b7d4e['_shadowRes'+'olution'],_0x5f5434[-0x132b+0x23*0x6f+-0x21*-0x1f]=_0x4adcff['normalBias'],_0x5f5434[0x2aa+-0xabb*-0x1+-0xd63*0x1]=_0x4adcff['bias'],_0x5f5434[0x2462+0x1*0x1bb9+-0x2*0x200c]=(0x320*-0xc+-0x674+0x2bf5)/_0x2b7d4e['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4a301e]['setValue'](_0x5f5434),this['lightShado'+'wIntensity'][_0x4a301e]['setValue'](_0x2b7d4e['shadowInte'+'nsity']);const _0x38933e=_0x2b7d4e['penumbraSi'+'ze']/_0x291081['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x4a301e]['setValue'](_0x38933e);const _0x3836e6=_0x2b7d4e['_shadowCam'+'eraParams'];_0x3836e6['length']=-0x23c+-0x1dd*0x5+0xb91,_0x3836e6[-0x19b2+-0x183b*-0x1+-0x7d*-0x3]=0x56d+0x7ab+-0x68c*0x2,_0x3836e6[0x1357*-0x1+-0x624+0x197c]=_0x291081['shadowCame'+'ra']['_farClip'],_0x3836e6[0x1*-0xc46+-0xfb5+0x1bfd]=_0x291081['shadowCame'+'ra']['_nearClip'],_0x3836e6[-0x2f*-0x4c+0x10c5+0x1eb6*-0x1]=-0x1980*-0x1+0x164*0x13+-0x33ec*0x1,this['lightCamer'+'aParamsId'][_0x4a301e]['setValue'](_0x3836e6);}_0x2b7d4e['_cookie']&&(this['lightCooki'+'eId'][_0x4a301e]['setValue'](_0x2b7d4e['_cookie']),this['lightShado'+'wMatrixId'][_0x4a301e]['setValue'](_0x71060e['data']),this['lightCooki'+'eIntId'][_0x4a301e]['setValue'](_0x2b7d4e['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x444e77,_0x63a8f7,_0x217b1c){const _0x3f2eb3=_0x63a8f7['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x217b1c]||this['_resolveLi'+'ght'](_0x444e77,_0x217b1c),this['lightInAng'+'leId'][_0x217b1c]['setValue'](_0x63a8f7['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x217b1c]['setValue'](_0x63a8f7['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x217b1c]['setValue'](_0x63a8f7['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x217b1c]['setValue'](_0x63a8f7['_colorLine'+'ar']),_0x3f2eb3['getTransla'+'tion'](_0x63a8f7['_position']),this['lightPos'][_0x217b1c][-0x311+-0xbcb*-0x2+-0x1485]=_0x63a8f7['_position']['x'],this['lightPos'][_0x217b1c][0x7*-0x403+-0x17d9+-0x33ef*-0x1]=_0x63a8f7['_position']['y'],this['lightPos'][_0x217b1c][0x694+0x25cb+-0x1*0x2c5d]=_0x63a8f7['_position']['z'],this['lightPosId'][_0x217b1c]['setValue'](this['lightPos'][_0x217b1c]),_0x63a8f7['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3f2eb3,_0x217b1c),_0x3f2eb3['getY'](_0x63a8f7['_direction'])['mulScalar'](-(0x6ac+0x162a+-0x3d*0x79)),_0x63a8f7['_direction']['normalize'](),this['lightDir'][_0x217b1c][0xf0d*0x2+0x501+-0x231b]=_0x63a8f7['_direction']['x'],this['lightDir'][_0x217b1c][0x3*-0xc11+0xb0a+0x192a]=_0x63a8f7['_direction']['y'],this['lightDir'][_0x217b1c][0x24c3*0x1+-0x25*0x35+-0x1d18]=_0x63a8f7['_direction']['z'],this['lightDirId'][_0x217b1c]['setValue'](this['lightDir'][_0x217b1c]),_0x63a8f7['castShadow'+'s']){const _0x1c579b=_0x63a8f7['getRenderD'+'ata'](null,0x124b+0xcea+-0x1f35);this['lightShado'+'wMapId'][_0x217b1c]['setValue'](_0x1c579b['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x217b1c]['setValue'](_0x1c579b['shadowMatr'+'ix']['data']);const _0x4744e3=_0x63a8f7['_getUnifor'+'mBiasValue'+'s'](_0x1c579b),_0x23d958=_0x63a8f7['_shadowRen'+'derParams'];_0x23d958['length']=0x59c*0x6+-0x168f+-0xb15,_0x23d958[0x2*0x3f8+0x1286+-0x6*0x469]=_0x63a8f7['_shadowRes'+'olution'],_0x23d958[-0xb*0xe7+0xf3*-0x23+0x2b27]=_0x4744e3['normalBias'],_0x23d958[-0x7dc+0x5*0xe0+0x37e]=_0x4744e3['bias'],_0x23d958[-0x2616+0x43a+0xd*0x29b]=(0xb78*-0x1+-0x18a*-0x17+-0x17ed)/_0x63a8f7['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x217b1c]['setValue'](_0x23d958),this['lightShado'+'wIntensity'][_0x217b1c]['setValue'](_0x63a8f7['shadowInte'+'nsity']);const _0x1ed081=_0x63a8f7['penumbraSi'+'ze']/_0x1c579b['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x2717fa=_0x1c579b['shadowCame'+'ra']['_fov']*Math['PI']/(0x2620+0x5*-0x69d+-0x45b*0x1),_0x4aa1a2=(-0x13cf+0x2f*-0x93+0x2ecd)/Math['tan'](_0x2717fa/(-0x1dbb+0x2632*0x1+-0x1*0x875));this['lightShado'+'wSearchAre'+'aId'][_0x217b1c]['setValue'](_0x1ed081*_0x4aa1a2);const _0x480217=_0x63a8f7['_shadowCam'+'eraParams'];_0x480217['length']=0x260+0x13*-0x68+0x55c,_0x480217[-0x109b+0x145*-0x1a+0x319d]=-0x7*0x463+0x1fdd+-0x128,_0x480217[0x2002+-0x1*-0x21d8+0x41d9*-0x1]=_0x1c579b['shadowCame'+'ra']['_farClip'],_0x480217[-0x950+-0xb53+0x14a5]=_0x1c579b['shadowCame'+'ra']['_nearClip'],_0x480217[-0x2b*-0xdb+0x1ed5*-0x1+0x3*-0x1fb]=0x58b+0x15*-0xd4+0xbd9,this['lightCamer'+'aParamsId'][_0x217b1c]['setValue'](_0x480217);}if(_0x63a8f7['_cookie']){if(!_0x63a8f7['castShadow'+'s']){const _0xe5085=Wn['evalSpotCo'+'okieMatrix'](_0x63a8f7);this['lightShado'+'wMatrixId'][_0x217b1c]['setValue'](_0xe5085['data']);}this['lightCooki'+'eId'][_0x217b1c]['setValue'](_0x63a8f7['_cookie']),this['lightCooki'+'eIntId'][_0x217b1c]['setValue'](_0x63a8f7['cookieInte'+'nsity']),_0x63a8f7['_cookieTra'+'nsform']&&(_0x63a8f7['_cookieTra'+'nsformUnif'+'orm'][-0x99d*0x1+0x6c*-0x8+-0x13*-0xaf]=_0x63a8f7['_cookieTra'+'nsform']['x'],_0x63a8f7['_cookieTra'+'nsformUnif'+'orm'][-0x3c5+-0x18ff+0x5c1*0x5]=_0x63a8f7['_cookieTra'+'nsform']['y'],_0x63a8f7['_cookieTra'+'nsformUnif'+'orm'][-0x18bb+0x14a0+0x41d]=_0x63a8f7['_cookieTra'+'nsform']['z'],_0x63a8f7['_cookieTra'+'nsformUnif'+'orm'][-0x8*-0x1bd+-0x1a27+0x2*0x621]=_0x63a8f7['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x217b1c]['setValue'](_0x63a8f7['_cookieTra'+'nsformUnif'+'orm']),_0x63a8f7['_cookieOff'+'setUniform'][-0xe5d*0x1+-0x3*-0xb10+0x1*-0x12d3]=_0x63a8f7['_cookieOff'+'set']['x'],_0x63a8f7['_cookieOff'+'setUniform'][-0x12*0x213+0x1*0x1a17+0x1e*0x60]=_0x63a8f7['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x217b1c]['setValue'](_0x63a8f7['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x56ca8a,_0x55dcb2,_0x4bfbef){let _0x330489=_0x4bfbef;const _0x108b16=this['device']['scope'],_0x2471d4=_0x56ca8a[Ke],_0x25aba2=_0x2471d4['length'];for(let _0x3d5c73=-0x82d+0xa7a+-0x24d;_0x3d5c73<_0x25aba2;_0x3d5c73++){const _0x514f6c=_0x2471d4[_0x3d5c73];_0x514f6c['mask']&_0x55dcb2&&(this['dispatchOm'+'niLight'](_0x108b16,_0x514f6c,_0x330489),_0x330489++);}const _0x2dde67=_0x56ca8a[Ze],_0x81d01=_0x2dde67['length'];for(let _0x5cbf79=0x20b8+0xb02+-0x2bba;_0x5cbf79<_0x81d01;_0x5cbf79++){const _0x58e347=_0x2dde67[_0x5cbf79];_0x58e347['mask']&_0x55dcb2&&(this['dispatchSp'+'otLight'](_0x108b16,_0x58e347,_0x330489),_0x330489++);}}['renderForw'+'ardPrepare'+'Materials'](_0x299363,_0x544d0f,_0xe66397,_0x5eff3f,_0x421612,_0x5d69d1){const _0x228868=_0x299363['fogParams']??this['scene']['fog'],_0x1ea1a0=_0x299363['shaderPara'+'ms'];_0x1ea1a0['fog']=_0x228868['type'],_0x1ea1a0['srgbRender'+'Target']=(_0x544d0f==null?void(0x20d9+0x1*0x3a9+0x1*-0x2482):_0x544d0f['isColorBuf'+'ferSrgb'](-0x64b+-0x750+0xd9b))??!(-0x1a0f+0x1*-0x1471+-0x1*-0x2e81);const _0x3f6af9=(_0x4dca90,_0x4acd85,_0x5df418,_0x40e42f)=>{Nr['drawCalls']['push'](_0x4dca90),Nr['shaderInst'+'ances']['push'](_0x4acd85),Nr['isNewMater'+'ial']['push'](_0x5df418),Nr['lightMaskC'+'hanged']['push'](_0x40e42f);};Nr['clear']();const _0x1e33f1=this['device'],_0x4affb1=this['scene'],_0x4d7ffa=_0x4affb1['clusteredL'+'ightingEna'+'bled'],_0x52a5bd=(_0x421612==null?void(-0x258+0x6*-0x290+0x11b8):_0x421612['getLightHa'+'sh'](_0x4d7ffa))??-0x3d7+0x1c6c+-0xcb*0x1f;let _0x310d6a=null,_0x32e0a7,_0x4af037;const _0x4c62ee=_0xe66397['length'];for(let _0x196ec6=0x12c7+-0x1*-0x154d+-0x2814;_0x196ec6<_0x4c62ee;_0x196ec6++){const _0x4729c2=_0xe66397[_0x196ec6];if(_0x299363===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x421612){if(_0x421612['_skipRende'+'rCounter']>=_0x421612['skipRender'+'After'])continue;_0x421612['_skipRende'+'rCounter']++;}const _0x5a7efb=_0x4729c2['instancing'+'Data'];if(_0x5a7efb&&_0x5a7efb['count']<=0x1*0x1d2c+0x1*0x1249+-0x2f75)continue;_0x4729c2['ensureMate'+'rial'](_0x1e33f1);const _0x2332af=_0x4729c2['material'],_0x2cfa0e=_0x4729c2['_shaderDef'+'s'],_0x5af039=_0x4729c2['mask'];_0x2332af&&_0x2332af===_0x310d6a&&_0x2cfa0e!==_0x32e0a7&&(_0x310d6a=null),_0x2332af!==_0x310d6a&&(this['_materialS'+'witches']++,_0x2332af['_scene']=_0x4affb1,_0x2332af['dirty']&&(Q['pushGpuMar'+'ker'](_0x1e33f1,'Node:\x20'+_0x4729c2['node']['name']+(',\x20Material'+':\x20')+_0x2332af['name']),_0x2332af['updateUnif'+'orms'](_0x1e33f1,_0x4affb1),_0x2332af['dirty']=!(-0x2*0x2db+0x1*-0x178f+0x1d46),Q['popGpuMark'+'er'](_0x1e33f1)));const _0xbefb30=_0x4729c2['getShaderI'+'nstance'](_0x5d69d1,_0x52a5bd,_0x4affb1,_0x1ea1a0,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5eff3f);_0x3f6af9(_0x4729c2,_0xbefb30,_0x2332af!==_0x310d6a,!_0x310d6a||_0x5af039!==_0x4af037),_0x310d6a=_0x2332af,_0x32e0a7=_0x2cfa0e,_0x4af037=_0x5af039;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x2ff466,_0x3ae611,_0x5c9302,_0x291340,_0x227ed8,_0x1031b8,_0x4406cf){var _0xbece2d,_0x13a8a4;const _0x10f725=this['device'],_0x24bdca=this['scene'],_0xe91d4=0x15a9+0x135f*-0x2+0x1116<<_0x291340,_0x568551=_0x1031b8?-(-0x1b1d+0x110c+0xa12):0x151e+0x2f*-0x6d+-0x3*0x5e,_0x3f86d3=_0x24bdca['clusteredL'+'ightingEna'+'bled'],_0x1a9645=(_0xbece2d=_0x2ff466['xr'])!=null&&_0xbece2d['session']&&_0x2ff466['xr']['views']['list']['length']?_0x2ff466['xr']['views']['list']:null,_0x5b48f9=_0x3ae611['drawCalls']['length'];for(let _0x209030=0xf8*-0x2+0x8*-0x47+0x428;_0x209030<_0x5b48f9;_0x209030++){const _0x46bbed=_0x3ae611['drawCalls'][_0x209030],_0x2ce854=_0x3ae611['isNewMater'+'ial'][_0x209030],_0x25f2f7=_0x3ae611['lightMaskC'+'hanged'][_0x209030],_0x3fb9b6=_0x3ae611['shaderInst'+'ances'][_0x209030],_0xe35472=_0x46bbed['material'],_0x3a23da=_0x46bbed['mask'];if(_0x3fb9b6['shader']['failed'])continue;if(_0x2ce854){if(_0x10f725['setShader'](_0x3fb9b6['shader'],!(-0xecc*0x1+-0x1*-0x18a5+-0x9d8)),_0xe35472['setParamet'+'ers'](_0x10f725),_0x25f2f7){const _0x19350d=this['dispatchDi'+'rectLights'](_0x5c9302[ve],_0x3a23da,_0x2ff466);_0x3f86d3||this['dispatchLo'+'calLights'](_0x5c9302,_0x3a23da,_0x19350d);}this['alphaTestI'+'d']['setValue'](_0xe35472['alphaTest']),_0x10f725['setBlendSt'+'ate'](_0xe35472['blendState']),_0x10f725['setDepthSt'+'ate'](_0xe35472['depthState']),_0x10f725['setAlphaTo'+'Coverage'](_0xe35472['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x10f725,'Node:\x20'+_0x46bbed['node']['name']+(',\x20Material'+':\x20')+_0xe35472['name']),this['setupCullM'+'ode'](_0x2ff466['_cullFaces'],_0x568551,_0x46bbed);const _0x28c709=_0x46bbed['stencilFro'+'nt']??_0xe35472['stencilFro'+'nt'],_0x5891f5=_0x46bbed['stencilBac'+'k']??_0xe35472['stencilBac'+'k'];_0x10f725['setStencil'+'State'](_0x28c709,_0x5891f5),_0x46bbed['setParamet'+'ers'](_0x10f725,_0xe91d4),_0x10f725['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x46bbed['id']);const _0x301704=_0x46bbed['mesh'];this['setVertexB'+'uffers'](_0x10f725,_0x301704),this['setMorphin'+'g'](_0x10f725,_0x46bbed['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x10f725,_0x46bbed);const _0x1cbbe2=_0x46bbed['instancing'+'Data'];_0x1cbbe2&&_0x10f725['setVertexB'+'uffer'](_0x1cbbe2['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x46bbed,!(-0x17a9+0xc02+0xba7)),this['setupMeshU'+'niformBuff'+'ers'](_0x3fb9b6);const _0x277e6d=_0x46bbed['renderStyl'+'e'],_0x581cc1=_0x301704['indexBuffe'+'r'][_0x277e6d];_0x227ed8==null||_0x227ed8(_0x46bbed,_0x209030);const _0x1c7e22=(_0x13a8a4=_0x46bbed['indirectDa'+'ta'])==null?void(0x1*0x2489+-0x9c5+-0xd62*0x2):_0x13a8a4['get'](_0x2ff466);if(_0x1a9645)for(let _0x78f341=-0x5bd*0x1+0x156+0x7*0xa1;_0x78f341<_0x1a9645['length'];_0x78f341++){const _0xa3d65d=_0x1a9645[_0x78f341];if(_0x10f725['setViewpor'+'t'](_0xa3d65d['viewport']['x'],_0xa3d65d['viewport']['y'],_0xa3d65d['viewport']['z'],_0xa3d65d['viewport']['w']),_0x10f725['supportsUn'+'iformBuffe'+'rs']){const _0xf0575=_0x4406cf[_0x78f341];_0x10f725['setBindGro'+'up'](rl,_0xf0575);}else this['setupViewU'+'niforms'](_0xa3d65d,_0x78f341);const _0x297c5e=_0x78f341===0x1d8f+-0x85*-0xa+0x22c1*-0x1,_0xe1bdbf=_0x78f341===_0x1a9645['length']-(-0x1a0e+0x23*-0x44+0x235b);_0x10f725['draw'](_0x301704['primitive'][_0x277e6d],_0x581cc1,_0x1cbbe2==null?void(-0xa3d+-0x23aa+0x2de7):_0x1cbbe2['count'],_0x1c7e22,_0x297c5e,_0xe1bdbf),this['_forwardDr'+'awCalls']++,_0x46bbed['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x10f725['draw'](_0x301704['primitive'][_0x277e6d],_0x581cc1,_0x1cbbe2==null?void(0x26fd+-0x2169+0xcc*-0x7):_0x1cbbe2['count'],_0x1c7e22),this['_forwardDr'+'awCalls']++,_0x46bbed['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x209030<_0x5b48f9-(0x2*-0x271+0xe07+-0x924)&&!_0x3ae611['isNewMater'+'ial'][_0x209030+(0x13f2+0x1a6*0x1+-0x1597)]&&_0xe35472['setParamet'+'ers'](_0x10f725,_0x46bbed['parameters']),Q['popGpuMark'+'er'](_0x10f725);}}['renderForw'+'ard'](_0x24458e,_0x3f8bb3,_0x5b05d6,_0x162247,_0x55881f,_0x292c73,_0x163003,_0x443c00,_0x4a63bd){const _0x12973f=de(),_0x5e77c8=this['renderForw'+'ardPrepare'+'Materials'](_0x24458e,_0x3f8bb3,_0x5b05d6,_0x162247,_0x163003,_0x55881f);this['renderForw'+'ardInterna'+'l'](_0x24458e,_0x5e77c8,_0x162247,_0x55881f,_0x292c73,_0x443c00,_0x4a63bd),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x12973f;}['renderForw'+'ardLayer'](_0x47834f,_0x1bb5f6,_0x5ddb93,_0x11278a,_0x1abf26,_0x2f5bc7,_0x2c6c38={}){const {scene:_0x2bd73d,device:_0x4fa562}=this,_0x1cf500=_0x2bd73d['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x47834f,_0x1bb5f6);let _0x4d98df,_0x306bce;if(_0x5ddb93){const _0x2578b7=de();_0x5ddb93['sortVisibl'+'e'](_0x47834f,_0x11278a),this['_sortTime']+=de()-_0x2578b7;const _0x4ebacb=_0x5ddb93['getCulledI'+'nstances'](_0x47834f);_0x4d98df=_0x11278a?_0x4ebacb['transparen'+'t']:_0x4ebacb['opaque'],_0x2bd73d['immediate']['onPreRende'+'rLayer'](_0x5ddb93,_0x4d98df,_0x11278a),_0x5ddb93['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x2bd73d['ambientLig'+'ht'],_0x5ddb93['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x306bce=_0x5ddb93['splitLight'+'s'];}else _0x4d98df=_0x2c6c38['meshInstan'+'ces'],_0x306bce=_0x2c6c38['splitLight'+'s']??Qb;if(w['assert'](_0x4d98df,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x1cf500){const _0x1374ca=_0x2c6c38['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x1374ca['activate'](),_0x5ddb93&&!this['clustersDe'+'bugRendere'+'d']&&_0x2bd73d['lighting']['debugLayer']===_0x5ddb93['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x3*0xa+0x151+-0x16f),hu['render'](_0x1374ca,this['scene']));}_0x2bd73d['_activeCam'+'era']=_0x47834f;const _0x127e6a=_0x47834f['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x127e6a);const _0x4be9cc=this['setCameraU'+'niforms'](_0x47834f,_0x1bb5f6);_0x4fa562['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x2f5bc7,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4be9cc);const _0x4f4cae=_0x2c6c38['clearColor']??!(-0x15a6+0x2*0x847+-0x105*-0x5),_0x5abf24=_0x2c6c38['clearDepth']??!(-0x4*0x259+-0x5*-0x1c5+-0x4*-0x23),_0x78e3e=_0x2c6c38['clearStenc'+'il']??!(0x3*0xa2b+-0x36e*-0x1+-0x21ee*0x1);(_0x4f4cae||_0x5abf24||_0x78e3e)&&this['clear'](_0x47834f,_0x4f4cae,_0x5abf24,_0x78e3e);const _0x3f2151=!!(_0x47834f['_flipFaces']^(_0x1bb5f6==null?void(0x6a5+0x10c*0xa+-0x111d):_0x1bb5f6['flipY'])),_0x192138=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x47834f,_0x1bb5f6,_0x4d98df,_0x306bce,_0x1abf26,null,_0x5ddb93,_0x3f2151,_0x2f5bc7),_0x5ddb93&&(_0x5ddb93['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x192138);}['setFogCons'+'tants'](_0x43a04a){if(_0x43a04a['type']!==Kn){or['linear'](_0x43a04a['color']);const _0x27b4f9=this['fogColor'];_0x27b4f9[-0x920*0x4+-0x500+0x2980]=or['r'],_0x27b4f9[-0xa*0x149+0x1*0x2427+-0x174c]=or['g'],_0x27b4f9[0x16*0x1be+-0x792+0x20*-0xf6]=or['b'],this['fogColorId']['setValue'](_0x27b4f9),_0x43a04a['type']===Iw?(this['fogStartId']['setValue'](_0x43a04a['start']),this['fogEndId']['setValue'](_0x43a04a['end'])):this['fogDensity'+'Id']['setValue'](_0x43a04a['density']);}}['setSceneCo'+'nstants'](){const _0x4984ce=this['scene'];this['dispatchGl'+'obalLights'](_0x4984ce);const _0x38234e=this['device'];this['_screenSiz'+'e'][-0x2*0x10eb+-0x2*0x56a+0x2*0x1655]=_0x38234e['width'],this['_screenSiz'+'e'][-0x91f+-0x3eb*-0x7+-0x124d]=_0x38234e['height'],this['_screenSiz'+'e'][0xf*0xc1+0x89a+-0x5*0x3fb]=(-0x2ac+0x33*0x67+0x23b*-0x8)/_0x38234e['width'],this['_screenSiz'+'e'][0x1d*-0x149+-0xb6e+-0x30b6*-0x1]=(-0xb7b*-0x3+0x4*-0x709+-0x34*0x1f)/_0x38234e['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x2394ab,_0x2c9be5){const _0x33d749=this['scene'];if(_0x2394ab['reset'](),_0x33d749['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x129c8c,cookiesEnabled:_0x38abc4}=_0x33d749['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x2394ab,_0x129c8c,_0x38abc4,this['lights'],this['localLight'+'s']),_0x2394ab['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x2394ab,this['localLight'+'s']);let _0x4b1ced=-0xa59+0x1e0+0x879*0x1,_0x564db9=!(-0x2b6*-0x4+0x1d*0xdf+-0xed*0x27),_0x4c0334=null;const _0x8b26fe=_0x2c9be5['_renderAct'+'ions'];for(let _0x8dfa99=_0x4b1ced;_0x8dfa99<_0x8b26fe['length'];_0x8dfa99++){const _0x5477d6=_0x8b26fe[_0x8dfa99],{layer:_0x27409c,camera:_0x594a35}=_0x5477d6;if(_0x5477d6['useCameraP'+'asses'])w['call'](()=>{_0x594a35['postEffect'+'s']['effects']['length']>-0x3c5*-0x1+0xcd9+-0x1*0x109e&&w['warnOnce']('Camera\x20\x27'+_0x594a35['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x594a35['camera']['renderPass'+'es']['forEach'](_0x3b0ce3=>{_0x2394ab['addRenderP'+'ass'](_0x3b0ce3);});else{const _0x396e31=_0x27409c['id']===ps,_0x34896e=_0x396e31&&(_0x594a35['renderScen'+'eColorMap']||_0x594a35['renderScen'+'eDepthMap']);_0x564db9&&(_0x564db9=!(0x2618+0x1d*-0x43+-0x1e80),_0x4b1ced=_0x8dfa99,_0x4c0334=_0x5477d6['renderTarg'+'et']);const _0x4d3a5a=_0x8b26fe[_0x8dfa99+(-0x1d5f*0x1+-0x12b4+-0x16a*-0x22)],_0x18a4a0=(_0x4d3a5a?!_0x4d3a5a['useCameraP'+'asses']&&_0x4d3a5a['layer']['id']===ps:!(0x1949*-0x1+-0x133*0x1d+-0x3c11*-0x1))&&(_0x594a35['renderScen'+'eColorMap']||_0x594a35['renderScen'+'eDepthMap']),_0x29c021=_0x4d3a5a?_0x4d3a5a['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x4d3a5a['camera']['camera']):!(0x86*0x1b+-0x1*-0x1d23+-0x2b44);if(!_0x4d3a5a||_0x4d3a5a['renderTarg'+'et']!==_0x4c0334||_0x29c021||_0x18a4a0||_0x34896e){if(_0x396e31&&_0x4b1ced===_0x8dfa99||this['addMainRen'+'derPass'](_0x2394ab,_0x2c9be5,_0x4c0334,_0x4b1ced,_0x8dfa99),_0x396e31){if(_0x594a35['renderScen'+'eColorMap']){const _0x35ab9c=_0x594a35['camera']['renderPass'+'ColorGrab'];_0x35ab9c['source']=_0x594a35['renderTarg'+'et'],_0x2394ab['addRenderP'+'ass'](_0x35ab9c);}_0x594a35['renderScen'+'eDepthMap']&&_0x2394ab['addRenderP'+'ass'](_0x594a35['camera']['renderPass'+'DepthGrab']);}if(_0x5477d6['triggerPos'+'tprocess']&&(_0x594a35!=null&&_0x594a35['onPostproc'+'essing'])){const _0x105120=new Zb(this['device'],this,_0x5477d6);_0x2394ab['addRenderP'+'ass'](_0x105120);}_0x564db9=!(-0x67f*-0x2+-0x1*0x1c33+0xf35);}}}}['addMainRen'+'derPass'](_0xa0da2f,_0x4872d4,_0x3949e3,_0x1e2f6e,_0xc438ba){const _0xdbc00f=new Kb(this['device'],_0x4872d4,this['scene'],this);_0xdbc00f['init'](_0x3949e3);const _0x6616a2=_0x4872d4['_renderAct'+'ions'];for(let _0x55c0a1=_0x1e2f6e;_0x55c0a1<=_0xc438ba;_0x55c0a1++)_0xdbc00f['addRenderA'+'ction'](_0x6616a2[_0x55c0a1]);_0xa0da2f['addRenderP'+'ass'](_0xdbc00f);}['update'](_0x1f5f57){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x1f5f57),this['collectLig'+'hts'](_0x1f5f57),this['beginFrame'](_0x1f5f57),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x1f5f57),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x1*0xf24+0xd2+-0x6*0x2a9),h(Ni,'skipRender'+'After',-0x89*-0x33+-0xed0+-0xc7b);let fl=Ni,uf=0x12cd*-0x1+0x1*-0x267b+0x3948;const co=[],hc=new Set();function tA(_0x2c960e,_0x4e8294){return _0x2c960e['drawOrder']-_0x4e8294['drawOrder'];}function sA(_0x121863,_0x43f943){const _0x1707c4=_0x121863['_sortKeyFo'+'rward'],_0x565ead=_0x43f943['_sortKeyFo'+'rward'];return _0x1707c4===_0x565ead?_0x43f943['mesh']['id']-_0x121863['mesh']['id']:_0x565ead-_0x1707c4;}function iA(_0x5c04ea,_0x59c359){return _0x59c359['_sortKeyDy'+'namic']-_0x5c04ea['_sortKeyDy'+'namic'];}function rA(_0x45e9ea,_0x1b0632){return _0x45e9ea['_sortKeyDy'+'namic']-_0x1b0632['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x22433e={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0x14f4+0x1ab1+-0x2fa5)),h(this,'requiresLi'+'ghtCube',!(-0x4*0x808+-0xdf6+0xf5d*0x3)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x26*-0x66+0x1a83+-0x1e*0x61)),(_0x22433e['id']!==void(0x2*-0x106d+0x11*0x14d+0xabd)?(this['id']=_0x22433e['id'],uf=Math['max'](this['id']+(0x1e5f+0x3d*0x2b+-0x119*0x25),uf)):this['id']=uf++,this['name']=_0x22433e['name'],this['_enabled']=_0x22433e['enabled']??!(-0x8*0x87+0x240d+0x119*-0x1d),this['_refCounte'+'r']=this['_enabled']?-0x22a8+0x1921+0x988:-0x1*0x24b5+-0x253f+0x49f4,this['opaqueSort'+'Mode']=_0x22433e['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x22433e['transparen'+'tSortMode']??m_,_0x22433e['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x22433e['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x22433e['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x22433e['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x22433e['clearStenc'+'ilBuffer'],this['onEnable']=_0x22433e['onEnable'],this['onDisable']=_0x22433e['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x2b*0x65+-0x6e2*-0x2+0x333,this['_lightHash'+'Dirty']=!(0x42*0x11+0x32*0x4f+-0x13cf),this['_lightIdHa'+'sh']=0x259d*0x1+-0x3d1+-0x21cc,this['_lightIdHa'+'shDirty']=!(0x1da8+0x17*-0x90+-0xb*0x185),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x22*0x14+0x581+-0x2d9,this['_renderTim'+'e']=-0x43*-0x79+-0x9*-0x445+-0x4618,this['_forwardDr'+'awCalls']=0x587*-0x3+0x885+-0xac*-0xc,this['_shadowDra'+'wCalls']=-0x44*-0x86+-0x2d3+-0x20c5*0x1,this['_shaderVer'+'sion']=-(0x1*0x1aad+-0x118c*0x1+-0x920));}set['enabled'](_0x4ee501){_0x4ee501!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x217c+-0x440+0x1d3c*-0x1),this['_enabled']=_0x4ee501,_0x4ee501?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x41949a){this['_clearColo'+'rBuffer']=_0x41949a,this['_dirtyComp'+'osition']=!(0x349+-0xbf*0xa+-0x42d*-0x1);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x3728){this['_clearDept'+'hBuffer']=_0x3728,this['_dirtyComp'+'osition']=!(-0x2613+-0x1*0x1d96+0x43a9*0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0xa2d07d){this['_clearSten'+'cilBuffer']=_0xa2d07d,this['_dirtyComp'+'osition']=!(-0xb62+0x1*0x20b6+-0x1554);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1658*-0x1+0x1e12+-0x346a;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x1f24+-0xd0f*0x1+0x2c33&&(this['_enabled']=!(0x5*-0x323+-0x23*-0x60+0x5*0x83),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x17*0x45+0x2*0x1051+-0x26d4*0x1)this['_enabled']=!(-0x260f+0x721+-0x1eef*-0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x2256+-0x2a*-0xc+0x205e*0x1){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x10e461,_0x14fdcf){const _0x778bd0=this['meshInstan'+'ces'],_0x5da11c=this['meshInstan'+'cesSet'];for(let _0x524ead=0x5*0x747+0x73+-0xa*0x3af;_0x524ead<_0x10e461['length'];_0x524ead++){const _0x4496ef=_0x10e461[_0x524ead];_0x5da11c['has'](_0x4496ef)||(_0x778bd0['push'](_0x4496ef),_0x5da11c['add'](_0x4496ef),hc['add'](_0x4496ef['material']));}if(_0x14fdcf||this['addShadowC'+'asters'](_0x10e461),hc['size']>-0x1bbd+0x183c+0x381){const _0x4b4f22=this['_shaderVer'+'sion'];hc['forEach'](_0x38183d=>{_0x4b4f22>=-0x1*-0x4e6+-0x34*-0xbf+-0x2bb2&&_0x38183d['_shaderVer'+'sion']!==_0x4b4f22&&(_0x38183d['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x38183d['clearVaria'+'nts'](),_0x38183d['_shaderVer'+'sion']=_0x4b4f22);}),hc['clear']();}}['removeMesh'+'Instances'](_0x21324d,_0x5f2b5d){const _0x4924cf=this['meshInstan'+'ces'],_0x16490f=this['meshInstan'+'cesSet'];for(let _0x2a3994=-0xb5d*-0x2+0x95*-0xb+-0x1053;_0x2a3994<_0x21324d['length'];_0x2a3994++){const _0x58c1f4=_0x21324d[_0x2a3994];if(_0x16490f['has'](_0x58c1f4)){_0x16490f['delete'](_0x58c1f4);const _0x110f33=_0x4924cf['indexOf'](_0x58c1f4);_0x110f33>=-0x2*0x10fa+0x1*0xb92+0x1662&&_0x4924cf['splice'](_0x110f33,0x427*0x2+0x6*-0x348+0xb63);}}_0x5f2b5d||this['removeShad'+'owCasters'](_0x21324d);}['addShadowC'+'asters'](_0xc4960b){const _0x2bf73b=this['shadowCast'+'ers'],_0x5d3b73=this['shadowCast'+'ersSet'];for(let _0x1f1c5e=0xcfa*-0x1+-0x1*-0x1f7+0xb03;_0x1f1c5e<_0xc4960b['length'];_0x1f1c5e++){const _0x5c5b09=_0xc4960b[_0x1f1c5e];_0x5c5b09['castShadow']&&!_0x5d3b73['has'](_0x5c5b09)&&(_0x5d3b73['add'](_0x5c5b09),_0x2bf73b['push'](_0x5c5b09));}}['removeShad'+'owCasters'](_0x12c20a){const _0x2a23ee=this['shadowCast'+'ers'],_0x4f47d4=this['shadowCast'+'ersSet'];for(let _0x1de209=-0x1436+-0x783+0x1bb9;_0x1de209<_0x12c20a['length'];_0x1de209++){const _0x5c520e=_0x12c20a[_0x1de209];if(_0x4f47d4['has'](_0x5c520e)){_0x4f47d4['delete'](_0x5c520e);const _0x1e09f5=_0x2a23ee['indexOf'](_0x5c520e);_0x1e09f5>=-0x2*-0x2bd+0xbd3*0x3+-0x28f3&&_0x2a23ee['splice'](_0x1e09f5,0x1*0x15c5+0x2535+0x1f*-0x1e7);}}}['clearMeshI'+'nstances'](_0x485324=!(0x25db+0x219c+0x17d2*-0x3)){this['meshInstan'+'ces']['length']=0x1*-0x359+-0xf*-0x59+-0x2*0xef,this['meshInstan'+'cesSet']['clear'](),_0x485324||(this['shadowCast'+'ers']['length']=-0x2*-0x5fb+0x511+-0x1107,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x46f+0x72a+-0x2bb),this['_lightIdHa'+'shDirty']=!(0x35a*0x5+0x2*-0xa2+-0xf7e*0x1),this['_splitLigh'+'tsDirty']=!(0x1127*0x1+-0x26*-0xc1+-0x1*0x2dcd);}['hasLight'](_0x1e59a1){return this['_lightsSet']['has'](_0x1e59a1);}['addLight'](_0x502dae){const _0x5dace5=_0x502dae['light'];this['_lightsSet']['has'](_0x5dace5)||(this['_lightsSet']['add'](_0x5dace5),this['_lights']['push'](_0x5dace5),this['markLights'+'Dirty']()),_0x5dace5['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x5dace5);}['removeLigh'+'t'](_0x46f420){const _0xfad9fc=_0x46f420['light'];this['_lightsSet']['has'](_0xfad9fc)&&(this['_lightsSet']['delete'](_0xfad9fc),this['_lights']['splice'](this['_lights']['indexOf'](_0xfad9fc),-0x2*0x1241+0x148+0x233b),this['markLights'+'Dirty']()),_0xfad9fc['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0xfad9fc);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x3fdc85=>_0x3fdc85['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0xf7f+0x1*0x1d69+-0x1*0xdea,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x80f+-0x28c*-0xd+-0x1c*0xe5);const _0x55bc0b=this['_splitLigh'+'ts'];for(let _0x1d19dd=0x155e+0x76*0x29+-0x2844;_0x1d19dd<_0x55bc0b['length'];_0x1d19dd++)_0x55bc0b[_0x1d19dd]['length']=-0x20f0+-0x56d+0x265d;const _0x378de8=this['_lights'];for(let _0x2602d8=-0x18*0x1+-0x1d3*-0xe+0x1972*-0x1;_0x2602d8<_0x378de8['length'];_0x2602d8++){const _0x8ddf05=_0x378de8[_0x2602d8];_0x8ddf05['enabled']&&_0x55bc0b[_0x8ddf05['_type']]['push'](_0x8ddf05);}for(let _0x32ddab=0x1*-0x139f+-0x1*0x213d+-0xc7*-0x44;_0x32ddab<_0x55bc0b['length'];_0x32ddab++)_0x55bc0b[_0x32ddab]['sort']((_0x1181af,_0x6217e7)=>_0x1181af['key']-_0x6217e7['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x4aecf6,_0x340f95,_0x269717){let _0x57a8bd=0x581*-0x5+0x7f*-0x8+0x1f7d;const _0x749140=this['_lights'];for(let _0x72cad=-0x15b8+0x1*-0x25a8+0x3b60;_0x72cad<_0x749140['length'];_0x72cad++){const _0x49b212=_0x749140[_0x72cad]['type']!==ve;(_0x4aecf6&&_0x49b212||_0x340f95&&!_0x49b212)&&co['push'](_0x269717?_0x749140[_0x72cad]['id']:_0x749140[_0x72cad]['key']);}return co['length']>0x1b1e+-0x21f8+0x6da&&(co['sort'](),_0x57a8bd=By(co),co['length']=-0xa52*-0x3+-0x1*0x107b+-0x151*0xb),_0x57a8bd;}['getLightHa'+'sh'](_0x48a245){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x1821*-0x1+-0x26e4+0x1f83*0x2),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x48a245,!(0xbfb+0x16f4+-0x32d*0xb),!(0x1ab0+-0xffd*0x1+-0xab2))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x1*-0x2253+0x2271+-0x1d),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*-0x5a6+-0x4eb*-0x6+-0x2328),!(0x5ab+-0x1eb6+-0x4*-0x643),!(-0x1*-0xb1+0x252+-0x303))),this['_lightIdHa'+'sh'];}['addCamera'](_0x176769){this['camerasSet']['has'](_0x176769['camera'])||(this['camerasSet']['add'](_0x176769['camera']),this['cameras']['push'](_0x176769),this['_dirtyComp'+'osition']=!(0x2190+0x15de+-0x376e));}['removeCame'+'ra'](_0x8d6b0f){if(this['camerasSet']['has'](_0x8d6b0f['camera'])){this['camerasSet']['delete'](_0x8d6b0f['camera']);const _0x50f460=this['cameras']['indexOf'](_0x8d6b0f);this['cameras']['splice'](_0x50f460,0x2670+-0x2c*-0x6+-0x1*0x2777),this['_dirtyComp'+'osition']=!(0x1*-0x1b7f+0x35b*0x3+0x1*0x116e);}}['clearCamer'+'as'](){this['cameras']['length']=-0x15*-0x1b1+0x156b+-0xe3c*0x4,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x2b2+-0x6*0x2d1+0xe34);}['_calculate'+'SortDistan'+'ces'](_0x1d1873,_0x5303f2,_0x4c1d22){const _0x2758ad=_0x1d1873['length'],{x:_0x328aaf,y:_0x5eaa27,z:_0x3b3d1f}=_0x5303f2,{x:_0x1c6050,y:_0x24a648,z:_0x2a76c0}=_0x4c1d22;for(let _0x138b2d=-0x881*-0x1+0xd45+0x2*-0xae3;_0x138b2d<_0x2758ad;_0x138b2d++){const _0x44c4f9=_0x1d1873[_0x138b2d];let _0x206ad3;if(_0x44c4f9['calculateS'+'ortDistanc'+'e'])_0x206ad3=_0x44c4f9['calculateS'+'ortDistanc'+'e'](_0x44c4f9,_0x5303f2,_0x4c1d22);else{const _0x58d3f8=_0x44c4f9['aabb']['center'];_0x206ad3=(_0x58d3f8['x']-_0x328aaf)*_0x1c6050+(_0x58d3f8['y']-_0x5eaa27)*_0x24a648+(_0x58d3f8['z']-_0x3b3d1f)*_0x2a76c0;}const _0x6e8c1f=_0x44c4f9['_drawBucke'+'t']*(0x5*0x9e5c625+-0x26af7b45+-0x2ee*-0x10a86a);_0x44c4f9['_sortKeyDy'+'namic']=_0x6e8c1f+_0x206ad3;}}['getCulledI'+'nstances'](_0x3cb637){let _0x5a4d90=this['_visibleIn'+'stances']['get'](_0x3cb637);return _0x5a4d90||(_0x5a4d90=new nA(),this['_visibleIn'+'stances']['set'](_0x3cb637,_0x5a4d90)),_0x5a4d90;}['sortVisibl'+'e'](_0x31abdd,_0x413973){const _0xac89bf=_0x413973?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0xac89bf===Yc)return;const _0x124d73=this['getCulledI'+'nstances'](_0x31abdd),_0xfed2ac=_0x413973?_0x124d73['transparen'+'t']:_0x124d73['opaque'],_0x5eb22a=_0x31abdd['node'];if(_0xac89bf===Zw){const _0x1e9580=_0x5eb22a['getPositio'+'n'](),_0x576201=_0x5eb22a['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0xfed2ac,_0xfed2ac['length'],_0x1e9580,_0x576201),this['customSort'+'Callback']&&_0xfed2ac['sort'](this['customSort'+'Callback']);}else{if(_0xac89bf===m_||_0xac89bf===Kw){const _0x2a9c93=_0x5eb22a['getPositio'+'n'](),_0x1b683e=_0x5eb22a['forward'];this['_calculate'+'SortDistan'+'ces'](_0xfed2ac,_0x2a9c93,_0x1b683e);}_0xfed2ac['sort'](aA[_0xac89bf]);}}}const oA=(_0x3c085d,_0x1e13e1)=>_0x3c085d['priority']-_0x1e13e1['priority'],ul=_0x545f05=>_0x545f05['sort'](oA);class du extends me{constructor(_0x144835='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x2*-0xdab+-0x2155+0x600)),(this['name']=_0x144835,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x129b67=>_0x129b67['destroy']()),this['_renderAct'+'ions']['length']=-0x5ba+-0x1c25+-0x29b*-0xd;}['markDirty'](){this['_dirty']=!(-0x33*-0xb3+-0x11b6*-0x2+-0x4715);}['_update'](){const _0x3dd545=this['layerList']['length'];if(!this['_dirty']){for(let _0x57453a=-0x9c7+0x1c*-0x10a+-0xcf5*-0x3;_0x57453a<_0x3dd545;_0x57453a++)if(this['layerList'][_0x57453a]['_dirtyComp'+'osition']){this['_dirty']=!(0x25*0x3+-0x1b30+0x1ac1);break;}}if(this['_dirty']){this['_dirty']=!(0x17ab+-0xbc*0x16+0x2*-0x3c1),this['cameras']['length']=0x166*-0x7+-0x1*-0x178+0x163*0x6;for(let _0x3311b0=-0x33*-0x4e+0xd59+-0x3*0x9a1;_0x3311b0<_0x3dd545;_0x3311b0++){const _0x393745=this['layerList'][_0x3311b0];_0x393745['_dirtyComp'+'osition']=!(-0x105+0x4cd+-0x3c7);for(let _0x260576=0x596+0x5*-0x5e6+-0x5a*-0x44;_0x260576<_0x393745['cameras']['length'];_0x260576++){const _0x24943f=_0x393745['cameras'][_0x260576];this['cameras']['indexOf'](_0x24943f)<-0xcb5*0x3+-0x1fc5+0x45e4&&this['cameras']['push'](_0x24943f);}}this['cameras']['length']>0x21*0xdf+0x3f1+-0x20af&&ul(this['cameras']);let _0x3b2f30=0x884*0x3+-0x1590*0x1+-0x14*0x33;this['destroyRen'+'derActions']();for(let _0x40b647=-0x44b+-0x1343*-0x2+0xb69*-0x3;_0x40b647<this['cameras']['length'];_0x40b647++){const _0x4177c8=this['cameras'][_0x40b647];if(_0x4177c8['camera']['renderPass'+'es']['length']>-0x26d+0xce8+-0xa7b){this['addDummyRe'+'nderAction'](_0x3b2f30,_0x4177c8),_0x3b2f30++;continue;}let _0x1c2c62=!(0x4*-0xe8+-0x1ac2+-0x1e62*-0x1);const _0x59cf54=_0x3b2f30;let _0xcf4c61=null,_0x118cb9=!(0xc*0x1d1+0x353*-0x4+-0x87f);for(let _0x4dcd79=-0x111f+-0xf2b*0x2+0x1*0x2f75;_0x4dcd79<_0x3dd545;_0x4dcd79++){const _0x210302=this['layerList'][_0x4dcd79];if(_0x210302['enabled']&&this['subLayerEn'+'abled'][_0x4dcd79]&&_0x210302['cameras']['length']>0x29*-0x4+-0x1b02*0x1+0x1ba6&&_0x4177c8['layers']['indexOf'](_0x210302['id'])>=0x231d*0x1+-0x7f*0x1c+0x1*-0x1539){!_0x118cb9&&_0x210302['id']===_0x4177c8['disablePos'+'tEffectsLa'+'yer']&&(_0x118cb9=!(-0xe*-0x18b+-0x3a6*-0x3+-0x208c),_0xcf4c61&&(_0xcf4c61['triggerPos'+'tprocess']=!(0x3*-0x87e+0x1*-0x1847+0x31c1)));const _0x175bb=this['subLayerLi'+'st'][_0x4dcd79];_0xcf4c61=this['addRenderA'+'ction'](_0x3b2f30,_0x210302,_0x175bb,_0x4177c8,_0x1c2c62,_0x118cb9),_0x3b2f30++,_0x1c2c62=!(-0x14d6+0x4*0x847+0x1*-0xc45);}}_0x59cf54<_0x3b2f30&&(_0xcf4c61['lastCamera'+'Use']=!(-0x8cd+-0x12f7+0x6f1*0x4)),!_0x118cb9&&_0xcf4c61&&(_0xcf4c61['triggerPos'+'tprocess']=!(-0x1257+0x2*0x1000+0xda9*-0x1)),_0x4177c8['renderTarg'+'et']&&_0x4177c8['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x59cf54-(0x50c+-0x25d3+0x1*0x20c8),_0x4177c8);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x58bc16){w['assert'](this['_renderAct'+'ions']['length']===_0x58bc16);const _0x3d3e1f=new Pv();return this['_renderAct'+'ions']['push'](_0x3d3e1f),_0x3d3e1f;}['addDummyRe'+'nderAction'](_0x177de9,_0x552235){const _0x36fab1=this['getNextRen'+'derAction'](_0x177de9);_0x36fab1['camera']=_0x552235,_0x36fab1['useCameraP'+'asses']=!(-0x1f0c+-0x1*0x199b+0x38a7);}['addRenderA'+'ction'](_0x5e32d1,_0xc74e59,_0x496634,_0x6b3834,_0x46344f,_0x3a04da){let _0x17f9e3=_0xc74e59['id']!==ps?_0x6b3834['renderTarg'+'et']:null,_0x29de3c=!(0x6*0x38f+-0x12e6+-0x273);const _0x369ae0=this['_renderAct'+'ions'];for(let _0x5103b3=_0x5e32d1-(0xb99+0x174f+-0x1*0x22e7);_0x5103b3>=-0xd*-0x26e+0x21a9+0x1*-0x413f;_0x5103b3--)if(_0x369ae0[_0x5103b3]['camera']===_0x6b3834&&_0x369ae0[_0x5103b3]['renderTarg'+'et']===_0x17f9e3){_0x29de3c=!(0xf10*-0x1+-0x1103+-0x1e3*-0x11);break;}_0x3a04da&&_0x6b3834['postEffect'+'sEnabled']&&(_0x17f9e3=null);const _0x163442=this['getNextRen'+'derAction'](_0x5e32d1);_0x163442['triggerPos'+'tprocess']=!(0xffa+-0x232c+0x1333*0x1),_0x163442['layer']=_0xc74e59,_0x163442['transparen'+'t']=_0x496634,_0x163442['camera']=_0x6b3834,_0x163442['renderTarg'+'et']=_0x17f9e3,_0x163442['firstCamer'+'aUse']=_0x46344f,_0x163442['lastCamera'+'Use']=!(-0x1330+0x7*-0xf9+0x1a00);const _0x3a6d67=_0x46344f||!_0x29de3c,_0x67afee=_0xc74e59['clearColor'+'Buffer']||_0xc74e59['clearDepth'+'Buffer']||_0xc74e59['clearStenc'+'ilBuffer'];return(_0x3a6d67||_0x67afee)&&_0x163442['setupClear'+'s'](_0x3a6d67?_0x6b3834:void(-0x55d*0x4+0xbf*-0x2b+-0xab5*-0x5),_0xc74e59),_0x163442;}['propagateR'+'enderTarge'+'t'](_0x540e52,_0x2e6af2){for(let _0x2ac3ae=_0x540e52;_0x2ac3ae>=0x13c7+0x1a50+-0x45*0xab;_0x2ac3ae--){const _0x33ee73=this['_renderAct'+'ions'][_0x2ac3ae],_0x3c2a43=_0x33ee73['layer'];if(_0x33ee73['renderTarg'+'et']&&_0x3c2a43['id']!==ps)break;if(_0x3c2a43['id']===ps)continue;if(_0x33ee73['useCameraP'+'asses'])break;const _0x450a49=_0x33ee73==null?void(0xf77+0x283+0x4e*-0x3b):_0x33ee73['camera']['camera'];if(_0x450a49&&(!_0x2e6af2['camera']['rect']['equals'](_0x450a49['rect'])||!_0x2e6af2['camera']['scissorRec'+'t']['equals'](_0x450a49['scissorRec'+'t'])))break;_0x33ee73['renderTarg'+'et']=_0x2e6af2['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x1c5395=0x1409+-0x337*0x9+0x11*0x86;_0x1c5395<this['_renderAct'+'ions']['length'];_0x1c5395++){const _0x417aab=this['_renderAct'+'ions'][_0x1c5395],_0x1ca17f=_0x417aab['camera'];if(_0x417aab['useCameraP'+'asses'])w['trace'](Vl,_0x1c5395+('CustomPass'+'es\x20Cam:\x20')+(_0x1ca17f?_0x1ca17f['entity']['name']:'-'));else{const _0x218f43=_0x417aab['layer'],_0x136372=_0x218f43['enabled']&&this['isEnabled'](_0x218f43,_0x417aab['transparen'+'t']),_0x281e9e=(_0x417aab['clearColor']?'Color\x20':'.....\x20')+(_0x417aab['clearDepth']?'Depth\x20':'.....\x20')+(_0x417aab['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x1c5395+('\x20Cam:\x20'+(_0x1ca17f?_0x1ca17f['entity']['name']:'-'))['padEnd'](0xd55+-0x2365+0x7*0x32a,'\x20')+('\x20Lay:\x20'+_0x218f43['name'])['padEnd'](-0x1ed1+0x1d58+-0x13*-0x15,'\x20')+(_0x417aab['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x136372?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x417aab['renderTarg'+'et']?_0x417aab['renderTarg'+'et']['name']:'-'))['padEnd'](-0x2*-0x629+-0xad0+-0x2*0xb2,'\x20')+'\x20Clear:\x20'+_0x281e9e+(_0x417aab['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x417aab['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x417aab['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x51ea22){const _0x2de5ee=this['layerIdMap']['get'](_0x51ea22['id'])===_0x51ea22;return w['assert'](!_0x2de5ee,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x51ea22['name']),_0x2de5ee;}['_isSublaye'+'rAdded'](_0x30487f,_0x2d761d){return(_0x2d761d?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x30487f)!==void(0x132d*0x1+-0x21ed+0x3b0*0x4)?(w['error']('Sublayer\x20'+_0x30487f['name']+(',\x20transpar'+'ent:\x20')+_0x2d761d+('\x20is\x20alread'+'y\x20added.')),!(0x6f5*-0x3+0x21a*0xb+-0x23f)):!(0x287*-0x1+0xc4b*0x1+0x1*-0x9c3);}['push'](_0x51f2a3){this['_isLayerAd'+'ded'](_0x51f2a3)||(this['layerList']['push'](_0x51f2a3),this['layerList']['push'](_0x51f2a3),this['_opaqueOrd'+'er'][_0x51f2a3['id']]=this['subLayerLi'+'st']['push'](!(-0x4be+0x908+-0x1*0x449))-(-0x1*0x16+0x1cc1+-0x1caa),this['_transpare'+'ntOrder'][_0x51f2a3['id']]=this['subLayerLi'+'st']['push'](!(-0x2184+0x393+0x1df1))-(-0x15*0x30+-0x1*0x113e+0x152f),this['subLayerEn'+'abled']['push'](!(-0x1*-0x9b6+0x2481+-0x2e37)),this['subLayerEn'+'abled']['push'](!(-0x89f+-0x1390+0x41*0x6f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1b*-0xc6+0x62c+-0x1b0e),this['fire']('add',_0x51f2a3));}['insert'](_0x35ef69,_0x18bb16){if(this['_isLayerAd'+'ded'](_0x35ef69))return;this['layerList']['splice'](_0x18bb16,0x2*0x43+-0x3*-0x50b+-0xfa7,_0x35ef69,_0x35ef69),this['subLayerLi'+'st']['splice'](_0x18bb16,-0x2c9+-0x4*-0x446+-0xe4f,!(0x1*0x17e7+-0x772*-0x4+-0x35ae),!(0x22a3+-0x2*0xa7c+-0xdab));const _0x3f27fe=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x18bb16,_0x3f27fe-(0x67*-0x4f+0x1ee3+-0x15*-0xb)),this['_updateTra'+'nsparentOr'+'der'](_0x18bb16,_0x3f27fe-(-0xf*0x59+-0x60d*-0x1+0xd5*-0x1)),this['subLayerEn'+'abled']['splice'](_0x18bb16,-0xf81+0x2d5*0x6+-0x17d,!(-0x2f5*-0x2+-0x1feb+0x1a01),!(-0x345+0x1f74+-0x1c2f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x7*0x2fb+0x541+0xf9c),this['fire']('add',_0x35ef69);}['remove'](_0x46d7b5){let _0x134eb1=this['layerList']['indexOf'](_0x46d7b5);for(delete this['_opaqueOrd'+'er'][_0x134eb1],delete this['_transpare'+'ntOrder'][_0x134eb1];_0x134eb1>=0x221c+0x4*-0x989+0x408;)this['layerList']['splice'](_0x134eb1,0x1b5c+-0x1*0xf77+-0xbe4),this['subLayerLi'+'st']['splice'](_0x134eb1,-0x2*-0x9b+0x3*-0xbfb+-0xab*-0x34),this['subLayerEn'+'abled']['splice'](_0x134eb1,0x1*0xecb+-0x6fd*0x1+-0x7cd),_0x134eb1=this['layerList']['indexOf'](_0x46d7b5),this['_dirty']=!(-0xb2*0x1+-0xa78+-0x2*-0x595),this['fire']('remove',_0x46d7b5);const _0x3bbe57=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1*-0x703+-0x56e*-0x3+0x19*-0x5f,_0x3bbe57-(-0x2595+-0x2*-0x15d+0x22dc)),this['_updateTra'+'nsparentOr'+'der'](0x1a4*0xb+-0x2515+0x1309,_0x3bbe57-(-0x1515+0x135c+0x1ba)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x1f8b60){this['_isSublaye'+'rAdded'](_0x1f8b60,!(-0x17ae+-0x34c+0x1afb*0x1))||(this['layerList']['push'](_0x1f8b60),this['_opaqueOrd'+'er'][_0x1f8b60['id']]=this['subLayerLi'+'st']['push'](!(0x59*-0x59+0xb36+0x13bc))-(-0x23ce+0x1db2+-0x5*-0x139),this['subLayerEn'+'abled']['push'](!(0x1*0x2635+-0xa07+-0x1c2e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x211e+0x1cd7+0x11*-0x3a5),this['fire']('add',_0x1f8b60));}['insertOpaq'+'ue'](_0x2b6757,_0x246445){if(this['_isSublaye'+'rAdded'](_0x2b6757,!(0x2701+-0x8be+-0xf21*0x2)))return;this['layerList']['splice'](_0x246445,-0x17a1+0x1f6a+-0x7c9*0x1,_0x2b6757),this['subLayerLi'+'st']['splice'](_0x246445,-0x1a6*0x15+-0xbcc*-0x1+0xb69*0x2,!(0x193*-0x2+-0x7d*0x13+0xc6e));const _0x2e88cc=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x246445,_0x2e88cc-(0x25e6+0x2701+0x2*-0x2673)),this['subLayerEn'+'abled']['splice'](_0x246445,-0xc85+0x1d*0x33+-0x2*-0x35f,!(0x2230+-0x11*0x166+-0xa6a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x52a*0x1+0x25d8+-0x2b02),this['fire']('add',_0x2b6757);}['removeOpaq'+'ue'](_0xd6eac6){for(let _0x3d272a=0x550+-0x1*-0xee3+-0x1433,_0x1f51a7=this['layerList']['length'];_0x3d272a<_0x1f51a7;_0x3d272a++)if(this['layerList'][_0x3d272a]===_0xd6eac6&&!this['subLayerLi'+'st'][_0x3d272a]){this['layerList']['splice'](_0x3d272a,-0x162d+-0x1*-0xd0c+0x922),this['subLayerLi'+'st']['splice'](_0x3d272a,-0xb*0x167+0x1570+0x2*-0x301),_0x1f51a7--,this['_updateOpa'+'queOrder'](_0x3d272a,_0x1f51a7-(0x9b*0x1f+0x52*0x2b+0xf5*-0x22)),this['subLayerEn'+'abled']['splice'](_0x3d272a,0x1*-0x20f3+-0x4a*0x1b+0x28c2),this['_dirty']=!(0x90e+0x213d+-0x2a4b),this['layerList']['indexOf'](_0xd6eac6)<-0x521*0x1+-0x11*0x65+0x1f9*0x6&&this['fire']('remove',_0xd6eac6);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x1e8c30){this['_isSublaye'+'rAdded'](_0x1e8c30,!(0x1f72+0x46d+0x23df*-0x1))||(this['layerList']['push'](_0x1e8c30),this['_transpare'+'ntOrder'][_0x1e8c30['id']]=this['subLayerLi'+'st']['push'](!(0x6a*0x5b+0xdcf*0x1+0x10d*-0x31))-(0xd4+-0x1f66+0x1e93),this['subLayerEn'+'abled']['push'](!(-0x12bd+-0x1*0x4d5+0x1af*0xe)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xd2+0x4*0x86c+0x259*-0xe),this['fire']('add',_0x1e8c30));}['insertTran'+'sparent'](_0x596cd0,_0xe47422){if(this['_isSublaye'+'rAdded'](_0x596cd0,!(0x9*0x26a+0x1a8e*-0x1+-0xce*-0x6)))return;this['layerList']['splice'](_0xe47422,-0x4*-0x39a+-0xf05*0x2+0xfa2,_0x596cd0),this['subLayerLi'+'st']['splice'](_0xe47422,0xfcf+-0xc3*-0x32+-0x35e5,!(-0x49*0x61+0x1*0x1f25+-0x37c));const _0xf968ca=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0xe47422,_0xf968ca-(-0x6f8+-0x24de*-0x1+-0x1de5)),this['subLayerEn'+'abled']['splice'](_0xe47422,-0x1*-0x1655+-0x1*0xfc7+-0x68e,!(0x1e81+0x1ec6+0x1*-0x3d47)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xc6b+0x2530+-0x11*0x175),this['fire']('add',_0x596cd0);}['removeTran'+'sparent'](_0x4b1584){for(let _0x5b083a=0x13f7+-0x108c+-0x7*0x7d,_0x455fe2=this['layerList']['length'];_0x5b083a<_0x455fe2;_0x5b083a++)if(this['layerList'][_0x5b083a]===_0x4b1584&&this['subLayerLi'+'st'][_0x5b083a]){this['layerList']['splice'](_0x5b083a,-0x1*-0x17bd+-0x3b*-0x57+-0x2bc9),this['subLayerLi'+'st']['splice'](_0x5b083a,0x5dd+0x20f8+-0x26d4),_0x455fe2--,this['_updateTra'+'nsparentOr'+'der'](_0x5b083a,_0x455fe2-(0x3*-0xc73+-0x6e*-0x3d+0xb24)),this['subLayerEn'+'abled']['splice'](_0x5b083a,0x141+0x22e8+0xb2*-0x34),this['_dirty']=!(0xf1c+-0x239f+0x1483),this['layerList']['indexOf'](_0x4b1584)<0x3d6+0x17b0+-0x1b86&&this['fire']('remove',_0x4b1584);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x264c50){return this['layerOpaqu'+'eIndexMap']['get'](_0x264c50)??-(0x1*-0xdc9+-0x1740+0x250a);}['getTranspa'+'rentIndex'](_0x52fdbe){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x52fdbe)??-(-0x1f91+-0x1dd6+-0x3*-0x1478);}['isEnabled'](_0x4437d0,_0x582e0d){if(_0x4437d0['enabled']){const _0x962d3d=_0x582e0d?this['getTranspa'+'rentIndex'](_0x4437d0):this['getOpaqueI'+'ndex'](_0x4437d0);if(_0x962d3d>=-0x6e6*0x2+-0x1367*0x1+0x2133*0x1)return this['subLayerEn'+'abled'][_0x962d3d];}return!(-0x1718+-0x3fe*0x7+0xb3*0x49);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xe8d55e=-0x1f10+-0x13c1+0x32d1;_0xe8d55e<this['layerList']['length'];_0xe8d55e++){const _0x46d402=this['layerList'][_0xe8d55e];this['layerIdMap']['set'](_0x46d402['id'],_0x46d402),this['layerNameM'+'ap']['set'](_0x46d402['name'],_0x46d402),(this['subLayerLi'+'st'][_0xe8d55e]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x46d402,_0xe8d55e);}}['getLayerBy'+'Id'](_0x33e604){return this['layerIdMap']['get'](_0x33e604)??null;}['getLayerBy'+'Name'](_0x21f52b){return this['layerNameM'+'ap']['get'](_0x21f52b)??null;}['_updateOpa'+'queOrder'](_0x5bf0dd,_0x16b77a){for(let _0x1604df=_0x5bf0dd;_0x1604df<=_0x16b77a;_0x1604df++)this['subLayerLi'+'st'][_0x1604df]===!(-0x30b*-0x5+-0x22e1*-0x1+-0x3217)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x1604df]['id']]=_0x1604df);}['_updateTra'+'nsparentOr'+'der'](_0x5da882,_0x416ecd){for(let _0x1115bc=_0x5da882;_0x1115bc<=_0x416ecd;_0x1115bc++)this['subLayerLi'+'st'][_0x1115bc]===!(0x15ed+0x1462+-0x1*0x2a4f)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x1115bc]['id']]=_0x1115bc);}['_sortLayer'+'sDescendin'+'g'](_0x2a1905,_0x340741,_0x171704){let _0x5bf598=-(-0x403+0x268b+-0x2287),_0xa7fb59=-(-0x256e+-0x269*-0x3+0x1e34);for(let _0x38e6a2=-0x1b44*-0x1+-0xe4f*-0x1+0x2993*-0x1,_0x2bc84c=_0x2a1905['length'];_0x38e6a2<_0x2bc84c;_0x38e6a2++){const _0x54b7f0=_0x2a1905[_0x38e6a2];_0x171704['hasOwnProp'+'erty'](_0x54b7f0)&&(_0x5bf598=Math['max'](_0x5bf598,_0x171704[_0x54b7f0]));}for(let _0x2c5810=0x622+-0x494+-0x1*0x18e,_0x24532a=_0x340741['length'];_0x2c5810<_0x24532a;_0x2c5810++){const _0x1d6458=_0x340741[_0x2c5810];_0x171704['hasOwnProp'+'erty'](_0x1d6458)&&(_0xa7fb59=Math['max'](_0xa7fb59,_0x171704[_0x1d6458]));}return _0x5bf598===-(0x5b5*0x1+-0x1*0xcc4+0x710)&&_0xa7fb59!==-(-0x23f1+0x1*0x9ff+0x19f3)?-0x17d0+-0x1c9a+-0xd5*-0x3f:_0xa7fb59===-(-0x1e8e+-0x161c+-0x1*-0x34ab)&&_0x5bf598!==-(-0x24dd+-0x1*0x407+0x13*0x227)?-(0x8b*-0xd+0x1c*-0x69+0x128c):_0xa7fb59-_0x5bf598;}['sortTransp'+'arentLayer'+'s'](_0x5c3067,_0x3997c3){return this['_sortLayer'+'sDescendin'+'g'](_0x5c3067,_0x3997c3,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4ec3ab,_0x5dc1b5){return this['_sortLayer'+'sDescendin'+'g'](_0x4ec3ab,_0x5dc1b5,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0x2601+-0x1*-0x10a8+-0x36a9,0x44*0x92+-0x25*-0xbd+-0x4219*0x1,-0x1f9*0x13+-0xcdd*0x1+0x3259,0x2429+0x1*-0x21fb+-0x22d)],[new re(-0x7*0x3f5+-0x11b1+0x2d64,-0x1390+0x1*0x382+0x19b*0xa,0x1d93*0x1+-0xe*-0x24d+-0x1*0x3dc9+0.5,0x9c1*0x3+0x9*-0x5+-0x92*0x33+0.5),new re(0x4f3+-0x48*0x1+0x4ab*-0x1,0x13cd+0x582+0x24d*-0xb+0.5,-0x1c53*-0x1+-0xe*-0x287+-0x3fb5+0.5,-0xbe1+-0x6ad+0x13*0xfa+0.5)],[new re(-0xd28+0x174c+0x3b*-0x2c,-0xe00+0x283*-0x5+0x1a8f,0x1*0x56b+0x3*0x4f7+-0x1450+0.5,-0x109b+-0xb7e*0x2+0x2797+0.5),new re(0x1*0x23bf+0x512*0x5+-0x3d19,-0x1d58+-0x1a44+0x379c+0.5,-0x37*-0xa+0x1256+-0x8a*0x26+0.5,0x1857+0xd89+-0x12f0*0x2+0.5),new re(-0x277*-0x1+-0x4fe+0x1*0x287+0.5,-0x1*-0x86+0x131d+-0xb*0x1c9,0x1a9f+-0x1ade+-0x1*-0x3f+0.5,0x98a+-0x1b20+-0x1196*-0x1+0.5)],[new re(0x1*-0x25d3+0xa94*0x2+-0xfb*-0x11,-0x1*-0xda7+-0x217+-0xb90,-0x15*-0x4+-0x1328+0x12d4+0.5,-0x4ca*-0x1+-0x9*0xc+-0x22f*0x2+0.5),new re(0x3b3*-0x1+0x1783*0x1+-0x13d0,0x41c+-0x373*0x1+0xd*-0xd+0.5,0x1a05+0xcb6*-0x1+0xd4f*-0x1+0.5,0x1*-0x5f7+-0x6b7*0x3+0x2*0xd0e+0.5),new re(0x1*-0x35b+0xacc+0x771*-0x1+0.5,-0x72+-0x1e*-0x119+-0x207c,-0xd22+-0x3*0x607+0x1*0x1f37+0.5,0x4f*0x67+0x8*0x1e0+-0x2ec9+0.5),new re(-0x969+-0x64f*-0x2+0x1*-0x335+0.5,0x140*0x4+-0x1f31+0x3*0x8bb+0.5,0x1591+-0x432*-0x1+-0x1*0x19c3+0.5,-0x249a+0xef*-0x8+0x2c12+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x6ac+-0x12b8+0x1964;class dA{constructor(_0x46c5e7,_0x195947,_0xbcb49b){this['light']=_0xbcb49b,this['camera']=_0x46c5e7,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0xbcb49b['_shadowTyp'+'e'],_0xbcb49b['_type'],_0x195947),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(-0x1*0x1d48+0x2e9+0x1a5f,0x437*-0x5+0xe1+0x1432*0x1,-0xb*-0x321+-0x1ddc+-0x48e,-0x3*-0x9d+0x337+-0x50d),this['shadowScis'+'sor']=new re(-0x12cd*-0x1+0x1ba3+0x8*-0x5ce,0x2*-0x15b+0x17de+0x1528*-0x1,0x21cc+0x1f25+-0x40f0,-0x71f+0x49e*-0x3+0x14fa),this['projection'+'Compensati'+'on']=-0x4e3+-0x33d*0x1+0x820,this['face']=_0x195947,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2bf904=>{_0x2bf904['defaultUni'+'formBuffer']['destroy'](),_0x2bf904['destroy']();}),this['viewBindGr'+'oups']['length']=-0x5*0x4c1+-0x1*0xece+0x1*0x2693;}get['shadowBuff'+'er'](){const _0x1215e2=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x1215e2?this['light']['_isPcf']?_0x1215e2['depthBuffe'+'r']:_0x1215e2['colorBuffe'+'r']:null;}}class pl{constructor(_0x129e32,_0x5c7f27){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0xcc*-0x1d+-0x4f3+0x1c0f),h(this,'clusteredD'+'ata',new Uint32Array(-0x10*0x7c+0x140b+0x418*-0x3)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x129e32,this['clusteredL'+'ighting']=_0x5c7f27,this['id']=hA++,this['_evtDevice'+'Restored']=_0x129e32['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x2*0xb07+0x2*-0x1253+0x3ab4+0.8,-0x2*-0x1343+0xefd+0x7*-0x7a5+0.8,-0x329*-0x1+-0x6*-0x1c5+0xdc7*-0x1+0.8),this['_intensity']=0x1*0x21a7+-0x2543*-0x1+0x3*-0x17a3,this['_affectSpe'+'cularity']=!(0xb3b+-0x90+0xaab*-0x1),this['_luminance']=0x46b+-0xdab+-0x250*-0x4,this['_castShado'+'ws']=!(-0x1c8b+0x446+0x1846),this['_enabled']=!(-0x83*-0x13+0x3e*0xd+0x225*-0x6),this['_mask']=Ss,this['isStatic']=!(0x216a+0x1*-0x1833+-0x936),this['key']=-0x26da+0x2d7*0xc+0x2f*0x1a,this['bakeDir']=!(-0x42*0x5c+0xbb*-0x17+0x1*0x2885),this['bakeNumSam'+'ples']=-0x7*0xbf+0x114e+-0xc14,this['bakeArea']=-0x17d6+0x4e*-0x32+0x2712,this['attenuatio'+'nStart']=0x226+-0x2*0xece+0x1b80,this['attenuatio'+'nEnd']=-0x2329+0x4e0+0x1e53*0x1,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x13ca+0x5*0x2dd+0x584,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x54+-0x246+-0x53*-0x6+0.01)*(0x1*-0x263f+-0xe07+0x3446+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x109f+-0x2001+0x30a1,this['_cookieFal'+'loff']=!(-0x143f*0x1+0x91f+0xb20),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0xd90+-0x1007*-0x2+-0x2d9a),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x12*-0x1c1+0x2588+-0x4518),this['_cookieTra'+'nsformSet']=!(-0x1*-0x1a59+0xcee+-0x13a3*0x2),this['_cookieOff'+'setSet']=!(-0x1517+0x5ff*0x5+-0x8e3),this['_innerCone'+'Angle']=-0x1a5e+0x854+0x22*0x89,this['_outerCone'+'Angle']=-0x223f*-0x1+-0x233b+-0x1*-0x129,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x2132*0x1+-0x2357+0x2*0x2245,this['_cascadeBl'+'end']=0x2551*-0x1+0x121*0x17+0xb5a*0x1,this['cascadeDis'+'tribution']=0x120+0x3b0*0x2+-0x880+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0x21ab+-0x1*-0x1909+-0x259*0x19),this['_updateLin'+'earColor'](),this['_position']=new D(0x2e8*0x9+0x435+-0xa1f*0x3,-0xdcf+0x13ad+-0x5de*0x1,-0x1e52+0x1*0x2596+-0x744),this['_direction']=new D(-0xe28*-0x2+0x30a*0x9+-0x37aa,0xb57+-0x99+-0x6e*0x19,0x1eee+-0x269*0xd+-0x1*-0x67),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0xaec*-0x1+-0x114f+0x1cef)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1dc8+-0x749+0xc5b*0x3),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x1*-0x6c5+0x370+-0x13*-0x2f,this['_shadowRes'+'olution']=0x26aa+-0x1237*0x1+-0x1073,this['_shadowBia'+'s']=-(-0x734+-0x188b+0x1fbf+0.0005),this['_shadowInt'+'ensity']=0x5bc+-0x53*0x20+-0x1d*-0x29,this['_normalOff'+'setBias']=0xd3a*0x1+-0xbc2+-0x178,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0xd55+-0x1c37*-0x1+-0x298b),this['_isPcf']=!(-0x33*0x7d+-0xf76+0x285d*0x1),this['_softShado'+'wParams']=new Float32Array(0x1da7+0xed5+0x163c*-0x2),this['shadowSamp'+'les']=0x6c3*-0x1+0x1a7c+0x2cf*-0x7,this['shadowBloc'+'kerSamples']=0x7ee+0x1e57+0x2635*-0x1,this['penumbraSi'+'ze']=0x6*-0x471+0x1*-0x79f+-0x52*-0x6b,this['penumbraFa'+'lloff']=0x32a+-0x22*0x60+0x997,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xf69+-0x2339+-0x95*-0x57),this['atlasVersi'+'on']=0x1e17*0x1+0xcf2+0x17*-0x1df,this['atlasSlotI'+'ndex']=-0x7*-0x24b+0x139b+-0x23a8,this['atlasSlotU'+'pdated']=!(0x16c1+-0x299*0x3+-0xef5*0x1),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1d57*0x1+0x4aa*-0x3+-0xf58),this['maxScreenS'+'ize']=0x74*-0x14+0x1e23+-0x1513,this['_updateSha'+'dowBias']());}['destroy'](){var _0x3f9aa1;(_0x3f9aa1=this['_evtDevice'+'Restored'])==null||_0x3f9aa1['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x3c6003=0x1*-0x15e+-0x1f3c+0x209a;_0x3c6003<this['_renderDat'+'a']['length'];_0x3c6003++)this['_renderDat'+'a'][_0x3c6003]['destroy']();this['_renderDat'+'a']['length']=0xa*0x3a9+-0x2663+-0x1c9*-0x1;}}['addLayer'](_0x4e7470){this['layers']['add'](_0x4e7470);}['removeLaye'+'r'](_0x5d92f7){this['layers']['delete'](_0x5d92f7);}set['shadowSamp'+'les'](_0x43b501){this['_softShado'+'wParams'][-0x1*0x1e8d+0x155f*-0x1+0x33ec]=_0x43b501;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x15f8+-0x13d7+0x29cf];}set['shadowBloc'+'kerSamples'](_0x2d00fa){this['_softShado'+'wParams'][0x4*0x901+0x2*-0x11c2+-0x1*0x7f]=_0x2d00fa;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x18a+0x1d3*0xe+-0x17ff];}set['shadowBias'](_0x5a83d6){this['_shadowBia'+'s']!==_0x5a83d6&&(this['_shadowBia'+'s']=_0x5a83d6,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x38b7d6){(!this['cascades']||this['numCascade'+'s']!==_0x38b7d6)&&(this['cascades']=lA[_0x38b7d6-(-0x2*0x87c+-0x1f*-0x11b+-0x114c)],this['_shadowMat'+'rixPalette']=new Float32Array(0xa57+0x6a7*-0x3+0x9de),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x2206+-0xff*0x11+0x1*0x32f9),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x2ae2a7){this['_cascadeBl'+'end']!==_0x2ae2a7&&(this['_cascadeBl'+'end']=_0x2ae2a7,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x175e74){this['_shadowMap']!==_0x175e74&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x175e74);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x1cf3a7){this['_mask']!==_0x1cf3a7&&(this['_mask']=_0x1cf3a7,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x34ad30=this['_type'];return _0x34ad30===ve?this['numCascade'+'s']:_0x34ad30===Ke?0x2218+0x12c5+0x34d7*-0x1:0x1*0xa1b+-0x445*0x9+-0x971*-0x3;}set['type'](_0x20acc6){if(this['_type']===_0x20acc6)return;this['_type']=_0x20acc6,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x3e8363=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x3e8363;}get['type'](){return this['_type'];}set['shape'](_0x48419b){if(this['_shape']===_0x48419b)return;this['_shape']=_0x48419b,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x3beadc=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x3beadc;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x3dd80c){this['_usePhysic'+'alUnits']!==_0x3dd80c&&(this['_usePhysic'+'alUnits']=_0x3dd80c,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x55d089){if(this['_shadowTyp'+'e']===_0x55d089)return;let _0x2dcd09=qi['get'](_0x55d089);_0x2dcd09||(_0x55d089=$s);const _0x154cef=this['device'];_0x55d089===al&&!_0x154cef['textureFlo'+'atRenderab'+'le']&&!_0x154cef['textureHal'+'fFloatRend'+'erable']&&(_0x55d089=$s),this['_type']===Ke&&_0x55d089!==tv&&_0x55d089!==$s&&_0x55d089!==sv&&_0x55d089!==iv&&_0x55d089!==al&&(_0x55d089=$s),_0x55d089===Jp&&(!_0x154cef['textureFlo'+'atRenderab'+'le']||!_0x154cef['textureFlo'+'atFilterab'+'le'])&&(_0x55d089=au),_0x55d089===au&&!_0x154cef['textureHal'+'fFloatRend'+'erable']&&(_0x55d089=$s),_0x2dcd09=qi['get'](_0x55d089),this['_isVsm']=(_0x2dcd09==null?void(-0x4*-0x5c6+0x18b3+0x98f*-0x5):_0x2dcd09['vsm'])??!(0x7*0x446+0x1aa*0xf+-0x36df),this['_isPcf']=(_0x2dcd09==null?void(-0x5cb*0x2+-0x807+-0x139d*-0x1):_0x2dcd09['pcf'])??!(-0x1*0x146d+-0x2eb*0x5+0x2305),this['_shadowTyp'+'e']=_0x55d089,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x31b65f){this['_enabled']!==_0x31b65f&&(this['_enabled']=_0x31b65f,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x27a310){this['_castShado'+'ws']!==_0x27a310&&(this['_castShado'+'ws']=_0x27a310,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x1*-0x100+-0x1a8c+0x1b8c;}set['shadowInte'+'nsity'](_0x296e84){this['_shadowInt'+'ensity']!==_0x296e84&&(this['_shadowInt'+'ensity']=_0x296e84,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x2139ec){this['_shadowRes'+'olution']!==_0x2139ec&&(this['_type']===Ke?_0x2139ec=Math['min'](_0x2139ec,this['device']['maxCubeMap'+'Size']):_0x2139ec=Math['min'](_0x2139ec,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x2139ec,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x21ecbd){this['_vsmBlurSi'+'ze']!==_0x21ecbd&&(_0x21ecbd%(0x2*0x55a+-0x35d*-0x3+-0x11*0x139)===-0x3*-0x1f+-0x1f8a+0x17*0x15b&&_0x21ecbd++,this['_vsmBlurSi'+'ze']=_0x21ecbd);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0xce61ce){if(this['_normalOff'+'setBias']!==_0xce61ce){const _0x41ce80=!this['_normalOff'+'setBias']&&_0xce61ce||this['_normalOff'+'setBias']&&!_0xce61ce;this['_normalOff'+'setBias']=_0xce61ce,_0x41ce80&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x3ebe46){this['_falloffMo'+'de']!==_0x3ebe46&&(this['_falloffMo'+'de']=_0x3ebe46,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x57303e){this['_innerCone'+'Angle']!==_0x57303e&&(this['_innerCone'+'Angle']=_0x57303e,this['_innerCone'+'AngleCos']=Math['cos'](_0x57303e*Math['PI']/(0x5*0x77e+-0x25e9+0x3b*0x5)),this['updateClus'+'terData'](!(-0x1c6*0x9+0x2*-0x2e4+0x15bf),!(0x3*-0x13c+-0x244*0xd+0x2128)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x33019e){this['_outerCone'+'Angle']!==_0x33019e&&(this['_outerCone'+'Angle']=_0x33019e,this['_updateOut'+'erAngle'](_0x33019e),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x367aa1){this['_penumbraS'+'ize']=_0x367aa1,this['_softShado'+'wParams'][-0xdd9*-0x1+-0xa11*0x1+-0x3c6]=_0x367aa1;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x3f02cf){this['_softShado'+'wParams'][0x28e+-0x5ef+-0x7*-0x7c]=_0x3f02cf;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x2444+0x8d2*-0x1+-0x1b6f];}['_updateOut'+'erAngle'](_0x4db0f0){const _0x2f9a16=_0x4db0f0*Math['PI']/(-0x13b6+-0x7*0x530+0x38ba);this['_outerCone'+'AngleCos']=Math['cos'](_0x2f9a16),this['_outerCone'+'AngleSin']=Math['sin'](_0x2f9a16),this['updateClus'+'terData'](!(-0x772*0x2+0x2b*-0x1a+-0x1343*-0x1),!(-0x5d9*-0x3+-0x71*0x27+-0x54));}set['intensity'](_0xaa9c56){this['_intensity']!==_0xaa9c56&&(this['_intensity']=_0xaa9c56,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x57c65b){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x57c65b,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x179215){this['_luminance']!==_0x179215&&(this['_luminance']=_0x179215,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0x1422+-0x425*0x6+0x2d00,0xb80+0x1926+-0x24a6,0xc68+0x6*0x67+-0xed1,-0x2e3*0xd+-0xb5*-0x34+0x1*0xc4)),this['_atlasView'+'port'];}set['cookie'](_0x5ac4ee){this['_cookie']!==_0x5ac4ee&&(this['_cookie']=_0x5ac4ee,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x477bdc){this['_cookieFal'+'loff']!==_0x477bdc&&(this['_cookieFal'+'loff']=_0x477bdc,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x1ea174){if(this['_cookieCha'+'nnel']!==_0x1ea174){if(_0x1ea174['length']<0x19*0x12f+-0x4a3*0x8+-0x1e1*-0x4){const _0x5ef757=_0x1ea174['charAt'](_0x1ea174['length']-(0x157f+0x1af1+0x3*-0x1025)),_0x442ed1=-0x26a6+0x121a+0x148f*0x1-_0x1ea174['length'];for(let _0x4df000=0x1*-0x187d+-0x1be2+0x6d*0x7b;_0x4df000<_0x442ed1;_0x4df000++)_0x1ea174+=_0x5ef757;}this['_cookieCha'+'nnel']=_0x1ea174,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x5ea582){this['_cookieTra'+'nsform']!==_0x5ea582&&(this['_cookieTra'+'nsform']=_0x5ea582,this['_cookieTra'+'nsformSet']=!!_0x5ea582,_0x5ea582&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0xa8e+0xba+-0xb47)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x4da6d5){if(this['_cookieOff'+'set']===_0x4da6d5)return;!!(this['_cookieTra'+'nsformSet']||_0x4da6d5)&&!_0x4da6d5&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0xa1b+0x1*0x22b2+-0x2ccd,-0xa*-0x9d+0x75b*0x1+0x1*-0xd7d):this['_cookieOff'+'set']=_0x4da6d5,this['_cookieOff'+'setSet']=!!_0x4da6d5,_0x4da6d5&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x1*-0xe1f+-0x1952+0xb34,0xf*0x279+-0xc69*-0x3+-0x19*0x2f9,0x2*-0x61f+-0x2*-0xa33+0x3*-0x2b8,0x19*-0x4f+-0x1fe2+0xd33*0x3),this['_cookieTra'+'nsformSet']=!(-0x136*0x2+0x3*0x92+0xb7)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x8*-0x20+-0x47*-0x73+-0x20e5,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1441+-0x14fb+0xbb*0x1),this['atlasSlotU'+'pdated']=!(-0x982+-0xcad*0x3+0x2f8a);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x400f56=-0x2*-0xc6a+0xbcb+-0x249f;_0x400f56<this['shadowUpda'+'teOverride'+'s']['length'];_0x400f56++)this['shadowUpda'+'teOverride'+'s'][_0x400f56]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x400f56]=xr);}}['getRenderD'+'ata'](_0x53296a,_0x4fd316){for(let _0x2884a5=-0x9*-0x9a+-0xc6+0x4*-0x129;_0x2884a5<this['_renderDat'+'a']['length'];_0x2884a5++){const _0x54d75e=this['_renderDat'+'a'][_0x2884a5];if(_0x54d75e['camera']===_0x53296a&&_0x54d75e['face']===_0x4fd316)return _0x54d75e;}const _0x4c0b20=new dA(_0x53296a,_0x4fd316,this);return this['_renderDat'+'a']['push'](_0x4c0b20),_0x4c0b20;}['clone'](){const _0xd36cad=new pl(this['device'],this['clusteredL'+'ighting']);return _0xd36cad['type']=this['_type'],_0xd36cad['setColor'](this['_color']),_0xd36cad['intensity']=this['_intensity'],_0xd36cad['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0xd36cad['luminance']=this['_luminance'],_0xd36cad['castShadow'+'s']=this['castShadow'+'s'],_0xd36cad['_enabled']=this['_enabled'],_0xd36cad['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0xd36cad['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0xd36cad['falloffMod'+'e']=this['_falloffMo'+'de'],_0xd36cad['shadowType']=this['_shadowTyp'+'e'],_0xd36cad['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0xd36cad['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0xd36cad['vsmBias']=this['vsmBias'],_0xd36cad['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0xd36cad['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0xd36cad['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0xd36cad['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0xd36cad['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0xd36cad['numCascade'+'s']=this['numCascade'+'s'],_0xd36cad['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0xd36cad['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0xd36cad['shape']=this['_shape'],_0xd36cad['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0xd36cad['shadowBias']=this['shadowBias'],_0xd36cad['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0xd36cad['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0xd36cad['shadowDist'+'ance']=this['shadowDist'+'ance'],_0xd36cad['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0xd36cad['shadowSamp'+'les']=this['shadowSamp'+'les'],_0xd36cad['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0xd36cad['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0xd36cad['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0xd36cad;}static['getLightUn'+'itConversi'+'on'](_0x65b7e,_0x4dc288=Math['PI']/(0x335*-0x5+-0x1*-0x17e9+0x1*-0x7dc),_0x53b963=-0x1*-0x9f1+0x918*-0x3+0x1157){switch(_0x65b7e){case Ze:{const _0x1e800b=Math['cos'](_0x4dc288),_0x84e866=Math['cos'](_0x53b963);return(0x2642+0x1157+-0x3797)*Math['PI']*(0x1868+0x1*0x234a+-0x887*0x7-_0x84e866+(_0x84e866-_0x1e800b)/(0x1*0x257+0x2*0xb85+-0x513*0x5));}case Ke:return(0x44f+0x1ff2+-0x243d)*Math['PI'];case ve:return-0x8f5+0x594+0x1*0x362;}}['_getUnifor'+'mBiasValue'+'s'](_0x159d61){const _0x50cf86=_0x159d61['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0xdc0*-0x1+0x1*-0x1ae3+0x461*0x3+0.00001)*(0x9d*0x29+0x1e92+0x1*-0x37a3):wi['bias']=this['shadowBias']*(0x95b*-0x1+0x1e4+-0x1*-0x78b),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x7*0x42d+0x2164*0x1+-0x422)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0x1685*-0x1+-0x5*0x1b+0x170c+0.00001)*(0x229d+-0x9c1+-0x4*0x632):wi['bias']=this['shadowBias']/_0x50cf86*(0x1f42+-0x1937+-0x1*0x5a7),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x50cf86/(0x112+-0x23*0xdd+-0x4*-0x74b)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x1ce317){if(this['_type']===Ze){const _0x4eef48=this['attenuatio'+'nEnd'],_0x531802=this['_outerCone'+'Angle'],_0x262d2d=this['_outerCone'+'AngleCos'],_0x5e4229=this['_node'];dc['copy'](_0x5e4229['up']),_0x531802>0x16d6+0x1*0xb09+-0x21b2?(_0x1ce317['radius']=_0x4eef48*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x4eef48*_0x262d2d)):(_0x1ce317['radius']=_0x4eef48/((0x1ca9+0x3*0x818+-0x34ef)*_0x262d2d),dc['mulScalar'](-_0x1ce317['radius'])),_0x1ce317['center']['add2'](_0x5e4229['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x1ce317['center']=this['_node']['getPositio'+'n'](),_0x1ce317['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x39374e){if(this['_type']===Ze){const _0x17ad67=this['attenuatio'+'nEnd'],_0x2ff33e=this['_outerCone'+'Angle'],_0x532bda=this['_node'],_0x504b74=Math['abs'](Math['sin'](_0x2ff33e*Y['DEG_TO_RAD'])*_0x17ad67);_0x39374e['center']['set'](0x275*-0x9+-0x2626+0x3c43,-_0x17ad67*(0x22d*-0x8+-0x25ad+0x3715+0.5),0x1906*-0x1+-0x242d*0x1+0x3d33),_0x39374e['halfExtent'+'s']['set'](_0x504b74,_0x17ad67*(-0xc8e+0x7c*-0x34+-0x25be*-0x1+0.5),_0x504b74),_0x39374e['setFromTra'+'nsformedAa'+'bb'](_0x39374e,_0x532bda['getWorldTr'+'ansform'](),!(-0x2ea*0x3+-0x1faf*-0x1+-0x7*0x347));}else this['_type']===Ke&&(_0x39374e['center']['copy'](this['_node']['getPositio'+'n']()),_0x39374e['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0xdab*-0x1+0x7*0x3b9+-0xc64,this['shadowDept'+'hState']['depthBiasS'+'lope']=0xfb3*0x1+-0x4bf+-0xaf4;else{const _0x395559=this['shadowBias']*-(-0x13*0x15d+-0x1*-0x1d2f+0xa0);this['shadowDept'+'hState']['depthBias']=_0x395559,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x395559;}}['_updateLin'+'earColor'](){let _0xc11364=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0xc11364=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x27bbf7=this['_color'],_0x432ef3=this['_colorLine'+'ar'];_0xc11364>=-0x14c8+-0x391*-0x1+0x26*0x74?ho['linear'](_0x27bbf7)['mulScalar'](_0xc11364):ho['copy'](_0x27bbf7)['mulScalar'](_0xc11364)['linear'](),_0x432ef3[-0xd25*-0x1+0x1*-0x36d+-0x2*0x4dc]=ho['r'],_0x432ef3[0x368*0x9+0x259b+-0x4442]=ho['g'],_0x432ef3[0x1d*-0x57+-0x2630+0x300d]=ho['b'],this['updateClus'+'terData'](!(0x5ad*0x5+-0xfff+-0x1*0xc62));}['setColor'](){arguments['length']===-0x28e*0xf+-0x2*-0xeb6+0x8e7?this['_color']['set'](arguments[-0x844+0xf*-0x257+0x2b5d*0x1]['r'],arguments[-0x195d+0x2548+-0xbeb]['g'],arguments[-0x2bf*0x3+0x19a3+0x11*-0x106]['b']):arguments['length']===-0xed*-0x21+0x9e*-0x34+0x1*0x18e&&this['_color']['set'](arguments[-0x917*-0x3+0xe18+0x295d*-0x1],arguments[0x4c*0x81+-0x68e*-0x4+0x9*-0x72b],arguments[-0x10*-0x204+-0x973+-0x16cb]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x33f305=>{_0x33f305['hasLight'](this)&&_0x33f305['markLights'+'Dirty']();});}['updateKey'](){let _0x4d14f6=this['_type']<<-0xaf7+-0xfc5+0x1ad9|this['_shadowTyp'+'e']<<-0x1*0x13f9+-0xada+0x1eec|this['_falloffMo'+'de']<<-0x17a3+-0x472+-0x1*-0x1c2c|(this['_normalOff'+'setBias']!==0x26a+-0x1021+0xdb7?0x220e+-0x82b+-0x19e2:-0x289+-0x1625+-0x1e6*-0xd)<<-0x213b+0x1219+0x8*0x1e7|(this['_cookie']?0x6c+0x116*0xa+-0xb47:-0x1656+-0x12b0+0x2906)<<0x1e96+0xd1*0x3+-0x20f4|(this['_cookieFal'+'loff']?-0x2*0xcd2+0x409*0x3+0xd8a:-0xb93+-0x1617*-0x1+-0x2a1*0x4)<<-0x157b+-0x2*-0xca5+0x1*-0x3bb|pf[this['_cookieCha'+'nnel']['charAt'](0x8fa+0x1c8f*0x1+-0x2589)]<<-0x231a+0x186d+0xabf|(this['_cookieTra'+'nsform']?-0x157*0x5+0x20fd+-0x1*0x1a49:-0xe00+0xc34+0x1cc)<<0x20f3+-0x386*-0x4+-0xe3*0x35|this['_shape']<<-0x2694+-0xe1e+0x34bc|(this['numCascade'+'s']>-0x95*-0x1f+0xf3*0x1d+-0x2d92?0x10bd*0x2+0x14d8+0x609*-0x9:0x459+0x5f3+-0xa4c)<<0xb2d+0x2bd+-0xde1|(this['_cascadeBl'+'end']>-0x4a2*-0x1+0x5*0x1e6+-0x8*0x1c4?0x1*-0xf8c+-0x1*0x19ff+0x298c:-0x1c39+0x28b*0x1+0x19ae)<<-0xa4d*-0x3+-0xbc4+-0x131b|(this['affectSpec'+'ularity']?-0x161*-0x13+-0x1f42+0x510:0x25cf*0x1+-0x997+-0x1c38)<<-0xa23+-0x5*-0x1d3+-0x10b*-0x1|this['mask']<<-0x1e6d+-0x217f*0x1+-0x1*-0x3ff2|(this['_castShado'+'ws']?0x1272+-0x711+-0xb60:-0xa06*0x2+0x2131+-0xd25)<<-0x9e*0x21+-0x1147+0x25a8;this['_cookieCha'+'nnel']['length']===-0x263f+0x1*-0x1189+0x37cb&&(_0x4d14f6|=pf[this['_cookieCha'+'nnel']['charAt'](0x4f*0x7+0x24b3+-0x26db)]<<-0x4*0x760+-0x385+-0x2115*-0x1,_0x4d14f6|=pf[this['_cookieCha'+'nnel']['charAt'](-0x41c+-0xa7*-0x31+0x1bd9*-0x1)]<<-0x1d0a+-0x2d*0x4d+0x2aa1),_0x4d14f6!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x4d14f6;}['updateClus'+'teredFlags'](){const _0x1f4631=!!(this['mask']&Ss),_0xa61756=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x1447+-0x4*0x6f7+0x796:-0x23d5+-0x1707+-0x2*-0x1d6e)<<-0x4ba+0xb4d*-0x2+0x1b72|(this['_shape']&-0x119a+-0x1225+0x23c2)<<0x23f3*-0x1+-0x1*-0x1961+-0xaae*-0x1|(this['_falloffMo'+'de']&-0xd*-0x2f4+-0x1ab4+-0xbaf)<<0x115+0x3*0x6+0x86*-0x2|(cA[this['_cookieCha'+'nnel']]??-0x5e3+0x2595+-0x1fb2)<<-0x3*-0x179+0x904+-0xd58|(_0x1f4631?0x71e+-0x13*-0x20b+-0x2dee*0x1:-0x1*-0x13d1+-0xce3*0x3+0x12d8)<<-0x1a6f*-0x1+-0x198c+-0x5*0x29|(_0xa61756?0x12*-0x41+0x1*-0x1b4d+0x60*0x55:-0x264f+-0x22aa+0x48f9)<<-0x1c02+-0x103*-0xb+0x1a*0xa7;}['getCluster'+'edFlags'](_0x1aacb7,_0x44b816){return this['clusteredF'+'lags']|((_0x1aacb7?Math['floor'](this['shadowInte'+'nsity']*(-0x1147+-0xf2b*-0x1+-0xf*-0x35)):0x1451+0x954+-0x1da5)&-0xb8b+0x1*-0x1cf9+0x2983)<<0x24ea+0x17a*0x17+0x3f*-0x120|((_0x44b816?Math['floor'](this['cookieInte'+'nsity']*(0x2239+-0x1153*-0x1+-0x1*0x328d)):-0x2651+-0x2*0xa67+-0x1*-0x3b1f)&0x1*-0x2386+0x1d7d+-0x24*-0x32)<<-0x645*0x5+-0x2170+-0x3*-0x159b;}['updateClus'+'terData'](_0xb80072,_0x5a9c5e){const {clusteredData16:_0x5481fb}=this,_0x359256=Mn['float2Half'];_0xb80072&&(_0x5481fb[0x5d*0xb+-0x243c+0x189*0x15]=_0x359256(Y['clamp'](this['_colorLine'+'ar'][0x7a7*-0x3+-0xcfb+0xc8*0x2e]/$c,-0x11ce+0x502+0xccc,-0xd*-0xa4c+-0x19b3b+0x1*0x2153f)),_0x5481fb[0x3d0+0x1*0x20f5+0x34*-0xb5]=_0x359256(Y['clamp'](this['_colorLine'+'ar'][-0x15b1+0x226*-0x1+0x17d8]/$c,0x1bd+-0x1ed6+0x1d19,-0x26f3*0x1+0x15b2d+0x2*-0x1a2d)),_0x5481fb[-0x26*0xaf+-0x27*-0x73+0x877*0x1]=_0x359256(Y['clamp'](this['_colorLine'+'ar'][-0x1db9*-0x1+-0x92*-0x3e+0x3*-0x15b1]/$c,-0x1cce+-0x25ab+0x51d*0xd,0xb706+0x153ca+-0x10af0))),_0x5a9c5e&&(_0x5481fb[0x25ed+-0x11*-0x14b+-0x3be4]=_0x359256(this['_innerCone'+'AngleCos']),_0x5481fb[0x3ab+-0x282+0x4*-0x49]=_0x359256(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x4b2adb,_0x31a68c,_0x350d68){h(this,'_areaLight'+'sEnabled',!(0x2*-0xfa7+0x7*-0x261+0x2ff6)),h(this,'_cells',new D(-0x1*0x1390+-0x7f+0x5*0x405,0x1a+0x52b+-0x1*0x542,0x59f*-0x4+0xc0a+0xa7c)),h(this,'_maxLights'+'PerCell',-0x3a1*0x5+-0x3d*-0x29+-0x95f*-0x1),h(this,'_shadowsEn'+'abled',!(-0x1972+-0x5*0x69+0x1b7f)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0x21*-0xd0+-0x20e1+-0xd*-0x115),h(this,'_cookiesEn'+'abled',!(0x1*-0x180b+0x16ca*-0x1+0xda*0x37)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x1*-0x6b+-0x115b*0x1+-0x54*-0x4c),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x4b2adb,this['_maxTextur'+'eSize']=_0x31a68c,this['_dirtyLigh'+'tsFnc']=_0x350d68);}['applySetti'+'ngs'](_0x5853a6){this['shadowsEna'+'bled']=_0x5853a6['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x5853a6['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x5853a6['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x5853a6['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5853a6['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x5853a6['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x5853a6['lightingSh'+'adowType']??this['shadowType'],_0x5853a6['lightingCe'+'lls']&&(this['cells']=new D(_0x5853a6['lightingCe'+'lls']));}set['cells'](_0x1269a4){this['_cells']['copy'](_0x1269a4);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x51d803){this['_maxLights'+'PerCell']=Y['clamp'](_0x51d803,-0xb22+-0xedf+0x1a02*0x1,-0xfcd+0x1a40+0x1*-0x974);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x1249f6){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x1249f6,-0x2359+0x1ea6+0x4d3,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x54022b){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x54022b,-0x17fe+0xc05+0xa3*0x13,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x2f4a79){this['_shadowTyp'+'e']!==_0x2f4a79&&(this['_shadowTyp'+'e']=_0x2f4a79,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x15dabe){this['_cookiesEn'+'abled']!==_0x15dabe&&(this['_cookiesEn'+'abled']=_0x15dabe,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0xf2e52b){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0xf2e52b&&(this['_areaLight'+'sEnabled']=_0xf2e52b,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5ea26f){this['_shadowsEn'+'abled']!==_0x5ea26f&&(this['_shadowsEn'+'abled']=_0x5ea26f,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0xbd5daa){this['morph']=_0xbd5daa,_0xbd5daa['incRefCoun'+'t'](),this['device']=_0xbd5daa['device'];const _0x51918a=_0xbd5daa['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x51918a),this['_weights']=[],this['_weightMap']=new Map();for(let _0x1dadce=-0x2187*-0x1+-0xb53*0x1+0x2*-0xb1a;_0x1dadce<_0xbd5daa['_targets']['length'];_0x1dadce++){const _0x5b682c=_0xbd5daa['_targets'][_0x1dadce];_0x5b682c['name']&&this['_weightMap']['set'](_0x5b682c['name'],_0x1dadce),this['setWeight'](_0x1dadce,_0x5b682c['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x51918a),this['_shaderMor'+'phIndex']=new Uint32Array(_0x51918a);const _0x3f5311=(_0x17d3f1,_0x4e5b0f)=>(this[_0x4e5b0f]=_0xbd5daa['_createTex'+'ture'](_0x17d3f1,_0xbd5daa['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x4e5b0f],'depth':!(0x5*-0x581+0x143f+-0x1b*-0x45)}));_0xbd5daa['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x3f5311('MorphRTPos','texturePos'+'itions')),_0xbd5daa['morphNorma'+'ls']&&(this['rtNormals']=_0x3f5311('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0xbd5daa['morphTextu'+'reWidth'],_0xbd5daa['morphTextu'+'reHeight']]);const _0x28432f=_0xbd5daa['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x28432f['x']*(0x149f*0x1+-0x10*0x94+-0x1*0xb5b),_0x28432f['y']*(-0x79c+-0xb40+-0x2*-0x970),_0x28432f['z']*(-0x95f*-0x4+0x293*-0x5+-0x1899)]);const _0x55581e=_0xbd5daa['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x55581e['x']*(0x13*0xa3+-0x449*0x3+0x7*0x1c),_0x55581e['y']*(-0xd6*0x29+-0x9b*0x16+-0x1*-0x2f9a),_0x55581e['z']*(-0x1afc+0x180d+0x2f1)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x14f7+-0x3be*0x4+-0x1*0x5fd,0xb*0x109+0x6*0xe3+-0x10b3,0xd19+0xf*0x18b+-0x243c]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1891*0x1+0x13*-0x16+-0x16ee),-(0x1e1*-0x1+0x9d1+-0x2a5*0x3),-(-0x1*-0x1db3+-0xb97+-0x121b)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x1af*-0xd+0x1*0x1f47+-0x3529);}['destroy'](){var _0x3a2de4,_0x4c7248,_0x346264,_0x19cdcd;this['shader']=null;const _0x12647f=this['morph'];_0x12647f&&(this['morph']=null,_0x12647f['decRefCoun'+'t'](),_0x12647f['refCount']<-0x14d7+0x1*-0x9+-0x42d*-0x5&&_0x12647f['destroy']()),(_0x3a2de4=this['rtPosition'+'s'])==null||_0x3a2de4['destroy'](),this['rtPosition'+'s']=null,(_0x4c7248=this['texturePos'+'itions'])==null||_0x4c7248['destroy'](),this['texturePos'+'itions']=null,(_0x346264=this['rtNormals'])==null||_0x346264['destroy'](),this['rtNormals']=null,(_0x19cdcd=this['textureNor'+'mals'])==null||_0x19cdcd['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x65c892){if(typeof _0x65c892=='string'){const _0x5ab615=this['_weightMap']['get'](_0x65c892);return _0x5ab615===void(0x7e1+0x3fa*-0x9+0x1be9)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x65c892+'.'),_0x5ab615;}return _0x65c892;}['getWeight'](_0x30b670){const _0x3feaa1=this['_getWeight'+'Index'](_0x30b670);return this['_weights'][_0x3feaa1];}['setWeight'](_0xd0e58c,_0xf175c2){const _0x53b4ca=this['_getWeight'+'Index'](_0xd0e58c);w['assert'](_0x53b4ca>=-0x497+-0x260f+0x2aa6&&_0x53b4ca<this['morph']['_targets']['length']),this['_weights'][_0x53b4ca]=_0xf175c2,this['_dirty']=!(0x335*0x1+-0xc80+0x94b);}['_createSha'+'der'](_0x2f457b){const _0xd9b926=new Map();_0xd9b926['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x2f457b),this['morph']['intRenderF'+'ormat']&&_0xd9b926['set']('MORPH_INT','');const _0x184ce6=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x2f457b+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0xd9b926,'fragmentOutputTypes':[_0x184ce6]});}['_updateTex'+'tureRender'+'Target'](_0x7e0f4b,_0x57daf2,_0xa9dee5){const {morph:_0x1ec79a,device:_0x261b36}=this;this['setAabbUni'+'forms'](_0xa9dee5),this['morphTextu'+'reId']['setValue'](_0xa9dee5?_0x1ec79a['targetsTex'+'turePositi'+'ons']:_0x1ec79a['targetsTex'+'tureNormal'+'s']),_0x261b36['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x57daf2),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x261b36,_0x7e0f4b,this['shader']);}['_updateTex'+'tureMorph'](_0x4344d9){const _0x374ad7=this['device'];Q['pushGpuMar'+'ker'](_0x374ad7,'MorphUpdat'+'e'),(_0x4344d9>-0x741+0x1f4+0x54d||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x4344d9,!(0x2541+0x77d*-0x5+-0x6*-0x8)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x4344d9,!(-0x3f8+-0x2666+0x2a5f)),this['zeroTextur'+'es']=_0x4344d9===-0x1*0x16f+0xb8d*-0x1+0xcfc),Q['popGpuMark'+'er'](_0x374ad7);}['setAabbUni'+'forms'](_0x5bdcb2=!(-0x8de+0x1c27+-0x1*0x1349)){this['aabbSizeId']['setValue'](_0x5bdcb2?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x5bdcb2?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x377fde){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0xa94*0x1+0x11b*-0x1f+-0x17b2*-0x1);const _0x59116c=this['morph']['_targets'],_0x32639c=-0x1871*0x1+0x1fb5*-0x1+0x3826+0.00001,_0x371851=this['_shaderMor'+'phWeights'],_0x1afad2=this['_shaderMor'+'phIndex'];let _0x1d8cd6=-0x11fd+0x1*0xe6c+0x391;for(let _0x3a1016=-0x1*0x1435+-0x1db3*0x1+0x31e8;_0x3a1016<_0x59116c['length'];_0x3a1016++)Math['abs'](this['getWeight'](_0x3a1016))>_0x32639c&&(_0x371851[_0x1d8cd6]=this['getWeight'](_0x3a1016),_0x1afad2[_0x1d8cd6]=_0x3a1016,_0x1d8cd6++);this['_updateTex'+'tureMorph'](_0x1d8cd6);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x322+0x258a+0x1456*-0x2,this['_immutable']=!(0x293+-0x14*0x38+0x1*0x1ce));}['getGraph'](){return this['graph'];}['setGraph'](_0x59966b){this['graph']=_0x59966b;}['getCameras'](){return this['cameras'];}['setCameras'](_0x571320){this['cameras']=_0x571320;}['getLights'](){return this['lights'];}['setLights'](_0x216e3c){this['lights']=_0x216e3c;}['getMateria'+'ls'](){const _0x414259=[];for(let _0x50e15f=0x10fb+-0x6c7*0x3+-0x27*-0x16;_0x50e15f<this['meshInstan'+'ces']['length'];_0x50e15f++){const _0x313812=this['meshInstan'+'ces'][_0x50e15f];_0x414259['indexOf'](_0x313812['material'])===-(0x24c0*-0x1+-0x1*0x1ee9+0x43aa)&&_0x414259['push'](_0x313812['material']);}return _0x414259;}['clone'](){const _0x85be99=[],_0x4ec397=[],_0x4014d7=function(_0x3880d5){const _0x249764=_0x3880d5['clone']();_0x85be99['push'](_0x3880d5),_0x4ec397['push'](_0x249764);for(let _0x4529b6=0x2*-0x7c9+-0xd*0x1df+0x27e5;_0x4529b6<_0x3880d5['_children']['length'];_0x4529b6++)_0x249764['addChild'](_0x4014d7(_0x3880d5['_children'][_0x4529b6]));return _0x249764;},_0x264077=_0x4014d7(this['graph']),_0x407883=[],_0x5d0c30=[],_0x4d517f=[];for(let _0x20f613=-0x1371+-0x1088+-0x23f9*-0x1;_0x20f613<this['skinInstan'+'ces']['length'];_0x20f613++){const _0x4b771d=this['skinInstan'+'ces'][_0x20f613]['skin'],_0x10bf83=new Ol(_0x4b771d),_0x141d7c=[];for(let _0x4c750a=0x72d*0x5+0x271+-0x2652;_0x4c750a<_0x4b771d['boneNames']['length'];_0x4c750a++){const _0x48322b=_0x4b771d['boneNames'][_0x4c750a],_0x24d7fb=_0x264077['findByName'](_0x48322b);_0x141d7c['push'](_0x24d7fb);}_0x10bf83['bones']=_0x141d7c,_0x5d0c30['push'](_0x10bf83);}for(let _0x1fffb3=-0x1*0x19e7+0x692+0x1355*0x1;_0x1fffb3<this['morphInsta'+'nces']['length'];_0x1fffb3++){const _0x1a8761=this['morphInsta'+'nces'][_0x1fffb3]['morph'],_0x145aa2=new xa(_0x1a8761);_0x4d517f['push'](_0x145aa2);}for(let _0x3461fb=0x1a2f*-0x1+0x13*-0x2f+0x1dac;_0x3461fb<this['meshInstan'+'ces']['length'];_0x3461fb++){const _0x175bb0=this['meshInstan'+'ces'][_0x3461fb],_0x39a0e4=_0x85be99['indexOf'](_0x175bb0['node']),_0x16c552=new He(_0x175bb0['mesh'],_0x175bb0['material'],_0x4ec397[_0x39a0e4]);if(_0x175bb0['skinInstan'+'ce']){const _0x4e995d=this['skinInstan'+'ces']['indexOf'](_0x175bb0['skinInstan'+'ce']);_0x16c552['skinInstan'+'ce']=_0x5d0c30[_0x4e995d];}if(_0x175bb0['morphInsta'+'nce']){const _0xa92238=this['morphInsta'+'nces']['indexOf'](_0x175bb0['morphInsta'+'nce']);_0x16c552['morphInsta'+'nce']=_0x4d517f[_0xa92238];}_0x407883['push'](_0x16c552);}const _0xffb770=new sr();return _0xffb770['graph']=_0x264077,_0xffb770['meshInstan'+'ces']=_0x407883,_0xffb770['skinInstan'+'ces']=_0x5d0c30,_0xffb770['morphInsta'+'nces']=_0x4d517f,_0xffb770['getGraph']()['syncHierar'+'chy'](),_0xffb770;}['destroy'](){const _0xfe02a=this['meshInstan'+'ces'];for(let _0x14d6bc=-0x20*-0xc+0x1528+-0x28*0x91;_0x14d6bc<_0xfe02a['length'];_0x14d6bc++)_0xfe02a[_0x14d6bc]['destroy']();this['meshInstan'+'ces']['length']=-0x107a+-0x178a+-0x2*-0x1402;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x2b0dfb,_0x26e264,{preferHighPrecision:_0x30da5c=!(0x33c*0xc+-0x5*0x1f1+0x5d2*-0x5)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x26e264,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x26e264);const _0xaf80ca=_0x26e264;this['preferHigh'+'Precision']=_0x30da5c,w['assert'](_0x2b0dfb['every'](_0x2e8c5d=>!_0x2e8c5d['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x2b0dfb['slice']();const _0x499009=_0xaf80ca['textureHal'+'fFloatRend'+'erable']?nt:void(0x71a+0x1557+0x3*-0x97b),_0x1a732a=_0xaf80ca['textureFlo'+'atRenderab'+'le']?Xt:void(-0x266f+0x36d*0x1+-0x1181*-0x2);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x1a732a??_0x499009:_0x499009??_0x1a732a,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x3de3d1,_0x535fa8,_0xcaaf8e;(_0x3de3d1=this['vertexBuff'+'erIds'])==null||_0x3de3d1['destroy'](),this['vertexBuff'+'erIds']=null,(_0x535fa8=this['targetsTex'+'turePositi'+'ons'])==null||_0x535fa8['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0xcaaf8e=this['targetsTex'+'tureNormal'+'s'])==null||_0xcaaf8e['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x4307bd=new D(),_0xd37503=new D();for(let _0x4d4ea8=-0x19fb+-0xca5*-0x1+0x3*0x472;_0x4d4ea8<this['_targets']['length'];_0x4d4ea8++){const _0x2fae59=this['_targets'][_0x4d4ea8]['aabb'];_0x4307bd['min'](_0x2fae59['getMin']()),_0xd37503['max'](_0x2fae59['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x4307bd,_0xd37503);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2e85e0=0x143*0xd+-0x1159*0x1+-0x16*-0xb;_0x2e85e0<this['_targets']['length'];_0x2e85e0++)this['_targets'][_0x2e85e0]['_postInit']();}['_findSpars'+'eSet'](_0x2fbe3e,_0x2b18ec,_0x3a4174){let _0xc293cd=-0x13a5+0x13b0+0x5*-0x2;const _0x24523d=_0x2fbe3e[0x2c8+-0xbb1+-0x1*-0x8e9]['length'];for(let _0x760acb=0x1b5f+0x42*-0x11+-0x16fd;_0x760acb<_0x24523d;_0x760acb+=0x1*0x10c5+0x86b+-0x192d*0x1){let _0x1430cf=!(0x410+0xcbb+-0x10ca);for(let _0x17cb4b=0xc47+-0x597+-0x6b0;_0x17cb4b<_0x2fbe3e['length'];_0x17cb4b++){const _0x447c45=_0x2fbe3e[_0x17cb4b];if(_0x447c45[_0x760acb]!==0x163+0x1309+-0x146c||_0x447c45[_0x760acb+(0x46b+-0x1*0xbe9+0x77f)]!==0xa5e*-0x3+0x3*-0x571+-0x39*-0xd5||_0x447c45[_0x760acb+(-0x786+-0x5*-0x3ca+-0xb6a)]!==-0xc2d+0x6cd+0x560){_0x1430cf=!(0x1adb+-0x1e*0x11+0x43*-0x5f);break;}}_0x1430cf?(_0x2b18ec['push'](_0xc293cd),_0x3a4174['push'](_0x760acb/(0x699+0x1e09+-0x249f)),_0xc293cd++):_0x2b18ec['push'](-0x1bda+-0x1a35*0x1+0x360f*0x1);}return _0xc293cd;}['_initTextu'+'reBased'](){const _0x70f524=[],_0x95876=[],_0x23aca9=this['_targets'];for(let _0x5a25f6=-0x4*0x61f+0xde2+-0x2e*-0x3b;_0x5a25f6<_0x23aca9['length'];_0x5a25f6++){const _0x34775e=_0x23aca9[_0x5a25f6];_0x34775e['options']['deltaPosit'+'ions']&&(_0x70f524['push'](_0x34775e['options']['deltaPosit'+'ions']),_0x95876['push'](!(-0x1064+-0x1b*-0x25+0xc7d))),_0x34775e['options']['deltaNorma'+'ls']&&(_0x70f524['push'](_0x34775e['options']['deltaNorma'+'ls']),_0x95876['push'](!(0xc30+-0xce3+0xb4)));}const _0x32cf88=[],_0x4f46f7=[],_0x13468c=this['_findSpars'+'eSet'](_0x70f524,_0x32cf88,_0x4f46f7),_0x17e0e3=this['device']['maxTexture'+'Size'];let _0x2f542a=Math['ceil'](Math['sqrt'](_0x13468c));_0x2f542a=Math['min'](_0x2f542a,_0x17e0e3);const _0x3e7c99=Math['ceil'](_0x13468c/_0x2f542a);if(_0x3e7c99>_0x17e0e3){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x2f542a+'x'+_0x3e7c99+(',\x20max\x20text'+'ure\x20size:\x20')+_0x17e0e3+'x'+_0x17e0e3+'.');return;}this['morphTextu'+'reWidth']=_0x2f542a,this['morphTextu'+'reHeight']=_0x3e7c99;let _0x5f3f5c=!(-0x58f*-0x5+0x1ed1+-0x3a9b);const _0x2f14ca=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x5f3f5c=!(0x7b*-0xa+-0xc77+0x1145));const _0x54f2ea=[],_0x4e5dcf=[],_0xe00c32=_0x2f542a*_0x3e7c99*(-0x1*0x2669+-0xced+0x335a);for(let _0x41f514=-0x4a*-0x61+0xe42+-0x4*0xa93;_0x41f514<_0x70f524['length'];_0x41f514++){const _0x355afa=_0x70f524[_0x41f514],_0x4d943f=this['_textureFo'+'rmat']===nt?new Uint16Array(_0xe00c32):new Float32Array(_0xe00c32);if((_0x95876[_0x41f514]?_0x54f2ea:_0x4e5dcf)['push'](_0x4d943f),_0x5f3f5c)for(let _0x561169=-0x1b73+-0xaed+-0x998*-0x4;_0x561169<_0x4f46f7['length'];_0x561169++){const _0xa77089=_0x4f46f7[_0x561169]*(-0xa*0x11d+0x66e+0x4b7),_0x152073=_0x561169*(-0x7c0+0x1*0x3f5+0x3cf)+(0x228d+0x28*-0xad+-0x11*0x71);_0x4d943f[_0x152073]=_0x2f14ca(_0x355afa[_0xa77089]),_0x4d943f[_0x152073+(0xd*-0x24a+-0xad4*-0x2+0x81b)]=_0x2f14ca(_0x355afa[_0xa77089+(0x1338+0x1249+-0x2580)]),_0x4d943f[_0x152073+(0x44*-0x56+-0x1a34+0x310e)]=_0x2f14ca(_0x355afa[_0xa77089+(0xd25*-0x1+-0x1*-0x11c+-0xc0b*-0x1)]);}else for(let _0x16da8f=-0x1*-0x1157+-0x2158+0x1001*0x1;_0x16da8f<_0x4f46f7['length'];_0x16da8f++){const _0x18d3c4=_0x4f46f7[_0x16da8f]*(0x2*0x695+0x1*0x679+-0x13a0),_0x49a924=_0x16da8f*(0x38e+0xb72+-0x224*0x7)+(0x75*-0x5+0x1d0+0x7d*0x1);_0x4d943f[_0x49a924]=_0x355afa[_0x18d3c4],_0x4d943f[_0x49a924+(0x47*0x5d+0x1d45+-0x370f)]=_0x355afa[_0x18d3c4+(-0x3*-0x4a9+0x16*-0x75+-0x3ec)],_0x4d943f[_0x49a924+(-0x97*-0xc+-0xf6*-0x7+-0xdcc)]=_0x355afa[_0x18d3c4+(0x221e+0x10b7*0x2+-0x438a)];}}_0x54f2ea['length']>0xeb4+-0x97d+-0x537&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x23aca9['length'],[_0x54f2ea]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x4e5dcf['length']>-0xd05*0x1+0x1*0x349+0x9bc&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x23aca9['length'],[_0x4e5dcf]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x89936e=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0x1928+-0x1914+-0x14)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x89936e,_0x32cf88['length']),_0x32cf88['length'],{'data':new Uint32Array(_0x32cf88)}),!(0x179c+0x1*-0x1aa7+0x29*0x13);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x1a74*-0x1+-0x352+-0x79*-0x3f),this['_morphNorm'+'als']=!(-0xb1a+0x44b+-0x368*-0x2);for(let _0x14a36d=0x2a5*0xd+-0x118b+-0x10d6;_0x14a36d<this['_targets']['length'];_0x14a36d++){const _0x1f3822=this['_targets'][_0x14a36d];_0x1f3822['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x7*-0x361+-0x3*-0xb66+-0x39d9)),_0x1f3822['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x398+0xd9c+-0x1*0x1134));}}['_createTex'+'ture'](_0x1b5112,_0x2f2a99,_0x5c7d51,_0x310951){return new _e(this['device'],{'levels':_0x310951,'arrayLength':_0x5c7d51,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x2f2a99,'cubemap':!(-0x79*0x19+-0x13fe*0x1+0x1fd0),'mipmaps':!(-0x150+0x157f*-0x1+0x16d0),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x1b5112});}}class Md{constructor(_0xc065b8){h(this,'used',!(0x1*-0x109d+0x463+0xc3b)),(w['assert'](arguments['length']===0x1*0x1cc5+0xd9+0x39*-0x85),this['options']=_0xc065b8,this['_name']=_0xc065b8['name'],this['_defaultWe'+'ight']=_0xc065b8['defaultWei'+'ght']||0x13*-0x1a5+-0x1*-0x621+0x191e,this['_aabb']=_0xc065b8['aabb'],this['deltaPosit'+'ions']=_0xc065b8['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0xc065b8['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0xc065b8['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x9*-0x120+-0x20aa+0x482*0x5);}}let Ei,Z_=-0x6d*-0x19+-0x503*-0x5+-0x23b3;const ce=0x4f*-0x58+-0x154a+-0x1*-0x3076,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x35d7e3){return _0x35d7e3-Math['floor'](_0x35d7e3);}function fA(_0x406bb9){return Math['max'](Math['min'](_0x406bb9,0x5d*-0x3+0x1383+-0x17*0xcd),-0xfc9*0x2+-0x3*-0xe9+0x1cd7);}function gf(_0x1eeda3,_0x3c2e3d){return _0x1eeda3-_0x3c2e3d*Math['floor'](_0x1eeda3/_0x3c2e3d);}function uA(_0x44bd65){let _0xa3390a=pn(_0x44bd65),_0x258008=pn((-0x158*-0x17+-0xcf*-0x7+-0x2392)*_0x44bd65),_0x1c921f=pn((-0x4193*-0x7+-0x366e*0x6+-0xa*-0xc28)*_0x44bd65),_0x83702f=pn((-0xd176a39+0x136551*0x2+-0x2*-0xb41734b)*_0x44bd65);return _0xa3390a-=_0x258008/(0x2*0x90a+0x56d*0x1+-0x1682),_0x258008-=_0x1c921f/(-0x1*-0x1547+0xe98+-0xba0*0x3),_0x1c921f-=_0x83702f/(0x2*0x593+0xa81+-0x14a8*0x1),_0x83702f-=_0x83702f/(-0x1b22+0x3e4+0x183d),[_0xa3390a,_0x258008,_0x1c921f,_0x83702f];}function uc(_0x202ab1){let _0xb6f6c9=pn(_0x202ab1),_0x20ffa8=pn((0x7f4*-0x3+0x2ce*-0x1+0x1ba9)*_0x202ab1);return _0xb6f6c9-=_0x20ffa8/(0x2594+-0xc33+-0x1862),_0x20ffa8-=_0x20ffa8/(-0x165e+-0x1dab+0x3508),[_0xb6f6c9,_0x20ffa8];}class pA{constructor(_0x24fc87){this['_emitter']=_0x24fc87;}['calcSpawnP'+'osition'](_0x4c6941,_0x5034d7,_0x493607,_0x3dde1a,_0x4e77d5){const _0x1c6b6e=this['_emitter'],_0x22e0e9=Math['random'](),_0x2ca4ba=Math['random'](),_0x5834cb=Math['random'](),_0xfcb307=Math['random']();if(_0x1c6b6e['useCpu']&&(_0x4c6941[_0x4e77d5*ce+(0x307+0x2e9+-0x5f0)+_0x1c6b6e['numParticl'+'esPot']*(0xf84+-0x3df*-0x4+-0x1efe)*ce]=_0x22e0e9,_0x4c6941[_0x4e77d5*ce+(-0xd4e+-0xf*0x189+0x2456*0x1)+_0x1c6b6e['numParticl'+'esPot']*(-0x1bf2+-0x51b+0x210f)*ce]=_0x2ca4ba,_0x4c6941[_0x4e77d5*ce+(0x86d+0xe71+-0x16dc)+_0x1c6b6e['numParticl'+'esPot']*(-0x2*0x385+0x1f66+-0x185a)*ce]=_0x5834cb),tt['x']=_0x22e0e9-(0x455+0x10b+-0x560+0.5),tt['y']=_0x2ca4ba-(0x1292+-0x570+-0xd22+0.5),tt['z']=_0x5834cb-(-0x126a+0x22d1+0x11*-0xf7+0.5),_0x1c6b6e['emitterSha'+'pe']===ai){const _0x394bec=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x5a1931=_0x394bec+(-0x1ac7+-0x667*0x6+0x4131+0.5-_0x394bec)*_0x493607[-0x2654+-0x3*-0xc15+0x215],_0x323790=_0x394bec+(-0x24*-0x100+0x25a4+0x2*-0x24d2+0.5-_0x394bec)*_0x493607[0x932+0x463*0x3+0x2*-0xb2d],_0x2c84ca=_0x394bec+(0x1055+0x1a5f+-0x2ab4+0.5-_0x394bec)*_0x493607[-0x199+0x1fc8+-0x1e2d];tt['x']=_0x5a1931*(_0x394bec===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0xa3*0x5+-0x1ddd*0x1+-0x1087*-0x2)*tt['x']),tt['y']=_0x323790*(_0x394bec===Math['abs'](tt['y'])?Math['sign'](tt['y']):(0x12a*-0x1a+0x1773+0x1*0x6d3)*tt['y']),tt['z']=_0x2c84ca*(_0x394bec===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x1*-0x23e3+0x23e3+-0x47c4)*tt['z']),_0x1c6b6e['localSpace']?ti['copy'](_0x5034d7['transformP'+'oint'](tt)):ti['copy'](_0x3dde1a)['add'](_0x5034d7['transformP'+'oint'](tt));}else{tt['normalize']();const _0x30b41e=_0x1c6b6e['emitterRad'+'ius']===0x259a+-0x172a+-0xe70?-0x18f+0x1*0x264f+-0xe0*0x2a:_0x1c6b6e['emitterRad'+'iusInner']/_0x1c6b6e['emitterRad'+'ius'],_0x19dd1a=_0xfcb307*(0x54b*-0x1+0x8bf*0x1+-0x373-_0x30b41e)+_0x30b41e;_0x1c6b6e['localSpace']?ti['copy'](tt['mulScalar'](_0x19dd1a*_0x1c6b6e['emitterRad'+'ius'])):ti['copy'](_0x3dde1a)['add'](tt['mulScalar'](_0x19dd1a*_0x1c6b6e['emitterRad'+'ius']));}let _0x357523=-Y['lerp'](_0x1c6b6e['rate'],_0x1c6b6e['rate2'],_0x22e0e9)*_0x4e77d5;if(_0x1c6b6e['pack8']){const _0x1edfdf=(ti['x']-_0x1c6b6e['worldBound'+'s']['center']['x'])/_0x1c6b6e['worldBound'+'sSize']['x']+(0xbc8*0x1+0x16c6+-0x1*0x228e+0.5),_0x2f9762=(ti['y']-_0x1c6b6e['worldBound'+'s']['center']['y'])/_0x1c6b6e['worldBound'+'sSize']['y']+(-0x25e8+-0x1a1*0x12+0x433a+0.5),_0x3ba399=(ti['z']-_0x1c6b6e['worldBound'+'s']['center']['z'])/_0x1c6b6e['worldBound'+'sSize']['z']+(0x222*-0x5+-0x1617+0x20c1+0.5);let _0x25c077=Y['lerp'](_0x1c6b6e['startAngle']*Y['DEG_TO_RAD'],_0x1c6b6e['startAngle'+'2']*Y['DEG_TO_RAD'],_0x22e0e9);_0x25c077=_0x25c077%(Math['PI']*(0x1fd*0x1+0x3f*-0x43+0x26b*0x6))/(Math['PI']*(-0x2*-0xa6d+-0x208*0xd+0x2c8*0x2));const _0x51ade5=uc(_0x1edfdf);_0x4c6941[_0x4e77d5*ce]=_0x51ade5[-0x831+0x1a9+-0x1*-0x688],_0x4c6941[_0x4e77d5*ce+(-0x5*0x3bc+-0x1568+-0x1*-0x2815)]=_0x51ade5[0x115b+-0x531*-0x1+-0x168b];const _0x32818f=uc(_0x2f9762);_0x4c6941[_0x4e77d5*ce+(-0x1*0x62f+-0x39*0x6b+0x11*0x1c4)]=_0x32818f[-0x14d5*0x1+0x1*0x5f3+-0x3*-0x4f6],_0x4c6941[_0x4e77d5*ce+(0x2*0x844+0x1be+0x5*-0x3a7)]=_0x32818f[-0x5b*0x12+-0x25a6+0x3f*0xb3];const _0x288756=uc(_0x3ba399);_0x4c6941[_0x4e77d5*ce+(0x1*0x32b+-0x15a1+0x1276*0x1)+_0x1c6b6e['numParticl'+'esPot']*ce]=_0x288756[-0x3*0x427+-0x11*0x15d+0x23a2],_0x4c6941[_0x4e77d5*ce+(0x17*-0x3a+0x2c*0x74+0xeb9*-0x1)+_0x1c6b6e['numParticl'+'esPot']*ce]=_0x288756[0x2404+-0x1*-0x1024+-0x1*0x3427];const _0x104b94=uc(_0x25c077);_0x4c6941[_0x4e77d5*ce+(-0x8d2+0x23*-0x2d+-0x41*-0x3b)+_0x1c6b6e['numParticl'+'esPot']*ce]=_0x104b94[-0x26e*0x4+-0x10*-0x120+-0x848],_0x4c6941[_0x4e77d5*ce+(0x1*-0x1db4+-0x5*-0x435+-0x1*-0x8ae)+_0x1c6b6e['numParticl'+'esPot']*ce]=_0x104b94[-0x19b9+0x3ff+-0x15bb*-0x1];const _0x432722=0x18d9+-0x311*0xa+0x5d2;_0x4c6941[_0x4e77d5*ce+(0xa2f+-0x1fa6+0x157a)+_0x1c6b6e['numParticl'+'esPot']*ce*(-0x218f*0x1+-0x1b1*-0xd+-0x4c*-0x27)]=_0x432722;const _0xdecf40=Math['max'](_0x1c6b6e['lifetime'],(_0x1c6b6e['numParticl'+'es']-(0xd*0x2bd+-0x138f+-0x335*0x5))*Math['max'](_0x1c6b6e['rate'],_0x1c6b6e['rate2'])),_0x4ad9a3=_0x1c6b6e['lifetime']+(0xea4+-0x35e*-0xb+-0x33ad);_0x357523=(_0x357523+_0xdecf40)/(_0xdecf40+_0x4ad9a3);const _0x120bd2=uA(_0x357523);_0x4c6941[_0x4e77d5*ce+(-0xb*-0x35f+0xef0+-0x3405)+_0x1c6b6e['numParticl'+'esPot']*ce*(-0x2*0x12d9+-0x257*-0xa+0x9*0x197)]=_0x120bd2[0x6*0x11c+0xeef*0x2+-0x2486],_0x4c6941[_0x4e77d5*ce+(-0x29d*0xb+0xbd4+-0x13*-0xe4)+_0x1c6b6e['numParticl'+'esPot']*ce*(0xfa7*0x2+-0xff0*-0x1+0x2f3b*-0x1)]=_0x120bd2[-0x51+-0x1*-0x26dd+-0xd*0x2f7],_0x4c6941[_0x4e77d5*ce+(-0xc24+-0x200*0x1+0x2*0x713)+_0x1c6b6e['numParticl'+'esPot']*ce*(-0x7e4+0xfab+-0x1f1*0x4)]=_0x120bd2[0x1528+0x3f3*-0x4+-0x55a],_0x4c6941[_0x4e77d5*ce+(0x3e4+-0x1b89+0x1*0x17a8)+_0x1c6b6e['numParticl'+'esPot']*ce*(-0x239b+-0x1632+-0x4a*-0xc8)]=_0x120bd2[-0xf*0x15b+-0x5f*-0x23+-0x7*-0x10d];}else _0x4c6941[_0x4e77d5*ce]=ti['x'],_0x4c6941[_0x4e77d5*ce+(0x1b72+0x156+-0x1cc7)]=ti['y'],_0x4c6941[_0x4e77d5*ce+(-0x152d+0x1a29+-0x4fa)]=ti['z'],_0x4c6941[_0x4e77d5*ce+(-0x144*0x6+-0x4ef+0xc8a)]=Y['lerp'](_0x1c6b6e['startAngle']*Y['DEG_TO_RAD'],_0x1c6b6e['startAngle'+'2']*Y['DEG_TO_RAD'],_0x22e0e9),_0x4c6941[_0x4e77d5*ce+(-0x2162+-0xee8*-0x1+0x1*0x127d)+_0x1c6b6e['numParticl'+'esPot']*ce]=_0x357523;}['update'](_0x142cb8,_0xee93c3,_0x6d9037,_0x16dd79,_0x55242c,_0x403f11,_0x54af1d,_0x328dfd){let _0x3b7d4e,_0x170046,_0x4e0a9f;const _0x235be1=this['_emitter'];if(_0x235be1['meshInstan'+'ce']['node']){const _0x448d97=_0x235be1['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x1326d6=-0x1*-0x97+-0x1e*0x131+0x2327;_0x1326d6<-0x84f+-0x861*-0x3+-0x432*0x4;_0x1326d6++)mf['data'][_0x1326d6]=_0x448d97['data'][_0x1326d6];_f['copy'](mf),_f['invert'](),Ei=_0x235be1['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x403f11=_0x235be1['meshInstan'+'ce']['node']===null||_0x235be1['localSpace']?D['ZERO']:_0x235be1['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x53eff0=_0x235be1['camera']?_0x235be1['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x29413a=_0x235be1['useMesh']?-0x12ae+0x20b6+-0xdf7:0x1*0x9a9+-0x2*0x102b+0x2*0xb5e;let _0x25a6bd,_0x1acc00,_0x14d8fe,_0x500719,_0x530433,_0x4504c4,_0x55aacc,_0x519fa4,_0x22712f;const _0x55a93a=_0x235be1['precision']-(-0x403+-0x25d*0x9+0x1949);for(let _0x1bc4ad=-0x1c81+-0x63*0x7+0x1f36;_0x1bc4ad<_0x235be1['numParticl'+'es'];_0x1bc4ad++){const _0x52e677=Math['floor'](_0x235be1['vbCPU'][_0x1bc4ad*_0x235be1['numParticl'+'eVerts']*(_0x235be1['useMesh']?0xf43*-0x2+-0x1929+-0xd*-0x449:-0x25*-0x98+0xaa7+-0x209b)+(0xc43+0x2*0xfa6+-0xae3*0x4)]),_0xd6d38c=_0x6d9037[_0x52e677*ce+(-0x1*-0x1481+-0x3*0x8df+0x61c)+_0x235be1['numParticl'+'esPot']*(0x24*0x96+0x1*0x1d72+-0x3288)*ce];Ns['x']=_0xd6d38c,Ns['y']=_0x6d9037[_0x52e677*ce+(-0x5de+0xca1*0x1+-0x6c2)+_0x235be1['numParticl'+'esPot']*(-0xe5*0x16+-0x1502+0x2*0x1459)*ce],Ns['z']=_0x6d9037[_0x52e677*ce+(-0x53*0x1+0x1*0xb5e+-0x1*0xb09)+_0x235be1['numParticl'+'esPot']*(0x1*-0xa79+0xbf*-0x33+0x3088)*ce];const _0x4e2865=_0x235be1['rate']+(_0x235be1['rate2']-_0x235be1['rate'])*_0xd6d38c,_0x57117d=_0x235be1['lifetime'];let _0x1ecdc0=_0x6d9037[_0x52e677*ce+(-0x2*0x11ab+-0x15c+-0x1*-0x24b5)+_0x235be1['numParticl'+'esPot']*ce]+_0x54af1d;const _0x402740=fA(_0x1ecdc0/_0x57117d);let _0x6a3dbd=-0xfdd+-0x555*-0x2+0x533,_0x509f6f=-0x79*-0x37+0x2372+0x2ed*-0x15;const _0xfeae1=-0x16aa*-0x1+-0x1*-0x157d+0x2c27*-0x1;(_0x1ecdc0-_0x54af1d<=-0x1bd9*-0x1+0x5bf*0x5+-0x3894||_0x1ecdc0>=_0x57117d)&&this['calcSpawnP'+'osition'](_0x6d9037,_0x16dd79,_0x55242c,_0x403f11,_0x52e677);let _0x58b854=_0x1ecdc0>-0x1407*-0x1+-0x561+0x32*-0x4b&&_0x1ecdc0<_0x57117d;_0x58b854&&(_0x4e0a9f=_0x402740*_0x55a93a,_0x25a6bd=Math['floor'](_0x4e0a9f),_0x1acc00=Math['ceil'](_0x4e0a9f),_0x4e0a9f%=-0xe41+-0x23ff+0x3241,_0x3b7d4e=_0x235be1['qRotSpeed'][_0x25a6bd],_0x170046=_0x235be1['qRotSpeed'][_0x1acc00],_0x14d8fe=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qRotSpeed2'][_0x25a6bd],_0x170046=_0x235be1['qRotSpeed2'][_0x1acc00],_0x500719=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qScale'][_0x25a6bd],_0x170046=_0x235be1['qScale'][_0x1acc00],_0x6a3dbd=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qScale2'][_0x25a6bd],_0x170046=_0x235be1['qScale2'][_0x1acc00],_0x530433=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qAlpha'][_0x25a6bd],_0x170046=_0x235be1['qAlpha'][_0x1acc00],_0x4504c4=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qAlpha2'][_0x25a6bd],_0x170046=_0x235be1['qAlpha2'][_0x1acc00],_0x55aacc=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qRadialSpe'+'ed'][_0x25a6bd],_0x170046=_0x235be1['qRadialSpe'+'ed'][_0x1acc00],_0x519fa4=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qRadialSpe'+'ed2'][_0x25a6bd],_0x170046=_0x235be1['qRadialSpe'+'ed2'][_0x1acc00],_0x22712f=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x519fa4+=(_0x22712f-_0x519fa4)*(_0xd6d38c*(0x11*0x1e9+-0x1c82+-0x1*0x393)%(0x2b*-0x9b+-0x214d*0x1+0x3b57)),Na['x']=_0x6d9037[_0x52e677*ce],Na['y']=_0x6d9037[_0x52e677*ce+(0x2*-0xab7+-0x38*-0x20+-0x1*-0xe6f)],Na['z']=_0x6d9037[_0x52e677*ce+(-0x4e*0x1e+0x1754+0x6*-0x25d)],_0x235be1['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x403f11),fo['normalize']()['mulScalar'](_0x519fa4),_0x25a6bd*=0x1073*0x2+-0x1*-0x15c1+-0x10d*0x34,_0x1acc00*=0x11ab+0x1*0x7e7+-0x198f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city'][_0x25a6bd],_0x170046=_0x235be1['qLocalVelo'+'city'][_0x1acc00],_t['x']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city'][_0x25a6bd+(0xef6+0x1b*-0x2b+-0xa6c)],_0x170046=_0x235be1['qLocalVelo'+'city'][_0x1acc00+(0x1374*-0x2+0xeb3+0x1836)],_t['y']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city'][_0x25a6bd+(0x1*0x1aad+-0x1*0xbf5+-0xeb6)],_0x170046=_0x235be1['qLocalVelo'+'city'][_0x1acc00+(0x2*0x910+0x147b+0x1*-0x2699)],_t['z']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city2'][_0x25a6bd],_0x170046=_0x235be1['qLocalVelo'+'city2'][_0x1acc00],Ua['x']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city2'][_0x25a6bd+(-0x21af*-0x1+-0x73e+0x5e*-0x48)],_0x170046=_0x235be1['qLocalVelo'+'city2'][_0x1acc00+(0x26ad*-0x1+-0x1a65+-0x15b1*-0x3)],Ua['y']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qLocalVelo'+'city2'][_0x25a6bd+(-0x1*0x123+-0x227b+-0xbe*-0x30)],_0x170046=_0x235be1['qLocalVelo'+'city2'][_0x1acc00+(-0x2*0x7f9+0x7b9+0x31*0x2b)],Ua['z']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity'][_0x25a6bd],_0x170046=_0x235be1['qVelocity'][_0x1acc00],ns['x']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity'][_0x25a6bd+(0x1*-0x236e+0x632+0x1d3d)],_0x170046=_0x235be1['qVelocity'][_0x1acc00+(0x2a4*0xe+-0x1db3+-0x744)],ns['y']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity'][_0x25a6bd+(-0x1980+-0x2511+-0xc1*-0x53)],_0x170046=_0x235be1['qVelocity'][_0x1acc00+(0x25c6+0x345+-0x2909)],ns['z']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity2'][_0x25a6bd],_0x170046=_0x235be1['qVelocity2'][_0x1acc00],ka['x']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity2'][_0x25a6bd+(0x43*0x25+-0x1958+0xfaa)],_0x170046=_0x235be1['qVelocity2'][_0x1acc00+(0x1*0x1e49+0xfb*0xd+-0x2b07*0x1)],ka['y']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_0x3b7d4e=_0x235be1['qVelocity2'][_0x25a6bd+(0x2064+-0x89+-0x1fd9)],_0x170046=_0x235be1['qVelocity2'][_0x1acc00+(-0x18b2+-0x3*-0xb38+-0x8f4)],ka['z']=_0x3b7d4e+(_0x170046-_0x3b7d4e)*_0x4e0a9f,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x235be1['initialVel'+'ocity']>0x1*0xd19+0x7b5*-0x5+0x4*0x65c&&(_0x235be1['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x31*-0xb5+-0x1a31+-0x872*0x1)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x235be1['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x235be1['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x14d8fe+=(_0x500719-_0x14d8fe)*Ns['y'],_0x6a3dbd=(_0x6a3dbd+(_0x530433-_0x6a3dbd)*(_0xd6d38c*(-0x2833+-0x7*0x67d+0x7cae)%(-0x1f*-0x103+-0x2466+0x50a)))*Z_,_0x509f6f=(_0x55aacc-_0x4504c4)*(_0xd6d38c*(0x181+0x225f+-0x4*0x7fe)%(-0x2162+0x1*0x3cb+0x1d98)),_0x235be1['meshInstan'+'ce']['node']&&(_0x235be1['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x235be1['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x54af1d)),zt['copy'](Q_),_0x6d9037[_0x52e677*ce]=zt['x'],_0x6d9037[_0x52e677*ce+(-0x121b+-0xb*-0x1b9+-0xd7)]=zt['y'],_0x6d9037[_0x52e677*ce+(-0x262b+0x1e02+0x82b)]=zt['z'],_0x6d9037[_0x52e677*ce+(0x1570+0x1202*0x1+0x2a1*-0xf)]+=_0x14d8fe*_0x54af1d,_0x235be1['wrap']&&_0x235be1['wrapBounds']&&(_0x235be1['localSpace']||zt['sub'](_0x403f11),zt['x']=gf(zt['x'],_0x235be1['wrapBounds']['x'])-_0x235be1['wrapBounds']['x']*(-0x918+0x1*0x779+0x19f+0.5),zt['y']=gf(zt['y'],_0x235be1['wrapBounds']['y'])-_0x235be1['wrapBounds']['y']*(0x5*0x1a0+-0x1*0x18d7+-0x1*-0x10b7+0.5),zt['z']=gf(zt['z'],_0x235be1['wrapBounds']['z'])-_0x235be1['wrapBounds']['z']*(0x19d6+0x1bf9+-0x35cf+0.5),_0x235be1['localSpace']||zt['add'](_0x403f11)),_0x235be1['sort']>-0x2611+0x3*0xccd+-0x56*0x1&&(_0x235be1['sort']===0x1535*-0x1+0x41f*-0x3+-0xbf*-0x2d?(kr['copy'](zt)['sub'](_0x53eff0),_0x235be1['particleDi'+'stance'][_0x52e677]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x235be1['sort']===0x295+0x1*0x1a35+-0x1cc8?_0x235be1['particleDi'+'stance'][_0x52e677]=_0x1ecdc0:_0x235be1['sort']===-0x14f0+0xb6e+0x985&&(_0x235be1['particleDi'+'stance'][_0x52e677]=-_0x1ecdc0))),_0x328dfd?_0x1ecdc0<0x1eaa+0xf08+-0x2db2&&(_0x6d9037[_0x52e677*ce+(-0x682+0x2203+-0x12*0x187)+_0x235be1['numParticl'+'esPot']*(0x1*0xe5a+-0x1ef4+0x109c)*ce]=-(0x1d11+0x141e+-0x5*0x9d6)):(_0x1ecdc0>=_0x57117d&&(_0x1ecdc0-=Math['max'](_0x57117d,(_0x235be1['numParticl'+'es']-(0x7f*0x3e+0x22e+-0x20ef))*_0x4e2865),_0x6d9037[_0x52e677*ce+(0x10a+0x3*0x88a+-0x1aa5)+_0x235be1['numParticl'+'esPot']*(-0x1*0x126a+-0x87f+0x1aeb)*ce]=_0x235be1['loop']?0x22a1+-0x301*0x9+-0x797:-(-0xf52+-0x1a47+-0x1aa*-0x19)),_0x1ecdc0<0x1b81+0x373*0x7+0x4b2*-0xb&&_0x235be1['loop']&&(_0x6d9037[_0x52e677*ce+(-0x12be+0x1fc9*-0x1+0x2*0x1945)+_0x235be1['numParticl'+'esPot']*(-0x1a3f+-0x41*-0x44+-0x3b*-0x27)*ce]=0x1a8b+0x2*0xd7a+-0x357e)),_0x6d9037[_0x52e677*ce+(-0x1dbd+-0x64b+0x1*0x240b)+_0x235be1['numParticl'+'esPot']*(-0x19cd+-0x26*0x3d+0x22dd)*ce]<-0x9*0x30a+-0x6b*-0x19+0x10e7*0x1&&(_0x58b854=!(-0x2653*0x1+0x189e+0xdb6)),_0x6d9037[_0x52e677*ce+(-0x393+0x1*-0x21e1+0x2577)+_0x235be1['numParticl'+'esPot']*ce]=_0x1ecdc0;for(let _0x436f77=0x124a+-0x61*0x2e+-0x4*0x37;_0x436f77<_0x235be1['numParticl'+'eVerts'];_0x436f77++){const _0xebe5d3=(_0x1bc4ad*_0x235be1['numParticl'+'eVerts']+_0x436f77)*(_0x235be1['useMesh']?-0x131d+-0x114*-0x1+0x120f:-0x7d*0x1+-0xaac*-0x1+0x89*-0x13);let _0x1b0d9c=_0x235be1['vbCPU'][_0xebe5d3],_0x3e4ff0=_0x235be1['vbCPU'][_0xebe5d3+(-0x391*-0x5+0x1f5c+-0x3130)],_0x1c0a15=_0x235be1['vbCPU'][_0xebe5d3+(0x1b48+-0x1d36+0x1f0)];_0x58b854||(_0x1b0d9c=_0x3e4ff0=_0x1c0a15=-0xd9+-0x1ec7+0x1fa0);const _0x565743=_0x1bc4ad*_0x235be1['numParticl'+'eVerts']*_0x29413a+_0x436f77*_0x29413a;_0x142cb8[_0x565743]=zt['x'],_0x142cb8[_0x565743+(-0x1a5e+-0x7*0x80+-0x1*-0x1ddf)]=zt['y'],_0x142cb8[_0x565743+(-0x6a9+0x5*0x509+-0x2e*0x67)]=zt['z'],_0x142cb8[_0x565743+(0x6*-0x379+0x1*0x1697+-0x1be)]=_0x402740,_0x142cb8[_0x565743+(0x1d2d+0x1579+-0x32a2)]=_0x235be1['alignToMot'+'ion']?_0xfeae1:_0x6d9037[_0x52e677*ce+(0xc93+-0x130c*-0x1+0x121*-0x1c)],_0x142cb8[_0x565743+(-0x209f+-0xca8+0x2d4c)]=_0x6a3dbd,_0x142cb8[_0x565743+(-0x22d*0x7+0x122*-0x2+0x5d7*0x3)]=_0x509f6f,_0x142cb8[_0x565743+(-0x491*0x3+0x854+-0x1*-0x566)]=fc['x'],_0x142cb8[_0x565743+(-0xd*0xa3+-0x13b2+0x1c01*0x1)]=_0x1b0d9c,_0x142cb8[_0x565743+(-0x427*-0x1+0x208a+-0x24a8)]=_0x3e4ff0,_0x142cb8[_0x565743+(-0x41d*0x1+-0x37*0x6d+0xdc9*0x2)]=_0x1c0a15,_0x142cb8[_0x565743+(-0x919+-0x1f69+0x288d)]=fc['y'],_0x142cb8[_0x565743+(-0x98d*-0x2+-0x8d*0x4+0x10da*-0x1)]=_0x52e677,_0x142cb8[_0x565743+(0x51+0x1*-0x3b+-0x9)]=fc['z'],_0x142cb8[_0x565743+(0x945*0x3+-0x134c*0x1+0x5*-0x1b1)]=_0x235be1['vbCPU'][_0xebe5d3+(-0x1*-0x435+-0xe4f+0xa1d)],_0x235be1['useMesh']&&(_0x142cb8[_0x565743+(-0x1fa+0x65f+-0x456)]=_0x235be1['vbCPU'][_0xebe5d3+(-0x1*-0x333+-0x1b81+0x1*0x1852)],_0x142cb8[_0x565743+(0xd5*-0x1+0x31f+0x1*-0x23a)]=_0x235be1['vbCPU'][_0xebe5d3+(-0x77*-0xc+0x55*0x1+-0x5e4)]);}}if(_0x235be1['sort']>nu&&_0x235be1['camera']){const _0x26ec82=_0x235be1['useMesh']?0x4*0x482+-0xafa*-0x3+-0x32f0:0x164b+-0x20f7+0xe4*0xc,_0x3929ee=_0x235be1['particleDi'+'stance'];for(let _0x542049=0x17aa+-0x1bbf*0x1+0x13*0x37;_0x542049<_0x235be1['numParticl'+'es'];_0x542049++)_0xee93c3[_0x542049][-0xd21+0x7d9+-0x2a4*-0x2]=_0x542049,_0xee93c3[_0x542049][0x1*0x866+0x7ef+0x5*-0x344]=_0x3929ee[Math['floor'](_0x235be1['vbCPU'][_0x542049*_0x235be1['numParticl'+'eVerts']*_0x26ec82+(0x4c3*0x6+0x30b*0xa+-0x3afd)])];_0x235be1['vbOld']['set'](_0x235be1['vbCPU']),_0xee93c3['sort']((_0x1fe884,_0x1b40b7)=>_0x1fe884[-0x1*-0x25c4+0xb09+0x3*-0x1044]-_0x1b40b7[-0xe*0x1eb+0x19eb+0xf0]);for(let _0x26d264=0xad4+0x1e11+-0x28e5;_0x26d264<_0x235be1['numParticl'+'es'];_0x26d264++){const _0x43729e=_0xee93c3[_0x26d264][0x3*-0x109+0x574*-0x3+0x21*0x97]*_0x235be1['numParticl'+'eVerts']*_0x26ec82,_0x5eeed4=_0x26d264*_0x235be1['numParticl'+'eVerts']*_0x26ec82;for(let _0x21ce26=0x18d6+0x117*0xd+-0x2701;_0x21ce26<_0x235be1['numParticl'+'eVerts']*_0x26ec82;_0x21ce26++)_0x235be1['vbCPU'][_0x5eeed4+_0x21ce26]=_0x235be1['vbOld'][_0x43729e+_0x21ce26];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x2a4488,_0x3fade8){this['_emitter']=_0x2a4488,this['frameRando'+'mUniform']=new Float32Array(-0x989*-0x4+-0x17d1*0x1+-0xe5*0x10),this['emitterPos'+'Uniform']=new Float32Array(-0x117d*0x2+0xb*0x30d+0x16e),this['emitterSca'+'leUniform']=new Float32Array([-0x1da9+0x2*-0x6a6+0x2af6,-0x1*0xd69+-0x7b*0x27+0x2027,0x1825+0x1*-0x1dcd+0x5a9]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x2499+0x194a+-0x3de0),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x24e3+-0x182c+-0xcb4),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1f95+0x5bb*0x1+-0x3*0xc6f),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x125*-0x11+0x1*-0x445+0x17bd),this['constantPa'+'rticleTexI'+'N']=_0x3fade8['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x3fade8['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x3fade8['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x3fade8['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x3fade8['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x3fade8['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x3fade8['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x3fade8['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x3fade8['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x3fade8['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x3fade8['scope']['resolve']('delta'),this['constantRa'+'te']=_0x3fade8['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x3fade8['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x3fade8['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x3fade8['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x3fade8['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x3fade8['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x3fade8['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x3fade8['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x3fade8['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x3fade8['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x3fade8['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x3fade8['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x3fade8['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x3fade8['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x3fade8['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x3fade8['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x3fade8['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x3fade8['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x3fade8['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x3fade8['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x3fade8['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x3fade8['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x3fade8['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x3fade8['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x3fade8['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x3fade8['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x20f6+0x581*0x2+0x15f4]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x212e+0x2525+0xa9*-0x6]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x4*-0x923+0x1191+-0x361b]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x17*-0xb5+-0x1*-0x57f+0xac4]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x2*0x55d+-0x1d9+0xc94]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1*-0x22a8+-0x238*0xd+0x1*-0x5ce]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x1c15+0x1555*0x1+0x316a*-0x1]=Math['random'](),this['frameRando'+'mUniform'][0x514+0x1b2e+-0x2041]=Math['random'](),this['frameRando'+'mUniform'][-0x7*0x53+0x95f+0x38c*-0x2]=Math['random']();}['update'](_0x5ee1b6,_0x59355f,_0x499904,_0x3d2db1,_0x4edb16){Q['pushGpuMar'+'ker'](_0x5ee1b6,'ParticleGP'+'U');const _0x59b3e8=this['_emitter'];_0x5ee1b6['setBlendSt'+'ate'](pt['NOBLEND']),_0x5ee1b6['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5ee1b6['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x41e*-0x2+0x174f*0x1+-0x1f8a)/_0x59b3e8['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x59b3e8['precision']),this['constantNu'+'mParticles']['setValue'](_0x59b3e8['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x59b3e8['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x59b3e8['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x59b3e8['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x59b3e8['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x59b3e8['internalTe'+'x3']);const _0x2a792b=_0x59b3e8['meshInstan'+'ce']['node'],_0x1feee3=_0x2a792b===null?D['ONE']:_0x2a792b['localScale'];if(_0x59b3e8['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x41*0x59+-0x2413*-0x1+-0xd7a]=_0x59b3e8['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x1391*0x1+0x2ad*0x1+-0x163d]=_0x59b3e8['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x2d3*-0x2+-0x1*-0x9d3+0x1*-0x42b]=_0x59b3e8['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1c96+0x252f+-0x41c5*0x1]=_0x59b3e8['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x1691+-0x2165+0x37f7]=_0x59b3e8['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x36*0x62+0x3f*0x61+-0x331*0x1]=_0x59b3e8['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0xa2fb3e=_0x59b3e8['maxVel']*Math['max'](Math['max'](_0x1feee3['x'],_0x1feee3['y']),_0x1feee3['z']);_0xa2fb3e=Math['max'](_0xa2fb3e,0x1*-0x916+-0x3*-0x7d+0x7a0),this['constantMa'+'xVel']['setValue'](_0xa2fb3e);}const _0x12052d=_0x2a792b===null||_0x59b3e8['localSpace']?D['ZERO']:_0x2a792b['getPositio'+'n'](),_0x10b2a3=_0x2a792b===null?te['IDENTITY']:_0x2a792b['getWorldTr'+'ansform']();_0x59b3e8['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x59355f),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x499904)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x59b3e8['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x59b3e8['emitterRad'+'ius']===-0x3a*-0xa1+-0x1*-0x9f5+0x1*-0x2e6f?-0x2c4+-0x1*-0x1da5+-0x1ae1:_0x59b3e8['emitterRad'+'iusInner']/_0x59b3e8['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x59b3e8['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x10b2a3),tg['invertMat4'](_0x10b2a3),this['emitterPos'+'Uniform'][-0xfd5+-0x25ee+0x35c3]=_0x12052d['x'],this['emitterPos'+'Uniform'][0x10b8+-0x11*0x168+0x731]=_0x12052d['y'],this['emitterPos'+'Uniform'][0x26e*0x9+-0x9*0x6f+-0x11f5]=_0x12052d['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x3d2db1),this['constantRa'+'te']['setValue'](_0x59b3e8['rate']),this['constantRa'+'teDiv']['setValue'](_0x59b3e8['rate2']-_0x59b3e8['rate']),this['constantSt'+'artAngle']['setValue'](_0x59b3e8['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x59b3e8['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x59b3e8['seed']),this['constantLi'+'fetime']['setValue'](_0x59b3e8['lifetime']),this['emitterSca'+'leUniform'][0x1423+0x2517+-0x393a]=_0x1feee3['x'],this['emitterSca'+'leUniform'][0x7c9*-0x3+-0x1d39+0x783*0x7]=_0x1feee3['y'],this['emitterSca'+'leUniform'][0x1674+-0x8*-0x46e+-0x39e2]=_0x1feee3['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x59b3e8['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x59b3e8['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x59b3e8['rotSpeedUM'+'ax'][-0x2*-0x9b2+0x4*0x31c+-0x1fd4]);let _0x4cf2e2=_0x59b3e8['swapTex']?_0x59b3e8['particleTe'+'xOUT']:_0x59b3e8['particleTe'+'xIN'];_0x4cf2e2=_0x59b3e8['beenReset']?_0x59b3e8['particleTe'+'xStart']:_0x4cf2e2;const _0x599438=_0x59b3e8['swapTex']?_0x59b3e8['particleTe'+'xIN']:_0x59b3e8['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x4cf2e2),Ar(_0x5ee1b6,_0x59b3e8['swapTex']?_0x59b3e8['rtParticle'+'TexIN']:_0x59b3e8['rtParticle'+'TexOUT'],_0x4edb16?_0x59b3e8['shaderPart'+'icleUpdate'+'OnStop']:_0x59b3e8['loop']?_0x59b3e8['shaderPart'+'icleUpdate'+'Respawn']:_0x59b3e8['shaderPart'+'icleUpdate'+'NoRespawn']),_0x59b3e8['material']['setParamet'+'er']('particleTe'+'xOUT',_0x4cf2e2),_0x59b3e8['material']['setParamet'+'er']('particleTe'+'xIN',_0x599438),_0x59b3e8['beenReset']=!(-0xe15+-0x1b6*-0xa+0x3*-0x102),_0x59b3e8['swapTex']=!_0x59b3e8['swapTex'],_0x59b3e8['prevWorldB'+'oundsSize']['copy'](_0x59b3e8['worldBound'+'sSize']),_0x59b3e8['prevWorldB'+'oundsCente'+'r']['copy'](_0x59b3e8['worldBound'+'s']['center']),_0x59b3e8['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x5ee1b6);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x2dc350){let _0x1e6aa3='particle_'+ya['definesHas'+'h'](_0x2dc350['defines'])+'_';for(const _0x22a642 in _0x2dc350)_0x2dc350['hasOwnProp'+'erty'](_0x22a642)&&(_0x1e6aa3+=_0x2dc350[_0x22a642]);return _0x1e6aa3;}['createVert'+'exDefines'](_0x204091,_0x269d3f){const _0x262c8f=new Map(_0x204091['defines']);return _0x204091['mesh']&&_0x262c8f['set']('USE_MESH',''),_0x204091['meshUv']&&_0x262c8f['set']('USE_MESH_U'+'V',''),_0x204091['localSpace']&&_0x262c8f['set']('LOCAL_SPAC'+'E',''),_0x204091['screenSpac'+'e']&&_0x262c8f['set']('SCREEN_SPA'+'CE',''),_0x204091['animTex']&&_0x262c8f['set']('ANIMTEX',''),_0x204091['soft']>0x9*0x40d+-0x320*0x3+-0x1b15&&_0x262c8f['set']('SOFT',''),_0x204091['stretch']>0x1ded+-0x1e19+0x2c&&_0x262c8f['set']('STRETCH',''),_0x204091['customFace']&&_0x262c8f['set']('CUSTOM_FAC'+'E',''),_0x204091['pack8']&&_0x262c8f['set']('PACK8',''),_0x204091['localSpace']&&_0x262c8f['set']('LOCAL_SPAC'+'E',''),_0x204091['animTexLoo'+'p']&&_0x262c8f['set']('ANIMTEX_LO'+'OP',''),_0x204091['wrap']&&_0x262c8f['set']('WRAP',''),_0x204091['alignToMot'+'ion']&&_0x262c8f['set']('ALIGN_TO_M'+'OTION',''),_0x262c8f['set']('NORMAL',sg[_0x204091['normal']]),_0x269d3f['particle_v'+'ertexData']=Me,_0x204091['mesh']&&_0x204091['meshUv']&&(_0x269d3f['particle_u'+'v']=is),_0x204091['useCpu']&&(_0x269d3f['particle_v'+'ertexData2']=uh,_0x269d3f['particle_v'+'ertexData3']=Ap,_0x269d3f['particle_v'+'ertexData4']=Cp,_0x269d3f['particle_v'+'ertexData5']=Pp),_0x262c8f;}['createFrag'+'mentDefine'+'s'](_0x2cc8f4){const _0x2ac58f=new Map(_0x2cc8f4['defines']);return _0x2cc8f4['soft']>-0x1*-0x1be7+-0x1*-0x5ce+-0x1*0x21b5&&_0x2ac58f['set']('SOFT',''),_0x2cc8f4['halflamber'+'t']&&_0x2ac58f['set']('HALF_LAMBE'+'RT',''),_0x2ac58f['set']('NORMAL',sg[_0x2cc8f4['normal']]),_0x2ac58f['set']('BLEND',Yy[_0x2cc8f4['blend']]),_0x2ac58f;}['createShad'+'erDefiniti'+'on'](_0x123bef,_0x12b404){const _0x45b2fd=_0x123bef['isWebGPU']?it:Fe,_0x5b0db9=Pe['get'](_0x123bef,_0x45b2fd),_0x3941b={},_0x35cb87=this['createVert'+'exDefines'](_0x12b404,_0x3941b),_0x27c969=this['createFrag'+'mentDefine'+'s'](_0x12b404),_0x44a3d3='PARTICLE_'+(_0x12b404['useCpu']?'CPU':'GPU')+'\x0a';_0x35cb87['set'](_0x44a3d3,''),_0x27c969['set'](_0x44a3d3,'');const _0x249dd4=new Map(_0x5b0db9);return Jt['createDefi'+'nition'](_0x123bef,{'name':'ParticleSh'+'ader','shaderLanguage':_0x45b2fd,'attributes':_0x3941b,'vertexCode':_0x5b0db9['get']('particle_s'+'haderVS'),'fragmentCode':_0x5b0db9['get']('particle_s'+'haderPS'),'fragmentDefines':_0x27c969,'fragmentIncludes':_0x249dd4,'vertexIncludes':_0x249dd4,'vertexDefines':_0x35cb87});}}const gA=new _A();class SA extends tr{constructor(_0x365a68){super(),h(this,'emitter',null),(this['emitter']=_0x365a68,w['assert'](_0x365a68));}['getShaderV'+'ariant'](_0x36bb47){const {device:_0x3a3735,scene:_0x127fbc,cameraShaderParams:_0x3f6780,objDefs:_0x5e84f8}=_0x36bb47,{emitter:_0x39e40a}=this,_0x580b10={'defines':$t['getCoreDef'+'ines'](this,_0x36bb47),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x39e40a['lighting']?_0x39e40a['normalMap']!==null?-0xd*0xfb+-0x66*-0x40+0x1*-0xcbf:0x1*0x1609+-0x2687+0x29*0x67:0x25f6*0x1+0x24+-0x261a,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x5e84f8&nm,'gamma':(_0x3f6780==null?void(0x1d4+0x1d47+-0x1f1b):_0x3f6780['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x3f6780==null?void(-0x2310+-0x37c*0x7+0x3b74):_0x3f6780['toneMappin'+'g'])??sm,'fog':_0x127fbc&&!this['emitter']['noFog']?_0x127fbc['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x39e40a['inTools']?!(-0x12d4+-0x5*0x16f+-0x200*-0xd):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x1e7096=new Ad(_0x36bb47['viewUnifor'+'mFormat'],_0x36bb47['viewBindGr'+'oupFormat'],_0x36bb47['vertexForm'+'at']),_0x18ae7c=Hn(_0x3a3735);return _0x18ae7c['register']('particle',gA),_0x18ae7c['getProgram']('particle',_0x580b10,_0x1e7096,this['userId']);}}const ig=[[-(0x30f+0x511+0x1b*-0x4d),-(-0x21d9+0x1a07+-0x7d3*-0x1)],[0x8c3*0x1+-0x1788+0x1f*0x7a,-(0x1a70+0x1298+-0x1*0x2d07)],[0x333+-0x192b+0x7d*0x2d,-0x2b8+-0x2254+0x250d],[-(-0x18c7+-0x5e9+0x1eb1),-0x1445*-0x1+-0x1b36+0x6f2]];function xs(_0x3d1bd7,_0x4c4c42,_0x6a47f1,_0x571da9,_0xfc6d15=Xt,_0x29f1b8,_0x3ea2ad){let _0x3ebe95=Te;_0x3ea2ad&&(_0xfc6d15===Ne||_0xfc6d15===_s)&&(_0x3ebe95=vt);const _0x3f6988=new _e(_0x3d1bd7,{'width':_0x4c4c42,'height':_0x6a47f1,'format':_0xfc6d15,'cubemap':!(-0x89*0x46+-0x21b3*0x1+0x472a),'mipmaps':!(-0x3dc+0x1898+0xb7*-0x1d),'minFilter':_0x3ebe95,'magFilter':_0x3ebe95,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x108f92=_0x3f6988['lock']();if(_0xfc6d15===Ne||_0xfc6d15===_s){const _0x1b7710=new Uint8Array(_0x571da9['length']);for(let _0x1b3252=-0x2c7+-0x207*-0x12+-0x9*0x3bf;_0x1b3252<_0x571da9['length'];_0x1b3252++)_0x1b7710[_0x1b3252]=_0x571da9[_0x1b3252]*_0x29f1b8*(0x1e1*-0x1+0x83*-0x49+0x283b);_0x571da9=_0x1b7710;}return _0x108f92['set'](_0x571da9),_0x3f6988['unlock'](),_0x3f6988;}function rg(_0x210be6){return Math['max'](Math['min'](_0x210be6,-0x85*0x1e+0x2*0x1066+-0x371*0x5),0x2224+-0x17*-0x127+-0x3ca5);}const ag=new qs([-0xd51*0x1+0x1f5*-0x1+0x7a3*0x2,-0x2210+-0x177e+0x398e,0x244e+-0xad*0x13+-0x4e*0x4d,-0x7b+-0x1*-0x3fd+-0x382]),ng=new qs([0x231f+-0x1e84+-0x49b,-0x20f5+-0x1215+-0x1*-0x330b,-0x1*-0x6d8+-0x1340+-0x1*-0xc69,-0x27*0xd6+0x1967+0x734]),og=new na([-0x1ba7+0x238c+0x7e5*-0x1,0x9ba+-0x328+-0x692,0x4a3*-0x7+-0x2414+0x448a,-0x2240+0x1*0xcb9+0x1587],[0x2*-0xa6b+0xb59*0x3+-0xd35,0x2*0xf09+0x7cc*0x4+0x1*-0x3d42,0x6*-0x568+0x105+-0x7db*-0x4,-0x887+-0xd55*-0x1+-0x4ce],[-0x38d+-0x1a12+0x1d9f,0x407+-0xad9*-0x2+-0x19b9,0x229*-0xc+0xb78+0xe75,-0x8cc+-0x1*-0x13de+-0xb12*0x1]),yA=new na([-0x783*-0x1+-0x11*0xb5+0x482,0x99*0x1+-0x25e6+0x19*0x17e,-0xeb*0x23+-0x9*0x11d+0x2a27,0x2ff+0x1f*0x9f+-0x163f],[-0x2308+-0x1538+0x3840,0x18e*0x3+-0x515*-0x1+-0x56*0x1d,-0x22e+-0x577*-0x1+0x18*-0x23,-0x2*-0x4ac+-0x1*0x952+-0x5],[-0x1aa6+0x95e*0x2+-0x2*-0x3f5,-0x1*0x1862+-0x11db+0x1*0x2a3e,0x2018+-0xb34+0x1*-0x14e3,0x11*-0x6+0x1fea+0x1f83*-0x1]);let bi=-0x1d6*-0x5+-0x8ae+-0x7e;const pc=0x232*0xf+0x1af*-0xb+0x14f*-0xb,Ai=new Float32Array(0x20df*0x1+-0x1d4e+-0x5b*0xa),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x66eb75,_0x2fee0d){Zc[_0x66eb75]!==void(0xbff+-0xbe1+0xa*-0x3)&&Zc[_0x66eb75]!==null?uu[_0x66eb75]=Zc[_0x66eb75]:uu[_0x66eb75]=_0x2fee0d;}function Dv(_0x2fa21d,_0x16dc64,_0x2d6443){return(_0x2fa21d*(-0x1*0x423+0xd*0x233+0x1775*-0x1)<<-0x2*0x85+0x1572*-0x1+-0x4*-0x5a3|_0x16dc64*(0x48e+-0x1d45+0x19b6*0x1)<<-0xd*0x245+0x54f*0x1+-0x1bb*-0xe|_0x2d6443*(-0x1*0xd4+0x2*0x1186+0x3b1*-0x9))/(0xf4f+0x8bd*-0x1+-0x1*0x691<<0x3*0x6ad+-0xf89+-0x466);}function cg(_0x185c42,_0x444059){const _0x477c1f=_0x185c42['length']/(-0x1*-0x106+-0x12d+0x2a),_0x1a74c0=new Array(_0x477c1f*(0x17a+-0x1974+0x17fe));for(let _0x29dca9=0x24cc+-0x1*-0x19ed+0x3eb9*-0x1;_0x29dca9<_0x477c1f;_0x29dca9++)_0x1a74c0[_0x29dca9*(0x6c2+-0x2b*-0xd6+-0x2ab0)]=_0x185c42[_0x29dca9*(-0x4c*-0x50+-0x7*0x445+0x313*0x2)],_0x1a74c0[_0x29dca9*(0x2fd+0x1fdc+0x25*-0xf1)+(0x209c+0x50c+-0x25a7)]=_0x185c42[_0x29dca9*(0x2ab*-0x5+0x3b*-0x26+0x161c)+(-0x3b*-0x42+-0x199c+-0xa67*-0x1)],_0x1a74c0[_0x29dca9*(-0x1eff*0x1+0x13fb+-0x2*-0x584)+(-0x9a0+-0x1*-0x362+0x190*0x4)]=_0x185c42[_0x29dca9*(0x4*-0x1bb+-0xf61+0x1650)+(-0x71f+-0x37a*-0x5+-0xa41)],_0x1a74c0[_0x29dca9*(-0x28*0xc5+-0x1*-0xa47+-0x33*-0x67)+(-0x206b+0xef8+0x1176)]=Dv(_0x444059[_0x29dca9*(-0x13ed+0x46*0x3+0x131e)],_0x444059[_0x29dca9*(-0x1999*-0x1+-0xb*-0x351+-0x3e11)+(0x1882*0x1+0x1c4f+0xd*-0x410)],_0x444059[_0x29dca9*(0x20ff+0xc*-0x18b+-0xe78)+(0x126e+-0x66d+-0xbff)]);return _0x1a74c0;}function vA(_0x4ec9ae,_0x4cad14){const _0x578519=new Array(_0x4cad14['length']*(0x33e+0x34c*0x4+-0x106a));for(let _0x5d6b51=-0x3*-0xbcc+-0x3d3+-0x1f91*0x1;_0x5d6b51<_0x4cad14['length'];_0x5d6b51++)_0x578519[_0x5d6b51*(-0x174a+-0xe*-0xcd+0xc18*0x1)]=_0x4ec9ae[_0x5d6b51*(-0x1*0x2615+0x1956+0xcc2*0x1)],_0x578519[_0x5d6b51*(-0xc5b+0x8a0+-0x3bf*-0x1)+(-0x365+-0x614*0x4+-0x2*-0xddb)]=_0x4ec9ae[_0x5d6b51*(0x4b7*-0x2+-0x1*-0x1cce+-0x135d)+(0x13d6*-0x1+0x1938+-0x1b*0x33)],_0x578519[_0x5d6b51*(0x1315+0x1844+0x1*-0x2b55)+(0xd*0xd5+0x1f99*-0x1+-0x6*-0x377)]=_0x4ec9ae[_0x5d6b51*(0x2256+0x1c62+-0x3*0x14e7)+(-0x233c*-0x1+0x3d*0x22+-0x2b54)],_0x578519[_0x5d6b51*(-0x3af+-0x143e+0x17f1)+(-0x816+0xe2a+-0x611)]=_0x4cad14[_0x5d6b51];return _0x578519;}function xA(_0x531813,_0x30e0b0,_0x5f1be7,_0x408cc0,_0x26de70){const _0x5b653c=new Array(_0x531813['length']*(-0x50b*-0x1+-0x24a5+0x1f9e));for(let _0x4361c3=0x1dc5+0x8*-0x2b+-0x1c6d;_0x4361c3<_0x531813['length'];_0x4361c3++)_0x5b653c[_0x4361c3*(0xd79+-0x56e*-0x7+-0x3377)]=_0x531813[_0x4361c3],_0x5b653c[_0x4361c3*(-0x162a+0x1*-0x5c5+0x1bf3)+(-0x130e+-0x66+-0x1*-0x1375)]=_0x30e0b0[_0x4361c3],_0x5b653c[_0x4361c3*(-0x2550+0x49d+-0x68b*-0x5)+(-0x1*0x2699+0x49d*0x7+-0x650*-0x1)]=0x1a0c*-0x1+0x3*0x60f+0x7df,_0x5b653c[_0x4361c3*(-0x1*0x178b+0xc96+-0xaf9*-0x1)+(0x3*0x5d+-0x24b*0xc+0x1a70)]=Dv(_0x5f1be7[_0x4361c3],_0x408cc0[_0x4361c3],_0x26de70[_0x4361c3]);return _0x5b653c;}function TA(_0x4d5de8,_0x302071){const _0x2179a0=new Array(_0x4d5de8['length']*(0x1*0x15b5+0x1c07+-0x31b8));for(let _0x4f59d8=-0x1*-0x269f+-0x8ec+-0x1db3;_0x4f59d8<_0x4d5de8['length'];_0x4f59d8++)_0x2179a0[_0x4f59d8*(-0x12d*-0xe+0x203*-0xa+0xbc*0x5)]=_0x4d5de8[_0x4f59d8],_0x2179a0[_0x4f59d8*(0x892+0x2504+0x26*-0x133)+(0x2*0x64d+0x3*-0x6ed+0x82e)]=_0x302071[_0x4f59d8],_0x2179a0[_0x4f59d8*(-0x9*0x97+0xfea+-0xa97)+(0x1*0x21eb+0x1*0x590+-0x2779)]=-0x222a+-0xe6*0x21+0x3fd0,_0x2179a0[_0x4f59d8*(-0x1*-0x11f9+-0x141c+-0x13*-0x1d)+(0xd97+-0x13b9+-0x625*-0x1)]=-0x121*-0x16+-0x1596+0x10*-0x34;return _0x2179a0;}function wA(_0x46cb77){const _0xf582ac=Math['max'](_0x46cb77['rate'],_0x46cb77['rate2'])*_0x46cb77['numParticl'+'es']+_0x46cb77['lifetime'];return Date['now']()+_0xf582ac*(-0x5d*-0x7+-0x2474+0x25d1);}function EA(_0x236291,_0x5b1753){const _0x1e4c74=new Float32Array(_0x236291['length']);for(let _0x52ce10=-0x179a+-0x1*-0xc06+0xb94;_0x52ce10<_0x236291['length'];_0x52ce10++)_0x1e4c74[_0x52ce10]=_0x236291[_0x52ce10]-_0x5b1753[_0x52ce10];return _0x1e4c74;}function Xr(_0x54e297,_0x1ae7e0){const _0x3bb398=_0x1ae7e0['length'],_0x51c126=_0x54e297['length']/_0x3bb398;for(let _0x35786e=-0x3d1*0x4+-0x9*0xd7+0x1*0x16d3;_0x35786e<_0x51c126;_0x35786e++)for(let _0x15a923=-0xa5+-0x1fef+0x2094*0x1;_0x15a923<_0x3bb398;_0x15a923++){const _0x332fc5=Math['abs'](_0x54e297[_0x35786e*_0x3bb398+_0x15a923]);_0x1ae7e0[_0x15a923]=Math['max'](_0x1ae7e0[_0x15a923],_0x332fc5);}}function bA(_0x61c636,_0x1c08e9){const _0x2168fc=_0x1c08e9['length'],_0xc3d40a=_0x61c636['length']/_0x2168fc;for(let _0x116237=-0x1*0x12c6+-0x1228+-0x3a*-0xa3;_0x116237<_0xc3d40a;_0x116237++)for(let _0x3ca11a=-0x1*0x38b+0x9c*0x10+-0x635*0x1;_0x3ca11a<_0x2168fc;_0x3ca11a++)_0x61c636[_0x116237*_0x2168fc+_0x3ca11a]/=_0x1c08e9[_0x3ca11a]===-0x11*0x8c+0xd94+-0x224*0x2?0xdb*-0x16+-0x1*0x691+0x41*0x64:_0x1c08e9[_0x3ca11a],_0x61c636[_0x116237*_0x2168fc+_0x3ca11a]*=0x15e7+0xe1a+-0x2401+0.5,_0x61c636[_0x116237*_0x2168fc+_0x3ca11a]+=0x2*0x5d5+-0xd2+-0xad8+0.5;}function Br(_0x258bf0,_0x43ff34,_0x1f7af2){const _0x1a957b=EA(_0x43ff34,_0x258bf0);return Xr(_0x1a957b,_0x1f7af2),bA(_0x1a957b,_0x1f7af2),_0x1a957b;}const AA=new Kt();class CA{constructor(_0x3e5bac,_0x125732){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x3e5bac;const _0x4e2d2e=_0x3e5bac,_0x25b7c7=-0x1*-0xfb+-0x332*-0x2+0x23*-0x35;this['precision']=_0x25b7c7,this['_addTimeTi'+'me']=-0x1636+-0x324*-0x2+0xfee,uu=this,Zc=_0x125732,he('numParticl'+'es',0xc17*-0x2+0x17e*0xe+0x34b),this['numParticl'+'es']>_0x3e5bac['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x3e5bac['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x3e5bac['maxTexture'+'Size']),he('rate',-0x1f0c*-0x1+0x113b+-0x3046),he('rate2',this['rate']),he('lifetime',-0x8f*-0x45+-0x10f7+-0x1562),he('emitterExt'+'ents',new D(-0x21c*-0x5+-0x23ca+0x193e,0x2*-0x1099+0xb*-0x179+-0x9e1*-0x5,0x38*-0xa1+0x6aa*0x5+0x1e6)),he('emitterExt'+'entsInner',new D(0x1221+-0x5*0x5c4+0xab3,-0x224e*0x1+-0x4e1*-0x3+0x13ab,0x1*0x20a9+-0x7b6*0x5+0x5e5*0x1)),he('emitterRad'+'ius',0xd*-0x130+0x1eb4+-0xf44),he('emitterRad'+'iusInner',-0x6aa+-0x1b1d+-0x1*-0x21c7),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x260b+-0xedb+-0x172f),he('wrap',!(-0x9*0x1+0xe3a+-0xe30)),he('localSpace',!(0x1984+-0x16fb+-0x288)),he('screenSpac'+'e',!(-0x109e+-0x1*0x2523+-0x1ae1*-0x2)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x2d1*-0x1+0x51*-0x30+0x1201)),he('preWarm',!(-0x26ec+-0x217e+0x486b*0x1)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x11db*0x1+0x7f1+-0x19cb)),he('halfLamber'+'t',!(0x1*-0x26d3+-0x3*-0x407+0x1abf)),he('intensity',-0x1bf9+-0xa9*0x35+-0x51*-0xc7),he('stretch',0xa01+-0xb*0x18c+-0x5*-0x167),he('alignToMot'+'ion',!(0xad0*-0x2+0x25*-0xf7+0x3954)),he('depthSofte'+'ning',-0x26f0+0xd03+0x19ed),he('mesh',null),he('particleNo'+'rmal',new D(0x1807+0x7db*0x1+0x9a*-0x35,-0xcbd+-0x1f03+0x2bc1,-0x187d+0x100a+-0x1*-0x873)),he('orientatio'+'n',yh),he('depthWrite',!(-0x2c1*-0x3+0x4e5*-0x3+0x66d)),he('noFog',!(0x1*-0x170f+-0x205d+0x376d)),he('blendType',Zs),he('node',null),he('startAngle',-0x1*0x233f+0x19c3+0x97c),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x3*0x9eb+0x160f+-0x33cf),he('animTilesY',-0x1e32+-0x1d3f+-0x2*-0x1db9),he('animStartF'+'rame',0x219c+0xc2b+-0x2dc7),he('animNumFra'+'mes',0x4a+0xc0d*0x2+0x821*-0x3),he('animNumAni'+'mations',0x563+0x1*-0xb29+0x5c7),he('animIndex',0x1*-0x1934+-0x1503+0x2e37),he('randomizeA'+'nimIndex',!(-0x1e89*-0x1+-0xbb6+-0x12d2)),he('animSpeed',0x58f+0x38*-0x68+0x47*0x3e),he('animLoop',!(-0x1*0xcee+0x11f8+-0x50a)),this['_gpuUpdate'+'r']=new mA(this,_0x4e2d2e),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x1*0x1546+0x1ada+-0x591),this['wrapBounds'+'Uniform']=new Float32Array(-0x1021*-0x2+-0x1dd9+-0x266),this['emitterSca'+'leUniform']=new Float32Array([0x9*-0x26b+0xa*0x1a5+0x552,0x186d+0x11fb*0x2+-0x83*0x76,0x1163+0x899+-0x19fb]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x23c*-0xa+-0x1*-0x23a5+0x1*-0x39fb),this['animParams']=new Float32Array(0xeef+-0x1a8*-0x10+-0x296b),this['animIndexP'+'arams']=new Float32Array(0x7b7+-0x2*-0xd2b+0x15*-0x19f),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0xe74+-0x194f+0x3fa*0xa),this['useMesh']=!(0x1f5a+-0x11fe+-0x2*0x6ae),this['useCpu']=!_0x3e5bac['supportsGp'+'uParticles'],this['pack8']=!(0xd5d+0x1*0x2bb+0xa*-0x19c),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0x13b*-0x1c+-0x1*-0x1915+0x95f*0x1,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1bf3+-0xf10+-0xce3,this['numParticl'+'eIndices']=-0x11c6+0x18*-0x14b+-0x1*-0x30ce,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x923+-0x1*0xba1+0x14c4,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x12cd+0x2*-0xc3a+0x2b42)/(0x1cfd+-0x1249+-0x29e*0x4),this['maxSubStep'+'s']=-0x1*-0x203+-0x8*-0x2bd+-0x17e1,this['simTime']=0xcf6+0x2586+0x59c*-0x9,this['simTimeTot'+'al']=-0x2*-0x800+0x5*-0x793+0x15df,this['beenReset']=!(-0x1052+-0xb33+0x1b86),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x262dfb=new Float32Array(-0x1d33+-0x7*0xa7+0x25c4);for(let _0x574a8c=0x1936+-0x1529+-0x11*0x3d;_0x574a8c<-0x21*-0x116+-0x3*0x16d+-0x1f7f;_0x574a8c++)for(let _0x345ce6=-0x22*-0x9d+0x1edf+-0x33b9;_0x345ce6<-0x2431+0x18c6+0x1*0xb7b;_0x345ce6++){const _0xa168ae=_0x345ce6+(0x23e0+0x99c+-0x1*0x2d7b)-(-0x1ae7*-0x1+-0x1a62+-0x7d+0.5),_0x489ba4=_0x574a8c+(-0x3*-0x798+-0x18b+-0x153c)-(-0x1664+0xbf*0x2f+0x437*-0x3+0.5),_0x5dd3fe=rg(-0x1c10+-0x810+0xc0b*0x3-rg(Math['sqrt'](_0xa168ae*_0xa168ae+_0x489ba4*_0x489ba4)/(-0x1*-0x25+-0x6*-0xf4+-0x63*0xf))-(0x1*-0xfcf+-0x412+0x13e1+0.5)),_0x49ddfe=_0x574a8c*(0x26ee+0x5*0x496+-0x3dcc)+_0x345ce6;_0x262dfb[_0x49ddfe*(-0x1*-0x251+-0x1*0x509+-0x1c*-0x19)]=0x2c*0x70+0x1*0x875+0x9*-0x314,_0x262dfb[_0x49ddfe*(-0xc87*0x2+0x2170+-0x85e)+(-0x3eb+-0x2664+0x2a50)]=-0xcf*-0x7+0x3a9+-0x951,_0x262dfb[_0x49ddfe*(0x902*0x4+0x230d+0x71*-0xa1)+(0xe90*-0x2+-0x1*0x1a52+0xddd*0x4)]=0x1735+-0x53a*0x3+-0x6b*0x12,_0x262dfb[_0x49ddfe*(-0x2d3+-0x21*-0x76+-0xc5f*0x1)+(-0x20ba+-0x1cb*0x1+0x2288)]=_0x5dd3fe;}const _0x57e08e=xs(this['graphicsDe'+'vice'],0x1fc*0xf+0x26bb*-0x1+0x907*0x1,-0x5*0x601+0x1e65+-0x50,_0x262dfb,_s,-0x7c0*0x2+-0x19f+0x1120,!(0x22db*-0x1+-0x2*0x29a+0x280f*0x1));return _0x57e08e['minFilter']=vt,_0x57e08e['magFilter']=vt,_0x57e08e;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x73b+0x486*0x1+-0x2b6*-0x1)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x23e8+-0x173*-0x17+-0x14*-0x21)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x137a+-0x1*0x475+0xbf8*0x2)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0xafe+-0x54b+0x6*-0xf3)),this['worldBound'+'sAdd']['x']+=0x15*-0x157+0x281*-0x1+0x1ea4+0.5,this['worldBound'+'sAdd']['y']+=-0x1474+-0x21f+0x1693+0.5,this['worldBound'+'sAdd']['z']+=-0x43e+-0xcee+0x1c*0x9d+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x6c0ac0=!(-0x2f*0xb6+0x1b10+0x65b);this['emitterSha'+'pe']===ai?_0x6c0ac0=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x6c0ac0=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x6c0ac0&&this['calculateL'+'ocalBounds']();}const _0x5ef492=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x5ef492),this['worldBound'+'sTrail'][-0x1196+-0x3e*-0x6f+-0x2*0x4a6]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x7*-0x1cf+0x1*-0xac9+-0x1df]['add'](this['worldBound'+'sNoTrail']);const _0xf6c4d7=this['simTimeTot'+'al'];_0xf6c4d7>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x1c4+0x215+-0x51*0x1]['copy'](this['worldBound'+'sTrail'][-0x9bb*0x4+0x1664+0x1089]),this['worldBound'+'sTrail'][0x1dc1+-0x23aa+0x5ea]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0xf6c4d7+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x206c+-0xa*-0x213+0xbae]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x59*-0x34+0x11ed+0x61*-0x5f),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5ef492),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5ef492)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x140+-0x133*-0x3+0x1*-0x4d8-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1871*0x1+0x256*0xc+-0x3479]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1191+0x1b23+0x1*-0x2cb3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x26*-0xe3+0xe14*-0x2+-0x58a]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x20b1+-0x1cb7+-0x3f8),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0xd4*0x12+0x1*0x63f+0x8a9,this['timeToSwit'+'chBounds']=-0xdbf+-0x3*-0xbbf+-0x2a*0x83);}['calculateL'+'ocalBounds'](){let _0x47c4e4=Number['MAX_VALUE'],_0x56db10=Number['MAX_VALUE'],_0x12ef2e=Number['MAX_VALUE'],_0x3cdf27=-Number['MAX_VALUE'],_0x209e75=-Number['MAX_VALUE'],_0x46a697=-Number['MAX_VALUE'],_0x3894c7=-0x20af*-0x1+-0xea7*0x2+-0x361,_0xd934f2=-0xe16+0xf07+0xf1*-0x1;const _0x390d33=this['lifetime']/this['precision'],_0xbcab1=[this['qVelocity'],this['qVelocity2']],_0x66c67c=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x2234e2=[-0x1*0x716+0x1*0xdbe+-0x6a8,0xc3b*-0x2+0x2*-0x1027+0x38c4],_0x4440cb=[0x4*-0x7f4+-0x12bc*0x2+0x4548,-0xf*0x91+0xf89+0x385*-0x2],_0xc38e1=[0x862+-0x270e+0x1eac,0x1*0x1cc6+-0x19dd+0x5*-0x95],_0x4b19c2=[0x26a8+0x1176+-0x2*0x1c0f,-0x1c2*0x3+-0x10c9+0x160f],_0x1d79c3=[0x236d+0x2403+0x7f*-0x90,0x1*0x132d+0xda1+-0x20ce];let _0x59dda1,_0xb484a2,_0x39cf15;for(let _0x5cc166=-0x91+-0x2*-0x7d3+-0xf15;_0x5cc166<this['precision']+(0x131d*0x1+0x270e*-0x1+0x13f2);_0x5cc166++){const _0x1e22e4=Math['min'](_0x5cc166,this['precision']-(-0x7*0x4a1+0x1100+0xf68));for(let _0x8adef5=-0x1f86+-0x19f1*0x1+-0x1*-0x3977;_0x8adef5<0x1c86+0x5*-0x4ff+-0xb5*0x5;_0x8adef5++)_0x59dda1=_0x66c67c[_0x8adef5][_0x1e22e4*(0xc2c+0x13ff*0x1+-0x2028)+(-0x1*-0x72e+0x5e2+-0x130*0xb)]*_0x390d33+_0x2234e2[_0x8adef5],_0xb484a2=_0x66c67c[_0x8adef5][_0x1e22e4*(-0xdf*0x2c+-0xa97*-0x1+0x1*0x1bc0)+(0x387+0x1*-0x923+-0x59d*-0x1)]*_0x390d33+_0x4440cb[_0x8adef5],_0x39cf15=_0x66c67c[_0x8adef5][_0x1e22e4*(0x2d1+0xea5+-0x1173)+(-0x30*0x4+0x1e22+-0x3ac*0x8)]*_0x390d33+_0xc38e1[_0x8adef5],_0x47c4e4=Math['min'](_0x59dda1,_0x47c4e4),_0x56db10=Math['min'](_0xb484a2,_0x56db10),_0x12ef2e=Math['min'](_0x39cf15,_0x12ef2e),_0x3cdf27=Math['max'](_0x59dda1,_0x3cdf27),_0x209e75=Math['max'](_0xb484a2,_0x209e75),_0x46a697=Math['max'](_0x39cf15,_0x46a697),_0x2234e2[_0x8adef5]=_0x59dda1,_0x4440cb[_0x8adef5]=_0xb484a2,_0xc38e1[_0x8adef5]=_0x39cf15;for(let _0x1abd00=-0x9c7+-0xe6*-0x10+-0x499;_0x1abd00<0x1ba*-0xe+0x5*-0xd7+0x1c61;_0x1abd00++)_0x1d79c3[_0x1abd00]+=_0x390d33*Math['sqrt'](_0xbcab1[_0x1abd00][_0x1e22e4*(0x4*-0x6d9+-0x895+-0x23fc*-0x1)+(-0xd67+0x1f1e+-0x11b7)]*_0xbcab1[_0x1abd00][_0x1e22e4*(-0x2*0x982+0x154b+-0x4*0x91)+(-0x1*0x18fb+-0x842*-0x3+0x35*0x1)]+_0xbcab1[_0x1abd00][_0x1e22e4*(-0x1*0xd39+-0x1cdb+0x1af*0x19)+(0x1f3*0x13+0x264e*0x1+-0x4b56)]*_0xbcab1[_0x1abd00][_0x1e22e4*(-0x822+0x4*-0x9b9+0x2f09)+(0x43*0xa+0x1a*-0x103+0x17b1)]+_0xbcab1[_0x1abd00][_0x1e22e4*(0x2656+0xb*0x349+-0xc69*0x6)+(0x61f+0x3*-0x92f+0x1570)]*_0xbcab1[_0x1abd00][_0x1e22e4*(0x52e+-0x5d*-0x21+-0x2dc*0x6)+(-0x4b5+0x1*0x16b1+0xd*-0x162)]);_0x4b19c2[0x35*-0x37+0x2226+-0x16c3]+=this['qRadialSpe'+'ed'][_0x1e22e4]*_0x390d33,_0x4b19c2[0x1884+0x1c4b+0x5de*-0x9]+=this['qRadialSpe'+'ed2'][_0x1e22e4]*_0x390d33,_0x3894c7=Math['max'](_0x3894c7,Math['max'](Math['abs'](_0x4b19c2[-0x135*-0xf+-0xce*-0x1c+-0x28a3]),Math['abs'](_0x4b19c2[-0x1416+0x50*0x76+-0x10c9]))),_0xd934f2=Math['max'](_0xd934f2,this['qScale'][_0x1e22e4]);}this['emitterSha'+'pe']===ai?(_0x59dda1=this['emitterExt'+'ents']['x']*(-0x27e*0x3+-0x1f11+-0x1*-0x268b+0.5),_0xb484a2=this['emitterExt'+'ents']['y']*(-0x13b3+-0x8*0x41f+0x34ab+0.5),_0x39cf15=this['emitterExt'+'ents']['z']*(0x1*0x193+-0x9c*0xd+-0x659*-0x1+0.5)):(_0x59dda1=this['emitterRad'+'ius'],_0xb484a2=this['emitterRad'+'ius'],_0x39cf15=this['emitterRad'+'ius']);const _0x3a2f1b=Math['max'](_0x1d79c3[-0x1*0x796+-0x1*0x6b+0x801],_0x1d79c3[0x159c+0x1200+-0x279b]);mc['x']=_0x47c4e4-_0xd934f2-_0x59dda1-_0x3894c7-_0x3a2f1b,mc['y']=_0x56db10-_0xd934f2-_0xb484a2-_0x3894c7-_0x3a2f1b,mc['z']=_0x12ef2e-_0xd934f2-_0x39cf15-_0x3894c7-_0x3a2f1b,_c['x']=_0x3cdf27+_0xd934f2+_0x59dda1+_0x3894c7+_0x3a2f1b,_c['y']=_0x209e75+_0xd934f2+_0xb484a2+_0x3894c7+_0x3a2f1b,_c['z']=_0x46a697+_0xd934f2+_0x39cf15+_0x3894c7+_0x3a2f1b,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x510f42=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x510f42['maxVertexT'+'extures']<=0x1f*0xa5+0x553+-0x194d||_0x510f42['fragmentUn'+'iformsCoun'+'t']<-0x2ab+0xa2e+-0x743||_0x510f42['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x510f42['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0xe4b*0x1+0x4*0x158+0x1*0x8ef:0x1d2e+0x1*-0x1d8f+0x63,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0xad3+-0x1*-0x1748+-0x221b]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x52*0x38+-0x2479+-0x71*-0x2a]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1a3f+-0x3*0x553+-0x6*0x1b6),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x2eb6c0=-0x1f95+0x1*0x2543+0x2*-0x2d7;_0x2eb6c0<this['numParticl'+'es'];_0x2eb6c0++)this['vbToSort'][_0x2eb6c0]=[-0x20f5+-0x1c0f*0x1+0x2c6*0x16,-0xcf*0x3+0x1e2f+-0x26*0xbb];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x3f0698=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x1c0*0x12+-0xfb2+0x2f32]=this['emitterExt'+'ents']['x']!==0x35e*-0x7+0x11f4+0x2cf*0x2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x7*0x28a+0x19*-0x35+0xeb*0x19,Ai[-0x2249+0x1*0x12c4+0x7c3*0x2]=this['emitterExt'+'ents']['y']!==0x2*-0xe2d+0x1*-0x77b+0x1*0x23d5?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x10d7+0x327*-0x5+0x5c*-0x3,Ai[0xb*-0x30d+0x1e1a+0x1*0x377]=this['emitterExt'+'ents']['z']!==0xa7*0x10+0x1d*0x14c+0x5*-0x99c?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x17f8+0x1f73+0x3*-0x1279);for(let _0x4b15da=0xf09+0x23a2*0x1+-0x32ab;_0x4b15da<this['numParticl'+'es'];_0x4b15da++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x3f0698,_0x4b15da),this['useCpu']&&(this['particleTe'+'x'][_0x4b15da*pc+(0x49*-0x8+-0x2604+0x284f)+this['numParticl'+'esPot']*(0xd*-0x251+0x9*-0x3c2+0x1*0x3ff1)*pc]=0x157d+0xd24+0x1150*-0x2);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0xae7728=0x11c1+-0x49c+-0x5*0x2a1;_0xae7728<this['particleTe'+'xStart']['length'];_0xae7728++)this['particleTe'+'xStart'][_0xae7728]=this['particleTe'+'x'][_0xae7728];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x10a6+0xc5*0x26+-0x125*0xb,!(-0x3d8+-0x1442+-0x181b*-0x1)),this['particleTe'+'xOUT']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x6d*0x2d+-0x20aa+0xd82,!(0x27a+0x21f8+-0x2471)),this['particleTe'+'xStart']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0xc34+0x2ef+-0x946*-0x1,!(0x11*0xa7+-0x257b+-0x1d*-0xe9))):(this['particleTe'+'xIN']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x510f42,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x417+0x4c4*-0x1+0x2a*0x36)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1*-0x1ad2+-0x13c*-0xa+-0x7d5*0x5)}),this['swapTex']=!(0x3*-0x51f+-0x1*-0xe37+-0x5*-0x3b));const _0x6d97a2=new Map();this['localSpace']&&_0x6d97a2['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x6d97a2['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x6d97a2['set']('EMITTERSHA'+'PE_BOX','');const _0x5bac3e='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x80d3ce=Pe['get'](_0x510f42,_0x510f42['isWebGPU']?it:Fe),_0x18b4fe=new Map(_0x80d3ce),_0x4ac946={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x6d97a2,'fragmentIncludes':_0x18b4fe};_0x4ac946['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x5bac3e,_0x6d97a2['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x510f42,_0x4ac946),_0x6d97a2['delete']('RESPAWN'),_0x4ac946['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x5bac3e,_0x6d97a2['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x510f42,_0x4ac946),_0x6d97a2['delete']('NO_RESPAWN'),_0x4ac946['uniqueName']='ParticleUp'+'dateStop-'+_0x5bac3e,_0x6d97a2['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x510f42,_0x4ac946),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x45*-0x1f+-0x3a4+0xc03,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x45*0x27+-0x8e4*-0x1+-0x1*0x1367]['numIndices']:0xf70+0x1ea9+-0x2e13,this['_allocate'](this['numParticl'+'es']);const _0x542e25=new Ge(_0x510f42);_0x542e25['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x542e25['indexBuffe'+'r'][0x78f*0x1+-0xd27*-0x1+-0x2*0xa5b]=this['indexBuffe'+'r'],_0x542e25['primitive'][0x1*0x1e0f+0x1315+-0x3124]['type']=js,_0x542e25['primitive'][0x163e+0x1*0x1f47+-0x3585]['base']=-0x781+0x1*0x2ff+0x482*0x1,_0x542e25['primitive'][0x1a5a+-0x7*0x33b+-0x3*0x13f]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x542e25['primitive'][-0x235*0x1+0x1f3e+-0x1d09]['indexed']=!(0x4*-0x139+-0x32d*0x3+0xe6b),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x43eef9=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x211+0xf0e+-0x111f);this['meshInstan'+'ce']=new He(_0x542e25,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x197b+0x3b7*0xa+-0xbaa),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x1*0xc83+-0x2*0xd2d+-0x26dd*-0x1),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x5*-0xb2+-0x2*0x869+0xc9*0x11),this['meshInstan'+'ce']['visible']=_0x43eef9,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0xced+0x939*-0x4+0x31d1,!(-0x121c+0x14fb+-0x2de)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0xa99*0x2+0x108d+0x4a6&&(this['animTilesX']>-0x1ca4+0x3e5*0x5+0x92c||this['animTilesY']>-0x2201+0x1*0x126b+0xf97)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x1e899c=this['precision'],_0x59d0ac=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x1e899c),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x1e899c),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x1e899c,-0x266c+-0x7*-0x4a9+0x5*0x129,0x36d*-0x4+0x9c9+-0x1*-0x3ec),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x1e899c),this['qScale']=this['scaleGraph']['quantize'](_0x1e899c),this['qAlpha']=this['alphaGraph']['quantize'](_0x1e899c),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x1e899c),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x1e899c),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x1e899c),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x1e899c,0x25bb+-0x2317+0x1a*-0x1a,-0x1f1a*0x1+-0x18ff+0x381a),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x1e899c),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x1e899c),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x1e899c),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x1e899c);for(let _0x5cadd1=-0x1311+-0x10f3+0x2404;_0x5cadd1<_0x1e899c;_0x5cadd1++)this['qRotSpeed'][_0x5cadd1]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x5cadd1]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x10*-0x26e+-0xdbe*0x1+-0x34a1*-0x1),this['velocityUM'+'ax']=new Float32Array(0x1*0x22e9+-0x126b+-0x107b),this['colorUMax']=new Float32Array(0x118f+0xb*-0x35f+0x1389),this['rotSpeedUM'+'ax']=[0xb5f*0x1+-0x1e99+0x133a],this['scaleUMax']=[-0x23d6+-0x469*0x7+0x42b5*0x1],this['alphaUMax']=[0xb7b+0x1c4b+-0x27c6],this['radialSpee'+'dUMax']=[0x15d7+0xd45+-0x231c],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x242bc3=[0xd03+-0x184f*0x1+0xb4c,-0x2*0xc94+0x140b+0x51d,-0xc76+-0x17de+0x2454];Xr(this['qVelocity'],_0x242bc3);const _0x2f507d=[-0x10*0x24f+0xc50+0x18a0,0x2f*-0xb5+-0xb*0x139+0x2eae*0x1,0x179e*-0x1+0x3e*0x2e+0xc7a];Xr(this['qVelocity2'],_0x2f507d);const _0x465bf1=[-0x23af+0xd27+0x1688,0x538+0x262a+-0x2b62,0x10eb*-0x2+0x2e4*-0x2+0x279e];Xr(this['qLocalVelo'+'city'],_0x465bf1);const _0x12c7db=[-0x13eb*0x1+-0x26b7+0x3aa2,0x109c+0x32b*0xb+-0x3375,0x1c22+-0x21b*0x12+-0x2*-0x4e2];Xr(this['qLocalVelo'+'city2'],_0x12c7db);const _0x5188de=[0x1*0xae7+0x17e6+-0x22cd];Xr(this['qRadialSpe'+'ed'],_0x5188de);const _0x4366f5=[0xc*0x240+-0x17b+-0x1985];Xr(this['qRadialSpe'+'ed2'],_0x4366f5);let _0x4222e7=Math['max'](_0x242bc3[0x182d+-0xf88*-0x1+-0x217*0x13],_0x2f507d[-0xbc+0x751+-0x695]);_0x4222e7=Math['max'](_0x4222e7,_0x242bc3[-0x1*0x10d+-0x1*0x16e8+0x1*0x17f6]),_0x4222e7=Math['max'](_0x4222e7,_0x2f507d[-0x1*-0x170f+-0x1*0x1465+-0x1*0x2a9]),_0x4222e7=Math['max'](_0x4222e7,_0x242bc3[0x249a*0x1+0x11e8+-0x6d0*0x8]),_0x4222e7=Math['max'](_0x4222e7,_0x2f507d[-0x593+-0x1473+0x341*0x8]);let _0x5eeb31=Math['max'](_0x465bf1[-0x1da3+-0xc7e+0x2a21],_0x12c7db[0xf0*0x23+0x2*0xe01+0xc2a*-0x5]);_0x5eeb31=Math['max'](_0x5eeb31,_0x465bf1[0x24b6+0x4*-0x42d+-0x1401]),_0x5eeb31=Math['max'](_0x5eeb31,_0x12c7db[-0x138c+0x55*-0xb+0x1734]),_0x5eeb31=Math['max'](_0x5eeb31,_0x465bf1[0x3*0x58e+0x1b08+-0x15d8*0x2]),_0x5eeb31=Math['max'](_0x5eeb31,_0x12c7db[0xb*0x35e+-0x25b2+0xaa]);const _0x2b5b85=Math['max'](_0x5188de[0xb*-0x2b3+-0x4*-0x859+0x1*-0x3b3],_0x4366f5[-0x1508+-0x1c3f+0x57*0x91]);this['maxVel']=_0x4222e7+_0x5eeb31+_0x2b5b85;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x59d0ac,_0x1e899c,-0x2*-0x25f+-0xe3*-0x17+-0x2*0xc91,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x59d0ac,_0x1e899c,0x1015+0x544*0x2+0x6a7*-0x4,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x59d0ac,_0x1e899c,-0x353*0x3+0xb03+-0x35*0x5,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x59d0ac,_0x1e899c,0xd*-0x125+0x1881+0x99f*-0x1,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x59d0ac,_0x1e899c,0x1*0x22df+-0x1b5f+0x1*-0x77f,vA(this['qColor'],this['qAlpha']),_s,-0x1a81+-0xcce*0x1+0x2750,!(0x1394*0x1+0x2e8+-0xb3e*0x2));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x51831b=new SA(this);return _0x51831b['name']='EmitterMat'+'erial:'+this['node']['name'],_0x51831b['cull']=bt,_0x51831b['alphaWrite']=!(0xa1d+0x679+0xf*-0x11b),_0x51831b['blendType']=this['blendType'],_0x51831b['depthWrite']=this['depthWrite'],_0x51831b;}['resetMater'+'ial'](){const _0x158792=this['material'];_0x158792['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x158792['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x158792['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x158792['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x158792['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x158792['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x158792['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x158792['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x158792['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x158792['setParamet'+'er']('colorParam',this['colorParam']),_0x158792['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x158792['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x158792['setParamet'+'er']('lifetime',this['lifetime']),_0x158792['setParamet'+'er']('rate',this['rate']),_0x158792['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x158792['setParamet'+'er']('seed',this['seed']),_0x158792['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x7*-0x2a+-0x243c+0x2316]),_0x158792['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x8e1+-0x1e*0x14d+-0x1*-0x2fe7]),_0x158792['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x8*0x3b3+-0x12b1*0x2+0x2*0x217d]),_0x158792['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x158792['setParamet'+'er']('graphSampl'+'eSize',(-0x2c5*0x5+-0x4*-0x576+-0x2aa*0x3)/this['precision']),_0x158792['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x5a*-0x33+-0x1c6b+0xa7e*0x1,0x71e*0x2+-0x698*0x4+0xc25,0x5e0+-0x3*-0x73b+-0x1b90])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x158792['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x158792['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x158792['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x94a*0x2+0x8*0x4b7+-0x1324]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x2*0xd7+-0x79d+0x94c]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x181+0xe0a*0x1+0x3*-0x42d]=this['wrapBounds']['z'],_0x158792['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x2456+0x3e5*-0x3+0x3005&&_0x158792['setParamet'+'er']('softening',(-0x226b+-0x19e9+0x3c55)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x5*-0x4b3+-0xe31+-0x8ea))),this['stretch']>0x8a2+0x2141+-0x29e3*0x1&&(_0x158792['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x1d1f7f,_0x25e7f1;if(this['orientatio'+'n']===yh)_0x1d1f7f=new Float32Array([-0x16d7+-0x20aa+0x3782,-0x2611+0x14c*0xc+0x1681,-0x110d+-0x13*-0x16d+-0xa0a]),_0x25e7f1=new Float32Array([0x76d*0x1+-0x231a+0x1bad,-0x19f*-0x5+-0x243*0xe+0x25*0xa3,0x26b0+-0x23a0+0x105*-0x3]);else{let _0x585e49;this['orientatio'+'n']===Vw?_0x585e49=this['particleNo'+'rmal']['normalize']():_0x585e49=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x3107ec=new D(0x21f1*0x1+0xe*0x22b+-0x404a,-0x3*0x916+0x2216*-0x1+0x3d58,0x15e1+-0x2345+0xd64);Math['abs'](_0x3107ec['dot'](_0x585e49))===-0x1268+-0x15b*0xd+0x2408&&_0x3107ec['set'](0x4ff*0x4+0xbfe+-0x2*0xffd,-0xe49+-0x149+0x7c9*0x2,0x1*0x9e0+0x38c*0x8+-0x263f);const _0x440fd7=new D()['cross'](_0x585e49,_0x3107ec)['normalize']();_0x3107ec['cross'](_0x440fd7,_0x585e49)['normalize'](),_0x1d1f7f=new Float32Array([_0x3107ec['x'],_0x3107ec['y'],_0x3107ec['z']]),_0x25e7f1=new Float32Array([_0x440fd7['x'],_0x440fd7['y'],_0x440fd7['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x1d1f7f),this['material']['setParamet'+'er']('faceBinorm',_0x25e7f1);}['getVertexI'+'nfo'](){const _0x27afac=[];return this['useCpu']?_0x27afac['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x1a5a+0x9*0x16f+-0x273d:-0xf3a+-0x4be*-0x5+-0x87a,'type':Ve}):(_0x27afac['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x27afac['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x27afac;}['_allocate'](_0x3e7af0){const _0x4c4308=_0x3e7af0*this['numParticl'+'eVerts'],_0x6b0609=_0x3e7af0*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x1*-0x71+0x14c*-0x2+0x15*0x25)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x4c4308){const _0x60b8aa=this['getVertexI'+'nfo'](),_0xf0f7a7=new kt(this['graphicsDe'+'vice'],_0x60b8aa);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0xf0f7a7,_0x4c4308,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x6b0609);const _0x3276c9=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x301ee5,_0x373195,_0x3ca2df;if(this['useMesh']){_0x301ee5=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x373195=_0x301ee5['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x4e010d=-0xd2d+-0x48*-0x9+0xaa5;_0x4e010d<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x4e010d++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4e010d]['name']===is){_0x3ca2df=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4e010d]['offset']/(0x1*0x1c09+-0x58d+-0x1678);break;}}for(let _0x362993=-0xaa8+0x20d+0x89b;_0x362993<_0x4c4308;_0x362993++){const _0x56d34e=Math['floor'](_0x362993/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x3ab074=_0x362993%this['numParticl'+'eVerts'];_0x3276c9[_0x362993*(0x2606+0x5*0x199+0x1*-0x2dfd)]=_0x301ee5[_0x3ab074*_0x373195],_0x3276c9[_0x362993*(0x8eb+0x1*-0x26e8+0x1e03)+(0xb5*-0x25+-0x449+0x1e73*0x1)]=_0x301ee5[_0x3ab074*_0x373195+(-0x1ba8+0xc9d*0x3+-0xa2e)],_0x3276c9[_0x362993*(-0x124f*0x2+0x95e+-0x1*-0x1b46)+(-0x459*0x3+-0x2*0xa1c+-0x11*-0x1f5)]=_0x301ee5[_0x3ab074*_0x373195+(0x10ba*-0x2+-0xef*0x1f+-0x27f*-0x19)],_0x3276c9[_0x362993*(0x61*-0x3f+-0xd5a+0x253f*0x1)+(-0x2154+0x15be+0xb99*0x1)]=_0x56d34e,_0x3276c9[_0x362993*(-0x202e+-0x512+0x2546)+(-0x70d+-0x1893+0x51*0x64)]=_0x301ee5[_0x3ab074*_0x373195+_0x3ca2df+(-0x1163+-0x4eb*0x3+-0x16*-0x176)],_0x3276c9[_0x362993*(-0x37*0xa5+0x1487*0x1+-0x779*-0x2)+(0x1c6a+0x1fa0+-0x3c05)]=0x1*0x1d75+-0x19ca+0x7*-0x86-_0x301ee5[_0x3ab074*_0x373195+_0x3ca2df+(0xe59*-0x1+-0x9f7+0x5*0x4dd)];}else{const _0x240142=_0x362993%(0x5*-0x66b+0x509*-0x2+-0x1*-0x2a2d);_0x3276c9[_0x362993*(-0x353*0x9+-0x1568+0x151*0x27)]=ig[_0x240142][-0x1*-0x78d+-0x7f9+-0x9*-0xc],_0x3276c9[_0x362993*(-0x101*-0x23+0x121f*0x1+-0x353e)+(-0x151*0xb+0x15db+-0x33*0x25)]=ig[_0x240142][-0x959+0x15ab+-0x1*0xc51],_0x3276c9[_0x362993*(0x24c2+-0x1159+0x1*-0x1365)+(0x13d*0x10+0x10fd+-0x24cb)]=0x594+0x1dd7*0x1+-0x236b,_0x3276c9[_0x362993*(0x4f2+-0x2018+0x487*0x6)+(0x11b7+-0xd*0x191+0x1*0x2a9)]=_0x56d34e;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x3276c9),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x16c008=-0x11*0x1eb+-0x5e*-0x59+-0x13;const _0x34f98d=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x2e5cdc=this['mesh']['indexBuffe'+'r'][-0x168+0x1*-0x1507+0x1*0x166f];_0x301ee5=new Sh[_0x2e5cdc['format']](_0x2e5cdc['lock']());}for(let _0x2a24a2=0x5*0x7ac+0x1*0x9ad+-0x3009;_0x2a24a2<_0x3e7af0;_0x2a24a2++)if(this['useMesh']){for(let _0x7fbce7=-0xf72*0x1+-0x95a+0x2*0xc66;_0x7fbce7<this['numParticl'+'eIndices'];_0x7fbce7++)_0x34f98d[_0x2a24a2*this['numParticl'+'eIndices']+_0x7fbce7]=_0x301ee5[_0x7fbce7]+_0x2a24a2*this['numParticl'+'eVerts'];}else{const _0x12efc8=_0x2a24a2*(-0x1b0c+-0x29*0xd3+0x3cdb);_0x34f98d[_0x16c008++]=_0x12efc8,_0x34f98d[_0x16c008++]=_0x12efc8+(-0x3*0x9b6+-0x2051+0x3d74),_0x34f98d[_0x16c008++]=_0x12efc8+(0x2618+-0x1*0xe81+0x1*-0x1795),_0x34f98d[_0x16c008++]=_0x12efc8,_0x34f98d[_0x16c008++]=_0x12efc8+(-0x1e5a+0x16e5+-0xd*-0x93),_0x34f98d[_0x16c008++]=_0x12efc8+(0x1c0+0x28*-0xe2+0x2193);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0xcf6+-0x17*0x1+-0x1*0xcdf]['unlock']();}}['reset'](){if(this['beenReset']=!(0x973*-0x1+-0x181a+0x218d),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x23ed2d=0xda7*0x2+0x13*-0xc2+-0x7*0x1d8;_0x23ed2d<this['particleTe'+'xStart']['length'];_0x23ed2d++)this['particleTe'+'x'][_0x23ed2d]=this['particleTe'+'xStart'][_0x23ed2d];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x5d7b45=this['loop'];this['loop']=!(-0x59*-0x43+-0xc9*-0x1d+0x2e10*-0x1),this['addTime'](-0x1393+-0x6f1+-0x6a1*-0x4,!(-0x169b+0x524+0x1178)),this['loop']=_0x5d7b45,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x347b6e){const _0x23246d=_0x347b6e/this['lifetime'],_0x20e8d6=Math['min'](Math['floor'](_0x23246d*this['precision']),this['precision']),_0x1fe896=_0x347b6e/_0x20e8d6;for(let _0x20ff19=0xf45+-0x4*-0x22+-0xfcd;_0x20ff19<_0x20e8d6;_0x20ff19++)this['addTime'](_0x1fe896,!(0xb1a+0x152b+0x4*-0x811));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x265fdd,_0x17b5fb){const _0xa442c5=this['graphicsDe'+'vice'],_0x5d9ce6=de();if(this['simTimeTot'+'al']+=_0x265fdd,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x1a2a6b=this['animTilesP'+'arams'];_0x1a2a6b[-0x1a*-0xe2+0x1902+0x17fb*-0x2]=(0x775+0x1*0x10df+-0x1*0x1853)/this['animTilesX'],_0x1a2a6b[-0x2*-0x147+0x61d*-0x1+-0x390*-0x1]=(0x1a*0xef+-0x2001+0xdc*0x9)/this['animTilesY'];const _0x4f6306=this['animParams'];_0x4f6306[-0x8*0x2e7+0x1a74+-0x1*0x33c]=this['animStartF'+'rame'],_0x4f6306[-0x48*0x76+-0x1cc2+-0x1*-0x3df3]=this['animNumFra'+'mes']*this['animSpeed'],_0x4f6306[-0x3a1*-0x1+-0x1157+0xdb8]=this['animNumFra'+'mes']-(-0xbbb*0x3+-0xf92*-0x2+0x40e),_0x4f6306[0x1b72+0x437*0x1+-0x2*0xfd3]=this['animNumAni'+'mations']-(0x2694+-0x2425*-0x1+-0x4ab8);const _0x3e3631=this['animIndexP'+'arams'];_0x3e3631[0x7*0x361+0x169b+-0x2e42]=this['animIndex'],_0x3e3631[0x685+-0x4*-0x8ed+-0x2a38]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x8*-0x94+0x3*0x3e3+-0x1049]=this['emitterExt'+'ents']['x']!==-0x254a+0x77c*0x5+-0x22*0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x5*-0x2b4+0xf1a+-0x1c9e,Ai[0x6d6+-0x1ea8+-0x3*-0x7f1]=this['emitterExt'+'ents']['y']!==-0x2*0x916+-0x3a*-0x65+-0x86*0x9?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1a19+-0xee8+0x2901,Ai[0x3b*-0x67+0x144d+-0x7*-0x7e]=this['emitterExt'+'ents']['z']!==0x565*-0x1+0x19bf+0x209*-0xa?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x5b3+0x4*-0x937+0x2a8f,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x14f07b;const _0xfb5f62=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x2cd*-0xd+-0x1*0x4b5+-0x1fb4]=_0xfb5f62['x'],this['emitterSca'+'leUniform'][-0x23cd+0x180e+-0x178*-0x8]=_0xfb5f62['y'],this['emitterSca'+'leUniform'][-0x1*-0xc59+-0x3*0xcf1+-0x5*-0x54c]=_0xfb5f62['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x14f07b=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x82+0x8a+-0x8]=_0x14f07b['x'],this['emitterPos'+'Uniform'][-0xb*0x305+0x1*0x1d3+-0x1*-0x1f65]=_0x14f07b['y'],this['emitterPos'+'Uniform'][0x1d02+0x2*0x1328+0x10d4*-0x4]=_0x14f07b['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0xa442c5,Ur,Ai,_0x265fdd,_0x17b5fb);else{const _0x15277e=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x15277e,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x14f07b,_0x265fdd,_0x17b5fb);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x412+0xd07+-0x8f4)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x5d9ce6;}['_destroyRe'+'sources'](){var _0x2e3d64,_0x417ad3,_0x53d182,_0x4c76fc,_0x50d5c7,_0x26b25b,_0xb2c80b,_0x1bd3dd,_0x33d410,_0x4a30ae,_0x5b7bea,_0x276e4b;(_0x2e3d64=this['particleTe'+'xIN'])==null||_0x2e3d64['destroy'](),this['particleTe'+'xIN']=null,(_0x417ad3=this['particleTe'+'xOUT'])==null||_0x417ad3['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x53d182=this['rtParticle'+'TexIN'])==null||_0x53d182['destroy'](),this['rtParticle'+'TexIN']=null,(_0x4c76fc=this['rtParticle'+'TexOUT'])==null||_0x4c76fc['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x50d5c7=this['internalTe'+'x0'])==null||_0x50d5c7['destroy'](),this['internalTe'+'x0']=null,(_0x26b25b=this['internalTe'+'x1'])==null||_0x26b25b['destroy'](),this['internalTe'+'x1']=null,(_0xb2c80b=this['internalTe'+'x2'])==null||_0xb2c80b['destroy'](),this['internalTe'+'x2']=null,(_0x1bd3dd=this['internalTe'+'x3'])==null||_0x1bd3dd['destroy'](),this['internalTe'+'x3']=null,(_0x33d410=this['colorParam'])==null||_0x33d410['destroy'](),this['colorParam']=null,(_0x4a30ae=this['vertexBuff'+'er'])==null||_0x4a30ae['destroy'](),this['vertexBuff'+'er']=void(-0x8b+-0x443+0x4ce),(_0x5b7bea=this['indexBuffe'+'r'])==null||_0x5b7bea['destroy'](),this['indexBuffe'+'r']=void(-0x1c7a+-0x11*0x182+0x361c),(_0x276e4b=this['material'])==null||_0x276e4b['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x242fce){var _0x3e0de7;const _0x31983b=_0x242fce['shaderDesc'],_0x490ff7=_0x31983b['vertexGLSL']?hi(_0x31983b['vertexGLSL']):0x38*-0x46+-0x1f50+0x8*0x5d4,_0x270f19=_0x31983b['fragmentGL'+'SL']?hi(_0x31983b['fragmentGL'+'SL']):0xd05+-0x1561+0x1*0x85c,_0xd88588=_0x31983b['vertexWGSL']?hi(_0x31983b['vertexWGSL']):0xe35+-0x1286+-0x55*-0xd,_0x13ef9c=_0x31983b['fragmentWG'+'SL']?hi(_0x31983b['fragmentWG'+'SL']):-0x4e5*-0x3+-0x1a*0x111+0xd0b,_0x4c6807=ya['definesHas'+'h'](_0x242fce['defines']),_0x1b606e=((_0x3e0de7=_0x242fce['shaderChun'+'ks'])==null?void(0xf3*-0x5+-0x8e6+0x1f3*0x7):_0x3e0de7['key'])??'';let _0x476cc6=_0x31983b['uniqueName']+'_'+_0x4c6807+'_'+_0x490ff7+'_'+_0x270f19+'_'+_0xd88588+'_'+_0x13ef9c+'_'+_0x1b606e;return _0x242fce['skin']&&(_0x476cc6+='_skin'),_0x242fce['useInstanc'+'ing']&&(_0x476cc6+='_inst'),_0x242fce['useMorphPo'+'sition']&&(_0x476cc6+='_morphp'),_0x242fce['useMorphNo'+'rmal']&&(_0x476cc6+='_morphn'),_0x242fce['useMorphTe'+'xtureBased'+'Int']&&(_0x476cc6+='_morphi'),_0x476cc6;}['createAttr'+'ibutesDefi'+'nition'](_0x3fe2fe,_0x472f11){const _0x1a8207=_0x472f11['shaderDesc']['attributes'],_0x378a0f=_0x1a8207?{..._0x1a8207}:void(0xd*-0x12a+0xef*0x4+-0x1*-0xb66);_0x472f11['skin']&&(_0x378a0f['vertex_bon'+'eWeights']=gi,_0x378a0f['vertex_bon'+'eIndices']=us),(_0x472f11['useMorphPo'+'sition']||_0x472f11['useMorphNo'+'rmal'])&&(_0x378a0f['morph_vert'+'ex_id']=Ln),_0x3fe2fe['attributes']=_0x378a0f;}['createVert'+'exDefiniti'+'on'](_0x2c31b8,_0x2902d4,_0x2ec063,_0x47fdc1){const _0x391f11=_0x2902d4['shaderDesc'],_0x474a1c=new Map(_0x2ec063);_0x474a1c['set']('transformI'+'nstancingV'+'S','');const _0x8edbd=new Map(_0x2902d4['defines']);_0x2902d4['skin']&&_0x8edbd['set']('SKIN',!(0x1*-0x4e5+0xd3*-0x1f+-0x1*-0x1e72)),_0x2902d4['useInstanc'+'ing']&&_0x8edbd['set']('INSTANCING',!(0xa7f*0x3+-0x1f91*0x1+0x14)),(_0x2902d4['useMorphPo'+'sition']||_0x2902d4['useMorphNo'+'rmal'])&&(_0x8edbd['set']('MORPHING',!(0x2636+-0x11f6+0xc0*-0x1b)),_0x2902d4['useMorphTe'+'xtureBased'+'Int']&&_0x8edbd['set']('MORPHING_I'+'NT',!(0x97*-0x3a+-0x696+0x28cc)),_0x2902d4['useMorphPo'+'sition']&&_0x8edbd['set']('MORPHING_P'+'OSITION',!(-0x139c+-0x1*0x2577+0x3913)),_0x2902d4['useMorphNo'+'rmal']&&_0x8edbd['set']('MORPHING_N'+'ORMAL',!(0x95f+-0x1bb2+-0x1*-0x1253))),_0x2c31b8['vertexCode']=_0x47fdc1?_0x391f11['vertexWGSL']:_0x391f11['vertexGLSL'],_0x2c31b8['vertexIncl'+'udes']=_0x474a1c,_0x2c31b8['vertexDefi'+'nes']=_0x8edbd;}['createFrag'+'mentDefini'+'tion'](_0x3effd7,_0x3d39d8,_0x3b2542,_0x599261){const _0x587d70=_0x3d39d8['shaderDesc'],_0x37fd13=new Map(_0x3b2542),_0x145e3a=new Map(_0x3d39d8['defines']);_0x3effd7['fragmentCo'+'de']=_0x599261?_0x587d70['fragmentWG'+'SL']:_0x587d70['fragmentGL'+'SL'],_0x3effd7['fragmentIn'+'cludes']=_0x37fd13,_0x3effd7['fragmentDe'+'fines']=_0x145e3a;}['createShad'+'erDefiniti'+'on'](_0x25c7e9,_0x3b3cd6){var _0x24fe7f;const _0x9a17cc=_0x3b3cd6['shaderDesc'],_0x26a145=_0x25c7e9['isWebGPU']&&!!_0x9a17cc['vertexWGSL']&&!!_0x9a17cc['fragmentWG'+'SL']&&(((_0x24fe7f=_0x3b3cd6['shaderChun'+'ks'])==null?void(-0x1bb6+0x3e4+0xbe9*0x2):_0x24fe7f['useWGSL'])??!(0xa93*-0x1+0x2*0x9e1+-0x92f*0x1)),_0x2c21ec={'name':'ShaderMate'+'rial-'+_0x9a17cc['uniqueName'],'shaderLanguage':_0x26a145?it:Fe,'fragmentOutputTypes':_0x9a17cc['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x9a17cc['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x9a17cc['meshBindGr'+'oupFormat']},_0x1d40e0=_0x26a145?it:Fe,_0x2be6d6=bh['merge'](Pe['get'](_0x25c7e9,_0x1d40e0),_0x3b3cd6['shaderChun'+'ks'][_0x1d40e0]);return this['createAttr'+'ibutesDefi'+'nition'](_0x2c21ec,_0x3b3cd6),this['createVert'+'exDefiniti'+'on'](_0x2c21ec,_0x3b3cd6,_0x2be6d6,_0x26a145),this['createFrag'+'mentDefini'+'tion'](_0x2c21ec,_0x3b3cd6,_0x2be6d6,_0x26a145),Jt['createDefi'+'nition'](_0x25c7e9,_0x2c21ec);}}const MA=new PA();class Xn extends tr{constructor(_0x126c62){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x126c62;}set['shaderDesc'](_0x3c80bb){if(this['_shaderDes'+'c']=void(-0x26c+0x221c+-0xc*0x2a4),_0x3c80bb&&(this['_shaderDes'+'c']={'uniqueName':_0x3c80bb['uniqueName'],'attributes':_0x3c80bb['attributes'],'fragmentOutputTypes':_0x3c80bb['fragmentOu'+'tputTypes'],'vertexGLSL':_0x3c80bb['vertexGLSL'],'fragmentGLSL':_0x3c80bb['fragmentGL'+'SL'],'vertexWGSL':_0x3c80bb['vertexWGSL'],'fragmentWGSL':_0x3c80bb['fragmentWG'+'SL']},_0x3c80bb['vertexCode']||_0x3c80bb['fragmentCo'+'de']||_0x3c80bb['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x3c80bb['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x3826e2=_0x3c80bb['shaderLang'+'uage']??Fe;_0x3826e2===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x3c80bb['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x3c80bb['fragmentCo'+'de']):_0x3826e2===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x3c80bb['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x3c80bb['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3f3a4b){return super['copy'](_0x3f3a4b),this['shaderDesc']=_0x3f3a4b['shaderDesc'],this;}['getShaderV'+'ariant'](_0x2ed858){const {objDefs:_0x1c6206}=_0x2ed858,_0x3ada3c={'defines':$t['getCoreDef'+'ines'](this,_0x2ed858),'skin':(_0x1c6206&nl)!==0x1753+-0x1*-0xd33+-0x2486,'useInstancing':(_0x1c6206&ol)!==0xf6*0x1b+0x252+-0x10c*0x1b,'useMorphPosition':(_0x1c6206&ll)!==0x18*0xfe+-0x2ce*-0x6+-0x28a4,'useMorphNormal':(_0x1c6206&cl)!==0x1da*0x2+0x3b9*0x7+-0x13*0x191,'useMorphTextureBasedInt':(_0x1c6206&hl)!==-0x1*-0x1beb+-0x67e+-0x156d,'pass':_0x2ed858['pass'],'gamma':_0x2ed858['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x2ed858['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x2ed858['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x176e5d=new Ad(_0x2ed858['viewUnifor'+'mFormat'],_0x2ed858['viewBindGr'+'oupFormat'],_0x2ed858['vertexForm'+'at']),_0x2aca4b=Hn(_0x2ed858['device']);return _0x2aca4b['register']('shader-mat'+'erial',MA),_0x2aca4b['getProgram']('shader-mat'+'erial',_0x3ada3c,_0x176e5d,this['userId']);}}const Iv=(_0x43e176,_0x3fbb5e)=>{const _0x3099c1=_0x3fbb5e['length']/(-0x24e*-0x4+-0xf*0xf7+0x544),_0x1d8da3=_0x43e176['length']/(0x65b+0x12db*0x1+-0x1933),_0x367043=new D(),_0x10ab19=new D(),_0x5df1f7=new D(),_0x2d92d0=new D(),_0x5b2df0=new D(),_0x48ca2c=new D(),_0x5ee9fc=[];for(let _0x1e24db=-0x12f5+-0x1*-0x453+0xea2;_0x1e24db<_0x43e176['length'];_0x1e24db++)_0x5ee9fc[_0x1e24db]=-0x4b6+-0x7dd*-0x4+0xd5f*-0x2;for(let _0x43325c=-0x65e+-0x1f93+0x25f1*0x1;_0x43325c<_0x3099c1;_0x43325c++){const _0x1a5cef=_0x3fbb5e[_0x43325c*(0xa62+0xc1*-0x31+0xb3*0x26)],_0x5e1cd5=_0x3fbb5e[_0x43325c*(0x3*-0x59c+0x151a+-0x443)+(-0x8*-0x3ac+0x9f3*-0x1+0x4db*-0x4)],_0x39dca9=_0x3fbb5e[_0x43325c*(0x78c+0x5*-0x201+0x1*0x27c)+(0x4ad*-0x7+-0x6dc*-0x1+0x19e1)];_0x367043['set'](_0x43e176[_0x1a5cef*(0x98*-0x3d+0xc46*-0x1+0x3081)],_0x43e176[_0x1a5cef*(-0x1da9*-0x1+-0x412*-0x2+0x566*-0x7)+(-0x24b3+-0x17*0x17f+0x471d)],_0x43e176[_0x1a5cef*(-0x1d12+-0x1*-0x11ff+0x1d9*0x6)+(0x10f*0xd+0x1*0x1efe+-0x4f*0x91)]),_0x10ab19['set'](_0x43e176[_0x5e1cd5*(0x232+0x1a9c+-0x1ccb)],_0x43e176[_0x5e1cd5*(-0xa*0x16a+-0x7f*0x3+0xfa4)+(0x1*-0x587+0xdb+0x4ad)],_0x43e176[_0x5e1cd5*(-0x5f3*0x2+0x1*0x347+0x8a2)+(0x7c7+-0x14c9+0xd04)]),_0x5df1f7['set'](_0x43e176[_0x39dca9*(0x24a8+0x25f0+-0x1*0x4a95)],_0x43e176[_0x39dca9*(-0x1*-0x1b6b+-0x1*0x80b+-0x135d*0x1)+(-0x2531+0x151*-0x1c+0x1*0x4a0e)],_0x43e176[_0x39dca9*(0x1*-0x1e21+-0x14ce+0x32f2)+(-0x25ea*-0x1+0xf95*-0x1+0x7f*-0x2d)]),_0x2d92d0['sub2'](_0x10ab19,_0x367043),_0x5b2df0['sub2'](_0x5df1f7,_0x367043),_0x48ca2c['cross'](_0x2d92d0,_0x5b2df0)['normalize'](),_0x5ee9fc[_0x1a5cef*(-0x1baa+0x8*0x3c7+0x5d*-0x7)]+=_0x48ca2c['x'],_0x5ee9fc[_0x1a5cef*(0x23f8+-0xc83+-0x1772*0x1)+(0x4*0x454+-0x209c+0xf4d)]+=_0x48ca2c['y'],_0x5ee9fc[_0x1a5cef*(0xcc1*-0x1+0x94a*-0x3+0x28a2)+(0xa08+0x6ca+0x868*-0x2)]+=_0x48ca2c['z'],_0x5ee9fc[_0x5e1cd5*(-0x764+-0x10bc+0x1823)]+=_0x48ca2c['x'],_0x5ee9fc[_0x5e1cd5*(-0x410*0x5+-0x21e5+0x3638)+(0x44c+-0x4*-0x530+0x1*-0x190b)]+=_0x48ca2c['y'],_0x5ee9fc[_0x5e1cd5*(0x109*0x25+-0x18a7+-0xda3)+(-0x4f*0x4f+-0x101c+-0x5c9*-0x7)]+=_0x48ca2c['z'],_0x5ee9fc[_0x39dca9*(0x1887+-0x1c54+0x3d0)]+=_0x48ca2c['x'],_0x5ee9fc[_0x39dca9*(-0x1d2*-0x6+0x1e13*0x1+-0xf4*0x2b)+(0x175*-0x15+0x1fa2+-0x108)]+=_0x48ca2c['y'],_0x5ee9fc[_0x39dca9*(0x2b*0x8a+0x5*0xef+0x1fd*-0xe)+(-0x78b+0x73a+0x53)]+=_0x48ca2c['z'];}for(let _0x381656=0x6ee+0x1*0x21c5+-0x28b3;_0x381656<_0x1d8da3;_0x381656++){const _0x1a6ad8=_0x5ee9fc[_0x381656*(-0x2*-0x12aa+-0x136*-0x11+-0x39e7)],_0xb36af5=_0x5ee9fc[_0x381656*(-0x251f+-0xc*-0xb8+0x1c82)+(-0xa*0x175+-0x365+0x11f8)],_0x2485f7=_0x5ee9fc[_0x381656*(-0x63*0xb+0x131b+-0xed7)+(0x17*-0x13+-0x1887+0x1a3e)],_0x48b152=(0x1596+0x702*0x5+-0x389f)/Math['sqrt'](_0x1a6ad8*_0x1a6ad8+_0xb36af5*_0xb36af5+_0x2485f7*_0x2485f7);_0x5ee9fc[_0x381656*(-0x1c12+0x1bf5+-0x10*-0x2)]*=_0x48b152,_0x5ee9fc[_0x381656*(0xac*-0x1f+-0x2501+0x6*0x9a4)+(-0x1289*0x1+-0x71*-0x1b+0x71*0xf)]*=_0x48b152,_0x5ee9fc[_0x381656*(0x1d4a+0x18d*0xf+0x541*-0xa)+(0xa1f+0x24ef+0x2*-0x1786)]*=_0x48b152;}return _0x5ee9fc;},Mr=(_0x125974,_0x5f0b3d,_0x49ba4b,_0x9621e0)=>{const _0x30eb8c=_0x9621e0['length']/(0x1*0x567+0x11*0x23b+-0x2b4f),_0x2a24e0=_0x125974['length']/(0x5e8*-0x5+-0x65*0x31+0x1870*0x2),_0x55630a=new D(),_0x20e3e8=new D(),_0xce5032=new D(),_0xd8e18f=new J(),_0x5f0d4a=new J(),_0x1b4c8f=new J(),_0x15ebcc=new D(),_0x795aa9=new D(),_0x4acb4e=new Float32Array(_0x2a24e0*(0x1*0x883+-0x1613*-0x1+-0x1e93)),_0x33d7e7=new Float32Array(_0x2a24e0*(-0x8*-0x32b+-0x24d8+0x1a5*0x7)),_0x1fa49d=[];for(let _0x44a4b1=-0x1*-0x51b+-0x1bdb+0x16c0;_0x44a4b1<_0x30eb8c;_0x44a4b1++){const _0x16b74c=_0x9621e0[_0x44a4b1*(-0x1*0x23b+0xc*-0x2cd+-0x23da*-0x1)],_0x35de22=_0x9621e0[_0x44a4b1*(0x1*0x127d+0x1*-0x1641+-0x3c7*-0x1)+(-0xf*0x192+-0xbca+0x2359)],_0x49aedf=_0x9621e0[_0x44a4b1*(0x471+0x20b*-0x7+0x9df)+(0x6be*0x4+0xe43+-0x2939)];_0x55630a['set'](_0x125974[_0x16b74c*(-0xa4*-0x4+-0x7*0x43f+0x1b2c)],_0x125974[_0x16b74c*(0x24b*-0x5+-0x244c+0x2fc6)+(-0xf*0x1e5+-0xca*-0x1b+0x71e)],_0x125974[_0x16b74c*(0x1d5b+-0x1939+-0x41f)+(0x1e42+0x3*-0x4e7+0x17*-0xad)]),_0x20e3e8['set'](_0x125974[_0x35de22*(-0x517+-0x11*0x89+-0x5*-0x2d7)],_0x125974[_0x35de22*(0x245a+0x760+-0x2bb7)+(-0x1d12*0x1+0x2619+-0xb*0xd2)],_0x125974[_0x35de22*(0x3b*-0x26+-0xc3d+-0x1*-0x1502)+(0x900+-0x7eb*0x1+-0x113)]),_0xce5032['set'](_0x125974[_0x49aedf*(-0xc75*0x1+-0x1f89+0x2c01)],_0x125974[_0x49aedf*(0x1e*-0x3b+0x6ae+0x1*0x3f)+(0x2*0xf3e+0x1*0x93+-0xa*0x31b)],_0x125974[_0x49aedf*(0x1182+0x672+-0x17f1)+(0xeca+-0x8*0x1ec+0x4*0x26)]),_0xd8e18f['set'](_0x49ba4b[_0x16b74c*(-0x29*0x1d+0x1783+0x96e*-0x2)],_0x49ba4b[_0x16b74c*(0xd8e+0x221d+-0x2fa9)+(0xbe8+0xbf*-0x1d+0x164*0x7)]),_0x5f0d4a['set'](_0x49ba4b[_0x35de22*(-0x1d2a+-0x4*0x96+-0x1f84*-0x1)],_0x49ba4b[_0x35de22*(0x1591+-0xb66*-0x1+0x8f*-0x3b)+(0x33e+-0x1*-0x1c22+0x1*-0x1f5f)]),_0x1b4c8f['set'](_0x49ba4b[_0x49aedf*(-0x1331*-0x1+0x970*-0x1+0x9bf*-0x1)],_0x49ba4b[_0x49aedf*(-0x2313+-0x503+0x2818)+(-0x32b+-0x38*0x1b+0x914)]);const _0x368381=_0x20e3e8['x']-_0x55630a['x'],_0x5cc8da=_0xce5032['x']-_0x55630a['x'],_0x388ed1=_0x20e3e8['y']-_0x55630a['y'],_0x3e5e65=_0xce5032['y']-_0x55630a['y'],_0x3f4508=_0x20e3e8['z']-_0x55630a['z'],_0x16f298=_0xce5032['z']-_0x55630a['z'],_0x290090=_0x5f0d4a['x']-_0xd8e18f['x'],_0x262510=_0x1b4c8f['x']-_0xd8e18f['x'],_0xf14461=_0x5f0d4a['y']-_0xd8e18f['y'],_0x15c8d3=_0x1b4c8f['y']-_0xd8e18f['y'],_0x1cdc12=_0x290090*_0x15c8d3-_0x262510*_0xf14461;if(_0x1cdc12===-0x8dc+-0x1c19*-0x1+-0x133d)_0x15ebcc['set'](-0x7*-0x2bd+0x275*-0xb+0x7dc,-0x74*0x1f+-0x1*0x2191+0x1*0x2f9e,0x61+-0x14cc+-0x1*-0x146b),_0x795aa9['set'](-0x1bce+0x232f+-0x760,-0x2*0x842+-0x2502+0x3586,-0x23f0+0x1004*-0x1+-0x214*-0x19);else{const _0x3228ab=(0x10bb+-0x1a47+0x98d)/_0x1cdc12;_0x15ebcc['set']((_0x15c8d3*_0x368381-_0xf14461*_0x5cc8da)*_0x3228ab,(_0x15c8d3*_0x388ed1-_0xf14461*_0x3e5e65)*_0x3228ab,(_0x15c8d3*_0x3f4508-_0xf14461*_0x16f298)*_0x3228ab),_0x795aa9['set']((_0x290090*_0x5cc8da-_0x262510*_0x368381)*_0x3228ab,(_0x290090*_0x3e5e65-_0x262510*_0x388ed1)*_0x3228ab,(_0x290090*_0x16f298-_0x262510*_0x3f4508)*_0x3228ab);}_0x4acb4e[_0x16b74c*(0x1c57+-0x587*0x1+-0x16cd)+(-0x1f*-0x65+-0x1cb2+0x1077)]+=_0x15ebcc['x'],_0x4acb4e[_0x16b74c*(0xbd7+0x2167*-0x1+0x1593)+(-0x2449+0xfb0+0x149a)]+=_0x15ebcc['y'],_0x4acb4e[_0x16b74c*(-0x1db8+-0xfc*-0x11+0xcff)+(-0x1bf*0x7+-0xfc4+0x1bff)]+=_0x15ebcc['z'],_0x4acb4e[_0x35de22*(0x8*0x95+-0x1a70+-0x31d*-0x7)+(-0x24ee+-0x3*-0x6b+-0x1*-0x23ad)]+=_0x15ebcc['x'],_0x4acb4e[_0x35de22*(-0x1*-0x260f+0x23b*-0x7+0x166f*-0x1)+(-0x1*0x17b3+-0x29*0xad+0x1123*0x3)]+=_0x15ebcc['y'],_0x4acb4e[_0x35de22*(0x572+-0x1bfc+0x168d)+(0x2360*-0x1+-0x1633*0x1+0x3995)]+=_0x15ebcc['z'],_0x4acb4e[_0x49aedf*(0x641+0x3*-0x7a5+-0x10b1*-0x1)+(0x1f13+-0x6*-0x3f1+0x36b9*-0x1)]+=_0x15ebcc['x'],_0x4acb4e[_0x49aedf*(-0x89d+0x1617+-0xd77)+(-0x25*0x1c+-0x229f+-0xa5*-0x3c)]+=_0x15ebcc['y'],_0x4acb4e[_0x49aedf*(-0xcbb+0x26a8+-0x19ea)+(-0x17f*-0x7+0x543+-0xfba)]+=_0x15ebcc['z'],_0x33d7e7[_0x16b74c*(0x2189*0x1+-0x505*-0x5+0x3a9f*-0x1)+(0x1446*0x1+0x11cf*-0x2+0xf58)]+=_0x795aa9['x'],_0x33d7e7[_0x16b74c*(-0x9*-0x1e2+-0x1*0x517+-0xbd8)+(0x982+-0x52d+-0x2*0x22a)]+=_0x795aa9['y'],_0x33d7e7[_0x16b74c*(0x2326+0x21b3*-0x1+0x4*-0x5c)+(-0x73*-0x2f+0x2*-0x1106+0x1*0xcf1)]+=_0x795aa9['z'],_0x33d7e7[_0x35de22*(0x5*-0x308+-0xe9e+0x1dc9)+(-0x1*0x1e53+0x2290+-0x9b*0x7)]+=_0x795aa9['x'],_0x33d7e7[_0x35de22*(0x1*-0xe54+0xce*0x21+0x3b*-0x35)+(-0xe78+0x1f1c+-0x10a3*0x1)]+=_0x795aa9['y'],_0x33d7e7[_0x35de22*(-0x14a6+-0x1657+0x2b00)+(0x7*0x1b5+-0xc3d*0x3+-0x1*-0x18c6)]+=_0x795aa9['z'],_0x33d7e7[_0x49aedf*(0x1233+-0x180b+0x5db)+(-0x1087*0x1+-0x19f4+0x2a7b)]+=_0x795aa9['x'],_0x33d7e7[_0x49aedf*(-0x8dd+-0x219d+0x2a7d*0x1)+(-0x14cc+0x148*0xd+0x425*0x1)]+=_0x795aa9['y'],_0x33d7e7[_0x49aedf*(0x2*0x11c+0xe62+-0x1097)+(0x2271*-0x1+-0x243c+0x5*0xe23)]+=_0x795aa9['z'];}const _0x200d6b=new D(),_0x30c36c=new D(),_0x23435f=new D(),_0x263b7a=new D();for(let _0x321db0=0x48d*0x2+0x244b+-0x2d65*0x1;_0x321db0<_0x2a24e0;_0x321db0++){_0x23435f['set'](_0x5f0b3d[_0x321db0*(0x1b95+-0x7*0x131+-0x133b)],_0x5f0b3d[_0x321db0*(-0xc3d+-0x1395+0x1fd5*0x1)+(-0x2286+-0x2095*0x1+0x218e*0x2)],_0x5f0b3d[_0x321db0*(0x17c0+-0x98f+0x79*-0x1e)+(-0x1*-0x427+0xa99+-0xebe)]),_0x200d6b['set'](_0x4acb4e[_0x321db0*(-0x253e+0x2668+-0x127)],_0x4acb4e[_0x321db0*(0xc9+-0x12e1*0x1+-0x67*-0x2d)+(-0x4*0x7b5+-0x47f+0x50c*0x7)],_0x4acb4e[_0x321db0*(0x26d*0xe+0x1adf+-0x6*0xa23)+(-0x59*-0x51+-0x19c1*-0x1+-0x35e8)]),_0x30c36c['set'](_0x33d7e7[_0x321db0*(0x121e+-0x2433+-0x182*-0xc)],_0x33d7e7[_0x321db0*(-0xbf5+-0x1*0xe6a+0x2*0xd31)+(0x2383*-0x1+-0x75b*-0x5+-0x11*0x13)],_0x33d7e7[_0x321db0*(-0xda3*0x1+0x5c7*0x1+-0x193*-0x5)+(-0x166d+0x1f*0xc5+0x1c*-0xd)]);const _0x4d0233=_0x23435f['dot'](_0x200d6b);_0x263b7a['copy'](_0x23435f)['mulScalar'](_0x4d0233),_0x263b7a['sub2'](_0x200d6b,_0x263b7a)['normalize'](),_0x1fa49d[_0x321db0*(-0x1d10*-0x1+0xda1*0x2+-0x384e)]=_0x263b7a['x'],_0x1fa49d[_0x321db0*(0x137*-0x6+-0x251e*-0x1+-0x3*0x9f0)+(-0xdd*-0x1+-0x18bb+-0x1*-0x17df)]=_0x263b7a['y'],_0x1fa49d[_0x321db0*(-0x22*-0x29+0x1*-0x2385+0x1e17)+(-0x2122+-0x1*-0x259d+-0x479)]=_0x263b7a['z'],_0x263b7a['cross'](_0x23435f,_0x200d6b),_0x1fa49d[_0x321db0*(0x31*-0xb3+-0x8*-0x2f6+0xa97)+(0x13d*-0x10+0x2c*0x15+-0x1037*-0x1)]=_0x263b7a['dot'](_0x30c36c)<-0x5b0+-0x1*-0x13cd+-0xe1d?-(-0x14e3+0x14c9*-0x1+-0x2f*-0xe3):-0x2327+0xf65+0x13c3*0x1;}return _0x1fa49d;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x1*-0x96b+0x188+-0x7e7*-0x1)/(0x1*0x623+0x761*0x2+-0x14a5),hg=-0x3*0xcb5+-0x220b+0x482b-pu*(0x1b18+-0xb*-0x7b+-0x205f);class mu extends Ta{constructor(_0x2292c0={}){super();const _0x392f5c=_0x2292c0['halfExtent'+'s']??new D(-0x8f8+-0xd07+-0x15ff*-0x1+0.5,-0x22*0x113+0x105*0x16+-0x16*-0xa4+0.5,-0x12e2*0x2+0x2707+-0x1*0x143+0.5),_0x5604ce=_0x2292c0['widthSegme'+'nts']??-0x1d20+0x17*-0x197+0x41b2,_0x5ecdb4=_0x2292c0['lengthSegm'+'ents']??-0x1ade+0x19df+0x100*0x1,_0x3ecf31=_0x2292c0['heightSegm'+'ents']??-0x789+-0x1e69+0x43*0x91,_0x165b33=_0x2292c0['yOffset']??0x22f2+-0xb9b+-0x1*0x1757,_0x46ad2b=-_0x392f5c['y']+_0x165b33,_0x5a1dc6=_0x392f5c['y']+_0x165b33,_0x4a56ee=[new D(-_0x392f5c['x'],_0x46ad2b,_0x392f5c['z']),new D(_0x392f5c['x'],_0x46ad2b,_0x392f5c['z']),new D(_0x392f5c['x'],_0x5a1dc6,_0x392f5c['z']),new D(-_0x392f5c['x'],_0x5a1dc6,_0x392f5c['z']),new D(_0x392f5c['x'],_0x46ad2b,-_0x392f5c['z']),new D(-_0x392f5c['x'],_0x46ad2b,-_0x392f5c['z']),new D(-_0x392f5c['x'],_0x5a1dc6,-_0x392f5c['z']),new D(_0x392f5c['x'],_0x5a1dc6,-_0x392f5c['z'])],_0x2c5696=[[-0x1a60+-0x6b*0x25+0x29d7,-0x16bc+0x1ad6+-0x419*0x1,0x2a1*-0x1+-0x2*0xdf7+0x1e92],[0x18f7+-0xd*0x296+0x13d*0x7,-0x1*-0x38+-0x1*-0x1a35+0x28*-0xa9,0x2*0xd1c+0xcdb+-0x270c],[0x6*-0xce+0xd10+-0x839*0x1,0x1*-0x179b+-0x1d3f+-0x44*-0xc7,-0x2*-0x909+0x307*0x3+-0x56d*0x5],[0xec+-0x3*-0x332+-0xa81,0x1a7a+-0x85f+-0x121b,0x6e5+-0x1fc2+0x18e1],[-0x1592*-0x1+0x18d7*0x1+-0x2e68,0x1dd+-0x3a7*-0x3+-0x12a*0xb,0x1*0x17bf+-0x2482+0x1d3*0x7],[0x1b7*0x7+0x13d1+0x1*-0x1fcd,0x1998+0x17df+0x25b*-0x15,-0x475+-0x1822+0x1c9d]],_0x2f3295=[[-0x13d+0xbc*-0x26+0x1d25*0x1,0x1357*0x1+0x1*-0x59+-0x12fe,-0xf90+-0x118+0x10a9],[-0x54c+-0xff6+0x1542,0x23c6+-0x503*-0x3+-0x1*0x32cf,-(0x1ba2+-0x6*-0x27c+-0x2a89*0x1)],[-0x710+0x1f8b+-0x1*0x187b,-0x2597+-0xab6*-0x3+0x576,0x2b3*0x7+0xbee+-0x1ed3],[0x107*0x20+-0x1a2+-0x1f3e,-(0x1ce9*0x1+0x8d1*-0x1+0x1417*-0x1),0x12ec+-0x5f1+-0xcfb],[0xa63*0x2+0x49d+-0x1962,0x1567+0x1613*0x1+-0x2b7a,-0x1*0x2589+-0xdac+0x3335],[-(0x1a24+0x13*0x1c5+-0x3bc2),-0x60a+0x1*-0x819+0x149*0xb,0x10c4+0x11b8+0x4*-0x89f]],_0x383964={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0xc58ba8=[],_0x20b3d8=[],_0x507696=[],_0x752e88=[];let _0x6d2ec9=-0x1eec+-0x19e4+-0x6*-0x978;const _0x1bc0a4=(_0x13471d,_0x398354,_0x331685)=>{const _0x1bcf12=new D(),_0x2de265=new D(),_0x4f6ed2=new D(),_0x175e5a=new D();for(let _0x42cd5d=-0x2091+0xfa+0x1f97;_0x42cd5d<=_0x398354;_0x42cd5d++)for(let _0x4689e1=0x49*0x47+-0x55a+-0xee5*0x1;_0x4689e1<=_0x331685;_0x4689e1++){_0x1bcf12['lerp'](_0x4a56ee[_0x2c5696[_0x13471d][-0x104e+0x2b9+0xd95]],_0x4a56ee[_0x2c5696[_0x13471d][0x9c0+-0x7*0x383+-0x2*-0x76b]],_0x42cd5d/_0x398354),_0x2de265['lerp'](_0x4a56ee[_0x2c5696[_0x13471d][0x1*-0x171f+0x15*-0x1a3+0x1cbf*0x2]],_0x4a56ee[_0x2c5696[_0x13471d][-0xa65*0x3+-0x1692+0x35c3]],_0x4689e1/_0x331685),_0x4f6ed2['sub2'](_0x2de265,_0x4a56ee[_0x2c5696[_0x13471d][-0x1*0x1615+-0xc6b+0x2280]]),_0x175e5a['add2'](_0x1bcf12,_0x4f6ed2);let _0x363b1d=_0x42cd5d/_0x398354,_0x412b84=_0x4689e1/_0x331685;_0xc58ba8['push'](_0x175e5a['x'],_0x175e5a['y'],_0x175e5a['z']),_0x20b3d8['push'](_0x2f3295[_0x13471d][0x2453+0x1304+-0x3757],_0x2f3295[_0x13471d][-0x3*0x2a2+0xe*-0xd8+0x1*0x13b7],_0x2f3295[_0x13471d][0x17*-0x14+0x3*0x41b+-0xa83]),_0x507696['push'](_0x363b1d,0x168a+0x1e73*-0x1+0x7ea-_0x412b84),_0x363b1d=_0x363b1d*hg+pu,_0x412b84=_0x412b84*hg+pu,_0x363b1d/=-0x54a+-0x38*-0x93+-0x1adb,_0x412b84/=0x560+0x1*0xffb+-0x1558,_0x363b1d+=_0x13471d%(0x168c+0x3*-0x191+-0x11d6)/(0x850+-0x45+-0x2*0x404),_0x412b84+=Math['floor'](_0x13471d/(-0xbf1+-0x1f*0x36+0x127e))/(-0x35e*0x2+0x183+0x53c),_0x42cd5d<_0x398354&&_0x4689e1<_0x331685&&(_0x752e88['push'](_0x6d2ec9+_0x331685+(0x9d*0x33+-0x910+-0x1636),_0x6d2ec9+(0x1*0xcad+0x7*0x447+-0x2a9d),_0x6d2ec9),_0x752e88['push'](_0x6d2ec9+_0x331685+(-0xc95+0xd*-0x261+0x2b83),_0x6d2ec9+_0x331685+(0x1f4*-0x3+0x28f+0x34f),_0x6d2ec9+(0x14c6+-0x24d7+0x1012))),_0x6d2ec9++;}};_0x1bc0a4(_0x383964['FRONT'],_0x5604ce,_0x3ecf31),_0x1bc0a4(_0x383964['BACK'],_0x5604ce,_0x3ecf31),_0x1bc0a4(_0x383964['TOP'],_0x5604ce,_0x5ecdb4),_0x1bc0a4(_0x383964['BOTTOM'],_0x5604ce,_0x5ecdb4),_0x1bc0a4(_0x383964['RIGHT'],_0x5ecdb4,_0x3ecf31),_0x1bc0a4(_0x383964['LEFT'],_0x5ecdb4,_0x3ecf31),this['positions']=_0xc58ba8,this['normals']=_0x20b3d8,this['uvs']=_0x507696,this['uvs1']=_0x507696,this['indices']=_0x752e88,_0x2292c0['calculateT'+'angents']&&(this['tangents']=Mr(_0xc58ba8,_0x20b3d8,_0x507696,_0x752e88));}}class _m extends Ta{constructor(_0x40bc96={}){super();const _0x40d245=_0x40bc96['radius']??-0x218b+0x1*0x1264+0x3*0x50d+0.5,_0x19b5d7=_0x40bc96['latitudeBa'+'nds']??0x1*0x1a7e+-0x16*0xb+-0x197c,_0x5af07=_0x40bc96['longitudeB'+'ands']??-0x354+-0x34f+0x6b3,_0x4545bb=[],_0x2ddb9b=[],_0x59949c=[],_0x2e8917=[];for(let _0x43a608=0x3*-0xa42+-0x1d71+0x3c37;_0x43a608<=_0x19b5d7;_0x43a608++){const _0x15ed62=_0x43a608*Math['PI']/_0x19b5d7,_0x57aa1c=Math['sin'](_0x15ed62),_0x22145e=Math['cos'](_0x15ed62);for(let _0x55af66=-0xfa+-0x635+0x265*0x3;_0x55af66<=_0x5af07;_0x55af66++){const _0x1540a0=_0x55af66*(-0xe57+0xf31*0x2+-0x1*0x1009)*Math['PI']/_0x5af07-Math['PI']/(-0x7*0x3c9+-0xa33+-0xa2*-0x3a),_0x44c9a8=Math['sin'](_0x1540a0),_0x132763=Math['cos'](_0x1540a0)*_0x57aa1c,_0x3fb887=_0x22145e,_0x50c6a1=_0x44c9a8*_0x57aa1c,_0x1a33ca=0x23*0xc+-0xfcc+-0x19*-0x91-_0x55af66/_0x5af07,_0x3dfbc7=-0xb4e*0x2+0xc1*0x3+0x145a-_0x43a608/_0x19b5d7;_0x4545bb['push'](_0x132763*_0x40d245,_0x3fb887*_0x40d245,_0x50c6a1*_0x40d245),_0x2ddb9b['push'](_0x132763,_0x3fb887,_0x50c6a1),_0x59949c['push'](_0x1a33ca,0x1*0x19be+-0x1644+-0x7*0x7f-_0x3dfbc7);}}for(let _0x16c0da=0x1956+0xac4+-0x241a;_0x16c0da<_0x19b5d7;++_0x16c0da)for(let _0x7bfa9c=0x526+0x15be+-0x6b9*0x4;_0x7bfa9c<_0x5af07;++_0x7bfa9c){const _0xffc04=_0x16c0da*(_0x5af07+(0xe10+0x1*0x1e3d+-0x2c4c))+_0x7bfa9c,_0x25593a=_0xffc04+_0x5af07+(0x77f*-0x3+-0x4ca*0x8+0x3cce);_0x2e8917['push'](_0xffc04+(-0x7e*0x3b+0x231a+-0x3*0x205),_0x25593a,_0xffc04),_0x2e8917['push'](_0xffc04+(0x3*0x5d6+0x153f+-0x10*0x26c),_0x25593a+(0x1ce7+0x123*-0x6+0x6*-0x3ae),_0x25593a);}this['positions']=_0x4545bb,this['normals']=_0x2ddb9b,this['uvs']=_0x59949c,this['uvs1']=_0x59949c,this['indices']=_0x2e8917,_0x40bc96['calculateT'+'angents']&&(this['tangents']=Mr(_0x4545bb,_0x2ddb9b,_0x59949c,_0x2e8917));}}class DA extends _m{constructor(_0x51a599={}){const _0x49c686=_0x51a599['latitudeBa'+'nds']??0xca5*-0x2+-0xd21+0x267b,_0x2b3fbe=_0x51a599['longitudeB'+'ands']??-0xc22*0x2+-0xe*-0x1d0+0x4*-0x43;super({'radius':0.5,'latitudeBands':_0x49c686,'longitudeBands':_0x2b3fbe});const _0x2e2faa=0x1*0xe43+0xd51+0x2*-0xdca+0.1,_0x3e99c6=0x9fd*0x3+-0x1f2c+0x135+0.95,_0x2d9910=_0x3e99c6*_0x3e99c6,_0x1cf134=this['positions'];for(let _0x12a203=-0x323*-0x4+0x1f67+0x2bf3*-0x1;_0x12a203<_0x1cf134['length'];_0x12a203+=0x985*0x1+-0x2a8*-0x5+-0x16ca){const _0x28bfed=_0x1cf134[_0x12a203]/(-0x77*0x38+-0x254b*0x1+0x3f53*0x1+0.5);let _0xd30f56=_0x1cf134[_0x12a203+(0x2288+0x237b+-0x4602)]/(0x1*-0x1bf7+0x1591*0x1+0x666+0.5);const _0x48ac7b=_0x1cf134[_0x12a203+(-0x23e7+-0x1*-0x779+-0x46*-0x68)]/(-0xb0b+0x1d37*0x1+-0x122c*0x1+0.5);_0xd30f56<0x179e+-0x73*-0x1f+0x7*-0x55d&&(_0xd30f56*=-0x1f42+-0x198+0x20da+0.3,_0x28bfed*_0x28bfed+_0x48ac7b*_0x48ac7b<_0x2d9910&&(_0xd30f56=-_0x2e2faa)),_0xd30f56+=_0x2e2faa,_0xd30f56*=0x1ee3*0x1+0x21f8+0x1*-0x40db+0.5,_0x1cf134[_0x12a203+(-0x17da+0xc7*0x24+-0x421)]=_0xd30f56;}}}class zo{static['create'](_0x269e90,_0x553fda){switch(_0x553fda){case Qw:return zo['box'](_0x269e90);case Jw:return zo['dome'](_0x269e90);}return w['assert'](_0x553fda===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x553fda),zo['infinite'](_0x269e90);}static['infinite'](_0x5732bb){return Ge['fromGeomet'+'ry'](_0x5732bb,new mu(_0x5732bb));}static['box'](_0x15625c){return Ge['fromGeomet'+'ry'](_0x15625c,new mu({'yOffset':0.5}));}static['dome'](_0x3150c6){const _0x685638=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x685638['normals']=void(-0x256d*0x1+-0xcba+0x3227),_0x685638['uvs']=void(0x1d66+0x1*-0x593+-0x3*0x7f1),Ge['fromGeomet'+'ry'](_0x3150c6,_0x685638);}}class IA{constructor(_0x300eed,_0x1931af,_0x4f449a,_0x4d4190,_0xc2bf47){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x2238+0x7c0+-0xdfd*0x3));const _0x1f0a9f=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x300eed,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x300eed,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x300eed,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x300eed,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x1f0a9f['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x4d4190['encoding'])),_0xc2bf47!==Bo&&_0x1f0a9f['setDefine']('SKYMESH',''),_0x4d4190['cubemap']&&_0x1f0a9f['setDefine']('SKY_CUBEMA'+'P',''),_0x1f0a9f['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x1931af['skyboxHigh'+'lightMulti'+'plier']),_0x4d4190['cubemap']?_0x1f0a9f['setParamet'+'er']('texture_cu'+'beMap',_0x4d4190):(_0x1f0a9f['setParamet'+'er']('texture_en'+'vAtlas',_0x4d4190),_0x1f0a9f['setParamet'+'er']('mipLevel',_0x1931af['skyboxMip'])),_0x1f0a9f['cull']=Fo,_0x1f0a9f['depthWrite']=this['_depthWrit'+'e'];const _0x48e21a=_0x1931af['layers']['getLayerBy'+'Id'](Kp);if(_0x48e21a){const _0x3726e1=zo['create'](_0x300eed,_0xc2bf47),_0x2b389b=new He(_0x3726e1,_0x1f0a9f,_0x4f449a);this['meshInstan'+'ce']=_0x2b389b,_0x2b389b['cull']=!(-0xa*-0x117+-0xcf7*-0x1+0x1fd*-0xc),_0x2b389b['pick']=!(0x1*-0x18be+0x184c+0x73*0x1),_0x48e21a['addMeshIns'+'tances']([_0x2b389b]),this['skyLayer']=_0x48e21a;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x57fd4e){this['_depthWrit'+'e']=_0x57fd4e,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x57fd4e);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x560306){h(this,'_type',Bo),h(this,'_center',new D(-0x1d18+-0x1e*0xef+0x391a,0x924+-0x1fa1+0x167e,-0x5e*0x13+-0x2c3+-0x33f*-0x3)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x99f+0xd4d+-0x16eb)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x560306['device'],this['scene']=_0x560306,this['center']=new D(0x681+-0x1*0x10c9+0xa48,0xf1d+0x226c+0x14*-0x27a,0xd22+0x170e+0x18*-0x182),this['centerArra'+'y']=new Float32Array(0x1*0x1c6e+0xd8a*0x1+-0x29f5),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x296b70){this['type']=_0x296b70['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x296b70['skyMeshPos'+'ition']??[0x1721+0xc08+-0x2329,0x182a+-0x1f55+-0x5*-0x16f,0xc32+0xc7*0x2f+-0x30bb])),this['node']['setLocalEu'+'lerAngles'](new D(_0x296b70['skyMeshRot'+'ation']??[0xee6+-0x4f*-0x35+0x1*-0x1f41,-0x25e3+-0x1a8*-0xa+-0x35*-0x67,-0x185c+0x8c*-0x2c+-0x1024*-0x3])),this['node']['setLocalSc'+'ale'](new D(_0x296b70['skyMeshSca'+'le']??[-0x1*0x6de+0x3*-0x13+-0x8*-0xe3,0x92b+0x1e10+-0x273a,-0x2d7*0x2+-0x10b0+0x165f])),_0x296b70['skyCenter']&&(this['_center']=new D(_0x296b70['skyCenter']));}set['type'](_0x1ae212){this['_type']!==_0x1ae212&&(this['_type']=_0x1ae212,this['scene']['updateShad'+'ers']=!(-0x25db*0x1+0x18dd+0xcfe),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x3e6448){this['_center']['copy'](_0x3e6448);}get['center'](){return this['_center'];}set['depthWrite'](_0x59dfa9){this['_depthWrit'+'e']!==_0x59dfa9&&(this['_depthWrit'+'e']=_0x59dfa9,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x59dfa9));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x457670=this['scene']['_getSkybox'+'Tex']();_0x457670&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x457670,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x457670));}['resetSkyMe'+'sh'](){var _0x589e22;(_0x589e22=this['skyMesh'])==null||_0x589e22['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x36dfaa,centerArray:_0x105d39}=this,_0x6e372=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x36dfaa,_0x6e372),_0x105d39[-0xaa3+0x49a+0x609]=_0x6e372['x'],_0x105d39[-0x1db+0x15d2+-0x13f6]=_0x6e372['y'],_0x105d39[-0xaf6+-0x25b3+-0x30ab*-0x1]=_0x6e372['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x105d39);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x25*0xc7+-0x17bd+-0x505);class RA{constructor(_0xa3c385,_0x3dd6ed,_0x231d64){this['material']=_0x3dd6ed,this['layer']=_0x231d64,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0xa3c385),this['meshInstan'+'ce']=null;}['addLines'](_0x3d4460,_0x27855d){const _0x3cc577=this['positions'],_0x455d52=_0x3d4460['length'];for(let _0x56cdc3=-0x116a*0x1+-0x1*0x1db3+-0x6bb*-0x7;_0x56cdc3<_0x455d52;_0x56cdc3++){const _0x30ad3f=_0x3d4460[_0x56cdc3];_0x3cc577['push'](_0x30ad3f['x'],_0x30ad3f['y'],_0x30ad3f['z']);}const _0x3cc2f7=this['colors'];if(_0x27855d['length'])for(let _0x323d65=0x10*-0x186+-0x64*0x1+-0x631*-0x4;_0x323d65<_0x455d52;_0x323d65++){const _0x326549=_0x27855d[_0x323d65];_0x3cc2f7['push'](_0x326549['r'],_0x326549['g'],_0x326549['b'],_0x326549['a']);}else{for(let _0x43fdae=-0xe9f+0x16ae+0x80f*-0x1;_0x43fdae<_0x455d52;_0x43fdae++)_0x3cc2f7['push'](_0x27855d['r'],_0x27855d['g'],_0x27855d['b'],_0x27855d['a']);}}['addLinesAr'+'rays'](_0x3300ef,_0x3a1deb){const _0x2d5bbf=this['positions'];for(let _0x3512b7=0x2598+0x1*0x1973+-0x3f0b;_0x3512b7<_0x3300ef['length'];_0x3512b7+=0x1e0f+0x245e+-0x426a)_0x2d5bbf['push'](_0x3300ef[_0x3512b7],_0x3300ef[_0x3512b7+(-0x27*-0x41+-0x1425+-0xa3f*-0x1)],_0x3300ef[_0x3512b7+(-0xec*-0xd+-0x143*0x19+0x1391*0x1)]);const _0x1be3f4=this['colors'];if(_0x3a1deb['length']){for(let _0x51a405=-0x202f+0x1519+0xb16;_0x51a405<_0x3a1deb['length'];_0x51a405+=-0x223+0x7*0x1c9+0x2*-0x52c)_0x1be3f4['push'](_0x3a1deb[_0x51a405],_0x3a1deb[_0x51a405+(-0x18fb+-0x1*-0x129b+0x661)],_0x3a1deb[_0x51a405+(0x6*0x47+0x1*0xc2b+0x1*-0xdd3)],_0x3a1deb[_0x51a405+(-0x111*-0xe+-0x1*0x13d+0x1*-0xdae)]);}else{const _0x3b36a3=_0x3300ef['length']/(0x1*-0x6e3+-0x9af*-0x3+-0x1*0x1627);for(let _0xcf4b41=-0x98e+-0x1aed+0x247b;_0xcf4b41<_0x3b36a3;_0xcf4b41++)_0x1be3f4['push'](_0x3a1deb['r'],_0x3a1deb['g'],_0x3a1deb['b'],_0x3a1deb['a']);}}['onPreRende'+'r'](_0x41fbed,_0x3692f8){this['positions']['length']>0x380+0x2533+-0x28b3&&this['material']['transparen'+'t']===_0x3692f8&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x210+0x1045+0x3*-0x4bc)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x41fbed['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0xac1+-0x18f1+0x23b2,this['colors']['length']=-0x1100*0x1+0xd58+0x3a8;}}class OA{constructor(_0x3db1bb){this['device']=_0x3db1bb,this['map']=new Map();}['getBatch'](_0x968bab,_0x3b8a52){let _0x329548=this['map']['get'](_0x968bab);return _0x329548||(_0x329548=new RA(this['device'],_0x968bab,_0x3b8a52),this['map']['set'](_0x968bab,_0x329548)),_0x329548;}['onPreRende'+'r'](_0x59d410,_0x26bc1d){this['map']['forEach'](_0x4ef5c9=>{_0x4ef5c9['onPreRende'+'r'](_0x59d410,_0x26bc1d);});}['clear'](){this['map']['forEach'](_0x13b799=>_0x13b799['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x56cf39){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x56cf39,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x37443b){const _0x535dba=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x535dba['blendType']=Zs,_0x535dba['depthTest']=_0x37443b,_0x535dba['update'](),_0x535dba;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x2fd*0x1+-0x2506+0x2209))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x854+0xabe+-0x269))),this['_materialN'+'oDepth'];}['getBatch'](_0x59087b,_0x2a383d){let _0x3b8e0f=this['batchesMap']['get'](_0x59087b);_0x3b8e0f||(_0x3b8e0f=new OA(this['device']),this['batchesMap']['set'](_0x59087b,_0x3b8e0f)),this['allBatches']['add'](_0x3b8e0f);const _0x5ecd13=_0x2a383d?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x3b8e0f['getBatch'](_0x5ecd13,_0x59087b);}['getShaderD'+'esc'](_0x13f348,_0x53aa42,_0x5ff0c3){return this['shaderDesc'+'s']['has'](_0x13f348)||this['shaderDesc'+'s']['set'](_0x13f348,{'uniqueName':'DebugShade'+'r:'+_0x13f348,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x53aa42,'fragmentWGSL':_0x5ff0c3,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x13f348);}['getTexture'+'ShaderDesc'](_0x597e5f){const _0x44e79c=Tr['decodeFunc'](_0x597e5f);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x597e5f,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x44e79c+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x44e79c+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x129+0xe33+0x1*-0xd0a+0.5),-(-0x17*-0x119+0xf5b*0x1+-0x289a+0.5),-0x95*-0x1f+-0xda6+-0x465,0x438+0x23f9+0x1*-0x2831+0.5,-(-0x2428+-0x1*-0xc6f+-0x1*-0x17b9+0.5),0x101+-0x20*0x8+-0x1,-(0x385+0x907+-0x49*0x2c+0.5),0x1bc5+0x502+0xaed*-0x3+0.5,-0x24e3+0x6d*-0x29+0x3658,0x3*0x6dc+-0x205c+0xbc8+0.5,0xf99+0xaae*0x2+-0x1*0x24f5+0.5,-0x1*0x173+-0x1*-0x33+0x140]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x22a81f,_0x4599e6,_0x5b2417,_0x262ce9,_0x43fb5a){if(!_0x262ce9){const _0x1c5e96=this['getGraphNo'+'de'](_0x4599e6);_0x262ce9=new He(_0x5b2417,_0x22a81f,_0x1c5e96);}let _0x1c6e1d=this['layerMeshI'+'nstances']['get'](_0x43fb5a);_0x1c6e1d||(_0x1c6e1d=[],this['layerMeshI'+'nstances']['set'](_0x43fb5a,_0x1c6e1d)),_0x1c6e1d['push'](_0x262ce9);}['drawWireAl'+'ignedBox'](_0xd7a1d8,_0x189924,_0xfd7e00,_0x2db53b,_0x2c5a5b,_0x18092e){if(_0x18092e){const _0x4dfdae=(_0x5de195,_0x1ffff3,_0x2c2db2)=>{Ba['set'](_0x5de195,_0x1ffff3,_0x2c2db2),_0x18092e['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0x189924['z']),_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z']),_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0xd7a1d8['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0x189924['y'],_0x189924['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z']),_0x4dfdae(_0x189924['x'],_0xd7a1d8['y'],_0x189924['z']);}else Ts['push'](_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z'],_0x189924['x'],_0x189924['y'],_0xd7a1d8['z'],_0x189924['x'],_0x189924['y'],_0xd7a1d8['z'],_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z'],_0xd7a1d8['x'],_0x189924['y'],_0x189924['z'],_0xd7a1d8['x'],_0x189924['y'],_0x189924['z'],_0x189924['x'],_0x189924['y'],_0x189924['z'],_0x189924['x'],_0x189924['y'],_0x189924['z'],_0x189924['x'],_0xd7a1d8['y'],_0x189924['z'],_0x189924['x'],_0xd7a1d8['y'],_0x189924['z'],_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z'],_0xd7a1d8['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0xd7a1d8['y'],_0x189924['z'],_0xd7a1d8['x'],_0x189924['y'],_0xd7a1d8['z'],_0xd7a1d8['x'],_0x189924['y'],_0x189924['z'],_0x189924['x'],_0x189924['y'],_0xd7a1d8['z'],_0x189924['x'],_0x189924['y'],_0x189924['z'],_0x189924['x'],_0xd7a1d8['y'],_0xd7a1d8['z'],_0x189924['x'],_0xd7a1d8['y'],_0x189924['z']);this['getBatch'](_0x2c5a5b,_0x2db53b)['addLinesAr'+'rays'](Ts,_0xfd7e00),Ts['length']=-0x1*-0x187a+-0x140d+-0x46d;}['drawWireSp'+'here'](_0x419cbb,_0x1965e7,_0xbb40df,_0x753a86,_0x29614f,_0x43f09f){const _0xd6c50c=(-0x1*0x1521+-0x263*-0xd+-0x9e4)*Math['PI']/_0x753a86;let _0x4aee13=-0x29*0x11+0x243b+0x10c1*-0x2;for(let _0x19c90f=0x15fc+-0x1a*-0x29+0x1a26*-0x1;_0x19c90f<_0x753a86;_0x19c90f++){const _0x5cc551=Math['sin'](_0x4aee13),_0x49d6ea=Math['cos'](_0x4aee13);_0x4aee13+=_0xd6c50c;const _0x9d540d=Math['sin'](_0x4aee13),_0x421207=Math['cos'](_0x4aee13);Ts['push'](_0x419cbb['x']+_0x1965e7*_0x5cc551,_0x419cbb['y'],_0x419cbb['z']+_0x1965e7*_0x49d6ea),Ts['push'](_0x419cbb['x']+_0x1965e7*_0x9d540d,_0x419cbb['y'],_0x419cbb['z']+_0x1965e7*_0x421207),Ts['push'](_0x419cbb['x']+_0x1965e7*_0x5cc551,_0x419cbb['y']+_0x1965e7*_0x49d6ea,_0x419cbb['z']),Ts['push'](_0x419cbb['x']+_0x1965e7*_0x9d540d,_0x419cbb['y']+_0x1965e7*_0x421207,_0x419cbb['z']),Ts['push'](_0x419cbb['x'],_0x419cbb['y']+_0x1965e7*_0x5cc551,_0x419cbb['z']+_0x1965e7*_0x49d6ea),Ts['push'](_0x419cbb['x'],_0x419cbb['y']+_0x1965e7*_0x9d540d,_0x419cbb['z']+_0x1965e7*_0x421207);}this['getBatch'](_0x43f09f,_0x29614f)['addLinesAr'+'rays'](Ts,_0xbb40df),Ts['length']=0x201a+-0x4c3*-0x1+-0x24dd*0x1;}['getGraphNo'+'de'](_0x11bf6f){const _0x5a0209=new Ie('ImmediateD'+'ebug');return _0x5a0209['worldTrans'+'form']=_0x11bf6f,_0x5a0209['_dirtyWorl'+'d']=_0x5a0209['_dirtyNorm'+'al']=!(-0x7*-0x1a7+0x129c*-0x1+0x70c),_0x5a0209;}['onPreRende'+'rLayer'](_0x20aad2,_0x525d76,_0x58a3d9){if(this['batchesMap']['forEach']((_0x923d7d,_0x2b5112)=>{_0x2b5112===_0x20aad2&&_0x923d7d['onPreRende'+'r'](_0x525d76,_0x58a3d9);}),!this['updatedLay'+'ers']['has'](_0x20aad2)){this['updatedLay'+'ers']['add'](_0x20aad2);const _0xe08e42=this['layerMeshI'+'nstances']['get'](_0x20aad2);if(_0xe08e42){for(let _0x32fb59=-0x1295+0x2195+0xf00*-0x1;_0x32fb59<_0xe08e42['length'];_0x32fb59++)_0x525d76['push'](_0xe08e42[_0x32fb59]);_0xe08e42['length']=0x9*-0x3f5+-0x1*0x196+0x2533;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x2627c3=>_0x2627c3['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x1129+-0x1*0x29c+0x13c5,0x5d+-0x14c1+0x1464,-0x37*0x5c+-0x1c66+0x302a)),h(this,'density',0xdd6+-0xb96*-0x3+-0x3098),h(this,'start',-0x7*0x3db+0x68*-0x2a+0x2c0e*0x1),h(this,'end',-0xb5b+0x21f*0xb+0x812*-0x1);}}class Et extends me{constructor(_0x4cdf15){super(),h(this,'ambientBak'+'e',!(0xf7c+-0x1*0x8b3+0x7*-0xf8)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x10c1*-0x2+-0x5*0x238+0x1*-0x166a),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0xbf6*0x3+-0xb69*-0x1+0x23*0xb3),h(this,'ambientLig'+'ht',new ie(-0x2168+0xde9*0x1+0xd9*0x17,-0x1a49+0x227d+-0x15*0x64,0x17c*0x2+-0x1c47+-0x1f*-0xd1)),h(this,'ambientLum'+'inance',-0x34*0x76+0x151e+-0x5*-0x92),h(this,'exposure',-0x202*0x10+0x127a+0x1*0xda7),h(this,'lightmapSi'+'zeMultipli'+'er',0x1*-0x775+0x4f0*-0x3+0xb23*0x2),h(this,'lightmapMa'+'xResolutio'+'n',0xe39+0x1290+0x2d*-0x8d),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x1*-0x12a1+0x1*-0x2590+0x3832)),h(this,'lightmapHD'+'R',!(0x813+-0x1f8*-0x13+-0x2d7a)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x17dc+0x4*0x327+-0x2477)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x369*-0x2+0x8d7+0xfa8*-0x1)),(w['assert'](_0x4cdf15,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x4cdf15,this['_gravity']=new D(0x16*0x1b+-0x1d4c+0x1afa,-(0x44c+0x491+0x46a*-0x2+0.8000000000000007),-0x15d*0x3+-0x1dd5+0x21ec),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x3a*0x89+-0x348+-0x1*-0x2253,this['_skyboxLum'+'inance']=0x8*-0x347+-0xffd+0x2a35*0x1,this['_skyboxMip']=0x512+0x1*0x1b6b+0x207d*-0x1,this['_skyboxHig'+'hlightMult'+'iplier']=0x1f92+0x1373+-0x2*0x1982,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x1e0d*0x1+0x110a+0x2a*-0x11f),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x728*-0x5+0xc36*0x3+-0xd9,this['_ambientBa'+'keSpherePa'+'rt']=-0x1ac+-0x1f*-0x61+-0x1*0xa13+0.4,this['_lightmapF'+'ilterRange']=-0x1f35+0x19ae+0x13*0x4b,this['_lightmapF'+'ilterSmoot'+'hness']=-0x38b*-0x3+-0x6*-0x3e1+-0x21e7+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0xf61+0x1b53+-0xbf2),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x1*-0x2b7+0x32*0x1+0x5*0x81);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x194d+0x90e+-0x1*-0x103f),this['_shaderVer'+'sion']=0x32*0x2a+0x22e8+-0x158e*0x2,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x3a8762){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x3a8762),-0x7f0+0x1b*-0x133+0x2852,0x24fe+0x466*-0x3+-0xd*0x1c1);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x1fd3a1){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x1fd3a1,-0x71b+-0x229+0x1*0x944+0.001,0x43*-0x27+-0x133*0x4+-0x1*-0xf02);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x4d7f13){if(this['device']['isWebGPU']&&!_0x4d7f13){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x4d7f13){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x4d7f13;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x5d06e1){_0x5d06e1!==this['_envAtlas']&&(this['_envAtlas']=_0x5d06e1,_0x5d06e1&&(_0x5d06e1['addressU']=ue,_0x5d06e1['addressV']=ue,_0x5d06e1['minFilter']=vt,_0x5d06e1['magFilter']=vt,_0x5d06e1['mipmaps']=!(0x7*-0x537+0x10ed+0x1395*0x1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x8e2010){const _0x5a31aa=this['_layers'];this['_layers']=_0x8e2010,this['fire']('set:layers',_0x5a31aa,_0x8e2010);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x19d39a){this['_lightmapF'+'ilterRange']=Math['max'](_0x19d39a,-0x1406+0x1be1+-0x1*0x7db+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x2b3608){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x2b3608,0x1*0x1bf7+0x10c3+0x19*-0x1ca+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3f8697){_0x3f8697=_0x3f8697||[];const _0x589143=this['_prefilter'+'edCubemaps'];(_0x589143['length']!==_0x3f8697['length']||_0x589143['some']((_0x1d205a,_0x3b5c98)=>_0x1d205a!==_0x3f8697[_0x3b5c98]))&&(_0x3f8697['length']===-0x19*-0x17f+0x2537+0x268*-0x1f&&_0x3f8697['every'](_0x1bef42=>!!_0x1bef42)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3f8697,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3f8697['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x538dc6){_0x538dc6!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x538dc6,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x4f019c){_0x4f019c!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x4f019c,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x4833d0){_0x4833d0!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x4833d0,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0xf97d37){_0xf97d37!==this['_skyboxMip']&&(this['_skyboxMip']=_0xf97d37,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x27a5a2){_0x27a5a2!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x27a5a2,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x27a2e7){if(!this['_skyboxRot'+'ation']['equals'](_0x27a2e7)){const _0x4fff22=_0x27a2e7['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x27a2e7),_0x4fff22?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x27a2e7,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x4fff22&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x2395+0x2*-0xb6b+-0xcbf),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x196502,_0x5c5600,_0x38381c=ie['WHITE'],_0x2b974a=!(-0x11b3+0x23*-0x35+0x18f2),_0x100fc5=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x100fc5,_0x2b974a)['addLines']([_0x196502,_0x5c5600],[_0x38381c,_0x38381c]);}['drawLines'](_0x459044,_0xe52989,_0x408434=!(0x587+-0xbec+0x665),_0x54ae45=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x54ae45,_0x408434)['addLines'](_0x459044,_0xe52989);}['drawLineAr'+'rays'](_0x286d35,_0xc1a152,_0x5a36c0=!(0x86*0x3+0x1ecb+-0x205d*0x1),_0x471234=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x471234,_0x5a36c0)['addLinesAr'+'rays'](_0x286d35,_0xc1a152);}['applySetti'+'ngs'](_0x1c598c){const _0x50c131=_0x1c598c['physics'],_0x38f11c=_0x1c598c['render'];this['_gravity']['set'](_0x50c131['gravity'][0x8ca+-0xe09*-0x2+-0x24dc],_0x50c131['gravity'][-0x1*0x797+0x4c0+-0x5b*-0x8],_0x50c131['gravity'][-0x97c+0x20ce+-0x10*0x175]),this['ambientLig'+'ht']['set'](_0x38f11c['global_amb'+'ient'][-0xc1*-0x7+-0x1bbf*0x1+0x1678],_0x38f11c['global_amb'+'ient'][0x9f*0x36+-0x2697+0x50e],_0x38f11c['global_amb'+'ient'][0x1*-0x71d+-0x4d2+0x3fb*0x3]),this['ambientLum'+'inance']=_0x38f11c['ambientLum'+'inance'],this['fog']['type']=_0x38f11c['fog'],this['fog']['color']['set'](_0x38f11c['fog_color'][0x198c+0x329+-0x1cb5],_0x38f11c['fog_color'][0x12b0+0x1*0x1763+-0x2a12],_0x38f11c['fog_color'][0x1ebd+-0x1*0x1f3+-0x1cc8]),this['fog']['start']=_0x38f11c['fog_start'],this['fog']['end']=_0x38f11c['fog_end'],this['fog']['density']=_0x38f11c['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x38f11c['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x38f11c['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x38f11c['lightmapMo'+'de'],this['exposure']=_0x38f11c['exposure'],this['_skyboxInt'+'ensity']=_0x38f11c['skyboxInte'+'nsity']??-0x8*0x2fe+0x22bd*0x1+0xacc*-0x1,this['_skyboxLum'+'inance']=_0x38f11c['skyboxLumi'+'nance']??0x2f3e+0xe5*0x1c+0x9*0xa6,this['_skyboxMip']=_0x38f11c['skyboxMip']??-0x1c2a+-0x7*0x35e+-0x56*-0x9a,_0x38f11c['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x38f11c['skyboxRota'+'tion'][0x1*-0x10d3+-0x17e*0x16+0x31a7*0x1],_0x38f11c['skyboxRota'+'tion'][0x49*-0x25+-0x18df*0x1+0x3*0xbcf],_0x38f11c['skyboxRota'+'tion'][0x2622+0x631+-0x2c51])),this['sky']['applySetti'+'ngs'](_0x38f11c),this['clusteredL'+'ightingEna'+'bled']=_0x38f11c['clusteredL'+'ightingEna'+'bled']??!(0x61c*0x2+-0x38c+-0x8ab),this['lighting']['applySetti'+'ngs'](_0x38f11c),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x311b8e=>{_0x38f11c['hasOwnProp'+'erty'](_0x311b8e)&&(this[_0x311b8e]=_0x38f11c[_0x311b8e]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x42273a=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x42273a[[-0x329+0x2fc*-0x1+0x625,0xd04+0x8bc+-0x15bf,0x190a+-0x3*0x25c+0x397*-0x5,-0x1c5e*-0x1+-0x100*-0x23+-0x3f5a,0x1bd9*0x1+-0x1fd5+-0x1*-0x401,0x2*0xb49+0x189*0xc+-0xa3e*0x4][this['_skyboxMip']]]||this['_envAtlas']||_0x42273a[0x6*0x37b+-0x184c+-0x17*-0x26]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x42273a[-0x1ca2+-0x1*0xa4e+0x10*0x26f]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x1aad+-0x22bd+0xac*0xc);}['setSkybox'](_0x4431b5){_0x4431b5?(this['skybox']=_0x4431b5[0x1a6*-0xe+-0x164f+-0x50b*-0x9]||null,_0x4431b5[0x1668+-0x1755+-0x2*-0x77]&&!_0x4431b5[-0x3d7*-0x3+-0x1ce4+0x1160]['cubemap']?this['envAtlas']=_0x4431b5[-0x3*0x24f+-0xc*-0x84+0x5f*0x2]:this['prefiltere'+'dCubemaps']=_0x4431b5['slice'](0x850+0x469+-0x4a*0x2c)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x499183,_0x2b6a5d,_0x1fec45){this['device']=_0x499183,this['inverseBin'+'dPose']=_0x2b6a5d,this['boneNames']=_0x1fec45;}}const kA=[-0x1*0x95+-0x1*0x6e1+0xa*0xbf,0x3*0x5bf+-0x1*-0x71+-0x11ae,-0xe77+-0x1a3a+-0x2*-0x1459,0x2477+0x1*-0x407+-0x2070,0x31*-0xa9+-0x1*-0xaa7+0x1*0x15b2,0x137*0x4+0x3*-0x202+0xd*0x17,-0x482*-0x5+0xdd2*-0x2+0x51a,0x1*0x2da+-0x1ba9+0x18cf,0x1dfa+-0x1b25+-0x2d4,-0x210b*-0x1+0x6b6*0x4+-0x3be3,0x3*-0x1e5+-0x5*0x54d+0x2030,-0x6c1+-0xe9c*-0x2+-0x1676],UA=[-0x621*-0x1+0x205a+-0x267b,0x11*0x1bf+0x1174+-0x2f22,0x1*0x2569+-0x3*0x1dd+-0x1fcf,0x677*0x1+-0x18e6+-0x1271*-0x1,-0x1b9*0x15+0x2004+0x42c,-0x43*-0x53+-0x58a+0x102e*-0x1];class BA extends me{constructor(_0xdd1387,_0x3d3046){super(),this['_device']=_0xdd1387,this['_pixelsPer'+'Unit']=_0x3d3046&&_0x3d3046['pixelsPerU'+'nit']!==void(-0x1*-0x121a+0x489+-0x16a3)?_0x3d3046['pixelsPerU'+'nit']:0x26dc+-0x1ba2+-0xb39,this['_renderMod'+'e']=_0x3d3046&&_0x3d3046['renderMode']!==void(0x1137*-0x1+0x39*-0x7c+-0x1b*-0x1a9)?_0x3d3046['renderMode']:ci,this['_atlas']=_0x3d3046&&_0x3d3046['atlas']!==void(0x20ea+-0x96+0x815*-0x4)?_0x3d3046['atlas']:null,this['_frameKeys']=_0x3d3046&&_0x3d3046['frameKeys']!==void(-0x137*0x15+0x1*0x1c2d+0x1f*-0x16)?_0x3d3046['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x5*0x6c1+-0x4af*0x5+-0xa59),this['_meshesDir'+'ty']=!(-0x1*-0xf7b+-0x7e4+-0x1*0x796),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x3f8376){this['_frameKeys']=_0x3f8376,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1339+-0x26ed+-0x12*-0x33b):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x3f8376);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x305600){_0x305600!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x305600,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x8bc+-0x47e+0x6*-0xb5):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x305600));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x1328d1){this['_pixelsPer'+'Unit']!==_0x1328d1&&(this['_pixelsPer'+'Unit']=_0x1328d1,this['fire']('set:pixels'+'PerUnit',_0x1328d1),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x7e2*0x1+0x7c5+0x1*-0xfa7):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x6bcc21){if(this['_renderMod'+'e']===_0x6bcc21)return;const _0x436d59=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x6bcc21,this['fire']('set:render'+'Mode',_0x6bcc21),(_0x436d59===ci||_0x6bcc21===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x894+0x1*0x1f5a+-0x16c6):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2afc76=this['_meshes']['length'];for(let _0x5291c9=0x72b+-0x1*-0x1e55+0xf0*-0x28;_0x5291c9<_0x2afc76;_0x5291c9++){const _0x2d1f46=this['_meshes'][_0x5291c9];_0x2d1f46&&_0x2d1f46['destroy']();}const _0xc39091=this['_frameKeys']['length'];this['_meshes']=new Array(_0xc39091);const _0x27b9ae=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x203e23=-0x2563+-0x1c8a+0x7*0x96b;_0x203e23<_0xc39091;_0x203e23++){const _0x5a49a2=this['_atlas']['frames'][this['_frameKeys'][_0x203e23]];this['_meshes'][_0x203e23]=_0x5a49a2?_0x27b9ae['call'](this,_0x5a49a2):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x384f5d){const _0x4514a3=_0x384f5d['rect'],_0x1955d3=this['_atlas']['texture']['width'],_0x476501=this['_atlas']['texture']['height'],_0x2b9674=_0x4514a3['z']/this['_pixelsPer'+'Unit'],_0x129338=_0x4514a3['w']/this['_pixelsPer'+'Unit'],_0x407573=_0x384f5d['pivot']['x'],_0x16e899=_0x384f5d['pivot']['y'],_0x3592f7=[-_0x407573*_0x2b9674,-_0x16e899*_0x129338,0x5*0x5b1+-0x5d*0x13+0x59*-0x3e,(0x1*0xdfc+-0x1852+0x1*0xa57-_0x407573)*_0x2b9674,-_0x16e899*_0x129338,-0x1803+0x2*-0x12fd+0x3dfd*0x1,(-0x2443+-0x258b+0x49cf-_0x407573)*_0x2b9674,(0x8*-0x3e3+-0x3*0x6fb+0x340a-_0x16e899)*_0x129338,-0x16f1+0x2337+-0xc46,-_0x407573*_0x2b9674,(-0x1*0x24f2+0xa58*0x2+0xb5*0x17-_0x16e899)*_0x129338,-0x1*-0x35b+0x1960*-0x1+0x1605],_0x18fdbb=_0x4514a3['x']/_0x1955d3,_0x2fbb2e=0x1ce0+0xeb*0xa+-0x260d-_0x4514a3['y']/_0x476501,_0x47adc8=(_0x4514a3['x']+_0x4514a3['z'])/_0x1955d3,_0x3a032c=-0xe6c+0x9e6+0x487-(_0x4514a3['y']+_0x4514a3['w'])/_0x476501,_0x2495e0=[_0x18fdbb,_0x2fbb2e,_0x47adc8,_0x2fbb2e,_0x47adc8,_0x3a032c,_0x18fdbb,_0x3a032c],_0x136ed9=new Ta();return _0x136ed9['positions']=_0x3592f7,_0x136ed9['normals']=kA,_0x136ed9['uvs']=_0x2495e0,_0x136ed9['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x136ed9);}['_create9Sl'+'iceMesh'](){const _0x4d9de7=J['ONE'],_0x328dee=0x86*-0x1d+-0x1*0xb3+-0x6*-0x2a6,_0x15e5bb=-0x7a5*-0x3+-0x1*-0x36a+-0x2*0xd2b,_0x39b50e=[],_0x3a768a=[],_0x123ad6=[],_0x3a6462=[];let _0x6aeb71=-0x1e94*0x1+-0x2151*0x1+0x3fe5;for(let _0x4bd9b0=-0x249b+0x4e8*0x2+0x1acb;_0x4bd9b0<=_0x328dee;_0x4bd9b0++){const _0x134b40=_0x4bd9b0===-0x13cd*0x1+-0xc10+0x1fdd*0x1||_0x4bd9b0===_0x328dee?0x54+0x610+-0x199*0x4:-0x2*-0x467+0x2143*-0x1+0x1876;for(let _0x47e328=-0xac1*-0x3+-0x5*0x739+-0x3a*-0x11;_0x47e328<=_0x15e5bb;_0x47e328++){const _0x1466e2=-_0x4d9de7['x']+(-0x1*0x1aa7+-0x2528+-0x3fd1*-0x1)*_0x4d9de7['x']*(_0x4bd9b0<=0x4*-0x1e2+0x2687+-0x1efe?-0x2b1+-0xe7+0x398:0x25ee*-0x1+0x1330+0x12c1)/_0x328dee,_0xcd5066=0x1*-0x73+-0x1cc1*-0x1+0x1*-0x1c4e,_0x44fec9=-(-_0x4d9de7['y']+(0x1b47+-0x5*-0x456+0x30f3*-0x1)*_0x4d9de7['y']*(_0x47e328<=0x1*0x1d53+0x1b06+-0x3*0x12c8?0x176c+0x20fb+-0x3867:0x1b80+-0xb2b+-0x1052)/_0x15e5bb),_0x271048=_0x47e328===0xfbf+-0x1b17+0x6*0x1e4||_0x47e328===_0x15e5bb?0x245f+0x1a*-0x179+0x1eb:-0x25ca+-0x213c+0x4707;_0x39b50e['push'](-_0x1466e2,_0xcd5066,_0x44fec9),_0x3a768a['push'](-0x1982+0x1258+-0x7*-0x106,0xd20+-0x28e*0x4+-0x2e7,0x2*-0x572+-0x1eb*0x4+0x1290),_0x123ad6['push'](_0x134b40,_0x271048),_0x4bd9b0<_0x328dee&&_0x47e328<_0x15e5bb&&(_0x3a6462['push'](_0x6aeb71+_0x15e5bb+(-0xfa7+-0x1150+-0xa*-0x34c),_0x6aeb71+(0x315+-0x5ba*-0x4+-0x1*0x19fc),_0x6aeb71),_0x3a6462['push'](_0x6aeb71+_0x15e5bb+(-0x18ff+0x6*-0x38c+0x2e48),_0x6aeb71+_0x15e5bb+(-0x1dd8+-0x1*-0x180a+0x18*0x3e),_0x6aeb71+(0x1806*0x1+0x1cad*-0x1+0x2*0x254))),_0x6aeb71++;}}const _0x5289e5=new Ta();return _0x5289e5['positions']=_0x39b50e,_0x5289e5['normals']=_0x3a768a,_0x5289e5['uvs']=_0x123ad6,_0x5289e5['indices']=_0x3a6462,Ge['fromGeomet'+'ry'](this['_device'],_0x5289e5);}['_onSetFram'+'es'](_0x11299c){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1728+0x22*0x6+-0x165c*-0x1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x32842e,_0x500c5b){const _0x3cf8a0=this['_frameKeys']['indexOf'](_0x32842e);_0x3cf8a0<0x1*0x607+-0x1*0xb33+0x52c*0x1||(_0x500c5b?this['renderMode']===ci&&(this['_meshes'][_0x3cf8a0]=this['_createSim'+'pleMesh'](_0x500c5b)):this['_meshes'][_0x3cf8a0]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x20f4b4){const _0x495f7a=this['_frameKeys']['indexOf'](_0x20f4b4);_0x495f7a<0x1fce+-0x13*0x175+-0xd3*0x5||(this['_meshes'][_0x495f7a]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x1d32+0x1516+-0x3248),this['_meshesDir'+'ty']=!(-0xded+0x2*0x47d+-0x4f4*-0x1);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x9*-0x259+0x3*0x114+0x11e6),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x4f7*-0x4+0xf1+-0x12ec*-0x1);}['destroy'](){for(const _0x579e28 of this['_meshes'])_0x579e28&&_0x579e28['destroy']();this['_meshes']['length']=0x1d27*-0x1+-0x4e3+0x220a;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1c0005){this['_texture']=_0x1c0005,this['fire']('set:textur'+'e',_0x1c0005);}get['texture'](){return this['_texture'];}set['frames'](_0x53dae3){this['_frames']=_0x53dae3,this['fire']('set:frames',_0x53dae3);}get['frames'](){return this['_frames'];}['setFrame'](_0x5e378b,_0x378a79){let _0x2b4694=this['_frames'][_0x5e378b];_0x2b4694?(_0x2b4694['rect']['copy'](_0x378a79['rect']),_0x2b4694['pivot']['copy'](_0x378a79['pivot']),_0x2b4694['border']['copy'](_0x378a79['border'])):(_0x2b4694={'rect':_0x378a79['rect']['clone'](),'pivot':_0x378a79['pivot']['clone'](),'border':_0x378a79['border']['clone']()},this['_frames'][_0x5e378b]=_0x2b4694),this['fire']('set:frame',_0x5e378b['toString'](),_0x2b4694);}['removeFram'+'e'](_0x321c4f){const _0x40f790=this['_frames'][_0x321c4f];_0x40f790&&(delete this['_frames'][_0x321c4f],this['fire']('remove:fra'+'me',_0x321c4f['toString'](),_0x40f790));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x42b8bc,_0x3f7cf3,_0x4e3ef7,_0x3c7dc6){this['time']=_0x42b8bc,this['position']=_0x3f7cf3,this['rotation']=_0x4e3ef7,this['scale']=_0x3c7dc6;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',0x178d*-0x1+0x6b5*0x4+-0x347*0x1),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0xb9f3b5){return this['_nodeDict'][_0xb9f3b5];}['addNode'](_0x167fa3){this['_nodes']['push'](_0x167fa3),this['_nodeDict'][_0x167fa3['_name']]=_0x167fa3;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x1*0x12d6+-0x683+-0x1*0xc52),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x4150e5){this['_targetNod'+'e']=_0x4150e5;}}class Sf{constructor(_0x378b6a){h(this,'looping',!(-0xf10+-0xf75+0x1e85*0x1)),(this['_animation']=null,this['_time']=-0x1022+-0x5eb*0x4+0x27ce,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x584d29=_0x414e5e=>{const _0x3ce4dc=new VA();_0x3ce4dc['_name']=_0x414e5e['name'],this['_interpola'+'tedKeys']['push'](_0x3ce4dc),this['_interpola'+'tedKeyDict'][_0x414e5e['name']]=_0x3ce4dc,this['_currKeyIn'+'dices'][_0x414e5e['name']]=0x1*0x1353+0x1887+-0x2bda;for(let _0x293e49=0x2214+0x1*-0x1e51+-0x3c3;_0x293e49<_0x414e5e['_children']['length'];_0x293e49++)_0x584d29(_0x414e5e['_children'][_0x293e49]);};_0x584d29(_0x378b6a);}set['animation'](_0x3ec4f7){this['_animation']=_0x3ec4f7,this['currentTim'+'e']=0x1bb4+-0x13*-0xfe+-0x1747*0x2;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x5f025f){this['_time']=_0x5f025f;const _0x380931=this['_interpola'+'tedKeys']['length'];for(let _0x3a42e8=0x4f*0x79+0x246+-0x1*0x279d;_0x3a42e8<_0x380931;_0x3a42e8++){const _0x5d4eb5=this['_interpola'+'tedKeys'][_0x3a42e8]['_name'];this['_currKeyIn'+'dices'][_0x5d4eb5]=-0x3*0x7e6+-0x367*-0x9+0x1*-0x6ed;}this['addTime'](0x1582+-0x3*0x650+-0x292),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x41cf39){if(this['_animation']!==null){const _0x2dc8a6=this['_animation']['_nodes'],_0x2df60c=this['_animation']['duration'];if(this['_time']===_0x2df60c&&!this['looping'])return;if(this['_time']+=_0x41cf39,this['_time']>_0x2df60c){this['_time']=this['looping']?0x118a*-0x1+0x22ac+-0x1122:_0x2df60c;for(let _0x94db8f=0x2415*-0x1+0x1*0x1a7d+0x998;_0x94db8f<_0x2dc8a6['length'];_0x94db8f++){const _0x30bd57=_0x2dc8a6[_0x94db8f]['_name'];this['_currKeyIn'+'dices'][_0x30bd57]=-0x3f5*-0x6+-0x43a*0x2+0x7a5*-0x2;}}else{if(this['_time']<0x2*0x118c+-0x2232+0x5*-0x2e){this['_time']=this['looping']?_0x2df60c:0x1837*0x1+0x4bc+-0x1cf3;for(let _0x274d6d=0x4f9+0x4e8+0x3*-0x34b;_0x274d6d<_0x2dc8a6['length'];_0x274d6d++){const _0x4df6bb=_0x2dc8a6[_0x274d6d],_0xbb0f5d=_0x4df6bb['_name'];this['_currKeyIn'+'dices'][_0xbb0f5d]=_0x4df6bb['_keys']['length']-(-0x100e+0x1*-0x2665+-0x9*-0x60d);}}}const _0x3efa9c=_0x41cf39>=0x1*-0x182e+0xa*-0xc7+0x1ff4?-0xd31+-0x9c1*0x1+0x16f3:-(-0x17b5+-0x5fa+-0x28*-0xbe);for(let _0x31db0c=-0x3e6*0x4+-0xfbd+0x1f55;_0x31db0c<_0x2dc8a6['length'];_0x31db0c++){const _0x3fab3c=_0x2dc8a6[_0x31db0c],_0x31cb89=_0x3fab3c['_name'],_0x33295b=_0x3fab3c['_keys'],_0x52614f=this['_interpola'+'tedKeyDict'][_0x31cb89];if(_0x52614f===void(0x1a70+-0xd1d+0x9*-0x17b)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x31cb89);continue;}let _0x16e191=!(-0x1*0x797+0x390+0x408);if(_0x33295b['length']!==-0x7bc+0x3*-0x391+0x10*0x127)for(let _0x2bcdc1=this['_currKeyIn'+'dices'][_0x31cb89];_0x2bcdc1<_0x33295b['length']-(-0x109a+-0x837*-0x2+0x9*0x5)&&_0x2bcdc1>=0x1fc2*-0x1+-0x81d+-0xad*-0x3b;_0x2bcdc1+=_0x3efa9c){const _0x2ccfbc=_0x33295b[_0x2bcdc1],_0x53c3c3=_0x33295b[_0x2bcdc1+(0x11fe+0x13*0x44+-0x1709)];if(_0x2ccfbc['time']<=this['_time']&&_0x53c3c3['time']>=this['_time']){const _0x52ff9a=(this['_time']-_0x2ccfbc['time'])/(_0x53c3c3['time']-_0x2ccfbc['time']);_0x52614f['_pos']['lerp'](_0x2ccfbc['position'],_0x53c3c3['position'],_0x52ff9a),_0x52614f['_quat']['slerp'](_0x2ccfbc['rotation'],_0x53c3c3['rotation'],_0x52ff9a),_0x52614f['_scale']['lerp'](_0x2ccfbc['scale'],_0x53c3c3['scale'],_0x52ff9a),_0x52614f['_written']=!(0x211e+0x13*-0x175+-0x56f),this['_currKeyIn'+'dices'][_0x31cb89]=_0x2bcdc1,_0x16e191=!(0xa0f+0x10a9+-0x1ab8);break;}}(_0x33295b['length']===0x1*-0x1545+0x4b7+-0x9*-0x1d7||!_0x16e191&&this['_time']===-0x1*-0x119b+-0x5*-0x61f+-0xbb*0x42&&this['looping'])&&(_0x52614f['_pos']['copy'](_0x33295b[-0x1*-0x7f3+-0x68*-0x33+-0x1cab*0x1]['position']),_0x52614f['_quat']['copy'](_0x33295b[0x1c46+-0x8da+-0x136c]['rotation']),_0x52614f['_scale']['copy'](_0x33295b[0x15f*0x2+-0xfe2+0xd24]['scale']),_0x52614f['_written']=!(0x13*0x79+0x2*0xb3e+0x2d*-0xb3));}}}['blend'](_0x30cee2,_0x8072b5,_0x17d530){const _0x2d2f5e=this['_interpola'+'tedKeys']['length'];for(let _0x234d0c=-0xdb+0x1*0x1085+-0xfaa;_0x234d0c<_0x2d2f5e;_0x234d0c++){const _0x5901f7=_0x30cee2['_interpola'+'tedKeys'][_0x234d0c],_0x415cd2=_0x8072b5['_interpola'+'tedKeys'][_0x234d0c],_0x442411=this['_interpola'+'tedKeys'][_0x234d0c];_0x5901f7['_written']&&_0x415cd2['_written']?(_0x442411['_quat']['slerp'](_0x5901f7['_quat'],_0x8072b5['_interpola'+'tedKeys'][_0x234d0c]['_quat'],_0x17d530),_0x442411['_pos']['lerp'](_0x5901f7['_pos'],_0x8072b5['_interpola'+'tedKeys'][_0x234d0c]['_pos'],_0x17d530),_0x442411['_scale']['lerp'](_0x5901f7['_scale'],_0x415cd2['_scale'],_0x17d530),_0x442411['_written']=!(0xa*-0x1fe+-0x1032+0x241e)):_0x5901f7['_written']?(_0x442411['_quat']['copy'](_0x5901f7['_quat']),_0x442411['_pos']['copy'](_0x5901f7['_pos']),_0x442411['_scale']['copy'](_0x5901f7['_scale']),_0x442411['_written']=!(0x12d4+-0x55+-0x127f)):_0x415cd2['_written']&&(_0x442411['_quat']['copy'](_0x415cd2['_quat']),_0x442411['_pos']['copy'](_0x415cd2['_pos']),_0x442411['_scale']['copy'](_0x415cd2['_scale']),_0x442411['_written']=!(0x1a8d+0x33d+0x1dca*-0x1));}}['setGraph'](_0x596fad){if(this['graph']=_0x596fad,_0x596fad)for(let _0x2ec4af=0x1e2*0x7+-0x10be+0x390;_0x2ec4af<this['_interpola'+'tedKeys']['length'];_0x2ec4af++){const _0x44dd2e=this['_interpola'+'tedKeys'][_0x2ec4af],_0x4eb14b=_0x596fad['findByName'](_0x44dd2e['_name']);this['_interpola'+'tedKeys'][_0x2ec4af]['setTarget'](_0x4eb14b);}else{for(let _0x2cc5d7=0x1521+-0x9f*0xb+-0xe4c;_0x2cc5d7<this['_interpola'+'tedKeys']['length'];_0x2cc5d7++)this['_interpola'+'tedKeys'][_0x2cc5d7]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x558848=0x15e7+0x2609*-0x1+0x1022;_0x558848<this['_interpola'+'tedKeys']['length'];_0x558848++){const _0x570efa=this['_interpola'+'tedKeys'][_0x558848];if(_0x570efa['_written']){const _0x11bdbe=_0x570efa['getTarget']();_0x11bdbe['localPosit'+'ion']['copy'](_0x570efa['_pos']),_0x11bdbe['localRotat'+'ion']['copy'](_0x570efa['_quat']),_0x11bdbe['localScale']['copy'](_0x570efa['_scale']),_0x11bdbe['_dirtyLoca'+'l']||_0x11bdbe['_dirtifyLo'+'cal'](),_0x570efa['_written']=!(-0x2146*-0x1+0x2067*0x1+0x106b*-0x4);}}}}const zs=(-0x1*-0x6c7+-0xd2b+-0x2*-0x334)/(0x1*0x2414+0x1*0x249b+-0x486f*0x1),si=-0x1758+-0x4b*0x7+-0x2*-0xcb3-zs*(0x23b8+0x3*0xaf1+-0x1*0x4489);class gm extends Ta{constructor(_0x19767b,_0x16fe3b,_0x49755a,_0x3519fe,_0x370f35,_0x5664ac){super();const _0xfe0620=new D(),_0x22849e=new D(),_0x22a6c1=new D(),_0x13bc1e=new D(),_0x3894c6=new D(),_0x3a24e9=new D(),_0x4bcb63=[],_0x5b58f7=[],_0x18b673=[],_0xcd0fe4=[],_0xc29b28=[];let _0x4ee3e8;if(_0x49755a>0x134+0x186f+-0x19a3){for(let _0x5c7b9c=0x1*-0xec7+-0xf*0xcd+-0xd65*-0x2;_0x5c7b9c<=_0x3519fe;_0x5c7b9c++)for(let _0x30b0de=-0x16d1+-0x9*0x38b+0x4*0xdad;_0x30b0de<=_0x370f35;_0x30b0de++){const _0x43bb2e=_0x30b0de/_0x370f35*(0x2549+-0xbdc+-0x196b)*Math['PI']-Math['PI'],_0x31da69=Math['sin'](_0x43bb2e),_0x3a863a=Math['cos'](_0x43bb2e);_0x3894c6['set'](_0x31da69*_0x19767b,-_0x49755a/(-0x1c8f+-0xbd*-0xf+0x117e),_0x3a863a*_0x19767b),_0x13bc1e['set'](_0x31da69*_0x16fe3b,_0x49755a/(-0x91*-0x3d+0x243*-0x11+0x3e8),_0x3a863a*_0x16fe3b),_0xfe0620['lerp'](_0x3894c6,_0x13bc1e,_0x5c7b9c/_0x3519fe),_0x22849e['sub2'](_0x13bc1e,_0x3894c6)['normalize'](),_0x3a24e9['set'](_0x3a863a,-0x1557+-0x1529*-0x1+0x17*0x2,-_0x31da69),_0x22a6c1['cross'](_0x3a24e9,_0x22849e)['normalize'](),_0x4bcb63['push'](_0xfe0620['x'],_0xfe0620['y'],_0xfe0620['z']),_0x5b58f7['push'](_0x22a6c1['x'],_0x22a6c1['y'],_0x22a6c1['z']);let _0x577ab5=_0x30b0de/_0x370f35,_0x2a6a7d=_0x5c7b9c/_0x3519fe;_0x18b673['push'](_0x577ab5,-0xf1b+-0x1*0x25e1+0x34fd-_0x2a6a7d);const _0x43fc38=_0x2a6a7d;if(_0x2a6a7d=_0x577ab5,_0x577ab5=_0x43fc38,_0x577ab5=_0x577ab5*si+zs,_0x2a6a7d=_0x2a6a7d*si+zs,_0x577ab5/=0x1c39+0x1*-0x1dc7+-0x1*-0x191,_0xcd0fe4['push'](_0x577ab5,0x1231+-0x1651+-0x7*-0x97-_0x2a6a7d),_0x5c7b9c<_0x3519fe&&_0x30b0de<_0x370f35){const _0x52f782=_0x5c7b9c*(_0x370f35+(0x11*-0x1a6+0x2362+0x10d*-0x7))+_0x30b0de,_0x50257b=_0x5c7b9c*(_0x370f35+(0x9*0x24a+0x21af+-0x3648))+(_0x30b0de+(-0x1255+-0x16a5+-0x327*-0xd)),_0x81f0ca=(_0x5c7b9c+(-0x1*0x2366+-0x3aa*0x2+0x2abb))*(_0x370f35+(0x2107+-0x257c+0x1*0x476))+_0x30b0de,_0x5751cc=(_0x5c7b9c+(-0x3*-0xcc7+-0x1*0x11a3+-0x1*0x14b1))*(_0x370f35+(-0x228b+-0x151*0x4+0x27d0))+(_0x30b0de+(0x9ec+-0xcc8*-0x1+-0x16b3));_0xc29b28['push'](_0x52f782,_0x50257b,_0x81f0ca),_0xc29b28['push'](_0x50257b,_0x5751cc,_0x81f0ca);}}}if(_0x5664ac){const _0x1d7686=Math['floor'](_0x370f35/(0x72*0x22+0x1a32+0x2e*-0xe6)),_0x5cb333=_0x370f35,_0x222f30=_0x49755a/(0x1db*0xe+0x2439+0x3d*-0x105);for(let _0x4eeb67=0x9*0x2dd+0x1057+-0x604*0x7;_0x4eeb67<=_0x1d7686;_0x4eeb67++){const _0x1bc60f=_0x4eeb67*Math['PI']*(0x1747+0x11b8+0x833*-0x5+0.5)/_0x1d7686,_0x8e3a9b=Math['sin'](_0x1bc60f),_0x2f51b9=Math['cos'](_0x1bc60f);for(let _0x14eb61=-0x37a*-0x1+0x2542+-0x145e*0x2;_0x14eb61<=_0x5cb333;_0x14eb61++){const _0x59275d=_0x14eb61*(0x8*0x493+0x2*0x5bf+-0xc05*0x4)*Math['PI']/_0x5cb333-Math['PI']/(-0x1ca*-0xd+0x15da*0x1+-0xfb*0x2e),_0x247ace=Math['sin'](_0x59275d),_0x13f4ac=Math['cos'](_0x59275d)*_0x8e3a9b,_0x26ebc3=_0x2f51b9,_0xced30e=_0x247ace*_0x8e3a9b;let _0x18b8d8=-0x17bc+-0x1*0x1aa2+0x1*0x325f-_0x14eb61/_0x5cb333,_0x15f73b=-0x2*-0x84f+-0x10d0+0x33-_0x4eeb67/_0x1d7686;_0x4bcb63['push'](_0x13f4ac*_0x16fe3b,_0x26ebc3*_0x16fe3b+_0x222f30,_0xced30e*_0x16fe3b),_0x5b58f7['push'](_0x13f4ac,_0x26ebc3,_0xced30e),_0x18b673['push'](_0x18b8d8,-0x1a1e+-0x2330+0xc43*0x5-_0x15f73b),_0x18b8d8=_0x18b8d8*si+zs,_0x15f73b=_0x15f73b*si+zs,_0x18b8d8/=0x139+0x23ba+-0x24f0,_0x15f73b/=-0x14c3*0x1+-0x3*-0x151+0x10d3,_0x18b8d8+=(0x1aef*0x1+-0x61*0x4+-0x196a)/(-0x4*0x8b+0x13b0+-0x1181),_0xcd0fe4['push'](_0x18b8d8,0x31*0x7b+0x116*-0x13+-0x2e8-_0x15f73b);}}_0x4ee3e8=(_0x3519fe+(-0x226d+0x159b*-0x1+0x5f*0x97))*(_0x370f35+(-0x2b*0x5e+-0x1ec7+0x2e92));for(let _0x36268b=0x1640+-0x7a5+0xe9b*-0x1;_0x36268b<_0x1d7686;++_0x36268b)for(let _0x5daadb=-0x263b*0x1+0x227a+0x3c1;_0x5daadb<_0x5cb333;++_0x5daadb){const _0xb548b4=_0x36268b*(_0x5cb333+(-0x731*0x1+-0x41f+0x1*0xb51))+_0x5daadb,_0x431dce=_0xb548b4+_0x5cb333+(-0x5*-0x227+-0x1f5*-0x12+-0x2dfc);_0xc29b28['push'](_0x4ee3e8+_0xb548b4+(0x97b+-0x67+-0x913),_0x4ee3e8+_0x431dce,_0x4ee3e8+_0xb548b4),_0xc29b28['push'](_0x4ee3e8+_0xb548b4+(-0x154*-0x4+0x2*-0x12ad+0x200b),_0x4ee3e8+_0x431dce+(0xbb0+-0xf92+0x3e3),_0x4ee3e8+_0x431dce);}for(let _0x2749ce=-0x2ba*-0x1+0x1f9c+-0x2256;_0x2749ce<=_0x1d7686;_0x2749ce++){const _0x4de13e=Math['PI']*(0x1c5*-0x7+0x7b6+0x4ad+0.5)+_0x2749ce*Math['PI']*(-0x4b1*0x4+0x19e9+-0x725*0x1+0.5)/_0x1d7686,_0x45055b=Math['sin'](_0x4de13e),_0x16e366=Math['cos'](_0x4de13e);for(let _0x3416fc=-0x1658+-0x64a+0x1ca2;_0x3416fc<=_0x5cb333;_0x3416fc++){const _0x5cc04f=_0x3416fc*(-0x2*0x51d+-0x1267+0x1*0x1ca3)*Math['PI']/_0x5cb333-Math['PI']/(0x7bf*0x4+0xb26*-0x2+-0x8ae),_0x3f28b5=Math['sin'](_0x5cc04f),_0x4c5b22=Math['cos'](_0x5cc04f)*_0x45055b,_0x2f07ea=_0x16e366,_0x1330a8=_0x3f28b5*_0x45055b;let _0x4ceb80=0x2077+-0x22c4+0x24e*0x1-_0x3416fc/_0x5cb333,_0x530173=0xcef*-0x3+-0x15f3+-0x97*-0x67-_0x2749ce/_0x1d7686;_0x4bcb63['push'](_0x4c5b22*_0x16fe3b,_0x2f07ea*_0x16fe3b-_0x222f30,_0x1330a8*_0x16fe3b),_0x5b58f7['push'](_0x4c5b22,_0x2f07ea,_0x1330a8),_0x18b673['push'](_0x4ceb80,0x575+0x19b1*0x1+0x77*-0x43-_0x530173),_0x4ceb80=_0x4ceb80*si+zs,_0x530173=_0x530173*si+zs,_0x4ceb80/=0xe78+-0x8a0+0x5d5*-0x1,_0x530173/=0xe3f+0x1*-0x20d9+-0x5*-0x3b9,_0x4ceb80+=(-0x577*0x3+-0x11c*0x1+0x1183)/(-0x1cda+-0x1114+0x26b*0x13),_0xcd0fe4['push'](_0x4ceb80,0xdd4+0xfa0+-0x1d73-_0x530173);}}_0x4ee3e8=(_0x3519fe+(0x19f4+0x1*0x1fa2+-0x3995))*(_0x370f35+(0x67*-0x34+0x235c+0x5*-0x2e3))+(_0x5cb333+(-0x1d*0x11b+-0x1a5*-0x1+0x1e6b))*(_0x1d7686+(0xc1c+-0x2*0x61+0x5*-0x245));for(let _0x1a0214=-0x1821*0x1+-0xc8f+0x4*0x92c;_0x1a0214<_0x1d7686;++_0x1a0214)for(let _0x4cb269=-0x2486+-0xc1*0x11+-0x2e7*-0x11;_0x4cb269<_0x5cb333;++_0x4cb269){const _0x217ee2=_0x1a0214*(_0x5cb333+(0x1fb8+-0x3be+-0x1bf9))+_0x4cb269,_0x94af4b=_0x217ee2+_0x5cb333+(-0x5cf*-0x1+0x7a4+-0xd72);_0xc29b28['push'](_0x4ee3e8+_0x217ee2+(-0x44b*0x8+0x565*0x3+0x122a),_0x4ee3e8+_0x94af4b,_0x4ee3e8+_0x217ee2),_0xc29b28['push'](_0x4ee3e8+_0x217ee2+(-0x3*0xc5b+0xa*0x2c7+0x14*0x77),_0x4ee3e8+_0x94af4b+(0x582+0x19fb+-0x41*0x7c),_0x4ee3e8+_0x94af4b);}}else{if(_0x4ee3e8=(_0x3519fe+(0x104d*0x1+0x17fd+0x2849*-0x1))*(_0x370f35+(0x2001*0x1+0x1e95+0x3e95*-0x1)),_0x19767b>-0xfe*-0xc+0x1*0x1709+-0x22f1)for(let _0x885101=-0x1*-0x9f7+0x1*-0x142f+0xa38;_0x885101<_0x370f35;_0x885101++){const _0x52c64d=_0x885101/_0x370f35*(0xa99*-0x3+0x1103*0x1+0x1*0xeca)*Math['PI'],_0x25c975=Math['sin'](_0x52c64d),_0x50cc91=-_0x49755a/(-0x2*0x9eb+0x119f+0x239),_0x367d67=Math['cos'](_0x52c64d);let _0xd8cbf3=0x7*-0x528+-0x355*-0x5+0x2*0x9b8-(_0x25c975+(-0x173d+-0x1551+-0xbb*-0x3d))/(0x264e+0x180+-0x27cc),_0x32cf18=(_0x367d67+(0x21d1+-0x313*-0xc+-0x1*0x46b4))/(0xc45+0x6*0x218+-0x9b*0x29);_0x4bcb63['push'](_0x25c975*_0x19767b,_0x50cc91,_0x367d67*_0x19767b),_0x5b58f7['push'](0x3*0xa8d+-0x104+-0xb*0x2c9,-(-0x22f2+0x171*-0xd+-0xd6c*-0x4),-0x9*-0x366+-0x7f7*0x3+0x3*-0x23b),_0x18b673['push'](_0xd8cbf3,0x8*0x1a6+0x39e*0x5+-0x1f45-_0x32cf18),_0xd8cbf3=_0xd8cbf3*si+zs,_0x32cf18=_0x32cf18*si+zs,_0xd8cbf3/=0x187a+-0x1*-0x24cd+-0x3d44,_0x32cf18/=-0x10*-0x1bc+0xf6*0x6+-0x2181,_0xd8cbf3+=(0x14c4*0x1+0x26cf*0x1+0x7d*-0x7a)/(-0x799+0x2424+0x53*-0x58),_0xcd0fe4['push'](_0xd8cbf3,0x1*0x9a+-0xd67+0xcce*0x1-_0x32cf18),_0x885101>0x9*-0x1bf+-0x23fb+-0xa57*-0x5&&_0xc29b28['push'](_0x4ee3e8,_0x4ee3e8+_0x885101,_0x4ee3e8+_0x885101-(0x2137+-0x2c6+-0x79c*0x4));}if(_0x4ee3e8+=_0x370f35,_0x16fe3b>0x2*-0x3d+-0xa7*-0x3+-0x17b)for(let _0x206e9b=-0x1564*-0x1+-0x1*-0x1d1b+-0x327f;_0x206e9b<_0x370f35;_0x206e9b++){const _0x1532dc=_0x206e9b/_0x370f35*(-0x79d+0x10fe+0x95f*-0x1)*Math['PI'],_0x4b892b=Math['sin'](_0x1532dc),_0x41fccc=_0x49755a/(-0x20b9*0x1+-0x83e+0x28f9),_0x1508ec=Math['cos'](_0x1532dc);let _0x189005=-0x16c0+-0x2*-0x4fe+0xcc5-(_0x4b892b+(-0x2*0x3b5+0x988*-0x3+0x2403))/(0xb9*-0x1+0x1*0xe1e+0x95*-0x17),_0x5d8ed7=(_0x1508ec+(-0x256*-0xa+0x171f+0x1*-0x2e7a))/(0xe91+0xe3b*0x2+-0x2b05);_0x4bcb63['push'](_0x4b892b*_0x16fe3b,_0x41fccc,_0x1508ec*_0x16fe3b),_0x5b58f7['push'](0x1aa*-0xe+-0x257*0x1+0x19a3,0x186c+-0xe43+-0x14*0x82,0x1*0xeed+0x135*-0x19+0xf40),_0x18b673['push'](_0x189005,0x766+0x1d*0x7f+-0x15c8-_0x5d8ed7),_0x189005=_0x189005*si+zs,_0x5d8ed7=_0x5d8ed7*si+zs,_0x189005/=-0x13ae+0x2098+-0xce7,_0x5d8ed7/=0xbb8+0x7bb*-0x3+0xb7c,_0x189005+=(-0x3a*0x71+-0x1*-0x1fff+-0x147*0x5)/(0x5*0x584+0x2267+0x3*-0x14a8),_0xcd0fe4['push'](_0x189005,0x1986+0x1*-0x1a87+0x102-_0x5d8ed7),_0x206e9b>0x13c6+-0x1*-0x1cc1+0x2*-0x1843&&_0xc29b28['push'](_0x4ee3e8,_0x4ee3e8+_0x206e9b-(-0x18d1*-0x1+0xd2f+-0x25ff),_0x4ee3e8+_0x206e9b);}}this['positions']=_0x4bcb63,this['normals']=_0x5b58f7,this['uvs']=_0x18b673,this['uvs1']=_0xcd0fe4,this['indices']=_0xc29b28;}}class GA extends gm{constructor(_0x422941={}){const _0x39753c=_0x422941['radius']??0x1647+-0x1*0x2513+-0xecc*-0x1+0.3,_0xe4a679=_0x422941['height']??0x393+0x1470*0x1+-0x1*0x1802,_0x22a540=_0x422941['heightSegm'+'ents']??-0x1*0x2441+-0x1*-0x1837+0xc0b,_0x2c4141=_0x422941['sides']??0x1*0x1f3+0x551*-0x5+-0x1*-0x18b6;super(_0x39753c,_0x39753c,_0xe4a679-(0x1e6a+0x6cc+-0x2534)*_0x39753c,_0x22a540,_0x2c4141,!(-0x26b+-0x4*-0x5db+0x1*-0x1501)),_0x422941['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x246479={}){const _0x223a1a=_0x246479['baseRadius']??0x3*0xcce+0x1*-0x15d+-0x250d+0.5,_0x4ad249=_0x246479['peakRadius']??0x8f1*0x4+-0xb0b*0x2+-0xdae,_0x37d66c=_0x246479['height']??-0x52+-0xa2d+-0x3*-0x380,_0x1a300c=_0x246479['heightSegm'+'ents']??-0xccb+0x1*-0x17ab+0x351*0xb,_0x486d72=_0x246479['capSegment'+'s']??0x563+-0x649*-0x3+-0x11*0x16c;super(_0x223a1a,_0x4ad249,_0x37d66c,_0x1a300c,_0x486d72,!(-0x1a4f+0xee+0x1962)),_0x246479['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x3cfbbc={}){const _0x2a0793=_0x3cfbbc['radius']??-0x800*-0x1+0x287*-0x9+-0x2f3*-0x5+0.5,_0x3553ab=_0x3cfbbc['height']??-0xf6b+0xe*-0x139+0x208a,_0x12a67a=_0x3cfbbc['heightSegm'+'ents']??0x11*0x26+0x188f+-0x1b10,_0x17f22d=_0x3cfbbc['capSegment'+'s']??-0x4f8*-0x5+-0x1*0x1b73+-0xe5*-0x3;super(_0x2a0793,_0x2a0793,_0x3553ab,_0x12a67a,_0x17f22d,!(-0x229e+-0x2698+0x4937*0x1)),_0x3cfbbc['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x144288={}){super();const _0x5a5c89=_0x144288['halfExtent'+'s']??new J(0x1fcb+0x6*-0xa3+-0x1bf9+0.5,0x1115+-0x35d+-0xdb8+0.5),_0x45a905=_0x144288['widthSegme'+'nts']??0x20c7+-0x2*0x8ea+-0xeee,_0x3f23c8=_0x144288['lengthSegm'+'ents']??0xafd+-0x18cb+0xdd3,_0x8e600c=[],_0x38f155=[],_0x22eae1=[],_0x2eea8f=[];let _0x5971b3=-0x1e8c+-0x1173+-0x1*-0x2fff;for(let _0x44c3ce=-0x10e+-0x4*-0x227+0x3c7*-0x2;_0x44c3ce<=_0x45a905;_0x44c3ce++)for(let _0x4e8f12=-0xe*0xf2+-0x3a*0x9f+-0x3ca*-0xd;_0x4e8f12<=_0x3f23c8;_0x4e8f12++){const _0x2256ac=-_0x5a5c89['x']+(-0x11e4+-0x200b+-0x5*-0x9fd)*_0x5a5c89['x']*_0x44c3ce/_0x45a905,_0x44488f=-0x4c*0x67+0x1c19+0x27b,_0x2d67eb=-(-_0x5a5c89['y']+(0x362+0x13e*-0x1+0x111*-0x2)*_0x5a5c89['y']*_0x4e8f12/_0x3f23c8),_0x3db423=_0x44c3ce/_0x45a905,_0x3746d5=_0x4e8f12/_0x3f23c8;_0x8e600c['push'](_0x2256ac,_0x44488f,_0x2d67eb),_0x38f155['push'](0x22e8+-0x18*0xc2+-0x10b8,0x223+0xb*0x29f+-0x1*0x1ef7,-0x128f+-0x4c1*0x2+0x1df*0xf),_0x22eae1['push'](_0x3db423,-0xf63+0x65f+0x905-_0x3746d5),_0x44c3ce<_0x45a905&&_0x4e8f12<_0x3f23c8&&(_0x2eea8f['push'](_0x5971b3+_0x3f23c8+(-0x10ac+0x2222+0x1*-0x1175),_0x5971b3+(-0x1*-0x1d4b+0x21ed*0x1+-0x3f37),_0x5971b3),_0x2eea8f['push'](_0x5971b3+_0x3f23c8+(-0x1648+0x1d11+-0x8*0xd9),_0x5971b3+_0x3f23c8+(0x191c+0x1*0x1e89+-0x37a3*0x1),_0x5971b3+(-0x2*-0xd4f+-0x1*0x16d0+-0x7*0x8b))),_0x5971b3++;}this['positions']=_0x8e600c,this['normals']=_0x38f155,this['uvs']=_0x22eae1,this['uvs1']=_0x22eae1,this['indices']=_0x2eea8f,_0x144288['calculateT'+'angents']&&(this['tangents']=Mr(_0x8e600c,_0x38f155,_0x22eae1,_0x2eea8f));}}class XA extends Ta{constructor(_0x552fc7={}){super();const _0x183209=_0x552fc7['tubeRadius']??-0x16*0xd0+0x1539+-0x359+0.2,_0x57c37e=_0x552fc7['ringRadius']??0x1*-0x178d+-0xb*0x376+0xc53*0x5+0.3,_0x30a2fe=(_0x552fc7['sectorAngl'+'e']??-0x3c2+0xd39+0x80f*-0x1)*Y['DEG_TO_RAD'],_0x23489d=_0x552fc7['segments']??0x35e*-0xb+0x1*0x2534+-0xc,_0x2a0a8b=_0x552fc7['sides']??-0x2503+0xedb+0x163c,_0x298831=[],_0x2bc01c=[],_0x24be6d=[],_0x2a7770=[];for(let _0x47c5aa=-0x26f7+0x2384+-0x373*-0x1;_0x47c5aa<=_0x2a0a8b;_0x47c5aa++)for(let _0xa6d2d2=0x5*-0x359+-0x1112+-0xb45*-0x3;_0xa6d2d2<=_0x23489d;_0xa6d2d2++){const _0x354106=Math['cos'](_0x30a2fe*_0xa6d2d2/_0x23489d)*(_0x57c37e+_0x183209*Math['cos']((0x49*0x27+0x165e+-0xb29*0x3)*Math['PI']*_0x47c5aa/_0x2a0a8b)),_0x4aa5af=Math['sin']((-0x1*-0x11ef+-0xd93*-0x1+-0x1f80)*Math['PI']*_0x47c5aa/_0x2a0a8b)*_0x183209,_0x38a573=Math['sin'](_0x30a2fe*_0xa6d2d2/_0x23489d)*(_0x57c37e+_0x183209*Math['cos']((0x88d+0x875+-0x100*0x11)*Math['PI']*_0x47c5aa/_0x2a0a8b)),_0x52bbfc=Math['cos'](_0x30a2fe*_0xa6d2d2/_0x23489d)*Math['cos']((0x1453+0x9f*-0x14+-0x7e5)*Math['PI']*_0x47c5aa/_0x2a0a8b),_0x147ae1=Math['sin']((0xc4e+-0x11*-0x139+0x3*-0xb07)*Math['PI']*_0x47c5aa/_0x2a0a8b),_0x53eb2a=Math['sin'](_0x30a2fe*_0xa6d2d2/_0x23489d)*Math['cos']((0x1*-0x1bcd+0x93*-0x1a+0x2abd)*Math['PI']*_0x47c5aa/_0x2a0a8b),_0xed62b6=_0x47c5aa/_0x2a0a8b,_0x1fbbef=-0x33a+0x1027*0x2+-0x1d13-_0xa6d2d2/_0x23489d;if(_0x298831['push'](_0x354106,_0x4aa5af,_0x38a573),_0x2bc01c['push'](_0x52bbfc,_0x147ae1,_0x53eb2a),_0x24be6d['push'](_0xed62b6,0x8b4+0x2b*-0x2+-0x85d-_0x1fbbef),_0x47c5aa<_0x2a0a8b&&_0xa6d2d2<_0x23489d){const _0x3f2e6d=_0x47c5aa*(_0x23489d+(0x84c+0x1*0xd22+-0x156d))+_0xa6d2d2,_0x5af01c=(_0x47c5aa+(0x1d1d*0x1+0x174b+0x5*-0xa7b))*(_0x23489d+(-0x1*-0x1981+-0x61d+-0x2c5*0x7))+_0xa6d2d2,_0x4efed7=_0x47c5aa*(_0x23489d+(0x1044+-0x1*-0x1381+-0x23c4))+(_0xa6d2d2+(0x206c+0xf21+-0x2f8c)),_0x32f76d=(_0x47c5aa+(-0x1169+-0x1*-0x5bd+0xbad))*(_0x23489d+(-0x5e7+0x1507*-0x1+0x23*0xc5))+(_0xa6d2d2+(-0xe11*0x1+-0x6b+-0x1*-0xe7d));_0x2a7770['push'](_0x3f2e6d,_0x5af01c,_0x4efed7),_0x2a7770['push'](_0x5af01c,_0x32f76d,_0x4efed7);}}this['positions']=_0x298831,this['normals']=_0x2bc01c,this['uvs']=_0x24be6d,this['uvs1']=_0x24be6d,this['indices']=_0x2a7770,_0x552fc7['calculateT'+'angents']&&(this['tangents']=Mr(_0x298831,_0x2bc01c,_0x24be6d,_0x2a7770));}}class qA{constructor(_0x1f2e69,_0x3d7883){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x1f2e69,this['_isClearin'+'gCache']=!(0x6*-0x399+0x49*-0x7b+0x38aa),this['_precached']=!(-0x6a*0x34+0x16b5+-0x12c),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x263e74=new vv();_0x3d7883['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x263e74,_0x3d7883,null,[],Aa,null),_0x3d7883['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x3d7883,null,cm,null),_0x1f2e69['on']('destroy:sh'+'ader',_0x26457a=>{this['removeFrom'+'Cache'](_0x26457a);});}['destroy'](){this['clearCache']();}['register'](_0x1752ce,_0x4c9c1f){this['_generator'+'s']['has'](_0x1752ce)||this['_generator'+'s']['set'](_0x1752ce,_0x4c9c1f);}['unregister'](_0x13e04f){this['_generator'+'s']['has'](_0x13e04f)&&this['_generator'+'s']['delete'](_0x13e04f);}['isRegister'+'ed'](_0x42825e){return this['_generator'+'s']['has'](_0x42825e);}['generateSh'+'aderDefini'+'tion'](_0xb6470b,_0xd50c67,_0x30fd9c,_0x50d498){var _0x315372,_0x3c181d;let _0x56276f=this['definition'+'sCache']['get'](_0x30fd9c);if(!_0x56276f){let _0x4786b5;(_0x315372=_0x50d498['litOptions'])!=null&&_0x315372['lights']&&(_0x4786b5=_0x50d498['litOptions']['lights'],_0x50d498['litOptions']['lights']=_0x4786b5['map'](_0x309d58=>{const _0x154a80=_0x309d58['clone']?_0x309d58['clone']():_0x309d58;return _0x154a80['key']=_0x309d58['key'],_0x154a80;})),this['storeNewPr'+'ogram'](_0xd50c67,_0x50d498),(_0x3c181d=_0x50d498['litOptions'])!=null&&_0x3c181d['lights']&&(_0x50d498['litOptions']['lights']=_0x4786b5),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0xd50c67+'\x20key\x20'+_0x30fd9c+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3bef0f=this['_device'];_0x56276f=_0xb6470b['createShad'+'erDefiniti'+'on'](_0x3bef0f,_0x50d498),_0x56276f['name']=_0x56276f['name']??(_0x50d498['pass']?_0xd50c67+'-pass:'+_0x50d498['pass']:_0xd50c67),this['definition'+'sCache']['set'](_0x30fd9c,_0x56276f);}return _0x56276f;}['getCachedS'+'hader'](_0x5903f8){return this['processedC'+'ache']['get'](_0x5903f8);}['setCachedS'+'hader'](_0x380f3f,_0x36e09a){this['processedC'+'ache']['set'](_0x380f3f,_0x36e09a);}['getProgram'](_0x2c02b2,_0x16a153,_0x72b007,_0x19ca99){const _0xc29800=this['_generator'+'s']['get'](_0x2c02b2);if(!_0xc29800)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x2c02b2),null;const _0x34d625=_0xc29800['generateKe'+'y'](_0x16a153),_0x34a36a=hi(_0x34d625),_0x527229=_0x72b007['generateKe'+'y'](this['_device']),_0x296617=hi(_0x527229),_0xb19923=_0x34a36a+'#'+_0x296617;let _0x4b709e=this['getCachedS'+'hader'](_0xb19923);if(!_0x4b709e){const _0x47044f=this['generateSh'+'aderDefini'+'tion'](_0xc29800,_0x2c02b2,_0x34a36a,_0x16a153);w['assert'](_0x47044f);let _0x1a326c='',_0x3e3336;_0x16a153['pass']!==void(-0x53*-0x13+-0x2389*0x1+0xbc*0x28)&&(_0x3e3336=Si['get'](this['_device'])['getByIndex'](_0x16a153['pass']),_0x1a326c='-'+_0x3e3336['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x19ca99,'shaderPassInfo':_0x3e3336,'definition':_0x47044f});const _0x1188fe={'name':''+_0x47044f['name']+_0x1a326c+'-proc','attributes':_0x47044f['attributes'],'vshader':_0x47044f['vshader'],'vincludes':_0x47044f['vincludes'],'fincludes':_0x47044f['fincludes'],'fshader':_0x47044f['fshader'],'processingOptions':_0x72b007,'shaderLanguage':_0x47044f['shaderLang'+'uage'],'meshUniformBufferFormat':_0x47044f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x47044f['meshBindGr'+'oupFormat']};_0x4b709e=new qy(this['_device'],_0x1188fe),w['call'](()=>{_0x4b709e['_generatio'+'nKey']=_0x34d625,_0x4b709e['_processin'+'gKey']=_0x527229;}),this['setCachedS'+'hader'](_0xb19923,_0x4b709e);}return _0x4b709e;}['storeNewPr'+'ogram'](_0x52d61c,_0x14429b){let _0x2885c6={};if(_0x52d61c==='standard'){const _0x19bb61=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x14429b['pass']);for(const _0x3376b9 in _0x14429b)(_0x14429b['hasOwnProp'+'erty'](_0x3376b9)&&_0x19bb61[_0x3376b9]!==_0x14429b[_0x3376b9]||_0x3376b9==='pass')&&(_0x2885c6[_0x3376b9]=_0x14429b[_0x3376b9]);for(const _0x388878 in _0x14429b['litOptions'])_0x2885c6[_0x388878]=_0x14429b['litOptions'][_0x388878];}else _0x2885c6=_0x14429b;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x52d61c,'options':_0x2885c6}));}['dumpProgra'+'ms'](){let _0x3739c0='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x3739c0+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x103*0x3+0xdf*-0x1e+0x1d2b]&&(_0x3739c0+='\x0a\x09'+this['_programsC'+'ollection'][0x2*0x9a0+-0x755*0x3+-0x1*-0x2bf]);for(let _0x10ff35=0x15d0*-0x1+-0x21f1+0x225*0x1a;_0x10ff35<this['_programsC'+'ollection']['length'];++_0x10ff35)_0x3739c0+=',\x0a\x09'+this['_programsC'+'ollection'][_0x10ff35];_0x3739c0+='\x0a];\x0a',_0x3739c0+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x3739c0+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x3739c0+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0xf8bc2c=document['createElem'+'ent']('a');_0xf8bc2c['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x3739c0)),_0xf8bc2c['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0xf8bc2c['style']['display']='none',document['body']['appendChil'+'d'](_0xf8bc2c),_0xf8bc2c['click'](),document['body']['removeChil'+'d'](_0xf8bc2c);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x4fa+0x25f*-0x10+0x2aea),this['processedC'+'ache']['forEach'](_0x36f58a=>{_0x36f58a['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0xdb9+0x250d+-0x32c5);}['removeFrom'+'Cache'](_0x550af3){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x42930e,_0x1f0e72)=>{_0x550af3===_0x42930e&&this['processedC'+'ache']['delete'](_0x1f0e72);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x3daf66){const _0x5ebe29=Si['get'](this['_device'])['getByIndex'](_0x3daf66);return _0x3daf66===Zn||_0x3daf66===Rl||_0x5ebe29['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x4b075f){if(_0x4b075f){const _0x28835d=new Array(_0x4b075f['length']);for(let _0x2fb06a=-0x7*-0x55d+-0x9b*-0x6+-0x292d;_0x2fb06a<_0x4b075f['length'];_0x2fb06a++){if(_0x4b075f[_0x2fb06a]['name']==='standard'){const _0xfd9393=_0x4b075f[_0x2fb06a]['options'],_0x5a81be=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xfd9393['pass']);for(const _0x1eeacc in _0x5a81be)_0x5a81be['hasOwnProp'+'erty'](_0x1eeacc)&&_0xfd9393[_0x1eeacc]===void(-0x1014*-0x2+-0x6*0x24f+0x124e*-0x1)&&(_0xfd9393[_0x1eeacc]=_0x5a81be[_0x1eeacc]);}_0x28835d[_0x2fb06a]=this['getProgram'](_0x4b075f[_0x2fb06a]['name'],_0x4b075f[_0x2fb06a]['options']);}}this['_precached']=!(0x24f+-0x3*-0x97d+-0xa42*0x3);}}async function jA(){const _0x3534c3=new Float32Array(-0x2+0x1af*-0x16+0x250d),_0x4e923d=new Int32Array(_0x3534c3['buffer']);let _0x246ddb=0x209b+0x175*-0x6+-0x1*0x17dd,_0x5d6583={};self['onmessage']=async _0x4c69ac=>{const {data:_0x190fd3}=_0x4c69ac;switch(_0x190fd3['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x514ae5(_0x190fd3['properties'],_0x190fd3['timeIndex'],_0x190fd3['timeOption']);break;case'releaseSeq'+'Data':_0x5bbcc6(_0x190fd3['index']);break;case'releaseAll'+'SeqData':_0x2aa337();break;case'destroyWor'+'ker':_0x4b5bfa();break;}};class _0x1da6fe{constructor(_0x4f6207=0x2212+-0xbc2+-0xc*0x1dc,_0x27c14f=-0x2ce+0x11f+0x1af,_0x4b0d8f=0x4*0x17+0x1*-0x2333+0x3df*0x9,_0x33f216=0x2064+-0x219d+0x2*0x9d){this['x']=_0x4f6207,this['y']=_0x27c14f,this['z']=_0x4b0d8f,this['w']=_0x33f216;}['set'](_0x12c43d,_0x387242,_0x4462e1,_0x3f3def){return this['x']=_0x12c43d,this['y']=_0x387242,this['z']=_0x4462e1,this['w']=_0x3f3def,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x4133ea=this){let _0x421d76=_0x4133ea['length']();return _0x421d76===-0x176*0xc+0x1*0x1201+-0x79?(this['x']=this['y']=this['z']=0x14b6+-0xd33*0x1+-0x783*0x1,this['w']=-0x905*-0x2+0x2*-0xbc3+0x1*0x57d):(_0x421d76=(0x1590+0xbd8+-0x1*0x2167)/_0x421d76,this['x']=_0x4133ea['x']*_0x421d76,this['y']=_0x4133ea['y']*_0x421d76,this['z']=_0x4133ea['z']*_0x421d76,this['w']=_0x4133ea['w']*_0x421d76),this;}['mulScalar'](_0x2115a6,_0x213c71=this){return this['x']=_0x213c71['x']*_0x2115a6,this['y']=_0x213c71['y']*_0x2115a6,this['z']=_0x213c71['z']*_0x2115a6,this['w']=_0x213c71['w']*_0x2115a6,this;}}const _0x14fbaf=_0x9f23c6=>{_0x3534c3[-0x11ae+0xba6+0x608*0x1]=_0x9f23c6;const _0x3caed4=_0x4e923d[0x22e1+0x267d*-0x1+0x39c];let _0x223320=_0x3caed4>>-0x1*0x1309+0x94d*-0x3+0x20*0x178&-0x1*-0xc311+-0x16ba+-0x2c57,_0x2b10d1=_0x3caed4>>0x161f*-0x1+-0xa*-0x19+0xaf*0x1f&-0x8*-0x18a+-0x1d5f+0x190e;const _0xd533ed=_0x3caed4>>-0x15ce+0x9a5+0xc40&-0x2082+-0xa82*-0x1+0x16ff;return _0xd533ed<-0x2177+0x21fe*0x1+-0x20?_0x223320:_0xd533ed>0x1*-0x1a7d+-0x480+0x13*0x1a9?(_0x223320|=0x5*-0x30ad+-0x88a*0x18+-0x1*-0x23c51,_0x223320|=(_0xd533ed===0x13*-0xa1+-0x26a6+0x3398?0x9fe+0x18f0+-0x22ee:-0xf97+-0x8b*-0x47+-0x16f5)&&_0x3caed4&0xc65533*0x1+-0xda484*-0xa+-0xcec25c,_0x223320):_0xd533ed<-0x2464+0x1191+-0xc*-0x19b?(_0x2b10d1|=-0xa90*0x2+0x1*0xeb9+-0xe67*-0x1,_0x223320|=(_0x2b10d1>>-0x1a2d*-0x1+-0x448+0x121*-0x13-_0xd533ed)+(_0x2b10d1>>-0xbea+-0x211e+-0x67f*-0x7-_0xd533ed&-0x201e+0x21*-0xb8+0x37d7),_0x223320):(_0x223320|=_0xd533ed-(-0xb*-0x35e+0x1*0x1c42+0x1c*-0x251)<<0x184c+0x14cd+-0x2d0f|_0x2b10d1>>0x827+-0x165b*-0x1+-0x1e81,_0x223320+=_0x2b10d1&-0x1490+-0x1*0x5bc+0x1a4d,_0x223320);},_0x893922=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2aa4a3=0x177a+0x512+-0x1c8c;_0x2aa4a3<-0x17a9+-0x74a+0x1f20;++_0x2aa4a3)if(!_0x5d6583['f_rest_'+_0x2aa4a3])return _0x2aa4a3;return 0x1037*0x1+-0x2*0xe06+0xc02;})())]??-0x168f+-0xb+0x1*0x169a),_0x514ae5=(_0x3ac296,_0x4c2868,_0x2d66c6)=>{const _0x157495=!!_0x3ac296['time_index'];_0x157495||(_0x3ac296['time_index']=new Float32Array(0x21c1*0x1+0x146a+-0x362b)),_0x246ddb+=_0x3ac296['x']['length']??0x1d5f+0xbb*-0x21+0x4*-0x151;const _0x1ef3bb=Object['keys'](_0x3ac296);for(let _0x4ace95=0x5*0x3d+0x24b1+-0x25e2*0x1;_0x4ace95<_0x1ef3bb['length'];_0x4ace95++){const _0x58570c=_0x1ef3bb[_0x4ace95],_0x2e2378=_0x3ac296[_0x58570c],_0x63d331=_0x5d6583[_0x58570c]??new Float32Array(-0xa2d+0x181e+0x1*-0xdf1);if(!_0x157495&&_0x58570c==='time_index'){const _0x5d02f4=new Float32Array(_0x246ddb);_0x5d02f4['fill'](_0x4c2868),_0x5d02f4['set'](_0x63d331,0x1d+-0x1e7*0x6+0xb4d),_0x5d6583[_0x58570c]=_0x5d02f4;}else{if(!_0x157495&&_0x2e2378&&_0x58570c==='t'){const _0x5b4d2a=new Float32Array(_0x246ddb);if(_0x5b4d2a['set'](_0x63d331,0x9d5+-0x279*0xd+0x1650),_0x2d66c6){for(let _0x183ec2=_0x63d331['length'];_0x183ec2<_0x246ddb;_0x183ec2++)_0x2e2378[_0x183ec2-_0x63d331['length']]>-(0x1*0x2267+-0xfc*-0x14+0x3612*-0x1)?_0x5b4d2a[_0x183ec2]=_0x2e2378[_0x183ec2-_0x63d331['length']]+_0x2d66c6[(-0xc98+0x2*0x13a+0xa26)*_0x4c2868]:_0x5b4d2a[_0x183ec2]=_0x2e2378[_0x183ec2-_0x63d331['length']];}_0x5d6583[_0x58570c]=_0x5b4d2a;}else{if(_0x2e2378){const _0xce3e08=new Float32Array(_0x246ddb);_0xce3e08['set'](_0x63d331,0x1114+0xff3*-0x2+0xed2),_0xce3e08['set'](_0x2e2378,_0x63d331['length']),_0x5d6583[_0x58570c]=_0xce3e08;}}}}const _0x6d7836={};Object['keys'](_0x5d6583)['forEach'](_0x5ae2db=>{_0x6d7836[_0x5ae2db]=new Float32Array(_0x5d6583[_0x5ae2db]['buffer']['slice']());});const _0x5d9f40=Object['keys'](_0x6d7836)['map'](_0x2734c7=>_0x6d7836[_0x2734c7]['buffer']),_0x4f7168=_0x18ecca(),_0xf5ed1c=Object['keys'](_0x4f7168)['map'](_0x14b4bd=>_0x4f7168[_0x14b4bd]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x6d7836,'transformData':_0x4f7168},_0x5d9f40['concat'](_0xf5ed1c));},_0x18ecca=()=>{const _0x17c38a=_0x5d6583['x']['length'],_0x17adbe=_0x5d6583['x'],_0x39fdd3=_0x5d6583['y'],_0x813410=_0x5d6583['z'],_0x318de5=_0x5d6583['scale_0'],_0x2f0080=_0x5d6583['scale_1'],_0x3d2b36=_0x5d6583['scale_2'],_0x16322f=_0x5d6583['rot_1'],_0x2a38a7=_0x5d6583['rot_2'],_0x53824e=_0x5d6583['rot_3'],_0xfcb7cb=_0x5d6583['rot_0'],_0x3ee6f4=_0x5d6583['motion_0'],_0x42b1dd=_0x5d6583['motion_1'],_0x504301=_0x5d6583['motion_2'],_0x1d0a1f=_0x5d6583['t'],_0x921a6=_0x5d6583['t_scale'],_0x48a58=_0x5d6583['time_index'],_0x282a4b=_0x5d6583['f_dc_0'],_0x3c0a31=_0x5d6583['f_dc_1'],_0x190f9c=_0x5d6583['f_dc_2'],_0x3b45c4=_0x5d6583['opacity'],_0xcd98d7=(_0x1d0a1f==null?void(0xd52+-0x14c+0x3*-0x402):_0x1d0a1f['length'])>-0xdf2+-0x2c*0x5+-0x767*-0x2,_0x19d910=new Float32Array(_0x17c38a*(0x58*-0x2a+0xbd4+0x3d*0xb)),_0x7ee7c4=new Float32Array(_0x17c38a*(0x18be+0x7*-0x491+0x73c)),_0x3e2113=new Uint16Array(_0x17c38a*(-0x1*-0x65+-0x676+0x614)),_0x50ac00=new Float32Array(_0x17c38a*(-0x5e3+-0xda7+0x138d));let _0x5af12d=null,_0x20176b=null,_0x2b86b4=null,_0x43007e=null;_0xcd98d7&&(_0x5af12d=new Float32Array(_0x17c38a*(0x43+0x76b+-0xd*0x97)),_0x20176b=new Float32Array(_0x17c38a*(0xb69+-0x24b8+0x39e*0x7)),_0x2b86b4=new Float32Array(_0x17c38a*(-0x185e*-0x1+-0x89d+-0xfbe)),_0x43007e=new Float32Array(_0x17c38a));const _0x3ab889=new _0x1da6fe(-0xccd+-0x10c6+-0x1*-0x1d93,-0x1105*-0x1+-0xfc7+0x35*-0x6,0x17*0x173+-0xe*0x12a+-0x26f*0x7,0x2*-0x1061+-0x1*-0xf65+-0x5*-0x379);let _0x524ba4=-0x1*-0x875+0x17c2+-0x2037,_0x3e975c=-0xd55+0x61a*0x2+0x11*0x11,_0x324040=0x2170+0x161f+0x1285*-0x3,_0x49af3f=0x5*-0x143+0x878+-0x229,_0x4d3171=0x124c+-0xc5*-0x1a+-0x2*0x1327,_0x473b50=-0x3*-0x506+-0xbc4+-0x34e,_0x468bb5=!(-0x1ded+0x1a72+0x37b);const _0x556b5b=new Float32Array(-0xd9d+0x1*0x235+0xb6b),_0x36accd=new Float32Array(0xd07*0x1+-0x1164+0x460),_0x24b606=new Uint16Array(_0x17c38a*(-0x1263+-0x57*-0x29+-0x16*-0x34)),_0x1bcffe=-0x1c96+-0x1641+-0x2ad*-0x13+0.28209479177387814;for(let _0x410ed5=-0x1053+-0x3*-0xa85+0x12c*-0xd;_0x410ed5<_0x17c38a;++_0x410ed5){const _0x103181=_0x282a4b[_0x410ed5]*_0x1bcffe+(0x17f3+-0x1*-0x2435+-0x3c28+0.5),_0x128c24=_0x3c0a31[_0x410ed5]*_0x1bcffe+(0x22*0x10f+-0x9d1*-0x2+-0x37a0+0.5),_0x2edde2=_0x190f9c[_0x410ed5]*_0x1bcffe+(0x259c+0x17bf*0x1+0x71*-0x8b+0.5),_0x112dcd=_0x3b45c4[_0x410ed5];_0x24b606[_0x410ed5*(-0x3*0x512+-0x1*-0x263d+0x1703*-0x1)+(-0x2460+-0x1097*0x1+0x413*0xd)]=_0x14fbaf(_0x103181),_0x24b606[_0x410ed5*(-0x1259*-0x1+0x856+-0x1aab)+(0x1cb1+-0x2643+0x993)]=_0x14fbaf(_0x128c24),_0x24b606[_0x410ed5*(0x469*-0x1+-0x46*-0x2b+-0x755*0x1)+(0x21b*0x6+0xf19+-0x1bb9)]=_0x14fbaf(_0x2edde2),_0x24b606[_0x410ed5*(0x19*-0x28+0x24ac+-0x20c0)+(0x5*0xbe+0x21*0x83+0x55*-0x3e)]=_0x14fbaf(_0x112dcd);const _0x834842=_0x17adbe[_0x410ed5],_0x402337=_0x39fdd3[_0x410ed5],_0x44ab7a=_0x813410[_0x410ed5],_0x5be1ba=Math['max'](_0x318de5[_0x410ed5],_0x2f0080[_0x410ed5],_0x3d2b36[_0x410ed5]);if(isFinite(_0x834842)&&isFinite(_0x402337)&&isFinite(_0x44ab7a)&&isFinite(_0x5be1ba)){const _0x18a0f9=(-0x1c*-0xcb+0x1*0xc11+0x1*-0x2243)*Math['exp'](_0x5be1ba);_0x468bb5?(_0x468bb5=!(0x579+-0x4*0x9a9+-0x4*-0x84b),_0x524ba4=_0x834842-_0x18a0f9,_0x3e975c=_0x402337-_0x18a0f9,_0x324040=_0x44ab7a-_0x18a0f9,_0x49af3f=_0x834842+_0x18a0f9,_0x4d3171=_0x402337+_0x18a0f9,_0x473b50=_0x44ab7a+_0x18a0f9):(_0x524ba4=Math['min'](_0x524ba4,_0x834842-_0x18a0f9),_0x3e975c=Math['min'](_0x3e975c,_0x402337-_0x18a0f9),_0x324040=Math['min'](_0x324040,_0x44ab7a-_0x18a0f9),_0x49af3f=Math['max'](_0x49af3f,_0x834842+_0x18a0f9),_0x4d3171=Math['max'](_0x4d3171,_0x402337+_0x18a0f9),_0x473b50=Math['max'](_0x473b50,_0x44ab7a+_0x18a0f9));}_0x3ab889['set'](_0x16322f[_0x410ed5],_0x2a38a7[_0x410ed5],_0x53824e[_0x410ed5],_0xfcb7cb[_0x410ed5]),_0x3ab889['normalize'](),_0x3ab889['w']<-0xa8d+-0x1*0x683+0x70*0x27&&_0x3ab889['mulScalar'](-(-0x22a6+-0x8ec+0x2b93)),_0x7ee7c4[_0x410ed5*(0x159*0x8+-0x3*-0xb43+-0x2c8e)+(-0xfe*-0x1d+-0x1b85+-0x141)]=_0x17adbe[_0x410ed5],_0x7ee7c4[_0x410ed5*(-0x8a8+0x362*0x4+0xf*-0x53)+(-0xb20*-0x1+-0x4*-0x650+0x1*-0x245f)]=_0x39fdd3[_0x410ed5],_0x7ee7c4[_0x410ed5*(-0x851+0xc8b+-0xd*0x53)+(-0x1*0x1381+-0x1756+0x61f*0x7)]=_0x813410[_0x410ed5],_0x19d910[_0x410ed5*(-0xad1+0x8*-0x9b+-0x44*-0x3b)+(0x313*-0x1+0x4*-0x160+0x893)]=_0x17adbe[_0x410ed5],_0x19d910[_0x410ed5*(0x1db5+-0x217e+0x3cc)+(-0x1816+-0xdf*-0xb+-0x3*-0x4d6)]=_0x39fdd3[_0x410ed5],_0x19d910[_0x410ed5*(0xa6*0x17+0x3ee*0x6+0x267b*-0x1)+(0x11d7*-0x2+-0x2*-0xd3a+0x93c)]=_0x813410[_0x410ed5],_0x3e2113[_0x410ed5*(0x2a1+-0x437+0x199)+(-0x21e9+-0x1*-0x33f+0x1eaa)]=_0x14fbaf(Math['exp'](_0x318de5[_0x410ed5])),_0x3e2113[_0x410ed5*(0x1*-0x195b+-0x2*-0x20f+0x2*0xaa0)+(-0x194*-0x8+-0x20ec+0x144d)]=_0x14fbaf(Math['exp'](_0x2f0080[_0x410ed5])),_0x3e2113[_0x410ed5*(-0x5a4+-0x11e6+0x178d)+(-0xcec+0x1e9b+-0x11ad)]=_0x14fbaf(Math['exp'](_0x3d2b36[_0x410ed5])),_0x50ac00[_0x410ed5*(0x1d2d+-0x4a*-0x5+-0x1e9c)+(0x19*-0x103+0x22a2+-0x957)]=_0x3ab889['x'],_0x50ac00[_0x410ed5*(-0x62*-0x2b+-0x1132+0xbf)+(0xfb6+0x1*0x19b5+-0x49a*0x9)]=_0x3ab889['y'],_0x50ac00[_0x410ed5*(-0x212*-0xa+0x2*-0x8a+0x1*-0x139d)+(-0x154b+-0x4*-0x4a9+0x3*0xe3)]=_0x3ab889['z'],_0xcd98d7&&_0x5af12d&&_0x20176b&&_0x2b86b4&&_0x43007e&&(_0x5af12d[_0x410ed5*(0xeb2*-0x1+-0x275*0x9+0x24d2)+(-0x1*0x1814+0x191*0x13+-0x5af)]=_0x3ee6f4[_0x410ed5],_0x5af12d[_0x410ed5*(-0x121f+-0xbb*-0x1d+0x47*-0xb)+(0x5d*0x44+-0x30a*-0x5+-0x27e5)]=_0x42b1dd[_0x410ed5],_0x5af12d[_0x410ed5*(0x3*-0x2e7+0x25fa+-0x1d42)+(-0x1*0x168b+0xa4+0x15e9)]=_0x504301[_0x410ed5],_0x2b86b4[_0x410ed5*(-0x1*0x257b+0x1*0x1958+0x613*0x2)+(0x1aa8+-0x423+-0x481*0x5)]=_0x3ee6f4[_0x410ed5],_0x2b86b4[_0x410ed5*(0x14dc+0xc6a+0x83*-0x41)+(0x1*0x1f60+0xb9*-0x1+-0x1ea6*0x1)]=_0x42b1dd[_0x410ed5],_0x2b86b4[_0x410ed5*(-0x1*0x22a9+-0x609*-0x2+0x169a)+(0x272*0x1+0x64*0x14+-0xa40)]=_0x504301[_0x410ed5],_0x43007e[_0x410ed5]=_0x921a6?Math['exp'](_0x921a6[_0x410ed5]):0x2681+0x1*0x17f6+-0x3e77,_0x20176b[_0x410ed5*(-0xa81*-0x1+-0x2635+0x1bb7)+(-0xef2*-0x1+-0xb51+-0x3a1)]=_0x1d0a1f?_0x1d0a1f[_0x410ed5]:-0x95*0x34+0x46d*0x3+0x10fd*0x1,_0x20176b[_0x410ed5*(0x1812+-0xcb5+-0xb5a)+(-0x4e5*0x1+0xfd4+-0xaee)]=_0x43007e[_0x410ed5]);}_0x468bb5||(_0x556b5b[0x1*-0x2504+-0x20e5+-0x45e9*-0x1]=(_0x524ba4+_0x49af3f)*(0xda*-0x21+-0x3ab*-0xa+-0x894+0.5),_0x556b5b[-0x356+0x1592+-0x123b]=(_0x3e975c+_0x4d3171)*(0x14b8+-0x4b*0x25+-0x9e1+0.5),_0x556b5b[0x203f+0x20c*0x4+-0x83*0x4f]=(_0x324040+_0x473b50)*(0x134f+-0x6d*-0x46+-0x311d+0.5),_0x36accd[-0xf*-0x1e7+0x2398+-0x4021]=(_0x49af3f-_0x524ba4)*(-0x1ad+-0x242e+0x25db+0.5),_0x36accd[-0x2de+0x1215+-0x16*0xb1]=(_0x4d3171-_0x3e975c)*(-0x2194+0x1a6+0x86*0x3d+0.5),_0x36accd[-0xe6b+-0x2358+0x31c5]=(_0x473b50-_0x324040)*(-0xd04+-0xcf+0xdd3+0.5));const _0x116f14=_0x37fc1a();let _0x39d022={'dataColor':_0x24b606,'center':_0x556b5b,'halfExtents':_0x36accd,'dataCenters':_0x19d910,'dataPosition':_0x7ee7c4,'dataScale':_0x3e2113,'dataRotation':_0x50ac00,..._0x116f14};return _0xcd98d7&&(_0x39d022={..._0x39d022,'dataMotion':_0x5af12d,'dataTime':_0x20176b,'motion':_0x2b86b4,'tScaleArray':_0x43007e,'muT':new Float32Array(_0x1d0a1f),'timeIndex':new Float32Array(_0x48a58)}),_0x39d022;},_0x16f7a0=_0x172e43=>{const _0x46bd41=[];for(let _0x5d7d5f=-0x2081+-0x8c9*-0x3+0x626;_0x5d7d5f<_0x172e43;++_0x5d7d5f)_0x46bd41['push'](_0x5d6583['f_rest_'+_0x5d7d5f]);return _0x46bd41;},_0x37fc1a=()=>{const _0xfed764=_0x893922();if(_0xfed764<=-0x21*-0x4f+-0xb1*0x32+0x1863)return{};const _0x2301f8=_0x5d6583['x']['length'],_0x2dcf0c=new Uint32Array(_0x2301f8*(-0x4*-0x496+-0x1eb1+0xc5d)),_0x101f00=new Uint32Array(_0x2301f8*(-0x2*-0x20c+-0x2654+-0x112*-0x20)),_0x15f1d8=new Uint32Array(_0x2301f8*(-0x244d+0x23e1+-0x70*-0x1)),_0x563493=new Uint32Array(_0x2301f8*(0x478+-0x1*-0xb27+-0xf9b*0x1)),_0x5c22c3={0x1:0x3,0x2:0x8,0x3:0xf}[_0xfed764],_0x2525e9=_0x16f7a0(_0x5c22c3*(0x86f+-0x1c1+0x1*-0x6ab)),_0x36fd97=0x365+-0x1*0x1757+-0x137*-0x17,_0x2c6ac7=0x1a3*0x1+0x38*-0x7a+0x8f*0x34,_0x50e783=new Float32Array(0x29*0x8d+0x1*0x20a1+-0x3735),_0x3f0ed7=new Uint32Array(_0x50e783['buffer']),_0x1701ca=new Array(_0x5c22c3*(0x187+-0x1f4b*0x1+0x16b*0x15))['fill'](0x1c83+0x95f+0xd*-0x2ea);for(let _0x117643=0x62c+0x325+0x951*-0x1;_0x117643<_0x2301f8;++_0x117643){for(let _0x3cbeeb=0x116c+0x1799*0x1+0x1*-0x2905;_0x3cbeeb<_0x5c22c3;++_0x3cbeeb)_0x1701ca[_0x3cbeeb*(0xdce+0x9b1*0x1+-0x177c*0x1)]=_0x2525e9[_0x3cbeeb][_0x117643],_0x1701ca[_0x3cbeeb*(0x1*0x2415+-0x4e5+-0x1f2d)+(0x3*-0x1ed+-0x1e1c+-0x8f9*-0x4)]=_0x2525e9[_0x3cbeeb+_0x5c22c3][_0x117643],_0x1701ca[_0x3cbeeb*(-0x2607+-0x478+0x2a82)+(-0x54*0x15+-0x41*0x88+0x296e*0x1)]=_0x2525e9[_0x3cbeeb+_0x5c22c3*(-0xd6c+0x1b01+-0x2b7*0x5)][_0x117643];let _0x5b513d=_0x1701ca[0x1d96+-0x1670+-0x726];for(let _0x820488=0x1a42+0x2*0x5e3+0xf*-0x289;_0x820488<_0x5c22c3*(0x21c9+0x2698+-0x485e*0x1);++_0x820488)_0x5b513d=Math['max'](_0x5b513d,Math['abs'](_0x1701ca[_0x820488]));if(_0x5b513d!==-0x13*-0x184+0x6*-0x478+0x7f*-0x4){for(let _0x3a0dc6=0x6bf+-0x208*0x1+-0x4b7;_0x3a0dc6<_0x5c22c3;++_0x3a0dc6)_0x1701ca[_0x3a0dc6*(0x2f7*0x8+-0x6d4+-0x10e1)+(-0x6f*-0x1d+-0x1*0x42d+-0x866)]=Math['max'](0x1028+0x1de7+-0x2e0f,Math['min'](_0x36fd97,Math['floor']((_0x1701ca[_0x3a0dc6*(0x1*0x407+0x8b*-0x2d+0x146b)+(0xb30+0x1a61*-0x1+0xf31*0x1)]/_0x5b513d*(-0x7*-0x368+0x1a39*-0x1+0x261+0.5)+(0x140f+0x246d+-0x387c+0.5))*_0x36fd97+(-0x1914+0x2fc+0x1618+0.5)))),_0x1701ca[_0x3a0dc6*(-0x31d*-0xc+0x1*-0x1e65+-0x6f4)+(-0x108d+-0x17b*-0xd+-0x1*0x2b1)]=Math['max'](-0xe4b+0x14a+-0x1*-0xd01,Math['min'](_0x2c6ac7,Math['floor']((_0x1701ca[_0x3a0dc6*(0xae3*0x3+-0xe73+-0x3*0x611)+(0x59*-0x17+0x24ea+0x1cea*-0x1)]/_0x5b513d*(0x939+0x3*0x56d+-0x18*0x110+0.5)+(0x35*0xe+0x33b*0x7+-0x1983+0.5))*_0x2c6ac7+(0xa06*-0x1+0x12dd+-0x1f*0x49+0.5)))),_0x1701ca[_0x3a0dc6*(0x262e+-0x1006+0x1*-0x1625)+(0x26d7+0x18fd+0xe*-0x48f)]=Math['max'](-0x28+0x2506+0xc4a*-0x3,Math['min'](_0x36fd97,Math['floor']((_0x1701ca[_0x3a0dc6*(0x3*0x3d1+0x25f7+-0x3167)+(0x22d*0x3+-0x3f1+-0x14a*0x2)]/_0x5b513d*(-0xc85*-0x1+0x1684+-0x1*0x2309+0.5)+(0x1*0x2413+0x169e+-0x3ab1+0.5))*_0x36fd97+(-0x2*-0xc2f+0x473+-0x1cd1+0.5))));_0x50e783[0xd4a+0x1*0x2353+-0x309d]=_0x5b513d,_0x2dcf0c[_0x117643*(0x14*0x25+-0x67f+0x39f)+(-0x86*-0x3b+-0x2*-0xb4e+0x1abf*-0x2)]=_0x3f0ed7[0x19*-0x113+0x22d3*0x1+-0x7f8],_0x2dcf0c[_0x117643*(0x616+-0x1741+0x1*0x112f)+(-0x3*0x5f1+0x361+0xe73)]=_0x1701ca[-0xd*0xad+-0x216f+0x2a38]<<0x3*0x38f+-0x2366+-0xa*-0x27b|_0x1701ca[-0x1abf+-0x267c+-0x686*-0xa]<<-0x2*0x54d+-0x197b+0x22*0x110|_0x1701ca[0x734+-0x2382+0x1c50],_0x2dcf0c[_0x117643*(0x3d*0x6+0x21d5*0x1+0x1*-0x233f)+(0x886+-0x43f+-0x445)]=_0x1701ca[0x2236+-0xd5*-0x4+0x1*-0x2587]<<-0x1a*-0x11+0xd35+0x2*-0x76d|_0x1701ca[0x3*0x70d+0x1842+-0x2d65]<<-0x1a3*-0xf+-0x419*0x1+-0x19*0xd1|_0x1701ca[-0x1*-0x1622+0x5*0x45d+-0x2*0x15f7],_0x2dcf0c[_0x117643*(0x247a+0x2453*0x1+0x48c9*-0x1)+(0x4a*0x1c+0x1931+-0x1*0x2146)]=_0x1701ca[0x18d*0x19+-0x5cd+-0x20f2*0x1]<<-0x1*0x1e1a+-0x2210+0x403f|_0x1701ca[-0x1*-0x7f9+0x1d7e+-0x2570]<<0x10*-0xdf+-0x1e7+0xfe2|_0x1701ca[-0x1*-0x270b+0x2596+-0x4c99],_0xfed764>0x923*0x3+-0x19fc+-0x16c&&(_0x101f00[_0x117643*(-0x5*-0x1a5+-0xad*0x35+0x39*0x7c)+(-0x16cb+0x283*-0x3+-0xf2a*-0x2)]=_0x1701ca[0x11c6+0x2252+-0x340f]<<-0xe28+0xdcd*-0x1+-0x1*-0x1c0a|_0x1701ca[0x2399+0x1133*-0x1+-0x497*0x4]<<0x4f*-0x7b+-0x1*0x1c9a+-0x60e*-0xb|_0x1701ca[0x29b*-0xe+-0x5cb*-0x5+0x78e],_0x101f00[_0x117643*(0x7*-0xb+0x163*0x7+-0x964)+(0x19f4+0x1b65+0x472*-0xc)]=_0x1701ca[0xdfb+-0x2*-0xe09+0x1*-0x2a01]<<-0x1789+-0xe94*0x2+-0x7*-0x78a|_0x1701ca[0x1ec6+0x3ee*0x5+-0x325f]<<-0x3*0x175+-0x227a+0x13*0x20c|_0x1701ca[0xe3*0x3+-0x2345*-0x1+-0x25e0],_0x101f00[_0x117643*(-0x191*0x3+-0x4cf*0x1+0x4c3*0x2)+(0x457+-0xa76+0x621*0x1)]=_0x1701ca[0x445+-0x5*-0x3f1+-0x7f9*0x3]<<0x10*0xbf+-0x5*0x661+0x140a|_0x1701ca[0xb8+-0x1b5b+0x1ab3]<<-0x5*-0x313+0x1e9d+-0x2df1|_0x1701ca[0x1*-0x23c5+-0x6d6*-0x2+-0x162a*-0x1],_0x101f00[_0x117643*(0x1*0x547+-0x1b31*0x1+0x15ee)+(-0xa*0x127+-0x161f+0x21a8)]=_0x1701ca[-0x13e0+0x23*0x4d+0x96b]<<0x1204+0x251c+-0x370b|_0x1701ca[-0x1f08+0x17f9*0x1+-0x391*-0x2]<<-0x9*-0x76+0x3*-0x2e1+-0x122*-0x4|_0x1701ca[-0x265*-0x8+-0x25b9+0x12a5],_0xfed764>0x20c4+0x8b*0xb+-0x5*0x7bf?(_0x15f1d8[_0x117643*(0x25b0+0x1547*0x1+0x3af3*-0x1)+(0xb62*-0x1+-0x4*0x66+0xcfa)]=_0x1701ca[-0x3*0x8ab+-0x22a3*-0x1+-0x88d]<<0x2*0xde7+0x8*0x1a6+-0x1*0x28e9|_0x1701ca[-0x5*-0x772+0x1be4+-0x2*0x2084]<<0x88e+-0x3*-0x5c9+-0x19de|_0x1701ca[-0xf3*0x17+0x25*0x5b+0x8c5],_0x15f1d8[_0x117643*(-0x6e9+-0x1af0+0x21dd*0x1)+(-0xe7a+0x7*0x501+-0x41c*0x5)]=_0x1701ca[-0x1*-0x1245+0x6ea+0x1*-0x1917]<<0x1a7a*0x1+-0xe52+-0xc13|_0x1701ca[0x1*0x21b3+-0xc44+-0x1556*0x1]<<-0xc*-0x16d+0x21a5+-0x32b6*0x1|_0x1701ca[0x143c+-0x508+-0x2*0x78d],_0x15f1d8[_0x117643*(0x1e*-0x5+0xef1+0xe57*-0x1)+(-0x59*-0x35+-0xfb9+-0xa*0x45)]=_0x1701ca[0x13*-0x1f+0x1b48+-0x31c*0x8]<<0x2aa*0x1+0x1a9f+0x4de*-0x6|_0x1701ca[-0x8*-0x23a+-0xa*-0x4c+-0x14ac]<<-0x2f*-0xb+-0x1*-0x7af+-0x1*0x9a9|_0x1701ca[-0x2191+-0x919*0x3+0x3cf9],_0x15f1d8[_0x117643*(0x498+0x1da*0xa+-0x1718)+(-0x32*0x37+-0x1ad8+0x5*0x785)]=_0x1701ca[0x399*-0x8+-0x1bc1+0x38a7]<<-0x764+0x1fcc+0x1*-0x1853|_0x1701ca[0x1*0x5f1+-0x846+0x274]<<0x3b*0x5f+0x1*-0x1217+-0x3c3|_0x1701ca[-0x5ff+-0x1555*-0x1+-0xf36],_0x563493[_0x117643*(0x1dbf*-0x1+0x34*0x73+0x667)+(-0x77e+-0x15ce*-0x1+-0xe50)]=_0x1701ca[-0xc*-0x2e+-0x5*0x29a+-0x3a9*-0x3]<<0x2662+-0x2*0x11d7+-0x29f*0x1|_0x1701ca[0xa5*0x21+-0x52c+-0x43*0x3d]<<0x24*-0x10c+0x17da+0x143*0xb|_0x1701ca[0x18b7+0x11*0xed+0x1*-0x2851],_0x563493[_0x117643*(0xe90+0x968+-0xbfa*0x2)+(0x843+-0x745*0x5+0x1c17)]=_0x1701ca[0x65*0x57+-0x24f*0x7+0x301*-0x6]<<-0x10c1*-0x2+0x3*-0x94d+-0x586|_0x1701ca[0x1d99+0x21c+0xa*-0x328]<<-0x1*-0x1067+0x1420+0x2*-0x123e|_0x1701ca[-0xb3b+0xb*0x34a+-0x18cd],_0x563493[_0x117643*(-0x33+-0x4bd+0x4f4)+(0x3*0x3f9+0x19cf+0x238*-0x11)]=_0x1701ca[0x18d3+0xa91+-0x233d]<<-0x566*0x1+0x5*0x33+0x47c*0x1|_0x1701ca[-0xa99+0x1774+-0xcb3]<<0x1f89+0x7e*-0x2f+-0x85c|_0x1701ca[0x17f5+0xe71+0x3*-0xcbf],_0x563493[_0x117643*(0x10*0x232+0x95*-0x35+-0x443)+(-0x1d33+0x2*0x88c+-0x42*-0x2f)]=_0x1701ca[-0x24a3+0x52*-0xb+0x2853]<<-0x1065*0x1+0x17*0x9f+0x231|_0x1701ca[-0x1*-0x65b+-0x1f1f+0x18ef*0x1]<<-0x1205*-0x2+-0x16c*0xa+-0x15c7|_0x1701ca[0xb7*-0x6+0x155c+-0x10e6]):_0x15f1d8[_0x117643]=_0x1701ca[0x11*0x14f+0x97*-0x5+-0x1*0x1337]<<-0x2*0xac5+0x1d65+-0x7c6|_0x1701ca[-0xce3*0x1+0x15ba+-0x8c1]<<0x2d*0x33+0x179d*0x1+-0x2089|_0x1701ca[-0x1*-0x4a5+-0x22b8+0x63*0x4e]);}}return{'sh1to3Data':_0x2dcf0c,'sh4to7Data':_0x101f00,'sh8to11Data':_0x15f1d8,'sh12to15Data':_0x563493};},_0x5bbcc6=_0x4b07a0=>{if(!_0x5d6583['time_index'])return;const _0x4db59b=_0x5d6583['time_index']['findIndex'](_0x432bbe=>_0x432bbe===_0x4b07a0);let _0x7ebc38=_0x5d6583['time_index']['findIndex']((_0x5ca6a3,_0x3d17d2)=>_0x5ca6a3!==_0x4b07a0&&_0x3d17d2>_0x4db59b);if(_0x7ebc38===-(0x253e+0x26c3+-0x260*0x20)&&_0x4db59b===-(-0x15f5+-0x41*0x75+0x33ab))return;_0x7ebc38===-(0x1*-0x21e7+0x89*0x2e+0x94a)&&_0x4db59b!==-(-0x9*0x33d+-0x1add*-0x1+0x249)&&(_0x7ebc38=_0x5d6583['time_index']['length']),_0x246ddb-=_0x7ebc38-_0x4db59b;const _0x2b5fcb=Object['keys'](_0x5d6583);for(let _0x1340ad=-0x19c0+-0x5d*0x43+0x3217;_0x1340ad<_0x2b5fcb['length'];_0x1340ad++){const _0x4565e9=_0x2b5fcb[_0x1340ad],_0x5ad010=_0x5d6583[_0x4565e9];if(_0x5ad010){const _0x51237e=new Float32Array(_0x246ddb);_0x4db59b>0xbf9+-0x17c7+0xbce?(_0x51237e['set'](_0x5ad010['subarray'](-0x13a7+0x8dd*0x1+0xaca,_0x4db59b),0x360+0x2308+0x2668*-0x1),_0x51237e['set'](_0x5ad010['subarray'](_0x7ebc38),_0x4db59b)):_0x51237e['set'](_0x5ad010['subarray'](_0x7ebc38),-0x5e*0xf+-0x286+-0x1*-0x808),_0x5d6583[_0x4565e9]=_0x51237e;}}},_0x2aa337=()=>{const _0x4c3cdf=Object['keys'](_0x5d6583);for(let _0x4ff2ae=0x699+-0x5*-0xd9+0x2*-0x56b;_0x4ff2ae<_0x4c3cdf['length'];_0x4ff2ae++){const _0x464798=_0x4c3cdf[_0x4ff2ae];_0x5d6583[_0x464798]&&(_0x5d6583[_0x464798]=[]);}},_0x4b5bfa=()=>{_0x5d6583={},_0x246ddb=0x8d*-0x5+-0x1b4b*-0x1+0x9*-0x2ba;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x48fa10,_0x17396b,_0x183fdd,_0x381850=!(0x2466+-0x5*-0x1af+0x6*-0x778)){var _0x506d72,_0x235e8f;const _0x10c469={};return _0x48fa10['elements'][-0x1c8e+-0x92b*-0x1+0x1363]['properties']['forEach'](_0x2fe8a4=>{_0x10c469[_0x2fe8a4['name']]=_0x2fe8a4['storage'];}),_0x381850?(_0x506d72=this['worker'])==null||_0x506d72['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x10c469,'timeIndex':_0x17396b,'timeOption':_0x183fdd},_0x48fa10['elements'][-0x114*0x9+0x1151+0x79d*-0x1]['properties']['map'](_0x54c970=>_0x54c970['storage']['buffer'])):(_0x235e8f=this['worker'])==null||_0x235e8f['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x10c469,'timeIndex':_0x17396b,'timeOption':_0x183fdd}),new Promise(_0x432bf1=>{this['worker']['onmessage']=_0x23e5bf=>{if(!this['worker'])return;const {data:_0x37edfb}=_0x23e5bf;_0x37edfb['type']==='newAppendD'+'ata'&&_0x432bf1(_0x37edfb);};});}async['releaseSeq'+'Data'](_0x2e5dde){var _0xa2617;(_0xa2617=this['worker'])==null||_0xa2617['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x2e5dde});}async['releaseAll'+'SeqData'](){var _0x4f18fe;(_0x4f18fe=this['worker'])==null||_0x4f18fe['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4b077c;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4b077c=this['worker'])==null||_0x4b077c['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x2e3*0xc+-0xacf*0x1+0x4*0xb5d,-0x1a10+0x9*0x89+0x1540,-0x1715+-0xec5+0x25da,-0x1*-0x1051+-0x2648+0x15f7*0x1+0.4),vf=0x228d+-0x1*0x1b91+-0x6fc+0.28209479177387814,xf=-0x48*-0x494+-0x17bd5+0x33f75;let ZA=class{constructor(_0x4e7a49,_0x268f0d,_0x1056de,_0x543762,_0x25607e,_0xb94c6e){const _0x14be73=_0x4e7a49['getProp']('x'),_0x181549=_0x4e7a49['getProp']('y'),_0x2bc821=_0x4e7a49['getProp']('z'),_0x1bd800=_0x4e7a49['getProp']('rot_1'),_0x150dd3=_0x4e7a49['getProp']('rot_2'),_0x3820a3=_0x4e7a49['getProp']('rot_3'),_0x29abe2=_0x4e7a49['getProp']('rot_0'),_0x301629=_0x4e7a49['getProp']('motion_0'),_0x3d6129=_0x4e7a49['getProp']('motion_1'),_0x5611a9=_0x4e7a49['getProp']('motion_2'),_0x10f731=_0x4e7a49['getProp']('scale_0'),_0x3a055f=_0x4e7a49['getProp']('scale_1'),_0x466703=_0x4e7a49['getProp']('scale_2'),_0x3408f6=_0x4e7a49['getProp']('f_dc_0'),_0x5863c3=_0x4e7a49['getProp']('f_dc_1'),_0x100802=_0x4e7a49['getProp']('f_dc_2'),_0x5700a5=_0x4e7a49['getProp']('opacity');this['read']=_0x4f9414=>{_0x268f0d&&(_0x268f0d['x']=_0x14be73[_0x4f9414],_0x268f0d['y']=_0x181549[_0x4f9414],_0x268f0d['z']=_0x2bc821[_0x4f9414]),_0x1056de&&_0x1056de['set'](_0x1bd800[_0x4f9414],_0x150dd3[_0x4f9414],_0x3820a3[_0x4f9414],_0x29abe2[_0x4f9414]),_0x543762&&_0x543762['set'](Math['exp'](_0x10f731[_0x4f9414]),Math['exp'](_0x3a055f[_0x4f9414]),Math['exp'](_0x466703[_0x4f9414])),_0xb94c6e&&_0x301629&&_0xb94c6e['set'](_0x301629[_0x4f9414],_0x3d6129[_0x4f9414],_0x5611a9[_0x4f9414]),_0x25607e&&_0x25607e['set'](0x2*0x31d+0xf7f+0x1*-0x15b9+0.5+_0x3408f6[_0x4f9414]*vf,-0x20c3+-0xb*0x7b+0x14*0x1e7+0.5+_0x5863c3[_0x4f9414]*vf,0x140e+-0x51*-0x17+-0x1b55+0.5+_0x100802[_0x4f9414]*vf,_0x5700a5[_0x4f9414]);};}};const _g=(_0x576d36,_0x21a58f,_0x4ad0c5)=>{pg['set'](_0x4ad0c5['x'],_0x4ad0c5['y'],_0x4ad0c5['z'],_0x4ad0c5['w'])['normalize'](),_0x576d36['setTRS'](_0x21a58f,pg,D['ONE']);};class qn{constructor(_0x11f438,_0x47b0fa=[]){h(this,'elements'),h(this,'numSplats',0x1697+0x1586+0x1eb*-0x17),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x533701;(_0x533701=this['dataWorker'])==null||_0x533701['destroy'](),this['dataWorker']=null;});var _0x339e4d,_0xd68968,_0x17d914;this['elements']=_0x11f438,this['numSplats']=((_0x339e4d=this['getElement']('vertex'))==null?void(-0x1*0x1744+0x5a1*-0x2+0x1eb*0x12):_0x339e4d['count'])??-0x1a*-0x71+-0x66b+-0x50f,this['comments']=_0x47b0fa,this['is4D']=!!((_0x17d914=(_0xd68968=this['getElement']('vertex'))==null?void(-0x2*0x1269+-0x3*0xa0+0x26b2):_0xd68968['properties']['find'](_0x18a87=>_0x18a87['name']==='t'))!=null&&_0x17d914['storage']);}async['appendGSpl'+'atData'](_0x50ce1f,_0x263f54,_0x3051d9){var _0x2a3df0;let _0x50ff79=-0x32f*-0x4+-0x12d+-0xb8f;for(let _0x1af5d8=0x23c9+-0xccc+-0x217*0xb;_0x1af5d8<_0x3051d9['length']&&_0x263f54>_0x3051d9[_0x1af5d8];_0x1af5d8+=0x3*-0x4b1+-0x8f1+0x1706)_0x50ff79=_0x1af5d8/(0xa*0x391+0x4f1*0x1+0x2899*-0x1);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x50ff79),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x100e+0xddf*-0x2+-0x2bcc*-0x1,_0x3051d9));const _0x12823b=this['getElement']('vertex');_0x12823b&&(_0x12823b['count']=this['numSplats']);const _0x4a1489=await this['dataWorker']['appendGSpl'+'atData'](_0x50ce1f,_0x50ff79,_0x3051d9,!(-0x81d+-0x25f*-0x6+-0x61d)),_0x6985a5=_0x4a1489['properties'],_0x5680f1=((_0x2a3df0=this['getElement']('vertex'))==null?void(0x22f7+-0x1c01+-0x21*0x36):_0x2a3df0['properties'])??[];for(const _0x41202a in _0x6985a5){const _0x2118d0=_0x5680f1['find'](_0x780e80=>_0x780e80['name']===_0x41202a);_0x2118d0?_0x2118d0['storage']=_0x6985a5[_0x41202a]:_0x5680f1['push']({'type':'float','name':_0x41202a,'storage':_0x6985a5[_0x41202a],'byteSize':0x4});}this['transformD'+'ata']=_0x4a1489['transformD'+'ata'],this['numSplats']=_0x6985a5['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x3e54e9){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x3e54e9),this['dataWorker']['releaseSeq'+'Data'](_0x3e54e9),this;}async['releaseAll'+'SeqData'](){var _0x1ee3cf;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x1ee3cf=this['dataWorker'])==null||_0x1ee3cf['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x5c46f8,_0x3d6723,_0x28a4e5,_0x22f3d5){_g(za,_0x3d6723,_0x28a4e5),yf['center']['set'](-0x12f2+0x1*0x34c+0xfa6,-0x377+-0x3*-0xfc+0x83,-0x25a7+0xd8b+-0xc0e*-0x2),yf['halfExtent'+'s']['set'](_0x22f3d5['x']*(0xc03*0x2+0x123b+-0x2a3f),_0x22f3d5['y']*(-0x97a*-0x2+0xb46+-0x1e38),_0x22f3d5['z']*(0x15be+-0x976+-0xc46)),_0x5c46f8['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x1155fd,_0x4ee2df='vertex'){var _0x527814,_0x3915fd;return(_0x3915fd=(_0x527814=this['getElement'](_0x4ee2df))==null?void(-0x544*0x2+0x2*0xd44+-0x1000):_0x527814['properties']['find'](_0x5cbb71=>_0x5cbb71['name']===_0x1155fd))==null?void(-0xb*-0x2d+0xf7d+0x2*-0x8b6):_0x3915fd['storage'];}['getElement'](_0x1191a1){return this['elements']['find'](_0x2cc090=>_0x2cc090['name']===_0x1191a1);}['addProp'](_0x3b802d,_0x141f66){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x3b802d,'storage':_0x141f66,'byteSize':0x4});}['createIter'](_0x19834c,_0x38933c,_0x5f23a7,_0x327889,_0x11eab0){return new ZA(this,_0x19834c,_0x38933c,_0x5f23a7,_0x327889,_0x11eab0);}async['calcAabbAs'+'ync'](_0x3222d2,_0x299c06){var _0x54886e,_0x52c964;if((_0x54886e=this['transformD'+'ata'])!=null&&_0x54886e['center']&&((_0x52c964=this['transformD'+'ata'])!=null&&_0x52c964['halfExtent'+'s'])){_0x3222d2['center']['set'](this['transformD'+'ata']['center'][0x2677+-0x2b0+0x2b*-0xd5],this['transformD'+'ata']['center'][-0x2*0x97+-0x11*0x217+0x24b6],this['transformD'+'ata']['center'][0xd9b+0x1582+0xb*-0x331]),_0x3222d2['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x25*-0x5+0x4c3*0x5+0xc5*-0x1e],this['transformD'+'ata']['halfExtent'+'s'][0xd7a+-0x810+0x569*-0x1],this['transformD'+'ata']['halfExtent'+'s'][-0x1d05+-0x7*-0xa5+-0x3*-0x82c]);return;}const _0x4f9e7c=this['getProp']('x'),_0x58d7f4=this['getProp']('y'),_0x37dad9=this['getProp']('z'),_0x134596=this['getProp']('scale_0'),_0x31e317=this['getProp']('scale_1'),_0x330b6e=this['getProp']('scale_2'),_0x4063ef=await(_0x299c06==null?void(0x1499*-0x1+0x1d42+0x1*-0x8a9):_0x299c06['calcAabb'](this['numSplats'],_0x4f9e7c,_0x58d7f4,_0x37dad9,_0x134596,_0x31e317,_0x330b6e));_0x3222d2['center']['set'](_0x4063ef['center'][0x1ca7+-0xb*-0xb5+0x1237*-0x2],_0x4063ef['center'][0x1*0x1075+-0x21d6+-0x59*-0x32],_0x4063ef['center'][0x3*0xb21+0x140d+-0x356e]),_0x3222d2['halfExtent'+'s']['set'](_0x4063ef['halfExtent'+'s'][-0x790+-0x2*-0x515+-0x29a],_0x4063ef['halfExtent'+'s'][-0x979*-0x1+-0x125*0x16+0xfb6],_0x4063ef['halfExtent'+'s'][-0x21f6*-0x1+-0x8*-0x199+0x2*-0x175e]);}['calcAabb'](_0x243411,_0x5a9d9b){let _0x3f6e6a,_0x365293,_0x4e45d4,_0x40be27,_0x3d013b,_0x7555f9,_0x2c2ec0=!(-0x1a7f+0x131d+-0xe*-0x87);const _0x16306e=this['getProp']('x'),_0x359490=this['getProp']('y'),_0x462268=this['getProp']('z'),_0x45f002=this['getProp']('scale_0'),_0x44bee8=this['getProp']('scale_1'),_0x11fab1=this['getProp']('scale_2');for(let _0x5c03a0=0x3*0x4cc+-0xd2b+-0x139;_0x5c03a0<this['numSplats'];++_0x5c03a0){if(_0x5a9d9b&&!_0x5a9d9b(_0x5c03a0))continue;const _0x54df83=_0x16306e[_0x5c03a0],_0x4b3588=_0x359490[_0x5c03a0],_0x77c15d=_0x462268[_0x5c03a0],_0x2068cd=Math['max'](_0x45f002[_0x5c03a0],_0x44bee8[_0x5c03a0],_0x11fab1[_0x5c03a0]);if(!isFinite(_0x54df83)||!isFinite(_0x4b3588)||!isFinite(_0x77c15d)||!isFinite(_0x2068cd))continue;const _0x1ded90=(0x1b*-0x75+0x2f*0xa1+-0x2*0x89b)*Math['exp'](_0x2068cd);_0x2c2ec0?(_0x2c2ec0=!(-0x105d*-0x1+0x1a51+0x19*-0x1b5),_0x3f6e6a=_0x54df83-_0x1ded90,_0x365293=_0x4b3588-_0x1ded90,_0x4e45d4=_0x77c15d-_0x1ded90,_0x40be27=_0x54df83+_0x1ded90,_0x3d013b=_0x4b3588+_0x1ded90,_0x7555f9=_0x77c15d+_0x1ded90):(_0x3f6e6a=Math['min'](_0x3f6e6a,_0x54df83-_0x1ded90),_0x365293=Math['min'](_0x365293,_0x4b3588-_0x1ded90),_0x4e45d4=Math['min'](_0x4e45d4,_0x77c15d-_0x1ded90),_0x40be27=Math['max'](_0x40be27,_0x54df83+_0x1ded90),_0x3d013b=Math['max'](_0x3d013b,_0x4b3588+_0x1ded90),_0x7555f9=Math['max'](_0x7555f9,_0x77c15d+_0x1ded90));}return _0x2c2ec0||(_0x243411['center']['set']((_0x3f6e6a+_0x40be27)*(0xbaa*-0x1+-0x23ef+0x5*0x985+0.5),(_0x365293+_0x3d013b)*(0x8*-0x422+0x1829+-0x1*-0x8e7+0.5),(_0x4e45d4+_0x7555f9)*(0x31+-0xbd1+0xba0+0.5)),_0x243411['halfExtent'+'s']['set']((_0x40be27-_0x3f6e6a)*(-0x3c4+-0x1dd7+0x7*0x4cd+0.5),(_0x3d013b-_0x365293)*(-0x201+0x17dd+-0x15dc+0.5),(_0x7555f9-_0x4e45d4)*(-0x4d9+-0x24a2+0x297b+0.5))),!_0x2c2ec0;}['yieldToMai'+'n'](){var _0x3804ef;return(_0x3804ef=globalThis['scheduler'])!=null&&_0x3804ef['yield']?globalThis['scheduler']['yield']():new Promise(_0x6780f2=>{setTimeout(_0x6780f2,-0x7*-0x1d+0x7*0x101+0x1a*-0x4d);});}['calcAabbEx'+'act'](_0x5de6e9,_0xd92ca0){const _0x5dddfd=new D(),_0x111bc8=new le(),_0x3f15b1=new D(),_0x10911d=this['createIter'](_0x5dddfd,_0x111bc8,_0x3f15b1);let _0x51460d=!(0x126d*0x1+0x5*0xcd+-0x63*0x3a);for(let _0x207bf1=-0x14cd+0xd69+0x764;_0x207bf1<this['numSplats'];++_0x207bf1)_0xd92ca0&&!_0xd92ca0(_0x207bf1)||(_0x10911d['read'](_0x207bf1),_0x51460d?(_0x51460d=!(0x3*0x2a1+0x926+-0x1108),qn['calcSplatA'+'abb'](_0x5de6e9,_0x5dddfd,_0x111bc8,_0x3f15b1)):(qn['calcSplatA'+'abb'](mg,_0x5dddfd,_0x111bc8,_0x3f15b1),_0x5de6e9['add'](mg)));return!_0x51460d;}async['getCenters'](_0x21b51d){const _0x33190d=this['getProp']('x'),_0x500b6f=this['getProp']('y'),_0x14397d=this['getProp']('z');for(let _0xb4fb10=0xb5*0x19+-0x1be0+0xa33;_0xb4fb10<this['numSplats'];++_0xb4fb10)_0x21b51d[_0xb4fb10*(0x1*-0xb97+0x17c*0x19+-0x1982)+(0x1ae7+0xe2*0x9+0x22d9*-0x1)]=_0x33190d[_0xb4fb10],_0x21b51d[_0xb4fb10*(-0x7fc+-0xf1e+0x171d)+(-0x1e03+-0x75e+0x2562)]=_0x500b6f[_0xb4fb10],_0x21b51d[_0xb4fb10*(-0x8*0x99+0xc81+0x15*-0x5e)+(-0x1267*0x2+0x1*-0x4c1+0x2991)]=_0x14397d[_0xb4fb10],_0xb4fb10%xf===-0x2248+-0x1*-0x1ad2+0x3bb*0x2&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x3ffc90;if((_0x3ffc90=this['transformD'+'ata'])!=null&&_0x3ffc90['muT'])return this['transformD'+'ata']['muT'];const _0x84ceb7=this['getProp']('t');return _0x84ceb7?new Float32Array(_0x84ceb7):void(0x12d0+0x1a7d*-0x1+0x3*0x28f);}async['getTScale'](){const _0x353ca5=this['getProp']('t_scale');if(!_0x353ca5)return;const _0x511655=new Float32Array(this['numSplats']);for(let _0x27a3e9=0xdde+-0x31*-0xb5+0x469*-0xb;_0x27a3e9<this['numSplats'];++_0x27a3e9)_0x511655[_0x27a3e9]=Math['exp'](_0x353ca5[_0x27a3e9]),_0x27a3e9%xf===0x74+0x1536+-0x76*0x2f&&await this['yieldToMai'+'n']();return _0x511655;}async['getMotion'](_0x3238e7){const _0x21ea15=this['getProp']('motion_0'),_0x374a0f=this['getProp']('motion_1'),_0x34d62d=this['getProp']('motion_2');if(!(!_0x21ea15||!_0x374a0f||!_0x34d62d)){for(let _0x1e1d36=-0xc90+0x17*0xa7+-0x271;_0x1e1d36<this['numSplats'];++_0x1e1d36)_0x3238e7[_0x1e1d36*(-0xd5b*-0x2+-0x266+0x184d*-0x1)+(-0xe00+0x1*-0x136d+-0xc7*-0x2b)]=_0x21ea15[_0x1e1d36],_0x3238e7[_0x1e1d36*(-0x35*-0x1f+0x667+-0xccf)+(0x26*0xad+-0x1*-0x164c+0x1*-0x2ff9)]=_0x374a0f[_0x1e1d36],_0x3238e7[_0x1e1d36*(-0x2f*-0xb8+-0x10d*0x9+-0x1850)+(0x22f8+-0x28f*-0x2+0x4c*-0x87)]=_0x34d62d[_0x1e1d36],_0x1e1d36%xf===0xf1*-0xd+-0xe9d+0x1ada&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x74e048;if((_0x74e048=this['transformD'+'ata'])!=null&&_0x74e048['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x45d10e=this['getProp']('time_index');if(_0x45d10e)return new Float32Array(_0x45d10e);}['calcFocalP'+'oint'](_0x43df85,_0x473d6e){const _0x1b1a89=this['getProp']('x'),_0x4610cf=this['getProp']('y'),_0x17062e=this['getProp']('z'),_0x4bf437=this['getProp']('scale_0'),_0x339387=this['getProp']('scale_1'),_0x46f9c1=this['getProp']('scale_2');_0x43df85['x']=0x2642+-0xcd0+-0x1972,_0x43df85['y']=-0x1*-0x8b1+-0x1f22+-0xf*-0x17f,_0x43df85['z']=-0xa6*0x1d+0x1*-0x973+-0x1*-0x1c41;let _0x897848=-0xfba+-0x1*-0x2575+0x1*-0x15bb;for(let _0x25057b=0x108*-0x19+-0x2427*0x1+0x3def;_0x25057b<this['numSplats'];++_0x25057b){if(_0x473d6e&&!_0x473d6e(_0x25057b))continue;const _0x1e1ba4=_0x1b1a89[_0x25057b],_0x47da85=_0x4610cf[_0x25057b],_0x1af92c=_0x17062e[_0x25057b];if(!isFinite(_0x1e1ba4)||!isFinite(_0x47da85)||!isFinite(_0x1af92c))continue;const _0x182f8d=(-0x71b+0x33*-0x71+0x1d9f)/(0x4*-0x187+0xb*0x19b+0x2e3*-0x4+Math['exp'](Math['max'](_0x4bf437[_0x25057b],_0x339387[_0x25057b],_0x46f9c1[_0x25057b])));_0x43df85['x']+=_0x1e1ba4*_0x182f8d,_0x43df85['y']+=_0x47da85*_0x182f8d,_0x43df85['z']+=_0x1af92c*_0x182f8d,_0x897848+=_0x182f8d;}_0x43df85['mulScalar']((0x2*0xc8d+-0x8e3+-0x1036)/_0x897848);}['renderWire'+'frameBound'+'s'](_0x446873,_0x3c3c03){const _0x1cee2b=new D(),_0x3ce006=new le(),_0x577bfc=new D(),_0x13bb49=new D(),_0x1155db=new D(),_0x1fa392=this['createIter'](_0x1cee2b,_0x3ce006,_0x577bfc);for(let _0xeedbdb=0x584+-0x255d+0x107*0x1f;_0xeedbdb<this['numSplats'];++_0xeedbdb)_0x1fa392['read'](_0xeedbdb),_g(za,_0x1cee2b,_0x3ce006),za['mul2'](_0x3c3c03,za),_0x13bb49['set'](_0x577bfc['x']*-(-0x1*-0x1a56+-0x8*0xe+0x19e4*-0x1),_0x577bfc['y']*-(0x4*-0x4ed+0x1017*-0x1+-0x729*-0x5),_0x577bfc['z']*-(0x5*0x2dd+0x1eff+-0x2d4e)),_0x1155db['set'](_0x577bfc['x']*(-0x1f*0x8e+-0x25*0x1e+0x158a),_0x577bfc['y']*(0x669+0x2607+-0x2c6e),_0x577bfc['z']*(-0x1ca3+-0x1312+0x1*0x2fb7)),_0x446873['immediate']['drawWireAl'+'ignedBox'](_0x13bb49,_0x1155db,KA,!(0x795+0x18ab+0x810*-0x4),_0x446873['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(-0x1a2a+-0x8c9+-0x2*-0x117a);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4886e8=-0x752*-0x1+0x1b7a*0x1+0x22*-0x106;_0x4886e8<0x1*0xb5+0x158b*0x1+-0x1613;++_0x4886e8)if(!this['getProp']('f_rest_'+_0x4886e8))return _0x4886e8;return 0x1*0x1eb+0x5*-0x19a+0x644;})())]??0x49*-0x2+-0x3e0+0x472;}['calcMorton'+'Order'](){const _0x178ccc=_0x498479=>{let _0x5ed996=_0x498479[-0x394*-0x3+0x16ba*-0x1+0xbfe],_0xdc19b7=_0x498479[-0x1*-0x1575+0x443*0x3+-0x1*0x223e];for(let _0x3cae1f=-0xa22*-0x1+0x8f1+-0x1312;_0x3cae1f<_0x498479['length'];_0x3cae1f++)_0x498479[_0x3cae1f]<_0x5ed996&&(_0x5ed996=_0x498479[_0x3cae1f]),_0x498479[_0x3cae1f]>_0xdc19b7&&(_0xdc19b7=_0x498479[_0x3cae1f]);return{'min':_0x5ed996,'max':_0xdc19b7};},_0x3b9e5c=(_0x11c412,_0x154b1f,_0x1c2552)=>{const _0x29ac93=_0x58ae6c=>(_0x58ae6c&=-0x11*-0x23b+-0x8*0x1e2+-0x12dc,_0x58ae6c=(_0x58ae6c^_0x58ae6c<<-0x1*0xd3f+-0x1491+-0x21e*-0x10)&0x1eaac05cf+0x13ade*-0xfd19+0x4ba020de,_0x58ae6c=(_0x58ae6c^_0x58ae6c<<0x2441*0x1+0x1179+-0x2*0x1ad9)&-0x43a3950+-0x17a00d6+0x17*0x60eb93,_0x58ae6c=(_0x58ae6c^_0x58ae6c<<0x2652+-0x1d23*0x1+-0x92b*0x1)&-0x4f*0x1239e5+0x2abebd7+-0x2ab*-0x23fc5,_0x58ae6c=(_0x58ae6c^_0x58ae6c<<0x1058+0x1b16*-0x1+0xac0)&-0x2*-0x6fd1764+-0x2573*0x2473+0x7f622a,_0x58ae6c);return(_0x29ac93(_0x1c2552)<<0x1c35+-0x2d8+0x1*-0x195b)+(_0x29ac93(_0x154b1f)<<0x1*0x1a2f+0x14e4*0x1+0x5*-0x96a)+_0x29ac93(_0x11c412);},_0x3a59da=this['getProp']('x'),_0x5b0852=this['getProp']('y'),_0x11ce70=this['getProp']('z'),{min:_0x198d2f,max:_0x55bcfc}=_0x178ccc(_0x3a59da),{min:_0x41880c,max:_0x54f9d5}=_0x178ccc(_0x5b0852),{min:_0x162137,max:_0x4b29df}=_0x178ccc(_0x11ce70),_0x419018=_0x198d2f===_0x55bcfc?-0x178f+-0x1b7a*0x1+0x3309:(0x8e0*-0x4+0x2a7*0x2+0x2232)/(_0x55bcfc-_0x198d2f),_0x16de68=_0x41880c===_0x54f9d5?-0x22a4+0x20c2+0x1e2:(0x5*-0x3a4+-0x11*-0x1f6+-0xb22)/(_0x54f9d5-_0x41880c),_0x5a3282=_0x162137===_0x4b29df?-0x12*0x20b+-0xf9d+0x1*0x3463:(0x7*0x583+-0x1cfd+-0x598)/(_0x4b29df-_0x162137),_0x49d34d=new Map();for(let _0x2e24d4=0x24c3+-0x216b+-0x358;_0x2e24d4<this['numSplats'];_0x2e24d4++){const _0x95015=Math['min'](0x21*-0xf4+-0x229+-0x53*-0x74,Math['floor']((_0x3a59da[_0x2e24d4]-_0x198d2f)*_0x419018)),_0xc2f9cb=Math['min'](0x7be+0x12db+-0x169a,Math['floor']((_0x5b0852[_0x2e24d4]-_0x41880c)*_0x16de68)),_0x4150b8=Math['min'](-0x1154+-0x2*-0xcbd+0x427*-0x1,Math['floor']((_0x11ce70[_0x2e24d4]-_0x162137)*_0x5a3282)),_0x3367f9=_0x3b9e5c(_0x95015,_0xc2f9cb,_0x4150b8),_0x1cd4e3=_0x49d34d['get'](_0x3367f9);_0x1cd4e3?_0x1cd4e3['push'](_0x2e24d4):_0x49d34d['set'](_0x3367f9,[_0x2e24d4]);}const _0x175f6b=Array['from'](_0x49d34d['keys']())['sort']((_0x25e4e0,_0x56d2bc)=>_0x25e4e0-_0x56d2bc),_0x45de01=new Uint32Array(this['numSplats']);let _0x363161=0x1*-0x7f9+0x1fe7*-0x1+-0x4fc*-0x8;for(let _0xd4352d=-0x1104+-0x2e*0x49+0x1e22;_0xd4352d<_0x175f6b['length'];++_0xd4352d){const _0x1f7020=_0x49d34d['get'](_0x175f6b[_0xd4352d]);for(let _0x4aa2e0=0x2036+-0x445+-0x1bf1;_0x4aa2e0<_0x1f7020['length'];++_0x4aa2e0)_0x45de01[_0x363161++]=_0x1f7020[_0x4aa2e0];}return _0x45de01;}['reorder'](_0x14d11e){const _0x2b04a8=new Map(),_0x7a4873=_0x5e7a3e=>{if(_0x2b04a8['has'](_0x5e7a3e)){const _0x453a8c=_0x2b04a8['get'](_0x5e7a3e);return _0x2b04a8['delete'](_0x5e7a3e),_0x453a8c;}return new ArrayBuffer(_0x5e7a3e);},_0x40157f=_0x14b005=>{_0x2b04a8['set'](_0x14b005['byteLength'],_0x14b005);},_0x469044=_0x477a1e=>{const _0x1d0225=new _0x477a1e['constructo'+'r'](_0x7a4873(_0x477a1e['byteLength']));for(let _0xda28ab=0xb5c+0x21b5*0x1+-0x2d11*0x1;_0xda28ab<_0x14d11e['length'];_0xda28ab++)_0x1d0225[_0xda28ab]=_0x477a1e[_0x14d11e[_0xda28ab]];return _0x40157f(_0x477a1e['buffer']),_0x1d0225;};this['elements']['forEach'](_0x442980=>{_0x442980['properties']['forEach'](_0x8d38fc=>{_0x8d38fc['storage']&&(_0x8d38fc['storage']=_0x469044(_0x8d38fc['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0xce0b28=new Float32Array(-0x1961+0x1*0x52f+0x1433);new Int32Array(_0xce0b28['buffer']);let _0x147f54=0x28d*-0xb+-0xc67+0x2*0x143b,_0x237cea={};self['onmessage']=async _0x6232f2=>{const {data:_0x2d6e9d}=_0x6232f2;switch(_0x2d6e9d['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x3b7f4a(_0x2d6e9d['properties'],_0x2d6e9d['timeIndex'],_0x2d6e9d['timeOption']);break;case'releaseSeq'+'Data':_0x5dfa09(_0x2d6e9d['index']);break;case'releaseAll'+'SeqData':_0x2d7a07();break;case'destroyWor'+'ker':_0x5d38ca();break;}};const _0x45cb7a=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x21b55a=-0x180*0x17+-0xef*-0x13+0x10c3;_0x21b55a<0x1343+-0xa67*0x2+0x1b8;++_0x21b55a)if(!_0x237cea['f_rest_'+_0x21b55a])return _0x21b55a;return 0xb05+0x2151*-0x1+0x1*0x1679;})())]??0x261+0x29a*0x3+-0x21*0x4f),_0x3b7f4a=(_0x5d5e3e,_0x4adfd5,_0x31dc4c)=>{var _0x466258,_0xf3968b;_0x147f54+=(((_0x466258=_0x5d5e3e['position'])==null?void(0x564+-0x2ce+-0x296):_0x466258['length'])??0x3*0x8a4+-0x25*-0x40+-0x232c)/(0x1*0x23de+-0x1085*-0x2+-0x1*0x44e5),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x147f54,(((_0xf3968b=_0x5d5e3e['position'])==null?void(-0x61d+-0x1c0f+0x222c):_0xf3968b['length'])??-0x1bd9+0x2*0x50b+0x11c3)/(-0x1243+-0x3*-0x20b+0xc25));const _0x2aa01c=Object['keys'](_0x5d5e3e);for(let _0x40785e=0x53c+-0xaa0+0x45*0x14;_0x40785e<_0x2aa01c['length'];_0x40785e++){const _0x2042ed=_0x2aa01c[_0x40785e],_0x37df95=_0x5d5e3e[_0x2042ed],_0x28f390=_0x237cea[_0x2042ed]??new Float32Array(0x2205+0xfff+-0x10ac*0x3);if(_0x37df95){let _0x3dee74=null;switch(_0x2042ed){case'position':_0x3dee74=new Float32Array(_0x147f54*(-0x1f6c+-0x261e+0xde9*0x5));break;case'color_opac'+'ity':_0x3dee74=new Uint16Array(_0x147f54*(-0x1*0x1e49+-0x1e70+0x3cbd));break;case'scale':_0x3dee74=new Uint16Array(_0x147f54*(0x16*0xdb+0x1117+0x397*-0xa));break;case'motion':_0x3dee74=new Float32Array(_0x147f54*(0x6d9+0x10d*0x13+-0x1acd));break;case'rotation':_0x3dee74=new Float32Array(_0x147f54*(-0x2*-0xed2+0x428+-0x21c9));break;default:_0x3dee74=new Float32Array(_0x147f54);break;}_0x3dee74['set'](_0x28f390,-0x114c+0x1a77+-0x92b*0x1),_0x3dee74['set'](_0x37df95,_0x28f390['length']),_0x237cea[_0x2042ed]=_0x3dee74;}}const _0x2c3e40={};Object['keys'](_0x237cea)['forEach'](_0x3f646d=>{_0x3f646d==='scale'||_0x3f646d==='color_opac'+'ity'?_0x2c3e40[_0x3f646d]=new Uint16Array(_0x237cea[_0x3f646d]['buffer']['slice']()):_0x2c3e40[_0x3f646d]=new Float32Array(_0x237cea[_0x3f646d]['buffer']['slice']());});const _0x31c761=Object['keys'](_0x2c3e40)['map'](_0x2dc1eb=>_0x2c3e40[_0x2dc1eb]['buffer']),_0x382858=_0x3786ca(),_0x469f93=Object['keys'](_0x382858)['map'](_0x36bd11=>_0x382858[_0x36bd11]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x2c3e40,'transformData':_0x382858},_0x31c761['concat'](_0x469f93));},_0x3786ca=()=>{const _0x4839a3=_0x237cea['position']['length']/(-0xe*0xf1+-0x1391+-0x7*-0x4ae),_0x34fb59=_0x237cea['position'],_0x2e5977=_0x237cea['scale'],_0x391a5a=_0x237cea['rotation'],_0x51be5e=_0x237cea['motion'],_0x41676d=_0x237cea['t'],_0x51cabe=_0x237cea['t_scale'],_0x39e8dd=_0x237cea['time_index'],_0x252fe6=_0x237cea['color_opac'+'ity'],_0x5ee418=(_0x41676d==null?void(-0x1*0x9fd+0x11*0x106+-0x769):_0x41676d['length'])>0x5cc+-0x1abf+0x14f3;let _0x52b937=null,_0x351852=null,_0x3d4e8d=null,_0x20db95=null;_0x5ee418&&(_0x351852=new Float32Array(_0x4839a3*(0x1*-0x1e98+-0x123c+0x30d7)),_0x20db95=new Float32Array(_0x4839a3),_0x52b937=new Float32Array(_0x51be5e['buffer']['slice']()),_0x3d4e8d=new Float32Array(_0x51be5e['buffer']['slice']()));const _0xafd2f0=new Float32Array(_0x34fb59['buffer']['slice']()),_0x4889de=new Float32Array(_0x34fb59['buffer']['slice']()),_0x4055ad=new Uint16Array(_0x252fe6['buffer']['slice']()),_0x109758=new Uint16Array(_0x2e5977['buffer']['slice']()),_0x2992fa=new Float32Array(_0x391a5a['buffer']['slice']());for(let _0xe846a9=-0x1*0x1be+0x10d+-0x3b*-0x3;_0xe846a9<_0x4839a3;++_0xe846a9)_0x5ee418&&_0x351852&&_0x20db95&&(_0x20db95[_0xe846a9]=_0x51cabe?Math['exp'](_0x51cabe[_0xe846a9]):0x10fa+0x206c+-0x3166,_0x351852[_0xe846a9*(0x265e+-0x2565*0x1+-0xf6)+(0x13ee+-0x1*-0x1c87+-0x3075)]=_0x41676d?_0x41676d[_0xe846a9]:-0x201+0x10*-0x1c9+0x1*0x1e91,_0x351852[_0xe846a9*(0x22ab+-0xbdc+-0xb66*0x2)+(-0x1*-0x1e6e+-0xbc*0x2+-0x1cf5)]=_0x20db95[_0xe846a9]);const _0x20219b=_0xb36da4();let _0x68e941={'dataColor':_0x4055ad,'dataCenters':_0x4889de,'dataPosition':_0xafd2f0,'dataScale':_0x109758,'dataRotation':_0x2992fa,..._0x20219b};return _0x5ee418&&(_0x68e941={..._0x68e941,'dataMotion':_0x52b937,'dataTime':_0x351852,'motion':_0x3d4e8d,'tScaleArray':_0x20db95,'muT':new Float32Array(_0x41676d),'timeIndex':new Float32Array(_0x39e8dd)}),_0x68e941;},_0x474dd0=_0x389d6b=>{const _0x22b43f=[];for(let _0x44a2fb=-0x1e44+0x3*0x283+-0xb*-0x211;_0x44a2fb<_0x389d6b;++_0x44a2fb)_0x22b43f['push'](_0x237cea['f_rest_'+_0x44a2fb]);return _0x22b43f;},_0xb36da4=()=>{const _0x201394=_0x45cb7a();if(_0x201394<=-0x1a8c+0xe70+0xc1c)return{};const _0x50f1a9=_0x237cea['x']['length'],_0x2fb65d=new Uint32Array(_0x50f1a9*(0x1e1b+0x267+0x1*-0x207e)),_0x241a15=new Uint32Array(_0x50f1a9*(0xbf8+-0x1*-0x112d+-0x1d21)),_0x4c3996=new Uint32Array(_0x50f1a9*(0xfa3+-0x817*-0x2+0x1fcd*-0x1)),_0xbaa3a9=new Uint32Array(_0x50f1a9*(-0x1ba*-0x5+0x14c0+-0x1d5e)),_0x1b3e0c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x201394],_0x25d7fa=_0x474dd0(_0x1b3e0c*(-0x559+0x113e+-0x3*0x3f6)),_0x482e6a=-0x678*0x1+0x1c27*-0x1+0x443*0xa,_0x21ba01=0x331+-0x1e53+0x1f21,_0x4cbda9=new Float32Array(0x326*-0xc+0x1841+-0x2*-0x6c4),_0x37f700=new Uint32Array(_0x4cbda9['buffer']),_0x5a5555=new Array(_0x1b3e0c*(0x1a96+0x1dca+-0x385d))['fill'](-0xecd*0x1+0x1*-0x1f49+0x2e16);for(let _0x32394e=0x11b6+-0xe6b+-0x34b;_0x32394e<_0x50f1a9;++_0x32394e){for(let _0x289b30=-0x24ea+0x26d8*-0x1+0x25e1*0x2;_0x289b30<_0x1b3e0c;++_0x289b30)_0x5a5555[_0x289b30*(-0xce*-0x2e+-0x83*-0x16+0x3043*-0x1)]=_0x25d7fa[_0x289b30][_0x32394e],_0x5a5555[_0x289b30*(0x5fb*-0x1+-0x13fc+0x19fa)+(0x873+0x24+0x896*-0x1)]=_0x25d7fa[_0x289b30+_0x1b3e0c][_0x32394e],_0x5a5555[_0x289b30*(0x218b*0x1+-0x19e3+0x1*-0x7a5)+(0x10+0x106b+0x1079*-0x1)]=_0x25d7fa[_0x289b30+_0x1b3e0c*(0x1681+0xe4e+-0x24cd)][_0x32394e];let _0x2af483=_0x5a5555[0x2ac*-0x3+-0x3*-0x907+-0x3*0x65b];for(let _0x1b14d1=0x895+0x2395*-0x1+0x1b01;_0x1b14d1<_0x1b3e0c*(0x5e0+-0x15c4+0xfe7);++_0x1b14d1)_0x2af483=Math['max'](_0x2af483,Math['abs'](_0x5a5555[_0x1b14d1]));if(_0x2af483!==-0x1505+-0x864+0x1d69){for(let _0x160e3a=-0x187d+0x683+-0x2*-0x8fd;_0x160e3a<_0x1b3e0c;++_0x160e3a)_0x5a5555[_0x160e3a*(-0x142c*-0x1+-0x1962+0x539)+(-0x2011*0x1+-0x1*0x2395+-0x43a6*-0x1)]=Math['max'](0x1a4d*0x1+-0xb80+0x1*-0xecd,Math['min'](_0x482e6a,Math['floor']((_0x5a5555[_0x160e3a*(-0x1*0x189b+-0x3d3+-0x329*-0x9)+(-0x900+-0x1*0x1ff6+0xe*0x2ed)]/_0x2af483*(-0x1*0x16ed+0x445*0x5+0xca*0x2+0.5)+(0xdc9+-0x856+0x1d1*-0x3+0.5))*_0x482e6a+(-0x1*-0x1771+-0x1129+-0x648+0.5)))),_0x5a5555[_0x160e3a*(0x3*0xb82+-0xa9*-0x1d+0xd6a*-0x4)+(-0x1c10+-0x5*0x329+0x2bde)]=Math['max'](-0x1f4a+0x1542+0xa08,Math['min'](_0x21ba01,Math['floor']((_0x5a5555[_0x160e3a*(-0xa74+0x1706+-0x5*0x283)+(0x17c*-0xb+0x87d+0x7d8)]/_0x2af483*(-0x4*0x44f+0x120d+-0x13*0xb+0.5)+(0x1*-0x22d5+0x91+0x2244+0.5))*_0x21ba01+(0x1*0x3+0xd7*-0xa+-0x1*-0x863+0.5)))),_0x5a5555[_0x160e3a*(0x1*-0x17d3+-0x61*0x29+0x275f)+(-0x5*-0x7bb+-0x1984+-0xd21)]=Math['max'](0x13*-0x1d7+0x661*0x1+0x1c94,Math['min'](_0x482e6a,Math['floor']((_0x5a5555[_0x160e3a*(-0x144d*0x1+-0x16a9+0x2af9)+(-0xde8+-0x2*-0x19+-0x6dc*-0x2)]/_0x2af483*(-0xfb7+0x1380+-0x3c9+0.5)+(0x4*-0x55a+0xb93+0x9d5+0.5))*_0x482e6a+(0x8ea+-0x4*0x15b+-0x37e+0.5))));_0x4cbda9[0x12b2+0x2499+-0x5f*0x95]=_0x2af483,_0x2fb65d[_0x32394e*(-0x1*-0x99e+0x195b+-0x22f5)+(-0xaff*-0x1+-0x1212+0x713)]=_0x37f700[0xf*0x49+0x23b2+-0x27f9],_0x2fb65d[_0x32394e*(0xa*-0x2c+-0x23a8+0x2564)+(0x44e+-0x112b+0xcde)]=_0x5a5555[-0xd72+0x16f*-0xe+0x2184]<<0x2177+-0xce4+-0x147e|_0x5a5555[-0x1d0c+0x33b*0x5+0xce6]<<0xe9*-0x5+-0x2383+-0x281b*-0x1|_0x5a5555[-0x6*-0x2a1+-0x754*0x3+-0x8*-0xc7],_0x2fb65d[_0x32394e*(0x1*-0xd96+0x17c2+0x19*-0x68)+(-0x9*-0x3f5+0xca4+0x45*-0xb3)]=_0x5a5555[0x1*0xd79+-0x1f1+-0xb85]<<0x197d+0x1239+-0x2ba1|_0x5a5555[-0x1ff9*0x1+0x20c0+-0x3*0x41]<<0x1eb*-0x3+-0x591+0xb5d|_0x5a5555[-0x25f0*-0x1+-0x1657+-0xf94],_0x2fb65d[_0x32394e*(0xfe0+0x6*0x641+-0x3562)+(0x741+0x94b*-0x1+0x4b*0x7)]=_0x5a5555[-0x3*-0xcfc+0x766*0x1+-0x2e54]<<-0x1502+-0x111f+0x2636|_0x5a5555[0x5f*-0xd+-0x170b+0xc1*0x25]<<-0x1791+0xf*-0x156+0x2ba6|_0x5a5555[-0x53*-0x43+-0x8bc+-0x1*0xcf5],_0x201394>-0x1*0x1f67+-0x1384+0x32ec&&(_0x241a15[_0x32394e*(-0x225+-0x830+0xa59*0x1)+(-0x40+0x136*0x1f+-0x254a)]=_0x5a5555[-0x571*0x4+0x81c+0x5*0x2bd]<<-0x22cb*-0x1+0x55*-0x3+0x19b*-0x15|_0x5a5555[-0x1*-0x1343+0x7e*0x4b+-0x3823]<<-0x6d5*0x2+-0x1*0xf05+-0x2*-0xe5d|_0x5a5555[-0x133d*0x2+0x1e30+-0x2c7*-0x3],_0x241a15[_0x32394e*(0x93b+-0x22*-0xd8+-0x25e7)+(-0x1658+0x3ab*-0x5+-0x6*-0x6c8)]=_0x5a5555[-0x1958+-0x6*0x25+0x1a42*0x1]<<0x49e+0x1*0xeb1+-0x133a|_0x5a5555[0x5b4+-0x86d+0xa*0x47]<<-0x1add*-0x1+-0x269f*0x1+0xbcd|_0x5a5555[-0xa7a+0x305*-0x9+0x563*0x7],_0x241a15[_0x32394e*(-0x4c7*0x4+-0x1*-0x1de4+0xac4*-0x1)+(0x1bd7+0x13b9+0x2*-0x17c7)]=_0x5a5555[0x1903+0x101*-0x5+-0x13ef]<<0x2d*0xc9+0x17ab*-0x1+-0xb95|_0x5a5555[0x33a*0x2+0x1fdb+-0x263f]<<-0xa+0x2*0x9c3+-0xed*0x15|_0x5a5555[0x1122+0xd06+-0x1e17],_0x241a15[_0x32394e*(0x16a1+0x1fa6*0x1+-0x3643)+(0x18b*0x19+0x2389+-0x18b3*0x3)]=_0x5a5555[0x31*-0x7+-0x1*-0x269c+-0x2533]<<0xde4+0x231e+-0x30ed|_0x5a5555[-0x1*-0xf65+0xba3+-0x1af5]<<-0x1f2+0x1c09+0x1a0c*-0x1|_0x5a5555[0x2*-0xcd3+-0x1a3*0xe+0x46c*0xb],_0x201394>-0x1509+0x1b00+-0x5f5?(_0x4c3996[_0x32394e*(-0x1576+-0x1ca3*0x1+0x321d)+(0xcb3*-0x1+-0x1*0x187d+0x10*0x253)]=_0x5a5555[-0x1fde+0x2021+-0x2e]<<-0x1*-0x9+-0x43*0x64+0x1a38|_0x5a5555[0x18a9+0x1f*-0x64+0xc77*-0x1]<<0x2610+0x1*0xbcb+-0x4*0xc74|_0x5a5555[0x6f*-0x1+-0x1*0x24d4+-0x556*-0x7],_0x4c3996[_0x32394e*(0x532+-0xfd8+0x186*0x7)+(0x652*0x2+-0xc7*0x5+-0x8c0)]=_0x5a5555[-0x2d7*-0x7+0x1*-0xb57+-0x872]<<-0x2b1*0xd+0x53*0x61+0x67*0x9|_0x5a5555[0xee2+-0xbca+-0x2ff]<<0x15*0x1d3+0x1*0xb47+-0x318b|_0x5a5555[0x18+-0x33*0xc1+0x2675],_0x4c3996[_0x32394e*(-0x2440+-0x1410+0x19c*0x23)+(0xb78+-0x223+-0x953)]=_0x5a5555[-0x17f6+-0x25*-0x17+0x14be]<<-0x1a76+-0x6d2+0x27*0xdb|_0x5a5555[-0x1a*-0xc5+-0x97*-0x26+-0x2a50]<<0xfe8+0x19cd+-0x14d5*0x2|_0x5a5555[0x7f*-0x1+-0xa34*0x3+0x1f38],_0x4c3996[_0x32394e*(-0x5f5+0x233*0xc+-0x146b)+(0x13*0x63+-0x2*-0x6d4+-0x14fe)]=_0x5a5555[-0x1*0x22e9+0x104a+-0x215*-0x9]<<0x5b8+0xa52*-0x3+0x1953|_0x5a5555[-0x1d8+0x436*-0x1+0x62d]<<-0x5ed+-0x7fe+0xdf6|_0x5a5555[0x1930*-0x1+-0x5*-0x4f6+0xd*0xa],_0xbaa3a9[_0x32394e*(0x51e+0x1*0x247d+-0x1*0x2997)+(-0x1bc8+-0x17da+-0x33a2*-0x1)]=_0x5a5555[-0x2178+-0x5f8+0x2791]<<0x1*-0x683+0x168c+0x3fd*-0x4|_0x5a5555[-0x539*0x1+0x2f5*-0x2+0xb45]<<0x2*0x50e+-0x118*-0x4+-0xe71|_0x5a5555[-0x218d+0x550+0x1c60],_0xbaa3a9[_0x32394e*(0xad1*-0x1+-0x1058+0x1b2d)+(-0x9c1+0x741+0x281)]=_0x5a5555[0x5d9*0x1+-0x1c06*-0x1+-0x21bb]<<0x1b85+0x799*0x3+-0x1*0x323b|_0x5a5555[-0x355*0x1+0x2678+-0x5d5*0x6]<<0xd7a*0x2+-0xaa*-0x1c+-0xf2b*0x3|_0x5a5555[-0x1735+0x4*-0x557+-0x1*-0x2cb7],_0xbaa3a9[_0x32394e*(-0xcf9+-0x1e1f+0x2b1c)+(0x1d97+0x772+-0x2507)]=_0x5a5555[0x2213+0x2b1*-0xb+-0x41*0x11]<<-0x1cd*-0x7+-0x1768+-0x1*-0xae2|_0x5a5555[0x1157+0x2540*-0x1+0x1411]<<0x1*-0x1a37+-0x1e95*-0x1+-0x3*0x171|_0x5a5555[0x560+-0x114c+-0x1*-0xc15],_0xbaa3a9[_0x32394e*(-0xa7*-0x14+-0x2*0xba5+0x1*0xa42)+(0xb20+-0x168b+0xb6e)]=_0x5a5555[-0x1697*0x1+0x196a+0xe3*-0x3]<<0xf5b*-0x1+-0xaff+0x1a6f|_0x5a5555[0x3b*0x77+0x3*-0x4f3+-0xc69]<<-0xd69+-0x15df+0x2353|_0x5a5555[-0xabd*0x1+-0x43*0x1b+0x11fa]):_0x4c3996[_0x32394e]=_0x5a5555[0x24b4*-0x1+0x8*-0x41+0x26d1]<<0x123e+-0x347*-0x2+-0x18b7|_0x5a5555[0xd6*0x11+-0x1*-0xbd5+-0xf*0x1bb]<<-0x25a+-0xb*-0x96+-0x11*0x3d|_0x5a5555[-0x13*-0x92+0x66d+-0x2*0x896]);}}return{'sh1to3Data':_0x2fb65d,'sh4to7Data':_0x241a15,'sh8to11Data':_0x4c3996,'sh12to15Data':_0xbaa3a9};},_0x5dfa09=_0x35414b=>{if(!_0x237cea['time_index'])return;const _0x422375=_0x237cea['time_index']['findIndex'](_0x54c88d=>_0x54c88d===_0x35414b);let _0xec051d=_0x237cea['time_index']['findIndex']((_0x5b9d39,_0x29a62d)=>_0x5b9d39!==_0x35414b&&_0x29a62d>_0x422375);if(_0xec051d===-(0x61e*-0x6+0x2*0xf40+-0x7*-0xe3)&&_0x422375===-(0x1*-0x677+-0x175*0x9+0x1395))return;_0xec051d===-(0x25a9+0x829*-0x1+-0x3*0x9d5)&&_0x422375!==-(0x2*0xa1f+-0xdfe+0x7b*-0xd)&&(_0xec051d=_0x237cea['time_index']['length']),_0x147f54-=_0xec051d-_0x422375,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x147f54,_0xec051d-_0x422375);const _0x989928=Object['keys'](_0x237cea);for(let _0x2dd6c9=0xd3*0x1b+-0x146d+-0x1d4;_0x2dd6c9<_0x989928['length'];_0x2dd6c9++){const _0x4a4572=_0x989928[_0x2dd6c9],_0x1b1608=_0x237cea[_0x4a4572];if(_0x1b1608){let _0x46e92a=0x486+0x1c92+-0x2117;switch(_0x4a4572){case'position':_0x46e92a=-0x98e+-0x15c5*0x1+0x1f56;break;case'color_opac'+'ity':_0x46e92a=0x6cc+-0x1e2*0xe+0x1394*0x1;break;case'scale':_0x46e92a=-0x3*-0x198+0x2f*-0x8+-0x41*0xd;break;case'motion':_0x46e92a=-0x34f*-0x8+0x1954+-0x33c9;break;case'rotation':_0x46e92a=0x2*-0xbb3+-0x2*-0xb0e+0x14d;break;default:_0x46e92a=-0xd11+-0x1*0x14d7+0x21e9;break;}const _0x23ed42=new Float32Array(_0x147f54*_0x46e92a);_0x422375>0x209d+0x7f5+-0x2892?(_0x23ed42['set'](_0x1b1608['subarray'](-0x1dbe+-0x1e*0xb9+-0xcdb*-0x4,_0x422375*_0x46e92a),-0x94f+0x1cab+0x135c*-0x1),_0x23ed42['set'](_0x1b1608['subarray'](_0xec051d*_0x46e92a),_0x422375*_0x46e92a)):_0x23ed42['set'](_0x1b1608['subarray'](_0xec051d*_0x46e92a),0x203e*0x1+0x1478+0x1a*-0x207),_0x237cea[_0x4a4572]=_0x23ed42;}}},_0x2d7a07=()=>{const _0x2d30b9=Object['keys'](_0x237cea);for(let _0x4b8bd7=0xac*-0x13+-0x7*0x9b+0x1101;_0x4b8bd7<_0x2d30b9['length'];_0x4b8bd7++){const _0xca1317=_0x2d30b9[_0x4b8bd7];_0x237cea[_0xca1317]&&(_0x237cea[_0xca1317]=[]);}},_0x5d38ca=()=>{_0x237cea={},_0x147f54=0x1634+0xebe+-0x24f2*0x1;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x7502cc,_0xf83b8a,_0x1d4d59,_0x2df40c=!(0x1*0x4c3+-0x1*-0x76c+-0x617*0x2)){var _0x50d892,_0x43e61c;const _0x2b9b88={};return _0x7502cc['elements'][-0x108c+-0x222d+-0x1*-0x32b9]['properties']['forEach'](_0x593d97=>{_0x2b9b88[_0x593d97['name']]=_0x593d97['storage'];}),_0x2df40c?(_0x50d892=this['worker'])==null||_0x50d892['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2b9b88,'timeIndex':_0xf83b8a,'timeOption':_0x1d4d59},_0x7502cc['elements'][-0x3c7+-0x17c8+0x1b8f]['properties']['map'](_0x31ac0e=>_0x31ac0e['storage']['buffer'])):(_0x43e61c=this['worker'])==null||_0x43e61c['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x2b9b88,'timeIndex':_0xf83b8a,'timeOption':_0x1d4d59}),new Promise(_0x2314ec=>{this['worker']['onmessage']=_0x43970f=>{if(!this['worker'])return;const {data:_0x116849}=_0x43970f;_0x116849['type']==='newAppendD'+'ata'&&_0x2314ec(_0x116849);};});}async['releaseSeq'+'Data'](_0x2fa24f){var _0x476cba;(_0x476cba=this['worker'])==null||_0x476cba['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x2fa24f});}async['releaseAll'+'SeqData'](){var _0x4864dc;(_0x4864dc=this['worker'])==null||_0x4864dc['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x52d466;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x52d466=this['worker'])==null||_0x52d466['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x2*0x6e6+0x1383+-0x5b6*0x1,0x1*0x61+0x1*-0x1d6e+0x1d0e,-0x1535+0x17d1+-0x14e*0x2,0x1ca1+0x11b4+-0x1d*0x199+0.4),Sg=0x8471+0x216d+-0x133b1*-0x2;class tC{constructor(_0x3f27a9,_0x2fbc39,_0x3e7ddb,_0x5e8d36,_0xcba4f8,_0x51a52c){const _0x258070=_0x3f27a9['getProp']('position'),_0x3fb14f=_0x3f27a9['getProp']('color_opac'+'ity'),_0x2acc44=_0x3f27a9['getProp']('scale'),_0x4ac906=_0x3f27a9['getProp']('motion'),_0x107fc=_0x3f27a9['getProp']('rotation');this['read']=_0x45b609=>{_0x2fbc39&&_0x2fbc39['set'](_0x258070[_0x45b609*(-0x1c08+-0x67*0x10+0x227b)+(-0x11ee+-0x1073*0x2+-0xcb5*-0x4)],_0x258070[_0x45b609*(-0x13dc+0x2*0x106+-0x15f*-0xd)+(0x727+-0x1*-0x5c1+-0xce7)],_0x258070[_0x45b609*(-0xec1*0x1+0x796+0x2*0x397)+(-0x2121+-0x24*0x24+0x2633)]),_0x3e7ddb&&_0x3e7ddb['set'](_0x107fc[_0x45b609*(0x15cb+0x24ba+-0x3a82)+(-0x5*0x2c7+0x20*0xbc+-0x99d)],_0x107fc[_0x45b609*(-0x17ac+0x1381+0x42e)+(-0x2*0x99a+0x232b+0x7fb*-0x2)],_0x107fc[_0x45b609*(-0xe0f+-0x1e7*-0x3+0x85d)+(0x2f7+0x4*-0x592+0x1353)]),_0x5e8d36&&_0x5e8d36['set'](_0x2acc44[_0x45b609*(0x4*0x289+0x57b+-0x2*0x7ce)+(0x1aa8+0x4b9+0x1f61*-0x1)],_0x2acc44[_0x45b609*(0xf72+0x881*0x3+-0x28f2)+(0x121*-0xd+-0xa5d*0x1+0x190b)],_0x2acc44[_0x45b609*(-0x4c7*0x7+-0x624+-0x38*-0xb5)+(-0x20e6+-0x1cf5*0x1+0x3ddd)]),_0x51a52c&&_0x4ac906&&_0x51a52c['set'](_0x4ac906[_0x45b609*(0xb9d+0xa63+-0xd*0x1b1)+(0x1e2e+0x481+-0x22af*0x1)],_0x4ac906[_0x45b609*(0x1685*-0x1+0x1f0+0x4*0x526)+(-0x1f3*-0x8+-0x2702+0x176b)],_0x4ac906[_0x45b609*(-0x22e4+0x22e0+0x1*0x7)+(0x10aa+0x7*-0x2d1+0x30f)]),_0xcba4f8&&_0xcba4f8['set'](_0x3fb14f[_0x45b609*(0x1*-0x179f+0x14e8+0x2bb)+(0x11e7+-0x25b5*0x1+0x1a*0xc3)],_0x3fb14f[_0x45b609*(0x6c2+-0xf3a*-0x2+-0x2532)+(-0x23*-0xf8+-0x240c+0xb7*0x3)],_0x3fb14f[_0x45b609*(-0x3*-0xb1+0x7f0+-0x9ff)+(-0x191b+0x1eb3+-0x596)],_0x3fb14f[_0x45b609*(-0x82b*0x4+-0x57e*-0x7+-0x5c2)+(0x249b*0x1+0x275*-0xb+-0x4f*0x1f)]);};}}const sC=(_0x2e2b1b,_0x1394f5,_0x2a15c4)=>{gg['set'](_0x2a15c4['x'],_0x2a15c4['y'],_0x2a15c4['z'],_0x2a15c4['w'])['normalize'](),_0x2e2b1b['setTRS'](_0x1394f5,gg,D['ONE']);};class iC{constructor(_0x58769f,_0x3e0547=[],_0xf67d20=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',0x1f50+0x95*0xc+-0x264c),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4ba9bb;(_0x4ba9bb=this['dataWorker'])==null||_0x4ba9bb['destroy'](),this['dataWorker']=null;});var _0x42594c,_0x147afe,_0x424161;this['elements']=_0x58769f,this['properties']=_0xf67d20,this['numSplats']=((_0x42594c=this['getElement']('vertex'))==null?void(0x2ec+-0x513+0x227):_0x42594c['count'])??-0x2152+0x3*0x40f+-0x1525*-0x1,this['comments']=_0x3e0547,this['is4D']=!!((_0x424161=(_0x147afe=this['getElement']('vertex'))==null?void(0xb*0x2fe+0x9b9+-0x2aa3):_0x147afe['properties']['find'](_0x2dc6e5=>_0x2dc6e5['name']==='t'))!=null&&_0x424161['storage']);}async['appendGSpl'+'atData'](_0x363484,_0x22133d,_0x5e9338){var _0x165a52;let _0x10fd7e=0x54a*-0x1+-0x116b+0x16b5;for(let _0x259fa5=0x1298+-0x8*0x48a+-0x6*-0x2f4;_0x259fa5<_0x5e9338['length']&&_0x22133d>_0x5e9338[_0x259fa5];_0x259fa5+=0x611+0x1043+-0x1652)_0x10fd7e=_0x259fa5/(-0x598+0x364+0x2*0x11b);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x20d7+-0x63f*0x2+0x2d55,_0x5e9338));const _0x4960fc=this['getElement']('vertex');_0x4960fc&&(_0x4960fc['count']=this['numSplats']);const _0x2d4db6=await this['dataWorker']['appendGSpl'+'atData'](_0x363484,_0x10fd7e,_0x5e9338,!(0x2f*-0x13+-0xf80+0x1*0x12fd)),_0x54d65d=_0x2d4db6['properties'],_0xcbf3da=((_0x165a52=this['getElement']('vertex'))==null?void(0x2*-0x109+-0x86*-0x2c+-0x14f6):_0x165a52['properties'])??[];for(const _0x4f1bca in _0x54d65d){const _0x194e3b=_0xcbf3da['find'](_0x2667ca=>_0x2667ca['name']===_0x4f1bca);_0x194e3b?_0x194e3b['storage']=_0x54d65d[_0x4f1bca]:_0xcbf3da['push']({'type':'float','name':_0x4f1bca,'storage':_0x54d65d[_0x4f1bca],'byteSize':0x4});}this['transformD'+'ata']=_0x2d4db6['transformD'+'ata'],this['numSplats']=_0x54d65d['position']['length']/(0xf4e+-0x130*0x10+0x3b5);}async['releaseSeq'+'Data'](_0x23931d){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x23931d),this['dataWorker']['releaseSeq'+'Data'](_0x23931d),this;}async['releaseAll'+'SeqData'](){var _0x2f8992;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x2f8992=this['dataWorker'])==null||_0x2f8992['releaseAll'+'SeqData'](),this;}['getProp'](_0x3ca28e,_0x3afb26='vertex'){var _0x5eb442,_0x3e484f;return(_0x3e484f=(_0x5eb442=this['getElement'](_0x3afb26))==null?void(-0x81*-0x14+-0x1f20+0x1*0x150c):_0x5eb442['properties']['find'](_0x6e5365=>_0x6e5365['name']===_0x3ca28e))==null?void(-0x22ea+-0x1ecb*0x1+0x41b5):_0x3e484f['storage'];}['getElement'](_0x2c29df){return this['elements']['find'](_0x2b2fe5=>_0x2b2fe5['name']===_0x2c29df);}['createIter'](_0x291a0a,_0x52a17e,_0x5173c5,_0x1b4085,_0x3a1d33){return new tC(this,_0x291a0a,_0x52a17e,_0x5173c5,_0x1b4085,_0x3a1d33);}['calcAabb'](_0x590742,_0x4cdb16){let _0x481e6b=-0x634*-0x5+0x20e6*0x1+-0x3fea,_0x551d1=-0x1*0xa85+0x1d*0x8e+-0x13*0x4b,_0x612bc0=-0x115f*0x2+-0x1065+0x3323,_0x1adf08=-0x2351+-0xf83+0x32d4,_0x3cda1d=-0x1*-0x1091+0x2*-0x30a+-0xa7d,_0x1a2486=0x3bf*-0x9+0x160b+-0x53*-0x24,_0x21df84=!(-0x1*-0x1169+-0x8a1+-0x8c8);const _0x42a078=this['getProp']('position'),_0x2cf632=this['getProp']('scale');for(let _0x407ce6=-0x19f2+0x5*0xbf+0x1637;_0x407ce6<this['numSplats'];++_0x407ce6){if(_0x4cdb16&&!_0x4cdb16(_0x407ce6))continue;const _0x1a3bea=_0x42a078[_0x407ce6*(-0xf*0x1d9+-0x2096+0x3c50)+(0x10a3*-0x2+-0x2f*0x80+-0x22f*-0x1a)],_0x427b41=_0x42a078[_0x407ce6*(-0x7ca*0x2+0x17bd*-0x1+0xd1c*0x3)+(-0x1030+-0x3b3+0x13e4)],_0x52b739=_0x42a078[_0x407ce6*(-0x214e+-0x1d79+0x12*0x37d)+(0x5b1+0x2f*-0xc9+0x1f38)],_0xce2035=Math['max'](_0x2cf632[_0x407ce6*(-0x1fd*-0x3+0x51c+-0x4*0x2c4)+(-0x1733+-0x1*0x1bd9+0x330c)],_0x2cf632[_0x407ce6*(-0x13aa+0x4a*0x71+-0xcfd)+(-0x1d76+0xbb7+0x20*0x8e)],_0x2cf632[_0x407ce6*(0x741*-0x2+0x2430+-0x15ab)+(-0x8a6+-0xbd*-0x2c+-0x17d4)]);if(!isFinite(_0x1a3bea)||!isFinite(_0x427b41)||!isFinite(_0x52b739)||!isFinite(_0xce2035))continue;const _0x26a0d5=(0x11b6*0x1+0x664+0xc0c*-0x2)*Math['exp'](_0xce2035);_0x21df84?(_0x21df84=!(0x2114+0x7*0x30f+-0x4f4*0xb),_0x481e6b=_0x1a3bea-_0x26a0d5,_0x551d1=_0x427b41-_0x26a0d5,_0x612bc0=_0x52b739-_0x26a0d5,_0x1adf08=_0x1a3bea+_0x26a0d5,_0x3cda1d=_0x427b41+_0x26a0d5,_0x1a2486=_0x52b739+_0x26a0d5):(_0x481e6b=Math['min'](_0x481e6b,_0x1a3bea-_0x26a0d5),_0x551d1=Math['min'](_0x551d1,_0x427b41-_0x26a0d5),_0x612bc0=Math['min'](_0x612bc0,_0x52b739-_0x26a0d5),_0x1adf08=Math['max'](_0x1adf08,_0x1a3bea+_0x26a0d5),_0x3cda1d=Math['max'](_0x3cda1d,_0x427b41+_0x26a0d5),_0x1a2486=Math['max'](_0x1a2486,_0x52b739+_0x26a0d5));}return _0x21df84||(_0x590742['center']['set']((_0x481e6b+_0x1adf08)*(0x1499+-0x19f*0xf+-0x77*-0x8+0.5),(_0x551d1+_0x3cda1d)*(-0x2e6+0x517*0x6+-0x1ba4+0.5),(_0x612bc0+_0x1a2486)*(0x90b+-0x29*-0xc+0xaf7*-0x1+0.5)),_0x590742['halfExtent'+'s']['set']((_0x1adf08-_0x481e6b)*(-0x251+-0x1*-0x214c+-0x1efb+0.5),(_0x3cda1d-_0x551d1)*(0x25e5+0x1*0x9f7+-0x2fdc+0.5),(_0x1a2486-_0x612bc0)*(0x1250+-0x1*0x16cd+-0x3*-0x17f+0.5))),!_0x21df84;}['yieldToMai'+'n'](){var _0x2b4e8d;return(_0x2b4e8d=globalThis['scheduler'])!=null&&_0x2b4e8d['yield']?globalThis['scheduler']['yield']():new Promise(_0x28ee2e=>{setTimeout(_0x28ee2e,-0x1*0xaf3+0x12ac+-0x7b9);});}async['getCenters'](_0x4aa3b8){const _0x39ac11=this['getProp']('x'),_0x25cd9c=this['getProp']('y'),_0x4cdfe8=this['getProp']('z');for(let _0x571507=0x15ff+0x6c2+0x11*-0x1b1;_0x571507<this['numSplats'];++_0x571507)_0x4aa3b8[_0x571507*(0x1*-0x1949+0x2333+0x1*-0x9e7)+(-0x1813*0x1+-0xb*0x352+0x3c99)]=_0x39ac11[_0x571507],_0x4aa3b8[_0x571507*(-0xa7*-0x19+-0x695+0x9b7*-0x1)+(-0x8f*0x1+0x1444+-0x13b4)]=_0x25cd9c[_0x571507],_0x4aa3b8[_0x571507*(0x876+0x8fe+0xeb*-0x13)+(0x579+-0x1*0x57d+0x6)]=_0x4cdfe8[_0x571507],_0x571507%Sg===-0x1ba2+0x1*0x15a7+-0x5fb*-0x1&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x243fff;if((_0x243fff=this['transformD'+'ata'])!=null&&_0x243fff['muT'])return this['transformD'+'ata']['muT'];const _0x152e3d=this['getProp']('t');return _0x152e3d?new Float32Array(_0x152e3d):void(0x2*-0xe6e+0x20eb+-0x40f);}async['getTScale'](){const _0x492416=this['getProp']('t_scale');if(!_0x492416)return;const _0x57dee2=new Float32Array(this['numSplats']);for(let _0x2c5bcd=0x2509+-0x247f+-0x8a;_0x2c5bcd<this['numSplats'];++_0x2c5bcd)_0x57dee2[_0x2c5bcd]=Math['exp'](_0x492416[_0x2c5bcd]),_0x2c5bcd%Sg===0x1*0x12d1+-0x71*-0x30+-0x2801&&await this['yieldToMai'+'n']();return _0x57dee2;}['getMotion'](_0x26b43b){const _0x7d20ba=this['getProp']('motion');_0x7d20ba&&new Float32Array(_0x7d20ba['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x4844fd;if((_0x4844fd=this['transformD'+'ata'])!=null&&_0x4844fd['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x1b2b98=this['getProp']('time_index');if(_0x1b2b98)return new Float32Array(_0x1b2b98);}['calcFocalP'+'oint'](_0x734e7c,_0x2d826e){const _0x5ce953=this['getProp']('position'),_0x2dfee4=this['getProp']('scale');_0x734e7c['x']=-0x1553+0x1937+-0x3e4,_0x734e7c['y']=-0x5*0xf0+0x1798+-0x12e8,_0x734e7c['z']=0x134*0x1e+0xc26*0x2+-0x3c64;let _0x2b895b=-0x14be+-0x41b+-0x1*-0x18d9;for(let _0x139b05=0x1*0x2674+0xa96+-0x310a;_0x139b05<this['numSplats'];++_0x139b05){if(_0x2d826e&&!_0x2d826e(_0x139b05))continue;const _0x349c4b=_0x5ce953[_0x139b05*(-0x3*-0x95+-0x2063+-0x7*-0x461)+(0x1*0x24d8+-0xb88+0xc*-0x21c)],_0x2ad3c6=_0x5ce953[_0x139b05*(0x4b8*-0x1+-0xbf9+0x85a*0x2)+(-0xb4e*-0x1+0x2271+-0x1*0x2dbe)],_0x21bb30=_0x5ce953[_0x139b05*(0xfd9*-0x1+0xafa*0x1+0x4e2)+(-0x27e+-0x4e0+-0x20*-0x3b)];if(!isFinite(_0x349c4b)||!isFinite(_0x2ad3c6)||!isFinite(_0x21bb30))continue;const _0x3aa287=(-0x398+-0x1f7*-0x2+-0x55)/(-0x3*-0xb59+-0x1989+-0x881+Math['max'](_0x2dfee4[_0x139b05*(0x18b2+0x1582*-0x1+-0x32d)+(0x222+-0x98f*-0x4+-0x285e*0x1)],_0x2dfee4[_0x139b05*(0xe8d+0x5*0x2c5+-0x1*0x1c63)+(0x131c+-0x2369*-0x1+-0x3684)],_0x2dfee4[_0x139b05*(-0x5f+0x1632+-0x15d0)+(0x474+-0xfe*-0x14+-0x184a)]));_0x734e7c['x']+=_0x349c4b*_0x3aa287,_0x734e7c['y']+=_0x2ad3c6*_0x3aa287,_0x734e7c['z']+=_0x21bb30*_0x3aa287,_0x2b895b+=_0x3aa287;}_0x734e7c['mulScalar']((-0x1c9d+-0x157*-0x1d+-0xa3d)/_0x2b895b);}['renderWire'+'frameBound'+'s'](_0x711336,_0x36e5b6){const _0x41ea90=new D(),_0x4dab36=new le(),_0x53cc68=new D(),_0x4f1ca3=new D(),_0x845319=new D(),_0x29e781=this['createIter'](_0x41ea90,_0x4dab36,_0x53cc68);for(let _0x5b29d0=0x8d*-0x1+0x9*0xc1+0x54*-0x13;_0x5b29d0<this['numSplats'];++_0x5b29d0)_0x29e781['read'](_0x5b29d0),sC(gc,_0x41ea90,_0x4dab36),gc['mul2'](_0x36e5b6,gc),_0x4f1ca3['set'](_0x53cc68['x']*-(-0x1d34+0x1ef5+0x1*-0x1bf),_0x53cc68['y']*-(-0xd*-0xbd+-0xe5f+0x4c8),_0x53cc68['z']*-(0x11ad+-0x1*-0xabd+-0x1c68)),_0x845319['set'](_0x53cc68['x']*(-0x1db+-0x2d*-0x41+0x12*-0x88),_0x53cc68['y']*(0xbd9*0x3+-0xf80*0x1+-0x1409),_0x53cc68['z']*(0xaea+0x2382+0x1735*-0x2)),_0x711336['immediate']['drawWireAl'+'ignedBox'](_0x4f1ca3,_0x845319,eC,!(0xb5c*0x2+-0x19bd*-0x1+-0x3*0x1027),_0x711336['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x1*0x617+0xd*0x13d+0x1*-0x162f);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2e4ab3=0xb25+-0x1a00+0xedb;_0x2e4ab3<-0x1003*-0x1+0xad*0x1a+0x10b4*-0x2;++_0x2e4ab3)if(!this['getProp']('f_rest_'+_0x2e4ab3))return _0x2e4ab3;return-0x1*0x1139+-0x3*0x9+-0x1181*-0x1;})())]??0xdd7+0xbb6+-0x198d;}['calcMorton'+'Order'](){const _0x376f34=_0x1d3615=>{let _0xfc4e99=_0x1d3615[0x10a8+-0x6*0x296+-0x124],_0x274bb3=_0x1d3615[0x1*0x6bb+0x8*0x2e1+-0x1dc3];for(let _0x41f94d=0x20a2+0x155a+-0x1*0x35fb;_0x41f94d<_0x1d3615['length'];_0x41f94d++)_0x1d3615[_0x41f94d]<_0xfc4e99&&(_0xfc4e99=_0x1d3615[_0x41f94d]),_0x1d3615[_0x41f94d]>_0x274bb3&&(_0x274bb3=_0x1d3615[_0x41f94d]);return{'min':_0xfc4e99,'max':_0x274bb3};},_0x4738ab=(_0x578760,_0x3b7c37,_0xfd1095)=>{const _0x314b8e=_0x57f99d=>(_0x57f99d&=0x7bc+-0xf10+0xb53,_0x57f99d=(_0x57f99d^_0x57f99d<<0x1089+-0x12e*-0x2+-0x12d5)&-0x183457833+0x5d75cbea+-0xe6*-0x262d9cc,_0x57f99d=(_0x57f99d^_0x57f99d<<-0x1237+0x1251+-0x12)&-0x1ef4c3c+0xd*-0x50de3c+0xf63*0x967d,_0x57f99d=(_0x57f99d^_0x57f99d<<-0x2351+-0xfe4+0x3339)&0xaec*0x70de+0x284518a+-0x448d96f,_0x57f99d=(_0x57f99d^_0x57f99d<<-0x1*0x601+0x24fb+-0x1ef8)&-0x17824e3*-0x6+0x5d30f1*0x22+-0xc0ccb0b,_0x57f99d);return(_0x314b8e(_0xfd1095)<<-0x1b3e+0x1*-0x1af5+0x3635)+(_0x314b8e(_0x3b7c37)<<-0x9b3+0x193c+-0xf88)+_0x314b8e(_0x578760);},_0x461bc4=this['getProp']('x'),_0x360245=this['getProp']('y'),_0x5c0b24=this['getProp']('z'),{min:_0x7b57ef,max:_0x4a02ed}=_0x376f34(_0x461bc4),{min:_0x3434dc,max:_0x47696c}=_0x376f34(_0x360245),{min:_0x130f9e,max:_0x50130f}=_0x376f34(_0x5c0b24),_0x5d3f06=_0x7b57ef===_0x4a02ed?-0x997+-0x86*0x8+-0x1*-0xdc7:(-0x184*0x1+-0x3d3*-0x1+0x1b1*0x1)/(_0x4a02ed-_0x7b57ef),_0x4e709c=_0x3434dc===_0x47696c?0x98*-0x1+0x10cd*-0x1+-0x1165*-0x1:(0x2*0x699+0x61*-0x63+-0xb*-0x293)/(_0x47696c-_0x3434dc),_0x285447=_0x130f9e===_0x50130f?-0x1d75+-0x25f9*-0x1+-0x884*0x1:(0x817*0x1+-0x42f+0x18)/(_0x50130f-_0x130f9e),_0x37676f=new Map();for(let _0xdd2c74=-0x2f*-0xcb+0x1827*0x1+-0x3d6c;_0xdd2c74<this['numSplats'];_0xdd2c74++){const _0x5f8f6a=Math['min'](-0x1*0x80f+-0x1582+-0x2190*-0x1,Math['floor']((_0x461bc4[_0xdd2c74]-_0x7b57ef)*_0x5d3f06)),_0x40ca25=Math['min'](0x820+-0x1e7*0x9+0xcfe,Math['floor']((_0x360245[_0xdd2c74]-_0x3434dc)*_0x4e709c)),_0x233512=Math['min'](-0x1ee4+0x6dd*0x5+0x92*0x1,Math['floor']((_0x5c0b24[_0xdd2c74]-_0x130f9e)*_0x285447)),_0x4f4bf8=_0x4738ab(_0x5f8f6a,_0x40ca25,_0x233512),_0x5a3d97=_0x37676f['get'](_0x4f4bf8);_0x5a3d97?_0x5a3d97['push'](_0xdd2c74):_0x37676f['set'](_0x4f4bf8,[_0xdd2c74]);}const _0x4131e8=Array['from'](_0x37676f['keys']())['sort']((_0x4ab319,_0x2a23de)=>_0x4ab319-_0x2a23de),_0x2ccf8=new Uint32Array(this['numSplats']);let _0x551a53=0x1bae+-0x493*-0x1+-0x17*0x167;for(let _0x3bc9f5=-0x29*0x6+0x1b1*0x3+0x3*-0x15f;_0x3bc9f5<_0x4131e8['length'];++_0x3bc9f5){const _0x35c54d=_0x37676f['get'](_0x4131e8[_0x3bc9f5]);for(let _0x2e03f3=0x4a9*-0x6+-0x5*-0x38f+0xa2b;_0x2e03f3<_0x35c54d['length'];++_0x2e03f3)_0x2ccf8[_0x551a53++]=_0x35c54d[_0x2e03f3];}return _0x2ccf8;}['reorder'](_0x20c943){const _0x30e8e3=new Map(),_0x5e893b=_0x406df7=>{if(_0x30e8e3['has'](_0x406df7)){const _0x481340=_0x30e8e3['get'](_0x406df7);return _0x30e8e3['delete'](_0x406df7),_0x481340;}return new ArrayBuffer(_0x406df7);},_0x5e9799=_0x281bd2=>{_0x30e8e3['set'](_0x281bd2['byteLength'],_0x281bd2);},_0x5dd528=_0x2fd41e=>{const _0x35afc7=new _0x2fd41e['constructo'+'r'](_0x5e893b(_0x2fd41e['byteLength']));for(let _0xeb3982=0x1356+-0x11ac+-0x1aa;_0xeb3982<_0x20c943['length'];_0xeb3982++)_0x35afc7[_0xeb3982]=_0x2fd41e[_0x20c943[_0xeb3982]];return _0x5e9799(_0x2fd41e['buffer']),_0x35afc7;};this['elements']['forEach'](_0x452bcd=>{_0x452bcd['properties']['forEach'](_0x4c9c07=>{_0x4c9c07['storage']&&(_0x4c9c07['storage']=_0x5dd528(_0x4c9c07['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x198ca9,_0x4952f3)=>{for(const _0x56287a in _0x4952f3)_0x198ca9['resolve'](_0x56287a)['setValue'](_0x4952f3[_0x56287a]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x1df742;(_0x1df742=this['executeCal'+'lback'])==null||_0x1df742['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x349929,_0x10469f){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x349929,this['gsplatInst'+'ance']=_0x10469f);const {resource:_0x44b84b}=_0x10469f,_0x22c660=new Map(Pe['get'](_0x349929,_0x349929['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x349929,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x22c660,'fragmentIncludes':_0x22c660,'fragmentDefines':new Map([['SH_BANDS',_0x44b84b['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x44b84b['createText'+'ure']('centroids',Ne,new J(-0x24bc+-0x82f+0x1*0x2d2b,-0x4e*-0x28+0x4*-0x39e+0x648)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x24fe+-0xe9c+-0x11*0x151)}),this['renderPass']=new dC(_0x349929),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x5*-0x73e+0x1f1e+-0x4354),this['quadRender']=new Ah(this['shader']);const {material:_0x53cb4a}=_0x10469f;_0x53cb4a['setDefine']('SH_BANDS','0');const {shaderChunks:_0x2eb07d}=_0x53cb4a;_0x2eb07d['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x2eb07d['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x53cb4a['update'](),_0x349929['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x5b10ef}=this,{material:_0x420f3e}=_0x5b10ef;_0x420f3e['setDefine']('SH_BANDS',_0x5b10ef['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x833241}=_0x420f3e;_0x833241['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x833241['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x420f3e['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x41d5e1,_0xf77441){const {prevDir:_0x189a20,updateMode:_0x5a69d1}=this;if(_0x5a69d1==='disable'||(yg['invert'](_0xf77441),yg['transformV'+'ector'](_0x41d5e1['forward'],uo),uo['normalize'](),_0x5a69d1==='enable'&&uo['equalsAppr'+'ox'](_0x189a20,-0x1ae6+-0x15f2+0x824*0x6+0.001)))return;_0x189a20['copy'](uo);const _0x384f04=()=>{const {device:_0x315eda}=this,{sh_centroids:_0x4bcb55,meta:_0x8fafec}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x315eda['scope'],{'dir':uo['toArray'](),'centroids':_0x4bcb55,'shN_mins':_0x8fafec['shN']['mins'],'shN_maxs':_0x8fafec['shN']['maxs']}),_0x315eda['setCullMod'+'e'](bt),_0x315eda['setDepthSt'+'ate'](Yt['NODEPTH']),_0x315eda['setStencil'+'State'](null,null),_0x315eda['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x384f04,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0xecf+0x5*0x64d+0x859*-0x2+0.28209479177387814,Ci=_0xa9450b=>_0xa9450b['read'](-0x1bc4+0x7*0x2b9+-0x1*-0x8b5,0x2*-0x877+0x479*0x2+-0x4*-0x1ff,_0xa9450b['width'],_0xa9450b['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x5d*0x9+0x18*0x57+-0x4e3)}),mC=(_0x3f8228,_0x22e1f4)=>{for(const _0x53bac8 in _0x22e1f4)_0x3f8228['resolve'](_0x53bac8)['setValue'](_0x22e1f4[_0x53bac8]);};class _C{constructor(_0x3530a7,_0xd594f7,_0x2836c4,_0x5c89fd,_0x5de23d,_0x5a0654){const _0x7569ad=(_0xc68271,_0x2179c3,_0x88f17c)=>_0xc68271*(0x3*0xa47+0x4db*0x5+-0x371b-_0x88f17c)+_0x2179c3*_0x88f17c,{meta:_0x1fbadb}=_0x3530a7,{means:_0x42d495,scales:_0x519b7d,sh0:_0x397748,shN:_0x219988}=_0x1fbadb,_0x46dd32=_0xd594f7&&_0x3530a7['means_l']['_levels'][-0x28*-0x37+-0xb90+-0x17c*-0x2],_0x268a2c=_0xd594f7&&_0x3530a7['means_u']['_levels'][0x19ba+-0x104e*-0x1+-0x2a08],_0x1ad595=_0x2836c4&&_0x3530a7['quats']['_levels'][-0x66a*0x3+0x1*-0x1d1a+-0x8*-0x60b],_0x250751=_0x5c89fd&&_0x3530a7['scales']['_levels'][0x7*-0x95+-0x4*0x482+0x161b],_0x432677=_0x5de23d&&_0x3530a7['sh0']['_levels'][-0xcb1*0x3+-0xb7e+-0x3191*-0x1],_0x35f7df=_0x5a0654&&_0x3530a7['sh_labels']['_levels'][0x1341*-0x2+0x18a*-0xf+0x9*0x6d8],_0x1da0b9=_0x5a0654&&_0x3530a7['sh_centroi'+'ds']['_levels'][0x7bd+-0x235*-0xa+-0x1dcf],_0x259fa8=(0x31*-0x3a+0x1270+-0x43*0x1c)/Math['sqrt'](0x1*-0x22da+0x4*0x6d1+0x798);this['read']=_0x201ac0=>{if(_0xd594f7){const _0x2a2d58=_0x7569ad(_0x42d495['mins'][-0x7*0x4d2+0x1*0x1277+0xf47],_0x42d495['maxs'][-0x21a1+-0x3*0x31f+0x2afe],((_0x268a2c[_0x201ac0*(-0x13*0xa6+0x1108+-0x259*0x2)+(-0x3*0x1ad+-0xd86+0x128d)]<<0x1926+-0x292*-0xa+-0x32d2)+_0x46dd32[_0x201ac0*(0x1*-0x1313+0x158f+-0x278)+(0x2*-0x3d0+-0x115f+0x18ff)])/(-0x3a3+0x1cef2+-0xcb50)),_0xa44441=_0x7569ad(_0x42d495['mins'][0x16c1+-0x17b3+0xf3],_0x42d495['maxs'][0x12f4*0x1+0xe*0x4d+-0x1729],((_0x268a2c[_0x201ac0*(-0x1665+0xf86+-0x29*-0x2b)+(0x12*-0x1a6+-0xfb0+0x2d5d)]<<-0x45*0xd+0x180+-0x1*-0x209)+_0x46dd32[_0x201ac0*(0xdb1+0x2211+0x6d2*-0x7)+(0x1*-0xb4b+0x671*0x1+0x4db)])/(0x43*-0x4ea+0x1e472+0x64cb)),_0x49156e=_0x7569ad(_0x42d495['mins'][-0x1*0x1ac9+0x4d1*0x3+0x278*0x5],_0x42d495['maxs'][-0xb3b+-0x5*0x102+0x1047],((_0x268a2c[_0x201ac0*(0x1b*-0xbf+-0x20c6+0x34ef*0x1)+(-0x772*-0x1+-0x3a*-0x6a+-0x1f74)]<<-0x1*0x21be+-0x1*0x21c7+0x438d*0x1)+_0x46dd32[_0x201ac0*(-0xa81*-0x1+-0xb03+0x43*0x2)+(0x1ecd+-0x2537+0x1*0x66c)])/(0x13dff+0xb9*0x183+-0x155ab));_0xd594f7['x']=Math['sign'](_0x2a2d58)*(Math['exp'](Math['abs'](_0x2a2d58))-(-0x25e1*0x1+-0xb9d+0x1*0x317f)),_0xd594f7['y']=Math['sign'](_0xa44441)*(Math['exp'](Math['abs'](_0xa44441))-(0xc0c+0xc2*-0x15+0x1*0x3df)),_0xd594f7['z']=Math['sign'](_0x49156e)*(Math['exp'](Math['abs'](_0x49156e))-(-0x192d+0x6b0+0x127e));}if(_0x2836c4){const _0x5dfa56=(_0x1ad595[_0x201ac0*(-0xf*-0x1+-0x629*-0x1+-0x634)+(-0x3*0x4c3+-0x43*0x21+0x16ec)]/(0x1fb+0x496+-0x1*0x592)-(0x2308+-0x1437+-0xed1+0.5))*_0x259fa8,_0x372dc3=(_0x1ad595[_0x201ac0*(-0x409+0xa*-0x349+0x24e7)+(0xeef+0x17c*-0x1+-0xd72)]/(-0x3c8+-0xa8*-0xc+0x319*-0x1)-(0x930+0x11c8+0x2*-0xd7c+0.5))*_0x259fa8,_0x2c34b1=(_0x1ad595[_0x201ac0*(-0x1759+0x13*-0x75+0x200c)+(0x1*0xd73+0x1bfe+-0x296f)]/(0x5c2*0x1+0x1b4e+-0x2011)-(0x2497+0x9d*-0x22+-0x53f*0x3+0.5))*_0x259fa8,_0x34520e=Math['sqrt'](Math['max'](-0x2047+0x1*-0x2146+0x418d,0x2*-0xe83+-0x7dc+0x1*0x24e3-(_0x5dfa56*_0x5dfa56+_0x372dc3*_0x372dc3+_0x2c34b1*_0x2c34b1)));switch(_0x1ad595[_0x201ac0*(0x93*0x36+-0x1150+-0x67*0x22)+(-0x1*0x1ddb+0x10e7*-0x1+0x399*0xd)]-(-0x4af+0x26ef+-0x2144)){case-0xf2+-0x4*-0xa3+-0x19a*0x1:_0x2836c4['set'](_0x5dfa56,_0x372dc3,_0x2c34b1,_0x34520e);break;case-0x22a*0x7+-0x1f00+0x2e27:_0x2836c4['set'](_0x34520e,_0x372dc3,_0x2c34b1,_0x5dfa56);break;case 0x2332+0x2290*-0x1+-0xa0:_0x2836c4['set'](_0x372dc3,_0x34520e,_0x2c34b1,_0x5dfa56);break;case 0xd6c+0x1973+0x33d*-0xc:_0x2836c4['set'](_0x372dc3,_0x2c34b1,_0x34520e,_0x5dfa56);break;}}if(_0x5c89fd){const _0x1e0e58=_0x7569ad(_0x519b7d['mins'][-0x10b8+0x1954+0x44e*-0x2],_0x519b7d['maxs'][0x92*-0x1+0x1cc7+0x53*-0x57],_0x250751[_0x201ac0*(0x265b+-0x9*0x14b+-0x1ab4)+(0x3*0x9b1+0xd3d+-0x2a50)]/(-0x1230+0x42e*-0x5+0x14b*0x1f)),_0x163cec=_0x7569ad(_0x519b7d['mins'][-0x48*0x86+0x81+0x2530],_0x519b7d['maxs'][0x1bfe+0xc*-0x2d4+-0x1*-0x5f3],_0x250751[_0x201ac0*(-0x1321+-0xb6e+0xa31*0x3)+(-0x19*-0x1f+-0x4e7*0x5+0x157d)]/(0xa69*-0x1+-0x1d31+-0x13*-0x223)),_0x2c3322=_0x7569ad(_0x519b7d['mins'][-0xb77*0x2+-0x10a*-0x23+-0xd6e],_0x519b7d['maxs'][0xd*-0x18f+-0x169*-0x4+0x2ed*0x5],_0x250751[_0x201ac0*(-0x355*-0x1+-0x1*-0x2109+-0x11a*0x21)+(-0x1*0x267b+0x9*0x2c9+0xd6c)]/(-0x55b+-0x3b5*0x4+-0x152e*-0x1));_0x5c89fd['set'](_0x1e0e58,_0x163cec,_0x2c3322);}if(_0x5de23d){const _0x32a53c=_0x7569ad(_0x397748['mins'][0xc77+-0xc7b+0x4],_0x397748['maxs'][-0x7c9*0x1+-0x326*0x6+0x1aad],_0x432677[_0x201ac0*(-0x1b2f+-0x1d*-0x83+-0x317*-0x4)+(0x4*0x94f+-0xb9*-0xa+0x15*-0x21e)]/(-0xce*0x7+0x1a2d+-0x12*0x116)),_0x913a5d=_0x7569ad(_0x397748['mins'][-0x222c+0x393*-0x1+0x25c0],_0x397748['maxs'][0x22a2+0x1*0x11e7+-0x3488],_0x432677[_0x201ac0*(-0x5b+-0x1*-0x1f61+-0x1f02)+(0x8*0x1c6+-0xcc*-0x2e+-0x32d7)]/(-0x2225*-0x1+-0x123b+-0xeeb)),_0x16c8e7=_0x7569ad(_0x397748['mins'][0xbb*-0x3+0x3*0x7ca+-0x152b],_0x397748['maxs'][0x9*-0x417+-0x306+0x27d7],_0x432677[_0x201ac0*(0x1dd0+0x2*0xd5b+0x6*-0x96b)+(-0x1c40+-0x111*0x21+0x3f73)]/(0x258f+-0xaa4+-0x19ec)),_0x10cda1=_0x7569ad(_0x397748['mins'][-0x14d7+0xbc5+-0x1*-0x915],_0x397748['maxs'][-0x78*0xe+0x1*0x53b+0x4*0x56],_0x432677[_0x201ac0*(0x1*-0xad9+0x212f+-0x1652)+(-0xc60+0x1d0*-0x8+0x1ae3)]/(0x3*-0xca+0x1a0c+-0x16af*0x1));_0x5de23d['set'](0x2530+-0x1*-0xe59+-0x3389+0.5+_0x32a53c*An,0x1e80+-0x923+-0x1*0x155d+0.5+_0x913a5d*An,-0x1*0x1537+-0x9d9*-0x1+0xb5e+0.5+_0x16c8e7*An,(-0x2607+-0x1b33+0x413b)/(-0x3*-0x468+-0x23da+0x16a3+Math['exp'](-_0x10cda1)));}if(_0x5a0654){const _0x1fa27e=_0x35f7df[_0x201ac0*(-0x1*-0x520+0x2045+-0x2561)+(0x11a4*-0x2+-0x5*-0x416+0xeda)]+(_0x35f7df[_0x201ac0*(-0x1*-0x26fd+0x1b85+-0x427e)+(0xfb*-0x2+0x1f80+-0x1*0x1d89)]<<-0x1*0x15f5+-0x1a27+0x3024),_0x4a2916=_0x1fa27e%(-0xcc*-0x23+-0x6ed+0x14b7*-0x1)*(0x262b+0x2c9*-0x2+-0x208a),_0x7fceef=Math['floor'](_0x1fa27e/(0x5ba+-0x1b72+0x8*0x2bf));for(let _0x3d1a10=0xdc7+0x728*-0x5+-0x2b*-0x83;_0x3d1a10<0x1*0x236d+-0xfeb+-0x137f;++_0x3d1a10)for(let _0x2a02ec=0x1121*0x2+-0x1ca0+-0x5a2;_0x2a02ec<-0x1244+-0x19*0x9e+0x21c1;++_0x2a02ec)_0x5a0654[_0x3d1a10*(-0x3b0+-0x62d+-0xfe*-0xa)+_0x2a02ec]=_0x7569ad(_0x219988['mins'],_0x219988['maxs'],_0x1da0b9[(_0x4a2916+_0x2a02ec)*(0x1*-0xc8b+-0xd30+-0xa9*-0x27)+_0x3d1a10+_0x7fceef*_0x3530a7['sh_centroi'+'ds']['width']*(0xc7*0x3+0x25eb+-0x283c)]/(-0x1d21*-0x1+0x3*-0xa59+0x2e9));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x29a2bd,_0x4ff141,_0x285b3b,_0x2b2d3a,_0x13ffa8,_0x399757,_0x1ec10b,_0x1de781;(_0x29a2bd=this['means_l'])==null||_0x29a2bd['destroy'](),(_0x4ff141=this['means_u'])==null||_0x4ff141['destroy'](),(_0x285b3b=this['quats'])==null||_0x285b3b['destroy'](),(_0x2b2d3a=this['scales'])==null||_0x2b2d3a['destroy'](),(_0x13ffa8=this['sh0'])==null||_0x13ffa8['destroy'](),(_0x399757=this['sh_centroi'+'ds'])==null||_0x399757['destroy'](),(_0x1ec10b=this['sh_labels'])==null||_0x1ec10b['destroy'](),(_0x1de781=this['packedText'+'ure'])==null||_0x1de781['destroy']();}['createIter'](_0x379ce0,_0x2c595a,_0x415c3f,_0x4be894,_0x5abf64){return new _C(this,_0x379ce0,_0x2c595a,_0x415c3f,_0x4be894,_0x5abf64);}['calcAabb'](_0x20f6c2){const {mins:_0x5ae5a2,maxs:_0x45d9cb}=this['meta']['means'],_0x3856d=_0x40ebe9=>Math['sign'](_0x40ebe9)*(Math['exp'](Math['abs'](_0x40ebe9))-(-0x2607+0x147*0x9+0x1*0x1a89));_0x20f6c2['center']['set']((_0x3856d(_0x5ae5a2[-0x41b*0x1+-0x16f2*0x1+0x19*0x115])+_0x3856d(_0x45d9cb[0x1882+0x1bd4*0x1+-0x57*0x9a]))*(0xd66+0x9*-0x51+-0xa8d+0.5),(_0x3856d(_0x5ae5a2[0x2a*-0xd8+-0x23df+0x1c*0x28c])+_0x3856d(_0x45d9cb[-0x1cad*-0x1+0x18cb*-0x1+-0x3*0x14b]))*(-0x1245+0x1ed2+-0x1*0xc8d+0.5),(_0x3856d(_0x5ae5a2[-0x1*0x1147+0x1287+0x9f*-0x2])+_0x3856d(_0x45d9cb[-0x36*0x86+0x1149+0xafd]))*(-0x607+0x1*-0x887+0xe8e+0.5)),_0x20f6c2['halfExtent'+'s']['set']((_0x3856d(_0x45d9cb[-0x109d+-0x2322+0x33bf])-_0x3856d(_0x5ae5a2[-0x2246+-0x1153+0x3399]))*(0x1547+0x1921+-0x2e68+0.5),(_0x3856d(_0x45d9cb[-0x1821+-0x45f+0x1c81])-_0x3856d(_0x5ae5a2[0x1733*-0x1+0x18bb+-0x187]))*(-0xe13+-0x32*0x76+0x11*0x22f+0.5),(_0x3856d(_0x45d9cb[0x1b64+0xa0b*0x1+0x2e1*-0xd])-_0x3856d(_0x5ae5a2[-0x10*-0x17c+0x1a13+-0x147*0x27]))*(-0x2409+-0xb3*0x1c+0x26b*0x17+0.5));}['getCenters'](_0x2f8ca3){const {meta:_0x56e23b,means_l:_0x13252f,means_u:_0x229415,numSplats:_0x209dca}=this,{means:_0x5cd43b}=_0x56e23b,_0x2b74e7=new Uint32Array(_0x229415['_levels'][-0x1202+0x1*0x6f1+-0x1*-0xb11]['buffer']),_0x436fd0=new Uint32Array(_0x13252f['_levels'][-0x25cf+-0x481+0x2a50]['buffer']),_0x308802=_0x5cd43b['mins'][-0x16c7+-0xf2*0x4+-0x1a8f*-0x1]/(-0x319*0x2+0xd1ae+0x3483),_0x34133e=_0x5cd43b['mins'][0x32f*-0x5+0xa*-0x100+0x13c*0x15]/(0x2*0x45+0x9*-0x2d9e+-0x423*-0xa1),_0x11b5a3=_0x5cd43b['mins'][-0xb*-0x9d+-0x1*-0x1213+-0x18d0]/(-0x1bd40+0x14881+0x174be),_0x56f825=_0x5cd43b['maxs'][0x24c6+0x1*-0x26+-0x24a0]/(-0x509*0x59+-0x186f6+0x44716),_0x20c8d2=_0x5cd43b['maxs'][0xf89*0x2+-0x3d*-0x7c+-0x3c9d]/(0xf*-0x1ea3+0x1*-0x1e0a1+0x4ac2d),_0x60200d=_0x5cd43b['maxs'][-0x18cd+-0x1*-0x2537+-0x8*0x18d]/(-0x520a*0x2+-0x18abc+0x32ecf);for(let _0xa0d7ac=-0x139*0x17+-0x26d3+0xd1*0x52;_0xa0d7ac<_0x209dca;_0xa0d7ac++){const _0x55b1e1=_0xa0d7ac,_0x4f8be8=_0x2b74e7[_0x55b1e1],_0x2c75c0=_0x436fd0[_0x55b1e1],_0x3a6aaf=_0x4f8be8<<0x5bc*-0x3+0x1*-0x235a+0x3496&-0x2*0xe680+-0x84d7+0x13*0x2cad|_0x2c75c0&0x2495*0x1+0x1fa*-0x7+-0x15c0,_0x26bb72=_0x4f8be8&0x127f+0x532+0xe74f|_0x2c75c0>>>-0x5*-0x61+-0x1a2f+0x11b*0x16&0x105+0x7c4+-0x7ca,_0x3df425=_0x4f8be8>>>0x2*0x770+-0xcb*-0x8+0xc*-0x1c4&-0x133fa+0x187c9+0x6d9*0x19|_0x2c75c0>>>0x11ce*0x2+0x1*0x257e+0x1*-0x490a&-0x1c4*-0x6+0x5ee*0x6+-0x2d2d,_0x47f501=_0x308802*(0x11*-0x39e+0x18358+-0x45db-_0x3a6aaf)+_0x56f825*_0x3a6aaf,_0xad56d5=_0x34133e*(-0x1c2af+0x18ea3+-0x1*-0x1340b-_0x26bb72)+_0x20c8d2*_0x26bb72,_0x59632e=_0x11b5a3*(-0xf49+-0x4*-0x53a4+0x51*-0xc8-_0x3df425)+_0x60200d*_0x3df425,_0x1b2f34=_0x47f501<0x1f1a+0x43*-0x20+-0xb5d*0x2?-_0x47f501:_0x47f501,_0x254f61=_0xad56d5<-0x24a6+0x23c0+0xe6?-_0xad56d5:_0xad56d5,_0x135f29=_0x59632e<-0x1*-0x5cf+0x17ea*-0x1+0xf*0x135?-_0x59632e:_0x59632e;_0x2f8ca3[_0xa0d7ac*(-0x50*0x35+0x19c4+-0x931)]=(_0x47f501<-0x778+0x8c5+0x14d*-0x1?-(-0x6*0x5b1+-0x185a+-0x3a81*-0x1):-0x2185+0x2159+0x5*0x9)*(Math['exp'](_0x1b2f34)-(-0x188c*0x1+0x5*0x5a6+-0x7*0x87)),_0x2f8ca3[_0xa0d7ac*(-0x1080+0x133*0x1f+0xe6*-0x17)+(-0xda1+-0x1efb+0x2c9d)]=(_0xad56d5<-0x4c3+-0xc80+0x5c1*0x3?-(0x1*-0x217c+0xe12*0x2+-0x25*-0x25):-0x1*-0x62b+0x1ca1+0x3*-0xb99)*(Math['exp'](_0x254f61)-(0x1*0xedb+0xc3d+0x56b*-0x5)),_0x2f8ca3[_0xa0d7ac*(-0x16b2+-0x25*-0x5b+0x98e)+(-0xaf3+-0xb*-0x319+-0x171e)]=(_0x59632e<-0x5cb+-0x1c47+0x1109*0x2?-(0x2634+-0x337*0x9+-0x944):-0xf7*-0x1f+-0xb2d*0x1+-0x23*0x89)*(Math['exp'](_0x135f29)-(-0x25*-0x65+0x1988+-0x2820));}}['calcFocalP'+'oint'](_0x271978,_0x5157e7){_0x271978['set'](-0x15df*0x1+-0x525*0x2+0x1*0x2029,0x2071+-0x3f*0x93+0x3bc,0x2630+-0x587+0xae3*-0x3);}get['isSogs'](){return!(0xbc3+0x1bd*0x1+-0xd80);}get['shBands'](){var _0x11357d;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x11357d=this['sh_centroi'+'ds'])==null?void(0x1d*0x4+-0xb02+-0x547*-0x2):_0x11357d['width']]??0x1b4d+-0xe5e+-0xcef;}async['decompress'](){const _0x3f646e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x41f71f}=this,{means_l:_0x57ea0c,means_u:_0x42030a,quats:_0x2a2783,scales:_0xdcd57e,sh0:_0x32ef48,sh_labels:_0x58428a,sh_centroids:_0x22e12b}=this;if(_0x57ea0c['_levels'][-0x50a+0x64*0x3e+-0x132e]=await Ci(_0x57ea0c),_0x42030a['_levels'][-0x281+0xf1*-0x1b+0x1bec]=await Ci(_0x42030a),_0x2a2783['_levels'][-0x4*-0x317+-0xf73+-0x317*-0x1]=await Ci(_0x2a2783),_0xdcd57e['_levels'][0xe44+0x1a7a*0x1+-0x28be]=await Ci(_0xdcd57e),_0x32ef48['_levels'][-0x1*-0x10d3+-0xad8+0x5fb*-0x1]=await Ci(_0x32ef48),_0x41f71f>0x6fd+0xa1c+-0x1119){_0x58428a['_levels'][0x2*0xc39+0x67*-0x1f+0xbf9*-0x1]=await Ci(_0x58428a),_0x22e12b['_levels'][0x1095+0x1a*0x40+-0x1715]=await Ci(_0x22e12b);const _0x52cd56=[];for(let _0x5d52e9=-0x14e9+0x17cb+-0x2e2;_0x5d52e9<0xc7*-0x2+0x2626+-0x1*0x246b;++_0x5d52e9)_0x52cd56['push']('f_rest_'+_0x5d52e9);_0x3f646e['splice'](_0x3f646e['indexOf']('f_dc_0')+(0x2123+0xc6*-0x1f+-0x4*0x24a),0x4*0x7c7+0x147f+-0x1*0x339b,..._0x52cd56);}const _0x344647={};_0x3f646e['forEach'](_0x317cd1=>{_0x344647[_0x317cd1]=new Float32Array(this['numSplats']);});const _0x4b2168=new D(),_0x249d17=new le(),_0x23ab2b=new D(),_0x549324=new re(),_0x53e32a=_0x41f71f>-0x36b+-0x4b*0x5c+0x1e5f?new Float32Array(-0x1*-0x7db+0xe5d+-0x160b):null,_0xa9e167=this['createIter'](_0x4b2168,_0x249d17,_0x23ab2b,_0x549324,_0x53e32a);for(let _0x4934b9=0x2*0xc35+-0x1*0x21d1+-0x1d*-0x53;_0x4934b9<this['numSplats'];++_0x4934b9)if(_0xa9e167['read'](_0x4934b9),_0x344647['x'][_0x4934b9]=_0x4b2168['x'],_0x344647['y'][_0x4934b9]=_0x4b2168['y'],_0x344647['z'][_0x4934b9]=_0x4b2168['z'],_0x344647['rot_1'][_0x4934b9]=_0x249d17['x'],_0x344647['rot_2'][_0x4934b9]=_0x249d17['y'],_0x344647['rot_3'][_0x4934b9]=_0x249d17['z'],_0x344647['rot_0'][_0x4934b9]=_0x249d17['w'],_0x344647['scale_0'][_0x4934b9]=_0x23ab2b['x'],_0x344647['scale_1'][_0x4934b9]=_0x23ab2b['y'],_0x344647['scale_2'][_0x4934b9]=_0x23ab2b['z'],_0x344647['f_dc_0'][_0x4934b9]=(_0x549324['x']-(-0x9*0x74+0x1*-0x496+0x8aa+0.5))/An,_0x344647['f_dc_1'][_0x4934b9]=(_0x549324['y']-(0x11e1+0xc59+0x6a*-0x49+0.5))/An,_0x344647['f_dc_2'][_0x4934b9]=(_0x549324['z']-(0x37e+0x535*0x5+-0x1*0x1d87+0.5))/An,_0x344647['opacity'][_0x4934b9]=_0x549324['w']<=-0x87c+-0x259d+0x1*0x2e19?-(0x22b1*-0x1+0x315+0x1fc4):_0x549324['w']>=-0x599*-0x6+-0x170d+0x2*-0x544?0x1a*0x79+-0x1677*0x1+-0x73*-0x17:-Math['log']((0x1f79+0x721+-0x2699*0x1)/_0x549324['w']-(0xb35+0xf2e*-0x1+-0x1fd*-0x2)),_0x53e32a){for(let _0x16c7c0=0x1*-0x47d+0x387+0xf6;_0x16c7c0<-0x12f7+0x1*0x16eb+0x1*-0x3c7;++_0x16c7c0)_0x344647['f_rest_'+_0x16c7c0][_0x4934b9]=_0x53e32a[_0x16c7c0];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x3f646e['map'](_0x354edf=>({'name':_0x354edf,'type':'float','byteSize':0x4,'storage':_0x344647[_0x354edf]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x447bd6,means_u:_0x4802ca,quats:_0xfcb75d,scales:_0x608c86,sh_labels:_0x5094db,numSplats:_0x961959}=this,{device:_0x10a46b}=_0x447bd6,{scope:_0x508952}=_0x10a46b,_0x300acf=$t['createShad'+'er'](_0x10a46b,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x18cea3=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x1f85+0x2dd+0x13f*0x17),'mipLevel':0x0});_0x10a46b['setCullMod'+'e'](bt),_0x10a46b['setBlendSt'+'ate'](pt['NOBLEND']),_0x10a46b['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x508952,{'means_l':_0x447bd6,'means_u':_0x4802ca,'quats':_0xfcb75d,'scales':_0x608c86,'sh_labels':_0x5094db??_0x447bd6,'numSplats':_0x961959}),Ar(_0x10a46b,_0x18cea3,_0x300acf),_0x18cea3['destroy'](),_0x300acf['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x1e3b24,height:_0x208c8b,width:_0x119a3a}=this['means_l'];this['means_l']['_levels'][-0x1*-0x1995+0x1cb*-0x12+0x6b1]=await Ci(this['means_l']),this['means_u']['_levels'][-0xbf9+0x90b+0x2ee]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x1e3b24,{'name':'sogsPacked'+'Texture','width':_0x119a3a,'height':_0x208c8b,'format':Ue,'mipmaps':!(0xc+-0xb47*0x1+0xb3c)}),_0x1e3b24['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x271402=null,_0x28634b=null,_0x2f321e=null,_0xb84f4c=null,_0xa659ed=null,_0x52f4fc=null,_0x234850=null,_0x720c5b=null,_0xd0b4d0=null,_0x1d89a7=null,_0x25232c=null,_0x2d3d8f=null,_0x1d8d14=null,_0x4ce74c=null,_0x334a83=null,_0x8a1866=null,_0x37b341=null,_0x353c9e=null,_0x31724d=null,_0x54e1cc=null,_0xd2b856=null,_0x20da6f=null,_0x893737=null,_0x270387=null,_0x2ecff2=Float32Array['BYTES_PER_'+'ELEMENT'],_0x23128e=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x24f664=-0x153a+0x4*0x2d4+0x36*0x2f,_0x1ae082=!(-0x1*-0x1523+-0x10f1*-0x1+-0x985*0x4),_0x2edc87,_0xdee245,_0xeb7c5={'x':0x0,'y':0x0,'z':0x0},_0x1f68bd={'x':0x0,'y':0x0,'z':0x0},_0x1684dd=!(-0x1c*0x96+0xe3+0xf85),_0x352de9=!(0x20f9+0x1*-0x3c0+0x1*-0x1d39),_0x419585=!(0x21a7+-0xf06+-0x12a0),_0x1b4f55=!(-0x26c3*0x1+-0xb52+0x190b*0x2),_0x156764=-0x19dd+-0x5c*-0x34+0x1*0x72d,_0x397330=-0x5*-0x215+0x10fc+-0x1*0x1b65,_0x3b8f9d=!(-0x134f+-0x25f7*0x1+-0x3947*-0x1),_0xbd89b1=null,_0x172cca=!(0x21a*-0x8+0x15c1+0x4f0*-0x1),_0x3125cc=-0xb4c+0x49*0x2b+-0xd*0x13,_0x1b452e=0x58a+-0x1c6f+0x16e5,_0x1a8b88={'x':0x0,'y':0x0,'z':0x0},_0x4525bc={'x':0x0,'y':0x0,'z':0x0},_0x506184,_0x2099d7;self['onmessage']=async _0x57aa85=>{const {data:_0x3f8c87}=_0x57aa85;switch(_0x3f8c87['type']){case'initWorker':await _0x2776c9(_0x3f8c87['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x24f664=_0x3f8c87['centers']['length']/(0x53d+0x1a5*-0x11+0x1*0x16bb),_0x24f664<=0x1b65+0x112d+-0x46*0xa3||!_0x28634b)return;_0x17190b(),_0x1ae082=_0x3f8c87['is4d'],_0x506184=_0x3f8c87['id'];const _0x28a7a2=_0x2e46c7(_0x24f664);if(_0x5be995(_0x28a7a2),_0x2f321e[-0x1336+-0x3*-0xcfe+-0x13c4]=_0x1a8b88['x'],_0x2f321e[-0xc2a+0xd90+-0x165]=_0x1a8b88['y'],_0x2f321e[0x29*0xc1+-0x609+0x6*-0x425]=_0x1a8b88['z'],_0xb84f4c[0x26*-0x26+-0x1*0x12a+0x86*0xd]=_0x4525bc['x'],_0xb84f4c[0x18b6*-0x1+-0x137c*-0x1+0xd*0x67]=_0x4525bc['y'],_0xb84f4c[-0x7*0x17b+0xaae+0x4f*-0x1]=_0x4525bc['z'],_0x52f4fc&&_0x3f8c87['centers']&&_0x52f4fc['length']===_0x3f8c87['centers']['length']){const _0x1bc21a=new Float32Array(_0x3f8c87['centers']);_0x52f4fc['set'](_0x1bc21a);}if(_0x720c5b&&_0x3f8c87['timeIndex']&&_0x720c5b['length']===_0x3f8c87['timeIndex']['length']){const _0xd0bf03=new Uint32Array(_0x3f8c87['timeIndex']);_0x720c5b['set'](_0xd0bf03);}if(_0x25232c&&_0x3f8c87['motion']&&_0x25232c['length']===_0x3f8c87['motion']['length']){const _0xd57b47=new Float32Array(_0x3f8c87['motion']);_0x25232c['set'](_0xd57b47);}if(_0x1ae082&&_0xd0b4d0&&_0x1d89a7&&_0x3f8c87['muT']&&_0x3f8c87['tScale']&&_0xd0b4d0['length']===_0x3f8c87['muT']['length']&&_0x1d89a7['length']===_0x3f8c87['tScale']['length']&&(_0xd0b4d0['set'](_0x3f8c87['muT']),_0x1d89a7['set'](_0x3f8c87['tScale'])),_0x234850){for(let _0x53a73d=0xfcf+-0xf9a+-0x35*0x1;_0x53a73d<_0x234850['length'];++_0x53a73d)_0x234850[_0x53a73d]=_0x53a73d;}_0xa659ed&&_0x3f8c87['timeOption']&&_0xa659ed['set'](_0x3f8c87['timeOption']),_0x1d7a70(),_0x172cca=!(0x31f*-0xb+0xe29+0x142c),_0x419585=!(0x100b+-0xe*-0x248+0x2ffb*-0x1),_0x3c258a();break;case'setTime':_0x2edc87=_0x3f8c87['time'],_0x3c258a();break;case'setUseTemp'+'oralSort':_0x1684dd=_0x3f8c87['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x352de9=_0x3f8c87['useDynamic'+'Sort'];break;case'sort':if(!_0x2f321e)return;_0x2f321e[0x12f7*-0x2+-0x2103+-0xd*-0x575]=_0x3f8c87['cameraPosi'+'tion']['x'],_0x2f321e[0x51a+-0x795*0x1+0x3*0xd4]=_0x3f8c87['cameraPosi'+'tion']['y'],_0x2f321e[0x21a3+0x607*0x2+-0x2daf]=_0x3f8c87['cameraPosi'+'tion']['z'],_0xb84f4c[-0x20cb+0x16a1+0xa2a]=_0x3f8c87['cameraDire'+'ction']['x'],_0xb84f4c[0x1949+0x1233*-0x2+-0xb1e*-0x1]=_0x3f8c87['cameraDire'+'ction']['y'],_0xb84f4c[0x1*-0xac1+0x4*0x8d2+-0x1885]=_0x3f8c87['cameraDire'+'ction']['z'],_0x1a8b88['x']=_0x3f8c87['cameraPosi'+'tion']['x'],_0x1a8b88['y']=_0x3f8c87['cameraPosi'+'tion']['y'],_0x1a8b88['z']=_0x3f8c87['cameraPosi'+'tion']['z'],_0x4525bc['x']=_0x3f8c87['cameraDire'+'ction']['x'],_0x4525bc['y']=_0x3f8c87['cameraDire'+'ction']['y'],_0x4525bc['z']=_0x3f8c87['cameraDire'+'ction']['z'],_0x3c258a();break;}};const _0x17190b=()=>{_0x397330=Math['max'](0x108d*0x1+-0xac3*0x1+-0x5c0,Math['min'](0x2*0xf5b+0x4*-0x94e+0x696,Math['round'](Math['log2'](_0x24f664/(0x665+-0x1*-0x1b2+-0x813))))),_0x156764=(-0x143+0x127f+-0x113a)**_0x397330+(0xa5*0x34+-0x63f+-0x1b44);},_0x5be995=_0x441994=>{_0x2d3d8f=0x5c9*-0x5+0x7*0x3f8+-0x125*-0x1,_0x1d8d14=_0x2d3d8f+_0x24f664*_0x2ecff2*(-0x1*0x199f+-0x2*-0x107e+-0x1*0x75a),_0x353c9e=_0x1d8d14+(0x1423+-0x17e9+0x42a)*_0x2ecff2*(-0x11e4+-0x1*0x1e43+0x3029),_0x31724d=_0x353c9e+_0x24f664*_0x23128e,_0x54e1cc=_0x31724d+(-0x1d6d+0x5*-0x25b+0x2937)*_0x2ecff2,_0xd2b856=_0x54e1cc+(0x27*-0x8f+-0x4*-0x2a6+-0x4*-0x2cd)*_0x2ecff2,_0x20da6f=_0xd2b856+(-0x349+-0x1303+0x164f)*_0x2ecff2,_0x893737=_0x20da6f+(-0x160*-0x5+0xa86+-0x1163*0x1)*_0x2ecff2,_0x270387=_0x893737+_0x24f664*_0x23128e,_0x52f4fc=new Float32Array(_0x441994,_0x2d3d8f,_0x24f664*(0x3*0x42d+-0xf7b*0x2+-0x626*-0x3)),_0xa659ed=new Float32Array(_0x441994,_0x1d8d14,0xad9*0x3+0x7ef*-0x3+-0x1*0x7f6),_0x234850=new Uint32Array(_0x441994,_0x353c9e,_0x24f664),_0x2f321e=new Float32Array(_0x441994,_0x31724d,0x2700+0x10cf+-0x37cc),_0xb84f4c=new Float32Array(_0x441994,_0x54e1cc,-0x1*0x1269+0x1451*-0x1+-0x2f*-0xd3),_0x1ae082&&(_0x8a1866=_0x270387+_0x156764*_0x23128e,_0x37b341=_0x8a1866+_0x24f664*_0x2ecff2,_0x334a83=_0x37b341+_0x24f664*_0x2ecff2,_0x4ce74c=_0x334a83+_0x24f664*(0x1f99+-0x1fe3*-0x1+-0x3f79)*_0x2ecff2,_0xd0b4d0=new Float32Array(_0x441994,_0x8a1866,_0x24f664),_0x1d89a7=new Float32Array(_0x441994,_0x37b341,_0x24f664),_0x25232c=new Float32Array(_0x441994,_0x334a83,_0x24f664*(0x1c61+-0x216b+0x50d*0x1)),_0x720c5b=new Uint32Array(_0x441994,_0x4ce74c,_0x24f664));},_0x2776c9=async _0xcbd3c1=>{_0x3125cc=-0x48c+0x2c2*-0xb+0x22e3*0x1;const _0x42a033={'env':{'memory':new WebAssembly['Memory']({'initial':_0x3125cc}),'pthread_self':function(){return-0x4*0xe4+0x4a*0xb+-0x1*-0x62;},'emscripten_builtin_memalign':function(){return-0x1*-0x13fe+0x4*-0x2ab+-0x952;},'loggerVec3':(_0x5d43b7,_0x3d7efb,_0x36fc71,_0x278da9)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x5d43b7+']\x200:'+_0x3d7efb+'\x201:'+_0x36fc71+'\x202:'+_0x278da9);},'loggerFloat':(_0x4002c,_0x2be923)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x4002c+']\x20a:'+_0x2be923);},'loggerValue':(_0x454b0e,_0x376e0f,_0xc8576f,_0x3b6639,_0x5e5df0)=>{console['log']('C++\x20logger'+'Value\x20['+_0x454b0e+']\x20minDist:'+_0x376e0f+'\x20maxDist:'+_0xc8576f+'\x20range:'+_0x3b6639+'\x20divider:'+_0x5e5df0);},'loggerCamera':(_0x39b9df,_0x464a84,_0x551d98,_0xacbb9d,_0x361199,_0x4661f2,_0x4d8fe1)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x39b9df+']\x20x:'+_0x464a84+'\x20y:'+_0x551d98+'\x20z:'+_0xacbb9d+'\x20dx:'+_0x361199+'\x20dy:'+_0x4661f2+'\x20dz:'+_0x4d8fe1);},'loggerBound':(_0xdc7aea,_0xf26183,_0x211fdd,_0x51e62a,_0x62ea95,_0x1d66cd)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0xdc7aea+'\x20minY:'+_0xf26183+'\x20minZ:'+_0x211fdd+'\x20maxX:'+_0x51e62a+'\x20maxY:'+_0x62ea95+'\x20maxZ:'+_0x1d66cd);},'loggerDebug':_0x5af10f=>{console['log']('C++\x20logger'+'Debug\x20['+_0x5af10f+']');}}};try{const _0x4a0ad6=await(await fetch(_0xcbd3c1))['arrayBuffe'+'r']();return _0x271402=(await WebAssembly['instantiat'+'e'](_0x4a0ad6,_0x42a033))['instance'],_0x28634b=_0x42a033['env']['memory'],_0x271402;}catch(_0x16157a){throw console['error']('WASM'+':',_0x16157a),_0x16157a;}},_0xe4d71a=_0x3bfb23=>{if(_0x3bfb23<=-0x556+0x21b+-0x33b*-0x1)return-0x2070+-0x1*-0x1e5+0x5*0x61c;let _0x1b15f5=_0x3bfb23*_0x2ecff2*(-0x9*0x232+-0x5b*-0x5c+0x12d*-0xb);_0x1b15f5+=_0x3bfb23*_0x23128e,_0x1b15f5+=(0x25b7*0x1+-0x1*0x1a23+-0xb91)*_0x2ecff2,_0x1b15f5+=(-0x16a2+0x1a*-0x14+0x1*0x18ad)*_0x2ecff2,_0x1b15f5+=(-0x97*0x22+-0x26fe+0xd*0x48b)*_0x2ecff2,_0x1b15f5+=(0x250a+0x1aa8+-0x3faf)*_0x2ecff2,_0x1b15f5+=_0x3bfb23*_0x2ecff2,_0x1b15f5+=_0x156764*_0x23128e,_0x1b15f5+=(0x1*-0x1963+-0xf47+0x41b*0xa)*_0x2ecff2*(0x1fbb+-0x1*0x127e+-0xd3b),_0x1b15f5+=_0x3bfb23*_0x23128e,_0x1ae082&&(_0x1b15f5+=_0x3bfb23*_0x2ecff2,_0x1b15f5+=_0x3bfb23*_0x2ecff2,_0x1b15f5+=_0x3bfb23*_0x2ecff2*(0x672+-0xa80+0x411));const _0x3aa333=(-0x1155+-0x1a21*0x1+0x2bb6*0x1)*(0x2*-0x23e+0xb91+-0x315);return Math['ceil'](_0x1b15f5/_0x3aa333);},_0x2e46c7=_0x308b96=>{const _0x39b46c=_0xe4d71a(_0x308b96);return _0x39b46c>_0x3125cc?(_0x28634b['grow'](_0x39b46c-_0x3125cc),_0x3125cc=_0x39b46c):_0x28634b['grow'](-0x24e6*0x1+0xdbc+0x172a),_0x28634b['buffer'];},_0x1d7a70=()=>{if(!_0x271402)return;const {calcAABB:_0x3119b7}=_0x271402['exports'];_0x3119b7(_0x2d3d8f,_0xd2b856,_0x20da6f,_0x24f664);},_0x3c258a=()=>{_0xbd89b1&&clearTimeout(_0xbd89b1),_0xbd89b1=setTimeout(()=>{_0xbd89b1=null,_0x308e2f();},-0x179*0xd+0x61*0x13+-0x1*-0xbf2);},_0x308e2f=()=>{if(!_0x271402||!_0x172cca||_0x234850['length']!==_0x24f664||_0x353c9e===null||_0x2d3d8f===null||_0x31724d===null||_0x54e1cc===null||_0xd2b856===null||_0x20da6f===null)return;const _0x3ee428=_0x2f321e[0x95*-0x25+0x1*-0x168d+0x273*0x12],_0x146d64=_0x2f321e[0x2153+-0x26a9+0x1*0x557],_0xe7039a=_0x2f321e[-0x1*0x10d4+0x1*-0x26a8+0x377e*0x1],_0x17e2fb=_0xb84f4c[-0x1*0x39f+-0xb7+0x456],_0x26123a=_0xb84f4c[0x425*0x7+0x20cb+-0x3dcd],_0x40050d=_0xb84f4c[0x1c0+0x18a7+-0xe9*0x1d],_0x5b899e=0x1f*-0x2b+0x1b12+0x1d*-0xc1+0.001;if(!_0x419585&&Math['abs'](_0x3ee428-_0xeb7c5['x'])<_0x5b899e&&Math['abs'](_0x146d64-_0xeb7c5['y'])<_0x5b899e&&Math['abs'](_0xe7039a-_0xeb7c5['z'])<_0x5b899e&&Math['abs'](_0x17e2fb-_0x1f68bd['x'])<_0x5b899e&&Math['abs'](_0x26123a-_0x1f68bd['y'])<_0x5b899e&&Math['abs'](_0x40050d-_0x1f68bd['z'])<_0x5b899e&&Math['abs'](_0x2edc87-_0xdee245)<0x1b5e+-0x17f+-0xb3*0x25+0.01)return;if(_0x1b4f55){_0x3b8f9d=!(-0x26cd+0xa79*-0x1+0x3146);return;}_0x1b4f55=!(0x1da7+0x187+-0x1f2e),_0x419585=!(0xc5*-0x25+0x1502+0x778),_0xdee245=_0x2edc87,_0xeb7c5['x']=_0x3ee428,_0xeb7c5['y']=_0x146d64,_0xeb7c5['z']=_0xe7039a,_0x1f68bd['x']=_0x17e2fb,_0x1f68bd['y']=_0x26123a,_0x1f68bd['z']=_0x40050d,_0x3b8f9d=!(0x191d+-0x1933*0x1+-0x1*-0x17);const {sortIndexes:_0x13b915}=_0x271402['exports'];try{const _0x2a88cc=_0x13b915(_0x353c9e,_0x2d3d8f,_0x334a83,_0x8a1866,_0x37b341,_0x31724d,_0x54e1cc,_0xd2b856,_0x20da6f,_0x893737,_0x270387,_0x2edc87||0x5*-0x355+-0x9*0x1d5+0x2126*0x1,_0x1684dd,_0x352de9,_0x1ae082,_0x24f664,_0x156764,_0x397330,_0x1d8d14,_0x4ce74c),_0x586255=new Uint32Array(_0x234850);if(_0x2a88cc===-0x236+0x360+-0x12a){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x2a88cc);}const _0x158fb2=_0x24f664!==_0x1b452e||_0x2099d7!==_0x506184;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x2a88cc,'order':_0x586255,'isNewOrder':_0x158fb2},[_0x586255['buffer']]),_0x1b452e=_0x24f664,_0x2099d7=_0x506184;}catch(_0xfa4600){console['error'](':',_0xfa4600),self['postMessag'+'e']({'type':'error','error':_0xfa4600['message']});}_0x1b4f55=!(-0x1895+-0x34*0xaf+-0x2b*-0x166),_0x3b8f9d&&_0x3c258a();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',0x106d+0x2134+-0x3*0x108b),h(this,'is4d',!(0x1137+-0x8*0x27f+0xf*0x2f)),h(this,'sortStartT'+'ime',-0x16*0x15d+-0x55b+0x2359),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x44683e=>{var _0x160717;if(!this['worker'])return;const {data:_0x25d03c}=_0x44683e;switch(_0x25d03c['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x25d03c['order']&&(_0x25d03c['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x160717=this['orderTextu'+'re'])==null||_0x160717['write'](-0x1741+-0x4*0x3a1+0x25c5,0x221f+0x1391*0x1+-0x35b0,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x2509*-0x1+0x1863+-0x4f*-0x29),_0x25d03c['order']));let _0x2d1f53=0x1020+0x204+-0x1224;this['sortStartT'+'ime']!==-0x6da+-0x4*-0x385+-0x73a&&(_0x2d1f53=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x44683e['data']['count'],_0x2d1f53,_0x25d03c['isNewOrder']),this['sortStartT'+'ime']=0x230c+-0x37f*-0x3+0x1*-0x2d89;break;case'error':console['error']('Worker:',_0x25d03c['error']),this['fire']('error',_0x25d03c['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x211eed,_0x15d36e,_0x344513,_0x574f24,_0x5cf41e,_0x475094,_0x48c55f,_0x4d033f){var _0x32ce9a;this['is4d']=_0x4d033f,this['numSplats']=_0x15d36e['length']/(-0xde2*0x2+0x149*-0x3+0x1fa2),(!_0x48c55f||_0x48c55f['length']===0x1903+-0x1c7*0x5+0x60*-0x2b)&&(_0x48c55f=[-0x21cf*-0x1+0xe*-0x24a+-0x1c3*0x1,-0x8e3+-0x13e1+-0x740*-0x4]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x211eed),this['backOrderT'+'exture']=_0x211eed;const _0x41219b=new Date()['getTime']();(_0x32ce9a=this['worker'])==null||_0x32ce9a['postMessag'+'e']({'type':'initData','centers':_0x15d36e,'muT':_0x344513,'tScale':_0x574f24,'motion':_0x5cf41e,'timeIndex':_0x475094,'timeOption':_0x48c55f,'is4d':_0x4d033f,'id':_0x41219b});}['setCamera'](_0x4be2e1,_0x170b6d){this['worker']&&(!_0x4be2e1||!_0x170b6d||(this['data']['cameraPosi'+'tion']={'x':_0x4be2e1['x'],'y':_0x4be2e1['y'],'z':_0x4be2e1['z']},this['data']['cameraDire'+'ction']={'x':_0x170b6d['x'],'y':_0x170b6d['y'],'z':_0x170b6d['z']},this['sortStartT'+'ime']===0x101*0x3+0x13c2+-0x16c5&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x4be2e1['x'],'y':_0x4be2e1['y'],'z':_0x4be2e1['z']},'cameraDirection':{'x':_0x170b6d['x'],'y':_0x170b6d['y'],'z':_0x170b6d['z']}})));}['setCurrent'+'Time'](_0x1d37f5){this['worker']&&(this['data']['time']=_0x1d37f5,this['sortStartT'+'ime']===0x1b95+0x160f*0x1+-0x161*0x24&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x1d37f5}));}['setUseTemp'+'oralSort'](_0x36ab79){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x36ab79});}['setUseDyna'+'micSort'](_0x3de8a8){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x3de8a8});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0xbb*-0x29+-0xacd+-0x2*-0x1460,0xece*-0x1+-0x1*0x25b3+0x3481];class xC{constructor(_0x449f8c,_0x5caf7a={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x1626+0x32*0x7f+0xa*-0x44),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x3556bd,_0x379a51=void(0x1*0x258b+0xfbf+-0x354a))=>{(_0x379a51||_0x379a51===-0x3*-0x7d5+-0x158+-0x1627)&&(this['material']['setParamet'+'er']('uTime',_0x379a51),this['updateTime'](_0x379a51)),this['sort'](_0x3556bd);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x449f8c['numSplats']),this['resource']=_0x449f8c,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5caf7a['material']?(this['_material']=_0x5caf7a['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x207+-0x92b+0x724)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x13ad+-0x2428+0x37d5,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x124b4f,_0x205f9a,_0x2cc30a,_0x5204a1,_0xa1ab37,_0x36703d,_0x513e01,_0x394d7e,_0x5a9a38,_0x5c2f88,_0x33ffb3;const _0x51106d=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x2db58d=new Float32Array(((_0x205f9a=(_0x124b4f=this['resource']['muT'])==null?void(0x56f*0x3+-0x1*0x97+0x7db*-0x2):_0x124b4f['buffer'])==null?void(0x1370+0x785+0x67*-0x43):_0x205f9a['slice']())??new Float32Array()),_0x75039f=new Float32Array(((_0x5204a1=(_0x2cc30a=this['resource']['tScale'])==null?void(-0x218f+0x5f*-0x2e+0x32a1):_0x2cc30a['buffer'])==null?void(-0x1c4c+0x1*-0x727+0x2373):_0x5204a1['slice']())??new Float32Array()),_0x35445a=new Float32Array(((_0x36703d=(_0xa1ab37=this['resource']['motion'])==null?void(-0x98b*0x3+0x753+0x154e):_0xa1ab37['buffer'])==null?void(-0x25b9+0x12cd+0x12ec):_0x36703d['slice']())??new Float32Array()),_0x4091aa=new Float32Array(((_0x394d7e=(_0x513e01=this['resource']['timeIndex'])==null?void(0x2*-0xc86+-0x17df+-0x1*-0x30eb):_0x513e01['buffer'])==null?void(-0x24a0+-0x1b3b+0x1*0x3fdb):_0x394d7e['slice']())??new Float32Array(0x146b*0x1+0x1c9d+-0xc42*0x4)),_0x1cd8ee=new Float32Array(((_0x5c2f88=(_0x5a9a38=this['resource']['timeOption'])==null?void(-0x2*0x845+0xe4*0x5+0xc16):_0x5a9a38['buffer'])==null?void(0x23f1+-0x173f+0x41*-0x32):_0x5c2f88['slice']())??new Float32Array());(_0x33ffb3=this['sorter'])==null||_0x33ffb3['initData'](this['orderTextu'+'re'],_0x51106d,_0x2db58d,_0x75039f,_0x35445a,_0x4091aa,_0x1cd8ee,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x3f6f07,_0x5e8bd2,_0x4ce870)=>{var _0x420bdb;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x3f6f07/this['resource']['instanceSi'+'ze']),_0x4ce870&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x4ce870&&((_0x420bdb=this['resource'])==null||_0x420bdb['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x3f6f07);}),this['setHighQua'+'litySH'](_0x5caf7a['highQualit'+'ySH']??!(0x26d5+0x1*0x186d+-0x3f41)));}async['updateInst'+'anceData'](_0x4a210d){var _0x40ea91,_0x30e307;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x4a210d['numSplats']),this['resource']=_0x4a210d;const _0x258cf6=this['resource']['evalTextur'+'eSize'](_0x4a210d['centers']['length']/(-0x3e8*0x4+0x9*0x1d8+0x1*-0xf5));return(_0x40ea91=this['backOrderT'+'exture'])==null||_0x40ea91['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x258cf6),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x631+-0x6da*-0x3+-0x1*0xe5d)),(_0x30e307=this['sorter'])==null||_0x30e307['initData'](this['backOrderT'+'exture'],_0x4a210d['centers'],_0x4a210d['muT'],_0x4a210d['tScale'],_0x4a210d['motion'],_0x4a210d['timeIndex'],_0x4a210d['timeOption'],_0x4a210d['is4D']),new Promise(_0x176528=>{var _0x265ef0;const _0x4ee043=(_0x5bd8b6,_0x2efc43,_0x463ed5)=>{var _0x47a19d;_0x463ed5&&((_0x47a19d=this['sorter'])==null||_0x47a19d['off']('updated',_0x4ee043),_0x176528(!(0x2250*-0x1+-0x218c+0x43dc)));};(_0x265ef0=this['sorter'])==null||_0x265ef0['on']('updated',_0x4ee043);});}['destroy'](){var _0xa97c72,_0x165468,_0x5e07a1,_0x1dfcfa,_0x3f2e1b,_0x176cf1;(_0xa97c72=this['resolveSH'])==null||_0xa97c72['destroy'](),(_0x165468=this['material'])==null||_0x165468['destroy'](),(_0x5e07a1=this['meshInstan'+'ce'])==null||_0x5e07a1['destroy'](),(_0x1dfcfa=this['sorter'])==null||_0x1dfcfa['destroy'](),(_0x3f2e1b=this['orderTextu'+'re'])==null||_0x3f2e1b['destroy'](),(_0x176cf1=this['backOrderT'+'exture'])==null||_0x176cf1['destroy']();}set['material'](_0x22f013){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x22f013&&(this['_material']=_0x22f013,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x22f013));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x304af3,_0x1d410e={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x304af3),_0x304af3['setParamet'+'er']('numSplats',0x76*0x39+-0x1b2a+-0x13*-0xc),_0x304af3['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x304af3['setParamet'+'er']('alphaClip',0x2426+-0xa*-0x5b+-0x27b4+0.3),_0x304af3['setDefine']('DITHER_'+(_0x1d410e['dither']?'BLUENOISE':'NONE'),''),_0x304af3['cull']=bt,_0x304af3['blendType']=_0x1d410e['dither']?Cs:Zs,_0x304af3['depthWrite']=!!_0x1d410e['dither'];}['updateView'+'port'](_0x11d336){var _0x683713;const _0x923c3=_0x11d336==null?void(0x21e*-0x1+-0x283+0x3*0x18b):_0x11d336['camera'],_0x1f5a0d=_0x923c3==null?void(0x1*-0x2f9+0xd3*-0x24+0x20a5):_0x923c3['renderTarg'+'et'],{width:_0x4f4a52,height:_0x16a9de}=_0x1f5a0d??this['resource']['device'];Sc[0x1286*-0x1+-0xf*0x1bb+-0x1*-0x2c7b]=_0x4f4a52,Sc[-0x168a+0x25cf*-0x1+-0x1e2d*-0x2]=_0x16a9de;const _0x338b59=(_0x683713=_0x923c3==null?void(0x1*0x1d1a+-0x17*-0x147+-0x1*0x3a7b):_0x923c3['camera'])==null?void(-0xa4*-0x25+0x12c+0x4*-0x638):_0x683713['xr'];_0x338b59!=null&&_0x338b59['active']&&_0x338b59['views']['list']['length']===-0x1d93+0xa4b+0x6*0x337&&(Sc[0x1c*-0x153+0x884+0x724*0x4]*=-0x1314+0x6*-0x4cd+0x6*0x7fb+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x17bb17){if(this['sorter']){const _0x17b368=_0x17bb17['getWorldTr'+'ansform']();_0x17b368['getTransla'+'tion'](Va),_0x17b368['getZ'](Ga);const _0x19c7cc=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x9393eb=vC['invert'](_0x19c7cc);_0x9393eb['transformP'+'oint'](Va,Va),_0x9393eb['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x17bb17);}['update'](){var _0x56f7a0;if(this['cameras']['length']>-0x54*0x2+-0x2309*-0x1+-0x1*0x2261){const _0x352654=this['cameras'][0x1*-0x1b25+-0xba9*-0x3+-0x7d6];this['sort'](_0x352654['_node']),(_0x56f7a0=this['resolveSH'])==null||_0x56f7a0['render'](_0x352654['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x1*-0x1ad1+-0x3*-0x743+0x508;}}['setHighQua'+'litySH'](_0x384e39){const {resource:_0x56295f}=this,{gsplatData:_0xa6dff}=_0x56295f;_0xa6dff instanceof gC&&_0xa6dff['shBands']>0x1eb*0xf+0x5e*0x51+-0x3a83&&_0x384e39===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x56295f['device'],this));}['updateTime'](_0x3ccee2){this['time']=_0x3ccee2;}}class Rv{constructor(_0x16a1f3,_0x3e6d7c){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x17d5+0x20a8+-0x8d3)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x16a1f3,this['gsplatData']=_0x3e6d7c,this['isDestroye'+'d']=!(0x20b5+0xbf*0x16+-0x311e));const _0x4bb28b=-0x2480+-0x117f+0x367f*0x1,_0x1e53f8=Math['ceil'](_0x3e6d7c['numSplats']/_0x4bb28b)*_0x4bb28b/_0x4bb28b,_0x1eea7f=new Uint32Array(_0x1e53f8);for(let _0x299b8e=-0x1*0x1bc4+-0x488+0x204c;_0x299b8e<_0x1e53f8;++_0x299b8e)_0x1eea7f[_0x299b8e]=_0x299b8e*_0x4bb28b;const _0x5e995a=new kt(_0x16a1f3,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x2686+0x16fd*0x1+0x1*-0x3d83)}]),_0x4dcf88=new Float32Array((-0x2*-0x95a+-0x1097+-0x211)*_0x4bb28b),_0xa388d3=new Uint32Array((-0x501+-0x19a1+0x18*0x147)*_0x4bb28b);for(let _0x1703dd=-0x2039*-0x1+0x1cee+-0x3d27;_0x1703dd<_0x4bb28b;++_0x1703dd){_0x4dcf88['set']([-(0xf8c+0x2533+-0x34be),-(0x1*-0x1a3f+-0x3d*-0x4b+0x861),_0x1703dd,-0x1a86+0x1*0x7d7+0x12b0,-(-0x1647+-0x241+-0x23b*-0xb),_0x1703dd,-0x2600+-0x10*-0xf5+0x16b1,0xb*-0xd1+-0xdae+0x6*0x3c7,_0x1703dd,-(-0x1a63+0x813*-0x3+0x10df*0x3),-0x688+-0x21ce+0x17*0x1c1,_0x1703dd],_0x1703dd*(-0x9*-0x202+0x1214*-0x1+0xe*0x1));const _0x154c18=_0x1703dd*(-0x5d4*-0x2+0x93*0x31+-0x27c7);_0xa388d3['set']([0x248f*0x1+-0x2419*0x1+-0x76+_0x154c18,0x39*0x2b+-0x28*-0x15+-0xa*0x149+_0x154c18,0x2da*0x3+-0x18bd+0x1031+_0x154c18,-0xb02+0x78+0x26*0x47+_0x154c18,0xdb3+0x6a1+0x12*-0x121+_0x154c18,-0x13*0x127+-0x1482+0x2a6a+_0x154c18],_0x1703dd*(0x13ee+-0x2f*-0x79+-0x2a1f));}this['mesh']=new Ge(_0x16a1f3),this['mesh']['setPositio'+'ns'](_0x4dcf88,0xfa6+0x9f*-0x1+0x782*-0x2),this['mesh']['setIndices'](_0xa388d3),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x16a1f3,_0x5e995a,_0x1e53f8,{'usage':ms,'data':_0x1eea7f['buffer']});}['updateData'](){var _0x1138ae;const _0x16973b=this['gsplatData'];if(!_0x16973b)return;const _0x39d621=-0x214b+-0x2a1+-0x1c*-0x14d,_0xc73c81=Math['ceil'](_0x16973b['numSplats']/_0x39d621)*_0x39d621/_0x39d621,_0x3c7e6c=new Uint32Array(_0xc73c81);for(let _0x45e940=-0x260d+0x1b1*-0xb+0x31*0x128;_0x45e940<_0xc73c81;++_0x45e940)_0x3c7e6c[_0x45e940]=_0x45e940*_0x39d621;const _0x448ed9=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x26bd+-0x184e+-0xe6f)}]),_0x17ccd5=new Float32Array((0x6bb+0xf7f+-0x162e)*_0x39d621),_0x2d8e91=new Uint32Array((-0x5c*0x1+-0xfc1*-0x2+0xf90*-0x2)*_0x39d621);for(let _0x464297=0x1*0x1b4f+0x1c66+-0xd*0x449;_0x464297<_0x39d621;++_0x464297){_0x17ccd5['set']([-(0x240f+-0x153*0x1+-0x22bb),-(0x1*-0x648+-0x2*0xb3d+0x1cc3),_0x464297,-0x331+0x19f0+-0x2*0xb5f,-(0x751*0x1+0x2417*-0x1+0x1*0x1cc7),_0x464297,0x23*-0xa7+-0xcf7+0x23cd,0x300+0x2f*0x6d+-0x136*0x13,_0x464297,-(0xb99*-0x3+0x37*0x41+0x14d5),0x43c*-0x9+0x1d9a*-0x1+0x5*0xd8b,_0x464297],_0x464297*(0x4a4+-0x46*-0x9+0x25a*-0x3));const _0x36525d=_0x464297*(-0x22a1+0xf4e*0x1+0x1357);_0x2d8e91['set']([0xddd*0x2+0x1f*-0x8f+-0x41*0x29+_0x36525d,-0x25ca+-0x1*0x1abf+0x16*0x2ef+_0x36525d,-0x1c61+-0x196e+-0x35d1*-0x1+_0x36525d,-0xa8a+-0x1379*-0x1+-0x8ef+_0x36525d,-0x463+0x35c+0x109+_0x36525d,0x3*-0x211+-0x1*-0x41b+0x4d*0x7+_0x36525d],_0x464297*(0x1af1+-0x2673+0xb88));}this['mesh']['setPositio'+'ns'](_0x17ccd5,-0x1800+-0x22ed+-0x8*-0x75e),this['mesh']['setIndices'](_0x2d8e91),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x1138ae=this['instanceIn'+'dices'])==null||_0x1138ae['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x448ed9,_0xc73c81,{'usage':ms,'data':_0x3c7e6c['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x3fa573,_0x34eb56,_0x5609f6,_0x63fe70;(_0x3fa573=this['mesh'])==null||_0x3fa573['destroy'](),(_0x34eb56=this['instanceIn'+'dices'])==null||_0x34eb56['destroy'](),(_0x5609f6=this['gsplatData'])==null||_0x5609f6['destroy'](),this['gsplatData']=null,(_0x63fe70=this['gsplatInst'+'ance'])==null||_0x63fe70['destroy'](),this['gsplatInst'+'ance']=void(-0x1a23+0x63d+0x13e6),this['isDestroye'+'d']=!(-0x21da+0xe4b+0x138f),this['mesh']=null;}get['instanceSi'+'ze'](){return-0x24a+0x15f9+-0x132f;}get['numSplats'](){var _0xe1e2bf;return(_0xe1e2bf=this['gsplatData'])==null?void(0x29*0x87+0x4a*0x27+-0x20e5):_0xe1e2bf['numSplats'];}['setSceneIn'+'fo'](_0x21fae0){}['configureM'+'aterial'](_0x3f0b79){}['evalTextur'+'eSize'](_0xa11b77){return J['ZERO'];}['appendGSpl'+'atResource'](_0x2f8862,_0x405631,_0x1b83d8,_0x38dfb7,_0x3a6023){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x1e52a0,_0x5cdc53,_0x12ca57,_0x5be0ba){return new _e(this['device'],{'name':_0x1e52a0,'width':_0x12ca57['x'],'height':_0x12ca57['y'],'format':_0x5cdc53,'cubemap':!(0x1bf+-0x1*0x335+0x177*0x1),'mipmaps':!(0x2*-0x740+-0x1b0d+0x298e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x5be0ba?{'levels':[_0x5be0ba]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x31f946,_0x2cd7c5){return this['gsplatInst'+'ance']=new xC(_0x31f946,_0x2cd7c5),this['gsplatInst'+'ance'];}}async function TC(){const _0x55d11c=new Float32Array(0x1*0x16bd+-0x3e1+-0x12db),_0x4308ac=new Int32Array(_0x55d11c['buffer']);let _0x1aecd4=null,_0x5202e1=null,_0x2b8d11=null,_0x57ca82=null,_0x2840d7=null,_0x57962f=null,_0x1bbe83=null,_0x22718c=null;self['onmessage']=async _0x3a0712=>{const {data:_0x2d0601}=_0x3a0712;switch(_0x2d0601['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x42e407(_0x2d0601['numSplats'],_0x2d0601['shBands'],_0x2d0601['SHData']);break;case'updateColo'+'rData':_0x117853(_0x2d0601['numSplats'],_0x2d0601['cr'],_0x2d0601['cg'],_0x2d0601['cb'],_0x2d0601['ca']);break;case'updateTran'+'sformData':_0x2efeaa(_0x2d0601['numSplats'],_0x2d0601['is4D'],_0x2d0601['x'],_0x2d0601['y'],_0x2d0601['z'],_0x2d0601['rx'],_0x2d0601['ry'],_0x2d0601['rz'],_0x2d0601['rw'],_0x2d0601['mx'],_0x2d0601['my'],_0x2d0601['mz'],_0x2d0601['sx'],_0x2d0601['sy'],_0x2d0601['sz'],_0x2d0601['muT'],_0x2d0601['tScale']);break;case'calcAabb':_0x100eaa(_0x2d0601['numSplats'],_0x2d0601['x'],_0x2d0601['y'],_0x2d0601['z'],_0x2d0601['sx'],_0x2d0601['sy'],_0x2d0601['sz']);break;case'destroyWor'+'ker':_0x58f605();break;}};class _0x1cc3a2{constructor(_0x4d844f=0xbfe+0x1099+0x233*-0xd,_0x753a47=-0x249c+-0x1041+0x34dd,_0x51ff4a=0x2ff+-0x1e0d+0x2*0xd87,_0xcde2d4=-0x551+-0x3d*0x2f+0x1085){this['x']=_0x4d844f,this['y']=_0x753a47,this['z']=_0x51ff4a,this['w']=_0xcde2d4;}['set'](_0x4c9d99,_0x3e72a6,_0x5c0d5a,_0x1c5900){return this['x']=_0x4c9d99,this['y']=_0x3e72a6,this['z']=_0x5c0d5a,this['w']=_0x1c5900,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x528654=this){let _0x35d889=_0x528654['length']();return _0x35d889===-0x1*-0x48d+0x1113+0x15a*-0x10?(this['x']=this['y']=this['z']=-0x952*-0x3+-0x1c47+-0x3*-0x1b,this['w']=0x48*0x7b+-0x20cf+-0x1c8):(_0x35d889=(-0x7*-0x3af+-0x6a+-0x195e)/_0x35d889,this['x']=_0x528654['x']*_0x35d889,this['y']=_0x528654['y']*_0x35d889,this['z']=_0x528654['z']*_0x35d889,this['w']=_0x528654['w']*_0x35d889),this;}['mulScalar'](_0x3fe935,_0x3dce4e=this){return this['x']=_0x3dce4e['x']*_0x3fe935,this['y']=_0x3dce4e['y']*_0x3fe935,this['z']=_0x3dce4e['z']*_0x3fe935,this['w']=_0x3dce4e['w']*_0x3fe935,this;}}const _0x3477bf=_0x11f576=>{_0x55d11c[-0xf43+-0x143e+0x2381]=_0x11f576;const _0x420558=_0x4308ac[0x1bc*0x11+0x20e1*-0x1+0x365];let _0x2f9703=_0x420558>>-0x5f2*-0x4+-0x2377+0xbbf&0x6*-0xc8b+0x129e+0xb8a4,_0x1e7f15=_0x420558>>-0x1d00+0x297+0x1a75&-0x9*0x9+-0x127*-0xa+-0x336;const _0x4284e7=_0x420558>>-0x2063*0x1+-0x27f+-0x1*-0x22f9&0x1*0x1af+0x1190+-0x1240;return _0x4284e7<0x7e2+-0x2*-0xbbd+-0x1ef5?_0x2f9703:_0x4284e7>-0x6c9*0x5+0x4*-0x27a+0x2c63?(_0x2f9703|=0x9e94+0x35*0x416+-0x5*0x323a,_0x2f9703|=(_0x4284e7===-0x14*-0x45+-0x5*0x5dc+0x7d*0x33?-0x1ede+0x8*0x3e4+-0x16*0x3:0x2075+0xde8+-0x2e5c)&&_0x420558&-0x13*0x97071+0xd5c499+0x5d93c9,_0x2f9703):_0x4284e7<-0x2*-0x311+0x109c+-0x21*0xad?(_0x1e7f15|=0x1f*-0xfb+-0x13*0x163+0x2*0x205f,_0x2f9703|=(_0x1e7f15>>-0x351*0x2+-0x233*-0x10+-0x1c1c-_0x4284e7)+(_0x1e7f15>>0x7*0x509+0xc5+-0x2393-_0x4284e7&-0x1*0x184d+-0x8*-0x209+-0x806*-0x1),_0x2f9703):(_0x2f9703|=_0x4284e7-(0x1919*-0x1+-0x30*0xce+0x291*0x19)<<0x2133+0x1*-0x74c+-0x19dd|_0x1e7f15>>0xf56*0x1+-0x24b+-0xd0a*0x1,_0x2f9703+=_0x1e7f15&-0x1ed6+-0x26*-0x56+-0x295*-0x7,_0x2f9703);},_0x100eaa=(_0x47b77b,_0x20e8c2,_0x4ad665,_0x16a0bf,_0x24f446,_0x43c659,_0x1bcf33)=>{let _0x239329=-0x1cee+-0x3d3+0x20c1,_0x23e002=-0x4e4*-0x1+-0x1*-0x1a3c+-0x1f20,_0x98efe4=0x19e*0x1+0x2*0xefd+0x2a2*-0xc,_0x8fdaee=-0x1*0x673+-0x977+0xfea,_0x276e5e=-0x1559*-0x1+-0xe3c+-0x71d,_0x2a398f=-0x8*-0x3ef+0x145d+-0x33d5,_0x1ae6ac=!(-0x1c32+0x1*-0x12bf+0x3d*0xc5);const _0x1f2294=new Float32Array(-0xac1*0x1+-0x42*0x1e+0x1280),_0x29b4b6=new Float32Array(-0x135b+0xa0c+0x952);for(let _0x29c5eb=-0x15fc+-0x189*-0xa+0x6a2;_0x29c5eb<_0x47b77b;++_0x29c5eb){const _0x145adb=_0x20e8c2[_0x29c5eb],_0x5828dc=_0x4ad665[_0x29c5eb],_0x2b76a5=_0x16a0bf[_0x29c5eb],_0x57a327=Math['max'](_0x24f446[_0x29c5eb],_0x43c659[_0x29c5eb],_0x1bcf33[_0x29c5eb]);if(!isFinite(_0x145adb)||!isFinite(_0x5828dc)||!isFinite(_0x2b76a5)||!isFinite(_0x57a327))continue;const _0x394d9e=(-0x1*-0x15e3+-0xbc*-0x1d+-0x2b2d)*Math['exp'](_0x57a327);_0x1ae6ac?(_0x1ae6ac=!(0x13b4+-0x7*0x575+0x80*0x25),_0x239329=_0x145adb-_0x394d9e,_0x23e002=_0x5828dc-_0x394d9e,_0x98efe4=_0x2b76a5-_0x394d9e,_0x8fdaee=_0x145adb+_0x394d9e,_0x276e5e=_0x5828dc+_0x394d9e,_0x2a398f=_0x2b76a5+_0x394d9e):(_0x239329=Math['min'](_0x239329,_0x145adb-_0x394d9e),_0x23e002=Math['min'](_0x23e002,_0x5828dc-_0x394d9e),_0x98efe4=Math['min'](_0x98efe4,_0x2b76a5-_0x394d9e),_0x8fdaee=Math['max'](_0x8fdaee,_0x145adb+_0x394d9e),_0x276e5e=Math['max'](_0x276e5e,_0x5828dc+_0x394d9e),_0x2a398f=Math['max'](_0x2a398f,_0x2b76a5+_0x394d9e));}_0x1ae6ac||(_0x1f2294[-0xf29+0x105*0x7+0x9e*0xd]=(_0x239329+_0x8fdaee)*(0x2417+0x1048+-0x345f+0.5),_0x1f2294[-0x31*-0xd+-0x199d*-0x1+-0x1*0x1c19]=(_0x23e002+_0x276e5e)*(0xcdc+-0x232*0x1+-0xaaa+0.5),_0x1f2294[-0x1f10+0x1*-0x210a+0x401c]=(_0x98efe4+_0x2a398f)*(0x13*-0x16b+-0xfe*0x2+0x5*0x5c9+0.5),_0x29b4b6[-0x1fa1+-0xf7b+0x2f1c]=(_0x8fdaee-_0x239329)*(0x31a+-0x1cdf+0x19c5+0.5),_0x29b4b6[0x1707+0x215+0x1*-0x191b]=(_0x276e5e-_0x23e002)*(-0x1361+0x13a*0x5+-0xd3f*-0x1+0.5),_0x29b4b6[0x1*-0x1395+-0x5f3+0x198a]=(_0x2a398f-_0x98efe4)*(0x1805+-0x2615*0x1+0x1c2*0x8+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x1f2294,'halfExtents':_0x29b4b6});},_0x2efeaa=(_0x21baef,_0x52784e,_0x1178e4,_0x19e3c3,_0x275ad7,_0x161611,_0x19eee1,_0x2e22ce,_0x530c87,_0x498ff4,_0x1448b2,_0x1d8165,_0xa3c9d2,_0x330225,_0x51ee5b,_0x2c3d7c,_0x3c88b4)=>{_0x58f605(),_0x1aecd4=new Float32Array(_0x21baef*(-0x2*0xa47+0xb*-0x22+-0x1607*-0x1)),_0x57ca82=new Float32Array(_0x21baef*(0x1289+-0x1ad5*-0x1+0x1*-0x2d5b)),_0x57962f=new Uint16Array(_0x21baef*(0x230e+0x2507*0x1+-0x4b*0xf6)),_0x2b8d11=new Float32Array(_0x21baef*(0x23fb+-0x1207+-0x11f1*0x1)),_0x52784e&&(_0x2840d7=new Float32Array(_0x21baef*(-0x1924*0x1+0x6a3*0x5+0x2*-0x404)),_0x5202e1=new Float32Array(_0x21baef*(0x2342+-0x1d7b*-0x1+-0x679*0xa)),_0x1bbe83=new Float32Array(_0x21baef*(-0x10a3*-0x1+-0x16*-0x48+-0x10*0x16d)),_0x22718c=new Float32Array(_0x21baef));const _0x49966f=new _0x1cc3a2(0x16fb+-0x8*-0x363+-0x3213,-0x3*0x2bc+0x13*0xe3+-0x1*0x8a5,0xd2a+-0x126f+0x545,-0x1*0x1acf+-0x1*0x2ae+0x1d7d*0x1);for(let _0x459ba2=-0x1*-0x243f+-0xa21*0x1+-0x1a1e;_0x459ba2<_0x21baef;_0x459ba2++)_0x49966f['set'](_0x161611[_0x459ba2],_0x19eee1[_0x459ba2],_0x2e22ce[_0x459ba2],_0x530c87[_0x459ba2]),_0x49966f['normalize'](),_0x49966f['w']<0x2182+0xc65+0x1*-0x2de7&&_0x49966f['mulScalar'](-(0x664+0x1064+0x1*-0x16c7)),_0x57ca82[_0x459ba2*(0xb7b+-0xb6d+-0x1*0xb)+(0x1*-0x1d62+-0x240*-0xe+-0x21e)]=_0x1178e4[_0x459ba2],_0x57ca82[_0x459ba2*(0xa02+0x1db0+0x1*-0x27af)+(-0x6c*0x10+-0x2*-0x652+-0x5e3)]=_0x19e3c3[_0x459ba2],_0x57ca82[_0x459ba2*(-0x1d50+-0xfb2+0x2d05)+(-0x1*-0x113e+0x1850+0x1*-0x298c)]=_0x275ad7[_0x459ba2],_0x1aecd4[_0x459ba2*(-0x1a7a+-0x1871+0x32ee)+(0x30*-0x21+-0x173a+-0x2*-0xeb5)]=_0x1178e4[_0x459ba2],_0x1aecd4[_0x459ba2*(-0x98d+0xbe7+0x1*-0x257)+(-0x1384*-0x1+-0x1c9f+0x91c)]=_0x19e3c3[_0x459ba2],_0x1aecd4[_0x459ba2*(-0x889+0x4*-0x8e4+0x2c1c)+(0x16*-0x44+-0x1006+-0xaf0*-0x2)]=_0x275ad7[_0x459ba2],_0x57962f[_0x459ba2*(0x2100+0x1c5+-0x22c2)+(-0x192a+-0x7*-0x131+0x1*0x10d3)]=_0x3477bf(Math['exp'](_0xa3c9d2[_0x459ba2])),_0x57962f[_0x459ba2*(-0x7a5*-0x1+-0x202a+0x1888)+(-0x26b*0x2+0x1467+-0xf90)]=_0x3477bf(Math['exp'](_0x330225[_0x459ba2])),_0x57962f[_0x459ba2*(-0x5cf*-0x4+0x73a+-0x617*0x5)+(-0x13*0x59+0x1bfe+0xd*-0x1a5)]=_0x3477bf(Math['exp'](_0x51ee5b[_0x459ba2])),_0x2b8d11[_0x459ba2*(0x458*0x2+0xe3*0x14+-0x1a69)+(0x5a*0x33+-0x1*0xa73+-0x77b)]=_0x49966f['x'],_0x2b8d11[_0x459ba2*(-0x3*0xcf1+0x1f0f+0x7c7)+(0x29*0xdf+-0x3*-0x85c+-0x3cca)]=_0x49966f['y'],_0x2b8d11[_0x459ba2*(-0x44b+0x9ca*-0x1+0x2*0x70c)+(0x56*0x19+0x7b*-0xf+-0x12f)]=_0x49966f['z'],_0x52784e&&_0x2840d7&&_0x5202e1&&(_0x2840d7[_0x459ba2*(-0x62b+-0x133*0x13+0x1cf7)+(-0x1912+0x19a3+-0x91)]=_0x498ff4[_0x459ba2],_0x2840d7[_0x459ba2*(-0xa2b*0x1+0x253a+0x4*-0x6c3)+(0x3ab+0x123c+0x15e6*-0x1)]=_0x1448b2[_0x459ba2],_0x2840d7[_0x459ba2*(0x26e3+-0x301+-0x23df)+(-0x4*0x3a4+-0x691+0x305*0x7)]=_0x1d8165[_0x459ba2],_0x1bbe83[_0x459ba2*(-0x1bae+-0x126e+0x2e1f)+(0x1c9e+-0xa4a+0x92a*-0x2)]=_0x498ff4[_0x459ba2],_0x1bbe83[_0x459ba2*(-0x1*0x2675+-0x257a+0x1*0x4bf2)+(0x1*-0x26c2+-0x23f+0x2902)]=_0x1448b2[_0x459ba2],_0x1bbe83[_0x459ba2*(-0x1b41*0x1+-0x128b*-0x2+-0x346*0x3)+(0xf95+-0x338*-0xb+-0x32fb)]=_0x1d8165[_0x459ba2],_0x22718c[_0x459ba2]=_0x3c88b4?Math['exp'](_0x3c88b4[_0x459ba2]):-0x107*-0x1+0x780+-0x3b*0x25,_0x5202e1[_0x459ba2*(0x3*0x377+-0x1a49+0x3b*0x45)+(0x3*0x1cf+-0x16bb+-0x5*-0x376)]=_0x2c3d7c?_0x2c3d7c[_0x459ba2]:0x105e*0x2+0x6b7*0x3+-0x1*0x34e1,_0x5202e1[_0x459ba2*(-0x1*-0x211c+0xe61+-0x2f7a)+(-0x117*-0x11+-0x1197*0x1+0xef*-0x1)]=_0x22718c[_0x459ba2]);const _0x52f533=[_0x1aecd4['buffer'],_0x57ca82['buffer'],_0x57962f['buffer'],_0x2b8d11['buffer']];_0x52784e&&_0x52f533['push'](_0x2840d7['buffer'],_0x5202e1['buffer'],_0x1bbe83['buffer'],_0x22718c['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x1aecd4,'dataPosition':_0x57ca82,'dataScale':_0x57962f,'dataRotation':_0x2b8d11,'dataMotion':_0x2840d7,'dataTime':_0x5202e1,'motion':_0x1bbe83,'tScaleArray':_0x22718c},_0x52f533);},_0x117853=(_0x2850c7,_0x38a4bb,_0x56ca7d,_0x596bb1,_0x5379e4)=>{const _0x146e22=new Uint16Array(_0x2850c7*(-0x2412+0x3*-0x12e+-0x8*-0x4f4)),_0x51ba11=0xb*0x66+0x1240+-0x16a2+0.28209479177387814;for(let _0xd94ecc=0x23a7*0x1+-0x2*-0x126e+-0x4883;_0xd94ecc<_0x2850c7;++_0xd94ecc){const _0x29aba6=_0x38a4bb[_0xd94ecc]*_0x51ba11+(0x14ea+0x2422+-0x3*0x1304+0.5),_0x1d0b81=_0x56ca7d[_0xd94ecc]*_0x51ba11+(-0x1d98+0x7*0x2ae+0xad6+0.5),_0x39d92c=_0x596bb1[_0xd94ecc]*_0x51ba11+(-0xfe*-0xa+-0x1cd2+0x12e6+0.5),_0x5cb697=_0x5379e4[_0xd94ecc];_0x146e22[_0xd94ecc*(0x11ea+0xe13*0x1+-0x1ff9)+(-0x1962+0x35*0x43+-0xb83*-0x1)]=_0x3477bf(_0x29aba6),_0x146e22[_0xd94ecc*(-0x7d*-0x2+0x1*0x7c3+-0x7*0x13f)+(0x1c*-0x8d+-0x18*-0x141+-0xeab)]=_0x3477bf(_0x1d0b81),_0x146e22[_0xd94ecc*(-0x2*0x137b+-0xe*-0x15d+-0x4*-0x4f9)+(0xa99*0x3+-0x20*0x95+-0xd29)]=_0x3477bf(_0x39d92c),_0x146e22[_0xd94ecc*(0xf88+-0x32e+-0xc56)+(0x16f*-0x1+-0x15f9+0x6d*0x37)]=_0x3477bf(_0x5cb697);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x146e22});},_0x42e407=(_0x111033,_0x1bd404,_0x388021)=>{const _0x232834=new Uint32Array(_0x111033*(0xb7f*-0x1+0x1*0x3cb+-0x1*-0x7b8)),_0x422188=new Uint32Array(_0x111033*(-0x5*-0x74c+-0x1f02+-0x3*0x1d2)),_0x195c15=new Uint32Array(_0x111033*(0x1959+-0x76d+-0x47a*0x4)),_0x2128bd=new Uint32Array(_0x111033*(0x118d*0x1+-0x11d+-0x4*0x41b)),_0x1dec62={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1bd404],_0x4426a6=_0x388021,_0x3190ca=-0x94c+0x1be*-0x8+0x1f3b,_0x2337ac=0x144*-0x13+-0x2*-0x676+0x229*0x7,_0x327603=new Float32Array(0x1c7d+-0x1c9f+-0x5*-0x7),_0x9a78fa=new Uint32Array(_0x327603['buffer']),_0x29e2e9=new Array(_0x1dec62*(-0x7a8*0x2+0x1144+0x1*-0x1f1))['fill'](-0x799+0x302+0x497);for(let _0x10b054=0x2*-0xdf+0x1*0x1321+0x1163*-0x1;_0x10b054<_0x111033;++_0x10b054){for(let _0x21d800=-0x2*0x192+0x1ee7*-0x1+0x5*0x6cf;_0x21d800<_0x1dec62;++_0x21d800)_0x29e2e9[_0x21d800*(-0x5a5*0x6+-0x3b9*0x1+0x259a)]=_0x4426a6[_0x21d800][_0x10b054],_0x29e2e9[_0x21d800*(-0x1*-0x1121+0x240+0x9af*-0x2)+(-0x211e+0xf1f+0x1200)]=_0x4426a6[_0x21d800+_0x1dec62][_0x10b054],_0x29e2e9[_0x21d800*(-0x2479+0x251a+0x9e*-0x1)+(0x2*-0x12b3+0xb*-0x2db+0x44d1)]=_0x4426a6[_0x21d800+_0x1dec62*(-0x460+-0x2*0xdbf+0x1fe0)][_0x10b054];let _0x3a277a=_0x29e2e9[0x1*-0x301+-0xe0d+0x110e];for(let _0x32408b=-0x1c23+-0xafc+-0x4e4*-0x8;_0x32408b<_0x1dec62*(0x4ce+-0x5bc+0xf1);++_0x32408b)_0x3a277a=Math['max'](_0x3a277a,Math['abs'](_0x29e2e9[_0x32408b]));if(_0x3a277a!==0x1104+0xb0c+-0x4*0x704){for(let _0x4ac126=0x26f*-0xe+-0x1d*-0x71+0x1545;_0x4ac126<_0x1dec62;++_0x4ac126)_0x29e2e9[_0x4ac126*(-0x26f9*0x1+-0xb9f+0x329b*0x1)+(0x1f1e+-0x6+-0x1f18)]=Math['max'](0x623*0x5+-0x15b2*0x1+-0x8fd,Math['min'](_0x3190ca,Math['floor']((_0x29e2e9[_0x4ac126*(-0x2e5+0xb3*-0x9+0x933)+(-0x173*-0x1+0x2285+0x47f*-0x8)]/_0x3a277a*(-0x1*-0x427+-0x1*0x2063+0x1c3c+0.5)+(0x2569+-0x21aa+-0x3bf*0x1+0.5))*_0x3190ca+(0x195b+-0x23c8+0xa6d+0.5)))),_0x29e2e9[_0x4ac126*(-0x102a+0x179*-0xd+-0x6*-0x5e3)+(0x11b3*-0x2+0xb78+0x17ef)]=Math['max'](0x1cac+-0x1773+-0x539,Math['min'](_0x2337ac,Math['floor']((_0x29e2e9[_0x4ac126*(-0x1e16*0x1+0x3b*0x65+0x6*0x123)+(-0x1e14+0x6bb+-0x7*-0x356)]/_0x3a277a*(-0x96a+0x4ba*0x7+-0x3f2*0x6+0.5)+(-0x1ee4+-0x234a+-0x56*-0xc5+0.5))*_0x2337ac+(0x4a6+0x3ad*-0x7+0x1515+0.5)))),_0x29e2e9[_0x4ac126*(0x1*-0x1d35+0xd6*-0x16+0x17ce*0x2)+(0x8c9+-0x9*0x7+-0x888)]=Math['max'](-0x1bd9+0x1e6e+-0x295,Math['min'](_0x3190ca,Math['floor']((_0x29e2e9[_0x4ac126*(-0xc23+-0x469+0x1b*0x9d)+(0x14a1+-0x1*0x2659+0x11ba)]/_0x3a277a*(0x84b+0xf0d+-0x18*0xf9+0.5)+(0x9e*-0x15+0x6a*0x1f+0x20+0.5))*_0x3190ca+(0x183c+-0x3d*-0x57+-0x2cf7+0.5))));_0x327603[-0x101*0x12+-0x1c7b+-0x2e8d*-0x1]=_0x3a277a,_0x232834[_0x10b054*(0x1f*0x99+0x1*-0xd01+0x8d*-0xa)+(-0x5*0x7a+0x2*-0x35d+0x91c)]=_0x9a78fa[0x885+-0x2422+0x1b9d*0x1],_0x232834[_0x10b054*(0x1e*0x127+-0x7df+-0x129*0x17)+(0xb64+-0x93a+-0x229)]=_0x29e2e9[-0x78b*0x1+0x1e02+-0x77d*0x3]<<-0x2594+0x22d2*-0x1+0x5*0xe7f|_0x29e2e9[0x10b3+0xe7*-0x1b+-0x97*-0xd]<<-0x627+-0x1*0x104d+0x167f*0x1|_0x29e2e9[-0x4*0x622+0xe5a*0x2+-0x42a],_0x232834[_0x10b054*(-0x34*0x44+-0x2350+-0xa*-0x4ea)+(0x390+0x25*0xbf+-0x3*0xa63)]=_0x29e2e9[-0x302+0x24ed+-0x21e8]<<0x1959+0x193d+-0x7*0x737|_0x29e2e9[0x9f0*-0x2+0x1e45*-0x1+0x3229]<<0x49*0x6b+0x3*-0xa4c+-0x9*-0xc|_0x29e2e9[-0xcf*0x2d+-0x7*-0x3a+0x1169*0x2],_0x232834[_0x10b054*(-0x1*0xd55+0x1091*0x1+0x8*-0x67)+(0x685+-0x412*-0x9+0x1f6*-0x16)]=_0x29e2e9[-0xcee+0x38+-0x65e*-0x2]<<-0x476+-0x2c6+-0x1*-0x751|_0x29e2e9[0x1a5a*-0x1+0x779+0x5*0x3c8]<<0x1606+-0x1efb+0x900|_0x29e2e9[0x1*0x17b1+0x1*0xae5+0x2*-0x1147],_0x1bd404>-0x91f+-0x3da+0xcfa&&(_0x422188[_0x10b054*(0x47*0x6+0x7*-0x121+0x641)+(0x85f*0x4+0x14f8+-0x3674)]=_0x29e2e9[0x7d0+0x129c+0x547*-0x5]<<-0x256+-0x3*-0x38d+-0x83c|_0x29e2e9[-0x4ff*0x2+-0x6b4+0x10bc]<<-0x1*0xe35+0x919*-0x4+0x39e*0xe|_0x29e2e9[-0x40d+0x1c9e+-0x2*0xc43],_0x422188[_0x10b054*(0x1d4d+0x2*-0xa5d+-0x88f)+(-0x32*0x76+-0xd79+0x2*0x1243)]=_0x29e2e9[-0xfb*0x13+-0x599+0x1846]<<-0x3fa+-0xb45+0xf54|_0x29e2e9[0x1*-0x1cdf+0x279+0x1a73]<<-0x9*0x7+-0x3*0x2ba+0x878|_0x29e2e9[0x2628+-0x2707+-0x3*-0x4f],_0x422188[_0x10b054*(0xd5+-0x791*-0x1+-0x3a*0x25)+(-0x45*0x2f+-0x25ca+0x3277)]=_0x29e2e9[0x3*0xa07+-0xd3*-0x7+-0x77*0x4d]<<-0x54*0x3a+0x1*-0xf4d+-0x5*-0x6e2|_0x29e2e9[-0x24d9+-0x1a24+0x3f0d]<<-0x286+0x24c2*0x1+-0x1*0x2231|_0x29e2e9[-0x2194+0x129f*-0x2+0x46e3],_0x422188[_0x10b054*(-0x40e*-0x1+-0x11*-0xec+-0x13b6)+(0x174c+-0xb6b+-0xbde)]=_0x29e2e9[0x206+0x1*-0x7b3+-0x5bf*-0x1]<<-0x41*-0x1+0x6a*0x51+0x10db*-0x2|_0x29e2e9[-0x2*-0xc84+0x74f*0x3+-0x2ee2]<<0x1bbd+0xe9c+-0x2a4e|_0x29e2e9[-0x16ab+0xe3*0x1e+0x2f*-0x15],_0x1bd404>-0xd89+-0x1060+-0x1deb*-0x1?(_0x195c15[_0x10b054*(-0x1*0xfc4+-0xaf8+0x1ac0)+(0x2*-0x1345+-0x21b4+0x483e)]=_0x29e2e9[0x21*0x77+-0x1*0x1e0e+0x1*0xecc]<<0x1*-0x1113+-0x6fc+0x1824|_0x29e2e9[0x211*0xe+0xb*0x209+-0x333b]<<-0x78*-0x4a+0x1*0x3d+-0x22e2|_0x29e2e9[-0x14bd+-0x2126+0x35fa],_0x195c15[_0x10b054*(-0x1455+0x13d3+-0x2*-0x43)+(0x1e*0xd7+-0xed5+-0xa5c)]=_0x29e2e9[0x5*-0x445+-0x71*-0x4a+-0xb39]<<0x12de+0x17aa+-0x1*0x2a73|_0x29e2e9[-0x2b*-0x3d+-0x230+-0x3fb*0x2]<<0xf63+0x13*0x129+0x1*-0x2563|_0x29e2e9[0x2235+-0x1*-0x232f+-0x454a],_0x195c15[_0x10b054*(0xbf9+-0x48b*-0x2+-0x1*0x150b)+(-0xb6e+0x2f*-0x19+-0x1*-0x1007)]=_0x29e2e9[0x1f7*-0xd+0x66a+-0x4*-0x4cf]<<0x383+0x4f6*0x7+-0x2628|_0x29e2e9[-0x1*-0x11ac+-0x1fdc+0xe4c]<<-0x25*0x2b+-0x9c4+0x1006|_0x29e2e9[-0x1*0x1447+-0x2193+-0x11fd*-0x3],_0x195c15[_0x10b054*(-0x1*0x2285+0xe75+0xa0a*0x2)+(-0x16fb+-0x1fd+0x18fb)]=_0x29e2e9[-0x3*0xc0d+-0x5*-0x1+0x740*0x5]<<0x25e3+0x29*0x17+-0x297d|_0x29e2e9[-0x12e*0x9+0x12fc+-0x83f]<<-0x2*0xe37+-0x43*0x1d+0x2410|_0x29e2e9[0xf0d+-0x5b3*-0x6+-0x1*0x311f],_0x2128bd[_0x10b054*(-0x2273+0x22e0+-0x69)+(-0x65d*-0x5+0x5af*0x2+0x1*-0x2b2f)]=_0x29e2e9[0x1*-0x2e7+-0x1127+0x142f]<<-0x736+0x4f*0x41+-0xcc4|_0x29e2e9[0x3*0xc13+0x1126+-0x353d]<<-0x1b+0xea9+-0xe83|_0x29e2e9[0x1482+-0xb*-0x26e+-0x1*0x2f19],_0x2128bd[_0x10b054*(0x27*-0xf3+-0x1be5+0x1*0x40ee)+(0x2622+-0x2*0x509+-0xb*0x28d)]=_0x29e2e9[0x21cf+-0x1607*-0x1+0x2*-0x1bd9]<<-0xefb+0x14fb+-0x5eb|_0x29e2e9[-0xc45+-0x1879+0x47*0x85]<<-0x24e*0xc+0x586*0x5+-0x3*-0x7|_0x29e2e9[-0x14ec+-0x10*-0x47+-0x2*-0x851],_0x2128bd[_0x10b054*(0x5*-0x3f7+0x224d*-0x1+-0xd89*-0x4)+(-0x161c+0x1c0e+-0xbe*0x8)]=_0x29e2e9[-0x7*0x2f9+-0xe8+-0x3a5*-0x6]<<0x409*-0x1+-0x23e8+0x2806|_0x29e2e9[0x3b5+0x2*-0x1115+0x1e9d]<<-0x1*0x1a5d+0xd*0x297+-0x743|_0x29e2e9[-0x2b*-0x1+-0x1*0x3d9+0x3d7],_0x2128bd[_0x10b054*(-0x797*0x2+-0x2*-0x3d7+-0x34*-0x25)+(0x21dc+0x31*-0xa1+0x4*-0xc2)]=_0x29e2e9[-0x25ad+-0x211c+0x46f3]<<-0x76*-0xd+-0x401*0x1+-0x1e8|_0x29e2e9[-0x406*0x9+-0x1edd*-0x1+0x584]<<-0x191*-0xf+0x1*-0x162e+-0x146|_0x29e2e9[-0xb3a+0x648+0x51e]):_0x195c15[_0x10b054]=_0x29e2e9[0x11a2+0xbe*-0x11+0x1*-0x4ef]<<-0x1*0xfde+0x12*-0x1fa+-0x3387*-0x1|_0x29e2e9[0x1*0x1fcd+0xa6f*-0x1+0x2*-0xaa4]<<-0x1175+-0x24f1+0x3671|_0x29e2e9[-0x1*0x222+-0x22fe+-0x2537*-0x1]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x232834,'sh4to7Data':_0x422188,'sh8to11Data':_0x195c15,'sh12to15Data':_0x2128bd}},[_0x232834['buffer'],_0x422188['buffer'],_0x195c15['buffer'],_0x2128bd['buffer']]);},_0x58f605=()=>{_0x1aecd4=null,_0x5202e1=null,_0x2b8d11=null,_0x57ca82=null,_0x2840d7=null,_0x57962f=null,_0x1bbe83=null,_0x22718c=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x1975fa,_0x512eaa,_0x1637a7){_0x1975fa['onmessage']=_0x1411d9=>{if(!this['worker'])return;const {data:_0x171145}=_0x1411d9;if(_0x171145['type']===_0x512eaa)switch(_0x512eaa){case'updatedSHD'+'ata1':_0x1637a7(_0x171145['data']);break;case'updatedCol'+'orData':_0x1637a7(_0x171145['data']);break;case'updatedTra'+'nsformData':_0x1637a7(_0x171145);break;case'updatedAab'+'bData':_0x1637a7(_0x171145);break;}};}['updateSHDa'+'ta1'](_0x444414,_0x390de9,_0x17d7d2){var _0x11f273;return(_0x11f273=this['worker'])==null||_0x11f273['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x444414,'shBands':_0x390de9,'SHData':_0x17d7d2}),new Promise(_0x498de7=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1ab4ce=>{_0x498de7(_0x1ab4ce);});});}async['updateColo'+'rData'](_0x3c88dc,_0x278d45,_0x504cee,_0x200c2d,_0x33e34c){var _0x1f62aa;return(_0x1f62aa=this['worker'])==null||_0x1f62aa['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x3c88dc,'cr':_0x278d45,'cg':_0x504cee,'cb':_0x200c2d,'ca':_0x33e34c}),new Promise(_0x3c3c28=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x1ff5e6=>{_0x3c3c28(_0x1ff5e6);});});}async['calcAabb'](_0x5449b6,_0x3978d1,_0x13fa47,_0x5a499d,_0x25486b,_0x597e28,_0x4351be){var _0x424c04;const _0x16de08=new Float32Array(_0x3978d1),_0x53c683=new Float32Array(_0x13fa47),_0x1544df=new Float32Array(_0x5a499d),_0x565571=new Float32Array(_0x25486b),_0x151398=new Float32Array(_0x597e28),_0x1cf1eb=new Float32Array(_0x4351be);return(_0x424c04=this['worker'])==null||_0x424c04['postMessag'+'e']({'type':'calcAabb','numSplats':_0x5449b6,'x':_0x16de08,'y':_0x53c683,'z':_0x1544df,'sx':_0x565571,'sy':_0x151398,'sz':_0x1cf1eb},[_0x16de08['buffer'],_0x53c683['buffer'],_0x1544df['buffer'],_0x565571['buffer'],_0x151398['buffer'],_0x1cf1eb['buffer']]),new Promise(_0x40fce6=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x1db964=>{_0x40fce6(_0x1db964);});});}async['updateTran'+'sData'](_0x3de520,_0x3963b6,_0x274542,_0x19000d,_0x3c8bc5,_0x33386a,_0xe6a51a,_0x3efbca,_0xc850e8,_0x5cfa83,_0x4fe400,_0x4c8f89,_0x2e1008,_0x532aa5,_0x31988b,_0x106500,_0x38b4c7){var _0x5299e7;return(_0x5299e7=this['worker'])==null||_0x5299e7['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x3de520,'is4D':_0x3963b6,'x':_0x274542,'y':_0x19000d,'z':_0x3c8bc5,'rx':_0x33386a,'ry':_0xe6a51a,'rz':_0x3efbca,'rw':_0xc850e8,'mx':_0x5cfa83,'my':_0x4fe400,'mz':_0x4c8f89,'sx':_0x2e1008,'sy':_0x532aa5,'sz':_0x31988b,'muT':_0x106500,'tScale':_0x38b4c7}),new Promise(_0x47bcf1=>{const _0x46d814=_0x43aa43=>{_0x47bcf1(_0x43aa43);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x46d814);});}['destroy'](){var _0x3400a3;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x3400a3=this['worker'])==null||_0x3400a3['terminate'](),this['worker']=null);}};const vg=(_0x4bbff1,_0x3b7216)=>{const _0x2fe716=[];for(let _0x4b023a=0x76d+-0x3*-0x958+-0x2375;_0x4b023a<_0x3b7216;++_0x4b023a)_0x2fe716['push'](_0x4bbff1['getProp']('f_rest_'+_0x4b023a));return _0x2fe716;};class EC extends Rv{constructor(_0x2ffb59,_0x1b25c7){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x2ffb59,_0x1b25c7),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x79*-0xb+0x443*0x5+0x101b*-0x1)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x831*-0x4+0xcde+-0x2d9d);}async['updateData'](){var _0x4d6b2d,_0x4d540e,_0x165480,_0x14dcbb,_0x17d101,_0x50a907,_0x1e4cf8,_0x304064,_0xe207d3,_0x19e44c,_0x56e4b6;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x19bdd2=this['gsplatData'];if(!_0x19bdd2)return;this['is4D']=_0x19bdd2['is4D'];const _0x3e38fb=await this['getTransfo'+'rmDataByWo'+'rker'](_0x19bdd2);this['aabb']=new De(),await _0x19bdd2['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x3e38fb['centers'],this['motion']=_0x3e38fb['motion'],this['tScale']=_0x3e38fb['tScaleArra'+'y'],this['muT']=await _0x19bdd2['getMuT'](),this['timeIndex']=await _0x19bdd2['getTimeInd'+'ex']();const _0x3dc91f=this['evalTextur'+'eSize'](_0x19bdd2['numSplats']);this['colorTextu'+'re']?((_0x4d6b2d=this['colorTextu'+'re2'])==null||_0x4d6b2d['destroy'](),(_0x4d540e=this['transformA'+'Texture2'])==null||_0x4d540e['destroy'](),(_0x165480=this['transformB'+'Texture2'])==null||_0x165480['destroy'](),(_0x14dcbb=this['transformR'+'Texture2'])==null||_0x14dcbb['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3dc91f),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3dc91f),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3dc91f),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3dc91f),this['is4D']&&((_0x17d101=this['transformM'+'otionTextu'+'re2'])==null||_0x17d101['destroy'](),(_0x50a907=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x50a907['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3dc91f),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3dc91f))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x3dc91f),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x3dc91f),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x3dc91f),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x3dc91f),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x3dc91f),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x3dc91f),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x3dc91f),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x3dc91f),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x3dc91f),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x3dc91f),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x3dc91f),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x3dc91f))),await this['updateColo'+'rData'](_0x19bdd2),await this['updateTran'+'sformFromD'+'ata'](_0x3e38fb),this['shBands']=_0x19bdd2['shBands'],this['shBands']>0x2b*0x40+0x8fc+-0x13bc&&(this['sh1to3Text'+'ure']?((_0x1e4cf8=this['sh1to3Text'+'ure2'])==null||_0x1e4cf8['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3dc91f),this['shBands']>0x23cd+-0x151*0x4+0x1*-0x1e88&&((_0x304064=this['sh4to7Text'+'ure2'])==null||_0x304064['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3dc91f),this['shBands']>-0x244c*-0x1+-0x89c*-0x2+-0x3582?((_0xe207d3=this['sh8to11Tex'+'ture2'])==null||_0xe207d3['destroy'](),(_0x19e44c=this['sh12to15Te'+'xture2'])==null||_0x19e44c['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3dc91f),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3dc91f)):((_0x56e4b6=this['sh8to11Tex'+'ture2'])==null||_0x56e4b6['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3dc91f)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x3dc91f),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x3dc91f),this['shBands']>0x5c*0x2c+0x21e*0x4+0x235*-0xb&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x3dc91f),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x3dc91f),this['shBands']>0x17aa+-0x2627+-0x4d5*-0x3?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x3dc91f),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x3dc91f),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x3dc91f),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x3dc91f)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x3dc91f),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x3dc91f)))),await this['updateSHDa'+'taByWorker'](_0x19bdd2));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x5f28a9){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x5f28a9}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x5e2b80,_0x537633,_0x5b93c0,_0x18b6be,_0x59ead0){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x5e2b80,'timeOption':_0x537633,'loadedTime':_0x5b93c0,'asset':_0x18b6be,'events':_0x59ead0}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x7*-0x12d+0x2*0x60d+-0x3df);try{for(;this['appendQueu'+'e']['length']>0xdb8+-0x194+-0xc24;){const _0x10d3d6=this['appendQueu'+'e']['shift']();_0x10d3d6['type']==='append'?await this['processApp'+'endTask'](_0x10d3d6['data']):_0x10d3d6['type']==='release'&&await this['processRel'+'easeTask'](_0x10d3d6['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x1ef5+-0x2427*0x1+0x533);}}}async['processRel'+'easeTask'](_0x548747){const {index:_0x4a1b93}=_0x548747;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x4a1b93),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x4a1b93);}async['processApp'+'endTask'](_0x230562){var _0xe8813e;const {gsplatData:_0x5c898f,timeOption:_0x5ca1db,loadedTime:_0x1ef481,asset:_0x1c60d4,events:_0x48f523}=_0x230562;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x5ca1db,await this['gsplatData']['appendGSpl'+'atData'](_0x5c898f,_0x1ef481,_0x5ca1db),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x407*0x3+0xb08+0x10f),_0x5c898f['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x5c898f['numSplats'])['toFixed'](-0x25fb+-0x248a+0x4a88)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x34c+-0x1*0x24a6+0x215c),_0x5c898f['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0xe8813e=this['gsplatInst'+'ance'])==null||_0xe8813e['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0xa4c+0x24f4+-0x2f3e),_0x5c898f['numSplats']),this['asset']=_0x1c60d4,this['assetsMana'+'gerLoadedT'+'ime']=_0x1ef481,this['events']=_0x48f523);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x2d1fed;const _0x2a3ded=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x2a3ded),(_0x2d1fed=this['asset'])==null||_0x2d1fed['fire']('setAssetsL'+'oaded',_0x2a3ded);}['destroy'](){var _0x191066,_0x2a4338,_0x1f15b6,_0x26710c,_0x211e99,_0x40df15,_0x19c6ad,_0xb154c2,_0x5e4add,_0x110de2,_0x5e39c3,_0x5c8c03,_0x3e6392,_0x42b8b9,_0x31d982,_0x146a69,_0x2b6c11,_0xa7ccb3,_0x43fa42,_0x478476,_0x263f69;(_0x191066=this['updateData'+'Worker'])==null||_0x191066['destroy'](),this['updateData'+'Worker']=void(-0x1223+0x60b*-0x5+-0x80f*-0x6),(_0x2a4338=this['colorTextu'+'re'])==null||_0x2a4338['destroy'](),(_0x1f15b6=this['transformA'+'Texture'])==null||_0x1f15b6['destroy'](),(_0x26710c=this['transformB'+'Texture'])==null||_0x26710c['destroy'](),(_0x211e99=this['transformR'+'Texture'])==null||_0x211e99['destroy'](),(_0x40df15=this['transformM'+'otionTextu'+'re'])==null||_0x40df15['destroy'](),(_0x19c6ad=this['transformL'+'ifecycleTe'+'xture'])==null||_0x19c6ad['destroy'](),(_0xb154c2=this['sh1to3Text'+'ure'])==null||_0xb154c2['destroy'](),(_0x5e4add=this['sh4to7Text'+'ure'])==null||_0x5e4add['destroy'](),(_0x110de2=this['sh8to11Tex'+'ture'])==null||_0x110de2['destroy'](),(_0x5e39c3=this['sh12to15Te'+'xture'])==null||_0x5e39c3['destroy'](),(_0x5c8c03=this['colorTextu'+'re2'])==null||_0x5c8c03['destroy'](),(_0x3e6392=this['transformA'+'Texture2'])==null||_0x3e6392['destroy'](),(_0x42b8b9=this['transformB'+'Texture2'])==null||_0x42b8b9['destroy'](),(_0x31d982=this['transformR'+'Texture2'])==null||_0x31d982['destroy'](),(_0x146a69=this['transformM'+'otionTextu'+'re2'])==null||_0x146a69['destroy'](),(_0x2b6c11=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x2b6c11['destroy'](),(_0xa7ccb3=this['sh1to3Text'+'ure2'])==null||_0xa7ccb3['destroy'](),(_0x43fa42=this['sh4to7Text'+'ure2'])==null||_0x43fa42['destroy'](),(_0x478476=this['sh8to11Tex'+'ture2'])==null||_0x478476['destroy'](),(_0x263f69=this['sh12to15Te'+'xture2'])==null||_0x263f69['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x4763f2){var _0x14aabc,_0x132cb6,_0x2f4491,_0x19dc07,_0x412204,_0x41d370,_0x13d73b,_0x48b600,_0x512049,_0x233c4b,_0x535fae,_0x45c086,_0x17d097;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x20f38a=((_0x14aabc=_0x4763f2['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x1083+-0x1dea*-0x1+-0x2e6d):_0x14aabc['data'])??-0x149c+0x9*0x1a2+0x5ea,_0x3a195a=((_0x132cb6=_0x4763f2['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x123c+-0x787*0x3+0x35*0x15):_0x132cb6['data'])??0x24e0+-0x79c*0x2+-0x15a7,_0x1724f2=((_0x2f4491=_0x4763f2['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1*-0xcb5+-0x1*0xf18+-0x287*-0xb):_0x2f4491['data'])??0x12b5+0xee6+-0x16*0x187,_0x1a6790=((_0x19dc07=_0x4763f2['getParamet'+'er']('uHueOffset'))==null?void(0xaa8+-0xec8+-0x8*-0x84):_0x19dc07['data'])??-0x15e7+0xb*0x2b1+-0x7b4,_0x1ee0f9=((_0x412204=_0x4763f2['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x3*-0xbdf+-0x1c3f+-0x75e):_0x412204['data'])??-0x992*-0x1+-0x478+-0x51a,_0x43eb61=((_0x41d370=_0x4763f2['getParamet'+'er']('uOpacity'))==null?void(-0xa6a+-0x6e1*-0x5+-0x17fb):_0x41d370['data'])??0x1*-0x1bf5+0x155b+-0x69b*-0x1,_0x5f0c44=((_0x13d73b=_0x4763f2['getParamet'+'er']('clrOffset'))==null?void(-0x1737+-0x2*-0x51b+0xd01):_0x13d73b['data'])??[0x1dc5+-0x65*-0x52+-0x3e1f,0x26d1+-0x53*0x77+-0xa*0x6,0x89a*0x1+0x17cc*0x1+-0x2066,0xeb3+-0x959*0x1+-0x559],_0x139f79=((_0x48b600=_0x4763f2['getParamet'+'er']('clrScale'))==null?void(0x165c+0x2686+0x3ce2*-0x1):_0x48b600['data'])??[-0x1f87+-0x1*0x94+0x201c,-0x445+0x34f*-0x1+0x795,-0x1302+0xaf4+0x80f,-0x9e9*0x3+0x1fc1+0xb*-0x2f],_0x222fab=((_0x512049=_0x4763f2['getParamet'+'er']('uShapeN'))==null?void(0x2f8*0x1+-0x28*-0x9+-0x460):_0x512049['data'])??0xe2f*-0x1+-0x2589+0x33b8,_0x2aa34b=((_0x233c4b=_0x4763f2['getParamet'+'er']('mode'))==null?void(-0x21fb+0x3*-0xbda+0x4589):_0x233c4b['data'])??-0x1*0x1c55+-0x2*-0x202+0x1851,_0x1586a8=((_0x535fae=_0x4763f2['getParamet'+'er']('ringSize'))==null?void(-0x229+0x5*-0x72f+0x2614):_0x535fae['data'])??-0x16ac*0x1+0x3*-0x209+0x1cc7,_0x453379=((_0x45c086=_0x4763f2['defines'])==null?void(0x1634+-0x1b*0x17+-0x13c7):_0x45c086['get']('uOpenAnim'))??'0',_0x5774bf=((_0x17d097=_0x4763f2['defines'])==null?void(0x3*-0x1ed+0x12ad*-0x1+0x1874):_0x17d097['get']('uControlCo'+'lorMode'))??'0';_0x4763f2['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x4763f2['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x4763f2['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x4763f2['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x4763f2['setParamet'+'er']('uSplatScal'+'e',_0x3a195a),_0x4763f2['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x20f38a),_0x4763f2['setParamet'+'er']('uSaturatio'+'n',_0x1724f2),_0x4763f2['setParamet'+'er']('uHueOffset',_0x1a6790),_0x4763f2['setParamet'+'er']('uInvertOpa'+'city',_0x1ee0f9),_0x4763f2['setParamet'+'er']('uOpacity',_0x43eb61),_0x4763f2['setParamet'+'er']('clrOffset',_0x5f0c44),_0x4763f2['setParamet'+'er']('clrScale',_0x139f79),_0x4763f2['setParamet'+'er']('uShapeN',_0x222fab),_0x4763f2['setParamet'+'er']('mode',_0x2aa34b),_0x4763f2['setParamet'+'er']('ringSize',_0x1586a8),_0x4763f2['setParamet'+'er']('prerenderC'+'Time',0xb7+-0x15*0xc5+-0x526*-0x3),_0x4763f2['setParamet'+'er']('renderSpac'+'e',0xe00+0x1*0xc4d+0x1b*-0xf9),_0x4763f2['setParamet'+'er']('endSpace',0x1*-0x842+0x10af+0x863*-0x1),_0x4763f2['setDefine']('uOpenAnim',_0x453379),_0x4763f2['setDefine']('uControlCo'+'lorMode',_0x5774bf),this['transformM'+'otionTextu'+'re']&&_0x4763f2['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x4763f2['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x4763f2['setDefine']('SH_BANDS',this['shBands']),_0x4763f2['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x4763f2['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x4763f2['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x4763f2['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x4763f2['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x37d269){const _0x52628c=Math['ceil'](Math['sqrt'](_0x37d269)),_0x43bf41=Math['ceil'](_0x37d269/_0x52628c);return new J(_0x52628c,_0x43bf41);}async['updateColo'+'rData'](_0x6b69a8){var _0x236bf6;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x4d76d2=this['colorTextu'+'re2'];if(!_0x4d76d2||this['isDestroye'+'d'])return;const _0x151f46=_0x6b69a8['getProp']('f_dc_0'),_0x2efb87=_0x6b69a8['getProp']('f_dc_1'),_0x20fdfe=_0x6b69a8['getProp']('f_dc_2'),_0x1c61b7=_0x6b69a8['getProp']('opacity');let _0x4a5fae=(_0x236bf6=_0x6b69a8['transformD'+'ata'])==null?void(-0x2*-0x23+0x2*0x12cc+0x25*-0x106):_0x236bf6['dataColor'];_0x4a5fae||(_0x4a5fae=await this['updateData'+'Worker']['updateColo'+'rData'](_0x6b69a8['numSplats'],_0x151f46,_0x2efb87,_0x20fdfe,_0x1c61b7)),await this['idleUpdate'+'TexturePro'+'mise'](_0x4d76d2,_0x4a5fae);}async['getTransfo'+'rmDataByWo'+'rker'](_0xfb87c0){var _0x38161c;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x38161c=_0xfb87c0['transformD'+'ata'])!=null&&_0x38161c['dataCenter'+'s'])return{'centers':_0xfb87c0['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xfb87c0['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xfb87c0['transformD'+'ata']['dataScale'],'dataRotation':_0xfb87c0['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xfb87c0['transformD'+'ata']['dataMotion'],'dataTime':_0xfb87c0['transformD'+'ata']['dataTime'],'motion':_0xfb87c0['transformD'+'ata']['motion'],'tScaleArray':_0xfb87c0['transformD'+'ata']['tScaleArra'+'y']};const _0x1a7c5=_0xfb87c0['getProp']('x'),_0x5be911=_0xfb87c0['getProp']('y'),_0x13b0ae=_0xfb87c0['getProp']('z'),_0x5a6732=_0xfb87c0['getProp']('rot_1'),_0x67d957=_0xfb87c0['getProp']('rot_2'),_0x498778=_0xfb87c0['getProp']('rot_3'),_0x441243=_0xfb87c0['getProp']('rot_0'),_0x7b1c16=_0xfb87c0['getProp']('motion_0'),_0x40e67a=_0xfb87c0['getProp']('motion_1'),_0x28111f=_0xfb87c0['getProp']('motion_2'),_0x53f758=_0xfb87c0['getProp']('scale_0'),_0x9eb0ec=_0xfb87c0['getProp']('scale_1'),_0x5135ca=_0xfb87c0['getProp']('scale_2'),_0x14e9b1=_0xfb87c0['getProp']('t'),_0x110696=_0xfb87c0['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xfb87c0['numSplats'],this['is4D'],_0x1a7c5,_0x5be911,_0x13b0ae,_0x5a6732,_0x67d957,_0x498778,_0x441243,_0x7b1c16,_0x40e67a,_0x28111f,_0x53f758,_0x9eb0ec,_0x5135ca,_0x14e9b1,_0x110696);}async['updateTran'+'sformFromD'+'ata'](_0x57cbda){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x57cbda['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x57cbda['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x57cbda['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x57cbda['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x57cbda['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4c0d1a,_0x478244){if(!this['isDestroye'+'d'])return new Promise(_0x3817c7=>{requestIdleCallback(()=>{const _0x314935=_0x4c0d1a['lock']();_0x314935==null||_0x314935['set'](_0x478244),_0x4c0d1a['unlock'](),_0x3817c7(!(-0x3cb*-0x3+-0x1bc1+0x1060));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x21142f){var _0x12a9ab,_0x354755,_0x5c28ea,_0x424d10;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x70cd19=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3435fc=this['transformA'+'Texture']['lock'](),_0x8183c1=this['transformR'+'Texture']['lock'](),_0x25000c=this['transformB'+'Texture']['lock'](),_0x18b6ec=(_0x12a9ab=this['transformM'+'otionTextu'+'re'])==null?void(-0x196e+-0x48c+0x1dfa):_0x12a9ab['lock'](),_0x4bfeb6=(_0x354755=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x698+-0xad9*0x3+0x19f3):_0x354755['lock'](),_0x13c9f9=new D(),_0x1e5890=new le(),_0x595854=new D(),_0x3ddee2=new D(),_0x5f01fc=_0x21142f['createIter'](_0x13c9f9,_0x1e5890,_0x595854,null,_0x3ddee2),_0x4715f9=_0x21142f['getProp']('t'),_0x491049=_0x21142f['getProp']('t_scale');for(let _0x543229=-0xb*-0x26a+-0x1*0x3a9+0x16e5*-0x1;_0x543229<_0x21142f['numSplats'];_0x543229++)_0x5f01fc['read'](_0x543229),_0x1e5890['normalize'](),_0x1e5890['w']<-0x1a87+-0x1bb6+-0xad9*-0x5&&_0x1e5890['mulScalar'](-(0x1*0x116b+-0x2*0xa2+-0x1026)),_0x3435fc[_0x543229*(0x1bea+-0x7*0x10f+-0x147e)+(0x239b*0x1+-0x15a*0x1+-0x2241)]=_0x13c9f9['x'],_0x3435fc[_0x543229*(0x1df1+-0x3*0x61f+-0xb91)+(0x98b*-0x4+0x13bf+0x937*0x2)]=_0x13c9f9['y'],_0x3435fc[_0x543229*(0xe*0x1eb+-0x21fb+0x724)+(0x9b4+-0xbeb+-0x1*-0x239)]=_0x13c9f9['z'],_0x25000c[_0x543229*(0x53a+-0xbd+-0x47a)+(0x2*-0x6d2+0x1ce4*-0x1+0x2a88)]=_0x70cd19(_0x595854['x']),_0x25000c[_0x543229*(-0x226+0x1135+-0x12*0xd6)+(0x1*0x25b3+-0x62*-0x49+-0x41a4)]=_0x70cd19(_0x595854['y']),_0x25000c[_0x543229*(0x319*-0x1+-0x5b9+0x11*0x85)+(0x1*0xfc5+-0x20e+0x13f*-0xb)]=_0x70cd19(_0x595854['z']),_0x8183c1[_0x543229*(0x27*0xad+0x1b43*0x1+-0x359b*0x1)+(-0x487*-0x1+-0x1*0x156e+-0x1*-0x10e7)]=_0x1e5890['x'],_0x8183c1[_0x543229*(-0x182+-0x2430*0x1+0x1*0x25b5)+(0xcf6+-0x7f*-0x3d+-0x567*0x8)]=_0x1e5890['y'],_0x8183c1[_0x543229*(0x2344+0x1*-0x1a02+-0x93f)+(-0x2*0xe5a+-0x14e4+-0x319a*-0x1)]=_0x1e5890['z'],this['is4D']&&_0x18b6ec&&_0x4bfeb6&&(_0x18b6ec[_0x543229*(-0x3ac+0x1*0x22ab+-0x6*0x52a)+(0x4*0x14d+-0x2*-0x44f+0x1*-0xdd2)]=_0x3ddee2['x'],_0x18b6ec[_0x543229*(0x121*-0xb+0x21db+-0x449*0x5)+(-0x1791+0x1e5d+-0x6cb)]=_0x3ddee2['y'],_0x18b6ec[_0x543229*(0x21e7+0x779*-0x1+-0x1a6b)+(0x6cd+-0xc79+0x5ae)]=_0x3ddee2['z'],_0x4bfeb6[_0x543229*(-0x265*-0xb+0x142f+-0x2e83)+(-0xb53*0x3+-0x15*-0x6b+0x1932)]=_0x4715f9?_0x4715f9[_0x543229]:0x2*0x6fb+0xa1*0x7+0x125d*-0x1,_0x4bfeb6[_0x543229*(0x5*-0x797+-0xe49+0x343f)+(0x2b3*0x2+0x3a*-0x83+0x1849)]=_0x491049?Math['exp'](_0x491049[_0x543229]):-0x11a5*0x1+-0x1f4d*-0x1+-0x8*0x1b5);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x5c28ea=this['transformM'+'otionTextu'+'re'])==null||_0x5c28ea['unlock'](),(_0x424d10=this['transformL'+'ifecycleTe'+'xture'])==null||_0x424d10['unlock']();}async['updateSHDa'+'ta'](_0x37ff79){var _0x2fb4c9,_0x56cafa,_0x408597,_0x2228e5,_0x371b2c,_0x420f4a,_0x4f1c67,_0x446e4e;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x16a724=(_0x2fb4c9=this['sh1to3Text'+'ure2'])==null?void(-0x26fe+-0x5*-0x3af+0x1493):_0x2fb4c9['lock'](),_0x573ae9=(_0x56cafa=this['sh4to7Text'+'ure2'])==null?void(0x12b8+0x1ae4*0x1+-0x1c*0x1a1):_0x56cafa['lock'](),_0x197905=(_0x408597=this['sh8to11Tex'+'ture2'])==null?void(0x8cc+0xf85+0xf*-0x19f):_0x408597['lock'](),_0x2a441c=(_0x2228e5=this['sh12to15Te'+'xture2'])==null?void(0x10*-0x1f6+0xbbb*-0x3+0x4291):_0x2228e5['lock'](),_0x45f057={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x4a5ef8=vg(_0x37ff79,_0x45f057*(0x87e*0x4+0x1*0x1eda+-0x40cf)),_0x39f525=-0x1a71+-0x25ac*-0x1+-0x33c,_0x202674=0x6b*0x2e+-0x11d*0x3+-0xbe4,_0x5ec02d=new Float32Array(0x13*0x115+-0x2566+0x10d8),_0xc6e04d=new Uint32Array(_0x5ec02d['buffer']),_0xf23c4f=new Array(_0x45f057*(0x1009+-0x8*0x22+-0xef6))['fill'](-0x1d97+-0x900+0x2697);for(let _0xc45d33=-0x1c19+0x2267+0x3*-0x21a;_0xc45d33<_0x37ff79['numSplats'];++_0xc45d33){for(let _0x4c12cc=-0xe78+-0x22*-0x3d+0x65e;_0x4c12cc<_0x45f057;++_0x4c12cc)_0xf23c4f[_0x4c12cc*(0x1*-0xb51+0x174c+0xbf8*-0x1)]=_0x4a5ef8[_0x4c12cc][_0xc45d33],_0xf23c4f[_0x4c12cc*(-0x61b*0x6+-0xe*-0x281+0x197)+(0x3a*-0xa6+0x1a6e+0x7*0x199)]=_0x4a5ef8[_0x4c12cc+_0x45f057][_0xc45d33],_0xf23c4f[_0x4c12cc*(0x23ff+0x555*0x5+-0x3ea5)+(0x5e7*0x4+0xae1+-0x227b)]=_0x4a5ef8[_0x4c12cc+_0x45f057*(0x5f9+0x257e*-0x1+0x1f87)][_0xc45d33];let _0x2e59da=_0xf23c4f[-0x1*-0x17bc+-0xd06*0x1+-0x3*0x392];for(let _0x57daf4=0x1*0x1573+0x26cc+-0x3c3e;_0x57daf4<_0x45f057*(0x266d*0x1+-0x1cb6*0x1+-0x9b4);++_0x57daf4)_0x2e59da=Math['max'](_0x2e59da,Math['abs'](_0xf23c4f[_0x57daf4]));if(_0x2e59da!==0x4c9*-0x2+-0x2213+0x2ba5){for(let _0x4ffa04=0x210+0x1*0x1581+0x1*-0x1791;_0x4ffa04<_0x45f057;++_0x4ffa04)_0xf23c4f[_0x4ffa04*(-0x251c*-0x1+-0x49*0x79+-0x298*0x1)+(-0x1c6d+-0xf80*0x2+0x3b6d)]=Math['max'](-0x7f*0x1+0xb8b+-0xb0c,Math['min'](_0x39f525,Math['floor']((_0xf23c4f[_0x4ffa04*(-0xa1c+0xf*0x158+-0xa09)+(0x1c09+-0x121f+-0x9ea)]/_0x2e59da*(0x71*0x27+-0xb*0xbf+-0x902+0.5)+(-0x2b7*0xb+-0x1fef+-0x14*-0x317+0.5))*_0x39f525+(-0x23d7+0x3*-0x515+0x1a*0x1f7+0.5)))),_0xf23c4f[_0x4ffa04*(0x107+0x9*-0x216+-0x2*-0x8e1)+(0x1*-0x1355+0x66*0x21+0x10*0x63)]=Math['max'](-0x1c19+-0x1256+0x2e6f*0x1,Math['min'](_0x202674,Math['floor']((_0xf23c4f[_0x4ffa04*(0x1cb3*0x1+0xb3c+-0x27ec)+(0x15*-0x2d+0x1851+-0x149f)]/_0x2e59da*(-0xa*0x166+0x7*0x2d5+-0x41*0x17+0.5)+(0x1*-0x8e9+0x18*0x136+0x7*-0x2e1+0.5))*_0x202674+(0x24dd*-0x1+0x4e*-0x27+0x30bf+0.5)))),_0xf23c4f[_0x4ffa04*(-0x1802*-0x1+-0x12d4+-0x9*0x93)+(-0x1084+-0x1bcb*-0x1+-0xb45*0x1)]=Math['max'](0xdcd+0xa92+-0x185f,Math['min'](_0x39f525,Math['floor']((_0xf23c4f[_0x4ffa04*(-0x8e1+0x4eb*-0x7+-0xd*-0x355)+(-0x1*-0x6ad+-0x198c+0x9*0x219)]/_0x2e59da*(0x2*-0x779+-0x1*0x61b+0x150d+0.5)+(0x1*0x944+-0x14e*-0x4+-0xe7c+0.5))*_0x39f525+(-0x4*-0x1f3+0x500+-0xccc+0.5))));_0x5ec02d[0x2459+0x1599+-0x39f2]=_0x2e59da,_0x16a724[_0xc45d33*(0x31*-0x9+0x1013+-0x2*0x72b)+(0x25b7+-0x1489+-0x112e)]=_0xc6e04d[-0x1cb5*0x1+-0x2*0x114a+0x3f49],_0x16a724[_0xc45d33*(0x1da+-0x724+-0x7*-0xc2)+(-0xa29+-0x4e*0x79+0x2f08)]=_0xf23c4f[-0x1*0x19a3+0x222+0x1781]<<-0x1*-0x2507+-0x25*0x2c+0x1*-0x1e96|_0xf23c4f[0x2f2*-0xa+-0x465*-0x1+-0x191*-0x10]<<0x1608+-0x4e*-0x3+-0x16e7|_0xf23c4f[-0x1eb0+-0x208c+0x3f3e],_0x16a724[_0xc45d33*(0x1731+-0x7*0x4cb+0xa60)+(-0x1a1d+0x1534+-0x4eb*-0x1)]=_0xf23c4f[0x1*-0x1441+-0x1d88+0x31cc]<<0xd3*0x2+0xe88+-0x1019|_0xf23c4f[-0x839+-0x186d+0x20aa]<<-0x8f0+0x494+-0x7*-0xa1|_0xf23c4f[-0x21f1*0x1+0x6*-0x560+0x4236],_0x16a724[_0xc45d33*(0x1*0x73+-0x1c83+-0x2*-0xe0a)+(-0x20a3+-0x1*-0x1a89+0x5*0x139)]=_0xf23c4f[0x1*0x302+0x7*0x4b1+-0x23d3*0x1]<<-0x862+-0x1ede+0x2755|_0xf23c4f[-0xa22+-0x436+-0xd*-0x11b]<<-0x1*0x96d+0xce+0x8aa|_0xf23c4f[-0xe1b+-0x11f7+0x496*0x7],this['shBands']>-0xc57*-0x3+0x1*-0x9cf+-0x3e3*0x7&&(_0x573ae9[_0xc45d33*(0xd81*-0x1+0x12ad+-0x1b8*0x3)+(0x1d41+0x4*0x7b1+-0x3c05*0x1)]=_0xf23c4f[-0xa50+-0x9bd+0x1416]<<0x19cf+-0x1*0x1910+-0xaa|_0xf23c4f[0x2178+0xaad*-0x1+-0x16c1]<<-0x934+-0xa91+0x10*0x13d|_0xf23c4f[-0x3ce*0x5+-0x1105+0x2*0x120b],_0x573ae9[_0xc45d33*(0x1a5c+-0x20f8+0x8*0xd4)+(-0x2383*-0x1+0x2*-0x373+-0x1c9c)]=_0xf23c4f[-0x11*0x149+0x11e8+0x3fd*0x1]<<-0x1a9+0x5*0x2f6+-0xd10|_0xf23c4f[0x7f4+0x2186+0x5eb*-0x7]<<-0xa99+-0xbb*-0x13+0x1*-0x33d|_0xf23c4f[0x176*0x9+-0x2b*-0x43+-0x1859],_0x573ae9[_0xc45d33*(0x1e7d+-0x1*0x235d+0x2*0x272)+(0x3f*0x58+-0xc13*0x2+0x280)]=_0xf23c4f[0x1d42+0x2*-0x7e4+-0xd6b]<<-0xe*0xbb+0x1beb+-0x119c|_0xf23c4f[-0x494+0x1a1+-0x303*-0x1]<<0x9c9+0x11d1+-0x1b8f*0x1|_0xf23c4f[0x112a*-0x1+0x533+0xc08],_0x573ae9[_0xc45d33*(0x18d*-0x17+0x1b19*-0x1+-0x38*-0x11f)+(-0x8bd+-0x5*-0x56e+-0x1266)]=_0xf23c4f[0x1285+-0x6*0x399+-0x323*-0x1]<<0x1495*0x1+0x13f9+-0x1*0x2879|_0xf23c4f[-0xb*0x2c6+-0x2*0x5ff+0x2a93]<<0x2a9+0x4b*0x2f+-0x1063|_0xf23c4f[0x23aa+-0x784*-0x3+-0x3a22],this['shBands']>0xf1*0x10+-0x322*-0x1+0x10*-0x123?(_0x197905[_0xc45d33*(0x931+0x1c9*0x11+-0x13c3*0x2)+(0x410+0xca3*-0x3+0x21d9)]=_0xf23c4f[0x19a9+0x6ec*0x1+-0x2080]<<-0x865+0x14d2+-0xc58|_0xf23c4f[-0xcd4+0x2276+-0x158c]<<-0x125*0x7+-0x47f+0xc8d|_0xf23c4f[0x1*-0x1f55+-0x23*0x1b+0x231d*0x1],_0x197905[_0xc45d33*(0x14f7+0x529*0x1+-0x22d*0xc)+(0x1*-0x1d75+0x1*0x989+0x13ed)]=_0xf23c4f[-0x5*-0x7d+-0x23d+-0x1c]<<0x1b*-0xcf+0x1*0x52+-0x2b3*-0x8|_0xf23c4f[0x1feb*0x1+-0x3*0x7ca+-0x874]<<0x8f*-0x32+-0x153f+0x3138|_0xf23c4f[0x25d7*-0x1+0x773*0x4+0x825],_0x197905[_0xc45d33*(-0x3a9+0x15*-0x61+0xba2)+(-0x24d3+0x268d*-0x1+0x4b62)]=_0xf23c4f[0x1f2f+-0xf9f+0x527*-0x3]<<-0x151e+-0x1c71+0x31a4|_0xf23c4f[0x25f*0xd+-0x36f*-0x6+0x97*-0x57]<<0xa*0x22c+-0x1*0x188a+-0x2dd*-0x1|_0xf23c4f[0x2*0x109d+-0xd1*-0x5+0x45*-0x8a],_0x197905[_0xc45d33*(0xfe1+-0x5*0x217+-0x56a)+(0xe0+-0x56c+-0x48f*-0x1)]=_0xf23c4f[0x623*-0x1+-0x7*-0x119+-0x16e]<<-0x1004+-0xb*-0x34+-0x15*-0xa9|_0xf23c4f[-0x2b*0x7f+-0x15d*0x11+-0x19*-0x1c9]<<0x2196+-0x35*0x13+-0x767*0x4|_0xf23c4f[0x984+-0x3f*-0x49+-0x1b5b],_0x2a441c[_0xc45d33*(-0x3a5+-0x1*0x1c22+0x1fcb)+(-0xb0*0x8+-0x2677*-0x1+-0x20f7)]=_0xf23c4f[0x2564+0x2*0x8e1+-0x3705]<<-0x195*-0x2+0x2339+-0x264e|_0xf23c4f[-0x24b*-0xc+-0x83a+0x1*-0x1328]<<-0x1d1d*0x1+0xb6a+-0x2f5*-0x6|_0xf23c4f[0x515*-0x2+-0xc*0x115+0x1749],_0x2a441c[_0xc45d33*(0x2c8+0x1*0x1c64+-0x1f28)+(0x151d+-0xbee+-0x92e)]=_0xf23c4f[-0x3*-0x41+-0x13c1+0x1322]<<-0x15*-0x44+0xb3c+-0x10bb|_0xf23c4f[0x18ce+0x1f*-0xbc+0x1e5*-0x1]<<0x99+-0x1a0f+0x1981*0x1|_0xf23c4f[-0x610*-0x4+-0xe*0x2ad+0x39*0x3c],_0x2a441c[_0xc45d33*(0x22bc+-0x1183*-0x2+-0x45be)+(0x18eb+-0x28*0x54+-0x7*0x1af)]=_0xf23c4f[-0x2429*-0x1+0x34*0x59+-0x3616]<<-0x230c+-0xe78+0x3199|_0xf23c4f[0x1630+-0x1*-0x4b3+-0x1abb]<<-0x5*-0x1a3+-0x3*0x33a+0x18a|_0xf23c4f[-0x230d+0x4fc*0x5+0xa4a],_0x2a441c[_0xc45d33*(0x162f+-0x1*0x2239+0xc0e)+(-0x131e+-0x4c5+-0x142*-0x13)]=_0xf23c4f[0x253a+0x1777+-0x3c87]<<0x1*-0x15eb+0x13ab+0x255|_0xf23c4f[-0x1*0xeed+0x2*0x4d9+-0x2*-0x2b3]<<-0x2036+0x991*-0x1+0x29d2*0x1|_0xf23c4f[-0x3ab*-0x1+-0x1317+0xf98]):_0x197905[_0xc45d33]=_0xf23c4f[0x10f3*0x1+-0x21b0+-0x10d2*-0x1]<<-0x1737+0x1430+0x31c|_0xf23c4f[-0x1*0x18fd+-0x23e1+-0x1e7a*-0x2]<<0x99b*-0x1+-0x169a+-0xac0*-0x3|_0xf23c4f[-0x326+0x1f71+-0x1c34]);}}(_0x371b2c=this['sh1to3Text'+'ure2'])==null||_0x371b2c['unlock'](),(_0x420f4a=this['sh4to7Text'+'ure2'])==null||_0x420f4a['unlock'](),(_0x4f1c67=this['sh8to11Tex'+'ture2'])==null||_0x4f1c67['unlock'](),(_0x446e4e=this['sh12to15Te'+'xture2'])==null||_0x446e4e['unlock']();}async['updateSHDa'+'taByWorker'](_0x2400a4){var _0x2afc62,_0x15a651,_0x451cf9,_0x526451,_0x243432;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x5f2442={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x28e287,_0xbf6ec6,_0x41b43b,_0x570a55;if((_0x2afc62=_0x2400a4['transformD'+'ata'])!=null&&_0x2afc62['sh1to3Data'])_0x28e287=(_0x15a651=_0x2400a4['transformD'+'ata'])==null?void(-0x10a4+0xe9b*-0x1+0x1f3f):_0x15a651['sh1to3Data'],_0xbf6ec6=(_0x451cf9=_0x2400a4['transformD'+'ata'])==null?void(0x229b+-0x1b39+-0x762):_0x451cf9['sh4to7Data'],_0x41b43b=(_0x526451=_0x2400a4['transformD'+'ata'])==null?void(0x1a8d+0x2b*0x2c+-0x21f1):_0x526451['sh8to11Dat'+'a'],_0x570a55=(_0x243432=_0x2400a4['transformD'+'ata'])==null?void(-0x1*-0xe6b+0x59*-0x46+0x1*0x9eb):_0x243432['sh12to15Da'+'ta'];else{const _0x44e2eb=vg(_0x2400a4,_0x5f2442*(0x2577+0x1ec1*0x1+-0x13*0x397)),_0x34484c=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x2400a4['numSplats'],this['shBands'],_0x44e2eb);_0x28e287=_0x34484c['sh1to3Data'],_0xbf6ec6=_0x34484c['sh4to7Data'],_0x41b43b=_0x34484c['sh8to11Dat'+'a'],_0x570a55=_0x34484c['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x28e287),this['shBands']>0x22f+-0x2347+0x2119&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0xbf6ec6),this['shBands']>-0x11d9+0x5a0*0x1+0xc3b?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x41b43b),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x570a55)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x41b43b));}}async function bC(){const _0x27b717=new Float32Array(-0x7f*0x15+-0x4d*0x23+0x14f3*0x1);new Int32Array(_0x27b717['buffer']);let _0x2f6c16=null,_0x51e2d5=null,_0x626c12=null,_0x16368e=null,_0x218c96=null,_0x2349c0=null,_0x13c643=null,_0x148d84=null;self['onmessage']=async _0x125b34=>{const {data:_0x521968}=_0x125b34;switch(_0x521968['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x4290f2(_0x521968['numSplats'],_0x521968['shBands'],_0x521968['SHData']);break;case'updateTran'+'sformData':_0x4277b9(_0x521968['numSplats'],_0x521968['is4D'],_0x521968['position'],_0x521968['rotation'],_0x521968['motion'],_0x521968['scale'],_0x521968['muT'],_0x521968['tScale']);break;case'destroyWor'+'ker':_0x559abb();break;}};const _0x4277b9=(_0xdd256f,_0x322aa8,_0x361243,_0x28e1f1,_0x2eece8,_0x17abef,_0x116437,_0x48c68d)=>{_0x559abb(),_0x322aa8&&(_0x51e2d5=new Float32Array(_0xdd256f*(-0x261f*0x1+0x1*-0xde2+0x3404)),_0x148d84=new Float32Array(_0xdd256f),_0x218c96=new Float32Array(_0x2eece8['buffer']['slice']()),_0x13c643=new Float32Array(_0x2eece8['buffer']['slice']())),_0x16368e=new Float32Array(_0x361243['buffer']['slice']()),_0x2f6c16=new Float32Array(_0x361243['buffer']['slice']()),_0x2349c0=new Uint16Array(_0x17abef['buffer']['slice']()),_0x626c12=new Float32Array(_0x28e1f1['buffer']['slice']());for(let _0x446302=-0x110e+0x1c51*-0x1+-0x5*-0x913;_0x446302<_0xdd256f;_0x446302++)_0x322aa8&&_0x51e2d5&&(_0x148d84[_0x446302]=_0x48c68d?Math['exp'](_0x48c68d[_0x446302]):-0x23df+-0x294+-0x11*-0x243,_0x51e2d5[_0x446302*(0x1d88*-0x1+-0x820+0x25ab)+(-0x313*-0x2+-0x112b+0xb05)]=_0x116437?_0x116437[_0x446302]:-0x1e0a+-0xc27+0x2a31*0x1,_0x51e2d5[_0x446302*(-0x9b3*-0x2+-0x1*0x3e5+-0xf7e)+(-0x1*0x1952+0x4d3+0x1480)]=_0x148d84[_0x446302]);const _0x533536=[_0x2f6c16['buffer'],_0x16368e['buffer'],_0x2349c0['buffer'],_0x626c12['buffer']];_0x322aa8&&_0x533536['push'](_0x218c96['buffer'],_0x51e2d5['buffer'],_0x13c643['buffer'],_0x148d84['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x2f6c16,'dataPosition':_0x16368e,'dataScale':_0x2349c0,'dataRotation':_0x626c12,'dataMotion':_0x218c96,'dataTime':_0x51e2d5,'motion':_0x13c643,'tScaleArray':_0x148d84},_0x533536);},_0x4290f2=(_0x55cfb5,_0x466356,_0x29b89b)=>{const _0x4f64dc=new Uint32Array(_0x55cfb5*(-0x1*0xef1+0x559*-0x2+0x19a7*0x1)),_0x1add35=new Uint32Array(_0x55cfb5*(-0x2*0x1150+-0xb2*0x3+-0x3*-0xc3e)),_0x29842c=new Uint32Array(_0x55cfb5*(-0x471*-0x7+0x1aa4+-0x39b7)),_0x37713c=new Uint32Array(_0x55cfb5*(0xd1f*0x1+0x11a+-0xe35)),_0x22f0a7={0x1:0x3,0x2:0x8,0x3:0xf}[_0x466356],_0x3adafc=_0x29b89b,_0x57fee8=0xc7+-0x13cb*0x1+-0x1cd*-0xf,_0x3eb939=0x79*-0x23+-0x2*0x1292+-0x141*-0x2e,_0x44558a=new Float32Array(0x244f+0xe1b+-0x3269),_0x3ae3b2=new Uint32Array(_0x44558a['buffer']),_0x314561=new Array(_0x22f0a7*(-0x209e+0xe81+0x1220))['fill'](-0xff8+0xdb8+0x18*0x18);for(let _0x4ce0b6=-0x1071+-0x146*-0xd+-0x1d*0x1;_0x4ce0b6<_0x55cfb5;++_0x4ce0b6){for(let _0x2a6d1f=0x435+-0x34*-0x31+-0x19*0x91;_0x2a6d1f<_0x22f0a7;++_0x2a6d1f)_0x314561[_0x2a6d1f*(0x1*-0xf37+0x2608+-0x16ce)]=_0x3adafc[_0x2a6d1f][_0x4ce0b6],_0x314561[_0x2a6d1f*(0x1b37+0x294+0x4*-0x772)+(0x1*-0x25d9+-0xa5b*0x2+0x2*0x1d48)]=_0x3adafc[_0x2a6d1f+_0x22f0a7][_0x4ce0b6],_0x314561[_0x2a6d1f*(0x6b9*-0x2+0x267+0xb0e)+(0x1680+-0xdb+0xbf*-0x1d)]=_0x3adafc[_0x2a6d1f+_0x22f0a7*(0x2389+-0x258+0x212f*-0x1)][_0x4ce0b6];let _0x460707=_0x314561[0x34d+-0x2*0xba9+0x1405];for(let _0x176c63=0x7e*-0x3a+0xa66*-0x3+0x3bbf;_0x176c63<_0x22f0a7*(0x58d+0x1*0x219+-0x11*0x73);++_0x176c63)_0x460707=Math['max'](_0x460707,Math['abs'](_0x314561[_0x176c63]));if(_0x460707!==-0x679+-0x152+0x39*0x23){for(let _0x557fd7=-0xdc+-0x1766+0x1842;_0x557fd7<_0x22f0a7;++_0x557fd7)_0x314561[_0x557fd7*(-0x332+-0x652*0x1+0x987)+(0x2c5*0x4+0x2685+-0x1*0x3199)]=Math['max'](-0x1*0x1f+-0xa19*-0x2+-0x1*0x1413,Math['min'](_0x57fee8,Math['floor']((_0x314561[_0x557fd7*(-0x32*0x7a+-0x1afb+0x32d2)+(-0x2*-0x97+-0x19*0x6b+-0x153*-0x7)]/_0x460707*(-0x194d+-0x368*-0x4+0xbad+0.5)+(-0xb5f+-0x1*0xd3+-0x1*-0xc32+0.5))*_0x57fee8+(0x2f*-0x63+0x1*0x1751+-0x524+0.5)))),_0x314561[_0x557fd7*(-0x901+-0x1484+-0x438*-0x7)+(-0x1*0xcee+-0xc*0x31d+0x324b)]=Math['max'](-0x1f39+0x31*-0x3d+-0x11*-0x286,Math['min'](_0x3eb939,Math['floor']((_0x314561[_0x557fd7*(-0x5*0x67f+0xb58+-0xa93*-0x2)+(0x3*0x607+0x2e+-0x1242)]/_0x460707*(0x1*0x1319+-0x1afb+0x7e2+0.5)+(-0x3fd+0xb1a+-0x71d+0.5))*_0x3eb939+(0x64*-0x22+0x2335+-0x15ed*0x1+0.5)))),_0x314561[_0x557fd7*(-0x3c*0x52+0x4*0x7e2+-0xc4d)+(-0xd4f*0x1+0x1a76+-0x1*0xd25)]=Math['max'](0x214a+0x4*-0x4ca+-0xe22,Math['min'](_0x57fee8,Math['floor']((_0x314561[_0x557fd7*(-0xa5*0x3+0x3f5*0x1+-0x5*0x67)+(0x1700+-0x1c6*0x11+0x728)]/_0x460707*(0x4c5+-0xd06+0x841+0.5)+(0x2f*0x19+0xae8*0x2+-0x1a67+0.5))*_0x57fee8+(-0x1f3c+-0x610+0x254c+0.5))));_0x44558a[-0x1df*0x7+0xfd7+0xd*-0x36]=_0x460707,_0x4f64dc[_0x4ce0b6*(0x7*0x337+-0x1fbd+0x940)+(-0x2095+0x7*-0x3ee+0x3c17)]=_0x3ae3b2[-0x4*0x693+-0x922+0x11b7*0x2],_0x4f64dc[_0x4ce0b6*(0x1f27+-0x12*-0x1f8+-0x4293)+(-0x3b3*0x7+0x1fc4+-0x5de)]=_0x314561[-0x2328+-0x1d23+0x404b]<<-0x1c29+-0x295+0x1ed3|_0x314561[-0x1*-0x751+0x184e*-0x1+-0xa*-0x1b3]<<-0x1*0x25ad+0x53c+0x207c|_0x314561[0x201*0x9+0x2438+0x9*-0x607],_0x4f64dc[_0x4ce0b6*(0x1109+-0x1*-0x2ce+-0x13d3)+(-0x1058+0x1218*-0x2+0x348a)]=_0x314561[0x1b0f+-0x14*-0x86+-0x2584]<<0xef*0x22+0x1*0x2312+-0x42bb|_0x314561[-0x1*0x121f+-0x1*-0x981+-0x22*-0x41]<<-0x151a*0x1+-0x5*0xbb+-0x17*-0x114|_0x314561[-0x120b+-0xc41+0x1e51],_0x4f64dc[_0x4ce0b6*(0x2*0x1312+-0xd4+-0x254c)+(-0x6bc+-0x2507*-0x1+-0xf24*0x2)]=_0x314561[-0x1089+0xe*-0x2c6+0x3763]<<0x9f4+-0x1*-0x531+-0x1*0xf10|_0x314561[0x1*-0x1dc1+0x2*0x820+0xd88]<<0x4*0x8a+-0x9*0x11+-0x61*0x4|_0x314561[0x17c3+0x147b+0x1*-0x2c36],_0x466356>0x1654+0xc87*0x3+-0x77d*0x8&&(_0x1add35[_0x4ce0b6*(0x11*0x15a+0x2530+0x1e13*-0x2)+(-0x1d15+0x12e*-0x13+0x337f)]=_0x314561[-0x156a+-0x35*-0x18+-0x1*-0x107b]<<0xedc+0x9b*-0x39+0x13bc|_0x314561[-0x26de+0xae3+-0x1c05*-0x1]<<0x105c+0x1f2e+0xc1*-0x3f|_0x314561[0xe*-0xdc+0x1443+-0x830],_0x1add35[_0x4ce0b6*(-0x1d14+0x1602+0x716)+(-0x1*-0x1e1d+0x48d*-0x5+-0x75b)]=_0x314561[-0x201d*0x1+-0x58d*-0x3+0xf82]<<-0x593+0x43*0x67+-0x1*0x154d|_0x314561[-0xe13+-0x1f33+0x2d53]<<-0x2cb+0x241*-0x1+0x517|_0x314561[-0x1*-0x11b9+0x3*0xaab+0x2c*-0x121],_0x1add35[_0x4ce0b6*(-0xd1d+-0x6*-0x25c+0x107*-0x1)+(-0x1bd6+-0x1265+-0x85*-0x59)]=_0x314561[-0x1ed2+-0x1f7*-0x8+0xf29]<<-0xa93+-0x17d0+0x2278|_0x314561[-0x1f7*0x2+-0x1*0x2606+-0xa81*-0x4]<<0xd*-0x11e+-0x13e4+0x2275|_0x314561[-0x1*0x21fb+-0x1*-0xbcf+-0x1*-0x163d],_0x1add35[_0x4ce0b6*(-0x1*0x20a3+0x1*-0x5ed+0x9a5*0x4)+(-0x2118+0xbb7+0x1564)]=_0x314561[0x118e+0x26aa+-0x1c13*0x2]<<0x221e+0x223b*-0x1+0x32|_0x314561[-0x2*0xa2a+0xc2d*0x1+0x83a]<<0x69e+0x16*-0x10f+0x1*0x10b7|_0x314561[0xfab+-0x5be+-0x9d9],_0x466356>0x1*0x1552+0x8b*0x16+0x42*-0x81?(_0x29842c[_0x4ce0b6*(-0x1b*0x168+-0x147*0x2+0x288a)+(-0x47f*0x1+-0x20a0+0x251f)]=_0x314561[0x1*0x176e+-0x1c38+0x2b*0x1d]<<-0x791*-0x2+0x20bb+-0x2fc8|_0x314561[-0x19c0+0x11cf+0x807]<<-0x1a6d+-0xc5*-0x2d+-0x829|_0x314561[-0x1e0d+0x11cd+0xc57],_0x29842c[_0x4ce0b6*(0x5cc*-0x4+-0x493+0x1bc7)+(-0x12*-0x107+-0x1*-0x7c1+-0x1a3e)]=_0x314561[-0xc5c*-0x1+-0x5a*0x53+0x2*0x875]<<0x1273*-0x2+-0x1be1+0x40dc|_0x314561[0x5*-0xc2+-0xedc*-0x2+-0x19d5]<<-0x1254+-0xd6*0x1d+0x2a9d|_0x314561[-0x25*0xc5+0x2d*-0xdb+-0x3f2*-0x11],_0x29842c[_0x4ce0b6*(0x10*0x21d+-0x7*-0x8b+-0x2599)+(-0x1ee1+-0x16b7*-0x1+0x4*0x20b)]=_0x314561[0xd03+0x531+-0x1219]<<0x303*0x5+-0x13*-0x152+0x2*-0x1408|_0x314561[-0x727+-0x35*0xad+-0x3*-0xe5c]<<-0x1*-0x3e3+0x1a4+-0x75*0xc|_0x314561[-0x1b1a+-0xc7e+0x6b*0x5f],_0x29842c[_0x4ce0b6*(0xe7f+-0x1*-0x1af3+-0x2*0x14b7)+(-0x20+0x1*-0x25c+0x27f)]=_0x314561[-0x9*-0x25+0xce5*0x1+-0xe14]<<0x5a4+0x373*0x3+-0xfe8|_0x314561[0x1*0x13f7+-0x2372+-0x2*-0x7cd]<<-0x7*0x1f3+0x79a+0x616|_0x314561[0x1*-0xfc9+-0x1805+0x27ee],_0x37713c[_0x4ce0b6*(0x2f5+0x1503+0x7fc*-0x3)+(-0x1d6*-0x3+0x2*-0x103d+-0x4*-0x6be)]=_0x314561[0x1*-0x1bb6+-0x1*-0x12f4+0xd*0xaf]<<0x4*-0x19e+-0x1d5e+-0x23eb*-0x1|_0x314561[0x1439+-0x23*0x21+0xf94*-0x1]<<0x152c+-0xe4c+-0x6d5|_0x314561[-0x1c92+0x745+0x1570],_0x37713c[_0x4ce0b6*(-0x2a6+-0x4d2*0x2+-0x1e*-0x69)+(0x1910+0x1026+-0x4d*0x89)]=_0x314561[-0x56*0x3a+-0xaae+0x1e4e]<<0x3b*-0x77+0x1f73+-0x3f1|_0x314561[-0x1*0x212f+-0x91f+0x2a73*0x1]<<0x8cc+-0x1*0xd41+0x480|_0x314561[0x14eb+0x3*0x823+-0x2d2e],_0x37713c[_0x4ce0b6*(-0x2272+-0x530+0x27a6)+(-0x635*-0x2+-0x3db+0x1*-0x88d)]=_0x314561[0x1*0x22ac+-0xa54+-0x233*0xb]<<-0x3*-0xbd5+0x293*0x6+-0x32dc|_0x314561[0x1c*0x83+-0x27*0xc7+0x1025]<<0x12d1*0x2+-0x103+-0x2494|_0x314561[0x306+-0x9c*0x1f+-0xb*-0x175],_0x37713c[_0x4ce0b6*(0x1a6d+0xb2f+-0x2598)+(0x459+0xd84+0x11da*-0x1)]=_0x314561[0x942+0x2*-0x37+-0x8aa]<<-0x13d*0x15+-0x1d*0x140+0x3e56|_0x314561[-0x1d35+0x109+-0x1c57*-0x1]<<0x21c2+0xbcd+-0x2d84|_0x314561[0x47a+0xe6*-0x2+-0x282*0x1]):_0x29842c[_0x4ce0b6]=_0x314561[0x1*0x208f+-0x13bb+-0xcbf]<<0x1dae+0x26d7*-0x1+0x93e|_0x314561[0xc5*0x2b+0x2154+0x1*-0x4255]<<0x3*0xb+-0x1a07*0x1+0xe5*0x1d|_0x314561[0xa21+0x24fb*0x1+-0x2f05]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x4f64dc,'sh4to7Data':_0x1add35,'sh8to11Data':_0x29842c,'sh12to15Data':_0x37713c}},[_0x4f64dc['buffer'],_0x1add35['buffer'],_0x29842c['buffer'],_0x37713c['buffer']]);},_0x559abb=()=>{_0x2f6c16=null,_0x51e2d5=null,_0x626c12=null,_0x16368e=null,_0x218c96=null,_0x2349c0=null,_0x13c643=null,_0x148d84=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x23622d,_0x1363c9,_0x3ad025){_0x23622d['onmessage']=_0x136ccc=>{if(!this['worker'])return;const {data:_0x41d46f}=_0x136ccc;if(_0x41d46f['type']===_0x1363c9)switch(_0x1363c9){case'updatedSHD'+'ata1':_0x3ad025(_0x41d46f['data']);break;case'updatedCol'+'orData':_0x3ad025(_0x41d46f['data']);break;case'updatedTra'+'nsformData':_0x3ad025(_0x41d46f);break;}};}['updateSHDa'+'ta1'](_0x3eba8d,_0xc46204,_0x4df292){var _0x576d7c;return(_0x576d7c=this['worker'])==null||_0x576d7c['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x3eba8d,'shBands':_0xc46204,'SHData':_0x4df292}),new Promise(_0x3cc2c6=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1b7c4d=>{_0x3cc2c6(_0x1b7c4d);});});}async['updateTran'+'sData'](_0x26bb5d,_0x23dbd4,_0xb112e3,_0xdeed9e,_0x20ca45,_0x3af1a5,_0x37918d,_0x4efbf0){var _0x39110a;return(_0x39110a=this['worker'])==null||_0x39110a['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x26bb5d,'is4D':_0x23dbd4,'position':_0xb112e3,'rotation':_0xdeed9e,'motion':_0x20ca45,'scale':_0x3af1a5,'muT':_0x37918d,'tScale':_0x4efbf0}),new Promise(_0x3b3efd=>{const _0x30cae5=_0x29407d=>{_0x3b3efd(_0x29407d);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x30cae5);});}['destroy'](){var _0x22a23b;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x22a23b=this['worker'])==null||_0x22a23b['terminate'](),this['worker']=null);}}const xg=(_0x4697a9,_0x300fd7)=>{const _0x5173d7=[];for(let _0x2ff981=0x623+-0x25e7*-0x1+-0x2c0a;_0x2ff981<_0x300fd7;++_0x2ff981)_0x5173d7['push'](_0x4697a9['getProp']('f_rest_'+_0x2ff981));return _0x5173d7;};class CC extends Rv{constructor(_0x2fcd3e,_0x370e61){super(_0x2fcd3e,_0x370e61),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x2283+-0x4*-0x80+0x2084)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x25e1*-0x1+0x16a1+-0x3c7d);}['setSceneIn'+'fo'](_0x50b082){this['sceneInfo']['duration']=_0x50b082['duration'],this['sceneInfo']['fps']=_0x50b082['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x50b082['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x50b082['globalBoun'+'dingBox']['min'][-0x161d+-0x2512+-0x8b*-0x6d],_0x50b082['globalBoun'+'dingBox']['min'][-0x118a*0x2+0x2e5+0x2030],_0x50b082['globalBoun'+'dingBox']['min'][0xcbe+0x19d0+0x2*-0x1346]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x50b082['globalBoun'+'dingBox']['max'][0x2e2+-0x8e*-0x2+-0x3fe],_0x50b082['globalBoun'+'dingBox']['max'][0x3eb+-0x6c*-0x2b+-0x160e],_0x50b082['globalBoun'+'dingBox']['max'][0x1c6c+-0x8b7+0x691*-0x3]);const _0x338e67=_0x50b082['globalBoun'+'dingBox']['min'][-0x2306+-0xd16+0xc07*0x4],_0x1ee37c=_0x50b082['globalBoun'+'dingBox']['min'][0xa*-0x2d3+0x192b+0x2*0x18a],_0x18dfad=_0x50b082['globalBoun'+'dingBox']['min'][-0xf6e+0x844*0x1+-0xc*-0x99],_0x20b041=_0x50b082['globalBoun'+'dingBox']['max'][0xc35+0xa76+-0x16ab],_0x4e583a=_0x50b082['globalBoun'+'dingBox']['max'][0x14*-0xe3+-0xebd+0x103d*0x2],_0xf108ce=_0x50b082['globalBoun'+'dingBox']['max'][0xdc0+0x3*0x2f6+0x1*-0x16a0],_0x2aea58=new D((_0x338e67+_0x20b041)*(0x1105*-0x2+0xc*-0x2c9+0x311*0x16+0.5),(_0x1ee37c+_0x4e583a)*(-0x9dc*-0x2+0x6a1+-0x1a59+0.5),(_0x18dfad+_0xf108ce)*(-0x1*0x217b+0x14ea+-0x1*-0xc91+0.5)),_0x50d179=new D((_0x20b041-_0x338e67)*(-0x6a*-0x1b+0x2*0x94e+0x9ee*-0x3+0.5),(_0x4e583a-_0x1ee37c)*(0x3*0xb0b+0x203+-0x2324+0.5),(_0xf108ce-_0x18dfad)*(0xbcd+-0x20c0+0x14f3+0.5)),_0x1727c8=new De(_0x2aea58,_0x50d179);this['sceneInfo']['globalBoun'+'dingBox']=_0x1727c8,this['aabb']=_0x1727c8;}async['updateData'](){var _0x1da9a4,_0x35d309,_0x5be0c9,_0x491f37,_0x3032e3,_0x38903d,_0x81c792,_0x307110,_0x570ad5,_0x20b371,_0x27dc3d;await super['updateData']();const _0x4157fa=this['gsplatData'];if(!_0x4157fa)return;this['is4D']=_0x4157fa['is4D'];const _0x56f92c=await this['getTransfo'+'rmDataByWo'+'rker'](_0x4157fa);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x56f92c['centers'],this['motion']=_0x56f92c['motion'],this['tScale']=_0x56f92c['tScaleArra'+'y'],this['muT']=await _0x4157fa['getMuT'](),this['timeIndex']=await _0x4157fa['getTimeInd'+'ex']();const _0x105524=this['evalTextur'+'eSize'](_0x4157fa['numSplats']);this['colorTextu'+'re']?((_0x1da9a4=this['colorTextu'+'re2'])==null||_0x1da9a4['destroy'](),(_0x35d309=this['transformA'+'Texture2'])==null||_0x35d309['destroy'](),(_0x5be0c9=this['transformB'+'Texture2'])==null||_0x5be0c9['destroy'](),(_0x491f37=this['transformR'+'Texture2'])==null||_0x491f37['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x105524),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x105524),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x105524),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x105524),this['is4D']&&((_0x3032e3=this['transformM'+'otionTextu'+'re2'])==null||_0x3032e3['destroy'](),(_0x38903d=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x38903d['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x105524),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x105524))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x105524),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x105524),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x105524),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x105524),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x105524),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x105524),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x105524),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x105524),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x105524),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x105524),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x105524),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x105524))),await this['updateColo'+'rData'](_0x4157fa),await this['updateTran'+'sformFromD'+'ata'](_0x56f92c),this['shBands']=_0x4157fa['shBands'],this['shBands']>-0x6d*0x4d+-0x167e+0x3747&&(this['sh1to3Text'+'ure']?((_0x81c792=this['sh1to3Text'+'ure2'])==null||_0x81c792['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x105524),this['shBands']>-0x104*-0x5+0x1813+-0x1d26&&((_0x307110=this['sh4to7Text'+'ure2'])==null||_0x307110['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x105524),this['shBands']>-0x2*0x259+0x1*-0xfb5+0x1469?((_0x570ad5=this['sh8to11Tex'+'ture2'])==null||_0x570ad5['destroy'](),(_0x20b371=this['sh12to15Te'+'xture2'])==null||_0x20b371['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x105524),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x105524)):((_0x27dc3d=this['sh8to11Tex'+'ture2'])==null||_0x27dc3d['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x105524)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x105524),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x105524),this['shBands']>-0xb*0x254+-0x14d2*0x1+0x2e6f&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x105524),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x105524),this['shBands']>0xe99*0x2+-0x43*0x73+0x1*0xe9?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x105524),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x105524),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x105524),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x105524)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x105524),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x105524)))),await this['updateSHDa'+'taByWorker'](_0x4157fa));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x1fef08){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x1fef08}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x187521,_0x71cc6b,_0x510ca9,_0x52ebe2,_0x26469e,_0x4cc6f9){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x187521,'timeOption':_0x71cc6b,'loadedTime':_0x510ca9,'asset':_0x52ebe2,'events':_0x26469e,'seekCB':_0x4cc6f9}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0xc81+0x26eb+-0x1a6a);try{for(;this['appendQueu'+'e']['length']>0x3*-0x9b7+0x1a*-0x179+0x436f;){const _0x34d8b7=this['appendQueu'+'e']['shift']();_0x34d8b7['type']==='append'?await this['processApp'+'endTask'](_0x34d8b7['data']):_0x34d8b7['type']==='release'&&await this['processRel'+'easeTask'](_0x34d8b7['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x26f*0xe+0x24b3+-0x2a0);}}}async['processRel'+'easeTask'](_0x4bfe3d){const {index:_0x33f7de}=_0x4bfe3d;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x33f7de);}async['processApp'+'endTask'](_0x30ab92){var _0x446da5;const {gsplatData:_0x2ff6cb,timeOption:_0x17093c,loadedTime:_0x30c039,asset:_0x42ea32,events:_0x313456,seekCB:_0x38e8b9}=_0x30ab92;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x17093c,this['asset']=_0x42ea32,this['assetsMana'+'gerLoadedT'+'ime']=_0x30c039,this['events']=_0x313456,await this['gsplatData']['appendGSpl'+'atData'](_0x2ff6cb,_0x30c039,_0x17093c),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1ceb+-0x80*-0x18+0x3*-0xda3),_0x2ff6cb['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x2ff6cb['numSplats'])['toFixed'](0x53e+-0x3*-0x86e+0x1*-0x1e85)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x10d1+0x1*0x13fb+-0x24ca),_0x2ff6cb['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x446da5=this['gsplatInst'+'ance'])==null?void(-0xbe6+0x6a*0x4f+-0x9*0x250):_0x446da5['updateInst'+'anceData'](this,_0x30c039,_0x38e8b9)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x2147+0x2402+-0x4547),_0x2ff6cb['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x515eb7,_0x1ebef1){var _0x307b99;const _0x2dad96=_0x515eb7||this['assetsMana'+'gerLoadedT'+'ime'];(_0x307b99=this['asset'])==null||_0x307b99['fire']('setAssetsL'+'oaded',_0x2dad96,_0x1ebef1);}['destroy'](){var _0x1d03b4,_0x549fb9,_0x5a6df1,_0x3d9e23,_0x19c4ad,_0x448692,_0xb3c60b,_0x4d5b41,_0xec7f0a,_0x3752e1,_0x2720d2,_0x519d10,_0xc0f09,_0x41da2e,_0x16b9e7,_0x363b3d,_0x37a541,_0x46a5f0,_0x213d81,_0x1638cd,_0xa610b4;(_0x1d03b4=this['updateData'+'Worker'])==null||_0x1d03b4['destroy'](),this['updateData'+'Worker']=void(-0x24ed+0x11c6+0x1327),(_0x549fb9=this['colorTextu'+'re'])==null||_0x549fb9['destroy'](),(_0x5a6df1=this['transformA'+'Texture'])==null||_0x5a6df1['destroy'](),(_0x3d9e23=this['transformB'+'Texture'])==null||_0x3d9e23['destroy'](),(_0x19c4ad=this['transformR'+'Texture'])==null||_0x19c4ad['destroy'](),(_0x448692=this['transformM'+'otionTextu'+'re'])==null||_0x448692['destroy'](),(_0xb3c60b=this['transformL'+'ifecycleTe'+'xture'])==null||_0xb3c60b['destroy'](),(_0x4d5b41=this['sh1to3Text'+'ure'])==null||_0x4d5b41['destroy'](),(_0xec7f0a=this['sh4to7Text'+'ure'])==null||_0xec7f0a['destroy'](),(_0x3752e1=this['sh8to11Tex'+'ture'])==null||_0x3752e1['destroy'](),(_0x2720d2=this['sh12to15Te'+'xture'])==null||_0x2720d2['destroy'](),(_0x519d10=this['colorTextu'+'re2'])==null||_0x519d10['destroy'](),(_0xc0f09=this['transformA'+'Texture2'])==null||_0xc0f09['destroy'](),(_0x41da2e=this['transformB'+'Texture2'])==null||_0x41da2e['destroy'](),(_0x16b9e7=this['transformR'+'Texture2'])==null||_0x16b9e7['destroy'](),(_0x363b3d=this['transformM'+'otionTextu'+'re2'])==null||_0x363b3d['destroy'](),(_0x37a541=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x37a541['destroy'](),(_0x46a5f0=this['sh1to3Text'+'ure2'])==null||_0x46a5f0['destroy'](),(_0x213d81=this['sh4to7Text'+'ure2'])==null||_0x213d81['destroy'](),(_0x1638cd=this['sh8to11Tex'+'ture2'])==null||_0x1638cd['destroy'](),(_0xa610b4=this['sh12to15Te'+'xture2'])==null||_0xa610b4['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x244589){var _0x5077d0,_0x45497a,_0x5b5c96,_0x5d7df7,_0x9ad874,_0x1feaa,_0x57a66d,_0x34ff19,_0x1d148a,_0x1a1824,_0x4ad7e7,_0x20cc77,_0x1f5f47;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x59b082=((_0x5077d0=_0x244589['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x691*0x1+0x2129*0x1+-0x1a98):_0x5077d0['data'])??-0x86d*0x3+-0x11be+0x2b05,_0x435c4f=((_0x45497a=_0x244589['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x1a27+-0x1b36+-0x10f*-0x1):_0x45497a['data'])??-0x2a9+0x6bf*-0x3+0x215*0xb,_0x48e829=((_0x5b5c96=_0x244589['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x2ab*-0xa+-0x1*0x149f+0x2f4d):_0x5b5c96['data'])??0xe*0x13e+-0x9b8+-0x7ab*0x1,_0x4b1a05=((_0x5d7df7=_0x244589['getParamet'+'er']('uHueOffset'))==null?void(-0xdef+0x5*-0x3cb+0x20e6):_0x5d7df7['data'])??0x2154+-0x1e6e+-0x2*0x173,_0x4cc9ec=((_0x9ad874=_0x244589['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x78b+0xaf*0x13+-0x1488):_0x9ad874['data'])??0x1a11+-0x5fd+-0x1414,_0x14139b=((_0x1feaa=_0x244589['getParamet'+'er']('uOpacity'))==null?void(-0x2249+0x3*-0x29+0xa*0x37a):_0x1feaa['data'])??0x9*0x243+0x15c7+-0x86d*0x5,_0x3855fc=((_0x57a66d=_0x244589['getParamet'+'er']('clrOffset'))==null?void(0x22b6*0x1+-0x21a6+-0x110):_0x57a66d['data'])??[-0x12a6+0xb16+-0x58*-0x16,-0x429+-0x1f21*-0x1+-0x2*0xd7c,0x89*-0x43+0x2*0xd8d+-0x9*-0xf9,0x3b0+0x1e2+-0x591],_0x5eecc4=((_0x34ff19=_0x244589['getParamet'+'er']('clrScale'))==null?void(-0x6*-0x605+-0x10c4+-0x135a):_0x34ff19['data'])??[-0x1*0x9d1+-0x71a*-0x1+0x2b8,0x1964+0x5*0x5b3+-0x35e2,0x3*0x5b9+0x1d0e*-0x1+-0x5f2*-0x2,0x16fc+0x1313+-0x2a0e*0x1],_0x519b20=((_0x1d148a=_0x244589['getParamet'+'er']('uShapeN'))==null?void(0x7dc*0x1+-0x1e2c+0x1650):_0x1d148a['data'])??0x1d92+-0x21b7+0x425,_0x2e0b22=((_0x1a1824=_0x244589['getParamet'+'er']('mode'))==null?void(0x2f*-0x3d+-0x1*-0x1e4d+0x5*-0x3d2):_0x1a1824['data'])??-0xd*-0x2d5+0x1*-0x1aac+-0xa25,_0x57055c=((_0x4ad7e7=_0x244589['getParamet'+'er']('ringSize'))==null?void(-0x1*-0xe89+0x2363+-0x31ec):_0x4ad7e7['data'])??-0x245d+-0x1a87+0x3ee4,_0x11f900=((_0x20cc77=_0x244589['defines'])==null?void(0x163f+-0x118*-0x4+-0x2f*0x91):_0x20cc77['get']('uOpenAnim'))??'0',_0x40a191=((_0x1f5f47=_0x244589['defines'])==null?void(0x105c+0x344+0x20*-0x9d):_0x1f5f47['get']('uControlCo'+'lorMode'))??'0';_0x244589['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x244589['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x244589['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x244589['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x244589['setParamet'+'er']('uSplatScal'+'e',_0x435c4f),_0x244589['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x59b082),_0x244589['setParamet'+'er']('uSaturatio'+'n',_0x48e829),_0x244589['setParamet'+'er']('uHueOffset',_0x4b1a05),_0x244589['setParamet'+'er']('uInvertOpa'+'city',_0x4cc9ec),_0x244589['setParamet'+'er']('uOpacity',_0x14139b),_0x244589['setParamet'+'er']('clrOffset',_0x3855fc),_0x244589['setParamet'+'er']('clrScale',_0x5eecc4),_0x244589['setParamet'+'er']('uShapeN',_0x519b20),_0x244589['setParamet'+'er']('mode',_0x2e0b22),_0x244589['setParamet'+'er']('ringSize',_0x57055c),_0x244589['setParamet'+'er']('prerenderC'+'Time',-0xd44*0x2+0x1b30+-0xc*0xe),_0x244589['setParamet'+'er']('renderSpac'+'e',0x1de*0x2+-0x10ee+0x7*0x1e4),_0x244589['setParamet'+'er']('endSpace',-0x1*-0x987+-0x1*-0x71a+-0x1097),_0x244589['setDefine']('uOpenAnim',_0x11f900),_0x244589['setDefine']('uControlCo'+'lorMode',_0x40a191),this['transformM'+'otionTextu'+'re']&&_0x244589['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x244589['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x244589['setDefine']('SH_BANDS',this['shBands']),_0x244589['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x244589['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x244589['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x244589['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x244589['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x3bc205){const _0x23f23b=Math['ceil'](Math['sqrt'](_0x3bc205)),_0x1d45e3=Math['ceil'](_0x3bc205/_0x23f23b);return new J(_0x23f23b,_0x1d45e3);}async['updateColo'+'rData'](_0xc28153){var _0x42138b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x3b88a2=this['colorTextu'+'re2'];if(!_0x3b88a2||this['isDestroye'+'d'])return;let _0x45deed=(_0x42138b=_0xc28153['transformD'+'ata'])==null?void(-0xef1+0x25c9+-0x16d8):_0x42138b['dataColor'];if(!_0x45deed){const _0x366eb0=_0xc28153['getProp']('color_opac'+'ity');_0x45deed=new Uint16Array(_0x366eb0['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x3b88a2,_0x45deed);}async['getTransfo'+'rmDataByWo'+'rker'](_0xe49a2e){var _0x5bb113;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x5bb113=_0xe49a2e['transformD'+'ata'])!=null&&_0x5bb113['dataCenter'+'s'])return{'centers':_0xe49a2e['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0xe49a2e['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0xe49a2e['transformD'+'ata']['dataScale'],'dataRotation':_0xe49a2e['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0xe49a2e['transformD'+'ata']['dataMotion'],'dataTime':_0xe49a2e['transformD'+'ata']['dataTime'],'motion':_0xe49a2e['transformD'+'ata']['motion'],'tScaleArray':_0xe49a2e['transformD'+'ata']['tScaleArra'+'y']};const _0x41e991=_0xe49a2e['getProp']('position'),_0x3ce542=_0xe49a2e['getProp']('motion'),_0x39473a=_0xe49a2e['getProp']('rotation'),_0x130c26=_0xe49a2e['getProp']('scale'),_0x12d2b5=_0xe49a2e['getProp']('t'),_0x49f632=_0xe49a2e['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0xe49a2e['numSplats'],this['is4D'],_0x41e991,_0x39473a,_0x3ce542,_0x130c26,_0x12d2b5,_0x49f632);}async['updateTran'+'sformFromD'+'ata'](_0x23cf33){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x23cf33['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x23cf33['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x23cf33['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x23cf33['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x23cf33['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x1cd012,_0x1f4ea5){if(!this['isDestroye'+'d'])return new Promise(_0x54a5dc=>{requestIdleCallback(()=>{const _0x69a6c3=_0x1cd012['lock']();_0x69a6c3==null||_0x69a6c3['set'](_0x1f4ea5),_0x1cd012['unlock'](),_0x54a5dc(!(0xfb4+-0x137*0x9+-0x4c5));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x2034f1){var _0x34a221,_0x455014,_0x4b3fa0,_0xceeb07,_0x3a2bc8,_0x2a6318,_0x55da04,_0x13e2a3;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0xf9e93b=(_0x34a221=this['sh1to3Text'+'ure2'])==null?void(-0x53*0x52+0xad*-0x1e+0x2edc*0x1):_0x34a221['lock'](),_0x271e87=(_0x455014=this['sh4to7Text'+'ure2'])==null?void(-0x136c+-0x2232+0x359e):_0x455014['lock'](),_0x966509=(_0x4b3fa0=this['sh8to11Tex'+'ture2'])==null?void(-0x25b*0xb+-0x12e*-0x16+-0xb):_0x4b3fa0['lock'](),_0x4c9673=(_0xceeb07=this['sh12to15Te'+'xture2'])==null?void(-0x26c5+-0x146*-0x14+0x1*0xd4d):_0xceeb07['lock'](),_0x45b78b={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x52ca0c=xg(_0x2034f1,_0x45b78b*(0x1*0x28d+0xb*-0x12d+-0x377*-0x3)),_0x4ab66c=-0x3a7+-0x12f1*-0x1+0x74b*-0x1,_0x49ca5f=0x45d+0x1*-0xb65+0x3*0x3ad,_0x14636e=new Float32Array(0x2079*-0x1+0x878+-0x1b7*-0xe),_0x51f004=new Uint32Array(_0x14636e['buffer']),_0xec44b4=new Array(_0x45b78b*(0x6*0x191+0xe8f*-0x1+-0x4*-0x14b))['fill'](0xf4*0x20+-0x25d9+-0x759*-0x1);for(let _0x7eb34=0x25b3+0xd*0x2cd+-0x41e*0x12;_0x7eb34<_0x2034f1['numSplats'];++_0x7eb34){for(let _0x3aeab8=-0x227d+0x1c3*-0x10+0x3ead;_0x3aeab8<_0x45b78b;++_0x3aeab8)_0xec44b4[_0x3aeab8*(-0x1dee+0x1888+-0x5*-0x115)]=_0x52ca0c[_0x3aeab8][_0x7eb34],_0xec44b4[_0x3aeab8*(-0x3f*0x7f+-0x5*-0x76d+0x5dd*-0x1)+(-0x1490*0x1+0x8b7*0x2+0x323*0x1)]=_0x52ca0c[_0x3aeab8+_0x45b78b][_0x7eb34],_0xec44b4[_0x3aeab8*(-0x1*0x1aba+-0x594+0x2051)+(0x1f6c+0x1cc3+-0x1*0x3c2d)]=_0x52ca0c[_0x3aeab8+_0x45b78b*(0x35*0xae+-0xd5a+-0x16aa)][_0x7eb34];let _0x5b42f0=_0xec44b4[-0x737*-0x4+-0xc*0x203+-0x12e*0x4];for(let _0x45f2fa=-0x4*-0x946+-0x71d*-0x5+0x5*-0xe88;_0x45f2fa<_0x45b78b*(0xe84+-0x717+-0x76a);++_0x45f2fa)_0x5b42f0=Math['max'](_0x5b42f0,Math['abs'](_0xec44b4[_0x45f2fa]));if(_0x5b42f0!==-0x1006+-0x2164+0x316a){for(let _0x31e07f=0x153+0x3*0x8f9+-0x1c3e;_0x31e07f<_0x45b78b;++_0x31e07f)_0xec44b4[_0x31e07f*(-0x22eb+0x1183*0x1+0x31*0x5b)+(-0x1e65+-0xa03*-0x1+0x1*0x1462)]=Math['max'](-0xc7f*0x1+-0xc25+0x18a4,Math['min'](_0x4ab66c,Math['floor']((_0xec44b4[_0x31e07f*(-0x1db*-0x7+-0x1*-0x1511+-0x220b)+(-0x2e1*-0xd+-0xd3d*-0x1+-0x32aa)]/_0x5b42f0*(0x79*0x43+0xf57*-0x1+-0x1054+0.5)+(-0x8*0x3ff+-0x266e*-0x1+0x676*-0x1+0.5))*_0x4ab66c+(0x1467*-0x1+-0x13*0x76+0x1d29+0.5)))),_0xec44b4[_0x31e07f*(0x2ea*0x6+0x3f4*0x2+-0x1961*0x1)+(-0x2019+0x1*0x120a+-0xf*-0xf0)]=Math['max'](0x17ea+0x1250+0x439*-0xa,Math['min'](_0x49ca5f,Math['floor']((_0xec44b4[_0x31e07f*(0x1*-0x1b8f+-0x21fa*-0x1+-0x668)+(-0x15d*0x1+-0xf3b+0x1099)]/_0x5b42f0*(0xb2b+0x1992+-0x24bd+0.5)+(-0x26e*-0x6+-0x2ad*-0x1+-0x1141+0.5))*_0x49ca5f+(-0x5*0x175+0x1*0x1dd7+-0x1*0x168e+0.5)))),_0xec44b4[_0x31e07f*(-0x39*-0x9e+0x4*-0x7eb+-0x37f)+(-0x4ba+0x21e4+-0x1d28)]=Math['max'](-0x182a+-0x1*-0x10e7+0xa9*0xb,Math['min'](_0x4ab66c,Math['floor']((_0xec44b4[_0x31e07f*(-0x8f0+-0x1*-0x1343+-0xa50)+(-0x1bcb+-0x39*-0x27+0x131e)]/_0x5b42f0*(-0x1871*-0x1+-0xb*-0x26d+-0x2*0x1990+0.5)+(-0x4dc+-0xcc0+0x119c+0.5))*_0x4ab66c+(-0x12b+-0x70e+-0x5*-0x1a5+0.5))));_0x14636e[0x3fa*-0x5+0x19d6+-0x5f4*0x1]=_0x5b42f0,_0xf9e93b[_0x7eb34*(-0xe*-0x239+-0x1733+0x11*-0x77)+(-0x6b*0x7+0x21*-0x6d+0x10fa)]=_0x51f004[-0x848+0x1899+-0x1*0x1051],_0xf9e93b[_0x7eb34*(0x2*0x457+-0x1a6b*0x1+0x11c1)+(-0x1*-0x13c7+-0x2099+0x7*0x1d5)]=_0xec44b4[-0x1d9f+-0x1a89+0x3828]<<0x138f+-0x1*-0x1fbb+0x3335*-0x1|_0xec44b4[-0x17a1+0xf5c*0x2+-0x716]<<-0x15be+0x1d76+-0x7ad|_0xec44b4[-0x14b8+-0x1*0x8fa+0x1db4],_0xf9e93b[_0x7eb34*(-0x17b8+0xc0c+-0x88*-0x16)+(0x1*-0x13f1+0x1*0x1aad+-0x2*0x35d)]=_0xec44b4[0x1d74+-0x17f+0xe*-0x1ff]<<0x2*0x116f+-0x1*0x20f2+-0x1d7|_0xec44b4[-0x21cc+-0x26c2+0x4892]<<-0x1*0x100c+0x158d+-0x576|_0xec44b4[-0x2075+0x2*-0x982+0x337e],_0xf9e93b[_0x7eb34*(0xde*0x25+-0x241f*-0x1+-0xb*0x633)+(0x9*0x2b+0x263e+0x27be*-0x1)]=_0xec44b4[0x82f*0x4+-0xd44+-0x83*0x26]<<0x31a+-0x10d8+-0xdd3*-0x1|_0xec44b4[0x1907+0x385*-0x5+-0x767]<<0x48a*-0x6+0x1*0xf7c+0xbcb|_0xec44b4[-0x102b*-0x1+0x2*0x1114+-0x324b],this['shBands']>-0x7*0x2ef+0x3*0x574+-0x5*-0xd6&&(_0x271e87[_0x7eb34*(-0xeaa*0x2+0x64b+0x170d)+(0x1*0xc07+-0xf5b+0x354)]=_0xec44b4[0x19ac+0x1990+0x303*-0x11]<<0x12bd*0x2+0x733+0x593*-0x8|_0xec44b4[-0x6*-0x33b+-0xf8c+-0x3cc]<<-0x4f*0x22+-0x1447+0x1ed0|_0xec44b4[0x1733*-0x1+0x69d*-0x1+-0x1ddb*-0x1],_0x271e87[_0x7eb34*(-0x2b4+-0x9ff+0xcb7)+(0xf*-0x93+-0x7ee+0x423*0x4)]=_0xec44b4[0x7*-0x11c+0x7f4+-0x24]<<-0x836+0x1*0x2513+-0x1cc8|_0xec44b4[-0xce0*-0x3+-0xbc9+-0x1aca]<<0xb33+0x3d*-0x74+-0xd3*-0x14|_0xec44b4[0x3*-0x7ed+0x109a*0x2+-0x1*0x95f],_0x271e87[_0x7eb34*(-0x10*0x209+-0x1*-0x2561+0x4cd*-0x1)+(0x2*0x332+0x157a+-0x6f7*0x4)]=_0xec44b4[0x28a+0x366+-0x5e1]<<-0xfd8+-0x22d7+0x32c4|_0xec44b4[0xc16+0x3ac+-0x23e*0x7]<<-0x21*-0xf2+-0x113e*0x1+-0xde9|_0xec44b4[-0x25*-0x39+0x1fe2+-0x280e],_0x271e87[_0x7eb34*(-0x2e9*-0x5+-0x1c4b+-0xdc2*-0x1)+(-0x1bbc*0x1+-0xcf1+0x28b0)]=_0xec44b4[-0x6d*-0x2b+-0x27*0x89+0x2a2]<<0x153*-0xd+-0x8*-0xc5+0x2*0x592|_0xec44b4[0x20e*-0x8+-0x1*-0x1254+-0x1d1]<<-0x1d6+0xc73*0x3+0x5*-0x718|_0xec44b4[-0x1ceb+0x9*-0x6b+-0x1*-0x20c2],this['shBands']>-0xd5d*0x1+0x1*-0x346+0x10a5*0x1?(_0x966509[_0x7eb34*(-0x17f6*-0x1+-0x23*-0xa1+-0x2df5)+(-0x40*0x92+0x173a+-0x6a3*-0x2)]=_0xec44b4[-0x5fb+-0x3f*-0x47+0xb69*-0x1]<<-0x4*0x151+-0x1407+-0xe8*-0x1c|_0xec44b4[-0x56d+0xb*-0x362+0x2ab9*0x1]<<-0x2b*-0x22+0x9*0x2e9+-0x1fdc|_0xec44b4[0x1*0xa2b+-0x32d+-0x6e7],_0x966509[_0x7eb34*(0xb0+0x60e+-0x6ba)+(-0x13*-0x1db+-0x138*0x1f+0x288)]=_0xec44b4[0x889*-0x3+0x3*-0x482+0x2739]<<0x6b*-0x13+-0x56f+0xd75|_0xec44b4[0x6fb*0x1+-0xe73+0x791*0x1]<<-0xb80+0x26f4+-0x1b69|_0xec44b4[0x23b2+0x1c7f*0x1+-0x71f*0x9],_0x966509[_0x7eb34*(-0xe1f+-0xe69+0x1c8c)+(-0xc75+0x1*0x135+0x16*0x83)]=_0xec44b4[0x73d*0x1+-0x11b*0x19+-0xb5*-0x1d]<<0x107b*-0x2+0x5*-0x593+-0x3cea*-0x1|_0xec44b4[0x616+0xf*0xb3+0x119*-0xf]<<0x2*0xb09+-0x242*-0x5+-0x2151|_0xec44b4[0x7*0x31a+-0x832+-0xd67*0x1],_0x966509[_0x7eb34*(0x10d6*-0x1+0x133*0x13+0xd9*-0x7)+(0x23d4+-0x2*0x257+-0x1*0x1f23)]=_0xec44b4[0x47*0x36+-0x1b1*-0x5+0x1*-0x1751]<<-0x30*-0x1f+-0x334*0xa+0x1a4d|_0xec44b4[-0x1cce+0x1c2b*0x1+-0x1*-0xc2]<<0x1*0x1d41+0x1*0x6b9+-0x23ef*0x1|_0xec44b4[-0x19a9+0xcd7*-0x3+0x404e],_0x4c9673[_0x7eb34*(0x1*0xedf+-0x1306+0x42b)+(0x4bb+0x1c36+-0x20f1)]=_0xec44b4[-0x49*0x65+-0xb7+0x1da5]<<-0x3ea*-0x1+0x3b*-0x3d+0xa3a|_0xec44b4[-0x40d+-0xa57*-0x1+-0x628]<<-0x2605+-0xdff*-0x2+-0x509*-0x2|_0xec44b4[0x2*0x73f+-0x3*0x4eb+0x66],_0x4c9673[_0x7eb34*(0x23b3+0x2d+-0x23dc)+(0x14*0x133+0x1c21*0x1+0x2e*-0x122)]=_0xec44b4[-0xf86+0x1*-0x1553+0x24fd]<<0x24ed+-0xa*0x17+0x2b*-0xd6|_0xec44b4[-0x2f*-0x95+-0x122d+-0x1*0x909]<<-0x23cd+-0x21b7+0x458f|_0xec44b4[0x258f+0x1038+-0x1*0x35a1],_0x4c9673[_0x7eb34*(-0x1100+-0x384+0x1488)+(-0x2*0x1175+0x7*-0x48d+0xd5b*0x5)]=_0xec44b4[-0xd*-0xd+0x13fd+-0x147f]<<0x50*-0x7c+-0x1*0x1ad5+0x41aa|_0xec44b4[0x43*-0x25+-0x1b6b+0x2542]<<0x29*-0xd4+0x1*-0x1d47+-0x4de*-0xd|_0xec44b4[-0x1*-0x10d+-0x4*0x38a+-0x236*-0x6],_0x4c9673[_0x7eb34*(-0x897+-0x1a9a+0x2335)+(0x3*-0x541+0x4*0x70b+-0xc66)]=_0xec44b4[-0x5bd+-0x103+0x6ea]<<0x29d*-0x3+-0x2204+0x29f0|_0xec44b4[0xbf*-0x1+0x188*0x1+-0x9e]<<-0x1be9+-0x1f5b*0x1+0x15*0x2d3|_0xec44b4[-0x1e8*0x4+0x2*0x8f9+-0x6*0x1b1]):_0x966509[_0x7eb34]=_0xec44b4[0x20*0x10d+0x1fcf+-0x7*0x956]<<0x127e+-0x1db3+0xb4a|_0xec44b4[0x238e+-0x83f+-0x1b39]<<0x1*0x149f+-0x1d45+-0x5*-0x1bd|_0xec44b4[0x4*-0x523+0x1698+-0x1f5]);}}(_0x3a2bc8=this['sh1to3Text'+'ure2'])==null||_0x3a2bc8['unlock'](),(_0x2a6318=this['sh4to7Text'+'ure2'])==null||_0x2a6318['unlock'](),(_0x55da04=this['sh8to11Tex'+'ture2'])==null||_0x55da04['unlock'](),(_0x13e2a3=this['sh12to15Te'+'xture2'])==null||_0x13e2a3['unlock']();}async['updateSHDa'+'taByWorker'](_0x536dc7){var _0x4180c3,_0x41cee0,_0xb444e,_0x19aae1,_0x1ccc39;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x309b4c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x4096cd,_0xc5ffa,_0x162e23,_0x35ec6e;if((_0x4180c3=_0x536dc7['transformD'+'ata'])!=null&&_0x4180c3['sh1to3Data'])_0x4096cd=(_0x41cee0=_0x536dc7['transformD'+'ata'])==null?void(0x36*0x6+-0x1973+-0x97*-0x29):_0x41cee0['sh1to3Data'],_0xc5ffa=(_0xb444e=_0x536dc7['transformD'+'ata'])==null?void(-0xfec+-0x6e6*0x1+0xfe*0x17):_0xb444e['sh4to7Data'],_0x162e23=(_0x19aae1=_0x536dc7['transformD'+'ata'])==null?void(0x86*-0x15+0x1*-0x9a9+0x11*0x137):_0x19aae1['sh8to11Dat'+'a'],_0x35ec6e=(_0x1ccc39=_0x536dc7['transformD'+'ata'])==null?void(-0x314+0x251f*0x1+0x1*-0x220b):_0x1ccc39['sh12to15Da'+'ta'];else{const _0x4cec7a=xg(_0x536dc7,_0x309b4c*(0x1*0x1a83+-0xb7c+-0xf04*0x1)),_0x2b3002=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x536dc7['numSplats'],this['shBands'],_0x4cec7a);_0x4096cd=_0x2b3002['sh1to3Data'],_0xc5ffa=_0x2b3002['sh4to7Data'],_0x162e23=_0x2b3002['sh8to11Dat'+'a'],_0x35ec6e=_0x2b3002['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x4096cd),this['shBands']>-0x1771+0xa7a+0x4*0x33e&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0xc5ffa),this['shBands']>0xef5+-0xeef+0x2*-0x2?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x162e23),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x35ec6e)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x162e23));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x24532e){Ov=_0x24532e;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x374774){w['assert'](_0x374774),_0x374774['frameUpdat'+'e']();const _0x596284=_0x374774['beforePass'+'es'];for(let _0x34d31d=0x1ef+0x4*0x13c+-0x6df;_0x34d31d<_0x596284['length'];_0x34d31d++){const _0x4b8476=_0x596284[_0x34d31d];_0x4b8476['enabled']&&this['addRenderP'+'ass'](_0x4b8476);}_0x374774['enabled']&&this['renderPass'+'es']['push'](_0x374774);const _0x43639f=_0x374774['afterPasse'+'s'];for(let _0x80fa=0x1308+-0x27*-0x2b+0x887*-0x3;_0x80fa<_0x43639f['length'];_0x80fa++){const _0xc43a4e=_0x43639f[_0x80fa];_0xc43a4e['enabled']&&this['addRenderP'+'ass'](_0xc43a4e);}}['reset'](){this['renderPass'+'es']['length']=0x868*-0x1+-0x20a8+0x49*0x90;}['compile'](){const _0x56fcb7=this['renderTarg'+'etMap'],_0x27559e=this['renderPass'+'es'];for(let _0x50210a=0x30*0xc3+-0x1dee+-0x1*0x6a2;_0x50210a<_0x27559e['length'];_0x50210a++){const _0x5313cb=_0x27559e[_0x50210a],_0xa06039=_0x5313cb['renderTarg'+'et'];if(_0xa06039!==void(0x9*-0x149+-0xd*-0x21f+0x801*-0x2)){const _0x3b2557=_0x56fcb7['get'](_0xa06039);if(_0x3b2557){const _0x4164ad=_0x5313cb['colorArray'+'Ops']['length'];for(let _0x4d98d4=-0x18fe+0xfa4+-0x1*-0x95a;_0x4d98d4<_0x4164ad;_0x4d98d4++)_0x5313cb['colorArray'+'Ops'][_0x4d98d4]['clear']||(_0x3b2557['colorArray'+'Ops'][_0x4d98d4]['store']=!(-0x22dc+-0x92+0x236e));_0x5313cb['depthStenc'+'ilOps']['clearDepth']||(_0x3b2557['depthStenc'+'ilOps']['storeDepth']=!(0x11a*0x1+0x1654*-0x1+0x153a)),_0x5313cb['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x3b2557['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x7eb+0x1f3b+-0x2726));}_0x56fcb7['set'](_0xa06039,_0x5313cb);}}for(let _0x3e9e47=-0x17*0x27+0xc6f*0x3+-0x21cc;_0x3e9e47<_0x27559e['length']-(-0xc99+0x1*-0x1924+0x25be);_0x3e9e47++){const _0x46f9d8=_0x27559e[_0x3e9e47],_0xb058e=_0x46f9d8['renderTarg'+'et'],_0x368ec1=_0x27559e[_0x3e9e47+(0x15d3+-0x108e+0x544*-0x1)],_0x45b7c7=_0x368ec1['renderTarg'+'et'];_0xb058e!==_0x45b7c7||_0xb058e===void(0xa0*-0x8+-0xfc6+-0xa63*-0x2)||_0x368ec1['depthStenc'+'ilOps']['clearDepth']||_0x368ec1['depthStenc'+'ilOps']['clearStenc'+'il']||_0x368ec1['colorArray'+'Ops']['some'](_0xde6812=>_0xde6812['clear'])||_0x46f9d8['afterPasse'+'s']['length']>0x260+-0x6fb+-0x189*-0x3||_0x368ec1['beforePass'+'es']['length']>-0xcb8+0x1*-0x201f+0x2cd7||(_0x46f9d8['_skipEnd']=!(0x1757*0x1+0x188f+0x2fe6*-0x1),_0x368ec1['_skipStart']=!(-0x20b*0xb+-0x228f+0x3908*0x1));}let _0x426ba4=null,_0x4d9745=null;for(let _0x1b6ecd=0xafa+-0xac9+-0x7*0x7;_0x1b6ecd<_0x27559e['length'];_0x1b6ecd++){const _0x20ae47=_0x27559e[_0x1b6ecd],_0x1d27d6=_0x20ae47['renderTarg'+'et'],_0x1a4202=_0x1d27d6==null?void(0xca*0x14+-0x1f42*0x1+-0x2*-0x7bd):_0x1d27d6['colorBuffe'+'r'];if(_0x1a4202!=null&&_0x1a4202['cubemap']){if(_0x426ba4===_0x1a4202){const _0x5ab836=_0x4d9745['colorArray'+'Ops']['length'];for(let _0x589cb2=-0x1*0x25d9+-0x13db+0x39b4;_0x589cb2<_0x5ab836;_0x589cb2++)_0x4d9745['colorArray'+'Ops'][_0x589cb2]['mipmaps']=!(0xddd*-0x2+-0x27b+0x1e36);}_0x426ba4=_0x1d27d6['colorBuffe'+'r'],_0x4d9745=_0x20ae47;}else _0x20ae47['requiresCu'+'bemaps']&&(_0x426ba4=null,_0x4d9745=null);}_0x56fcb7['clear']();}['render'](_0x219949){this['compile']();const _0x394ff2=this['renderPass'+'es'];for(let _0x1eedd5=-0x3*0x769+-0x1821+0x2e5c;_0x1eedd5<_0x394ff2['length'];_0x1eedd5++)_0x394ff2[_0x1eedd5]['render']();}}class IC{constructor(_0x12a8f8,_0x1187c0){this['texture0']=_0x12a8f8,this['texture1']=_0x1187c0;}['destroy'](){var _0x469dd5,_0x5885f9;(_0x469dd5=this['texture0'])==null||_0x469dd5['destroy'](),(_0x5885f9=this['texture1'])==null||_0x5885f9['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x5028fb,_0xea1a8,_0x103b74,_0x2dc9f5=''){return new _e(_0x5028fb,{'name':'AreaLightL'+'UT'+_0x2dc9f5,'width':_0x103b74,'height':_0x103b74,'format':_0xea1a8,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x57b*-0x2+0x1a4b+-0x2540)});}static['applyTextu'+'res'](_0x1edec8,_0x32922f,_0x1fa2d3){Eg['remove'](_0x1edec8),Eg['get'](_0x1edec8,()=>new IC(_0x32922f,_0x32922f===_0x1fa2d3?null:_0x1fa2d3)),_0x1edec8['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x32922f),_0x1edec8['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x1fa2d3);}static['createPlac'+'eholder'](_0x4acbf1){const _0x379f4b=ia['createText'+'ure'](_0x4acbf1,nt,0x1278+0x91*0x19+-0x209f,'placeholde'+'r');_0x379f4b['lock']()['fill'](-0x2*0x6e5+0x1*-0x1bdb+0x29a5),_0x379f4b['unlock'](),ia['applyTextu'+'res'](_0x4acbf1,_0x379f4b,_0x379f4b);}static['set'](_0x22048b,_0x54bd70,_0x10c378){function _0x29a00f(_0x4fc109,_0xec2258,_0x535bc4){const _0x4901db=ia['createText'+'ure'](_0x4fc109,_0x535bc4,-0x2*0xaa2+-0x21e0+0x3764);return _0x4901db['lock']()['set'](_0xec2258),_0x4901db['unlock'](),_0x4901db;}function _0x4d337f(_0xae44bf){const _0x63fcae=_0xae44bf['length'],_0x4065a4=new Uint16Array(_0x63fcae),_0x2dbfad=Mn['float2Half'];for(let _0x141795=-0x3*-0x53+-0x11bb+0x82*0x21;_0x141795<_0x63fcae;_0x141795++)_0x4065a4[_0x141795]=_0x2dbfad(_0xae44bf[_0x141795]);return _0x4065a4;}const _0x4d6487=_0x54bd70,_0x57cc20=_0x10c378,_0x53a3ed=_0x4d337f(_0x4d6487),_0x465dfd=_0x4d337f(_0x57cc20),_0x2814ce=_0x29a00f(_0x22048b,_0x53a3ed,nt),_0x32a327=_0x29a00f(_0x22048b,_0x465dfd,nt);ia['applyTextu'+'res'](_0x22048b,_0x2814ce,_0x32a327);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0xc02d8b,_0xfa8b5f){for(let _0x510ec9=0x1*-0x1282+0x102a*0x2+-0x1*0xdd2,_0x4bd9c3=_0xc02d8b['length'];_0x510ec9<_0x4bd9c3;_0x510ec9++)Sm[_0xc02d8b[_0x510ec9]]=_0xfa8b5f;}function Oi(_0x10e38f){const _0xa4f52b=_0x10e38f['indexOf']('-');return _0xa4f52b!==-(-0x1733+0x9+0x172b)?_0x10e38f['substring'](-0x15b5*0x1+0x1ea*-0x11+0x363f,_0xa4f52b):_0x10e38f;}function LC(_0x44c1c3,_0x53f64e){const _0xde3790=_0x44c1c3['indexOf']('-');return _0xde3790!==-(-0x13c*-0x2+0x14dc+-0x1753)?_0x53f64e+_0x44c1c3['substring'](_0xde3790):_0x53f64e;}function Fv(_0x3c388f,_0x435f87){if(_0x435f87[_0x3c388f])return _0x3c388f;let _0x4d66c1=Mh[_0x3c388f];if(_0x4d66c1&&_0x435f87[_0x4d66c1])return _0x4d66c1;const _0x47b44d=Oi(_0x3c388f);return _0x4d66c1=Mh[_0x47b44d],_0x435f87[_0x4d66c1]?_0x4d66c1:_0x435f87[_0x47b44d]?_0x47b44d:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x370cc7=>0x15e0+-0x1*-0x1c35+0x1*-0x3215),Dr(['fa','hi'],_0x5e01a3=>_0x5e01a3>=-0x1142+0x22e+0xf14&&_0x5e01a3<=0x23c0+0x2cf*-0x1+-0x20f0?-0x11f*-0xd+0x4*-0x7ab+-0x13d*-0xd:-0xdb8*-0x2+-0x6a2+0xf*-0x163),Dr(['fr','pt'],_0xff34a9=>_0xff34a9>=0x25fe+0xf44+-0x1aa1*0x2&&_0xff34a9<-0x5bd+-0x1*0x1db3+0x2372?-0x1*-0x578+0x873*0x3+-0x1ed1:0x1125+-0x12*0xec+-0x8c),Dr(['da'],_0x9c6b93=>_0x9c6b93===-0xadb*0x1+0x9*-0x12e+0xabd*0x2||!Number['isInteger'](_0x9c6b93)&&_0x9c6b93>=0x17af+0x12b7+0x192*-0x1b&&_0x9c6b93<=0x9*0x8f+-0x2*0x956+0xda6?-0x9*-0x3a1+0x192b+-0x39d4:-0x1*-0x55d+-0x326*-0x7+-0x1b66),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x180265=>_0x180265===0x716*0x3+-0x1e00+0x8bf?0x20b3+0x563*0x3+-0x30dc:-0x26f*-0x4+0x1*0x24fa+-0x2eb5),Dr(['ru','uk'],_0x57ab11=>{if(Number['isInteger'](_0x57ab11)){const _0x3729e3=_0x57ab11%(-0x2a9+0x1769+-0x1e2*0xb),_0x170f18=_0x57ab11%(-0x8ea+-0x1*0x1051+0x199f);if(_0x3729e3===0x2203+0x6*0x446+-0x3ba6&&_0x170f18!==-0x20e9+-0x15db+0x36cf)return 0x20bb+-0x14d4+-0xbe7;if(_0x3729e3>=-0x685+-0x1df*0x3+0xc24&&_0x3729e3<=0x14d3+-0xc70+-0x85f&&(_0x170f18<0xaed*-0x1+-0x20a4+-0xb*-0x3f7||_0x170f18>-0xd32+-0x47*-0x11+0x5f*0x17))return-0x1*-0x897+-0x1*0x5d1+-0x2c5;if(_0x3729e3===0x3*-0x479+0x218d+0x1422*-0x1||_0x3729e3>=0x2*-0x3ea+-0x1*-0x12e3+-0xb0a&&_0x3729e3<=0x273+0x59b+-0x805*0x1||_0x170f18>=0x5f0*0x5+-0x609*-0x3+-0xbf0*0x4&&_0x170f18<=-0x1e*0x7d+-0x7*-0x281+-0x2d3)return 0x20b9*-0x1+-0xdb7+0x2e72;}return 0x3e*0xa1+-0x1317+-0x13e4;}),Dr(['pl'],_0x4c1883=>{if(Number['isInteger'](_0x4c1883)){if(_0x4c1883===0x1ce0+0x5*-0x2db+-0xe98)return-0xd41+0x1634*-0x1+0x139*0x1d;const _0x183998=_0x4c1883%(0x12d+0x12*0x4d+-0x68d*0x1),_0x5adf3e=_0x4c1883%(-0x20c6+-0x2*0x48d+0x43a*0xa);if(_0x183998>=-0x18d*-0x3+0x16c4+-0x1b69&&_0x183998<=0x1ce+0x6e5*0x2+-0xf94&&(_0x5adf3e<0x1fb1*-0x1+0x23d*0x1+-0x1d80*-0x1||_0x5adf3e>-0x696+0x126d+-0xbc9))return-0x397+0x2*0xb7e+-0x1364;if(_0x183998>=-0x22e2+-0x3e*-0x5e+0x5e*0x21&&_0x183998<=0x19c2+-0xcd*-0x2d+-0x2*0x1ee5||_0x183998>=0x15ed+-0x1*0x6cd+-0xf1b*0x1&&_0x183998<=0x1*0x173e+0xa3*0x6+-0x1b07||_0x5adf3e>=-0x2*0x4a2+-0x1457+0x1da7&&_0x5adf3e<=0x13*-0x11+0x169e+0x11f*-0x13)return 0xf14+-0x2d3*-0x3+-0x7b*0x31;}return-0x5*-0x3b3+0x1eba+-0x3136;}),Dr(['ar'],_0x5d43ea=>{if(_0x5d43ea===-0xe18+0x2060+0x12*-0x104)return-0x5*-0x374+-0x2ce*0x3+-0x8da;if(_0x5d43ea===0x61e+-0xfb0+0x993)return 0x1279*-0x1+-0xec7+0x2141;if(_0x5d43ea===0x2561+-0x7*0x1b4+-0x5*0x517)return-0x63c*-0x5+-0x2*0x79a+-0x3*0x552;if(Number['isInteger'](_0x5d43ea)){const _0x1e7a4e=_0x5d43ea%(-0x2*-0x8f9+0x1d29+0x1*-0x2eb7);if(_0x1e7a4e>=0x13cd*-0x1+0x1ebd+-0xaed&&_0x1e7a4e<=0x1c50+-0x1863+0x1*-0x3e3)return-0x146e+-0x14b*0x1d+-0x30*-0x135;if(_0x1e7a4e>=-0x320+-0x1*0x41f+0x74a&&_0x1e7a4e<=0x11*0x41+-0x2363+-0x1*-0x1f75)return 0xc81*-0x1+-0x5*-0x685+-0x1414;}return-0xbf8+0x3*-0xac1+0x2c40;});const RC=Sm[Oi(Ph)];function Tf(_0x4f2383){return Sm[_0x4f2383]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x2050d2='',_0x2251b4='',_0x485261=null,_0x40061e=null,_0x2c2bf4=null,_0xf128f0=null){this['url']=_0x2050d2,this['filename']=_0x2251b4,this['hash']=_0x485261,this['size']=_0x40061e,this['opt']=_0x2c2bf4,this['contents']=_0xf128f0;}['equals'](_0x341ddb){return this['url']===_0x341ddb['url']&&this['filename']===_0x341ddb['filename']&&this['hash']===_0x341ddb['hash']&&this['size']===_0x341ddb['size']&&this['opt']===_0x341ddb['opt']&&this['contents']===_0x341ddb['contents'];}}let FC=-(0x1cf3+-0x1*0x68c+-0xb33*0x2);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x425938,_0x4241cb,_0x3a69fb,_0x5e3636={},_0x8df5f8={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x7*-0x239+0xc9f*0x3+-0x164d)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x5b0+0xc*0x1d0+-0x1b6f)),h(this,'loading',!(-0x1*-0x2db+-0x3*-0xbb6+0x1ba*-0x16)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x425938||'',this['type']=_0x4241cb,this['_data']=_0x5e3636||{},this['options']=_0x8df5f8||{},_0x3a69fb&&(this['file']=_0x3a69fb));}set['name'](_0x42ae1a){if(this['_name']===_0x42ae1a)return;const _0x5b91cd=this['_name'];this['_name']=_0x42ae1a,this['fire']('name',this,this['_name'],_0x5b91cd);}get['name'](){return this['_name'];}set['file'](_0x135b78){var _0x41e4a1,_0x2a05ff;if(_0x135b78&&_0x135b78['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x1183*-0x2+-0x333+0xe*0x2bb)){const _0x497625=((_0x2a05ff=(_0x41e4a1=this['registry'])==null?void(-0x152+-0xfb*-0x12+-0x1054):_0x41e4a1['_loader'])==null?void(-0x1628+-0x84f+0x1e77):_0x2a05ff['_app'])||Ms(),_0x19f078=_0x497625==null?void(-0x1b4+0x1*-0x33f+0x4f3):_0x497625['graphicsDe'+'vice'];if(_0x19f078)for(let _0x12daf6=0x9f+-0x3*-0x77b+-0x4*0x5c4,_0x14fb8d=bg['length'];_0x12daf6<_0x14fb8d;_0x12daf6++){const _0x113ca3=bg[_0x12daf6];if(_0x135b78['variants'][_0x113ca3]&&_0x19f078[NC[_0x113ca3]]){_0x135b78=_0x135b78['variants'][_0x113ca3];break;}if(_0x497625['enableBund'+'les']){const _0x3f935f=_0x497625['bundles']['listBundle'+'sForAsset'](this);if(_0x3f935f&&_0x3f935f['find'](_0x548979=>{var _0x20ea7f;return(_0x20ea7f=_0x548979==null?void(0xca0+0xa*-0x83+-0x1*0x782):_0x548979['file'])==null?void(0x23be+-0x21a9+-0x215):_0x20ea7f['variants'][_0x113ca3];}))break;}}}const _0x137c88=this['_file'],_0x323639=_0x135b78?new OC(_0x135b78['url'],_0x135b78['filename'],_0x135b78['hash'],_0x135b78['size'],_0x135b78['opt'],_0x135b78['contents']):null;(!!_0x323639!=!!_0x137c88||_0x323639&&!_0x323639['equals'](_0x137c88))&&(this['_file']=_0x323639,this['fire']('change',this,'file',_0x323639,_0x137c88),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x3e286d){const _0x40aaeb=this['_data'];this['_data']=_0x3e286d,_0x3e286d!==_0x40aaeb&&(this['fire']('change',this,'data',_0x3e286d,_0x40aaeb),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x4e8441){const _0x12cb33=this['_resources'][-0x8dc*-0x1+-0x9*-0x3a3+0x2997*-0x1];this['_resources'][0x13*0xb6+-0x1*-0x2045+-0x2dc7]=_0x4e8441,this['fire']('change',this,'resource',_0x4e8441,_0x12cb33);}get['resource'](){return this['_resources'][0x891+0x131*0x5+-0xe86];}set['resources'](_0x4f3120){const _0x4d5212=this['_resources'];this['_resources']=_0x4f3120,this['fire']('change',this,'resources',_0x4f3120,_0x4d5212);}get['resources'](){return this['_resources'];}set['preload'](_0x426377){_0x426377=!!_0x426377,this['_preload']!==_0x426377&&(this['_preload']=_0x426377,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0xa4914d){_0xa4914d=!!_0xa4914d,(!this['hasOwnProp'+'erty']('_loadFaces')||_0xa4914d!==this['_loadFaces'])&&(this['_loadFaces']=_0xa4914d,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x144c2a=this['file'];if(!_0x144c2a||!_0x144c2a['url'])return null;let _0x15e442=_0x144c2a['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x15e442)&&(_0x15e442=this['registry']['prefix']+_0x15e442),this['type']!=='script'&&_0x144c2a['hash']){const _0x390a55=_0x15e442['indexOf']('?')!==-(0xde5+0x1751*-0x1+0x1*0x96d)?'&':'?';_0x15e442+=_0x390a55+'t='+_0x144c2a['hash'];}return _0x15e442;}['getAbsolut'+'eUrl'](_0x2714fd){if(_0x2714fd['startsWith']('blob:')||_0x2714fd['startsWith']('data:'))return _0x2714fd;const _0x403aaf=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x403aaf,_0x2714fd);}['getLocaliz'+'edAssetId'](_0x19e8a0){return _0x19e8a0=Fv(_0x19e8a0,this['_i18n']),this['_i18n'][_0x19e8a0]||null;}['addLocaliz'+'edAssetId'](_0x429bef,_0xea37a4){this['_i18n'][_0x429bef]=_0xea37a4,this['fire']('add:locali'+'zed',_0x429bef,_0xea37a4);}['removeLoca'+'lizedAsset'+'Id'](_0x138936){const _0x5e7d7c=this['_i18n'][_0x138936];_0x5e7d7c&&(delete this['_i18n'][_0x138936],this['fire']('remove:loc'+'alized',_0x138936,_0x5e7d7c));}['ready'](_0x4060a9,_0x1b4a71){_0x1b4a71=_0x1b4a71||this,this['loaded']?_0x4060a9['call'](_0x1b4a71,this):this['once']('load',_0x58cb63=>{_0x4060a9['call'](_0x1b4a71,_0x58cb63);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x152*0xc+-0x2020+-0x1*-0x2ff9),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x25e6+0x2371+0x275)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5c42c6=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1d2c+0x4e1+-0x220c),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0xc2deb0=0x4a2+-0x20ae+0x1*0x1c0c;_0xc2deb0<_0x5c42c6['length'];++_0xc2deb0){const _0x431df4=_0x5c42c6[_0xc2deb0];_0x431df4&&_0x431df4['destroy']&&_0x431df4['destroy']();}}static['fetchArray'+'Buffer'](_0x1fc319,_0x780423,_0x501e2b,_0x5920d8=0xde5+0x77*-0x4a+-0x1d*-0xb5){var _0x564d38;(_0x564d38=_0x501e2b==null?void(-0x13*0x81+0x2*0x42+0x90f*0x1):_0x501e2b['file'])!=null&&_0x564d38['contents']?setTimeout(()=>{_0x780423(null,_0x501e2b['file']['contents']);}):ot['get'](_0x1fc319,{'cache':!(-0x1fd2+0x1a6b+0x1*0x567),'responseType':'arraybuffe'+'r','retry':_0x5920d8>0xa4c+0x1b74+-0x97*0x40,'maxRetries':_0x5920d8},_0x780423);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0xb16afe=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0xb16afe;}['addItem'](_0x558e71){const _0x2ebdae=_0x558e71['tags']['_list'];for(const _0x2ed77e of _0x2ebdae)this['add'](_0x2ed77e,_0x558e71);}['removeItem'](_0x1b4ee4){const _0x27e267=_0x1b4ee4['tags']['_list'];for(const _0x50baea of _0x27e267)this['remove'](_0x50baea,_0x1b4ee4);}['add'](_0x4ea789,_0x590e98){this['_index'][_0x4ea789]&&this['_index'][_0x4ea789]['list']['indexOf'](_0x590e98)!==-(-0x2123+0x2402*0x1+-0x2de)||(this['_index'][_0x4ea789]||(this['_index'][_0x4ea789]={'list':[]},this['_key']&&(this['_index'][_0x4ea789]['keys']={})),this['_index'][_0x4ea789]['list']['push'](_0x590e98),this['_key']&&(this['_index'][_0x4ea789]['keys'][_0x590e98[this['_key']]]=_0x590e98));}['remove'](_0xd55854,_0xf9716d){if(!this['_index'][_0xd55854]||this['_key']&&!this['_index'][_0xd55854]['keys'][_0xf9716d[this['_key']]])return;const _0x4d16bf=this['_index'][_0xd55854]['list']['indexOf'](_0xf9716d);_0x4d16bf!==-(0x56*0x67+-0xfa*0xf+-0x13f3*0x1)&&(this['_index'][_0xd55854]['list']['splice'](_0x4d16bf,-0x1d*-0x48+-0x5*0x60d+0x2e*0x7b),this['_key']&&delete this['_index'][_0xd55854]['keys'][_0xf9716d[this['_key']]],this['_index'][_0xd55854]['list']['length']===-0x22ef+-0x1*-0x24cd+0xef*-0x2&&delete this['_index'][_0xd55854]);}['find'](_0x368cd9){const _0x54c9dc={},_0x2fb1c6=[];let _0x49c10e,_0x4c89cf,_0x508ade,_0x56f428,_0xb7b9c8;const _0x48b022=(_0x4c651d,_0x55bb05)=>this['_index'][_0x4c651d]['list']['length']-this['_index'][_0x55bb05]['list']['length'];for(let _0x4f81ea=-0xce*-0x7+0x136f+-0x1911;_0x4f81ea<_0x368cd9['length'];_0x4f81ea++){if(_0x4c89cf=_0x368cd9[_0x4f81ea],_0x4c89cf instanceof Array){if(_0x4c89cf['length']===0x1e31*0x1+0x2b*0x8e+0x5*-0xacf)continue;if(_0x4c89cf['length']===0x1982+0x1ab8+0x3439*-0x1)_0x4c89cf=_0x4c89cf[0x2ba*-0x1+-0x170e+0x19c8];else{_0xb7b9c8=!(0x94e+-0x67f*0x5+0x172e);for(let _0x2867c8=0x13e7+0x1f8b+-0x3372;_0x2867c8<_0x4c89cf['length'];_0x2867c8++)if(!this['_index'][_0x4c89cf[_0x2867c8]]){_0xb7b9c8=!(-0xa0a+0x1150+-0x746);break;}if(_0xb7b9c8)continue;_0x508ade=_0x4c89cf['slice'](0x592+-0x172a+0x8cc*0x2)['sort'](_0x48b022),_0x56f428=_0x508ade['slice'](0x31*-0x13+0xd98+-0x9f4),_0x56f428['length']===-0x7bf+-0x268b+0x2e4b&&(_0x56f428=_0x56f428[0x1*0x342+-0xd7+0x1*-0x26b]);for(let _0x267789=-0x56b*0x7+0x2f7+0x1*0x22f6;_0x267789<this['_index'][_0x508ade[-0xc3+0x523+-0x4*0x118]]['list']['length'];_0x267789++)_0x49c10e=this['_index'][_0x508ade[-0x1a*0xb5+0x2a*-0x13+0x1580]]['list'][_0x267789],(this['_key']?!_0x54c9dc[_0x49c10e[this['_key']]]:_0x2fb1c6['indexOf'](_0x49c10e)===-(0x7*0x12a+0x235e+-0x2b83))&&_0x49c10e['tags']['has'](_0x56f428)&&(this['_key']&&(_0x54c9dc[_0x49c10e[this['_key']]]=!(-0x1d7*-0xf+-0x43*-0x22+-0x247f)),_0x2fb1c6['push'](_0x49c10e));continue;}}if(_0x4c89cf&&typeof _0x4c89cf=='string'&&this['_index'][_0x4c89cf]){for(let _0x26b493=0x1fc4+-0x7c*0x46+-0x4*-0x89;_0x26b493<this['_index'][_0x4c89cf]['list']['length'];_0x26b493++)_0x49c10e=this['_index'][_0x4c89cf]['list'][_0x26b493],this['_key']?_0x54c9dc[_0x49c10e[this['_key']]]||(_0x54c9dc[_0x49c10e[this['_key']]]=!(0x1*-0x47+-0x1001+0x1048),_0x2fb1c6['push'](_0x49c10e)):_0x2fb1c6['indexOf'](_0x49c10e)===-(-0x1*-0x12fd+-0x29*-0x7+-0x141b)&&_0x2fb1c6['push'](_0x49c10e);}}return _0x2fb1c6;}}class mn extends me{constructor(_0x460abd){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x460abd;}['list'](_0x19590e={}){const _0x234389=Array['from'](this['_assets']);return _0x19590e['preload']!==void(0x6e*0x9+0x2*0x5c5+0x44*-0x3a)?_0x234389['filter'](_0x5c7b51=>_0x5c7b51['preload']===_0x19590e['preload']):_0x234389;}['add'](_0x166b43){var _0x33203e,_0x28dc90;this['_assets']['has'](_0x166b43)||(this['_assets']['add'](_0x166b43),this['_idToAsset']['set'](_0x166b43['id'],_0x166b43),(_0x33203e=_0x166b43['file'])!=null&&_0x33203e['url']&&this['_urlToAsse'+'t']['set'](_0x166b43['file']['url'],_0x166b43),this['_nameToAss'+'et']['has'](_0x166b43['name'])||this['_nameToAss'+'et']['set'](_0x166b43['name'],new Set()),this['_nameToAss'+'et']['get'](_0x166b43['name'])['add'](_0x166b43),_0x166b43['on']('name',this['_onNameCha'+'nge'],this),_0x166b43['registry']=this,this['_tags']['addItem'](_0x166b43),_0x166b43['tags']['on']('add',this['_onTagAdd'],this),_0x166b43['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x166b43),this['fire']('add:'+_0x166b43['id'],_0x166b43),(_0x28dc90=_0x166b43['file'])!=null&&_0x28dc90['url']&&this['fire']('add:url:'+_0x166b43['file']['url'],_0x166b43),_0x166b43['preload']&&this['load'](_0x166b43));}['remove'](_0x358391){var _0x23fb54,_0x298558;if(!this['_assets']['has'](_0x358391))return!(0x54f+-0x16d5+-0x7*-0x281);if(this['_assets']['delete'](_0x358391),this['_idToAsset']['delete'](_0x358391['id']),(_0x23fb54=_0x358391['file'])!=null&&_0x23fb54['url']&&this['_urlToAsse'+'t']['delete'](_0x358391['file']['url']),_0x358391['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x358391['name'])){const _0x492a6b=this['_nameToAss'+'et']['get'](_0x358391['name']);_0x492a6b['delete'](_0x358391),_0x492a6b['size']===-0x1*-0x1d39+-0x6bf+-0x167a&&this['_nameToAss'+'et']['delete'](_0x358391['name']);}return this['_tags']['removeItem'](_0x358391),_0x358391['tags']['off']('add',this['_onTagAdd'],this),_0x358391['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x358391['fire']('remove',_0x358391),this['fire']('remove',_0x358391),this['fire']('remove:'+_0x358391['id'],_0x358391),(_0x298558=_0x358391['file'])!=null&&_0x298558['url']&&this['fire']('remove:url'+':'+_0x358391['file']['url'],_0x358391),!(0xf07+0x1feb*-0x1+0x872*0x2);}['get'](_0x502bc6){return this['_idToAsset']['get'](Number(_0x502bc6));}['getByUrl'](_0x1277bd){return this['_urlToAsse'+'t']['get'](_0x1277bd);}['load'](_0x1fd356,_0x196d3e){if((_0x1fd356['loading']||_0x1fd356['loaded'])&&!(_0x196d3e!=null&&_0x196d3e['force']))return;const _0x84e65e=_0x1fd356['file'],_0xc97c6e=()=>{this['fire']('load',_0x1fd356),this['fire']('load:'+_0x1fd356['id'],_0x1fd356),_0x84e65e&&_0x84e65e['url']&&this['fire']('load:url:'+_0x84e65e['url'],_0x1fd356),_0x1fd356['fire']('load',_0x1fd356);},_0x2c8e7c=_0x251bc7=>{if(_0x251bc7 instanceof Array?_0x1fd356['resources']=_0x251bc7:_0x1fd356['resource']=_0x251bc7,this['_loader']['patch'](_0x1fd356,this),_0x1fd356['type']==='bundle'){const _0x16a079=_0x1fd356['data']['assets'];for(let _0x4914b6=-0xd20+-0x1b2+0xed2*0x1;_0x4914b6<_0x16a079['length'];_0x4914b6++){const _0x2defbf=this['_idToAsset']['get'](_0x16a079[_0x4914b6]);_0x2defbf&&!_0x2defbf['loaded']&&this['load'](_0x2defbf,{'force':!(-0x65b*0x3+-0x26*-0x61+-0x4ab*-0x1)});}_0x1fd356['resource']['loaded']?_0xc97c6e():(this['fire']('load:start',_0x1fd356),this['fire']('load:start'+':'+_0x1fd356['id'],_0x1fd356),_0x84e65e&&_0x84e65e['url']&&this['fire']('load:start'+':url:'+_0x84e65e['url'],_0x1fd356),_0x1fd356['fire']('load:start',_0x1fd356),_0x1fd356['resource']['on']('load',_0xc97c6e));}else _0xc97c6e();},_0x231cd9=(_0x7165e2,_0x514c39,_0x49f62d)=>{if(_0x1fd356['loaded']=!(-0x1a5d+-0x1*-0x116f+0x8ee),_0x1fd356['loading']=!(0x2053*-0x1+0x737+0x191d),_0x7165e2)this['fire']('error',_0x7165e2,_0x1fd356),this['fire']('error:'+_0x1fd356['id'],_0x7165e2,_0x1fd356),_0x1fd356['fire']('error',_0x7165e2,_0x1fd356);else{if(_0x1fd356['type']==='script'){const _0x170299=this['_loader']['getHandler']('script');_0x170299['_cache'][_0x1fd356['id']]&&_0x170299['_cache'][_0x1fd356['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x170299['_cache'][_0x1fd356['id']]),_0x170299['_cache'][_0x1fd356['id']]=_0x49f62d;}_0x2c8e7c(_0x514c39);}};if(_0x84e65e||_0x1fd356['type']==='cubemap'){this['fire']('load:start',_0x1fd356),this['fire']('load:'+_0x1fd356['id']+':start',_0x1fd356),_0x1fd356['loading']=!(0x851*0x3+-0x58b+-0x1368);const _0x4bd162=_0x1fd356['getFileUrl']();if(_0x1fd356['type']==='bundle'){const _0xab3749=_0x1fd356['data']['assets'];for(let _0x14cd8f=0x13a8+0xe7d*-0x1+-0x52b;_0x14cd8f<_0xab3749['length'];_0x14cd8f++){const _0x20c9c9=this['_idToAsset']['get'](_0xab3749[_0x14cd8f]);_0x20c9c9&&(_0x20c9c9['loaded']||_0x20c9c9['resource']||_0x20c9c9['loading']||(_0x20c9c9['loading']=!(0x626*-0x1+0x1193*-0x2+0x294c)));}}this['_loader']['load'](_0x4bd162,_0x1fd356['type'],_0x231cd9,_0x1fd356,_0x196d3e);}else{const _0x3ef1e5=this['_loader']['open'](_0x1fd356['type'],_0x1fd356['data']);_0x1fd356['loaded']=!(-0x960+0x1bb*-0xb+0x1c69),_0x2c8e7c(_0x3ef1e5);}}['reloadInde'+'x'](_0x4f64b2,_0x2ee262,_0x50cdf0){const _0x3dd78e=(_0x394f77,_0x5bba22,_0x338470)=>{_0x2ee262['loaded']=!(0xbf5*-0x3+0x1c*-0xae+-0x36e7*-0x1),_0x2ee262['loading']=!(-0x27b*-0x1+0x2631*0x1+-0x28ab);};return this['_loader']['load'](_0x4f64b2,_0x2ee262['type'],_0x3dd78e,_0x2ee262,_0x50cdf0),_0x2ee262;}['loadFromUr'+'l'](_0x4e1f74,_0x56d400,_0x285f2d){this['loadFromUr'+'lAndFilena'+'me'](_0x4e1f74,null,_0x56d400,_0x285f2d);}['loadFromUr'+'lAndFilena'+'me'](_0x701ad3,_0x2d08de,_0x5cc46c,_0x3f4b9f){const _0x2202c6=xe['getBasenam'+'e'](_0x2d08de||_0x701ad3),_0x12fd21={'filename':_0x2d08de||_0x2202c6,'url':_0x701ad3};let _0x34ef38=this['getByUrl'](_0x701ad3);if(!_0x34ef38)_0x34ef38=new pe(_0x2202c6,_0x5cc46c,_0x12fd21),this['add'](_0x34ef38);else{if(_0x34ef38['loaded']){_0x3f4b9f(_0x34ef38['loadFromUr'+'lError']||null,_0x34ef38);return;}}const _0x3cbb7d=_0x1ff017=>{_0x1ff017['once']('load',_0x59465d=>{_0x5cc46c==='material'?this['_loadTextu'+'res'](_0x59465d,(_0x3ae551,_0x579b94)=>{_0x3f4b9f(_0x3ae551,_0x59465d);}):_0x3f4b9f(null,_0x59465d);}),_0x1ff017['once']('error',_0x25a56a=>{_0x25a56a&&(this['loadFromUr'+'lError']=_0x25a56a),_0x3f4b9f(_0x25a56a,_0x1ff017);}),this['load'](_0x1ff017);};_0x34ef38['resource']?_0x3f4b9f(null,_0x34ef38):_0x5cc46c==='model'?this['_loadModel'](_0x34ef38,_0x3cbb7d):_0x3cbb7d(_0x34ef38);}['_loadModel'](_0x1f7c68,_0x4b68bf){const _0x3fc033=_0x1f7c68['getFileUrl'](),_0x1708ce=xe['getExtensi'+'on'](_0x3fc033);if(_0x1708ce==='.json'||_0x1708ce==='.glb'){const _0x4b4d51=xe['getDirecto'+'ry'](_0x3fc033),_0xac44a2=xe['getBasenam'+'e'](_0x3fc033),_0x3ae064=xe['join'](_0x4b4d51,_0xac44a2['replace'](_0x1708ce,'.mapping.j'+'son'));this['_loader']['load'](_0x3ae064,'json',(_0x2b3b0e,_0x15c0c0)=>{_0x2b3b0e?(_0x1f7c68['data']={'mapping':[]},_0x4b68bf(_0x1f7c68)):this['_loadMater'+'ials'](_0x1f7c68,_0x15c0c0,(_0x518831,_0x5bd5d8)=>{_0x1f7c68['data']=_0x15c0c0,_0x4b68bf(_0x1f7c68);});});}else _0x4b68bf(_0x1f7c68);}['_loadMater'+'ials'](_0x5b5aea,_0x3c73a6,_0x5d66e6){const _0x4fd0bc=[];let _0x335f50=-0x1*-0x1082+-0x1*0x238+-0x76*0x1f;const _0x2e6db8=(_0x1fd8ed,_0xb5c565)=>{this['_loadTextu'+'res'](_0xb5c565,(_0x455969,_0x44af1c)=>{_0x4fd0bc['push'](_0xb5c565),_0x4fd0bc['length']===_0x335f50&&_0x5d66e6(null,_0x4fd0bc);});};for(let _0x768116=0x2411+0x2*-0x98f+-0x10f3;_0x768116<_0x3c73a6['mapping']['length'];_0x768116++){const _0x42b38b=_0x3c73a6['mapping'][_0x768116]['path'];if(_0x42b38b){_0x335f50++;const _0x45cc90=_0x5b5aea['getAbsolut'+'eUrl'](_0x42b38b);this['loadFromUr'+'l'](_0x45cc90,'material',_0x2e6db8);}}_0x335f50===0x2db+0x241b+0x1*-0x26f6&&_0x5d66e6(null,_0x4fd0bc);}['_loadTextu'+'res'](_0x51796b,_0x5acf77){const _0x40d44d=[];let _0xe8168a=-0x1c54+-0x3*-0x105+0x1945;const _0x67fcd6=_0x51796b['data'];if(_0x67fcd6['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x51796b['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x5acf77(null,_0x40d44d);return;}const _0x86c15c=(_0x4185ce,_0x24c702)=>{_0x4185ce&&console['error'](_0x4185ce),_0x40d44d['push'](_0x24c702),_0x40d44d['length']===_0xe8168a&&_0x5acf77(null,_0x40d44d);},_0x981991=Cd;for(let _0x569090=-0x1*-0x1682+-0x69a+-0xfe8;_0x569090<_0x981991['length'];_0x569090++){const _0x320ee0=_0x67fcd6[_0x981991[_0x569090]];if(_0x320ee0&&typeof _0x320ee0=='string'){_0xe8168a++;const _0x3395b8=_0x51796b['getAbsolut'+'eUrl'](_0x320ee0);this['loadFromUr'+'l'](_0x3395b8,'texture',_0x86c15c);}}_0xe8168a===-0xd5*-0x15+-0x193f+0x7c6&&_0x5acf77(null,_0x40d44d);}['_onTagAdd'](_0x538ee0,_0x1ea99b){this['_tags']['add'](_0x538ee0,_0x1ea99b);}['_onTagRemo'+'ve'](_0x2713d0,_0x25c48e){this['_tags']['remove'](_0x2713d0,_0x25c48e);}['_onNameCha'+'nge'](_0x3c738a,_0x1e71de,_0x3e121e){if(this['_nameToAss'+'et']['has'](_0x3e121e)){const _0x1fabcd=this['_nameToAss'+'et']['get'](_0x3e121e);_0x1fabcd['delete'](_0x3c738a),_0x1fabcd['size']===-0x18ff+-0x1b1*0x7+0x24d6&&this['_nameToAss'+'et']['delete'](_0x3e121e);}this['_nameToAss'+'et']['has'](_0x3c738a['name'])||this['_nameToAss'+'et']['set'](_0x3c738a['name'],new Set()),this['_nameToAss'+'et']['get'](_0x3c738a['name'])['add'](_0x3c738a);}['findByTag'](..._0x536278){return this['_tags']['find'](_0x536278);}['filter'](_0x342f4b){return Array['from'](this['_assets'])['filter'](_0x4abad8=>_0x342f4b(_0x4abad8));}['find'](_0x21cef1,_0x477f7a){const _0x533624=this['_nameToAss'+'et']['get'](_0x21cef1);if(!_0x533624)return null;for(const _0x545fe6 of _0x533624)if(!_0x477f7a||_0x545fe6['type']===_0x477f7a)return _0x545fe6;return null;}['findAll'](_0x4048b3,_0x468059){const _0x3f347e=this['_nameToAss'+'et']['get'](_0x4048b3);if(!_0x3f347e)return[];const _0x40b658=Array['from'](_0x3f347e);return _0x468059?_0x40b658['filter'](_0x63bd8a=>_0x63bd8a['type']===_0x468059):_0x40b658;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x384267){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x384267,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x1ebb41){if(_0x1ebb41['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x1ebb41['id'],_0x1ebb41),this['_assets']['on']('load:start'+':'+_0x1ebb41['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x1ebb41['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x1ebb41['id'],this['_onBundleE'+'rror'],this);const _0x17ee4d=_0x1ebb41['data']['assets'];for(let _0x5a01f0=0x13de*0x1+-0xf6*-0x11+-0x2434;_0x5a01f0<_0x17ee4d['length'];_0x5a01f0++)this['_indexAsse'+'tInBundle'](_0x17ee4d[_0x5a01f0],_0x1ebb41);}else this['_assetToBu'+'ndles']['has'](_0x1ebb41['id'])&&this['_indexAsse'+'tFileUrls'](_0x1ebb41);}['_unbindAss'+'etEvents'](_0x8bc87e){this['_assets']['off']('load:start'+':'+_0x8bc87e,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x8bc87e,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x8bc87e,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x24e201,_0x5cc88a){let _0x145248=this['_assetToBu'+'ndles']['get'](_0x24e201);_0x145248||(_0x145248=new Set(),this['_assetToBu'+'ndles']['set'](_0x24e201,_0x145248)),_0x145248['add'](_0x5cc88a);const _0x2c5b9a=this['_assets']['get'](_0x24e201);_0x2c5b9a&&this['_indexAsse'+'tFileUrls'](_0x2c5b9a);}['_indexAsse'+'tFileUrls'](_0xba2a8e){const _0x392d78=this['_getAssetF'+'ileUrls'](_0xba2a8e);if(_0x392d78)for(let _0x5b6cec=0x1411+-0x1f2e+-0x239*-0x5;_0x5b6cec<_0x392d78['length'];_0x5b6cec++){const _0x33fb80=this['_assetToBu'+'ndles']['get'](_0xba2a8e['id']);_0x33fb80&&this['_urlsToBun'+'dles']['set'](_0x392d78[_0x5b6cec],_0x33fb80);}}['_getAssetF'+'ileUrls'](_0x3f362d){let _0x3f55c1=_0x3f362d['getFileUrl']();if(!_0x3f55c1)return null;_0x3f55c1=_0x3f55c1['split']('?')[-0xd*0x4b+-0x2*0x8e1+0x1591*0x1];const _0x4ede3d=[_0x3f55c1];if(_0x3f362d['type']==='font'){const _0x54fa5d=_0x3f362d['data']['info']['maps']['length'];for(let _0x4b504b=0x985+-0x19*0x17b+0x1b7f*0x1;_0x4b504b<_0x54fa5d;_0x4b504b++)_0x4ede3d['push'](_0x3f55c1['replace']('.png',_0x4b504b+'.png'));}return _0x4ede3d;}['_onAssetRe'+'move'](_0x5ba02e){if(_0x5ba02e['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x5ba02e['id']),this['_unbindAss'+'etEvents'](_0x5ba02e['id']);const _0x16ca54=_0x5ba02e['data']['assets'];for(let _0x4e81cf=-0x6*0x3fd+0x22b8+-0xaca;_0x4e81cf<_0x16ca54['length'];_0x4e81cf++){const _0x467651=this['_assetToBu'+'ndles']['get'](_0x16ca54[_0x4e81cf]);if(_0x467651&&(_0x467651['delete'](_0x5ba02e),_0x467651['size']===-0x1c*0xe+-0x1*0x23d7+0x427*0x9)){this['_assetToBu'+'ndles']['delete'](_0x16ca54[_0x4e81cf]);for(const [_0x4b808e,_0x46ca76]of this['_urlsToBun'+'dles'])_0x46ca76===_0x467651&&this['_urlsToBun'+'dles']['delete'](_0x4b808e);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x5ba02e['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x5ba02e['id']))return;this['_assetToBu'+'ndles']['delete'](_0x5ba02e['id']);const _0x417c70=this['_getAssetF'+'ileUrls'](_0x5ba02e);if(!_0x417c70)return;for(let _0x609276=-0x2*-0x101e+0x3*0x84f+-0x3929;_0x609276<_0x417c70['length'];_0x609276++)this['_urlsToBun'+'dles']['delete'](_0x417c70[_0x609276]);}}['_onBundleL'+'oadStart'](_0x4a4c30){_0x4a4c30['resource']['on']('add',(_0x5467f2,_0x4ab6cd)=>{const _0x54060d=this['_fileReque'+'sts']['get'](_0x5467f2);if(_0x54060d){for(let _0x246e4e=-0x18c7+0x1*0x26e9+-0xe22;_0x246e4e<_0x54060d['length'];_0x246e4e++)_0x54060d[_0x246e4e](null,_0x4ab6cd);this['_fileReque'+'sts']['delete'](_0x5467f2);}});}['_onBundleL'+'oad'](_0x3e544b){if(!_0x3e544b['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x3e544b['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x24ceca,_0x5b5843]of this['_fileReque'+'sts']){const _0x12eef2=this['_urlsToBun'+'dles']['get'](_0x24ceca);if(!_0x12eef2||!_0x12eef2['has'](_0x3e544b))continue;const _0x471948=decodeURIComponent(_0x24ceca);let _0x1c01b8,_0x101a4d;if(_0x3e544b['resource']['has'](_0x471948))_0x101a4d=_0x3e544b['resource']['get'](_0x471948);else{if(_0x3e544b['resource']['loaded'])_0x1c01b8='Bundle\x20'+_0x3e544b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x24ceca;else continue;}for(let _0x23f68c=0x394+-0x1*-0x6d2+-0x16*0x79;_0x23f68c<_0x5b5843['length'];_0x23f68c++)_0x5b5843[_0x23f68c](_0x1c01b8,_0x1c01b8||_0x101a4d);this['_fileReque'+'sts']['delete'](_0x24ceca);}}['_onBundleE'+'rror'](_0x56242c){for(const [_0x5b796b,_0x2117dc]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5b796b)){for(let _0x311eb5=-0xb*-0x241+0x12+-0x18dd;_0x311eb5<_0x2117dc['length'];_0x311eb5++)_0x2117dc[_0x311eb5](_0x56242c);this['_fileReque'+'sts']['delete'](_0x5b796b);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x437056){const _0x5146c7=this['_urlsToBun'+'dles']['get'](_0x437056);if(!_0x5146c7)return null;let _0x5c0f79=null;for(const _0x3f5fcc of _0x5146c7){if(_0x3f5fcc['loaded']&&_0x3f5fcc['resource'])return _0x3f5fcc;_0x3f5fcc['loading']&&(_0x5c0f79=_0x3f5fcc);}return _0x5c0f79;}['listBundle'+'sForAsset'](_0x35d14b){const _0x2730d4=this['_assetToBu'+'ndles']['get'](_0x35d14b['id']);return _0x2730d4?Array['from'](_0x2730d4):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x6c1c4c){return this['_urlsToBun'+'dles']['has'](_0x6c1c4c);}['urlIsLoade'+'dOrLoading'](_0x24721f){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x24721f);}['loadUrl'](_0x422dc4,_0x58e498){const _0x3a8dc0=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x422dc4);if(!_0x3a8dc0){_0x58e498('URL\x20'+_0x422dc4+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x3a8dc0['loaded']){const _0x6bd822=decodeURIComponent(_0x422dc4);if(_0x3a8dc0['resource']['has'](_0x6bd822)){_0x58e498(null,_0x3a8dc0['resource']['get'](_0x6bd822));return;}else{if(_0x3a8dc0['resource']['loaded']){_0x58e498('Bundle\x20'+_0x3a8dc0['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x422dc4);return;}}}let _0x6b2d7e=this['_fileReque'+'sts']['get'](_0x422dc4);_0x6b2d7e||(_0x6b2d7e=[],this['_fileReque'+'sts']['set'](_0x422dc4,_0x6b2d7e)),_0x6b2d7e['push'](_0x58e498);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x22e94e of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x22e94e);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x8deef5){const _0x3ab4b8=_0x8deef5['id'];if(this[_0x3ab4b8])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x3ab4b8+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x3ab4b8]=_0x8deef5,this['list']['push'](_0x8deef5);}['remove'](_0x5860ee){const _0xc76d7e=_0x5860ee['id'];if(!this[_0xc76d7e])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0xc76d7e+('\x27\x20register'+'ed'));delete this[_0xc76d7e];const _0x2a8657=this['list']['indexOf'](this[_0xc76d7e]);_0x2a8657!==-(0x1*-0xa63+0x1*0x15a9+0x241*-0x5)&&this['list']['splice'](_0x2a8657,0xa89+-0x17*-0x95+0x27*-0x9d);}['destroy'](){this['off']();for(let _0x42bde3=0x8e*0x4+0x1204+-0x143c;_0x42bde3<this['list']['length'];_0x42bde3++)this['list'][_0x42bde3]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x875*-0x3+0xab1+-0x240f));}['addFile'](_0x1e6ef6,_0x18841f){this['_index']['has'](_0x1e6ef6)||(this['_index']['set'](_0x1e6ef6,_0x18841f),this['fire']('add',_0x1e6ef6,_0x18841f));}['has'](_0x419384){return this['_index']['has'](_0x419384);}['get'](_0x482add){return this['_index']['get'](_0x482add)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x4c05f1){!_0x4c05f1||this['_loaded']||(this['_loaded']=!(-0xa*-0x2d1+0x2*-0xe5c+0x8e),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x337db1,_0x309457=''){super(),h(this,'headerSize',0x5*0x449+-0x21+-0x134c),h(this,'paddingSiz'+'e',0x1*-0x1ec6+0xc29*-0x3+0x4541*0x1),h(this,'bytesRead',0x38e+0x7a*-0x36+-0xb17*-0x2),h(this,'bytesRecei'+'ved',-0x5dd+0x4d*-0x79+0x1521*0x2),h(this,'headerRead',!(0x4*-0x1f1+-0x15*-0x149+-0x1338)),h(this,'reader',null),h(this,'data',new Uint8Array(0x1ff9+-0x92*0x8+-0x1b69)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x24b4+0x1*0xdd5+0x16df),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x309457||'',this['reader']=_0x337db1['body']['getReader'](),this['reader']['read']()['then'](_0x35757e=>{this['pump'](_0x35757e['done'],_0x35757e['value']);})['catch'](_0x42ba09=>{this['fire']('error',_0x42ba09);}));}['pump'](_0x4b54c1,_0x36cd8a){if(_0x4b54c1)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x36cd8a['byteLength'];const _0x1cd0c8=new Uint8Array(this['data']['length']+_0x36cd8a['length']);for(_0x1cd0c8['set'](this['data']),_0x1cd0c8['set'](_0x36cd8a,this['data']['length']),this['data']=_0x1cd0c8;this['readFile'](););return this['reader']['read']()['then'](_0x5c17b9=>{this['pump'](_0x5c17b9['done'],_0x5c17b9['value']);})['catch'](_0x35af38=>{this['fire']('error',_0x35af38);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0xb8b*-0x2+-0x19e8+0x2d2);const _0x24d30a=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x29aa18=this['decoder']['decode'](_0x24d30a);if(this['fileName']=_0x29aa18['substring'](0x541*0x2+0x24ea+-0x2f6c,0x224+-0x5*0x542+0x9*0x2ba)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x29aa18['substring'](-0x20b*-0x9+0x1*0x1d53+-0x2f3a,-0x554+-0x2030+0x2*0x1306),0x15ee+-0x1*0x2573+-0x1*-0xf8d),this['fileType']=_0x29aa18['substring'](0x1e93+-0x64e+-0x17a9,-0x6d9*0x5+-0x23a+-0x153*-0x1c),this['ustarForma'+'t']=_0x29aa18['substring'](0x2*0xdff+-0x14b1+-0x64c,-0x8d2*-0x1+-0x115*-0xa+-0x129d),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x1d2*-0x12+-0x16a5+0x15a*0x29)){const _0x18717a=_0x29aa18['substring'](0x2*0x1311+-0x16*0x8c+-0x18c1,0x2277+-0x2563+0x4e0)['replace'](/\0/g,'');_0x18717a['length']>-0x251e*-0x1+0x3*0x6f5+-0x39fd&&(this['fileName']=_0x18717a['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1237+-0x6da*0x1+0x2f*-0x33;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x3e*-0x93+0x1fc7*-0x1+0x4362);if(this['fileType']===''||this['fileType']==='0'){const _0x5745a1=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x5ee24f={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x5745a1};this['fire']('file',_0x5ee24f);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x2*-0xcb0+0x1da2+-0x1*0x3701);const _0x5609f3=this['bytesRead']%this['paddingSiz'+'e'];return _0x5609f3!==-0x1c00+0x170f+0x4f1&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x5609f3),!(0x1*0xe9b+0x23b2+-0x324d);}return!(0x1bda+0x85f+-0x2438);}}class Qe{constructor(_0x148af9,_0x5bc6be){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',-0x102a+0x509*-0x5+0x1*0x2957),(this['_app']=_0x148af9,this['handlerTyp'+'e']=_0x5bc6be);}set['maxRetries'](_0x4cc582){this['_maxRetrie'+'s']=_0x4cc582;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x8d08b1,_0x55b1ac,_0xc80ac3){}['open'](_0x30d2e0,_0x5c2585,_0x41ec7b){return _0x5c2585;}['patch'](_0x41b9da,_0x14bfd6){}}class VC extends Qe{constructor(_0x2526d7){super(_0x2526d7,'bundle'),this['_assets']=_0x2526d7['assets'];}['_fetchRetr'+'ies'](_0x582021,_0x1c57f6,_0x24a260=-0x471*-0x3+-0xa0*-0xf+0x16b3*-0x1){return new Promise((_0x1ef8f7,_0x3b1002)=>{const _0x580d25=()=>{fetch(_0x582021,_0x1c57f6)['then'](_0x1ef8f7)['catch'](_0xb10e7a=>{_0x24a260++,_0x24a260<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x24a260),_0x580d25()):_0x3b1002(_0xb10e7a);});};_0x580d25();});}['load'](_0x539e4a,_0x48cac7){typeof _0x539e4a=='string'&&(_0x539e4a={'load':_0x539e4a,'original':_0x539e4a}),this['_fetchRetr'+'ies'](_0x539e4a['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x1e3a26=>{const _0x476d7a=new gu();_0x48cac7(null,_0x476d7a);const _0x5782e9=new zC(_0x1e3a26,this['_assets']['prefix']);_0x5782e9['on']('file',_0x5b9cc7=>{_0x476d7a['addFile'](_0x5b9cc7['name'],_0x5b9cc7['data']);}),_0x5782e9['on']('done',()=>{_0x476d7a['loaded']=!(-0x1c9f+0xff0+0xcaf);}),_0x5782e9['on']('error',_0x4b7fe2=>{w['error'](_0x4b7fe2),_0x48cac7(_0x4b7fe2);});})['catch'](_0x44b4f6=>{w['error'](_0x44b4f6),_0x48cac7(_0x44b4f6);});}['open'](_0x3f157f,_0x537d40){return _0x537d40;}}class Cn{constructor(_0x3cbb3b){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x3cbb3b;}['addHandler'](_0x48ef3f,_0x1e73b7){this['_handlers'][_0x48ef3f]=_0x1e73b7,_0x1e73b7['_loader']=this;}['removeHand'+'ler'](_0x7c8440){delete this['_handlers'][_0x7c8440];}['getHandler'](_0x5dc331){return this['_handlers'][_0x5dc331];}static['makeKey'](_0x555205,_0x2fdb69){return _0x555205+'-'+_0x2fdb69;}['load'](_0x39d142,_0x366f8c,_0x315057,_0x308376,_0x4a8e3c){var _0x16dcfb;const _0x2f81fd=this['_handlers'][_0x366f8c];if(!_0x2f81fd){const _0x445ea2='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x366f8c+('\x27\x20when\x20loa'+'ding\x20[')+_0x39d142+']';w['errorOnce'](_0x445ea2),_0x315057(_0x445ea2);return;}if(!_0x39d142){this['_loadNull'](_0x2f81fd,_0x315057,_0x308376);return;}const _0x52cb23=Cn['makeKey'](_0x39d142,_0x366f8c);if(this['_requests'][_0x52cb23])this['_requests'][_0x52cb23]['push'](_0x315057);else{this['_requests'][_0x52cb23]=[_0x315057];const _0x33ff87=this,_0x4c6e20=function(_0x292145,_0x443087){if(_0x292145){_0x33ff87['_onFailure'](_0x52cb23,_0x292145);return;}if(_0x443087['load']instanceof DataView){if(_0x2f81fd['openBinary']){if(!_0x33ff87['_requests'][_0x52cb23])return;try{const _0x40d81c=_0x2f81fd['openBinary'](_0x443087['load']);_0x33ff87['_onSuccess'](_0x52cb23,_0x40d81c);}catch(_0x2b491e){_0x33ff87['_onFailure'](_0x52cb23,_0x2b491e);}return;}_0x443087['load']=URL['createObje'+'ctURL'](new Blob([_0x443087['load']])),_0x308376&&(_0x308376['urlObject']&&URL['revokeObje'+'ctURL'](_0x308376['urlObject']),_0x308376['urlObject']=_0x443087['load']);}_0x2f81fd['load'](_0x443087,(_0x29edd7,_0x2becca,_0x51eb49)=>{if(_0x33ff87['_requests'][_0x52cb23]){if(_0x29edd7){_0x33ff87['_onFailure'](_0x52cb23,_0x29edd7);return;}try{_0x33ff87['_onSuccess'](_0x52cb23,_0x2f81fd['open'](_0x443087['original'],_0x2becca,_0x308376),_0x51eb49);}catch(_0x18de97){_0x33ff87['_onFailure'](_0x52cb23,_0x18de97);}}},_0x308376);},_0x32f8dd=_0x39d142['split']('?')[0x1664+-0x8ef*0x4+0xd58];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x32f8dd)&&!(_0x4a8e3c&&_0x4a8e3c['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x32f8dd)){const _0x236db0=this['_app']['bundles']['listBundle'+'sForAsset'](_0x308376);let _0x562322;_0x4a8e3c&&_0x4a8e3c['bundlesFil'+'ter']&&(_0x562322=_0x4a8e3c['bundlesFil'+'ter'](_0x236db0)),_0x562322||(_0x236db0==null||_0x236db0['sort']((_0xedd0dd,_0x53fecd)=>_0xedd0dd['file']['size']-_0x53fecd['file']['size']),_0x562322=_0x236db0==null?void(-0x19c*-0x13+-0x2462+0x5ce):_0x236db0[-0x11*0xbc+-0x1efa+0x2b76]),_0x562322&&((_0x16dcfb=this['_app']['assets'])==null||_0x16dcfb['load'](_0x562322));}this['_app']['bundles']['loadUrl'](_0x32f8dd,(_0x3cb4d4,_0x22a7f7)=>{_0x4c6e20(_0x3cb4d4,{'load':_0x22a7f7,'original':_0x32f8dd});});}else _0x4c6e20(null,{'load':_0x39d142,'original':_0x308376&&_0x308376['file']['filename']||_0x39d142});}}['_loadNull'](_0x538307,_0x54e348,_0x1f0c09){const _0x539fb0=function(_0x3cb9d4,_0x3b3982,_0x265519){if(_0x3cb9d4)_0x54e348(_0x3cb9d4);else try{_0x54e348(null,_0x538307['open'](null,_0x3b3982,_0x1f0c09),_0x265519);}catch(_0x292c86){_0x54e348(_0x292c86);}};_0x538307['load'](null,_0x539fb0,_0x1f0c09);}['_onSuccess'](_0x2e1ae2,_0x5e6afb,_0xac0f90){for(let _0x4dafcf=0x1b3b+-0x2493+0x958;_0x4dafcf<this['_requests'][_0x2e1ae2]['length'];_0x4dafcf++)this['_requests'][_0x2e1ae2][_0x4dafcf](null,_0x5e6afb,_0xac0f90);delete this['_requests'][_0x2e1ae2];}['_onFailure'](_0x43a689,_0x4fa0b6){if(console['error'](_0x4fa0b6),this['_requests'][_0x43a689]){for(let _0x1f2df1=0x158f*-0x1+-0x9b8*-0x1+0x1b1*0x7;_0x1f2df1<this['_requests'][_0x43a689]['length'];_0x1f2df1++)this['_requests'][_0x43a689][_0x1f2df1](_0x4fa0b6);delete this['_requests'][_0x43a689];}}['open'](_0x61ef53,_0x58cbf3){const _0x4fddf7=this['_handlers'][_0x61ef53];return _0x4fddf7?_0x4fddf7['open'](null,_0x58cbf3):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x61ef53),_0x58cbf3);}['patch'](_0x2a8f7f,_0x1ba0ad){const _0x1fa0ae=this['_handlers'][_0x2a8f7f['type']];if(!_0x1fa0ae){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2a8f7f['type']);return;}_0x1fa0ae['patch']&&_0x1fa0ae['patch'](_0x2a8f7f,_0x1ba0ad);}['clearCache'](_0x1e140d,_0x4911f){const _0xe61657=Cn['makeKey'](_0x1e140d,_0x4911f);delete this['_cache'][_0xe61657];}['getFromCac'+'he'](_0x89d539,_0x4a4758){const _0x3cd16a=Cn['makeKey'](_0x89d539,_0x4a4758);if(this['_cache'][_0x3cd16a])return this['_cache'][_0x3cd16a];}['enableRetr'+'y'](_0xb8ba68=-0xfd8+-0x149*0xa+0x1*0x1cb7){_0xb8ba68=Math['max'](-0x3ad+0x6cf+-0x322,_0xb8ba68)||0x1c12+0x1673+-0x3*0x10d7;for(const _0x38fc87 in this['_handlers'])this['_handlers'][_0x38fc87]['maxRetries']=_0xb8ba68;}['disableRet'+'ry'](){for(const _0x29efee in this['_handlers'])this['_handlers'][_0x29efee]['maxRetries']=-0x1fac+-0x18f*0x9+0x2db3;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x375da7){if(!_0x375da7['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x375da7['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x375da7['header']['version']!==0x54*-0x4a+0x1abb+-0x139*0x2)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x375da7['data']){if(!Array['isArray'](_0x375da7['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x205eb3=-0x2327+0x3*0xb9+0x20fc,_0xd80c56=_0x375da7['data']['length'];_0x205eb3<_0xd80c56;_0x205eb3++){const _0x491b5e=_0x375da7['data'][_0x205eb3];if(!_0x491b5e['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x205eb3+('].info\x22\x20fi'+'eld'));if(!_0x491b5e['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x205eb3+('].info.loc'+'ale\x22\x20field'));if(typeof _0x491b5e['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x205eb3+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x491b5e['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x205eb3+('].messages'+'\x22\x20field'));}}['parse'](_0x300e73){return this['_validate'](_0x300e73),_0x300e73['data'];}}const Gh=class Gh extends me{constructor(_0x47e0d1){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x47e0d1,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x48ee48){const _0x4eb404={};for(let _0x131771=-0x3e9+0x1881*0x1+0x8*-0x293,_0x33e09d=_0x48ee48['length'];_0x131771<_0x33e09d;_0x131771++){const _0x54355d=_0x48ee48[_0x131771]instanceof pe?_0x48ee48[_0x131771]['id']:_0x48ee48[_0x131771];_0x4eb404[_0x54355d]=!(0x1170+-0xa12+-0x75e);}let _0x1985da=this['_assets']['length'];for(;_0x1985da--;){const _0x5495c9=this['_assets'][_0x1985da];if(!_0x4eb404[_0x5495c9]){this['_app']['assets']['off']('add:'+_0x5495c9,this['_onAssetAd'+'d'],this);const _0x14aada=this['_app']['assets']['get'](_0x5495c9);_0x14aada&&this['_onAssetRe'+'move'](_0x14aada),this['_assets']['splice'](_0x1985da,0x22a*0x11+0xdf4+-0x32bd);}}for(const _0x1e5c60 in _0x4eb404){const _0x24a6c2=parseInt(_0x1e5c60,0x327*0x5+-0x1681+0x1b2*0x4);if(this['_assets']['indexOf'](_0x24a6c2)!==-(0x45*0x21+0x14cb+-0x1daf))continue;this['_assets']['push'](_0x24a6c2);const _0x336414=this['_app']['assets']['get'](_0x24a6c2);_0x336414?this['_onAssetAd'+'d'](_0x336414):this['_app']['assets']['once']('add:'+_0x24a6c2,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x1d637b){if(this['_locale']===_0x1d637b)return;let _0x327e26=Oi(_0x1d637b);if(_0x327e26==='in'&&(_0x327e26='id',_0x1d637b=LC(_0x1d637b,_0x327e26),this['_locale']===_0x1d637b))return;const _0x42191e=this['_locale'];this['_locale']=_0x1d637b,this['_lang']=_0x327e26,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x1d637b,_0x42191e);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x2275b3,_0x591d12){return Fv(_0x2275b3,_0x591d12);}['findAvaila'+'bleLocale'](_0x54a884){if(this['_translati'+'ons'][_0x54a884])return _0x54a884;const _0x1e7e2a=Oi(_0x54a884);return this['_findFallb'+'ackLocale'](_0x54a884,_0x1e7e2a);}['getText'](_0x3d86da,_0x9e3429){let _0x1e98a7=_0x3d86da,_0x330a56;_0x9e3429||(_0x9e3429=this['_locale'],_0x330a56=this['_lang']);let _0x4c83c9=this['_translati'+'ons'][_0x9e3429];return _0x4c83c9||(_0x330a56||(_0x330a56=Oi(_0x9e3429)),_0x9e3429=this['_findFallb'+'ackLocale'](_0x9e3429,_0x330a56),_0x4c83c9=this['_translati'+'ons'][_0x9e3429]),_0x4c83c9&&_0x4c83c9['hasOwnProp'+'erty'](_0x3d86da)&&(_0x1e98a7=_0x4c83c9[_0x3d86da],Array['isArray'](_0x1e98a7)&&(_0x1e98a7=_0x1e98a7[0x1*-0xa65+0x581*0x7+0x1a*-0x115]),_0x1e98a7==null&&(_0x1e98a7=_0x3d86da)),_0x1e98a7;}['getPluralT'+'ext'](_0x5d0866,_0x159f5c,_0x3b5ba7){let _0x5a54bf=_0x5d0866,_0xbb1e92,_0x15d40c;_0x3b5ba7?(_0xbb1e92=Oi(_0x3b5ba7),_0x15d40c=Tf(_0xbb1e92)):(_0x3b5ba7=this['_locale'],_0xbb1e92=this['_lang'],_0x15d40c=this['_pluralFn']);let _0x1df7c7=this['_translati'+'ons'][_0x3b5ba7];if(_0x1df7c7||(_0x3b5ba7=this['_findFallb'+'ackLocale'](_0x3b5ba7,_0xbb1e92),_0xbb1e92=Oi(_0x3b5ba7),_0x15d40c=Tf(_0xbb1e92),_0x1df7c7=this['_translati'+'ons'][_0x3b5ba7]),_0x1df7c7&&_0x1df7c7[_0x5d0866]&&_0x15d40c){const _0x471b67=_0x15d40c(_0x159f5c);_0x5a54bf=_0x1df7c7[_0x5d0866][_0x471b67],_0x5a54bf==null&&(_0x5a54bf=_0x5d0866);}return _0x5a54bf;}['addData'](_0x593548){let _0x16d088;try{_0x16d088=this['_parser']['parse'](_0x593548);}catch(_0x31fc60){console['error'](_0x31fc60);return;}for(let _0x221ae8=0x142f*-0x1+0x9*0x355+-0xfb*0xa,_0x174563=_0x16d088['length'];_0x221ae8<_0x174563;_0x221ae8++){const _0x4511a5=_0x16d088[_0x221ae8],_0x3c78e5=_0x4511a5['info']['locale'],_0x4160e2=_0x4511a5['messages'];if(!this['_translati'+'ons'][_0x3c78e5]){this['_translati'+'ons'][_0x3c78e5]={};const _0x569ecd=Oi(_0x3c78e5);this['_available'+'Langs'][_0x569ecd]||(this['_available'+'Langs'][_0x569ecd]=_0x3c78e5);}Object['assign'](this['_translati'+'ons'][_0x3c78e5],_0x4160e2),this['fire']('data:add',_0x3c78e5,_0x4160e2);}}['removeData'](_0x120b42){let _0x5c7f82;try{_0x5c7f82=this['_parser']['parse'](_0x120b42);}catch(_0x2c1dd6){console['error'](_0x2c1dd6);return;}for(let _0x302d37=0x1170+-0x10ba+-0xb6,_0xf71925=_0x5c7f82['length'];_0x302d37<_0xf71925;_0x302d37++){const _0x25c885=_0x5c7f82[_0x302d37],_0x3990cd=_0x25c885['info']['locale'],_0x522f47=this['_translati'+'ons'][_0x3990cd];if(!_0x522f47)continue;const _0x3ed310=_0x25c885['messages'];for(const _0x5d2914 in _0x3ed310)delete _0x522f47[_0x5d2914];Object['keys'](_0x522f47)['length']===-0x1*0x92a+0x168e+-0x1*0xd64&&(delete this['_translati'+'ons'][_0x3990cd],delete this['_available'+'Langs'][Oi(_0x3990cd)]),this['fire']('data:remov'+'e',_0x3990cd,_0x3ed310);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3cf9a7,_0x3b8b5f){let _0x30ae52=Mh[_0x3cf9a7];return _0x30ae52&&this['_translati'+'ons'][_0x30ae52]||(_0x30ae52=Mh[_0x3b8b5f],_0x30ae52&&this['_translati'+'ons'][_0x30ae52])||(_0x30ae52=this['_available'+'Langs'][_0x3b8b5f],_0x30ae52&&this['_translati'+'ons'][_0x30ae52])?_0x30ae52:Ph;}['_onAssetAd'+'d'](_0x3e4211){_0x3e4211['on']('load',this['_onAssetLo'+'ad'],this),_0x3e4211['on']('change',this['_onAssetCh'+'ange'],this),_0x3e4211['on']('remove',this['_onAssetRe'+'move'],this),_0x3e4211['on']('unload',this['_onAssetUn'+'load'],this),_0x3e4211['resource']&&this['_onAssetLo'+'ad'](_0x3e4211);}['_onAssetLo'+'ad'](_0x3ea5c9){this['addData'](_0x3ea5c9['resource']);}['_onAssetCh'+'ange'](_0x276b18){_0x276b18['resource']&&this['addData'](_0x276b18['resource']);}['_onAssetRe'+'move'](_0x196f33){_0x196f33['off']('load',this['_onAssetLo'+'ad'],this),_0x196f33['off']('change',this['_onAssetCh'+'ange'],this),_0x196f33['off']('remove',this['_onAssetRe'+'move'],this),_0x196f33['off']('unload',this['_onAssetUn'+'load'],this),_0x196f33['resource']&&this['removeData'](_0x196f33['resource']),this['_app']['assets']['once']('add:'+_0x196f33['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x10babc){_0x10babc['resource']&&this['removeData'](_0x10babc['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x217c4f){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x217c4f;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x303727,_0x5c9f76){_0x5c9f76&&this['_scriptSch'+'emas']['set'](_0x303727,_0x5c9f76);}['getSchema'](_0x544480){return this['_scriptSch'+'emas']['get'](_0x544480);}['add'](_0x199c45){const _0x507beb=_0x199c45['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x507beb)?(setTimeout(()=>{if(_0x199c45['prototype']['swap']){const _0x4b734b=this['_scripts'][_0x507beb],_0x2ad9be=this['_list']['indexOf'](_0x4b734b);this['_list'][_0x2ad9be]=_0x199c45,this['_scripts'][_0x507beb]=_0x199c45,this['fire']('swap',_0x507beb,_0x199c45),this['fire']('swap:'+_0x507beb,_0x199c45);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x507beb+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x204a+-0x114c+0x3197)):(this['_scripts'][_0x507beb]=_0x199c45,this['_list']['push'](_0x199c45),this['fire']('add',_0x507beb,_0x199c45),this['fire']('add:'+_0x507beb,_0x199c45),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x507beb)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x99e117=this['app']['systems']['script']['_component'+'s'];let _0x593c2a;const _0x559e62=[],_0x3c8541=[];for(_0x99e117['loopIndex']=0xb1e+-0x99+-0xa85;_0x99e117['loopIndex']<_0x99e117['length'];_0x99e117['loopIndex']++){const _0x3806df=_0x99e117['items'][_0x99e117['loopIndex']];if(_0x3806df['_scriptsIn'+'dex'][_0x507beb]&&_0x3806df['_scriptsIn'+'dex'][_0x507beb]['awaiting']){_0x3806df['_scriptsDa'+'ta']&&_0x3806df['_scriptsDa'+'ta'][_0x507beb]&&(_0x593c2a=_0x3806df['_scriptsDa'+'ta'][_0x507beb]['attributes']);const _0x14dd11=_0x3806df['create'](_0x507beb,{'preloading':!(-0x1c*0x20+0x1d04+-0x1984),'ind':_0x3806df['_scriptsIn'+'dex'][_0x507beb]['ind'],'attributes':_0x593c2a});_0x14dd11&&_0x559e62['push'](_0x14dd11);for(const _0x216704 of _0x3806df['scripts'])_0x3806df['initialize'+'Attributes'](_0x216704);}}for(let _0x51984b=0x1fbd+-0x3*-0xc5+-0x220c;_0x51984b<_0x559e62['length'];_0x51984b++)_0x559e62[_0x51984b]['enabled']&&(_0x559e62[_0x51984b]['_initializ'+'ed']=!(-0x1612+0x11*0x5+0x15bd),_0x3c8541['push'](_0x559e62[_0x51984b]),_0x559e62[_0x51984b]['initialize']&&_0x559e62[_0x51984b]['initialize']());for(let _0x46987f=0x3*-0x9a9+-0x8d+0x1d88;_0x46987f<_0x3c8541['length'];_0x46987f++)!_0x3c8541[_0x46987f]['enabled']||_0x3c8541[_0x46987f]['_postIniti'+'alized']||(_0x3c8541[_0x46987f]['_postIniti'+'alized']=!(0x18e*0x18+-0x8*0x21f+-0x1458),_0x3c8541[_0x46987f]['postInitia'+'lize']&&_0x3c8541[_0x46987f]['postInitia'+'lize']());}),!(-0x7*-0x34a+0xfbb*0x2+-0xd9f*0x4));}['remove'](_0xe9f937){let _0x43bd4e=_0xe9f937,_0xc77e41=_0xe9f937;if(typeof _0xc77e41!='string'?_0xc77e41=_0x43bd4e['__name']:_0x43bd4e=this['get'](_0xc77e41),this['get'](_0xc77e41)!==_0x43bd4e)return!(-0x1da7+-0xb9a+0x2942);delete this['_scripts'][_0xc77e41];const _0x576f63=this['_list']['indexOf'](_0x43bd4e);return this['_list']['splice'](_0x576f63,-0x148a+0x5fb+0xe90),this['fire']('remove',_0xc77e41,_0x43bd4e),this['fire']('remove:'+_0xc77e41,_0x43bd4e),!(-0x23d8+-0x149*-0xe+0x1c9*0xa);}['get'](_0x2de7e3){return this['_scripts'][_0x2de7e3]||null;}['has'](_0x50b4a2){if(typeof _0x50b4a2=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x50b4a2);if(!_0x50b4a2)return!(0x556+0x26f5+0x1*-0x2c4a);const _0x232af9=_0x50b4a2['__name'];return this['_scripts'][_0x232af9]===_0x50b4a2;}['list'](){return this['_list'];}}const WC=(_0x490f03,_0x5a7e27)=>_0x490f03['constructo'+'r']['order']-_0x5a7e27['constructo'+'r']['order'],$C=_0x2e4e7e=>_0x2e4e7e['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x785ea6=>{_0x785ea6['length']=0x41*0x3c+0x1036+-0x1f72,Nv['push'](_0x785ea6);},Hh=class Hh extends Ie{constructor(_0xc5994d,_0x7821e1=Ms()){super(_0xc5994d),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(0x49*0x20+-0x1f4e+0x162f)),h(this,'_guid',null),h(this,'_template',!(0x1*0x22a3+-0x158c+-0x2*0x68b)),(w['assert'](_0x7821e1,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x7821e1);}['addCompone'+'nt'](_0x46895b,_0x319de6){const _0x35275e=this['_app']['systems'][_0x46895b];return _0x35275e?this['c'][_0x46895b]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x46895b+('\x27\x20componen'+'t')),null):_0x35275e['addCompone'+'nt'](this,_0x319de6):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x46895b+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x3fa01b){const _0x4a5d62=this['_app']['systems'][_0x3fa01b];if(!_0x4a5d62){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x3fa01b+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x3fa01b]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x3fa01b+('\x27\x20componen'+'t'));return;}_0x4a5d62['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x19c8bf){const _0x3d14bb=this['findOne'](_0x37ca01=>{var _0x525753;return(_0x525753=_0x37ca01['c'])==null?void(0x8e*-0x6+-0x8*0x47+0x58c):_0x525753[_0x19c8bf];});return _0x3d14bb&&_0x3d14bb['c'][_0x19c8bf];}['findCompon'+'ents'](_0x44c319){return this['find'](_0x2ba272=>{var _0x3c2897;return(_0x3c2897=_0x2ba272['c'])==null?void(-0x8*-0x35d+-0x1*0x2c5+-0x25*0xa7):_0x3c2897[_0x44c319];})['map'](_0x31f1b8=>_0x31f1b8['c'][_0x44c319]);}['findScript'](_0x2199d4){const _0xdf60ba=this['findOne'](_0xc8678e=>{var _0x2c39be,_0x1e6694;return(_0x1e6694=(_0x2c39be=_0xc8678e['c'])==null?void(-0x2d3+-0x2692+0x2965):_0x2c39be['script'])==null?void(0x46c*-0x1+0x2586+-0x2*0x108d):_0x1e6694['has'](_0x2199d4);});return _0xdf60ba==null?void(-0x2ab*-0xe+0x22b+-0x2785):_0xdf60ba['c']['script']['get'](_0x2199d4);}['findScript'+'s'](_0x3bc44d){return this['find'](_0x4aeea4=>{var _0x3f6c53,_0x34179f;return(_0x34179f=(_0x3f6c53=_0x4aeea4['c'])==null?void(-0x14c9+-0x21fc+-0x36c5*-0x1):_0x3f6c53['script'])==null?void(0x1579+-0x5e9*0x5+-0x2f*-0x2c):_0x34179f['has'](_0x3bc44d);})['map'](_0x34846c=>_0x34846c['c']['script']['get'](_0x3bc44d));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x303d38){const _0x214e7f=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x214e7f[this['_guid']],this['_guid']=_0x303d38,_0x214e7f[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x135a14,_0x2d9991){let _0x12bfaa=!(-0x1c8d+0x602*0x4+-0x2*-0x243);_0x135a14===this&&po['length']===-0x1813+0x1d76+-0x7*0xc5&&(_0x12bfaa=!(0x32b*-0x1+-0x1ee3+-0x3*-0xb5a)),_0x135a14['_beingEnab'+'led']=!(0x9a9+0x1f0b+0x5*-0x824),_0x135a14['_onHierarc'+'hyStateCha'+'nged'](_0x2d9991),_0x135a14['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x135a14);const _0x1c12b7=_0x135a14['_children'];for(let _0x59add1=0x1*-0x1d0f+0x3*-0x47+0x1de4*0x1,_0x426012=_0x1c12b7['length'];_0x59add1<_0x426012;_0x59add1++)_0x1c12b7[_0x59add1]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x1c12b7[_0x59add1],_0x2d9991);if(_0x135a14['_beingEnab'+'led']=!(0x1*-0x15ce+-0x9bc+0x1f8b),_0x12bfaa){for(let _0x10f053=0x11*0x2+0x7*-0x215+-0x1*-0xe71;_0x10f053<po['length'];_0x10f053++)po[_0x10f053]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=-0x27*-0x29+-0x1b50+0x1511;}}['_onHierarc'+'hyStateCha'+'nged'](_0x9732fd){super['_onHierarc'+'hyStateCha'+'nged'](_0x9732fd);const _0x4e289c=this['_getSorted'+'Components']();for(let _0x6f1881=-0xbc4+0x1c92+0x1*-0x10ce;_0x6f1881<_0x4e289c['length'];_0x6f1881++){const _0x50e557=_0x4e289c[_0x6f1881];_0x50e557['enabled']&&(_0x9732fd?_0x50e557['onEnable']():_0x50e557['onDisable']());}Ag(_0x4e289c);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x962e5a=this['_getSorted'+'Components']();for(let _0x3cb71e=-0x1940+0x90*-0x3d+0x3b90;_0x3cb71e<_0x962e5a['length'];_0x3cb71e++)_0x962e5a[_0x3cb71e]['onPostStat'+'eChange']();Ag(_0x962e5a);}['findByGuid'](_0x2ff9b7){if(this['_guid']===_0x2ff9b7)return this;const _0x3a96ec=this['_app']['_entityInd'+'ex'][_0x2ff9b7];return _0x3a96ec&&(_0x3a96ec===this||_0x3a96ec['isDescenda'+'ntOf'](this))?_0x3a96ec:null;}['destroy'](){this['_destroyin'+'g']=!(0xf97*0x2+0x26da+-0x4608);for(const _0x1db8ee in this['c'])this['c'][_0x1db8ee]['enabled']=!(0x166a+0xef9*-0x1+-0x770);for(const _0x18c9c0 in this['c'])this['c'][_0x18c9c0]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x1a8e+0x3e0+0x1e6d*-0x1);}['clone'](){const _0x3216e5={},_0x2198a3=this['_cloneRecu'+'rsively'](_0x3216e5);return _0x3216e5[this['getGuid']()]=_0x2198a3,kv(this,this,_0x2198a3,_0x3216e5),_0x2198a3;}['_getSorted'+'Components'](){const _0x1a9600=this['c'],_0x4d468d=XC();let _0x45a277=0x7*0x29f+-0x129c+0x43;for(const _0x58f71a in _0x1a9600)if(_0x1a9600['hasOwnProp'+'erty'](_0x58f71a)){const _0x559675=_0x1a9600[_0x58f71a];_0x45a277|=_0x559675['constructo'+'r']['order']!==-0x2690+0xad7*0x1+0x1bb9,_0x4d468d['push'](_0x559675);}return _0x45a277&&_0x4d468d['length']>-0x37*-0x88+0x1b5b+-0x1c49*0x2&&$C(_0x4d468d),_0x4d468d;}['_cloneRecu'+'rsively'](_0x323769){const _0x7e85c0=new this['constructo'+'r'](void(0x2*-0xe9d+-0x1*0x19a+0x1ed4*0x1),this['_app']);super['_cloneInte'+'rnal'](_0x7e85c0);for(const _0x2cf746 in this['c'])this['c'][_0x2cf746]['system']['cloneCompo'+'nent'](this,_0x7e85c0);for(let _0x950ab5=-0xd91+-0xcd9+-0x31*-0x8a;_0x950ab5<this['_children']['length'];_0x950ab5++){const _0x3a382e=this['_children'][_0x950ab5];if(_0x3a382e instanceof Hh){const _0x5100e0=_0x3a382e['_cloneRecu'+'rsively'](_0x323769);_0x7e85c0['addChild'](_0x5100e0),_0x323769[_0x3a382e['getGuid']()]=_0x5100e0;}}return _0x7e85c0;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x1214b6,_0x56c27d,_0x1ddd5b,_0x453c19){if(_0x56c27d instanceof lt){const _0x2b674e=_0x56c27d['c'];for(const _0x438fd6 in _0x2b674e){const _0x485ce0=_0x2b674e[_0x438fd6],_0x2cdf66=_0x485ce0['system']['getPropert'+'iesOfType']('entity');for(let _0x18dba7=0xfaa+-0x13ca+0x58*0xc,_0x1ad804=_0x2cdf66['length'];_0x18dba7<_0x1ad804;_0x18dba7++){const _0x5e93c8=_0x2cdf66[_0x18dba7]['name'],_0x3854aa=_0x485ce0[_0x5e93c8];if(!!_0x1214b6['findByGuid'](_0x3854aa)){const _0x1177e8=_0x453c19[_0x3854aa]['getGuid']();_0x1177e8?_0x1ddd5b['c'][_0x438fd6][_0x5e93c8]=_0x1177e8:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x2b674e['script']&&_0x1ddd5b['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['script'],_0x453c19),_0x2b674e['render']&&_0x1ddd5b['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['render'],_0x453c19),_0x2b674e['button']&&_0x1ddd5b['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['button'],_0x453c19),_0x2b674e['scrollview']&&_0x1ddd5b['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['scrollview'],_0x453c19),_0x2b674e['scrollbar']&&_0x1ddd5b['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['scrollbar'],_0x453c19),_0x2b674e['anim']&&_0x1ddd5b['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b674e['anim'],_0x453c19);const _0x4fcf61=_0x56c27d['children']['filter'](_0x3436a7=>_0x3436a7 instanceof lt),_0x2848aa=_0x1ddd5b['children']['filter'](_0xc33bc9=>_0xc33bc9 instanceof lt);for(let _0x491744=0x65*-0x4+-0xb79+-0xd*-0x101,_0x37a348=_0x4fcf61['length'];_0x491744<_0x37a348;_0x491744++)kv(_0x1214b6,_0x4fcf61[_0x491744],_0x2848aa[_0x491744],_0x453c19);}}class Cg{constructor(_0x63499e,_0x2a1a71){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x38d+0x5d*0x61+-0x1*0x26c9)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x63499e,this['url']=_0x2a1a71);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x1b7ddd){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x1b7ddd;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x1cfa0e,_0x459420){if(this['_index']['hasOwnProp'+'erty'](_0x1cfa0e))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x1cfa0e),!(-0xc48+0x1556*0x1+-0x90d);const _0x411d87=new Cg(_0x1cfa0e,_0x459420),_0x54c455=this['_list']['push'](_0x411d87);return this['_index'][_0x411d87['name']]=_0x54c455-(-0x1*-0x6f7+-0x1e60+-0x36*-0x6f),this['_urlIndex'][_0x411d87['url']]=_0x54c455-(-0x1cd3+-0x11e3*-0x2+-0x6f2),!(-0x19c3+-0x13f*-0x11+0x494);}['find'](_0x4bbf91){return this['_index']['hasOwnProp'+'erty'](_0x4bbf91)?this['_list'][this['_index'][_0x4bbf91]]:null;}['findByUrl'](_0x46a34e){return this['_urlIndex']['hasOwnProp'+'erty'](_0x46a34e)?this['_list'][this['_urlIndex'][_0x46a34e]]:null;}['remove'](_0x4cead4){if(this['_index']['hasOwnProp'+'erty'](_0x4cead4)){const _0x2fd710=this['_index'][_0x4cead4];let _0x284400=this['_list'][_0x2fd710];delete this['_urlIndex'][_0x284400['url']],delete this['_index'][_0x4cead4],this['_list']['splice'](_0x2fd710,-0x1*-0x23cf+-0x3*-0x3b7+-0x2ef3);for(let _0x313c45=0x1*0x109d+0x10cd+-0x1a*0x149;_0x313c45<this['_list']['length'];_0x313c45++)_0x284400=this['_list'][_0x313c45],this['_index'][_0x284400['name']]=_0x313c45,this['_urlIndex'][_0x284400['url']]=_0x313c45;}}['_loadScene'+'Data'](_0x21257f,_0x21d02a,_0x3482ae){const _0x532c74=this['_app'];let _0x3d90f4=_0x21257f;if(typeof _0x21257f=='string'&&(_0x21257f=this['findByUrl'](_0x3d90f4)||this['find'](_0x3d90f4)||new Cg('Untitled',_0x3d90f4)),_0x3d90f4=_0x21257f['url'],!_0x3d90f4){_0x3482ae('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x21257f['loaded']){_0x3482ae(null,_0x21257f);return;}_0x532c74['assets']&&_0x532c74['assets']['prefix']&&!jn['test'](_0x3d90f4)&&(_0x3d90f4=xe['join'](_0x532c74['assets']['prefix'],_0x3d90f4)),_0x21257f['_onLoadedC'+'allbacks']['push'](_0x3482ae),_0x21257f['_loading']||_0x532c74['loader']['getHandler']('hierarchy')['load'](_0x3d90f4,(_0xae8851,_0x157ed8)=>{_0x21257f['data']=_0x157ed8,_0x21257f['_loading']=!(-0x966*0x2+-0x8c6+0x1b93);for(let _0x460faa=-0x4b*0x73+0x43*-0x7b+-0x15f6*-0x3;_0x460faa<_0x21257f['_onLoadedC'+'allbacks']['length'];_0x460faa++)_0x21257f['_onLoadedC'+'allbacks'][_0x460faa](_0xae8851,_0x21257f);_0x21d02a||(_0x21257f['data']=null),_0x21257f['_onLoadedC'+'allbacks']['length']=0x21d1+0x10*0x20a+-0x4271*0x1;}),_0x21257f['_loading']=!(0x1f*0xca+0x1401+-0x1*0x2c77);}['loadSceneD'+'ata'](_0x3cd944,_0x160510){this['_loadScene'+'Data'](_0x3cd944,!(-0xf*0xdf+0x4c*0x27+0x3*0x7f),_0x160510);}['unloadScen'+'eData'](_0x5ef07b){typeof _0x5ef07b=='string'&&(_0x5ef07b=this['findByUrl'](_0x5ef07b)),_0x5ef07b&&(_0x5ef07b['data']=null);}['_loadScene'+'Hierarchy'](_0x23423f,_0x4af30b,_0x1d1522){this['_loadScene'+'Data'](_0x23423f,!(0xeff+0x180e+-0x270c),(_0x46bcc3,_0x404ff3)=>{if(_0x46bcc3){_0x1d1522&&_0x1d1522(_0x46bcc3);return;}_0x4af30b&&_0x4af30b(_0x404ff3);const _0x1d8a0a=this['_app'],_0x3d1357=()=>{const _0x58213b=_0x1d8a0a['loader']['getHandler']('hierarchy');_0x1d8a0a['systems']['script']['preloading']=!(0x1*0x1+-0xed4+0xed3);const _0x594b23=_0x58213b['open'](_0x404ff3['url'],_0x404ff3['data']);_0x1d8a0a['systems']['script']['preloading']=!(-0x1a*-0x10f+0xe22+-0x29a7),_0x1d8a0a['loader']['clearCache'](_0x404ff3['url'],'hierarchy'),_0x1d8a0a['root']['addChild'](_0x594b23),_0x1d8a0a['systems']['fire']('initialize',_0x594b23),_0x1d8a0a['systems']['fire']('postInitia'+'lize',_0x594b23),_0x1d8a0a['systems']['fire']('postPostIn'+'itialize',_0x594b23),_0x1d1522&&_0x1d1522(null,_0x594b23);};_0x1d8a0a['_preloadSc'+'ripts'](_0x404ff3['data'],_0x3d1357);});}['loadSceneH'+'ierarchy'](_0x4b0bae,_0x13427b){this['_loadScene'+'Hierarchy'](_0x4b0bae,null,_0x13427b);}['loadSceneS'+'ettings'](_0x1e9668,_0x4fc02b){this['_loadScene'+'Data'](_0x1e9668,!(-0x5e4+-0x4f3+0x2*0x56c),(_0x52ccdb,_0x4ada6d)=>{_0x52ccdb?_0x4fc02b&&_0x4fc02b(_0x52ccdb):(this['_app']['applyScene'+'Settings'](_0x4ada6d['data']['settings']),_0x4fc02b&&_0x4fc02b(null));});}['changeScen'+'e'](_0x120efa,_0x4d1c23){const _0x2bfb61=this['_app'],_0xddb5f0=_0x236ed9=>{const {children:_0x143932}=_0x2bfb61['root'];for(;_0x143932['length'];)_0x143932[-0xb7f+-0x118d*-0x2+-0x179b]['destroy']();_0x2bfb61['applyScene'+'Settings'](_0x236ed9['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x120efa,_0xddb5f0,_0x4d1c23);}['loadScene'](_0x5293b9,_0x3e3984){const _0x453bf9=this['_app'],_0x3d7c23=_0x453bf9['loader']['getHandler']('scene');_0x453bf9['assets']&&_0x453bf9['assets']['prefix']&&!jn['test'](_0x5293b9)&&(_0x5293b9=xe['join'](_0x453bf9['assets']['prefix'],_0x5293b9)),_0x3d7c23['load'](_0x5293b9,(_0x374cc6,_0x72a753)=>{if(_0x374cc6)_0x3e3984&&_0x3e3984(_0x374cc6);else{const _0x2bf9fd=()=>{_0x453bf9['systems']['script']['preloading']=!(-0x125*0x11+0xade+-0x2dd*-0x3);const _0x1ea036=_0x3d7c23['open'](_0x5293b9,_0x72a753),_0x50ef75=this['findByUrl'](_0x5293b9);_0x50ef75&&!_0x50ef75['loaded']&&(_0x50ef75['data']=_0x72a753),_0x453bf9['systems']['script']['preloading']=!(-0x2*-0x93f+0x524+-0x17a1),_0x453bf9['loader']['clearCache'](_0x5293b9,'scene'),_0x453bf9['loader']['patch']({'resource':_0x1ea036,'type':'scene'},_0x453bf9['assets']),_0x453bf9['root']['addChild'](_0x1ea036['root']),_0x453bf9['systems']['rigidbody']&&typeof Ammo<'u'&&_0x453bf9['systems']['rigidbody']['gravity']['set'](_0x1ea036['_gravity']['x'],_0x1ea036['_gravity']['y'],_0x1ea036['_gravity']['z']),_0x3e3984&&_0x3e3984(null,_0x1ea036);};_0x453bf9['_preloadSc'+'ripts'](_0x72a753,_0x2bf9fd);}});}}class jC{constructor(_0x892761){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x892761['_shaderSta'+'ts'],this['vram']=_0x892761['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x447589;return(_0x447589=Ms()['lightmappe'+'r'])==null?void(-0x16f8+-0x1a5*-0x2+0xb*0x1ca):_0x447589['stats'];}get['batcher'](){const _0x117086=Ms()['_batcher'];return _0x117086?_0x117086['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x2c72e3){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x590*0x5+0x74a*0x1+-0x5*0x705)),h(this,'_inFrameUp'+'date',!(-0x1a48*-0x1+0x90f+-0x2356)),h(this,'_libraries'+'Loaded',!(-0x19*0x85+0x205*-0x11+-0x1*-0x2f53)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(0xac*0x1+0x1*-0x9ca+0x185*0x6)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x2*-0x65+-0x7d+-0x13*0x4)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x4b4+-0x1840+-0x6*-0x342),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',0x1466+0x1*-0x3cb+-0x109a),h(this,'maxDeltaTi'+'me',-0x1*-0x1931+0x1*-0x15f1+0x2*-0x1a0+0.1),h(this,'frame',-0x1e43+-0x5*-0x1d7+0x1510),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x1336*0x1+-0xc07*0x2+-0x28*-0x1f)),h(this,'renderNext'+'Frame',!(-0x2608+-0x1*0x2683+-0x2646*-0x2)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x1e7*0xe+0x2*0xe0+-0x40e*0x7):hn['indexOf']('$'))<-0x1956+0x11ae+-0x1c*-0x46&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x2c72e3['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x12c1*-0x1+-0x14cc+0x1*0x20b));}['init'](_0x4b6cf1){const {assetPrefix:_0x12df81,batchManager:_0x1df8a6,componentSystems:_0x474824,elementInput:_0x33b6cf,gamepads:_0x542110,graphicsDevice:_0x3999ad,keyboard:_0x2372d3,lightmapper:_0x4c79c0,mouse:_0x321f4a,resourceHandlers:_0xd8406b,scriptsOrder:_0x15a37b,scriptPrefix:_0x232e52,soundManager:_0xf48479,touch:_0x17ca8f,xr:_0x3bdcab}=_0x4b6cf1;w['assert'](_0x3999ad,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x3999ad,Pe['get'](_0x3999ad,Fe)['add'](Z2),Pe['get'](_0x3999ad,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x3999ad),this['_soundMana'+'ger']=_0xf48479,this['scene']=new Et(_0x3999ad),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x12df81&&(this['assets']['prefix']=_0x12df81),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x15a37b||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0x1ed3+0x16ee+-0x35c0),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x993a9a=new du('default');_0x993a9a['pushOpaque'](this['defaultLay'+'erWorld']),_0x993a9a['pushOpaque'](this['defaultLay'+'erDepth']),_0x993a9a['pushOpaque'](this['defaultLay'+'erSkybox']),_0x993a9a['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x993a9a['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x993a9a['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x993a9a['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x993a9a,ia['createPlac'+'eholder'](_0x3999ad),this['renderer']=new fl(_0x3999ad),this['renderer']['scene']=this['scene'],_0x4c79c0&&(this['lightmappe'+'r']=new _0x4c79c0(_0x3999ad,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x1df8a6&&(this['_batcher']=new _0x1df8a6(_0x3999ad,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x2372d3||null,this['mouse']=_0x321f4a||null,this['touch']=_0x17ca8f||null,this['gamepads']=_0x542110||null,_0x33b6cf&&(this['elementInp'+'ut']=_0x33b6cf,this['elementInp'+'ut']['app']=this),this['xr']=_0x3bdcab?new _0x3bdcab(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x232e52||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0xd8406b['forEach'](_0x290ef5=>{const _0x5dd12c=new _0x290ef5(this);this['loader']['addHandler'](_0x5dd12c['handlerTyp'+'e'],_0x5dd12c);}),_0x474824['forEach'](_0x42fe4c=>{this['systems']['add'](new _0x42fe4c(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x74c+-0x191d+-0x2069*-0x1)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x26a6*0x1+0x2460+-0x1*-0x247))):document['mozHidden']!==void(0xa6+0xbb6+0xe2*-0xe)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x2420+-0xff2+-0x3413*-0x1))):document['msHidden']!==void(-0x210d+0x1d4c+0x3c1*0x1)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x48*0x56+0x2f*-0xb7+-0x1*-0x39ca))):document['webkitHidd'+'en']!==void(0x1f06+-0x1*0x197e+-0x6*0xec)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1457+0x1*0xc04+-0xd*-0xa4)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x12c24e){return _0x12c24e?ea['_applicati'+'ons'][_0x12c24e]:Ms();}['_initDefau'+'ltMaterial'](){const _0x52ac4c=new Ut();_0x52ac4c['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x52ac4c);}['_initProgr'+'amLibrary'](){const _0x2fff65=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x2fff65);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x221b27,_0x40774e){ot['get'](_0x221b27,(_0x35b2ee,_0x4a71d0)=>{if(_0x35b2ee){_0x40774e(_0x35b2ee);return;}const _0x255230=_0x4a71d0['applicatio'+'n_properti'+'es'],_0x3d881c=_0x4a71d0['scenes'],_0x2b9608=_0x4a71d0['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x255230,_0x4f0b17=>{this['_parseScen'+'es'](_0x3d881c),this['_parseAsse'+'ts'](_0x2b9608),_0x40774e(_0x4f0b17||null);});});}['preload'](_0x3840e7){this['fire']('preload:st'+'art');const _0x27ab75=this['assets']['list']({'preload':!(0x1080+-0x1260+0x1e0)});if(_0x27ab75['length']===0x3f*-0x43+0x1bf7*0x1+0x5bd*-0x2){this['fire']('preload:en'+'d'),_0x3840e7();return;}let _0x389e07=-0x10ab+-0x59c+0x1647;const _0x219d9f=()=>{_0x389e07++,this['fire']('preload:pr'+'ogress',_0x389e07/_0x27ab75['length']),_0x389e07===_0x27ab75['length']&&(this['fire']('preload:en'+'d'),_0x3840e7());};_0x27ab75['forEach'](_0x40d60c=>{_0x40d60c['loaded']?_0x219d9f():(_0x40d60c['once']('load',_0x219d9f),_0x40d60c['once']('error',_0x219d9f),this['assets']['load'](_0x40d60c));});}['_preloadSc'+'ripts'](_0xe71c17,_0x538785){_0x538785();}['_parseAppl'+'icationPro'+'perties'](_0xdd18aa,_0x7298ed){if(typeof _0xdd18aa['maxAssetRe'+'tries']=='number'&&_0xdd18aa['maxAssetRe'+'tries']>0x8*0x133+-0xe2b+0x493&&this['loader']['enableRetr'+'y'](_0xdd18aa['maxAssetRe'+'tries']),_0xdd18aa['useDeviceP'+'ixelRatio']||(_0xdd18aa['useDeviceP'+'ixelRatio']=_0xdd18aa['use_device'+'_pixel_rat'+'io']),_0xdd18aa['resolution'+'Mode']||(_0xdd18aa['resolution'+'Mode']=_0xdd18aa['resolution'+'_mode']),_0xdd18aa['fillMode']||(_0xdd18aa['fillMode']=_0xdd18aa['fill_mode']),this['_width']=_0xdd18aa['width'],this['_height']=_0xdd18aa['height'],_0xdd18aa['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0xdd18aa['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0xdd18aa['fillMode'],this['_width'],this['_height']),_0xdd18aa['layers']&&_0xdd18aa['layerOrder']){const _0x387273=new du('applicatio'+'n'),_0x5c2872={};for(const _0x7a3469 in _0xdd18aa['layers']){const _0x3fe784=_0xdd18aa['layers'][_0x7a3469];_0x3fe784['id']=parseInt(_0x7a3469,0xbf*0x2f+0x1a47*-0x1+-0x8c0),_0x3fe784['enabled']=_0x3fe784['id']!==ps,_0x5c2872[_0x7a3469]=new Ot(_0x3fe784);}for(let _0x2bf795=0x228f+0x1*0x17b7+-0x3a46,_0x760f00=_0xdd18aa['layerOrder']['length'];_0x2bf795<_0x760f00;_0x2bf795++){const _0x1af44f=_0xdd18aa['layerOrder'][_0x2bf795],_0x4f60a7=_0x5c2872[_0x1af44f['layer']];_0x4f60a7&&(_0x1af44f['transparen'+'t']?_0x387273['pushTransp'+'arent'](_0x4f60a7):_0x387273['pushOpaque'](_0x4f60a7),_0x387273['subLayerEn'+'abled'][_0x2bf795]=_0x1af44f['enabled']);}this['scene']['layers']=_0x387273;}if(_0xdd18aa['batchGroup'+'s']){const _0x63a369=this['batcher'];if(_0x63a369)for(let _0x4258c5=0xf7a*0x1+0x1b98+-0x2b12,_0x14aea1=_0xdd18aa['batchGroup'+'s']['length'];_0x4258c5<_0x14aea1;_0x4258c5++){const _0x4a9e81=_0xdd18aa['batchGroup'+'s'][_0x4258c5];_0x63a369['addGroup'](_0x4a9e81['name'],_0x4a9e81['dynamic'],_0x4a9e81['maxAabbSiz'+'e'],_0x4a9e81['id'],_0x4a9e81['layers']);}}_0xdd18aa['i18nAssets']&&(this['i18n']['assets']=_0xdd18aa['i18nAssets']),this['_loadLibra'+'ries'](_0xdd18aa['libraries'],_0x7298ed);}['_loadLibra'+'ries'](_0x1bf9d0,_0xabe578){const _0x5b15cd=_0x1bf9d0['length'];let _0x32ab53=_0x5b15cd;const _0xc0395c=/^https?:\/\//;if(_0x5b15cd){const _0x40f6c0=(_0x4cc37f,_0x4ed9b6)=>{_0x32ab53--,_0x4cc37f?_0xabe578(_0x4cc37f):_0x32ab53===0xf*0xb5+-0xe9*-0x1+0x2*-0x5c2&&(this['onLibrarie'+'sLoaded'](),_0xabe578(null));};for(let _0x3ae2fc=0x706*0x4+0x120e+-0x2e26;_0x3ae2fc<_0x5b15cd;++_0x3ae2fc){let _0x27dada=_0x1bf9d0[_0x3ae2fc];!_0xc0395c['test'](_0x27dada['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x27dada=xe['join'](this['_scriptPre'+'fix'],_0x27dada)),this['loader']['load'](_0x27dada,'script',_0x40f6c0);}}else this['onLibrarie'+'sLoaded'](),_0xabe578(null);}['_parseScen'+'es'](_0x14d232){if(_0x14d232){for(let _0x486797=-0x3*0x5d6+-0x685+0x1807*0x1;_0x486797<_0x14d232['length'];_0x486797++)this['scenes']['add'](_0x14d232[_0x486797]['name'],_0x14d232[_0x486797]['url']);}}['_parseAsse'+'ts'](_0x17551f){const _0x131550=[],_0x172dda={},_0x2e796d={};for(let _0x2d0179=-0x115e+-0x658+0x17b6;_0x2d0179<this['scriptsOrd'+'er']['length'];_0x2d0179++){const _0x4df719=this['scriptsOrd'+'er'][_0x2d0179];_0x17551f[_0x4df719]&&(_0x172dda[_0x4df719]=!(0xae4+0x231e+-0x2e02),_0x131550['push'](_0x17551f[_0x4df719]));}if(this['enableBund'+'les']){for(const _0x1c3300 in _0x17551f)_0x17551f[_0x1c3300]['type']==='bundle'&&(_0x2e796d[_0x1c3300]=!(-0x268c+0x266b+-0x21*-0x1),_0x131550['push'](_0x17551f[_0x1c3300]));}for(const _0x191d35 in _0x17551f)_0x172dda[_0x191d35]||_0x2e796d[_0x191d35]||_0x131550['push'](_0x17551f[_0x191d35]);for(let _0x20647e=-0x1*0x25d+-0x13*-0x89+0x14d*-0x6;_0x20647e<_0x131550['length'];_0x20647e++){const _0x4b07ed=_0x131550[_0x20647e],_0x2df176=new pe(_0x4b07ed['name'],_0x4b07ed['type'],_0x4b07ed['file'],_0x4b07ed['data']);if(_0x2df176['id']=parseInt(_0x4b07ed['id'],0xdd8+-0x2e3*0x5+-0xa1*-0x1),_0x2df176['preload']=_0x4b07ed['preload']?_0x4b07ed['preload']:!(0xb*0x50+0xa95+-0xe04),_0x2df176['loaded']=_0x4b07ed['type']==='script'&&_0x4b07ed['data']&&_0x4b07ed['data']['loadingTyp'+'e']>-0x1bfc+-0x1063+-0x1*-0x2c5f,_0x2df176['tags']['add'](_0x4b07ed['tags']),_0x4b07ed['i18n']){for(const _0x3b2ad5 in _0x4b07ed['i18n'])_0x2df176['addLocaliz'+'edAssetId'](_0x3b2ad5,_0x4b07ed['i18n'][_0x3b2ad5]);}this['assets']['add'](_0x2df176);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x239*0x1+-0x1772*-0x1+-0x19ab*0x1);}),this['frame']=-0x1*0xb1b+-0xb7b*0x1+0x1696,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x53672f){this['controller']&&this['controller']['update'](_0x53672f),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x42e9a9){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x42e9a9),this['systems']['fire']('animationU'+'pdate',_0x42e9a9),this['systems']['fire']('postUpdate',_0x42e9a9),this['fire']('update',_0x42e9a9),this['inputUpdat'+'e'](_0x42e9a9),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0x59*0x52+0x1*-0x26d+0xb*-0x25f,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0xe5711e){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xe5711e),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xe5711e),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x28f0d6,_0x496f67,_0x12fcf2){const _0x3340c0=this['stats']['frame'];_0x3340c0['dt']=_0x496f67,_0x3340c0['ms']=_0x12fcf2,_0x28f0d6>_0x3340c0['_timeToCou'+'ntFrames']?(_0x3340c0['fps']=_0x3340c0['_fpsAccum'],_0x3340c0['_fpsAccum']=-0x46c+0x367*-0x5+-0xb1*-0x1f,_0x3340c0['_timeToCou'+'ntFrames']=_0x28f0d6+(-0x1327*0x1+0x1*0x3a4+0x136b*0x1)):_0x3340c0['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x38d+0x1fc+0x191;}['_fillFrame'+'Stats'](){let _0x3d545f=this['stats']['frame'];_0x3d545f['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x3d545f['materials']=this['renderer']['_materialS'+'witches'],_0x3d545f['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x3d545f['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x3d545f['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x3d545f['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x3d545f['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x1167f2=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x3d545f['triangles']=_0x1167f2[js]/(-0xd08+0x60d*-0x1+0x2f*0x68)+Math['max'](_0x1167f2[Er]-(0x231+0x1c18+-0x1e47),0x24*-0x108+-0x25ff+0x4b1f)+Math['max'](_0x1167f2[oa]-(0x6*-0xe7+-0x1*-0xd2d+0x5*-0x18d),-0x3ef*-0x4+0x6d*-0x3a+-0x25*-0x3e),_0x3d545f['cullTime']=this['renderer']['_cullTime'],_0x3d545f['sortTime']=this['renderer']['_sortTime'],_0x3d545f['skinTime']=this['renderer']['_skinTime'],_0x3d545f['morphTime']=this['renderer']['_morphTime'],_0x3d545f['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x3d545f['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x3d545f['otherPrimi'+'tives']=0xc59*-0x1+0x39e+-0x1*-0x8bb;for(let _0x205f36=0x8aa+0x2186+0x546*-0x8;_0x205f36<_0x1167f2['length'];_0x205f36++)_0x205f36<js&&(_0x3d545f['otherPrimi'+'tives']+=_0x1167f2[_0x205f36]),_0x1167f2[_0x205f36]=0x1*0xe17+-0x8a4*-0x2+0x1f5f*-0x1;this['renderer']['_camerasRe'+'ndered']=0x8b3+0x521*0x4+-0x115*0x1b,this['renderer']['_materialS'+'witches']=-0xfd3+-0x1504+0x1*0x24d7,this['renderer']['_shadowMap'+'Updates']=0x13d7*0x1+0x689*0x1+0x698*-0x4,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x174+-0x20ed+0x47f*0x7,this['renderer']['_cullTime']=0x2ac*-0x8+0x4b9+0x10a7,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0xd7a+0x1*-0x14b7+0x11*0x6d,this['renderer']['_lightClus'+'tersTime']=-0x1b63+0xa3*0x1d+0x8ec,this['renderer']['_sortTime']=0x1aa6+0x21d1+-0x3c77,this['renderer']['_skinTime']=0xb61+-0x1d8e+0x122d,this['renderer']['_morphTime']=-0x272*-0x1+-0x1cd3+-0x1a61*-0x1,this['renderer']['_shadowMap'+'Time']=-0x1185+0x50d*-0x1+0x1692,this['renderer']['_depthMapT'+'ime']=0x26d3+0x1720+0x1*-0x3df3,this['renderer']['_forwardTi'+'me']=0x189c+-0xc18+-0xc84,_0x3d545f=this['stats']['drawCalls'],_0x3d545f['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x3d545f['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x3d545f['depth']=-0x9e4+-0x2*0x13+0xa0a,_0x3d545f['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x3d545f['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x3d545f['immediate']=0x6b8*0x1+-0x24bb+0x1*0x1e03,_0x3d545f['instanced']=-0x944+0xb06+0x9*-0x32,_0x3d545f['removedByI'+'nstancing']=0x2*-0x336+0x2383+0x1*-0x1d17,_0x3d545f['misc']=_0x3d545f['total']-(_0x3d545f['forward']+_0x3d545f['shadow']),this['renderer']['_depthDraw'+'Calls']=0x22f5+0x1b5*-0x13+0x286*-0x1,this['renderer']['_shadowDra'+'wCalls']=0x1bda+-0x17a7+-0x433,this['renderer']['_forwardDr'+'awCalls']=0xe79+0x1*-0xd3b+0x13e*-0x1,this['renderer']['_numDrawCa'+'llsCulled']=-0x800+0x5e4+0x2d*0xc,this['renderer']['_skinDrawC'+'alls']=-0x627*0x3+-0x1*0x2329+0x1*0x359e,this['renderer']['_immediate'+'Rendered']=-0x1f73+0x360+-0x1*-0x1c13,this['renderer']['_instanced'+'DrawCalls']=0x15d7+0x11*0x22d+-0x3ad4,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x3d545f=this['stats']['particles'],_0x3d545f['updatesPer'+'Frame']=_0x3d545f['_updatesPe'+'rFrame'],_0x3d545f['frameTime']=_0x3d545f['_frameTime'],_0x3d545f['_updatesPe'+'rFrame']=-0x14d*-0x5+0x2a2*0xc+0xcb3*-0x3,_0x3d545f['_frameTime']=-0x16f7+-0x361*0x1+0x1a58;}['setCanvasF'+'illMode'](_0x5ded67,_0x27741b,_0x56693a){this['_fillMode']=_0x5ded67,this['resizeCanv'+'as'](_0x27741b,_0x56693a);}['setCanvasR'+'esolution'](_0x2c7804,_0x2a87df,_0x3889f8){this['_resolutio'+'nMode']=_0x2c7804,_0x2c7804===wg&&_0x2a87df===void(-0x3*0xb2+0x51*-0x6b+0x23f1)&&(_0x2a87df=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x3889f8=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2a87df,_0x3889f8);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x394265,_0x37ad66){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x240408=window['innerWidth'],_0x37a46c=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x48a9b7=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x652d87=_0x240408/_0x37a46c;_0x48a9b7>_0x652d87?(_0x394265=_0x240408,_0x37ad66=_0x394265/_0x48a9b7):(_0x37ad66=_0x37a46c,_0x394265=_0x37ad66*_0x48a9b7);}else this['_fillMode']===PC&&(_0x394265=_0x240408,_0x37ad66=_0x37a46c);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x394265+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x37ad66+'px',this['updateCanv'+'asSize'](),{'width':_0x394265,'height':_0x37ad66};}['updateCanv'+'asSize'](){var _0x3c9359;if(!(!this['_allowResi'+'ze']||(_0x3c9359=this['xr'])!=null&&_0x3c9359['active'])&&this['_resolutio'+'nMode']===wg){const _0x459da8=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x459da8['clientWidt'+'h'],_0x459da8['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1138+0x29f+0x25*0x65),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x263f75){let _0xbea217;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x1165de,_0x171573,_0x49dd36]=_0x263f75['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x1165de,_0x171573,_0x49dd36);}this['scene']['applySetti'+'ngs'](_0x263f75),_0x263f75['render']['hasOwnProp'+'erty']('skybox')&&(_0x263f75['render']['skybox']?(_0xbea217=this['assets']['get'](_0x263f75['render']['skybox']),_0xbea217?this['setSkybox'](_0xbea217):this['assets']['once']('add:'+_0x263f75['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0xdd3bf2,_0x400d35){_0xdd3bf2&&_0x400d35?ia['set'](this['graphicsDe'+'vice'],_0xdd3bf2,_0x400d35):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x143ddf){if(_0x143ddf!==this['_skyboxAss'+'et']){const _0x40bd94=()=>{this['setSkybox'](null);},_0x2f6f72=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x2f6f72,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x40bd94,this),this['_skyboxAss'+'et']['off']('change',_0x2f6f72,this)),this['_skyboxAss'+'et']=_0x143ddf,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x2f6f72,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x40bd94,this),this['_skyboxAss'+'et']['on']('change',_0x2f6f72,this),this['scene']['skyboxMip']===-0x1a63*0x1+-0x1160+0x293*0x11&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0xd0e+-0x2c*-0x26+0x686)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x2f6f72();}}['_firstBake'](){var _0x18a2ef;(_0x18a2ef=this['lightmappe'+'r'])==null||_0x18a2ef['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x296974;(_0x296974=this['batcher'])==null||_0x296974['generate']();}['_processTi'+'mestamp'](_0xd32880){return _0xd32880;}['drawLine'](_0x10fdf5,_0x1b7ac2,_0x131474,_0x5f4d49,_0x5ed32b){this['scene']['drawLine'](_0x10fdf5,_0x1b7ac2,_0x131474,_0x5f4d49,_0x5ed32b);}['drawLines'](_0x1beef8,_0x125b01,_0x39025e=!(-0x1*0x1dff+0x2*0x233+0x1999),_0x1da132=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1beef8,_0x125b01,_0x39025e,_0x1da132);}['drawLineAr'+'rays'](_0x1d67b5,_0xbab572,_0x5328a0=!(-0x1007*-0x2+0x91*-0x11+-0x166d),_0x2e876e=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x1d67b5,_0xbab572,_0x5328a0,_0x2e876e);}['drawWireSp'+'here'](_0x49810e,_0x3bc79c,_0xa026f6=ie['WHITE'],_0x284d2f=-0x20de+-0x11c0+0x10e6*0x3,_0x413796=!(0xdf+-0x8f3+0x4*0x205),_0x5ae418=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x49810e,_0x3bc79c,_0xa026f6,_0x284d2f,_0x413796,_0x5ae418);}['drawWireAl'+'ignedBox'](_0x5be826,_0x36f6f6,_0x4f18dd=ie['WHITE'],_0x50244a=!(0x1d49*0x1+0x128c*-0x1+-0xabd),_0x1128d6=this['scene']['defaultDra'+'wLayer'],_0x1e4df1){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x5be826,_0x36f6f6,_0x4f18dd,_0x50244a,_0x1128d6,_0x1e4df1);}['drawMeshIn'+'stance'](_0x2881ee,_0x4564ab=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x2881ee,_0x4564ab);}['drawMesh'](_0x44c8d0,_0x312b77,_0x3cadcf,_0xdae49c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x312b77,_0x3cadcf,_0x44c8d0,null,_0xdae49c);}['drawQuad'](_0x5407e8,_0x2edd9b,_0x36129b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x2edd9b,_0x5407e8,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x36129b);}['drawTextur'+'e'](_0x402fbe,_0xd24fee,_0x726457,_0x283372,_0x38be44,_0x36c709,_0x1cccb1=this['scene']['defaultDra'+'wLayer'],_0x1f2f44=!(-0x1ea9+0x12f5+-0x1*-0xbb4)){if(_0x1f2f44===!(0x1*-0xb5+0x9*0x77+-0x379)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1ad51a=new te();_0x1ad51a['setTRS'](new D(_0x402fbe,_0xd24fee,-0x2*-0xb29+-0x37a+0x24*-0x86),le['IDENTITY'],new D(_0x726457,-_0x283372,-0xecf+0x760+0x76f*0x1)),_0x36c709||(_0x36c709=new Xn(),_0x36c709['cull']=bt,_0x36c709['setParamet'+'er']('colorMap',_0x38be44),_0x36c709['shaderDesc']=_0x1f2f44?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x38be44['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x36c709['update']()),this['drawQuad'](_0x1ad51a,_0x36c709,_0x1cccb1);}['drawDepthT'+'exture'](_0x2ffb0e,_0x5894e0,_0x16d970,_0x25cb6d,_0x1be09a=this['scene']['defaultDra'+'wLayer']){const _0x23364a=new Xn();_0x23364a['cull']=bt,_0x23364a['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x23364a['update'](),this['drawTextur'+'e'](_0x2ffb0e,_0x5894e0,_0x16d970,_0x25cb6d,null,_0x23364a,_0x1be09a);}['destroy'](){var _0x22e439,_0x4f25d6,_0x4011fa,_0x28d123;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0xb02*0x2+-0x1deb*0x1+0x7e7);return;}const _0x41f37a=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x17df+0x1be*0xe+-0x3042)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xd4+0x1*0x1d3+-0x2a6)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2616+-0x1d7*0x10+-0x1*-0x4387)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1ce4+0x1558+-0x4d*0xa7))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x436d52=this['assets']['list']();for(let _0x57d8fe=0x9a9+0x423*0x8+-0xb*0x3e3;_0x57d8fe<_0x436d52['length'];_0x57d8fe++)_0x436d52[_0x57d8fe]['unload'](),_0x436d52[_0x57d8fe]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x106b9f=this['loader']['getHandler']('script');_0x106b9f==null||_0x106b9f['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x22e439=this['lightmappe'+'r'])==null||_0x22e439['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x4f25d6=this['xr'])==null||_0x4f25d6['end'](),(_0x4011fa=this['xr'])==null||_0x4011fa['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x28d123=this['_soundMana'+'ger'])==null||_0x28d123['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x41f37a]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x13419d){_0x13419d['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x13419d['frameReque'+'stId']),_0x13419d['frameReque'+'stId']=void(-0x957*0x3+-0x14d*0x2+-0x1e9f*-0x1));}['getEntityF'+'romIndex'](_0x22a595){return this['_entityInd'+'ex'][_0x22a595];}['_registerS'+'ceneImmedi'+'ate'](_0x23ec64){this['on']('postrender',_0x23ec64['immediate']['onPostRend'+'er'],_0x23ec64['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x489a8b){const _0x19a470=_0x489a8b;return function(_0x40c370,_0x437a86){var _0x3d770e,_0x67ed4d,_0x3e825,_0x9e3075;if(!_0x19a470['graphicsDe'+'vice'])return;_0x19a470['frameReque'+'stId']&&((_0x67ed4d=(_0x3d770e=_0x19a470['xr'])==null?void(0x1*0x1871+-0x6*-0x5db+0x65*-0x97):_0x3d770e['session'])==null||_0x67ed4d['cancelAnim'+'ationFrame'](_0x19a470['frameReque'+'stId']),cancelAnimationFrame(_0x19a470['frameReque'+'stId']),_0x19a470['frameReque'+'stId']=null),_0x19a470['_inFrameUp'+'date']=!(0x1f7*-0x2+0x822+-0x434),_u(_0x19a470);const _0x3e4eed=_0x19a470['_processTi'+'mestamp'](_0x40c370)||de(),_0x5820a9=_0x3e4eed-(_0x19a470['_time']||_0x3e4eed);let _0x4599a1=_0x5820a9/(0x1d9*0x11+0x1*-0x1082+0xaff*-0x1);if(_0x4599a1=Y['clamp'](_0x4599a1,-0x4ed*0x7+-0x3a+0x22b5,_0x19a470['maxDeltaTi'+'me']),_0x4599a1*=_0x19a470['timeScale'],_0x19a470['_time']=_0x3e4eed,(_0x3e825=_0x19a470['xr'])!=null&&_0x3e825['session']?_0x19a470['frameReque'+'stId']=_0x19a470['xr']['session']['requestAni'+'mationFram'+'e'](_0x19a470['tick']):_0x19a470['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x19a470['tick']):null,_0x19a470['graphicsDe'+'vice']['contextLos'+'t'])return;_0x19a470['_fillFrame'+'StatsBasic'](_0x3e4eed,_0x4599a1,_0x5820a9),_0x19a470['_fillFrame'+'Stats'](),_0x19a470['fire']('frameupdat'+'e',_0x5820a9);let _0x4f7c47=!(0x1c13*-0x1+-0x2355+0x3f69);_0x437a86?(_0x4f7c47=!((_0x9e3075=_0x19a470['xr'])!=null&&_0x9e3075['update'](_0x437a86)),_0x19a470['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x437a86['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x19a470['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x4f7c47&&!_0x19a470['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x19a470['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x157*0x1c+0xb61+-0x30e3)+'ms'),_0x19a470['update'](_0x4599a1),_0x19a470['fire']('framerende'+'r'),(_0x19a470['autoRender']||_0x19a470['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x246d+-0x2*-0xd79+0x97d)+'ms'),_0x19a470['render'](),_0x19a470['renderNext'+'Frame']=!(0xfb1+0x16*0x1c1+-0x3646),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0x19da*-0x1+-0x1496+-0x542)+'ms')),_0x19a470['fire']('frameend')),_0x19a470['_inFrameUp'+'date']=!(-0xa*-0x373+0x1a65+-0x3ce2),_0x19a470['_destroyRe'+'quested']&&_0x19a470['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x2ff408,_0x5ad9ba,_0xa7cfc9){this['scene']=_0x2ff408,this['light']=_0x5ad9ba,this['store'](),_0x5ad9ba['numCascade'+'s']=0xa77+0x1ec5+-0x293b,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0xa7cfc9['shadowsEna'+'bled']&&(_0x5ad9ba['castShadow'+'s']=!(-0xf3b+-0xb*-0x1c3+-0x425)),_0x5ad9ba['type']!==ve&&(_0x5ad9ba['_node']['getWorldTr'+'ansform'](),_0x5ad9ba['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x27661e=this['light'];_0x27661e['mask']=this['mask'],_0x27661e['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x27661e['enabled']=this['enabled'],_0x27661e['intensity']=this['intensity'],_0x27661e['_node']['setLocalRo'+'tation'](this['rotation']),_0x27661e['numCascade'+'s']=this['numCascade'+'s'],_0x27661e['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x1f*-0xfc+-0xd79+-0x110b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x4fe226){const _0x366bb7=this['light'];_0x366bb7['enabled']=!(-0x220f+0x2053+0x1bd),_0x366bb7['shadowMap']&&(_0x366bb7['shadowMap']['cached']&&_0x4fe226['add'](_0x366bb7,_0x366bb7['shadowMap']),_0x366bb7['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x3580af,_0x191ad3){super(_0x3580af['scene'],_0x191ad3,_0x3580af['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0xb87*-0x1+-0x1f11+-0x1*-0x138b;}['prepareVir'+'tualLight'](_0x39a979,_0x49b77b){const _0x1f3425=this['light'];if(_0x1f3425['_node']['setLocalRo'+'tation'](this['rotation']),_0x39a979>0x2665*0x1+-0x8db+-0xc7*0x26){const _0x4d16a3=_0x1f3425['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x39a979,_0x49b77b),yc['mulScalar'](_0x4d16a3*(-0x1f9d+-0x1259+0x31f6+0.5)),_0x1f3425['_node']['rotateLoca'+'l'](yc['x'],-0x22d*-0x1+-0xaab*0x1+0x87e,yc['y']);}_0x1f3425['_node']['getWorldTr'+'ansform']();const _0x5f2dbc=-0x9*0x117+-0x12df+-0x48*-0x66+0.20000000000000018,_0x203543=Math['pow'](this['intensity'],_0x5f2dbc);_0x1f3425['intensity']=Math['pow'](_0x203543/_0x49b77b,(-0x3*-0x2e7+-0x1a73+0x4d*0x3b)/_0x5f2dbc);}}const Pg=new D();class Mg extends Uv{constructor(_0x4f64e6){const _0x52ef2a=_0x4f64e6['scene'],_0x2b6b80=new lt('AmbientLig'+'ht');_0x2b6b80['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x10b8+-0x4b9+0x1571),'affectLightmapped':!(0x15*0x1d1+0xf0b*-0x2+-0x407*0x2),'bake':!(0xc77+0x2362+-0x2fd9),'bakeNumSamples':_0x52ef2a['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x258+0xe8c+-0xc34),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0x47a+0x556+-0x3*0x49)}),super(_0x52ef2a,_0x2b6b80['light']['light'],_0x4f64e6['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0xa4d77f,_0x443156){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0xa4d77f,_0x443156,-0x1*0x1ddf+0x2681+0x82*-0x11,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x2*-0xa7f+-0x2e2+0x17e1*0x1))),this['light']['_node']['rotateLoca'+'l'](0x132*0x11+0x192f*-0x1+0x537,0x2b*0xc5+0xe16*0x2+-0x3d43,0x17*-0x12b+0xf49+-0x6*-0x1ee);const _0x15e82b=0x1ba*-0x5+0x228c+-0x19e8+0.20000000000000018,_0x2771aa=(-0x155*0x11+-0x2215+-0x1*-0x38bc)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x3e4024=Math['pow'](_0x2771aa,_0x15e82b);this['light']['intensity']=Math['pow'](_0x3e4024/_0x443156,(0x209*0xd+-0xff4+0x8*-0x150)/_0x15e82b);}}class vc{constructor(_0x3c1f86,_0x21d364=null){this['node']=_0x3c1f86,this['component']=_0x3c1f86['render']||_0x3c1f86['model'],_0x21d364=_0x21d364||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x21d364,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x215*0x5+-0x95*0x1+0xb0d,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x45c4a3){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x45c4a3,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x45c4a3['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x45c4a3['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x1063+-0xde2+-0x27f),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x13dd78){this['constantTe'+'xSource']['setValue'](_0x13dd78);}['prepare'](_0x3a31c2,_0x3b8914){this['pixelOffse'+'t'][0x1ee8+-0x2372+0x1*0x48a]=(0x2583+0x23d1+-0x4953*0x1)/_0x3a31c2,this['pixelOffse'+'t'][0x189e+0x12d*0x2+-0x1af7]=(-0x11*0x1f+-0xfe*-0x1c+0x337*-0x8)/_0x3b8914,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x1ffaac,_0x513b94,_0x589f12){const _0x392bae=_0x589f12?-0x23*0xd3+0x5*0x74+0x1a95:0x26f+-0x138*0x5+0x3aa;if(!this['shaderDeno'+'ise'][_0x392bae]){const _0x3b51f3=new Map();_0x3b51f3['set']('{MSIZE}',-0x4*-0x2cd+0x349+-0x1*0xe6e),_0x589f12&&_0x3b51f3['set']('HDR',''),this['shaderDeno'+'ise'][_0x392bae]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x589f12?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x3b51f3}),this['sigmas']=new Float32Array(-0x1c7*-0xb+-0xf*-0x286+-0x1*0x3965),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x5*-0x61a+-0x1d57+-0x12b]=_0x1ffaac,this['sigmas'][0x115a*-0x1+-0x5*0x8+0x1183]=_0x513b94,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x1ffaac,_0x513b94);}['getDenoise'](_0x3a5604){const _0xe9b348=_0x3a5604?0x956+-0x13e+-0x818:-0x10b+-0x6e5*-0x1+0x5d9*-0x1;return this['shaderDeno'+'ise'][_0xe9b348];}['getDilate'](_0x4c5db0,_0x2a5890){const _0x2350f1=_0x2a5890?-0x99e+0x496*-0x7+0x29b8:0xed5+0x1*-0x9b6+-0x51e;if(!this['shaderDila'+'te'][_0x2350f1]){const _0x53afc8=_0x2a5890?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x2350f1]=$t['createShad'+'er'](_0x4c5db0,{'uniqueName':'lmDilate-'+(_0x2a5890?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x53afc8+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x53afc8+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x2350f1];}['evaluateDe'+'noiseUnifo'+'rms'](_0x345ac6,_0xb20231){function _0x9495f1(_0x52e06f,_0x12894b){return(0x1e89+-0x1*-0x1e13+-0x3c9c+0.39894)*Math['exp'](-(0x1*0x742+-0x2208+0x1*0x1ac6+0.5)*_0x52e06f*_0x52e06f/(_0x12894b*_0x12894b))/_0x12894b;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x3024dc=this['kernel'],_0x34bd72=Math['floor']((Dg-(0x101e*-0x2+-0xa37+0x2a74))/(0x2359+-0x1528+-0xe2f));for(let _0x16382a=-0x5b7+-0x1d0c+-0x1*-0x22c3;_0x16382a<=_0x34bd72;++_0x16382a){const _0x41975c=_0x9495f1(_0x16382a,_0x345ac6);_0x3024dc[_0x34bd72+_0x16382a]=_0x41975c,_0x3024dc[_0x34bd72-_0x16382a]=_0x41975c;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x4f5b15=(0x1d02*0x1+-0xfd5+0xc*-0x119)/_0x9495f1(-0x1441+0xe17+-0x3*-0x20e,_0xb20231);this['bZnorm']['setValue'](_0x4f5b15);}}class hL extends ys{constructor(_0x3e9871,_0x10f778,_0x5cba80,_0x4f34dc,_0x51a377,_0x436a17){super(_0x3e9871),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x10f778,this['camera']=_0x5cba80,this['worldClust'+'ers']=_0x4f34dc,this['receivers']=_0x51a377,this['lightArray']=_0x436a17);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x350d8a=>{_0x350d8a['defaultUni'+'formBuffer']['destroy'](),_0x350d8a['destroy']();}),this['viewBindGr'+'oups']['length']=0x9e3+0x1a0+-0xb83;}['execute'](){const _0xdf6689=this['device'];Q['pushGpuMar'+'ker'](_0xdf6689,'Lightmappe'+'r');const {renderer:_0x54bc74,camera:_0x234558,receivers:_0x565363,renderTarget:_0xb55be,worldClusters:_0x44fe45,lightArray:_0x306eec}=this;_0x54bc74['renderForw'+'ardLayer'](_0x234558,_0xb55be,null,void(-0x9a2+0x991+0x11),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x565363,'splitLights':_0x306eec,'lightClusters':_0x44fe45}),Q['popGpuMark'+'er'](_0xdf6689);}}const dL=0x1*-0x96c+0x1cdf*-0x1+-0x2e4b*-0x1,fL=-0x3af*-0x6+0x566+-0x1b80,uL=-0x1*0xecd+0x245d+-0x158f,xc=new D();class pL{constructor(_0x235053,_0x35cc79,_0x2dc8d9,_0x280607,_0x3cf30b){this['device']=_0x235053,this['root']=_0x35cc79,this['scene']=_0x2dc8d9,this['renderer']=_0x280607,this['assets']=_0x3cf30b,this['shadowMapC'+'ache']=_0x280607['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x13df+0x13*-0xe3+-0x305),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0xee7a9a;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0xee7a9a=this['camera'])==null||_0xee7a9a['destroy'](),this['camera']=null;}['initBake'](_0x46a84e){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x1c24+0x2d*-0x4f+-0xe41),this['lightmapFi'+'lters']=new cL(_0x46a84e),this['constantBa'+'keDir']=_0x46a84e['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x425b64=new Fl();_0x425b64['clearColor']['set'](0x10d*-0x1d+0x2*-0x9e2+0x323d,0xd36+0x1*-0xdbd+0x87,0x1d2c*0x1+0x5*0x413+-0x318b,0x61*-0x52+-0x47*0x71+0x3e69),_0x425b64['clearColor'+'Buffer']=!(-0x1081+0x19b+-0x773*-0x2),_0x425b64['clearDepth'+'Buffer']=!(-0x1b*-0xc5+0x914+-0x1dda),_0x425b64['clearStenc'+'ilBuffer']=!(-0x16e2+-0x27c+0x195f),_0x425b64['frustumCul'+'ling']=!(-0xe9a+0x583*0x1+-0x246*-0x4),_0x425b64['projection']=En,_0x425b64['aspectRati'+'o']=-0x64d*-0x6+-0xc39+-0x1994,_0x425b64['node']=new Ie(),this['camera']=_0x425b64,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x1e49da=new Mv(_0x46a84e['supportsAr'+'eaLights'],_0x46a84e['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x1e49da;const _0x296ac0=this['scene']['lighting'];_0x1e49da['shadowsEna'+'bled']=_0x296ac0['shadowsEna'+'bled'],_0x1e49da['shadowAtla'+'sResolutio'+'n']=_0x296ac0['shadowAtla'+'sResolutio'+'n'],_0x1e49da['cookiesEna'+'bled']=_0x296ac0['cookiesEna'+'bled'],_0x1e49da['cookieAtla'+'sResolutio'+'n']=_0x296ac0['cookieAtla'+'sResolutio'+'n'],_0x1e49da['areaLights'+'Enabled']=_0x296ac0['areaLights'+'Enabled'],_0x1e49da['cells']=new D(0x1f0*-0xc+0x3d7+0x136c,0x92a+0x1a4e+0x2375*-0x1,-0x26a7+0x25ba+0x78*0x2),_0x1e49da['maxLightsP'+'erCell']=0x187+0x1*0x15cf+-0x1752,this['worldClust'+'ers']=new cu(_0x46a84e),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x877651){this['materials']=[];function _0x31aa64(_0x358230){zi['decRef'](_0x358230['colorBuffe'+'r']),_0x358230['destroy']();}this['renderTarg'+'ets']['forEach'](_0x4367a1=>{_0x31aa64(_0x4367a1);}),this['renderTarg'+'ets']['clear'](),_0x877651['forEach'](_0x169814=>{_0x169814['renderTarg'+'ets']['forEach'](_0x42f12e=>{_0x31aa64(_0x42f12e);}),_0x169814['renderTarg'+'ets']['length']=0x5c2*-0x2+0x9e*0x17+0x157*-0x2;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x99395c,_0x539ada,_0x5b3ca5){const _0x2d687a=new Ut();return _0x2d687a['name']='lmMaterial'+'-pass:'+_0x539ada+'-ambient:'+_0x5b3ca5,_0x2d687a['setDefine']('UV1LAYOUT',''),_0x2d687a['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x539ada===fL?(_0x2d687a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x5b3ca5?_0x2d687a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x2d687a['ambient']=new ie(-0x3*0xb07+0x2108+0xd,0x5*0x480+0x44d*0x2+-0x1f1a*0x1,-0x2415+0x16*0x17f+0x32b),this['bakeHDR']||_0x2d687a['setDefine']('LIGHTMAP_R'+'GBM',''),_0x2d687a['lightMap']=this['blackTex']):(_0x2d687a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x2d687a['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x2d687a['cull']=bt,_0x2d687a['forceUv1']=!(0x8d5*0x3+0x10d*0x1a+-0x35d1),_0x2d687a['update'](),_0x2d687a;}['createMate'+'rials'](_0x5c40e3,_0x7f59ad,_0x25645c){for(let _0x2cd5bc=-0x1d32+0x2469+-0x737;_0x2cd5bc<_0x25645c;_0x2cd5bc++)this['passMateri'+'als'][_0x2cd5bc]||(this['passMateri'+'als'][_0x2cd5bc]=this['createMate'+'rialForPas'+'s'](_0x7f59ad,_0x2cd5bc,!(-0x1*-0x1de+-0x327*0x7+0xc*0x1af)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x7f59ad,-0x8db+-0x5ea*-0x2+-0x1*0x2f9,!(0x1fd1+0x884+-0x2855)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x84ca0e){return _0x84ca0e['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1c3b+0xa*-0x27a+-0x377),_0x84ca0e['litOptions']['separateAm'+'bient']=!(0x1*0xf39+0x1b05*0x1+-0x2a3e),_0x84ca0e;});}['createText'+'ure'](_0x135479,_0x475665){return new _e(this['device'],{'profilerHint':vy,'width':_0x135479,'height':_0x135479,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x2d9+0x1e8b+-0x2163),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x475665});}['collectMod'+'els'](_0x5e55ad,_0x5d514f,_0x3dd5f1){var _0x41aa06,_0x5ecce2,_0x52da12;if(!_0x5e55ad['enabled'])return;let _0x4964e8;if((_0x41aa06=_0x5e55ad['model'])!=null&&_0x41aa06['model']&&((_0x5ecce2=_0x5e55ad['model'])!=null&&_0x5ecce2['enabled'])&&(_0x3dd5f1&&_0x3dd5f1['push'](new vc(_0x5e55ad)),_0x5e55ad['model']['lightmappe'+'d']&&_0x5d514f&&(_0x4964e8=_0x5e55ad['model']['model']['meshInstan'+'ces'])),(_0x52da12=_0x5e55ad['render'])!=null&&_0x52da12['enabled']&&(_0x3dd5f1&&_0x3dd5f1['push'](new vc(_0x5e55ad)),_0x5e55ad['render']['lightmappe'+'d']&&_0x5d514f&&(_0x4964e8=_0x5e55ad['render']['meshInstan'+'ces'])),_0x4964e8){let _0x484b3e=!(0x22a3*-0x1+-0x2e*0x11+0x25b1);for(let _0x4edbfb=-0x22a*0x4+-0xb*0x36+0xafa;_0x4edbfb<_0x4964e8['length'];_0x4edbfb++)if(!_0x4964e8[_0x4edbfb]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x5e55ad['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x484b3e=!(-0x1907+-0x3*0x76f+-0x2f55*-0x1);break;}if(_0x484b3e){const _0x236c5b=[];for(let _0x2d19c4=-0xe8a*0x2+0x2*-0xa85+0x321e;_0x2d19c4<_0x4964e8['length'];_0x2d19c4++){const _0x2b4676=_0x4964e8[_0x2d19c4]['mesh'];this['_tempSet']['has'](_0x2b4676)?_0x5d514f['push'](new vc(_0x5e55ad,[_0x4964e8[_0x2d19c4]])):_0x236c5b['push'](_0x4964e8[_0x2d19c4]),this['_tempSet']['add'](_0x2b4676);}this['_tempSet']['clear'](),_0x236c5b['length']>-0x10a7+0x2632+-0x158b*0x1&&_0x5d514f['push'](new vc(_0x5e55ad,_0x236c5b));}}for(let _0x4d0dac=0xfb*0x1+0x3*0xaf3+-0x2*0x10ea;_0x4d0dac<_0x5e55ad['_children']['length'];_0x4d0dac++)this['collectMod'+'els'](_0x5e55ad['_children'][_0x4d0dac],_0x5d514f,_0x3dd5f1);}['prepareSha'+'dowCasters'](_0x134257){const _0xa0e598=[];for(let _0x444b49=-0x1237*-0x1+-0x2415*0x1+0x11de;_0x444b49<_0x134257['length'];_0x444b49++){const _0x46e1f9=_0x134257[_0x444b49]['component'];if(_0x46e1f9['castShadow'+'s']=_0x46e1f9['castShadow'+'sLightmap'],_0x46e1f9['castShadow'+'sLightmap']){const _0x1afca1=_0x134257[_0x444b49]['meshInstan'+'ces'];for(let _0x579dd8=0x1*-0xe3+0x154e+-0x146b;_0x579dd8<_0x1afca1['length'];_0x579dd8++)_0x1afca1[_0x579dd8]['visibleThi'+'sFrame']=!(0x1*-0xaa6+-0x1c6d+0x2713),_0xa0e598['push'](_0x1afca1[_0x579dd8]);}}return _0xa0e598;}['updateTran'+'sforms'](_0x2a2197){for(let _0x2544bf=0x39e+-0x1e40*0x1+-0x7*-0x3ce;_0x2544bf<_0x2a2197['length'];_0x2544bf++){const _0x19a144=_0x2a2197[_0x2544bf]['meshInstan'+'ces'];for(let _0x3cf067=-0x67*0x4+0xf86+-0xdea;_0x3cf067<_0x19a144['length'];_0x3cf067++)_0x19a144[_0x3cf067]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x5aa5d8){let _0x9aacfd;const _0x5bf49f=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x22a0+-0x6d7+-0x2f*0x97,_0x4cf9a3=xc;let _0x51ad49,_0x191e58;_0x5aa5d8['model']?(_0x191e58=_0x5aa5d8['model']['lightmapSi'+'zeMultipli'+'er'],_0x5aa5d8['model']['asset']?(_0x9aacfd=this['assets']['get'](_0x5aa5d8['model']['asset'])['data'],_0x9aacfd['area']&&(_0x51ad49=_0x9aacfd['area'])):_0x5aa5d8['model']['_area']&&(_0x9aacfd=_0x5aa5d8['model'],_0x9aacfd['_area']&&(_0x51ad49=_0x9aacfd['_area']))):_0x5aa5d8['render']&&(_0x191e58=_0x5aa5d8['render']['lightmapSi'+'zeMultipli'+'er'],_0x5aa5d8['render']['type']!=='asset'&&_0x5aa5d8['render']['_area']&&(_0x9aacfd=_0x5aa5d8['render'],_0x9aacfd['_area']&&(_0x51ad49=_0x9aacfd['_area'])));const _0x2655ef={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x51ad49&&(_0x2655ef['x']=_0x51ad49['x'],_0x2655ef['y']=_0x51ad49['y'],_0x2655ef['z']=_0x51ad49['z'],_0x2655ef['uv']=_0x51ad49['uv']);const _0x5163a9=_0x191e58||-0x154c+-0x14b*0x2+0x17e3;_0x2655ef['x']*=_0x5163a9,_0x2655ef['y']*=_0x5163a9,_0x2655ef['z']*=_0x5163a9;const _0x555092=_0x5aa5d8['render']||_0x5aa5d8['model'],_0x3cff17=this['computeNod'+'eBounds'](_0x555092['meshInstan'+'ces']);_0x4cf9a3['copy'](_0x3cff17['halfExtent'+'s']);let _0xe67d09=_0x2655ef['x']*_0x4cf9a3['y']*_0x4cf9a3['z']+_0x2655ef['y']*_0x4cf9a3['x']*_0x4cf9a3['z']+_0x2655ef['z']*_0x4cf9a3['x']*_0x4cf9a3['y'];return _0xe67d09/=_0x2655ef['uv'],_0xe67d09=Math['sqrt'](_0xe67d09),Math['min'](Y['nextPowerO'+'fTwo'](_0xe67d09*_0x5bf49f),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x545e93,_0x5dcc4a,_0x1e30e2,_0x51b1a4){for(let _0x5a6241=0x1230+-0xb*-0x377+-0x1d*0x1f1;_0x5a6241<_0x545e93['length'];_0x5a6241++){const _0x39f685=_0x545e93[_0x5a6241],_0x15b7c9=_0x39f685['meshInstan'+'ces'];for(let _0x3f8404=0x25*0x3c+-0xd6b+0x5*0xf3;_0x3f8404<_0x15b7c9['length'];_0x3f8404++){const _0x4c60e3=_0x15b7c9[_0x3f8404];if(_0x4c60e3['setLightma'+'pped'](_0x5dcc4a),_0x5dcc4a){_0x51b1a4&&(_0x4c60e3['_shaderDef'+'s']|=_0x51b1a4),_0x4c60e3['mask']=di;for(let _0x1f7fc9=0xc4+-0x37*0x2+0x56*-0x1;_0x1f7fc9<_0x1e30e2;_0x1f7fc9++){const _0x14873d=_0x39f685['renderTarg'+'ets'][_0x1f7fc9]['colorBuffe'+'r'];_0x14873d['minFilter']=vt,_0x14873d['magFilter']=vt,_0x4c60e3['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x1f7fc9],_0x14873d);}}}}}['bake'](_0x4c32a1,_0x29b466=jc){const _0x1bcca6=this['device'],_0x52930a=de();this['scene']['_updateSky'+'Mesh'](),_0x1bcca6['fire']('lightmappe'+'r:start',{'timestamp':_0x52930a,'target':this}),this['stats']['renderPass'+'es']=-0x209*0x5+-0x3*-0x3ee+-0x19d,this['stats']['shadowMapT'+'ime']=-0x7b5*-0x2+0x1*0x2265+-0x31cf,this['stats']['forwardTim'+'e']=0x1f68+-0x1*-0x11a5+-0x310d;const _0x4124a9=_0x1bcca6['_shaderSta'+'ts']['linked'],_0x2ca7c1=_0x1bcca6['_renderTar'+'getCreatio'+'nTime'],_0x1e3336=_0x1bcca6['_shaderSta'+'ts']['compileTim'+'e'],_0x1e0f94=[],_0x2ff644=[];if(_0x4c32a1){for(let _0x299c2b=-0x12*0x26+0x67a+-0x3ce;_0x299c2b<_0x4c32a1['length'];_0x299c2b++)this['collectMod'+'els'](_0x4c32a1[_0x299c2b],_0x1e0f94,null);this['collectMod'+'els'](this['root'],null,_0x2ff644);}else this['collectMod'+'els'](this['root'],_0x1e0f94,_0x2ff644);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x1e0f94['length']>0x26f2*0x1+-0x212a+-0x128*0x5){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x72efe=_0x29b466===jc?0x2c9*-0x7+0x1dff+-0xa7e:-0x3bc*-0xa+0x2a*0x6b+-0x36e5;this['setLightma'+'pping'](_0x1e0f94,!(0x7f9*-0x2+-0x121e+0xb5b*0x3),_0x72efe),this['initBake'](_0x1bcca6),this['bakeIntern'+'al'](_0x72efe,_0x1e0f94,_0x2ff644);let _0x2419cb=ou;_0x29b466===jc&&(_0x2419cb|=uv),this['scene']['ambientBak'+'e']&&(_0x2419cb|=pv),this['setLightma'+'pping'](_0x1e0f94,!(0x11b*0x17+0x1d58+-0x36c5),_0x72efe,_0x2419cb),this['finishBake'](_0x1e0f94);}Q['popGpuMark'+'er'](this['device']);const _0x31eebd=de();this['stats']['totalRende'+'rTime']=_0x31eebd-_0x52930a,this['stats']['shadersLin'+'ked']=_0x1bcca6['_shaderSta'+'ts']['linked']-_0x4124a9,this['stats']['compileTim'+'e']=_0x1bcca6['_shaderSta'+'ts']['compileTim'+'e']-_0x1e3336,this['stats']['fboTime']=_0x1bcca6['_renderTar'+'getCreatio'+'nTime']-_0x2ca7c1,this['stats']['lightmapCo'+'unt']=_0x1e0f94['length'],_0x1bcca6['fire']('lightmappe'+'r:end',{'timestamp':_0x31eebd,'target':this});}['allocateTe'+'xtures'](_0x18574f,_0x211945){for(let _0x108988=0x756+-0x176b+0x1015*0x1;_0x108988<_0x18574f['length'];_0x108988++){const _0x1d9917=_0x18574f[_0x108988],_0x58e779=this['calculateL'+'ightmapSiz'+'e'](_0x1d9917['node']);for(let _0x578eee=0x4*0x685+0xf12+-0x1ca*0x17;_0x578eee<_0x211945;_0x578eee++){const _0x5af1df=this['createText'+'ure'](_0x58e779,'lightmappe'+'r_lightmap'+'_'+_0x108988);zi['incRef'](_0x5af1df),_0x1d9917['renderTarg'+'ets'][_0x578eee]=new gt({'colorBuffer':_0x5af1df,'depth':!(-0x1eb+-0x511*-0x1+0x17*-0x23)});}if(!this['renderTarg'+'ets']['has'](_0x58e779)){const _0x97dea9=this['createText'+'ure'](_0x58e779,'lightmappe'+'r_temp_lig'+'htmap_'+_0x58e779);zi['incRef'](_0x97dea9),this['renderTarg'+'ets']['set'](_0x58e779,new gt({'colorBuffer':_0x97dea9,'depth':!(-0x3*-0x9d2+0x23e7+-0x415c)}));}}}['prepareLig'+'htsToBake'](_0x4b6405,_0x5b97f5){if(this['scene']['ambientBak'+'e']){const _0x103eb6=new Mg(this);_0x5b97f5['push'](_0x103eb6);}const _0x4d799e=this['renderer']['lights'];for(let _0x380738=0x1a78+0x14dd+-0x7*0x6c3;_0x380738<_0x4d799e['length'];_0x380738++){const _0xf1db53=_0x4d799e[_0x380738],_0x110cef=new sL(this,_0xf1db53);_0x4b6405['push'](_0x110cef),_0xf1db53['enabled']&&(_0xf1db53['mask']&fi)!==-0x26*0xa6+-0x2218+0x3abc&&(_0xf1db53['mask']=fi|di|Ss,_0xf1db53['shadowUpda'+'teMode']=_0xf1db53['type']===ve?lm:xr,_0x5b97f5['push'](_0x110cef));}_0x5b97f5['sort']();}['restoreLig'+'hts'](_0x33da8c){for(let _0x3c4b22=0x1f60+-0x2702*-0x1+-0x4662;_0x3c4b22<_0x33da8c['length'];_0x3c4b22++)_0x33da8c[_0x3c4b22]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1b1*0x5+-0x3c0*-0x5+-0xa4b,0x6*0x4b9+0xf43*-0x2+0x230,0x1603+-0xe4*0x2+-0x143b),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0xc570d1){const _0x4ff547=new De();if(_0xc570d1['length']>-0x12fd*0x1+-0x1cee+0x3*0xff9){_0x4ff547['copy'](_0xc570d1[0x3*0x7e+0xda*-0x19+0x13d0]['aabb']);for(let _0x4a1b40=-0x6*0x281+-0x125f+0x96*0x39;_0x4a1b40<_0xc570d1['length'];_0x4a1b40++)_0x4ff547['add'](_0xc570d1[_0x4a1b40]['aabb']);}return _0x4ff547;}['computeNod'+'esBounds'](_0x1d77ef){for(let _0x38edbf=0x510+0x51d*0x1+0x209*-0x5;_0x38edbf<_0x1d77ef['length'];_0x38edbf++){const _0x101850=_0x1d77ef[_0x38edbf]['meshInstan'+'ces'];_0x1d77ef[_0x38edbf]['bounds']=this['computeNod'+'eBounds'](_0x101850);}}['computeBou'+'nds'](_0x5129fa){const _0x1a8434=new De();for(let _0x21be20=0x9*-0x203+-0x2081+0x9e*0x52;_0x21be20<_0x5129fa['length'];_0x21be20++){_0x1a8434['copy'](_0x5129fa[0xd87+0xbce+-0x5*0x511]['aabb']);for(let _0x3f2945=0x1695*-0x1+0x6c6+-0x2*-0x7e8;_0x3f2945<_0x5129fa['length'];_0x3f2945++)_0x1a8434['add'](_0x5129fa[_0x3f2945]['aabb']);}return _0x1a8434;}['backupMate'+'rials'](_0x153e6f){for(let _0x1922ce=-0x1*0x7e5+-0x1dd8+0x25bd;_0x1922ce<_0x153e6f['length'];_0x1922ce++)this['materials'][_0x1922ce]=_0x153e6f[_0x1922ce]['material'];}['restoreMat'+'erials'](_0x6ca449){for(let _0x32fc2e=0x1af0+-0xbb1+-0xf3f;_0x32fc2e<_0x6ca449['length'];_0x32fc2e++)_0x6ca449[_0x32fc2e]['material']=this['materials'][_0x32fc2e];}['lightCamer'+'aPrepare'](_0x1a54c4,_0x1f8845){const _0x391293=_0x1f8845['light'];let _0x1caa73;return _0x391293['type']===Ze&&(_0x1caa73=_0x391293['getRenderD'+'ata'](null,0x1*-0xfdf+-0x45*-0x11+0x5*0x242)['shadowCame'+'ra'],_0x1caa73['_node']['setPositio'+'n'](_0x391293['_node']['getPositio'+'n']()),_0x1caa73['_node']['setRotatio'+'n'](_0x391293['_node']['getRotatio'+'n']()),_0x1caa73['_node']['rotateLoca'+'l'](-(0x544*-0x3+0x7da+0x84c*0x1),0x11*0x1eb+-0x846+-0x1855,0xe8f+0x12a*-0x1+-0xd65),_0x1caa73['projection']=ni,_0x1caa73['nearClip']=_0x391293['attenuatio'+'nEnd']/(0x779*0x5+-0x1222+-0xf53),_0x1caa73['farClip']=_0x391293['attenuatio'+'nEnd'],_0x1caa73['aspectRati'+'o']=0x9*0x2+0x46f*0x2+-0x8ef*0x1,_0x1caa73['fov']=_0x391293['_outerCone'+'Angle']*(-0xdde+0x159a+-0x7ba),this['renderer']['updateCame'+'raFrustum'](_0x1caa73)),_0x1caa73;}['lightCamer'+'aPrepareAn'+'dCull'](_0x108aa3,_0x25b831,_0x20c2a0,_0x321ff3){const _0x508f5b=_0x108aa3['light'];let _0x2efbb4=!(-0x1fe+-0xa*0x2c9+0x1dd8);if(_0x508f5b['type']===ve){xc['copy'](_0x321ff3['center']),xc['y']+=_0x321ff3['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x175*0x5+-0x17ca+0x10db),-0x21e5+-0x1*-0x1945+0x8a0,-0x1d97+0x1db+-0x4*-0x6ef),this['camera']['nearClip']=0x14*0x151+-0x70b*0x5+0x8e3*0x1,this['camera']['farClip']=_0x321ff3['halfExtent'+'s']['y']*(0xabe+0x1*-0xc97+0x5f*0x5);const _0xf4492f=Math['max'](_0x321ff3['halfExtent'+'s']['x'],_0x321ff3['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0xf4492f;}else _0x108aa3['lightBound'+'s']['intersects'](_0x25b831['bounds'])||(_0x2efbb4=!(0x26bf+-0x444+-0x227a));if(_0x508f5b['type']===Ze){let _0x3c1970=!(-0x262*-0xd+-0x1a31+-0x4c8);const _0x21013b=_0x25b831['meshInstan'+'ces'];for(let _0x3dbdc8=-0x2*-0xa10+0x1b*-0x11b+0x9b9*0x1;_0x3dbdc8<_0x21013b['length'];_0x3dbdc8++)if(_0x21013b[_0x3dbdc8]['_isVisible'](_0x20c2a0)){_0x3c1970=!(-0xe*-0x43+0x1ba*0x11+-0x2104);break;}_0x3c1970||(_0x2efbb4=!(0x1d2d*-0x1+0x20f+0x1b1f));}return _0x2efbb4;}['setupLight'+'Array'](_0x18228c,_0x2c2fd8){_0x18228c[ve]['length']=-0x1092+-0x1845+0x28d7,_0x18228c[Ke]['length']=0x141*0x1d+0x12c7+-0x3724,_0x18228c[Ze]['length']=-0x3*0x7e1+-0x1*-0x26b0+0x1*-0xf0d,_0x18228c[_0x2c2fd8['type']][-0x10fa+-0x17ca+0x28c4]=_0x2c2fd8,_0x2c2fd8['visibleThi'+'sFrame']=!(-0x23e6+0x2f*0xcf+-0x21b);}['renderShad'+'owMap'](_0x1d9935,_0x551096,_0x569aa,_0x1ffa4a){const _0x41126f=_0x1ffa4a['light'],_0xd5ff35=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x5e8179=_0x41126f['castShadow'+'s']&&(!_0xd5ff35||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x551096&&_0x5e8179){if(!_0x41126f['shadowMap']&&!_0xd5ff35&&(_0x41126f['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x41126f)),_0x41126f['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x41126f,_0x1d9935,this['camera'],_0x569aa);const _0x1aae45=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x41126f,this['camera']);_0x1aae45==null||_0x1aae45['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x2583+0x112b+0x1458);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x41126f,_0x1d9935,_0x569aa),this['renderer']['shadowRend'+'erer']['render'](_0x41126f,this['camera'],!(-0x13bc+0xa48*0x3+-0xb1b));}}return!(-0xf45*0x1+0x1*0x37d+0xbc8);}['postproces'+'sTextures'](_0x374a2c,_0x519000,_0xcf1401){const _0x4b6a7a=this['lightmapFi'+'lters']['getDilate'](_0x374a2c,this['bakeHDR']);let _0x5d9bcc;const _0x3bb073=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x3bb073&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x5d9bcc=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x374a2c['setBlendSt'+'ate'](pt['NOBLEND']),_0x374a2c['setDepthSt'+'ate'](Yt['NODEPTH']),_0x374a2c['setStencil'+'State'](null,null);for(let _0x56cf81=-0x7ef+-0x134+0x923;_0x56cf81<_0x519000['length'];_0x56cf81++){const _0x212a2a=_0x519000[_0x56cf81];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x56cf81);for(let _0x58a0e8=-0x6e6*0x2+-0x197*0x5+-0x13*-0x125;_0x58a0e8<_0xcf1401;_0x58a0e8++){const _0x126a27=_0x212a2a['renderTarg'+'ets'][_0x58a0e8],_0x365e33=_0x126a27['colorBuffe'+'r'],_0x46aa54=this['renderTarg'+'ets']['get'](_0x365e33['width']),_0x4eadaa=_0x46aa54['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x365e33['width'],_0x365e33['height']);for(let _0x5738d2=0x207d+-0x1*0x24e+-0x1e2f;_0x5738d2<0x1520+0x596+-0x1*0x1ab5;_0x5738d2++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x365e33),Ar(_0x374a2c,_0x46aa54,_0x3bb073&&_0x58a0e8===0x81d+-0x1*-0x1982+0x13*-0x1c5&&_0x5738d2===0x23bd*0x1+0x36*-0x4+-0x22e5?_0x5d9bcc:_0x4b6a7a),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x4eadaa),Ar(_0x374a2c,_0x126a27,_0x4b6a7a);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x10c10e,_0x1f2a4f,_0x4dd43c){const _0x51d105=this['scene'],_0x1d57a1=_0x51d105['layers'],_0x485e51=this['device'],_0xd7a9cf=_0x51d105['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x485e51,_0x51d105,_0x10c10e),this['setupScene'](),_0x1d57a1['_update'](),this['computeNod'+'esBounds'](_0x1f2a4f),this['allocateTe'+'xtures'](_0x1f2a4f,_0x10c10e),this['renderer']['collectLig'+'hts'](_0x1d57a1);const _0x1fdf55=[],_0x12c475=[];this['prepareLig'+'htsToBake'](_0x1fdf55,_0x12c475),this['updateTran'+'sforms'](_0x4dd43c);const _0x103fee=this['prepareSha'+'dowCasters'](_0x4dd43c);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x103fee),this['renderer']['gpuUpdate'](_0x103fee);const _0x5d9d6f=this['computeBou'+'nds'](_0x103fee);let _0x348b1e,_0x4b4e11,_0x1ac385,_0x377c2c;for(_0x348b1e=0x1fb4+-0x84f*-0x2+-0x3052;_0x348b1e<_0x1f2a4f['length'];_0x348b1e++)for(_0x1ac385=_0x1f2a4f[_0x348b1e]['meshInstan'+'ces'],_0x4b4e11=-0xa*-0x23+-0x5*0x4d3+0x16c1;_0x4b4e11<_0x1ac385['length'];_0x4b4e11++)_0x377c2c=_0x1ac385[_0x4b4e11],_0x377c2c['setLightma'+'pped'](!(0xbb7+0x2523+-0x131*0x29)),_0x377c2c['mask']=fi,_0x377c2c['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x128e+-0xf1b+0x1*0x21a9],this['blackTex']),_0x377c2c['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x1358*-0x1+0x1b83*0x1+0x176d*-0x2],this['blackTex']);for(_0x4b4e11=0x3*-0xa9f+0x1668+-0x975*-0x1;_0x4b4e11<_0x12c475['length'];_0x4b4e11++)_0x12c475[_0x4b4e11]['light']['enabled']=!(0x8*-0xfb+0x20b3+-0xc6d*0x2);const _0x4564a0=[[],[],[]];let _0x487a4e,_0x45c9f1,_0x5866e0=!(-0x1d39+-0x1ab8+0x37f2);for(_0x348b1e=-0x175b+0x53c*-0x4+0x29b*0x11;_0x348b1e<_0x12c475['length'];_0x348b1e++){const _0x187e0e=_0x12c475[_0x348b1e],_0x1bc9fd=_0x187e0e instanceof Mg,_0x5caabf=_0x187e0e['light']['type']===ve;let _0x56cc8e=_0x187e0e['numVirtual'+'Lights'];_0x10c10e>0x237c+0x97*-0x1f+-0x1*0x1132&&_0x56cc8e>-0x3*0xce6+-0x21d3+0x1*0x4886&&_0x187e0e['light']['bakeDir']&&(_0x56cc8e=-0x13*-0x12b+0x2361+-0x3991,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x10d8c2=0x7a2*0x2+-0xafe*-0x1+-0x1a42;_0x10d8c2<_0x56cc8e;_0x10d8c2++){Q['pushGpuMar'+'ker'](_0x485e51,'Light:'+_0x187e0e['light']['_node']['name']+':'+_0x10d8c2),_0x56cc8e>-0x15f3+-0x914+0x1f08&&_0x187e0e['prepareVir'+'tualLight'](_0x10d8c2,_0x56cc8e),_0x187e0e['startBake']();let _0x19cdf5=!(0x20db+-0x25*-0x8b+-0x34f1);const _0x198f7c=this['lightCamer'+'aPrepare'](_0x485e51,_0x187e0e);for(_0x45c9f1=0x1bb*-0x5+-0x2487*-0x1+-0x1be0;_0x45c9f1<_0x1f2a4f['length'];_0x45c9f1++){const _0x3bad50=_0x1f2a4f[_0x45c9f1];if(_0x1ac385=_0x3bad50['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x187e0e,_0x3bad50,_0x198f7c,_0x5d9d6f))continue;this['setupLight'+'Array'](_0x4564a0,_0x187e0e['light']);const _0x2a406c=_0x5caabf?[]:[_0x187e0e['light']];for(_0xd7a9cf&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2a406c,this['lightingPa'+'rams']),_0x19cdf5=this['renderShad'+'owMap'](_0x1d57a1,_0x19cdf5,_0x103fee,_0x187e0e),_0xd7a9cf&&this['worldClust'+'ers']['update'](_0x2a406c,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x1ac385),_0x487a4e=0xbfb+0x5*-0x371+0x53a;_0x487a4e<_0x10c10e&&!(_0x487a4e>-0x1*0x1474+-0x39*0x63+0x2a7f&&_0x10d8c2>-0x2b3*-0x1+0x9e1+-0x4*0x325||_0x1bc9fd&&_0x487a4e>0x1b39+0x1a48+0x3581*-0x1);_0x487a4e++){Q['pushGpuMar'+'ker'](_0x485e51,'LMPass:'+_0x487a4e);const _0x18e54d=_0x3bad50['renderTarg'+'ets'][_0x487a4e],_0x57b35b=_0x3bad50['renderTarg'+'ets'][_0x487a4e]['colorBuffe'+'r']['width'],_0x420407=this['renderTarg'+'ets']['get'](_0x57b35b),_0x1c6165=_0x420407['colorBuffe'+'r'];_0x487a4e===-0x186b+-0x1184+-0x71*-0x5f?_0x5866e0=_0x51d105['updateShad'+'ers']:_0x5866e0&&(_0x51d105['updateShad'+'ers']=!(0x8d9*-0x3+-0x3ad*-0x1+0xb6f*0x2));let _0x239ab6=this['passMateri'+'als'][_0x487a4e];for(_0x1bc9fd&&_0x10d8c2+(-0x21a9+-0x585*0x4+0x37be*0x1)===_0x56cc8e&&_0x487a4e===0x1827+0x1678+-0x2e9f&&(_0x239ab6=this['ambientAOM'+'aterial']),_0x4b4e11=0x2010+0x12cb+-0x32db;_0x4b4e11<_0x1ac385['length'];_0x4b4e11++)_0x1ac385[_0x4b4e11]['material']=_0x239ab6;if(this['renderer']['updateShad'+'ers'](_0x1ac385),_0x487a4e===uL&&this['constantBa'+'keDir']['setValue'](_0x187e0e['light']['bakeDir']?0x1f20+-0x155*-0xf+-0x331a:0x139b+-0x5*0x6c1+0x1*0xe2a),_0x485e51['isWebGPU']){const _0x414acc=new hL(_0x485e51,this['renderer'],this['camera'],_0xd7a9cf?this['worldClust'+'ers']:null,_0x1ac385,_0x4564a0);_0x414acc['init'](_0x420407),_0x414acc['render'](),_0x414acc['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x420407,!(0x2*-0x1de+-0x1e3b+0x21f7)),_0xd7a9cf&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x628*-0x5+0x14fa+0xa5a*-0x5,this['renderer']['_shadowMap'+'Time']=0x9e4+0x87d+-0x1261,this['renderer']['renderForw'+'ard'](this['camera'],_0x420407,_0x1ac385,_0x4564a0,Aa),_0x485e51['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x3bad50['renderTarg'+'ets'][_0x487a4e]=_0x420407,this['renderTarg'+'ets']['set'](_0x57b35b,_0x18e54d),_0x4b4e11=-0x1a0a+-0x2410+0x1*0x3e1a;_0x4b4e11<_0x1ac385['length'];_0x4b4e11++)_0x377c2c=_0x1ac385[_0x4b4e11],_0x377c2c['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x487a4e],_0x1c6165),_0x377c2c['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x485e51);}this['restoreMat'+'erials'](_0x1ac385);}_0x187e0e['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x485e51);}}for(this['postproces'+'sTextures'](_0x485e51,_0x1f2a4f,_0x10c10e),_0x45c9f1=-0x2f*0x7a+0x2128*-0x1+0x378e;_0x45c9f1<_0x4dd43c['length'];_0x45c9f1++)_0x4dd43c[_0x45c9f1]['restore']();this['restoreLig'+'hts'](_0x1fdf55),this['restoreSce'+'ne'](),_0xd7a9cf||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0xe80698,_0x18bc29){super(),h(this,'system'),h(this,'entity'),(this['system']=_0xe80698,this['entity']=_0x18bc29,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x97478b,_0xe57f1c,_0x12e1b2){this['fire']('set_'+_0x97478b,_0x97478b,_0xe57f1c,_0x12e1b2);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x2cfdbe,_0x57abbb){_0x57abbb['forEach'](_0x57a3da=>{const _0xc5fd2c=typeof _0x57a3da=='object'?_0x57a3da['name']:_0x57a3da;Object['defineProp'+'erty'](_0x2cfdbe,_0xc5fd2c,{'get':function(){return this['data'][_0xc5fd2c];},'set':function(_0x186b1f){const _0x1a5c1c=this['data'],_0x558d48=_0x1a5c1c[_0xc5fd2c];_0x1a5c1c[_0xc5fd2c]=_0x186b1f,this['fire']('set',_0xc5fd2c,_0x558d48,_0x186b1f);},'configurable':!(-0x143*0x2+0x9*0x4f+-0x41)});}),_0x2cfdbe['_accessors'+'Built']=!(0x95e+-0x5*0x7c6+0x1d80);}['buildAcces'+'sors'](_0x2bc6b8){Wh['_buildAcce'+'ssors'](this,_0x2bc6b8);}['onSetEnabl'+'ed'](_0x7e948,_0x355875,_0x53ddb1){_0x355875!==_0x53ddb1&&this['entity']['enabled']&&(_0x53ddb1?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0xfafaee=this['system']['store'][this['entity']['getGuid']()];return _0xfafaee?_0xfafaee['data']:null;}set['enabled'](_0x4bd27f){}get['enabled'](){return!(0x13da+0xf4a+-0xad*0x34);}};h(Wh,'order',0x527*-0x1+-0x13db*-0x1+-0xeb4*0x1);let we=Wh;class ct extends me{constructor(_0x1cd43d){super(),this['app']=_0x1cd43d,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x4eca87,_0x5286ba={}){const _0x408994=new this['ComponentT'+'ype'](this,_0x4eca87),_0x48b530=new this['DataType']();return this['store'][_0x4eca87['getGuid']()]={'entity':_0x4eca87,'data':_0x48b530},_0x4eca87[this['id']]=_0x408994,_0x4eca87['c'][this['id']]=_0x408994,this['initialize'+'ComponentD'+'ata'](_0x408994,_0x5286ba,[]),this['fire']('add',_0x4eca87,_0x408994),_0x408994;}['removeComp'+'onent'](_0x49bf7e){const _0x12fe2b=this['id'],_0x49a86b=this['store'][_0x49bf7e['getGuid']()],_0xddd93a=_0x49bf7e['c'][_0x12fe2b];_0xddd93a['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x49bf7e,_0xddd93a),delete this['store'][_0x49bf7e['getGuid']()],_0x49bf7e[_0x12fe2b]=void(-0x369*-0x7+0x1*-0x40c+-0x13d3),delete _0x49bf7e['c'][_0x12fe2b],this['fire']('remove',_0x49bf7e,_0x49a86b['data']);}['cloneCompo'+'nent'](_0x3428f1,_0xec32a6){const _0x5bd894=this['store'][_0x3428f1['getGuid']()];return this['addCompone'+'nt'](_0xec32a6,_0x5bd894['data']);}['initialize'+'ComponentD'+'ata'](_0x23cb8f,_0x4cd3b7={},_0x5aaca6){for(let _0x31a140=-0x2f9*0x5+-0x1c7*0xd+-0x3c*-0xa2,_0x447d04=_0x5aaca6['length'];_0x31a140<_0x447d04;_0x31a140++){const _0x11586e=_0x5aaca6[_0x31a140];let _0x2958a2,_0x2f8039;typeof _0x11586e=='object'?(_0x2958a2=_0x11586e['name'],_0x2f8039=_0x11586e['type']):(_0x2958a2=_0x11586e,_0x2f8039=void(0xbdd+0xd*-0x74+0xb*-0x8b));let _0x3a6abf=_0x4cd3b7[_0x2958a2];_0x3a6abf!==void(-0x25*0xd6+-0x1470+0x335e)?(_0x2f8039!==void(0x1*-0x29e+0x1*0x14df+-0x1241)&&(_0x3a6abf=mL(_0x3a6abf,_0x2f8039)),_0x23cb8f[_0x2958a2]=_0x3a6abf):_0x23cb8f[_0x2958a2]=_0x23cb8f['data'][_0x2958a2];}_0x23cb8f['enabled']&&_0x23cb8f['entity']['enabled']&&_0x23cb8f['onEnable']();}['getPropert'+'iesOfType'](_0xa615ac){const _0x154149=[];return(this['schema']||[])['forEach'](_0x1a4e34=>{_0x1a4e34&&typeof _0x1a4e34=='object'&&_0x1a4e34['type']===_0xa615ac&&_0x154149['push'](_0x1a4e34);}),_0x154149;}['destroy'](){this['off']();}}function mL(_0x115257,_0x3b1321){if(!_0x115257)return _0x115257;switch(_0x3b1321){case'rgb':return _0x115257 instanceof ie?_0x115257['clone']():new ie(_0x115257[-0x2609+0x31*0x35+0x1be4],_0x115257[0x362*-0x7+-0xa*-0x1b7+-0x1*-0x689],_0x115257[0x41*0x7f+-0x449+-0x2*0xdfa]);case'rgba':return _0x115257 instanceof ie?_0x115257['clone']():new ie(_0x115257[0x47*-0x86+-0xe30+0x335a],_0x115257[0x4*0x822+-0xd*0x67+-0x1b4c],_0x115257[-0xd*-0x1+0x200d+-0x2018],_0x115257[0x25ef+0x35b*0x4+-0x3358]);case'vec2':return _0x115257 instanceof J?_0x115257['clone']():new J(_0x115257[0x9*-0x29d+-0xa2f+0x21b4],_0x115257[0x5a7*-0x3+-0x64*-0x19+0x732]);case'vec3':return _0x115257 instanceof D?_0x115257['clone']():new D(_0x115257[0xecf+-0x200c+-0x5bf*-0x3],_0x115257[0x20ac+-0x1af*0x2+-0x1*0x1d4d],_0x115257[-0x1064+0x12d8+-0x139*0x2]);case'vec4':return _0x115257 instanceof re?_0x115257['clone']():new re(_0x115257[-0x404*0x8+0x4*0x125+0x1b8c],_0x115257[-0x16b1+-0x1455+0x2b07],_0x115257[0x1*0x215b+-0xa65+-0x16f4],_0x115257[-0xcaa+-0xe*-0x178+-0x7e3]);case'boolean':case'number':case'string':return _0x115257;case'entity':return _0x115257;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3b1321);}}const Bv=-0x1f47+0x1f81+0x1d*-0x2,Su=-0x1620+-0x910+0x1f31,yu=0xc5d*0x1+-0x12f0+0x695;class _L{constructor(){this['_left']=(0x17*-0xd0+0x90+0x1221)/(0x4a*0x1f+0xac6+-0x13bc),this['_right']=-(-0x1*-0x16+0xdfa*-0x2+0x1bdf)/(-0x225d*0x1+-0x1*-0x1db2+0xef*0x5),this['_len']=-0xc5+-0x221f+-0x8b9*-0x4,this['_recip']=-0x2018*0x1+0x7d0+0x1848,this['_p0']=-0x3*0x8ab+-0x26ad+0x40ae,this['_p1']=-0x3e*0xb+0x10*0x23e+-0x2136,this['_t']=0x1f7e+0xd55+-0x2cd3,this['_hermite']={'valid':!(0x17f*0x6+-0x2*0x4ef+0xe5*0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x4655c9,_0x1521d7){if(_0x4655c9<this['_left']||_0x4655c9>=this['_right']){const _0x53cb1c=_0x1521d7['length'];if(!_0x53cb1c)this['_left']=-(-0x18c*0x6+-0x1*-0x18c2+-0xf79)/(-0xdc0+0x992+0x42e),this['_right']=(0x824+0x1*0x1862+-0x2085)/(-0xa*-0x347+-0xc*-0x103+-0x2*0x1675),this['_len']=-0xdf9*0x1+-0x1e95*-0x1+-0x2*0x84e,this['_recip']=0x15d7+0x1af5+0x15b*-0x24,this['_p0']=this['_p1']=-0xc09+0x58*0x1f+-0x1*-0x161;else{if(_0x4655c9<_0x1521d7[-0xd4f+-0xc1*0xd+-0x6*-0x3da])this['_left']=-(0xd49+-0xb98+-0x1b0)/(-0xc*0x281+-0x3*-0x8bc+0x3d8),this['_right']=_0x1521d7[-0x1ace+0x8f8+-0x2*-0x8eb],this['_len']=0x7*0xdf+-0x12e8+0xccf,this['_recip']=0x1211+-0xa*-0x17e+-0x20fd,this['_p0']=this['_p1']=0x13f4*-0x1+0x25*0xef+-0xe97;else{if(_0x4655c9>=_0x1521d7[_0x53cb1c-(0x10f+-0x1*-0x1629+-0x1737*0x1)])this['_left']=_0x1521d7[_0x53cb1c-(-0x7d1+-0x1b72+-0x94*-0x3d)],this['_right']=(0xd07+0x1*0xaa4+-0x17aa)/(0x2*-0x12da+-0x16b9+0x1*0x3c6d),this['_len']=-0x20ab+-0x1*0x241c+0x44c7,this['_recip']=0x1*0x1cae+-0x3*0x51b+-0xd5d,this['_p0']=this['_p1']=_0x53cb1c-(-0x25ee+-0x15f9+0x3be8);else{const _0x512aad=this['_findKey'](_0x4655c9,_0x1521d7);this['_left']=_0x1521d7[_0x512aad],this['_right']=_0x1521d7[_0x512aad+(0x22*0xe3+-0x1b56+0x1*-0x2cf)],this['_len']=this['_right']-this['_left'];const _0x1c5cc7=(0x36c+0x2642+-0x29ad)/this['_len'];this['_recip']=isFinite(_0x1c5cc7)?_0x1c5cc7:-0x1c1d+-0xff7+0x1a*0x1b2,this['_p0']=_0x512aad,this['_p1']=_0x512aad+(-0x47a+0x1*-0x2c9+0x744);}}}}this['_t']=this['_recip']===0x1*-0x1057+-0x13*0x4a+0x15d5?0x4*-0x3b4+-0x1f*0x13+0x111d:(_0x4655c9-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0xf0d+0xa1f+0x3*0x1a5);}['_findKey'](_0xb8190c,_0x4fe409){let _0x1b1632=0x167*-0xa+0xf40+0x13a*-0x1;for(;_0xb8190c>=_0x4fe409[_0x1b1632+(0x252a+0x39a*-0x5+-0x1327)];)_0x1b1632++;return _0x1b1632;}['eval'](_0x1744f5,_0x4e44af,_0x1c7113){const _0x53a618=_0x1c7113['_data'],_0x2d8c64=_0x1c7113['_component'+'s'],_0x1b683a=this['_p0']*_0x2d8c64;if(_0x4e44af===Bv){for(let _0x21fd58=0x2020+0x486*0x6+-0x3b44;_0x21fd58<_0x2d8c64;++_0x21fd58)_0x1744f5[_0x21fd58]=_0x53a618[_0x1b683a+_0x21fd58];}else{const _0x223f70=this['_t'],_0x5bb564=this['_p1']*_0x2d8c64;switch(_0x4e44af){case Su:for(let _0x4d2512=0x1a29+-0xe59+-0x6*0x1f8;_0x4d2512<_0x2d8c64;++_0x4d2512)_0x1744f5[_0x4d2512]=Y['lerp'](_0x53a618[_0x1b683a+_0x4d2512],_0x53a618[_0x5bb564+_0x4d2512],_0x223f70);break;case yu:{const _0x5a4914=this['_hermite'];if(!_0x5a4914['valid']){const _0x5b58b1=_0x223f70*_0x223f70,_0x3be993=_0x223f70+_0x223f70,_0x508ab4=-0x1d53+0xf*-0x1bb+0x3749-_0x223f70,_0x58d3c3=_0x508ab4*_0x508ab4;_0x5a4914['valid']=!(-0x242b+-0x15d4+0x39ff),_0x5a4914['p0']=(0x2372+0x19*-0x14b+-0x31e+_0x3be993)*_0x58d3c3,_0x5a4914['m0']=_0x223f70*_0x58d3c3,_0x5a4914['p1']=_0x5b58b1*(0x167*-0x13+0x14f7+-0x1*-0x5b1-_0x3be993),_0x5a4914['m1']=_0x5b58b1*(_0x223f70-(0x817+0xbf5*-0x3+0x1bc9*0x1));}const _0x1b2a57=(this['_p0']*(0x1*-0x20df+0x219b+-0xb9)+(0x9ac*-0x3+0xf03+0xe02))*_0x2d8c64,_0x3f1103=(this['_p0']*(0x9*-0x413+-0x9d0+-0x2e7e*-0x1)+(-0x1*-0x1633+0x16f8+-0x2d29))*_0x2d8c64,_0x25fd1a=(this['_p1']*(0x23ef+-0x3*-0x7b5+-0x3b0b)+(-0x293*-0x2+0x2bf*-0x2+0x59))*_0x2d8c64,_0x23c101=(this['_p1']*(0x1f4*-0x4+0x102a+-0x3d*0x23)+(0x1cb1+0x11*-0x239+-0x308*-0x3))*_0x2d8c64;for(let _0x5a4836=-0x11*0x157+0x18cd+-0x206;_0x5a4836<_0x2d8c64;++_0x5a4836)_0x1744f5[_0x5a4836]=_0x5a4914['p0']*_0x53a618[_0x1b2a57+_0x5a4836]+_0x5a4914['m0']*_0x53a618[_0x3f1103+_0x5a4836]*this['_len']+_0x5a4914['p1']*_0x53a618[_0x25fd1a+_0x5a4836]+_0x5a4914['m1']*_0x53a618[_0x23c101+_0x5a4836]*this['_len'];break;}}}}}class Ig{constructor(_0x2c981c){this['_name']=_0x2c981c['name']+'Snapshot',this['_time']=-(0x1d3c+-0xd8+0x1c63*-0x1),this['_cache']=[],this['_results']=[];for(let _0x326a0b=0x1127*0x2+-0x47*-0xc+-0x25a2;_0x326a0b<_0x2c981c['_inputs']['length'];++_0x326a0b)this['_cache'][_0x326a0b]=new _L();const _0x34b388=_0x2c981c['_curves'],_0x6feca3=_0x2c981c['_outputs'];for(let _0x1a19bd=-0x853+0x14aa+0xf3*-0xd;_0x1a19bd<_0x34b388['length'];++_0x1a19bd){const _0x494795=_0x34b388[_0x1a19bd],_0x29e3bb=_0x6feca3[_0x494795['_output']],_0x55db48=[];for(let _0x39ceff=-0x3*0x32e+-0x8*-0x1be+-0x1*0x466;_0x39ceff<_0x29e3bb['_component'+'s'];++_0x39ceff)_0x55db48[_0x39ceff]=0x1195+0x21f8+-0x338d;this['_results'][_0x1a19bd]=_0x55db48;}}}const qo=class qo{constructor(_0x2968ae,_0x302dc9,_0x5a22db,_0x2fb451,_0x1e8dce,_0xf7f4e3){this['_name']=_0x2968ae['name'],this['_track']=_0x2968ae,this['_snapshot']=new Ig(_0x2968ae),this['_playing']=_0x2fb451,this['_time']=_0x302dc9,this['_speed']=_0x5a22db,this['_loop']=_0x1e8dce,this['_blendWeig'+'ht']=0x9ea*-0x1+-0x2700+0x30eb,this['_blendOrde'+'r']=-0x3c*0x7b+-0x1ffa+0x3cce*0x1,this['_eventHand'+'ler']=_0xf7f4e3,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x13e64c){this['_name']=_0x13e64c;}get['name'](){return this['_name'];}set['track'](_0x4a25a8){this['_track']=_0x4a25a8,this['_snapshot']=new Ig(_0x4a25a8);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x104b2e){this['_time']=_0x104b2e,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x2944e9){const _0x104cb5=Math['sign'](_0x2944e9)!==Math['sign'](this['_speed']);this['_speed']=_0x2944e9,_0x104cb5&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x17de5c){this['_loop']=_0x17de5c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x39f951){this['_blendWeig'+'ht']=_0x39f951;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x432a68){this['_blendOrde'+'r']=_0x432a68;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0xd726fd){this['_eventCurs'+'or']=_0xd726fd;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x4f3*-0x4+0x4*0x3f5+-0xfe*-0x4:this['_track']['events']['length']-(-0x2f*0x2f+0x23a*0x3+0x1f4);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1b0*0xd+0x16*0x71+0xc3a*0x1;}['nextEventA'+'headOfTime'](_0xb0b7c2){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0xb0b7c2:this['nextEvent']['time']>=_0xb0b7c2:!(-0x5a*0x54+0x178c+-0xdb*-0x7);}['nextEventB'+'ehindTime'](_0x244c92){return this['nextEvent']?_0x244c92===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x244c92:this['nextEvent']['time']<=_0x244c92:this['isReverse']?this['nextEvent']['time']>_0x244c92:this['nextEvent']['time']<_0x244c92:!(0xd*0x3f+0x35*0x83+-0x255*0xd);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0xb57+0xc71+-0x17c7):-0x246b*0x1+0x1*-0x1bef+0x2*0x202d;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x2c*-0xde+0x1daf+-0x43d6):0x1f18+0x1*0x1ac9+-0x10*0x39e,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x1cc1+-0x2153*0x1+0x492:this['_eventCurs'+'or']<-0x1*-0x9db+-0xd*-0x7+-0xa36&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x1dc1+-0x6ee+-0x16d2));}['clipFrameT'+'ime'](_0x3919aa){const _0x3d8e69=qo['eventFrame'];_0x3d8e69['start']=0x113a+0x2*0x1fa+-0x152e,_0x3d8e69['end']=_0x3919aa,_0x3d8e69['residual']=0x2a*0x30+0x1d33+-0x2513,this['isReverse']?_0x3919aa<-0xb1b+0x1290+-0x775&&(_0x3d8e69['start']=this['track']['duration'],_0x3d8e69['end']=0x3d*-0x7b+0xa8*0x2f+0x189*-0x1,_0x3d8e69['residual']=_0x3919aa+this['track']['duration']):_0x3919aa>this['track']['duration']&&(_0x3d8e69['start']=0x24be*0x1+0x36*-0xe+-0x21ca,_0x3d8e69['end']=this['track']['duration'],_0x3d8e69['residual']=_0x3919aa-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x3afea4,_0x807d56){return this['nextEventA'+'headOfTime'](_0x3afea4)&&this['nextEventB'+'ehindTime'](_0x807d56)?(this['fireNextEv'+'ent'](),!(-0x1402+0x71a+0xce8)):!(0x1*0x3c1+-0x23fc+0x203c);}['activeEven'+'tsForFrame'](_0x30c66d,_0x4229e8){const _0x87b20b=qo['eventFrame'];this['clipFrameT'+'ime'](_0x4229e8);const _0x131a55=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x30c66d,_0x87b20b['end'])&&_0x131a55!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x87b20b['residual'])>0x1*0x1159+-0x1b7a+0xa21&&this['activeEven'+'tsForFrame'](_0x87b20b['start'],_0x87b20b['residual']);}['progressFo'+'rTime'](_0x3e7bb3){return _0x3e7bb3*this['_speed']/this['_track']['duration'];}['_update'](_0xc3a932){if(this['_playing']){let _0x4d7a5a=this['_time'];const _0x7b3f26=this['_track']['duration'],_0x3ca760=this['_speed'],_0x251fc2=this['_loop'];this['_track']['events']['length']>-0x18f5+-0x233a+0x3c2f&&_0x7b3f26>-0x2*0xdee+0x1beb+-0x5*0x3&&this['activeEven'+'tsForFrame'](_0x4d7a5a,_0x4d7a5a+_0x3ca760*_0xc3a932),_0x4d7a5a+=_0x3ca760*_0xc3a932,_0x3ca760>=-0x1433*0x1+-0x64e+0x1a81?_0x4d7a5a>_0x7b3f26&&(_0x251fc2?_0x4d7a5a=_0x4d7a5a%_0x7b3f26||-0x8b0*-0x1+-0x3*-0x4ae+-0x16ba:(_0x4d7a5a=this['_track']['duration'],this['pause']())):_0x4d7a5a<0x989*0x2+-0x1a56+0x6*0x136&&(_0x251fc2?_0x4d7a5a=_0x7b3f26+(_0x4d7a5a%_0x7b3f26||-0x7*0x466+0x26a8*-0x1+0x4572*0x1):(_0x4d7a5a=0x18d9+-0x1*-0x7fa+0x3*-0xaf1,this['pause']())),this['_time']=_0x4d7a5a;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x15e3*0x1+0x1*0xcae+0x935),this['_time']=0x4d*0x21+0x1b69+-0x2556;}['stop'](){this['_playing']=!(-0xb*-0xf6+-0x797*0x2+0x49d),this['_time']=-0x1caa+0x45*-0x89+0x4197;}['pause'](){this['_playing']=!(0xaa7+0x138a+-0x1e30);}['resume'](){this['_playing']=!(0x1baa+0x2514+-0x40be);}['reset'](){this['_time']=-0x7a5*-0x5+0x165+-0x279e;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x4577ae,_0x1f19af){const _0x5b8220=_0x4577ae['length'];let _0x30e98d=-0x2d*0x17+0xf67+-0xb5c*0x1;for(let _0x86608a=0x1899+-0x1a75+-0x2*-0xee;_0x86608a<_0x5b8220;++_0x86608a)_0x30e98d+=_0x4577ae[_0x86608a]*_0x1f19af[_0x86608a];return _0x30e98d;}static['normalize'](_0xefefd0){let _0x4b2bc7=Ht['dot'](_0xefefd0,_0xefefd0);if(_0x4b2bc7>0x51b*0x2+-0x1f*-0x127+-0x2def){_0x4b2bc7=(-0x193d+-0x2626+-0x3f64*-0x1)/Math['sqrt'](_0x4b2bc7);const _0x1a3cc9=_0xefefd0['length'];for(let _0x5f3f9e=-0x1b38+0x12ed+0x84b;_0x5f3f9e<_0x1a3cc9;++_0x5f3f9e)_0xefefd0[_0x5f3f9e]*=_0x4b2bc7;}}static['set'](_0x1983c1,_0x5e360c,_0x3db20f){const _0x6c32bf=_0x1983c1['length'];if(_0x3db20f==='quaternion'){let _0xb5d9db=Ht['dot'](_0x5e360c,_0x5e360c);_0xb5d9db>-0x19fd+0x1*-0x3+0x68*0x40&&(_0xb5d9db=(0x30*-0xc2+0xcca+0x1797)/Math['sqrt'](_0xb5d9db));for(let _0x2b9459=0x21ff+0x15ac+-0x37ab;_0x2b9459<_0x6c32bf;++_0x2b9459)_0x1983c1[_0x2b9459]=_0x5e360c[_0x2b9459]*_0xb5d9db;}else{for(let _0x21535f=0x1a84+0x8fd+-0x2381;_0x21535f<_0x6c32bf;++_0x21535f)_0x1983c1[_0x21535f]=_0x5e360c[_0x21535f];}}static['blendVec'](_0x2b17e0,_0xa0789c,_0x1e1619,_0x1df101){const _0x45c482=_0x1df101?-0x81d*0x3+0x1517+-0x1*-0x341:-0x1*0xd97+0x1b0d*0x1+-0x2b1*0x5-_0x1e1619,_0x189585=_0x2b17e0['length'];for(let _0x2f3fb3=-0x2f*-0xa9+0x1*-0x149f+-0x8*0x14d;_0x2f3fb3<_0x189585;++_0x2f3fb3)_0x2b17e0[_0x2f3fb3]=_0x2b17e0[_0x2f3fb3]*_0x45c482+_0xa0789c[_0x2f3fb3]*_0x1e1619;}static['blendQuat'](_0x196ad9,_0x477b1b,_0xafca6d,_0x389606){const _0x1600fa=_0x196ad9['length'],_0x4be32e=_0x389606?0x3*0x93f+0x16ec+-0x2*0x1954:-0x70*-0x1+-0x4b*0x67+-0x34e*-0x9-_0xafca6d;Ht['dot'](_0x196ad9,_0x477b1b)<0x2280+-0x4a8+-0x2*0xeec&&(_0xafca6d=-_0xafca6d);for(let _0x3a1b24=-0x12cf+-0x3*-0x34f+-0x3*-0x2f6;_0x3a1b24<_0x1600fa;++_0x3a1b24)_0x196ad9[_0x3a1b24]=_0x196ad9[_0x3a1b24]*_0x4be32e+_0x477b1b[_0x3a1b24]*_0xafca6d;_0x389606||Ht['normalize'](_0x196ad9);}static['blend'](_0x2ff9ab,_0x4233a1,_0xf26c7a,_0x21903b,_0x1bf089){_0x21903b==='quaternion'?Ht['blendQuat'](_0x2ff9ab,_0x4233a1,_0xf26c7a,_0x1bf089):Ht['blendVec'](_0x2ff9ab,_0x4233a1,_0xf26c7a,_0x1bf089);}static['stableSort'](_0x53076e,_0x1c9ebe){const _0x2d9b9d=_0x53076e['length'];for(let _0x3f985f=-0xc2*-0x26+-0xafb+-0x11d1;_0x3f985f<_0x2d9b9d-(-0xb71+0x1ad8+0x6*-0x291);++_0x3f985f)for(let _0x35fd4b=_0x3f985f+(0x1855+0x1888+-0x30dc);_0x35fd4b<_0x2d9b9d;++_0x35fd4b)if(_0x1c9ebe(_0x53076e[_0x35fd4b],_0x53076e[_0x3f985f])){const _0x34ed2d=_0x53076e[_0x3f985f];_0x53076e[_0x3f985f]=_0x53076e[_0x35fd4b],_0x53076e[_0x35fd4b]=_0x34ed2d;}}}const st=class st{constructor(_0x16bb93,_0x50e414){this['_component']=_0x16bb93,this['mask']=new Int8Array(_0x16bb93['layers']['length']),this['weights']=new Float32Array(_0x16bb93['layers']['length']),this['totalWeigh'+'t']=-0x3*-0x9f1+-0x31*-0x66+0x1*-0x3159,this['counter']=-0x2109+-0x6cd+0x27d6,this['layerCount'+'er']=0x1ee+0x1dc1+-0x1faf,this['valueType']=_0x50e414,this['dirty']=!(-0x2002+0xef2+0x1110),this['value']=_0x50e414===st['TYPE_QUAT']?[-0x1f71+0x77+0x1efa,0x1ed7*0x1+-0xa0a+-0x47*0x4b,-0x17f0+-0x1bc9+0x33b9,0x5*0x4ea+0xec*0x1+-0x1d*0xe1]:[-0x1c99+-0xb0*0x25+0x601*0x9,0x1*-0x7ac+0x954+-0x1a8,-0x187b+-0x1507+-0x2*-0x16c1],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x2f417c){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0xe74+0x13d9+0xb6f*-0x3||!this['mask'][_0x2f417c]?-0x2065+-0xad5+-0x2b3a*-0x1:this['_normalize'+'Weights']?this['weights'][_0x2f417c]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x2f417c],0xe2f*-0x1+0xf8b+-0x15c,0x194f*0x1+0x9eb*0x2+-0x1692*0x2);}['_layerBlen'+'dType'](_0x500b9a){return this['_component']['layers'][_0x500b9a]['blendType'];}['setMask'](_0x315708,_0x4df946){this['mask'][_0x315708]=_0x4df946,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x315708]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0xb3d+0x13*-0x2f+-0x7c0,-0x71*-0x56+-0xdbb+-0x183b*0x1,_0x315708)),this['dirty']=!(0x1825+-0x21e*-0xf+-0x1*0x37e7));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0xfa6+-0x1*0x25d9+0xf*0x391;for(let _0x50cf6c=0x1*0x107b+-0x1c57+0x6*0x1fa;_0x50cf6c<this['weights']['length'];_0x50cf6c++)this['weights'][_0x50cf6c]=this['_component']['layers'][_0x50cf6c]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x50cf6c]*this['weights'][_0x50cf6c];this['dirty']=!(0x1dcf+0xe*0x6a+-0x239a);}['updateValu'+'e'](_0x3363cb,_0x5dae94){if(this['counter']===0x1716+-0x1ff1+0x1*0x8db&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x1d*0x29+0x14d0+-0x102a,this['valueType'])),!(!this['mask'][_0x3363cb]||this['getWeight'](_0x3363cb)===0x25*0xd3+0x186a*0x1+-0x36e9*0x1)){if(this['_layerBlen'+'dType'](_0x3363cb)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x135a86=st['q1']['set'](this['value'][-0x150f*-0x1+-0xdce+-0x741],this['value'][0xf0*-0x23+0x148b*-0x1+0x355c],this['value'][0x1*0x1e95+-0x337+-0x19c*0x11],this['value'][-0x9b7*-0x3+-0xd8a+0x2*-0x7cc]),_0x498408=st['q2']['set'](this['baseValue'][0x1*-0x48a+-0x1*-0x25db+-0x2151],this['baseValue'][-0x47*-0xa+-0x2*-0x3a9+-0xa17],this['baseValue'][0xa3*0x26+-0x611*0x3+0x1*-0x5fd],this['baseValue'][-0x1*-0x2345+0x2*-0x1046+-0x2b6]),_0xb816d9=st['q3']['set'](_0x5dae94[0xb5*0x19+0xbf9+0x2b2*-0xb],_0x5dae94[-0xd40+-0x22ff+-0x1*-0x3040],_0x5dae94[-0x5d0+0x1f*-0xb+0x1*0x727],_0x5dae94[0x1*0x83+-0x1d9b+-0x1*-0x1d1b]),_0x33fa19=_0x498408['invert']()['mul'](_0xb816d9);_0x33fa19['slerp'](le['IDENTITY'],_0x33fa19,this['getWeight'](_0x3363cb)),_0x135a86['mul'](_0x33fa19),st['quatArr'][0x2612+-0x1d54+0x2ea*-0x3]=_0x135a86['x'],st['quatArr'][0x339+-0x93+0x1*-0x2a5]=_0x135a86['y'],st['quatArr'][-0x16cf+0x206a+-0x999]=_0x135a86['z'],st['quatArr'][0x1acf+0x1*-0x11fb+0x25*-0x3d]=_0x135a86['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x1e12+-0x475*-0x1+-0x2287]=_0x5dae94[-0x1c65+0x45*0x8f+-0xa26*0x1]-this['baseValue'][-0x132+-0x1ee+0x320],st['vecArr'][0x1aad*0x1+-0x23a2*-0x1+-0x3e4e]=_0x5dae94[-0xf2*0xb+-0xd90+0x17f7]-this['baseValue'][0x26fc+-0x231*-0x2+-0x28d*0x11],st['vecArr'][0x18f4+-0xdf2+-0xb*0x100]=_0x5dae94[0x12d2+-0x1*-0x192a+0x1a*-0x1b1]-this['baseValue'][-0x15ed*-0x1+-0x1e1c+0x831],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x3363cb),this['valueType'],!(-0x2446+0x1*-0x24af+-0x3d7*-0x13));}else Ht['blend'](this['value'],_0x5dae94,this['getWeight'](_0x3363cb),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0xcd9+-0x1*-0xe0b+0x1*-0x1ae4,-0x3*-0xb39+0xba5*-0x2+-0xa61,-0x99*-0x7+0x2*0x505+-0xe39,-0x1*-0xbb9+0xb6a+0x2f*-0x7e]),h(st,'vecArr',[-0x2615+0x1a0c+0x27*0x4f,0x793*0x1+-0xa4*0x13+0x499,0x1a05+-0x2549*-0x1+-0x3f4e]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x1b43+-0x4*-0x832+-0x3c0b,0x8*-0x124+0x1*-0xcbb+0x45f*0x5,-0x7e0+-0xa65+0x617*0x3,0x374+0x1*0xa99+-0x1f*0x74]);let Vo=st;class Gv{constructor(_0x2d285e){this['_binder']=_0x2d285e,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0xc38635){const _0x36d63d=this['_targets'],_0x3f6790=this['_binder'],_0x338714=_0xc38635['track']['curves'],_0x190754=_0xc38635['snapshot'],_0x10828c=[],_0x26bb67=[];for(let _0x16a42d=-0x1282+0x2485*-0x1+-0x1*-0x3707;_0x16a42d<_0x338714['length'];++_0x16a42d){const _0x490566=_0x338714[_0x16a42d]['paths'];for(let _0x3421c8=-0x1c69*0x1+0xb6f*0x1+-0x10fa*-0x1;_0x3421c8<_0x490566['length'];++_0x3421c8){const _0x6b95e6=_0x490566[_0x3421c8],_0x1efe8b=_0x3f6790['resolve'](_0x6b95e6);let _0x2887f0=_0x36d63d[_0x1efe8b&&_0x1efe8b['targetPath']||null];if(!_0x2887f0&&_0x1efe8b){_0x2887f0={'target':_0x1efe8b,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x21cefb=-0x12f8*0x1+0x11*0x243+-0x137b;_0x21cefb<_0x2887f0['target']['components'];++_0x21cefb)_0x2887f0['value']['push'](0x2*0x2d2+0x3*0x1fd+-0x1*0xb9b);if(_0x36d63d[_0x1efe8b['targetPath']]=_0x2887f0,_0x3f6790['animCompon'+'ent']){if(!_0x3f6790['animCompon'+'ent']['targets'][_0x1efe8b['targetPath']]){let _0x426ec4;_0x1efe8b['targetPath']['substring'](_0x1efe8b['targetPath']['length']-(-0x1*-0x123+0x1*-0x38+-0x25*0x6))==='localRotat'+'ion'?_0x426ec4=Vo['TYPE_QUAT']:_0x426ec4=Vo['TYPE_VEC3'],_0x3f6790['animCompon'+'ent']['targets'][_0x1efe8b['targetPath']]=new Vo(_0x3f6790['animCompon'+'ent'],_0x426ec4);}_0x3f6790['animCompon'+'ent']['targets'][_0x1efe8b['targetPath']]['layerCount'+'er']++,_0x3f6790['animCompon'+'ent']['targets'][_0x1efe8b['targetPath']]['setMask'](_0x3f6790['layerIndex'],0x19ed*0x1+0x1c9a+-0x3686);}}_0x2887f0&&(_0x2887f0['curves']++,_0x10828c['push'](_0x190754['_results'][_0x16a42d]),_0x26bb67['push'](_0x2887f0));}}this['_clips']['push'](_0xc38635),this['_inputs']['push'](_0x10828c),this['_outputs']['push'](_0x26bb67);}['removeClip'](_0x337ff9){const _0xb4e2a=this['_targets'],_0x9222e9=this['_binder'],_0x2fb118=this['_clips'],_0x28f8ce=_0x2fb118[_0x337ff9]['track']['curves'];for(let _0x3b8aba=-0x7*-0x3ed+0xe86*-0x1+0x1f*-0x6b;_0x3b8aba<_0x28f8ce['length'];++_0x3b8aba){const _0x18141e=_0x28f8ce[_0x3b8aba]['paths'];for(let _0x89f47c=0x9f4+0xc68+-0x165c;_0x89f47c<_0x18141e['length'];++_0x89f47c){const _0x4095fa=_0x18141e[_0x89f47c],_0x537576=this['_binder']['resolve'](_0x4095fa);_0x537576&&(_0x537576['curves']--,_0x537576['curves']===-0x1*0xf54+0x2d*0x9f+-0xc9f&&(_0x9222e9['unresolve'](_0x4095fa),delete _0xb4e2a[_0x537576['targetPath']],_0x9222e9['animCompon'+'ent']&&_0x9222e9['animCompon'+'ent']['targets'][_0x537576['targetPath']]['layerCount'+'er']--));}}_0x2fb118['splice'](_0x337ff9,-0x747*-0x2+0x1*0xb97+-0x1a24),this['_inputs']['splice'](_0x337ff9,0x1b47+0x102c+0x53*-0x86),this['_outputs']['splice'](_0x337ff9,0x1434*0x1+-0x25b+-0x23b*0x8);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x18ce+-0x14b1*0x1+-0x265*-0x13;)this['removeClip'](0x1b1*0x13+0x1*-0x3c7+-0x16b*0x14);}['updateClip'+'Track'](_0x4502d5,_0xef10f3){this['_clips']['forEach'](_0x5368d3=>{_0x5368d3['name']['includes'](_0x4502d5)&&(_0x5368d3['track']=_0xef10f3);}),this['rebind']();}['findClip'](_0x5397ac){const _0x5291d4=this['_clips'];for(let _0x47b3a2=-0xf*0x278+0x1*-0x156a+0x3a72;_0x47b3a2<_0x5291d4['length'];++_0x47b3a2){const _0x45b38a=_0x5291d4[_0x47b3a2];if(_0x45b38a['name']===_0x5397ac)return _0x45b38a;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2f6ca2=[...this['clips']];this['removeClip'+'s'](),_0x2f6ca2['forEach'](_0x432731=>{this['addClip'](_0x432731);});}['assignMask'](_0x37aa2b){return this['_binder']['assignMask'](_0x37aa2b);}['update'](_0x4a88c4,_0x18850b=!(-0xabd+0x216*0xe+0x1277*-0x1)){const _0x567ac4=this['_clips'],_0x46be70=_0x567ac4['map']((_0x57aeaa,_0x1bed03)=>_0x1bed03);Ht['stableSort'](_0x46be70,(_0x35afa2,_0x4883de)=>_0x567ac4[_0x35afa2]['blendOrder']<_0x567ac4[_0x4883de]['blendOrder']);for(let _0x1a3921=-0x4*-0x12d+-0x33c+-0x178;_0x1a3921<_0x46be70['length'];++_0x1a3921){const _0x2d91e5=_0x46be70[_0x1a3921],_0x5975cd=_0x567ac4[_0x2d91e5],_0x2b2803=this['_inputs'][_0x2d91e5],_0x32854d=this['_outputs'][_0x2d91e5],_0x14632f=_0x5975cd['blendWeigh'+'t'];if(_0x14632f>0x22c9+0x1674+-0x393d*0x1&&_0x5975cd['_update'](_0x4a88c4),!_0x18850b)break;let _0x3bc3b1,_0x556dcb,_0x407a04;if(_0x14632f>=-0x2216+-0x56*0x47+0x39f1){for(let _0x580e9d=0xc*-0x78+-0x25*-0xd9+-0x19bd;_0x580e9d<_0x2b2803['length'];++_0x580e9d)_0x3bc3b1=_0x2b2803[_0x580e9d],_0x556dcb=_0x32854d[_0x580e9d],_0x407a04=_0x556dcb['value'],Ht['set'](_0x407a04,_0x3bc3b1,_0x556dcb['target']['type']),_0x556dcb['blendCount'+'er']++;}else{if(_0x14632f>0x1*0x1585+-0xe32+0x4b*-0x19){for(let _0x53d594=0x22*0x86+-0x1*0x1855+0x689;_0x53d594<_0x2b2803['length'];++_0x53d594)_0x3bc3b1=_0x2b2803[_0x53d594],_0x556dcb=_0x32854d[_0x53d594],_0x407a04=_0x556dcb['value'],_0x556dcb['blendCount'+'er']===0xc00+0xca6+0x18a6*-0x1?Ht['set'](_0x407a04,_0x3bc3b1,_0x556dcb['target']['type']):Ht['blend'](_0x407a04,_0x3bc3b1,_0x14632f,_0x556dcb['target']['type']),_0x556dcb['blendCount'+'er']++;}}}const _0x44e0b8=this['_targets'],_0x5e771d=this['_binder'];for(const _0x7fedd3 in _0x44e0b8)if(_0x44e0b8['hasOwnProp'+'erty'](_0x7fedd3)){const _0x44bef1=_0x44e0b8[_0x7fedd3];if(_0x5e771d['animCompon'+'ent']&&_0x44bef1['target']['isTransfor'+'m']){const _0x4fac64=_0x5e771d['animCompon'+'ent']['targets'][_0x7fedd3];_0x4fac64['counter']===_0x4fac64['layerCount'+'er']&&(_0x4fac64['counter']=0x2243+-0x11ab+-0x8*0x213),_0x4fac64['path']||(_0x4fac64['path']=_0x7fedd3,_0x4fac64['baseValue']=_0x44bef1['target']['get'](),_0x4fac64['setter']=_0x44bef1['target']['set']),_0x4fac64['updateValu'+'e'](_0x5e771d['layerIndex'],_0x44bef1['value']),_0x4fac64['counter']++;}else _0x44bef1['target']['set'](_0x44bef1['value']);_0x44bef1['blendCount'+'er']=0xab4*0x2+-0x208c+0xb24;}this['_binder']['update'](_0x4a88c4);}}class Hv{constructor(_0x3d5fe9){this['_events']=[..._0x3d5fe9],this['_events']['sort']((_0x523c53,_0x56fe1b)=>_0x523c53['time']-_0x56fe1b['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0xaaf781,_0x4ee582,_0x29eccb,_0x17097d,_0x50182e,_0x46ea7d=new Hv([])){this['_name']=_0xaaf781,this['_duration']=_0x4ee582,this['_inputs']=_0x29eccb,this['_outputs']=_0x17097d,this['_curves']=_0x50182e,this['_animEvent'+'s']=_0x46ea7d;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x4fe8ef){this['_animEvent'+'s']=_0x4fe8ef;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x337791,_0x2fb98f){_0x2fb98f['_time']=_0x337791;const _0x2b7f40=this['_inputs'],_0xb70238=this['_outputs'],_0x5d5d39=this['_curves'],_0x3bb5a8=_0x2fb98f['_cache'],_0x2efad0=_0x2fb98f['_results'];for(let _0x93e604=-0x9fb+0x1bba+-0x11bf;_0x93e604<_0x2b7f40['length'];++_0x93e604)_0x3bb5a8[_0x93e604]['update'](_0x337791,_0x2b7f40[_0x93e604]['_data']);for(let _0x345ddc=0xcab+0x1*0x10f+-0x7*0x1f6;_0x345ddc<_0x5d5d39['length'];++_0x345ddc){const _0x5ed7da=_0x5d5d39[_0x345ddc],_0x58e75a=_0xb70238[_0x5ed7da['_output']],_0x1a49d4=_0x2efad0[_0x345ddc];_0x3bb5a8[_0x5ed7da['_input']]['eval'](_0x1a49d4,_0x5ed7da['_interpola'+'tion'],_0x58e75a);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x39c988,_0x45dec0){_0x45dec0=_0x45dec0||'.';const _0x23dfd0=function(_0x2c25d8){return _0x2c25d8['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x45dec0,'g'),'\x5c'+_0x45dec0);};return _0x39c988['map'](_0x23dfd0)['join'](_0x45dec0);}static['splitPath'](_0x4744c4,_0x30e848){_0x30e848=_0x30e848||'.';const _0x5eed5f=[];let _0xb6d770='',_0x2b7928=0x80*-0x4c+-0x1*-0x1d7b+0x885;for(;_0x2b7928<_0x4744c4['length'];){let _0x219ce6=_0x4744c4[_0x2b7928++];_0x219ce6==='\x5c'&&_0x2b7928<_0x4744c4['length']?(_0x219ce6=_0x4744c4[_0x2b7928++],_0x219ce6==='\x5c'||_0x219ce6===_0x30e848?_0xb6d770+=_0x219ce6:_0xb6d770+='\x5c'+_0x219ce6):_0x219ce6===_0x30e848?(_0x5eed5f['push'](_0xb6d770),_0xb6d770=''):_0xb6d770+=_0x219ce6;}return _0xb6d770['length']>-0x11b*-0x1d+0x3dc+-0x265*0xf&&_0x5eed5f['push'](_0xb6d770),_0x5eed5f;}static['encode'](_0x2c10aa,_0x214058,_0x22720a){return(Array['isArray'](_0x2c10aa)?_0x2c10aa['join']('/'):_0x2c10aa)+'/'+_0x214058+'/'+(Array['isArray'](_0x22720a)?_0x22720a['join']('/'):_0x22720a);}['resolve'](_0x23a467){return null;}['unresolve'](_0x1af840){}['update'](_0x4132c4){}}class xu{constructor(_0x2e08c7,_0x2851d,_0x447cb3,_0x565e91){_0x2e08c7['set']?(this['_set']=_0x2e08c7['set'],this['_get']=_0x2e08c7['get']):this['_set']=_0x2e08c7,this['_type']=_0x2851d,this['_component'+'s']=_0x447cb3,this['_targetPat'+'h']=_0x565e91,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x7c9+0x1e4e+-0x2cf*0x8))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1a2*0xb+0x1*-0x2a6+0x14a9))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0xd4a+0x2239*0x1+-0x14e5))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x1f01a1){h(this,'_isPathInM'+'ask',(_0x2d8991,_0x5a7fd1)=>{const _0x324ae9=this['_mask'][_0x2d8991];if(_0x324ae9){if(_0x324ae9['children']||_0x5a7fd1&&_0x324ae9['value']!==!(0x1*-0x1fe7+0x1410+0x4*0x2f6))return!(0x166d+0x1381*0x1+-0x29ee);}else return!(0xc34+0x1fb7+-0x323*0xe);return!(0x6a3*0x3+-0x1345*-0x1+0xd0f*-0x3);});if(this['graph']=_0x1f01a1,!_0x1f01a1)return;this['_mask']=null;const _0x44ce40={},_0x13cce4=function(_0x54caad){_0x44ce40[_0x54caad['name']]=_0x54caad;for(let _0x3d9ede=0xc4+0x1f*0xfb+-0x1f29;_0x3d9ede<_0x54caad['children']['length'];++_0x3d9ede)_0x13cce4(_0x54caad['children'][_0x3d9ede]);};_0x13cce4(_0x1f01a1),this['nodes']=_0x44ce40,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x5d0df2=function(_0x2f3671){let _0x5d1e39=_0x2f3671;for(;_0x5d1e39&&!(_0x5d1e39 instanceof lt);)_0x5d1e39=_0x5d1e39['parent'];let _0x3fc880;return _0x5d1e39&&(_0x5d1e39['render']?_0x3fc880=_0x5d1e39['render']['meshInstan'+'ces']:_0x5d1e39['model']&&(_0x3fc880=_0x5d1e39['model']['meshInstan'+'ces'])),_0x3fc880;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x3d1e08){const _0x3c231b=_0x3d1e08['localPosit'+'ion'],_0xe6d2b3=function(_0x5f3661){_0x3c231b['set'](..._0x5f3661);};return Sr['createAnim'+'Target'](_0xe6d2b3,'vector',0x262a+-0x26*-0x4f+0x71*-0x71,_0x3d1e08,'localPosit'+'ion');},'localRotation':function(_0x2d8ec2){const _0x1aa2b5=_0x2d8ec2['localRotat'+'ion'],_0x528360=function(_0x416f49){_0x1aa2b5['set'](..._0x416f49);};return Sr['createAnim'+'Target'](_0x528360,'quaternion',0x168f+0xff8+-0x2683,_0x2d8ec2,'localRotat'+'ion');},'localScale':function(_0x5f1b8f){const _0x2a498a=_0x5f1b8f['localScale'],_0xf5fe83=function(_0x3b7a81){_0x2a498a['set'](..._0x3b7a81);};return Sr['createAnim'+'Target'](_0xf5fe83,'vector',0x1*0x27d+0x129d*0x1+0x1517*-0x1,_0x5f1b8f,'localScale');},'weight':function(_0x3f484c,_0x4568e9){_0x4568e9['indexOf']('name.')===0x5*0xc1+-0x19b6+0x15f1*0x1?_0x4568e9=_0x4568e9['replace']('name.',''):_0x4568e9=Number(_0x4568e9);const _0x1ec76e=_0x5d0df2(_0x3f484c);let _0x2c357b;if(_0x1ec76e){for(let _0x370b3d=0x11*-0x3+0x1947+0x141*-0x14;_0x370b3d<_0x1ec76e['length'];++_0x370b3d)if(_0x1ec76e[_0x370b3d]['node']['name']===_0x3f484c['name']&&_0x1ec76e[_0x370b3d]['morphInsta'+'nce']){const _0x1e2349=_0x1ec76e[_0x370b3d]['morphInsta'+'nce'],_0x5026a8=_0x18e1c6=>{_0x1e2349['setWeight'](_0x4568e9,_0x18e1c6[0xb8a+0x2*-0xd22+-0xa*-0x179]);};_0x2c357b||(_0x2c357b=[]),_0x2c357b['push'](_0x5026a8);}}if(_0x2c357b){const _0x29a98e=_0x139804=>{for(let _0x1df94c=-0x22f8+0xa*-0x24e+0x5e*0x9e;_0x1df94c<_0x2c357b['length'];++_0x1df94c)_0x2c357b[_0x1df94c](_0x139804);};return Sr['createAnim'+'Target'](_0x29a98e,'number',0xd5c+0x1475*-0x1+-0x1*-0x71a,_0x3f484c,'weight.'+_0x4568e9);}return null;},'materialTexture':(_0x890472,_0xe9520e)=>{const _0x40c27e=_0x5d0df2(_0x890472);if(_0x40c27e){let _0xb5a0ec;for(let _0x4377f8=-0x2104+0x1d7d*0x1+0x387;_0x4377f8<_0x40c27e['length'];++_0x4377f8)if(_0x40c27e[_0x4377f8]['node']['name']===_0x890472['name']){_0xb5a0ec=_0x40c27e[_0x4377f8];break;}if(_0xb5a0ec){const _0x3cb985=_0x23cc3a=>{const _0x5d07b3=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x23cc3a[0xfad+0x1218+0x6c1*-0x5]);_0x5d07b3&&_0x5d07b3['resource']&&_0x5d07b3['type']==='texture'&&(_0xb5a0ec['material'][_0xe9520e]=_0x5d07b3['resource'],_0xb5a0ec['material']['update']());};return Sr['createAnim'+'Target'](_0x3cb985,'vector',0x506+-0x578+0x17*0x5,_0x890472,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x560e73){if(!this['_mask'])return!(-0xc29+0x24*-0x8a+0x1f91);const _0x3ce6de=[_0x560e73['entityPath'][0x486*0x3+-0x26c1+0x192f],this['graph']['name']];for(let _0x1ecefa=0xb93*-0x1+0x3b8+0x7db;_0x1ecefa<_0x3ce6de['length'];++_0x1ecefa){let _0x4d9ec8=_0x3ce6de[_0x1ecefa];if(this['_isPathInM'+'ask'](_0x4d9ec8,_0x560e73['entityPath']['length']===-0xcc*-0xd+0x215+-0x4*0x31c))return!(-0x6*-0x67+-0xf8b+0xd21);for(let _0x73188=0x148a+0x809*0x3+-0x2ca4;_0x73188<_0x560e73['entityPath']['length'];_0x73188++)if(_0x4d9ec8+='/'+_0x560e73['entityPath'][_0x73188],this['_isPathInM'+'ask'](_0x4d9ec8,_0x73188===_0x560e73['entityPath']['length']-(-0x867+-0x122b*0x2+0x2cbe)))return!(0x2*0xc9+0x23cf+0x7*-0x557);}return!(-0x3*0xb4f+-0x1e3a+-0x2*-0x2014);}['findNode'](_0x54baa0){if(!this['_isPathAct'+'ive'](_0x54baa0))return null;let _0x1c5c5f;if(this['graph']&&(_0x1c5c5f=this['graph']['findByPath'](_0x54baa0['entityPath']),_0x1c5c5f||(_0x1c5c5f=this['graph']['findByPath'](_0x54baa0['entityPath']['slice'](0x2296+0xaa3+-0x2d38)))),!_0x1c5c5f){_0x1c5c5f=this['nodes'][_0x54baa0['entityPath'][_0x54baa0['entityPath']['length']-(-0x121b*0x1+0x266f+0x2b*-0x79)]||''];const _0x12748e=ra['encode'](_0x54baa0['entityPath'][_0x54baa0['entityPath']['length']-(0x1775+0x2620+0x4*-0xf65)]||'','graph',_0x54baa0['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x12748e]===0xd55+0x21cf+-0x2f23&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x12748e+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x12748e])?this['visitedFal'+'lbackGraph'+'Paths'][_0x12748e]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x12748e]=-0x8*0x110+0x2212+-0x1992;}return _0x1c5c5f;}static['createAnim'+'Target'](_0x409691,_0x39ccfe,_0x14f480,_0x3cbed4,_0x44627a,_0x1d5a06){const _0x2e1ef5=ra['encode'](_0x3cbed4['path'],_0x1d5a06||'entity',_0x44627a);return new xu(_0x409691,_0x39ccfe,_0x14f480,_0x2e1ef5);}['resolve'](_0x5b1876){const _0xe117b4=ra['encode'](_0x5b1876['entityPath'],_0x5b1876['component'],_0x5b1876['propertyPa'+'th']);let _0x34256e=this['targetCach'+'e'][_0xe117b4];if(_0x34256e)return _0x34256e;const _0x26b113=this['findNode'](_0x5b1876);if(!_0x26b113)return null;const _0x3d54da=this['handlers'][_0x5b1876['propertyPa'+'th']];return!_0x3d54da||(_0x34256e=_0x3d54da(_0x26b113),!_0x34256e)?null:(this['targetCach'+'e'][_0xe117b4]=_0x34256e,this['nodeCounts'][_0x26b113['path']]?this['nodeCounts'][_0x26b113['path']]++:(this['activeNode'+'s']['push'](_0x26b113),this['nodeCounts'][_0x26b113['path']]=0x1f*0x49+0x391*0x5+-0x1*0x1aab),_0x34256e);}['unresolve'](_0x31be79){if(_0x31be79['component']!=='graph')return;const _0x13647b=this['nodes'][_0x31be79['entityPath'][_0x31be79['entityPath']['length']-(-0x3d7+-0x12b*-0x1f+-0x205d*0x1)]||''];if(this['nodeCounts'][_0x13647b['path']]--,this['nodeCounts'][_0x13647b['path']]===-0x2*0xe63+-0xb*0xda+-0x989*-0x4){const _0x23eda6=this['activeNode'+'s'],_0x47db58=_0x23eda6['indexOf'](_0x13647b['node']),_0x46eacd=_0x23eda6['length'];_0x47db58<_0x46eacd-(0x29*-0x37+0x8b*0x3f+-0x1965)&&(_0x23eda6[_0x47db58]=_0x23eda6[_0x46eacd-(0x1dce+-0x1f1e+-0x1*-0x151)]),_0x23eda6['pop']();}}['update'](_0xe51fb9){const _0xaa2c35=this['activeNode'+'s'];for(let _0x26d357=-0x77*-0x13+-0x3*-0x573+0x1*-0x192e;_0x26d357<_0xaa2c35['length'];++_0x26d357)_0xaa2c35[_0x26d357]['_dirtifyLo'+'cal']();}['assignMask'](_0x4724cf){return _0x4724cf!==this['_mask']?(this['_mask']=_0x4724cf,!(-0x20af+0xb50+-0x1*-0x155f)):!(0x40*-0x94+-0x12e*0x13+0x3b6b);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(0x1c22+0x11*0x8b+-0x255d)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x16d0+0x105e*-0x2+0x9ec),h(this,'blending',!(-0x15f4+-0x1ace+-0x3*-0x1041)),h(this,'blendSpeed',0x24cf+0x1cd*0xd+-0x3c38),h(this,'activate',!(-0xc19+-0x810+0xd*0x18d)),h(this,'speed',0x2078+-0x2403+-0xe3*-0x4);}set['animations'](_0x5479ac){this['_animation'+'s']=_0x5479ac,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x20d22d){const _0x2d6392=this['_assets'];if(_0x2d6392&&_0x2d6392['length']){for(let _0x25bab1=-0xd65+-0x1287+0x1fec;_0x25bab1<_0x2d6392['length'];_0x25bab1++)if(_0x2d6392[_0x25bab1]){const _0x2def3b=this['system']['app']['assets']['get'](_0x2d6392[_0x25bab1]);if(_0x2def3b){_0x2def3b['off']('change',this['onAssetCha'+'nged'],this),_0x2def3b['off']('remove',this['onAssetRem'+'oved'],this);const _0x3b6e58=this['animations'+'Index'][_0x2def3b['id']];this['currAnim']===_0x3b6e58&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x3b6e58],delete this['animations'+'Index'][_0x2def3b['id']];}}}this['_assets']=_0x20d22d;const _0x703557=_0x20d22d['map'](_0x27e041=>_0x27e041 instanceof pe?_0x27e041['id']:_0x27e041);this['loadAnimat'+'ionAssets'](_0x703557);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x14589a){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x14589a,this['skeleton']['addTime'](-0x68+-0xe55+0xebd),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x22dc24=this['animEvalua'+'tor']['clips'];for(let _0x2b78a6=0xa7e+-0x2188+0x170a*0x1;_0x2b78a6<_0x22dc24['length'];++_0x2b78a6)_0x22dc24[_0x2b78a6]['time']=_0x14589a;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x3245e1=this['animEvalua'+'tor']['clips'];if(_0x3245e1['length']>0x261*-0x7+-0xe8b*0x1+0x1f32)return _0x3245e1[_0x3245e1['length']-(-0xb9c+-0x4*0x7a2+0x2a25)]['time'];}return-0x7*-0x4ff+0x2d5*-0x1+-0x2024;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0xdab+-0x1def+0x1*0x2b9a);}set['loop'](_0x322406){if(this['_loop']=_0x322406,this['skeleton']&&(this['skeleton']['looping']=_0x322406),this['animEvalua'+'tor']){for(let _0x3c74ef=-0x25*0x1+0x97d+-0x4*0x256;_0x3c74ef<this['animEvalua'+'tor']['clips']['length'];++_0x3c74ef)this['animEvalua'+'tor']['clips'][_0x3c74ef]['loop']=_0x322406;}}get['loop'](){return this['_loop'];}['play'](_0x2d4871,_0x42bc7a=-0x1d75*-0x1+-0x1574*0x1+-0x801){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x2d4871]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x2d4871+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x2d4871,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x49694b=this['animations'][this['prevAnim']],_0x8724b4=this['animations'][this['currAnim']];if(this['blending']=_0x42bc7a>0x11dc+0x406+-0x1*0x15e2&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1601+-0x1e2b+0x342c,this['blendSpeed']=(0x14*-0x1da+-0x245c+0x4965)/_0x42bc7a),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x49694b,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x8724b4):this['skeleton']['animation']=_0x8724b4),this['animEvalua'+'tor']){const _0x523703=this['animEvalua'+'tor'];if(this['blending']){for(;_0x523703['clips']['length']>-0xb2*0xd+-0xf*-0x6+0x8b1;)_0x523703['removeClip'](-0x191*-0x9+0x2119+-0x2f32);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x45fd37=new Dh(this['animations'][this['currAnim']],-0x5*-0x506+-0x2e5*-0xa+0x4*-0xd84,0x163b+0x1*-0x476+0x5ec*-0x3,!(0x1*0x18a3+0x1c65+0x6a1*-0x8),this['loop']);_0x45fd37['name']=this['currAnim'],_0x45fd37['blendWeigh'+'t']=this['blending']?0x1*0x7a5+-0x22*-0xc2+0xb23*-0x3:-0x9*-0x3bd+-0x1*-0xf9+-0x229d*0x1,_0x45fd37['reset'](),this['animEvalua'+'tor']['addClip'](_0x45fd37);}}this['playing']=!(-0x94*0x3+0x222a+-0x251*0xe);}}['getAnimati'+'on'](_0x2543f7){return this['animations'][_0x2543f7];}['setModel'](_0x5f16ff){_0x5f16ff!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x5f16ff,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x2823e5=this['entity']['model'];if(_0x2823e5){const _0x336dbc=_0x2823e5['model'];_0x336dbc&&_0x336dbc!==this['model']&&this['setModel'](_0x336dbc);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x4dd2e1=Object['keys'](this['_animation'+'s']);_0x4dd2e1['length']>-0xeaf+0xb7a*0x1+0x1*0x335&&this['play'](_0x4dd2e1[-0x15*0x1a+-0x986+0xba8]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x345cf3=this['model'],_0x3c7617=this['animations'];let _0x13ba97=!(0x4d6*0x5+-0x2a2+-0x158b),_0xbe285a=!(0x17c2+-0x4*-0x8b1+-0xd3*0x47);for(const _0x2971cd in _0x3c7617)_0x3c7617['hasOwnProp'+'erty'](_0x2971cd)&&(_0x3c7617[_0x2971cd]['constructo'+'r']===Qi?_0xbe285a=!(-0x1c8b+0x1*-0x1687+0x3312):_0x13ba97=!(-0x781+-0x39b*-0x8+0x1557*-0x1));const _0x5e59f5=_0x345cf3['getGraph']();_0x13ba97?(this['fromSkel']=new Sf(_0x5e59f5),this['toSkel']=new Sf(_0x5e59f5),this['skeleton']=new Sf(_0x5e59f5),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5e59f5)):_0xbe285a&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x9f3cc6){if(!_0x9f3cc6||!_0x9f3cc6['length'])return;const _0x16dd81=this['system']['app']['assets'],_0x38764f=_0x203981=>{if(_0x203981['resources']['length']>-0x398+-0x19e6+0x1d7f){for(let _0x1cbcc9=0x1*-0x5f9+-0x4ba*-0x7+-0x1b1d*0x1;_0x1cbcc9<_0x203981['resources']['length'];_0x1cbcc9++)this['animations'][_0x203981['resources'][_0x1cbcc9]['name']]=_0x203981['resources'][_0x1cbcc9],this['animations'+'Index'][_0x203981['id']]=_0x203981['resources'][_0x1cbcc9]['name'];}else this['animations'][_0x203981['name']]=_0x203981['resource'],this['animations'+'Index'][_0x203981['id']]=_0x203981['name'];this['animations']=this['animations'];},_0xc06484=_0x3bd1b6=>{_0x3bd1b6['off']('change',this['onAssetCha'+'nged'],this),_0x3bd1b6['on']('change',this['onAssetCha'+'nged'],this),_0x3bd1b6['off']('remove',this['onAssetRem'+'oved'],this),_0x3bd1b6['on']('remove',this['onAssetRem'+'oved'],this),_0x3bd1b6['resource']?_0x38764f(_0x3bd1b6):(_0x3bd1b6['once']('load',_0x38764f,this),this['enabled']&&this['entity']['enabled']&&_0x16dd81['load'](_0x3bd1b6));};for(let _0x2941b2=0x195b+0x7cd+0x4*-0x84a,_0x134991=_0x9f3cc6['length'];_0x2941b2<_0x134991;_0x2941b2++){const _0x4df47c=_0x16dd81['get'](_0x9f3cc6[_0x2941b2]);_0x4df47c?_0xc06484(_0x4df47c):_0x16dd81['on']('add:'+_0x9f3cc6[_0x2941b2],_0xc06484);}}['onAssetCha'+'nged'](_0x40354a,_0x3fcb5f,_0x44b736,_0x57501c){if(_0x3fcb5f==='resource'||_0x3fcb5f==='resources'){if(_0x3fcb5f==='resources'&&_0x44b736&&_0x44b736['length']===0x67c+0x1*0x2209+-0x29*0xfd&&(_0x44b736=null),_0x44b736){let _0x5909ba=!(0x971*-0x2+-0x15b7+-0x1*-0x289a);if(_0x44b736['length']>0x2*-0x11e7+-0x5*-0x1d6+0x1aa1){if(_0x57501c&&_0x57501c['length']>0xe92+-0x1f47+-0x6*-0x2c9){for(let _0x3e2402=0xcf7*-0x1+-0xa13*-0x2+-0x72f;_0x3e2402<_0x57501c['length'];_0x3e2402++)delete this['animations'][_0x57501c[_0x3e2402]['name']];}else delete this['animations'][_0x40354a['name']];_0x5909ba=!(0x17*0x133+0x987*-0x3+0x1*0x101);for(let _0x2d44ea=-0x2*-0x11c2+-0x2*0x4c9+0x52*-0x51;_0x2d44ea<_0x44b736['length'];_0x2d44ea++)this['animations'][_0x44b736[_0x2d44ea]['name']]=_0x44b736[_0x2d44ea],!_0x5909ba&&this['currAnim']===_0x44b736[_0x2d44ea]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5909ba=!(-0x379*0x8+0x12b7*-0x2+-0x2*-0x209b),this['play'](_0x44b736[_0x2d44ea]['name']));_0x5909ba||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x57501c&&_0x57501c['length']>-0x3*0x585+0x2113+-0x3*0x581){for(let _0x2e9a2e=-0x7eb+-0x1*-0x187d+-0x25e*0x7;_0x2e9a2e<_0x57501c['length'];_0x2e9a2e++)delete this['animations'][_0x57501c[_0x2e9a2e]['name']];}this['animations'][_0x40354a['name']]=_0x44b736[0x163+-0x1e0d*-0x1+-0x1f70]||_0x44b736,_0x5909ba=!(-0x4*-0x3eb+-0x1*0x836+-0x17*0x53),this['currAnim']===_0x40354a['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5909ba=!(-0x1d97+0x6*0x19d+-0x13e9*-0x1),this['play'](_0x40354a['name'])),_0x5909ba||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x40354a['id']]=_0x40354a['name'];}else{if(_0x57501c['length']>-0x16af+-0x1*0xa0c+-0x4*-0x82f){for(let _0xe98446=-0x1ccc*0x1+-0x21f4+0xfb0*0x4;_0xe98446<_0x57501c['length'];_0xe98446++)delete this['animations'][_0x57501c[_0xe98446]['name']],this['currAnim']===_0x57501c[_0xe98446]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x40354a['name']],this['currAnim']===_0x40354a['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x40354a['id']];}}}['onAssetRem'+'oved'](_0x4abcfb){if(_0x4abcfb['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x4abcfb['resources']['length']>0x1094+0x3*-0x1a2+-0x1*0xbad){for(let _0x2d46b9=-0x292*-0xe+0x1*0x117f+-0x357b;_0x2d46b9<_0x4abcfb['resources']['length'];_0x2d46b9++)delete this['animations'][_0x4abcfb['resources'][_0x2d46b9]['name']],this['currAnim']===_0x4abcfb['resources'][_0x2d46b9]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x4abcfb['name']],this['currAnim']===_0x4abcfb['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x4abcfb['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x1048+-0x64*-0x33+-0x2433),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1*-0xa9f+-0x1*0xe2f+0x18ce,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1da51b=0x113b+-0x1b52*-0x1+0x8e9*-0x5;_0x1da51b<this['animEvalua'+'tor']['clips']['length'];++_0x1da51b)this['animEvalua'+'tor']['clips'][_0x1da51b]['stop']();this['animEvalua'+'tor']['update'](-0xf9*-0x25+0x17b*-0x1+-0x2282),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0xebb475=this['assets'],_0xaee2a=this['system']['app']['assets'];if(_0xebb475)for(let _0x873c9a=-0xaff*-0x2+0x20fd+-0x1*0x36fb,_0x32e1be=_0xebb475['length'];_0x873c9a<_0x32e1be;_0x873c9a++){let _0x4bec25=_0xebb475[_0x873c9a];_0x4bec25 instanceof pe||(_0x4bec25=_0xaee2a['get'](_0x4bec25)),_0x4bec25&&!_0x4bec25['resource']&&_0xaee2a['load'](_0x4bec25);}if(this['activate']&&!this['currAnim']){const _0x5c8a4d=Object['keys'](this['animations']);_0x5c8a4d['length']>-0x1474+0x21*-0x6e+-0x2*-0x1151&&this['play'](_0x5c8a4d[0x24d7+-0x1be5*0x1+-0x8f2]);}}['onBeforeRe'+'move'](){for(let _0x24d4aa=-0x1*-0xdf+-0x22d*-0xb+-0x18ce;_0x24d4aa<this['assets']['length'];_0x24d4aa++){let _0x5490f3=this['assets'][_0x24d4aa];typeof _0x5490f3=='number'&&(_0x5490f3=this['system']['app']['assets']['get'](_0x5490f3)),_0x5490f3&&(_0x5490f3['off']('change',this['onAssetCha'+'nged'],this),_0x5490f3['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x4b35bb){if(this['blending']&&(this['blend']+=_0x4b35bb*this['blendSpeed'],this['blend']>=0xd*-0x22f+0x35*0x4b+0xcdd&&(this['blend']=0x5*-0x463+0x1f76*-0x1+0x1ab3*0x2)),this['playing']){const _0x3a9893=this['skeleton'];if(_0x3a9893!==null&&this['model']!==null){if(this['blending'])_0x3a9893['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x35a496=_0x4b35bb*this['speed'];_0x3a9893['addTime'](_0x35a496),this['speed']>-0xb51+0x542*0x5+-0xef9&&_0x3a9893['_time']===_0x3a9893['animation']['duration']&&!this['loop']?this['playing']=!(0x1415+0xff4+-0x2408):this['speed']<0x563*-0x1+0xe44*-0x1+0x1*0x13a7&&_0x3a9893['_time']===-0xb*0x34a+-0x131f+-0x126f*-0x3&&!this['loop']&&(this['playing']=!(-0x1231*0x2+0xc0*0x21+-0x3*-0x3e1));}this['blending']&&this['blend']===-0x1*-0x122b+0xd6f+-0x1f99&&(_0x3a9893['animation']=this['toSkel']['animation']),_0x3a9893['updateGrap'+'h']();}}const _0x53e5c8=this['animEvalua'+'tor'];if(_0x53e5c8){for(let _0x5aa01e=0x86*0x1f+-0x259*-0xe+0x4*-0xc46;_0x5aa01e<_0x53e5c8['clips']['length'];++_0x5aa01e){const _0x5e2dcb=_0x53e5c8['clips'][_0x5aa01e];_0x5e2dcb['speed']=this['speed'],this['playing']?_0x5e2dcb['resume']():_0x5e2dcb['pause']();}this['blending']&&_0x53e5c8['clips']['length']>0x2381+0x11ab+-0x352b&&(_0x53e5c8['clips'][-0x5*0x301+-0x21b7+0x103f*0x3]['blendWeigh'+'t']=this['blend']),_0x53e5c8['update'](_0x4b35bb);}this['blending']&&this['blend']===0x1*0x8cb+0x13f*-0x1f+0x1*0x1dd7&&(this['blending']=!(-0x7*0x4ff+0x23d8+-0x6f*0x2));}}class LL{constructor(){this['enabled']=!(-0x4ff*0x5+0x248b+-0xb90);}}const Tu=['enabled'];class RL extends ct{constructor(_0x53336e){super(_0x53336e),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3445d2,_0x224520,_0x58298b){_0x58298b=['activate','enabled','loop','speed','assets'];for(const _0xef74fe of _0x58298b)_0x224520['hasOwnProp'+'erty'](_0xef74fe)&&(_0x3445d2[_0xef74fe]=_0x224520[_0xef74fe]);super['initialize'+'ComponentD'+'ata'](_0x3445d2,_0x224520,Tu);}['cloneCompo'+'nent'](_0x1f40f6,_0x48f4dd){this['addCompone'+'nt'](_0x48f4dd,{}),_0x48f4dd['animation']['assets']=_0x1f40f6['animation']['assets']['slice'](),_0x48f4dd['animation']['speed']=_0x1f40f6['animation']['speed'],_0x48f4dd['animation']['loop']=_0x1f40f6['animation']['loop'],_0x48f4dd['animation']['activate']=_0x1f40f6['animation']['activate'],_0x48f4dd['animation']['enabled']=_0x1f40f6['animation']['enabled'];const _0x451de7={},_0x11dad6=_0x1f40f6['animation']['animations'];for(const _0x29177f in _0x11dad6)_0x11dad6['hasOwnProp'+'erty'](_0x29177f)&&(_0x451de7[_0x29177f]=_0x11dad6[_0x29177f]);_0x48f4dd['animation']['animations']=_0x451de7;const _0x14d963={},_0x299f20=_0x1f40f6['animation']['animations'+'Index'];for(const _0x3775d9 in _0x299f20)_0x299f20['hasOwnProp'+'erty'](_0x3775d9)&&(_0x14d963[_0x3775d9]=_0x299f20[_0x3775d9]);return _0x48f4dd['animation']['animations'+'Index']=_0x14d963,_0x48f4dd['animation'];}['onBeforeRe'+'move'](_0x44b0e1,_0x55cbb9){_0x55cbb9['onBeforeRe'+'move']();}['onUpdate'](_0x1c1fa0){const _0x42ea72=this['store'];for(const _0x65883a in _0x42ea72)if(_0x42ea72['hasOwnProp'+'erty'](_0x65883a)){const _0x2d6990=_0x42ea72[_0x65883a];_0x2d6990['data']['enabled']&&_0x2d6990['entity']['enabled']&&_0x2d6990['entity']['animation']['update'](_0x1c1fa0);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0xfebdd3,_0x3e95dc,_0x282fe1,_0x426a03,_0x1f2c35=0xd4*0x2f+-0x7*-0x67+-0x14de*0x2){this['_state']=_0xfebdd3,this['_parent']=_0x3e95dc,this['_name']=_0x282fe1,Array['isArray'](_0x426a03)?(this['_point']=new J(_0x426a03[-0x265*-0x8+-0x1547+0x21f],_0x426a03[-0x6a2*-0x3+0x6b*-0x1e+0x1*-0x75b]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x426a03,this['_pointLeng'+'th']=_0x426a03),this['_speed']=_0x1f2c35,this['_weightedS'+'peed']=-0x1d*0x105+0x5*-0x1a5+0x4b*0x81,this['_weight']=0x59*-0x37+0x20d*0xe+-0x996,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x45dbc9){this['_weight']=_0x45dbc9;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x15257f=this['_state']['totalWeigh'+'t'];return _0x15257f===0x1903+0x261*0x1+0x2*-0xdb2?0x2706+-0x3*0x83d+0x21*-0x6f:this['weight']/_0x15257f;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x30a063){this['_weightedS'+'peed']=_0x30a063;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x25f806){this['_animTrack']=_0x25f806;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x5c3b29,_0x205e38,_0x205514,_0x54131f,_0x5ee626,_0x4705ad,_0x2f599a,_0x412895,_0x49b3cc){super(_0x5c3b29,_0x205e38,_0x205514,_0x54131f),this['_parameter'+'s']=_0x5ee626,this['_parameter'+'Values']=new Array(_0x5ee626['length']),this['_children']=[],this['_findParam'+'eter']=_0x49b3cc,this['_syncAnima'+'tions']=_0x2f599a!==!(0x266a+0x5ee+-0x1*0x2c57),this['_pointCach'+'e']={};for(let _0x20e595=-0x15b*0x7+0x2037+0x2*-0xb5d;_0x20e595<_0x4705ad['length'];_0x20e595++){const _0x5aa5d0=_0x4705ad[_0x20e595];_0x5aa5d0['children']?this['_children']['push'](_0x412895(_0x5aa5d0['type'],_0x5c3b29,this,_0x5aa5d0['name'],0x39*0x49+0x22c1+0x4a3*-0xb,_0x5aa5d0['parameter']?[_0x5aa5d0['parameter']]:_0x5aa5d0['parameters'],_0x5aa5d0['children'],_0x5aa5d0['syncAnimat'+'ions'],_0x412895,_0x49b3cc)):this['_children']['push'](new ml(_0x5c3b29,this,_0x5aa5d0['name'],_0x5aa5d0['point'],_0x5aa5d0['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x221bd7){for(let _0xca39e=-0x573+-0x33*-0x13+0x1aa;_0xca39e<this['_children']['length'];_0xca39e++)if(this['_children'][_0xca39e]['name']===_0x221bd7)return this['_children'][_0xca39e];return null;}['updatePara'+'meterValue'+'s'](){let _0x4aee79=!(-0xbec+0xa81+0x16b);for(let _0x3dce25=0x2534*0x1+-0x330+-0x2204;_0x3dce25<this['_parameter'+'Values']['length'];_0x3dce25++){const _0xf78d4d=this['_findParam'+'eter'](this['_parameter'+'s'][_0x3dce25])['value'];this['_parameter'+'Values'][_0x3dce25]!==_0xf78d4d&&(this['_parameter'+'Values'][_0x3dce25]=_0xf78d4d,_0x4aee79=!(0x1162+0x262c+0x378d*-0x1));}return _0x4aee79;}['getNodeWei'+'ghtedDurat'+'ion'](_0x3cc5a1){return this['_children'][_0x3cc5a1]['animTrack']['duration']/this['_children'][_0x3cc5a1]['speedMulti'+'plier']*this['_children'][_0x3cc5a1]['weight'];}['getNodeCou'+'nt'](){let _0x4b0c25=0x1739+0x1*0x1eeb+-0x3624;for(let _0x23f02b=-0x2bc+-0x2006+0x22c2;_0x23f02b<this['_children']['length'];_0x23f02b++)this['_children'][_0x23f02b]['constructo'+'r']===Jn?_0x4b0c25+=this['_children'][_0x23f02b]['getNodeCou'+'nt']():_0x4b0c25++;return _0x4b0c25;}}class OL extends Jn{constructor(_0x58188d,_0x25e49a,_0x26ca88,_0xa6b42a,_0x3c2edc,_0x2e8de4,_0x594797,_0x517b94,_0x325eeb){_0x2e8de4['sort']((_0x2a33e4,_0x589483)=>_0x2a33e4['point']-_0x589483['point']),super(_0x58188d,_0x25e49a,_0x26ca88,_0xa6b42a,_0x3c2edc,_0x2e8de4,_0x594797,_0x517b94,_0x325eeb);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x391e07=-0x1*0xb5a+0x449+0x711;this['_children'][-0x1f5a*-0x1+0xd46+-0x2ca0]['weight']=0x1360+-0x39d+-0xfc3;for(let _0x508714=-0x6ac+0x11*-0xda+0x1526;_0x508714<this['_children']['length'];_0x508714++){const _0x102a62=this['_children'][_0x508714];if(_0x508714!==this['_children']['length']-(0x6d*-0x47+-0x3*-0x23d+-0x29d*-0x9)){const _0x129c0d=this['_children'][_0x508714+(0x9fd*0x1+-0x7db*-0x1+-0x1*0x11d7)];if(_0x102a62['point']===_0x129c0d['point'])_0x102a62['weight']=0x1764+-0x2f*-0x6b+-0x2b09*0x1+0.5,_0x129c0d['weight']=0x66d+-0x164e+0xfe1+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0xdf*-0x18+0xf94+-0x247c],_0x102a62['point'],_0x129c0d['point'],!(0x1f8e*-0x1+-0xf99+0x2f27))){const _0x39bb24=Math['abs'](_0x102a62['point']-_0x129c0d['point']),_0x13463c=Math['abs'](_0x102a62['point']-this['_parameter'+'Values'][-0x2ae+0x205*0x3+-0x361]),_0x48fcdb=(_0x39bb24-_0x13463c)/_0x39bb24;_0x102a62['weight']=_0x48fcdb,_0x129c0d['weight']=-0x1295+-0x781+0x1a17-_0x48fcdb;}else _0x129c0d['weight']=-0x59c+0x4*0x196+-0xbc;}}this['_syncAnima'+'tions']&&(_0x391e07+=_0x102a62['animTrack']['duration']/_0x102a62['absoluteSp'+'eed']*_0x102a62['weight']);}if(this['_syncAnima'+'tions'])for(let _0x24cdf2=0x7ad*-0x1+-0x35+0x7e2;_0x24cdf2<this['_children']['length'];_0x24cdf2++){const _0x12721d=this['_children'][_0x24cdf2];_0x12721d['weightedSp'+'eed']=_0x12721d['animTrack']['duration']/_0x12721d['absoluteSp'+'eed']/_0x391e07;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x33d422,_0x49084c){const _0xa33d56=''+_0x33d422+_0x49084c;return this['_pointCach'+'e'][_0xa33d56]||(this['_pointCach'+'e'][_0xa33d56]=this['_children'][_0x49084c]['point']['clone']()['sub'](this['_children'][_0x33d422]['point'])),this['_pointCach'+'e'][_0xa33d56];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x296b0e,_0x449bed;ki['_p']['set'](...this['_parameter'+'Values']),_0x296b0e=-0x1e1b+0x25d8+-0x7bd,_0x449bed=-0x10*-0x1bb+-0x1313+-0x3*0x2df;for(let _0x16e190=-0xf*0x13d+0x1d6+-0x5*-0x359;_0x16e190<this['_children']['length'];_0x16e190++){const _0x5d4ff0=this['_children'][_0x16e190],_0x51514b=_0x5d4ff0['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x51514b);let _0xa07461=Number['MAX_VALUE'];for(let _0x26c9fe=-0x2008+0x1253*0x1+0xdb5;_0x26c9fe<this['_children']['length'];_0x26c9fe++){if(_0x16e190===_0x26c9fe)continue;const _0x190f4e=this['pointDista'+'nceCache'](_0x16e190,_0x26c9fe),_0x296dee=Y['clamp'](-0xa36+-0x1a09*-0x1+-0x2d*0x5a-ki['_pip']['dot'](_0x190f4e)/_0x190f4e['lengthSq'](),-0x36+0x76d*0x2+-0xea4,-0x6f4+0x546+-0x1*-0x1af);_0x296dee<_0xa07461&&(_0xa07461=_0x296dee);}_0x5d4ff0['weight']=_0xa07461,_0x296b0e+=_0xa07461,this['_syncAnima'+'tions']&&(_0x449bed+=_0x5d4ff0['animTrack']['duration']/_0x5d4ff0['absoluteSp'+'eed']*_0x5d4ff0['weight']);}for(let _0x28b483=0x1*-0x2388+0x1699+0x1d9*0x7;_0x28b483<this['_children']['length'];_0x28b483++){const _0x357ecb=this['_children'][_0x28b483];_0x357ecb['weight']=_0x357ecb['_weight']/_0x296b0e,this['_syncAnima'+'tions']&&(_0x357ecb['weightedSp'+'eed']=_0x357ecb['animTrack']['duration']/_0x357ecb['absoluteSp'+'eed']/_0x449bed);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x43cbdb,_0x1a280a){const _0x3f57a4=''+_0x43cbdb+_0x1a280a;return this['_pointCach'+'e'][_0x3f57a4]||(this['_pointCach'+'e'][_0x3f57a4]=new J((this['_children'][_0x1a280a]['pointLengt'+'h']-this['_children'][_0x43cbdb]['pointLengt'+'h'])/((this['_children'][_0x1a280a]['pointLengt'+'h']+this['_children'][_0x43cbdb]['pointLengt'+'h'])/(-0xc38+-0x1aa6*-0x1+-0xe6c)),J['angleRad'](this['_children'][_0x43cbdb]['point'],this['_children'][_0x1a280a]['point'])*(-0xfb6+-0x5db+0x1593))),this['_pointCach'+'e'][_0x3f57a4];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5dfe57,_0x176a8e;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x39c19a=Ui['_p']['length']();_0x5dfe57=0xfb4+0x842+-0x17f6,_0x176a8e=-0x233*0x4+0x4f*-0x13+0x9*0x1a1;for(let _0x26a631=0x1*-0x1767+0x437+0x8*0x266;_0x26a631<this['_children']['length'];_0x26a631++){const _0x3468b7=this['_children'][_0x26a631],_0x52702b=_0x3468b7['point'],_0x2f51df=_0x3468b7['pointLengt'+'h'];let _0xa0a0b6=Number['MAX_VALUE'];for(let _0x1d4141=0x1051*-0x1+-0x2051*0x1+0x96*0x53;_0x1d4141<this['_children']['length'];_0x1d4141++){if(_0x26a631===_0x1d4141)continue;const _0x171f78=this['pointCache'](_0x26a631,_0x1d4141),_0x3f5bcc=this['_children'][_0x1d4141]['pointLengt'+'h'];Ui['_pip']['set']((_0x39c19a-_0x2f51df)/((_0x3f5bcc+_0x2f51df)/(0xfba+-0x10d1*0x1+0x119)),J['angleRad'](_0x52702b,Ui['_p'])*(0xd*-0x151+0x41*0x67+0x44*-0x22));const _0x2da3fe=Y['clamp'](-0x9ae+-0x612+0xfc1-Math['abs'](Ui['_pip']['dot'](_0x171f78)/_0x171f78['lengthSq']()),0x3*0xd01+0xdab+-0x34ae,0x1*-0x1b57+0x4*-0xa0+0x2*0xeec);_0x2da3fe<_0xa0a0b6&&(_0xa0a0b6=_0x2da3fe);}_0x3468b7['weight']=_0xa0a0b6,_0x5dfe57+=_0xa0a0b6,this['_syncAnima'+'tions']&&(_0x176a8e+=_0x3468b7['animTrack']['duration']/_0x3468b7['absoluteSp'+'eed']*_0x3468b7['weight']);}for(let _0x333aa5=-0x39*0x44+0x1f90+0x1*-0x106c;_0x333aa5<this['_children']['length'];_0x333aa5++){const _0x2267dc=this['_children'][_0x333aa5];if(_0x2267dc['weight']=_0x2267dc['_weight']/_0x5dfe57,this['_syncAnima'+'tions']){const _0x5a13f1=_0x2267dc['animTrack']['duration']/_0x176a8e*_0x5dfe57;_0x2267dc['weightedSp'+'eed']=_0x2267dc['absoluteSp'+'eed']*_0x5a13f1;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4398f1=0xc8e+0x1060+-0x422*0x7,_0x124e1f=-0x4b9*0x6+0x1a0b+0x24b;for(let _0xeb1a46=0x1030+0x1ee2+-0x1789*0x2;_0xeb1a46<this['_children']['length'];_0xeb1a46++)if(_0x4398f1+=Math['max'](this['_parameter'+'Values'][_0xeb1a46],0xfab*-0x1+-0x155*0xa+0x1cfd),this['_syncAnima'+'tions']){const _0x1ddac3=this['_children'][_0xeb1a46];_0x124e1f+=_0x1ddac3['animTrack']['duration']/_0x1ddac3['absoluteSp'+'eed']*_0x1ddac3['weight'];}for(let _0xf3f7c6=-0x284+0x1*0x192b+-0x3*0x78d;_0xf3f7c6<this['_children']['length'];_0xf3f7c6++){const _0x556012=this['_children'][_0xf3f7c6],_0x1480e0=Math['max'](this['_parameter'+'Values'][_0xf3f7c6],0x1063*0x1+0x112*-0x1c+0x3d*0x39);_0x4398f1?(_0x556012['weight']=_0x1480e0/_0x4398f1,this['_syncAnima'+'tions']&&(_0x556012['weightedSp'+'eed']=_0x556012['animTrack']['duration']/_0x556012['absoluteSp'+'eed']/_0x124e1f)):(_0x556012['weight']=-0x1*-0x189+-0xc8f+-0x11*-0xa6,this['_syncAnima'+'tions']&&(_0x556012['weightedSp'+'eed']=0x1*0x2543+0x14de+-0x3a21));}}}class Fg{constructor(_0x2260dd,_0x4678bc,_0x56d0a0=0x159b+-0x66a*0x6+0x871*0x2,_0x46424b=!(-0x239f+0x3b3*-0x3+0xa*0x4ac),_0xcfbb09){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x2260dd,this['_name']=_0x4678bc,this['_speed']=_0x56d0a0,this['_loop']=_0x46424b,this['_hasAnimat'+'ions']=!(0x2071+0x1c00+-0x3c70),_0xcfbb09?this['_blendTree']=this['_createTre'+'e'](_0xcfbb09['type'],this,null,_0x4678bc,0x20be+-0xa*-0x1bd+0xd*-0x3db,_0xcfbb09['parameter']?[_0xcfbb09['parameter']]:_0xcfbb09['parameters'],_0xcfbb09['children'],_0xcfbb09['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x4678bc,0x19fb+0x112c+-0x2b26,_0x56d0a0));}['_createTre'+'e'](_0x290ed2,_0x508b63,_0x30225b,_0x5efc45,_0x489788,_0x109c66,_0x4b17c5,_0x1c50be,_0x19c4bc,_0x1c378b){switch(_0x290ed2){case CL:return new OL(_0x508b63,_0x30225b,_0x5efc45,_0x489788,_0x109c66,_0x4b17c5,_0x1c50be,_0x19c4bc,_0x1c378b);case ML:return new wu(_0x508b63,_0x30225b,_0x5efc45,_0x489788,_0x109c66,_0x4b17c5,_0x1c50be,_0x19c4bc,_0x1c378b);case PL:return new Eu(_0x508b63,_0x30225b,_0x5efc45,_0x489788,_0x109c66,_0x4b17c5,_0x1c50be,_0x19c4bc,_0x1c378b);case DL:return new FL(_0x508b63,_0x30225b,_0x5efc45,_0x489788,_0x109c66,_0x4b17c5,_0x1c50be,_0x19c4bc,_0x1c378b);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x290ed2);}['_getNodeFr'+'omPath'](_0x516618){let _0x4a7c44=this['_blendTree'];for(let _0x16a545=-0xb*-0x10b+0x12f6+0xcd*-0x26;_0x16a545<_0x516618['length'];_0x16a545++)_0x4a7c44=_0x4a7c44['getChild'](_0x516618[_0x16a545]);return _0x4a7c44;}['addAnimati'+'on'](_0x1cfda1,_0x45ce05){const _0x25e116=_0x1cfda1['join']('.'),_0x5642c1=this['_animation'+'List']['findIndex'](_0xec0294=>_0xec0294['path']===_0x25e116);if(_0x5642c1>=-0x27a*0xb+-0x148d+-0x5*-0x98f)this['_animation'+'List'][_0x5642c1]['animTrack']=_0x45ce05;else{const _0x13fc0f=this['_getNodeFr'+'omPath'](_0x1cfda1);_0x13fc0f['animTrack']=_0x45ce05,this['_animation'+'List']['push'](_0x13fc0f);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x22f8+0x5fb*-0x1+0x28f3*0x1&&this['_animation'+'List']['every'](_0x52125e=>_0x52125e['animTrack']&&_0x52125e['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x55fb79){this['_animation'+'List']=_0x55fb79,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x1fc5a7){this['_speed']=_0x1fc5a7;}get['speed'](){return this['_speed'];}set['loop'](_0x399ea7){this['_loop']=_0x399ea7;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x2091+-0x5*0x707+0x293:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0x2b4*0x2+0xb9*-0x1d+0xfa*0x1b)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x3*-0x5db+0x13*-0x1a9+0x311c){const _0x512cd7=this['name']+'.'+this['animations'][-0x62*-0x22+-0x1c*0x13f+0x15e0]['animTrack']['name'],_0x4f1172=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x512cd7);if(_0x4f1172)return _0x4f1172['loop'];}return!(0x1*0xd3a+-0x262c+-0x1*-0x18f3);}get['totalWeigh'+'t'](){let _0x3b71a0=0x3*0x19b+-0x264e+0x217d;for(let _0x337208=0x1b89+-0x1518+0x671*-0x1;_0x337208<this['animations']['length'];_0x337208++)_0x3b71a0+=this['animations'][_0x337208]['weight'];return _0x3b71a0;}get['timelineDu'+'ration'](){let _0x1a11e4=0x24c0+-0x10f*0x7+-0x1d57;for(let _0x1fd4b6=-0x35*0x71+0x20e+-0x3*-0x71d;_0x1fd4b6<this['animations']['length'];_0x1fd4b6++){const _0x2a94b0=this['animations'][_0x1fd4b6];_0x2a94b0['animTrack']['duration']>_0x1a11e4&&(_0x1a11e4=_0x2a94b0['animTrack']['duration']);}return _0x1a11e4;}}class Lh{constructor({from:_0x5c75ca,to:_0x2c0744,time:_0x3eaaa5=0x4d7+0x2dd+-0x2*0x3da,priority:_0x2eca35=-0x2615*0x1+0x8b*0x1f+-0x4*-0x550,conditions:_0x559b5a=[],exitTime:_0x17ac57=null,transitionOffset:_0xccb55d=null,interruptionSource:_0x449155=zv}){this['_from']=_0x5c75ca,this['_to']=_0x2c0744,this['_time']=_0x3eaaa5,this['_priority']=_0x2eca35,this['_condition'+'s']=_0x559b5a,this['_exitTime']=_0x17ac57,this['_transitio'+'nOffset']=_0xccb55d,this['_interrupt'+'ionSource']=_0x449155;}get['from'](){return this['_from'];}set['to'](_0x85c5d5){this['_to']=_0x85c5d5;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x362af9,_0x323950,_0x1474fd,_0x15b508,_0x4f1b79,_0x1d12c6,_0x240ace){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x1*-0x359+-0x1b*0x151+0x9b9*0x4),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x1de+0x283*-0x1+0xa5*0x1)),h(this,'_playing',!(0x1119+0x872+-0x198a)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x1337+-0xef*0x17+0x28b1),h(this,'_totalTran'+'sitionTime',-0x1f26+-0xe87*0x1+0x2dae),h(this,'_isTransit'+'ioning',!(-0x1cb2+0x4f2+0x17c1)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x1*0x218b+-0x1*-0x2c8+-0x2453),h(this,'_timeInSta'+'teBefore',-0x24b+-0x5a3+0x7ee),h(this,'findParame'+'ter',_0x5f0445=>this['_findParam'+'eter'](_0x5f0445)),(this['_animEvalu'+'ator']=_0x362af9,this['_eventHand'+'ler']=_0x4f1b79,this['_findParam'+'eter']=_0x1d12c6,this['_consumeTr'+'igger']=_0x240ace);for(let _0x412f0d=-0x111a*-0x2+0x1*0x19b8+-0x3bec;_0x412f0d<_0x323950['length'];_0x412f0d++)this['_states'][_0x323950[_0x412f0d]['name']]=new Fg(this,_0x323950[_0x412f0d]['name'],_0x323950[_0x412f0d]['speed'],_0x323950[_0x412f0d]['loop'],_0x323950[_0x412f0d]['blendTree']),this['_stateName'+'s']['push'](_0x323950[_0x412f0d]['name']);this['_transitio'+'ns']=_0x1474fd['map'](_0xd8fac5=>new Lh({..._0xd8fac5})),this['_activate']=_0x15b508;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x1df9fb){this['_activeSta'+'teName']=_0x1df9fb;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x39ee04){this['_previousS'+'tateName']=_0x39ee04;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x356a7d=!(0x1f00+0x1836+-0x3736);for(let _0x5d61b6=0x10b2+0x35b*-0x1+-0xd57;_0x5d61b6<this['_stateName'+'s']['length'];_0x5d61b6++)this['_states'][this['_stateName'+'s'][_0x5d61b6]]['playable']||(_0x356a7d=!(-0x47*0x7+0x53f+-0x34d));return _0x356a7d;}set['playing'](_0x2bbd75){this['_playing']=_0x2bbd75;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x2c266f=0x836*0x2+-0xf0d*-0x2+0x6*-0x7c1;for(let _0x5c04ba=0xa*0x8b+-0xf53*-0x1+-0x14c1*0x1;_0x5c04ba<this['activeStat'+'eAnimation'+'s']['length'];_0x5c04ba++){const _0x1c55a7=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5c04ba]['name']);_0x1c55a7&&(_0x2c266f=Math['max'](_0x2c266f,_0x1c55a7['track']['duration']));}this['_activeSta'+'teDuration']=_0x2c266f,this['_activeSta'+'teDuration'+'Dirty']=!(0x21b1+0x1*-0x97+0xe5*-0x25);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4e1232){this['_timeInSta'+'teBefore']=_0x4e1232,this['_timeInSta'+'te']=_0x4e1232;for(let _0x3436cb=0x1eff+-0x12fa*0x2+0x6f5*0x1;_0x3436cb<this['activeStat'+'eAnimation'+'s']['length'];_0x3436cb++){const _0x2132bc=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x3436cb]['name']);_0x2132bc&&(_0x2132bc['time']=_0x4e1232);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x22751f){return this['_animEvalu'+'ator']['assignMask'](_0x22751f);}['_findState'](_0x56636d){return this['_states'][_0x56636d];}['_getActive'+'StateProgr'+'essForTime'](_0x2c57a8){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x1734+0x747+-0x1e7a;const _0x1fc826=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x1107+-0x1103+0x1*0x220a]['name']);return _0x1fc826?_0x1fc826['progressFo'+'rTime'](_0x2c57a8):null;}['_findTrans'+'itionsFrom'+'State'](_0x4ffc34){let _0x23f9bc=this['_findTrans'+'itionsFrom'+'StateCache'][_0x4ffc34];return _0x23f9bc||(_0x23f9bc=this['_transitio'+'ns']['filter'](_0x4ab352=>_0x4ab352['from']===_0x4ffc34),ul(_0x23f9bc),this['_findTrans'+'itionsFrom'+'StateCache'][_0x4ffc34]=_0x23f9bc),_0x23f9bc;}['_findTrans'+'itionsBetw'+'eenStates'](_0x303264,_0x3de974){let _0xf885d8=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x303264+'->'+_0x3de974];return _0xf885d8||(_0xf885d8=this['_transitio'+'ns']['filter'](_0x29eae3=>_0x29eae3['from']===_0x303264&&_0x29eae3['to']===_0x3de974),ul(_0xf885d8),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x303264+'->'+_0x3de974]=_0xf885d8),_0xf885d8;}['_transitio'+'nHasCondit'+'ionsMet'](_0x1950e9){const _0x519469=_0x1950e9['conditions'];for(let _0x2a7ea8=0x269*-0x5+-0x1*-0x17c7+0xbba*-0x1;_0x2a7ea8<_0x519469['length'];_0x2a7ea8++){const _0x322131=_0x519469[_0x2a7ea8],_0x364eb0=this['_findParam'+'eter'](_0x322131['parameterN'+'ame']);switch(_0x322131['predicate']){case xL:if(!(_0x364eb0['value']>_0x322131['value']))return!(-0x21b0+-0x1c*0x3e+0x1*0x2879);break;case TL:if(!(_0x364eb0['value']<_0x322131['value']))return!(-0x1337*-0x1+0x67*0x1f+-0x1faf*0x1);break;case wL:if(!(_0x364eb0['value']>=_0x322131['value']))return!(-0x5*-0x245+0x1*-0x17f9+0xca1);break;case EL:if(!(_0x364eb0['value']<=_0x322131['value']))return!(0x2121+0x3*-0x1+-0x211d);break;case bL:if(_0x364eb0['value']!==_0x322131['value'])return!(0xe*0x245+-0x1257+-0xd6e);break;case AL:if(_0x364eb0['value']===_0x322131['value'])return!(-0x1b94+-0x1*0x1289+-0x2*-0x170f);break;}}return!(0x1*-0x15ef+-0x4a2+0x1a91);}['_findTrans'+'ition'](_0x310d25,_0x2013cb){let _0x2bdbfe=[];if(_0x310d25&&_0x2013cb)_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x310d25,_0x2013cb));else{if(!this['_isTransit'+'ioning'])_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2bdbfe=_0x2bdbfe['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x2bdbfe=_0x2bdbfe['filter'](_0x1d324=>{if(_0x1d324['to']===this['activeStat'+'eName'])return!(-0x2c6*0xe+0x2b2+-0x2423*-0x1);if(_0x1d324['hasExitTim'+'e']){let _0x3a2ae4=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x56b436=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1d324['exitTime']<-0x312*-0x7+0xe3*0x6+0x1*-0x1acf&&this['activeStat'+'e']['loop']&&(_0x3a2ae4-=Math['floor'](_0x3a2ae4),_0x56b436-=Math['floor'](_0x56b436)),_0x56b436===_0x3a2ae4){if(_0x56b436!==_0x1d324['exitTime'])return null;}else{if(!(_0x1d324['exitTime']>_0x3a2ae4&&_0x1d324['exitTime']<=_0x56b436))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1d324);}),_0x2bdbfe['length']>0x1*-0x376+0x1fb3+-0x1c3d){const _0x3865d3=_0x2bdbfe[0xce1+-0x166f*-0x1+0x5*-0x710];if(_0x3865d3['to']===vu){const _0x317c7f=this['_findTrans'+'itionsFrom'+'State'](Co)[0x1*-0x1771+0x19a4+-0x233];_0x3865d3['to']=_0x317c7f['to'];}return _0x3865d3;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x398382){let _0x110884,_0x3df25d,_0x1f21a2;this['previousSt'+'ate']=_0x398382['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x398382['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x6b*-0x2b+-0x190a+-0x3e9*-0xb);for(let _0x3685ef=0x13a2+0x1ab8+-0x2e5a;_0x3685ef<_0x398382['conditions']['length'];_0x3685ef++){const _0x55b40a=_0x398382['conditions'][_0x3685ef];this['_findParam'+'eter'](_0x55b40a['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x55b40a['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x5c1080=Math['min'](this['_totalTran'+'sitionTime']!==-0x1a0+0x1*-0x214e+-0x22ee*-0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1f77+-0x1408+-0xb6e,0x33e+-0xbbb+0x87e);for(let _0x44496d=-0x64d*-0x5+0x19c*-0x2+0x1*-0x1c49;_0x44496d<this['_transitio'+'nPreviousS'+'tates']['length'];_0x44496d++){this['_isTransit'+'ioning']?_0x44496d!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x58d+0x34c*-0x3+0xf72)?this['_transitio'+'nPreviousS'+'tates'][_0x44496d]['weight']*=0xf2d+-0x151d+0x9*0xa9-_0x5c1080:this['_transitio'+'nPreviousS'+'tates'][_0x44496d]['weight']=_0x5c1080:this['_transitio'+'nPreviousS'+'tates'][_0x44496d]['weight']=-0x3b*0x7f+0x5*-0x63a+0xf1a*0x4,_0x110884=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x44496d]['name']);for(let _0x367624=0x4*-0x31f+0x9*0x11+0xbe3;_0x367624<_0x110884['animations']['length'];_0x367624++)_0x3df25d=_0x110884['animations'][_0x367624],_0x1f21a2=this['_animEvalu'+'ator']['findClip'](_0x3df25d['name']+'.previous.'+_0x44496d),_0x1f21a2||(_0x1f21a2=this['_animEvalu'+'ator']['findClip'](_0x3df25d['name']),_0x1f21a2['name']=_0x3df25d['name']+'.previous.'+_0x44496d),_0x44496d!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1544+0x1407+-0x294a*0x1)&&_0x1f21a2['pause']();}}this['_isTransit'+'ioning']=!(-0x97*-0x2b+-0x25cd*0x1+-0xc7*-0x10),this['_totalTran'+'sitionTime']=_0x398382['time'],this['_currTrans'+'itionTime']=0x5f5+-0x725+0x130,this['_transitio'+'nInterrupt'+'ionSource']=_0x398382['interrupti'+'onSource'];const _0x3f3b3e=this['activeStat'+'e'],_0x4fb389=_0x398382['transition'+'Offset']&&_0x398382['transition'+'Offset']>-0x1*-0x7eb+0xa44+0x5*-0x3a3&&_0x398382['transition'+'Offset']<-0x1*-0xc7+-0x17b+0xb5;let _0x3ef033=-0x162f*0x1+-0x2*-0x656+0x983,_0x48e188=0x45b+-0x1*-0x1e35+0x8a4*-0x4;if(_0x4fb389){const _0x13294e=_0x3f3b3e['timelineDu'+'ration']*_0x398382['transition'+'Offset'];_0x3ef033=_0x13294e,_0x48e188=_0x13294e;}this['_timeInSta'+'te']=_0x3ef033,this['_timeInSta'+'teBefore']=_0x48e188;for(let _0x3fc2dc=0x1*-0xea5+-0x191c+0x27c1;_0x3fc2dc<_0x3f3b3e['animations']['length'];_0x3fc2dc++){if(_0x1f21a2=this['_animEvalu'+'ator']['findClip'](_0x3f3b3e['animations'][_0x3fc2dc]['name']),_0x1f21a2)_0x1f21a2['reset']();else{const _0x228362=Number['isFinite'](_0x3f3b3e['animations'][_0x3fc2dc]['speed'])?_0x3f3b3e['animations'][_0x3fc2dc]['speed']:_0x3f3b3e['speed'];_0x1f21a2=new Dh(_0x3f3b3e['animations'][_0x3fc2dc]['animTrack'],this['_timeInSta'+'te'],_0x228362,!(-0x927+-0x1d13*0x1+0x65f*0x6),_0x3f3b3e['loop'],this['_eventHand'+'ler']),_0x1f21a2['name']=_0x3f3b3e['animations'][_0x3fc2dc]['name'],this['_animEvalu'+'ator']['addClip'](_0x1f21a2);}if(_0x398382['time']>0x568*-0x1+0x1ad7+-0x3b*0x5d?_0x1f21a2['blendWeigh'+'t']=0x1b76+0x3e6+-0x1f5c:_0x1f21a2['blendWeigh'+'t']=_0x3f3b3e['animations'][_0x3fc2dc]['normalized'+'Weight'],_0x1f21a2['play'](),_0x4fb389)_0x1f21a2['time']=_0x3f3b3e['timelineDu'+'ration']*_0x398382['transition'+'Offset'];else{const _0x35189b=_0x3f3b3e['speed']>=0x2618+0x1*-0x2659+-0x1*-0x41?0x52f*0x1+-0x5e2*0x3+0xc77:this['activeStat'+'eDuration'];_0x1f21a2['time']=_0x35189b;}}}['_transitio'+'nToState'](_0x1b66d7){if(!this['_findState'](_0x1b66d7))return;let _0x2a174c=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x1b66d7);_0x2a174c||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x2a174c=new Lh({'from':null,'to':_0x1b66d7})),this['updateStat'+'eFromTrans'+'ition'](_0x2a174c);}['assignAnim'+'ation'](_0x51f808,_0x280a4e,_0x31549b,_0x3ea7b1){const _0x1d2666=_0x51f808['split']('.');let _0x27f2bd=this['_findState'](_0x1d2666[-0x76*0x2+0x255c+-0x2470]);_0x27f2bd||(_0x27f2bd=new Fg(this,_0x1d2666[0xa7*0x1c+0x163d+-0x1*0x2881],_0x31549b),this['_states'][_0x1d2666[-0x2*0x1334+-0xc48+0x32b0*0x1]]=_0x27f2bd,this['_stateName'+'s']['push'](_0x1d2666[0x1f0f*-0x1+0x1ac5+0x44a])),_0x27f2bd['addAnimati'+'on'](_0x1d2666,_0x280a4e),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x27f2bd['name'],_0x280a4e),_0x31549b!==void(-0x1*0x263d+0x2600+0x3d)&&(_0x27f2bd['speed']=_0x31549b),_0x3ea7b1!==void(-0x5*-0x477+0x78d*0x2+-0x256d)&&(_0x27f2bd['loop']=_0x3ea7b1),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x22e5*-0x1+0x28d*0x1+0x114*0x1e);}['removeNode'+'Animations'](_0x2e4a5c){if(Ih['indexOf'](_0x2e4a5c)!==-(-0x233+0x323+-0xef*0x1))return!(-0x796+-0x35*-0x91+-0x9*0x27e);const _0x4a6d24=this['_findState'](_0x2e4a5c);return _0x4a6d24?(_0x4a6d24['animations']=[],!(0x21b6+-0xfa8*0x2+0x1*-0x266)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x2e4a5c),!(-0x1468+0x97f+0xaea));}['play'](_0x6b482b){_0x6b482b&&this['_transitio'+'nToState'](_0x6b482b),this['_playing']=!(0xdbf+0x201*-0x3+0x2c*-0x2d);}['pause'](){this['_playing']=!(-0x7*0x3c9+0x747+0x1*0x1339);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x257d+-0x12f*-0x12+0xe*-0x433),this['_currTrans'+'itionTime']=-0x11c4+-0x417*0x7+-0x2e66*-0x1,this['_totalTran'+'sitionTime']=0x107*-0x25+0xdce+0x1836,this['_isTransit'+'ioning']=!(0xc7+0x7b+0x141*-0x1),this['_timeInSta'+'te']=-0xa28+-0x1*-0xa2e+0x3*-0x2,this['_timeInSta'+'teBefore']=0x1eb8+0x5c4+-0x247c,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0xf0b310){if(!this['_playing'])return;let _0x20a2df,_0x2de139,_0x42b990;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0xf0b310*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0xf0b310=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0xe27b81=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0xe27b81&&this['updateStat'+'eFromTrans'+'ition'](_0xe27b81),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0xf0b310,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x194fab=this['_totalTran'+'sitionTime']!==-0x165e*0x1+-0x1*-0x260b+-0xfad*0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x390+0x4*0x54b+0x119b*-0x1;for(let _0x28ee9d=0x1d63+-0x7dd+-0xac3*0x2;_0x28ee9d<this['_transitio'+'nPreviousS'+'tates']['length'];_0x28ee9d++){_0x20a2df=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x28ee9d]['name']);const _0x983157=this['_transitio'+'nPreviousS'+'tates'][_0x28ee9d]['weight'];for(let _0x24e8f6=-0x1d01+0xe41+0xec0;_0x24e8f6<_0x20a2df['animations']['length'];_0x24e8f6++)_0x2de139=_0x20a2df['animations'][_0x24e8f6],_0x42b990=this['_animEvalu'+'ator']['findClip'](_0x2de139['name']+'.previous.'+_0x28ee9d),_0x42b990&&(_0x42b990['blendWeigh'+'t']=(-0xbb1*0x2+-0x623+0x1d86-_0x194fab)*_0x2de139['normalized'+'Weight']*_0x983157);}_0x20a2df=this['activeStat'+'e'];for(let _0x2e881d=-0x15ac+-0x1*0x101+0x3*0x78f;_0x2e881d<_0x20a2df['animations']['length'];_0x2e881d++)_0x2de139=_0x20a2df['animations'][_0x2e881d],this['_animEvalu'+'ator']['findClip'](_0x2de139['name'])['blendWeigh'+'t']=_0x194fab*_0x2de139['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x39b+0x1be9+-0x184d);const _0x225864=this['activeStat'+'eAnimation'+'s']['length'],_0x536344=this['_animEvalu'+'ator']['clips']['length'];for(let _0x452cd4=0x1e63+-0x1225*-0x1+-0x3088;_0x452cd4<_0x536344-_0x225864;_0x452cd4++)this['_animEvalu'+'ator']['removeClip'](-0x492+-0x16+0x4a8);this['_transitio'+'nPreviousS'+'tates']=[],_0x20a2df=this['activeStat'+'e'];for(let _0x5e5527=0x1f7e*-0x1+0xac2+0x14bc;_0x5e5527<_0x20a2df['animations']['length'];_0x5e5527++)_0x2de139=_0x20a2df['animations'][_0x5e5527],_0x42b990=this['_animEvalu'+'ator']['findClip'](_0x2de139['name']),_0x42b990&&(_0x42b990['blendWeigh'+'t']=_0x2de139['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x20a2df=this['activeStat'+'e'];for(let _0x341f85=-0x1*0x1aa1+-0x33*0x66+0x2ef3;_0x341f85<_0x20a2df['animations']['length'];_0x341f85++)_0x2de139=_0x20a2df['animations'][_0x341f85],_0x42b990=this['_animEvalu'+'ator']['findClip'](_0x2de139['name']),_0x42b990&&(_0x42b990['blendWeigh'+'t']=_0x2de139['normalized'+'Weight'],_0x2de139['parent']['syncAnimat'+'ions']&&(_0x42b990['speed']=_0x2de139['speed']));}}this['_animEvalu'+'ator']['update'](_0xf0b310,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x30d75b,_0x59e376,_0x1594c7,_0x5d53c6,_0x24bfa5){super(_0x59e376),this['animCompon'+'ent']=_0x30d75b,this['_mask']=_0x5d53c6,this['layerName']=_0x1594c7,this['layerIndex']=_0x24bfa5;}static['_packFloat'](_0x34e263){return _0x34e263[0x6e6+0x121d*0x2+-0x1cc*0x18];}static['_packBoole'+'an'](_0x11a3ad){return!!_0x11a3ad[-0x1bd9+-0x3cc+-0x1*-0x1fa5];}static['_packVec2'](_0x345688){return wf['x']=_0x345688[0xac5*-0x2+0x1e73+-0x1*0x8e9],wf['y']=_0x345688[0x89+-0x1*-0x2163+-0x21eb],wf;}static['_packVec3'](_0x3e95bb){return Tc['x']=_0x3e95bb[0xd86+-0x1*-0x965+-0x16eb],Tc['y']=_0x3e95bb[-0x79*0x42+-0x293+0x21c6],Tc['z']=_0x3e95bb[0x1*-0x211f+0x1f64+0x1bd],Tc;}static['_packVec4'](_0x2ba878){return _o['x']=_0x2ba878[-0x2*0x81d+0x1*-0x2619+0x3653*0x1],_o['y']=_0x2ba878[-0x110d+0xae+0x1060],_o['z']=_0x2ba878[0xf9c+0x1e97+-0x113*0x2b],_o['w']=_0x2ba878[-0x8b2+-0x1*0x1e3a+-0x1*-0x26ef],_o;}static['_packColor'](_0x3062fc){return go['r']=_0x3062fc[-0x201f+0xc20*0x1+-0x13ff*-0x1],go['g']=_0x3062fc[-0x1ca0*-0x1+-0x29*-0x61+-0x2c28],go['b']=_0x3062fc[-0x179e+0x2*0x37f+0x10a2],go['a']=_0x3062fc[0x20c7*-0x1+-0x21e*-0xb+0x980],go;}static['_packQuat'](_0x4f66b7){return So['x']=_0x4f66b7[-0x1*-0x1a17+-0x27*0x81+0x338*-0x2],So['y']=_0x4f66b7[0x20b*-0x11+-0x1*0x949+0x2c05],So['z']=_0x4f66b7[0x36f*0x3+0xa2a+-0x1475],So['w']=_0x4f66b7[-0x15a*0x14+-0x5e8+0x20f3],So;}['resolve'](_0x1c6cb5){const _0x43145a=ra['encode'](_0x1c6cb5['entityPath'],_0x1c6cb5['component'],_0x1c6cb5['propertyPa'+'th']);let _0x1efe7c=this['targetCach'+'e'][_0x43145a];if(_0x1efe7c)return _0x1efe7c;let _0x4da7a3,_0x557bcf,_0x1c07cd;switch(_0x1c6cb5['component']){case'entity':_0x4da7a3=this['_getEntity'+'FromHierar'+'chy'](_0x1c6cb5['entityPath']),_0x1c07cd=ra['encode'](_0x4da7a3['path'],'entity',_0x1c6cb5['propertyPa'+'th']),_0x557bcf=_0x4da7a3;break;case'graph':if(_0x557bcf=this['findNode'](_0x1c6cb5),!_0x557bcf)return null;_0x1c07cd=ra['encode'](_0x557bcf['path'],'graph',_0x1c6cb5['propertyPa'+'th']);break;default:if(_0x4da7a3=this['_getEntity'+'FromHierar'+'chy'](_0x1c6cb5['entityPath']),_0x557bcf=_0x4da7a3['findCompon'+'ent'](_0x1c6cb5['component']),!_0x557bcf)return null;_0x1c07cd=ra['encode'](_0x4da7a3['path'],_0x1c6cb5['component'],_0x1c6cb5['propertyPa'+'th']);break;}return _0x1efe7c=this['_createAni'+'mTargetFor'+'Property'](_0x557bcf,_0x1c6cb5['propertyPa'+'th'],_0x1c07cd),this['targetCach'+'e'][_0x43145a]=_0x1efe7c,_0x1efe7c;}['update'](_0x33512c){const _0x46d03d=this['activeNode'+'s'];if(_0x46d03d){for(let _0x41fb6e=-0x63a*0x5+0x24*-0xe8+0x3fc2;_0x41fb6e<_0x46d03d['length'];_0x41fb6e++)_0x46d03d[_0x41fb6e]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x2ecce5){if(!this['animCompon'+'ent']['entity']['name']===_0x2ecce5[-0x23b7+-0x815*0x1+0x2bcc])return null;const _0x32088a=this['animCompon'+'ent']['entity'];return _0x2ecce5['length']===-0x338+0x9*0x43f+-0x22fe?_0x32088a:_0x32088a['_parent']['findByPath'](_0x2ecce5);}['_resolvePa'+'th'](_0x33613c,_0x5429ef,_0x192483){const _0x55e836=_0x5429ef['length']-(_0x192483?-0x1bd2+-0x2*-0x125c+-0x8e6:0x7f*-0x3+0x798+-0x61a);for(let _0x50bbff=-0x1cb*0xf+0x211a+-0x635;_0x50bbff<_0x55e836;_0x50bbff++)_0x33613c=_0x33613c[_0x5429ef[_0x50bbff]];return _0x33613c;}['_setter'](_0x3bbad8,_0x2f029c,_0x43084d){const _0x124b8d=this['_resolvePa'+'th'](_0x3bbad8,_0x2f029c),_0x2f7a50=_0x2f029c[_0x2f029c['length']-(0x2387+-0x10d*-0x9+0x5*-0x8ff)],_0x4d0421='set'+_0x2f7a50['substring'](-0x1c0c+-0x932*-0x1+0x12da,0xb9*0x11+-0x1e28+-0x11e0*-0x1)['toUpperCas'+'e']()+_0x2f7a50['substring'](0x2*-0x130d+0x25a+-0x23c1*-0x1);if(_0x124b8d[_0x4d0421]){let _0x296a28=_0x124b8d['get'+_0x2f7a50['substring'](-0xcf2*0x2+0xba3+0x1*0xe41,0x47*0x22+-0x1020+0x6b3)['toUpperCas'+'e']()+_0x2f7a50['substring'](-0x2*0x588+-0x1db9+0x28ca)]['bind'](_0x124b8d)();_0x296a28=[_0x296a28['x'],_0x296a28['y'],_0x296a28['z'],_0x296a28['w']];const _0x53ff7c=_0x124b8d[_0x4d0421]['bind'](_0x124b8d);return{'set':_0x2699fa=>{_0x53ff7c(_0x43084d(_0x2699fa));},'get':()=>_0x296a28};}const _0x2c208c=_0x124b8d[_0x2f7a50];if(typeof _0x2c208c=='object'&&_0x2c208c['hasOwnProp'+'erty']('copy'))return function(_0x570cb0){_0x2c208c['copy'](_0x43084d(_0x570cb0));};if([J,D,re,ie,le]['indexOf'](_0x124b8d['constructo'+'r'])!==-(-0x1b1*-0x17+-0x698*-0x5+-0x47de*0x1)&&_0x2f029c['length']>-0x93a+-0x1870*0x1+0x21ab){const _0x4a5667=_0x2f029c['length']>-0x1*0x1c24+0xe56+-0xd*-0x110?this['_resolvePa'+'th'](_0x3bbad8,_0x2f029c['slice'](-0x16ab+-0x1*-0x1529+0x2*0xc1,-(0x1*0x218e+0x2*-0xdb3+0x4b*-0x15))):_0x3bbad8,_0x5ccd8c=_0x2f029c[_0x2f029c['length']-(-0x74e+-0x71*0x4+-0x1c*-0x53)];return function(_0x1225f5){_0x124b8d[_0x2f7a50]=_0x43084d(_0x1225f5),_0x4a5667[_0x5ccd8c]=_0x124b8d;};}return function(_0x11aff5){_0x124b8d[_0x2f7a50]=_0x43084d(_0x11aff5);};}['_createAni'+'mTargetFor'+'Property'](_0x4e75ef,_0x4619c8,_0x25a125){if(this['handlers']&&_0x4619c8[-0x230a+-0x9c*-0xd+0x1b1e]['startsWith']('weight.'))return this['handlers']['weight'](_0x4e75ef,_0x4619c8[-0x223*-0xd+-0x1822+-0x3a5]['replace']('weight.',''));if(this['handlers']&&_0x4619c8[0x4*0x783+-0x5*0x186+-0x2*0xb37]==='material'&&_0x4619c8['length']===-0x2*0xb+0x1593+-0x157b){const _0x50a686=_0x4619c8[0x201+0x1652+-0x1*0x1852];if(_0x50a686['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x4e75ef,_0x50a686);}const _0x55acdd=this['_resolvePa'+'th'](_0x4e75ef,_0x4619c8,!(-0x11c5+0x1d93+-0xbce));if(typeof _0x55acdd>'u')return null;let _0x2742c3,_0xf5cd28,_0x336c76;if(typeof _0x55acdd=='number')_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packFloat']),_0xf5cd28='vector',_0x336c76=0x1a2*0x10+-0x1*0x1df9+0x3da;else{if(typeof _0x55acdd=='boolean')_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packBoole'+'an']),_0xf5cd28='vector',_0x336c76=0x2af*0x2+0x115e+-0x16bb;else{if(typeof _0x55acdd=='object')switch(_0x55acdd['constructo'+'r']){case J:_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packVec2']),_0xf5cd28='vector',_0x336c76=0xd8+0x1*-0x270c+0x2636;break;case D:_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packVec3']),_0xf5cd28='vector',_0x336c76=0x1b1f+0x7*0x3ab+-0x34c9;break;case re:_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packVec4']),_0xf5cd28='vector',_0x336c76=-0xdc*-0x28+-0x1*-0x10d9+-0x3335;break;case ie:_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packColor']),_0xf5cd28='vector',_0x336c76=0x5*0x253+0x1b81+-0x271c;break;case le:_0x2742c3=this['_setter'](_0x4e75ef,_0x4619c8,Fi['_packQuat']),_0xf5cd28='quaternion',_0x336c76=0x2*-0xc91+0x1*-0x20f+0x1b35;break;default:return null;}}}return _0x4619c8['indexOf']('material')!==-(-0x1748+-0x95c+-0x89*-0x3d)?new xu(_0x54b427=>{_0x2742c3(_0x54b427),_0x4e75ef['material']['update']();},_0xf5cd28,_0x336c76,_0x25a125):new xu(_0x2742c3,_0xf5cd28,_0x336c76,_0x25a125);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x676fdd={},_0x2f34e6=function(_0x4687ac){_0x676fdd[_0x4687ac['name']]=_0x4687ac;for(let _0x26e6a8=0x1365+0x1*0xa17+0x6*-0x4ea;_0x26e6a8<_0x4687ac['children']['length'];++_0x26e6a8)_0x2f34e6(_0x4687ac['children'][_0x26e6a8]);};_0x2f34e6(this['graph']),this['nodes']=_0x676fdd;}}class kL{constructor(_0x4086a6,_0x4f7657,_0x5deb0b,_0x187b47=-0x26e1+0x1f15+0x7cd,_0x50832d=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0xbf9+0x26fa+-0x32f3),h(this,'_blendTime'+'Elapsed',0xb3b*0x2+-0x1b91*-0x1+-0x58f*0x9),h(this,'_startingW'+'eight',-0xeb*0x2+-0x228e+0x1232*0x2),h(this,'_targetWei'+'ght',-0x1fdd+0xe9*0x13+0xe92),(this['_name']=_0x4086a6,this['_controlle'+'r']=_0x4f7657,this['_component']=_0x5deb0b,this['_weight']=_0x187b47,this['_blendType']=_0x50832d);}get['name'](){return this['_name'];}set['playing'](_0x2e0f68){this['_controlle'+'r']['playing']=_0x2e0f68;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x1ed11a){const _0x5b413b=this['_controlle'+'r'],_0x31b1ca=_0x5b413b['playing'];_0x5b413b['playing']=!(0x2647+-0xbd8*0x2+-0xe97),_0x5b413b['activeStat'+'eCurrentTi'+'me']=_0x1ed11a,_0x31b1ca||_0x5b413b['update'](-0x2126+-0x13ce+-0xd3d*-0x4),_0x5b413b['playing']=_0x31b1ca;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x1f0594){this['_weight']=_0x1f0594,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x51f19f){_0x51f19f!==this['_blendType']&&(this['_blendType']=_0x51f19f,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x1656ce){this['_controlle'+'r']['assignMask'](_0x1656ce)&&this['_component']['rebind'](),this['_mask']=_0x1656ce;}get['mask'](){return this['_mask'];}['play'](_0x16d0da){this['_controlle'+'r']['play'](_0x16d0da);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x18d911){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x18d911):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x2295+-0x1114+0x33a9,this['_blendTime'+'Elapsed']=0x18a6*-0x1+-0x1128+0x29ce,this['_startingW'+'eight']=-0x2397+0xc*-0x29e+0x3*0x1655,this['_targetWei'+'ght']=0x1*0x1145+-0x1*-0x1849+-0xc5*0x36)),this['_controlle'+'r']['update'](_0x18d911);}['blendToWei'+'ght'](_0x4e7010,_0xdc9da3){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x4e7010,this['_blendTime']=Math['max'](-0x1392+-0x257e+-0x2*-0x1c88,_0xdc9da3),this['_blendTime'+'Elapsed']=0x24c1*0x1+-0xa2+-0x1*0x241f;}['assignAnim'+'ation'](_0x3bd51b,_0x269ae8,_0x45530a,_0x5abd54){if(!(_0x269ae8 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x3bd51b,_0x269ae8,_0x45530a,_0x5abd54),this['_controlle'+'r']['_transitio'+'ns']['length']===0xd*-0xca+0x1*0x853+-0x3*-0xa5&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x3bd51b})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x193*-0x8+0x1*0x231e+0x1f*-0x18a));}['removeNode'+'Animations'](_0x8598d0){this['_controlle'+'r']['removeNode'+'Animations'](_0x8598d0)&&(this['_component']['playing']=!(0x191*0x3+0x1a80+0x21*-0xf2));}['getAnimati'+'onAsset'](_0x47d17a){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x47d17a];}['transition'](_0x16a275,_0x4167a0=-0x1e72+-0x18ea+0x375c,_0x17a303=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x16a275,'time':_0x4167a0,'transitionOffset':_0x17a303}));}}class Jc{constructor(_0x54389a){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x54389a['layers']))this['_layers']=_0x54389a['layers'];else for(const _0x3b2ad9 in _0x54389a['layers']){const _0x1dee02=_0x54389a['layers'][_0x3b2ad9],_0x2ddc61={'name':_0x1dee02['name'],'blendType':_0x1dee02['blendType'],'weight':_0x1dee02['weight'],'states':[],'transitions':[]};for(let _0xe800d5=0x11c4+-0x287*0x1+-0xf3d;_0xe800d5<_0x1dee02['states']['length'];_0xe800d5++)_0x2ddc61['states']['push'](_0x54389a['states'][_0x1dee02['states'][_0xe800d5]]);for(let _0x40334d=0x6*0xcf+0x4d0+0x9aa*-0x1;_0x40334d<_0x1dee02['transition'+'s']['length'];_0x40334d++){const _0x3b9cd8=_0x54389a['transition'+'s'][_0x1dee02['transition'+'s'][_0x40334d]];if(_0x3b9cd8['conditions']&&!Array['isArray'](_0x3b9cd8['conditions'])){const _0x5213ce=Object['keys'](_0x3b9cd8['conditions']),_0xaafbbd=[];for(let _0x220644=-0x2596+-0x1dc0+-0xb39*-0x6;_0x220644<_0x5213ce['length'];_0x220644++){const _0x51a808=_0x3b9cd8['conditions'][_0x5213ce[_0x220644]];_0x51a808['parameterN'+'ame']&&_0xaafbbd['push'](_0x51a808);}_0x3b9cd8['conditions']=_0xaafbbd;}Number['isInteger'](_0x3b9cd8['from'])&&(_0x3b9cd8['from']=_0x54389a['states'][_0x3b9cd8['from']]['name']),Number['isInteger'](_0x3b9cd8['to'])&&(_0x3b9cd8['to']=_0x54389a['states'][_0x3b9cd8['to']]['name']),_0x2ddc61['transition'+'s']['push'](_0x3b9cd8);}this['_layers']['push'](_0x2ddc61);}for(const _0x13a4f7 in _0x54389a['parameters']){const _0x4f624e=_0x54389a['parameters'][_0x13a4f7];this['_parameter'+'s'][_0x4f624e['name']]={'type':_0x4f624e['type'],'value':_0x4f624e['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x1*-0x177b+-0xdf*0x1+0x169b*-0x1),h(this,'_activate',!(0x276+-0x5*0x1e2+-0xa*-0xb2)),h(this,'_playing',!(-0x1bd0+-0x81d+0x23ee)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0x1713+-0x9f8+-0xd1a)),h(this,'findParame'+'ter',_0x1f9514=>this['_parameter'+'s'][_0x1f9514]),h(this,'consumeTri'+'gger',_0x7c3b97=>{this['_consumedT'+'riggers']['add'](_0x7c3b97);});}set['stateGraph'+'Asset'](_0x151e93){if(_0x151e93===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0xdef2d9,_0x3420a7;_0x151e93 instanceof pe?(_0xdef2d9=_0x151e93['id'],_0x3420a7=this['system']['app']['assets']['get'](_0xdef2d9),_0x3420a7||(this['system']['app']['assets']['add'](_0x151e93),_0x3420a7=this['system']['app']['assets']['get'](_0xdef2d9))):(_0xdef2d9=_0x151e93,_0x3420a7=this['system']['app']['assets']['get'](_0xdef2d9)),!(!_0x3420a7||this['_stateGrap'+'hAsset']===_0xdef2d9)&&(_0x3420a7['resource']?(this['_stateGrap'+'h']=_0x3420a7['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3420a7['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3420a7['once']('load',_0x21bf6c=>{this['_stateGrap'+'h']=_0x21bf6c['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3420a7['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3420a7)),this['_stateGrap'+'hAsset']=_0xdef2d9);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x56a81e){this['_normalize'+'Weights']=_0x56a81e,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2d26d6){this['_animation'+'Assets']=_0x2d26d6,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x229bbf){this['_speed']=_0x229bbf;}get['speed'](){return this['_speed'];}set['activate'](_0x189aaa){this['_activate']=_0x189aaa;}get['activate'](){return this['_activate'];}set['playing'](_0x1a5b4c){this['_playing']=_0x1a5b4c;}get['playing'](){return this['_playing'];}set['rootBone'](_0x18579b){if(typeof _0x18579b=='string'){const _0x446d12=this['entity']['root']['findByGuid'](_0x18579b);w['assert'](_0x446d12,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x18579b+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x446d12;}else _0x18579b instanceof lt?this['_rootBone']=_0x18579b:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x31829c){this['_stateGrap'+'h']=_0x31829c;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x4529a5){this['_layerIndi'+'ces']=_0x4529a5;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x12388b){this['_parameter'+'s']=_0x12388b;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x5e9442){this['_targets']=_0x5e9442;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x20aaef=0x476*0x1+-0x1*-0xc75+-0x10eb;_0x20aaef<this['_layers']['length'];_0x20aaef++)if(!this['_layers'][_0x20aaef]['playable'])return!(0x58*0x20+0xb*-0x19c+-0x1*-0x6b5);return!(-0x1201+-0x35*-0xa9+0x4*-0x43f);}get['baseLayer'](){return this['_layers']['length']>-0x1ab2+-0x1*-0x13c9+0x3d*0x1d?this['_layers'][-0x7ba+0x8b*-0x1f+0x1*0x188f]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x336233){const _0x2b74c5=this['animationA'+'ssets'],_0x3f2ed8=this['layers']['map'](_0x3b4852=>_0x3b4852['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x336233['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x2b74c5,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x587079,_0x3b1272)=>{_0x587079['mask']=_0x3f2ed8[_0x3b1272];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x324c2d=Object['values'](this['_targets']);for(let _0x45d99e=0x22ee+-0x238+-0x20b6;_0x45d99e<_0x324c2d['length'];_0x45d99e++)_0x324c2d[_0x45d99e]['dirty']=!(-0x20da+0xcd7*-0x1+0x2db1);}['_addLayer']({name:_0x18a977,states:_0x37c4c7,transitions:_0x41feb5,weight:_0xa42040,mask:_0x222f2e,blendType:_0x13458c}){let _0x58272a;this['rootBone']?_0x58272a=this['rootBone']:_0x58272a=this['entity'];const _0x4596ec=this['_layers']['length'],_0x18e8ea=new Fi(this,_0x58272a,_0x18a977,_0x222f2e,_0x4596ec),_0x5c04bd=new Gv(_0x18e8ea),_0x353421=new NL(_0x5c04bd,_0x37c4c7,_0x41feb5,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x18a977,_0x353421,this,_0xa42040,_0x13458c)),this['_layerIndi'+'ces'][_0x18a977]=_0x4596ec,this['_layers'][_0x4596ec];}['addLayer'](_0x1bf8ff,_0x58234d,_0x8ce83d,_0x233cc8){const _0x4c1032=this['findAnimat'+'ionLayer'](_0x1bf8ff);if(_0x4c1032)return _0x4c1032;const _0x18d2d2=[{'name':'START','speed':0x1}],_0x34778b=[];return this['_addLayer']({'name':_0x1bf8ff,'states':_0x18d2d2,'transitions':_0x34778b,'weight':_0x58234d,'mask':_0x8ce83d,'blendType':_0x233cc8});}['_assignPar'+'ameters'](_0x49c60c){this['_parameter'+'s']={};const _0x9cf912=Object['keys'](_0x49c60c['parameters']);for(let _0xf16d67=-0xe*0x298+0x74f+-0x21*-0xe1;_0xf16d67<_0x9cf912['length'];_0xf16d67++){const _0x42b6a1=_0x9cf912[_0xf16d67];this['_parameter'+'s'][_0x42b6a1]={'type':_0x49c60c['parameters'][_0x42b6a1]['type'],'value':_0x49c60c['parameters'][_0x42b6a1]['value']};}}['loadStateG'+'raph'](_0x209be6){this['_stateGrap'+'h']=_0x209be6,this['_assignPar'+'ameters'](_0x209be6),this['_layers']=[];let _0x40da13=!(0x1*-0x175d+-0x3b*-0x83+0x1*-0x6d3);for(let _0x5e99c5=-0xced*-0x2+-0xa0b+-0xfcf;_0x5e99c5<_0x209be6['layers']['length'];_0x5e99c5++){const _0xba215d=_0x209be6['layers'][_0x5e99c5];this['_addLayer']({..._0xba215d}),_0xba215d['states']['some'](_0x43de04=>_0x43de04['blendTree'])&&(_0x40da13=!(0x189*0x2+-0x24fe+0xd*0x29c));}_0x40da13||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x4746ae=-0x110d+0x8dd*-0x2+0x1*0x22c7;_0x4746ae<this['_layers']['length'];_0x4746ae++){const _0x4234e6=this['_layers'][_0x4746ae],_0x4505d8=_0x4234e6['name'];for(let _0x56a648=0x197b+-0xdbc+-0x61*0x1f;_0x56a648<_0x4234e6['states']['length'];_0x56a648++){const _0x3b6a7e=_0x4234e6['states'][_0x56a648];if(Ih['indexOf'](_0x3b6a7e)===-(-0x1*0x8d+-0x2fe+0x38c)){const _0xcc47cd=_0x4505d8+':'+_0x3b6a7e;this['_animation'+'Assets'][_0xcc47cd]||(this['_animation'+'Assets'][_0xcc47cd]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x5bb98b=-0x56b*-0x1+-0xe*0x1de+0x14b9*0x1;_0x5bb98b<this['_layers']['length'];_0x5bb98b++){const _0x3cee7e=this['_layers'][_0x5bb98b];for(let _0x539c99=0x1a6f+0x199*-0x12+0x253;_0x539c99<_0x3cee7e['states']['length'];_0x539c99++){const _0x485c8e=_0x3cee7e['states'][_0x539c99];if(Ih['indexOf'](_0x485c8e)!==-(-0x2*-0x1307+-0x731*-0x3+-0x4f8*0xc))continue;const _0x55db2c=this['_animation'+'Assets'][_0x3cee7e['name']+':'+_0x485c8e];if(!_0x55db2c||!_0x55db2c['asset']){this['findAnimat'+'ionLayer'](_0x3cee7e['name'])['assignAnim'+'ation'](_0x485c8e,Qi['EMPTY']);continue;}const _0x3eab34=_0x55db2c['asset'],_0x138e58=this['system']['app']['assets']['get'](_0x3eab34);_0x138e58&&(_0x138e58['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x3cee7e['name'],_0x485c8e,_0x138e58):(_0x138e58['once']('load',function(_0x2f17ed,_0x335334){return function(_0x5e3f7c){this['onAnimatio'+'nAssetLoad'+'ed'](_0x2f17ed,_0x335334,_0x5e3f7c);}['bind'](this);}['bind'](this)(_0x3cee7e['name'],_0x485c8e)),this['system']['app']['assets']['load'](_0x138e58)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x20ff2a,_0x100f99,_0x3ab983){this['findAnimat'+'ionLayer'](_0x20ff2a)['assignAnim'+'ation'](_0x100f99,_0x3ab983['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x1cbe+-0x37*-0xad+-0x86c),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x36e880=0x1*0x1d83+-0x138*-0x3+-0x212b;_0x36e880<this['_layers']['length'];_0x36e880++){const _0x1eb06b=this['_layers'][_0x36e880]['playing'];this['_layers'][_0x36e880]['reset'](),this['_layers'][_0x36e880]['playing']=_0x1eb06b;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x4330f6=>{this['_targets'][_0x4330f6]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x58f728=0x532+0x22e1+0x1*-0x2813;_0x58f728<this['_layers']['length'];_0x58f728++)this['_layers'][_0x58f728]['rebind']();}['findAnimat'+'ionLayer'](_0x1abca6){const _0x4bd37f=this['_layerIndi'+'ces'][_0x1abca6];return this['_layers'][_0x4bd37f]||null;}['addAnimati'+'onState'](_0x5c8e43,_0x3ea7a3,_0x4faab6=-0x1a64+0x2147*0x1+-0x6e2,_0x29bab9=!(-0xfb+-0x1e91+-0xc*-0x2a1),_0x1e6929='Base'){var _0x30f3a8;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x1e6929,'states':[{'name':'START','speed':0x1},{'name':_0x5c8e43,'speed':_0x4faab6,'loop':_0x29bab9,'defaultState':!(0x1a30+-0x1976+-0xba)}],'transitions':[{'from':'START','to':_0x5c8e43}]}],'parameters':{}}));const _0x28dd7e=this['findAnimat'+'ionLayer'](_0x1e6929);_0x28dd7e?_0x28dd7e['assignAnim'+'ation'](_0x5c8e43,_0x3ea7a3,_0x4faab6,_0x29bab9):(_0x30f3a8=this['addLayer'](_0x1e6929))==null||_0x30f3a8['assignAnim'+'ation'](_0x5c8e43,_0x3ea7a3,_0x4faab6,_0x29bab9);}['assignAnim'+'ation'](_0x44876c,_0x126830,_0x569666,_0x45e9b0=0x1031+0x1*-0x2575+0x1545,_0x56bbe3=!(-0xb29*0x3+0xf80+0x11fb)){if(!this['_stateGrap'+'h']&&_0x44876c['indexOf']('.')===-(-0x22a*0x10+-0x7b*-0x15+0x188a)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x44876c,'speed':_0x45e9b0,'loop':_0x56bbe3,'defaultState':!(-0x20fc+-0x3*-0x319+0x17b1)}],'transitions':[{'from':'START','to':_0x44876c}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x44876c,_0x126830);return;}const _0x5dfd47=_0x569666?this['findAnimat'+'ionLayer'](_0x569666):this['baseLayer'];if(!_0x5dfd47){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x5dfd47['assignAnim'+'ation'](_0x44876c,_0x126830,_0x45e9b0,_0x56bbe3);}['removeNode'+'Animations'](_0x413d57,_0x822308){const _0xa604f9=_0x822308?this['findAnimat'+'ionLayer'](_0x822308):this['baseLayer'];if(!_0xa604f9){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0xa604f9['removeNode'+'Animations'](_0x413d57);}['getParamet'+'erValue'](_0x3fc401,_0x5eb5c7){const _0x370dbb=this['_parameter'+'s'][_0x3fc401];if(_0x370dbb&&_0x370dbb['type']===_0x5eb5c7)return _0x370dbb['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3fc401+('\x22\x20of\x20type\x20'+'\x22')+_0x5eb5c7+'\x22');}['setParamet'+'erValue'](_0x3030dd,_0x484a5e,_0x25c6c8){const _0x10184c=this['_parameter'+'s'][_0x3030dd];if(_0x10184c&&_0x10184c['type']===_0x484a5e){_0x10184c['value']=_0x25c6c8;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3030dd+('\x22\x20of\x20type\x20'+'\x22')+_0x484a5e+'\x22');}['getFloat'](_0x40bcca){return this['getParamet'+'erValue'](_0x40bcca,Rg);}['setFloat'](_0x15ba05,_0x5bc1a3){this['setParamet'+'erValue'](_0x15ba05,Rg,_0x5bc1a3);}['getInteger'](_0x501cb4){return this['getParamet'+'erValue'](_0x501cb4,Lg);}['setInteger'](_0x453db0,_0x53bfbb){typeof _0x53bfbb=='number'&&_0x53bfbb%(0x85*0x1c+0x59+-0xee4*0x1)===-0x3*0x949+0x23a3+0x1*-0x7c8?this['setParamet'+'erValue'](_0x453db0,Lg,_0x53bfbb):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x453db0,_0x53bfbb);}['getBoolean'](_0x45c814){return this['getParamet'+'erValue'](_0x45c814,Og);}['setBoolean'](_0x2b565d,_0x5958ed){this['setParamet'+'erValue'](_0x2b565d,Og,!!_0x5958ed);}['getTrigger'](_0x4b3f1c){return this['getParamet'+'erValue'](_0x4b3f1c,Qc);}['setTrigger'](_0x4ba811,_0xfcfab3=!(0x123b*0x1+-0x27d+-0xfbd)){this['setParamet'+'erValue'](_0x4ba811,Qc,!(0x3*0x1f7+0x4*0x93+-0x831)),_0xfcfab3&&this['_consumedT'+'riggers']['add'](_0x4ba811);}['resetTrigg'+'er'](_0x54ac70){this['setParamet'+'erValue'](_0x54ac70,Qc,!(0x2183+0x791*-0x4+-0x33e));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x1eff58){for(let _0x13fcbd=0x8cb+0x90d*-0x1+0x1*0x42;_0x13fcbd<this['layers']['length'];_0x13fcbd++)this['layers'][_0x13fcbd]['update'](_0x1eff58*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x5d1abc=>{this['parameters'][_0x5d1abc]['value']=!(-0x22e3+0x9b*0x3e+-0x2a6);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c7092,_0x59c8be){_0x3c7092['rootBone']&&_0x59c8be[_0x3c7092['rootBone']['getGuid']()]?this['rootBone']=_0x59c8be[_0x3c7092['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x1666+0x1f+-0x1685);}}const bu=['enabled'];class BL extends ct{constructor(_0x417226){super(_0x417226),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x587590,_0x3de855,_0x5cadb8){super['initialize'+'ComponentD'+'ata'](_0x587590,_0x3de855,bu);const _0x58fc3c=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x3de855)['forEach'](_0x4ba715=>{_0x58fc3c['includes'](_0x4ba715)||(_0x587590[_0x4ba715]=_0x3de855[_0x4ba715]);}),_0x3de855['stateGraph']&&(_0x587590['stateGraph']=_0x3de855['stateGraph'],_0x587590['loadStateG'+'raph'](_0x587590['stateGraph'])),_0x3de855['layers']&&_0x3de855['layers']['forEach']((_0x90aeab,_0x4caa7c)=>{_0x90aeab['_controlle'+'r']['states']['forEach'](_0x1debf5=>{_0x90aeab['_controlle'+'r']['_states'][_0x1debf5]['_animation'+'List']['forEach'](_0xd555d5=>{if(!_0xd555d5['animTrack']||_0xd555d5['animTrack']===Qi['EMPTY']){const _0x5aed2b=this['app']['assets']['get'](_0x90aeab['_component']['_animation'+'Assets'][_0x90aeab['name']+':'+_0xd555d5['name']]['asset']);_0x5aed2b&&!_0x5aed2b['loaded']&&_0x5aed2b['once']('load',()=>{_0x587590['layers'][_0x4caa7c]['assignAnim'+'ation'](_0xd555d5['name'],_0x5aed2b['resource']);});}else _0x587590['layers'][_0x4caa7c]['assignAnim'+'ation'](_0xd555d5['name'],_0xd555d5['animTrack']);});});}),_0x3de855['animationA'+'ssets']&&(_0x587590['animationA'+'ssets']=Object['assign'](_0x587590['animationA'+'ssets'],_0x3de855['animationA'+'ssets'])),_0x3de855['masks']&&Object['keys'](_0x3de855['masks'])['forEach'](_0x4488a9=>{if(_0x587590['layers'][_0x4488a9]){const _0x35620b=_0x3de855['masks'][_0x4488a9]['mask'],_0xe9b1b2={};Object['keys'](_0x35620b)['forEach'](_0x1b0642=>{_0xe9b1b2[decodeURI(_0x1b0642)]=_0x35620b[_0x1b0642];}),_0x587590['layers'][_0x4488a9]['mask']=_0xe9b1b2;}});}['onAnimatio'+'nUpdate'](_0x4b9cfb){const _0x202093=this['store'];for(const _0x3e3095 in _0x202093)if(_0x202093['hasOwnProp'+'erty'](_0x3e3095)){const _0x407e19=_0x202093[_0x3e3095]['entity']['anim'];_0x407e19['data']['enabled']&&_0x407e19['entity']['enabled']&&_0x407e19['playing']&&_0x407e19['update'](_0x4b9cfb);}}['cloneCompo'+'nent'](_0x3496ce,_0x177cbd){let _0x17f1e6;(!_0x3496ce['anim']['rootBone']||_0x3496ce['anim']['rootBone']===_0x3496ce)&&(_0x17f1e6={},_0x3496ce['anim']['layers']['forEach']((_0x1577d6,_0x3fbd8f)=>{if(_0x1577d6['mask']){const _0x40e3ae={};Object['keys'](_0x1577d6['mask'])['forEach'](_0x32995b=>{const _0x3951de=_0x32995b['split']('/');_0x3951de['shift']();const _0x4bc4a9=[_0x177cbd['name'],..._0x3951de]['join']('/');_0x40e3ae[_0x4bc4a9]=_0x1577d6['mask'][_0x32995b];}),_0x17f1e6[_0x3fbd8f]={'mask':_0x40e3ae};}}));const _0x3ee18f={'enabled':_0x3496ce['anim']['enabled'],'stateGraphAsset':_0x3496ce['anim']['stateGraph'+'Asset'],'animationAssets':_0x3496ce['anim']['animationA'+'ssets'],'speed':_0x3496ce['anim']['speed'],'activate':_0x3496ce['anim']['activate'],'playing':_0x3496ce['anim']['playing'],'rootBone':_0x3496ce['anim']['rootBone'],'stateGraph':_0x3496ce['anim']['stateGraph'],'layers':_0x3496ce['anim']['layers'],'layerIndices':_0x3496ce['anim']['layerIndic'+'es'],'parameters':_0x3496ce['anim']['parameters'],'normalizeWeights':_0x3496ce['anim']['normalizeW'+'eights'],'masks':_0x17f1e6};return this['addCompone'+'nt'](_0x177cbd,_0x3ee18f);}['onBeforeRe'+'move'](_0x439a19,_0xb41bb7){_0xb41bb7['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x1e6881=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x1e6881);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x5*-0x691+-0xc*0x218+-0x1*0x7b5);}}const qv=['enabled'];class VL extends ct{constructor(_0x3b57d0){super(_0x3b57d0),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x3b57d0['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x277ba7,_0x277794,_0x33af9a){_0x33af9a=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x277ba7,_0x277794,_0x33af9a);}['onUpdate'](_0x5dadc9){if(this['current']){const _0x2992a1=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x2992a1);const _0x640fb1=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x640fb1);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x6c2*0x5+-0x13f3+-0xdd7,Ng=0x160+0x65a*-0x3+0x1*0x11af,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x5b2510,_0x1e3ac9){super(_0x5b2510,_0x1e3ac9),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0x7*0x566+0x227c+0x1817*-0x3)),h(this,'_hoveringC'+'ounter',-0xd19*-0x1+-0x1e64+-0x1*-0x114b),h(this,'_isPressed',!(-0x16d*-0x1+0x17*0x151+-0x3*0xa91)),h(this,'_defaultTi'+'nt',new ie(0xf84+-0x1339*0x2+0x16ef,-0x185c+-0x3d5+0x1c32,0x54d*0x1+-0x17*0x37+-0x5b,-0x11f5*0x1+0xc6c+0x58a)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',0x195d+-0x1e*-0x8a+-0x2989),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(-0x104c+-0x1*0x235a+0x33a7),this['_hoveringC'+'ounter']=-0x1ee0+-0x5*-0x157+-0x1*-0x182d,this['_isPressed']=!(0x1*0x1c73+-0x1cb4+0xb*0x6),this['_defaultTi'+'nt']=new ie(-0x196c+-0x15db*-0x1+-0x2*-0x1c9,0x18b9+-0xef*0x9+0x1*-0x1051,-0x10*0x48+0x1*0x1df9+-0x1978,-0xfbc+0x3*-0xc61+0x34e0),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0xb29+-0xdbe+-0x1*-0x18e7,this['_toggleLif'+'ecycleList'+'eners']('on',_0x5b2510));}get['data'](){const _0x171999=this['system']['store'][this['entity']['getGuid']()];return _0x171999?_0x171999['data']:null;}set['enabled'](_0x218e32){this['_setValue']('enabled',_0x218e32);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x3f9ffc){this['_setValue']('active',_0x3f9ffc);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x5ad2d7){if(this['_imageEnti'+'ty']!==_0x5ad2d7){const _0x415325=typeof _0x5ad2d7=='string';if(this['_imageEnti'+'ty']&&_0x415325&&this['_imageEnti'+'ty']['getGuid']()===_0x5ad2d7)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x5ad2d7 instanceof Ie?this['_imageEnti'+'ty']=_0x5ad2d7:_0x415325?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x5ad2d7)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x415325&&_0x5ad2d7&&(this['data']['imageEntit'+'y']=_0x5ad2d7);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x202da4){this['_setValue']('hitPadding',_0x202da4);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x36c602){this['_setValue']('transition'+'Mode',_0x36c602);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0xabb54f){this['_setValue']('hoverTint',_0xabb54f);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x20bf39){this['_setValue']('pressedTin'+'t',_0x20bf39);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x12673c){this['_setValue']('inactiveTi'+'nt',_0x12673c);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x13cbb1){this['_setValue']('fadeDurati'+'on',_0x13cbb1);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x403780){this['_setValue']('hoverSprit'+'eAsset',_0x403780);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x443ee5){this['_setValue']('hoverSprit'+'eFrame',_0x443ee5);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x2225be){this['_setValue']('pressedSpr'+'iteAsset',_0x2225be);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0xb902a0){this['_setValue']('pressedSpr'+'iteFrame',_0xb902a0);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x4e65b8){this['_setValue']('inactiveSp'+'riteAsset',_0x4e65b8);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x16f3c2){this['_setValue']('inactiveSp'+'riteFrame',_0x16f3c2);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x272d11,_0x255bbd){const _0x49bf6f=this['data'],_0x3d97f4=_0x49bf6f[_0x272d11];_0x49bf6f[_0x272d11]=_0x255bbd,this['fire']('set',_0x272d11,_0x3d97f4,_0x255bbd);}['_toggleLif'+'ecycleList'+'eners'](_0x242310,_0x4a069a){var _0x4cd785;this[_0x242310]('set_active',this['_onSetActi'+'ve'],this),this[_0x242310]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x242310]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x242310]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x242310==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x4cd785=this['_evtElemen'+'tAdd'])==null||_0x4cd785['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x2aa6d2,_0x39fd17,_0xb771f5){_0x39fd17!==_0xb771f5&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x15a865,_0xb55c82,_0x2a484f){_0xb55c82!==_0x2a484f&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0xb55c82),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x10e5e3,_0x3b1b78,_0x366b9a){_0x3b1b78!==_0x366b9a&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x4dceb4,_0x15a73b;(_0x4dceb4=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x4dceb4['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x15a73b=this['_imageEnti'+'ty'])!=null&&_0x15a73b['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x28d794=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x28d794['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x28d794['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x28d794['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x28d794['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x28d794['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x324a72,_0x2668b0,_0x56643a,_0x27a1ee,_0xba521a;(_0x324a72=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x324a72['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x2668b0=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x2668b0['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x56643a=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x56643a['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x27a1ee=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x27a1ee['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0xba521a=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0xba521a['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x15111f){if(this['entity']['element']){const _0x546d9a=_0x15111f==='on';if(_0x546d9a&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x15111f]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x15111f]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x15111f]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x15111f]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x15111f]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x15111f]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x15111f]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x15111f]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x15111f]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x15111f]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x15111f]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x15111f]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x15111f]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x15111f]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x546d9a;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x110d3f;const _0x33d927=(_0x110d3f=this['_imageEnti'+'ty'])==null?void(-0x123+-0x1*-0x175+-0x29*0x2):_0x110d3f['element'];!_0x33d927||_0x33d927['type']===eh||(this['_storeDefa'+'ultColor'](_0x33d927['color']),this['_storeDefa'+'ultOpacity'](_0x33d927['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x33d927['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x33d927['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x2a6cfc){this['_defaultTi'+'nt']['r']=_0x2a6cfc['r'],this['_defaultTi'+'nt']['g']=_0x2a6cfc['g'],this['_defaultTi'+'nt']['b']=_0x2a6cfc['b'];}['_storeDefa'+'ultOpacity'](_0x5563a5){this['_defaultTi'+'nt']['a']=_0x5563a5;}['_storeDefa'+'ultSpriteA'+'sset'](_0x4a2cc0){this['_defaultSp'+'riteAsset']=_0x4a2cc0;}['_storeDefa'+'ultSpriteF'+'rame'](_0x38d6fb){this['_defaultSp'+'riteFrame']=_0x38d6fb;}['_onSetColo'+'r'](_0x24d039){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x24d039),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0xb8182e){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0xb8182e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x237572){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x237572),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x4fe5a4){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x4fe5a4),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x452f8d){this['_isHoverin'+'g']=!(-0x148b+-0x47*-0x85+0x20b*-0x8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x452f8d);}['_onMouseLe'+'ave'](_0x46a36d){this['_isHoverin'+'g']=!(0x1*0x17ae+-0xb*-0x265+-0xc81*0x4),this['_isPressed']=!(0xf*0x189+0x77*0x47+-0x3807),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x46a36d);}['_onMouseDo'+'wn'](_0x32ae4e){this['_isPressed']=!(0x1*0x19bf+0x1*0x16b+-0x1b2a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x32ae4e);}['_onMouseUp'](_0x5c01e7){this['_isPressed']=!(-0x36f+-0x1b47+0x1eb7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x5c01e7);}['_onTouchSt'+'art'](_0x4dd54c){this['_isPressed']=!(0x489+-0x1f*0x1f+-0xc8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x4dd54c);}['_onTouchEn'+'d'](_0x5e8cea){_0x5e8cea['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x10*-0x3+-0xa8e+-0xf*-0xb1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x5e8cea);}['_onTouchLe'+'ave'](_0x363917){this['_isPressed']=!(-0x15*-0x125+0x13*-0xb1+-0xae5*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x363917);}['_onTouchCa'+'ncel'](_0x13270c){this['_isPressed']=!(-0x1102+-0x458+-0x4d*-0x47),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x13270c);}['_onSelectS'+'tart'](_0x8bfc8c){this['_isPressed']=!(0x4*0x853+0x2035+0x4181*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x8bfc8c);}['_onSelectE'+'nd'](_0x24f760){this['_isPressed']=!(-0x64d*-0x2+-0x1918+0xc7f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x24f760);}['_onSelectE'+'nter'](_0x39f3a9){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0xb7*-0x16+0x22a5+-0x399*0xe&&(this['_isHoverin'+'g']=!(0x19d1+-0x3*-0x409+0x2*-0x12f6),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x39f3a9);}['_onSelectL'+'eave'](_0x1a157d){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x119*0x11+-0x1*-0x1fee+-0x3297&&(this['_isHoverin'+'g']=!(0x1f32*-0x1+0x1705+0x82e),this['_isPressed']=!(0x10d4*0x2+-0x15*0x9e+-0x14b1),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x1a157d);}['_onClick'](_0x341ac5){this['_fireIfAct'+'ive']('click',_0x341ac5);}['_fireIfAct'+'ive'](_0x257ef6,_0x3d19bd){this['data']['active']&&this['fire'](_0x257ef6,_0x3d19bd);}['_updateVis'+'ualState'](_0x44f41e){const _0x42f57c=this['_visualSta'+'te'],_0x4e3bc2=this['_determine'+'VisualStat'+'e']();if((_0x42f57c!==_0x4e3bc2||_0x44f41e)&&this['enabled'])switch(this['_visualSta'+'te']=_0x4e3bc2,_0x42f57c===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x42f57c===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x4e3bc2===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x4e3bc2===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x3cdd71=kl[this['_visualSta'+'te']],_0x439268=this[_0x3cdd71];this['_applyTint'](_0x439268);break;}case Ng:{const _0x640057=Ul[this['_visualSta'+'te']],_0x1be3f3=Bl[this['_visualSta'+'te']],_0x12c1a3=this[_0x640057],_0x386893=this[_0x1be3f3];this['_applySpri'+'te'](_0x12c1a3,_0x386893);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x2*0x9fd+0x19df+-0x2dd9));}['_resetToDe'+'faultVisua'+'lState'](_0xaac94c){var _0x31d266;if((_0x31d266=this['_imageEnti'+'ty'])!=null&&_0x31d266['element'])switch(_0xaac94c){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x27affb,_0x21dee4){var _0x1a0a2d;const _0x571765=(_0x1a0a2d=this['_imageEnti'+'ty'])==null?void(-0x1*0x23f9+-0x11f0+-0x175*-0x25):_0x1a0a2d['element'];_0x571765&&(_0x21dee4=_0x21dee4||0x1*0x285+0xf7a+-0x11ff,this['_isApplyin'+'gSprite']=!(-0x4*-0x7a0+-0x1*0x22e+-0x1*0x1c52),_0x571765['spriteAsse'+'t']!==_0x27affb&&(_0x571765['spriteAsse'+'t']=_0x27affb),_0x571765['spriteFram'+'e']!==_0x21dee4&&(_0x571765['spriteFram'+'e']=_0x21dee4),this['_isApplyin'+'gSprite']=!(-0xc9*0xa+-0x1d0e+0x24e9));}['_applyTint'](_0x3cb111){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x5*0x7f+0x1103+-0xe88?this['_applyTint'+'Immediatel'+'y'](_0x3cb111):this['_applyTint'+'WithTween'](_0x3cb111);}['_applyTint'+'Immediatel'+'y'](_0x3145a2){var _0x87ce42;const _0x329dc7=(_0x87ce42=this['_imageEnti'+'ty'])==null?void(0x1feb+-0x149d+-0xb4e):_0x87ce42['element'];if(!_0x3145a2||!_0x329dc7||_0x329dc7['type']===eh)return;const _0x4cef59=kg(_0x3145a2);this['_isApplyin'+'gTint']=!(0x198f+0x68f+0x100f*-0x2),_0x4cef59['equals'](_0x329dc7['color'])||(_0x329dc7['color']=_0x4cef59),_0x329dc7['opacity']!==_0x3145a2['a']&&(_0x329dc7['opacity']=_0x3145a2['a']),this['_isApplyin'+'gTint']=!(0x11*-0x17f+0x1ff3*0x1+0x683*-0x1);}['_applyTint'+'WithTween'](_0x121489){var _0x1cfa6c;const _0x425cee=(_0x1cfa6c=this['_imageEnti'+'ty'])==null?void(-0x3*0xbd9+0xc92*0x1+0x16f9):_0x1cfa6c['element'];if(!_0x121489||!_0x425cee||_0x425cee['type']===eh)return;const _0x1db32c=kg(_0x121489),_0x3dd687=_0x425cee['color'],_0x26f4ed=_0x425cee['opacity'];_0x1db32c['equals'](_0x3dd687)&&_0x121489['a']===_0x26f4ed||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x3dd687['r'],_0x3dd687['g'],_0x3dd687['b'],_0x26f4ed),'to':_0x121489['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x3a0025=de()-this['_tweenInfo']['startTime'];let _0x2638cd=this['fadeDurati'+'on']===-0x2*-0xad9+-0x1*-0x1e63+-0x3415?0x602*0x1+-0x1cdf+0x1*0x16de:_0x3a0025/this['fadeDurati'+'on'];if(_0x2638cd=Y['clamp'](_0x2638cd,0x4*0x606+-0x72*-0x18+-0x22c8,0x5b*-0x29+0x2262+-0x13ce),Math['abs'](_0x2638cd-(0x1*0x1863+-0x1efc+0x69a))>0x1f8f+0x1421*0x1+-0x33b0+0.00001){const _0xdb6822=this['_tweenInfo']['lerpColor'];_0xdb6822['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x2638cd),this['_applyTint'+'Immediatel'+'y'](new ie(_0xdb6822['r'],_0xdb6822['g'],_0xdb6822['b'],_0xdb6822['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1a6b*0x1+0x257c+-0x3fe6),this['_hoveringC'+'ounter']=0x662+-0x1*-0x216+-0x878,this['_isPressed']=!(-0x2*0x30a+0x168d+0x8*-0x20f),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x43ed4d,_0x1e4f51){_0x43ed4d['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x1e4f51[_0x43ed4d['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x1c6064){return new ie(_0x1c6064['r'],_0x1c6064['g'],_0x1c6064['b']);}class WL{constructor(){this['enabled']=!(-0x1bfe+0x1*0x491+0x176d),this['active']=!(0x214d+-0x2288+-0x2d*-0x7),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x22e*-0x2+0x210d*-0x1+0x2569+0.75,0x12*-0x1c9+-0x925+0x2947+0.75,0x1*0x1ba7+0x121+-0x1cc8+0.75),this['pressedTin'+'t']=new ie(0x787+-0x3a7+-0x3e0+0.5,-0x949*-0x1+0x1098+0x1*-0x19e1+0.5,-0xa*0x296+-0x1*-0x1a03+-0x1*0x27+0.5),this['inactiveTi'+'nt']=new ie(-0x1*0x16d+0x1187+-0x101a+0.25,-0x1557+-0x14d3+0x202*0x15+0.25,-0x7f5+-0x1c4f+-0xd3*-0x2c+0.25),this['fadeDurati'+'on']=0x2ef*-0xd+-0x694*-0x5+-0x1*-0x53f,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x703*-0x1+-0x15*-0xdb+-0x4*0x2bd,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0xa8a*-0x1+0x13*0x61+0x357,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1f6e+0x20aa+-0x4*0x4f;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x3689ee){super(_0x3689ee),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x359849,_0x5ea9f2,_0x2565ff){_0x359849['imageEntit'+'y']=_0x5ea9f2['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x359849,_0x5ea9f2,Ug);}['onUpdate'](_0x41f20d){const _0x377371=this['store'];for(const _0x2338c6 in _0x377371){const _0x4be80f=_0x377371[_0x2338c6]['entity'],_0x22dc4b=_0x4be80f['button'];_0x22dc4b['enabled']&&_0x4be80f['enabled']&&_0x22dc4b['onUpdate']();}}['_onRemoveC'+'omponent'](_0x390422,_0xd9d3aa){_0xd9d3aa['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x4d1483,_0x516514){super(_0x4d1483,_0x516514),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x1da4+-0x1f0a+-0x1*-0x167)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x564689=this['system']['store'][this['entity']['getGuid']()];return _0x564689?_0x564689['data']:null;}set['enabled'](_0x11b4dd){this['_setValue']('enabled',_0x11b4dd);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x255121){this['_setValue']('type',_0x255121);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x47f66a){this['_setValue']('halfExtent'+'s',_0x47f66a);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0xfec55e){this['_setValue']('linearOffs'+'et',_0xfec55e);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x2335f1){this['_setValue']('angularOff'+'set',_0x2335f1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x41b29b){this['_setValue']('radius',_0x41b29b);}get['radius'](){return this['data']['radius'];}set['axis'](_0x30b3ab){this['_setValue']('axis',_0x30b3ab);}get['axis'](){return this['data']['axis'];}set['height'](_0xdeae26){this['_setValue']('height',_0xdeae26);}get['height'](){return this['data']['height'];}set['asset'](_0x3fb1b4){this['_setValue']('asset',_0x3fb1b4);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x1c2250){this['_setValue']('renderAsse'+'t',_0x1c2250);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x355efd){this['_setValue']('convexHull',_0x355efd);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x26a6cf){this['_setValue']('shape',_0x26a6cf);}get['shape'](){return this['data']['shape'];}set['model'](_0x45203f){this['_setValue']('model',_0x45203f);}get['model'](){return this['data']['model'];}set['render'](_0x54b8f0){this['_setValue']('render',_0x54b8f0);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x4a522d){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x4a522d);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x12813,_0x18de11){const _0x303d1a=this['data'],_0x524f6a=_0x303d1a[_0x12813];_0x303d1a[_0x12813]=_0x18de11,this['fire']('set',_0x12813,_0x524f6a,_0x18de11);}['onSetType'](_0x487bb7,_0x1a5ea5,_0x39ad48){_0x1a5ea5!==_0x39ad48&&this['system']['changeType'](this,_0x1a5ea5,_0x39ad48);}['onSetHalfE'+'xtents'](_0x136822,_0x1cde01,_0x305512){const _0x359d88=this['data']['type'];this['data']['initialize'+'d']&&_0x359d88==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x4eda5c,_0x1444a9,_0x53db48){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4d6cf9,_0x1a71b7,_0x4ebb27){const _0x41712c=this['data']['type'];this['data']['initialize'+'d']&&(_0x41712c==='sphere'||_0x41712c==='capsule'||_0x41712c==='cylinder'||_0x41712c==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x337ff8,_0x4515fd,_0x1ec10e){const _0x39298f=this['data']['type'];this['data']['initialize'+'d']&&(_0x39298f==='capsule'||_0x39298f==='cylinder'||_0x39298f==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x3ae2eb,_0x43718e,_0x5ab2f9){const _0x13f5ec=this['data']['type'];this['data']['initialize'+'d']&&(_0x13f5ec==='capsule'||_0x13f5ec==='cylinder'||_0x13f5ec==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x2f170b,_0x252163,_0x2b73d3){const _0x4d489f=this['system']['app']['assets'];if(_0x252163){const _0x2b8de4=_0x4d489f['get'](_0x252163);_0x2b8de4&&_0x2b8de4['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2b73d3){_0x2b73d3 instanceof pe&&(this['data']['asset']=_0x2b73d3['id']);const _0x3f70c0=_0x4d489f['get'](this['data']['asset']);_0x3f70c0&&(_0x3f70c0['off']('remove',this['onAssetRem'+'oved'],this),_0x3f70c0['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2b73d3||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x316cf9,_0x3893d2,_0x42067b){const _0x4c1f55=this['system']['app']['assets'];if(_0x3893d2){const _0x1fcb1a=_0x4c1f55['get'](_0x3893d2);_0x1fcb1a&&_0x1fcb1a['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x42067b){_0x42067b instanceof pe&&(this['data']['renderAsse'+'t']=_0x42067b['id']);const _0x17a92f=_0x4c1f55['get'](this['data']['renderAsse'+'t']);_0x17a92f&&(_0x17a92f['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x17a92f['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x42067b||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x2cf602,_0x3f5248,_0x5d4357){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x56d1cd,_0x1cc89c,_0x33717f){this['onSetModel'](_0x56d1cd,_0x1cc89c,_0x33717f);}['onAssetRem'+'oved'](_0x5bb533){_0x5bb533['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x5bb533['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x3f3342){_0x3f3342['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x3f3342['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x107900){const _0x526d82=this['data']['shape'],_0x23a549=_0x526d82['getNumChil'+'dShapes']();for(let _0x5eaa5a=0x21df+0x38*0x1d+-0x2837;_0x5eaa5a<_0x23a549;_0x5eaa5a++){const _0x3cb3b4=_0x526d82['getChildSh'+'ape'](_0x5eaa5a);if(Ammo['getPointer'](_0x3cb3b4)===Ammo['getPointer'](_0x107900))return _0x5eaa5a;}return null;}['_onInsert'](_0x22200e){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x467708=this['entity']['parent'];for(;_0x467708;){if(_0x467708['collision']&&_0x467708['collision']['type']==='compound'){_0x467708['collision']['shape']['getNumChil'+'dShapes']()===-0xf58+0x21af*0x1+-0x1257*0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x467708['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x467708=_0x467708['parent'];}}}}}['_updateCom'+'pound'](){const _0x42f3ec=this['entity'];if(_0x42f3ec['_dirtyWorl'+'d']){let _0x3da1c6=_0x42f3ec['_dirtyLoca'+'l'],_0x49c979=_0x42f3ec;for(;_0x49c979&&!_0x3da1c6&&!(_0x49c979['collision']&&_0x49c979['collision']===this['_compoundP'+'arent']);)_0x49c979['_dirtyLoca'+'l']&&(_0x3da1c6=!(0x3*-0x25d+0x3a3*-0x7+0x208c)),_0x49c979=_0x49c979['parent'];if(_0x3da1c6){_0x42f3ec['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x42f3ec);const _0x310d7b=this['_compoundP'+'arent']['entity']['rigidbody'];_0x310d7b&&_0x310d7b['activate']();}}}['getShapePo'+'sition'](){const _0x518526=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x419506=this['entity']['getRotatio'+'n'](),_0x1d1935=this['data']['linearOffs'+'et'];return zg['copy'](_0x419506)['transformV'+'ector'](_0x1d1935,Bg),Bg['add'](_0x518526);}return _0x518526;}['getShapeRo'+'tation'](){const _0x336bb3=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x336bb3)['mul'](this['data']['angularOff'+'set']):_0x336bb3;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x7caeb4=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x7caeb4&&(!_0x7caeb4['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0xe37*0x1+0x6*-0x501+0x2c3d)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x16af8b=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x16af8b,this['data']['shape']),Ammo['destroy'](_0x16af8b),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(0x1873+0x2c5*0x1+-0x1a*0x10c),this['type']='box',this['halfExtent'+'s']=new D(-0xcc0+0x1e0a+-0x114a+0.5,-0x775+-0x1*0x84b+0xfc0+0.5,-0x1d56+-0x324+0x207a+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0x115a+-0x13f7*-0x1+-0x2551*0x1+0.5,this['axis']=-0x102d*0x1+-0xcf1*-0x2+-0x2*0x4da,this['height']=-0x1*0x4f4+-0x2475*0x1+-0x1*-0x296b,this['convexHull']=!(0x2005+-0x185d+-0x7a7),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x4dd*0x6+-0x18a7+0x35d5*0x1),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xd2+-0x23f9*-0x1+0x1265*-0x2);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x21d2+0x1aac+0x728,Po=0x2146+0x125e+-0x33a0,Pu=0x79+-0x1*-0x1aa5+0x277*-0xb,Vg=0x18f6+0x533*-0x1+0x695*-0x3,Yv=0x1572+0x269e+-0x3c0b,jL=0x15fd+0x235c+-0xa*0x5bc,Gg=0x3*0xa79+0x934+-0x289d,YL=0x9dc+-0x25ba+-0x53*-0x56,Hg=-0x213d+0x3f+0x210e,Wg=0x109c5*-0x1+0xd8d2+-0x12*-0x10f1,Mu=0x1*0x149ca+0x5058*0x3+-0x11*0x1285;let Us,zr,Wa;class Kv{constructor(_0x238267,_0x28d029,_0x38054d){this['entity']=_0x28d029['entity'],this['component']=_0x28d029,this['app']=_0x238267,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x38054d);}['initialize'](_0x878351){const _0x2ba856=this['entity'],_0xe1737b=_0x878351['shape'];if(_0xe1737b&&typeof Ammo<'u'){_0x2ba856['trigger']&&_0x2ba856['trigger']['destroy']();const _0x5f2d09=0xc42+-0x237f+0x77*0x32,_0x3f71ca=this['component'];if(_0x3f71ca){const _0x4145b0=_0x3f71ca['getShapePo'+'sition'](),_0x333260=_0x3f71ca['getShapeRo'+'tation']();Us['setValue'](_0x4145b0['x'],_0x4145b0['y'],_0x4145b0['z']),zr['setValue'](_0x333260['x'],_0x333260['y'],_0x333260['z'],_0x333260['w']);}else{const _0x45094f=_0x2ba856['getPositio'+'n'](),_0x4742d0=_0x2ba856['getRotatio'+'n']();Us['setValue'](_0x45094f['x'],_0x45094f['y'],_0x45094f['z']),zr['setValue'](_0x4742d0['x'],_0x4742d0['y'],_0x4742d0['z'],_0x4742d0['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x2e6e7f=this['app']['systems']['rigidbody']['createBody'](_0x5f2d09,_0xe1737b,Wa);_0x2e6e7f['setRestitu'+'tion'](0xd1+-0x1d5*-0xb+-0x14f8),_0x2e6e7f['setFrictio'+'n'](-0xb37+-0x24c6+-0x1b*-0x1c7),_0x2e6e7f['setDamping'](-0x258e*-0x1+-0xb*0xce+-0x1cb4,-0x3a2+0x2427+0x2085*-0x1),Us['setValue'](0xa0+0x83*-0x1a+0xcae,0x1*0x1f85+0x2*0xf9e+-0x3ec1,-0x1da1+0x2523+-0x3c1*0x2),_0x2e6e7f['setLinearF'+'actor'](Us),_0x2e6e7f['setAngular'+'Factor'](Us),_0x2e6e7f['setCollisi'+'onFlags'](_0x2e6e7f['getCollisi'+'onFlags']()|Po),_0x2e6e7f['entity']=_0x2ba856,this['body']=_0x2e6e7f,this['component']['enabled']&&_0x2ba856['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x599248){const _0x12ec73=this['component'];if(_0x12ec73){const _0x404d51=_0x12ec73['getShapePo'+'sition'](),_0x552102=_0x12ec73['getShapeRo'+'tation']();Us['setValue'](_0x404d51['x'],_0x404d51['y'],_0x404d51['z']),zr['setValue'](_0x552102['x'],_0x552102['y'],_0x552102['z'],_0x552102['w']);}else{const _0x31b76a=this['entity']['getPositio'+'n'](),_0x58c4bd=this['entity']['getRotatio'+'n']();Us['setValue'](_0x31b76a['x'],_0x31b76a['y'],_0x31b76a['z']),zr['setValue'](_0x58c4bd['x'],_0x58c4bd['y'],_0x58c4bd['z'],_0x58c4bd['w']);}_0x599248['setOrigin'](Us),_0x599248['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x9cdcf1=this['body'];_0x9cdcf1['setWorldTr'+'ansform'](Wa),_0x9cdcf1['activate']();}['enable'](){const _0x1f2e49=this['body'];if(!_0x1f2e49)return;const _0x45b2f3=this['app']['systems']['rigidbody'];_0x45b2f3['_triggers']['indexOf'](this)<0x1c11+0x59*-0x45+0x4*-0x105&&(_0x45b2f3['addBody'](_0x1f2e49,Hg,Mu^Hg),_0x45b2f3['_triggers']['push'](this)),_0x1f2e49['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x4547f3=this['body'];if(!_0x4547f3)return;const _0x142800=this['app']['systems']['rigidbody'],_0x2607ad=_0x142800['_triggers']['indexOf'](this);_0x2607ad>-(-0x1ef+-0x1*-0x1dad+-0x93f*0x3)&&(_0x142800['removeBody'](_0x4547f3),_0x142800['_triggers']['splice'](_0x2607ad,0x147*0x1+-0x1452+0x986*0x2)),_0x4547f3['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x111ea0){this['system']=_0x111ea0;}['beforeInit'+'ialize'](_0x3aafae,_0x271ea4){_0x271ea4['shape']=null,_0x271ea4['model']=new sr(),_0x271ea4['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x25514e,_0x191260){this['recreatePh'+'ysicalShap'+'es'](_0x25514e),_0x25514e['data']['initialize'+'d']=!(-0x1*-0x185c+-0xa*0x53+-0x151e);}['reset'](_0xb3fd43,_0x5b9390){this['beforeInit'+'ialize'](_0xb3fd43,_0x5b9390),this['afterIniti'+'alize'](_0xb3fd43,_0x5b9390);}['recreatePh'+'ysicalShap'+'es'](_0x1e079b){const _0x3a7d7c=_0x1e079b['entity'],_0x54733b=_0x1e079b['data'];if(typeof Ammo<'u'){_0x3a7d7c['trigger']&&(_0x3a7d7c['trigger']['destroy'](),delete _0x3a7d7c['trigger']),_0x54733b['shape']&&(_0x1e079b['_compoundP'+'arent']&&(_0x1e079b!==_0x1e079b['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1e079b['_compoundP'+'arent'],_0x54733b['shape']),_0x1e079b['_compoundP'+'arent']['entity']['rigidbody']&&_0x1e079b['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x54733b)),_0x54733b['shape']=this['createPhys'+'icalShape'](_0x1e079b['entity'],_0x54733b);const _0x3cb814=!_0x1e079b['_compoundP'+'arent'];if(_0x54733b['type']==='compound'&&(!_0x1e079b['_compoundP'+'arent']||_0x1e079b===_0x1e079b['_compoundP'+'arent']))_0x1e079b['_compoundP'+'arent']=_0x1e079b,_0x3a7d7c['forEach'](this['_addEachDe'+'scendant'],_0x1e079b);else{if(_0x54733b['type']!=='compound'&&!_0x1e079b['rigidbody']){_0x1e079b['_compoundP'+'arent']=null;let _0x2f2593=_0x3a7d7c['parent'];for(;_0x2f2593;){if(_0x2f2593['collision']&&_0x2f2593['collision']['type']==='compound'){_0x1e079b['_compoundP'+'arent']=_0x2f2593['collision'];break;}_0x2f2593=_0x2f2593['parent'];}}}_0x1e079b['_compoundP'+'arent']&&_0x1e079b!==_0x1e079b['_compoundP'+'arent']&&(_0x3cb814&&_0x1e079b['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1*-0xb21+0xed1*-0x1+0x19f2?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1e079b['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x3a7d7c,!(-0x16e1+-0x1*-0xfc5+-0x5*-0x16c)),_0x1e079b['_compoundP'+'arent']['entity']['rigidbody']&&_0x1e079b['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x3a7d7c['rigidbody']?(_0x3a7d7c['rigidbody']['disableSim'+'ulation'](),_0x3a7d7c['rigidbody']['createBody'](),_0x3a7d7c['enabled']&&_0x3a7d7c['rigidbody']['enabled']&&_0x3a7d7c['rigidbody']['enableSimu'+'lation']()):_0x1e079b['_compoundP'+'arent']||(_0x3a7d7c['trigger']?_0x3a7d7c['trigger']['initialize'](_0x54733b):_0x3a7d7c['trigger']=new Kv(this['system']['app'],_0x1e079b,_0x54733b));}}['createPhys'+'icalShape'](_0x370b62,_0x16399d){}['updateTran'+'sform'](_0x16abea,_0x25ef00,_0x5747e5,_0x1b924b){_0x16abea['entity']['trigger']&&_0x16abea['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x150a75){_0x150a75['shape']&&(Ammo['destroy'](_0x150a75['shape']),_0x150a75['shape']=null);}['beforeRemo'+'ve'](_0x2286a6,_0x4ed66b){_0x4ed66b['data']['shape']&&(_0x4ed66b['_compoundP'+'arent']&&!_0x4ed66b['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x4ed66b['_compoundP'+'arent'],_0x4ed66b['data']['shape']),_0x4ed66b['_compoundP'+'arent']['entity']['rigidbody']&&_0x4ed66b['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x4ed66b['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x4ed66b['data']));}['remove'](_0x2e989b,_0x12163f){_0x2e989b['rigidbody']&&_0x2e989b['rigidbody']['body']&&_0x2e989b['rigidbody']['disableSim'+'ulation'](),_0x2e989b['trigger']&&(_0x2e989b['trigger']['destroy'](),delete _0x2e989b['trigger']);}['clone'](_0x2d19ba,_0x1054fe){const _0x16b9bc=this['system']['store'][_0x2d19ba['getGuid']()],_0x262ab8={'enabled':_0x16b9bc['data']['enabled'],'type':_0x16b9bc['data']['type'],'halfExtents':[_0x16b9bc['data']['halfExtent'+'s']['x'],_0x16b9bc['data']['halfExtent'+'s']['y'],_0x16b9bc['data']['halfExtent'+'s']['z']],'linearOffset':[_0x16b9bc['data']['linearOffs'+'et']['x'],_0x16b9bc['data']['linearOffs'+'et']['y'],_0x16b9bc['data']['linearOffs'+'et']['z']],'angularOffset':[_0x16b9bc['data']['angularOff'+'set']['x'],_0x16b9bc['data']['angularOff'+'set']['y'],_0x16b9bc['data']['angularOff'+'set']['z'],_0x16b9bc['data']['angularOff'+'set']['w']],'radius':_0x16b9bc['data']['radius'],'axis':_0x16b9bc['data']['axis'],'height':_0x16b9bc['data']['height'],'convexHull':_0x16b9bc['data']['convexHull'],'asset':_0x16b9bc['data']['asset'],'renderAsset':_0x16b9bc['data']['renderAsse'+'t'],'model':_0x16b9bc['data']['model'],'render':_0x16b9bc['data']['render'],'checkVertexDuplicates':_0x16b9bc['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x1054fe,_0x262ab8);}}class JL extends Ca{['createPhys'+'icalShape'](_0x1c9ddf,_0x3cea68){if(typeof Ammo<'u'){const _0x270440=_0x3cea68['halfExtent'+'s'],_0x59adaa=new Ammo['btVector3'](_0x270440?_0x270440['x']:0x92f*0x1+0x55c+-0x33*0x49+0.5,_0x270440?_0x270440['y']:0x16c9+0x311*-0x5+0x13e*-0x6+0.5,_0x270440?_0x270440['z']:0x5*0x169+0x212b+-0x2838+0.5),_0x30d722=new Ammo['btBoxShape'](_0x59adaa);return Ammo['destroy'](_0x59adaa),_0x30d722;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x28b669,_0x4ef9cb){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x4ef9cb['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x105319,_0x371e53){const _0x24020b=_0x371e53['axis']??0x1a45+-0x706+0x133e*-0x1,_0x40e7f8=_0x371e53['radius']??-0xc71+0x1c13+-0xfa2+0.5,_0x53b055=Math['max']((_0x371e53['height']??-0x56*0x67+-0x2ef*-0x1+0x1fad)-(0x204f+-0x3*-0xac5+-0x409c)*_0x40e7f8,-0x16f*0xc+0x1410+-0x2dc);let _0x195fed=null;if(typeof Ammo<'u')switch(_0x24020b){case 0x124a+-0x1*-0x425+-0x166f:_0x195fed=new Ammo['btCapsuleS'+'hapeX'](_0x40e7f8,_0x53b055);break;case-0x6d*-0x47+0x1f21+-0x3d5b*0x1:_0x195fed=new Ammo['btCapsuleS'+'hape'](_0x40e7f8,_0x53b055);break;case 0x2f1+-0x3*0xc16+-0x13*-0x1c1:_0x195fed=new Ammo['btCapsuleS'+'hapeZ'](_0x40e7f8,_0x53b055);break;}return _0x195fed;}}class sR extends Ca{['createPhys'+'icalShape'](_0x47e318,_0x5c3323){const _0xd6d7a=_0x5c3323['axis']??-0x1aaa+0xdfa*-0x2+0x369f,_0x3cbe11=_0x5c3323['radius']??0x183*-0x9+0x6ed*-0x2+0x1b75+0.5,_0x4b59c0=_0x5c3323['height']??-0x1a*0x173+-0x620+-0x5*-0x8c3;let _0x54afb9=null,_0x21f04f=null;if(typeof Ammo<'u')switch(_0xd6d7a){case-0x40*-0x91+-0x1500+-0xf40:_0x54afb9=new Ammo['btVector3'](_0x4b59c0*(0x46*0x79+0x2ae*0x8+-0x1*0x3686+0.5),_0x3cbe11,_0x3cbe11),_0x21f04f=new Ammo['btCylinder'+'ShapeX'](_0x54afb9);break;case-0x17*-0x18d+0x1571*0x1+0xb*-0x531:_0x54afb9=new Ammo['btVector3'](_0x3cbe11,_0x4b59c0*(0xb8a+0x3*-0xc11+0x18a9+0.5),_0x3cbe11),_0x21f04f=new Ammo['btCylinder'+'Shape'](_0x54afb9);break;case-0x1a2c+-0x2634+0x4062:_0x54afb9=new Ammo['btVector3'](_0x3cbe11,_0x3cbe11,_0x4b59c0*(0x36*-0x3+-0x2664+-0xa*-0x3e7+0.5)),_0x21f04f=new Ammo['btCylinder'+'ShapeZ'](_0x54afb9);break;}return _0x54afb9&&Ammo['destroy'](_0x54afb9),_0x21f04f;}}class iR extends Ca{['createPhys'+'icalShape'](_0x4ea842,_0x57faa5){const _0x1a8e09=_0x57faa5['axis']??-0x53*0x1b+0x4d+0x875,_0x4856d8=_0x57faa5['radius']??0x332+-0x8d7*-0x2+-0x14e0+0.5,_0x51f45b=_0x57faa5['height']??0x1b86+0x129d+-0x2e22;let _0x2e1f8b=null;if(typeof Ammo<'u')switch(_0x1a8e09){case-0x12c6+0x1265+0x61:_0x2e1f8b=new Ammo['btConeShap'+'eX'](_0x4856d8,_0x51f45b);break;case-0x83*-0x11+-0x92*0x35+0x1588:_0x2e1f8b=new Ammo['btConeShap'+'e'](_0x4856d8,_0x51f45b);break;case-0x30*-0xa7+0x221f+-0x416d:_0x2e1f8b=new Ammo['btConeShap'+'eZ'](_0x4856d8,_0x51f45b);break;}return _0x2e1f8b;}}class rR extends Ca{['beforeInit'+'ialize'](_0x357118,_0x4ad625){}['createAmmo'+'Hull'](_0x4c7bdb,_0x2bc705,_0x479b7f,_0x998c74){const _0x2ea2db=new Ammo['btConvexHu'+'llShape'](),_0x158554=new Ammo['btVector3'](),_0x7a814d=[];_0x4c7bdb['getPositio'+'ns'](_0x7a814d);for(let _0x1d8d03=-0x1b9f*0x1+0xd1b*-0x1+0x28ba;_0x1d8d03<_0x7a814d['length'];_0x1d8d03+=-0x739+0x15*0x43+0x1bd*0x1)_0x158554['setValue'](_0x7a814d[_0x1d8d03]*_0x998c74['x'],_0x7a814d[_0x1d8d03+(0x19*-0x136+-0xcaf*-0x1+0x1198*0x1)]*_0x998c74['y'],_0x7a814d[_0x1d8d03+(-0x3c0*0x3+0x2354+-0x6*0x403)]*_0x998c74['z']),_0x2ea2db['addPoint'](_0x158554,!(0x155*-0x1b+0x16a2+0xd56));Ammo['destroy'](_0x158554),_0x2ea2db['recalcLoca'+'lAabb'](),_0x2ea2db['setMargin'](-0xd62+-0x60d*0x4+0x2596+0.01);const _0x57e8d3=this['system']['_getNodeTr'+'ansform'](_0x2bc705);_0x479b7f['addChildSh'+'ape'](_0x57e8d3,_0x2ea2db),Ammo['destroy'](_0x57e8d3);}['createAmmo'+'Mesh'](_0x1e17d1,_0x2d5103,_0xd45f31,_0x142820,_0x9e1d45=!(0x34*0x4c+0x16d5+0x1*-0x2645)){const _0x9ebd31=this['system'];let _0x44a4a6;if(_0x9ebd31['_triMeshCa'+'che'][_0x1e17d1['id']])_0x44a4a6=_0x9ebd31['_triMeshCa'+'che'][_0x1e17d1['id']];else{const _0x59c93f=_0x1e17d1['vertexBuff'+'er'],_0x4a3277=_0x59c93f['getFormat']();let _0x55400a,_0x50bd68;for(let _0x50061d=-0x22a4+-0x69a+0x293e;_0x50061d<_0x4a3277['elements']['length'];_0x50061d++){const _0x19a541=_0x4a3277['elements'][_0x50061d];if(_0x19a541['name']===Me){_0x50bd68=new Float32Array(_0x59c93f['lock'](),_0x19a541['offset']),_0x55400a=_0x19a541['stride']/(-0x1*-0x213b+0x72d+-0x205*0x14);break;}}const _0x5abbcc=[];_0x1e17d1['getIndices'](_0x5abbcc);const _0x1748bc=_0x1e17d1['primitive'][-0x1*0x220a+-0xe71*-0x1+0x1*0x1399]['count']/(0x239a+-0x1bd5+0x3e1*-0x2),_0x3def38=new Ammo['btVector3']();let _0x381841,_0x1c2d0c,_0x29f694;const _0x1c32f1=_0x1e17d1['primitive'][0x1*-0x1415+-0x1*0xd57+0x216c]['base'];_0x44a4a6=new Ammo['btTriangle'+'Mesh'](),_0x9ebd31['_triMeshCa'+'che'][_0x1e17d1['id']]=_0x44a4a6;const _0x34409f=new Map();w['assert'](typeof _0x44a4a6['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x5a419f=_0x44a4a6['getIndexed'+'MeshArray']();_0x5a419f['at'](0xbeb+-0x131*-0x1c+-0x2d47)['m_numTrian'+'gles']=_0x1748bc;const _0x21a676=_0x142820?_0x142820['x']:0x26d2+-0x16e8+-0xfe9,_0x6ae481=_0x142820?_0x142820['y']:0x122b+0x1c*0x3c+-0xa*0x279,_0x339686=_0x142820?_0x142820['z']:0x1673+0x24c*-0x9+0x1c6*-0x1,_0x32eb39=_0x2390f3=>{const _0x4ee7d8=_0x50bd68[_0x2390f3*_0x55400a]*_0x21a676,_0x362094=_0x50bd68[_0x2390f3*_0x55400a+(0x18b2+0x1*0x1076+-0x2927)]*_0x6ae481,_0x59a10e=_0x50bd68[_0x2390f3*_0x55400a+(-0x8f3+0xfd4*0x2+-0x16b3)]*_0x339686;let _0x40d664;if(_0x9e1d45){const _0x34ec7f=_0x4ee7d8+':'+_0x362094+':'+_0x59a10e;if(_0x40d664=_0x34409f['get'](_0x34ec7f),_0x40d664!==void(0x1*-0x1560+0x2019+-0xab9))return _0x40d664;_0x3def38['setValue'](_0x4ee7d8,_0x362094,_0x59a10e),_0x40d664=_0x44a4a6['findOrAddV'+'ertex'](_0x3def38,!(-0x84f+0x132*0xc+0x304*-0x2)),_0x34409f['set'](_0x34ec7f,_0x40d664);}else _0x3def38['setValue'](_0x4ee7d8,_0x362094,_0x59a10e),_0x40d664=_0x44a4a6['findOrAddV'+'ertex'](_0x3def38,!(-0xeca+0x126e*-0x2+-0x1*-0x33a7));return _0x40d664;};for(let _0x3bc75c=-0x83*0x3d+-0xc*0x141+-0x1*-0x2e43;_0x3bc75c<_0x1748bc;_0x3bc75c++)_0x381841=_0x32eb39(_0x5abbcc[_0x1c32f1+_0x3bc75c*(-0x2227*-0x1+0x1e30+-0x4054)]),_0x1c2d0c=_0x32eb39(_0x5abbcc[_0x1c32f1+_0x3bc75c*(0x2398+0x123*0x3+-0x26fe*0x1)+(0x1e4f*-0x1+-0x19eb*-0x1+0x465)]),_0x29f694=_0x32eb39(_0x5abbcc[_0x1c32f1+_0x3bc75c*(-0x1d*0x122+-0x926+-0xef*-0x2d)+(-0x2*0xe3e+0x1*-0x1001+0x3*0xed5)]),_0x44a4a6['addIndex'](_0x381841),_0x44a4a6['addIndex'](_0x1c2d0c),_0x44a4a6['addIndex'](_0x29f694);Ammo['destroy'](_0x3def38);}const _0x253ed4=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x44a4a6,!(-0xa9*0x2b+-0x26c3*-0x1+-0x298*0x4));if(!_0x142820){const _0x47ec99=_0x9ebd31['_getNodeSc'+'aling'](_0x2d5103);_0x253ed4['setLocalSc'+'aling'](_0x47ec99),Ammo['destroy'](_0x47ec99);}const _0x4dd82d=_0x9ebd31['_getNodeTr'+'ansform'](_0x2d5103);_0xd45f31['addChildSh'+'ape'](_0x4dd82d,_0x253ed4),Ammo['destroy'](_0x4dd82d);}['createPhys'+'icalShape'](_0x5dd201,_0x46443d){if(!(typeof Ammo>'u')&&(_0x46443d['model']||_0x46443d['render'])){const _0x1d839d=new Ammo['btCompound'+'Shape'](),_0x4da41b=_0x5dd201['getWorldTr'+'ansform']()['getScale']();if(_0x46443d['render']){const _0x36c33d=_0x46443d['render']['meshes'];for(let _0x503d94=-0x23e0+0x1de9+0x5f7;_0x503d94<_0x36c33d['length'];_0x503d94++)_0x46443d['convexHull']?this['createAmmo'+'Hull'](_0x36c33d[_0x503d94],$g,_0x1d839d,_0x4da41b):this['createAmmo'+'Mesh'](_0x36c33d[_0x503d94],$g,_0x1d839d,_0x4da41b,_0x46443d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x46443d['model']){const _0x3450e8=_0x46443d['model']['meshInstan'+'ces'];for(let _0xd89a4e=0x253c+0x706+0x2c42*-0x1;_0xd89a4e<_0x3450e8['length'];_0xd89a4e++)this['createAmmo'+'Mesh'](_0x3450e8[_0xd89a4e]['mesh'],_0x3450e8[_0xd89a4e]['node'],_0x1d839d,null,_0x46443d['checkVerte'+'xDuplicate'+'s']);const _0xad3f6d=new Ammo['btVector3'](_0x4da41b['x'],_0x4da41b['y'],_0x4da41b['z']);_0x1d839d['setLocalSc'+'aling'](_0xad3f6d),Ammo['destroy'](_0xad3f6d);}}return _0x1d839d;}}['recreatePh'+'ysicalShap'+'es'](_0x4c7788){const _0x2f8b14=_0x4c7788['data'];if((_0x2f8b14['renderAsse'+'t']||_0x2f8b14['asset'])&&_0x4c7788['enabled']&&_0x4c7788['entity']['enabled']){this['loadAsset'](_0x4c7788,_0x2f8b14['renderAsse'+'t']||_0x2f8b14['asset'],_0x2f8b14['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x4c7788);}['loadAsset'](_0x9b0b66,_0x3ddc7d,_0x12714e){const _0x5e4959=_0x9b0b66['data'],_0x372aa6=this['system']['app']['assets'],_0x512117=_0x5e4959[_0x12714e],_0x836aac=_0x5b6c0d=>{_0x5e4959[_0x12714e]===_0x512117&&(_0x5e4959[_0x12714e]=_0x5b6c0d['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x9b0b66));},_0xa0b33=_0x2b49d7=>{_0x2b49d7['ready'](_0x2dcc5b=>{if(_0x2dcc5b['data']['containerA'+'sset']){const _0x2e283e=_0x372aa6['get'](_0x2dcc5b['data']['containerA'+'sset']);_0x2e283e['loaded']?_0x836aac(_0x2dcc5b):(_0x2e283e['ready'](()=>{_0x836aac(_0x2dcc5b);}),_0x372aa6['load'](_0x2e283e));}else _0x836aac(_0x2dcc5b);}),_0x372aa6['load'](_0x2b49d7);},_0xc4e8c=_0x372aa6['get'](_0x3ddc7d);_0xc4e8c?_0xa0b33(_0xc4e8c):_0x372aa6['once']('add:'+_0x3ddc7d,_0xa0b33);}['doRecreate'+'PhysicalSh'+'ape'](_0x1d28c7){const _0x1594d1=_0x1d28c7['entity'],_0x944914=_0x1d28c7['data'];_0x944914['model']||_0x944914['render']?(this['destroySha'+'pe'](_0x944914),_0x944914['shape']=this['createPhys'+'icalShape'](_0x1594d1,_0x944914),_0x1594d1['rigidbody']?(_0x1594d1['rigidbody']['disableSim'+'ulation'](),_0x1594d1['rigidbody']['createBody'](),_0x1594d1['enabled']&&_0x1594d1['rigidbody']['enabled']&&_0x1594d1['rigidbody']['enableSimu'+'lation']()):_0x1594d1['trigger']?_0x1594d1['trigger']['initialize'](_0x944914):_0x1594d1['trigger']=new Kv(this['system']['app'],_0x1d28c7,_0x944914)):(this['beforeRemo'+'ve'](_0x1594d1,_0x1d28c7),this['remove'](_0x1594d1,_0x944914));}['updateTran'+'sform'](_0x48a9b6,_0x150f7b,_0x2ac8d6,_0x19e4b2){if(_0x48a9b6['shape']){const _0x4e5d96=_0x48a9b6['entity']['getWorldTr'+'ansform']()['getScale'](),_0x55e082=_0x48a9b6['shape']['getLocalSc'+'aling']();(_0x4e5d96['x']!==_0x55e082['x']()||_0x4e5d96['y']!==_0x55e082['y']()||_0x4e5d96['z']!==_0x55e082['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x48a9b6);}super['updateTran'+'sform'](_0x48a9b6,_0x150f7b,_0x2ac8d6,_0x19e4b2);}['destroySha'+'pe'](_0x5195e3){if(!_0x5195e3['shape'])return;const _0x4df977=_0x5195e3['shape']['getNumChil'+'dShapes']();for(let _0xa3caf8=-0x1045+0x37d*-0x1+-0x12*-0x119;_0xa3caf8<_0x4df977;_0xa3caf8++){const _0xbaae6c=_0x5195e3['shape']['getChildSh'+'ape'](_0xa3caf8);Ammo['destroy'](_0xbaae6c);}Ammo['destroy'](_0x5195e3['shape']),_0x5195e3['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x41abd1,_0x230799){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0xd2eef9){!_0xd2eef9['collision']||_0xd2eef9['rigidbody']||(_0xd2eef9['collision']['_compoundP'+'arent']=this,_0xd2eef9!==this['entity']&&_0xd2eef9['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0xd2eef9['collision']));}['_updateEac'+'hDescendan'+'t'](_0x189fe9){_0x189fe9['collision']&&_0x189fe9['collision']['_compoundP'+'arent']===this&&(_0x189fe9['collision']['_compoundP'+'arent']=null,_0x189fe9!==this['entity']&&!_0x189fe9['rigidbody']&&_0x189fe9['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x189fe9['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x18f24a){!_0x18f24a['collision']||_0x18f24a['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x18f24a,!(0xf4*0x25+-0x15*-0x171+-0x4188));}}class nR extends ct{constructor(_0x560a46){super(_0x560a46),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x449a19,_0x789631,_0x35774e){_0x35774e=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x4c53c2={};for(let _0x284440=0x1*0x975+0x11df+0x16*-0x13e,_0xf3b4f2=_0x35774e['length'];_0x284440<_0xf3b4f2;_0x284440++){const _0x5cbc9a=_0x35774e[_0x284440];_0x4c53c2[_0x5cbc9a]=_0x789631[_0x5cbc9a];}let _0x53b2e3;if(_0x789631['hasOwnProp'+'erty']('asset')?(_0x53b2e3=_0x35774e['indexOf']('model'),_0x53b2e3!==-(-0x3*-0x426+0x47*-0x29+-0x112)&&_0x35774e['splice'](_0x53b2e3,-0x26b4+-0x223f+0x48f4),_0x53b2e3=_0x35774e['indexOf']('render'),_0x53b2e3!==-(0x1adc*-0x1+-0x1b*-0x157+-0x950)&&_0x35774e['splice'](_0x53b2e3,0x19d7+0x1*-0x12d9+-0x6fd)):_0x789631['hasOwnProp'+'erty']('model')&&(_0x53b2e3=_0x35774e['indexOf']('asset'),_0x53b2e3!==-(-0x2*0xd7+0x9e2+-0x833)&&_0x35774e['splice'](_0x53b2e3,-0x1a0c+0x4a8*0x1+0x1565)),_0x4c53c2['type']||(_0x4c53c2['type']=_0x449a19['data']['type']),_0x449a19['data']['type']=_0x4c53c2['type'],Array['isArray'](_0x4c53c2['halfExtent'+'s'])&&(_0x4c53c2['halfExtent'+'s']=new D(_0x4c53c2['halfExtent'+'s'])),Array['isArray'](_0x4c53c2['linearOffs'+'et'])&&(_0x4c53c2['linearOffs'+'et']=new D(_0x4c53c2['linearOffs'+'et'])),Array['isArray'](_0x4c53c2['angularOff'+'set'])){const _0x41debe=_0x4c53c2['angularOff'+'set'];_0x41debe['length']===0x45d*-0x3+-0x8b7+0x15d1?_0x4c53c2['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x41debe[0x2*-0xadb+0x517*0x2+0xb88],_0x41debe[-0x151+-0x20a4*-0x1+0x26*-0xd3],_0x41debe[-0xe63+-0x1378+0x21dd*0x1]):_0x4c53c2['angularOff'+'set']=new le(_0x4c53c2['angularOff'+'set']);}const _0x30fc62=this['_createImp'+'lementatio'+'n'](_0x4c53c2['type']);_0x30fc62['beforeInit'+'ialize'](_0x449a19,_0x4c53c2),super['initialize'+'ComponentD'+'ata'](_0x449a19,_0x4c53c2,_0x35774e),_0x30fc62['afterIniti'+'alize'](_0x449a19,_0x4c53c2);}['_createImp'+'lementatio'+'n'](_0xc935d4){if(this['implementa'+'tions'][_0xc935d4]===void(0xd9+0x1*-0x1519+-0xa20*-0x2)){let _0x3f7b9f;switch(_0xc935d4){case'box':_0x3f7b9f=new JL(this);break;case'sphere':_0x3f7b9f=new eR(this);break;case'capsule':_0x3f7b9f=new tR(this);break;case'cylinder':_0x3f7b9f=new sR(this);break;case'cone':_0x3f7b9f=new iR(this);break;case'mesh':_0x3f7b9f=new rR(this);break;case'compound':_0x3f7b9f=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0xc935d4);}this['implementa'+'tions'][_0xc935d4]=_0x3f7b9f;}return this['implementa'+'tions'][_0xc935d4];}['_getImplem'+'entation'](_0x4999a6){return this['implementa'+'tions'][_0x4999a6['collision']['data']['type']];}['cloneCompo'+'nent'](_0x270091,_0x2ff190){return this['_getImplem'+'entation'](_0x270091)['clone'](_0x270091,_0x2ff190);}['onBeforeRe'+'move'](_0xb31358,_0x5f5340){this['implementa'+'tions'][_0x5f5340['data']['type']]['beforeRemo'+'ve'](_0xb31358,_0x5f5340),_0x5f5340['onBeforeRe'+'move']();}['onRemove'](_0x11b286,_0x42ef25){this['implementa'+'tions'][_0x42ef25['type']]['remove'](_0x11b286,_0x42ef25);}['updateComp'+'oundChildT'+'ransform'](_0x5c0cdb,_0x35c482){const _0x1439d6=_0x5c0cdb['collision']['_compoundP'+'arent'];if(_0x1439d6!==_0x5c0cdb['collision']&&_0x5c0cdb['enabled']&&_0x5c0cdb['collision']['enabled']&&(_0x5c0cdb['_dirtyLoca'+'l']||_0x35c482)){const _0x3e4360=this['_getNodeTr'+'ansform'](_0x5c0cdb,_0x1439d6['entity']),_0x269677=_0x1439d6['getCompoun'+'dChildShap'+'eIndex'](_0x5c0cdb['collision']['shape']);_0x269677===null?_0x1439d6['shape']['addChildSh'+'ape'](_0x3e4360,_0x5c0cdb['collision']['data']['shape']):_0x1439d6['shape']['updateChil'+'dTransform'](_0x269677,_0x3e4360,!(-0x2*0x7d5+0xd64+0x246)),Ammo['destroy'](_0x3e4360);}}['_removeCom'+'poundChild'](_0x51c6aa,_0x447d26){if(_0x51c6aa['shape']['getNumChil'+'dShapes']()!==0x8*-0x2fc+-0x1*0x1826+0x3*0x1002){if(_0x51c6aa['shape']['removeChil'+'dShape'])_0x51c6aa['shape']['removeChil'+'dShape'](_0x447d26);else{const _0x11c9c9=_0x51c6aa['getCompoun'+'dChildShap'+'eIndex'](_0x447d26);_0x11c9c9!==null&&_0x51c6aa['shape']['removeChil'+'dShapeByIn'+'dex'](_0x11c9c9);}}}['onTransfor'+'mChanged'](_0x587980,_0x3a883f,_0x48c93c,_0x490cca){this['implementa'+'tions'][_0x587980['data']['type']]['updateTran'+'sform'](_0x587980,_0x3a883f,_0x48c93c,_0x490cca);}['changeType'](_0x32e4d1,_0xd23883,_0x18010e){this['implementa'+'tions'][_0xd23883]['beforeRemo'+'ve'](_0x32e4d1['entity'],_0x32e4d1),this['implementa'+'tions'][_0xd23883]['remove'](_0x32e4d1['entity'],_0x32e4d1['data']),this['_createImp'+'lementatio'+'n'](_0x18010e)['reset'](_0x32e4d1,_0x32e4d1['data']);}['recreatePh'+'ysicalShap'+'es'](_0x23ca10){this['implementa'+'tions'][_0x23ca10['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x23ca10);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x423713,_0x116587){if(_0x423713===_0x116587){const _0x499405=_0x423713['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x499405['x'],_0x499405['y'],_0x499405['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x423713['parent'],_0x116587),wc['mul'](_0x423713['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0xe85c53){const _0xe50e7a=_0xe85c53['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0xe50e7a['x'],_0xe50e7a['y'],_0xe50e7a['z']);}['_getNodeTr'+'ansform'](_0x3de5a6,_0x30355e){let _0x41e4fb,_0x1b473c;_0x30355e?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3de5a6,_0x30355e),_0x41e4fb=KL,_0x1b473c=Vr,wc['getTransla'+'tion'](_0x41e4fb),_0x1b473c['setFromMat'+'4'](wc)):(_0x41e4fb=_0x3de5a6['getPositio'+'n'](),_0x1b473c=_0x3de5a6['getRotatio'+'n']());const _0x35090b=new Ammo['btQuaterni'+'on'](),_0x308d57=new Ammo['btTransfor'+'m']();_0x308d57['setIdentit'+'y']();const _0xb9f7fb=_0x308d57['getOrigin'](),_0xc2da52=_0x3de5a6['collision'];if(_0xc2da52&&_0xc2da52['_hasOffset']){const _0x2eb5ae=_0xc2da52['data']['linearOffs'+'et'],_0x5f131f=_0xc2da52['data']['angularOff'+'set'],_0x342591=ZL;Vr['copy'](_0x1b473c)['transformV'+'ector'](_0x2eb5ae,_0x342591),_0x342591['add'](_0x41e4fb),Vr['copy'](_0x1b473c)['mul'](_0x5f131f),_0xb9f7fb['setValue'](_0x342591['x'],_0x342591['y'],_0x342591['z']),_0x35090b['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0xb9f7fb['setValue'](_0x41e4fb['x'],_0x41e4fb['y'],_0x41e4fb['z']),_0x35090b['setValue'](_0x1b473c['x'],_0x1b473c['y'],_0x1b473c['z'],_0x1b473c['w']);return _0x308d57['setRotatio'+'n'](_0x35090b),Ammo['destroy'](_0x35090b),_0x308d57;}['destroy'](){for(const _0xcdd962 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0xcdd962]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x38f12a,_0x62c3af,_0x494763){this['_entity']=_0x38f12a,this['_element']=_0x38f12a['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x62c3af,this['meshInstan'+'ce']=new He(this['mesh'],_0x494763,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x38f12a['name'],this['meshInstan'+'ce']['castShadow']=!(0xc56*-0x2+0x27b*0x5+0xc46*0x1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0xcaa+-0xa3*-0x15+-0x1a08),this['_meshDirty']=!(-0x70d*0x4+-0x778*0x3+-0x1*-0x329d),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x205625,_0x3184f8;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x205625=this['meshInstan'+'ce'])==null||_0x205625['destroy'](),this['meshInstan'+'ce']=null,(_0x3184f8=this['unmaskMesh'+'Instance'])==null||_0x3184f8['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x5d62a7){this['meshInstan'+'ce']&&(this['mesh']=_0x5d62a7,this['meshInstan'+'ce']['mesh']=_0x5d62a7,this['meshInstan'+'ce']['visible']=!!_0x5d62a7,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x5d62a7),this['forceUpdat'+'eAabb']());}['setMask'](_0x5180b2){var _0x3019ad;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x5180b2){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0xaef*-0x1+0x173d+-0x1*0xc4d),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x59e*-0x4+-0x237a+0x39f3),this['unmaskMesh'+'Instance']['pick']=!(0xdd6+0x1a65+-0x283a),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x2a18e7 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2a18e7,this['meshInstan'+'ce']['parameters'][_0x2a18e7]['data']);}else{const _0x3c98e2=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x3c98e2>=0x12*-0x8e+-0xf8*0x1a+0x1196*0x2&&this['model']['meshInstan'+'ces']['splice'](_0x3c98e2,0x1*-0x10a5+-0xb14+0x1bba);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x5180b2||((_0x3019ad=this['unmaskMesh'+'Instance'])==null||_0x3019ad['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3c5f87){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3c5f87,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3c5f87));}['setParamet'+'er'](_0x28b77a,_0x1eb450){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x28b77a,_0x1eb450),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x28b77a,_0x1eb450));}['deletePara'+'meter'](_0x4b1955){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x4b1955),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x4b1955));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x1fd4c6=function(_0x4ee838){let _0x31b1b1;const _0x14181b=_0x4ee838['children'],_0x41c47e=_0x14181b['length'];if(_0x41c47e){for(let _0x136281=0x1de5+0x1b44+-0x3929*0x1;_0x136281<_0x41c47e;_0x136281++)_0x14181b[_0x136281]['element']&&(_0x31b1b1=_0x14181b[_0x136281]);if(!_0x31b1b1)return null;const _0x17f690=_0x1fd4c6(_0x31b1b1);return _0x17f690||_0x31b1b1;}return null;};if(this['unmaskMesh'+'Instance']){const _0x55cdff=_0x1fd4c6(this['_entity']);_0x55cdff&&_0x55cdff['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x55cdff['element']['drawOrder']+_0x55cdff['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x5027c8){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x5027c8),this['meshInstan'+'ce']['drawOrder']=_0x5027c8);}['setCull'](_0x5c8629){if(!this['meshInstan'+'ce'])return;const _0x598789=this['_element'];let _0x80ef20=null;_0x5c8629&&_0x598789['_isScreenS'+'pace']()&&(_0x80ef20=function(_0x10b14b){return _0x598789['isVisibleF'+'orCamera'](_0x10b14b);}),this['meshInstan'+'ce']['cull']=_0x5c8629,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x80ef20,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x5c8629,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x80ef20);}['setScreenS'+'pace'](_0x17ac5e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x17ac5e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x17ac5e));}['setLayer'](_0x545ea3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x545ea3,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x545ea3));}['forceUpdat'+'eAabb'](_0x5d72a3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x26ad+-0xf09+0x35b7),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0xebd+0x2155+-0x1297)));}['setAabbFun'+'c'](_0x2652b0){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x2652b0,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x2652b0));}}class cR{constructor(_0x183805){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x183805,this['_entity']=_0x183805['entity'],this['_system']=_0x183805['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x25f9+0x8bf+0x1d3a,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x31*-0x61+-0x92+0x2f*-0x62),this['_rect']=new re(-0x24ab+0x2038*-0x1+0x44e3,0x236c+0x15a3+-0x21d*0x1b,-0x511+-0x2671+0x2b83,0x3*0x815+-0xbc4+-0x2*0x63d),this['_mask']=!(-0xd45+-0x10bf*0x2+0x2ec4),this['_maskRef']=0x1122+-0xb45*-0x2+-0x27ac,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(-0xb8a+-0x184+0xd10),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x7d4+-0x167*0xb+0x79d),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x9*-0x3b4+-0x1*-0x99b+-0x2aeb),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0xc36+-0x463*-0x3+-0x195e*0x1,0xfdc*-0x1+-0x33b+0x4*0x4c6,-0x1b23+0x35*-0x9f+-0x5*-0xc03,-0x24b3+0x19dd+0xad7),this['_colorUnif'+'orm']=new Float32Array([0xf60+-0xfb9+-0x6*-0xf,0x259b+0x13*-0x18a+-0x85c,-0x2e5+-0x134c+0x1632]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x5*-0x70c+0x1385+-0x1*-0xfb8),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x19251f){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x45223f){this['_updateMat'+'erial'](_0x45223f);}['_onScreenC'+'hange'](_0x5b17cf,_0x1c31b3){_0x5b17cf?this['_updateMat'+'erial'](_0x5b17cf['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1125+0x253e+0x8*-0x283));}['_onDrawOrd'+'erChange'](_0x387f83){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x387f83),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xa7+-0xee3+0xe3d*0x1);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x351876){const _0x2c7e81=!!this['_mask'],_0x6fcc83=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0xe6c825=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x351876,_0x2c7e81,_0x6fcc83,_0xe6c825)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x351876),this['_renderabl'+'e']['setLayer'](_0x351876?Ow:Ky));}['_createMes'+'h'](){const _0x1cce5e=this['_element'],_0x1356c9=_0x1cce5e['calculated'+'Width'],_0x35f8fe=_0x1cce5e['calculated'+'Height'],_0x560a70=this['_rect'],_0x5e1623=this['_system']['app']['graphicsDe'+'vice'],_0x1428b7=new Float32Array([_0x1356c9,-0x2622*0x1+-0x126f+-0x649*-0x9,0x16b7+-0x385+-0x1332,-0x11f5+0x1af0+0x13*-0x79,0x2*0x349+-0xc*-0xcc+-0x1022,0x2f4+0x180*-0x2+0xd,_0x560a70['x']+_0x560a70['z'],-0x2482+-0x1a13+-0x3e96*-0x1-_0x560a70['y'],_0x1356c9,_0x35f8fe,0x81d*-0x4+-0x229c+0x4310,-0x1*-0x261b+-0x86*0x18+0x1f7*-0xd,-0xfb7+0x55b*-0x1+0xba*0x1d,-0x1c6*0xe+-0xf8+0x19cd,_0x560a70['x']+_0x560a70['z'],0x189+-0x1d2d+0x1ba5-(_0x560a70['y']+_0x560a70['w']),-0x105c+-0x9b4+0x22c*0xc,0xecf+0x1e2*-0x13+0x14f7,0x238a*-0x1+0xd*0x1cc+0xc2e*0x1,-0x1a51+0x1*-0x103c+0x2a8d,0x1a3f+0x1296+-0x2cd5*0x1,-0x3a*0x2b+0x42f*-0x3+0x164c,_0x560a70['x'],0x234d+0x1ae9+-0x19*0x27d-_0x560a70['y'],-0xb7f+-0xc23+-0x6e*-0x37,_0x35f8fe,-0x253a+-0x175*0x3+0x2999,-0x870+-0x39d+0xc0d,-0xad*-0xb+-0x6d*0x40+0x69b*0x3,0xe*-0x159+0x5de+0xd01,_0x560a70['x'],-0x96*-0xb+-0x1c42*0x1+0x15d1-(_0x560a70['y']+_0x560a70['w'])]),_0x45f6e2=oR['get'](_0x5e1623,()=>new kt(_0x5e1623,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x430ea9=new Is(_0x5e1623,_0x45f6e2,0x1*0x1ef+0x827+0x2*-0x509,{'data':_0x1428b7['buffer']}),_0x516b16=new Ge(_0x5e1623);return _0x516b16['vertexBuff'+'er']=_0x430ea9,_0x516b16['primitive'][0x4*-0x655+-0x6ae+0xf1*0x22]['type']=Er,_0x516b16['primitive'][-0x2*0xb31+0x24*0x41+-0x2a6*-0x5]['base']=-0x3*-0xe5+-0x1495+0x11e6,_0x516b16['primitive'][-0x1e8*-0x4+-0x5f*0x63+0x1d1d]['count']=-0x989*-0x3+-0x2c2+0x185*-0x11,_0x516b16['primitive'][0xee7+-0x1d*0xba+-0x1*-0x62b]['indexed']=!(0x1*0xae5+0x1c57+-0x273b),_0x516b16['aabb']['setMinMax'](D['ZERO'],new D(_0x1356c9,_0x35f8fe,0x3*-0x4c3+0x9*0x1d3+0x222*-0x1)),this['_updateMes'+'h'](_0x516b16),_0x516b16;}['_updateMes'+'h'](_0x52777a){const _0x5f2f42=this['_element'];let _0x561063=_0x5f2f42['calculated'+'Width'],_0x514085=_0x5f2f42['calculated'+'Height'];if(_0x5f2f42['fitMode']!==th&&this['_targetAsp'+'ectRatio']>0x19ee+-0x1f2d+0x11*0x4f){const _0x3a74bf=_0x5f2f42['calculated'+'Width']/_0x5f2f42['calculated'+'Height'];_0x5f2f42['fitMode']===GL&&_0x3a74bf>this['_targetAsp'+'ectRatio']||_0x5f2f42['fitMode']===HL&&_0x3a74bf<this['_targetAsp'+'ectRatio']?_0x561063=_0x5f2f42['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x514085=_0x5f2f42['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x4f2ed0=_0x5f2f42['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x4f2ed0),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x1701b5=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x532a39=(0x11d0+0xd60+0xd*-0x266)/_0x1701b5['rect']['z'],_0x57c614=(-0x41b*-0x3+0x21d3*-0x1+0x1584)/_0x1701b5['rect']['w'];this['_innerOffs'+'et']['set'](_0x1701b5['border']['x']*_0x532a39,_0x1701b5['border']['y']*_0x57c614,_0x1701b5['border']['z']*_0x532a39,_0x1701b5['border']['w']*_0x57c614);const _0x523ddf=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x1701b5['rect']['x']/_0x523ddf['width'],_0x1701b5['rect']['y']/_0x523ddf['height'],_0x1701b5['rect']['z']/_0x523ddf['width'],_0x1701b5['rect']['w']/_0x523ddf['height']);const _0x2707e5=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x1f1b46=_0x1701b5['rect']['z']/_0x2707e5,_0x3fc3fc=_0x1701b5['rect']['w']/_0x2707e5;this['_outerScal'+'e']['set'](Math['max'](_0x561063,this['_innerOffs'+'et']['x']*_0x1f1b46),Math['max'](_0x514085,this['_innerOffs'+'et']['y']*_0x3fc3fc));let _0x5d4f49=_0x1f1b46,_0x5d0a16=_0x3fc3fc;this['_outerScal'+'e']['x']/=_0x1f1b46,this['_outerScal'+'e']['y']/=_0x3fc3fc,_0x5d4f49*=Y['clamp'](_0x561063/(this['_innerOffs'+'et']['x']*_0x1f1b46),0x5d*0x64+-0x161b*0x1+-0xe39+0.0001,0x926+-0xf22+0x5fd),_0x5d0a16*=Y['clamp'](_0x514085/(this['_innerOffs'+'et']['y']*_0x3fc3fc),-0x1316+-0x497+0x17ad+0.0001,-0x13*-0x1d8+0x1a9*0x10+-0x3d97),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x1*-0x2a9+-0xed3+0x117c]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x111c+0xbbb+-0x1a*-0x35]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xf4f+-0x7c0*0x1+0x5*0x49d]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x26f*-0xb+-0x70*0x2+0x18*0x127]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x3*-0x900+-0x4a3*0x7+0x575*0x1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x3*0x4a7+0x116d+0x1*-0x377]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x18e+0x14*0x3f+-0x678]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0xd87+0x657*0x3+0x1*-0x2089]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1dbd*-0x1+-0x65b*-0x1+0x1762]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1002*-0x2+0x130b+-0xa*0x51b]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x5d4f49,_0x5d0a16,-0xba4+-0x1562+0x2107),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x13ea+-0x21a0+0xdb6+0.5-_0x5f2f42['pivot']['x'])*_0x561063,(0x245b*-0x1+-0x99d+0x2df8+0.5-_0x5f2f42['pivot']['y'])*_0x514085,-0x2595+-0x3*-0x329+0x1c1a));}else{const _0x56f2de=_0x52777a['vertexBuff'+'er'],_0x2b6a55=new Float32Array(_0x56f2de['lock']()),_0xea8b29=_0x5f2f42['pivot']['x'],_0x38210f=_0x5f2f42['pivot']['y'];_0x2b6a55[0xbed+0x2c4+0xeb1*-0x1]=_0x561063-_0xea8b29*_0x561063,_0x2b6a55[-0x5a+-0x1f71+0x1fcc]=0x2*-0x796+0x4f*-0x1c+-0xbe8*-0x2-_0x38210f*_0x514085,_0x2b6a55[-0x35*-0x3b+0x34e+-0xf7d]=_0x561063-_0xea8b29*_0x561063,_0x2b6a55[-0x2b*-0x68+0x7*0x12+-0x11ed]=_0x514085-_0x38210f*_0x514085,_0x2b6a55[0xef0*-0x2+-0x133f+0x312f]=-0x3c1*0xa+0x187+0x2403-_0xea8b29*_0x561063,_0x2b6a55[0x1*0xca5+-0x26*0x4+-0x4*0x2ff]=-0x1903+0x1*0x6d5+0x122e-_0x38210f*_0x514085,_0x2b6a55[0xfd0+-0x1672+0x6ba]=-0x224+0x349+-0x125-_0xea8b29*_0x561063,_0x2b6a55[0x6d0+0x2493+0x2*-0x15a5]=_0x514085-_0x38210f*_0x514085;let _0x546df7=-0x2*-0xbdd+-0x523*-0x3+-0x2722,_0x1c4cd1=0x92d+0xaf7+-0x1*0x1423,_0x2f5521=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x3be150=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x3be150&&(_0x2f5521=_0x3be150['rect'],_0x546df7=this['_sprite']['atlas']['texture']['width'],_0x1c4cd1=this['_sprite']['atlas']['texture']['height']);}_0x2b6a55[-0xc9e+0x1*0x53e+0x2*0x3b3]=(_0x2f5521['x']+_0x2f5521['z'])/_0x546df7,_0x2b6a55[0x11e7*-0x2+-0x58+0x3f*0x93]=-0x36*0x16+0x27d+0x228-_0x2f5521['y']/_0x1c4cd1,_0x2b6a55[0x14b3+0xef*0x27+-0x390e]=(_0x2f5521['x']+_0x2f5521['z'])/_0x546df7,_0x2b6a55[0x247+-0x107d+0xe45*0x1]=0xeb7*-0x1+0x2284+-0x4f3*0x4-(_0x2f5521['y']+_0x2f5521['w'])/_0x1c4cd1,_0x2b6a55[0x362*0x2+-0x1*-0xe33+-0x14e1]=_0x2f5521['x']/_0x546df7,_0x2b6a55[0x2219+0x601+-0x2803]=0x24ad+0x1*0x212b+-0x45d7-_0x2f5521['y']/_0x1c4cd1,_0x2b6a55[-0x321+-0x23d1*-0x1+-0x1049*0x2]=_0x2f5521['x']/_0x546df7,_0x2b6a55[0xf0c+-0x61*0x1e+-0x38f]=-0x2457+-0x25bc+0x6bc*0xb-(_0x2f5521['y']+_0x2f5521['w'])/_0x1c4cd1,_0x56f2de['unlock']();const _0x68cc31=new D(-0x1cf1+0x13a7+0x94a-_0xea8b29*_0x561063,-0x2*0x3c3+0x1911+0x1*-0x118b-_0x38210f*_0x514085,0x1755+-0x1fd*0x7+-0x96a*0x1),_0x44b752=new D(_0x561063-_0xea8b29*_0x561063,_0x514085-_0x38210f*_0x514085,-0x1f75+0x3ab*0x2+0x181f*0x1);_0x52777a['aabb']['setMinMax'](_0x68cc31,_0x44b752),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x2578+-0x20cc+-0x4645*-0x1,-0x1c3a+-0x24f*-0x2+-0x7df*-0x3,-0x1cee+0x20*-0xdd+0x388f),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x4f*-0x46+0x49*-0x2f+-0x833,-0x2b*-0x9e+-0x2e6+0x44*-0x59,-0xf*-0x6d+0xe*-0x27+0x63*-0xb),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0xf54+0x14+0x1*-0xf67);}['_updateSpr'+'ite'](){let _0x538528=!(-0x8*0xfb+0x20b5*-0x1+0x288e),_0x265a23=null;if(this['_targetAsp'+'ectRatio']=-(0x260d+0x2de+-0x1*0x28ea),this['_sprite']&&this['_sprite']['atlas']){_0x265a23=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x538528=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x412019=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x412019==null?void(0x1142+-0x19ff+0x8bd):_0x412019['rect']['w'])>-0x164e+-0xf7a+0x25c8*0x1&&(this['_targetAsp'+'ectRatio']=_0x412019['rect']['z']/_0x412019['rect']['w']);}this['mesh']=_0x538528?_0x265a23:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0xafc+0x21d0+0x3ce*-0x6):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x11e25f){return _0x11e25f['center']['set'](0x1*0x7b9+-0x4*0x5e2+0xfcf,0xa87+0x78b*-0x2+0x48f,0x955*-0x3+0x1*-0x1594+0x31*0x103),_0x11e25f['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1*-0x78f+0x13f0+-0x1b7f+0.5),this['_outerScal'+'e']['y']*(-0x192a+0x1*0x1e5e+0x1*-0x534+0.5),0x4d*-0x23+0xc92+0x20b*-0x1+0.001),_0x11e25f['setFromTra'+'nsformedAa'+'bb'](_0x11e25f,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x11e25f;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x3e1a81=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3e1a81),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x26c89f){this['material']=_0x26c89f['resource'];}['_onMateria'+'lAdded'](_0x2f953e){this['_system']['app']['assets']['off']('add:'+_0x2f953e['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x2f953e['id']&&this['_bindMater'+'ialAsset'](_0x2f953e);}['_bindMater'+'ialAsset'](_0x1a77d8){this['_entity']['enabled']&&(_0x1a77d8['on']('load',this['_onMateria'+'lLoad'],this),_0x1a77d8['on']('change',this['_onMateria'+'lChange'],this),_0x1a77d8['on']('remove',this['_onMateria'+'lRemove'],this),_0x1a77d8['resource']?this['_onMateria'+'lLoad'](_0x1a77d8):this['_system']['app']['assets']['load'](_0x1a77d8));}['_unbindMat'+'erialAsset'](_0x4568eb){_0x4568eb['off']('load',this['_onMateria'+'lLoad'],this),_0x4568eb['off']('change',this['_onMateria'+'lChange'],this),_0x4568eb['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x129142){this['_system']['app']['assets']['off']('add:'+_0x129142['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x129142['id']&&this['_bindTextu'+'reAsset'](_0x129142);}['_bindTextu'+'reAsset'](_0x22636b){this['_entity']['enabled']&&(_0x22636b['on']('load',this['_onTexture'+'Load'],this),_0x22636b['on']('change',this['_onTexture'+'Change'],this),_0x22636b['on']('remove',this['_onTexture'+'Remove'],this),_0x22636b['resource']?this['_onTexture'+'Load'](_0x22636b):this['_system']['app']['assets']['load'](_0x22636b));}['_unbindTex'+'tureAsset'](_0x1eb94c){_0x1eb94c['off']('load',this['_onTexture'+'Load'],this),_0x1eb94c['off']('change',this['_onTexture'+'Change'],this),_0x1eb94c['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x26b621){this['texture']=_0x26b621['resource'];}['_onTexture'+'Change'](_0x526c9e){}['_onTexture'+'Remove'](_0x36f446){}['_onSpriteA'+'ssetAdded'](_0x37271a){this['_system']['app']['assets']['off']('add:'+_0x37271a['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x37271a['id']&&this['_bindSprit'+'eAsset'](_0x37271a);}['_bindSprit'+'eAsset'](_0x17dc39){this['_entity']['enabled']&&(_0x17dc39['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x17dc39['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x17dc39['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x17dc39['resource']?this['_onSpriteA'+'ssetLoad'](_0x17dc39):this['_system']['app']['assets']['load'](_0x17dc39));}['_unbindSpr'+'iteAsset'](_0x2aa22c){_0x2aa22c['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2aa22c['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x2aa22c['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2aa22c['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x2aa22c['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x1a7103){if(!_0x1a7103||!_0x1a7103['resource'])this['sprite']=null;else{if(_0x1a7103['resource']['atlas'])this['sprite']=_0x1a7103['resource'];else{const _0x29d234=_0x1a7103['data']['textureAtl'+'asAsset'];if(_0x29d234){const _0x3ff59a=this['_system']['app']['assets'];_0x3ff59a['off']('load:'+_0x29d234,this['_onTexture'+'AtlasLoad'],this),_0x3ff59a['once']('load:'+_0x29d234,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x5c0ef9){this['_onSpriteA'+'ssetLoad'](_0x5c0ef9);}['_onSpriteA'+'ssetRemove'](_0x4464f1){}['_bindSprit'+'e'](_0x12e75d){this['_evtSetMes'+'hes']=_0x12e75d['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x12e75d['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x12e75d['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x12e75d['atlas']&&_0x12e75d['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x4c35c6){var _0x574c7d;(_0x574c7d=this['_evtSetMes'+'hes'])==null||_0x574c7d['off'](),this['_evtSetMes'+'hes']=null,_0x4c35c6['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x4c35c6['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x4c35c6['atlas']&&_0x4c35c6['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x1*0xd8d+-0xc9*-0xe+-0x188b*0x1,this['_sprite']['frameKeys']['length']-(0x2c*0xa7+-0x2037+-0x96*-0x6))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x3988d8){const _0x42002b=this['_spriteAss'+'et'];_0x42002b instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x42002b):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x42002b));}['onEnable'](){if(this['_materialA'+'sset']){const _0x20d014=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x20d014&&_0x20d014['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x20d014);}if(this['_textureAs'+'set']){const _0x168642=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x168642&&_0x168642['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x168642);}if(this['_spriteAss'+'et']){const _0x99f41=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x99f41&&_0x99f41['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x99f41);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3a40a7){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3a40a7,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3a40a7;let _0x167751=-0x925*-0x1+-0xe00+0x4db;if(this['_element']['maskedBy']&&(_0x167751=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x5da9cb=new pi({'ref':_0x167751+(-0x1e91+-0x2*-0x226+-0xb1*-0x26),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x5da9cb,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x5da9cb;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x20*-0x115+0x185a+-0x3afa]=Ec['r'],this['_colorUnif'+'orm'][0x1a7*0x4+-0x1da9+0x170e]=Ec['g'],this['_colorUnif'+'orm'][0x189+0x5c0+-0x747]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x22ba53){this['_color']===_0x22ba53&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x29e2ce,g:_0x33dc1b,b:_0x20f57e}=_0x22ba53;(this['_color']['r']!==_0x29e2ce||this['_color']['g']!==_0x33dc1b||this['_color']['b']!==_0x20f57e)&&(this['_color']['r']=_0x29e2ce,this['_color']['g']=_0x33dc1b,this['_color']['b']=_0x20f57e,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x1c6928){_0x1c6928!==this['_color']['a']&&(this['_color']['a']=_0x1c6928,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x1c6928)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1c6928);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4828db){this['_rect']===_0x4828db&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2cfd14,_0x68b397,_0x1fb666,_0xbc977c;_0x4828db instanceof re?(_0x2cfd14=_0x4828db['x'],_0x68b397=_0x4828db['y'],_0x1fb666=_0x4828db['z'],_0xbc977c=_0x4828db['w']):(_0x2cfd14=_0x4828db[0x1*-0x529+0x24e2+0x1fb9*-0x1],_0x68b397=_0x4828db[-0x1454+0x1d3f+-0x8ea],_0x1fb666=_0x4828db[0x1417+0xf53*0x1+-0x338*0xb],_0xbc977c=_0x4828db[-0x74*0x4+0x1*-0x134b+0x151e]),!(_0x2cfd14===this['_rect']['x']&&_0x68b397===this['_rect']['y']&&_0x1fb666===this['_rect']['z']&&_0xbc977c===this['_rect']['w'])&&(this['_rect']['set'](_0x2cfd14,_0x68b397,_0x1fb666,_0xbc977c),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x1976+-0x23d5+-0xb1*-0xf):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x2443ae=this['_system']['app']['assets'];_0x2443ae['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5002b6=_0x2443ae['get'](this['_materialA'+'sset']);_0x5002b6&&(_0x5002b6['off']('load',this['_onMateria'+'lLoad'],this),_0x5002b6['off']('change',this['_onMateria'+'lChange'],this),_0x5002b6['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x3552da){if(this['_material']!==_0x3552da){if(!_0x3552da){const _0x16794e=this['_element']['_isScreenS'+'pace']();this['mask']?_0x3552da=_0x16794e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x3552da=_0x16794e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x3552da,this['_materialA'+'sset']){const _0x5fae72=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x5fae72||_0x5fae72['resource']!==_0x3552da)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x3552da&&(this['_renderabl'+'e']['setMateria'+'l'](_0x3552da),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x5966e1){const _0x17ef04=this['_system']['app']['assets'];let _0x52f620=_0x5966e1;if(_0x5966e1 instanceof pe&&(_0x52f620=_0x5966e1['id']),this['_materialA'+'sset']!==_0x52f620){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x52f620,this['_materialA'+'sset']){const _0x4897b2=_0x17ef04['get'](this['_materialA'+'sset']);_0x4897b2?this['_bindMater'+'ialAsset'](_0x4897b2):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x52f620,_0x17ef04['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x52f620;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x1ff319){if(this['_texture']!==_0x1ff319){if(this['_textureAs'+'set']){const _0x4a6d10=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4a6d10&&_0x4a6d10['resource']!==_0x1ff319&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x1ff319,_0x1ff319){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x1acaf1=this['_texture']['width']/this['_texture']['height'];_0x1acaf1!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x1acaf1,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x2658+-0x24f3+0x12d3*0x4),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0xb62208){const _0x535f63=this['_system']['app']['assets'];let _0x2b587d=_0xb62208;if(_0xb62208 instanceof pe&&(_0x2b587d=_0xb62208['id']),this['_textureAs'+'set']!==_0x2b587d){if(this['_textureAs'+'set']){_0x535f63['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x14a551=_0x535f63['get'](this['_textureAs'+'set']);_0x14a551&&(_0x14a551['off']('load',this['_onTexture'+'Load'],this),_0x14a551['off']('change',this['_onTexture'+'Change'],this),_0x14a551['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x2b587d,this['_textureAs'+'set']){const _0x597cd4=_0x535f63['get'](this['_textureAs'+'set']);_0x597cd4?this['_bindTextu'+'reAsset'](_0x597cd4):(this['texture']=null,_0x535f63['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x1dc65e){const _0x344cbb=this['_system']['app']['assets'];let _0x497066=_0x1dc65e;if(_0x1dc65e instanceof pe&&(_0x497066=_0x1dc65e['id']),this['_spriteAss'+'et']!==_0x497066){if(this['_spriteAss'+'et']){_0x344cbb['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x46e28e=_0x344cbb['get'](this['_spriteAss'+'et']);_0x46e28e&&this['_unbindSpr'+'iteAsset'](_0x46e28e);}if(this['_spriteAss'+'et']=_0x497066,this['_spriteAss'+'et']){const _0x4191d3=_0x344cbb['get'](this['_spriteAss'+'et']);_0x4191d3?this['_bindSprit'+'eAsset'](_0x4191d3):(this['sprite']=null,_0x344cbb['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x497066);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x10a4de){if(this['_sprite']!==_0x10a4de){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x21c12c=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x21c12c&&_0x21c12c['resource']!==_0x10a4de&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x10a4de,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x4*-0x3a9+-0x2337+0x1493,this['_sprite']['frameKeys']['length']-(-0x1cd*0x1+0x1*-0x173c+0x2*0xc85))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x50b139){const _0x49221a=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x50b139,-0x1*-0x31d+0xba6+-0xec3*0x1,this['_sprite']['frameKeys']['length']-(0x60*0x2+0x75c*0x1+-0x81b*0x1)):this['_spriteFra'+'me']=_0x50b139,this['_spriteFra'+'me']!==_0x49221a&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x50b139);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x4dad21){this['_renderabl'+'e']['setMesh'](_0x4dad21),this['_defaultMe'+'sh']===_0x4dad21?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x23dea0){this['_mask']!==_0x23dea0&&(this['_mask']=_0x23dea0,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x43ddbf){this['_pixelsPer'+'Unit']!==_0x43ddbf&&(this['_pixelsPer'+'Unit']=_0x43ddbf,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x2a1a5c){super(),this['_app']=_0x2a1a5c,_0x2a1a5c['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1bef*-0x1+0x1*0x2285+-0x3e73),this['_disableLo'+'calization']=!(0x249f+-0x11d1+-0x12cd),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x5ba070){const _0x57f330=_0x5ba070 instanceof pe?_0x5ba070['id']:_0x5ba070;this['_defaultAs'+'set']!==_0x57f330&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x57f330,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x46b277){const _0x46cf4d=_0x46b277 instanceof pe?_0x46b277['id']:_0x46b277;this['_localized'+'Asset']!==_0x46cf4d&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x46cf4d,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x1f2888){this['_autoLoad']!==_0x1f2888&&(this['_autoLoad']=_0x1f2888,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x53d707){this['_disableLo'+'calization']!==_0x53d707&&(this['_disableLo'+'calization']=_0x53d707,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x3b06c7=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x3b06c7?this['_onDefault'+'AssetAdd'](_0x3b06c7):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x46ea13=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x46ea13&&(_0x46ea13['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x46ea13['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x46ea13['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x3ca10c){this['_defaultAs'+'set']===_0x3ca10c['id']&&(_0x3ca10c['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x3ca10c['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x3ca10c['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x5c505f){this['_defaultAs'+'set']===_0x5c505f['id']&&(_0x5c505f['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5c505f['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x5bcb9d=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x5bcb9d&&(_0x5bcb9d['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x5bcb9d['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x5bcb9d['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x5bcb9d['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x5bcb9d):this['_app']['assets']['load'](_0x5bcb9d));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x53856f=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x53856f&&(_0x53856f['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x53856f['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x53856f['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x577d4a){this['_localized'+'Asset']===_0x577d4a['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x1711a9){this['fire']('load',_0x1711a9);}['_onLocaliz'+'edAssetCha'+'nge'](_0xe99ee6,_0x590868,_0x3a9552,_0x1fabc5){this['fire']('change',_0xe99ee6,_0x590868,_0x3a9552,_0x1fabc5);}['_onLocaliz'+'edAssetRem'+'ove'](_0x457417){this['_localized'+'Asset']===_0x457417['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x457417);}['_onLocaleA'+'dd'](_0x3637ae,_0x333294){this['_app']['i18n']['locale']===_0x3637ae&&this['_onSetLoca'+'le'](_0x3637ae);}['_onLocaleR'+'emove'](_0x4aae16,_0x1abe80){this['_app']['i18n']['locale']===_0x4aae16&&this['_onSetLoca'+'le'](_0x4aae16);}['_onSetLoca'+'le'](_0x39b5c0){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x2ba260=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x2ba260||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x20dee6=_0x2ba260['getLocaliz'+'edAssetId'](_0x39b5c0);if(!_0x20dee6){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x20dee6;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0xfba+-0x1ab6+-0xe*-0x308,an=0x16e*0x5+-0x262e+0x1f09,Du=0x1*0x733+0x362*0x4+-0x425*0x5,Zv=0x24fb*-0x1+-0x17cf+0x3ccd,Iu=-0x1*0x641+-0x229d*-0x1+-0x1c58,Lu=-0x11d+-0x11d3+-0x1*-0x12f5,Ru=0x7f*0x27+0xd39*0x2+-0x1*0x2dc5,Ou=0x144e+-0x4b2*0x6+0x2b*0x2f,Xg=-0x6e*0x51+0x8f*0x43+-0x297,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x5e2e12){this['_symbols']=_0x5e2e12,this['_index']=-0x1d29+-0x25fb+-0x1*-0x4324,this['_last']=-0x10*0x1cf+0x137a+-0xe*-0xad,this['_cur']=this['_symbols']['length']>-0xa5+-0x20d8+-0x1*-0x217d?this['_symbols'][0x13*0x10+0x1017+0x1147*-0x1]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x493471=this['_read']();for(;_0x493471===Xg;)_0x493471=this['_read']();return _0x493471!==Mo&&_0x493471!==an&&(this['_last']=this['_index']),_0x493471;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x2d7897=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0xdc4fbf=this['read'](),_0x246f8e='';for(;_0x246f8e+=(_0x246f8e['length']>0x26ef*-0x1+-0x1986+-0x4075*-0x1?'\x0a':'')+_0x2d7897[_0xdc4fbf]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0xdc4fbf===Mo||_0xdc4fbf===an);)_0xdc4fbf=this['read']();return _0x246f8e;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x114f+-0x25e+-0xef1?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x20a7+-0x581+0x2628?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(0x1*0x1e3e+-0xb47+-0x12f6);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x123f80){return _0x123f80['length']===-0x5ad*-0x2+0x696+-0x1*0x11ef&&_0x123f80['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x513231){this['_buf']['push'](_0x513231);}}class mR{constructor(_0x5cb987){this['_scanner']=new pR(_0x5cb987),this['_error']=null;}['parse'](_0x8067fd,_0x55cf66){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x1fd4+0x23b8+-0x438c);case an:return!(0x3*-0x94b+-0x1*-0x25cf+0x21*-0x4d);case Du:Array['prototype']['push']['apply'](_0x8067fd,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x8067fd,_0x55cf66))return!(-0x2*-0x935+-0x683*-0x4+-0x2c75);break;default:return!(-0xa*-0x53+-0x1b2c+0x17ef);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x5c1561,_0x45a0fb){let _0x3c3706=this['_scanner']['read']();if(_0x3c3706!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x989*0x1+0xe78*-0x1+-0x1b7*-0xe);const _0x3f4efc=this['_scanner']['buf']()['join']('');if(_0x3f4efc[-0xd*0x15e+0x6*0x12d+0x2*0x55c]==='/'){for(let _0x5e23d0=_0x45a0fb['length']-(-0x28e+0xc*-0x16+0x397);_0x5e23d0>=0x74b+-0x2e3+0x178*-0x3;--_0x5e23d0)if(_0x3f4efc==='/'+_0x45a0fb[_0x5e23d0]['name']&&_0x45a0fb[_0x5e23d0]['end']===null)return _0x45a0fb[_0x5e23d0]['end']=_0x5c1561['length'],_0x3c3706=this['_scanner']['read'](),_0x3c3706!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0xc33+0x44e+-0x1080)):!(-0x1032+0x1443+-0x411);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x112a+-0x62c*0x3+0x23af);}const _0x513846={'name':_0x3f4efc,'value':null,'attributes':{},'start':_0x5c1561['length'],'end':null};if(_0x3c3706=this['_scanner']['read'](),_0x3c3706===Lu){if(_0x3c3706=this['_scanner']['read'](),_0x3c3706!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x146f+0x1662+-0x1f2);_0x513846['value']=this['_scanner']['buf']()['join'](''),_0x3c3706=this['_scanner']['read']();}for(;;){switch(_0x3c3706){case Iu:return _0x45a0fb['push'](_0x513846),!(-0x831*-0x1+-0x1689+0xe58);case Ou:{const _0x3d65ee=this['_scanner']['buf']()['join']('');if(_0x3c3706=this['_scanner']['read'](),_0x3c3706!==Lu)return this['_error']='expected\x20e'+'quals',!(-0xafb*-0x1+-0x1156+0x4*0x197);if(_0x3c3706=this['_scanner']['read'](),_0x3c3706!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x11c7+0x18*-0x13e+0x2f98);const _0x24b2b7=this['_scanner']['buf']()['join']('');_0x513846['attributes'][_0x3d65ee]=_0x24b2b7;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0xd8a+-0x6*-0x681+0xb*-0x251);}_0x3c3706=this['_scanner']['read']();}}}function Qv(_0xa4c097,_0x4aa876){for(const _0x4312c1 in _0x4aa876){if(!_0x4aa876['hasOwnProp'+'erty'](_0x4312c1))continue;const _0x49216a=_0x4aa876[_0x4312c1];_0x49216a instanceof Object?(_0xa4c097['hasOwnProp'+'erty'](_0x4312c1)||(_0xa4c097[_0x4312c1]={}),Qv(_0xa4c097[_0x4312c1],_0x4aa876[_0x4312c1])):_0xa4c097[_0x4312c1]=_0x49216a;}}function _R(_0x5091ce){if(_0x5091ce['length']===-0x270a+0x14a*0x7+0x1e04)return null;const _0x1adef5={};for(let _0x34e9aa=0xe9*-0x13+-0x1d5f+0x2eaa;_0x34e9aa<_0x5091ce['length'];++_0x34e9aa){const _0x285e3c=_0x5091ce[_0x34e9aa],_0x31ddfc={};_0x31ddfc[_0x285e3c['name']]={'value':_0x285e3c['value'],'attributes':_0x285e3c['attributes']},Qv(_0x1adef5,_0x31ddfc);}return _0x1adef5;}function gR(_0xe0c8cf,_0xea4d27){if(_0xe0c8cf['length']===0x1*0x1863+0x1562+0x2dc5*-0x1)return null;const _0x1eb42b={};for(let _0x2aa9c0=0x1*-0x1bb6+-0xca+0x1c80;_0x2aa9c0<_0xe0c8cf['length'];++_0x2aa9c0){const _0xef9f67=_0xe0c8cf[_0x2aa9c0];_0x1eb42b['hasOwnProp'+'erty'](_0xef9f67['start'])?_0x1eb42b[_0xef9f67['start']]['open']===null?_0x1eb42b[_0xef9f67['start']]['open']=[_0xef9f67]:_0x1eb42b[_0xef9f67['start']]['open']['push'](_0xef9f67):_0x1eb42b[_0xef9f67['start']]={'open':[_0xef9f67],'close':null},_0x1eb42b['hasOwnProp'+'erty'](_0xef9f67['end'])?_0x1eb42b[_0xef9f67['end']]['close']===null?_0x1eb42b[_0xef9f67['end']]['close']=[_0xef9f67]:_0x1eb42b[_0xef9f67['end']]['close']['push'](_0xef9f67):_0x1eb42b[_0xef9f67['end']]={'open':null,'close':[_0xef9f67]};}let _0x228431=[];function _0x58f7fc(_0x2748aa){_0x228431=_0x228431['filter'](_0x6a4150=>_0x2748aa['find'](_0x5448c4=>_0x5448c4===_0x6a4150)===void(0x17a7+0xb*0x47+-0x4*0x6ad));}function _0x1b6317(_0x448561){for(let _0x3ab037=0x2*-0x2c5+0x26aa+-0x2120;_0x3ab037<_0x448561['length'];++_0x3ab037)_0x228431['push'](_0x448561[_0x3ab037]);}const _0x2c5702=Object['keys'](_0x1eb42b)['sort']((_0x4b7b67,_0x1f9a01)=>_0x4b7b67-_0x1f9a01),_0x43a908=[];for(let _0x219182=0x20d9+-0x1645+0x1*-0xa94;_0x219182<_0x2c5702['length'];++_0x219182){const _0x15840d=_0x1eb42b[_0x2c5702[_0x219182]];_0x15840d['close']!==null&&_0x58f7fc(_0x15840d['close']),_0x15840d['open']!==null&&_0x1b6317(_0x15840d['open']),_0x43a908['push']({'start':_0x2c5702[_0x219182],'tags':_R(_0x228431)});}const _0x48083a=[];let _0x4ca56f=null;for(let _0x248cc8=0x24bd+-0xa4*0x20+-0x1*0x103d;_0x248cc8<_0x43a908['length'];++_0x248cc8){const _0x1caef5=_0x43a908[_0x248cc8];for(;_0x48083a['length']<_0x1caef5['start'];)_0x48083a['push'](_0x4ca56f?_0x4ca56f['tags']:null);_0x4ca56f=_0x1caef5;}for(;_0x48083a['length']<_0xea4d27;)_0x48083a['push'](null);return _0x48083a;}function SR(_0x834771){const _0x582c17=new mR(_0x834771),_0x5c57e9=[],_0x446608=[];if(!_0x582c17['parse'](_0x5c57e9,_0x446608))return console['warn'](_0x582c17['error']()),{'symbols':_0x834771,'tags':null};const _0x5932c3=_0x446608['find'](_0x5f4e78=>_0x5f4e78['end']===null);if(_0x5932c3)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x5932c3['name']+'\x27'),{'symbols':_0x834771,'tags':null};const _0xcfbd7e=gR(_0x446608,_0x5c57e9['length']);return{'symbols':_0x5c57e9,'tags':_0xcfbd7e};}class yR{static['evaluate'](_0x218c58){return SR(_0x218c58);}}class vR{constructor(){this['count']=-0x2350*0x1+0x155a+0xdf6,this['quad']=0x1377+0x8a0+0x31f*-0x9,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x357059,_0x193712){const _0x139c33=new Ge(_0x357059);return _0x139c33['setPositio'+'ns'](_0x193712['positions']),_0x139c33['setNormals'](_0x193712['normals']),_0x139c33['setColors3'+'2'](_0x193712['colors']),_0x139c33['setUvs'](-0x12ad+0x6a0*0x2+0x56d,_0x193712['uvs']),_0x139c33['setIndices'](_0x193712['indices']),_0x139c33['setVertexS'+'tream'](Ko,_0x193712['outlines'],-0x71*-0x7+-0x26*-0x58+-0x4*0x409,void(0xb48+-0x1826+0xcde),Ve,!(-0x2417*0x1+-0x11e9+0x3601)),_0x139c33['setVertexS'+'tream'](Zo,_0x193712['shadows'],0x1bbf+0xcbb*-0x1+-0xf01,void(-0x4af+0x1*-0x1f6d+0x1*0x241c),Ve,!(-0x19a2+0x1c6*-0x1+0x1b69*0x1)),_0x139c33['update'](),_0x139c33;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x743798){this['_element']=_0x743798,this['_system']=_0x743798['system'],this['_entity']=_0x743798['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x73+0x252a+-0x259d),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(-0x7*0x19a+0x111c+-0x5e5,-0x8e2+0x1d72+0x13*-0x115,-0x2*-0x3c4+-0x1600+0x1*0xe79,0x48c+-0x1*-0x1a8d+0x7c6*-0x4),this['_colorUnif'+'orm']=new Float32Array(0x16*-0x4c+0x48*-0xb+0x9a3),this['_spacing']=-0x2*-0xad0+-0x2*-0xa7c+-0x1*0x2a97,this['_fontSize']=-0x375+-0x22b7+-0x2b*-0xe4,this['_fontMinY']=0x8*-0x280+-0x1331*-0x1+-0x9*-0x17,this['_fontMaxY']=-0x62*0x37+-0x192e+-0x4*-0xb8f,this['_originalF'+'ontSize']=0x1911+-0x910+-0xfe1,this['_maxFontSi'+'ze']=0x2*0xad+0x1802+0x44*-0x5f,this['_minFontSi'+'ze']=0x2b*-0x3f+-0x215b*0x1+0xe*0x324,this['_autoFitWi'+'dth']=!(0xccb*0x3+0x1*0x223+-0x2883),this['_autoFitHe'+'ight']=!(0x24d1+0x20e8+-0x45b8),this['_maxLines']=-(0x213d+-0x1*-0xd72+-0x4ab*0xa),this['_lineHeigh'+'t']=0x2f*0x7+-0x2*0x80e+-0xef3*-0x1,this['_scaledLin'+'eHeight']=-0x80*-0x1+-0x2*-0x2c8+-0x5f0,this['_wrapLines']=!(0xdc3*-0x2+0x136c+0x19f*0x5),this['_drawOrder']=0xef5+-0xc73*-0x3+-0xa*0x53b,this['_alignment']=new J(-0xfea+-0xc80+-0xe35*-0x2+0.5,0x1be0+-0x1*0x1cc4+0x72*0x2+0.5),this['_autoWidth']=!(-0x1d*0x13f+0x189+-0x229a*-0x1),this['_autoHeigh'+'t']=!(0x64d*-0x2+0x113f*0x1+-0x4a5),this['width']=-0x1*-0x3d6+0xd4+-0x4aa,this['height']=0x1cb3+0x785+-0x2438,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1421*0x1+0x1*0x80f+-0x1c30),this['_aabb']=new De(),this['_noResize']=!(-0x253*-0x1+-0x6a*-0x10+-0x8f2),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x103a+-0x1f75+0xf3c),this['_unicodeCo'+'nverter']=!(-0x20e7*0x1+-0x1d3*0x7+0x2dad),this['_rtl']=!(0xf85*0x1+0x121c*0x1+0x868*-0x4),this['_outlineCo'+'lor']=new ie(-0x8ff+-0x3c6+0xcc5*0x1,0x242a+0x797*-0x1+-0x415*0x7,0x1abb+-0x4f1*-0x7+-0x3d52,0xe87*0x1+0x335*-0x7+-0x1*-0x7ed),this['_outlineCo'+'lorUniform']=new Float32Array(-0x8b*0xf+-0xf55+0x177e),this['_outlineTh'+'icknessSca'+'le']=-0x5*-0x97+0xd91+-0x1084+0.2,this['_outlineTh'+'ickness']=-0xc*0x6d+0x139e+0x2*-0x741,this['_shadowCol'+'or']=new ie(0x9d*-0x1+0x223c+-0x219f,0x11c4*-0x2+-0x5*-0xe5+-0x1*-0x1f0f,-0x26e3+0xd35*-0x1+0x3418,0xb1b+0x18af+-0x23c9),this['_shadowCol'+'orUniform']=new Float32Array(-0x1e6a+-0x18da+-0x1e8*-0x1d),this['_shadowOff'+'setScale']=0x1527+-0xd71+-0x6*0x149+0.005,this['_shadowOff'+'set']=new J(-0x2554*-0x1+0x1248+0x1*-0x379c,0x165a+0x1d7d*0x1+-0x33d7),this['_shadowOff'+'setUniform']=new Float32Array(0x21bd+0x2*0x163+-0x2481),this['_enableMar'+'kup']=!(-0xb*0x1be+0x1ff9+-0x2*0x667),this['_onScreenC'+'hange'](this['_element']['screen']),_0x743798['on']('resize',this['_onParentR'+'esize'],this),_0x743798['on']('set:screen',this['_onScreenC'+'hange'],this),_0x743798['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x743798['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x743798['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x5*-0x135+-0x1300+-0x1d*-0xdd,this['_rangeEnd']=0x1*0x3bc+0x15*-0x10e+0x126a;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x2acb71,_0x35cef7){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x1448da){_0x1448da?this['_updateMat'+'erial'](_0x1448da['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x24f6+-0x251+0x2748));}['_onScreenS'+'paceChange'](_0x5f1e48){this['_updateMat'+'erial'](_0x5f1e48);}['_onDrawOrd'+'erChange'](_0x12ca86){if(this['_drawOrder']=_0x12ca86,this['_model']){for(let _0x6fcfbb=0x1da7*0x1+0x49*0x6d+-0x3cbc,_0x3d4090=this['_model']['meshInstan'+'ces']['length'];_0x6fcfbb<_0x3d4090;_0x6fcfbb++)this['_model']['meshInstan'+'ces'][_0x6fcfbb]['drawOrder']=_0x12ca86;}}['_onPivotCh'+'ange'](_0x1fdd3d){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x308866){if(this['_i18nKey']){if(this['fontAsset']){const _0x52fd46=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x52fd46||!_0x52fd46['resource']||_0x52fd46['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5976fb,_0x24f455){this['_i18nKey']&&_0x24f455[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0xa2172c){if(this['unicodeCon'+'verter']){const _0x6faf6e=this['_system']['getUnicode'+'Converter']();_0x6faf6e?_0xa2172c=_0x6faf6e(_0xa2172c):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0xa2172c&&(this['_font']&&this['_updateTex'+'t'](_0xa2172c),this['_text']=_0xa2172c);}['_updateTex'+'t'](_0x457a52){let _0x28f6ac;if(_0x457a52===void(-0xfed+-0x1d*-0x114+-0xf57)&&(_0x457a52=this['_text']),this['_symbols']=Hc['getSymbols'](_0x457a52['normalize']?_0x457a52['normalize']('NFC'):_0x457a52),this['_symbols']['length']===0x66*0x47+-0x77c*-0x2+0x31*-0xe2&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x3d7a3e=yR['evaluate'](this['_symbols']);this['_symbols']=_0x3d7a3e['symbols'],_0x28f6ac=_0x3d7a3e['tags']||[];}if(this['_rtlReorde'+'r']){const _0xa36865=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0xa36865){const _0x523de1=_0xa36865(this['_symbols']);this['_rtl']=_0x523de1['rtl'],this['_symbols']=_0x523de1['mapping']['map'](function(_0x25310b){return this['_symbols'][_0x25310b];},this),_0x28f6ac&&(_0x28f6ac=_0x523de1['mapping']['map'](_0x22748b=>_0x28f6ac[_0x22748b]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x257a+0x1649+0xf32);const _0x48d6f7=(_0x11624b,_0x4c278d)=>_0x11624b['toString'](!(0xc73*-0x3+0x7cb+0x1d8e))['toLowerCas'+'e']()+':'+_0x4c278d['toFixed'](-0x6fd*0x2+0x512+0x8ea),_0x27afb8=(_0x2fd6de,_0x49e004)=>_0x2fd6de['toString'](!(0x1cef*0x1+0x18e5+0x424*-0xd))['toLowerCas'+'e']()+':'+_0x49e004['x']['toFixed'](0x34a+0x35*-0x62+0x26e*0x7)+':'+_0x49e004['y']['toFixed'](-0x1*0x1e7a+0x113c*0x1+0xd40);if(_0x28f6ac){const _0x10f997={},_0x3234f7={},_0x39a7f1={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x1129*-0x1+-0x250+-0xdda)),Math['round'](this['_color']['g']*(-0x13*-0x16f+-0x102+-0x193c)),Math['round'](this['_color']['b']*(-0x80f+0xc7*-0x20+0x21ee*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x2ba*0x7+0x229+0x240*-0x9)),Math['round'](this['_outlineCo'+'lor']['g']*(0x6*0x3f6+-0x1dde+0x719)),Math['round'](this['_outlineCo'+'lor']['b']*(0x258f+0x7*0x3b8+-0x3e98)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x54d*-0x5+-0x1aa+-0x2fb*0x8)),Math['round'](this['_outlineTh'+'ickness']*(-0x6*0x2e0+-0x1*-0x1159+0xe6))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x1*0x22df+0x1*-0x23ad+0x478b)),Math['round'](this['_shadowCol'+'or']['g']*(-0x25e+-0x1da4+0x2101)),Math['round'](this['_shadowCol'+'or']['b']*(-0x227a+0x1ded*-0x1+0x4166)),Math['round'](this['_shadowCol'+'or']['a']*(-0x25*-0xbf+0x1*0x2653+-0x40ef*0x1)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1823*-0x1+-0x15d2+-0x1d2*0x1)),Math['round'](this['_shadowOff'+'set']['y']*(0x25b8+0x1*0x1715+-0x3c4e))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x10f997[this['_color']['toString'](!(-0x2331+-0x1e7e+0x1*0x41b0))['toLowerCas'+'e']()]=0x22d*-0x6+0x1be+0xb50,_0x3234f7[_0x48d6f7(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x2014+0xed6+0x113e,_0x39a7f1[_0x27afb8(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x1df9+0x208c+0x293*-0x1;for(let _0x1e0713=-0x1d17*0x1+-0x6b4*-0x2+0xfaf,_0x1f5753=this['_symbols']['length'];_0x1e0713<_0x1f5753;++_0x1e0713){const _0x5db1d0=_0x28f6ac[_0x1e0713];let _0x37871c=-0x251c+-0xc3*0x19+0x3827;if(_0x5db1d0&&_0x5db1d0['color']&&_0x5db1d0['color']['value']){const _0x39c67e=_0x5db1d0['color']['value'];if(_0x39c67e['length']===0x7f8*0x1+-0x37e+0x11*-0x43&&_0x39c67e[0x218e+-0x1962*0x1+-0x82c]==='#'){const _0xa07a0f=_0x39c67e['substring'](0xab2+-0x12b8+0x807)['toLowerCas'+'e']();_0x10f997['hasOwnProp'+'erty'](_0xa07a0f)?_0x37871c=_0x10f997[_0xa07a0f]:/^[0-9a-f]{6}$/['test'](_0xa07a0f)&&(_0x37871c=this['_colorPale'+'tte']['length']/(-0x88d+0x1078+0x17*-0x58),_0x10f997[_0xa07a0f]=_0x37871c,this['_colorPale'+'tte']['push'](parseInt(_0xa07a0f['substring'](-0x2233+0x43d*0x8+0x4b,0x231e+-0x8*0x4c0+0x172*0x2),0x23aa+0x98b+-0x7*0x673)),this['_colorPale'+'tte']['push'](parseInt(_0xa07a0f['substring'](0x9d*0x36+0x1c90+-0x3dac,0x2008+-0xd27+-0xb*0x1b7),0x1cee+0x1*0x1475+-0x3153)),this['_colorPale'+'tte']['push'](parseInt(_0xa07a0f['substring'](0xaf+0x25*-0x27+0x9f*0x8,-0x80e+0x24b7+-0x1ca3),-0x1*0x2443+-0x1c1a*0x1+0x406d)));}}this['_symbolCol'+'ors']['push'](_0x37871c);let _0x2a655f=-0x1407+-0x858+0x1c5f;if(_0x5db1d0&&_0x5db1d0['outline']&&(_0x5db1d0['outline']['attributes']['color']||_0x5db1d0['outline']['attributes']['thickness'])){let _0x4c37a3=_0x5db1d0['outline']['attributes']['color']?Kg['fromString'](_0x5db1d0['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x25526f=Number(_0x5db1d0['outline']['attributes']['thickness']);(Number['isNaN'](_0x4c37a3['r'])||Number['isNaN'](_0x4c37a3['g'])||Number['isNaN'](_0x4c37a3['b'])||Number['isNaN'](_0x4c37a3['a']))&&(_0x4c37a3=this['_outlineCo'+'lor']),Number['isNaN'](_0x25526f)&&(_0x25526f=this['_outlineTh'+'ickness']);const _0x4daa4d=_0x48d6f7(_0x4c37a3,_0x25526f);_0x3234f7['hasOwnProp'+'erty'](_0x4daa4d)?_0x2a655f=_0x3234f7[_0x4daa4d]:(_0x2a655f=this['_outlinePa'+'lette']['length']/(-0xab8+-0x837+0x12f4),_0x3234f7[_0x4daa4d]=_0x2a655f,this['_outlinePa'+'lette']['push'](Math['round'](_0x4c37a3['r']*(-0x2*-0xe9+0x1*-0x120d+0x113a)),Math['round'](_0x4c37a3['g']*(-0x5c*0x33+0x1*-0x1963+-0x2cb6*-0x1)),Math['round'](_0x4c37a3['b']*(0x222a+0x2262+-0x438d)),Math['round'](_0x4c37a3['a']*(0x1d9f+0x491+0x2131*-0x1)),Math['round'](_0x25526f*(-0x1*-0x1ea4+-0x1bd*0x2+-0x1a2b))));}this['_symbolOut'+'lineParams']['push'](_0x2a655f);let _0x1a39c8=0x15*0x1c1+-0x6ff*0x4+-0x5*0x1c5;if(_0x5db1d0&&_0x5db1d0['shadow']&&(_0x5db1d0['shadow']['attributes']['color']||_0x5db1d0['shadow']['attributes']['offset']||_0x5db1d0['shadow']['attributes']['offsetX']||_0x5db1d0['shadow']['attributes']['offsetY'])){let _0x510774=_0x5db1d0['shadow']['attributes']['color']?Kg['fromString'](_0x5db1d0['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x8316b5=Number(_0x5db1d0['shadow']['attributes']['offset']),_0x800e5b=Number(_0x5db1d0['shadow']['attributes']['offsetX']),_0x44733b=Number(_0x5db1d0['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x510774['r'])||Number['isNaN'](_0x510774['g'])||Number['isNaN'](_0x510774['b'])||Number['isNaN'](_0x510774['a']))&&(_0x510774=this['_shadowCol'+'or']);const _0x1c43d2=CR['set'](Number['isNaN'](_0x800e5b)?Number['isNaN'](_0x8316b5)?this['_shadowOff'+'set']['x']:_0x8316b5:_0x800e5b,Number['isNaN'](_0x44733b)?Number['isNaN'](_0x8316b5)?this['_shadowOff'+'set']['y']:_0x8316b5:_0x44733b),_0x3c30ef=_0x27afb8(_0x510774,_0x1c43d2);_0x39a7f1['hasOwnProp'+'erty'](_0x3c30ef)?_0x1a39c8=_0x39a7f1[_0x3c30ef]:(_0x1a39c8=this['_shadowPal'+'ette']['length']/(-0x125f+0xa2f+0x836),_0x39a7f1[_0x3c30ef]=_0x1a39c8,this['_shadowPal'+'ette']['push'](Math['round'](_0x510774['r']*(-0x31*-0x37+-0x59*0x11+-0x39f)),Math['round'](_0x510774['g']*(0xe5c+-0xce9+0x1*-0x74)),Math['round'](_0x510774['b']*(0x557*-0x7+0x50*-0x77+0x4b90)),Math['round'](_0x510774['a']*(0x1875+-0x7*0x559+0xdf9*0x1)),Math['round'](_0x1c43d2['x']*(-0x1761+-0x1026+0x2806)),Math['round'](_0x1c43d2['y']*(0x308+0x1*0xfa1+0x1e*-0x9b))));}this['_symbolSha'+'dowParams']['push'](_0x1a39c8);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x18db7f=this['_calculate'+'CharsPerTe'+'xture']();let _0x218fb1=!(0x1*0x2149+-0x1*-0x1b81+0xf7*-0x3f);const _0x42e67d=this['_element'],_0x4056a3=_0x42e67d['_isScreenS'+'pace'](),_0x53713a=_0x42e67d['_isScreenC'+'ulled'](),_0x3526c8=function(_0x16901e){return _0x42e67d['isVisibleF'+'orCamera'](_0x16901e);};for(let _0x2b5afa=-0x8f*-0x13+-0x10f*0x5+-0x552,_0xb44a49=this['_meshInfo']['length'];_0x2b5afa<_0xb44a49;_0x2b5afa++){const _0x4b3052=_0x18db7f[_0x2b5afa]||-0x154d+0x1c1c+-0x6cf,_0x48ec48=this['_meshInfo'][_0x2b5afa];if(_0x48ec48['count']!==_0x4b3052){if(_0x218fb1||(_0x42e67d['removeMode'+'lFromLayer'+'s'](this['_model']),_0x218fb1=!(-0xa93*-0x2+-0x75f+-0xdc7)),_0x48ec48['count']=_0x4b3052,_0x48ec48['positions']['length']=_0x48ec48['normals']['length']=_0x4b3052*(0x12a9*-0x1+-0x1220+-0xc*-0x311)*(-0xba+0x2*0x5a8+-0xa92),_0x48ec48['indices']['length']=_0x4b3052*(-0x222*0x9+0x2330+-0xffb)*(0x2005+-0x4af*0x4+-0xd47),_0x48ec48['uvs']['length']=_0x4b3052*(-0x21e3+0x1410+0xdd5)*(0x127+-0x462+0x33f),_0x48ec48['colors']['length']=_0x4b3052*(-0x1437+0x1*0x24b+0x290*0x7)*(0x262b+-0x9*0x3a3+-0x2*0x2b6),_0x48ec48['outlines']['length']=_0x4b3052*(-0xa55+-0x1*0x1a7d+0x24d6)*(0x1ba+0x14b9*0x1+-0x167*0x10),_0x48ec48['shadows']['length']=_0x4b3052*(0x25c5+-0x1c18+-0x9a9)*(-0x1*0x106c+-0x1958+0xded*0x3),_0x48ec48['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x48ec48['meshInstan'+'ce']),_0x4b3052===-0x1*0x1516+-0x15*-0x7f+0xaab){_0x48ec48['meshInstan'+'ce']=null;continue;}for(let _0x3c35c0=0x22a7+0xcf2*-0x1+-0x1*0x15b5;_0x3c35c0<_0x4b3052;_0x3c35c0++)_0x48ec48['indices'][_0x3c35c0*(-0xfb*0x17+-0x71*-0x12+0xe9e)*(-0x1*0x15a9+-0xd*0x125+0x248c)+(0x1b00+-0xa0b*0x1+-0x5a7*0x3)]=_0x3c35c0*(-0x25ed+0xaf*-0x13+0x7b*0x6a),_0x48ec48['indices'][_0x3c35c0*(0xb*-0x76+-0xc*0xc6+-0x1*-0xe5d)*(0x3*0x211+-0x23a2+0x1d71)+(0x2245*-0x1+0xaee+0x1758)]=_0x3c35c0*(-0x5*0x6a+-0xc41*-0x1+-0xa2b)+(0x1060*0x2+-0x9aa+0x1715*-0x1),_0x48ec48['indices'][_0x3c35c0*(0xc2f*-0x2+0x250d+-0xcac)*(-0x3*-0x294+-0x1b63+0x2cf*0x7)+(0x108+0x9b6+-0x3*0x394)]=_0x3c35c0*(-0x942+-0x1c41*-0x1+-0x12fb)+(0x2249+0x7b*-0x26+0x1004*-0x1),_0x48ec48['indices'][_0x3c35c0*(-0x1*0x2410+0x4c*-0x22+0x2e2b)*(0x9*0x397+0x629+0x446*-0x9)+(0xaee*-0x1+-0x224+0xd15)]=_0x3c35c0*(0xe56+-0x17b6*0x1+-0x4*-0x259)+(0x24ae+0x5aa+-0x1*0x2a56),_0x48ec48['indices'][_0x3c35c0*(-0xb25+0x97*-0x26+0x2192)*(0x12*-0x1a5+-0x1aa3+0x383f)+(-0x488+0x79*-0x31+0x1bb5*0x1)]=_0x3c35c0*(-0x1abb+-0x2376+0x4c9*0xd)+(-0x1e41+0x2cb+0x1b79*0x1),_0x48ec48['indices'][_0x3c35c0*(0x369*0x1+-0x1*-0xf95+-0x12fb)*(-0x2048+0xe30*0x1+0x121a)+(-0x1*-0xb4f+0xa7f*0x3+-0x2ac7)]=_0x3c35c0*(-0x1e*-0xc+-0xa*-0x4b+-0x452)+(-0x1*-0x491+-0x2387+0x1ef7),_0x48ec48['normals'][_0x3c35c0*(-0x1*-0x1d49+-0x5*0x1c1+0x52*-0x40)*(-0x2*0x47+0x1*0x1bc4+-0x279*0xb)+(0x14*0xb1+-0x19c3+0xbef)]=0x1c79+0x20b2+-0x3d2b,_0x48ec48['normals'][_0x3c35c0*(0x1618*0x1+-0x1*0x11e7+-0x42d*0x1)*(0x1*-0x1321+0x1256+-0xce*-0x1)+(-0x2*0x231+-0x241c+0x287f)]=0x205b*-0x1+0x1c68+-0x3f3*-0x1,_0x48ec48['normals'][_0x3c35c0*(0xae2+0xcf*0x21+-0x1*0x258d)*(0x9a5*0x3+-0x5dd+-0x170f)+(-0x9fd*-0x1+-0x20df+-0x2*-0xb72)]=-(0x173b+-0x6d*-0x1+0x17a7*-0x1),_0x48ec48['normals'][_0x3c35c0*(0x208c+0x2f8+-0x2380*0x1)*(-0x4*0x527+-0x1*-0x8e1+-0x3*-0x3ea)+(0x1*0x1682+0x489+-0x2b4*0xa)]=-0x2c*0x79+-0xce5+0x21b1,_0x48ec48['normals'][_0x3c35c0*(0x1b1*-0x8+0x3a*-0xc+0x1044)*(0x1d2c+0x1*0x14cb+-0x31f4)+(-0x1b1d+0x1805+0x31c)]=-0x42*-0x10+-0x1874+0x1454,_0x48ec48['normals'][_0x3c35c0*(-0x14de+0x45c+-0x6*-0x2c1)*(-0x1e5a+0x36*0xd+-0x935*-0x3)+(0x10d1+-0xeac+0x2*-0x110)]=-(-0x163b+-0x79c+-0x3bb*-0x8),_0x48ec48['normals'][_0x3c35c0*(-0x209*-0xb+0x2171+0x4c*-0xbc)*(0x3*0x7c3+-0x1dc7+0x681*0x1)+(-0x1510+-0xf76+0x248c)]=-0x727+0xe22+0x1*-0x6fb,_0x48ec48['normals'][_0x3c35c0*(0x4*0x6ad+0x6d*-0x47+-0x38b*-0x1)*(0x14*0x16e+0x317*0x2+0x22c3*-0x1)+(-0x3*0x4ff+-0x2*-0x963+0x25*-0x1a)]=0x2a7*-0x3+-0x18d0+0x20c5,_0x48ec48['normals'][_0x3c35c0*(0x63d*-0x3+0x2496+-0x11db)*(-0x3d*0x3d+-0x1681+0x250d)+(0x22ec+-0x1451+-0xe93)]=-(0x7f*0x20+0x80d+0xbf6*-0x2),_0x48ec48['normals'][_0x3c35c0*(-0x1237+-0xd62+-0x1*-0x1f9d)*(0x3a*0x67+-0x989*-0x1+-0x20dc)+(-0xb*-0x5e+-0x1*0x11c4+0x1*0xdc3)]=0x20ef+0x22ca+-0x43b9,_0x48ec48['normals'][_0x3c35c0*(-0x36d+-0x17b*0x1a+0x29ef)*(-0xc46+-0x232b+-0x2f74*-0x1)+(0x5*0x28d+0x14ac+-0x21*0x103)]=-0xc*0x11c+0xeb1*0x1+-0x161*0x1,_0x48ec48['normals'][_0x3c35c0*(-0x230d+0xb05*-0x3+0x4420*0x1)*(0x2421+0x426*-0x8+-0x2*0x177)+(-0x10cc+-0xf1*-0x27+-0x13e0)]=-(-0xda3*0x2+0x1271+-0x8d6*-0x1);const _0x5f0185=xR(this['_system']['app']['graphicsDe'+'vice'],_0x48ec48),_0x3e0bf8=new He(_0x5f0185,this['_material'],this['_node']);if(_0x3e0bf8['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x3e0bf8['castShadow']=!(0xe2f+-0x215a+0x199*0xc),_0x3e0bf8['receiveSha'+'dow']=!(-0x1*0x1d99+-0x751*0x1+-0x2d7*-0xd),_0x3e0bf8['cull']=!_0x4056a3,_0x3e0bf8['screenSpac'+'e']=_0x4056a3,_0x3e0bf8['drawOrder']=this['_drawOrder'],_0x53713a&&(_0x3e0bf8['cull']=!(0x93f+0x1904+-0x2243),_0x3e0bf8['isVisibleF'+'unc']=_0x3526c8),this['_setTextur'+'eParams'](_0x3e0bf8,this['_font']['textures'][_0x2b5afa]),_0x3e0bf8['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x3e0bf8['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x3e0bf8['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x3e0bf8['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x3e0bf8['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2b5afa]['width']),_0x3e0bf8['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x3e0bf8['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x3e0bf8['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1ae8+0x1655*0x1+0x313d*-0x1]=0x960+-0xd8d+0x42d*0x1,this['_shadowOff'+'setUniform'][-0xa0*0x31+-0x16*0x1b7+0x445b]=-0x185f*-0x1+-0xfff+-0x8*0x10c;else{const _0x1ce39a=-this['_font']['data']['info']['maps'][_0x2b5afa]['width']/this['_font']['data']['info']['maps'][_0x2b5afa]['height'];this['_shadowOff'+'setUniform'][0x963*-0x2+0xade+0x7e8]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x133*-0x1d+-0x1c3d+0x3f05]=_0x1ce39a*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x3e0bf8['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x48ec48['meshInstan'+'ce']=_0x3e0bf8,this['_model']['meshInstan'+'ces']['push'](_0x3e0bf8);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x218fb1&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x20ec+0x5*-0x4af+0x3857*0x1,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x1150c8){_0x1150c8['destroy']();const _0x20815b=this['_model']['meshInstan'+'ces']['indexOf'](_0x1150c8);_0x20815b!==-(0x3*0x6a+-0x2168+0x202b)&&this['_model']['meshInstan'+'ces']['splice'](_0x20815b,-0x1e8+-0x2dd*-0x4+0x98b*-0x1);}['_setMateri'+'al'](_0x172ddf){if(this['_material']=_0x172ddf,this['_model'])for(let _0x133f80=-0x36*-0x1b+-0x1a50+-0x196*-0xd,_0x398094=this['_model']['meshInstan'+'ces']['length'];_0x133f80<_0x398094;_0x133f80++){const _0x340ae9=this['_model']['meshInstan'+'ces'][_0x133f80];_0x340ae9['material']=_0x172ddf;}}['_updateMat'+'erial'](_0x2718db){const _0x28e76c=this['_element'],_0x334954=_0x28e76c['_isScreenC'+'ulled'](),_0x4adf3d=function(_0x5cce67){return _0x28e76c['isVisibleF'+'orCamera'](_0x5cce67);},_0x3f8b40=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x2718db,_0x3f8b40,this['_enableMar'+'kup']),this['_model'])for(let _0x6fae23=-0x2c0+-0x11*-0xbf+-0x9ef,_0x508b5d=this['_model']['meshInstan'+'ces']['length'];_0x6fae23<_0x508b5d;_0x6fae23++){const _0x25b7c0=this['_model']['meshInstan'+'ces'][_0x6fae23];_0x25b7c0['cull']=!_0x2718db,_0x25b7c0['material']=this['_material'],_0x25b7c0['screenSpac'+'e']=_0x2718db,_0x334954?(_0x25b7c0['cull']=!(0x11d3+0x1*-0x42c+-0xda7),_0x25b7c0['isVisibleF'+'unc']=_0x4adf3d):_0x25b7c0['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x5f8*-0x1+0xdb6+-0x7be]=-0x285+-0xd*0x52+-0x10*-0x6b,this['_colorUnif'+'orm'][0x16d7+-0xa5*-0x5+-0x1a0f]=-0x1*-0x17bf+0x3*0x313+-0x1d*0x123,this['_colorUnif'+'orm'][0x32*-0xb2+0x8*-0x21a+0x3396]=0x2227*0x1+0xe70+-0x3096):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x1*-0xeb9+0xd1*0xc+-0x61*-0xd]=We['r'],this['_colorUnif'+'orm'][0x1aac+-0xd*-0x126+-0x2999]=We['g'],this['_colorUnif'+'orm'][-0x1713+0x1*-0x98c+0x20a1]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x20*0x58+0xb37+-0x37*0x1]=0x249+0x29*0xd3+-0x2414,this['_outlineCo'+'lorUniform'][-0x2*0x1034+0xa76+0x15f3]=-0xb87+0x1f52+-0x13cb,this['_outlineCo'+'lorUniform'][-0x68e*-0x1+0x340+0x6*-0x1a2]=0x1*-0x1b83+-0xc40*0x1+0x27c3,this['_outlineCo'+'lorUniform'][0x1a53+0x3c9+-0x1e19]=-0x1*-0x805+-0xaa*0x33+0x19da):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x6a*0x5b+-0x22f+-0x5*-0x7f9]=We['r'],this['_outlineCo'+'lorUniform'][-0xa02+0x3*-0x966+0x1*0x2635]=We['g'],this['_outlineCo'+'lorUniform'][0x16bb+-0x7d*0x3d+0x710]=We['b'],this['_outlineCo'+'lorUniform'][-0x1*0x17b5+0x20b+0x15ad]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x16ec+-0x5*-0x274+-0x1f*-0x58]=0x1daf+0x416+-0x21c5,this['_shadowCol'+'orUniform'][-0x16d8+0x5*-0x44+-0x80f*-0x3]=0xd7c*0x1+-0x1d62+-0x4a*-0x37,this['_shadowCol'+'orUniform'][0x1*-0x1016+0x21*-0xbf+0x5d1*0x7]=-0xb9c+0xb6e+0x2e*0x1,this['_shadowCol'+'orUniform'][0x779*0x1+-0x10ba+0x944]=0x1e9b+0x8ec*0x3+0x1*-0x395f):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x12bd+0x1289+0x34]=We['r'],this['_shadowCol'+'orUniform'][-0xd57+-0x6*-0x18d+0x2f*0x16]=We['g'],this['_shadowCol'+'orUniform'][0x2*-0xd06+-0x1fff+0x3a0d]=We['b'],this['_shadowCol'+'orUniform'][-0x22ee+-0x144c+0x373d]=We['a']);}['_isWordBou'+'ndary'](_0x3ea65f){return jg['test'](_0x3ea65f);}['_isValidNe'+'xtChar'](_0x5cca7b){return _0x5cca7b!==null&&!ER['test'](_0x5cca7b);}['_isNextCJK'+'Boundary'](_0x3355b7,_0x27cff5){return Yg['test'](_0x3355b7)&&(jg['test'](_0x27cff5)||wR['test'](_0x27cff5));}['_isNextCJK'+'WholeWord'](_0x3441ea){return Yg['test'](_0x3441ea);}['_updateMes'+'hes'](){const _0x54a3ba=this['_font']['data'],_0x2f8de9=this,_0x1e4a9a=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x5af0fd=this['_maxFontSi'+'ze'],_0x58867d=this['_shouldAut'+'oFit']();_0x58867d&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x2c4ebb=0x2ab*-0xe+0x1caf*0x1+0x8cb,_0x12b5e1=this['_symbols']['length'];let _0x6952a3=-0x1456+-0xc*0x33a+0x3b0e,_0x851f2a=-0x17d9+-0x189*0x18+-0x1*-0x3cb1,_0x3ffcc8=-0x1*-0x1529+0x1*-0x23c7+0x74f*0x2,_0x19bd94=-0x2f5*-0x5+0x1*-0xeeb+0x2*0x11,_0xe64faf=0x166a+0x11af+0x8*-0x503,_0x5e1d8d=-0x2032+-0xa1*-0x16+0x125c,_0x369e60=0xdf*0x1d+0xe64+0x1*-0x27a7,_0x3a4949=-0x8dc+-0x22bd*-0x1+0x7d*-0x35,_0x44bace=0x26eb+0x62f*-0x3+0x145e*-0x1,_0x8f41d5=0x26b4*0x1+-0x2*0x56e+-0x1bd8,_0x5743d5=0x1*-0x6bf+0x11d3+-0x1*0xb14;const _0x2eaa28=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x90d+0x116c+-0x85f+0.0001;let _0x3f8f97=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x2eaa28||!this['_wrapLines'])&&(_0x3f8f97=Number['POSITIVE_I'+'NFINITY']);let _0x12198a=-0xb48*-0x1+-0x1*0x20e5+0x159d,_0x58d742=0x19bc*0x1+-0x1*0x15a6+0x2*-0x20b,_0x179ed5,_0x6a6f4b,_0x5f1040,_0x5563c9;function _0x1aea0c(_0x24d38b,_0x272754,_0x379ff3){_0x2f8de9['_lineWidth'+'s']['push'](Math['abs'](_0x379ff3));const _0x42b5ce=_0x3a4949>_0x272754?_0x272754+(0x97*-0x32+-0xbb7*-0x2+-0x1*-0x611):_0x3a4949,_0x1835ae=_0x3a4949>_0x272754?_0x3a4949+(-0x1*0x156b+-0x6f5*0x1+0x1c61*0x1):_0x272754,_0x410941=_0x24d38b['slice'](_0x42b5ce,_0x1835ae);if(_0x5743d5){let _0xdedbe0=_0x410941['length'];for(;_0xdedbe0--&&_0x5743d5>-0x25*0x100+0xbf2+0x190e;)qg['test'](_0x410941[_0xdedbe0])&&(_0x410941['splice'](_0xdedbe0,0x223+-0x1*0x12b9+0x1097),_0x5743d5--);}_0x2f8de9['_lineConte'+'nts']['push'](_0x410941['join']('')),_0x6952a3=-0x2*-0xe1+0x2246+-0x2408*0x1,_0x851f2a-=_0x2f8de9['_scaledLin'+'eHeight'],_0xe64faf++,_0x44bace=-0x2237+0x4*-0x2ac+0xd1*0x37,_0x8f41d5=-0x2a4+0xa1e*-0x1+0x661*0x2,_0x5743d5=0x1b*0x108+0x47f*0x5+0x3df*-0xd,_0x5e1d8d=0x1a19+-0x1b0b+0x2*0x79,_0x3a4949=_0x272754;}let _0x4d7c0d=!(0x2*-0x251+0x1ea3+-0x1*0x1a01);for(;_0x4d7c0d;){_0x4d7c0d=!(-0x1528+0x1148+-0x14b*-0x3),_0x58867d?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0xe09+-0x9*-0x3fd+-0x31ee+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0xc15+0x4*-0x17f+-0x619,this['height']=0x117f+0xf99+-0x2118,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x6952a3=-0xee5+0x5*0x270+0x2b5,_0x851f2a=0x136*0x16+0x170b+-0xa1*0x4f,_0x3ffcc8=0x1*0x250f+0x2553+-0x4a62,_0x19bd94=-0xb63+-0x1009*0x1+-0x2be*-0xa,_0xe64faf=-0x1322+-0x6aa*0x2+0x2077,_0x5e1d8d=-0x8*0x4cd+0x74d+-0x1f1b*-0x1,_0x369e60=0x17*-0x1a+0x198b+-0x1735,_0x3a4949=-0xa15+0x1c42+0x205*-0x9,_0x44bace=0x1a03*-0x1+-0xcaa+-0x1*-0x26ad,_0x8f41d5=-0x1a56+-0xea1+0x28f7,_0x5743d5=-0x20c9+0xd81+0x1348;const _0x389d5c=this['_fontSize']/_0x2c4ebb;_0x12198a=this['_fontMinY']*_0x389d5c,_0x58d742=this['_fontMaxY']*_0x389d5c;for(let _0x5210d1=-0x1d*0xd+-0x98f+0xb08;_0x5210d1<this['_meshInfo']['length'];_0x5210d1++)this['_meshInfo'][_0x5210d1]['quad']=0x1*-0xd8d+-0x391+0x111e,this['_meshInfo'][_0x5210d1]['lines']={};let _0x50ae02=-0x19f*0x12+-0x8*-0x139+-0xe3*-0x17,_0x363fc1=-0x1813*-0x1+0x1b7e+-0x1949*0x2,_0x5c2647=0x53e+-0x1873+0x1434,_0x3208a7=-0x68a+-0x16bf+0xa18*0x3+(-0x1*0x21f5+-0x1*0x18eb+0x3bdf)*(-0x146c+-0x2cc+0x60e*0x4),_0x1b6a01=0x19e+0x2a9+-0x348+(0x255e*0x1+-0x1bbe+-0x8a1)*(-0x22c*-0x4+0xb*0x2f4+-0x282c),_0x151585=-0x21b9+-0x2594+0x474d*0x1,_0x230133=0x9fc+0x1b71+-0x246e+(-0x267f+0x2a*-0x21+-0x3be*-0xc)*(-0xda*-0xf+-0x2*-0x7d3+-0x1b6c),_0x160a18=0x1302+0x2218+0x341b*-0x1+(-0x1b31+0x1*0x118b+0xaa5)*(0xbfb*-0x1+-0x3b3*-0x3+0x1e2*0x1),_0x51fe41=0x2f2+0x63e*-0x3+0x1047+(-0x113c+-0x1a0*-0xf+-0x6a5)*(0x5db+-0x1c7b+0x17a0);for(let _0x3042b0=-0x2143+0x1*-0x21e7+-0x2195*-0x2;_0x3042b0<_0x12b5e1;_0x3042b0++){if(_0x179ed5=this['_symbols'][_0x3042b0],_0x5563c9=_0x3042b0+(0x1*-0x1934+0x1*0x7bb+-0x1*-0x117a)>=_0x12b5e1?null:this['_symbols'][_0x3042b0+(0x11f+-0xefc+-0xa*-0x163)],qg['test'](_0x179ed5)){_0x5743d5++,(!this['_wrapLines']||this['_maxLines']<-0x10b4+0x1f1d+-0xe69||_0xe64faf<this['_maxLines'])&&(_0x1aea0c(this['_symbols'],_0x3042b0,_0x19bd94),_0x369e60=_0x3042b0+(0x13fd+-0x2*0x611+0x14f*-0x6),_0x3a4949=_0x3042b0+(0x166e+0x1*-0x551+-0x111c));continue;}let _0x3e2dda=0x10d2+0x21f3+-0x32c5,_0x58b034=0x765*-0x1+0x115b+-0x9f6,_0x5d1bec=0x459+0x36*-0x4c+0xbaf,_0x462c25=-0x77d+-0xc3*0x1a+0xda6*0x2,_0x1c2c0a,_0x1808ea;if(_0x6a6f4b=_0x54a3ba['chars'][_0x179ed5],!_0x6a6f4b){if(bR['indexOf'](_0x179ed5)!==-(-0xe78+0x1*0x194f+-0xad6))_0x6a6f4b=AR;else{if(_0x54a3ba['chars']['\x20'])_0x6a6f4b=_0x54a3ba['chars']['\x20'];else for(const _0x48c735 in _0x54a3ba['chars']){_0x6a6f4b=_0x54a3ba['chars'][_0x48c735];break;}_0x54a3ba['missingCha'+'rs']||(_0x54a3ba['missingCha'+'rs']=new Set()),_0x54a3ba['missingCha'+'rs']['has'](_0x179ed5)||(console['warn']('Character\x20'+'\x27'+_0x179ed5+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x54a3ba['info']['face']),_0x54a3ba['missingCha'+'rs']['add'](_0x179ed5));}}if(_0x6a6f4b){let _0x48ed7d=-0x14a4+0x13b9+0xeb;if(_0x8f41d5>0x1c5f*-0x1+0x20d9+-0x47a){const _0x1d320c=this['_font']['data']['kerning'];if(_0x1d320c){const _0x56c39d=_0x1d320c[Hc['getCodePoi'+'nt'](this['_symbols'][_0x3042b0-(-0x1425+0x6a*0x3a+-0x3de)])||-0x386+0x269c+-0x2316];_0x56c39d&&(_0x48ed7d=_0x56c39d[Hc['getCodePoi'+'nt'](this['_symbols'][_0x3042b0])||-0x20b6+-0x149*0xd+-0x1*-0x316b]||-0x255b+0x1*0x8b9+0x5ba*0x5);}}_0x1c2c0a=_0x6a6f4b['scale']||0x2626+-0x565*-0x5+0x5*-0xd06,_0x1808ea=(_0x6a6f4b['width']+_0x6a6f4b['height'])/(0x2*-0xb29+0xbb2+-0xaa2*-0x1),_0x462c25=_0x389d5c*_0x1808ea/_0x1c2c0a,_0x5d1bec=(_0x6a6f4b['xadvance']+_0x48ed7d)*_0x389d5c,_0x3e2dda=(_0x6a6f4b['xoffset']-_0x48ed7d)*_0x389d5c,_0x58b034=_0x6a6f4b['yoffset']*_0x389d5c;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x179ed5+'\x27');const _0x36ffb2=TR['test'](_0x179ed5),_0x47792d=_0x6a6f4b&&_0x6a6f4b['map']||-0x4ec+0x1ef8+0xd06*-0x2,_0x52572f=-this['_font']['data']['info']['maps'][_0x47792d]['width']/this['_font']['data']['info']['maps'][_0x47792d]['height'],_0x469ca4=this['_meshInfo'][_0x47792d],_0x394104=_0x6952a3+this['_spacing']*_0x5d1bec;if(_0x394104>_0x3f8f97&&_0x8f41d5>-0x27*-0x1a+-0x646*-0x3+-0xa2*0x24&&!_0x36ffb2&&(this['_maxLines']<0x8bf*-0x2+0x33f*-0x9+0x2eb5||_0xe64faf<this['_maxLines'])){if(_0x44bace===-0x90+0x41*-0x43+0x1193)_0x369e60=_0x3042b0,_0x1aea0c(this['_symbols'],_0x3042b0,_0x19bd94);else{const _0x44e4b4=Math['max'](_0x3042b0-_0x369e60,0x15*0x2b+0x577+-0x8fe);if(this['_meshInfo']['length']<=-0x1d76*0x1+0xbf4*-0x2+0x355f)_0x469ca4['lines'][_0xe64faf-(-0x7b*-0x7+0x15a8+-0x1904)]-=_0x44e4b4,_0x469ca4['quad']-=_0x44e4b4;else{const _0x11ca6c=_0x369e60,_0x5414ef=_0x3042b0;for(let _0x4ceffc=_0x11ca6c;_0x4ceffc<_0x5414ef;_0x4ceffc++){const _0x3d93e3=this['_symbols'][_0x4ceffc],_0x1a859c=_0x54a3ba['chars'][_0x3d93e3],_0x36598c=this['_meshInfo'][_0x1a859c&&_0x1a859c['map']||0x2175+-0x574+-0x1c01];_0x36598c['lines'][_0xe64faf-(-0x8c8+-0xd1*-0x11+-0x518)]-=-0x1d2+-0x1a53+0x1c26,_0x36598c['quad']-=-0x1*0x1a52+-0x3a5+0x1df8;}}_0x3042b0-=_0x44e4b4+(0xe8c+0x2*0xcce+-0x21d*0x13),_0x1aea0c(this['_symbols'],_0x369e60,_0x5e1d8d);continue;}}_0x5f1040=_0x469ca4['quad'],_0x469ca4['lines'][_0xe64faf-(-0x25d9+0xfc+0x24de)]=_0x5f1040;let _0x40e28a=_0x6952a3-_0x3e2dda,_0x5f4375=_0x40e28a+_0x462c25;const _0x5de04b=_0x851f2a-_0x58b034,_0x36ef67=_0x5de04b+_0x462c25;if(this['_rtl']){const _0x1f5f86=_0x462c25-_0x3e2dda-this['_spacing']*_0x5d1bec-_0x3e2dda;_0x40e28a-=_0x1f5f86,_0x5f4375-=_0x1f5f86;}_0x469ca4['positions'][_0x5f1040*(-0xb2d*-0x1+0x235*0x3+0x11c8*-0x1)*(-0x25e1*-0x1+0x64+0xa6*-0x3b)+(-0x1*-0x144d+0x1687+0x2ad4*-0x1)]=_0x40e28a,_0x469ca4['positions'][_0x5f1040*(-0x1*0x2548+-0x2fd+-0x2849*-0x1)*(-0x7*-0x42d+-0x25bf+-0x3b*-0x25)+(-0x1c26+0xb*-0x1bf+0x2f5c)]=_0x5de04b,_0x469ca4['positions'][_0x5f1040*(0x1fce+-0xe40+-0x118a)*(0x3b8*0x4+-0x7f5+-0xdd*0x8)+(-0xd*0x44+0x3*0x595+-0x1*0xd49)]=_0x3ffcc8,_0x469ca4['positions'][_0x5f1040*(0x236*0x5+0x1699+-0x21a3)*(0x80*-0x9+-0x1dbd*-0x1+-0x193a)+(0x2*0x1208+0xe6e*0x1+-0x327b)]=_0x5f4375,_0x469ca4['positions'][_0x5f1040*(0x1917+0x9c5*-0x2+0x6d*-0xd)*(-0x4*-0x506+-0x202f+0xc1a)+(0xa*0x244+0xfa2+-0x2646)]=_0x5de04b,_0x469ca4['positions'][_0x5f1040*(0x20a4+0x2a*-0x1+-0xad2*0x3)*(-0x1b55*-0x1+-0x1*0x16c3+-0x48f)+(0x1197+-0x1bae+0xa1c)]=_0x3ffcc8,_0x469ca4['positions'][_0x5f1040*(0x7ac*0x1+0x1*-0x2009+-0x4f*-0x4f)*(-0x4*0x57+0x49*0x1b+-0x654)+(-0xe14+-0x1447*-0x1+-0x62d)]=_0x5f4375,_0x469ca4['positions'][_0x5f1040*(0x1*0x672+-0x1dd8+-0x9*-0x29a)*(0x103+-0x8d*-0x37+-0x1f4b)+(-0x893+-0xa2c+0x12c6)]=_0x36ef67,_0x469ca4['positions'][_0x5f1040*(-0x4*0x8aa+0x1*-0x205d+-0x1*-0x4309)*(0x169*-0x13+-0x23*0x57+0x26b3)+(0x13a5+0x2245+-0x35e2)]=_0x3ffcc8,_0x469ca4['positions'][_0x5f1040*(0xb0c+-0x1*0x53+-0xab5)*(-0x5*-0x611+-0xca2+-0x11b0)+(0x2*0x107+0x1fb3+0x1*-0x21b8)]=_0x40e28a,_0x469ca4['positions'][_0x5f1040*(-0x469*0x2+0xd2e+-0x458)*(0x19fd+-0x99c+0x1*-0x105e)+(-0x1*-0xe63+-0x1185+-0x3a*-0xe)]=_0x36ef67,_0x469ca4['positions'][_0x5f1040*(0x26d2+-0xdf8+-0x18d6)*(0x7b5*0x1+0x1*-0x107e+-0x4*-0x233)+(-0x10f0+0x1*-0x21c7+-0x1*-0x32c2)]=_0x3ffcc8,this['width']=Math['max'](this['width'],_0x394104);let _0x2b1765;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x2b1765=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x412*0x1+-0x4ca*0x1+-0x5c*-0x2+0.0001)),_0x2b1765=Y['clamp'](_0x2b1765,_0x1e4a9a,_0x5af0fd),_0x2b1765!==this['_element']['fontSize'])){this['_fontSize']=_0x2b1765,_0x4d7c0d=!(0x95f+0x1fee+-0x294d);break;}if(this['height']=Math['max'](this['height'],_0x58d742-(_0x851f2a+_0x12198a)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x2b1765=Y['clamp'](this['_fontSize']-(0x1*-0x2207+-0x239e+0x45a6),_0x1e4a9a,_0x5af0fd),_0x2b1765!==this['_element']['fontSize'])){this['_fontSize']=_0x2b1765,_0x4d7c0d=!(0x2594+0x1f92+-0x4526);break;}_0x6952a3+=this['_spacing']*_0x5d1bec,_0x36ffb2||(_0x19bd94=_0x6952a3),(this['_isWordBou'+'ndary'](_0x179ed5)||this['_isValidNe'+'xtChar'](_0x5563c9)&&(this['_isNextCJK'+'Boundary'](_0x179ed5,_0x5563c9)||this['_isNextCJK'+'WholeWord'](_0x5563c9)))&&(_0x44bace++,_0x5e1d8d=_0x19bd94,_0x369e60=_0x3042b0+(0x2671+-0x6d*-0xb+-0x2b1f)),_0x8f41d5++;const _0x5c5003=this['_getUv'](_0x179ed5);if(_0x469ca4['uvs'][_0x5f1040*(-0x5c0*0x1+-0x6e1+0xca5)*(0xc5b*0x1+0x29d+-0xef6)+(-0xf97+-0x3*0x827+0x280c)]=_0x5c5003[0xc16+0x1995+-0x25ab],_0x469ca4['uvs'][_0x5f1040*(0xa*0x23b+-0x1e88+0x5*0x1a6)*(0x27*0x9b+0x7b2+-0x1f4d)+(0x4ff*-0x1+-0x1*0xaf2+0xff2)]=-0x1376*-0x1+0x1a8b+-0x5c0*0x8-_0x5c5003[0x30c+0x97*-0x2d+0x1780],_0x469ca4['uvs'][_0x5f1040*(0xe1c+-0x1*0x16e1+0x1*0x8c9)*(0x27d*-0x5+-0x1ce4+-0x13*-0x22d)+(-0x6d0+0x9*0x11f+-0x345)]=_0x5c5003[-0x2be*0xe+0x810+0x1e56],_0x469ca4['uvs'][_0x5f1040*(0x45d+0x96b*0x3+0x209a*-0x1)*(-0x1dde+0x1c7f+-0x1*-0x161)+(-0x5a9+-0x2650+0x2bfc)]=0x3*-0x5a6+0x25*0x3f+0x7d8-_0x5c5003[-0x5e*-0x5e+0x1*0x1db3+-0x2*0x201b],_0x469ca4['uvs'][_0x5f1040*(-0x175*0x19+0x1d2e+-0x8f*-0xd)*(0x1151+-0x1*-0x1b41+0x1648*-0x2)+(0x4*-0x7e1+0x245e+-0x4d6)]=_0x5c5003[-0x7e8+-0x1*0x3b+0x825],_0x469ca4['uvs'][_0x5f1040*(0x16d*-0xb+0x1a3*-0x5+-0x7f6*-0x3)*(0xe68+0xc*0x144+-0x1d96)+(-0x8*0x217+-0x1cb0+0x191*0x1d)]=0x1c5c+0x72e*0x2+-0x2ab7-_0x5c5003[0x1*-0x12a3+-0x2c+0x12d2],_0x469ca4['uvs'][_0x5f1040*(-0x4a*-0x47+0x21c7+-0x3649)*(0x1d19+-0x1882*-0x1+-0x3599)+(-0x12e8+0x25*-0x44+0xe61*0x2)]=_0x5c5003[-0x16ad+0x255b+-0xeae],_0x469ca4['uvs'][_0x5f1040*(0x728+0x5b1*-0x6+0x1*0x1b02)*(-0x1*-0xd0f+-0x2a1*-0x1+-0x6*0x29d)+(0x17f5*0x1+-0x17*0x11+-0x1667)]=0x190b+0x1f8f+-0x3899*0x1-_0x5c5003[-0x1e35+-0x1da0+-0xbf8*-0x5],this['_symbolCol'+'ors']){const _0x171cee=this['_symbolCol'+'ors'][_0x3042b0]*(0x142*0x1+-0x4f*0x1c+0x765);_0x50ae02=this['_colorPale'+'tte'][_0x171cee],_0x363fc1=this['_colorPale'+'tte'][_0x171cee+(-0x1*-0x19a3+0x1141*-0x1+-0xd*0xa5)],_0x5c2647=this['_colorPale'+'tte'][_0x171cee+(-0x240a+-0x1c1a+0x4026)];}if(_0x469ca4['colors'][_0x5f1040*(-0x11b*-0x6+-0x17c7+-0x17*-0xbf)*(0x5*-0x6e5+0x85f+0x1a1e)+(-0x2*0x1085+0xe5*0x1f+0x1*0x54f)]=_0x50ae02,_0x469ca4['colors'][_0x5f1040*(-0xb60*-0x1+-0x185*0x18+-0x2*-0xc8e)*(0x7*-0x460+0x1f11+-0x6d)+(0x1e*0x29+-0x224+0x1*-0x2a9)]=_0x363fc1,_0x469ca4['colors'][_0x5f1040*(-0x7*0x3a3+0xb1e+0xe5b)*(0x817*0x2+0x12df*0x1+0x1*-0x2309)+(0x5a*-0x5+-0x1*-0xa4+0x12*0x10)]=_0x5c2647,_0x469ca4['colors'][_0x5f1040*(0x75d*-0x3+0x15a8+-0x73*-0x1)*(0x53*0xa+0x1b13*-0x1+0x17d9)+(-0x1c3+0x2*-0xcf1+0x1ba8)]=0xc3a*0x2+-0xb43+0x619*-0x2,_0x469ca4['colors'][_0x5f1040*(0x1690+0x11*-0x237+-0xf1b*-0x1)*(0x128b+0x31*-0x67+0x130)+(0x3*-0x414+-0x559*-0x4+-0x924)]=_0x50ae02,_0x469ca4['colors'][_0x5f1040*(0x245c+0x2*0x1271+0x67*-0xb6)*(0x101*0x19+-0xaf*-0x25+-0x3260)+(-0x1*0xd5b+-0x1*0x1a8a+0x27ea)]=_0x363fc1,_0x469ca4['colors'][_0x5f1040*(-0x1086+0x1*-0x2fc+0x15*0xee)*(0x948+-0x1*0xa4a+-0x2*-0x83)+(0x197f+-0x15*0xad+-0xb48*0x1)]=_0x5c2647,_0x469ca4['colors'][_0x5f1040*(0x75*0xc+-0x667*0x1+0xef*0x1)*(0x779+0x1c3a+0x519*-0x7)+(-0x6a0+-0x2431+0x2ad8)]=0x2086+-0x3*0xae7+0x12e,_0x469ca4['colors'][_0x5f1040*(-0x4e*0x25+0x1694+-0x1*0xb4a)*(0x7*0x37e+-0xe82+-0x9ec)+(-0x106e*0x2+0x713*-0x5+0x4443)]=_0x50ae02,_0x469ca4['colors'][_0x5f1040*(0x1c8c+-0x11*-0x134+0x415*-0xc)*(0x1033*0x1+-0x182a+0x7fb)+(-0x1*-0x2687+0x2035+-0x1791*0x3)]=_0x363fc1,_0x469ca4['colors'][_0x5f1040*(-0x237b+-0x1*-0x18ed+0xa92)*(-0x2627+-0x8*-0x268+0x1*0x12eb)+(-0xfa*0xa+-0xb*0x189+-0x1ab1*-0x1)]=_0x5c2647,_0x469ca4['colors'][_0x5f1040*(-0x1*-0x142b+-0x4*0x1df+-0xcab)*(-0x23a+-0x1a76+-0x1cb4*-0x1)+(-0x1dba+0xd02+0x1*0x10c3)]=-0x32*-0x5c+-0x62*-0x18+-0x25*0xb5,_0x469ca4['colors'][_0x5f1040*(-0x1*-0xcdf+0x1a45+0x8*-0x4e4)*(-0x2310+0x6*0x39+-0x269*-0xe)+(0x1*-0x96b+0xc36+0x25*-0x13)]=_0x50ae02,_0x469ca4['colors'][_0x5f1040*(-0x164c+0x1949+-0x2f9)*(0x2605+0xd16+-0x13f*0x29)+(0xf2f+0xf6c+-0x1*0x1e8e)]=_0x363fc1,_0x469ca4['colors'][_0x5f1040*(0x1a96+0x383+-0x1e15)*(0x319+0x1ea1*-0x1+-0x6e3*-0x4)+(-0x2*0xa31+0x1e54+-0xd3*0xc)]=_0x5c2647,_0x469ca4['colors'][_0x5f1040*(-0x1043+0x1baa*0x1+-0xb63)*(0x914+0x2126+-0x2a36)+(0x123f+0x1*0x268d+-0x38bd)]=0x107*-0x7+0x3*0x8d9+-0x125b,this['_symbolOut'+'lineParams']){const _0x388128=this['_symbolOut'+'lineParams'][_0x3042b0]*(-0x5*-0x32a+-0x864*-0x3+0x11*-0x269);_0x3208a7=this['_outlinePa'+'lette'][_0x388128]+this['_outlinePa'+'lette'][_0x388128+(-0x1*0xb32+-0x15*0x162+0x283d)]*(0xeb8+0xa9+-0xe61),_0x1b6a01=this['_outlinePa'+'lette'][_0x388128+(-0x52*0x33+0x1e13+-0xdbb)]+this['_outlinePa'+'lette'][_0x388128+(-0x1cc3+-0x143b+0x9cd*0x5)]*(-0x2234+0x1729+0xc0b*0x1),_0x151585=this['_outlinePa'+'lette'][_0x388128+(-0x2a6+0x479*0x4+-0xf3a*0x1)];}if(_0x469ca4['outlines'][_0x5f1040*(-0xd*-0x1b+-0x1*-0xc61+-0x3*0x494)*(-0xbb+0xd14+-0xc56)+(-0x1baa+-0x13c7+0x2f71)]=_0x3208a7,_0x469ca4['outlines'][_0x5f1040*(0x1189+0x5*-0x36d+-0x64)*(-0x1*-0x24cb+-0x1d*0xd1+-0xd1b)+(-0x701*-0x3+0x2128+-0x362a)]=_0x1b6a01,_0x469ca4['outlines'][_0x5f1040*(-0x1561+0x2278+-0xd13)*(0x3a+0x27+-0x5e)+(-0xfd6+0x1f55*-0x1+0x2f2d)]=_0x151585,_0x469ca4['outlines'][_0x5f1040*(-0x9ad+0x1979+-0x2*0x7e4)*(-0x195d+0x31e+0x9a*0x25)+(0xe*-0x75+0x8ad+-0x244)]=_0x3208a7,_0x469ca4['outlines'][_0x5f1040*(0x25bc+0xa42+-0xb2*0x45)*(0xe1f+-0x5*-0x477+-0x1*0x246f)+(0xd55+0x237*-0x9+0x69e)]=_0x1b6a01,_0x469ca4['outlines'][_0x5f1040*(-0x1*-0xc1a+-0xb*0x1d5+0x3b*0x23)*(0x1803*0x1+-0x1430+-0x3d0)+(-0x1*-0xe59+-0x1f93+-0x373*-0x5)]=_0x151585,_0x469ca4['outlines'][_0x5f1040*(0x24d9+0x167b+-0x8*0x76a)*(0x13e4+0x1834+-0xb9*0x3d)+(0x35*-0x80+0xc72+-0x11*-0xd4)]=_0x3208a7,_0x469ca4['outlines'][_0x5f1040*(0x206e+0x11e7*0x1+-0x3251)*(-0x221d+0x1*-0x1175+0x5f*0x8b)+(0x1521+-0x18d3+0x3b9*0x1)]=_0x1b6a01,_0x469ca4['outlines'][_0x5f1040*(0x2336+-0x368*0xb+-0x246*-0x1)*(0x7*-0x535+-0x17ab+-0x2dd*-0x15)+(-0x3*0xbcc+0x1a*0xd9+0xd62*0x1)]=_0x151585,_0x469ca4['outlines'][_0x5f1040*(-0xa*0x55+0xf9e*0x2+-0x1be6)*(-0x11cd+0xfa0+0x230)+(-0x12b0+-0x96*-0x3e+-0x119b)]=_0x3208a7,_0x469ca4['outlines'][_0x5f1040*(0x4be*-0x3+-0x9c7+0x1805)*(0x1d*-0xb5+-0x628+0x1aac)+(-0x589+-0x388+0x309*0x3)]=_0x1b6a01,_0x469ca4['outlines'][_0x5f1040*(-0x1ff1+0x128f+-0xe*-0xf5)*(-0x17*0x166+-0x8e1+-0x5*-0x836)+(0x2*-0x209+0xac4+-0xd*0x83)]=_0x151585,this['_symbolSha'+'dowParams']){const _0x5c501e=this['_symbolSha'+'dowParams'][_0x3042b0]*(-0x13be+0x2462+-0x109e);_0x230133=this['_shadowPal'+'ette'][_0x5c501e]+this['_shadowPal'+'ette'][_0x5c501e+(-0x3*0x18d+-0x772+0xc1a)]*(-0xe15+0x3a7+0xb6e),_0x160a18=this['_shadowPal'+'ette'][_0x5c501e+(0x155*-0x4+0x28a+-0xb3*-0x4)]+this['_shadowPal'+'ette'][_0x5c501e+(0x2486+-0x1*-0x21ad+-0x4630)]*(0xb*0x67+-0x3*0x19b+0x164),_0x51fe41=this['_shadowPal'+'ette'][_0x5c501e+(-0x2110+0xb5c+0x56e*0x4)]+(0xd*0x106+0x5*-0x18b+0x4*-0x146)+Math['round'](_0x52572f*this['_shadowPal'+'ette'][_0x5c501e+(0x6*-0x101+-0xc83+-0x128e*-0x1)]+(0x773*0x3+-0x5*0x55a+-0x2*-0x274))*(-0x17c7+-0xc91+0x2558);}_0x469ca4['shadows'][_0x5f1040*(0xe8a*0x1+-0x2138+0x1*0x12b2)*(0x41*-0x4a+0xb5*0x1+0x1218)+(-0x7f*-0xd+-0x1e84+0x1811)]=_0x230133,_0x469ca4['shadows'][_0x5f1040*(0x24a8+0x12c*-0x9+-0x1a18)*(0x102b+0x2590+-0x35b8)+(-0x304*0x2+0x1a54+-0x144b*0x1)]=_0x160a18,_0x469ca4['shadows'][_0x5f1040*(0xa22+-0x1727+0x2f*0x47)*(0x162c+0x8a2*-0x1+-0xd87)+(-0x3e4+0x5*0x31f+-0xbb5)]=_0x51fe41,_0x469ca4['shadows'][_0x5f1040*(0x1c2*0xf+0x1*-0x1b91+0x137)*(0x181+0x1*-0x3e5+-0x267*-0x1)+(0x10a0+-0x11*-0x20f+0x339c*-0x1)]=_0x230133,_0x469ca4['shadows'][_0x5f1040*(0x4a3+-0xe8f*-0x2+-0x3*0xb3f)*(0x1*-0x1849+0xce2+-0x1e7*-0x6)+(0x79e+-0x12f1*-0x2+0xb5f*-0x4)]=_0x160a18,_0x469ca4['shadows'][_0x5f1040*(-0x138+-0x9f7+0xb33)*(0x1*-0x1b02+-0x75*-0x4e+-0x8a1)+(-0x1eb7+0x1af*0x7+0x12f3)]=_0x51fe41,_0x469ca4['shadows'][_0x5f1040*(0x12+-0x835+0x1*0x827)*(-0x18*-0x144+-0x13f9+-0xa64)+(-0xfea+0x1892+0x11*-0x82)]=_0x230133,_0x469ca4['shadows'][_0x5f1040*(0x5*-0x13+-0x1353+-0x2*-0x9db)*(-0x1b0+0x2367+-0x21b4)+(0xd*0x42+-0x12db*0x1+0xf88)]=_0x160a18,_0x469ca4['shadows'][_0x5f1040*(0x1*0x2135+-0x409*0x7+-0xd3*0x6)*(-0x5*-0x757+0x11*0x134+-0x6*0x986)+(0x112*-0x14+-0x607+0x1b77)]=_0x51fe41,_0x469ca4['shadows'][_0x5f1040*(0xfdf+0x1d83*0x1+-0x1*0x2d5e)*(-0x9e+-0x1c02+0x1ca3)+(0x1569+-0xa35+-0xb2b*0x1)]=_0x230133,_0x469ca4['shadows'][_0x5f1040*(-0x141a+0x2496+-0x1f*0x88)*(-0x695*-0x4+-0x11f1+-0x43*0x20)+(0x7db+0x1622*0x1+-0x1df3)]=_0x160a18,_0x469ca4['shadows'][_0x5f1040*(0x4d*-0x29+0x2519+-0x18c0)*(-0x4da+-0x9*-0x1e3+0x40a*-0x3)+(0x846+-0x1572+-0xc7*-0x11)]=_0x51fe41,_0x469ca4['quad']++;}_0x4d7c0d||_0x3a4949<_0x12b5e1&&_0x1aea0c(this['_symbols'],_0x12b5e1,_0x6952a3);}this['_noResize']=!(-0xfa3+-0x2238+0x1*0x31db),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x430+-0x35*0x23+0x310);const _0x183feb=this['_element']['pivot']['x'],_0x322f26=this['_element']['pivot']['y'],_0x1286fc=this['_alignment']['x'],_0x3b4b27=this['_alignment']['y'];for(let _0x39566e=0x73*0x17+-0x19a+0x2e9*-0x3;_0x39566e<this['_meshInfo']['length'];_0x39566e++){if(this['_meshInfo'][_0x39566e]['count']===-0x1*0x321+0x2064+0x21*-0xe3)continue;let _0x4db077=0x14fa+0x10fc+0x2b*-0xe2;for(const _0xc6638a in this['_meshInfo'][_0x39566e]['lines']){const _0x51e68a=this['_meshInfo'][_0x39566e]['lines'][_0xc6638a],_0x5f1d40=this['_lineWidth'+'s'][parseInt(_0xc6638a,0x5*-0x285+0x11*0x1f3+-0x1480)],_0x51992a=-_0x183feb*this['_element']['calculated'+'Width']+_0x1286fc*(this['_element']['calculated'+'Width']-_0x5f1d40)*(this['_rtl']?-(-0x1*0x207b+-0xa27+-0xb9*-0x3b):0x3e*0x23+-0x1*-0x18+-0x81*0x11),_0x500cb7=(0x13ac+-0x1259+-0x152-_0x322f26)*this['_element']['calculated'+'Height']-_0x58d742-(0x1*-0x1bb+0x3*-0x93d+0x1d73-_0x3b4b27)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x2d9b03=_0x4db077;_0x2d9b03<=_0x51e68a;_0x2d9b03++)this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x11d1+0x13e5*0x1+-0x210)*(-0x1e4f*-0x1+-0x47a*-0x4+-0x3034)]+=_0x51992a,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x100+-0x1*0x2507+0x1*0x260b)*(-0x12f2+0x2*-0xb9+0x1467)+(0x43*0x83+0x3d*-0x63+0x1*-0xaaf)]+=_0x51992a,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x7cd+-0xf3e*0x2+-0x25*-0x109)*(0xcbb+0x5*0x77f+-0x3233*0x1)+(0x5*0x6cb+0x1*0x11ab+-0x2*0x19ce)]+=_0x51992a,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0xe85*0x1+-0x29*0xe+0x10c7)*(-0x26c4+-0x10bf+-0x17*-0x26a)+(0x271*-0x10+-0x232f+0x4a48)]+=_0x51992a,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x1d2f+-0x1532+0x3265)*(0x1fc*-0x7+0x19ed*0x1+0x9*-0x156)+(0x11f*-0x1f+-0x8f9+0x2bbb*0x1)]+=_0x500cb7,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x9d*0x25+0x1*-0x15d5+0x2c8a)*(0x137f+0xcd7*0x2+0x2d2a*-0x1)+(-0x15f5+-0x128a+-0x1*-0x2883)]+=_0x500cb7,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0x7e8*0x2+0x1dc3+-0xdef)*(0x35*-0x55+-0x1*-0x60a+-0x5c9*-0x2)+(0x1c02+-0x98b*-0x4+0x1*-0x4227)]+=_0x500cb7,this['_meshInfo'][_0x39566e]['positions'][_0x2d9b03*(-0xaf1+-0xa54+0x1549)*(-0x25a+-0x1*-0x1549+-0x7*0x2b4)+(-0x2492+0x1e58+0x644)]+=_0x500cb7;if(this['_rtl'])for(let _0x3a401b=_0x4db077;_0x3a401b<=_0x51e68a;_0x3a401b++){const _0x24f960=_0x3a401b*(0x16b9+-0x250f+0xe5a)*(0x39*-0x67+0x1*-0x323+0x1a15);for(let _0x4381a9=-0x158*0x17+0x6d*-0x34+0x350c;_0x4381a9<0x94f*-0x1+-0x72e*0x5+0x2d39;++_0x4381a9)this['_meshInfo'][_0x39566e]['positions'][_0x24f960+_0x4381a9*(0x2052+-0x1*-0x1241+-0x1948*0x2)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x39566e]['positions'][_0x24f960+_0x4381a9*(0x1c3a*0x1+0xe*0x20f+-0x3909)]+_0x51992a*(-0x946*0x2+0x4*-0x4d9+-0x653*-0x6);const _0x2d7fac=this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(0x1a*0x9a+-0x1b45+0xba4)],_0x282cfd=this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(-0x10d7+0x1ec6+0x4a3*-0x3)];this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(-0x1*-0x12a9+0xff3+0x2299*-0x1)]=this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(0x35*0x92+-0x1*0xd0d+-0x112d)],this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(0x1*0x176c+0x2*-0xff+-0x1568)]=this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(-0xcb*0xe+0x3*-0x615+0x1*0x1d62)],this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(0x155d+0x187*0x11+-0x2f54)]=_0x2d7fac,this['_meshInfo'][_0x39566e]['positions'][_0x24f960+(-0x4b*0x35+0x1a5*0x2+0xc46)]=_0x282cfd;}_0x4db077=_0x51e68a+(0x1*-0x884+-0x1f*-0x7c+-0x67f);}const _0x5cdc7c=this['_meshInfo'][_0x39566e]['count']*(0xc*-0x2ea+-0x31a*0x1+0x32*0xc3),_0x2c2455=this['_meshInfo'][_0x39566e]['quad']*(-0x3*-0x377+-0x1e2a+0x13c9),_0x9e3606=new Uo(this['_meshInfo'][_0x39566e]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xf9df58=-0x255*0xc+-0x2*0x8b3+0x2d62;_0xf9df58<_0x5cdc7c;_0xf9df58++)_0xf9df58>=_0x2c2455?(_0x9e3606['element'][Me]['set'](-0xfbe+-0x2658+0x3616,-0x1*0x1367+-0x12c3+0x262a,0x195b+0x1*-0x1499+-0x4c2),_0x9e3606['element'][is]['set'](0xecd+0x1*-0xd76+-0x157,-0x7f6*-0x4+0x1*0x1111+-0x30e9),_0x9e3606['element'][Wt]['set'](0x4*-0x1f7+-0x23ca+0x2*0x15d3,-0x26ec+-0x209+0x48d*0x9,-0x17bc+-0x258e*0x1+-0x416*-0xf,0x25*0x1d+0x825+-0xc56),_0x9e3606['element'][Ko]['set'](-0x16e8+0x2*-0x24e+-0x1b84*-0x1,-0xec*0x17+0x92d+0x1*0xc07,0xeee+-0x511*-0x2+0x1910*-0x1,0x1d5*0x1+0xad6+-0xcab),_0x9e3606['element'][Zo]['set'](-0x8b7+0x2508+0x1*-0x1c51,-0x1274+-0x2313+0x3587,0x341*0x7+0x30f*0x2+-0x1ce5,-0x5d8+0x837+-0x25f)):(_0x9e3606['element'][Me]['set'](this['_meshInfo'][_0x39566e]['positions'][_0xf9df58*(0x181d+0x10f*0x9+0x1*-0x21a1)+(0x1208+0x17c*-0x2+-0x10*0xf1)],this['_meshInfo'][_0x39566e]['positions'][_0xf9df58*(0xcc5+-0x3e3+0x8df*-0x1)+(-0xa2b*-0x1+0x11bc+-0x1be6)],this['_meshInfo'][_0x39566e]['positions'][_0xf9df58*(0x2092+-0x51*0x23+-0x157c)+(0x70*-0x4a+-0x1b99+0x3bfb)]),_0x9e3606['element'][is]['set'](this['_meshInfo'][_0x39566e]['uvs'][_0xf9df58*(0x1a7a+-0x1*-0x1a8+-0x1c20)+(0x184a+0x161+-0x19ab)],this['_meshInfo'][_0x39566e]['uvs'][_0xf9df58*(0x2c2*-0x1+0x1*-0x18b6+-0x1b7a*-0x1)+(0x114f+-0x5*0x2f5+-0xd7*0x3)]),_0x9e3606['element'][Wt]['set'](this['_meshInfo'][_0x39566e]['colors'][_0xf9df58*(-0x3f*0x1f+0x2*-0x652+-0x1449*-0x1)+(-0x11d*0x1c+-0x1b6a+0x3a96)],this['_meshInfo'][_0x39566e]['colors'][_0xf9df58*(-0x71*-0x40+0x15d*0x15+-0x38dd)+(-0x14a0+-0xe67*0x1+-0x98*-0x3b)],this['_meshInfo'][_0x39566e]['colors'][_0xf9df58*(0x1*-0x1a87+0x71+-0x101*-0x1a)+(0x136d*-0x1+-0x22d*0x11+0x386c)],this['_meshInfo'][_0x39566e]['colors'][_0xf9df58*(0x2*0x6fd+0x4b4+0x12aa*-0x1)+(-0xe75+0x4*-0x446+0x5*0x650)]),_0x9e3606['element'][Ko]['set'](this['_meshInfo'][_0x39566e]['outlines'][_0xf9df58*(-0x757+-0x1d50+0x24aa)+(0x3*0x9c4+-0x113*-0x21+0xdd*-0x4b)],this['_meshInfo'][_0x39566e]['outlines'][_0xf9df58*(0x1a18+0x1*0x3df+0x77d*-0x4)+(0x311+0x16ee+-0x19fe)],this['_meshInfo'][_0x39566e]['outlines'][_0xf9df58*(-0x1bc9+-0x584+0x2150)+(0x8b1+0x1d*-0x69+0x336)]),_0x9e3606['element'][Zo]['set'](this['_meshInfo'][_0x39566e]['shadows'][_0xf9df58*(-0x25ab*0x1+-0x31*-0x13+0x220b)+(-0x1f0e+-0x1602+0x3510)],this['_meshInfo'][_0x39566e]['shadows'][_0xf9df58*(-0x2c3*-0x1+-0x20bf+-0x449*-0x7)+(-0x16*-0x7d+-0x358*-0x2+-0x116d)],this['_meshInfo'][_0x39566e]['shadows'][_0xf9df58*(-0x257b+-0x70*-0x44+0x7be*0x1)+(0x1ac5+-0x119b+-0x928)])),_0x9e3606['next']();_0x9e3606['end'](),this['_meshInfo'][_0x39566e]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x39566e]['positions']),this['_meshInfo'][_0x39566e]['meshInstan'+'ce']['_aabbVer']=-(-0x3b3+-0x2*0x126b+0x288a);}this['_aabbDirty']=!(-0xc*-0x1eb+-0x145f+-0x2a5*0x1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x15058b){this['font']!==_0x15058b['resource']&&(this['font']=_0x15058b['resource']);}['_onFontCha'+'nge'](_0x8524f7,_0x1f2a14,_0x3d6636,_0x448dac){if(_0x1f2a14==='data'){this['_font']['data']=_0x3d6636;const _0x5d4e04=this['_font']['data']['info']['maps']['length'];for(let _0x5c8d4a=-0x167a+0x23c0+-0xd46*0x1;_0x5c8d4a<_0x5d4e04;_0x5c8d4a++){if(!this['_meshInfo'][_0x5c8d4a])continue;const _0x5ad8db=this['_meshInfo'][_0x5c8d4a]['meshInstan'+'ce'];_0x5ad8db&&(_0x5ad8db['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5ad8db['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5ad8db['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x5c8d4a]['width']));}}}['_onFontRem'+'ove'](_0x1a842c){}['_setTextur'+'eParams'](_0x26c991,_0x57723){this['_font']&&(this['_font']['type']===Rh?(_0x26c991['deletePara'+'meter']('texture_em'+'issiveMap'),_0x26c991['deletePara'+'meter']('texture_op'+'acityMap'),_0x26c991['setParamet'+'er']('texture_ms'+'dfMap',_0x57723)):this['_font']['type']===dR&&(_0x26c991['deletePara'+'meter']('texture_ms'+'dfMap'),_0x26c991['setParamet'+'er']('texture_em'+'issiveMap',_0x57723),_0x26c991['setParamet'+'er']('texture_op'+'acityMap',_0x57723)));}['_getPxRang'+'e'](_0x5c70e9){const _0x423e4d=Object['keys'](this['_font']['data']['chars']);for(let _0xbdde0d=0xb5*-0xf+-0x6b2*-0x1+0x4d*0xd;_0xbdde0d<_0x423e4d['length'];_0xbdde0d++){const _0x8b2d8a=this['_font']['data']['chars'][_0x423e4d[_0xbdde0d]];if(_0x8b2d8a['range'])return(_0x8b2d8a['scale']||-0x9b7+0x5*0x61f+0x14e3*-0x1)*_0x8b2d8a['range'];}return-0x1297+0x18*-0x71+0x1d31;}['_getUv'](_0x1b4fb3){const _0x5c49a5=this['_font']['data'];if(!_0x5c49a5['chars'][_0x1b4fb3])return _0x5c49a5['chars']['\x20']?this['_getUv']('\x20'):[-0x23a6+-0x1281+0x120d*0x3,-0x22a*0x8+0x8+0x1148,0x790+0x6b*-0x14+0xc*0x11,-0x1fc9+0xcca+0x12ff];const _0x502403=_0x5c49a5['chars'][_0x1b4fb3]['map'],_0x3b1bf1=_0x5c49a5['info']['maps'][_0x502403]['width'],_0x3fc477=_0x5c49a5['info']['maps'][_0x502403]['height'],_0x56be9d=_0x5c49a5['chars'][_0x1b4fb3]['x'],_0x2ebb03=_0x5c49a5['chars'][_0x1b4fb3]['y'],_0x37dd37=_0x56be9d,_0x345e97=_0x2ebb03,_0x166b93=_0x56be9d+_0x5c49a5['chars'][_0x1b4fb3]['width'],_0x9fe435=_0x2ebb03-_0x5c49a5['chars'][_0x1b4fb3]['height'],_0x41063b=-0xef1+-0x52e+0x2e*0x70-_0x5c49a5['chars'][_0x1b4fb3]['height']/_0x3fc477;return[_0x37dd37/_0x3b1bf1,_0x41063b-_0x345e97/_0x3fc477,_0x166b93/_0x3b1bf1,_0x41063b-_0x9fe435/_0x3fc477];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1807*0x1+-0x2692+0x3e99),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x2589+0x13d4+0x11b6),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x455d74){if(this['_model']){const _0x594311=this['_model']['meshInstan'+'ces'];for(let _0x54601a=0x2*-0x34f+-0x1d*-0x157+0x9*-0x395;_0x54601a<_0x594311['length'];_0x54601a++)_0x594311[_0x54601a]['stencilFro'+'nt']=_0x455d74,_0x594311[_0x54601a]['stencilBac'+'k']=_0x455d74;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x5c9030){const _0x28aa19={};_0x5c9030===void(-0x657+0x1c1e+-0x15c7)&&(_0x5c9030=this['_symbols']['length']);for(let _0x272210=-0xc6e+0x11ec+-0x57e,_0x23fa5a=_0x5c9030;_0x272210<_0x23fa5a;_0x272210++){const _0x22c6f2=this['_symbols'][_0x272210];let _0x3bbc88=this['_font']['data']['chars'][_0x22c6f2];_0x3bbc88||(_0x3bbc88=this['_font']['data']['chars']['\x20'],_0x3bbc88||(_0x3bbc88=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x34*-0x40+-0x1b8e+0x1*0x288e]]));const _0x428927=_0x3bbc88['map'];_0x28aa19[_0x428927]?_0x28aa19[_0x428927]++:_0x28aa19[_0x428927]=0xf*-0x1ac+-0x1bf5+0x350a;}return _0x28aa19;}['_updateRen'+'derRange'](){const _0x1fe219=this['_rangeStar'+'t']===-0x1bbe+0x2*0xcaa+0x26a?-0x303*0x1+-0x1046+0x1349:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x5ec2b0=this['_rangeEnd']===0x2308+0x197f+0x1*-0x3c87?-0x13f7+-0xbe2+-0x1*-0x1fd9:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x48951c=0x8b7*-0x4+-0x1*-0x2441+-0x165,_0x34db79=this['_meshInfo']['length'];_0x48951c<_0x34db79;_0x48951c++){const _0x1772b9=_0x1fe219[_0x48951c]||0xb5c+-0x2*-0xb26+0x10d4*-0x2,_0x19b218=_0x5ec2b0[_0x48951c]||0x6*0x199+0x8e8+-0x2*0x93f,_0x4666c2=this['_meshInfo'][_0x48951c]['meshInstan'+'ce'];if(_0x4666c2){const _0x33d176=_0x4666c2['mesh'];_0x33d176&&(_0x33d176['primitive'][-0x113*0x1+-0xdba+-0xecd*-0x1]['base']=_0x1772b9*(-0x463*0x4+0x1893+-0x1c1*0x4)*(-0x59*0x52+-0x12ec+-0x17*-0x210),_0x33d176['primitive'][-0x19fe+-0x2065*-0x1+-0x667]['count']=(_0x19b218-_0x1772b9)*(-0x4db+-0x25f6+0x2ad4)*(0x183e+0x27d*-0xb+0x323));}}}set['text'](_0x49330f){this['_i18nKey']=null;const _0x2ea21d=_0x49330f!=null&&_0x49330f['toString']()||'';this['_setText'](_0x2ea21d);}get['text'](){return this['_text'];}set['key'](_0x50136f){const _0x2a0501=_0x50136f!==null?_0x50136f['toString']():null;this['_i18nKey']!==_0x2a0501&&(this['_i18nKey']=_0x2a0501,_0x2a0501?(this['_fontAsset']['disableLoc'+'alization']=!(0x1*0x270e+0x16*-0xca+0x1*-0x15b1),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x7c6+-0x5e7*-0x2+-0x1394));}get['key'](){return this['_i18nKey'];}set['color'](_0x2c5447){const _0xb61490=_0x2c5447['r'],_0x46c488=_0x2c5447['g'],_0x241637=_0x2c5447['b'];if(this['_color']===_0x2c5447&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0xb61490&&this['_color']['g']===_0x46c488&&this['_color']['b']===_0x241637)&&(this['_color']['r']=_0xb61490,this['_color']['g']=_0x46c488,this['_color']['b']=_0x241637,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x1283+-0x24dc+0x1259]=We['r'],this['_colorUnif'+'orm'][-0xd9+0x419*-0x5+0x71d*0x3]=We['g'],this['_colorUnif'+'orm'][-0x1475+0x1*-0xd6e+0x21e5]=We['b'];for(let _0x2356fa=0x1275+-0xd04+0x7*-0xc7,_0x499714=this['_model']['meshInstan'+'ces']['length'];_0x2356fa<_0x499714;_0x2356fa++)this['_model']['meshInstan'+'ces'][_0x2356fa]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x51f249){if(this['_color']['a']!==_0x51f249&&(this['_color']['a']=_0x51f249,this['_model'])){for(let _0x4b6141=-0x97e+-0x26*0xe7+-0x2*-0x15e4,_0x3d88ea=this['_model']['meshInstan'+'ces']['length'];_0x4b6141<_0x3d88ea;_0x4b6141++)this['_model']['meshInstan'+'ces'][_0x4b6141]['setParamet'+'er']('material_o'+'pacity',_0x51f249);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x51f249);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x37bb20){const _0x3d4637=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x37bb20,this['_scaledLin'+'eHeight']=_0x37bb20,_0x3d4637!==_0x37bb20&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x5ba145){const _0x464f4a=this['_wrapLines'];this['_wrapLines']=_0x5ba145,_0x464f4a!==_0x5ba145&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x464e8f){const _0x3e3632=this['_spacing'];this['_spacing']=_0x464e8f,_0x3e3632!==_0x464e8f&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x6ab8cd){const _0x3bf581=this['_fontSize'];this['_fontSize']=_0x6ab8cd,this['_originalF'+'ontSize']=_0x6ab8cd,_0x3bf581!==_0x6ab8cd&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x2b553e){this['_fontAsset']['defaultAss'+'et']=_0x2b553e;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0xda2b6b){let _0x26cf8a;if(this['_font']&&(_0x26cf8a=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0xda2b6b,this['_fontMinY']=0x449+0x11*-0x199+0x16e0,this['_fontMaxY']=-0x41*0x11+0xb*0xa3+-0x2*0x158,!_0xda2b6b)return;const _0x55690c=this['_font']['data'];for(const _0x26db34 in _0x55690c['chars']){const _0x250466=_0x55690c['chars'][_0x26db34];_0x250466['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x250466['bounds'][-0x9d6*0x2+0x1*-0x1ed+0x159a]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x250466['bounds'][0x49*0x13+-0x4*-0x26e+0x2c*-0x58]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0xda2b6b['type']!==_0x26cf8a){const _0x1fe4d2=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x1fe4d2);}for(let _0x423b57=-0x20f7+-0x1989+0x3a80,_0x16c77b=this['_font']['textures']['length'];_0x423b57<_0x16c77b;_0x423b57++)if(!this['_meshInfo'][_0x423b57])this['_meshInfo'][_0x423b57]=new vR();else{const _0x6983c9=this['_meshInfo'][_0x423b57]['meshInstan'+'ce'];_0x6983c9&&(_0x6983c9['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x6983c9['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x6983c9['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x423b57]['width']),this['_setTextur'+'eParams'](_0x6983c9,this['_font']['textures'][_0x423b57]));}let _0x5eb332=!(0x25ff+-0xdb2+-0x184c);for(let _0xd1ae51=this['_font']['textures']['length'];_0xd1ae51<this['_meshInfo']['length'];_0xd1ae51++)this['_meshInfo'][_0xd1ae51]['meshInstan'+'ce']&&(_0x5eb332||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x5eb332=!(0x1582+-0x18af+-0x3*-0x10f)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0xd1ae51]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x527662){_0x527662 instanceof J?this['_alignment']['set'](_0x527662['x'],_0x527662['y']):this['_alignment']['set'](_0x527662[-0x3*0x3cb+0xc4*0x30+-0x195f],_0x527662[-0x6ad+-0x22e9+0x333*0xd]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x4ca0ae){const _0x27632d=this['_autoWidth'];if(this['_autoWidth']=_0x4ca0ae,_0x4ca0ae&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x3*-0x141+0x8*0x61+-0x6cb+0.0001&&(this['_element']['width']=this['width']),_0x27632d!==_0x4ca0ae){const _0x4eafe1=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x4eafe1!==this['_fontSize']&&(this['_fontSize']=_0x4eafe1,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x392657){const _0x599fe9=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x392657,_0x392657&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x16b6+-0xc3a+-0xa7c+0.0001&&(this['_element']['height']=this['height']),_0x599fe9!==_0x392657){const _0x3091ee=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3091ee!==this['_fontSize']&&(this['_fontSize']=_0x3091ee,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0xd61cc2){this['_rtlReorde'+'r']!==_0xd61cc2&&(this['_rtlReorde'+'r']=_0xd61cc2,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x54fdf3){this['_unicodeCo'+'nverter']!==_0x54fdf3&&(this['_unicodeCo'+'nverter']=_0x54fdf3,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x5cf611=!(-0x1aba+0x2289+-0x7ce);for(let _0x1183b1=0xb50+0x4*-0x6dd+0x1024;_0x1183b1<this['_meshInfo']['length'];_0x1183b1++)this['_meshInfo'][_0x1183b1]['meshInstan'+'ce']&&(_0x5cf611?this['_aabb']['add'](this['_meshInfo'][_0x1183b1]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x1183b1]['meshInstan'+'ce']['aabb']),_0x5cf611=!(-0x175*0x3+-0xc4*0x5+0x833)));this['_aabbDirty']=!(0x1*-0x114d+-0x65b*-0x3+-0x1c3);}return this['_aabb'];}set['outlineCol'+'or'](_0x5c98ac){const _0x172edd=_0x5c98ac instanceof ie?_0x5c98ac['r']:_0x5c98ac[-0x25be*-0x1+0x126+-0x26e4],_0x3cf991=_0x5c98ac instanceof ie?_0x5c98ac['g']:_0x5c98ac[0x9c8+0x118c+0x1b53*-0x1],_0x10f4a6=_0x5c98ac instanceof ie?_0x5c98ac['b']:_0x5c98ac[0x1c38+-0x19d9*0x1+-0x25d],_0x126a48=_0x5c98ac instanceof ie?_0x5c98ac['a']:_0x5c98ac[0x3*-0x159+0x2*0xe15+-0x181c];if(this['_outlineCo'+'lor']===_0x5c98ac&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x172edd&&this['_outlineCo'+'lor']['g']===_0x3cf991&&this['_outlineCo'+'lor']['b']===_0x10f4a6&&this['_outlineCo'+'lor']['a']===_0x126a48)&&(this['_outlineCo'+'lor']['r']=_0x172edd,this['_outlineCo'+'lor']['g']=_0x3cf991,this['_outlineCo'+'lor']['b']=_0x10f4a6,this['_outlineCo'+'lor']['a']=_0x126a48,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x8f9+0x3*0x15f+-0xd16]=We['r'],this['_outlineCo'+'lorUniform'][0x10*0x247+-0x215b+0xc5*-0x4]=We['g'],this['_outlineCo'+'lorUniform'][-0x1*-0x65f+0xaf1*-0x3+0x3*0x8d2]=We['b'],this['_outlineCo'+'lorUniform'][0x194b+-0x10a5*-0x1+-0x29ed]=We['a'];for(let _0x450192=0xa3*0x2+-0x56*-0x10+-0x2*0x353,_0x421d66=this['_model']['meshInstan'+'ces']['length'];_0x450192<_0x421d66;_0x450192++)this['_model']['meshInstan'+'ces'][_0x450192]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x386ddf){const _0x451c02=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x386ddf,_0x451c02!==_0x386ddf&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x466d36=0x1976+-0x7*-0x3a6+0x22*-0x180,_0x469a75=this['_model']['meshInstan'+'ces']['length'];_0x466d36<_0x469a75;_0x466d36++)this['_model']['meshInstan'+'ces'][_0x466d36]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x3686a9){const _0x4201bc=_0x3686a9 instanceof ie?_0x3686a9['r']:_0x3686a9[-0x155f*0x1+-0x2*-0x88a+0x44b],_0x212382=_0x3686a9 instanceof ie?_0x3686a9['g']:_0x3686a9[-0x1a08+-0x1*0x1507+-0x18*-0x1f6],_0x78f344=_0x3686a9 instanceof ie?_0x3686a9['b']:_0x3686a9[0xd1e+-0x1c10+0xef4],_0xa6d259=_0x3686a9 instanceof ie?_0x3686a9['a']:_0x3686a9[0x6b*-0x2e+0x1*-0xc7e+-0x1*-0x1fbb];if(this['_shadowCol'+'or']===_0x3686a9&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x4201bc&&this['_shadowCol'+'or']['g']===_0x212382&&this['_shadowCol'+'or']['b']===_0x78f344&&this['_shadowCol'+'or']['a']===_0xa6d259)&&(this['_shadowCol'+'or']['r']=_0x4201bc,this['_shadowCol'+'or']['g']=_0x212382,this['_shadowCol'+'or']['b']=_0x78f344,this['_shadowCol'+'or']['a']=_0xa6d259,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1*0x238d+-0x883*0x3+0x3d16]=We['r'],this['_shadowCol'+'orUniform'][-0x2*0x4ca+0x550+-0x1*-0x445]=We['g'],this['_shadowCol'+'orUniform'][0xc97+-0x1d17*-0x1+-0x29ac]=We['b'],this['_shadowCol'+'orUniform'][-0x76b+-0x107b*-0x2+-0x1988*0x1]=We['a'];for(let _0x373482=-0x1db2*-0x1+0x1*0x553+-0x2305,_0x23416e=this['_model']['meshInstan'+'ces']['length'];_0x373482<_0x23416e;_0x373482++)this['_model']['meshInstan'+'ces'][_0x373482]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x420e49){const _0x5c7181=_0x420e49 instanceof J?_0x420e49['x']:_0x420e49[0x2533*0x1+-0x17b9+-0x2*0x6bd],_0x438da3=_0x420e49 instanceof J?_0x420e49['y']:_0x420e49[0x17ee+0x2211+-0xd*0x476];if(!(this['_shadowOff'+'set']['x']===_0x5c7181&&this['_shadowOff'+'set']['y']===_0x438da3)&&(this['_shadowOff'+'set']['set'](_0x5c7181,_0x438da3),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x5bc3cc=-0xa37+-0xa8e+-0x14c5*-0x1,_0x4229a6=this['_model']['meshInstan'+'ces']['length'];_0x5bc3cc<_0x4229a6;_0x5bc3cc++){const _0x13ab7f=-this['_font']['data']['info']['maps'][_0x5bc3cc]['width']/this['_font']['data']['info']['maps'][_0x5bc3cc]['height'];this['_shadowOff'+'setUniform'][0x66*-0x8+-0x191*0xb+0x146b]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2156+-0xe*0x10d+-0x129f]=_0x13ab7f*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x5bc3cc]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x402cb6){this['_minFontSi'+'ze']!==_0x402cb6&&(this['_minFontSi'+'ze']=_0x402cb6,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x4282e6){this['_maxFontSi'+'ze']!==_0x4282e6&&(this['_maxFontSi'+'ze']=_0x4282e6,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x4139dd){this['_autoFitWi'+'dth']!==_0x4139dd&&(this['_autoFitWi'+'dth']=_0x4139dd,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x386970){this['_autoFitHe'+'ight']!==_0x386970&&(this['_autoFitHe'+'ight']=_0x386970,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x108282){this['_maxLines']!==_0x108282&&(_0x108282===null&&this['_maxLines']===-(0x6*-0x293+0x1925+-0x4d9*0x2)||(this['_maxLines']=_0x108282===null?-(0x3*0xc1b+-0x3*-0x3af+-0x2f5d):_0x108282,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x5a9e41){if(_0x5a9e41=!!_0x5a9e41,this['_enableMar'+'kup']===_0x5a9e41)return;this['_enableMar'+'kup']=_0x5a9e41,this['font']&&this['_updateTex'+'t']();const _0xa45e12=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xa45e12);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x3fbaf8){return this['_colorPale'+'tte']['slice'](_0x3fbaf8*(0x28e+-0x1a9a+0x805*0x3),_0x3fbaf8*(-0x8a3*0x2+0x1*-0x16b2+0x27fb)+(-0x17b*-0x17+0x1fcf+-0x41d9));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x3b77e3){return this['_outlinePa'+'lette']['slice'](_0x3b77e3*(-0x4b3+-0x3*-0x701+-0x104b*0x1),_0x3b77e3*(0x6b6*0x1+0x1103+-0x17b4)+(0xebf+-0x1*0xace+-0x3ec));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x159901){return this['_shadowPal'+'ette']['slice'](_0x159901*(-0x4*-0x778+0x9*-0x1f+-0x1cc3),_0x159901*(0x3*0xc21+0x1b7*-0x13+-0x3c8)+(0x4f*-0x59+-0x17*0x167+0x3bbe));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0xd7d025){_0xd7d025=Math['max'](-0x1*0x4e5+-0x32b*0xa+0x2493,Math['min'](_0xd7d025,this['_symbols']['length'])),_0xd7d025!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0xd7d025,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x1c97b1){_0x1c97b1=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x1c97b1,this['_symbols']['length'])),_0x1c97b1!==this['_rangeEnd']&&(this['_rangeEnd']=_0x1c97b1,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x380f4f,_0x18035e){super(_0x380f4f,_0x18035e),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x1803*-0x1+-0x20da+0x38de),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x116*0x21+-0x240d+0x4803,this['_height']=this['_calculate'+'dHeight']=0x15c4+-0x166f+-0x7*-0x1d,this['_margin']=new re(-0xb*0x137+0x2a*0xa1+-0xd0d,0x1966+-0x1905*-0x1+-0x326b,-(0x12a7+0x232d+-0x35b4),-(0x1df8+0x3*-0x913+0x1*-0x29f)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x49*-0x5d+-0xcc+0x3f*0x6f),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x248c+0x1577+0x3a03*-0x1),this['_canvasCor'+'nersDirty']=!(-0x2*-0x74a+-0x33*-0x38+-0x6c*0x3d),this['_worldCorn'+'ersDirty']=!(0xa65+-0xeb7*0x1+0x452),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0xd13+0x1*-0xc41+-0x2*-0xcaa,this['_fitMode']=th,this['_useInput']=!(-0x8*0x37f+-0x165c+0x3*0x10c7),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x1222+-0x1341+0x120),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x251f+0x1*-0x353+-0x21cc,this['_maskOffse'+'t']=-0x13d*0x7+0x193c+-0x1091+0.5,this['_maskedBy']=null);}get['data'](){const _0x3af225=this['system']['store'][this['entity']['getGuid']()];return _0x3af225?_0x3af225['data']:null;}set['enabled'](_0x199aa4){const _0x266087=this['data'],_0xec8f30=_0x266087['enabled'];_0x266087['enabled']=_0x199aa4,this['fire']('set','enabled',_0xec8f30,_0x199aa4);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x1f3*-0x13+-0x4dc*-0x4+0x1199+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x1*0xa8b+-0xb4f+0x15da+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x1b6f52){_0x1b6f52 instanceof re?this['_anchor']['copy'](_0x1b6f52):this['_anchor']['set'](..._0x1b6f52),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x1f64+-0xf82+0xd6*-0x13),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x47508e){var _0x4a333a,_0x4cb7b5;this['_batchGrou'+'pId']!==_0x47508e&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1627+0xa7b+-0x4*-0x2eb&&((_0x4a333a=this['system']['app']['batcher'])==null||_0x4a333a['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x47508e>=0x1*-0x892+0x93*-0x21+0x1b85&&((_0x4cb7b5=this['system']['app']['batcher'])==null||_0x4cb7b5['insert'](St['ELEMENT'],_0x47508e,this['entity'])),_0x47508e<0x1f52+-0xe84+-0x10ce&&this['_batchGrou'+'pId']>=-0x16a9+0x2ef+0x13ba&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x47508e);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x211220){this['_margin']['y']=_0x211220;const _0x41d47d=this['entity']['getLocalPo'+'sition'](),_0x14b2ce=this['_absTop'],_0x254879=this['_localAnch'+'or']['y']+_0x211220;this['_setHeight'](_0x14b2ce-_0x254879),_0x41d47d['y']=_0x211220+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x41d47d);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x2f46c8){this['_setCalcul'+'atedWidth'](_0x2f46c8,!(0xb*0xb+-0x38e*-0x1+0x407*-0x1));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x19f0c4){this['_setCalcul'+'atedHeight'](_0x19f0c4,!(-0x9f8+-0x9*-0x1a5+-0x4d5));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x79042b=this['system']['app']['graphicsDe'+'vice'],_0x4c7ab4=this['screenCorn'+'ers'],_0x31ef62=_0x79042b['canvas']['clientWidt'+'h']/_0x79042b['width'],_0x1ca87e=_0x79042b['canvas']['clientHeig'+'ht']/_0x79042b['height'];for(let _0x33bc46=0x264e+-0x126e+-0x13e0;_0x33bc46<-0x1*0x30+-0xe*-0x277+-0x224e;_0x33bc46++)this['_canvasCor'+'ners'][_0x33bc46]['set'](_0x4c7ab4[_0x33bc46]['x']*_0x31ef62,(_0x79042b['height']-_0x4c7ab4[_0x33bc46]['y'])*_0x1ca87e);return this['_canvasCor'+'nersDirty']=!(-0x7*0x4cf+0x1*0x2a1+0x1f09),this['_canvasCor'+'ners'];}set['drawOrder'](_0x12c398){let _0x15c2e6=-0x40*0x86+-0x1cb2*0x1+0x3e32;this['screen']&&(_0x15c2e6=this['screen']['screen']['priority']),_0x12c398>-0x241a49+0x1*0x78de4f+0x1b205*0x65&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x12c398=-0x98d38f*-0x1+-0x1b9551e+-0x11040c7*-0x2),this['_drawOrder']=(_0x15c2e6<<-0x1*-0x1c51+-0x814+0x1b*-0xbf)+_0x12c398,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3e88bf){this['_height']=_0x3e88bf,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3e88bf,!(-0x152e+-0x21*-0x67+-0x77*-0x11)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4f64fc){if(this['_addedMode'+'ls']['length'])for(let _0x1163d3=-0x137*-0x1+-0x1a60+0x3*0x863;_0x1163d3<this['_layers']['length'];_0x1163d3++){const _0x3459da=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1163d3]);if(_0x3459da){for(let _0x562240=0x537+0xec1+-0x6a8*0x3;_0x562240<this['_addedMode'+'ls']['length'];_0x562240++)_0x3459da['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x562240]['meshInstan'+'ces']);}}if(this['_layers']=_0x4f64fc,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x16ade7=-0x4d8+0x387+0x151*0x1;_0x16ade7<this['_layers']['length'];_0x16ade7++){const _0x3d589a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x16ade7]);if(_0x3d589a){for(let _0x2e1bfa=0x323*-0x4+0x23ca+-0x173e;_0x2e1bfa<this['_addedMode'+'ls']['length'];_0x2e1bfa++)_0x3d589a['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x2e1bfa]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x357556){this['_margin']['x']=_0x357556;const _0x30be8a=this['entity']['getLocalPo'+'sition'](),_0x44dc47=this['_absRight'],_0x5265cd=this['_localAnch'+'or']['x']+_0x357556;this['_setWidth'](_0x44dc47-_0x5265cd),_0x30be8a['x']=_0x357556+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x30be8a);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5a8796){this['_margin']['copy'](_0x5a8796),this['_calculate'+'Size'](!(-0x2f*0x14+-0xc38+0xfe4),!(-0x17d8+-0x1469+0x1*0x2c41)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x44afbd){const {pivot:_0x1f4384,margin:_0x40f72d}=this,_0x438801=_0x1f4384['x'],_0x569093=_0x1f4384['y'];_0x44afbd instanceof J?_0x1f4384['copy'](_0x44afbd):_0x1f4384['set'](..._0x44afbd);const _0x1727f6=_0x40f72d['x']+_0x40f72d['z'],_0x2494ce=_0x1f4384['x']-_0x438801;_0x40f72d['x']+=_0x1727f6*_0x2494ce,_0x40f72d['z']-=_0x1727f6*_0x2494ce;const _0x2834ef=_0x40f72d['y']+_0x40f72d['w'],_0x381abb=_0x1f4384['y']-_0x569093;_0x40f72d['y']+=_0x2834ef*_0x381abb,_0x40f72d['w']-=_0x2834ef*_0x381abb,this['_anchorDir'+'ty']=!(0x1*-0x3d3+-0xd1*-0x1b+-0x1238),this['_cornersDi'+'rty']=!(-0xf0*-0x12+0xddb+-0x1ebb),this['_worldCorn'+'ersDirty']=!(0x1*0x1445+0x507+-0x194c),this['_calculate'+'Size'](!(0x29e+0x1*0xd33+0x1fa*-0x8),!(-0x1fcd+0x231*-0x6+0x2cf4)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x1f4384);}get['pivot'](){return this['_pivot'];}set['right'](_0x2b4e1b){this['_margin']['z']=_0x2b4e1b;const _0x4fb5fa=this['entity']['getLocalPo'+'sition'](),_0x52ae73=this['_absLeft'],_0x3e548d=this['_localAnch'+'or']['z']-_0x2b4e1b;this['_setWidth'](_0x3e548d-_0x52ae73),_0x4fb5fa['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x2b4e1b-this['_calculate'+'dWidth']*(-0x1dc*-0x3+-0x266*-0x7+-0x479*0x5-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x4fb5fa);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x329c32=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x4*-0x5bf+0x21a0+-0x389c];this['_screenCor'+'ners'][0x3*0x1c5+0x6a5+-0xbf4]['set'](this['_absLeft'],this['_absBottom'],0xb02+-0xc87*0x3+0x1a93),this['_screenCor'+'ners'][-0x811*0x1+0x8*-0x43a+-0x14f1*-0x2]['set'](this['_absRight'],this['_absBottom'],-0x254f+-0x33*0x3+0x25e8),this['_screenCor'+'ners'][0x9a7+0x670+-0x1015]['set'](this['_absRight'],this['_absTop'],0xd8c+-0x2684+0x18f8),this['_screenCor'+'ners'][0x1*-0x132e+-0x13a2+0x3*0xcf1]['set'](this['_absLeft'],this['_absTop'],-0xd6c+-0x2266+-0x2*-0x17e9);const _0x3e4962=this['screen']['screen']['screenSpac'+'e'];for(let _0x1eae17=-0xcb7+0x212d+-0x1476;_0x1eae17<0x222*0x11+-0x2649+0x20b;_0x1eae17++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x1eae17],this['_screenCor'+'ners'][_0x1eae17]),_0x3e4962&&this['_screenCor'+'ners'][_0x1eae17]['mulScalar'](this['screen']['screen']['scale']),_0x329c32&&this['_screenCor'+'ners'][_0x1eae17]['add'](_0x329c32);return this['_cornersDi'+'rty']=!(0x1*0x15fd+0x59b+0x1b97*-0x1),this['_canvasCor'+'nersDirty']=!(0x80b+-0x1*0x1361+0xb56),this['_worldCorn'+'ersDirty']=!(-0x1bf0+0x23a5+0x1*-0x7b5),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x805*-0x2+-0x1*0x883+0x188d;}get['textHeight'](){return this['_text']?this['_text']['height']:0x1*-0x36a+-0x2005+0x2f*0xc1;}set['top'](_0x8a2b03){this['_margin']['w']=_0x8a2b03;const _0x1732f6=this['entity']['getLocalPo'+'sition'](),_0x23e61a=this['_absBottom'],_0x5621d5=this['_localAnch'+'or']['w']-_0x8a2b03;this['_setHeight'](_0x5621d5-_0x23e61a),_0x1732f6['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x8a2b03-this['_calculate'+'dHeight']*(0x1a91+-0x2645+0xbb5-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x1732f6);}get['top'](){return this['_margin']['w'];}set['type'](_0x33e924){_0x33e924!==this['_type']&&(this['_type']=_0x33e924,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x33e924===Cu?this['_image']=new cR(this):_0x33e924===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x92d1e3){this['_useInput']!==_0x92d1e3&&(this['_useInput']=_0x92d1e3,this['system']['app']['elementInp'+'ut']?_0x92d1e3?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1e8+0xa12+-0x5*0x1a2)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x92d1e3));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x47806f){this['_fitMode']=_0x47806f,this['_calculate'+'Size'](!(-0xdf6+0x1897*-0x1+-0x8b*-0x47),!(0x8*0x36d+-0x1*0x649+-0x151f)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x130882){this['_width']=_0x130882,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x130882,!(-0x211*0x3+0x3*0xb7b+0x3*-0x96a)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x2f3e17=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x173b+0x1*0x1e86+0x2*-0x39f]=-ws['data'][0x259c+-0x111c+-0x1*0x1473],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x5cd1a8=0x1*0x2577+0x4f8+-0x2a6f;_0x5cd1a8<0xd5*-0x25+0x4*-0x326+0x45*0xa1;_0x5cd1a8++)ws['transformP'+'oint'](_0x2f3e17[_0x5cd1a8],this['_worldCorn'+'ers'][_0x5cd1a8]);}}else{const _0x9e504c=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x9e504c['x'],-_0x9e504c['y'],-_0x9e504c['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x9e504c['x'],_0x9e504c['y'],_0x9e504c['z']);const _0xc2ce19=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0xc2ce19['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x9e504c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x9e504c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x9e504c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x18ad+0xa9f+0xe0e]),Pi['set'](_0x9e504c['x']+(-0x1e96+-0x9*-0xbb+0x1804-this['pivot']['x'])*this['calculated'+'Width'],_0x9e504c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x9e504c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xfd6+-0x11af+0x2186]),Pi['set'](_0x9e504c['x']+(0x1488+0x2dc*-0x2+-0xecf-this['pivot']['x'])*this['calculated'+'Width'],_0x9e504c['y']+(-0x9c2*-0x1+0x18c0+-0x2281-this['pivot']['y'])*this['calculated'+'Height'],_0x9e504c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x179*0x5+0x3*0x7b+-0x8cc]),Pi['set'](_0x9e504c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x9e504c['y']+(-0x1435+0x12bf+0x177-this['pivot']['y'])*this['calculated'+'Height'],_0x9e504c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xdd*-0x25+0xcd3+-0x2cc1]);}return this['_worldCorn'+'ersDirty']=!(0xaa1+0x1cdf+-0x1*0x277f),this['_worldCorn'+'ers'];}set['fontSize'](_0x12b186){this['_setValue']('fontSize',_0x12b186);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x2c9a62){this['_setValue']('minFontSiz'+'e',_0x2c9a62);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x583e8d){this['_setValue']('maxFontSiz'+'e',_0x583e8d);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x2038cb){this['_setValue']('maxLines',_0x2038cb);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x7109a6){this['_setValue']('autoFitWid'+'th',_0x7109a6);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x55a14a){this['_setValue']('autoFitHei'+'ght',_0x55a14a);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x5c344c){this['_setValue']('color',_0x5c344c);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x5218f2){this['_setValue']('font',_0x5218f2);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2ccbe1){this['_setValue']('fontAsset',_0x2ccbe1);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x1f922c){this['_setValue']('spacing',_0x1f922c);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x1a8c78){this['_setValue']('lineHeight',_0x1a8c78);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x5d8912){this['_setValue']('wrapLines',_0x5d8912);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x32c0f6){this['_setValue']('lines',_0x32c0f6);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x4e1754){this['_setValue']('alignment',_0x4e1754);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x1a582f){this['_setValue']('autoWidth',_0x1a582f);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x2f7eb2){this['_setValue']('autoHeight',_0x2f7eb2);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x20cc79){this['_setValue']('rtlReorder',_0x20cc79);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x3bee5f){this['_setValue']('unicodeCon'+'verter',_0x3bee5f);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x11172c){this['_setValue']('text',_0x11172c);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x5ecf6b){this['_setValue']('key',_0x5ecf6b);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x5e3207){this['_setValue']('texture',_0x5e3207);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x5ba949){this['_setValue']('textureAss'+'et',_0x5ba949);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x475dc8){this['_setValue']('material',_0x475dc8);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x40b216){this['_setValue']('materialAs'+'set',_0x40b216);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x5569f9){this['_setValue']('sprite',_0x5569f9);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x3d8f5d){this['_setValue']('spriteAsse'+'t',_0x3d8f5d);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1efdea){this['_setValue']('spriteFram'+'e',_0x1efdea);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x1ab60d){this['_setValue']('pixelsPerU'+'nit',_0x1ab60d);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x1829a8){this['_setValue']('opacity',_0x1829a8);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x508b82){this['_setValue']('rect',_0x508b82);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x3d39ac){this['_setValue']('mask',_0x3d39ac);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0xc6ed29){this['_setValue']('outlineCol'+'or',_0xc6ed29);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x533ba4){this['_setValue']('outlineThi'+'ckness',_0x533ba4);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x3bd27f){this['_setValue']('shadowColo'+'r',_0x3bd27f);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x473311){this['_setValue']('shadowOffs'+'et',_0x473311);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x846968){this['_setValue']('enableMark'+'up',_0x846968);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0xb81675){this['_setValue']('rangeStart',_0xb81675);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x28adb4){this['_setValue']('rangeEnd',_0x28adb4);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x3af218,_0xe822e7){this['_text']?(this['_text'][_0x3af218]!==_0xe822e7&&this['_dirtyBatc'+'h'](),this['_text'][_0x3af218]=_0xe822e7):this['_image']&&(this['_image'][_0x3af218]!==_0xe822e7&&this['_dirtyBatc'+'h'](),this['_image'][_0x3af218]=_0xe822e7);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x474219,_0x3f7c4f,_0x545e7d){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x474219,_0x3f7c4f,_0x545e7d);return;}_0x474219 instanceof D?Ef['copy'](_0x474219):Ef['set'](_0x474219,_0x3f7c4f,_0x545e7d),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x2f7f35,_0x4c8412,_0x311bc6){_0x2f7f35 instanceof D?this['localPosit'+'ion']['copy'](_0x2f7f35):this['localPosit'+'ion']['set'](_0x2f7f35,_0x4c8412,_0x311bc6);const _0x53761b=this['element'],_0x2150a4=this['localPosit'+'ion'],_0x1e6b13=_0x53761b['_pivot'];_0x53761b['_margin']['x']=_0x2150a4['x']-_0x53761b['_calculate'+'dWidth']*_0x1e6b13['x'],_0x53761b['_margin']['z']=_0x53761b['_localAnch'+'or']['z']-_0x53761b['_localAnch'+'or']['x']-_0x53761b['_calculate'+'dWidth']-_0x53761b['_margin']['x'],_0x53761b['_margin']['y']=_0x2150a4['y']-_0x53761b['_calculate'+'dHeight']*_0x1e6b13['y'],_0x53761b['_margin']['w']=_0x53761b['_localAnch'+'or']['w']-_0x53761b['_localAnch'+'or']['y']-_0x53761b['_calculate'+'dHeight']-_0x53761b['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x53548f=this['element'],_0x2819ed=_0x53548f['screen'];if(_0x2819ed){if(_0x53548f['_anchorDir'+'ty']){let _0xa84713=0x245b+-0x13*-0x1d3+0xb4*-0x65,_0x942983=0xf36+0xe0d+0x9c1*-0x3,_0x4c5a26=-0x3b*-0x6d+-0x3f4+0x152b*-0x1,_0x40539c=-0x76+-0x1*-0x1163+-0x876*0x2;if(this['_parent']&&this['_parent']['element'])_0xa84713=this['_parent']['element']['calculated'+'Width'],_0x942983=this['_parent']['element']['calculated'+'Height'],_0x4c5a26=this['_parent']['element']['pivot']['x'],_0x40539c=this['_parent']['element']['pivot']['y'];else{const _0x2c56f4=_0x2819ed['screen']['resolution'];_0xa84713=_0x2c56f4['x']/_0x2819ed['screen']['scale'],_0x942983=_0x2c56f4['y']/_0x2819ed['screen']['scale'];}_0x53548f['_anchorTra'+'nsform']['setTransla'+'te'](_0xa84713*(_0x53548f['anchor']['x']-_0x4c5a26),-(_0x942983*(_0x40539c-_0x53548f['anchor']['y'])),-0xccb*0x1+-0x1567+0x2232),_0x53548f['_anchorDir'+'ty']=!(-0x5*-0x11+0x8*-0x1a+0x7c),_0x53548f['_calculate'+'LocalAncho'+'rs']();}_0x53548f['_sizeDirty']&&_0x53548f['_calculate'+'Size'](!(-0x931+0x1*-0x1733+0x2065),!(-0x84*0x2c+-0x5*-0x5f+-0x6*-0x379));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x17f434=this['localPosit'+'ion'],_0x3bf8dc=_0x53548f['_pivot'];_0x53548f['_margin']['x']=_0x17f434['x']-_0x53548f['_calculate'+'dWidth']*_0x3bf8dc['x'],_0x53548f['_margin']['z']=_0x53548f['_localAnch'+'or']['z']-_0x53548f['_localAnch'+'or']['x']-_0x53548f['_calculate'+'dWidth']-_0x53548f['_margin']['x'],_0x53548f['_margin']['y']=_0x17f434['y']-_0x53548f['_calculate'+'dHeight']*_0x3bf8dc['y'],_0x53548f['_margin']['w']=_0x53548f['_localAnch'+'or']['w']-_0x53548f['_localAnch'+'or']['y']-_0x53548f['_calculate'+'dHeight']-_0x53548f['_margin']['y'],this['_dirtyLoca'+'l']=!(0x13c3+-0xffc+-0x142*0x3);}if(!_0x2819ed){this['_dirtyWorl'+'d']&&(_0x53548f['_cornersDi'+'rty']=!(-0x4*0x99e+-0xcac*0x1+0x3324),_0x53548f['_canvasCor'+'nersDirty']=!(0xac*-0x36+0x109a+0x13ae),_0x53548f['_worldCorn'+'ersDirty']=!(0x29*-0x63+0x1ef4+-0xf19)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x53548f['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x53548f['_anchorTra'+'nsform']):_0x53548f['_screenToW'+'orld']['copy'](_0x53548f['_anchorTra'+'nsform']),_0x53548f['_modelTran'+'sform']['mul2'](_0x53548f['_screenToW'+'orld'],this['localTrans'+'form']),_0x2819ed){_0x53548f['_screenToW'+'orld']['mul2'](_0x2819ed['screen']['_screenMat'+'rix'],_0x53548f['_screenToW'+'orld']),_0x2819ed['screen']['screenSpac'+'e']||_0x53548f['_screenToW'+'orld']['mul2'](_0x2819ed['worldTrans'+'form'],_0x53548f['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x53548f['_screenToW'+'orld'],this['localTrans'+'form']);const _0x5aa16d=_0x53548f['_parentWor'+'ldTransfor'+'m'];_0x5aa16d['setIdentit'+'y']();const _0x55408c=this['_parent'];_0x55408c&&_0x55408c['element']&&_0x55408c!==_0x2819ed&&(ws['setTRS'](D['ZERO'],_0x55408c['getLocalRo'+'tation'](),_0x55408c['getLocalSc'+'ale']()),_0x5aa16d['mul2'](_0x55408c['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x26fe70=Pi;_0x26fe70['set'](-0xee9+-0x73*0xf+0xa3*0x22,0x1f63+-0xf1a+-0x1049*0x1,this['localPosit'+'ion']['z']);const _0x467dd9=MR;_0x467dd9['set'](_0x53548f['_absLeft']+_0x53548f['_pivot']['x']*_0x53548f['calculated'+'Width'],_0x53548f['_absBottom']+_0x53548f['_pivot']['y']*_0x53548f['calculated'+'Height'],-0x585*-0x1+-0x1992*0x1+0x140d),ws['setTransla'+'te'](-_0x467dd9['x'],-_0x467dd9['y'],-_0x467dd9['z']),bc['setTRS'](_0x26fe70,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x467dd9['x'],_0x467dd9['y'],_0x467dd9['z']),_0x53548f['_screenTra'+'nsform']['mul2'](_0x53548f['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x53548f['_cornersDi'+'rty']=!(-0x115e+-0x6a1*0x5+-0x3283*-0x1),_0x53548f['_canvasCor'+'nersDirty']=!(-0x6ba+-0xfda+0x1694),_0x53548f['_worldCorn'+'ersDirty']=!(0x255*0x1+0xc17*0x3+-0x269a);}else this['worldTrans'+'form']['copy'](_0x53548f['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x2302+0x983+0x1980);}}['_onInsert'](_0x2a0570){const _0x36469d=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x36469d['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0xe54bbd=this['entity'];for(;_0xe54bbd;){const _0x30f33c=_0xe54bbd['parent'];if((_0x30f33c===null||_0x30f33c['screen'])&&_0xe54bbd['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x6c77ef=this['system']['_prerender']['indexOf'](this['entity']);_0x6c77ef>=-0xe8c+-0x19fb+0x2887&&this['system']['_prerender']['splice'](_0x6c77ef,-0x1311+0xb*-0x1f3+-0xd81*-0x3),this['system']['_prerender']['indexOf'](_0xe54bbd)<0x39*0x3+-0x137c*0x2+0x109*0x25&&this['system']['_prerender']['push'](_0xe54bbd),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0xe54bbd['name']);}_0xe54bbd=_0x30f33c;}}['_onPrerend'+'er'](){for(let _0x4bdd52=-0x1be0+-0xa*0x217+-0x3*-0x1042;_0x4bdd52<this['system']['_prerender']['length'];_0x4bdd52++){const _0x15224d=this['system']['_prerender'][_0x4bdd52];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x15224d['name']),_0x15224d['element']&&_0x15224d['element']['syncMask'](-0x3*0x36d+0x6*-0x281+-0x2*-0xca7);}this['system']['_prerender']['length']=-0x1cc8+-0xf61+0x253*0x13;}['_bindScree'+'n'](_0x15d99c){_0x15d99c['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x1527b1){_0x1527b1['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x589698){this['screen']&&this['screen']!==_0x589698&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x3f7acb=this['screen'];this['screen']=_0x589698,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x3f7acb),this['_anchorDir'+'ty']=!(-0x444+-0x1*0x1787+0x1bcb);const _0x3965e6=this['entity']['children'];for(let _0x833290=0x1*-0x202c+0xb19+0x1513,_0x2bc0a1=_0x3965e6['length'];_0x833290<_0x2bc0a1;_0x833290++)_0x3965e6[_0x833290]['element']&&_0x3965e6[_0x833290]['element']['_updateScr'+'een'](_0x589698);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x15f841){const _0x4ee5e1=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x4ee5e1['mask'],_0x15f841);}['_setMasked'+'By'](_0x4be2fb){const _0x5e2ab3=this['_image']||this['_text'];if(_0x4be2fb){const _0x22c0b4=_0x4be2fb['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x22c0b4),_0x5e2ab3==null||_0x5e2ab3['_setStenci'+'l'](new pi({'ref':_0x22c0b4,'func':dh})),this['_maskedBy']=_0x4be2fb;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x5e2ab3==null||_0x5e2ab3['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x499135,_0x1f2311){var _0x4144b8,_0x78c0dd;if(_0x499135){if(this['_setMasked'+'By'](_0x499135),this['mask']){const _0x2d800e=_0x499135['element']['_image']['_maskRef'],_0x385295=new pi({'ref':_0x2d800e,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x385295),this['_image']['_maskRef']=_0x1f2311,_0x1f2311++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x385295['ref']+(0x5f2*-0x2+-0x157*-0x9+-0x2a))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x1f2311),_0x499135=this['entity'];}const _0x4bf0bc=this['entity']['children'];for(let _0x45105d=-0x1*0x11b3+0x14b0+-0x2fd,_0x193916=_0x4bf0bc['length'];_0x45105d<_0x193916;_0x45105d++)(_0x4144b8=_0x4bf0bc[_0x45105d]['element'])==null||_0x4144b8['_updateMas'+'k'](_0x499135,_0x1f2311);this['mask']&&_0x1f2311--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x3758c7=new pi({'ref':_0x1f2311,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x3758c7),this['_image']['_maskRef']=_0x1f2311,_0x1f2311++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x3758c7['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x1f2311),_0x499135=this['entity'];}const _0x355057=this['entity']['children'];for(let _0x4cc901=0x156b+0x1*0x25b5+-0x3b20,_0x563318=_0x355057['length'];_0x4cc901<_0x563318;_0x4cc901++)(_0x78c0dd=_0x355057[_0x4cc901]['element'])==null||_0x78c0dd['_updateMas'+'k'](_0x499135,_0x1f2311);this['mask']&&_0x1f2311--;}}['_parseUpTo'+'Screen'](){const _0x351341={'screen':null,'mask':null};let _0x12f8e9=this['entity']['_parent'];for(;_0x12f8e9&&!_0x12f8e9['screen'];)_0x12f8e9['element']&&_0x12f8e9['element']['mask']&&(_0x351341['mask']||(_0x351341['mask']=_0x12f8e9)),_0x12f8e9=_0x12f8e9['parent'];return _0x12f8e9&&_0x12f8e9['screen']&&(_0x351341['screen']=_0x12f8e9),_0x351341;}['_onScreenR'+'esize'](_0x55f8d1){this['_anchorDir'+'ty']=!(0x1cc3+0x5b5*0x1+-0x2278),this['_cornersDi'+'rty']=!(0x848+0x252b+-0x2d73),this['_worldCorn'+'ersDirty']=!(0x12f8*-0x2+-0x1103*0x1+0x36f3),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x55f8d1);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x53ae15=0x1*-0x1601+0x1c60+-0x277*0x1,_0x44aaaa=-0xd5a+0x600*-0x3+0x1*0x2342;const _0x464946=this['entity']['_parent'];if(_0x464946&&_0x464946['element'])_0x53ae15=_0x464946['element']['calculated'+'Width'],_0x44aaaa=_0x464946['element']['calculated'+'Height'];else{if(this['screen']){const _0x250d80=this['screen']['screen']['resolution'],_0x2b7b06=this['screen']['screen']['scale'];_0x53ae15=_0x250d80['x']/_0x2b7b06,_0x44aaaa=_0x250d80['y']/_0x2b7b06;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x53ae15,this['_anchor']['y']*_0x44aaaa,this['_anchor']['z']*_0x53ae15,this['_anchor']['w']*_0x44aaaa);}['getOffsetP'+'osition'](_0x44362c,_0x40d477){const _0x54ff19=this['entity']['getLocalPo'+'sition']()['clone']();return _0x54ff19['x']+=_0x44362c,_0x54ff19['y']+=_0x40d477,this['_screenToW'+'orld']['transformP'+'oint'](_0x54ff19,_0x54ff19),_0x54ff19;}['onLayersCh'+'anged'](_0xe9853b,_0x295eee){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0xe9853b['off']('add',this['onLayerAdd'+'ed'],this),_0xe9853b['off']('remove',this['onLayerRem'+'oved'],this),_0x295eee['on']('add',this['onLayerAdd'+'ed'],this),_0x295eee['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3c6c14){this['layers']['indexOf'](_0x3c6c14['id'])<0x1935+-0xb5d+-0xdd8||(this['_image']?_0x3c6c14['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3c6c14['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x76610){this['layers']['indexOf'](_0x76610['id'])<-0x7*0x3f1+0x15dd+0x5ba||(this['_image']?_0x76610['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x76610['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x3c56e0;const _0x3d023c=this['system']['app']['scene'],_0xa5ca9a=_0x3d023c['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x3d023c['on']('set:layers',this['onLayersCh'+'anged'],this),_0xa5ca9a&&(this['_evtLayerA'+'dded']=_0xa5ca9a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xa5ca9a['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x295+0xd4e+-0xfe3&&((_0x3c56e0=this['system']['app']['batcher'])==null||_0x3c56e0['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0xee59f5,_0x4859a5,_0x144f04,_0x4dc64d;const _0xf4eb70=this['system']['app']['scene']['layers'];(_0xee59f5=this['_evtLayers'+'Changed'])==null||_0xee59f5['off'](),this['_evtLayers'+'Changed']=null,_0xf4eb70&&((_0x4859a5=this['_evtLayerA'+'dded'])==null||_0x4859a5['off'](),this['_evtLayerA'+'dded']=null,(_0x144f04=this['_evtLayerR'+'emoved'])==null||_0x144f04['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x695+-0x231d*0x1+0x29b2&&((_0x4dc64d=this['system']['app']['batcher'])==null||_0x4dc64d['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x550217,_0x5e76cf){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x53cac1=this['_absRight']-this['_absLeft'],_0x461077=this['_absTop']-this['_absBottom'];_0x550217?this['_setWidth'](_0x53cac1):this['_setCalcul'+'atedWidth'](_0x53cac1,!(-0x19*0xd7+0x26b+-0x47*-0x43)),_0x5e76cf?this['_setHeight'](_0x461077):this['_setCalcul'+'atedHeight'](_0x461077,!(-0x2*0x35f+0x140f+-0x4*0x354));const _0x24883f=this['entity']['getLocalPo'+'sition']();_0x24883f['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x24883f['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x24883f),this['_sizeDirty']=!(0x74*0x54+0x6*-0x383+-0x10fd);}['_setWidth'](_0x918670){this['_width']=_0x918670,this['_setCalcul'+'atedWidth'](_0x918670,!(-0x2*0x623+0x203d+0x1ff*-0xa)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x295f05){this['_height']=_0x295f05,this['_setCalcul'+'atedHeight'](_0x295f05,!(-0x27c*0xc+0x1970*-0x1+0x3741)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x299f8b,_0xc827c){if(!(Math['abs'](_0x299f8b-this['_calculate'+'dWidth'])<=0x43*-0x91+-0xb7e*-0x1+0x1a75+0.0001)){if(this['_calculate'+'dWidth']=_0x299f8b,this['entity']['_dirtifyLo'+'cal'](),_0xc827c){const _0x50aa6e=this['entity']['getLocalPo'+'sition'](),_0x4f6005=this['_pivot'];this['_margin']['x']=_0x50aa6e['x']-this['_calculate'+'dWidth']*_0x4f6005['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x801656,_0x434678){if(!(Math['abs'](_0x801656-this['_calculate'+'dHeight'])<=-0x2ed*0x8+-0x1*-0x1627+-0x6b*-0x3+0.0001)){if(this['_calculate'+'dHeight']=_0x801656,this['entity']['_dirtifyLo'+'cal'](),_0x434678){const _0x23ace4=this['entity']['getLocalPo'+'sition'](),_0x23c8ad=this['_pivot'];this['_margin']['y']=_0x23ace4['y']-this['_calculate'+'dHeight']*_0x23c8ad['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5bbb81=this['entity']['_children'];for(let _0x293700=0x28b+-0x183b*-0x1+-0x1ac6,_0x146ac2=_0x5bbb81['length'];_0x293700<_0x146ac2;_0x293700++)_0x5bbb81[_0x293700]['element']&&(_0x5bbb81[_0x293700]['element']['_anchorDir'+'ty']=!(0x1*-0x699+0x20e*-0xd+-0x214f*-0x1),_0x5bbb81[_0x293700]['element']['_sizeDirty']=!(0x4b9+-0x3ad*-0x5+-0x171a));}['addModelTo'+'Layers'](_0x3287ee){this['_addedMode'+'ls']['push'](_0x3287ee);for(let _0x16d780=0x1c9c+-0x20c5+-0xf*-0x47;_0x16d780<this['layers']['length'];_0x16d780++){const _0xcf0449=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x16d780]);_0xcf0449&&_0xcf0449['addMeshIns'+'tances'](_0x3287ee['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x53dff0){const _0x1f2a01=this['_addedMode'+'ls']['indexOf'](_0x53dff0);_0x1f2a01>=-0x29*-0x7b+-0x618*-0x1+-0x19cb&&this['_addedMode'+'ls']['splice'](_0x1f2a01,-0xfa4+-0x15b2*-0x1+0x60d*-0x1);for(let _0x97d807=0x69c+0x93+0x72f*-0x1;_0x97d807<this['layers']['length'];_0x97d807++){const _0x4024b8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x97d807]);_0x4024b8&&_0x4024b8['removeMesh'+'Instances'](_0x53dff0['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x1663bc=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x1663bc&&(this['_maskOffse'+'t']=-0x1c76+-0x1784+-0x2*-0x19fd+0.5,this['_offsetRea'+'dAt']=_0x1663bc);const _0x1e4666=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x637+0x1*-0x5f3+-0x2*0x22+0.001,_0x1e4666;}['isVisibleF'+'orCamera'](_0x51712b){let _0x172659,_0x5cf728,_0x3182f3,_0x5a89db;if(this['maskedBy']){const _0x5cf2d8=this['maskedBy']['element']['screenCorn'+'ers'];_0x172659=Math['min'](Math['min'](_0x5cf2d8[-0x1e0a+-0x1*0xa5d+0x2867]['x'],_0x5cf2d8[-0x24fb*-0x1+-0x9*-0x3d3+-0x4765]['x']),Math['min'](_0x5cf2d8[0x167b+-0x2*0xb03+-0x1*0x73]['x'],_0x5cf2d8[0x2*-0x1301+-0x11f*0xd+0x132*0x2c]['x'])),_0x5cf728=Math['max'](Math['max'](_0x5cf2d8[0x7*-0x3fd+0x425+0x2*0xbe3]['x'],_0x5cf2d8[-0x26f3*0x1+0xa9a+0x1c5a*0x1]['x']),Math['max'](_0x5cf2d8[0xf33+-0x1*0xc5+-0xe6c]['x'],_0x5cf2d8[0x1e40+0x22*0xc4+-0x3845*0x1]['x'])),_0x5a89db=Math['min'](Math['min'](_0x5cf2d8[-0x8*0x20a+-0x5*0x3f1+0x2405]['y'],_0x5cf2d8[0x19*0x18a+-0xb*0x157+-0x7*0x364]['y']),Math['min'](_0x5cf2d8[-0x198b+-0x1c0c+0x3599]['y'],_0x5cf2d8[-0x413+-0x1dd1*0x1+0x21e7]['y'])),_0x3182f3=Math['max'](Math['max'](_0x5cf2d8[0x22e3+0x1*0x1a5+0x1*-0x2488]['y'],_0x5cf2d8[-0x6b*-0xb+-0x242+-0x1*0x256]['y']),Math['max'](_0x5cf2d8[0x8*-0x254+0xee2+0x18*0x28]['y'],_0x5cf2d8[0x2345+0x66+0x518*-0x7]['y']));}else{const _0x4c4833=this['system']['app']['graphicsDe'+'vice']['width'],_0x299109=this['system']['app']['graphicsDe'+'vice']['height'],_0x7a250f=_0x51712b['_rect']['z']*_0x4c4833,_0x3b662a=_0x51712b['_rect']['w']*_0x299109;_0x172659=_0x51712b['_rect']['x']*_0x4c4833,_0x5cf728=_0x172659+_0x7a250f,_0x3182f3=(0x25ae+-0x32c+-0x2281-_0x51712b['_rect']['y'])*_0x299109,_0x5a89db=_0x3182f3-_0x3b662a;}const _0x72b8b8=this['screenCorn'+'ers'],_0x1cb4fc=Math['min'](Math['min'](_0x72b8b8[-0x2b*0x1+0x2112+-0x20e7]['x'],_0x72b8b8[0x1b7*-0xb+-0x1*-0xfbb+-0x1*-0x323]['x']),Math['min'](_0x72b8b8[-0x1429+-0xc7a+-0x20a5*-0x1]['x'],_0x72b8b8[0x1069+-0x11ed*0x1+-0x187*-0x1]['x'])),_0xe2cf0d=Math['max'](Math['max'](_0x72b8b8[-0x5b3*-0x5+-0x1f3*0xb+0x15*-0x56]['x'],_0x72b8b8[0x1*-0x347+-0x40*0x95+0x2888]['x']),Math['max'](_0x72b8b8[-0x18bb+-0x23a5+0x3c62]['x'],_0x72b8b8[-0x148f+0x1a7c+-0x5ea]['x'])),_0x399638=Math['min'](Math['min'](_0x72b8b8[-0x147+-0xf2d+-0x57c*-0x3]['y'],_0x72b8b8[-0x1*-0x12f1+-0x1310+0x1*0x20]['y']),Math['min'](_0x72b8b8[-0xda3*0x1+-0xf6*0x26+-0x3229*-0x1]['y'],_0x72b8b8[0x5e5+0xa*0x2ef+-0x2338]['y'])),_0x1443cd=Math['max'](Math['max'](_0x72b8b8[0x25d0*0x1+-0x108e+-0x1542]['y'],_0x72b8b8[0x487*0x2+0x3a9*0xa+-0x2da7]['y']),Math['max'](_0x72b8b8[-0x148*0xc+-0x372+0x12d4]['y'],_0x72b8b8[0xc88*0x2+-0x20ea+0x7dd]['y']));return!(_0xe2cf0d<_0x172659||_0x1cb4fc>_0x5cf728||_0x399638>_0x3182f3||_0x1443cd<_0x5a89db);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x1abe+-0xa7+0x9f*-0x2a);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xaeb+0x9d3+-0x1*-0x119);}['_dirtyBatc'+'h'](){var _0x50b9ea;this['batchGroup'+'Id']!==-(0x12f4+-0x58+0x1b1*-0xb)&&((_0x50b9ea=this['system']['app']['batcher'])==null||_0x50b9ea['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x219e+0x1*-0x1744+-0x1*-0x38e2);}}const IR=['enabled'];class LR extends ct{constructor(_0x1731eb){super(_0x1731eb),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x1731eb['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x27ad87=this['_defaultTe'+'xture']['lock'](),_0x42cf7a=new Uint8Array(0x58d+-0x389+-0x200);_0x42cf7a[-0x9*0x2aa+-0xdef+-0x795*-0x5]=0x2f*0x61+0xeef*-0x1+-0x25*0xd,_0x42cf7a[-0x1907+0x22b+-0x16dd*-0x1]=0x1eea+-0x2021+0x236,_0x42cf7a[-0xfcf+-0x1bfe+0x5*0x8c3]=-0xa2+0xbe5+-0xa44,_0x42cf7a[0x23*0xe5+-0x1ebf+-0x8d]=0xd1+-0xff5*0x1+0x1023,_0x27ad87['set'](_0x42cf7a),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x4701cb,_0x36bd10,_0x3dbe76){_0x4701cb['_beingInit'+'ialized']=!(-0x2*-0xac1+0x1498+0x2*-0x150d),_0x36bd10['anchor']!==void(-0x20a+0x2065+-0x1e5b)&&(_0x36bd10['anchor']instanceof re?_0x4701cb['anchor']['copy'](_0x36bd10['anchor']):_0x4701cb['anchor']['set'](_0x36bd10['anchor'][0x101a+0x2139+-0x3153],_0x36bd10['anchor'][-0x29e+0x102*0x1+0x19d],_0x36bd10['anchor'][-0x38b+0xd*-0x1be+0x13*0x161],_0x36bd10['anchor'][0x10f5+0x23cd*-0x1+-0x1*-0x12db])),_0x36bd10['pivot']!==void(-0xd*0x109+0x6bb+0x6ba)&&(_0x36bd10['pivot']instanceof J?_0x4701cb['pivot']['copy'](_0x36bd10['pivot']):_0x4701cb['pivot']['set'](_0x36bd10['pivot'][0x20ae+-0x859+-0x1855],_0x36bd10['pivot'][0x3*-0x496+-0xd09+0xe*0x1ea]));const _0x51d8b0=Math['abs'](_0x4701cb['anchor']['x']-_0x4701cb['anchor']['z'])>-0xf1c+0x156b+0x5*-0x143+0.001,_0xf003b3=Math['abs'](_0x4701cb['anchor']['y']-_0x4701cb['anchor']['w'])>-0x2*0x9d+-0x37*-0x47+-0xe07+0.001;let _0x79284e=!(-0x426*-0x1+0x7a6+-0xbcb),_0x5c031f;_0x36bd10['margin']!==void(0x1041*0x1+0x124*-0x7+-0x845)&&(_0x36bd10['margin']instanceof re?_0x4701cb['margin']['copy'](_0x36bd10['margin']):_0x4701cb['_margin']['set'](_0x36bd10['margin'][0x1153*-0x1+0x10*-0x155+0x26a3],_0x36bd10['margin'][0x7cd+0x1*0x1451+0x95f*-0x3],_0x36bd10['margin'][-0x845+0x11f3*0x1+0x4*-0x26b],_0x36bd10['margin'][-0x1*-0x1b41+0x1f*0xb+0xb*-0x299]),_0x79284e=!(-0x112e+0x1ad1*0x1+-0x1*0x9a3)),_0x36bd10['left']!==void(0x3*0x673+-0x94f*0x2+-0xbb)&&(_0x4701cb['_margin']['x']=_0x36bd10['left'],_0x79284e=!(0x5bc+0x1514+-0x1ad0)),_0x36bd10['bottom']!==void(0x37*-0xa3+0x13*-0x89+0x10*0x2d3)&&(_0x4701cb['_margin']['y']=_0x36bd10['bottom'],_0x79284e=!(-0xb1b+0x1ec7*0x1+-0x13ac)),_0x36bd10['right']!==void(-0xe9f+-0x2*-0x1292+0x1685*-0x1)&&(_0x4701cb['_margin']['z']=_0x36bd10['right'],_0x79284e=!(-0x1*-0x23f6+-0x1f9f+-0x457)),_0x36bd10['top']!==void(-0x1982+-0xe*-0x2b+0x1728)&&(_0x4701cb['_margin']['w']=_0x36bd10['top'],_0x79284e=!(0x212e+0x14ed+-0x361b)),_0x79284e&&(_0x4701cb['margin']=_0x4701cb['_margin']);let _0x20b8af=!(-0x6b*-0x1d+0xb02+-0xa*0x250);_0x36bd10['width']!==void(-0xb9b*0x3+-0xc0f+0x2ee0)&&!_0x51d8b0?_0x4701cb['width']=_0x36bd10['width']:_0x51d8b0&&(_0x20b8af=!(0x127c+-0x19cd+0x751)),_0x36bd10['height']!==void(0x1b9f+-0x171d+-0x241*0x2)&&!_0xf003b3?_0x4701cb['height']=_0x36bd10['height']:_0xf003b3&&(_0x20b8af=!(0x1a*0x101+-0xc2f*0x1+-0x1fd*0x7)),_0x20b8af&&(_0x4701cb['anchor']=_0x4701cb['anchor']),_0x36bd10['enabled']!==void(-0x437*0x7+-0x1*-0xc9f+0x2*0x871)&&(_0x4701cb['enabled']=_0x36bd10['enabled']),_0x36bd10['useInput']!==void(0x3*0x61+0xda+-0x1fd*0x1)&&(_0x4701cb['useInput']=_0x36bd10['useInput']),_0x36bd10['fitMode']!==void(-0x1c5f+0x763*0x1+-0x13c*-0x11)&&(_0x4701cb['fitMode']=_0x36bd10['fitMode']),_0x4701cb['batchGroup'+'Id']=_0x36bd10['batchGroup'+'Id']===void(-0x1*-0x18e+-0x4e3+0x355)||_0x36bd10['batchGroup'+'Id']===null?-(0x25d9+-0x6fb*-0x1+-0x2cd3):_0x36bd10['batchGroup'+'Id'],_0x36bd10['layers']&&Array['isArray'](_0x36bd10['layers'])&&(_0x4701cb['layers']=_0x36bd10['layers']['slice'](-0x143d+0x1*-0x2373+-0x108*-0x36)),_0x36bd10['type']!==void(0x1fcc+0x3e*0x91+-0x1*0x42ea)&&(_0x4701cb['type']=_0x36bd10['type']),_0x4701cb['type']===Cu?(_0x36bd10['rect']!==void(0x7ac*0x4+-0x1*-0x1+-0x1eb1)&&(_0x4701cb['rect']=_0x36bd10['rect']),_0x36bd10['color']!==void(0x1ee1+-0x2*-0xb21+-0x3523*0x1)&&(_0x5c031f=_0x36bd10['color'],_0x5c031f instanceof ie||(_0x5c031f=new ie(_0x36bd10['color'][0xa61*0x1+0x1021+-0xea*0x1d],_0x36bd10['color'][0x559+0x2449+0x1*-0x29a1],_0x36bd10['color'][0x1fb8+-0x11d2*-0x2+-0x435a])),_0x4701cb['color']=_0x5c031f),_0x36bd10['opacity']!==void(0xd1e+0x1609+-0x2327)&&(_0x4701cb['opacity']=_0x36bd10['opacity']),_0x36bd10['textureAss'+'et']!==void(0x1*0x150b+0xd71+-0x89f*0x4)&&(_0x4701cb['textureAss'+'et']=_0x36bd10['textureAss'+'et']),_0x36bd10['texture']&&(_0x4701cb['texture']=_0x36bd10['texture']),_0x36bd10['spriteAsse'+'t']!==void(0x42b*-0x9+-0x2*-0xbcb+0xded*0x1)&&(_0x4701cb['spriteAsse'+'t']=_0x36bd10['spriteAsse'+'t']),_0x36bd10['sprite']&&(_0x4701cb['sprite']=_0x36bd10['sprite']),_0x36bd10['spriteFram'+'e']!==void(0x1*0x210e+0x528+0x92*-0x43)&&(_0x4701cb['spriteFram'+'e']=_0x36bd10['spriteFram'+'e']),_0x36bd10['pixelsPerU'+'nit']!==void(-0x1de*-0xc+0xd*-0x185+-0x1*0x2a7)&&_0x36bd10['pixelsPerU'+'nit']!==null&&(_0x4701cb['pixelsPerU'+'nit']=_0x36bd10['pixelsPerU'+'nit']),_0x36bd10['materialAs'+'set']!==void(-0x8bd+-0xefc+0x17b9)&&(_0x4701cb['materialAs'+'set']=_0x36bd10['materialAs'+'set']),_0x36bd10['material']&&(_0x4701cb['material']=_0x36bd10['material']),_0x36bd10['mask']!==void(-0x61b*-0x1+0x95*0x1f+-0x1826)&&(_0x4701cb['mask']=_0x36bd10['mask'])):_0x4701cb['type']===jv&&(_0x36bd10['autoWidth']!==void(0x185*-0xc+0x1f0*0x2+-0x1*-0xe5c)&&(_0x4701cb['autoWidth']=_0x36bd10['autoWidth']),_0x36bd10['autoHeight']!==void(-0x7e4+-0xd8a+-0xd*-0x1a6)&&(_0x4701cb['autoHeight']=_0x36bd10['autoHeight']),_0x36bd10['rtlReorder']!==void(0x1bf1+0x10ed+-0x2cde)&&(_0x4701cb['rtlReorder']=_0x36bd10['rtlReorder']),_0x36bd10['unicodeCon'+'verter']!==void(-0x67f+-0x7*-0x37c+-0x11e5)&&(_0x4701cb['unicodeCon'+'verter']=_0x36bd10['unicodeCon'+'verter']),_0x36bd10['text']!==null&&_0x36bd10['text']!==void(0x2592+0x9*-0xf2+-0x1d10)?_0x4701cb['text']=_0x36bd10['text']:_0x36bd10['key']!==null&&_0x36bd10['key']!==void(0x223d+0x6*-0x329+-0xf47)&&(_0x4701cb['key']=_0x36bd10['key']),_0x36bd10['color']!==void(0x12c6+0xad*-0x2f+0xcfd)&&(_0x5c031f=_0x36bd10['color'],_0x5c031f instanceof ie||(_0x5c031f=new ie(_0x5c031f[-0x1*0x16c9+-0xfdd+-0x6*-0x671],_0x5c031f[-0x19ec+0x147f+0x56e],_0x5c031f[-0xd*0x1a2+-0x4fa*0x2+0x1f30])),_0x4701cb['color']=_0x5c031f),_0x36bd10['opacity']!==void(-0xba3+0x1*-0x25ac+0xd*0x3cb)&&(_0x4701cb['opacity']=_0x36bd10['opacity']),_0x36bd10['spacing']!==void(0x2*-0xc9d+0xd96+0x2e9*0x4)&&(_0x4701cb['spacing']=_0x36bd10['spacing']),_0x36bd10['fontSize']!==void(0x136a+-0x1*-0x1189+-0x24f3)&&(_0x4701cb['fontSize']=_0x36bd10['fontSize'],_0x36bd10['lineHeight']||(_0x4701cb['lineHeight']=_0x36bd10['fontSize'])),_0x36bd10['lineHeight']!==void(-0x18f4+-0x1ac1+0x3d*0xd9)&&(_0x4701cb['lineHeight']=_0x36bd10['lineHeight']),_0x36bd10['maxLines']!==void(-0x23d0+0x16b5*-0x1+0xd3*0x47)&&(_0x4701cb['maxLines']=_0x36bd10['maxLines']),_0x36bd10['wrapLines']!==void(-0x22e8+-0x1fad+-0x1e7*-0x23)&&(_0x4701cb['wrapLines']=_0x36bd10['wrapLines']),_0x36bd10['minFontSiz'+'e']!==void(-0xb7*-0x32+-0xd4b+-0x1673)&&(_0x4701cb['minFontSiz'+'e']=_0x36bd10['minFontSiz'+'e']),_0x36bd10['maxFontSiz'+'e']!==void(0x47d*-0x5+-0xf16+0x2587)&&(_0x4701cb['maxFontSiz'+'e']=_0x36bd10['maxFontSiz'+'e']),_0x36bd10['autoFitWid'+'th']&&(_0x4701cb['autoFitWid'+'th']=_0x36bd10['autoFitWid'+'th']),_0x36bd10['autoFitHei'+'ght']&&(_0x4701cb['autoFitHei'+'ght']=_0x36bd10['autoFitHei'+'ght']),_0x36bd10['fontAsset']!==void(0x2*0xf32+-0xddb*0x1+-0x1*0x1089)&&(_0x4701cb['fontAsset']=_0x36bd10['fontAsset']),_0x36bd10['font']!==void(0x569*0x3+0x26f0+-0x372b)&&(_0x4701cb['font']=_0x36bd10['font']),_0x36bd10['alignment']!==void(-0x4*-0x1b4+0x1*-0x2651+0x1f81)&&(_0x4701cb['alignment']=_0x36bd10['alignment']),_0x36bd10['outlineCol'+'or']!==void(0x1a92+0x1706+0xc*-0x422)&&(_0x4701cb['outlineCol'+'or']=_0x36bd10['outlineCol'+'or']),_0x36bd10['outlineThi'+'ckness']!==void(0x1794+0x1158+0x1b*-0x184)&&(_0x4701cb['outlineThi'+'ckness']=_0x36bd10['outlineThi'+'ckness']),_0x36bd10['shadowColo'+'r']!==void(-0x1*-0x11a4+0x5d6+0x177a*-0x1)&&(_0x4701cb['shadowColo'+'r']=_0x36bd10['shadowColo'+'r']),_0x36bd10['shadowOffs'+'et']!==void(-0x6df+0x20e4+0x1*-0x1a05)&&(_0x4701cb['shadowOffs'+'et']=_0x36bd10['shadowOffs'+'et']),_0x36bd10['enableMark'+'up']!==void(-0xd1*-0x2d+-0x12f2+0x11cb*-0x1)&&(_0x4701cb['enableMark'+'up']=_0x36bd10['enableMark'+'up']));const _0x30ec10=_0x4701cb['_parseUpTo'+'Screen']();_0x30ec10['screen']&&_0x4701cb['_updateScr'+'een'](_0x30ec10['screen']),super['initialize'+'ComponentD'+'ata'](_0x4701cb,_0x36bd10,_0x3dbe76),_0x4701cb['_beingInit'+'ialized']=!(-0x268e+-0x47*-0x61+0xba8),_0x4701cb['type']===Cu&&_0x4701cb['_image']['_meshDirty']&&_0x4701cb['_image']['_updateMes'+'h'](_0x4701cb['_image']['mesh']);}['onAddCompo'+'nent'](_0x31c452,_0x75426){_0x31c452['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x4fbcae,_0x1e7193){_0x1e7193['onRemove']();}['cloneCompo'+'nent'](_0x51b99a,_0x40595d){const _0x146cba=_0x51b99a['element'],_0x45c058={'enabled':_0x146cba['enabled'],'width':_0x146cba['width'],'height':_0x146cba['height'],'anchor':_0x146cba['anchor']['clone'](),'pivot':_0x146cba['pivot']['clone'](),'margin':_0x146cba['margin']['clone'](),'alignment':_0x146cba['alignment']&&_0x146cba['alignment']['clone']()||_0x146cba['alignment'],'autoWidth':_0x146cba['autoWidth'],'autoHeight':_0x146cba['autoHeight'],'type':_0x146cba['type'],'rect':_0x146cba['rect']&&_0x146cba['rect']['clone']()||_0x146cba['rect'],'rtlReorder':_0x146cba['rtlReorder'],'unicodeConverter':_0x146cba['unicodeCon'+'verter'],'materialAsset':_0x146cba['materialAs'+'set'],'material':_0x146cba['material'],'color':_0x146cba['color']&&_0x146cba['color']['clone']()||_0x146cba['color'],'opacity':_0x146cba['opacity'],'textureAsset':_0x146cba['textureAss'+'et'],'texture':_0x146cba['texture'],'spriteAsset':_0x146cba['spriteAsse'+'t'],'sprite':_0x146cba['sprite'],'spriteFrame':_0x146cba['spriteFram'+'e'],'pixelsPerUnit':_0x146cba['pixelsPerU'+'nit'],'spacing':_0x146cba['spacing'],'lineHeight':_0x146cba['lineHeight'],'wrapLines':_0x146cba['wrapLines'],'layers':_0x146cba['layers'],'fontSize':_0x146cba['fontSize'],'minFontSize':_0x146cba['minFontSiz'+'e'],'maxFontSize':_0x146cba['maxFontSiz'+'e'],'autoFitWidth':_0x146cba['autoFitWid'+'th'],'autoFitHeight':_0x146cba['autoFitHei'+'ght'],'maxLines':_0x146cba['maxLines'],'fontAsset':_0x146cba['fontAsset'],'font':_0x146cba['font'],'useInput':_0x146cba['useInput'],'fitMode':_0x146cba['fitMode'],'batchGroupId':_0x146cba['batchGroup'+'Id'],'mask':_0x146cba['mask'],'outlineColor':_0x146cba['outlineCol'+'or']&&_0x146cba['outlineCol'+'or']['clone']()||_0x146cba['outlineCol'+'or'],'outlineThickness':_0x146cba['outlineThi'+'ckness'],'shadowColor':_0x146cba['shadowColo'+'r']&&_0x146cba['shadowColo'+'r']['clone']()||_0x146cba['shadowColo'+'r'],'shadowOffset':_0x146cba['shadowOffs'+'et']&&_0x146cba['shadowOffs'+'et']['clone']()||_0x146cba['shadowOffs'+'et'],'enableMarkup':_0x146cba['enableMark'+'up']};return _0x146cba['key']!==void(-0x2*-0x277+-0x228c+0x1d9e)&&_0x146cba['key']!==null?_0x45c058['key']=_0x146cba['key']:_0x45c058['text']=_0x146cba['text'],this['addCompone'+'nt'](_0x40595d,_0x45c058);}['getTextEle'+'mentMateri'+'al'](_0xbe22ad,_0x45b0d8,_0x14c2db){const _0x8b144b=(_0xbe22ad&&-0x141*-0x7+0x5a5+-0xe6b)|(_0x45b0d8&&0x212d+-0x49*0x56+-0x8a5*0x1)|(_0x14c2db&&-0x53+-0x98f+-0xb5*-0xe);let _0xf88a40=this['_defaultTe'+'xtMaterial'+'s'][_0x8b144b];if(_0xf88a40)return _0xf88a40;let _0x68739d='TextMateri'+'al';return _0xf88a40=new Ut(),_0x45b0d8?(_0xf88a40['msdfMap']=this['_defaultTe'+'xture'],_0xf88a40['msdfTextAt'+'tribute']=_0x14c2db,_0xf88a40['emissive']['set'](0x3*-0x2d7+-0xdee*0x2+0x1*0x2462,0x22*-0xdf+-0x1366+0x3105,-0xceb+-0x240+-0x3cb*-0x4)):(_0x68739d='Bitmap'+_0x68739d,_0xf88a40['emissive']['set'](-0xd09*-0x2+-0x5*0x12d+-0x10*0x143,0x1e27+-0x14b4+-0x972,-0x25d7+0x49*-0x22+-0x2f8a*-0x1),_0xf88a40['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0xf88a40['opacityMap']=this['_defaultTe'+'xture'],_0xf88a40['opacityMap'+'Channel']='a'),_0xbe22ad&&(_0x68739d='ScreenSpac'+'e'+_0x68739d,_0xf88a40['depthTest']=!(0x255+0x12a0+0xa7a*-0x2)),_0xf88a40['name']='default'+_0x68739d,_0xf88a40['useLightin'+'g']=!(0x9d1+0x17*-0x65+-0xbd),_0xf88a40['useTonemap']=!(0x1*0x1d75+0x4b*-0x6+-0x2c5*0xa),_0xf88a40['useFog']=!(-0x1*0x12f9+0x1*-0x13c5+0x26bf),_0xf88a40['useSkybox']=!(-0xeef+-0x2c5*0x3+0x173f),_0xf88a40['diffuse']['set'](-0x8*-0x482+-0x2421*0x1+-0x1*-0x11,0x5f3*-0x1+-0x37*-0x89+0x2*-0xbbe,0xee*0xb+0x11c9+-0x1c03),_0xf88a40['opacity']=0x1b06*-0x1+-0x59+0x1b5f+0.5,_0xf88a40['blendType']=Gn,_0xf88a40['depthWrite']=!(-0xa01*0x1+0x2403+-0x1a01),_0xf88a40['emissiveVe'+'rtexColor']=!(-0x221c+0x10d5+0x1147),_0xf88a40['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x8b144b]=_0xf88a40,_0xf88a40;}['_createBas'+'eImageMate'+'rial'](){const _0x36c1a3=new Ut();return _0x36c1a3['diffuse']['set'](0x173+0x321+-0x494,-0x14b*-0xb+0x35*-0x1b+-0x8a2,-0x1*0xac1+-0x18a6+0x9*0x3ef),_0x36c1a3['emissive']['set'](-0x12a4+-0x16de+0x2983,0x56c*0x3+-0x19b7+0x974,-0x1*0x2177+-0x7c+0x21f4),_0x36c1a3['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x36c1a3['opacityMap']=this['_defaultTe'+'xture'],_0x36c1a3['opacityMap'+'Channel']='a',_0x36c1a3['useLightin'+'g']=!(0x4*-0x593+-0x737*0x2+0x24bb*0x1),_0x36c1a3['useTonemap']=!(-0x3*-0xafb+0x27*0x1+-0x2117),_0x36c1a3['useFog']=!(0x5f5*0x5+-0xb90+0x35*-0x58),_0x36c1a3['useSkybox']=!(-0x1*0xdbb+-0x1b92+0x294e),_0x36c1a3['blendType']=Gn,_0x36c1a3['depthWrite']=!(-0x5ad*0x1+0x9cc*-0x3+-0x43*-0x86),_0x36c1a3;}['getImageEl'+'ementMater'+'ial'](_0xc5cf1c,_0x34b333,_0x33ac80,_0x298c2a){return _0xc5cf1c?_0x34b333?_0x33ac80?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0xd34+0x1*-0x19a2+-0x3*-0x425),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x1*0x856+-0xeef+0x69a,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x1*0x25ff+-0x17dd+-0x1*0xe21),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0xb34*0x3+-0x1242+-0xf59),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x6*-0x36f+0x5*0x34+-0xb*0x1f7),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x2*-0xc8e+-0xb1f+-0x14*0xb3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x298c2a?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x270f+0x7a5*-0x2+0x12*-0x152),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x1*0xcd+0xb7+-0x183,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x330*-0x4+0x189c+-0xbdb),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x1539*-0x1+0x1fb6+-0xa7c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x3*0x833+-0x186f+-0x1*-0x3109),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x1*-0xefc+0x1cd1+-0xdd4),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x7ac*-0x4+-0x24e1+0x1a*0x3d),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0xbc4+0x1564*0x1+0x99f*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x1*-0x1a85+-0x3f9+0x1d*-0xc7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0xab6*-0x2+0x10*-0x155+0x1*-0x1b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1f6d+-0x1c3e+-0x32e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x19a9+-0x1*0x1ea6+0x3850),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x33ac80?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x8e1*-0x1+-0xe17+0x537),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x298c2a?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1d87+-0x722*-0x2+-0x2bca),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x36c+-0x77*0x4f+-0x1413*-0x2),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x34b333?_0x33ac80?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x1*0x1645+0x1fbb+-0x975,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x915+-0x33*-0x8d+-0x1*0x252b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x1165+-0x17*-0xb9+-0x1*-0xc7),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0xe21*0x2+0x9f1*0x3+-0x2*0x1d0a),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x15f2+-0x1f71+0x20*0x4c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x298c2a?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x1*0xe12+-0x15d2+-0x9*-0x3fd,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x21ad+-0xa88+-0x1*-0x2c36),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x1*-0x65b+0x2fc*-0x5+0x892),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x1971+0x2*-0x12dc+0xc48),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1ffb+0x25*0x4c+-0x40*-0x54),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0xad*-0x1d+0xcf2+-0x47*-0x18,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x1*-0x23e9+0x97a+0x1a70),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x19fd+-0x16e6+-0x12a*-0x2a),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0xf*-0x27f+0x2fc*0x5+-0x2*0x1a2e),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x1*-0x24c5+0x1710+-0x7*0x88c),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x33ac80?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x298c2a?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x47ceb4){this['_unicodeCo'+'nverter']=_0x47ceb4;}['registerRt'+'lReorder'](_0x31d818){this['_rtlReorde'+'r']=_0x31d818;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x344a86,_0x3ae7bd){super(_0x344a86,_0x3ae7bd),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x2*0x870+0x2238+-0x1158),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x51*-0x72+-0x2*-0xd43+-0x3e98,-0x268+0x9*-0x38f+0x6e3*0x5),this['_linearSpr'+'ingX']=!(-0x5*0x656+0x1e56+0x3*0x73),this['_linearSti'+'ffnessX']=0x2f8+0xfea+0x12e2*-0x1,this['_linearDam'+'pingX']=-0x2ad*-0x7+0x2087+-0x3341,this['_linearEqu'+'ilibriumX']=0x1607*-0x1+-0xc0b*-0x1+-0x9*-0x11c,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0xdb9+0x13*0x5a+-0x1467,0x1*0x1af6+0x992+0xa7*-0x38),this['_linearSpr'+'ingY']=!(-0x111a+0x20d2*-0x1+0x31ed),this['_linearSti'+'ffnessY']=0x1*0x1262+0x2264+0x3c5*-0xe,this['_linearDam'+'pingY']=0x2000+-0x65*0x17+0xb76*-0x2,this['_linearEqu'+'ilibriumY']=-0x79*-0x26+0xdfa*-0x1+-0x3fc,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(0x377*-0x2+0x3a8+0x346,-0x31e*-0x7+-0xc1b+-0x9b7),this['_linearSpr'+'ingZ']=!(0x2546*-0x1+-0x2572+0x4ab9),this['_linearSti'+'ffnessZ']=0x27*0xc1+-0x23*-0x10b+-0x41e8,this['_linearDam'+'pingZ']=-0x2bf*-0x7+-0x2f9*-0xd+-0x39dd,this['_linearEqu'+'ilibriumZ']=-0x5*0x51+0xd2b*0x2+-0x18c1,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0xbb*0x29+-0x43a*0x2+-0x157f*0x1,-0x264*-0xd+0x2201*0x1+-0x1*0x4115),this['_angularSp'+'ringX']=!(0x1525*-0x1+-0x119*0x13+0x2a01),this['_angularSt'+'iffnessX']=0x251f*-0x1+0x7ee+0x1*0x1d31,this['_angularDa'+'mpingX']=0x1fb7+-0x9*0x221+-0xc8d,this['_angularEq'+'uilibriumX']=-0x3*-0xa1d+-0x11*0x3e+-0x1a39,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(-0x3d0+0x1*-0xfa3+0xd*0x17f,-0x1*-0x225d+-0x2*0x709+-0x144b),this['_angularSp'+'ringY']=!(-0x12c8+0x19ab*-0x1+-0x8e4*-0x5),this['_angularSt'+'iffnessY']=0x888+0x1e*-0x1+-0x3*0x2ce,this['_angularDa'+'mpingY']=0x4*0x92b+-0x108c+-0x141f,this['_angularEq'+'uilibriumY']=-0x582+-0x1853+0x1dd5,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x30d+-0x12bc+0x5*0x323,0x409*0x1+0x1e3f+0x2248*-0x1),this['_angularSp'+'ringZ']=!(-0x1*0x36c+-0x590+-0x3b*-0x27),this['_angularEq'+'uilibriumZ']=0x1925+0x24*-0xda+0x583,this['_angularDa'+'mpingZ']=-0x2216+0x1*0xec0+0x1357,this['_angularSt'+'iffnessZ']=0x9c8*0x1+0x1ed6+-0x6*0x6c5,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x36885f){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x36885f,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x518d59){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x518d59,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x5c2982){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x5c2982&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x5c2982),this['_breakForc'+'e']=_0x5c2982);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x21cfce){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x21cfce,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x595034){this['_angularLi'+'mitsX']['equals'](_0x595034)||(this['_angularLi'+'mitsX']['copy'](_0x595034),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x33e61a){this['_angularMo'+'tionX']!==_0x33e61a&&(this['_angularMo'+'tionX']=_0x33e61a,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x11b168){this['_angularLi'+'mitsY']['equals'](_0x11b168)||(this['_angularLi'+'mitsY']['copy'](_0x11b168),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x1dba49){this['_angularMo'+'tionY']!==_0x1dba49&&(this['_angularMo'+'tionY']=_0x1dba49,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x539508){this['_angularLi'+'mitsZ']['equals'](_0x539508)||(this['_angularLi'+'mitsZ']['copy'](_0x539508),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x1a32c6){this['_angularMo'+'tionZ']!==_0x1a32c6&&(this['_angularMo'+'tionZ']=_0x1a32c6,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x558188){this['_linearLim'+'itsX']['equals'](_0x558188)||(this['_linearLim'+'itsX']['copy'](_0x558188),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x59dcef){this['_linearMot'+'ionX']!==_0x59dcef&&(this['_linearMot'+'ionX']=_0x59dcef,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x269482){this['_linearLim'+'itsY']['equals'](_0x269482)||(this['_linearLim'+'itsY']['copy'](_0x269482),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x4ed1f3){this['_linearMot'+'ionY']!==_0x4ed1f3&&(this['_linearMot'+'ionY']=_0x4ed1f3,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x367707){this['_linearLim'+'itsZ']['equals'](_0x367707)||(this['_linearLim'+'itsZ']['copy'](_0x367707),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x231ab4){this['_linearMot'+'ionZ']!==_0x231ab4&&(this['_linearMot'+'ionZ']=_0x231ab4,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x1e4b4c,_0x55dd31){const _0x376a3c=_0x1e4b4c['getTransla'+'tion'](),_0x236640=new le();_0x236640['setFromMat'+'4'](_0x1e4b4c);const _0xeba13c=new Ammo['btVector3'](_0x376a3c['x'],_0x376a3c['y'],_0x376a3c['z']),_0x2246e0=new Ammo['btQuaterni'+'on'](_0x236640['x'],_0x236640['y'],_0x236640['z'],_0x236640['w']);_0x55dd31['setOrigin'](_0xeba13c),_0x55dd31['setRotatio'+'n'](_0x2246e0),Ammo['destroy'](_0xeba13c),Ammo['destroy'](_0x2246e0);}['_updateAng'+'ularLimits'](){const _0x4d20f2=this['_constrain'+'t'];if(_0x4d20f2){let _0x358554,_0x2a1aef,_0x3efae1,_0x4d91b9,_0x10c255,_0x5ec8bc;this['_angularMo'+'tionX']===qa?(_0x358554=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x4d91b9=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x358554=-0xb1f+-0x48a+0xfaa,_0x4d91b9=0x248*0x2+0xb2d*0x1+-0xfbd):_0x358554=_0x4d91b9=-0x1e*0xc9+-0x17d0+-0x1*-0x2f5e,this['_angularMo'+'tionY']===qa?(_0x2a1aef=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x10c255=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x2a1aef=0x1*-0x2059+-0x231*0xc+0x3aa6*0x1,_0x10c255=0x1972+0xe89+-0x27fb):_0x2a1aef=_0x10c255=-0xb*-0x369+-0x15f+-0x2424,this['_angularMo'+'tionZ']===qa?(_0x3efae1=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x5ec8bc=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x3efae1=0x35*-0x9d+0x242d+-0x3ab,_0x5ec8bc=0x1*0x207d+-0x1bad+-0x4d0):_0x3efae1=_0x5ec8bc=-0x3*0xcaf+0xb50+-0x25*-0xb9;const _0x2e0828=new Ammo['btVector3'](_0x358554,_0x2a1aef,_0x3efae1);_0x4d20f2['setAngular'+'LowerLimit'](_0x2e0828),_0x2e0828['setValue'](_0x4d91b9,_0x10c255,_0x5ec8bc),_0x4d20f2['setAngular'+'UpperLimit'](_0x2e0828),Ammo['destroy'](_0x2e0828);}}['_updateLin'+'earLimits'](){const _0xee0691=this['_constrain'+'t'];if(_0xee0691){let _0x45ddd7,_0x2544e5,_0x5aa823,_0x556363,_0x28b826,_0x1b21d0;this['_linearMot'+'ionX']===qa?(_0x45ddd7=this['_linearLim'+'itsX']['x'],_0x556363=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x45ddd7=0xaf1+0x1fe7+-0x2ad7,_0x556363=0x7*-0x37f+-0x15d*-0xb+0x97a):_0x45ddd7=_0x556363=0x7d8+-0xa6a+0x149*0x2,this['_linearMot'+'ionY']===qa?(_0x2544e5=this['_linearLim'+'itsY']['x'],_0x28b826=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x2544e5=-0x1173+0x9f9+0x77b,_0x28b826=-0x2*-0xc41+0x129*0x1+-0x19ab):_0x2544e5=_0x28b826=-0x2e1+0x1*-0x28e+0x56f,this['_linearMot'+'ionZ']===qa?(_0x5aa823=this['_linearLim'+'itsZ']['x'],_0x1b21d0=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x5aa823=0xfa0+-0x1c3a*0x1+0x7*0x1cd,_0x1b21d0=-0x49*-0x18+0x1b41+-0x2219):_0x5aa823=_0x1b21d0=-0x4e9+0x25*-0x103+0x2a58;const _0x46a3db=new Ammo['btVector3'](_0x45ddd7,_0x2544e5,_0x5aa823);_0xee0691['setLinearL'+'owerLimit'](_0x46a3db),_0x46a3db['setValue'](_0x556363,_0x28b826,_0x1b21d0),_0xee0691['setLinearU'+'pperLimit'](_0x46a3db),Ammo['destroy'](_0x46a3db);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x15668e=new te(),_0x5136c2=this['_entityA']['rigidbody']['body'];_0x5136c2['activate']();const _0x394bbe=this['entity']['getWorldTr'+'ansform'](),_0x395db2=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x15668e['mul2'](_0x395db2,_0x394bbe);const _0x533f7e=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x15668e,_0x533f7e),this['_entityB']&&this['_entityB']['rigidbody']){const _0x715c48=this['_entityB']['rigidbody']['body'];_0x715c48['activate']();const _0x56933e=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x15668e['mul2'](_0x56933e,_0x394bbe);const _0x3e1afa=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x15668e,_0x3e1afa),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5136c2,_0x715c48,_0x533f7e,_0x3e1afa,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3e1afa);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5136c2,_0x533f7e,!this['_enableCol'+'lision']);Ammo['destroy'](_0x533f7e);const _0x3a6d9d=['X','Y','Z','X','Y','Z'];for(let _0x2d2f1a=0xb*-0x299+-0xec7+0x1f*0x166;_0x2d2f1a<0x5bb*0x3+0x1*0x7bf+-0x18ea;_0x2d2f1a++){const _0x47e645=_0x2d2f1a<0x1754*0x1+-0x1d9e+0x64d*0x1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x2d2f1a,this[_0x47e645+'Spring'+_0x3a6d9d[_0x2d2f1a]]),this['_constrain'+'t']['setDamping'](_0x2d2f1a,this[_0x47e645+'Damping'+_0x3a6d9d[_0x2d2f1a]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x2d2f1a,this[_0x47e645+('Equilibriu'+'m')+_0x3a6d9d[_0x2d2f1a]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x2d2f1a,this[_0x47e645+'Stiffness'+_0x3a6d9d[_0x2d2f1a]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x3d4668){for(const _0x2d130c of RR)_0x3d4668['hasOwnProp'+'erty'](_0x2d130c)&&(_0x3d4668[_0x2d130c]instanceof J?this['_'+_0x2d130c]['copy'](_0x3d4668[_0x2d130c]):this['_'+_0x2d130c]=_0x3d4668[_0x2d130c]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x329351,_0x4c7f33,_0x224d4f){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0xd8e794=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x31e724=>{['X','Y','Z']['forEach'](_0x523ff0=>{const _0x83583b=_0xd8e794+_0x31e724+_0x523ff0,_0x4b5865='_'+_0x83583b;let _0x18c1d1=_0xd8e794==='linear'?0xcb7+0x1501*0x1+0x1a*-0x14c:-0x927+-0x12+-0xc*-0xc5;_0x523ff0==='Y'&&(_0x18c1d1+=-0x1a65*0x1+-0x1db*0x7+0x2763*0x1),_0x523ff0==='Z'&&(_0x18c1d1+=0x19*0x153+-0x291*0xb+-0x4de),Object['defineProp'+'erty'](ym['prototype'],_0x83583b,{'get':function(){return this[_0x4b5865];},'set':function(_0x1b299f){this[_0x4b5865]!==_0x1b299f&&(this[_0x4b5865]=_0x1b299f,this['_constrain'+'t'][OR[_0x31e724]](_0x18c1d1,_0x1b299f));}});});});});class FR{constructor(){this['enabled']=!(-0x6*-0x110+-0x182c*-0x1+-0x1e8c);}}const Fu=['enabled'];class NR extends ct{constructor(_0x131404){super(_0x131404),this['id']='joint',this['app']=_0x131404,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x36e831,_0x200c29,_0x4c40c9){_0x36e831['initFromDa'+'ta'](_0x200c29),super['initialize'+'ComponentD'+'ata'](_0x36e831,_0x200c29,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0x12d7*0x2+0x1829*0x1+0xd85),h(this,'_minHeight',-0x1772+-0x5*0x4be+0x6*0x7dc),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x12fb+-0x1*-0x150a+-0x20f),h(this,'_fitHeight'+'Proportion',-0x2568+-0x11f7+-0x3f*-0xe1),h(this,'_excludeFr'+'omLayout',!(-0x1d7+-0x7e8+0x9c0));}set['minWidth'](_0x5e6c93){_0x5e6c93!==this['_minWidth']&&(this['_minWidth']=_0x5e6c93,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x3841d5){_0x3841d5!==this['_minHeight']&&(this['_minHeight']=_0x3841d5,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x218c8d){_0x218c8d!==this['_maxWidth']&&(this['_maxWidth']=_0x218c8d,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x529a71){_0x529a71!==this['_maxHeight']&&(this['_maxHeight']=_0x529a71,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x2af172){_0x2af172!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x2af172,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x253457){_0x253457!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x253457,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x536779){_0x536779!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x536779,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0xc68+0x1*0x1d62+-0x29ca);}}const e0=['enabled'];class UR extends ct{constructor(_0x1859c2){super(_0x1859c2),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x1601b3,_0x9b4711,_0x2e6027){_0x9b4711['enabled']!==void(0x1524+-0x1899+0x375)&&(_0x1601b3['enabled']=_0x9b4711['enabled']),_0x9b4711['minWidth']!==void(0x197*-0x13+-0x203a+0x3e6f)&&(_0x1601b3['minWidth']=_0x9b4711['minWidth']),_0x9b4711['minHeight']!==void(0x3*-0xbb9+-0xeab+-0x31d6*-0x1)&&(_0x1601b3['minHeight']=_0x9b4711['minHeight']),_0x9b4711['maxWidth']!==void(0x107*-0x5+0x1f9f+-0x6*0x46a)&&(_0x1601b3['maxWidth']=_0x9b4711['maxWidth']),_0x9b4711['maxHeight']!==void(-0xe8c+0x28*-0x57+-0x4*-0x709)&&(_0x1601b3['maxHeight']=_0x9b4711['maxHeight']),_0x9b4711['fitWidthPr'+'oportion']!==void(-0x145f+-0x15c6+0x2a25)&&(_0x1601b3['fitWidthPr'+'oportion']=_0x9b4711['fitWidthPr'+'oportion']),_0x9b4711['fitHeightP'+'roportion']!==void(0x191e+-0x1c6c+-0x2f*-0x12)&&(_0x1601b3['fitHeightP'+'roportion']=_0x9b4711['fitHeightP'+'roportion']),_0x9b4711['excludeFro'+'mLayout']!==void(-0x1*-0x10bf+0x33*-0x8e+0x5*0x24f)&&(_0x1601b3['excludeFro'+'mLayout']=_0x9b4711['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1601b3,_0x9b4711,_0x2e6027);}['cloneCompo'+'nent'](_0x14acec,_0x26e5a5){const _0x3eff10=_0x14acec['layoutchil'+'d'];return this['addCompone'+'nt'](_0x26e5a5,{'enabled':_0x3eff10['enabled'],'minWidth':_0x3eff10['minWidth'],'minHeight':_0x3eff10['minHeight'],'maxWidth':_0x3eff10['maxWidth'],'maxHeight':_0x3eff10['maxHeight'],'fitWidthProportion':_0x3eff10['fitWidthPr'+'oportion'],'fitHeightProportion':_0x3eff10['fitHeightP'+'roportion'],'excludeFromLayout':_0x3eff10['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x259b+-0x21d*0x1+-0x289*0xe,BR=0xe05*-0x1+-0xb*-0x286+-0xdbc,Qg=0x1*-0xd4f+-0xcbe+0x1a0f*0x1,zR=0x25b1*-0x1+0x196*0x13+-0x39*-0x22,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x4cc088){let _0x34d746;const _0x37b0ad=Oh[_0x4cc088],_0x2fcf83=Oh[vm[_0x4cc088]];function _0x252547(_0x54e92c,_0x53a70a){return-_0x53a70a[_0x37b0ad['size']]*_0x54e92c['pivot'][_0x37b0ad['axis']];}function _0x516217(_0x1bfd38,_0xc27470){return-_0xc27470[_0x2fcf83['size']]*_0x1bfd38['pivot'][_0x2fcf83['axis']];}function _0x4a13fe(_0x3927c5,_0x7a3437){return _0x7a3437[_0x37b0ad['size']]*(-0x137c+0xc41*0x2+0x505*-0x1-_0x3927c5['pivot'][_0x37b0ad['axis']]);}function _0x234bbc(_0x2cea60,_0x600609){_0x2cea60=_0x2cea60['filter'](_0x13192d),_0x34d746=_0x600609,ls['x']=_0x34d746['containerS'+'ize']['x']-_0x34d746['padding']['x']-_0x34d746['padding']['z'],ls['y']=_0x34d746['containerS'+'ize']['y']-_0x34d746['padding']['y']-_0x34d746['padding']['w'],_0x92ad7f(_0x2cea60);const _0x527ee7=_0x329ccc(_0x57ed43(_0x2cea60)),_0x18cb89=_0x1c4b7c(_0x527ee7,_0x43c01e(_0x527ee7)),_0x116b23=_0x39c31e(_0x527ee7,_0x18cb89);return _0x9867af(_0x527ee7,_0x18cb89,_0x116b23),_0x157d21(_0x527ee7,_0x18cb89,_0x116b23),_0x50609e(_0x527ee7);}function _0x13192d(_0x4292a2){const _0x97d789=_0x4292a2['entity']['layoutchil'+'d'];return!_0x97d789||!_0x97d789['enabled']||!_0x97d789['excludeFro'+'mLayout'];}function _0x92ad7f(_0x5e08e4){for(let _0x52e8bf=-0x1*-0x22f7+-0xa17*-0x1+-0x2d0e;_0x52e8bf<_0x5e08e4['length'];++_0x52e8bf){const _0xbe432c=_0x5e08e4[_0x52e8bf],_0x256d53=_0xbe432c['anchor'];(_0x256d53['x']!==0xc95+0x1bee+-0x3*0xd81||_0x256d53['y']!==0x1225+-0x739*-0x2+-0x67*0x51||_0x256d53['z']!==0xc9b*-0x1+-0xa6*0x1c+0x20d*0xf||_0x256d53['w']!==0x19bf+0x2194+-0x3b53)&&(_0xbe432c['anchor']=re['ZERO']);}}function _0x57ed43(_0x542bb2){if(!_0x34d746['wrap'])return[_0x542bb2];const _0x3349ba=[[]],_0x56364c=_0x557449(_0x542bb2);let _0x41cabd=-0x1*-0x1861+-0x4a*0x45+-0x46f;const _0x345f97=_0x34d746[_0x37b0ad['fitting']]===Qg;for(let _0x187ef3=0x8e2+-0x1415+0xb33*0x1;_0x187ef3<_0x542bb2['length'];++_0x187ef3){_0x3349ba[_0x3349ba['length']-(-0x48c+-0x35*0xa9+0x2*0x13c5)]['length']>-0x26b5+0x1d22+0x81*0x13&&(_0x41cabd+=_0x34d746['spacing'][_0x37b0ad['axis']]);const _0x15f11f=_0x56364c[_0x187ef3][_0x37b0ad['size']];_0x41cabd+=_0x15f11f,!_0x345f97&&_0x41cabd>ls[_0x37b0ad['axis']]&&_0x3349ba[_0x3349ba['length']-(-0x10f6*0x2+0x4e0+0x1d0d)]['length']!==-0x1*0x8ad+-0x193*-0x3+0x3f4&&(_0x41cabd=_0x15f11f,_0x3349ba['push']([])),_0x3349ba[_0x3349ba['length']-(-0x973+0x1f19+-0x737*0x3)]['push'](_0x542bb2[_0x187ef3]),_0x345f97&&_0x41cabd>ls[_0x37b0ad['axis']]&&_0x187ef3!==_0x542bb2['length']-(-0x1*0x1d11+0x1f6a+-0x258)&&(_0x41cabd=-0x30a*-0x3+-0x248*-0x7+-0x1916,_0x3349ba['push']([]));}return _0x3349ba;}function _0x329ccc(_0x4c3a95){const _0x16d7ba=_0x34d746['orientatio'+'n']===Ce&&_0x34d746['reverseX']||_0x34d746['orientatio'+'n']===je&&_0x34d746['reverseY'],_0x3aecc9=_0x34d746['orientatio'+'n']===Ce&&_0x34d746['reverseY']||_0x34d746['orientatio'+'n']===je&&_0x34d746['reverseX'];if(_0x16d7ba){for(let _0x9e9cf=0x1ca5+-0x2*-0xfbf+-0x3c23;_0x9e9cf<_0x4c3a95['length'];++_0x9e9cf)_0x16d7ba&&_0x4c3a95[_0x9e9cf]['reverse']();}return _0x3aecc9&&_0x4c3a95['reverse'](),_0x4c3a95;}function _0x43c01e(_0x1de661){const _0x218ba2=[];for(let _0x191d4b=0x1bdb+-0x17f9*-0x1+-0x33d4;_0x191d4b<_0x1de661['length'];++_0x191d4b){const _0x325ca2=_0x1de661[_0x191d4b],_0x126fc9=_0x557449(_0x325ca2),_0x11a007=_0x60f2a(_0x126fc9,_0x37b0ad),_0xdab231=_0x2ea76c(_0x34d746[_0x37b0ad['fitting']],_0x11a007,ls[_0x37b0ad['axis']]);_0xdab231===os['APPLY_STRE'+'TCHING']?_0x7dd0b8(_0x126fc9,_0x11a007,_0x37b0ad):_0xdab231===os['APPLY_SHRI'+'NKING']&&_0xcc972c(_0x126fc9,_0x11a007,_0x37b0ad),_0x218ba2['push'](_0x126fc9);}return _0x218ba2;}function _0x1c4b7c(_0x5567b8,_0x4fd650){const _0x24d605=[],_0x2ee3ff=[];for(let _0x28f583=-0x19e1*0x1+0x1909+0xd8;_0x28f583<_0x5567b8['length'];++_0x28f583){const _0x1fef25=_0x5567b8[_0x28f583];_0x1fef25['largestEle'+'ment']=null,_0x1fef25['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x39621e=0x1601*-0x1+-0x1097+0x208*0x13;_0x39621e<_0x1fef25['length'];++_0x39621e){const _0x2876c3=_0x4fd650[_0x28f583][_0x39621e];_0x2876c3[_0x2fcf83['size']]>_0x1fef25['largestSiz'+'e'][_0x2fcf83['size']]&&(_0x1fef25['largestEle'+'ment']=_0x1fef25[_0x39621e],_0x1fef25['largestSiz'+'e']=_0x2876c3);}_0x24d605['push'](_0x1fef25['largestEle'+'ment']),_0x2ee3ff['push'](_0x1fef25['largestSiz'+'e']);}const _0x472dd9=_0x60f2a(_0x2ee3ff,_0x2fcf83),_0x4bc3bc=_0x2ea76c(_0x34d746[_0x2fcf83['fitting']],_0x472dd9,ls[_0x2fcf83['axis']]);_0x4bc3bc===os['APPLY_STRE'+'TCHING']?_0x7dd0b8(_0x2ee3ff,_0x472dd9,_0x2fcf83):_0x4bc3bc===os['APPLY_SHRI'+'NKING']&&_0xcc972c(_0x2ee3ff,_0x472dd9,_0x2fcf83);for(let _0x2266bb=-0x1d92*0x1+0x2d7*-0x2+-0x2340*-0x1;_0x2266bb<_0x5567b8['length'];++_0x2266bb){const _0x30742a=_0x5567b8[_0x2266bb];for(let _0x256433=-0x6f6+0x1a22+-0x332*0x6;_0x256433<_0x30742a['length'];++_0x256433){const _0x1a275d=_0x4fd650[_0x2266bb][_0x256433],_0xe8f55=_0x1a275d[_0x2fcf83['size']],_0x3a36e1=_0x5567b8['length']===0x388+-0x1f93+0xe06*0x2?ls[_0x2fcf83['axis']]:_0x30742a['largestSiz'+'e'][_0x2fcf83['size']],_0x2e9a40=_0x2ea76c(_0x34d746[_0x2fcf83['fitting']],_0xe8f55,_0x3a36e1);_0x2e9a40===os['APPLY_STRE'+'TCHING']?_0x1a275d[_0x2fcf83['size']]=Math['min'](_0x3a36e1,_0x1a275d[_0x2fcf83['maxSize']]):_0x2e9a40===os['APPLY_SHRI'+'NKING']&&(_0x1a275d[_0x2fcf83['size']]=Math['max'](_0x3a36e1,_0x1a275d[_0x2fcf83['minSize']]));}}return _0x4fd650;}function _0x2ea76c(_0xd6f680,_0x17712c,_0x52d2b4){switch(_0xd6f680){case Nu:return os['NONE'];case BR:return _0x17712c<_0x52d2b4?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x17712c>=_0x52d2b4?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x17712c<_0x52d2b4?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0xd6f680);}}function _0x60f2a(_0x48e9a8,_0x129b85){const _0x8a7df1=_0x55b393(_0x48e9a8,_0x129b85['size']),_0x450f94=(_0x48e9a8['length']-(0x1a93+0xa*0x26b+-0x32c0))*_0x34d746['spacing'][_0x129b85['axis']];return _0x8a7df1+_0x450f94;}function _0x7dd0b8(_0x3b7c5f,_0x584270,_0x47dc1d){const _0x8d2b03=_0xb50e9e(_0x3b7c5f,_0x47dc1d['maxSize']),_0x39b2fd=_0x1b8738(_0x3b7c5f,_0x47dc1d['fittingPro'+'portion']),_0x4e7b56=_0x5790f8(_0x39b2fd,_0x8d2b03);let _0x4980b8=ls[_0x47dc1d['axis']]-_0x584270;for(let _0x5834c3=-0x7ce+-0x34e+0xb1c;_0x5834c3<_0x3b7c5f['length'];++_0x5834c3){const _0x4f9c73=_0x8d2b03[_0x5834c3],_0x266686=_0x192e1e(_0x4f9c73,_0x4980b8,_0x39b2fd,_0x4e7b56),_0x28c136=_0x3b7c5f[_0x4f9c73][_0x47dc1d['size']]+_0x266686,_0x1eb005=_0x3b7c5f[_0x4f9c73][_0x47dc1d['maxSize']],_0x544f06=Math['min'](_0x28c136,_0x1eb005);_0x3b7c5f[_0x4f9c73][_0x47dc1d['size']]=_0x544f06;const _0x3c55e7=Math['max'](_0x28c136-_0x544f06,0x1c1f+0x24a3*-0x1+-0xa*-0xda),_0x5bd04a=_0x266686-_0x3c55e7;_0x4980b8-=_0x5bd04a;}}function _0xcc972c(_0x31a243,_0x4a61a2,_0x547252){const _0x5943ca=_0xb50e9e(_0x31a243,_0x547252['minSize'],!(0xed0*-0x2+-0xa24+-0x5*-0x7f4)),_0x5559bf=_0x1b8738(_0x31a243,_0x547252['fittingPro'+'portion']),_0x2cf70c=_0xeb6d98(_0x5559bf),_0xf2479=_0x5790f8(_0x2cf70c,_0x5943ca);let _0x355870=_0x4a61a2-ls[_0x547252['axis']];for(let _0x328098=-0x1*-0x5f8+0x16fc+0x11*-0x1b4;_0x328098<_0x31a243['length'];++_0x328098){const _0x13f9b0=_0x5943ca[_0x328098],_0x2fa3eb=_0x192e1e(_0x13f9b0,_0x355870,_0x2cf70c,_0xf2479),_0x7adb81=_0x31a243[_0x13f9b0][_0x547252['size']]-_0x2fa3eb,_0x1b83f=_0x31a243[_0x13f9b0][_0x547252['minSize']],_0x3296f5=Math['max'](_0x7adb81,_0x1b83f);_0x31a243[_0x13f9b0][_0x547252['size']]=_0x3296f5;const _0x3766e8=Math['max'](_0x3296f5-_0x7adb81,0x11c8+-0x5*0x626+0xcf6),_0x181ba2=_0x2fa3eb-_0x3766e8;_0x355870-=_0x181ba2;}}function _0x192e1e(_0xd5e17b,_0x2c34e0,_0x246c4d,_0xfafaa3){const _0x579029=_0x246c4d[_0xd5e17b],_0x4a5762=_0xfafaa3[_0xd5e17b];return Math['abs'](_0x579029)<0x7f*0x33+0x9*-0x15f+-0xcf6+0.00001&&Math['abs'](_0x4a5762)<-0x1f69+-0x7d3*0x2+0x1*0x2f0f+0.00001?_0x2c34e0:_0x2c34e0*_0x579029/_0x4a5762;}function _0x39c31e(_0x5e5391,_0x46400f){const _0x2cb7cb={};_0x2cb7cb[_0x37b0ad['axis']]=-0x2*-0x3c5+-0x2f*0x59+0x8cd,_0x2cb7cb[_0x2fcf83['axis']]=0x31a*-0x1+-0x2e*-0x7a+-0x12d2,_0x5e5391[_0x37b0ad['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x359afb=[];for(let _0x51220c=0x1985*-0x1+-0x1f4d+0x38d2;_0x51220c<_0x5e5391['length'];++_0x51220c){const _0x3d1476=_0x5e5391[_0x51220c];if(_0x3d1476['length']===0x970+-0x2679+0x1d09){_0x359afb['push']([]);continue;}const _0xa2154b=[],_0x10ac21=_0x46400f[_0x51220c];for(let _0x2b1ffa=-0x751*-0x5+0xd*0x24b+-0x4264;_0x2b1ffa<_0x3d1476['length'];++_0x2b1ffa){const _0xd88b43=_0x3d1476[_0x2b1ffa],_0x4f3f45=_0x10ac21[_0x2b1ffa];_0x2cb7cb[_0x2fcf83['axis']]-=_0x516217(_0xd88b43,_0x4f3f45),_0x2cb7cb[_0x37b0ad['axis']]-=_0x252547(_0xd88b43,_0x4f3f45),_0xa2154b[_0x2b1ffa]={},_0xa2154b[_0x2b1ffa][_0x37b0ad['axis']]=_0x2cb7cb[_0x37b0ad['axis']],_0xa2154b[_0x2b1ffa][_0x2fcf83['axis']]=_0x2cb7cb[_0x2fcf83['axis']],_0x2cb7cb[_0x2fcf83['axis']]+=_0x516217(_0xd88b43,_0x4f3f45),_0x2cb7cb[_0x37b0ad['axis']]+=_0x4a13fe(_0xd88b43,_0x4f3f45)+_0x34d746['spacing'][_0x37b0ad['axis']];}_0x3d1476[_0x37b0ad['size']]=_0x2cb7cb[_0x37b0ad['axis']]-_0x34d746['spacing'][_0x37b0ad['axis']],_0x3d1476[_0x2fcf83['size']]=_0x3d1476['largestSiz'+'e'][_0x2fcf83['size']],_0x5e5391[_0x37b0ad['size']]=Math['max'](_0x5e5391[_0x37b0ad['size']],_0x3d1476[_0x37b0ad['size']]),_0x2cb7cb[_0x37b0ad['axis']]=-0x3*0x38c+-0xdcd+0x1871,_0x2cb7cb[_0x2fcf83['axis']]+=_0x3d1476[_0x2fcf83['size']]+_0x34d746['spacing'][_0x2fcf83['axis']],_0x359afb['push'](_0xa2154b);}return _0x5e5391[_0x2fcf83['size']]=_0x2cb7cb[_0x2fcf83['axis']]-_0x34d746['spacing'][_0x2fcf83['axis']],_0x359afb;}function _0x9867af(_0x39dc4c,_0x14427c,_0x44c4e9){const _0x1c0f92=_0x34d746['alignment'][_0x37b0ad['axis']],_0x218b0e=_0x34d746['alignment'][_0x2fcf83['axis']],_0x348693=_0x34d746['padding'][_0x37b0ad['axis']],_0x323e89=_0x34d746['padding'][_0x2fcf83['axis']];for(let _0x5eb955=-0x43*-0x5e+-0xeb3+0x41*-0x27;_0x5eb955<_0x39dc4c['length'];++_0x5eb955){const _0x36dfb7=_0x39dc4c[_0x5eb955],_0x15f4eb=_0x14427c[_0x5eb955],_0x506def=_0x44c4e9[_0x5eb955],_0x5e58d8=(ls[_0x37b0ad['axis']]-_0x36dfb7[_0x37b0ad['size']])*_0x1c0f92+_0x348693,_0x50f357=(ls[_0x2fcf83['axis']]-_0x39dc4c[_0x2fcf83['size']])*_0x218b0e+_0x323e89;for(let _0x362e63=-0x1f1d+-0x4*-0x445+-0x1*-0xe09;_0x362e63<_0x36dfb7['length'];++_0x362e63){const _0x116b72=(_0x36dfb7[_0x2fcf83['size']]-_0x15f4eb[_0x362e63][_0x2fcf83['size']])*_0x34d746['alignment'][_0x2fcf83['axis']];_0x506def[_0x362e63][_0x37b0ad['axis']]+=_0x5e58d8,_0x506def[_0x362e63][_0x2fcf83['axis']]+=_0x50f357+_0x116b72;}}}function _0x157d21(_0x2c6314,_0xc57c06,_0x57739d){for(let _0x343a66=-0xbd6+0x137*-0x5+0x11e9;_0x343a66<_0x2c6314['length'];++_0x343a66){const _0x350535=_0x2c6314[_0x343a66],_0x3cb5c6=_0xc57c06[_0x343a66],_0x3841a3=_0x57739d[_0x343a66];for(let _0x4b2e1f=-0x1c71+0x1*0x16e2+0x1*0x58f;_0x4b2e1f<_0x350535['length'];++_0x4b2e1f){const _0xa286f7=_0x350535[_0x4b2e1f];_0xa286f7[_0x37b0ad['calculated'+'Size']]=_0x3cb5c6[_0x4b2e1f][_0x37b0ad['size']],_0xa286f7[_0x2fcf83['calculated'+'Size']]=_0x3cb5c6[_0x4b2e1f][_0x2fcf83['size']],_0x34d746['orientatio'+'n']===Ce?_0xa286f7['entity']['setLocalPo'+'sition'](_0x3841a3[_0x4b2e1f][_0x37b0ad['axis']],_0x3841a3[_0x4b2e1f][_0x2fcf83['axis']],_0xa286f7['entity']['getLocalPo'+'sition']()['z']):_0xa286f7['entity']['setLocalPo'+'sition'](_0x3841a3[_0x4b2e1f][_0x2fcf83['axis']],_0x3841a3[_0x4b2e1f][_0x37b0ad['axis']],_0xa286f7['entity']['getLocalPo'+'sition']()['z']);}}}function _0x50609e(_0x185e75){const _0x59b97d=_0x185e75['width'],_0x185172=_0x185e75['height'],_0x5854b8=(ls['x']-_0x59b97d)*_0x34d746['alignment']['x']+_0x34d746['padding']['x'],_0x2a5037=(ls['y']-_0x185172)*_0x34d746['alignment']['y']+_0x34d746['padding']['y'];return{'bounds':new re(_0x5854b8,_0x2a5037,_0x59b97d,_0x185172)};}function _0x557449(_0x76539e){const _0x5ad70=[];for(let _0x911dbd=-0x1f8b+-0x3a5+-0x466*-0x8;_0x911dbd<_0x76539e['length'];++_0x911dbd){const _0x5aa0f4=_0x76539e[_0x911dbd],_0x3febbf=Math['max'](_0x14bf01(_0x5aa0f4,'minWidth'),0x1a15+0x67*-0x32+-0x5f7*0x1),_0x3ca6b7=Math['max'](_0x14bf01(_0x5aa0f4,'minHeight'),-0x16b4+-0x1617+0x2ccb),_0x23daf0=Math['max'](_0x14bf01(_0x5aa0f4,'maxWidth'),_0x3febbf),_0x3d23dc=Math['max'](_0x14bf01(_0x5aa0f4,'maxHeight'),_0x3ca6b7),_0x318f0f=_0x19d02b(_0x14bf01(_0x5aa0f4,'width'),_0x3febbf,_0x23daf0),_0x57f649=_0x19d02b(_0x14bf01(_0x5aa0f4,'height'),_0x3ca6b7,_0x3d23dc),_0x531c99=_0x14bf01(_0x5aa0f4,'fitWidthPr'+'oportion'),_0x5d0547=_0x14bf01(_0x5aa0f4,'fitHeightP'+'roportion');_0x5ad70['push']({'minWidth':_0x3febbf,'minHeight':_0x3ca6b7,'maxWidth':_0x23daf0,'maxHeight':_0x3d23dc,'width':_0x318f0f,'height':_0x57f649,'fitWidthProportion':_0x531c99,'fitHeightProportion':_0x5d0547});}return _0x5ad70;}function _0x14bf01(_0x4ba545,_0xcbc2c4){const _0x2c8ab2=_0x4ba545['entity']['layoutchil'+'d'];return _0x2c8ab2&&_0x2c8ab2['enabled']&&_0x2c8ab2[_0xcbc2c4]!==void(-0xe*-0x1bc+0xecb+0x1*-0x2713)&&_0x2c8ab2[_0xcbc2c4]!==null?_0x2c8ab2[_0xcbc2c4]:_0x4ba545[_0xcbc2c4]!==void(-0x17*-0x1a5+0x26ef+-0x4cc2)?_0x4ba545[_0xcbc2c4]:VR[_0xcbc2c4];}function _0x19d02b(_0x5bbcc9,_0x30eb4d,_0x22948c){return Math['min'](Math['max'](_0x5bbcc9,_0x30eb4d),_0x22948c);}function _0x55b393(_0x5a5e29,_0x2ade81){return _0x5a5e29['reduce']((_0xc2bff5,_0x1e1c4d)=>_0xc2bff5+_0x1e1c4d[_0x2ade81],-0x7d6+-0x16ba+0x18*0x146);}function _0x1b8738(_0x503b16,_0x1f6ce0){const _0x2fd644=_0x55b393(_0x503b16,_0x1f6ce0),_0xc75ad4=[],_0x36d211=_0x503b16['length'];if(_0x2fd644===0x115*-0x1b+-0x281*0x1+0x1fb8){for(let _0x951fb9=0x678+-0x2069+-0xe5*-0x1d;_0x951fb9<_0x36d211;++_0x951fb9)_0xc75ad4['push']((0x594+0x116*0x1+-0x9b*0xb)/_0x36d211);}else{for(let _0x5b8306=0x5*0x26f+-0x1117+0x3c*0x15;_0x5b8306<_0x36d211;++_0x5b8306)_0xc75ad4['push'](_0x503b16[_0x5b8306][_0x1f6ce0]/_0x2fd644);}return _0xc75ad4;}function _0xeb6d98(_0x32f754){if(_0x32f754['length']===-0x115d+0x28*-0x44+-0x2*-0xdff)return[-0x1a*0xee+0xa90+0x55*0x29];const _0x3d64a5=[],_0x14405e=_0x32f754['length'];for(let _0x286844=-0x1161+0x26ba+-0x5*0x445;_0x286844<_0x14405e;++_0x286844)_0x3d64a5['push']((0x1b*0x95+-0x1946+0x990-_0x32f754[_0x286844])/(_0x14405e-(-0x1*-0x694+-0x826+-0xd*-0x1f)));return _0x3d64a5;}function _0xb50e9e(_0x36d63f,_0x6c069f,_0x4cc2ac){return _0x36d63f['forEach'](_0x1760db),_0x36d63f['slice']()['sort']((_0x5f42d9,_0x3e1c86)=>_0x4cc2ac?_0x3e1c86[_0x6c069f]-_0x5f42d9[_0x6c069f]:_0x5f42d9[_0x6c069f]-_0x3e1c86[_0x6c069f])['map'](_0xf31564);}function _0x1760db(_0x228d77,_0x557991){_0x228d77['index']=_0x557991;}function _0xf31564(_0x232206){return _0x232206['index'];}function _0x5790f8(_0x2f9b19,_0x473b66){const _0x44a495=[];_0x44a495[_0x473b66[_0x2f9b19['length']-(0x4*-0x3fa+-0xa9f*0x1+0x236*0xc)]]=_0x2f9b19[_0x473b66[_0x2f9b19['length']-(0xb3a+-0x611+-0x528)]];for(let _0x45e46d=_0x2f9b19['length']-(0x7*-0x1bd+-0x157*0x13+0x25a2);_0x45e46d>=0x89*0x25+-0xc*0x1c+-0x127d;--_0x45e46d)_0x44a495[_0x473b66[_0x45e46d]]=_0x44a495[_0x473b66[_0x45e46d+(-0xe*-0x1df+0x347+-0x1d78)]]+_0x2f9b19[_0x473b66[_0x45e46d]];return _0x44a495;}return _0x234bbc;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x2f4c93,_0x13f98d){const _0xa745da=xm[_0x13f98d['orientatio'+'n']];if(_0xa745da)return _0xa745da(_0x2f4c93,_0x13f98d);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x13f98d['orientatio'+'n']);}}function Jg(_0x3b3df7){return _0x3b3df7['element'];}function HR(_0x1c4c98){return _0x1c4c98['enabled']&&_0x1c4c98['element']&&_0x1c4c98['element']['enabled'];}class s0 extends we{constructor(_0x47b8d2,_0x681bd7){super(_0x47b8d2,_0x681bd7),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0xa89+0xd6*-0xb+-0x156*0x1)),h(this,'_reverseY',!(-0x124*0x11+0x1*-0x2452+0x3*0x1292)),h(this,'_alignment',new J(0x1856+-0x155f*0x1+-0x2f7,0x1635+0x21bc+-0x37f0)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x14bf+-0xd*0x1bb+0x1c1)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x2c148e=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2c148e,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x47b8d2['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x47b8d2['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x47b8d2['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x47b8d2['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x47b8d2['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x47b8d2['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x164451){_0x164451!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x164451,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x49143f){_0x49143f!==this['_reverseX']&&(this['_reverseX']=_0x49143f,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x150a54){_0x150a54!==this['_reverseY']&&(this['_reverseY']=_0x150a54,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x2dff95){_0x2dff95['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x2dff95),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0xd93fd6){_0xd93fd6['equals'](this['_padding'])||(this['_padding']['copy'](_0xd93fd6),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x44ffe8){_0x44ffe8['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x44ffe8),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x3772f0){_0x3772f0!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x3772f0,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0xe6bb8d){_0xe6bb8d!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0xe6bb8d,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x9299c4){_0x9299c4!==this['_wrap']&&(this['_wrap']=_0x9299c4,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x190594){return _0x190594===this['entity']||this['entity']['children']['indexOf'](_0x190594)!==-(0x1*-0x1f37+-0x16*-0xad+0x105a);}['_listenFor'+'ReflowEven'+'ts'](_0x4e2704,_0xccffa0){_0x4e2704['element']&&(_0x4e2704['element'][_0xccffa0]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x4e2704['element'][_0xccffa0]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x4e2704['element'][_0xccffa0]('resize',this['_scheduleR'+'eflow'],this),_0x4e2704['element'][_0xccffa0]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x4e2704['layoutchil'+'d']&&(_0x4e2704['layoutchil'+'d'][_0xccffa0]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x4e2704['layoutchil'+'d'][_0xccffa0]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x5e3e31){this['_isSelfOrC'+'hild'](_0x5e3e31)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5e3e31,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x15ac0e){this['_isSelfOrC'+'hild'](_0x15ac0e)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x15ac0e,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x945eb3){this['_listenFor'+'ReflowEven'+'ts'](_0x945eb3,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x2da3e8){this['_listenFor'+'ReflowEven'+'ts'](_0x2da3e8,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x50d77c=Jg(this['entity']),_0x5ae967=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x50d77c||_0x5ae967['length']===-0x4*0x269+-0x1b*0x117+0x2711)return;const _0x46a63d=Math['max'](_0x50d77c['calculated'+'Width'],0x6*-0x64b+-0x13*0x182+0x4268),_0x55fd73=Math['max'](_0x50d77c['calculated'+'Height'],0xa33*0x1+0x128d+-0x20*0xe6),_0x49e723={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x46a63d,_0x55fd73)};this['_isPerform'+'ingReflow']=!(-0x183d+-0xf36+0x2773*0x1);const _0x235ea0=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x5ae967,_0x49e723);this['_isPerform'+'ingReflow']=!(0x2339+0x2386+-0x46be),this['fire']('reflow',_0x235ea0);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x3dfa5e=>{this['_listenFor'+'ReflowEven'+'ts'](_0x3dfa5e,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x1*0x1c16+-0x384*-0x2+0x1d*-0x136);}}const i0=['enabled'],$R=-0x1240+0x9f4+-0x116*-0x8;class XR extends ct{constructor(_0x333e79){super(_0x333e79),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5d00e6,_0x342ef0,_0x45e089){_0x342ef0['enabled']!==void(-0x1*-0x2547+-0x1553+-0x7fa*0x2)&&(_0x5d00e6['enabled']=_0x342ef0['enabled']),_0x342ef0['orientatio'+'n']!==void(-0x120b+0x2068+0x1*-0xe5d)&&(_0x5d00e6['orientatio'+'n']=_0x342ef0['orientatio'+'n']),_0x342ef0['reverseX']!==void(-0x2525+0x1*-0xed1+-0x2*-0x19fb)&&(_0x5d00e6['reverseX']=_0x342ef0['reverseX']),_0x342ef0['reverseY']!==void(-0x1291+0x2*-0x43e+0x1b0d)&&(_0x5d00e6['reverseY']=_0x342ef0['reverseY']),_0x342ef0['alignment']!==void(0x67*0x1f+0xb3+0x232*-0x6)&&(_0x5d00e6['alignment']=Array['isArray'](_0x342ef0['alignment'])?new J(_0x342ef0['alignment']):_0x342ef0['alignment']),_0x342ef0['padding']!==void(-0x48*0xf+-0x9cd+0xe05)&&(_0x5d00e6['padding']=Array['isArray'](_0x342ef0['padding'])?new re(_0x342ef0['padding']):_0x342ef0['padding']),_0x342ef0['spacing']!==void(-0xbbf+0x7*0x1c+0xafb)&&(_0x5d00e6['spacing']=Array['isArray'](_0x342ef0['spacing'])?new J(_0x342ef0['spacing']):_0x342ef0['spacing']),_0x342ef0['widthFitti'+'ng']!==void(0x1b60+-0x1*0x1a65+0x1*-0xfb)&&(_0x5d00e6['widthFitti'+'ng']=_0x342ef0['widthFitti'+'ng']),_0x342ef0['heightFitt'+'ing']!==void(-0x601*0x5+0x77c*-0x1+0x2581*0x1)&&(_0x5d00e6['heightFitt'+'ing']=_0x342ef0['heightFitt'+'ing']),_0x342ef0['wrap']!==void(0x209d+-0x3*0x1d6+0x3*-0x909)&&(_0x5d00e6['wrap']=_0x342ef0['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5d00e6,_0x342ef0,_0x45e089);}['cloneCompo'+'nent'](_0x4edda0,_0x51a9e8){const _0x4fef9a=_0x4edda0['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x51a9e8,{'enabled':_0x4fef9a['enabled'],'orientation':_0x4fef9a['orientatio'+'n'],'reverseX':_0x4fef9a['reverseX'],'reverseY':_0x4fef9a['reverseY'],'alignment':_0x4fef9a['alignment'],'padding':_0x4fef9a['padding'],'spacing':_0x4fef9a['spacing'],'widthFitting':_0x4fef9a['widthFitti'+'ng'],'heightFitting':_0x4fef9a['heightFitt'+'ing'],'wrap':_0x4fef9a['wrap']});}['scheduleRe'+'flow'](_0x5c9408){this['_reflowQue'+'ue']['indexOf'](_0x5c9408)===-(0x4d*-0xf+-0x14b+0x1*0x5cf)&&this['_reflowQue'+'ue']['push'](_0x5c9408);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x4*0x212+0x2*0x9a7+-0x1b96)return;let _0x3e04c7=0x2*0xc26+0x883*0x1+-0x20cf;for(;this['_reflowQue'+'ue']['length']>0x21*0xfe+0x513+0x25d1*-0x1;){const _0x479c83=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x2*-0x139+-0x1*-0x15a+-0xf3*0x4,_0x479c83['sort']((_0x3a6d4c,_0x7da358)=>_0x3a6d4c['entity']['graphDepth']-_0x7da358['entity']['graphDepth']);for(let _0x9990c2=-0x8*0x2b0+0x1*-0x926+0x1ea6;_0x9990c2<_0x479c83['length'];++_0x9990c2)_0x479c83[_0x9990c2]['reflow']();if(++_0x3e04c7>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x2ce1a8,_0x2ee7d8){_0x2ee7d8['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0xe3ef10){this['map']['forEach'](_0xb01a27=>_0xb01a27['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x443708,_0x2fd1a0)=>{const _0x5bbbe8=jR['get'](_0x443708,()=>new qR());let _0x4216d7=_0x5bbbe8['map']['get'](_0x2fd1a0);if(!_0x4216d7){let _0x112e26,_0xf6bca5;switch(_0x2fd1a0){case'box':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new mu()),_0xf6bca5={'x':0x2,'y':0x2,'z':0x2,'uv':(0x2b3+0x3*-0x72b+-0x4b4*-0x4)/(0x227e+0x1ee1+0x1*-0x415c)};break;case'capsule':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new GA({'radius':0.5,'height':0x2})),_0xf6bca5={'x':Math['PI']*(-0x1204*0x2+-0x2459*0x1+0x4863*0x1),'y':Math['PI'],'z':Math['PI']*(-0x12*0xc1+-0x395*-0x6+0x7ea*-0x1),'uv':(-0x1c9b+-0x2638+0x42d4)/(0x2b1*-0x1+-0x6e2*0x3+0x175a)+(0x2b9*0xc+-0x4*0x7db+0x1*-0x13f)/(0x1bfe*0x1+0x147a+-0x3075)/(-0x29*-0xdf+-0xfc3+-0x13f1)*(0x23d3+0x223e+-0x460f)};break;case'cone':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0xf6bca5={'x':2.54,'y':2.54,'z':2.54,'uv':(-0xed2+-0x1*0x1ea6+-0x1*-0x2d79)/(0x20b1*-0x1+-0x33*0x64+-0x2*-0x1a50)+(0x606*0x6+-0x6bd+0x47*-0x6a)/(-0x1*0x2087+0xdb8+0x12d2)/(-0x62f*0x1+0x1*0x1d39+-0x1707)};break;case'cylinder':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new WA({'radius':0.5,'height':0x1})),_0xf6bca5={'x':Math['PI'],'y':(0x308*-0xb+0x443*-0x9+0x47b3+0.79)*(0x1*0x1051+-0x7c8+0x1*-0x887),'z':Math['PI'],'uv':(-0x12*-0x100+-0x1e1c+-0x1*-0xc1d)/(-0x869*0x1+0x1791+-0xf25)+(0xdd*0x2b+-0x1a1e+-0xb00)/(-0x1*-0x2115+-0x962*0x2+-0xe4e)/(-0x1ee*0x5+-0x177e+-0x45*-0x7b)*(-0x67*0x43+-0xba7+-0x2*-0x134f)};break;case'plane':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new $A({'halfExtents':new J(0x1*0x191e+0x9c7*0x1+-0x22e5+0.5,-0x493+0x62f+-0x19c+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0xf6bca5={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new _m({'radius':0.5})),_0xf6bca5={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x112e26=Ge['fromGeomet'+'ry'](_0x443708,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0xf6bca5={'x':Math['PI']*(-0x1d8f+0x212a+0xd*-0x47+0.5)*(-0x1c9f+-0x8*-0x3f2+-0x2f1+0.5)-Math['PI']*(0x31b*0x9+-0x193e+0x21*-0x15+0.1)*(-0x1a68+-0x1d2f+0x3797+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x2fd1a0);}_0x112e26['incRefCoun'+'t'](),_0x4216d7={'mesh':_0x112e26,'area':_0xf6bca5},_0x5bbbe8['map']['set'](_0x2fd1a0,_0x4216d7);}return _0x4216d7;};class Tm extends we{constructor(_0x26514b,_0x219681){super(_0x26514b,_0x219681),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1*0x121c+0x1b5f+-0x2d7b)),h(this,'_receiveSh'+'adows',!(-0x1ac9+-0x1a9d+-0xaae*-0x5)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0xc31*-0x1+-0x118b+-0x1*-0x55a)),h(this,'_lightmapp'+'ed',!(0x4b5*0x6+0x3*0x620+-0x2e9d)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x3fb*-0x3+-0x59*0xd+0x1077*0x1),h(this,'isStatic',!(0xd18+-0x4bc+-0x1*0x85b)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x1*-0x134e+0x7f9+0x1*0xb56)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0xaf2+-0x7*0x241+0x4d6*0x1)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x26514b['defaultMat'+'erial'],_0x219681['on']('remove',this['onRemoveCh'+'ild'],this),_0x219681['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x219681['on']('insert',this['onInsertCh'+'ild'],this),_0x219681['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x3a26df){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x3a26df);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x7e2e17){if(this['_customAab'+'b']=_0x7e2e17,this['_model']){const _0x2ce367=this['_model']['meshInstan'+'ces'];if(_0x2ce367){for(let _0x2d71e6=0x9*-0x44+0x2445+-0x21e1;_0x2d71e6<_0x2ce367['length'];_0x2d71e6++)_0x2ce367[_0x2d71e6]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2a86b7){if(this['_type']!==_0x2a86b7){if(this['_area']=null,this['_type']=_0x2a86b7,_0x2a86b7==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x3ac411=r0(this['system']['app']['graphicsDe'+'vice'],_0x2a86b7);this['_area']=_0x3ac411['area'];const _0x5e5128=_0x3ac411['mesh'],_0x28615c=new Ie(),_0x1c0f98=new sr();_0x1c0f98['graph']=_0x28615c,_0x1c0f98['meshInstan'+'ces']=[new He(_0x5e5128,this['_material'],_0x28615c)],this['model']=_0x1c0f98,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x423617){const _0x87fbd0=this['system']['app']['assets'];let _0x44adcb=_0x423617;if(_0x423617 instanceof pe&&(_0x44adcb=_0x423617['id']),this['_asset']!==_0x44adcb){if(this['_asset']){_0x87fbd0['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x456d1d=_0x87fbd0['get'](this['_asset']);_0x456d1d&&this['_unbindMod'+'elAsset'](_0x456d1d);}if(this['_asset']=_0x44adcb,this['_asset']){const _0x1dad34=_0x87fbd0['get'](this['_asset']);_0x1dad34?this['_bindModel'+'Asset'](_0x1dad34):(this['model']=null,_0x87fbd0['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x2d70a6){if(this['_model']!==_0x2d70a6){if(_0x2d70a6&&_0x2d70a6['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x4eb*0x2+0x14b*0x9+-0x1578),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1352*-0x2+-0x16b7+-0x3fb*0x4))),this['_model']=_0x2d70a6,this['_model']){this['_model']['_immutable']=!(0x8*-0x295+-0x2266+-0x92d*-0x6);const _0x198c3f=this['_model']['meshInstan'+'ces'];for(let _0x3c562a=-0x3*-0x99b+-0x10*0x67+-0x11*0x151;_0x3c562a<_0x198c3f['length'];_0x3c562a++)_0x198c3f[_0x3c562a]['castShadow']=this['_castShado'+'ws'],_0x198c3f[_0x3c562a]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x198c3f[_0x3c562a]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x217730){if(_0x217730!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x217730,this['_model'])){const _0x4b52c7=this['_model']['meshInstan'+'ces'];for(let _0x1992c8=-0x1*0x128+-0x552+0x33d*0x2;_0x1992c8<_0x4b52c7['length'];_0x1992c8++)_0x4b52c7[_0x1992c8]['setLightma'+'pped'](_0x217730);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x26b183){if(this['_castShado'+'ws']===_0x26b183)return;const _0x335c17=this['_model'];if(_0x335c17){const _0x284aae=this['layers'],_0x421ffa=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x26b183)for(let _0x2940f9=0x8e8+-0x1*-0x25a0+0x1*-0x2e88;_0x2940f9<_0x284aae['length'];_0x2940f9++){const _0x240739=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2940f9]);_0x240739&&_0x240739['removeShad'+'owCasters'](_0x335c17['meshInstan'+'ces']);}const _0x4f6157=_0x335c17['meshInstan'+'ces'];for(let _0x5cbcfe=-0x54*0x18+-0x14ae+0x1c8e;_0x5cbcfe<_0x4f6157['length'];_0x5cbcfe++)_0x4f6157[_0x5cbcfe]['castShadow']=_0x26b183;if(!this['_castShado'+'ws']&&_0x26b183)for(let _0x9d247d=-0xaf+0x1fa1+0x22*-0xe9;_0x9d247d<_0x284aae['length'];_0x9d247d++){const _0x12b202=_0x421ffa['layers']['getLayerBy'+'Id'](_0x284aae[_0x9d247d]);_0x12b202&&_0x12b202['addShadowC'+'asters'](_0x335c17['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x26b183;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4dc5fc){if(this['_receiveSh'+'adows']!==_0x4dc5fc&&(this['_receiveSh'+'adows']=_0x4dc5fc,this['_model'])){const _0x156969=this['_model']['meshInstan'+'ces'];for(let _0xc863e0=0x85*0x17+-0x1*-0x250c+-0x30ff,_0x391978=_0x156969['length'];_0xc863e0<_0x391978;_0xc863e0++)_0x156969[_0xc863e0]['receiveSha'+'dow']=_0x4dc5fc;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x4a0fd0){this['_castShado'+'wsLightmap']=_0x4a0fd0;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x469556){this['_lightmapS'+'izeMultipl'+'ier']=_0x469556;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x590fb4){const _0x3645f2=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1e58bc=-0x3e3*-0x2+-0x2629+0xa21*0x3;_0x1e58bc<this['_layers']['length'];_0x1e58bc++){const _0x3618e6=_0x3645f2['getLayerBy'+'Id'](this['_layers'][_0x1e58bc]);_0x3618e6&&_0x3618e6['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x7*0x334+0x1*-0x11fb+-0x17b*0x3;for(let _0x540169=0x2*0x130a+0x24a7*-0x1+-0x16d;_0x540169<_0x590fb4['length'];_0x540169++)this['_layers'][_0x540169]=_0x590fb4[_0x540169];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0xe0c77=0x1069+-0x1d4f+0xce6;_0xe0c77<this['_layers']['length'];_0xe0c77++){const _0x378c63=_0x3645f2['getLayerBy'+'Id'](this['_layers'][_0xe0c77]);_0x378c63&&_0x378c63['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4c2082){var _0x1c08a8,_0x330a87;this['_batchGrou'+'pId']!==_0x4c2082&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x11*-0xcd+0x1dab*0x1+0x2*-0x15a4&&((_0x1c08a8=this['system']['app']['batcher'])==null||_0x1c08a8['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4c2082>=0x1680+0xb*-0x2e1+0x92b&&((_0x330a87=this['system']['app']['batcher'])==null||_0x330a87['insert'](St['MODEL'],_0x4c2082,this['entity'])),_0x4c2082<-0x159*-0x1+-0x1896+0x7bf*0x3&&this['_batchGrou'+'pId']>=-0x128f*-0x2+-0x46*-0x86+-0x49c2&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x4c2082);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x4eb0c3){let _0x2eb3f5=_0x4eb0c3;_0x4eb0c3 instanceof pe&&(_0x2eb3f5=_0x4eb0c3['id']);const _0x12c357=this['system']['app']['assets'];if(_0x2eb3f5!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x12c357['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x2a5d20=_0x12c357['get'](this['_materialA'+'sset']);_0x2a5d20&&this['_unbindMat'+'erialAsset'](_0x2a5d20);}if(this['_materialA'+'sset']=_0x2eb3f5,this['_materialA'+'sset']){const _0x10d48a=_0x12c357['get'](this['_materialA'+'sset']);_0x10d48a?this['_bindMater'+'ialAsset'](_0x10d48a):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x12c357['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x59fa9e){this['_material']!==_0x59fa9e&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x59fa9e));}get['material'](){return this['_material'];}set['mapping'](_0x4c8537){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x4c8537||(_0x4c8537={}),this['_mapping']=_0x4c8537,!this['_model']))return;const _0x4eecf0=this['_model']['meshInstan'+'ces'],_0x317d67=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x39f5cc=_0x317d67?_0x317d67['data']['mapping']:null;let _0x532c33=null;for(let _0x2a0976=-0x14ef+-0x121*0x6+0x1bb5,_0x286667=_0x4eecf0['length'];_0x2a0976<_0x286667;_0x2a0976++)if(_0x4c8537[_0x2a0976]!==void(0x95*0x4+-0x25d*-0xb+-0x1c53))_0x4c8537[_0x2a0976]?(_0x532c33=this['system']['app']['assets']['get'](_0x4c8537[_0x2a0976]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x532c33,_0x4eecf0[_0x2a0976],_0x2a0976)):_0x4eecf0[_0x2a0976]['material']=this['system']['defaultMat'+'erial'];else{if(_0x39f5cc){if(_0x39f5cc[_0x2a0976]&&(_0x39f5cc[_0x2a0976]['material']||_0x39f5cc[_0x2a0976]['path'])){if(_0x39f5cc[_0x2a0976]['material']!==void(0xaee+0x1d4b*0x1+0x5bf*-0x7))_0x532c33=this['system']['app']['assets']['get'](_0x39f5cc[_0x2a0976]['material']);else{if(_0x39f5cc[_0x2a0976]['path']!==void(0x1352+0x2529+-0x1*0x387b)){const _0x142efd=this['_getMateri'+'alAssetUrl'](_0x39f5cc[_0x2a0976]['path']);_0x142efd&&(_0x532c33=this['system']['app']['assets']['getByUrl'](_0x142efd));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x532c33,_0x4eecf0[_0x2a0976],_0x2a0976);}else _0x4eecf0[_0x2a0976]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x1e77e5=this['system']['app']['scene']['layers'];for(let _0x43979b=0x1ac9+-0xa04+-0x10c5;_0x43979b<this['_layers']['length'];_0x43979b++){const _0x1cb3be=_0x1e77e5['getLayerBy'+'Id'](this['_layers'][_0x43979b]);_0x1cb3be&&_0x1cb3be['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x3ae09b=this['system']['app']['scene']['layers'];for(let _0x2cbcae=0x5e*0x31+-0x23bf+0x11c1;_0x2cbcae<this['_layers']['length'];_0x2cbcae++){const _0x5c96d0=_0x3ae09b['getLayerBy'+'Id'](this['_layers'][_0x2cbcae]);_0x5c96d0&&_0x5c96d0['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x33e1d7,_0x92f0dc){this['addModelTo'+'Layers'](),_0x33e1d7['off']('add',this['onLayerAdd'+'ed'],this),_0x33e1d7['off']('remove',this['onLayerRem'+'oved'],this),_0x92f0dc['on']('add',this['onLayerAdd'+'ed'],this),_0x92f0dc['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1aed8a){this['layers']['indexOf'](_0x1aed8a['id'])<0xe9*0x3+-0x1*0x2188+0x1ecd||_0x1aed8a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x4b6ea7){this['layers']['indexOf'](_0x4b6ea7['id'])<0x1*0x21e3+-0x1*0xa07+-0x17dc||_0x4b6ea7['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x2e3e3c,_0x34cec2,_0x41bfc6,_0x4e2f46){const _0x5c2c8b=_0x34cec2+':'+_0x41bfc6;this['system']['app']['assets']['on'](_0x5c2c8b,_0x4e2f46,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x2e3e3c]||(this['_materialE'+'vents'][_0x2e3e3c]={}),this['_materialE'+'vents'][_0x2e3e3c][_0x5c2c8b]={'id':_0x41bfc6,'handler':_0x4e2f46};}['_unsetMate'+'rialEvents'](){const _0x2d667e=this['system']['app']['assets'],_0x2b02c8=this['_materialE'+'vents'];if(_0x2b02c8){for(let _0x5e2ccc=0x1*-0x1c13+0x2684+0xa71*-0x1,_0x539026=_0x2b02c8['length'];_0x5e2ccc<_0x539026;_0x5e2ccc++){if(!_0x2b02c8[_0x5e2ccc])continue;const _0x4a6ff4=_0x2b02c8[_0x5e2ccc];for(const _0x2d7af7 in _0x4a6ff4)_0x2d667e['off'](_0x2d7af7,_0x4a6ff4[_0x2d7af7]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x69956d){let _0x292570=null;if(!isNaN(parseInt(_0x69956d,0x82b*-0x1+-0x1d2+0xa07)))_0x292570=this['system']['app']['assets']['get'](_0x69956d);else{if(this['asset']){const _0x588c3b=this['_getMateri'+'alAssetUrl'](_0x69956d);_0x588c3b&&(_0x292570=this['system']['app']['assets']['getByUrl'](_0x588c3b));}}return _0x292570;}['_getMateri'+'alAssetUrl'](_0x2430c3){if(!this['asset'])return null;const _0x3cdc10=this['system']['app']['assets']['get'](this['asset']);return _0x3cdc10?_0x3cdc10['getAbsolut'+'eUrl'](_0x2430c3):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1491ae,_0xca450c,_0x38381d){const _0x57191c=this['system']['app']['assets'];_0x1491ae&&(_0x1491ae['resource']?(_0xca450c['material']=_0x1491ae['resource'],this['_setMateri'+'alEvent'](_0x38381d,'remove',_0x1491ae['id'],function(){_0xca450c['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x38381d,'load',_0x1491ae['id'],function(_0x1ebff6){_0xca450c['material']=_0x1ebff6['resource'],this['_setMateri'+'alEvent'](_0x38381d,'remove',_0x1491ae['id'],function(){_0xca450c['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x57191c['load'](_0x1491ae)));}['onEnable'](){var _0x54f0d9;const _0x3d9e72=this['system']['app'],_0x45466b=_0x3d9e72['scene'],_0x2e08f1=_0x45466b==null?void(-0x4b*0x7a+0x1b*-0x34+-0x3*-0xdbe):_0x45466b['layers'];this['_evtLayers'+'Changed']=_0x45466b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2e08f1&&(this['_evtLayerA'+'dded']=_0x2e08f1['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2e08f1['on']('remove',this['onLayerRem'+'oved'],this));const _0x1c0548=this['_type']==='asset';let _0xb31a7c;if(this['_model']?this['addModelTo'+'Layers']():_0x1c0548&&this['_asset']&&(_0xb31a7c=_0x3d9e72['assets']['get'](this['_asset']),_0xb31a7c&&_0xb31a7c['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0xb31a7c)),this['_materialA'+'sset']&&(_0xb31a7c=_0x3d9e72['assets']['get'](this['_materialA'+'sset']),_0xb31a7c&&_0xb31a7c['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0xb31a7c)),_0x1c0548&&this['_mapping']){for(const _0x1230fe in this['_mapping'])this['_mapping'][_0x1230fe]&&(_0xb31a7c=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x1230fe]),_0xb31a7c&&!_0xb31a7c['resource']&&_0x3d9e72['assets']['load'](_0xb31a7c));}this['_batchGrou'+'pId']>=0xf*-0x147+0x1*-0x14b1+-0x2*-0x13ed&&((_0x54f0d9=_0x3d9e72['batcher'])==null||_0x54f0d9['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x2c0d63,_0x4f61bf,_0x396508,_0x5b64bb;const _0x286e7f=this['system']['app'],_0x4f3f83=_0x286e7f['scene']['layers'];(_0x2c0d63=this['_evtLayers'+'Changed'])==null||_0x2c0d63['off'](),this['_evtLayers'+'Changed']=null,_0x4f3f83&&((_0x4f61bf=this['_evtLayerA'+'dded'])==null||_0x4f61bf['off'](),this['_evtLayerA'+'dded']=null,(_0x396508=this['_evtLayerR'+'emoved'])==null||_0x396508['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*0x1425+0x1*0x1085+-0x24aa&&((_0x5b64bb=_0x286e7f['batcher'])==null||_0x5b64bb['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x30d842=this['_model']['meshInstan'+'ces'];for(let _0x2318bc=0x4*-0x12e+0x212b+-0x1c73,_0x2d6918=_0x30d842['length'];_0x2318bc<_0x2d6918;_0x2318bc++)_0x30d842[_0x2318bc]['visible']=!(0x2cb+-0x11fd+0x1*0xf33);}}['show'](){if(this['_model']){const _0x40d0cc=this['_model']['meshInstan'+'ces'];for(let _0x54c3b1=-0xc5*0xe+-0x2d7+0xd9d,_0x29efbf=_0x40d0cc['length'];_0x54c3b1<_0x29efbf;_0x54c3b1++)_0x40d0cc[_0x54c3b1]['visible']=!(-0x1068*-0x1+0x1f*-0x135+0x1503);}}['_bindMater'+'ialAsset'](_0x23aa33){if(_0x23aa33['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x23aa33['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x23aa33['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x23aa33['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x23aa33['resource'])this['_onMateria'+'lAssetLoad'](_0x23aa33);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x23aa33);}}['_unbindMat'+'erialAsset'](_0x5da748){_0x5da748['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x5da748['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x5da748['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x5da748['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x526391){this['system']['app']['assets']['off']('add:'+_0x526391['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x526391['id']&&this['_bindMater'+'ialAsset'](_0x526391);}['_onMateria'+'lAssetLoad'](_0x532a18){this['_setMateri'+'al'](_0x532a18['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x51cb8c){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x178dd1){this['_onMateria'+'lAssetUnlo'+'ad'](_0x178dd1);}['_onMateria'+'lAssetChan'+'ge'](_0x5978df){}['_bindModel'+'Asset'](_0x423507){if(this['_unbindMod'+'elAsset'](_0x423507),_0x423507['on']('load',this['_onModelAs'+'setLoad'],this),_0x423507['on']('unload',this['_onModelAs'+'setUnload'],this),_0x423507['on']('change',this['_onModelAs'+'setChange'],this),_0x423507['on']('remove',this['_onModelAs'+'setRemove'],this),_0x423507['resource'])this['_onModelAs'+'setLoad'](_0x423507);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x423507);}}['_unbindMod'+'elAsset'](_0x1bbad5){_0x1bbad5['off']('load',this['_onModelAs'+'setLoad'],this),_0x1bbad5['off']('unload',this['_onModelAs'+'setUnload'],this),_0x1bbad5['off']('change',this['_onModelAs'+'setChange'],this),_0x1bbad5['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x450d5e){this['system']['app']['assets']['off']('add:'+_0x450d5e['id'],this['_onModelAs'+'setAdded'],this),_0x450d5e['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x450d5e);}['_onModelAs'+'setLoad'](_0x24b1e9){this['model']=_0x24b1e9['resource']['clone'](),this['_clonedMod'+'el']=!(0x1*0x1705+-0x1138*-0x1+0x283d*-0x1);}['_onModelAs'+'setUnload'](_0x4d9fdf){this['model']=null;}['_onModelAs'+'setChange'](_0x171a51,_0x57ba7a,_0x40524e,_0x39ae56){_0x57ba7a==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0xd69990){this['model']=null;}['_setMateri'+'al'](_0xdc1ccc){if(this['_material']===_0xdc1ccc)return;this['_material']=_0xdc1ccc;const _0x49cc45=this['_model'];if(_0x49cc45&&this['_type']!=='asset'){const _0x28a468=_0x49cc45['meshInstan'+'ces'];for(let _0xa7f519=-0x2*0xddb+-0xa01*0x1+-0x1*-0x25b7,_0x510bb9=_0x28a468['length'];_0xa7f519<_0x510bb9;_0xa7f519++)_0x28a468[_0xa7f519]['material']=_0xdc1ccc;}}}class YR{constructor(){this['enabled']=!(0xfb*-0x1d+0x2202+-0x593);}}const a0=['enabled'];class KR extends ct{constructor(_0x415feb){super(_0x415feb),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x415feb['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x688473,_0x4f3153,_0x5c523f){_0x5c523f=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x4f3153['batchGroup'+'Id']===null||_0x4f3153['batchGroup'+'Id']===void(-0x15*-0x9f+0xe*0x22a+0x631*-0x7))&&(_0x4f3153['batchGroup'+'Id']=-(0x1ad6+0xf9*-0x4+0x1*-0x16f1)),_0x4f3153['layers']&&_0x4f3153['layers']['length']&&(_0x4f3153['layers']=_0x4f3153['layers']['slice'](0x1e01+0x10db+-0x4*0xbb7));for(let _0x41a6b0=0x502+-0x2534+-0x1019*-0x2;_0x41a6b0<_0x5c523f['length'];_0x41a6b0++)_0x4f3153['hasOwnProp'+'erty'](_0x5c523f[_0x41a6b0])&&(_0x688473[_0x5c523f[_0x41a6b0]]=_0x4f3153[_0x5c523f[_0x41a6b0]]);_0x4f3153['aabbCenter']&&_0x4f3153['aabbHalfEx'+'tents']&&(_0x688473['customAabb']=new De(new D(_0x4f3153['aabbCenter']),new D(_0x4f3153['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x688473,_0x4f3153,['enabled']);}['cloneCompo'+'nent'](_0x53f444,_0x18a7ec){const _0x20eeaf={'type':_0x53f444['model']['type'],'asset':_0x53f444['model']['asset'],'castShadows':_0x53f444['model']['castShadow'+'s'],'receiveShadows':_0x53f444['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x53f444['model']['castShadow'+'sLightmap'],'lightmapped':_0x53f444['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x53f444['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x53f444['model']['isStatic'],'enabled':_0x53f444['model']['enabled'],'layers':_0x53f444['model']['layers'],'batchGroupId':_0x53f444['model']['batchGroup'+'Id'],'mapping':ah({},_0x53f444['model']['mapping'])};let _0x27f4d8=_0x53f444['model']['materialAs'+'set'];!(_0x27f4d8 instanceof pe)&&_0x27f4d8!=null&&(_0x27f4d8=this['app']['assets']['get'](_0x27f4d8));const _0x5a196a=_0x53f444['model']['material'];(!_0x5a196a||_0x5a196a===this['defaultMat'+'erial']||!_0x27f4d8||_0x5a196a===_0x27f4d8['resource'])&&(_0x20eeaf['materialAs'+'set']=_0x27f4d8);const _0x3bc3b9=this['addCompone'+'nt'](_0x18a7ec,_0x20eeaf);if(_0x53f444['model']['model']&&_0x53f444['model']['type']==='asset'&&!_0x53f444['model']['asset']&&(_0x3bc3b9['model']=_0x53f444['model']['model']['clone'](),_0x3bc3b9['_clonedMod'+'el']=!(-0x1629+-0x2179+0x1*0x37a2)),_0x20eeaf['materialAs'+'set']||(_0x3bc3b9['material']=_0x5a196a),_0x53f444['model']['model']){const _0x4d5080=_0x53f444['model']['model']['meshInstan'+'ces'],_0x151687=_0x3bc3b9['model']['meshInstan'+'ces'];for(let _0x5df0f2=-0x6*0x27f+-0x11dc+0x20d6*0x1;_0x5df0f2<_0x4d5080['length'];_0x5df0f2++)_0x151687[_0x5df0f2]['mask']=_0x4d5080[_0x5df0f2]['mask'],_0x151687[_0x5df0f2]['material']=_0x4d5080[_0x5df0f2]['material'],_0x151687[_0x5df0f2]['layer']=_0x4d5080[_0x5df0f2]['layer'],_0x151687[_0x5df0f2]['receiveSha'+'dow']=_0x4d5080[_0x5df0f2]['receiveSha'+'dow'];}return _0x53f444['model']['customAabb']&&(_0x3bc3b9['customAabb']=_0x53f444['model']['customAabb']['clone']()),_0x3bc3b9;}['onRemove'](_0x50ed4f,_0x1f7df5){_0x1f7df5['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x498d25,_0x37c21b){super(_0x498d25,_0x37c21b),h(this,'_requested'+'Depth',!(-0x13d8+0xe*0x47+-0x43*-0x3d)),h(this,'_drawOrder',-0x1cd8+-0x6aa+0x2382),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x5d78d0=>{this['on']('set_'+_0x5d78d0,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x10f291=>{this['on']('set_'+_0x10f291,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x1399fc=>{this['on']('set_'+_0x1399fc,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x31cb4c=this['system']['store'][this['entity']['getGuid']()];return _0x31cb4c?_0x31cb4c['data']:null;}set['enabled'](_0x5a74fa){this['_setValue']('enabled',_0x5a74fa);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x3b4017){this['_setValue']('autoPlay',_0x3b4017);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x50232d){this['_setValue']('numParticl'+'es',_0x50232d);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x21422e){this['_setValue']('lifetime',_0x21422e);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x4726f7){this['_setValue']('rate',_0x4726f7);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x48b0c6){this['_setValue']('rate2',_0x48b0c6);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x21946b){this['_setValue']('startAngle',_0x21946b);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x53fe3c){this['_setValue']('startAngle'+'2',_0x53fe3c);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0xf869bc){this['_setValue']('loop',_0xf869bc);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x1e84ec){this['_setValue']('preWarm',_0x1e84ec);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x17e79a){this['_setValue']('lighting',_0x17e79a);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x1a636d){this['_setValue']('halfLamber'+'t',_0x1a636d);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x34043c){this['_setValue']('intensity',_0x34043c);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x34e0a5){this['_setValue']('depthWrite',_0x34e0a5);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x4d7543){this['_setValue']('noFog',_0x4d7543);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x470a44){this['_setValue']('depthSofte'+'ning',_0x470a44);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x4b9585){this['_setValue']('sort',_0x4b9585);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x3225ab){this['_setValue']('blendType',_0x3225ab);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x1a33d5){this['_setValue']('stretch',_0x1a33d5);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x320a89){this['_setValue']('alignToMot'+'ion',_0x320a89);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x1f4467){this['_setValue']('emitterSha'+'pe',_0x1f4467);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x45335f){this['_setValue']('emitterExt'+'ents',_0x45335f);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x5c8b3f){this['_setValue']('emitterExt'+'entsInner',_0x5c8b3f);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x2e64d4){this['_setValue']('emitterRad'+'ius',_0x2e64d4);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4ae3e4){this['_setValue']('emitterRad'+'iusInner',_0x4ae3e4);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x116367){this['_setValue']('initialVel'+'ocity',_0x116367);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x2564f2){this['_setValue']('wrap',_0x2564f2);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x27d3fd){this['_setValue']('wrapBounds',_0x27d3fd);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x1c47ef){this['_setValue']('localSpace',_0x1c47ef);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x544245){this['_setValue']('screenSpac'+'e',_0x544245);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1e7a56){this['_setValue']('colorMapAs'+'set',_0x1e7a56);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x138472){this['_setValue']('normalMapA'+'sset',_0x138472);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x2a8228){this['_setValue']('mesh',_0x2a8228);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x572a16){this['_setValue']('meshAsset',_0x572a16);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x39c66c){this['_setValue']('renderAsse'+'t',_0x39c66c);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x414cf0){this['_setValue']('orientatio'+'n',_0x414cf0);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x15ffc0){this['_setValue']('particleNo'+'rmal',_0x15ffc0);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x32cf4a){this['_setValue']('localVeloc'+'ityGraph',_0x32cf4a);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x26bd03){this['_setValue']('localVeloc'+'ityGraph2',_0x26bd03);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x5cabdb){this['_setValue']('velocityGr'+'aph',_0x5cabdb);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x412ae4){this['_setValue']('velocityGr'+'aph2',_0x412ae4);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x4cdd8c){this['_setValue']('rotationSp'+'eedGraph',_0x4cdd8c);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2a390d){this['_setValue']('rotationSp'+'eedGraph2',_0x2a390d);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x504d2d){this['_setValue']('radialSpee'+'dGraph',_0x504d2d);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x2062d1){this['_setValue']('radialSpee'+'dGraph2',_0x2062d1);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x2eac9a){this['_setValue']('scaleGraph',_0x2eac9a);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x3476a2){this['_setValue']('scaleGraph'+'2',_0x3476a2);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x274420){this['_setValue']('colorGraph',_0x274420);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x2b57b1){this['_setValue']('colorGraph'+'2',_0x2b57b1);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0xcb911a){this['_setValue']('alphaGraph',_0xcb911a);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x481383){this['_setValue']('alphaGraph'+'2',_0x481383);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x30b525){this['_setValue']('colorMap',_0x30b525);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x18ef69){this['_setValue']('normalMap',_0x18ef69);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0xf20d34){this['_setValue']('animTilesX',_0xf20d34);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x5146ad){this['_setValue']('animTilesY',_0x5146ad);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x5bee1f){this['_setValue']('animStartF'+'rame',_0x5bee1f);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xfd56a){this['_setValue']('animNumFra'+'mes',_0xfd56a);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0xcd0374){this['_setValue']('animNumAni'+'mations',_0xcd0374);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x2b9971){this['_setValue']('animIndex',_0x2b9971);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x46e9ea){this['_setValue']('randomizeA'+'nimIndex',_0x46e9ea);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0xd2738d){this['_setValue']('animSpeed',_0xd2738d);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0xff7164){this['_setValue']('animLoop',_0xff7164);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x40986d){this['_setValue']('layers',_0x40986d);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x6f15d3){this['_drawOrder']=_0x6f15d3,this['emitter']&&(this['emitter']['drawOrder']=_0x6f15d3);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x425596,_0x10a922){const _0x5259b2=this['data'],_0x452c74=_0x5259b2[_0x425596];_0x5259b2[_0x425596]=_0x10a922,this['fire']('set',_0x425596,_0x452c74,_0x10a922);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x647379=0x5f3*-0x4+0x16bf+0x1*0x10d;_0x647379<this['layers']['length'];_0x647379++){const _0x4c8479=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x647379]);_0x4c8479&&(_0x4c8479['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x4c8479);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x53852a=-0x36*-0xb5+-0x4c7*0x3+0xb9*-0x21;_0x53852a<this['layers']['length'];_0x53852a++){const _0xd32754=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x53852a]);_0xd32754&&_0xd32754['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x3ff42b,_0x3d5cc8,_0xb52ada){if(this['emitter']){for(let _0x38c434=0x1de0+-0x70f*0x4+-0xa*0x2a;_0x38c434<_0x3d5cc8['length'];_0x38c434++){const _0x3add31=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3d5cc8[_0x38c434]);_0x3add31&&_0x3add31['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x1fcc2c=0x18a7+-0x1487+-0x420;_0x1fcc2c<_0xb52ada['length'];_0x1fcc2c++){const _0x2b4473=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xb52ada[_0x1fcc2c]);_0x2b4473&&_0x2b4473['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x24f88c,_0x4c14dc){this['addMeshIns'+'tanceToLay'+'ers'](),_0x24f88c['off']('add',this['onLayerAdd'+'ed'],this),_0x24f88c['off']('remove',this['onLayerRem'+'oved'],this),_0x4c14dc['on']('add',this['onLayerAdd'+'ed'],this),_0x4c14dc['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1aa9fe){!this['emitter']||this['layers']['indexOf'](_0x1aa9fe['id'])<-0xcfb*0x3+0xa*0x53+0x2bf*0xd||_0x1aa9fe['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x18c841){!this['emitter']||this['layers']['indexOf'](_0x18c841['id'])<-0x2*-0x8e7+-0x1860+0x692||_0x18c841['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x502e7b){if(_0x502e7b['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x502e7b['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x502e7b['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x502e7b['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x502e7b['resource'])this['_onColorMa'+'pAssetLoad'](_0x502e7b);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x502e7b);}}['_unbindCol'+'orMapAsset'](_0x59fbc1){_0x59fbc1['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x59fbc1['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x59fbc1['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x59fbc1['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x18ff52){this['colorMap']=_0x18ff52['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x4a96f4){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x44a50a){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x44a50a);}['_onColorMa'+'pAssetChan'+'ge'](_0xf8dd85){}['onSetColor'+'MapAsset'](_0x17dbe6,_0x2d09cc,_0x19f7a0){const _0x13aae7=this['system']['app']['assets'];if(_0x2d09cc){const _0xd64956=_0x13aae7['get'](_0x2d09cc);_0xd64956&&this['_unbindCol'+'orMapAsset'](_0xd64956);}if(_0x19f7a0){_0x19f7a0 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x19f7a0['id'],_0x19f7a0=_0x19f7a0['id']);const _0xf9150c=_0x13aae7['get'](_0x19f7a0);_0xf9150c?this['_bindColor'+'MapAsset'](_0xf9150c):_0x13aae7['once']('add:'+_0x19f7a0,_0x3e885f=>{this['_bindColor'+'MapAsset'](_0x3e885f);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x37f40f){if(_0x37f40f['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x37f40f['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x37f40f['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x37f40f['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x37f40f['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x37f40f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x37f40f);}}['_unbindNor'+'malMapAsse'+'t'](_0x3380f6){_0x3380f6['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x3380f6['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x3380f6['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x3380f6['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x51f4e9){this['normalMap']=_0x51f4e9['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x80ca2){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x5274a0){this['_onNormalM'+'apAssetUnl'+'oad'](_0x5274a0);}['_onNormalM'+'apAssetCha'+'nge'](_0xc0ddc8){}['onSetNorma'+'lMapAsset'](_0x46b396,_0x3277c3,_0x15019b){const _0x6777a4=this['system']['app']['assets'];if(_0x3277c3){const _0x4cd8f6=_0x6777a4['get'](_0x3277c3);_0x4cd8f6&&this['_unbindNor'+'malMapAsse'+'t'](_0x4cd8f6);}if(_0x15019b){_0x15019b instanceof pe&&(this['data']['normalMapA'+'sset']=_0x15019b['id'],_0x15019b=_0x15019b['id']);const _0xcc39d8=_0x6777a4['get'](_0x15019b);_0xcc39d8?this['_bindNorma'+'lMapAsset'](_0xcc39d8):_0x6777a4['once']('add:'+_0x15019b,_0x461445=>{this['_bindNorma'+'lMapAsset'](_0x461445);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x9dea0e){if(_0x9dea0e['on']('load',this['_onMeshAss'+'etLoad'],this),_0x9dea0e['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x9dea0e['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x9dea0e['on']('change',this['_onMeshAss'+'etChange'],this),_0x9dea0e['resource'])this['_onMeshAss'+'etLoad'](_0x9dea0e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x9dea0e);}}['_unbindMes'+'hAsset'](_0x30d87a){_0x30d87a['off']('load',this['_onMeshAss'+'etLoad'],this),_0x30d87a['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x30d87a['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x30d87a['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x5e8765){this['_onMeshCha'+'nged'](_0x5e8765['resource']);}['_onMeshAss'+'etUnload'](_0x50fa5c){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x4cd7ba){this['_onMeshAss'+'etUnload'](_0x4cd7ba);}['_onMeshAss'+'etChange'](_0x295aac){}['onSetMeshA'+'sset'](_0x832c5c,_0x47153b,_0x5c3a33){const _0x21e54b=this['system']['app']['assets'];if(_0x47153b){const _0x3a9b86=_0x21e54b['get'](_0x47153b);_0x3a9b86&&this['_unbindMes'+'hAsset'](_0x3a9b86);}if(_0x5c3a33){_0x5c3a33 instanceof pe&&(this['data']['meshAsset']=_0x5c3a33['id'],_0x5c3a33=_0x5c3a33['id']);const _0x1e304b=_0x21e54b['get'](_0x5c3a33);_0x1e304b&&this['_bindMeshA'+'sset'](_0x1e304b);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x38a56a,_0x980b92,_0x313661){!_0x313661||_0x313661 instanceof pe||typeof _0x313661=='number'?this['meshAsset']=_0x313661:this['_onMeshCha'+'nged'](_0x313661);}['_onMeshCha'+'nged'](_0x54e0f2){_0x54e0f2&&!(_0x54e0f2 instanceof Ge)&&(_0x54e0f2['meshInstan'+'ces'][-0x1972+-0xcc2+0x2634]?_0x54e0f2=_0x54e0f2['meshInstan'+'ces'][-0x1*-0x634+-0xf7*-0x3+0x1*-0x919]['mesh']:_0x54e0f2=null),this['data']['mesh']=_0x54e0f2,this['emitter']&&(this['emitter']['mesh']=_0x54e0f2,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0xeb44ec,_0x1c795f,_0x49ff99){const _0x289b1b=this['system']['app']['assets'];if(_0x1c795f){const _0x5cb637=_0x289b1b['get'](_0x1c795f);_0x5cb637&&this['_unbindRen'+'derAsset'](_0x5cb637);}if(_0x49ff99){_0x49ff99 instanceof pe&&(this['data']['renderAsse'+'t']=_0x49ff99['id'],_0x49ff99=_0x49ff99['id']);const _0x3f9a1f=_0x289b1b['get'](_0x49ff99);_0x3f9a1f&&this['_bindRende'+'rAsset'](_0x3f9a1f);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x31b6b5){if(_0x31b6b5['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x31b6b5['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x31b6b5['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x31b6b5['resource'])this['_onRenderA'+'ssetLoad'](_0x31b6b5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x31b6b5);}}['_unbindRen'+'derAsset'](_0x45628a){var _0x41638a;_0x45628a['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x45628a['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x45628a['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x41638a=this['_evtSetMes'+'hes'])==null||_0x41638a['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0xde7310){this['_onRenderC'+'hanged'](_0xde7310['resource']);}['_onRenderA'+'ssetUnload'](_0x10c0a4){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x322287){this['_onRenderA'+'ssetUnload'](_0x322287);}['_onRenderC'+'hanged'](_0x439112){var _0x535a8a;if(!_0x439112){this['_onMeshCha'+'nged'](null);return;}(_0x535a8a=this['_evtSetMes'+'hes'])==null||_0x535a8a['off'](),this['_evtSetMes'+'hes']=_0x439112['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x439112['meshes']&&this['_onRenderS'+'etMeshes'](_0x439112['meshes']);}['_onRenderS'+'etMeshes'](_0x1bd705){this['_onMeshCha'+'nged'](_0x1bd705&&_0x1bd705[-0x31c*-0x1+-0x1*0x2c3+-0x59*0x1]);}['onSetLoop'](_0x274f26,_0x1226a6,_0x3ccf94){this['emitter']&&(this['emitter'][_0x274f26]=_0x3ccf94,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x2eaca5,_0x3743ab,_0x25d559){this['emitter']&&(this['emitter'][_0x2eaca5]=_0x25d559,this['emitter']['material']['blendType']=_0x25d559,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x6d1*-0x1+-0xd62+0x1433)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x83c+-0x15f+-0x6dc));}['onSetDepth'+'Softening'](_0x343f3a,_0x51b82a,_0x22d3b5){_0x51b82a!==_0x22d3b5&&(_0x22d3b5?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x343f3a]=_0x22d3b5)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x343f3a]=_0x22d3b5)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x4faa22,_0x4bf0ae,_0x5d22c5){this['emitter']&&(this['emitter'][_0x4faa22]=_0x5d22c5,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x3a1b94,_0x304280,_0x4b7fee){this['emitter']&&(this['emitter'][_0x3a1b94]=_0x4b7fee,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x143f1,_0x19cad2,_0x52182d){this['emitter']&&(this['emitter'][_0x143f1]=_0x52182d,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x59c93d=this['system']['app']['scene'],_0x234048=_0x59c93d['layers'],_0x39093d=this['data'];for(let _0x1500da=-0x1caf*0x1+-0x6d*-0x2+-0x5f*-0x4b,_0x4b47a7=Cc['length'];_0x1500da<_0x4b47a7;_0x1500da++){let _0x35d162=_0x39093d[Cc[_0x1500da]];if(_0x35d162){if(!(_0x35d162 instanceof pe)){if(parseInt(_0x35d162,0xe2c*-0x2+0x200b+-0x3a9)>=-0xe1f+0x7*0x4c3+0x1336*-0x1)_0x35d162=this['system']['app']['assets']['get'](_0x35d162);else continue;}_0x35d162&&!_0x35d162['resource']&&this['system']['app']['assets']['load'](_0x35d162);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x10b383=_0x39093d['mesh'];_0x10b383 instanceof Ge||(_0x10b383=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x39093d['numParticl'+'es'],'emitterExtents':_0x39093d['emitterExt'+'ents'],'emitterExtentsInner':_0x39093d['emitterExt'+'entsInner'],'emitterRadius':_0x39093d['emitterRad'+'ius'],'emitterRadiusInner':_0x39093d['emitterRad'+'iusInner'],'emitterShape':_0x39093d['emitterSha'+'pe'],'initialVelocity':_0x39093d['initialVel'+'ocity'],'wrap':_0x39093d['wrap'],'localSpace':_0x39093d['localSpace'],'screenSpace':_0x39093d['screenSpac'+'e'],'wrapBounds':_0x39093d['wrapBounds'],'lifetime':_0x39093d['lifetime'],'rate':_0x39093d['rate'],'rate2':_0x39093d['rate2'],'orientation':_0x39093d['orientatio'+'n'],'particleNormal':_0x39093d['particleNo'+'rmal'],'animTilesX':_0x39093d['animTilesX'],'animTilesY':_0x39093d['animTilesY'],'animStartFrame':_0x39093d['animStartF'+'rame'],'animNumFrames':_0x39093d['animNumFra'+'mes'],'animNumAnimations':_0x39093d['animNumAni'+'mations'],'animIndex':_0x39093d['animIndex'],'randomizeAnimIndex':_0x39093d['randomizeA'+'nimIndex'],'animSpeed':_0x39093d['animSpeed'],'animLoop':_0x39093d['animLoop'],'startAngle':_0x39093d['startAngle'],'startAngle2':_0x39093d['startAngle'+'2'],'scaleGraph':_0x39093d['scaleGraph'],'scaleGraph2':_0x39093d['scaleGraph'+'2'],'colorGraph':_0x39093d['colorGraph'],'colorGraph2':_0x39093d['colorGraph'+'2'],'alphaGraph':_0x39093d['alphaGraph'],'alphaGraph2':_0x39093d['alphaGraph'+'2'],'localVelocityGraph':_0x39093d['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x39093d['localVeloc'+'ityGraph2'],'velocityGraph':_0x39093d['velocityGr'+'aph'],'velocityGraph2':_0x39093d['velocityGr'+'aph2'],'rotationSpeedGraph':_0x39093d['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x39093d['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x39093d['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x39093d['radialSpee'+'dGraph2'],'colorMap':_0x39093d['colorMap'],'normalMap':_0x39093d['normalMap'],'loop':_0x39093d['loop'],'preWarm':_0x39093d['preWarm'],'sort':_0x39093d['sort'],'stretch':_0x39093d['stretch'],'alignToMotion':_0x39093d['alignToMot'+'ion'],'lighting':_0x39093d['lighting'],'halfLambert':_0x39093d['halfLamber'+'t'],'intensity':_0x39093d['intensity'],'depthSoftening':_0x39093d['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x10b383,'depthWrite':_0x39093d['depthWrite'],'noFog':_0x39093d['noFog'],'node':this['entity'],'blendType':_0x39093d['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x39093d['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x14f1+-0x1*0x2386+0xe96));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x59c93d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x234048&&(this['_evtLayerA'+'dded']=_0x234048['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x234048['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x39093d['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x8c1ff0,_0x341c91,_0x6d6a6e;const _0x4edbb0=this['system']['app']['scene']['layers'];(_0x8c1ff0=this['_evtLayers'+'Changed'])==null||_0x8c1ff0['off'](),this['_evtLayers'+'Changed']=null,_0x4edbb0&&((_0x341c91=this['_evtLayerA'+'dded'])==null||_0x341c91['off'](),this['_evtLayerA'+'dded']=null,(_0x6d6a6e=this['_evtLayerR'+'emoved'])==null||_0x6d6a6e['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0xf4*0x1+0x1*-0xc0b+0x1a*0x80)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x82c5fe=-0x4c*0x50+0xe05*-0x1+0x25c5;_0x82c5fe<Cc['length'];_0x82c5fe++){const _0x5de089=Cc[_0x82c5fe];this['data'][_0x5de089]&&(this[_0x5de089]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x1*0x7d3+0x3aa+-0xb7c*0x1),this['emitter']['resetTime'](),this['emitter']['addTime'](0x230d+0x2040+-0x434d,!(0x1*-0x145d+-0x2*0x32b+0x5*0x557)));}['pause'](){this['data']['paused']=!(-0x1*-0x1b92+-0xda9*0x2+-0x10*0x4);}['unpause'](){this['data']['paused']=!(-0x1*-0x5ed+-0x808+0x21c);}['play'](){this['data']['paused']=!(0x1c1*-0x1+0x2b*0x88+-0x1516),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x24b7+-0x1*0xb71+0xc0a*0x4),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x186a+-0x9b0+-0xeb9):this['emitter']&&this['emitter']['loop']?!(0x308+-0x118*-0x15+-0x1a00):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x228add}=this;_0x228add&&!_0x228add['inTools']&&(_0x228add['inTools']=!(-0x19a8+-0xb87*0x2+-0x2*-0x185b),this['rebuild']());}['rebuild'](){const _0x2c904a=this['enabled'];this['enabled']=!(0xbcc+-0x2*0x7bb+0x3ab),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x2c904a;}}class t3{constructor(){this['numParticl'+'es']=0xa7*0x1+0x1616+-0x16bc,this['rate']=0x16bc+-0x7*-0x17+-0x175c,this['rate2']=null,this['startAngle']=0x65*-0x7+0x17a2+-0x14df,this['startAngle'+'2']=null,this['lifetime']=0x2162+-0x5*-0x40f+-0x1*0x357b,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x52*0x1+0x81d+-0x86f,this['emitterRad'+'iusInner']=-0x2455+0x25*0xd6+0x567,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x2*-0x10ef+0x1884+-0x1*-0x95a,this['wrap']=!(0x707+-0x103d+0x1*0x937),this['wrapBounds']=new D(),this['localSpace']=!(0x2031+0x1b9e+0x3bce*-0x1),this['screenSpac'+'e']=!(-0x1f65+-0x9*0x229+0x32d7),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1*-0xc5f+0x3*-0x2d6+0x42d*0x5),this['preWarm']=!(-0xa*0xd6+0x19be+-0x5cb*0x3),this['sort']=0x1ffe+0x1*0x27a+-0x2278,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x189c+0xb04+0x1*0xd99),this['halfLamber'+'t']=!(0x8a*0x1+0x2d*-0xb7+0x1fa2),this['intensity']=0x116e*-0x1+0xb9+0x10b6,this['stretch']=-0x1ba9*0x1+-0x1163+0x2d0c,this['alignToMot'+'ion']=!(-0xbf7*0x3+-0x12cc+0x36b2),this['depthSofte'+'ning']=0x6d1+-0x1524+0x13*0xc1,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x8*0x161+0x1*0x14a3+-0x3*0xa8e),this['noFog']=!(0x7*0x232+0x1696+-0x25f3),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x1012+-0x228c+-0x1d9*-0xa,-0x1714+-0x19ac+0x6f7*0x7,-0x2ed+-0x50*-0x37+-0xe43*0x1),this['animTilesX']=0x482*-0x2+-0x2063+-0x52d*-0x8,this['animTilesY']=-0x90*0x9+0x35*0x97+-0x7*0x3be,this['animStartF'+'rame']=0x3f*-0x4+0x61d+-0x65*0xd,this['animNumFra'+'mes']=-0x1*0x12e+-0x1cc5*-0x1+-0x1b96,this['animNumAni'+'mations']=-0xf97+0x2037+-0x109f,this['animIndex']=-0x33f+-0xf66+0x12a5,this['randomizeA'+'nimIndex']=!(0x11*0xef+-0xd7c+-0x262),this['animSpeed']=0x17*0xd1+-0x76b+-0xb5b,this['animLoop']=!(-0x2b8*0x6+0x225c+-0x120c),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x622+0x1fbe+-0x199c),this['paused']=!(0xe*0x212+0xdbd*0x1+0x8*-0x557),this['autoPlay']=!(0x1f6*0x5+0x15bb+-0x1f89),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x1a3828){super(_0x1a3828),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x1a3828['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x1a3828['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x1de108,_0x3b037d,_0x197d57){const _0x3c7322={};_0x197d57=[];const _0x4c74c7=this['propertyTy'+'pes'];(_0x3b037d['mesh']instanceof pe||typeof _0x3b037d['mesh']=='number')&&(_0x3b037d['meshAsset']=_0x3b037d['mesh'],delete _0x3b037d['mesh']);for(const _0x41c77a in _0x3b037d){if(_0x3b037d['hasOwnProp'+'erty'](_0x41c77a)&&(_0x197d57['push'](_0x41c77a),_0x3c7322[_0x41c77a]=_0x3b037d[_0x41c77a]),_0x4c74c7[_0x41c77a]==='vec3')Array['isArray'](_0x3c7322[_0x41c77a])&&(_0x3c7322[_0x41c77a]=new D(_0x3c7322[_0x41c77a][-0x3*0xa2+-0x101e+0x1204],_0x3c7322[_0x41c77a][-0x1ba5+0xf1+0x1ab5],_0x3c7322[_0x41c77a][-0x86b+-0x3*-0xcca+0x3*-0x9fb]));else{if(_0x4c74c7[_0x41c77a]==='curve'){if(!(_0x3c7322[_0x41c77a]instanceof qs)){const _0x36e123=_0x3c7322[_0x41c77a]['type'];_0x3c7322[_0x41c77a]=new qs(_0x3c7322[_0x41c77a]['keys']),_0x3c7322[_0x41c77a]['type']=_0x36e123;}}else{if(_0x4c74c7[_0x41c77a]==='curveset'&&!(_0x3c7322[_0x41c77a]instanceof na)){const _0x57181d=_0x3c7322[_0x41c77a]['type'];_0x3c7322[_0x41c77a]=new na(_0x3c7322[_0x41c77a]['keys']),_0x3c7322[_0x41c77a]['type']=_0x57181d;}}}_0x3c7322['layers']&&Array['isArray'](_0x3c7322['layers'])&&(_0x3c7322['layers']=_0x3c7322['layers']['slice'](-0x8de+-0x1c24+-0x1281*-0x2));}super['initialize'+'ComponentD'+'ata'](_0x1de108,_0x3c7322,_0x197d57);}['cloneCompo'+'nent'](_0x141c8e,_0x1937b6){const _0x27c230=_0x141c8e['particlesy'+'stem']['data'],_0x1aad2e=this['schema'],_0x19b267={};for(let _0x5fd183=-0x22de+0x84f+0x1a8f,_0x24c272=_0x1aad2e['length'];_0x5fd183<_0x24c272;_0x5fd183++){const _0x436d2e=_0x1aad2e[_0x5fd183];let _0x5ebb84=_0x27c230[_0x436d2e];_0x5ebb84 instanceof D||_0x5ebb84 instanceof qs||_0x5ebb84 instanceof na?(_0x5ebb84=_0x5ebb84['clone'](),_0x19b267[_0x436d2e]=_0x5ebb84):_0x436d2e==='layers'?_0x19b267['layers']=_0x27c230['layers']['slice'](0x185b+-0x1a71+0x216):_0x5ebb84!=null&&(_0x19b267[_0x436d2e]=_0x5ebb84);}return this['addCompone'+'nt'](_0x1937b6,_0x19b267);}['onUpdate'](_0x535877){const _0x35a932=this['store'],_0x1ab3fb=this['app']['stats']['particles'],_0x5e7bcb=this['app']['scene']['layers'];for(let _0x211786=-0x26b0+0x22ca*-0x1+0x497a;_0x211786<_0x5e7bcb['layerList']['length'];_0x211786++)_0x5e7bcb['layerList'][_0x211786]['requiresLi'+'ghtCube']=!(-0x7f7*0x3+-0xc9b+0x2481);for(const _0x3ce4c8 in _0x35a932)if(_0x35a932['hasOwnProp'+'erty'](_0x3ce4c8)){const _0x15f6f3=_0x35a932[_0x3ce4c8],_0x17f97e=_0x15f6f3['entity'],_0x4c9788=_0x15f6f3['data'];if(_0x4c9788['enabled']&&_0x17f97e['enabled']){const _0x4c0364=_0x17f97e['particlesy'+'stem']['emitter'];if(!(_0x4c0364!=null&&_0x4c0364['meshInstan'+'ce']['visible']))continue;if(_0x4c0364['lighting']){const _0x38811e=_0x4c9788['layers'];for(let _0x2d4d20=0x1*0x12ed+-0x199*0xd+0x76*0x4;_0x2d4d20<_0x38811e['length'];_0x2d4d20++){const _0x5827f8=_0x5e7bcb['getLayerBy'+'Id'](_0x38811e[_0x2d4d20]);_0x5827f8&&(_0x5827f8['requiresLi'+'ghtCube']=!(-0x661+-0x1a52+0xb*0x2f9));}}if(!_0x4c9788['paused']){let _0x1eb92e=-0x158d*-0x1+0x8ed*-0x2+-0x3b3*0x1;if(_0x4c0364['simTime']+=_0x535877,_0x4c0364['simTime']>=_0x4c0364['fixedTimeS'+'tep']&&(_0x1eb92e=Math['floor'](_0x4c0364['simTime']/_0x4c0364['fixedTimeS'+'tep']),_0x4c0364['simTime']-=_0x1eb92e*_0x4c0364['fixedTimeS'+'tep']),_0x1eb92e){_0x1eb92e=Math['min'](_0x1eb92e,_0x4c0364['maxSubStep'+'s']);for(let _0x4b196b=0x16b3+0x266c+-0x1*0x3d1f;_0x4b196b<_0x1eb92e;_0x4b196b++)_0x4c0364['addTime'](_0x4c0364['fixedTimeS'+'tep'],!(-0x1*0x1b4a+0x2588+-0xa3d));_0x1ab3fb['_updatesPe'+'rFrame']+=_0x1eb92e,_0x1ab3fb['_frameTime']+=_0x4c0364['_addTimeTi'+'me'],_0x4c0364['_addTimeTi'+'me']=-0x695*0x3+-0xe*-0x41+0x5*0x33d;}_0x4c0364['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x268706,_0x37a8ed){_0x37a8ed['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x124207,_0x221adc){super(),this['skin']=_0x124207,this['skinInstan'+'ce']=_0x221adc;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x347ca5,_0x37a8eb)=>{console['log'](_0x37a8eb['name']+':\x20Array('+_0x347ca5['length']+')');for(let _0x3724ed=-0x49b+-0x3*-0x892+-0x151b*0x1;_0x3724ed<_0x347ca5['length'];_0x3724ed++)console['log']('\x20\x20'+_0x3724ed+(':\x20RefCount'+'\x20')+_0x347ca5[_0x3724ed]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x509811,_0x5f17ab,_0x4c834c){let _0x40c394=Gs['getCachedS'+'kinInstanc'+'e'](_0x509811,_0x5f17ab);return _0x40c394||(_0x40c394=new Ol(_0x509811),_0x40c394['resolve'](_0x5f17ab,_0x4c834c),Gs['addCachedS'+'kinInstanc'+'e'](_0x509811,_0x5f17ab,_0x40c394)),_0x40c394;}static['getCachedS'+'kinInstanc'+'e'](_0x37d796,_0x50ea92){let _0x13cfd2=null;const _0x201e75=Gs['_skinInsta'+'nceCache']['get'](_0x50ea92);if(_0x201e75){const _0x3873ba=_0x201e75['find'](_0x4ff7dc=>_0x4ff7dc['skin']===_0x37d796);_0x3873ba&&(_0x3873ba['incRefCoun'+'t'](),_0x13cfd2=_0x3873ba['skinInstan'+'ce']);}return _0x13cfd2;}static['addCachedS'+'kinInstanc'+'e'](_0x469676,_0x2db659,_0x203ff8){let _0x5c7b9b=Gs['_skinInsta'+'nceCache']['get'](_0x2db659);_0x5c7b9b||(_0x5c7b9b=[],Gs['_skinInsta'+'nceCache']['set'](_0x2db659,_0x5c7b9b));let _0x878981=_0x5c7b9b['find'](_0x51b8b1=>_0x51b8b1['skin']===_0x469676);_0x878981||(_0x878981=new UO(_0x469676,_0x203ff8),_0x5c7b9b['push'](_0x878981)),_0x878981['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0xdfce78){if(_0xdfce78){const _0x18e687=_0xdfce78['rootBone'];if(_0x18e687){const _0x5d03ce=Gs['_skinInsta'+'nceCache']['get'](_0x18e687);if(_0x5d03ce){const _0x8c9c46=_0x5d03ce['findIndex'](_0x4f039c=>_0x4f039c['skinInstan'+'ce']===_0xdfce78);if(_0x8c9c46>=0xf36+0x3*0xc75+-0x3495*0x1){const _0x295266=_0x5d03ce[_0x8c9c46];_0x295266['decRefCoun'+'t'](),_0x295266['refCount']===-0x6ce+-0x593*0x1+0xc61&&(_0x5d03ce['splice'](_0x8c9c46,0x704*0x2+-0xe47+-0x2*-0x20),_0x5d03ce['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x18e687),_0xdfce78&&(_0xdfce78['destroy'](),_0x295266['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x349b86,_0x27448d,_0x169e0c,_0x3cdaed,_0x345866){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x349b86,this['parent']=_0x27448d,this['_scope']=_0x345866,this['_registry']=_0x169e0c,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x3cdaed['load'],this['_onAssetAd'+'d']=_0x3cdaed['add'],this['_onAssetRe'+'move']=_0x3cdaed['remove'],this['_onAssetUn'+'load']=_0x3cdaed['unload']);}set['id'](_0x25af8c){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x25af8c,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0xc75690){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0xc75690,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x365d63,_0x53f8d0,_0x5af2ce,_0x2bd041,_0x10d898,_0x3f4b80,_0x2bf92f;this['id']&&((_0x365d63=this['_evtLoadBy'+'Id'])==null||_0x365d63['off'](),this['_evtLoadBy'+'Id']=null,(_0x53f8d0=this['_evtAddByI'+'d'])==null||_0x53f8d0['off'](),this['_evtAddByI'+'d']=null,(_0x5af2ce=this['_evtRemove'+'ById'])==null||_0x5af2ce['off'](),this['_evtRemove'+'ById']=null,(_0x2bd041=this['_evtUnload'+'ById'])==null||_0x2bd041['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x10d898=this['_evtLoadBy'+'Url'])==null||_0x10d898['off'](),this['_evtLoadBy'+'Url']=null,(_0x3f4b80=this['_evtAddByU'+'rl'])==null||_0x3f4b80['off'](),this['_evtAddByU'+'rl']=null,(_0x2bf92f=this['_evtRemove'+'ByUrl'])==null||_0x2bf92f['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x2e70f9){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x2e70f9);}['_onAdd'](_0x3c108b){this['asset']=_0x3c108b,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3c108b);}['_onRemove'](_0x28122c){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x28122c),this['asset']=null;}['_onUnload'](_0x1f9d05){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1f9d05);}}class n0 extends we{constructor(_0x495e7b,_0x458faf){super(_0x495e7b,_0x458faf),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x2*0xa36+0x1*-0xff5+-0x17d*0x3)),h(this,'_receiveSh'+'adows',!(0x1*-0x1eb0+-0xa*0x17e+0x2d9c)),h(this,'_castShado'+'wsLightmap',!(0x5cb*0x5+0x105*-0x7+-0x15d4)),h(this,'_lightmapp'+'ed',!(0x1195+0x21c6+-0x272*0x15)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x1dd5+-0x4*0x39b+-0x6e*-0x67),h(this,'isStatic',!(-0xd3*-0x19+0x1910+0x46*-0xa7)),h(this,'_batchGrou'+'pId',-(0x633+-0x3*0xa49+0x18a9)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x495e7b['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x495e7b['defaultMat'+'erial'],_0x458faf['on']('remove',this['onRemoveCh'+'ild'],this),_0x458faf['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x458faf['on']('insert',this['onInsertCh'+'ild'],this),_0x458faf['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x5e4321){this['_renderSty'+'le']!==_0x5e4321&&(this['_renderSty'+'le']=_0x5e4321,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x5e4321));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x4d46d1){this['_customAab'+'b']=_0x4d46d1;const _0x4fbff6=this['_meshInsta'+'nces'];if(_0x4fbff6){for(let _0x160a25=-0x14*0xbe+0x26ed+-0x1815;_0x160a25<_0x4fbff6['length'];_0x160a25++)_0x4fbff6[_0x160a25]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x111469){if(this['_type']!==_0x111469&&(this['_area']=null,this['_type']=_0x111469,this['destroyMes'+'hInstances'](),_0x111469!=='asset')){let _0x49ca2d=this['_material'];(!_0x49ca2d||_0x49ca2d===this['system']['defaultMat'+'erial'])&&(_0x49ca2d=this['_materialR'+'eferences'][-0x4e5+0xd*0x17+-0x2*-0x1dd]&&this['_materialR'+'eferences'][0x2388+0x25cb+-0x4953]['asset']&&this['_materialR'+'eferences'][0x5b0+-0x11*-0x24+-0x814]['asset']['resource']);const _0x271a8d=r0(this['system']['app']['graphicsDe'+'vice'],_0x111469);this['_area']=_0x271a8d['area'],this['meshInstan'+'ces']=[new He(_0x271a8d['mesh'],_0x49ca2d||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x438311){if(w['assert'](Array['isArray'](_0x438311),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x438311,this['_meshInsta'+'nces']){const _0x10c17f=this['_meshInsta'+'nces'];for(let _0x2af63f=-0x1f9b+-0x1155+0x30f0;_0x2af63f<_0x10c17f['length'];_0x2af63f++)_0x10c17f[_0x2af63f]['node']||(_0x10c17f[_0x2af63f]['node']=this['entity']),_0x10c17f[_0x2af63f]['castShadow']=this['_castShado'+'ws'],_0x10c17f[_0x2af63f]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x10c17f[_0x2af63f]['renderStyl'+'e']=this['_renderSty'+'le'],_0x10c17f[_0x2af63f]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x10c17f[_0x2af63f]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x264488){if(_0x264488!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x264488;const _0x15b182=this['_meshInsta'+'nces'];if(_0x15b182){for(let _0xf2148b=0x2395+-0x1e3c+-0x559;_0xf2148b<_0x15b182['length'];_0xf2148b++)_0x15b182[_0xf2148b]['setLightma'+'pped'](_0x264488);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x2c898b){if(this['_castShado'+'ws']!==_0x2c898b){const _0x500d19=this['_meshInsta'+'nces'];if(_0x500d19){const _0x10a936=this['layers'],_0x362953=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x2c898b)for(let _0x5ce2fb=-0x2*0x626+-0x123b+-0x1*-0x1e87;_0x5ce2fb<_0x10a936['length'];_0x5ce2fb++){const _0x5bb7d0=_0x362953['layers']['getLayerBy'+'Id'](this['layers'][_0x5ce2fb]);_0x5bb7d0&&_0x5bb7d0['removeShad'+'owCasters'](_0x500d19);}for(let _0x76c5f6=0x6a*-0x1e+-0x213f+0x2dab;_0x76c5f6<_0x500d19['length'];_0x76c5f6++)_0x500d19[_0x76c5f6]['castShadow']=_0x2c898b;if(!this['_castShado'+'ws']&&_0x2c898b)for(let _0x32d33c=0x241b+0x4*0x9a5+-0x4aaf;_0x32d33c<_0x10a936['length'];_0x32d33c++){const _0x4732c1=_0x362953['layers']['getLayerBy'+'Id'](_0x10a936[_0x32d33c]);_0x4732c1&&_0x4732c1['addShadowC'+'asters'](_0x500d19);}}this['_castShado'+'ws']=_0x2c898b;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x30511d){if(this['_receiveSh'+'adows']!==_0x30511d){this['_receiveSh'+'adows']=_0x30511d;const _0x5f3310=this['_meshInsta'+'nces'];if(_0x5f3310){for(let _0x145d6f=0x2*0x1261+0x1327+-0x44d*0xd;_0x145d6f<_0x5f3310['length'];_0x145d6f++)_0x5f3310[_0x145d6f]['receiveSha'+'dow']=_0x30511d;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x53c600){this['_castShado'+'wsLightmap']=_0x53c600;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x2cad2d){this['_lightmapS'+'izeMultipl'+'ier']=_0x2cad2d;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x39974b){const _0x4a1ab3=this['system']['app']['scene']['layers'];let _0x4ea02c;if(this['_meshInsta'+'nces']){for(let _0x3f84ce=-0x1afb*0x1+-0xc56+0x2751;_0x3f84ce<this['_layers']['length'];_0x3f84ce++)_0x4ea02c=_0x4a1ab3['getLayerBy'+'Id'](this['_layers'][_0x3f84ce]),_0x4ea02c&&_0x4ea02c['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x1bbf*-0x1+-0x196d+0x352c;for(let _0x4d53f7=0x1010+-0x2034+0x1024;_0x4d53f7<_0x39974b['length'];_0x4d53f7++)this['_layers'][_0x4d53f7]=_0x39974b[_0x4d53f7];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0xc73717=0x2319+-0x1eda+-0x1*0x43f;_0xc73717<this['_layers']['length'];_0xc73717++)_0x4ea02c=_0x4a1ab3['getLayerBy'+'Id'](this['_layers'][_0xc73717]),_0x4ea02c&&_0x4ea02c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x24bc38){var _0x4dde8d,_0x1ab1c7;this['_batchGrou'+'pId']!==_0x24bc38&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x12fe+-0x19b*-0x17+-0x11ef&&((_0x4dde8d=this['system']['app']['batcher'])==null||_0x4dde8d['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x24bc38>=-0x54a*0x5+-0xe70+0x28e2&&((_0x1ab1c7=this['system']['app']['batcher'])==null||_0x1ab1c7['insert'](St['RENDER'],_0x24bc38,this['entity'])),_0x24bc38<-0xaf2+-0x88d+0x137f&&this['_batchGrou'+'pId']>=0x10d7+0x2591+-0x3668*0x1&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x24bc38);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x9edc85){if(this['_material']!==_0x9edc85&&(this['_material']=_0x9edc85,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x1911ed=0xa6f+0x1f08+-0x2977;_0x1911ed<this['_meshInsta'+'nces']['length'];_0x1911ed++)this['_meshInsta'+'nces'][_0x1911ed]['material']=_0x9edc85;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x2fe3c5=[]){if(this['_materialR'+'eferences']['length']>_0x2fe3c5['length']){for(let _0x5f56b0=_0x2fe3c5['length'];_0x5f56b0<this['_materialR'+'eferences']['length'];_0x5f56b0++)this['_materialR'+'eferences'][_0x5f56b0]['id']=null;this['_materialR'+'eferences']['length']=_0x2fe3c5['length'];}for(let _0x36da01=-0x1f15+0x13*-0x8d+0x298c;_0x36da01<_0x2fe3c5['length'];_0x36da01++)if(this['_materialR'+'eferences'][_0x36da01]||this['_materialR'+'eferences']['push'](new gl(_0x36da01,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x2fe3c5[_0x36da01]){const _0x3b50ef=_0x2fe3c5[_0x36da01]instanceof pe?_0x2fe3c5[_0x36da01]['id']:_0x2fe3c5[_0x36da01];this['_materialR'+'eferences'][_0x36da01]['id']!==_0x3b50ef&&(this['_materialR'+'eferences'][_0x36da01]['id']=_0x3b50ef),this['_materialR'+'eferences'][_0x36da01]['asset']&&this['_onMateria'+'lAdded'](_0x36da01,this,this['_materialR'+'eferences'][_0x36da01]['asset']);}else this['_materialR'+'eferences'][_0x36da01]['id']=null,this['_meshInsta'+'nces'][_0x36da01]&&(this['_meshInsta'+'nces'][_0x36da01]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x2767c4=>_0x2767c4['id']);}set['asset'](_0x561c86){const _0x243b4c=_0x561c86 instanceof pe?_0x561c86['id']:_0x561c86;this['_assetRefe'+'rence']['id']!==_0x243b4c&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x243b4c,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x40d940){const _0x39ef8f=_0x40d940 instanceof pe?_0x40d940['id']:_0x40d940;this['_assetRefe'+'rence']['id']=_0x39ef8f;}set['rootBone'](_0x47a701){if(this['_rootBone']!==_0x47a701){const _0x591f65=typeof _0x47a701=='string';if(this['_rootBone']&&_0x591f65&&this['_rootBone']['getGuid']()===_0x47a701)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x47a701 instanceof Ie?this['_rootBone']=_0x47a701:_0x591f65?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x47a701)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x1fdba2=this['_meshInsta'+'nces'];if(_0x1fdba2){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x25619f=0x1306+-0xa8e*-0x3+-0x32b0;_0x25619f<_0x1fdba2['length'];_0x25619f++)_0x1fdba2[_0x25619f]['destroy']();this['_meshInsta'+'nces']['length']=-0x1840+0x1*-0x1+-0x1*-0x1841;}}['addToLayer'+'s'](){const _0x33c2f8=this['system']['app']['scene']['layers'];for(let _0x4669a9=-0x1b2c*-0x1+-0x6*-0x420+0x33ec*-0x1;_0x4669a9<this['_layers']['length'];_0x4669a9++){const _0x2f5354=_0x33c2f8['getLayerBy'+'Id'](this['_layers'][_0x4669a9]);_0x2f5354&&_0x2f5354['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x48e8fa=this['system']['app']['scene']['layers'];for(let _0x33b216=-0xafc+-0x17*-0x7f+0x1*-0x6d;_0x33b216<this['_layers']['length'];_0x33b216++){const _0xf9a754=_0x48e8fa['getLayerBy'+'Id'](this['_layers'][_0x33b216]);_0xf9a754&&_0xf9a754['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x37ee86=-0x22bd+-0xcf3+0x2fb0;_0x37ee86<this['_materialR'+'eferences']['length'];_0x37ee86++)this['_materialR'+'eferences'][_0x37ee86]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x118de7,_0x4a4d6a){this['addToLayer'+'s'](),_0x118de7['off']('add',this['onLayerAdd'+'ed'],this),_0x118de7['off']('remove',this['onLayerRem'+'oved'],this),_0x4a4d6a['on']('add',this['onLayerAdd'+'ed'],this),_0x4a4d6a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x323e68){this['layers']['indexOf'](_0x323e68['id'])<-0x20e+0x346+-0x138*0x1||_0x323e68['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x4da190){this['layers']['indexOf'](_0x4da190['id'])<-0x24cd*0x1+0x22f6+0x1d7||_0x4da190['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x1b5b57;const _0x5bb9ad=this['system']['app'],_0x50b671=_0x5bb9ad['scene'],_0x4ae851=_0x50b671['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x50b671['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4ae851&&(this['_evtLayerA'+'dded']=_0x4ae851['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4ae851['on']('remove',this['onLayerRem'+'oved'],this));const _0x21b70d=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x21b70d&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x32e98d=-0x57*-0x17+0x509*0x5+-0x20fe;_0x32e98d<this['_materialR'+'eferences']['length'];_0x32e98d++)this['_materialR'+'eferences'][_0x32e98d]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x32e98d]['asset']);this['_batchGrou'+'pId']>=-0x2*-0xad9+-0x2653+0x2b*0x63&&((_0x1b5b57=_0x5bb9ad['batcher'])==null||_0x1b5b57['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x451f0a,_0x5ccc24,_0x20c202,_0x271073;const _0x58fa67=this['system']['app'],_0x2b63c6=_0x58fa67['scene']['layers'];(_0x451f0a=this['_evtLayers'+'Changed'])==null||_0x451f0a['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x2b63c6&&((_0x5ccc24=this['_evtLayerA'+'dded'])==null||_0x5ccc24['off'](),this['_evtLayerA'+'dded']=null,(_0x20c202=this['_evtLayerR'+'emoved'])==null||_0x20c202['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x11*0x1b1+0x5d9+0x16e8&&((_0x271073=_0x58fa67['batcher'])==null||_0x271073['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x18a2e9=0x1660+0xcfe+0x1*-0x235e;_0x18a2e9<this['_meshInsta'+'nces']['length'];_0x18a2e9++)this['_meshInsta'+'nces'][_0x18a2e9]['visible']=!(-0x1bc3*0x1+0x3*0xacf+-0x4a9);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x21de49=-0xad*-0xb+0x1*-0x20cf+-0xe*-0x1d0;_0x21de49<this['_meshInsta'+'nces']['length'];_0x21de49++)this['_meshInsta'+'nces'][_0x21de49]['visible']=!(-0x973*0x1+0x1054+-0x24b*0x3);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x2520e9;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x32ca24=this['_assetRefe'+'rence']['asset']['resource'];(_0x2520e9=this['_evtSetMes'+'hes'])==null||_0x2520e9['off'](),this['_evtSetMes'+'hes']=_0x32ca24['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x32ca24['meshes']&&this['_onSetMesh'+'es'](_0x32ca24['meshes']);}}['_onSetMesh'+'es'](_0xfb7e5a){this['_cloneMesh'+'es'](_0xfb7e5a);}['_clearSkin'+'Instances'](){for(let _0x2e6464=0x1*0x12f1+0x16a2+-0x2993;_0x2e6464<this['_meshInsta'+'nces']['length'];_0x2e6464++){const _0x398ec0=this['_meshInsta'+'nces'][_0x2e6464];_l['removeCach'+'edSkinInst'+'ance'](_0x398ec0['skinInstan'+'ce']),_0x398ec0['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x45fe0d=-0x7a*0x1a+0xa9f*0x3+0x3e5*-0x5;_0x45fe0d<this['_meshInsta'+'nces']['length'];_0x45fe0d++){const _0x28d4c9=this['_meshInsta'+'nces'][_0x45fe0d],_0x5bf8e2=_0x28d4c9['mesh'];_0x5bf8e2['skin']&&!_0x28d4c9['skinInstan'+'ce']&&(_0x28d4c9['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x5bf8e2['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x4f06a7){if(_0x4f06a7&&_0x4f06a7['length']){const _0x199e34=[];for(let _0x3a6cc3=0xb*-0x15d+-0x956+-0x1855*-0x1;_0x3a6cc3<_0x4f06a7['length'];_0x3a6cc3++){const _0x59185f=_0x4f06a7[_0x3a6cc3],_0x3a6081=this['_materialR'+'eferences'][_0x3a6cc3]&&this['_materialR'+'eferences'][_0x3a6cc3]['asset']&&this['_materialR'+'eferences'][_0x3a6cc3]['asset']['resource'],_0x2da611=new He(_0x59185f,_0x3a6081||this['system']['defaultMat'+'erial'],this['entity']);_0x199e34['push'](_0x2da611),_0x59185f['morph']&&(_0x2da611['morphInsta'+'nce']=new xa(_0x59185f['morph']));}this['meshInstan'+'ces']=_0x199e34,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x353d88;(_0x353d88=this['_evtSetMes'+'hes'])==null||_0x353d88['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x2c803e,_0x1e16f2,_0x11c1fb){_0x11c1fb['resource']?this['_onMateria'+'lLoad'](_0x2c803e,_0x1e16f2,_0x11c1fb):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x11c1fb);}['_updateMai'+'nMaterial'](_0x1fe7b2,_0x19a73a){_0x1fe7b2===-0x1c5+-0x157b*0x1+0x1740&&(this['material']=_0x19a73a);}['_onMateria'+'lLoad'](_0x113c8d,_0x111627,_0x31f498){this['_meshInsta'+'nces'][_0x113c8d]&&(this['_meshInsta'+'nces'][_0x113c8d]['material']=_0x31f498['resource']),this['_updateMai'+'nMaterial'](_0x113c8d,_0x31f498['resource']);}['_onMateria'+'lRemove'](_0x1717e2,_0xeb1b5b,_0x1f72d4){this['_meshInsta'+'nces'][_0x1717e2]&&(this['_meshInsta'+'nces'][_0x1717e2]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1717e2,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x44591e,_0x47b866,_0x19ae58){this['_meshInsta'+'nces'][_0x44591e]&&(this['_meshInsta'+'nces'][_0x44591e]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x44591e,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2c5988,_0x46c459){_0x2c5988['rootBone']&&(this['rootBone']=_0x46c459[_0x2c5988['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(0xdf7+0xbb*-0x11+-0x9*0x2c);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x3e91f6){super(_0x3e91f6),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x3e91f6['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x8c3c92,_0x5b7971,_0x5be6d3){(_0x5b7971['batchGroup'+'Id']===null||_0x5b7971['batchGroup'+'Id']===void(0x198*-0x1+-0x1cf*0xb+-0x1*-0x157d))&&(_0x5b7971['batchGroup'+'Id']=-(-0xd1d+0x1*0xd59+-0x3b)),_0x5b7971['layers']&&_0x5b7971['layers']['length']&&(_0x5b7971['layers']=_0x5b7971['layers']['slice'](-0x10b7*0x2+-0x17*0xd9+0x34ed));for(let _0x51c4f4=0x1d*-0x3e+-0x917+0x113*0xf;_0x51c4f4<Gr['length'];_0x51c4f4++)_0x5b7971['hasOwnProp'+'erty'](Gr[_0x51c4f4])&&(_0x8c3c92[Gr[_0x51c4f4]]=_0x5b7971[Gr[_0x51c4f4]]);_0x5b7971['aabbCenter']&&_0x5b7971['aabbHalfEx'+'tents']&&(_0x8c3c92['customAabb']=new De(new D(_0x5b7971['aabbCenter']),new D(_0x5b7971['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x8c3c92,_0x5b7971,ku);}['cloneCompo'+'nent'](_0x3191a0,_0x3ed36e){const _0x2e3510={};for(let _0x28070b=0x9*-0x325+-0x52c+0x2179;_0x28070b<Gr['length'];_0x28070b++)_0x2e3510[Gr[_0x28070b]]=_0x3191a0['render'][Gr[_0x28070b]];_0x2e3510['enabled']=_0x3191a0['render']['enabled'],delete _0x2e3510['meshInstan'+'ces'];const _0x46d562=this['addCompone'+'nt'](_0x3ed36e,_0x2e3510),_0x2859c5=_0x3191a0['render']['meshInstan'+'ces'],_0xd4d610=_0x2859c5['map'](_0xc6ce8f=>_0xc6ce8f['mesh']);_0x46d562['_onSetMesh'+'es'](_0xd4d610);for(let _0x5abfa5=0xc2*-0x1c+-0x2174+0x36ac*0x1;_0x5abfa5<_0x2859c5['length'];_0x5abfa5++)_0x46d562['meshInstan'+'ces'][_0x5abfa5]['material']=_0x2859c5[_0x5abfa5]['material'];return _0x3191a0['render']['customAabb']&&(_0x46d562['customAabb']=_0x3191a0['render']['customAabb']['clone']()),_0x46d562;}['onRemove'](_0x3f4d98,_0x2dfb9d){_0x2dfb9d['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x36d6c0,_0xc9b7ca){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x1517*-0x1+-0x1e4d+0x3364),(this['_construct'+'or']=_0x36d6c0,this['_resize'](_0xc9b7ca));}['_resize'](_0x33aab5){if(_0x33aab5>this['_pool']['length']){for(let _0xf62466=this['_pool']['length'];_0xf62466<_0x33aab5;_0xf62466++)this['_pool'][_0xf62466]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0xf5b+-0x12f1*-0x1+-0x224a)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x260f+-0x1448*-0x1+-0x3a57;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x5*-0x397+0x699+-0xc46*0x2),h(this,'_angularFa'+'ctor',new D(-0x2*0xad9+-0xa5*-0x17+0x6e0,-0xff3*-0x2+-0x2599+-0x2*-0x2da,0x1*0x1408+0x3d7*-0x5+0x35*-0x4)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x24f6+0xdec+0x87b*-0x6+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0x2ba*0x1+0x3d*-0x26+0x654),h(this,'_linearFac'+'tor',new D(0xd15*-0x1+0x1b88+-0xe72,-0x1d6e*0x1+0x215e*0x1+0x35*-0x13,-0x215c+0x11de*0x1+-0x1*-0xf7f)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x22a7+-0x229e*-0x1+0x5*0x2),h(this,'_restituti'+'on',-0x2519+0x2*-0x8b+0x5*0x7a3),h(this,'_rollingFr'+'iction',0x1e1b+-0x160c+-0x80f*0x1),h(this,'_simulatio'+'nEnabled',!(-0x256b+-0xad*0x13+-0x3*-0x10c1)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x258ca7){this['_angularDa'+'mping']!==_0x258ca7&&(this['_angularDa'+'mping']=_0x258ca7,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x258ca7));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3894c0){this['_angularFa'+'ctor']['equals'](_0x3894c0)||(this['_angularFa'+'ctor']['copy'](_0x3894c0),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x3894c0['x'],_0x3894c0['y'],_0x3894c0['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x432225){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x432225['x'],_0x432225['y'],_0x432225['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x432225));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x451ef2=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x451ef2['x'](),_0x451ef2['y'](),_0x451ef2['z']());}return this['_angularVe'+'locity'];}set['body'](_0x3113cd){this['_body']!==_0x3113cd&&(this['_body']=_0x3113cd,_0x3113cd&&this['_simulatio'+'nEnabled']&&_0x3113cd['activate']());}get['body'](){return this['_body'];}set['friction'](_0x85541a){this['_friction']!==_0x85541a&&(this['_friction']=_0x85541a,this['_body']&&this['_body']['setFrictio'+'n'](_0x85541a));}get['friction'](){return this['_friction'];}set['group'](_0xa67a7d){this['_group']!==_0xa67a7d&&(this['_group']=_0xa67a7d,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x48d081){this['_linearDam'+'ping']!==_0x48d081&&(this['_linearDam'+'ping']=_0x48d081,this['_body']&&this['_body']['setDamping'](_0x48d081,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x199882){this['_linearFac'+'tor']['equals'](_0x199882)||(this['_linearFac'+'tor']['copy'](_0x199882),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x199882['x'],_0x199882['y'],_0x199882['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x29bef4){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x29bef4['x'],_0x29bef4['y'],_0x29bef4['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x29bef4));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x70cc91=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x70cc91['x'](),_0x70cc91['y'](),_0x70cc91['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x120e65){this['_mask']!==_0x120e65&&(this['_mask']=_0x120e65,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x597ac4){if(this['_mass']!==_0x597ac4&&(this['_mass']=_0x597ac4,this['_body']&&this['_type']===ks)){const _0x4c6250=this['enabled']&&this['entity']['enabled'];_0x4c6250&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x597ac4,Re),this['_body']['setMassPro'+'ps'](_0x597ac4,Re),this['_body']['updateIner'+'tiaTensor'](),_0x4c6250&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x3f027a){this['_restituti'+'on']!==_0x3f027a&&(this['_restituti'+'on']=_0x3f027a,this['_body']&&this['_body']['setRestitu'+'tion'](_0x3f027a));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x201e9a){this['_rollingFr'+'iction']!==_0x201e9a&&(this['_rollingFr'+'iction']=_0x201e9a,this['_body']&&this['_body']['setRolling'+'Friction'](_0x201e9a));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x53d59f){if(this['_type']!==_0x53d59f){switch(this['_type']=_0x53d59f,this['disableSim'+'ulation'](),_0x53d59f){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x220391=this['entity'];let _0x3f75c8;if(_0x220391['collision']&&(_0x3f75c8=_0x220391['collision']['shape'],_0x220391['trigger']&&(_0x220391['trigger']['destroy'](),delete _0x220391['trigger'])),_0x3f75c8){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x2f74cd=this['_type']===ks?this['_mass']:0x1579+-0x212a+0x1*0xbb1;this['_getEntity'+'Transform'](cs);const _0x41e37a=this['system']['createBody'](_0x2f74cd,_0x3f75c8,cs);if(_0x41e37a['setRestitu'+'tion'](this['_restituti'+'on']),_0x41e37a['setFrictio'+'n'](this['_friction']),_0x41e37a['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x41e37a['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x4c9c7f=this['_linearFac'+'tor'];Re['setValue'](_0x4c9c7f['x'],_0x4c9c7f['y'],_0x4c9c7f['z']),_0x41e37a['setLinearF'+'actor'](Re);const _0x1cd673=this['_angularFa'+'ctor'];Re['setValue'](_0x1cd673['x'],_0x1cd673['y'],_0x1cd673['z']),_0x41e37a['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x41e37a['setCollisi'+'onFlags'](_0x41e37a['getCollisi'+'onFlags']()|qL),_0x41e37a['setActivat'+'ionState'](Vg));_0x41e37a['entity']=_0x220391,this['body']=_0x41e37a,this['enabled']&&_0x220391['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x84d+-0x132b+0x1b79);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x16cc00=this['entity'];if(_0x16cc00['collision']&&_0x16cc00['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x4f9245=this['_body'];if(_0x4f9245){switch(this['system']['addBody'](_0x4f9245,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x4f9245['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x4f9245['forceActiv'+'ationState'](Vg);break;case yo:_0x4f9245['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x16cc00['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x16cc00['collision']),_0x4f9245['activate'](),this['_simulatio'+'nEnabled']=!(-0x8a8+-0xd26+0x15ce);}}}['disableSim'+'ulation'](){const _0x33d468=this['_body'];if(_0x33d468&&this['_simulatio'+'nEnabled']){const _0x3f0fa6=this['system'];let _0x22bfef=_0x3f0fa6['_compounds']['indexOf'](this['entity']['collision']);_0x22bfef>-(-0x24cd*-0x1+0x12*0x25+-0x1*0x2766)&&_0x3f0fa6['_compounds']['splice'](_0x22bfef,0x2*-0x3fb+-0x26b3+0x2eaa),_0x22bfef=_0x3f0fa6['_dynamic']['indexOf'](this),_0x22bfef>-(-0x1*0x18fd+0x55*-0x4e+0x32e4)&&_0x3f0fa6['_dynamic']['splice'](_0x22bfef,0x4*-0x4ae+-0x1e5f+0x3118),_0x22bfef=_0x3f0fa6['_kinematic']['indexOf'](this),_0x22bfef>-(-0x198b+-0x25f1+0x3f7d)&&_0x3f0fa6['_kinematic']['splice'](_0x22bfef,-0x1*0x1ffb+-0xf0+-0x1c*-0x12d),_0x3f0fa6['removeBody'](_0x33d468),_0x33d468['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0xcb*-0x11+-0x338+0x4*0x42d);}}['applyForce'](_0x3f00c7,_0x4aadec,_0x479697,_0x1283f1,_0x529d41,_0x2f3e08){const _0x580a4a=this['_body'];_0x580a4a&&(_0x580a4a['activate'](),_0x3f00c7 instanceof D?Re['setValue'](_0x3f00c7['x'],_0x3f00c7['y'],_0x3f00c7['z']):Re['setValue'](_0x3f00c7,_0x4aadec,_0x479697),_0x4aadec instanceof D?Bs['setValue'](_0x4aadec['x'],_0x4aadec['y'],_0x4aadec['z']):_0x1283f1!==void(-0xc87*0x3+0x5db+0x1fba)?Bs['setValue'](_0x1283f1,_0x529d41,_0x2f3e08):Bs['setValue'](-0x179d+0x991*0x1+0xe0c,-0x13*-0x9f+0x195d*-0x1+-0x1c*-0x7c,-0x2f6+0x1*0x227+-0x45*-0x3),_0x580a4a['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x1d35c2,_0x28a48b,_0x5b4ad0){const _0x37f381=this['_body'];_0x37f381&&(_0x37f381['activate'](),_0x1d35c2 instanceof D?Re['setValue'](_0x1d35c2['x'],_0x1d35c2['y'],_0x1d35c2['z']):Re['setValue'](_0x1d35c2,_0x28a48b,_0x5b4ad0),_0x37f381['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x43f411,_0x569854,_0x5c166a,_0x292bf7,_0x529d71,_0x157452){const _0x5776d8=this['_body'];_0x5776d8&&(_0x5776d8['activate'](),_0x43f411 instanceof D?Re['setValue'](_0x43f411['x'],_0x43f411['y'],_0x43f411['z']):Re['setValue'](_0x43f411,_0x569854,_0x5c166a),_0x569854 instanceof D?Bs['setValue'](_0x569854['x'],_0x569854['y'],_0x569854['z']):_0x292bf7!==void(-0x176f*-0x1+-0xc4f+-0x1*0xb20)?Bs['setValue'](_0x292bf7,_0x529d71,_0x157452):Bs['setValue'](0x8*-0x1bc+0x1ae6+0x683*-0x2,-0xba4+-0x4d5*-0x4+-0x4*0x1ec,0x10f0*-0x1+-0x227*0x2+0x153e),_0x5776d8['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x35daac,_0x59231a,_0x7aa20f){const _0x425723=this['_body'];_0x425723&&(_0x425723['activate'](),_0x35daac instanceof D?Re['setValue'](_0x35daac['x'],_0x35daac['y'],_0x35daac['z']):Re['setValue'](_0x35daac,_0x59231a,_0x7aa20f),_0x425723['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x571c96){const _0x435df1=this['entity'],_0x22a623=_0x435df1['collision'];if(_0x22a623){const _0x56dc2e=_0x22a623['getShapePo'+'sition'](),_0x5b9c50=_0x22a623['getShapeRo'+'tation']();Re['setValue'](_0x56dc2e['x'],_0x56dc2e['y'],_0x56dc2e['z']),Ka['setValue'](_0x5b9c50['x'],_0x5b9c50['y'],_0x5b9c50['z'],_0x5b9c50['w']);}else{const _0x59dd7c=_0x435df1['getPositio'+'n'](),_0xa021ee=_0x435df1['getRotatio'+'n']();Re['setValue'](_0x59dd7c['x'],_0x59dd7c['y'],_0x59dd7c['z']),Ka['setValue'](_0xa021ee['x'],_0xa021ee['y'],_0xa021ee['z'],_0xa021ee['w']);}_0x571c96['setOrigin'](Re),_0x571c96['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0xe7954f=this['_body'];if(_0xe7954f){if(this['_getEntity'+'Transform'](cs),_0xe7954f['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x318dc8=_0xe7954f['getMotionS'+'tate']();_0x318dc8&&_0x318dc8['setWorldTr'+'ansform'](cs);}_0xe7954f['activate']();}}['_updateDyn'+'amic'](){const _0x2b9353=this['_body'];if(_0x2b9353['isActive']()){const _0x46319d=_0x2b9353['getMotionS'+'tate']();if(_0x46319d){const _0x5465e3=this['entity'];_0x46319d['getWorldTr'+'ansform'](cs);const _0x4ad70e=cs['getOrigin'](),_0x7b8dd5=cs['getRotatio'+'n'](),_0x2da67d=_0x5465e3['collision'];if(_0x2da67d&&_0x2da67d['_hasOffset']){const _0x3cf47d=_0x2da67d['data']['linearOffs'+'et'],_0x305c5a=_0x2da67d['data']['angularOff'+'set'],_0x3ba42c=GO['copy'](_0x305c5a)['invert'](),_0x22a5f9=VO['set'](_0x7b8dd5['x'](),_0x7b8dd5['y'](),_0x7b8dd5['z'](),_0x7b8dd5['w']())['mul'](_0x3ba42c);_0x22a5f9['transformV'+'ector'](_0x3cf47d,Pc),_0x5465e3['setPositio'+'n'](_0x4ad70e['x']()-Pc['x'],_0x4ad70e['y']()-Pc['y'],_0x4ad70e['z']()-Pc['z']),_0x5465e3['setRotatio'+'n'](_0x22a5f9);}else _0x5465e3['setPositio'+'n'](_0x4ad70e['x'](),_0x4ad70e['y'](),_0x4ad70e['z']()),_0x5465e3['setRotatio'+'n'](_0x7b8dd5['x'](),_0x7b8dd5['y'](),_0x7b8dd5['z'](),_0x7b8dd5['w']());}}}['_updateKin'+'ematic'](){const _0x2f2d33=this['_body']['getMotionS'+'tate']();_0x2f2d33&&(this['_getEntity'+'Transform'](cs),_0x2f2d33['setWorldTr'+'ansform'](cs));}['teleport'](_0x4e9b40,_0x22ff8f,_0x43af0c,_0x550632,_0x4d6784,_0x3dd728){_0x4e9b40 instanceof D?this['entity']['setPositio'+'n'](_0x4e9b40):this['entity']['setPositio'+'n'](_0x4e9b40,_0x22ff8f,_0x43af0c),_0x22ff8f instanceof le?this['entity']['setRotatio'+'n'](_0x22ff8f):_0x22ff8f instanceof D?this['entity']['setEulerAn'+'gles'](_0x22ff8f):_0x550632!==void(0x1f0c+0x488*-0x6+0x3dc*-0x1)&&this['entity']['setEulerAn'+'gles'](_0x550632,_0x4d6784,_0x3dd728),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x179a+0x20bd+0xa7*-0xe));class HO{constructor(){this['enabled']=!(-0x1*-0x157f+0x19e7*-0x1+-0x2f*-0x18);}}let Mi,Di;class eS{constructor(_0x1b33dc,_0x4cc1f3,_0x577805,_0x4196c0){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x1b33dc,this['point']=_0x4cc1f3,this['normal']=_0x577805,this['hitFractio'+'n']=_0x4196c0);}}class WO{constructor(_0x42c0f6,_0x1f186b,_0x4f6c5e){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0x1*-0x238a+0x1bdf+0x7ab?(this['a']=_0x42c0f6,this['b']=_0x1f186b,this['impulse']=_0x4f6c5e['impulse'],this['localPoint'+'A']=_0x4f6c5e['localPoint'],this['localPoint'+'B']=_0x4f6c5e['localPoint'+'Other'],this['pointA']=_0x4f6c5e['point'],this['pointB']=_0x4f6c5e['pointOther'],this['normal']=_0x4f6c5e['normal']):(this['a']=null,this['b']=null,this['impulse']=0x1d*-0xf9+-0x1d7*-0x2+-0xa1*-0x27,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0xa0b899=new D(),_0x10f2c7=new D(),_0x5e6568=new D(),_0x321603=new D(),_0x529798=new D(),_0x40370a=0xa1*0x1d+0x226b+-0x34a8){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0xa0b899,this['localPoint'+'Other']=_0x10f2c7,this['point']=_0x5e6568,this['pointOther']=_0x321603,this['normal']=_0x529798,this['impulse']=_0x40370a);}}class XO{constructor(_0x393a63,_0x177571){h(this,'other'),h(this,'contacts'),(this['other']=_0x393a63,this['contacts']=_0x177571);}}const o0=['enabled'];class wm extends ct{constructor(_0x24dda3){super(_0x24dda3),h(this,'maxSubStep'+'s',0x109*0x8+0xbbd+-0x13fb),h(this,'fixedTimeS'+'tep',(0x143f+0x1a9*0x6+-0x1e34)/(-0x1728+-0x17*-0x1+0x174d)),h(this,'gravity',new D(-0x639+0x5*-0x24f+0x2f6*0x6,-(-0x1*-0x2263+-0x12f8+-0x166*0xb+0.8100000000000005),0x1*0x187f+0x1dc7+0x2*-0x1b23)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x1cd6+0x1561*-0x1+0x323a)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x24dda3['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x520af9=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x520af9);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,-0xbf0+-0x450+0x1041),this['contactRes'+'ultPool']=new bf(XO,0x2282+-0x45e+-0x607*0x5),this['singleCont'+'actResultP'+'ool']=new bf(WO,0x17*0x43+-0xcf2*0x3+-0x2*-0x1069),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x213ed0,_0x30754e,_0xc1e92f){const _0x4fccbd=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x506cb1 of _0x4fccbd)if(_0x30754e['hasOwnProp'+'erty'](_0x506cb1)){const _0x1a3d9d=_0x30754e[_0x506cb1];Array['isArray'](_0x1a3d9d)?_0x213ed0[_0x506cb1]=new D(_0x1a3d9d[-0x21e1*-0x1+-0x3d3*-0x4+0x1*-0x312d],_0x1a3d9d[0x402+0x2644+0x3*-0xe17],_0x1a3d9d[-0x11f+-0x2518+0x203*0x13]):_0x213ed0[_0x506cb1]=_0x1a3d9d;}super['initialize'+'ComponentD'+'ata'](_0x213ed0,_0x30754e,['enabled']);}['cloneCompo'+'nent'](_0x115e60,_0x1ef8bb){const _0x4e2c24=_0x115e60['rigidbody'],_0x322261={'enabled':_0x4e2c24['enabled'],'mass':_0x4e2c24['mass'],'linearDamping':_0x4e2c24['linearDamp'+'ing'],'angularDamping':_0x4e2c24['angularDam'+'ping'],'linearFactor':[_0x4e2c24['linearFact'+'or']['x'],_0x4e2c24['linearFact'+'or']['y'],_0x4e2c24['linearFact'+'or']['z']],'angularFactor':[_0x4e2c24['angularFac'+'tor']['x'],_0x4e2c24['angularFac'+'tor']['y'],_0x4e2c24['angularFac'+'tor']['z']],'friction':_0x4e2c24['friction'],'rollingFriction':_0x4e2c24['rollingFri'+'ction'],'restitution':_0x4e2c24['restitutio'+'n'],'type':_0x4e2c24['type'],'group':_0x4e2c24['group'],'mask':_0x4e2c24['mask']};return this['addCompone'+'nt'](_0x1ef8bb,_0x322261);}['onBeforeRe'+'move'](_0x593551,_0x2cf65b){_0x2cf65b['enabled']&&(_0x2cf65b['enabled']=!(-0x1281*0x1+0xd*-0x2bb+0x3601)),_0x2cf65b['body']&&(this['destroyBod'+'y'](_0x2cf65b['body']),_0x2cf65b['body']=null);}['addBody'](_0x14fe43,_0x50a60d,_0x4aeaff){_0x50a60d!==void(-0xfe*0x17+0x1160+-0x572*-0x1)&&_0x4aeaff!==void(-0xaf7+0x68f+0x468)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x14fe43,_0x50a60d,_0x4aeaff):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x14fe43);}['removeBody'](_0x42c4a7){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x42c4a7);}['createBody'](_0x165388,_0x28f215,_0x360af3){const _0x322885=new Ammo['btVector3'](-0xa54+-0x213e+-0xd*-0x35a,-0x20aa+0x2be+0x1dec,-0x4*0x44b+-0x960+0x1a8c);_0x165388!==-0x14*0x16f+-0x466*0x1+-0x53*-0x66&&_0x28f215['calculateL'+'ocalInerti'+'a'](_0x165388,_0x322885);const _0x45df62=new Ammo['btDefaultM'+'otionState'](_0x360af3),_0x171228=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x165388,_0x45df62,_0x28f215,_0x322885),_0x20059d=new Ammo['btRigidBod'+'y'](_0x171228);return Ammo['destroy'](_0x171228),Ammo['destroy'](_0x322885),_0x20059d;}['destroyBod'+'y'](_0x11c62f){const _0x278b03=_0x11c62f['getMotionS'+'tate']();_0x278b03&&Ammo['destroy'](_0x278b03),Ammo['destroy'](_0x11c62f);}['raycastFir'+'st'](_0x422701,_0x1a0d42,_0x36b664={}){if(_0x36b664['filterTags']||_0x36b664['filterCall'+'back'])return _0x36b664['sort']=!(-0x161*-0x3+0x70e+-0xf*0xbf),this['raycastAll'](_0x422701,_0x1a0d42,_0x36b664)[0x72c+-0x1511+0xde5]||null;let _0x5b00dc=null;Mi['setValue'](_0x422701['x'],_0x422701['y'],_0x422701['z']),Di['setValue'](_0x1a0d42['x'],_0x1a0d42['y'],_0x1a0d42['z']);const _0x221057=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x36b664['filterColl'+'isionGroup']=='number'&&_0x221057['set_m_coll'+'isionFilte'+'rGroup'](_0x36b664['filterColl'+'isionGroup']),typeof _0x36b664['filterColl'+'isionMask']=='number'&&_0x221057['set_m_coll'+'isionFilte'+'rMask'](_0x36b664['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x221057),_0x221057['hasHit']()){const _0x1dc8b7=_0x221057['get_m_coll'+'isionObjec'+'t'](),_0x1716fe=Ammo['castObject'](_0x1dc8b7,Ammo['btRigidBod'+'y']);if(_0x1716fe){const _0x411eba=_0x221057['get_m_hitP'+'ointWorld'](),_0x303800=_0x221057['get_m_hitN'+'ormalWorld']();_0x5b00dc=new eS(_0x1716fe['entity'],new D(_0x411eba['x'](),_0x411eba['y'](),_0x411eba['z']()),new D(_0x303800['x'](),_0x303800['y'](),_0x303800['z']()),_0x221057['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x221057),_0x5b00dc;}['raycastAll'](_0x3d024b,_0x1cfbc0,_0x34083c={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x3df8b0=[];Mi['setValue'](_0x3d024b['x'],_0x3d024b['y'],_0x3d024b['z']),Di['setValue'](_0x1cfbc0['x'],_0x1cfbc0['y'],_0x1cfbc0['z']);const _0x3ed9b8=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x34083c['filterColl'+'isionGroup']=='number'&&_0x3ed9b8['set_m_coll'+'isionFilte'+'rGroup'](_0x34083c['filterColl'+'isionGroup']),typeof _0x34083c['filterColl'+'isionMask']=='number'&&_0x3ed9b8['set_m_coll'+'isionFilte'+'rMask'](_0x34083c['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x3ed9b8),_0x3ed9b8['hasHit']()){const _0x5eba71=_0x3ed9b8['get_m_coll'+'isionObjec'+'ts'](),_0x29fb15=_0x3ed9b8['get_m_hitP'+'ointWorld'](),_0x132ad3=_0x3ed9b8['get_m_hitN'+'ormalWorld'](),_0x376a33=_0x3ed9b8['get_m_hitF'+'ractions'](),_0x562fce=_0x5eba71['size']();for(let _0x19f244=-0x1*-0xce6+-0xe3*-0x4+-0x1072;_0x19f244<_0x562fce;_0x19f244++){const _0xca3364=Ammo['castObject'](_0x5eba71['at'](_0x19f244),Ammo['btRigidBod'+'y']);if(_0xca3364&&_0xca3364['entity']){if(_0x34083c['filterTags']&&!_0xca3364['entity']['tags']['has'](..._0x34083c['filterTags'])||_0x34083c['filterCall'+'back']&&!_0x34083c['filterCall'+'back'](_0xca3364['entity']))continue;const _0x486116=_0x29fb15['at'](_0x19f244),_0x26f82a=_0x132ad3['at'](_0x19f244),_0x23ce3a=new eS(_0xca3364['entity'],new D(_0x486116['x'](),_0x486116['y'](),_0x486116['z']()),new D(_0x26f82a['x'](),_0x26f82a['y'](),_0x26f82a['z']()),_0x376a33['at'](_0x19f244));_0x3df8b0['push'](_0x23ce3a);}}_0x34083c['sort']&&_0x3df8b0['sort']((_0x1e0ab7,_0x4e9070)=>_0x1e0ab7['hitFractio'+'n']-_0x4e9070['hitFractio'+'n']);}return Ammo['destroy'](_0x3ed9b8),_0x3df8b0;}['_storeColl'+'ision'](_0x2fa212,_0x208e2f){let _0x48d2be=!(-0x1ff0+-0x197+-0x4*-0x862);const _0x2d93b2=_0x2fa212['getGuid']();return this['collisions'][_0x2d93b2]=this['collisions'][_0x2d93b2]||{'others':[],'entity':_0x2fa212},this['collisions'][_0x2d93b2]['others']['indexOf'](_0x208e2f)<-0x2c9*0xa+-0x2*-0x3a9+0x1488&&(this['collisions'][_0x2d93b2]['others']['push'](_0x208e2f),_0x48d2be=!(-0x3ff+0x3*0x6c+0x2bb)),this['frameColli'+'sions'][_0x2d93b2]=this['frameColli'+'sions'][_0x2d93b2]||{'others':[],'entity':_0x2fa212},this['frameColli'+'sions'][_0x2d93b2]['others']['push'](_0x208e2f),_0x48d2be;}['_createCon'+'tactPointF'+'romAmmo'](_0xfca065){const _0x2bf2bb=_0xfca065['get_m_loca'+'lPointA'](),_0xf7d8da=_0xfca065['get_m_loca'+'lPointB'](),_0x4fbc=_0xfca065['getPositio'+'nWorldOnA'](),_0x4d4a54=_0xfca065['getPositio'+'nWorldOnB'](),_0x5874a6=_0xfca065['get_m_norm'+'alWorldOnB'](),_0xb577fb=this['contactPoi'+'ntPool']['allocate']();return _0xb577fb['localPoint']['set'](_0x2bf2bb['x'](),_0x2bf2bb['y'](),_0x2bf2bb['z']()),_0xb577fb['localPoint'+'Other']['set'](_0xf7d8da['x'](),_0xf7d8da['y'](),_0xf7d8da['z']()),_0xb577fb['point']['set'](_0x4fbc['x'](),_0x4fbc['y'](),_0x4fbc['z']()),_0xb577fb['pointOther']['set'](_0x4d4a54['x'](),_0x4d4a54['y'](),_0x4d4a54['z']()),_0xb577fb['normal']['set'](_0x5874a6['x'](),_0x5874a6['y'](),_0x5874a6['z']()),_0xb577fb['impulse']=_0xfca065['getApplied'+'Impulse'](),_0xb577fb;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x45e131){const _0x5764d5=_0x45e131['get_m_loca'+'lPointA'](),_0x444116=_0x45e131['get_m_loca'+'lPointB'](),_0x58abd4=_0x45e131['getPositio'+'nWorldOnA'](),_0x2ab43b=_0x45e131['getPositio'+'nWorldOnB'](),_0x1401de=_0x45e131['get_m_norm'+'alWorldOnB'](),_0x4d83ce=this['contactPoi'+'ntPool']['allocate']();return _0x4d83ce['localPoint'+'Other']['set'](_0x5764d5['x'](),_0x5764d5['y'](),_0x5764d5['z']()),_0x4d83ce['localPoint']['set'](_0x444116['x'](),_0x444116['y'](),_0x444116['z']()),_0x4d83ce['pointOther']['set'](_0x58abd4['x'](),_0x58abd4['y'](),_0x58abd4['z']()),_0x4d83ce['point']['set'](_0x2ab43b['x'](),_0x2ab43b['y'](),_0x2ab43b['z']()),_0x4d83ce['normal']['set'](_0x1401de['x'](),_0x1401de['y'](),_0x1401de['z']()),_0x4d83ce['impulse']=_0x45e131['getApplied'+'Impulse'](),_0x4d83ce;}['_createSin'+'gleContact'+'Result'](_0x2b77ce,_0x6d6876,_0x4151bd){const _0x127f98=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x127f98['a']=_0x2b77ce,_0x127f98['b']=_0x6d6876,_0x127f98['localPoint'+'A']=_0x4151bd['localPoint'],_0x127f98['localPoint'+'B']=_0x4151bd['localPoint'+'Other'],_0x127f98['pointA']=_0x4151bd['point'],_0x127f98['pointB']=_0x4151bd['pointOther'],_0x127f98['normal']=_0x4151bd['normal'],_0x127f98['impulse']=_0x4151bd['impulse'],_0x127f98;}['_createCon'+'tactResult'](_0x15d3d8,_0xec7319){const _0x5808c3=this['contactRes'+'ultPool']['allocate']();return _0x5808c3['other']=_0x15d3d8,_0x5808c3['contacts']=_0xec7319,_0x5808c3;}['_cleanOldC'+'ollisions'](){for(const _0x3397fc in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x3397fc)){const _0x1a9c8a=this['frameColli'+'sions'][_0x3397fc],_0xe3dd3b=this['collisions'][_0x3397fc],_0xa9ab7d=_0xe3dd3b['entity'],_0x385380=_0xa9ab7d['collision'],_0x467fc3=_0xa9ab7d['rigidbody'],_0x1f7119=_0xe3dd3b['others'];let _0x2e0353=_0x1f7119['length'];for(;_0x2e0353--;){const _0x24a470=_0x1f7119[_0x2e0353];(!_0x1a9c8a||_0x1a9c8a['others']['indexOf'](_0x24a470)<0x1*-0xdcf+-0x819*0x3+0x261a)&&(_0x1f7119['splice'](_0x2e0353,-0x1a5c+-0x70b*0x4+0x3689),_0xa9ab7d['trigger']?(_0x385380&&_0x385380['fire']('triggerlea'+'ve',_0x24a470),_0x24a470['rigidbody']&&_0x24a470['rigidbody']['fire']('triggerlea'+'ve',_0xa9ab7d)):_0x24a470['trigger']||(_0x467fc3&&_0x467fc3['fire']('collisione'+'nd',_0x24a470),_0x385380&&_0x385380['fire']('collisione'+'nd',_0x24a470)));}_0x1f7119['length']===0x1a*0x3b+-0x3*0xa31+0x1f*0xcb&&delete this['collisions'][_0x3397fc];}}['_hasContac'+'tEvent'](_0x2431e9){const _0x1a2128=_0x2431e9['collision'];if(_0x1a2128&&(_0x1a2128['hasEvent']('collisions'+'tart')||_0x1a2128['hasEvent']('collisione'+'nd')||_0x1a2128['hasEvent']('contact')))return!(-0x50b*-0x7+0x17d4+-0x3b21);const _0xfc3117=_0x2431e9['rigidbody'];return _0xfc3117&&(_0xfc3117['hasEvent']('collisions'+'tart')||_0xfc3117['hasEvent']('collisione'+'nd')||_0xfc3117['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x2dc7af,_0x5da8b9){const _0x3e761e=Ammo['wrapPointe'+'r'](_0x2dc7af,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x23fac=_0x3e761e['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x5365f5=-0x17f6*-0x1+0x1d5*-0xb+-0x3cf;_0x5365f5<_0x23fac;_0x5365f5++){const _0x39fa26=_0x3e761e['getManifol'+'dByIndexIn'+'ternal'](_0x5365f5),_0x5f1e88=_0x39fa26['getBody0'](),_0x3c6f1b=_0x39fa26['getBody1'](),_0x6d729a=Ammo['castObject'](_0x5f1e88,Ammo['btRigidBod'+'y']),_0x34c60e=Ammo['castObject'](_0x3c6f1b,Ammo['btRigidBod'+'y']),_0x4e51af=_0x6d729a['entity'],_0x305c5c=_0x34c60e['entity'];if(!_0x4e51af||!_0x305c5c)continue;const _0x40d588=_0x6d729a['getCollisi'+'onFlags'](),_0xe395a5=_0x34c60e['getCollisi'+'onFlags'](),_0x3e4773=_0x39fa26['getNumCont'+'acts'](),_0x64b98b=[],_0x44a666=[];let _0x3df66f;if(_0x3e4773>-0x1d0a+-0x26fc+-0x1*-0x4406){if(_0x40d588&Po||_0xe395a5&Po){const _0x414f7b=_0x4e51af['collision']&&(_0x4e51af['collision']['hasEvent']('triggerent'+'er')||_0x4e51af['collision']['hasEvent']('triggerlea'+'ve')),_0x1c5b73=_0x305c5c['collision']&&(_0x305c5c['collision']['hasEvent']('triggerent'+'er')||_0x305c5c['collision']['hasEvent']('triggerlea'+'ve')),_0x5a3ed3=_0x4e51af['rigidbody']&&(_0x4e51af['rigidbody']['hasEvent']('triggerent'+'er')||_0x4e51af['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x50b998=_0x305c5c['rigidbody']&&(_0x305c5c['rigidbody']['hasEvent']('triggerent'+'er')||_0x305c5c['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x414f7b&&(_0x3df66f=this['_storeColl'+'ision'](_0x4e51af,_0x305c5c),_0x3df66f&&!(_0xe395a5&Po)&&_0x4e51af['collision']['fire']('triggerent'+'er',_0x305c5c)),_0x1c5b73&&(_0x3df66f=this['_storeColl'+'ision'](_0x305c5c,_0x4e51af),_0x3df66f&&!(_0x40d588&Po)&&_0x305c5c['collision']['fire']('triggerent'+'er',_0x4e51af)),_0x5a3ed3&&(_0x3df66f||(_0x3df66f=this['_storeColl'+'ision'](_0x305c5c,_0x4e51af)),_0x3df66f&&_0x4e51af['rigidbody']['fire']('triggerent'+'er',_0x305c5c)),_0x50b998&&(_0x3df66f||(_0x3df66f=this['_storeColl'+'ision'](_0x4e51af,_0x305c5c)),_0x3df66f&&_0x305c5c['rigidbody']['fire']('triggerent'+'er',_0x4e51af));}else{const _0x1acc22=this['_hasContac'+'tEvent'](_0x4e51af),_0x1b742c=this['_hasContac'+'tEvent'](_0x305c5c),_0x29a3b4=this['hasEvent']('contact');if(_0x29a3b4||_0x1acc22||_0x1b742c){for(let _0x368237=-0x1*-0x17d8+0x1433+-0x2c0b;_0x368237<_0x3e4773;_0x368237++){const _0x23482f=_0x39fa26['getContact'+'Point'](_0x368237),_0x104d5f=this['_createCon'+'tactPointF'+'romAmmo'](_0x23482f);if(_0x1acc22||_0x1b742c){_0x64b98b['push'](_0x104d5f);const _0x5358e9=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x23482f);_0x44a666['push'](_0x5358e9);}if(_0x29a3b4){const _0x7b51bc=this['_createSin'+'gleContact'+'Result'](_0x4e51af,_0x305c5c,_0x104d5f);this['fire']('contact',_0x7b51bc);}}if(_0x1acc22){const _0x168f40=this['_createCon'+'tactResult'](_0x305c5c,_0x64b98b);_0x3df66f=this['_storeColl'+'ision'](_0x4e51af,_0x305c5c),_0x4e51af['collision']&&(_0x4e51af['collision']['fire']('contact',_0x168f40),_0x3df66f&&_0x4e51af['collision']['fire']('collisions'+'tart',_0x168f40)),_0x4e51af['rigidbody']&&(_0x4e51af['rigidbody']['fire']('contact',_0x168f40),_0x3df66f&&_0x4e51af['rigidbody']['fire']('collisions'+'tart',_0x168f40));}if(_0x1b742c){const _0x493df1=this['_createCon'+'tactResult'](_0x4e51af,_0x44a666);_0x3df66f=this['_storeColl'+'ision'](_0x305c5c,_0x4e51af),_0x305c5c['collision']&&(_0x305c5c['collision']['fire']('contact',_0x493df1),_0x3df66f&&_0x305c5c['collision']['fire']('collisions'+'tart',_0x493df1)),_0x305c5c['rigidbody']&&(_0x305c5c['rigidbody']['fire']('contact',_0x493df1),_0x3df66f&&_0x305c5c['rigidbody']['fire']('collisions'+'tart',_0x493df1));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x4d5d06){let _0x508f44,_0x12487f;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0xabf+0x1e66+-0x2925]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x2*-0x758+-0x207b+-0x2*-0x1796]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x137*0x7+0x263+0xc4*0x8]=this['gravity']['z'];const _0x4b5ed3=this['dynamicsWo'+'rld']['getGravity']();(_0x4b5ed3['x']()!==this['_gravityFl'+'oat32'][-0x13*0x125+-0x1*-0x1839+0x1*-0x27a]||_0x4b5ed3['y']()!==this['_gravityFl'+'oat32'][0x2608+-0x1f62*-0x1+-0x4569]||_0x4b5ed3['z']()!==this['_gravityFl'+'oat32'][-0x21a0+0x5*-0x6af+-0x5*-0xd69])&&(_0x4b5ed3['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x4b5ed3));const _0x5d7ce2=this['_triggers'];for(_0x508f44=-0xe*-0x66+-0x5*0x16a+0x17e*0x1,_0x12487f=_0x5d7ce2['length'];_0x508f44<_0x12487f;_0x508f44++)_0x5d7ce2[_0x508f44]['updateTran'+'sform']();const _0x59c4b9=this['_compounds'];for(_0x508f44=0x156c+-0x8f9+-0xc73,_0x12487f=_0x59c4b9['length'];_0x508f44<_0x12487f;_0x508f44++)_0x59c4b9[_0x508f44]['_updateCom'+'pound']();const _0x726df1=this['_kinematic'];for(_0x508f44=-0x32b*-0x4+0x161*-0x17+0x27*0x7d,_0x12487f=_0x726df1['length'];_0x508f44<_0x12487f;_0x508f44++)_0x726df1[_0x508f44]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x4d5d06,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x4753e4=this['_dynamic'];for(_0x508f44=0x1b53+0x300+-0x1e53,_0x12487f=_0x4753e4['length'];_0x508f44<_0x12487f;_0x508f44++)_0x4753e4[_0x508f44]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x4d5d06),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x1245c1,_0x1706bc){super(_0x1245c1,_0x1706bc),this['_resolutio'+'n']=new J(-0x114a*-0x2+-0x323+-0x1*0x1cf1,0x1*0x1175+-0x2*-0xb9+-0x11a7),this['_reference'+'Resolution']=new J(-0xee8*-0x2+0xb*-0xed+0x36d*-0x5,-0x1236+-0x2*0x7ea+0x11a5*0x2),this['_scaleMode']=Za,this['scale']=0x5*-0x282+0x18e1+-0xc56,this['_scaleBlen'+'d']=-0x2eb*-0x3+-0xe06+-0x545*-0x1+0.5,this['_priority']=-0x1*-0x8ea+0x51*-0x4f+0x1015,this['_screenSpa'+'ce']=!(-0x32*-0x89+-0x1*0x1b56+0x95),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x1245c1['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x108158,_0x536104){var _0x4ea6ce;if(!(_0x108158 instanceof lt))return _0x536104;if(_0x108158['element']){const _0x30c663=_0x108158['element']['drawOrder'];_0x108158['element']['drawOrder']=_0x536104++,_0x108158['element']['_batchGrou'+'pId']>=-0x1f5c+-0x1af6+-0x3a52*-0x1&&_0x30c663!==_0x108158['element']['drawOrder']&&((_0x4ea6ce=this['system']['app']['batcher'])==null||_0x4ea6ce['markGroupD'+'irty'](_0x108158['element']['_batchGrou'+'pId']));}_0x108158['particlesy'+'stem']&&(_0x108158['particlesy'+'stem']['drawOrder']=_0x536104++);const _0x107148=_0x108158['children'];for(let _0x1324ad=-0xfc3+-0x15e1*-0x1+-0x61e;_0x1324ad<_0x107148['length'];_0x1324ad++)_0x536104=this['_recurseDr'+'awOrderSyn'+'c'](_0x107148[_0x1324ad],_0x536104);return _0x536104;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x8ef+0x129c+-0x8d*0x32),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x53591f=this['_resolutio'+'n']['x']/this['scale'],_0x128fee=this['_resolutio'+'n']['y']/this['scale'],_0x41d4a9=-0x1add*0x1+-0x346*0x7+0x31c7,_0x3f6202=_0x53591f,_0x427b2e=-_0x128fee;this['_screenMat'+'rix']['setOrtho'](_0x41d4a9,_0x3f6202,_0x427b2e,0x1b8b+0x5*0x4c9+-0x3378,-0x1bbc+-0x139*0x5+0x21da,-(-0x1e85+0xd60+0x1126)),this['_screenSpa'+'ce']||(tS['setScale']((0x2*0x7e5+-0x2322+-0x4d6*-0x4+0.5)*_0x53591f,(-0xe87+0x3a9+0xd6*0xd+0.5)*_0x128fee,-0x1b21+-0x80*0x1e+0x2*0x1511),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x282ffb,_0x25f6d9){const _0x21e32a=Math['log2']((_0x282ffb['x']||0x10eb+0xf1a+-0x2004)/_0x25f6d9['x']),_0x169765=Math['log2']((_0x282ffb['y']||0x47*0x81+0x207d*-0x1+-0x349*0x1)/_0x25f6d9['y']);return Math['pow'](0xd29+0x2475+-0x2*0x18ce,_0x21e32a*(0x29*-0x8c+-0x952+0x1fbf-this['_scaleBlen'+'d'])+_0x169765*this['_scaleBlen'+'d']);}['_onResize'](_0x347ecc,_0x602875){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x347ecc,_0x602875),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x544fe0){this['_elements']['add'](_0x544fe0);}['_unbindEle'+'ment'](_0x3997b8){this['_elements']['delete'](_0x3997b8);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x100ec7=>_0x100ec7['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x2b9bd3){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x2b9bd3['x'],_0x2b9bd3['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x9b6eaf=>_0x9b6eaf['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x25cb86){this['_reference'+'Resolution']['set'](_0x25cb86['x'],_0x25cb86['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x5de3c3=>_0x5de3c3['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x28c274){this['_screenSpa'+'ce']=_0x28c274,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x377b0b=>_0x377b0b['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x3c8137){_0x3c8137!==Za&&_0x3c8137!==qO&&(_0x3c8137=Za),!this['_screenSpa'+'ce']&&_0x3c8137!==Za&&(_0x3c8137=Za),this['_scaleMode']=_0x3c8137,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x35cf17){this['_scaleBlen'+'d']=_0x35cf17,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0xb160f6=>_0xb160f6['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x174272){_0x174272>0x702+0x104+-0x707&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x174272+'\x20to\x20255'),_0x174272=0x1*0xe34+0xf6a*-0x1+0x1*0x235),this['_priority']!==_0x174272&&(this['_priority']=_0x174272,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0xa*0x103+0x4e4+-0x1be*-0x3);}}const Uu=['enabled'];class YO extends ct{constructor(_0x4fdada){super(_0x4fdada),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x184a87,_0x1b0e29,_0x38f8da){_0x1b0e29['priority']!==void(0x30*-0x57+-0x11*-0x125+-0x325)&&(_0x184a87['priority']=_0x1b0e29['priority']),_0x1b0e29['screenSpac'+'e']!==void(-0x33*0x23+-0x14e7+-0x2*-0xdf0)&&(_0x184a87['screenSpac'+'e']=_0x1b0e29['screenSpac'+'e']),_0x184a87['cull']=_0x184a87['screenSpac'+'e'],_0x1b0e29['scaleMode']!==void(-0x1*0x1daa+0x1*-0x19a2+0x374c)&&(_0x184a87['scaleMode']=_0x1b0e29['scaleMode']),_0x1b0e29['scaleBlend']!==void(0x1181+-0x168b+-0x56*-0xf)&&(_0x184a87['scaleBlend']=_0x1b0e29['scaleBlend']),_0x1b0e29['resolution']!==void(0x3*-0x985+0x13*-0x94+-0x1*-0x278b)&&(_0x1b0e29['resolution']instanceof J?_0x184a87['_resolutio'+'n']['copy'](_0x1b0e29['resolution']):_0x184a87['_resolutio'+'n']['set'](_0x1b0e29['resolution'][0x407*-0x1+-0x2*-0xc9a+-0x152d],_0x1b0e29['resolution'][0x6d*-0x5a+-0x2634+0x4c87]),_0x184a87['resolution']=_0x184a87['_resolutio'+'n']),_0x1b0e29['referenceR'+'esolution']!==void(-0xb3*-0x33+0x1*-0x1e98+-0x1*0x511)&&(_0x1b0e29['referenceR'+'esolution']instanceof J?_0x184a87['_reference'+'Resolution']['copy'](_0x1b0e29['referenceR'+'esolution']):_0x184a87['_reference'+'Resolution']['set'](_0x1b0e29['referenceR'+'esolution'][-0x4c3*-0x1+-0x5ad+-0x1*-0xea],_0x1b0e29['referenceR'+'esolution'][-0xc48+-0x2*0xd64+0x1*0x2711]),_0x184a87['referenceR'+'esolution']=_0x184a87['_reference'+'Resolution']),_0x184a87['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x184a87,_0x1b0e29,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x1f1e01){const _0x3b4659=this['store'];for(const _0x145b5d in _0x3b4659)_0x3b4659[_0x145b5d]['entity']['screen']['update']&&_0x3b4659[_0x145b5d]['entity']['screen']['update'](_0x1f1e01);}['_onResize'](_0x3922fa,_0x3be623){this['windowReso'+'lution']['x']=_0x3922fa,this['windowReso'+'lution']['y']=_0x3be623;}['cloneCompo'+'nent'](_0x509f7e,_0x333fd6){const _0x454ebf=_0x509f7e['screen'];return this['addCompone'+'nt'](_0x333fd6,{'enabled':_0x454ebf['enabled'],'screenSpace':_0x454ebf['screenSpac'+'e'],'scaleMode':_0x454ebf['scaleMode'],'resolution':_0x454ebf['resolution']['clone'](),'referenceResolution':_0x454ebf['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x559a7e,_0x4b70d0){_0x4b70d0['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1dff79=this['_drawOrder'+'SyncQueue']['list']();for(let _0x205a8f=0x18b8+0x2076+-0x392e;_0x205a8f<_0x1dff79['length'];_0x205a8f++){const _0x23d551=_0x1dff79[_0x205a8f];_0x23d551['callback']['call'](_0x23d551['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x529e1f,_0x43f49b,_0x3f20fa){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x529e1f)||this['_drawOrder'+'SyncQueue']['push'](_0x529e1f,{'callback':_0x43f49b,'scope':_0x3f20fa});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x28059c,_0x56c904){if(super(),!_0x28059c||!(_0x28059c instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x56c904&&_0x56c904!=='x'&&_0x56c904!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x56c904);this['_element']=_0x28059c,this['_app']=_0x28059c['system']['app'],this['_axis']=_0x56c904||null,this['_enabled']=!(0xc72+-0x1be8+0xf76),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0x1100*-0x1+0xbb6*-0x3+0x1223),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x58b99a){this['_element'][_0x58b99a]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x58b99a]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x58b99a]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x55d4c6){const _0xf23dae=_0x55d4c6==='on';this['_hasDragLi'+'steners']&&_0xf23dae||(this['_app']['mouse']&&(this['_element'][_0x55d4c6]('mousemove',this['_onMove'],this),this['_element'][_0x55d4c6]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x55d4c6]('touchmove',this['_onMove'],this),this['_element'][_0x55d4c6]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x55d4c6]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x55d4c6]('selectmove',this['_onMove'],this),this['_element'][_0x55d4c6]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0xf23dae);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x20fae9){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x20fae9['camera'],this['_calculate'+'DragScale']();const _0x42ce59=this['_screenToL'+'ocal'](_0x20fae9);_0x42ce59&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x1e86+-0x26f*-0xe+-0x38c),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x42ce59),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xd5f*0x1+0xb05*-0x1+-0x259),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x181889){return _0x181889['inputSourc'+'e']?Hr['set'](_0x181889['inputSourc'+'e']['getOrigin'](),_0x181889['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x181889),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x1*0x20a5+-0x4df*0x6+-0x4*-0xf78)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0xaefa1d){const _0x29e6b0=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0xaefa1d['x']<'u'&&typeof _0xaefa1d['y']<'u'?(lr['x']=_0xaefa1d['x']*_0x29e6b0,lr['y']=_0xaefa1d['y']*_0x29e6b0):_0xaefa1d['changedTou'+'ches']?(lr['x']=_0xaefa1d['changedTou'+'ches'][0x167c+0x239*0x4+0x1f60*-0x1]['x']*_0x29e6b0,lr['y']=_0xaefa1d['changedTou'+'ches'][0x329+-0x97*-0x22+-0x1*0x1737]['y']*_0x29e6b0):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],-0xc2e*-0x2+-0xbc9+0x431*-0x3),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x16*0xf1+-0xe70+0x2327*0x1)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x34985d=this['_element']['entity']['parent'];const _0x4f78ba=this['_element']['screen']&&this['_element']['screen']['screen'],_0x5134db=_0x4f78ba&&_0x4f78ba['screenSpac'+'e'],_0xcc257d=_0x5134db?_0x4f78ba['scale']:-0x113b+-0x222c*0x1+0x3368,_0x5c661e=this['_dragScale'];for(_0x5c661e['set'](_0xcc257d,_0xcc257d,_0xcc257d);_0x34985d&&(_0x5c661e['mul'](_0x34985d['getLocalSc'+'ale']()),_0x34985d=_0x34985d['parent'],!(_0x5134db&&_0x34985d['screen'])););_0x5c661e['x']=(0xb*-0x19+0x152b+-0x1417)/_0x5c661e['x'],_0x5c661e['y']=(0xd8e+-0x1347*-0x2+-0x341b)/_0x5c661e['y'],_0x5c661e['z']=-0x1*-0x13f8+-0x1dfa*0x1+0x356*0x3;}['_onMove'](_0x540a0d){const {_element:_0x8ae23,_deltaMousePosition:_0x25bc2f,_deltaHandlePosition:_0xa35af6,_axis:_0x1898a4}=this;if(_0x8ae23&&this['_isDraggin'+'g']&&this['enabled']&&_0x8ae23['enabled']&&_0x8ae23['entity']['enabled']){const _0x4157a8=this['_screenToL'+'ocal'](_0x540a0d);if(_0x4157a8){if(_0x25bc2f['sub2'](_0x4157a8,this['_dragStart'+'MousePosit'+'ion']),_0xa35af6['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x25bc2f),_0x1898a4){const _0xfb18ee=_0x8ae23['entity']['getLocalPo'+'sition'](),_0x2d3b0c=ZO[_0x1898a4];_0xa35af6[_0x2d3b0c]=_0xfb18ee[_0x2d3b0c];}_0x8ae23['entity']['setLocalPo'+'sition'](_0xa35af6),this['fire']('drag:move',_0xa35af6);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x2e9fed){this['_enabled']=_0x2e9fed;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x7d*-0xc+-0xc6e+0x124a,aS=-0x137d*0x1+-0x2f*-0x65+-0x9*-0x1b,JO=-0x2*-0x2aa+0x24ab+0xdff*-0x3,eF=0xf22+-0x2124+0x1202,tF=0x2*0x8ee+0x64c+-0x1827,xo=new J();class c0 extends we{constructor(_0x2eb210,_0x3d907a){super(_0x2eb210,_0x3d907a),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x969+0x5*0x653+0x1635*-0x1),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x5ebe82=this['system']['store'][this['entity']['getGuid']()];return _0x5ebe82?_0x5ebe82['data']:null;}set['enabled'](_0x579a17){this['_setValue']('enabled',_0x579a17);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x5956e3){this['_setValue']('horizontal',_0x5956e3);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x291cf2){this['_setValue']('vertical',_0x291cf2);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x44ef19){this['_setValue']('scrollMode',_0x44ef19);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x202c8b){this['_setValue']('bounceAmou'+'nt',_0x202c8b);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x566648){this['_setValue']('friction',_0x566648);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x5987af){this['_setValue']('dragThresh'+'old',_0x5987af);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x66e744){this['_setValue']('useMouseWh'+'eel',_0x66e744);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x36b875){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x36b875);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x109a25){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x109a25);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x34fb6c){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x34fb6c);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x15b872){if(this['_viewportE'+'ntity']===_0x15b872)return;const _0x35f691=typeof _0x15b872=='string';this['_viewportE'+'ntity']&&_0x35f691&&this['_viewportE'+'ntity']['getGuid']()===_0x15b872||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x15b872 instanceof Ie?this['_viewportE'+'ntity']=_0x15b872:_0x35f691?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x15b872)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x35f691&&_0x15b872&&(this['data']['viewportEn'+'tity']=_0x15b872));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x4552d4){if(this['_contentEn'+'tity']===_0x4552d4)return;const _0xfae2e4=typeof _0x4552d4=='string';this['_contentEn'+'tity']&&_0xfae2e4&&this['_contentEn'+'tity']['getGuid']()===_0x4552d4||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x4552d4 instanceof Ie?this['_contentEn'+'tity']=_0x4552d4:_0xfae2e4?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4552d4)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0xfae2e4&&_0x4552d4&&(this['data']['contentEnt'+'ity']=_0x4552d4));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x26e805){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x26e805)return;const _0x3fee5b=typeof _0x26e805=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x3fee5b&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x26e805||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x26e805 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x26e805:_0x3fee5b?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x26e805)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x3fee5b&&_0x26e805&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x26e805));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x59443d){if(this['_verticalS'+'crollbarEn'+'tity']===_0x59443d)return;const _0x300227=typeof _0x59443d=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x300227&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x59443d||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x59443d instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x59443d:_0x300227?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x59443d)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x300227&&_0x59443d&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x59443d));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x5d7954){this['_onSetScro'+'ll'](_0x5d7954['x'],_0x5d7954['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1cfdd5,_0x5211d2){const _0x56abd1=this['data'],_0x2c97de=_0x56abd1[_0x1cfdd5];_0x56abd1[_0x1cfdd5]=_0x5211d2,this['fire']('set',_0x1cfdd5,_0x2c97de,_0x5211d2);}['_toggleLif'+'ecycleList'+'eners'](_0xe23d32){this[_0xe23d32]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0xe23d32]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0xe23d32]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x56f358){if(this['entity']['element']){if(_0x56f358==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x56f358]('resize',this['_syncAll'],this),this['entity']['element'][_0x56f358]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x56f358==='on';}}['_onElement'+'ComponentA'+'dd'](_0x23b2c0){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0xb44ad7){var _0x2a987f;(_0x2a987f=this['_evtElemen'+'tRemove'])==null||_0x2a987f['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x4459db,_0x14073e;(_0x4459db=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x4459db['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x14073e=this['_viewportE'+'ntity'])!=null&&_0x14073e['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x36fd44=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x36fd44['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x36fd44['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x5ae301,_0x36cdfd;(_0x5ae301=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x5ae301['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x36cdfd=this['_evtViewpo'+'rtResize'])==null||_0x36cdfd['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x1cb43f,_0x2fee89;(_0x1cb43f=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x1cb43f['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2fee89=this['_contentEn'+'tity'])!=null&&_0x2fee89['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x52e1fb=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x52e1fb['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x52e1fb['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x47438f,_0x412523;(_0x47438f=this['_evtConten'+'tElementRe'+'move'])==null||_0x47438f['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x412523=this['_evtConten'+'tResize'])==null||_0x412523['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x526711){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0xbb9+0x5*0x2f2+-0x3*0x8d1),this['_setScroll'+'FromConten'+'tPosition'](_0x526711),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x526711),!this['_disabledC'+'ontentInpu'+'t'])){const _0x1055a6=_0x526711['x']-this['_dragStart'+'Position']['x'],_0x226053=_0x526711['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x1055a6)>this['dragThresh'+'old']||Math['abs'](_0x226053)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x3af87;(_0x3af87=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x3af87['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x328644;(_0x328644=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x328644['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3e524c){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3e524c,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x4bede6){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x4bede6);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x43d501;const _0xd890=(_0x43d501=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x24f1+-0x1773+-0x9d*0x16):_0x43d501['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0xd890['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0xd890['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x373240;const _0x167ed1=(_0x373240=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x22*0x9c+0x1f0+-0x4*-0x4b2):_0x373240['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x167ed1['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x167ed1['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x45833a,_0x33603c;(_0x45833a=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x45833a['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x33603c=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x33603c['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x2094a9,_0x5c4f7f;(_0x2094a9=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x2094a9['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x5c4f7f=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x5c4f7f['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x16531e,_0x8ac279,_0x412ce2){_0x412ce2!==!(-0x2*0x91d+-0x2*0x12af+0x14b*0x2b)&&this['_velocity']['set'](0x11d+-0xd7c*-0x1+0xe99*-0x1,0xfba+0x1840+-0x27fa,-0x7*-0xee+0x25a6+-0x2c28);const _0x38bf1f=this['_updateAxi'+'s'](_0x16531e,'x',Ce),_0x279c54=this['_updateAxi'+'s'](_0x8ac279,'y',je);(_0x38bf1f||_0x279c54)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x38674f,_0x4343ac,_0x195dab){const _0x467017=_0x38674f!==null&&Math['abs'](_0x38674f-this['_scroll'][_0x4343ac])>0xb15+0x1b9d+-0x26b2+0.00001;return(_0x467017||this['_isDraggin'+'g']()||_0x38674f===0x25*-0x86+-0x265d+0x39bb*0x1)&&(this['_scroll'][_0x4343ac]=this['_determine'+'NewScrollV'+'alue'](_0x38674f,_0x4343ac,_0x195dab),this['_syncConte'+'ntPosition'](_0x195dab),this['_syncScrol'+'lbarPositi'+'on'](_0x195dab)),_0x467017;}['_determine'+'NewScrollV'+'alue'](_0x510f75,_0xeba0d6,_0x26a73f){if(!this['_getScroll'+'ingEnabled'](_0x26a73f))return this['_scroll'][_0xeba0d6];switch(this['scrollMode']){case QO:return Y['clamp'](_0x510f75,0x62f*0x2+-0x1821+0xbc3,this['_getMaxScr'+'ollValue'](_0x26a73f));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x510f75,_0xeba0d6,_0x26a73f),_0x510f75;case JO:return _0x510f75;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x510f75;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x33c008){if(!this['_contentEn'+'tity'])return;const _0x2243de=this['_getAxis'](_0x33c008),_0x29f5bb=this['_getSign'](_0x33c008),_0x314874=this['_prevConte'+'ntSizes'][_0x33c008],_0x40478e=this['_getConten'+'tSize'](_0x33c008);if(_0x314874!==null&&Math['abs'](_0x314874-_0x40478e)>0x20dc+0x1874+0x395*-0x10+0.0001){const _0x1a9295=this['_getMaxOff'+'set'](_0x33c008,_0x314874),_0x249866=this['_getMaxOff'+'set'](_0x33c008,_0x40478e);_0x249866===0x22c3*-0x1+0x1816+-0x3*-0x38f?this['_scroll'][_0x2243de]=-0x2*0xcca+0x2497+-0xb02:this['_scroll'][_0x2243de]=Y['clamp'](this['_scroll'][_0x2243de]*_0x1a9295/_0x249866,0x4ad+-0x2*0x1237+0x1fc1,-0x19ef*0x1+0x9*0x363+0x48b*-0x1);}const _0x842eeb=this['_scroll'][_0x2243de]*this['_getMaxOff'+'set'](_0x33c008),_0x4312a7=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4312a7[_0x2243de]=_0x842eeb*_0x29f5bb,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4312a7),this['_prevConte'+'ntSizes'][_0x33c008]=_0x40478e;}['_syncScrol'+'lbarPositi'+'on'](_0x123cf4){const _0x264643=this['_scrollbar'+'Entities'][_0x123cf4];if(!(_0x264643!=null&&_0x264643['scrollbar']))return;const _0x39f1e6=this['_getAxis'](_0x123cf4);this['_scrollbar'+'UpdateFlag'+'s'][_0x123cf4]=!(-0x1*0x2089+0x1b07+-0xeb*-0x6),_0x264643['scrollbar']['value']=this['_scroll'][_0x39f1e6],_0x264643['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x39f1e6,_0x123cf4),this['_scrollbar'+'UpdateFlag'+'s'][_0x123cf4]=!(0x1*-0x162e+0x11*0x1fd+-0xb9e);}['_syncScrol'+'lbarEnable'+'dState'](_0x2b3df8){const _0x4951f6=this['_scrollbar'+'Entities'][_0x2b3df8];if(!_0x4951f6)return;const _0x4768a1=this['_getScroll'+'ingEnabled'](_0x2b3df8),_0x11d972=this['_getScroll'+'barVisibil'+'ity'](_0x2b3df8);switch(_0x11d972){case eF:_0x4951f6['enabled']=_0x4768a1;return;case tF:_0x4951f6['enabled']=_0x4768a1&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2b3df8);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x11d972),_0x4951f6['enabled']=_0x4768a1;}}['_contentIs'+'LargerThan'+'Viewport'](_0x323581){return this['_getConten'+'tSize'](_0x323581)>this['_getViewpo'+'rtSize'](_0x323581);}['_contentPo'+'sitionToSc'+'rollValue'](_0x47f8d0){const _0x2b5a4a=this['_getMaxOff'+'set'](Ce),_0x29f656=this['_getMaxOff'+'set'](je);return _0x2b5a4a===-0x15*0x5b+-0x20df+0x2856?xo['x']=0x5*-0x2ff+0xc03+-0xbe*-0x4:xo['x']=_0x47f8d0['x']/_0x2b5a4a,_0x29f656===0x1400+-0x12fe+-0x102?xo['y']=-0x202d*0x1+0xc5*-0x7+0x2590:xo['y']=_0x47f8d0['y']/-_0x29f656,xo;}['_getMaxOff'+'set'](_0x1e8e52,_0x1d567c){_0x1d567c=_0x1d567c===void(-0x2*0xe99+-0x701*-0x4+0x97*0x2)?this['_getConten'+'tSize'](_0x1e8e52):_0x1d567c;const _0xb02061=this['_getViewpo'+'rtSize'](_0x1e8e52);return _0x1d567c<_0xb02061?-this['_getViewpo'+'rtSize'](_0x1e8e52):_0xb02061-_0x1d567c;}['_getMaxScr'+'ollValue'](_0x56a475){return this['_contentIs'+'LargerThan'+'Viewport'](_0x56a475)?-0x1f*-0xd7+-0x1a91*-0x1+-0x1*0x3499:0x1*0x18d7+0x3a5+-0x1c7c;}['_getScroll'+'barHandleS'+'ize'](_0x6e6c41,_0x5a7d9a){const _0x53c3ec=this['_getViewpo'+'rtSize'](_0x5a7d9a),_0xd3a066=this['_getConten'+'tSize'](_0x5a7d9a);if(Math['abs'](_0xd3a066)<-0x503*-0x5+0x269b+-0x3faa+0.001)return 0x2321+-0x240f+0x1*0xef;const _0xf1586b=Math['min'](_0x53c3ec/_0xd3a066,0x4*0x976+0x2df+0x6*-0x6c9),_0x2c3c5e=this['_toOversho'+'ot'](this['_scroll'][_0x6e6c41],_0x5a7d9a);return _0x2c3c5e===-0xc5e+0x58*-0x58+0x5*0x886?_0xf1586b:_0xf1586b/(0xb2*0xc+-0x1603+-0x1c*-0x7d+Math['abs'](_0x2c3c5e));}['_getViewpo'+'rtSize'](_0x377fb4){return this['_getSize'](_0x377fb4,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x345bdd){return this['_getSize'](_0x345bdd,this['_contentEn'+'tity']);}['_getSize'](_0xc7df4e,_0x1df2e5){return _0x1df2e5!=null&&_0x1df2e5['element']?_0x1df2e5['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xc7df4e)]:0x1a6e+-0x20b8+0xe*0x73;}['_getScroll'+'ingEnabled'](_0x3e6241){if(_0x3e6241===Ce)return this['horizontal'];if(_0x3e6241===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3e6241);}['_getScroll'+'barVisibil'+'ity'](_0x418ae9){if(_0x418ae9===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x418ae9===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x418ae9);}['_getSign'](_0x24610a){return _0x24610a===Ce?0x1*-0x1633+0x2d*-0x9e+0x31fa:-(0x20*0x37+-0xb4f+-0x2*-0x238);}['_getAxis'](_0x2e1573){return _0x2e1573===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x3beae6){return _0x3beae6===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0xe44+-0x11a7*-0x1+-0x1feb+0.0001||Math['abs'](this['_velocity']['y'])>-0x12ec+-0x8*-0xbf+0xcf4+0.0001){const _0x377a11=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x377a11['x']+=this['_velocity']['x'],_0x377a11['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x377a11),this['_setScroll'+'FromConten'+'tPosition'](_0x377a11);}this['_velocity']['x']*=-0xfda*0x2+0x11bb+-0xdfa*-0x1-this['friction'],this['_velocity']['y']*=-0x1c58+-0x248e+0x40e7-this['friction'];}}['_hasOversh'+'oot'](_0x17f6ab,_0x577b9e){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x17f6ab],_0x577b9e))>-0x2393+0x260d+0x1*-0x27a+0.001;}['_toOversho'+'ot'](_0x4d258f,_0xed873f){const _0x46e15c=this['_getMaxScr'+'ollValue'](_0xed873f);return _0x4d258f<-0x20fa*-0x1+0x592*0x2+-0x2c1e?_0x4d258f:_0x4d258f>_0x46e15c?_0x4d258f-_0x46e15c:-0x1bd7+-0x1e1f+0x39f6*0x1;}['_setVeloci'+'tyFromOver'+'shoot'](_0x4fa3e7,_0x5aee56,_0x33b0dd){const _0x566051=this['_toOversho'+'ot'](_0x4fa3e7,_0x33b0dd)*this['_getMaxOff'+'set'](_0x33b0dd)*this['_getSign'](_0x33b0dd);Math['abs'](_0x566051)>0x664+-0xd44+0x6e0&&(this['_velocity'][_0x5aee56]=-_0x566051/(this['bounceAmou'+'nt']*(0x8d0+0x31a+0x6*-0x1f4)+(0x4a*0x6e+-0xc56+-0x1375)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2ed661){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x2ed661,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x2ed661)):(this['_velocity']['set'](-0x15c9+-0x33d+0x1906,-0x1071+-0x2461+0x34d2,-0x22ce+-0xf49+-0x3217*-0x1),this['_prevConte'+'ntDragPosi'+'tion']=_0x2ed661['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x1a4394){let _0x3c1a6d=this['_contentPo'+'sitionToSc'+'rollValue'](_0x1a4394);this['_isDraggin'+'g']()&&(_0x3c1a6d=this['_applyScro'+'llValueTen'+'sion'](_0x3c1a6d)),this['_onSetScro'+'ll'](_0x3c1a6d['x'],_0x3c1a6d['y'],!(0xa88+-0xb*0x1cd+0x948));}['_applyScro'+'llValueTen'+'sion'](_0x1dc435){let _0x1469e2=this['_getMaxScr'+'ollValue'](Ce),_0x27dbf4=this['_toOversho'+'ot'](_0x1dc435['x'],Ce);return _0x27dbf4>0x1d99+0x8de*0x1+-0x2677?_0x1dc435['x']=_0x1469e2+(-0xf2a*-0x2+-0x3*0x781+-0x7d*0x10)*Math['log10'](0x1113+0x749*0x3+-0x26ed+_0x27dbf4):_0x27dbf4<0x15d5+0x1497+-0x2a6c&&(_0x1dc435['x']=-(0x13fa+-0x1789+-0x30*-0x13)*Math['log10'](0x1ff6*0x1+-0x23*0x71+-0x1082-_0x27dbf4)),_0x1469e2=this['_getMaxScr'+'ollValue'](je),_0x27dbf4=this['_toOversho'+'ot'](_0x1dc435['y'],je),_0x27dbf4>0x2693+-0x2427+-0x26c?_0x1dc435['y']=_0x1469e2+(0x1df0+-0x1*0x20b9+-0x77*-0x6)*Math['log10'](-0x9*-0x3b3+0x1042*-0x1+-0x368*0x5+_0x27dbf4):_0x27dbf4<-0x633*-0x2+-0x2147+0x14e1&&(_0x1dc435['y']=-(0x1e3a+0xca7*0x1+0xab8*-0x4)*Math['log10'](-0x1*0x23ea+-0x1ff4+0x43df-_0x27dbf4)),_0x1dc435;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x45d8a8){var _0x8f4448,_0x4ac70d;(_0x8f4448=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x8f4448['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x45d8a8),(_0x4ac70d=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x4ac70d['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x45d8a8);}['_setConten'+'tDraggingE'+'nabled'](_0x26751c){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x26751c);}['_onMouseWh'+'eel'](_0x3786b8){var _0x561256;if(!this['useMouseWh'+'eel']||!((_0x561256=this['_contentEn'+'tity'])!=null&&_0x561256['element']))return;const _0x5c3692=_0x3786b8['event'],_0x1da37e=_0x5c3692['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x4f0a4d=_0x5c3692['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x2004ab=Y['clamp'](this['_scroll']['x']+_0x1da37e,-0x239b+0x1d10+0x68b,this['_getMaxScr'+'ollValue'](Ce)),_0x54dd75=Y['clamp'](this['_scroll']['y']+_0x4f0a4d,-0x1899*0x1+-0x1626+0x2ebf,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x2004ab,_0x54dd75);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x44fab9=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x44fab9['element']&&(_0x44fab9['element']['useInput']=!(-0x25d+-0x20e*0x3+0x887));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1c27+-0x1*-0x1b47+-0xe1*-0x1);}['_disableCo'+'ntentInput'](){const _0x347ab6=_0x201c26=>{_0x201c26['element']&&_0x201c26['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x201c26),_0x201c26['element']['useInput']=!(0x170d+0x948+-0x102a*0x2));const _0x57fb8d=_0x201c26['children'];for(let _0x37ed50=0xaf3+0xa09+-0x14fc,_0x68bae4=_0x57fb8d['length'];_0x37ed50<_0x68bae4;_0x37ed50++)_0x347ab6(_0x57fb8d[_0x37ed50]);};if(this['_contentEn'+'tity']){const _0x473a48=this['_contentEn'+'tity']['children'];for(let _0x26286b=-0x6be+-0x368*-0x2+-0x12,_0x2798d9=_0x473a48['length'];_0x26286b<_0x2798d9;_0x26286b++)_0x347ab6(_0x473a48[_0x26286b]);}this['_disabledC'+'ontentInpu'+'t']=!(0x26b*-0x3+0x1189*-0x1+0x18ca);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1679+0x1f37+-0x35b0)),this['_setConten'+'tDraggingE'+'nabled'](!(0xc30+-0x1881+0xc51)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x2*-0x8a7+-0x7bb+0x502*0x5)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1*-0x1134+0xc*0xe7+-0x17*-0x47));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x185945,_0x347bfa){_0x185945['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x347bfa[_0x185945['viewportEn'+'tity']['getGuid']()]),_0x185945['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x347bfa[_0x185945['contentEnt'+'ity']['getGuid']()]),_0x185945['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x347bfa[_0x185945['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x185945['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x347bfa[_0x185945['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x2*0xcec+0xeb8+-0x1*-0xb2a;class iF{constructor(){h(this,'enabled',!(0x26a+-0x4bd*0x1+-0x7*-0x55)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0x1851+-0x1452+0x2ca3)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0x178d+-0x9*0x1cd+-0x757,-0x1759*-0x1+0x35*0x7f+0x1*-0x31a3)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x1ccc+-0x6ff+-0x15cd),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x1e59+-0x2648+-0x1*-0x44a1),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0x10f*-0x1a+-0x42*-0x8a+-0x1f88*0x2;class aF extends ct{constructor(_0x2836d4){super(_0x2836d4),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5e3190,_0x10bad6,_0x1929fa){_0x10bad6['dragThresh'+'old']===void(0x9b2+0x2505+-0x2eb7*0x1)&&(_0x10bad6['dragThresh'+'old']=rF),_0x10bad6['useMouseWh'+'eel']===void(0xc1*0xa+0x2309*-0x1+0x1b7f)&&(_0x10bad6['useMouseWh'+'eel']=!(0x1*0x1a6b+-0x36b+0x10*-0x170)),_0x10bad6['mouseWheel'+'Sensitivit'+'y']===void(-0xb46+-0x1*-0x257+0x1*0x8ef)&&(_0x10bad6['mouseWheel'+'Sensitivit'+'y']=new J(0x3*0x11e+-0x1bfc*-0x1+-0x1f55,0x5d+0x1a*0x73+-0xc0a)),super['initialize'+'ComponentD'+'ata'](_0x5e3190,_0x10bad6,nS),_0x5e3190['viewportEn'+'tity']=_0x10bad6['viewportEn'+'tity'],_0x5e3190['contentEnt'+'ity']=_0x10bad6['contentEnt'+'ity'],_0x5e3190['horizontal'+'ScrollbarE'+'ntity']=_0x10bad6['horizontal'+'ScrollbarE'+'ntity'],_0x5e3190['verticalSc'+'rollbarEnt'+'ity']=_0x10bad6['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x57f752){const _0x48ed2a=this['store'];for(const _0x399430 in _0x48ed2a){const _0x473b2f=_0x48ed2a[_0x399430]['entity'],_0x140291=_0x473b2f['scrollview'];_0x140291['enabled']&&_0x473b2f['enabled']&&_0x140291['onUpdate']();}}['_onRemoveC'+'omponent'](_0x577ef1,_0x57b218){_0x57b218['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x3ccb7c,_0x3229e0){super(_0x3ccb7c,_0x3229e0),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0xd5b7cf=this['system']['store'][this['entity']['getGuid']()];return _0xd5b7cf?_0xd5b7cf['data']:null;}set['enabled'](_0x231f9d){this['_setValue']('enabled',_0x231f9d);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x505aac){this['_setValue']('orientatio'+'n',_0x505aac);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x5844eb){this['_setValue']('value',_0x5844eb);}get['value'](){return this['data']['value'];}set['handleSize'](_0x394b8a){this['_setValue']('handleSize',_0x394b8a);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x3cc5c8){if(this['_handleEnt'+'ity']===_0x3cc5c8)return;const _0x4e401b=typeof _0x3cc5c8=='string';this['_handleEnt'+'ity']&&_0x4e401b&&this['_handleEnt'+'ity']['getGuid']()===_0x3cc5c8||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x3cc5c8 instanceof Ie?this['_handleEnt'+'ity']=_0x3cc5c8:_0x4e401b?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x3cc5c8)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x4e401b&&_0x3cc5c8&&(this['data']['handleEnti'+'ty']=_0x3cc5c8));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x467231,_0x5972f4){const _0x3c6f93=this['data'],_0x563acb=_0x3c6f93[_0x467231];_0x3c6f93[_0x467231]=_0x5972f4,this['fire']('set',_0x467231,_0x563acb,_0x5972f4);}['_toggleLif'+'ecycleList'+'eners'](_0x5e2974){this[_0x5e2974]('set_value',this['_onSetValu'+'e'],this),this[_0x5e2974]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x5e2974]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x1cd42b,_0xa54254;(_0x1cd42b=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x1cd42b['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0xa54254=this['_handleEnt'+'ity'])!=null&&_0xa54254['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x59d203=this['_handleEnt'+'ity']['element'],_0x50c5d5=this['_evtHandle'+'EntityChan'+'ges'];_0x50c5d5['push'](_0x59d203['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x50c5d5['push'](_0x59d203['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x50c5d5['push'](_0x59d203['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x50c5d5['push'](_0x59d203['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x46fc39=-0xc7+0x232e+-0x2267;_0x46fc39<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x46fc39++)this['_evtHandle'+'EntityChan'+'ges'][_0x46fc39]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x24*0xa+0x8f5+0x1*-0xa5d;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x71fa1f){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x71fa1f[this['_getAxis']()]));}['_onSetValu'+'e'](_0x538087,_0x3b8ffe,_0x2766f8){Math['abs'](_0x2766f8-_0x3b8ffe)>0x2646+0x2444+-0x4a8a+0.00001&&(this['data']['value']=Y['clamp'](_0x2766f8,-0x5d*0x65+0x28*-0x71+0x3659*0x1,0x26d7+-0x26fe+0x28),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x573391,_0x43d6dc,_0x4e023c){Math['abs'](_0x4e023c-_0x43d6dc)>0x1*-0xb6a+0x26d4+-0x13f*0x16+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x4e023c,0xa*0x107+-0x1b7a+0x1134,-0x1087+0x32*-0x16+0x56*0x3e),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x457b14,_0x4cfe40,_0x478c4b){var _0x1a62ca;_0x478c4b!==_0x4cfe40&&((_0x1a62ca=this['_handleEnt'+'ity'])!=null&&_0x1a62ca['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x125*0x11+-0x25ee+-0x3b*-0xf9);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x42ab4e=this['_handleEnt'+'ity'],_0x159bd0=_0x42ab4e==null?void(-0x8dd*0x3+0x158*0x1a+-0x859):_0x42ab4e['element'];if(_0x42ab4e){const _0x4cfcbf=_0x42ab4e['getLocalPo'+'sition']();_0x4cfcbf[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x42ab4e['setLocalPo'+'sition'](_0x4cfcbf);}_0x159bd0&&(_0x159bd0[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x2f8813){return _0x2f8813*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x295e8d){return _0x295e8d*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x7f*-0x1+0x2*-0xf3f+0x1efd+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0xda*-0x23+0x7*-0x201+-0xfc7;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x1313+-0x78*0x9+-0xeda:-(0x8f5*0x1+-0xd31*-0x1+0x1*-0x1625);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x3b7b90){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x3b7b90);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xfc*0x16+-0x28*-0xd8+0x18*-0x81));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x249f+-0x251f+-0x3*-0x2b));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x102df8,_0xd13eac){_0x102df8['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0xd13eac[_0x102df8['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0xc86+-0x16*-0x149+0xa33*-0x4)),h(this,'orientatio'+'n',Ce),h(this,'value',-0x15ab+0x1262+0x1d*0x1d),h(this,'handleSize',0xd01+0x691+-0xa7*0x1e),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x24482f){super(_0x24482f),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4f157e,_0x430962,_0x53cdc0){super['initialize'+'ComponentD'+'ata'](_0x4f157e,_0x430962,oS),_0x4f157e['handleEnti'+'ty']=_0x430962['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x4ed114){_0x4ed114['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0xf85e4b,_0x5220d1){_0x5220d1['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(0x2*0x82f+-0xcaa*0x1+-0x3b3),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x1f789a,_0x3ee8ad='Untitled',_0x32ae77={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x1f789a,this['_assets']=_0x1f789a['system']['app']['assets'],this['_manager']=_0x1f789a['system']['manager'],this['name']=_0x3ee8ad,this['_volume']=_0x32ae77['volume']!==void(0x1796+-0x65d*-0x6+0x3b*-0x10c)?Y['clamp'](Number(_0x32ae77['volume'])||0x739+-0xef6+-0x7bd*-0x1,-0x14b7*-0x1+0x1c71+-0x3128,-0x1*0x1051+-0x15c3+0x2615):0x1767+0x264c+0x3db2*-0x1,this['_pitch']=_0x32ae77['pitch']!==void(0x20de+0x72+0x1a*-0x148)?Math['max'](-0x422+-0x8c6+-0x38*-0x3b+0.01,Number(_0x32ae77['pitch'])||0x4d7+0x17b9+-0x1c90):0x2*0x7cc+-0x15a9+0x612,this['_loop']=!!(_0x32ae77['loop']!==void(-0x1ad5+-0x144f+-0x1*-0x2f24)&&_0x32ae77['loop']),this['_duration']=_0x32ae77['duration']>-0x5d*0x2a+-0xef8+-0x35*-0x92?_0x32ae77['duration']:null,this['_startTime']=Math['max'](0x23b7+-0x1732+-0x5*0x281,Number(_0x32ae77['startTime'])||-0xb3d+-0x1f86+0x2ac3),this['_overlap']=!!_0x32ae77['overlap'],this['_autoPlay']=!!_0x32ae77['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x32ae77['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x1028f4){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x29291a=_0x1028f4;if(_0x29291a||(_0x29291a=this['_createIns'+'tance'](),this['instances']['push'](_0x29291a)),this['isLoaded'])_0x29291a['play']();else{const _0x5b51a6=function(_0x8dc436){const _0x30a3d1=_0x29291a['_playWhenL'+'oaded'];_0x29291a['sound']=_0x8dc436,_0x30a3d1&&_0x29291a['play']();};this['off']('load',_0x5b51a6),this['once']('load',_0x5b51a6),this['load']();}return _0x29291a;}['pause'](){let _0x511866=!(0xf62+-0x26*0xab+0xa01);const _0x483431=this['instances'];for(let _0x257f6d=0x3*0x27b+-0x1a47*-0x1+-0x21b8,_0x5cf4a4=_0x483431['length'];_0x257f6d<_0x5cf4a4;_0x257f6d++)_0x483431[_0x257f6d]['pause']()&&(_0x511866=!(-0xa40+0xc5e+-0x21e));return _0x511866;}['resume'](){let _0x229473=!(0x61*-0x45+-0x10d*0x1f+0x3ab9);const _0x27a4fa=this['instances'];for(let _0x5dee9d=0x16d6+0x10ed*0x2+-0x38b0,_0x3da349=_0x27a4fa['length'];_0x5dee9d<_0x3da349;_0x5dee9d++)_0x27a4fa[_0x5dee9d]['resume']()&&(_0x229473=!(0x13e1+0x15*0x1a6+-0x367f));return _0x229473;}['stop'](){let _0x1b402a=!(0x997+0x33d+-0xcd3);const _0x38db7c=this['instances'];let _0x288631=_0x38db7c['length'];for(;_0x288631--;)_0x38db7c[_0x288631]['stop'](),_0x1b402a=!(-0x1*-0x1106+0x7*0x19d+-0x1c51);return _0x38db7c['length']=0x1b90+0x1062+-0x2bf2,_0x1b402a;}['load'](){if(!this['_hasAsset']())return;const _0x5dd04a=this['_assets']['get'](this['_asset']);if(!_0x5dd04a){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x5dd04a['off']('remove',this['_onAssetRe'+'moved'],this),_0x5dd04a['on']('remove',this['_onAssetRe'+'moved'],this),!_0x5dd04a['resource']){_0x5dd04a['off']('load',this['_onAssetLo'+'ad'],this),_0x5dd04a['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x5dd04a);return;}this['fire']('load',_0x5dd04a['resource']);}['setExterna'+'lNodes'](_0x13cc12,_0x4c8cc5){if(!_0x13cc12){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x4c8cc5||(_0x4c8cc5=_0x13cc12),this['_firstNode']=_0x13cc12,this['_lastNode']=_0x4c8cc5,!this['_overlap']){const _0x191a99=this['instances'];for(let _0x35e015=-0x5*0x1af+0x1*-0x1df8+-0x13d*-0x1f,_0x53a5e0=_0x191a99['length'];_0x35e015<_0x53a5e0;_0x35e015++)_0x191a99[_0x35e015]['setExterna'+'lNodes'](_0x13cc12,_0x4c8cc5);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x3fc50d=this['instances'];for(let _0x39cbb9=-0xab*0x3a+0x1fbc+0x702,_0x2ac49d=_0x3fc50d['length'];_0x39cbb9<_0x2ac49d;_0x39cbb9++)_0x3fc50d[_0x39cbb9]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x57372b=null;const _0x1b7b7a=this['_component'];let _0xfdfbde=null;if(this['_hasAsset']()){const _0x29ec77=this['_assets']['get'](this['_asset']);_0x29ec77&&(_0xfdfbde=_0x29ec77['resource']);}const _0x586f25=lF;return _0x586f25['volume']=this['_volume']*_0x1b7b7a['volume'],_0x586f25['pitch']=this['_pitch']*_0x1b7b7a['pitch'],_0x586f25['loop']=this['_loop'],_0x586f25['startTime']=this['_startTime'],_0x586f25['duration']=this['_duration'],_0x586f25['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x586f25['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x586f25['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x586f25['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x586f25['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x1b7b7a['positional']?(_0x586f25['position']['copy'](_0x1b7b7a['entity']['getPositio'+'n']()),_0x586f25['maxDistanc'+'e']=_0x1b7b7a['maxDistanc'+'e'],_0x586f25['refDistanc'+'e']=_0x1b7b7a['refDistanc'+'e'],_0x586f25['rollOffFac'+'tor']=_0x1b7b7a['rollOffFac'+'tor'],_0x586f25['distanceMo'+'del']=_0x1b7b7a['distanceMo'+'del'],_0x57372b=new sn(this['_manager'],_0xfdfbde,_0x586f25)):_0x57372b=new As(this['_manager'],_0xfdfbde,_0x586f25),this['_firstNode']&&_0x57372b['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x57372b;}['_onInstanc'+'ePlay'](_0x2edd7f){this['fire']('play',_0x2edd7f),this['_component']['fire']('play',this,_0x2edd7f);}['_onInstanc'+'ePause'](_0x5252b6){this['fire']('pause',_0x5252b6),this['_component']['fire']('pause',this,_0x5252b6);}['_onInstanc'+'eResume'](_0x11c9db){this['fire']('resume',_0x11c9db),this['_component']['fire']('resume',this,_0x11c9db);}['_onInstanc'+'eStop'](_0x3caaa8){const _0x13c8d0=this['instances']['indexOf'](_0x3caaa8);_0x13c8d0!==-(0xb66+-0x7b2+-0x3b3)&&this['instances']['splice'](_0x13c8d0,-0x113b+-0x1411*-0x1+-0x2d5),this['fire']('stop',_0x3caaa8),this['_component']['fire']('stop',this,_0x3caaa8);}['_onInstanc'+'eEnd'](_0x4dfd71){const _0x5bbcfc=this['instances']['indexOf'](_0x4dfd71);_0x5bbcfc!==-(0xdbb+0x93*-0x43+0xb5*0x23)&&this['instances']['splice'](_0x5bbcfc,-0x3*0x8fa+-0x2226+0x3d15),this['fire']('end',_0x4dfd71),this['_component']['fire']('end',this,_0x4dfd71);}['_onAssetAd'+'d'](_0x2b80a6){this['load']();}['_onAssetLo'+'ad'](_0x8bf96b){this['load']();}['_onAssetRe'+'moved'](_0xf89d13){_0xf89d13['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0xf89d13['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x59e5a2){const _0x1c25de=this['instances'];for(let _0x224a70=-0x1efc+0x1*0x1877+0x685,_0xb6417c=_0x1c25de['length'];_0x224a70<_0xb6417c;_0x224a70++)_0x1c25de[_0x224a70]['position']=_0x59e5a2;}set['asset'](_0x5f432c){const _0x229de6=this['_asset'];if(_0x229de6){this['_assets']['off']('add:'+_0x229de6,this['_onAssetAd'+'d'],this);const _0x2c4325=this['_assets']['get'](_0x229de6);_0x2c4325&&_0x2c4325['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x5f432c,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x2996e7){this['_autoPlay']=!!_0x2996e7;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x1f225d){if(this['_duration']=Math['max'](0xb7a+0x96c+-0x14e6,Number(_0x1f225d)||0x88*-0x3e+0x11ad+-0x1*-0xf43)||null,!this['_overlap']){const _0x21b4b8=this['instances'];for(let _0x365a69=-0x18a+-0x18f+0x1*0x319,_0x34fb93=_0x21b4b8['length'];_0x365a69<_0x34fb93;_0x365a69++)_0x21b4b8[_0x365a69]['duration']=this['_duration'];}}get['duration'](){let _0x39506a=0xf88+-0x13a5+0x41d;if(this['_hasAsset']()){const _0xe5a384=this['_assets']['get'](this['_asset']);_0x39506a=_0xe5a384!=null&&_0xe5a384['resource']?_0xe5a384['resource']['duration']:0x15e*0x1+0x922+-0xa80;}return this['_duration']!=null?this['_duration']%(_0x39506a||-0x2637+-0x18e4+0x3f1c):_0x39506a;}get['isLoaded'](){if(this['_hasAsset']()){const _0x313455=this['_assets']['get'](this['_asset']);if(_0x313455)return!!_0x313455['resource'];}return!(-0x20a4+0x316+0x1d8f);}get['isPaused'](){const _0x5765e0=this['instances'],_0x44805e=_0x5765e0['length'];if(_0x44805e===-0x1b8c+-0xc68+0x27f4*0x1)return!(0x79a+0x68f*0x1+0x8*-0x1c5);for(let _0x709e=0xe86*0x1+0x21dc+-0x466*0xb;_0x709e<_0x44805e;_0x709e++)if(!_0x5765e0[_0x709e]['isPaused'])return!(0x72d+-0xb*0x2fc+0x19a8);return!(-0x83*-0x5+0x12ac+-0x153b);}get['isPlaying'](){const _0x4012f1=this['instances'];for(let _0x5c66dc=-0x71*0x3c+0x1*-0xaf4+0x95c*0x4,_0x12ede5=_0x4012f1['length'];_0x5c66dc<_0x12ede5;_0x5c66dc++)if(_0x4012f1[_0x5c66dc]['isPlaying'])return!(-0x1*-0x1511+0x169+0x112*-0x15);return!(0x1096+0xefa+0x1*-0x1f8f);}get['isStopped'](){const _0x16f391=this['instances'];for(let _0x3d40f5=-0xae+0x1*0x1bb+0x10d*-0x1,_0x1977d5=_0x16f391['length'];_0x3d40f5<_0x1977d5;_0x3d40f5++)if(!_0x16f391[_0x3d40f5]['isStopped'])return!(-0x2f9*-0x9+-0x18c9+0x1f7*-0x1);return!(-0x14c2+-0x533*0x2+0x1*0x1f28);}set['loop'](_0x1ac0eb){this['_loop']=!!_0x1ac0eb;const _0x13cef3=this['instances'];for(let _0xa9eba6=0x3b*0x55+-0x268f+-0x12f8*-0x1,_0x53de75=_0x13cef3['length'];_0xa9eba6<_0x53de75;_0xa9eba6++)_0x13cef3[_0xa9eba6]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x32bef4){this['_overlap']=!!_0x32bef4;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x575e55){if(this['_pitch']=Math['max'](Number(_0x575e55)||-0x17ba*0x1+0x2dd+-0x31*-0x6d,-0x337+0xe*-0x35+0x61d+0.01),!this['_overlap']){const _0x54a11b=this['instances'];for(let _0x3e48b7=-0x2*-0x7be+0xebd+-0x3*0xa13,_0x33b83c=_0x54a11b['length'];_0x3e48b7<_0x33b83c;_0x3e48b7++)_0x54a11b[_0x3e48b7]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x300149){if(this['_startTime']=Math['max'](0x8*0xa3+-0xa56+-0x53e*-0x1,Number(_0x300149)||0x2105+-0x22d9*0x1+0x6*0x4e),!this['_overlap']){const _0x32bedf=this['instances'];for(let _0x2eacc5=-0x1fb7+-0x2298+0x424f,_0x38f67f=_0x32bedf['length'];_0x2eacc5<_0x38f67f;_0x2eacc5++)_0x32bedf[_0x2eacc5]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x1b5fab){if(this['_volume']=Y['clamp'](Number(_0x1b5fab)||-0x1*0x158a+-0x1*0x1636+-0x140*-0x23,0x1f45+-0x25e0+0x13*0x59,0x28*-0x35+-0x9e6+-0x3a3*-0x5),!this['_overlap']){const _0x4f355f=this['instances'];for(let _0x4a5ea2=-0x1a*-0x89+0x1411+-0x21fb,_0x2948c8=_0x4f355f['length'];_0x4a5ea2<_0x2948c8;_0x4a5ea2++)_0x4f355f[_0x4a5ea2]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0xed2+0x7*-0x12f+-0x688),h(this,'_pitch',-0x1*0x255e+0x1cf0+0x86f),h(this,'_positiona'+'l',!(-0x6*-0x422+0x1ba8+-0x3474)),h(this,'_refDistan'+'ce',-0x1ccf+0x1439+0x897),h(this,'_maxDistan'+'ce',0xa0*0x60+0x29*0x61+0x1*-0x2479),h(this,'_rollOffFa'+'ctor',0x543*-0x3+-0x681+-0x164b*-0x1),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x956046,_0x3438c6,_0x5ed3f2){const _0xd14bd1=this['_slots'];for(const _0x5d3db3 in _0xd14bd1){const _0x407dc7=_0xd14bd1[_0x5d3db3];if(!_0x407dc7['overlap']){const _0x10657c=_0x407dc7['instances'];for(let _0xbb3900=0x6a+0x1*0x54b+-0x3*0x1e7,_0x2020fb=_0x10657c['length'];_0xbb3900<_0x2020fb;_0xbb3900++)_0x10657c[_0xbb3900][_0x956046]=_0x5ed3f2?_0x407dc7[_0x956046]*_0x3438c6:_0x3438c6;}}}set['distanceMo'+'del'](_0x2012e3){this['_distanceM'+'odel']=_0x2012e3,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x2012e3,!(-0x2*-0x7b7+-0x2623*-0x1+-0x3590));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x2b0601){this['_maxDistan'+'ce']=_0x2b0601,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x2b0601,!(0x1ee*-0x4+-0x14f3+-0x1cac*-0x1));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x3069c9){this['_refDistan'+'ce']=_0x3069c9,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x3069c9,!(-0x1*0x23ff+-0x1a2f+-0x3e2f*-0x1));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x387f7e){this['_rollOffFa'+'ctor']=_0x387f7e,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x387f7e,!(0x20f9+0xd08+-0x2e*0x100));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x59f91e){this['_pitch']=_0x59f91e,this['_updateSou'+'ndInstance'+'s']('pitch',_0x59f91e,!(-0x1fd6+-0x305*0x1+0x22db));}get['pitch'](){return this['_pitch'];}set['volume'](_0x1cf509){this['_volume']=_0x1cf509,this['_updateSou'+'ndInstance'+'s']('volume',_0x1cf509,!(-0x1c25+0x1a44+0x1*0x1e1));}get['volume'](){return this['_volume'];}set['positional'](_0x239634){this['_positiona'+'l']=_0x239634;const _0x107597=this['_slots'];for(const _0x2f52ab in _0x107597){const _0x46edc4=_0x107597[_0x2f52ab];if(!_0x46edc4['overlap']){const _0x563f0e=_0x46edc4['instances'],_0x364ef3=_0x563f0e['length'];for(let _0x23efb7=_0x364ef3-(0x1*-0x653+-0x1475+0x1ac9);_0x23efb7>=0x2f9*0x5+-0x1d46+0xe69;_0x23efb7--){const _0x3d3805=_0x563f0e[_0x23efb7]['isPlaying']||_0x563f0e[_0x23efb7]['isSuspende'+'d'],_0x1fcc2f=_0x563f0e[_0x23efb7]['currentTim'+'e'];_0x3d3805&&_0x563f0e[_0x23efb7]['stop']();const _0x1d6f7c=_0x46edc4['_createIns'+'tance']();_0x3d3805&&(_0x1d6f7c['play'](),_0x1d6f7c['currentTim'+'e']=_0x1fcc2f),_0x563f0e['push'](_0x1d6f7c);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x26d99a){const _0x40db0a=this['_slots'];if(_0x40db0a){for(const _0x59ee0a in _0x40db0a)_0x40db0a[_0x59ee0a]['stop']();}const _0x4a28c3={};for(const _0x148258 in _0x26d99a)_0x26d99a[_0x148258]instanceof Gi?_0x4a28c3[_0x26d99a[_0x148258]['name']]=_0x26d99a[_0x148258]:_0x26d99a[_0x148258]['name']&&(_0x4a28c3[_0x26d99a[_0x148258]['name']]=new Gi(this,_0x26d99a[_0x148258]['name'],_0x26d99a[_0x148258]));this['_slots']=_0x4a28c3,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5ddb34=this['_slots'],_0x366f18=this['_playingBe'+'foreDisabl'+'e'];for(const _0xb77dc8 in _0x5ddb34){const _0xc4a798=_0x5ddb34[_0xb77dc8];_0xc4a798['autoPlay']&&_0xc4a798['isStopped']?_0xc4a798['play']():_0x366f18[_0xb77dc8]?_0xc4a798['resume']():_0xc4a798['isLoaded']||_0xc4a798['load']();}}['onDisable'](){const _0x2621b8=this['_slots'],_0x7657b5={};for(const _0x49ec2c in _0x2621b8)_0x2621b8[_0x49ec2c]['overlap']||_0x2621b8[_0x49ec2c]['isPlaying']&&(_0x2621b8[_0x49ec2c]['pause'](),_0x7657b5[_0x49ec2c]=!(0x2*-0x91f+0x125*0x11+0x137*-0x1));this['_playingBe'+'foreDisabl'+'e']=_0x7657b5;}['onRemove'](){this['off']();}['addSlot'](_0x10e330,_0x301876){const _0x961397=this['_slots'];if(_0x961397[_0x10e330])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x10e330+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x51b536=new Gi(this,_0x10e330,_0x301876);return _0x961397[_0x10e330]=_0x51b536,_0x51b536['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x51b536['play'](),_0x51b536;}['removeSlot'](_0x38ae26){const _0x2d6f29=this['_slots'];_0x2d6f29[_0x38ae26]&&(_0x2d6f29[_0x38ae26]['stop'](),delete _0x2d6f29[_0x38ae26]);}['slot'](_0x2eef7f){return this['_slots'][_0x2eef7f];}['_getSlotPr'+'operty'](_0x2a62ff,_0x4c7390){if(!this['enabled']||!this['entity']['enabled'])return;const _0x2404d2=this['_slots'][_0x2a62ff];if(!_0x2404d2){w['warn']('Trying\x20to\x20'+'get\x20'+_0x4c7390+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x2a62ff+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x2404d2[_0x4c7390];}['isPlaying'](_0x1161f0){return this['_getSlotPr'+'operty'](_0x1161f0,'isPlaying')||!(0x244b+0x4ec+-0x2936);}['isLoaded'](_0x7ec230){return this['_getSlotPr'+'operty'](_0x7ec230,'isLoaded')||!(-0x62c*-0x6+0x757*-0x4+-0x7ab);}['isPaused'](_0x22a8ff){return this['_getSlotPr'+'operty'](_0x22a8ff,'isPaused')||!(0x11*0xf3+-0x3b*0x7+-0x15*0xb1);}['isStopped'](_0x55f43a){return this['_getSlotPr'+'operty'](_0x55f43a,'isStopped')||!(0x16ae+-0x1fe6+0x939);}['play'](_0x29c5df){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x522c37=this['_slots'][_0x29c5df];return _0x522c37?_0x522c37['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x29c5df+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x37e96a){const _0x322821=this['_slots'];if(_0x37e96a){const _0x34e100=_0x322821[_0x37e96a];if(!_0x34e100){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x37e96a+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x34e100['pause']();}else{for(const _0x593e24 in _0x322821)_0x322821[_0x593e24]['pause']();}}['resume'](_0x58f7b8){const _0x2ed993=this['_slots'];if(_0x58f7b8){const _0x421f73=_0x2ed993[_0x58f7b8];if(!_0x421f73){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x58f7b8+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x421f73['isPaused']&&_0x421f73['resume']();}else{for(const _0x89ded in _0x2ed993)_0x2ed993[_0x89ded]['resume']();}}['stop'](_0x496ace){const _0x3e7da7=this['_slots'];if(_0x496ace){const _0x25a528=_0x3e7da7[_0x496ace];if(!_0x25a528){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x496ace+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x25a528['stop']();}else{for(const _0x108352 in _0x3e7da7)_0x3e7da7[_0x108352]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x8ba*0x4+-0x1c2c*0x1+-0x6bc);}}const d0=['enabled'];class hF extends ct{constructor(_0xa99132){super(_0xa99132),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0xa99132['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x315d24){this['manager']['volume']=_0x315d24;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x1448a2,_0x23e9e7,_0xea701d){_0xea701d=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x571d0a=-0x8b*0x11+-0x1*-0x20bd+-0x1782;_0x571d0a<_0xea701d['length'];_0x571d0a++)_0x23e9e7['hasOwnProp'+'erty'](_0xea701d[_0x571d0a])&&(_0x1448a2[_0xea701d[_0x571d0a]]=_0x23e9e7[_0xea701d[_0x571d0a]]);super['initialize'+'ComponentD'+'ata'](_0x1448a2,_0x23e9e7,['enabled']);}['cloneCompo'+'nent'](_0x38099b,_0x15431c){const _0x30067f=_0x38099b['sound'],_0x4c3946=_0x30067f['slots'],_0x112546={};for(const _0x2c6047 in _0x4c3946){const _0x13d0c8=_0x4c3946[_0x2c6047];_0x112546[_0x2c6047]={'name':_0x13d0c8['name'],'volume':_0x13d0c8['volume'],'pitch':_0x13d0c8['pitch'],'loop':_0x13d0c8['loop'],'duration':_0x13d0c8['duration'],'startTime':_0x13d0c8['startTime'],'overlap':_0x13d0c8['overlap'],'autoPlay':_0x13d0c8['autoPlay'],'asset':_0x13d0c8['asset']};}const _0x378445={'distanceModel':_0x30067f['distanceMo'+'del'],'enabled':_0x30067f['enabled'],'maxDistance':_0x30067f['maxDistanc'+'e'],'pitch':_0x30067f['pitch'],'positional':_0x30067f['positional'],'refDistance':_0x30067f['refDistanc'+'e'],'rollOffFactor':_0x30067f['rollOffFac'+'tor'],'slots':_0x112546,'volume':_0x30067f['volume']};return this['addCompone'+'nt'](_0x15431c,_0x378445);}['onUpdate'](_0x347df9){const _0x36e6cd=this['store'];for(const _0x56871b in _0x36e6cd)if(_0x36e6cd['hasOwnProp'+'erty'](_0x56871b)){const _0x10cf5d=_0x36e6cd[_0x56871b]['entity'];if(_0x10cf5d['enabled']){const _0x4bb914=_0x10cf5d['sound'];if(_0x4bb914['enabled']&&_0x4bb914['positional']){const _0x4f0843=_0x10cf5d['getPositio'+'n'](),_0x38b558=_0x4bb914['slots'];for(const _0x19d37c in _0x38b558)_0x38b558[_0x19d37c]['updatePosi'+'tion'](_0x4f0843);}}}}['onBeforeRe'+'move'](_0x50d17d,_0x5417eb){const _0xd61e10=_0x5417eb['slots'];for(const _0x14ce48 in _0xd61e10)_0xd61e10[_0x14ce48]['overlap']||_0xd61e10[_0x14ce48]['stop']();_0x5417eb['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x1fa027,_0x2fa6d4){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x1fa027,this['_frame']=-0x1a2f*0x1+0xf6c+0x91*0x13,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x2fa6d4['spriteAsse'+'t'],this['name']=_0x2fa6d4['name'],this['fps']=_0x2fa6d4['fps']||0x2407*-0x1+0x6*0xc2+0x1f7b,this['loop']=_0x2fa6d4['loop']||!(-0x1445*-0x1+-0x879+0x1*-0xbcb),this['_playing']=!(-0x1*0x970+-0x23c1+0x2d32),this['_paused']=!(-0x1*0x2531+-0x2239*-0x1+0x2f9*0x1),this['_time']=0x1*-0x24c1+0x159d+0x11*0xe4);}get['duration'](){if(this['_sprite']){const _0x15677d=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x15677d);}return-0x17ef+0x488*0x7+-0x7c9;}set['frame'](_0x12e135){this['_setFrame'](_0x12e135);const _0x540d67=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x540d67);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x1b2e6f){var _0x25b96e;if(this['_sprite']&&((_0x25b96e=this['_evtSetMes'+'hes'])==null||_0x25b96e['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x1b2e6f,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x30c6e5;!_0x1b2e6f||!_0x1b2e6f['atlas']?(_0x30c6e5=this['_component']['_meshInsta'+'nce'],_0x30c6e5&&(_0x30c6e5['deletePara'+'meter']('texture_em'+'issiveMap'),_0x30c6e5['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x1b2e6f['atlas']['texture']&&(_0x30c6e5=this['_component']['_meshInsta'+'nce'],_0x30c6e5&&(_0x30c6e5['setParamet'+'er']('texture_em'+'issiveMap',_0x1b2e6f['atlas']['texture']),_0x30c6e5['setParamet'+'er']('texture_op'+'acityMap',_0x1b2e6f['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x23334a){const _0x4eee78=this['_component']['system']['app']['assets'];let _0xeee04b=_0x23334a;if(_0x23334a instanceof pe&&(_0xeee04b=_0x23334a['id']),this['_spriteAss'+'et']!==_0xeee04b){if(this['_spriteAss'+'et']){const _0xc540e2=_0x4eee78['get'](this['_spriteAss'+'et']);_0xc540e2&&this['_unbindSpr'+'iteAsset'](_0xc540e2);}if(this['_spriteAss'+'et']=_0xeee04b,this['_spriteAss'+'et']){const _0xd3fb11=_0x4eee78['get'](this['_spriteAss'+'et']);_0xd3fb11?this['_bindSprit'+'eAsset'](_0xd3fb11):(this['sprite']=null,_0x4eee78['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x1c24f5){this['_setTime'](_0x1c24f5),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x26d1+-0x12fa+0x89*0x6c),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1*0xa65+0x1c1a+-0x267f;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x5aaebd){this['_component']['system']['app']['assets']['off']('add:'+_0x5aaebd['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5aaebd['id']&&this['_bindSprit'+'eAsset'](_0x5aaebd);}['_bindSprit'+'eAsset'](_0x1cde76){_0x1cde76['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x1cde76['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x1cde76['resource']?this['_onSpriteA'+'ssetLoad'](_0x1cde76):this['_component']['system']['app']['assets']['load'](_0x1cde76);}['_unbindSpr'+'iteAsset'](_0xd17038){_0xd17038&&(_0xd17038['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0xd17038['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xd17038['resource']&&!_0xd17038['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0xd17038['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x30267a){if(!_0x30267a['resource'])this['sprite']=null;else{if(_0x30267a['resource']['atlas'])this['sprite']=_0x30267a['resource'];else{const _0x106969=_0x30267a['data']['textureAtl'+'asAsset'],_0x4fab05=this['_component']['system']['app']['assets'];_0x4fab05['off']('load:'+_0x106969,this['_onTexture'+'AtlasLoad'],this),_0x4fab05['once']('load:'+_0x106969,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2ccee3){const _0x814fa2=this['_spriteAss'+'et'];_0x814fa2 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x814fa2):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x814fa2));}['_onSpriteA'+'ssetRemove'](_0x4536a6){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x976def){if(this['fps']===-0x127f*0x1+-0x4*0x5db+0x29eb||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x137e44=this['fps']<-0x10d3+-0x79b+0x186e?-(0x47*0x84+-0x847+0x2*-0xe2a):-0x213f*-0x1+0x1de1+-0x3f1f,_0x114a36=this['_time']+_0x976def*this['_component']['speed']*_0x137e44,_0x9767b5=this['duration'],_0x9e26f3=_0x114a36>_0x9767b5||_0x114a36<-0x1df5+0x1a63+0x392;this['_setTime'](_0x114a36);let _0x27bdd3=this['frame'];this['_sprite']?_0x27bdd3=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x9767b5):_0x27bdd3=0x1*-0x1fa9+0x67*-0x1a+-0x107*-0x29,_0x27bdd3!==this['_frame']&&this['_setFrame'](_0x27bdd3),_0x9e26f3&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x670+-0x95*-0xd+-0xe00),this['_paused']=!(0x4*0x737+0x370+-0x1*0x204b),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x3b3f7a){this['_time']=_0x3b3f7a;const _0x38d3c9=this['duration'];this['_time']<0x58*-0x28+-0x7*0x1f4+0x12*0x186?this['loop']?this['_time']=this['_time']%_0x38d3c9+_0x38d3c9:this['_time']=0x1*-0x1ec9+-0x946+0x125*0x23:this['_time']>_0x38d3c9&&(this['loop']?this['_time']%=_0x38d3c9:this['_time']=_0x38d3c9);}['_setFrame'](_0xcf04f1){this['_sprite']?this['_frame']=Y['clamp'](_0xcf04f1,0x1f7c+0x216e*-0x1+0x1f2,this['_sprite']['frameKeys']['length']-(-0x9c1*-0x1+-0x2*0x41b+-0x18a)):this['_frame']=_0xcf04f1,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x544365=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x544365['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x140a+0x10*-0x3d+-0x1f*0x86),this['_paused']=!(0x75b*-0x1+0xf03+0x3*-0x28d),this['frame']=-0x1c5d+0x20e*0x4+0x1425,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x258d+-0x2361+-0x22c),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0xdb7*0x2+0x2d3*0x5+-0x2*0x14c6),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1*0x9b+0x149*0x19+0x1b9*-0x13),this['_paused']=!(0x1*0x1405+0x107e+0x2482*-0x1),this['_time']=-0x2*-0x13a+0x105a+0x2*-0x967,this['frame']=-0x97c*-0x4+0x4*-0x67a+-0x58*0x23,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x4f13cc,_0x49e4fc){super(_0x4f13cc,_0x49e4fc),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x4f13cc['defaultMat'+'erial'],this['_color']=new ie(-0x542+-0x149+0x68c,-0x4*-0x8e9+-0x1c16+-0x78d,0x11c9*-0x1+-0x26dd+0x38a7,-0x2078+0x5*0x5da+-0x337*-0x1),this['_colorUnif'+'orm']=new Float32Array(-0x517*-0x3+-0x12ae+-0xc*-0x49),this['_speed']=0x28*0x49+0x181d*-0x1+0xcb6,this['_flipX']=!(0x5*0x97+0x1*0x12d5+0x1*-0x15c7),this['_flipY']=!(0x307+-0xb5b*0x3+-0x1*-0x1f0b),this['_width']=0xedc+0x26e0+-0xabf*0x5,this['_height']=-0x1b13+0xde1+0xd33,this['_drawOrder']=-0x1a93+-0x4*0x998+0x40f3,this['_layers']=[er],this['_outerScal'+'e']=new J(0x5d2+0x13*0xc9+-0x14bc,-0x4c*-0x35+0x1e3*0x4+-0x3b*0x65),this['_outerScal'+'eUniform']=new Float32Array(0x1c7f*0x1+0xa2e*0x2+-0x30d9),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0xd18+-0x3*-0x664+-0x610),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1b5c+0x789*0x5+-0xa4d),this['_batchGrou'+'pId']=-(-0xa8a+-0x59e*-0x4+-0x1*0xbed),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x49e4fc['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x49e4fc,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0xd1a+-0x2ad*-0x1+-0xfc6*0x1),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x9+0x3cc*-0x6+-0xfe*-0x17),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x201cbe){this['_type']!==_0x201cbe&&(this['_type']=_0x201cbe,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x26b30d){this['_currentCl'+'ip']['frame']=_0x26b30d;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x17ac84){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x17ac84;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x254b6b){this['_currentCl'+'ip']['sprite']=_0x254b6b;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x1a8bbf){this['_material']=_0x1a8bbf,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x1a8bbf);}get['material'](){return this['_material'];}set['color'](_0x597cac){this['_color']['r']=_0x597cac['r'],this['_color']['g']=_0x597cac['g'],this['_color']['b']=_0x597cac['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0xd*0xb3+0x1709*-0x1+-0x2020*-0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0xa+-0x1*-0x19c7+0xf4*-0x1b]=this['_color']['g'],this['_colorUnif'+'orm'][-0xaea+-0x15e9+-0x29*-0xcd]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x21adfe){this['_color']['a']=_0x21adfe,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x21adfe);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x2102b9){if(!_0x2102b9){for(const _0x2d0a04 in this['_clips'])this['removeClip'](_0x2d0a04);return;}for(const _0xe7cc2c in this['_clips']){let _0x50ee15=!(-0x1dc4+-0x669*0x4+-0x5*-0xb15);for(const _0x5d1d30 in _0x2102b9)if(_0x2102b9[_0x5d1d30]['name']===_0xe7cc2c){_0x50ee15=!(-0x1*-0x17b+-0x131a+0x119f),this['_clips'][_0xe7cc2c]['fps']=_0x2102b9[_0x5d1d30]['fps'],this['_clips'][_0xe7cc2c]['loop']=_0x2102b9[_0x5d1d30]['loop'],_0x2102b9[_0x5d1d30]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0xe7cc2c]['sprite']=_0x2102b9[_0x5d1d30]['sprite']:_0x2102b9[_0x5d1d30]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0xe7cc2c]['spriteAsse'+'t']=_0x2102b9[_0x5d1d30]['spriteAsse'+'t']);break;}_0x50ee15||this['removeClip'](_0xe7cc2c);}for(const _0x3bcf92 in _0x2102b9)this['_clips'][_0x2102b9[_0x3bcf92]['name']]||this['addClip'](_0x2102b9[_0x3bcf92]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x2c7db0){this['_speed']=_0x2c7db0;}get['speed'](){return this['_speed'];}set['flipX'](_0x1b46f7){this['_flipX']!==_0x1b46f7&&(this['_flipX']=_0x1b46f7,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x465be7){this['_flipY']!==_0x465be7&&(this['_flipY']=_0x465be7,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x5707ce){_0x5707ce!==this['_width']&&(this['_width']=_0x5707ce,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x74dacb){_0x74dacb!==this['_height']&&(this['_height']=_0x74dacb,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x13ffce){var _0x31df10,_0x5250ee;if(this['_batchGrou'+'pId']===_0x13ffce)return;const _0x121c2a=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x13ffce,this['entity']['enabled']&&_0x121c2a>=-0x1b26+-0xd45+-0x3*-0xd79&&((_0x31df10=this['system']['app']['batcher'])==null||_0x31df10['remove'](St['SPRITE'],_0x121c2a,this['entity'])),this['entity']['enabled']&&_0x13ffce>=-0x18ba+0x2048+-0x78e*0x1?(_0x5250ee=this['system']['app']['batcher'])==null||_0x5250ee['insert'](St['SPRITE'],_0x13ffce,this['entity']):_0x121c2a>=0x1079+0xf1*-0x11+-0x78&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x2a1970){this['_autoPlayC'+'lip']=_0x2a1970 instanceof Hi?_0x2a1970['name']:_0x2a1970,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4485d2){this['_drawOrder']=_0x4485d2,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4485d2);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x4c48c6){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x4c48c6,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x5cad73;const _0xa59052=this['system']['app'],_0x493875=_0xa59052['scene'],_0x2c9976=_0x493875['layers'];this['_evtLayers'+'Changed']=_0x493875['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2c9976&&(this['_evtLayerA'+'dded']=_0x2c9976['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2c9976['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x1c03*0x1+-0x1507+-0x6fc&&((_0x5cad73=_0xa59052['batcher'])==null||_0x5cad73['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x2945ec,_0x24cf66,_0x47e46e,_0x43250c;const _0xef76c9=this['system']['app'],_0x393ec5=_0xef76c9['scene']['layers'];(_0x2945ec=this['_evtLayers'+'Changed'])==null||_0x2945ec['off'](),this['_evtLayers'+'Changed']=null,_0x393ec5&&((_0x24cf66=this['_evtLayerA'+'dded'])==null||_0x24cf66['off'](),this['_evtLayerA'+'dded']=null,(_0x47e46e=this['_evtLayerR'+'emoved'])==null||_0x47e46e['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x178d*-0x1+-0x1906+0x179&&((_0x43250c=_0xef76c9['batcher'])==null||_0x43250c['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x1d670a;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0xfd6f4e in this['_clips'])this['_clips'][_0xfd6f4e]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x1d670a=this['_node'])==null||_0x1d670a['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3ddeef=[this['_meshInsta'+'nce']];for(let _0x9c90b=0xa29+0x2557+-0x2f80,_0x50a8bf=this['_layers']['length'];_0x9c90b<_0x50a8bf;_0x9c90b++){const _0x249939=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x9c90b]);_0x249939&&_0x249939['addMeshIns'+'tances'](_0x3ddeef);}this['_addedMode'+'l']=!(0x1*-0x9b2+0x88f+-0x3*-0x61);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x507007=[this['_meshInsta'+'nce']];for(let _0x5b1b3b=-0x1701+-0x1aa4+0x31a5,_0xbafeb4=this['_layers']['length'];_0x5b1b3b<_0xbafeb4;_0x5b1b3b++){const _0x34ac1f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5b1b3b]);_0x34ac1f&&_0x34ac1f['removeMesh'+'Instances'](_0x507007);}this['_addedMode'+'l']=!(-0xaf*0x32+-0x4ec+0x47*0x8d);}['_showFrame'](_0x204cd7){if(!this['sprite'])return;const _0x603bbd=this['sprite']['meshes'][_0x204cd7];if(!_0x603bbd){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x863+0xca7+-0x443));return;}let _0x14427b;if(this['sprite']['renderMode']===Pt?_0x14427b=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x14427b=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x14427b=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x603bbd,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x1b5a+-0x1*0x2041+-0xbec*-0x5),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1213+-0x22d5*0x1+-0x10c3*-0x1),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1b96+-0x971*-0x4+-0x415a]=this['_color']['r'],this['_colorUnif'+'orm'][-0x125f*0x2+0x1*-0x1e53+0x2*0x2189]=this['_color']['g'],this['_colorUnif'+'orm'][0x23*0x7a+-0x171*-0x13+-0x2c0f*0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x14427b&&(this['_meshInsta'+'nce']['material']=_0x14427b),this['_meshInsta'+'nce']['mesh']!==_0x603bbd&&(this['_meshInsta'+'nce']['mesh']=_0x603bbd,this['_meshInsta'+'nce']['visible']=!(-0x1c6*-0x7+0x1*0x1161+-0x1dcb),this['_meshInsta'+'nce']['_aabbVer']=-(-0x15cf+-0x1*0x1+-0x15d1*-0x1)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x444a03=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x204cd7]];if(_0x444a03){const _0x3bbc0c=(0x3*0x20b+-0x835*-0x1+-0xe54)/_0x444a03['rect']['z'],_0x5bdd85=(0x155*0x2+-0x4*-0x626+-0x368*0x8)/_0x444a03['rect']['w'];this['_innerOffs'+'et']['set'](_0x444a03['border']['x']*_0x3bbc0c,_0x444a03['border']['y']*_0x5bdd85,_0x444a03['border']['z']*_0x3bbc0c,_0x444a03['border']['w']*_0x5bdd85);const _0x366143=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x444a03['rect']['x']/_0x366143['width'],_0x444a03['rect']['y']/_0x366143['height'],_0x444a03['rect']['z']/_0x366143['width'],_0x444a03['rect']['w']/_0x366143['height']);}else this['_innerOffs'+'et']['set'](0xbd7+0x10*0x207+0x2c47*-0x1,0x2e7*-0xb+-0x1d52+-0x3d3f*-0x1,0x1a97+0xfa2+-0x1*0x2a39,-0x1b12+-0x1fbf+0x1*0x3ad1);this['_innerOffs'+'etUniform'][-0x1dc3*0x1+-0xdf*0x2a+0x4259]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x8b5*-0x2+-0x10eb+0x2256]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x9b4*-0x2+0x26a2+-0x1338]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0xb18+-0xf74+0x1a8f]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0xf92+-0x1a22+-0x68*-0x1a]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1365+0xe0a+-0x216e]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x1788+-0x25*0x31+0x1e9f]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x216a+0x12a8+-0x13*-0xc7]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x3ad79e=this['flipX']?-(-0x740+0x3*0x9ef+-0x168c):0x8bc+0x144e+-0x1d09*0x1,_0x340a79=this['flipY']?-(-0x122d*-0x1+-0xe5d+-0x3cf):-0x2*-0xd18+0x2037+-0x1a*0x23f,_0x338b8c=-0x1*0x99d+0x1a46+-0x10a9,_0x410c26=0x20f7+-0x1*-0xa54+-0x2b4b;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x28d517=0xfac+0x1837+-0x27e2,_0x2ca806=0x328+-0x18e0+0x15b9;if(this['sprite']['atlas']){const _0x2ef164=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x2ef164&&(_0x28d517=_0x2ef164['rect']['z'],_0x2ca806=_0x2ef164['rect']['w'],_0x338b8c=(-0x2*-0xe62+-0x715+-0x3d*0x5b+0.5-_0x2ef164['pivot']['x'])*this['_width'],_0x410c26=(0x18e*-0x1+-0x1599+0x1*0x1727+0.5-_0x2ef164['pivot']['y'])*this['_height']);}const _0x2386fb=_0x28d517/this['sprite']['pixelsPerU'+'nit'],_0x27b7f7=_0x2ca806/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x2386fb),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x27b7f7)),_0x3ad79e*=_0x2386fb,_0x340a79*=_0x27b7f7,this['_outerScal'+'e']['x']/=_0x2386fb,this['_outerScal'+'e']['y']/=_0x27b7f7,_0x3ad79e*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x2386fb),-0x1744*-0x1+0xeab+-0x25ef+0.0001,0x25ba+-0x16da*-0x1+0x3c93*-0x1),_0x340a79*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x27b7f7),-0x3d7+-0xea7+0x315*0x6+0.0001,-0x3*0x88a+-0x1471*0x1+0x2*0x1708),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x102f+-0x255e+0x1*0x358d]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1096+-0x318+-0xd7d]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x3ad79e,_0x340a79,0x5*-0x743+-0x251e+-0x24b7*-0x2),this['_node']['setLocalPo'+'sition'](_0x338b8c,_0x410c26,-0x1*0x128f+-0x3*0x897+-0x1*-0x2c54);}['_updateAab'+'b'](_0xae3a8b){return _0xae3a8b['center']['set'](-0xcc9+0x2*0x54a+-0x1*-0x235,0x152f*0x1+0x58e+-0x1abd,-0x5*0x280+-0xb95*0x1+0x1815),_0xae3a8b['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x2d3*0x1+0xbb1*-0x2+0x1a35*0x1+0.5),this['_outerScal'+'e']['y']*(0x876+0x1245*0x1+-0x1abb+0.5),0x11a0+-0x1*0x40e+-0xd92+0.001),_0xae3a8b['setFromTra'+'nsformedAa'+'bb'](_0xae3a8b,this['_node']['getWorldTr'+'ansform']()),_0xae3a8b;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x22eda8=this['_clips'][this['_autoPlayC'+'lip']];_0x22eda8&&!_0x22eda8['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x22eda8['name']);}['_onLayersC'+'hanged'](_0x2ed67d,_0x8e5d20){_0x2ed67d['off']('add',this['onLayerAdd'+'ed'],this),_0x2ed67d['off']('remove',this['onLayerRem'+'oved'],this),_0x8e5d20['on']('add',this['onLayerAdd'+'ed'],this),_0x8e5d20['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x405331){this['layers']['indexOf'](_0x405331['id'])<-0x151*0xa+0x4*0x962+0x2*-0xc2f||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x405331['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x3cd84e){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x3cd84e['id'])<0xcc9+-0x2127+0x42*0x4f||_0x3cd84e['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x369185=0x95f+0x90e+-0x126d;_0x369185<this['layers']['length'];_0x369185++){const _0x8335e9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x369185]);_0x8335e9&&_0x8335e9['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x39d16d){const _0x304c04=new Hi(this,{'name':_0x39d16d['name'],'fps':_0x39d16d['fps'],'loop':_0x39d16d['loop'],'spriteAsset':_0x39d16d['spriteAsse'+'t']});return this['_clips'][_0x39d16d['name']]=_0x304c04,_0x304c04['name']&&_0x304c04['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x304c04;}['removeClip'](_0x123bba){delete this['_clips'][_0x123bba];}['clip'](_0xae716f){return this['_clips'][_0xae716f];}['play'](_0x5bcdf8){const _0x36be23=this['_clips'][_0x5bcdf8],_0xf74878=this['_currentCl'+'ip'];return _0xf74878&&_0xf74878!==_0x36be23&&(_0xf74878['_playing']=!(0x1*0x122b+0x1b1+-0x13db)),this['_currentCl'+'ip']=_0x36be23,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x36be23,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x5bcdf8+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x36be23;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x1acf+0x165*0x2+0x1805);}}const f0=['enabled'];class mF extends ct{constructor(_0x134b67){super(_0x134b67),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x42886a){this['_defaultMa'+'terial']=_0x42886a;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x44f3b2=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x28f916=new Uint8Array(_0x44f3b2['lock']());_0x28f916[-0x164c+0x60*0x41+-0x214]=_0x28f916[0x1544+0x1*0x1984+0x2ec7*-0x1]=_0x28f916[-0x7f9+0x1*-0x229+-0x512*-0x2]=_0x28f916[0xa61*0x1+0x2653+-0x30b1]=-0x91*-0x3f+-0x20af+-0x201,_0x44f3b2['unlock']();const _0x58054c=new Ut();_0x58054c['diffuse']['set'](-0x1*0x18bc+0x610+-0x1de*-0xa,0xeec+0x1*-0x1fd5+0x10e9,0x1*0xaf2+0x117f*-0x2+0x180c),_0x58054c['emissive']['set'](-0xe9d*0x2+0x1156*0x2+-0xc7*0x7,-0x2c9*0xb+0xdc1*0x1+-0x21*-0x83,-0x1d29+0xa5a+0x12d0),_0x58054c['emissiveMa'+'p']=_0x44f3b2,_0x58054c['opacityMap']=_0x44f3b2,_0x58054c['opacityMap'+'Channel']='a',_0x58054c['useLightin'+'g']=!(0x1*-0x1336+-0x159+0x2*0xa48),_0x58054c['useTonemap']=!(0x17d*0x3+0x14cb+-0x1941),_0x58054c['useFog']=!(0x83*-0x39+-0x2*0x12cd+0x42c6),_0x58054c['useSkybox']=!(0x596+0x2*0xd03+-0x1*0x1f9b),_0x58054c['blendType']=Gn,_0x58054c['depthWrite']=!(-0x241*0x7+0x1408*-0x1+0x23d0),_0x58054c['pixelSnap']=!(0x767+0x1*0x23f8+-0x2b5e),_0x58054c['cull']=bt,_0x58054c['update'](),this['_defaultTe'+'xture']=_0x44f3b2,this['_defaultMa'+'terial']=_0x58054c;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x5c9256){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5c9256;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x877167=this['defaultMat'+'erial']['clone']();_0x877167['nineSliced'+'Mode']=Pt,_0x877167['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x877167;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x1b2c38){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x1b2c38;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x4fb6eb=this['defaultMat'+'erial']['clone']();_0x4fb6eb['nineSliced'+'Mode']=Mt,_0x4fb6eb['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4fb6eb;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0xc76346,_0x249a42,_0x5271d6){if(_0x249a42['enabled']!==void(0x8*0x47f+-0x1187+-0x1271)&&(_0xc76346['enabled']=_0x249a42['enabled']),_0xc76346['type']=_0x249a42['type'],_0x249a42['layers']&&Array['isArray'](_0x249a42['layers'])&&(_0xc76346['layers']=_0x249a42['layers']['slice'](-0x1*-0x1d43+-0x2103+-0x50*-0xc)),_0x249a42['drawOrder']!==void(0x201b*0x1+-0x136+-0x1ee5)&&(_0xc76346['drawOrder']=_0x249a42['drawOrder']),_0x249a42['color']!==void(-0x79+-0x641*0x2+0x1*0xcfb)&&(_0x249a42['color']instanceof ie?_0xc76346['color']['set'](_0x249a42['color']['r'],_0x249a42['color']['g'],_0x249a42['color']['b'],_0x249a42['opacity']??-0x1556+-0x79c+0x1cf3):_0xc76346['color']['set'](_0x249a42['color'][-0x1302*-0x1+-0x24b*-0x10+-0x37b2],_0x249a42['color'][0xe20+-0x1d*-0x50+0x5*-0x4a3],_0x249a42['color'][-0x2*-0x173+0xb95+-0x13*0xc3],_0x249a42['opacity']??0xc7c+-0x2537+0x4*0x62f),_0xc76346['color']=_0xc76346['color']),_0x249a42['opacity']!==void(-0x4f*-0x2c+-0x2291+0x14fd)&&(_0xc76346['opacity']=_0x249a42['opacity']),_0x249a42['flipX']!==void(0x1*-0x21d5+0x6cc+0x301*0x9)&&(_0xc76346['flipX']=_0x249a42['flipX']),_0x249a42['flipY']!==void(-0xba8+0x70a*0x1+0x49e)&&(_0xc76346['flipY']=_0x249a42['flipY']),_0x249a42['width']!==void(-0x1e0c+-0x268a+0x2*0x224b)&&(_0xc76346['width']=_0x249a42['width']),_0x249a42['height']!==void(-0x1f21+-0xeb+0x200c)&&(_0xc76346['height']=_0x249a42['height']),_0x249a42['spriteAsse'+'t']!==void(-0x3*-0xa9f+0x362+-0x233f*0x1)&&(_0xc76346['spriteAsse'+'t']=_0x249a42['spriteAsse'+'t']),_0x249a42['sprite']&&(_0xc76346['sprite']=_0x249a42['sprite']),_0x249a42['frame']!==void(-0x25af+0x241d+0x6*0x43)&&(_0xc76346['frame']=_0x249a42['frame']),_0x249a42['clips']){for(const _0x4bbf95 in _0x249a42['clips'])_0xc76346['addClip'](_0x249a42['clips'][_0x4bbf95]);}_0x249a42['speed']!==void(-0x10*-0x238+-0xc4*-0x1+0x911*-0x4)&&(_0xc76346['speed']=_0x249a42['speed']),_0x249a42['autoPlayCl'+'ip']&&(_0xc76346['autoPlayCl'+'ip']=_0x249a42['autoPlayCl'+'ip']),_0xc76346['batchGroup'+'Id']=_0x249a42['batchGroup'+'Id']===void(-0x2494+-0x1e55+0x42e9)||_0x249a42['batchGroup'+'Id']===null?-(-0x741*-0x2+-0x14*0x5+-0x1*0xe1d):_0x249a42['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0xc76346,_0x249a42,_0x5271d6);}['cloneCompo'+'nent'](_0xe2433a,_0x5e468c){const _0x3afe45=_0xe2433a['sprite'];return this['addCompone'+'nt'](_0x5e468c,{'enabled':_0x3afe45['enabled'],'type':_0x3afe45['type'],'spriteAsset':_0x3afe45['spriteAsse'+'t'],'sprite':_0x3afe45['sprite'],'width':_0x3afe45['width'],'height':_0x3afe45['height'],'frame':_0x3afe45['frame'],'color':_0x3afe45['color']['clone'](),'opacity':_0x3afe45['opacity'],'flipX':_0x3afe45['flipX'],'flipY':_0x3afe45['flipY'],'speed':_0x3afe45['speed'],'clips':_0x3afe45['clips'],'autoPlayClip':_0x3afe45['autoPlayCl'+'ip'],'batchGroupId':_0x3afe45['batchGroup'+'Id'],'drawOrder':_0x3afe45['drawOrder'],'layers':_0x3afe45['layers']['slice'](-0x2a1*-0xd+-0x1366+-0xec7)});}['onUpdate'](_0x4c8375){const _0x476d8c=this['store'];for(const _0x2f2e82 in _0x476d8c)if(_0x476d8c['hasOwnProp'+'erty'](_0x2f2e82)){const _0x3a1cb0=_0x476d8c[_0x2f2e82];if(_0x3a1cb0['data']['enabled']&&_0x3a1cb0['entity']['enabled']){const _0x498d33=_0x3a1cb0['entity']['sprite'];_0x498d33['_currentCl'+'ip']&&_0x498d33['_currentCl'+'ip']['_update'](_0x4c8375);}}}['onBeforeRe'+'move'](_0x40aa37,_0x44999b){_0x44999b['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x4d46dc,_0x554c7b){super(_0x4d46dc,_0x554c7b),this['_oldState']=!(-0x1599+-0x2427+0x42*0xe0),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x1cd4b0){_0x1cd4b0 instanceof D?this['_size']['copy'](_0x1cd4b0):_0x1cd4b0 instanceof Array&&_0x1cd4b0['length']>=0x14e5+0x2306+-0x37e8&&this['size']['set'](_0x1cd4b0[-0x3dc*0xa+0x1*-0x119+0x27b1],_0x1cd4b0[-0x911+0x3*0xcd1+-0x3*0x9cb],_0x1cd4b0[-0x71*0x7+0x1a8b+-0x1772]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x13cf69,_0x596950,_0x45ec0d){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x12d9fe=this['enabled']&&this['entity']['enabled'];_0x12d9fe!==this['_oldState']&&(this['_oldState']=_0x12d9fe,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x14b6+0xdf0+0xa*-0x377);}}const u0=['enabled'];class gF extends ct{constructor(_0x1bdc51){super(_0x1bdc51),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x52f77c,_0x4fddb9,_0x55a454){_0x52f77c['enabled']=_0x4fddb9['hasOwnProp'+'erty']('enabled')?!!_0x4fddb9['enabled']:!(0x29*-0xd+-0x1*0x3d7+0x5ec),_0x4fddb9['size']&&(_0x4fddb9['size']instanceof D?_0x52f77c['size']['copy'](_0x4fddb9['size']):_0x4fddb9['size']instanceof Array&&_0x4fddb9['size']['length']>=0x25aa+0xff*-0xb+0x473*-0x6&&_0x52f77c['size']['set'](_0x4fddb9['size'][-0x811+-0xbdc+0x13ed],_0x4fddb9['size'][-0x5*0x5fa+0x1316+0xacd],_0x4fddb9['size'][0x2*-0x5e+0xabb+-0x9fd]));}['cloneCompo'+'nent'](_0x130a77,_0x3d1d68){const _0x5c522b={'enabled':_0x130a77['zone']['enabled'],'size':_0x130a77['zone']['size']};return this['addCompone'+'nt'](_0x3d1d68,_0x5c522b);}['_onBeforeR'+'emove'](_0x909a17,_0x140cb7){_0x140cb7['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x3325c3,_0x4cc7a0){this['effect']=_0x3325c3,this['inputTarge'+'t']=_0x4cc7a0,this['outputTarg'+'et']=null,this['name']=_0x3325c3['constructo'+'r']['name'];}}class yF{constructor(_0x57d431,_0x467dfb){this['app']=_0x57d431,this['camera']=_0x467dfb,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x4f9*0x2+-0x81*0x3b+0x9e5*0x2),this['depthTarge'+'t']=null,_0x467dfb['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x16db77,_0x4f1636){const _0x2ebe8f=this['camera']['rect'],_0x1a6b22=this['destinatio'+'nRenderTar'+'get'],_0x37778d=this['app']['graphicsDe'+'vice'],_0x3343ab=Math['floor'](_0x2ebe8f['z']*((_0x1a6b22==null?void(-0xe4+0x1389*0x1+-0x81*0x25):_0x1a6b22['width'])??_0x37778d['width'])),_0x9f1600=Math['floor'](_0x2ebe8f['w']*((_0x1a6b22==null?void(-0x1e53+-0xb*0x34d+0x42a2):_0x1a6b22['height'])??_0x37778d['height']));return new _e(_0x37778d,{'name':_0x4f1636,'format':_0x16db77,'width':_0x3343ab,'height':_0x9f1600,'mipmaps':!(-0x1f2+-0xe9b*0x2+0x1f29),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x52eb66,_0x581308){const _0x1e499b=this['app']['graphicsDe'+'vice'],_0x219781=(this['destinatio'+'nRenderTar'+'get']??_0x1e499b['backBuffer'])['isColorBuf'+'ferSrgb'](-0xa07*0x1+0x2302+-0x5*0x4ff),_0x2ca2ea=(_0x581308&&_0x1e499b['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x1ce+0x1*-0x1bb+-0x389*-0x1)))??(_0x219781?_s:Ne),_0xbf6e22=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x1b97f3=this['_allocateC'+'olorBuffer'](_0x2ca2ea,_0xbf6e22);return new gt({'colorBuffer':_0x1b97f3,'depth':_0x52eb66,'stencil':_0x52eb66&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x52eb66?_0x1e499b['samples']:0x1*0x2272+-0x35b+-0x2*0xf8b});}['_resizeOff'+'screenTarg'+'et'](_0x199a65){const _0x2a69db=_0x199a65['colorBuffe'+'r']['format'],_0x2a67c3=_0x199a65['colorBuffe'+'r']['name'];_0x199a65['destroyFra'+'meBuffers'](),_0x199a65['destroyTex'+'tureBuffer'+'s'](),_0x199a65['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x2a69db,_0x2a67c3),_0x199a65['_colorBuff'+'ers']=[_0x199a65['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x3ea45d){_0x3ea45d['destroyTex'+'tureBuffer'+'s'](),_0x3ea45d['destroy']();}['addEffect'](_0x54b238){const _0x4c956d=this['effects'],_0x338008=_0x4c956d['length']===0x29*-0xc0+-0x1f*0x13+0x210d,_0x32ff13=this['_createOff'+'screenTarg'+'et'](_0x338008,_0x54b238['hdr']),_0x3ef810=new SF(_0x54b238,_0x32ff13);_0x4c956d['push'](_0x3ef810),this['_sourceTar'+'get']=_0x3ef810['inputTarge'+'t'],_0x4c956d['length']>-0xcd9+-0x42e*0x5+0x21c0&&(_0x4c956d[_0x4c956d['length']-(0x802+0xbf5+-0x13f5)]['outputTarg'+'et']=_0x3ef810['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x54b238,_0x54b238['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x7dd*0x2+-0xd0+-0x2e*0x53);}['removeEffe'+'ct'](_0x42f700){let _0x27df85=-(0x1*0x13d3+0x5da+-0x1f*0xd4);for(let _0x397a62=0xfb*0x11+0x1*0x2231+-0x32dc,_0x54a1e5=this['effects']['length'];_0x397a62<_0x54a1e5;_0x397a62++)if(this['effects'][_0x397a62]['effect']===_0x42f700){_0x27df85=_0x397a62;break;}_0x27df85>=0x2159+0x162f+-0x3788&&(_0x27df85>-0x8*0x319+0x2b*-0x33+0x2159?this['effects'][_0x27df85-(0x51*0x55+-0x1e0c+0x328)]['outputTarg'+'et']=_0x27df85+(0x2c*0x29+-0x2*0xac1+0x211*0x7)<this['effects']['length']?this['effects'][_0x27df85+(-0x1339*-0x1+0x87*0x35+-0x2f2b)]['inputTarge'+'t']:null:this['effects']['length']>0x46c*0x5+0xdf5*0x1+-0x2410&&(this['effects'][0x1*0x224e+-0x1f29+-0x324*0x1]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x9a*0x2b+-0x1473+0x21b*0x16]['inputTarge'+'t']),this['effects'][-0x2582+-0x2209*0x1+0x478c]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0xc11+0xae4+0x12d),this['effects'][0x3*-0x4f1+0x22f+-0xf9*-0xd]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x1*-0x1deb+0x2080+0x1f35*-0x2]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x183*0xd+0x67a*-0x5+0xcbc]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x27df85]['inputTarge'+'t']),this['effects']['splice'](_0x27df85,0x141b+-0x1aaa+0x690)),this['enabled']&&_0x42f700['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x14c3+-0x54d+0x7bb*-0x2&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x329ff3=-0x126b+0x3*-0x614+-0x1*-0x24a7,_0x58c937=this['effects']['length'];_0x329ff3<_0x58c937;_0x329ff3++){const _0x5e2841=this['effects'][_0x329ff3]['effect'];this['_newPostEf'+'fect']!==_0x5e2841&&_0x5e2841['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0xb346dc=-0x29*-0xca+-0x6e6+-0x1974,_0x25695e=this['effects']['length'];_0xb346dc<_0x25695e;_0xb346dc++)this['effects'][_0xb346dc]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x40a64e=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x40a64e&&(_0x40a64e['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x22cc+0x62f+-0x28fb*0x1)));}['_releaseDe'+'pthMap'](){const _0x4fb35f=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x4fb35f&&(_0x4fb35f['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x20fb+-0x1*-0x223+0x59*-0x65)));}['destroy'](){for(let _0x3e8558=-0x19a5+-0x12cb*-0x1+0x6da,_0x73083f=this['effects']['length'];_0x3e8558<_0x73083f;_0x3e8558++)this['effects'][_0x3e8558]['inputTarge'+'t']['destroy']();this['effects']['length']=0x134*-0x12+-0x1393*0x1+0x293b*0x1,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x47*0xd+0xd59+-0x10f4),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x1265*-0x1+0xbf*-0x17+0x238e]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x379f4f=null;const _0x288706=this['effects']['length'];if(_0x288706)for(let _0x5e50f0=-0x927*0x3+-0x7cb+0x2340;_0x5e50f0<_0x288706;_0x5e50f0++){const _0xb1bc84=this['effects'][_0x5e50f0];let _0x5df565=_0xb1bc84['outputTarg'+'et'];_0x5e50f0===_0x288706-(0x31*0xa3+0x1a33+0x3965*-0x1)&&(_0x379f4f=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x5df565=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0xb1bc84['name']),_0xb1bc84['effect']['render'](_0xb1bc84['inputTarge'+'t'],_0x5df565,_0x379f4f),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x123+-0xdfe*-0x1+0xcda*-0x1),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x162d90,_0x3e0135){const _0x5b8fd0=this['camera']['rect'],_0x3973ec=this['destinatio'+'nRenderTar'+'get'];_0x162d90=(_0x3973ec==null?void(0x26c3+0x1d3*-0x1+-0x30*0xc5):_0x3973ec['width'])??_0x162d90,_0x3e0135=(_0x3973ec==null?void(-0xe71+-0xd24+0x1b95*0x1):_0x3973ec['height'])??_0x3e0135,this['camera']['camera']['aspectRati'+'o']=_0x162d90*_0x5b8fd0['z']/(_0x3e0135*_0x5b8fd0['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x3c54a8=this['app']['graphicsDe'+'vice'],_0x528458=this['destinatio'+'nRenderTar'+'get'],_0x823dec=(_0x528458==null?void(0x2*-0x2c5+-0x641+-0xbcb*-0x1):_0x528458['width'])??_0x3c54a8['width'],_0xad08d7=(_0x528458==null?void(-0x1d58+-0x109e+0x13e*0x25):_0x528458['height'])??_0x3c54a8['height'],_0x101698=this['camera']['rect'],_0xe5d6c4=Math['floor'](_0x101698['z']*_0x823dec),_0xc8a7fd=Math['floor'](_0x101698['w']*_0xad08d7),_0x5a83cc=this['effects'];for(let _0x3cb5ff=0xa7f+0xaed+0x724*-0x3,_0x50b55f=_0x5a83cc['length'];_0x3cb5ff<_0x50b55f;_0x3cb5ff++){const _0x586652=_0x5a83cc[_0x3cb5ff];(_0x586652['inputTarge'+'t']['width']!==_0xe5d6c4||_0x586652['inputTarge'+'t']['height']!==_0xc8a7fd)&&this['_resizeOff'+'screenTarg'+'et'](_0x586652['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x566981,_0x493fcf,_0x1fca44){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x3cf8a6,_0x456615){super(_0x3cf8a6,_0x456615),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x35*0x8d+-0x2*-0xe6b+-0x7*-0xd),h(this,'_renderSce'+'neColorMap',0x287*-0x1+-0x1e94+0x211b),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x56*-0x67+-0xc53+0x2eee)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x2*-0xd7c+0x2*-0x125+-0x18ad)),h(this,'_priority',0xab8+-0x2*-0x101e+-0x2af4),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x456615,this['_postEffec'+'ts']=new yF(_0x3cf8a6['app'],this));}['setShaderP'+'ass'](_0x59f224){const _0x534d55=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x1703e7=_0x59f224?_0x534d55['allocate'](_0x59f224,{'isForward':!(0x2bf*-0x1+-0xb*0x1d+0x3fe)}):null;return this['_camera']['shaderPass'+'Info']=_0x1703e7,_0x1703e7['index'];}['getShaderP'+'ass'](){var _0x1be5e0;return(_0x1be5e0=this['_camera']['shaderPass'+'Info'])==null?void(0x531+-0x1f65+0x1a34):_0x1be5e0['name'];}set['renderPass'+'es'](_0x19cec8){this['_camera']['renderPass'+'es']=_0x19cec8||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0xa37+0x2*0x1b7+-0xda5);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x5b82ea){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x5b82ea;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x51e65f){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x51e65f;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x459d0e){this['_camera']['fogParams']=_0x459d0e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5bd0e4){this['_camera']['aperture']=_0x5bd0e4;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x10540f){this['_camera']['aspectRati'+'o']=_0x10540f;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x4ef1ac){this['_camera']['aspectRati'+'oMode']=_0x4ef1ac;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x3441f2){this['_camera']['calculateP'+'rojection']=_0x3441f2;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x31c347){this['_camera']['calculateT'+'ransform']=_0x31c347;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x2ef6e3){this['_camera']['clearColor']=_0x2ef6e3;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x4c1cd3){this['_camera']['clearColor'+'Buffer']=_0x4c1cd3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x204c3b){this['_camera']['clearDepth'+'Buffer']=_0x204c3b,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x44b754){this['_camera']['clearStenc'+'ilBuffer']=_0x44b754,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x204883){this['_camera']['cullFaces']=_0x204883;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0xc601b6){this['_disablePo'+'stEffectsL'+'ayer']=_0xc601b6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x1a01d0){this['_camera']['farClip']=_0x1a01d0;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x58318d){this['_camera']['flipFaces']=_0x58318d;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x380587){this['_camera']['fov']=_0x380587;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x14bdbc){this['_camera']['frustumCul'+'ling']=_0x14bdbc;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x408358){this['_camera']['horizontal'+'Fov']=_0x408358;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x6f8e4e){const _0x1197dc=this['_camera']['layers'],_0x5ce9dc=this['system']['app']['scene'];_0x1197dc['forEach'](_0x560927=>{const _0x5b17f3=_0x5ce9dc['layers']['getLayerBy'+'Id'](_0x560927);_0x5b17f3==null||_0x5b17f3['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x6f8e4e,this['enabled']&&this['entity']['enabled']&&_0x6f8e4e['forEach'](_0x31d74f=>{const _0xa60d4d=_0x5ce9dc['layers']['getLayerBy'+'Id'](_0x31d74f);_0xa60d4d==null||_0xa60d4d['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x742b5a){this['_camera']['jitter']=_0x742b5a;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x4de3da){this['_camera']['nearClip']=_0x4de3da;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x1b3bff){this['_camera']['orthoHeigh'+'t']=_0x1b3bff;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x1beecb){this['_priority']=_0x1beecb,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x4f7f1a){this['_camera']['projection']=_0x4f7f1a;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x3ca602){this['_camera']['rect']=_0x3ca602,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x45305f){_0x45305f&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x41b*0x2+-0xf8a+0x17c0)),this['_sceneColo'+'rMapReques'+'ted']=!(0xbc4*0x3+-0x1ddc+0x1*-0x570)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x22b5+-0x427*-0x7+0x5a5)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x2b0*0x2+-0x1e3d+0x239e));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x80b+-0xcbc+0x3*0x6ed;}set['renderScen'+'eDepthMap'](_0x36a2ae){_0x36a2ae&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x24e6+-0x5*0x2e7+-0x1663)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x81a*0x3+0x15cf*-0x1+0x2e1d)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x3*0x521+0x35c+-0x1*0x12be)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1b1*0x17+0x1e5b+-0x4541));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x4*0x6d+0x1*0x1c99+-0xff*0x1b;}set['renderTarg'+'et'](_0x590d45){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0xf4d+0x1a94+-0xb47&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x590d45,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x426dac){this['_camera']['scissorRec'+'t']=_0x426dac;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x271aa4){this['_camera']['sensitivit'+'y']=_0x271aa4;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x4c4900){this['_camera']['shutter']=_0x4c4900;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x5f2888){if(this['layers']['find'](_0x46feb7=>_0x46feb7===ps)){const _0x84c7be=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x5f2888?_0x84c7be==null||_0x84c7be['incrementC'+'ounter']():_0x84c7be==null||_0x84c7be['decrementC'+'ounter']();}else{if(_0x5f2888)return!(0x32f*-0xa+-0x5d1*-0x4+0x1b7*0x5);}return!(0x625*-0x3+-0x12a2+0x2511);}['requestSce'+'neColorMap'](_0x293d8c){this['_renderSce'+'neColorMap']+=_0x293d8c?0x172+-0x1fc7+-0xf2b*-0x2:-(-0x25ac+-0x21e5+0x4792),w['assert'](this['_renderSce'+'neColorMap']>=-0x23a4+0x1*-0x25e9+0x498d),this['_enableDep'+'thLayer'](_0x293d8c)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x23ba75){this['_renderSce'+'neDepthMap']+=_0x23ba75?0x12c0+0x17d7+-0x2a96:-(-0x194d+0x617*-0x3+-0x73*-0x61),w['assert'](this['_renderSce'+'neDepthMap']>=-0x1*-0x177d+-0x11ff+-0x57e),this['_enableDep'+'thLayer'](_0x23ba75)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x1f8028=this['system']['app']['scene']['layers'];_0x1f8028['_dirty']=!(0x2420+-0x2*-0x7a+-0x2514);}['screenToWo'+'rld'](_0x2ed836,_0x441e55,_0x3649db,_0x11337f){const _0x454bff=this['system']['app']['graphicsDe'+'vice'],{width:_0x1458e5,height:_0xb9d2f9}=_0x454bff['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x2ed836,_0x441e55,_0x3649db,_0x1458e5,_0xb9d2f9,_0x11337f);}['worldToScr'+'een'](_0x503e6f,_0x34e8fb){const _0x80907a=this['system']['app']['graphicsDe'+'vice'],{width:_0x2eb2db,height:_0x18055f}=_0x80907a['clientRect'];return this['_camera']['worldToScr'+'een'](_0x503e6f,_0x2eb2db,_0x18055f,_0x34e8fb);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0xf46+-0x29b+0x11e1),this['_camera']['_viewProjM'+'atDirty']=!(-0x1f1a+-0x5*-0x71e+0x1c*-0x29);}['addCameraT'+'oLayers'](){const _0x462770=this['layers'];for(let _0x403049=0x11*-0x4b+0x1147+-0x4*0x313;_0x403049<_0x462770['length'];_0x403049++){const _0x922ed8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x462770[_0x403049]);_0x922ed8&&_0x922ed8['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x3bd09f=this['layers'];for(let _0x293cac=0x1653+-0x19fc*-0x1+-0x304f*0x1;_0x293cac<_0x3bd09f['length'];_0x293cac++){const _0x4ce515=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3bd09f[_0x293cac]);_0x4ce515&&_0x4ce515['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x208272,_0x3bc2f9){this['addCameraT'+'oLayers'](),_0x208272['off']('add',this['onLayerAdd'+'ed'],this),_0x208272['off']('remove',this['onLayerRem'+'oved'],this),_0x3bc2f9['on']('add',this['onLayerAdd'+'ed'],this),_0x3bc2f9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x29f966){this['layers']['indexOf'](_0x29f966['id'])<0x155b+0x1a67+0x1*-0x2fc2||_0x29f966['addCamera'](this);}['onLayerRem'+'oved'](_0x557a0e){this['layers']['indexOf'](_0x557a0e['id'])<0x17d5*-0x1+-0x624+0x1df9||_0x557a0e['removeCame'+'ra'](this);}['onEnable'](){var _0x58e96d,_0x2b2954,_0x2e22d8;const _0x26d8f9=this['system']['app']['scene'],_0x1b6c1e=_0x26d8f9['layers'];this['system']['addCamera'](this),(_0x58e96d=this['_evtLayers'+'Changed'])==null||_0x58e96d['off'](),this['_evtLayers'+'Changed']=_0x26d8f9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1b6c1e&&((_0x2b2954=this['_evtLayerA'+'dded'])==null||_0x2b2954['off'](),this['_evtLayerA'+'dded']=_0x1b6c1e['on']('add',this['onLayerAdd'+'ed'],this),(_0x2e22d8=this['_evtLayerR'+'emoved'])==null||_0x2e22d8['off'](),this['_evtLayerR'+'emoved']=_0x1b6c1e['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x254abb,_0x493f5b,_0x56b0fe;const _0x5ae9b1=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x254abb=this['_evtLayers'+'Changed'])==null||_0x254abb['off'](),this['_evtLayers'+'Changed']=null,_0x5ae9b1&&((_0x493f5b=this['_evtLayerA'+'dded'])==null||_0x493f5b['off'](),this['_evtLayerA'+'dded']=null,(_0x56b0fe=this['_evtLayerR'+'emoved'])==null||_0x56b0fe['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x4110a5){const _0x31469a=this['system']['app']['graphicsDe'+'vice'],_0x4d8965=_0x4110a5?_0x4110a5['width']:_0x31469a['width'],_0x4a3fd5=_0x4110a5?_0x4110a5['height']:_0x31469a['height'];return _0x4d8965*this['rect']['z']/(_0x4a3fd5*this['rect']['w']);}['frameUpdat'+'e'](_0x1e80db){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x1e80db));}['startXr'](_0x4cea0e,_0x940992,_0x4f7513){this['system']['app']['xr']['start'](this,_0x4cea0e,_0x940992,_0x4f7513);}['endXr'](_0x225b7a){if(!this['_camera']['xr']){_0x225b7a&&_0x225b7a(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x225b7a);}['copy'](_0x125449){this['aperture']=_0x125449['aperture'],this['aspectRati'+'o']=_0x125449['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x125449['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x125449['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x125449['calculateT'+'ransform'],this['clearColor']=_0x125449['clearColor'],this['clearColor'+'Buffer']=_0x125449['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x125449['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x125449['clearStenc'+'ilBuffer'],this['cullFaces']=_0x125449['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x125449['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x125449['farClip'],this['flipFaces']=_0x125449['flipFaces'],this['fov']=_0x125449['fov'],this['frustumCul'+'ling']=_0x125449['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x125449['horizontal'+'Fov'],this['layers']=_0x125449['layers'],this['nearClip']=_0x125449['nearClip'],this['orthoHeigh'+'t']=_0x125449['orthoHeigh'+'t'],this['priority']=_0x125449['priority'],this['projection']=_0x125449['projection'],this['rect']=_0x125449['rect'],this['renderTarg'+'et']=_0x125449['renderTarg'+'et'],this['scissorRec'+'t']=_0x125449['scissorRec'+'t'],this['sensitivit'+'y']=_0x125449['sensitivit'+'y'],this['shutter']=_0x125449['shutter'];}}class vF{constructor(){this['enabled']=!(0x7d2+-0x1e98+0x16c6);}}const p0=['enabled'];class xF extends ct{constructor(_0x28c096){super(_0x28c096),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x2dc84c,_0x1d6f3d,_0xc84d49){_0xc84d49=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x2b6bae=-0x1ae5+0x18b9*0x1+-0x8b*-0x4;_0x2b6bae<_0xc84d49['length'];_0x2b6bae++){const _0x5c851c=_0xc84d49[_0x2b6bae];if(_0x1d6f3d['hasOwnProp'+'erty'](_0x5c851c)){const _0x2099c4=_0x1d6f3d[_0x5c851c];switch(_0x5c851c){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2099c4)?_0x2dc84c[_0x5c851c]=new re(_0x2099c4[-0x19b6+0x17*0x188+-0x982],_0x2099c4[0x1*-0x19c7+0x236c+-0x269*0x4],_0x2099c4[0x1ba6+0x1*-0x1a42+-0xb1*0x2],_0x2099c4[-0x14c1+0x151a+0x56*-0x1]):_0x2dc84c[_0x5c851c]=_0x2099c4;break;case'clearColor':Array['isArray'](_0x2099c4)?_0x2dc84c[_0x5c851c]=new ie(_0x2099c4[0x27*0xc9+0x357+0x9*-0x3c6],_0x2099c4[-0x1d8c+0x2172*0x1+-0x3e5],_0x2099c4[-0x3*0x23b+-0x458*-0x1+0x25b],_0x2099c4[0xcc3+0x12d*0x18+-0x28f8]):_0x2dc84c[_0x5c851c]=_0x2099c4;break;default:_0x2dc84c[_0x5c851c]=_0x2099c4;break;}}}super['initialize'+'ComponentD'+'ata'](_0x2dc84c,_0x1d6f3d,['enabled']);}['cloneCompo'+'nent'](_0x19ea2e,_0x3706ed){const _0x4bcba3=_0x19ea2e['camera'];return this['addCompone'+'nt'](_0x3706ed,{'aspectRatio':_0x4bcba3['aspectRati'+'o'],'aspectRatioMode':_0x4bcba3['aspectRati'+'oMode'],'calculateProjection':_0x4bcba3['calculateP'+'rojection'],'calculateTransform':_0x4bcba3['calculateT'+'ransform'],'clearColor':_0x4bcba3['clearColor'],'clearColorBuffer':_0x4bcba3['clearColor'+'Buffer'],'clearDepthBuffer':_0x4bcba3['clearDepth'+'Buffer'],'clearStencilBuffer':_0x4bcba3['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x4bcba3['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x4bcba3['renderScen'+'eColorMap'],'cullFaces':_0x4bcba3['cullFaces'],'enabled':_0x4bcba3['enabled'],'farClip':_0x4bcba3['farClip'],'flipFaces':_0x4bcba3['flipFaces'],'fov':_0x4bcba3['fov'],'frustumCulling':_0x4bcba3['frustumCul'+'ling'],'horizontalFov':_0x4bcba3['horizontal'+'Fov'],'layers':_0x4bcba3['layers'],'renderTarget':_0x4bcba3['renderTarg'+'et'],'nearClip':_0x4bcba3['nearClip'],'orthoHeight':_0x4bcba3['orthoHeigh'+'t'],'projection':_0x4bcba3['projection'],'priority':_0x4bcba3['priority'],'rect':_0x4bcba3['rect'],'scissorRect':_0x4bcba3['scissorRec'+'t'],'aperture':_0x4bcba3['aperture'],'sensitivity':_0x4bcba3['sensitivit'+'y'],'shutter':_0x4bcba3['shutter'],'gammaCorrection':_0x4bcba3['gammaCorre'+'ction'],'toneMapping':_0x4bcba3['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x312c03,_0x33aa5a){this['removeCame'+'ra'](_0x33aa5a),_0x33aa5a['onRemove']();}['onAppPrere'+'nder'](){for(let _0x4f4351=-0x68e+-0x13ba+0x1a48,_0x5e9d20=this['cameras']['length'];_0x4f4351<_0x5e9d20;_0x4f4351++)this['cameras'][_0x4f4351]['onAppPrere'+'nder']();}['addCamera'](_0x128567){this['cameras']['push'](_0x128567),ul(this['cameras']);}['removeCame'+'ra'](_0x22699d){const _0xf69bd5=this['cameras']['indexOf'](_0x22699d);_0xf69bd5>=0x1*-0x264a+-0x5*0x5c1+0x430f&&(this['cameras']['splice'](_0xf69bd5,-0x2405*-0x1+0x250e+-0x4912),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x59c*-0x5+-0x1b45+0x7*0x7e7)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x3d*-0x63+-0xb2*0x34+0x3bc0,-0xf7*0x6+-0x308*0xb+-0x2b*-0xe9,-0x1*-0x2190+-0x96*0xd+-0xe5*0x1d)),h(this,'intensity',0x23*-0x79+0x1843+-0x7b7),h(this,'luminance',0x23*0xb5+0x1dd1+-0x1*0x3690),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x1624+-0x1db3*-0x1+-0x78f)),h(this,'castShadow'+'s',!(-0x250c+-0xd8b*0x2+-0x4ef*-0xd)),h(this,'shadowDist'+'ance',0x82b+-0x217d*0x1+0x197a),h(this,'shadowInte'+'nsity',0xfb8+0xf38+-0x1eef),h(this,'shadowReso'+'lution',0x12a4+-0x49*0x39+0x19d),h(this,'shadowBias',0x1ffc+-0xb43+-0x14b9+0.05),h(this,'numCascade'+'s',0x911*-0x2+-0x107f+0x22a2),h(this,'cascadeBle'+'nd',0x7b4*-0x1+-0xe9*-0x1a+0x7fb*-0x2),h(this,'bakeNumSam'+'ples',-0x17d1+0x1*0xd3f+0xa93*0x1),h(this,'bakeArea',0x1151*-0x1+-0x2*-0x81e+0x115),h(this,'cascadeDis'+'tribution',0x1*-0xbcf+-0x16b2+0x323*0xb+0.5),h(this,'normalOffs'+'etBias',0x1ab6+-0x219*0x11+0x8f3),h(this,'range',-0x1e82+-0x2704+0x4590),h(this,'innerConeA'+'ngle',-0x1a53*0x1+0x14*-0x179+0x37ef),h(this,'outerConeA'+'ngle',-0xeb*-0x10+-0x126a+0x3e7),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',-0x11c1+0x40*0x70+-0xa34),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0xa66+0x1ada+-0x2540+0.01)*(-0x1e74+0xd7*0x11+0x102d+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',0x137*0xa+0x4e7+0x1*-0x110c),h(this,'cookieFall'+'off',!(-0x118*-0x4+-0x1041+-0xbe1*-0x1)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x170+0xeb9+-0x7*0x24f),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x1*-0x13a3+-0xf9*0x24+0x36a8),h(this,'affectDyna'+'mic',!(-0x83e+-0x365*-0x8+0x10d*-0x12)),h(this,'affectLigh'+'tmapped',!(-0x1b9c+0x1a4d*0x1+-0x4*-0x54)),h(this,'bake',!(0x69a+0x5*0x66b+-0x1358*0x2)),h(this,'bakeDir',!(0x1601+0x5d7+-0xc6*0x24)),h(this,'isStatic',!(0xca5+-0x129e*-0x2+-0x31e0)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0x96e+0x1b3*0x1+0x12*0x6e),h(this,'penumbraFa'+'lloff',0x6d8*0x4+-0x26ab+0xf1*0xc),h(this,'shadowSamp'+'les',-0x53+-0x2355+0x23b8),h(this,'shadowBloc'+'kerSamples',-0xd6e+-0x1095*-0x1+-0x317);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x2*-0xc0d+-0x3*-0x6e6+-0x2ccb)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x4301bb=this['system']['store'][this['entity']['getGuid']()];return _0x4301bb?_0x4301bb['data']:null;}set['enabled'](_0x15807e){this['_setValue']('enabled',_0x15807e,function(_0x3ec30,_0x3ffef8){this['onSetEnabl'+'ed'](null,_0x3ffef8,_0x3ec30);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x39e333){this['_setValue']('light',_0x39e333);}get['light'](){return this['data']['light'];}set['type'](_0x1ee627){this['_setValue']('type',_0x1ee627,function(_0x15f245,_0x2116fa){this['system']['changeType'](this,_0x2116fa,_0x15f245),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x4abb7d){this['_setValue']('color',_0x4abb7d,function(_0x309a2c,_0x58d7c4){this['light']['setColor'](_0x309a2c);},!(-0x20d+-0x26ae+0x28bb*0x1));}get['color'](){return this['data']['color'];}set['intensity'](_0x4b2fe8){this['_setValue']('intensity',_0x4b2fe8,function(_0x507cbb,_0x48ed9b){this['light']['intensity']=_0x507cbb;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x254cb3){this['_setValue']('luminance',_0x254cb3,function(_0x364800,_0x1408d1){this['light']['luminance']=_0x364800;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x745329){this['_setValue']('shape',_0x745329,function(_0x376d8f,_0x23c17d){this['light']['shape']=_0x376d8f;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x26b502){this['_setValue']('affectSpec'+'ularity',_0x26b502,function(_0x10de0e,_0x566951){this['light']['affectSpec'+'ularity']=_0x10de0e;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5e0b6f){this['_setValue']('castShadow'+'s',_0x5e0b6f,function(_0x41fc26,_0x3c8c12){this['light']['castShadow'+'s']=_0x41fc26;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x43b09f){this['_setValue']('shadowDist'+'ance',_0x43b09f,function(_0xabba81,_0x67d0de){this['light']['shadowDist'+'ance']=_0xabba81;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x21c92b){this['_setValue']('shadowInte'+'nsity',_0x21c92b,function(_0x16d03c,_0x589591){this['light']['shadowInte'+'nsity']=_0x16d03c;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0xc65ecc){this['_setValue']('shadowReso'+'lution',_0xc65ecc,function(_0x4b2bdb,_0x4b2cbe){this['light']['shadowReso'+'lution']=_0x4b2bdb;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x372c26){this['_setValue']('shadowBias',_0x372c26,function(_0x35409c,_0x4467ea){this['light']['shadowBias']=-(0x1d7b+-0x5d*0x27+-0x50*0x31+0.01)*Y['clamp'](_0x35409c,-0x1513*-0x1+0xb0f+0x6*-0x55b,0x27e*-0x3+0x144c+-0x1*0xcd1);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x397c42){this['_setValue']('numCascade'+'s',_0x397c42,function(_0x37dd99,_0x57c11f){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x37dd99),-0x12b+0xad4+-0x3*0x338,-0x89*-0x39+-0x1248+-0x19*0x7d);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x17f797){this['_setValue']('cascadeBle'+'nd',_0x17f797,function(_0x3d88ef,_0x2863c3){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x3d88ef,0x183b+0x1b76+-0x4b3*0xb,0x14ed+-0x52f*-0x1+-0x1a1b);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x54d3f8){this['_setValue']('bakeNumSam'+'ples',_0x54d3f8,function(_0x755aae,_0x2e0095){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x755aae),-0x2*-0x796+-0x3c2+0x1*-0xb69,-0x656+-0x1069+0x17be);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x439708){this['_setValue']('bakeArea',_0x439708,function(_0x910858,_0x5e6b97){this['light']['bakeArea']=Y['clamp'](_0x910858,-0x43*0x42+-0x1cfa+0x40*0xb9,0x136d*0x1+-0x23*0x119+0x13b2);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x54486d){this['_setValue']('cascadeDis'+'tribution',_0x54486d,function(_0x51295c,_0x1e014b){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x51295c,-0x2*-0xef9+-0x733+-0x16bf,0x1*-0x1ec7+0x14a5+0xa23);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x51c728){this['_setValue']('normalOffs'+'etBias',_0x51c728,function(_0x1c28d0,_0x296d97){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x1c28d0,0x1102+0x1a84+-0x2b86,-0x4ac*0x1+-0xc62+0x110f);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x319452){this['_setValue']('range',_0x319452,function(_0x2faa03,_0x538bff){this['light']['attenuatio'+'nEnd']=_0x2faa03;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x584d57){this['_setValue']('innerConeA'+'ngle',_0x584d57,function(_0x1c2270,_0x4c8a5b){this['light']['innerConeA'+'ngle']=_0x1c2270;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x560292){this['_setValue']('outerConeA'+'ngle',_0x560292,function(_0x550ae7,_0x399d83){this['light']['outerConeA'+'ngle']=_0x550ae7;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x385b9e){this['_setValue']('falloffMod'+'e',_0x385b9e,function(_0x40456f,_0x2b02fd){this['light']['falloffMod'+'e']=_0x40456f;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x3327fb){this['_setValue']('shadowType',_0x3327fb,function(_0x290540,_0xa73a55){this['light']['shadowType']=_0x290540;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x4eb67f){this['_setValue']('vsmBlurSiz'+'e',_0x4eb67f,function(_0x300d14,_0x5e3d3c){this['light']['vsmBlurSiz'+'e']=_0x300d14;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x4a5130){this['_setValue']('vsmBlurMod'+'e',_0x4a5130,function(_0xdc37f3,_0x1dfb71){this['light']['vsmBlurMod'+'e']=_0xdc37f3;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x173f7a){this['_setValue']('vsmBias',_0x173f7a,function(_0x105041,_0x592e3e){this['light']['vsmBias']=Y['clamp'](_0x105041,0xe5*0x22+0x1bba+-0x3a24,0x271+0x50d*-0x6+0x1bde);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x2f98ac){this['_setValue']('cookieAsse'+'t',_0x2f98ac,function(_0x5e402e,_0x541594){if(!(this['_cookieAss'+'etId']&&(_0x5e402e instanceof pe&&_0x5e402e['id']===this['_cookieAss'+'etId']||_0x5e402e===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x5e402e instanceof pe)this['data']['cookieAsse'+'t']=_0x5e402e['id'],this['_cookieAss'+'etId']=_0x5e402e['id'],this['onCookieAs'+'setAdd'](_0x5e402e);else{if(typeof _0x5e402e=='number'){this['_cookieAss'+'etId']=_0x5e402e;const _0x2b50d2=this['system']['app']['assets']['get'](_0x5e402e);_0x2b50d2?this['onCookieAs'+'setAdd'](_0x2b50d2):(this['_cookieAss'+'etAdd']=!(0x25*-0xbb+-0x53*0x59+0x137*0x2e),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x472822){this['_setValue']('cookie',_0x472822,function(_0x3cd2d2,_0x19756a){this['light']['cookie']=_0x3cd2d2;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x3fb7e5){this['_setValue']('cookieInte'+'nsity',_0x3fb7e5,function(_0x125d9c,_0x288cc2){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x125d9c,0x34*0x7f+-0x278*0x9+0x2*-0x1ca,0x104f+0xd21+0x1d6f*-0x1);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x21733d){this['_setValue']('cookieFall'+'off',_0x21733d,function(_0x227ace,_0x185a66){this['light']['cookieFall'+'off']=_0x227ace;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x483c2a){this['_setValue']('cookieChan'+'nel',_0x483c2a,function(_0x5dc8a2,_0x1f6c96){this['light']['cookieChan'+'nel']=_0x5dc8a2;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x3d5bc5){this['_setValue']('cookieAngl'+'e',_0x3d5bc5,function(_0x3a3074,_0x2f9128){if(_0x3a3074!==0x1ac5+-0xa3d*0x2+-0x64b||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x305230=-0x22ff*-0x1+-0x4b4+-0x1e4a,_0x342df3=-0x9*0x365+-0x551*-0x1+-0x1f1*-0xd;this['cookieScal'+'e']&&(_0x305230=this['cookieScal'+'e']['x'],_0x342df3=this['cookieScal'+'e']['y']);const _0x1547d3=Math['cos'](_0x3a3074*Y['DEG_TO_RAD']),_0x4a7e97=Math['sin'](_0x3a3074*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1547d3/_0x305230,-_0x4a7e97/_0x305230,_0x4a7e97/_0x342df3,_0x1547d3/_0x342df3),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x151bf8){this['_setValue']('cookieScal'+'e',_0x151bf8,function(_0xfd236d,_0x3f0784){if(_0xfd236d!==null||this['cookieAngl'+'e']!==-0x1280+0xa*0x394+-0x1148){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x484435=_0xfd236d['x'],_0xb32b6e=_0xfd236d['y'],_0x2cd5e8=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x11576b=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x2cd5e8/_0x484435,-_0x11576b/_0x484435,_0x11576b/_0xb32b6e,_0x2cd5e8/_0xb32b6e),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1ec7*-0x1+-0xdeb*0x2+-0x2f1*0x1));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x24d4a5){this['_setValue']('cookieOffs'+'et',_0x24d4a5,function(_0x5be533,_0xf9c5e4){this['light']['cookieOffs'+'et']=_0x5be533;},!(-0x21cc+0x6fa*0x4+0x5e4));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x4f7d42){this['_setValue']('shadowUpda'+'teMode',_0x4f7d42,function(_0x5f2879,_0x3ff363){this['light']['shadowUpda'+'teMode']=_0x5f2879;},!(-0x1*-0x240b+0x1022+-0x342d));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x4be36e){this['_setValue']('mask',_0x4be36e,function(_0x199a66,_0x58e707){this['light']['mask']=_0x199a66;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x260d0a){this['_setValue']('affectDyna'+'mic',_0x260d0a,function(_0x1b5731,_0x3d2242){_0x1b5731?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x1cb593){this['_setValue']('affectLigh'+'tmapped',_0x1cb593,function(_0x1ed4c6,_0x4ed608){_0x1ed4c6?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x3d07ef){this['_setValue']('bake',_0x3d07ef,function(_0x14f3a6,_0x362b75){_0x14f3a6?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x9cd9ec){this['_setValue']('bakeDir',_0x9cd9ec,function(_0x8c422a,_0x1653b7){this['light']['bakeDir']=_0x8c422a;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x2f6838){this['_setValue']('isStatic',_0x2f6838,function(_0x297072,_0x4b0678){this['light']['isStatic']=_0x297072;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x370f54){this['_setValue']('layers',_0x370f54,function(_0x5c5a26,_0x159d48){for(let _0x547218=0x56*0x4b+0x1*-0x1433+-0x4ff;_0x547218<_0x159d48['length'];_0x547218++){const _0x4098b1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x159d48[_0x547218]);_0x4098b1&&(_0x4098b1['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4098b1));}for(let _0x16cd05=-0xde3+-0x9d9+0x17bc;_0x16cd05<_0x5c5a26['length'];_0x16cd05++){const _0x81c045=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5c5a26[_0x16cd05]);_0x81c045&&this['enabled']&&this['entity']['enabled']&&(_0x81c045['addLight'](this),this['light']['addLayer'](_0x81c045));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x8bff84){this['light']['shadowUpda'+'teOverride'+'s']=_0x8bff84;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x227faf){this['light']['shadowSamp'+'les']=_0x227faf;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x442ac1){this['light']['shadowBloc'+'kerSamples']=_0x442ac1;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4b7169){this['light']['penumbraSi'+'ze']=_0x4b7169;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x5e740c){this['light']['penumbraFa'+'lloff']=_0x5e740c;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x25ec96,_0x5a65be,_0x54b0fa,_0x19f159){const _0x3db3d5=this['data'],_0x53c0f2=_0x3db3d5[_0x25ec96];!_0x19f159&&_0x53c0f2===_0x5a65be||(_0x3db3d5[_0x25ec96]=_0x5a65be,_0x54b0fa&&_0x54b0fa['call'](this,_0x5a65be,_0x53c0f2));}['addLightTo'+'Layers'](){for(let _0x77754=-0x14*-0x68+-0x1*0x5de+-0x242;_0x77754<this['layers']['length'];_0x77754++){const _0x22af93=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x77754]);_0x22af93&&(_0x22af93['addLight'](this),this['light']['addLayer'](_0x22af93));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x3d228f=-0x270e*-0x1+-0x20f9+-0x615;_0x3d228f<this['layers']['length'];_0x3d228f++){const _0x2639be=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3d228f]);_0x2639be&&(_0x2639be['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2639be));}}['onLayersCh'+'anged'](_0x2a7644,_0x25a828){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x2a7644['off']('add',this['onLayerAdd'+'ed'],this),_0x2a7644['off']('remove',this['onLayerRem'+'oved'],this),_0x25a828['on']('add',this['onLayerAdd'+'ed'],this),_0x25a828['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1a92d9){this['layers']['indexOf'](_0x1a92d9['id'])>=-0x6aa*0x1+-0x1684*-0x1+-0xfda&&this['enabled']&&this['entity']['enabled']&&(_0x1a92d9['addLight'](this),this['light']['addLayer'](_0x1a92d9));}['onLayerRem'+'oved'](_0x436b06){this['layers']['indexOf'](_0x436b06['id'])>=0x118f+0x2*-0x80f+-0x171&&(_0x436b06['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x436b06));}['refreshPro'+'perties'](){for(let _0x1b16b6=0x43*-0x25+0x76*0x53+0x23*-0xd1;_0x1b16b6<Ho['length'];_0x1b16b6++){const _0x5285c4=Ho[_0x1b16b6];this[_0x5285c4]=this[_0x5285c4];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x4e4f32=!(-0x2527*-0x1+0x1182*0x1+-0x247*0x18);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x8f6*0x4+0xe1f*0x1+0x1*0x15b9),_0x4e4f32=!(0x2e7*-0xb+0x39f+0x1c4e*0x1)),(!this['_cookieAss'+'et']['resource']||_0x4e4f32)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x24d0ac){this['_cookieAss'+'etId']===_0x24d0ac['id']&&(this['_cookieAss'+'et']=_0x24d0ac,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x1*-0x1454+-0x13f6+-0x1*0x5d)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x57a7fb=this['system']['app']['scene'],_0xdeaa75=_0x57a7fb['layers'];this['light']['enabled']=!(0x2437+-0x5*0x1b4+-0x1bb3),this['_evtLayers'+'Changed']=_0x57a7fb['on']('set:layers',this['onLayersCh'+'anged'],this),_0xdeaa75&&(this['_evtLayerA'+'dded']=_0xdeaa75['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xdeaa75['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2dd8d7,_0x494971,_0x3ffe36;const _0x25156e=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x25cc+0x2*0xaad+-0x15*0x2d1),(_0x2dd8d7=this['_evtLayers'+'Changed'])==null||_0x2dd8d7['off'](),this['_evtLayers'+'Changed']=null,_0x25156e&&((_0x494971=this['_evtLayerA'+'dded'])==null||_0x494971['off'](),this['_evtLayerA'+'dded']=null,(_0x3ffe36=this['_evtLayerR'+'emoved'])==null||_0x3ffe36['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x5d03dd){super(_0x5d03dd),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2f43ed,_0x33c2b6){const _0x224bd9={..._0x33c2b6};_0x224bd9['type']||(_0x224bd9['type']=_0x2f43ed['data']['type']),_0x2f43ed['data']['type']=_0x224bd9['type'],_0x224bd9['layers']&&Array['isArray'](_0x224bd9['layers'])&&(_0x224bd9['layers']=_0x224bd9['layers']['slice'](0x59*-0x6a+-0x115a*-0x1+0x1380)),_0x224bd9['color']&&Array['isArray'](_0x224bd9['color'])&&(_0x224bd9['color']=new ie(_0x224bd9['color'][-0x26cb*0x1+-0x1679+0x3d44*0x1],_0x224bd9['color'][0x875*-0x3+0xf6a+-0x1a9*-0x6],_0x224bd9['color'][0x1*-0xcfe+-0x22b1+0x1d*0x1a5])),_0x224bd9['cookieOffs'+'et']&&_0x224bd9['cookieOffs'+'et']instanceof Array&&(_0x224bd9['cookieOffs'+'et']=new J(_0x224bd9['cookieOffs'+'et'][-0x1*0x449+-0x2*0x1303+0x2a4f],_0x224bd9['cookieOffs'+'et'][-0x1080+0x997+-0x6ea*-0x1])),_0x224bd9['cookieScal'+'e']&&_0x224bd9['cookieScal'+'e']instanceof Array&&(_0x224bd9['cookieScal'+'e']=new J(_0x224bd9['cookieScal'+'e'][0x2*-0x119b+-0x86a+-0xae8*-0x4],_0x224bd9['cookieScal'+'e'][-0x24b1+-0xbf*-0x29+0x1*0x61b])),_0x224bd9['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x224bd9['enabled']=_0x224bd9['enable']),_0x224bd9['shape']||(_0x224bd9['shape']=Ys);const _0x1173b0=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x1173b0['type']=fu[_0x224bd9['type']],_0x1173b0['_node']=_0x2f43ed['entity'],_0x2f43ed['data']['light']=_0x1173b0,super['initialize'+'ComponentD'+'ata'](_0x2f43ed,_0x224bd9,Ho);}['_onRemoveC'+'omponent'](_0x5f2ef7,_0x20b306){_0x20b306['onRemove']();}['cloneCompo'+'nent'](_0x48ec35,_0x3aaa97){const _0x1125b0=_0x48ec35['light'],_0x38c236=[];let _0x6b70e3;for(let _0x33acba=-0x14d+-0x1*0x1ed3+0x2*0x1010;_0x33acba<Ho['length'];_0x33acba++)_0x6b70e3=Ho[_0x33acba],_0x6b70e3!=='light'&&(_0x1125b0[_0x6b70e3]&&_0x1125b0[_0x6b70e3]['clone']?_0x38c236[_0x6b70e3]=_0x1125b0[_0x6b70e3]['clone']():_0x38c236[_0x6b70e3]=_0x1125b0[_0x6b70e3]);return this['addCompone'+'nt'](_0x3aaa97,_0x38c236);}['changeType'](_0x526e2d,_0x3a70c4,_0xa20afb){_0x3a70c4!==_0xa20afb&&(_0x526e2d['light']['type']=fu[_0xa20afb]);}}const EF=['x','y','z','w'],bF=[void(-0x10c8*-0x1+0x4*-0x289+-0x22*0x32),void(-0x1*-0x149f+0x23d2+-0x3871),J,D,re];function Yn(_0x1df73d,_0x527b63,_0xd2ef7c,_0x4ffec8){switch(_0x527b63['type']){case'boolean':return!!_0xd2ef7c;case'number':if(typeof _0xd2ef7c=='number')return _0xd2ef7c;if(typeof _0xd2ef7c=='string'){const _0x289bbb=parseInt(_0xd2ef7c,0x4*0x727+-0x93*-0x42+0xb14*-0x6);return isNaN(_0x289bbb)?null:_0x289bbb;}else{if(typeof _0xd2ef7c=='boolean')return-0x15a8+0x11b1+0x1*0x3f7+_0xd2ef7c;}return null;case'json':{const _0x208b7d={};if(Array['isArray'](_0x527b63['schema'])){(!_0xd2ef7c||typeof _0xd2ef7c!='object')&&(_0xd2ef7c={});for(let _0x48f20f=-0xcd8+0x24cb+0x17f3*-0x1;_0x48f20f<_0x527b63['schema']['length'];_0x48f20f++){const _0x8e3e93=_0x527b63['schema'][_0x48f20f];if(_0x8e3e93['name']){if(_0x8e3e93['array']){_0x208b7d[_0x8e3e93['name']]=[];const _0x28d65b=Array['isArray'](_0xd2ef7c[_0x8e3e93['name']])?_0xd2ef7c[_0x8e3e93['name']]:[];for(let _0x1ede63=-0x1051+-0xa*0x6b+0x147f;_0x1ede63<_0x28d65b['length'];_0x1ede63++)_0x208b7d[_0x8e3e93['name']]['push'](Yn(_0x1df73d,_0x8e3e93,_0x28d65b[_0x1ede63]));}else{const _0x3f0a87=_0xd2ef7c['hasOwnProp'+'erty'](_0x8e3e93['name'])?_0xd2ef7c[_0x8e3e93['name']]:_0x8e3e93['default'];_0x208b7d[_0x8e3e93['name']]=Yn(_0x1df73d,_0x8e3e93,_0x3f0a87);}}}}return _0x208b7d;}case'asset':return _0xd2ef7c instanceof pe?_0xd2ef7c:typeof _0xd2ef7c=='number'?_0x1df73d['assets']['get'](_0xd2ef7c)||null:typeof _0xd2ef7c=='string'&&_0x1df73d['assets']['get'](parseInt(_0xd2ef7c,-0x23c8+-0x5b0+0x8a*0x4d))||null;case'entity':return _0xd2ef7c instanceof Ie?_0xd2ef7c:typeof _0xd2ef7c=='string'?_0x1df73d['getEntityF'+'romIndex'](_0xd2ef7c):null;case'rgb':case'rgba':if(_0xd2ef7c instanceof ie)return _0x4ffec8 instanceof ie?(_0x4ffec8['copy'](_0xd2ef7c),_0x4ffec8):_0xd2ef7c['clone']();if(_0xd2ef7c instanceof Array&&_0xd2ef7c['length']>=-0xaf7+0x26dc+0x1*-0x1be2&&_0xd2ef7c['length']<=0x1db0+0x2*-0x181+-0x2*0xd55){for(let _0x275713=-0x2*-0x3a2+-0x1519+0xdd5;_0x275713<_0xd2ef7c['length'];_0x275713++)if(typeof _0xd2ef7c[_0x275713]!='number')return null;return _0x4ffec8||(_0x4ffec8=new ie()),_0x4ffec8['r']=_0xd2ef7c[-0x1ebe+0x706*-0x1+0x25c4],_0x4ffec8['g']=_0xd2ef7c[0x1f21+-0x25b8+0x4*0x1a6],_0x4ffec8['b']=_0xd2ef7c[0x1*0x26f9+0x2*0xd7+-0x28a5],_0x4ffec8['a']=_0xd2ef7c['length']===0x1*0x43+-0x1d61+0x1d21?0x52d*0x6+-0x1892+-0xed*0x7:_0xd2ef7c[-0x133*-0x1d+-0x2be+-0x2006],_0x4ffec8;}else{if(typeof _0xd2ef7c=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0xd2ef7c))return _0x4ffec8||(_0x4ffec8=new ie()),_0x4ffec8['fromString'](_0xd2ef7c),_0x4ffec8;}return null;case'vec2':case'vec3':case'vec4':{const _0x2af827=parseInt(_0x527b63['type']['slice'](0x1971+0xab9+-0x73b*0x5),0xc7b+-0xc11*0x3+0x17c2),_0x5697fa=bF[_0x2af827];if(_0xd2ef7c instanceof _0x5697fa)return _0x4ffec8 instanceof _0x5697fa?(_0x4ffec8['copy'](_0xd2ef7c),_0x4ffec8):_0xd2ef7c['clone']();if(_0xd2ef7c instanceof Array&&_0xd2ef7c['length']===_0x2af827){for(let _0x579ba6=0xca4+-0x257c+-0xf*-0x1a8;_0x579ba6<_0xd2ef7c['length'];_0x579ba6++)if(typeof _0xd2ef7c[_0x579ba6]!='number')return null;_0x4ffec8||(_0x4ffec8=new _0x5697fa());for(let _0x3b8736=0x19b6+0x1c09+-0x35bf;_0x3b8736<_0x2af827;_0x3b8736++)_0x4ffec8[EF[_0x3b8736]]=_0xd2ef7c[_0x3b8736];return _0x4ffec8;}return null;}case'curve':if(_0xd2ef7c){let _0x59de1c;if(_0xd2ef7c instanceof qs||_0xd2ef7c instanceof na)_0x59de1c=_0xd2ef7c['clone']();else{const _0x2de733=_0xd2ef7c['keys'][-0x222b+-0xe4c+0x3077]instanceof Array?na:qs;_0x59de1c=new _0x2de733(_0xd2ef7c['keys']),_0x59de1c['type']=_0xd2ef7c['type'];}return _0x59de1c;}break;}return _0xd2ef7c;}function _0(_0x1c9b70,_0x26e439,_0x3234b0,_0x41ff7a){return _0x26e439['array']?_0x3234b0['map']((_0x5202cb,_0x3b2bdf)=>Yn(_0x1c9b70,_0x26e439,_0x5202cb,_0x41ff7a?_0x41ff7a[_0x3b2bdf]:null)):Yn(_0x1c9b70,_0x26e439,_0x3234b0,_0x41ff7a);}function g0(_0x32edd8,_0x5cd8db,_0x31b542,_0x3f913b){if(_0x31b542)for(const _0x390165 in _0x5cd8db){const _0x23393c=_0x5cd8db[_0x390165],_0xbc36a1=_0x31b542[_0x390165];_0xbc36a1!==void(-0x23e*0x5+0x445+0x6f1*0x1)&&(_0x3f913b[_0x390165]=_0(_0x32edd8,_0x23393c,_0xbc36a1,_0x3f913b[_0x390165]));}}const yn=class yn{constructor(_0x235e81){this['scriptType']=_0x235e81,this['index']={};}['add'](_0x230802,_0x24f97f){if(this['index'][_0x230802]){w['warn']('attribute\x20'+'\x27'+_0x230802+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x230802)){w['warn']('attribute\x20'+'\x27'+_0x230802+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x230802]=_0x24f97f,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x230802,{'get':function(){return this['__attribut'+'es'][_0x230802];},'set':function(_0x448fcd){const _0x4a9399='attr',_0x525b57='attr:'+_0x230802,_0x214b82=this['__attribut'+'es'][_0x230802];let _0x3a8583=_0x214b82;if(_0x214b82&&_0x24f97f['type']!=='json'&&_0x24f97f['type']!=='entity'&&_0x214b82['clone']&&(this['hasEvent'](_0x4a9399)||this['hasEvent'](_0x525b57))&&(_0x3a8583=_0x214b82['clone']()),_0x24f97f['array']){if(this['__attribut'+'es'][_0x230802]=[],_0x448fcd){for(let _0x5e3fd1=0x1d2*-0x1+-0x13*-0xc2+0x2*-0x64a,_0x24ba46=_0x448fcd['length'];_0x5e3fd1<_0x24ba46;_0x5e3fd1++)this['__attribut'+'es'][_0x230802]['push'](Yn(this['app'],_0x24f97f,_0x448fcd[_0x5e3fd1],_0x214b82?_0x214b82[_0x5e3fd1]:null));}}else this['__attribut'+'es'][_0x230802]=Yn(this['app'],_0x24f97f,_0x448fcd,_0x214b82);this['fire'](_0x4a9399,_0x230802,this['__attribut'+'es'][_0x230802],_0x3a8583),this['fire'](_0x525b57,this['__attribut'+'es'][_0x230802],_0x3a8583);}});}['remove'](_0x5b5047){return this['index'][_0x5b5047]?(delete this['index'][_0x5b5047],delete this['scriptType']['prototype'][_0x5b5047],!(-0x6*0x8b+-0x1*-0x37c+-0x3a*0x1)):!(-0x34*0x4a+0x21b3*-0x1+-0xc2f*-0x4);}['has'](_0x2129cc){return!!this['index'][_0x2129cc];}['get'](_0x7a6a87){return this['index'][_0x7a6a87]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x25d5d7){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x25d5d7);}set['enabled'](_0x36ec0c){this['_enabled']=!!_0x36ec0c,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1098+-0x12b4+0x21c),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x3ad+0x2*0x626+0x1*-0x89f),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x1382d2){const _0x5ef674=this['constructo'+'r'];w['assert'](_0x1382d2&&_0x1382d2['app']&&_0x1382d2['entity'],'script\x20['+_0x5ef674['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x1382d2['app'],this['entity']=_0x1382d2['entity'],this['_enabled']=typeof _0x1382d2['enabled']=='boolean'?_0x1382d2['enabled']:!(-0x2111*-0x1+0x1617+-0x3728),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x1375*0x2+0x1c6b+-0xc0*-0xe),this['__scriptTy'+'pe']=_0x5ef674,this['__executio'+'nOrder']=-(0x3cb+-0x25bc+0x21f2*0x1);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x2d34aa){if(typeof _0x2d34aa!='function')return;if(_0x2d34aa['scriptName'])return _0x2d34aa['scriptName'];if('name'in Function['prototype'])return _0x2d34aa['name'];if(_0x2d34aa===Function||_0x2d34aa===Function['prototype']['constructo'+'r'])return'Function';const _0x5eea2c=(''+_0x2d34aa)['match'](MF);return _0x5eea2c?_0x5eea2c[0x1b18+0x2533+-0x404a]:void(0x1fd9+-0x5f9*-0x5+-0x3db6);}class Wo extends ts{constructor(_0x373653){super(_0x373653),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x373653);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x1c8dfa){ts['prototype']['initScript']['call'](this,_0x1c8dfa),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x1c8dfa['attributes']||{};}['initScript'+'Type'](_0x7c44ba){this['initScript'](_0x7c44ba);}['__initiali'+'zeAttribut'+'es'](_0x2294b0){if(!(!_0x2294b0&&!this['__attribut'+'esRaw'])){for(const _0x1dcc9c in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1dcc9c)?this[_0x1dcc9c]=this['__attribut'+'esRaw'][_0x1dcc9c]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1dcc9c)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1dcc9c]['hasOwnProp'+'erty']('default')?this[_0x1dcc9c]=this['__scriptTy'+'pe']['attributes']['index'][_0x1dcc9c]['default']:this[_0x1dcc9c]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x42a38b){for(const _0x20c56f in _0x42a38b)_0x42a38b['hasOwnProp'+'erty'](_0x20c56f)&&(this['prototype'][_0x20c56f]=_0x42a38b[_0x20c56f]);}}const DF=_0xe7f2fa=>_0xe7f2fa[-0x255a+0x5c+0x24fe]['toLowerCas'+'e']()+_0xe7f2fa['substring'](-0x1*0x570+0x1c8e+-0x171d);class Ii extends we{constructor(_0x313ee9,_0x9e284b){super(_0x313ee9,_0x9e284b),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x151f*-0x1+0x19f6+0x2f14*-0x1),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0xd38+0xb3*-0x6+-0x906),this['_enabled']=!(0x18f4*-0x1+0xe4b+0xaa9),this['_beingEnab'+'led']=!(-0x140a+0x22a*0x7+-0x1*-0x4e5),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1b16+0x232f*-0x1+0x3e46),this['_execution'+'Order']=-(-0x1*-0x101b+0x1*0x2203+-0x1*0x321d),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x26f295){this['_scriptsDa'+'ta']=_0x26f295;for(const _0x1cb243 in _0x26f295){if(!_0x26f295['hasOwnProp'+'erty'](_0x1cb243))continue;const _0x497f43=this['_scriptsIn'+'dex'][_0x1cb243];if(_0x497f43){if(typeof _0x26f295[_0x1cb243]['enabled']=='boolean'&&(_0x497f43['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x497f43);}),_0x497f43['enabled']=!!_0x26f295[_0x1cb243]['enabled']),typeof _0x26f295[_0x1cb243]['attributes']=='object'){for(const _0x3d5e45 in _0x26f295[_0x1cb243]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x3d5e45)){if(!_0x497f43['__attribut'+'es']['hasOwnProp'+'erty'](_0x3d5e45)){const _0x39b1ee=this['system']['app']['scripts']['get'](_0x1cb243);_0x39b1ee&&_0x39b1ee['attributes']['add'](_0x3d5e45,{});}_0x497f43[_0x3d5e45]=_0x26f295[_0x1cb243]['attributes'][_0x3d5e45];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x1096fd){const _0x375bfa=this['_enabled'];this['_enabled']=_0x1096fd,this['fire']('set','enabled',_0x375bfa,_0x1096fd);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x1851+0x9c6+0xe8b),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0xaee+-0x11b9+-0x4*-0x72a);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x2de039=this['_beginLoop'+'ing']();for(let _0x341158=0x1ef1+-0x4*0x962+0x697,_0x407477=this['scripts']['length'];_0x341158<_0x407477;_0x341158++){const _0x31f9a0=this['scripts'][_0x341158];_0x31f9a0['_initializ'+'ed']&&!_0x31f9a0['_postIniti'+'alized']&&_0x31f9a0['enabled']&&(_0x31f9a0['_postIniti'+'alized']=!(-0xb70+0x53e+0x632),_0x31f9a0['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x31f9a0,zu));}this['_endLoopin'+'g'](_0x2de039);}['_beginLoop'+'ing'](){const _0xab9670=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x1573+-0xc6+-0x14ad),_0xab9670;}['_endLoopin'+'g'](_0x5c8bd1){this['_isLooping'+'ThroughScr'+'ipts']=_0x5c8bd1,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4b073f,_0x3b5391,_0x2a928f){this['_beingEnab'+'led']=!(0x1*0x4c4+0x1*0x18df+0x1*-0x1da3),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x10be+-0xa*-0xa+-0x1121);}['_checkStat'+'e'](){const _0x1dac6c=this['enabled']&&this['entity']['enabled'];if(_0x1dac6c===this['_oldState'])return;this['_oldState']=_0x1dac6c,this['fire'](_0x1dac6c?'enable':'disable'),this['fire']('state',_0x1dac6c),_0x1dac6c?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x2373f3=this['_beginLoop'+'ing']();for(let _0x28dfac=-0x1*0x14b1+0x25e2+-0x5bb*0x3,_0xd45e00=this['scripts']['length'];_0x28dfac<_0xd45e00;_0x28dfac++){const _0x272d5f=this['scripts'][_0x28dfac];_0x272d5f['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x272d5f);}),_0x272d5f['enabled']=_0x272d5f['_enabled'];}this['_endLoopin'+'g'](_0x2373f3);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x5206bb=this['_beginLoop'+'ing']();for(let _0x59718c=0x1fea+-0xe8c*-0x1+-0x2e76;_0x59718c<this['scripts']['length'];_0x59718c++){const _0x3bb8eb=this['scripts'][_0x59718c];_0x3bb8eb&&this['destroy'](_0x3bb8eb['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x5206bb);}['_removeDes'+'troyedScri'+'pts'](){const _0x51d8ec=this['_destroyed'+'Scripts']['length'];if(_0x51d8ec){for(let _0x210b99=0x59d*0x1+-0x1*-0x151+-0x6ee;_0x210b99<_0x51d8ec;_0x210b99++){const _0x3a7205=this['_destroyed'+'Scripts'][_0x210b99];this['_removeScr'+'iptInstanc'+'e'](_0x3a7205);}this['_destroyed'+'Scripts']['length']=-0x278+0x1*-0x13eb+0x1663,this['_resetExec'+'utionOrder'](0x18fe*-0x1+0x6a9+0xf7*0x13,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2966ef=0x1c98+-0x2414+0x77c*0x1,_0x47edcf=this['scripts']['length'];_0x2966ef<_0x47edcf;_0x2966ef++){const _0x1d264a=this['scripts'][_0x2966ef];this['initialize'+'Attributes'](_0x1d264a);}}['initialize'+'Attributes'](_0x89ddfe){var _0x5077f8;if(_0x89ddfe instanceof Wo)_0x89ddfe['__initiali'+'zeAttribut'+'es']();else{const _0x33618c=_0x89ddfe['__scriptTy'+'pe']['__name'],_0x40b386=this['_attribute'+'DataMap']['get'](_0x33618c);if(!_0x40b386)return;const _0x5ce2d4=(_0x5077f8=this['system']['app']['scripts'])==null?void(0x2*0x79b+0x929*0x2+-0x3a*0x94):_0x5077f8['getSchema'](_0x33618c);_0x5ce2d4||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x33618c+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x5ce2d4['attributes'],_0x40b386,_0x89ddfe);}}['_scriptMet'+'hod'](_0x3c693c,_0x2951b1,_0x2ee8a8){try{_0x3c693c[_0x2951b1](_0x2ee8a8);}catch(_0x556fe5){_0x3c693c['enabled']=!(0x25e0+0x407*0x7+-0x4210),_0x3c693c['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x2951b1+'\x22\x20for\x20\x22'+_0x3c693c['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x556fe5),console['error'](_0x556fe5)),_0x3c693c['fire']('error',_0x556fe5,_0x2951b1),this['fire']('error',_0x3c693c,_0x556fe5,_0x2951b1);}}['_onInitial'+'ize'](){const _0x1212cd=this['_scripts'],_0x509bd9=this['_beginLoop'+'ing']();for(let _0x3b1b52=-0x9*-0x275+-0x8*0x206+-0x5ed,_0x9f0daa=_0x1212cd['length'];_0x3b1b52<_0x9f0daa;_0x3b1b52++){const _0x5a8dad=_0x1212cd[_0x3b1b52];!_0x5a8dad['_initializ'+'ed']&&_0x5a8dad['enabled']&&(_0x5a8dad['_initializ'+'ed']=!(0x24c4+0xd63+0x3227*-0x1),_0x5a8dad['initialize']&&this['_scriptMet'+'hod'](_0x5a8dad,Bu));}this['_endLoopin'+'g'](_0x509bd9);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1c7108){const _0x29a9ad=this['_updateLis'+'t'];if(!_0x29a9ad['length'])return;const _0x47ded5=this['_beginLoop'+'ing']();for(_0x29a9ad['loopIndex']=0x126d*0x2+0x16a*-0x14+-0x892*0x1;_0x29a9ad['loopIndex']<_0x29a9ad['length'];_0x29a9ad['loopIndex']++){const _0x289cea=_0x29a9ad['items'][_0x29a9ad['loopIndex']];_0x289cea['enabled']&&this['_scriptMet'+'hod'](_0x289cea,AF,_0x1c7108);}this['_endLoopin'+'g'](_0x47ded5);}['_onPostUpd'+'ate'](_0x39dddc){const _0x543648=this['_postUpdat'+'eList'];if(!_0x543648['length'])return;const _0xd647b=this['_beginLoop'+'ing']();for(_0x543648['loopIndex']=-0x1953+0xd90+0x1*0xbc3;_0x543648['loopIndex']<_0x543648['length'];_0x543648['loopIndex']++){const _0x136c13=_0x543648['items'][_0x543648['loopIndex']];_0x136c13['enabled']&&this['_scriptMet'+'hod'](_0x136c13,CF,_0x39dddc);}this['_endLoopin'+'g'](_0xd647b);}['_insertScr'+'iptInstanc'+'e'](_0x5bb31e,_0x1dc218,_0x2d2d55){_0x1dc218===-(-0x1c33*-0x1+0x1*0x1876+-0x34a8)?(this['_scripts']['push'](_0x5bb31e),_0x5bb31e['__executio'+'nOrder']=_0x2d2d55,_0x5bb31e['update']&&this['_updateLis'+'t']['append'](_0x5bb31e),_0x5bb31e['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x5bb31e)):(this['_scripts']['splice'](_0x1dc218,-0x2*0xaed+-0x2197*-0x1+-0xbbd*0x1,_0x5bb31e),_0x5bb31e['__executio'+'nOrder']=_0x1dc218,this['_resetExec'+'utionOrder'](_0x1dc218+(0x1615+-0x13c3+-0x251),_0x2d2d55+(0x6a1+-0x9*0x2ab+0x1163)),_0x5bb31e['update']&&this['_updateLis'+'t']['insert'](_0x5bb31e),_0x5bb31e['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x5bb31e));}['_removeScr'+'iptInstanc'+'e'](_0xe66590){const _0xe5cfd2=this['_scripts']['indexOf'](_0xe66590);return _0xe5cfd2===-(0x117d+0x17ee+-0x296a)||(this['_scripts']['splice'](_0xe5cfd2,0x82+0x13da+-0x145b),_0xe66590['update']&&this['_updateLis'+'t']['remove'](_0xe66590),_0xe66590['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0xe66590)),_0xe5cfd2;}['_resetExec'+'utionOrder'](_0x2c3eaf,_0x153634){for(let _0x3ad5c2=_0x2c3eaf;_0x3ad5c2<_0x153634;_0x3ad5c2++)this['_scripts'][_0x3ad5c2]['__executio'+'nOrder']=_0x3ad5c2;}['_resolveEn'+'tityScript'+'Attribute'](_0x1702a2,_0x3237b2,_0x2a0433,_0x219c35,_0x1c193c,_0x26a716){if(_0x1702a2['array']){const _0x130c11=_0x2a0433['length'];if(!_0x130c11)return;const _0x5b8bf7=_0x2a0433['slice']();for(let _0x1b18ce=-0x1a9c+-0x1*0xd31+-0x1bb*-0x17;_0x1b18ce<_0x130c11;_0x1b18ce++){const _0xbc7152=_0x5b8bf7[_0x1b18ce]instanceof lt?_0x5b8bf7[_0x1b18ce]['getGuid']():_0x5b8bf7[_0x1b18ce];_0x26a716[_0xbc7152]&&(_0x5b8bf7[_0x1b18ce]=_0x219c35?_0x26a716[_0xbc7152]['getGuid']():_0x26a716[_0xbc7152]);}_0x1c193c[_0x3237b2]=_0x5b8bf7;}else{if(_0x2a0433 instanceof lt)_0x2a0433=_0x2a0433['getGuid']();else{if(typeof _0x2a0433!='string')return;}_0x26a716[_0x2a0433]&&(_0x1c193c[_0x3237b2]=_0x26a716[_0x2a0433]);}}['has'](_0x2b5b22){if(typeof _0x2b5b22=='string')return!!this['_scriptsIn'+'dex'][_0x2b5b22];if(!_0x2b5b22)return!(0xad0*0x3+-0x177f+0x23c*-0x4);const _0x3f4ac0=_0x2b5b22,_0x5e80da=_0x3f4ac0['__name'],_0x1b2c65=this['_scriptsIn'+'dex'][_0x5e80da];return(_0x1b2c65&&_0x1b2c65['instance'])instanceof _0x3f4ac0;}['get'](_0x5220fe){if(typeof _0x5220fe=='string'){const _0x5653e2=this['_scriptsIn'+'dex'][_0x5220fe];return _0x5653e2?_0x5653e2['instance']:null;}if(!_0x5220fe)return null;const _0x5062d6=_0x5220fe,_0x27e9c7=_0x5062d6['__name'],_0x571fa6=this['_scriptsIn'+'dex'][_0x27e9c7],_0x77e1bf=_0x571fa6&&_0x571fa6['instance'];return _0x77e1bf instanceof _0x5062d6?_0x77e1bf:null;}['create'](_0x1a738a,_0x489ae0={}){const _0x2b01a2=this;let _0x4474d6=_0x1a738a,_0x2d3f6a=_0x1a738a;if(typeof _0x4474d6=='string')_0x4474d6=this['system']['app']['scripts']['get'](_0x4474d6);else{if(_0x4474d6){const _0x18ed71=S0(_0x4474d6),_0x30dab7=DF(_0x18ed71);!(_0x4474d6['prototype']instanceof Wo)&&!_0x4474d6['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x18ed71+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x18ed71+('.scriptNam'+'e\x20=\x20\x22')+_0x30dab7+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x4474d6['__name']??(_0x4474d6['__name']=_0x4474d6['scriptName']??_0x30dab7),_0x2d3f6a=_0x4474d6['__name'];}}if(_0x4474d6){if(!this['_scriptsIn'+'dex'][_0x2d3f6a]||!this['_scriptsIn'+'dex'][_0x2d3f6a]['instance']){const _0x12e3b5=new _0x4474d6({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x489ae0['hasOwnProp'+'erty']('enabled')?_0x489ae0['enabled']:!(-0xb3f*0x1+-0x245*-0x8+0x1d*-0x3d),'attributes':_0x489ae0['attributes']||{}});_0x489ae0['properties']&&typeof _0x489ae0['properties']=='object'&&Object['assign'](_0x12e3b5,_0x489ae0['properties']),_0x12e3b5 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x2d3f6a,_0x489ae0['attributes']);const _0x81acff=this['_scripts']['length'];let _0x5bce3f=-(0x25f8+0x4a6*-0x2+0x1*-0x1cab);return typeof _0x489ae0['ind']=='number'&&_0x489ae0['ind']!==-(0x1670+-0x19a2+-0xd*-0x3f)&&_0x81acff>_0x489ae0['ind']&&(_0x5bce3f=_0x489ae0['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x12e3b5,_0x5bce3f,_0x81acff),this['_scriptsIn'+'dex'][_0x2d3f6a]={'instance':_0x12e3b5,'onSwap':function(){_0x2b01a2['swap'](_0x2d3f6a);}},this[_0x2d3f6a]=_0x12e3b5,_0x489ae0['preloading']||this['initialize'+'Attributes'](_0x12e3b5),this['fire']('create',_0x2d3f6a,_0x12e3b5),this['fire']('create:'+_0x2d3f6a,_0x12e3b5),this['system']['app']['scripts']['on']('swap:'+_0x2d3f6a,this['_scriptsIn'+'dex'][_0x2d3f6a]['onSwap']),_0x489ae0['preloading']||(_0x12e3b5['enabled']&&!_0x12e3b5['_initializ'+'ed']&&(_0x12e3b5['_initializ'+'ed']=!(0x6f6+0x415+-0xb0b),_0x12e3b5['initialize']&&this['_scriptMet'+'hod'](_0x12e3b5,Bu)),_0x12e3b5['enabled']&&!_0x12e3b5['_postIniti'+'alized']&&(_0x12e3b5['_postIniti'+'alized']=!(0x1b65+0x883+-0x23e8),_0x12e3b5['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x12e3b5,zu))),_0x12e3b5;}w['warn']('script\x20\x27'+_0x2d3f6a+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x2d3f6a]={'awaiting':!(-0x1*-0x70+0xc44+-0xcb4),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x2d3f6a+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x57edfb){let _0xdda877=_0x57edfb,_0x671bda=_0x57edfb;typeof _0x671bda=='string'?_0x671bda=this['system']['app']['scripts']['get'](_0x671bda):_0x671bda&&(_0xdda877=_0x671bda['__name']);const _0x1c968d=this['_scriptsIn'+'dex'][_0xdda877];if(delete this['_scriptsIn'+'dex'][_0xdda877],!_0x1c968d)return!(-0x25bf+0x24af+0x111);this['_attribute'+'DataMap']['delete'](_0xdda877);const _0x2eda6a=_0x1c968d['instance'];if(_0x2eda6a&&!_0x2eda6a['_destroyed']){if(_0x2eda6a['enabled']=!(-0x2*0x853+-0x613+-0x16ba*-0x1),_0x2eda6a['_destroyed']=!(0x3*0x283+0x4*-0x4f3+0xc43),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2eda6a);else{const _0x3fcffa=this['_removeScr'+'iptInstanc'+'e'](_0x2eda6a);_0x3fcffa>=-0x19bd+-0xda9+0x2766&&this['_resetExec'+'utionOrder'](_0x3fcffa,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0xdda877,_0x1c968d['onSwap']),delete this[_0xdda877],this['fire']('destroy',_0xdda877,_0x2eda6a||null),this['fire']('destroy:'+_0xdda877,_0x2eda6a||null),_0x2eda6a&&_0x2eda6a['fire']('destroy'),!(0xb7b*-0x2+-0x2301+0x39f7);}['swap'](_0x389b12){let _0x2ae6ea=_0x389b12,_0x2b0713=_0x389b12;typeof _0x2b0713=='string'?_0x2b0713=this['system']['app']['scripts']['get'](_0x2b0713):_0x2b0713&&(_0x2ae6ea=_0x2b0713['__name']);const _0x178fc3=this['_scriptsIn'+'dex'][_0x2ae6ea];if(!_0x178fc3||!_0x178fc3['instance'])return!(-0x126+-0x1*0x73b+0x862);const _0x1aeebb=_0x178fc3['instance'],_0xfb0bcb=this['_scripts']['indexOf'](_0x1aeebb),_0xfe942c=new _0x2b0713({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1aeebb['enabled'],'attributes':_0x1aeebb['__attribut'+'es']});return _0xfe942c['swap']?(this['initialize'+'Attributes'](_0xfe942c),this['_scripts'][_0xfb0bcb]=_0xfe942c,this['_scriptsIn'+'dex'][_0x2ae6ea]['instance']=_0xfe942c,this[_0x2ae6ea]=_0xfe942c,_0xfe942c['__executio'+'nOrder']=_0xfb0bcb,_0x1aeebb['update']&&this['_updateLis'+'t']['remove'](_0x1aeebb),_0x1aeebb['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1aeebb),_0xfe942c['update']&&this['_updateLis'+'t']['insert'](_0xfe942c),_0xfe942c['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0xfe942c),this['_scriptMet'+'hod'](_0xfe942c,PF,_0x1aeebb),this['fire']('swap',_0x2ae6ea,_0xfe942c),this['fire']('swap:'+_0x2ae6ea,_0xfe942c),!(-0x1*-0x1dbd+-0x48d*0x8+0x6ab)):!(0x2393*0x1+-0x1c75+-0x71d);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x372317,_0x58818e){var _0x49a98b,_0x336b4f,_0x28925d;const _0x219019=this['entity']['script'];for(const _0x3053f in _0x372317['_scriptsIn'+'dex']){const _0x426288=this['system']['app']['scripts']['get'](_0x3053f);if(!_0x426288)continue;const _0x3cef9a=_0x372317['_scriptsIn'+'dex'][_0x3053f];if(!_0x3cef9a||!_0x3cef9a['instance'])continue;const _0x2b848f=_0x219019[_0x3053f]['__attribut'+'esRaw']??_0x219019['_attribute'+'DataMap']['get'](_0x3053f),_0x20230b=_0x219019[_0x3053f]['__attribut'+'es'];if(!_0x2b848f&&!_0x20230b)continue;const _0x53cd36=!!_0x2b848f,_0x3537bf=_0x3cef9a['instance']['__attribut'+'es']??_0x219019['_attribute'+'DataMap']['get'](_0x3053f);for(const _0x2c8e9a in _0x3537bf){if(!_0x3537bf[_0x2c8e9a])continue;const _0x482e45=((_0x49a98b=_0x426288['attributes'])==null?void(-0x15*0xd3+-0x20b*0x9+0x23b2):_0x49a98b['get'](_0x2c8e9a))??((_0x28925d=(_0x336b4f=this['system']['app']['scripts']['getSchema'](_0x3053f))==null?void(-0xfe6+0x1269+-0x283*0x1):_0x336b4f['attributes'])==null?void(-0x2*-0xfb8+0x1*0x427+-0x2397):_0x28925d[_0x2c8e9a]);if(_0x482e45){if(_0x482e45['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x482e45,_0x2c8e9a,_0x3537bf[_0x2c8e9a],_0x53cd36,_0x2b848f||_0x20230b,_0x58818e);else{if(_0x482e45['type']==='json'&&Array['isArray'](_0x482e45['schema'])){const _0x68046=_0x3537bf[_0x2c8e9a],_0x1169b6=_0x2b848f?_0x2b848f[_0x2c8e9a]:_0x20230b[_0x2c8e9a];for(let _0x1ced2f=-0x79*0x29+-0x1*0xc85+-0x1fe6*-0x1;_0x1ced2f<_0x482e45['schema']['length'];_0x1ced2f++){const _0x46f3c3=_0x482e45['schema'][_0x1ced2f];if(_0x46f3c3['type']==='entity'){if(_0x482e45['array']){for(let _0x50cde4=-0x18*-0x48+0x507+-0x2d*0x43;_0x50cde4<_0x68046['length'];_0x50cde4++)this['_resolveEn'+'tityScript'+'Attribute'](_0x46f3c3,_0x46f3c3['name'],_0x68046[_0x50cde4][_0x46f3c3['name']],_0x53cd36,_0x1169b6[_0x50cde4],_0x58818e);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x46f3c3,_0x46f3c3['name'],_0x68046[_0x46f3c3['name']],_0x53cd36,_0x1169b6,_0x58818e);}}}}}}}}['move'](_0x72dcc1,_0x527875){const _0x599415=this['_scripts']['length'];if(_0x527875>=_0x599415||_0x527875<-0xd4a+0x1a90+-0xd46)return!(-0x33f+-0x1ce2+0x2022);let _0x4cdd83=_0x72dcc1,_0x348eec=_0x72dcc1;typeof _0x348eec!='string'?_0x348eec=_0x72dcc1['__name']:_0x4cdd83=null;const _0xd1f430=this['_scriptsIn'+'dex'][_0x348eec];if(!_0xd1f430||!_0xd1f430['instance'])return!(-0x587*-0x1+0x175*-0xe+0xee0);const _0x5a6b86=_0xd1f430['instance'];if(_0x4cdd83&&!(_0x5a6b86 instanceof _0x4cdd83))return!(-0x1*-0xd83+-0x43+-0xd3f);const _0x53cb5c=this['_scripts']['indexOf'](_0x5a6b86);return _0x53cb5c===-(0x1d2c+0x1*-0x2022+0x2f7)||_0x53cb5c===_0x527875?!(0x5e6*-0x1+0x5*-0x4cc+-0x1de3*-0x1):(this['_scripts']['splice'](_0x527875,0x2*0x266+-0xac*-0x16+-0x1c*0xb3,this['_scripts']['splice'](_0x53cb5c,0x2346+-0x263e+0x2f9)[0x390+0x1*-0x287+-0x109]),this['_resetExec'+'utionOrder'](-0x9*0x2bb+0x11fa+-0x1*-0x699,_0x599415),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x348eec,_0x5a6b86,_0x527875,_0x53cb5c),this['fire']('move:'+_0x348eec,_0x5a6b86,_0x527875,_0x53cb5c),!(-0x205*0x13+-0x1*0x1ee1+-0x8a8*-0x8));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0x3*0x611+-0x6ea*-0x1+0xb49);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x1*0x1121+-0x40*-0x73+0x1a9*-0x7;class kF extends ct{constructor(_0x1065eb){super(_0x1065eb),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x2*-0xfa3+0x5*0x255+-0x2aef),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x212f97,_0x36138a){if(_0x212f97['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x212f97),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x212f97['enabled']=_0x36138a['hasOwnProp'+'erty']('enabled')?!!_0x36138a['enabled']:!(0x3*-0x599+-0x1*0x2c9+0x1394),_0x212f97['enabled']&&_0x212f97['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x212f97),_0x36138a['hasOwnProp'+'erty']('order')&&_0x36138a['hasOwnProp'+'erty']('scripts')){_0x212f97['_scriptsDa'+'ta']=_0x36138a['scripts'];for(let _0x2b3752=-0x749+0x1*-0x1b5e+0x22a7;_0x2b3752<_0x36138a['order']['length'];_0x2b3752++)_0x212f97['create'](_0x36138a['order'][_0x2b3752],{'enabled':_0x36138a['scripts'][_0x36138a['order'][_0x2b3752]]['enabled'],'attributes':_0x36138a['scripts'][_0x36138a['order'][_0x2b3752]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x385b28,_0x66a2e5){var _0x295535;const _0x2e7da0=[],_0x53e202={};for(let _0x3b6a46=-0x4*-0x27c+-0x2062+-0x152*-0x11;_0x3b6a46<_0x385b28['script']['_scripts']['length'];_0x3b6a46++){const _0x34f69e=_0x385b28['script']['_scripts'][_0x3b6a46],_0x39abe8=_0x34f69e['__scriptTy'+'pe']['__name'];_0x2e7da0['push'](_0x39abe8);const _0x4d32ef=((_0x295535=_0x385b28['script']['_attribute'+'DataMap'])==null?void(-0xae8+-0x67+0xb4f):_0x295535['get'](_0x39abe8))||{};for(const _0xd0020a in _0x34f69e['__attribut'+'es'])_0x4d32ef[_0xd0020a]=_0x34f69e['__attribut'+'es'][_0xd0020a];_0x53e202[_0x39abe8]={'enabled':_0x34f69e['_enabled'],'attributes':_0x4d32ef};}for(const _0x5b367b in _0x385b28['script']['_scriptsIn'+'dex'])_0x5b367b['awaiting']&&_0x2e7da0['splice'](_0x5b367b['ind'],0x1*-0x781+-0x7bd+0xf3e*0x1,_0x5b367b);const _0x9d4ae6={'enabled':_0x385b28['script']['enabled'],'order':_0x2e7da0,'scripts':_0x53e202};return this['addCompone'+'nt'](_0x66a2e5,_0x9d4ae6);}['_resetExec'+'utionOrder'](){Mc=-0x1fd8+-0x215*-0x5+0x5d*0x3b;for(let _0x287854=0x875+0x793+0x402*-0x4,_0x201188=this['_component'+'s']['length'];_0x287854<_0x201188;_0x287854++)this['_component'+'s']['items'][_0x287854]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0xc596d7,_0xc7df0a,_0x57ce3c){for(_0xc596d7['loopIndex']=-0x18ce+-0x16f4+0x2fc2;_0xc596d7['loopIndex']<_0xc596d7['length'];_0xc596d7['loopIndex']++)_0xc596d7['items'][_0xc596d7['loopIndex']][_0xc7df0a](_0x57ce3c);}['_onInitial'+'ize'](){this['preloading']=!(0x17*-0xdf+0x1f44+-0xb3a),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x374afb){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x374afb);}['_onPostUpd'+'ate'](_0x5d4e41){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x5d4e41);}['_addCompon'+'entToEnabl'+'ed'](_0xb253dc){this['_enabledCo'+'mponents']['insert'](_0xb253dc);}['_removeCom'+'ponentFrom'+'Enabled'](_0x4de0bc){this['_enabledCo'+'mponents']['remove'](_0x4de0bc);}['_onBeforeR'+'emove'](_0x5177fc,_0xbf0ec){this['_component'+'s']['items']['indexOf'](_0xbf0ec)>=-0x44e+-0x1178+0x742*0x3&&_0xbf0ec['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0xbf0ec),this['_component'+'s']['remove'](_0xbf0ec);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x3df4ea,_0x8274a4){super(_0x3df4ea,_0x8274a4),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x3*0x87e+-0x21b2+0x838)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(0x15f+-0x152*0x18+-0x1e52*-0x1)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x3df4ea['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x8274a4['on']('remove',this['onRemoveCh'+'ild'],this),_0x8274a4['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x8274a4['on']('insert',this['onInsertCh'+'ild'],this),_0x8274a4['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x346998){var _0x3dd82b,_0x51a93e;this['_customAab'+'b']=_0x346998,(_0x51a93e=(_0x3dd82b=this['_instance'])==null?void(0xbc*-0x2+-0x2b9*-0x8+-0x82*0x28):_0x3dd82b['meshInstan'+'ce'])==null||_0x51a93e['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x5393dd){if(this['destroyIns'+'tance'](),this['_instance']=_0x5393dd,this['_instance']){const _0x367367=this['_instance']['meshInstan'+'ce'];_0x367367['node']||(_0x367367['node']=this['entity']),_0x367367['castShadow']=this['_castShado'+'ws'],_0x367367['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0xdc41da){this['_instance']?this['_instance']['material']=_0xdc41da:this['_materialT'+'mp']=_0xdc41da;}get['material'](){var _0xbde09b;return((_0xbde09b=this['_instance'])==null?void(0x457*0x3+-0x95*0x21+0x630):_0xbde09b['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x2b9b63){_0x2b9b63!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x2b9b63,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x2b9b63));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x1a6445){var _0x25fded;if(this['_castShado'+'ws']!==_0x1a6445){const _0x247ff4=(_0x25fded=this['instance'])==null?void(-0x1*0xc4+-0x266b+-0x1*-0x272f):_0x25fded['meshInstan'+'ce'];if(_0x247ff4){const _0x4347e6=this['layers'],_0x526141=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1a6445)for(let _0x452229=-0x3*0x281+-0xe38*-0x2+0xb*-0x1e7;_0x452229<_0x4347e6['length'];_0x452229++){const _0x58b227=_0x526141['layers']['getLayerBy'+'Id'](this['layers'][_0x452229]);_0x58b227&&_0x58b227['removeShad'+'owCasters']([_0x247ff4]);}if(_0x247ff4['castShadow']=_0x1a6445,!this['_castShado'+'ws']&&_0x1a6445)for(let _0x3d227b=-0xfa1*-0x1+-0x6*0x1a3+-0x5cf*0x1;_0x3d227b<_0x4347e6['length'];_0x3d227b++){const _0x187062=_0x526141['layers']['getLayerBy'+'Id'](_0x4347e6[_0x3d227b]);_0x187062&&_0x187062['addShadowC'+'asters']([_0x247ff4]);}}this['_castShado'+'ws']=_0x1a6445;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x12499c){this['removeFrom'+'Layers'](),this['_layers']['length']=0x74b+-0x966+0x21b;for(let _0x2fa272=0x18f*0x12+-0x51c+-0x16f2;_0x2fa272<_0x12499c['length'];_0x2fa272++)this['_layers'][_0x2fa272]=_0x12499c[_0x2fa272];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x59b633){const _0x2eff81=_0x59b633 instanceof pe?_0x59b633['id']:_0x59b633;this['_assetRefe'+'rence']['id']!==_0x2eff81&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x2eff81,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x19b1eb;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x19b1eb=this['_instance'])==null||_0x19b1eb['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x2420d2,_0x5acd68;const _0x221bb6=(_0x2420d2=this['instance'])==null?void(0x1*-0x193a+0x1915+-0x1*-0x25):_0x2420d2['meshInstan'+'ce'];if(_0x221bb6){const _0x51aae6=this['system']['app']['scene']['layers'];for(let _0x322d24=0xf8*-0x18+0x904+0xe3c;_0x322d24<this['_layers']['length'];_0x322d24++)(_0x5acd68=_0x51aae6['getLayerBy'+'Id'](this['_layers'][_0x322d24]))==null||_0x5acd68['addMeshIns'+'tances']([_0x221bb6]);}}['removeFrom'+'Layers'](){var _0x2883aa,_0x2019d3;const _0x587e0a=(_0x2883aa=this['instance'])==null?void(0x15c1+0x11f9+0xf*-0x2a6):_0x2883aa['meshInstan'+'ce'];if(_0x587e0a){const _0x174b6f=this['system']['app']['scene']['layers'];for(let _0x41f2d0=-0x1d34+-0x3*0xbd7+0x731*0x9;_0x41f2d0<this['_layers']['length'];_0x41f2d0++)(_0x2019d3=_0x174b6f['getLayerBy'+'Id'](this['_layers'][_0x41f2d0]))==null||_0x2019d3['removeMesh'+'Instances']([_0x587e0a]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x41bf1d,_0x11de3e){this['addToLayer'+'s'](),_0x41bf1d['off']('add',this['onLayerAdd'+'ed'],this),_0x41bf1d['off']('remove',this['onLayerRem'+'oved'],this),_0x11de3e['on']('add',this['onLayerAdd'+'ed'],this),_0x11de3e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x239d06){this['layers']['indexOf'](_0x239d06['id'])<-0x269*0x4+-0x1*-0x127e+-0x8da||this['_instance']&&_0x239d06['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x29a49c){this['layers']['indexOf'](_0x29a49c['id'])<-0xac6*0x2+-0x2409+0x1*0x3995||this['_instance']&&_0x29a49c['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x51ed8e=this['system']['app']['scene'],_0xe8cfa9=_0x51ed8e['layers'];this['_evtLayers'+'Changed']=_0x51ed8e['on']('set:layers',this['onLayersCh'+'anged'],this),_0xe8cfa9&&(this['_evtLayerA'+'dded']=_0xe8cfa9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xe8cfa9['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x32f267,_0x11e4a0,_0x249b05;const _0x3ed0f2=this['system']['app']['scene']['layers'];(_0x32f267=this['_evtLayers'+'Changed'])==null||_0x32f267['off'](),this['_evtLayers'+'Changed']=null,_0x3ed0f2&&((_0x11e4a0=this['_evtLayerA'+'dded'])==null||_0x11e4a0['off'](),this['_evtLayerA'+'dded']=null,(_0x249b05=this['_evtLayerR'+'emoved'])==null||_0x249b05['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xb*-0xeb+-0x3d7*-0x3+0x159d*-0x1));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x74*-0x40+0x1*0x18e+-0x1*0x1e8e));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1c90e4=this['_assetRefe'+'rence']['asset'];_0x1c90e4&&(this['instance']=_0x1c90e4['resource']['createInst'+'ance'](_0x1c90e4['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x4*0x30a+-0x14b0+0x20d8);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x6b3fce){super(_0x6b3fce),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xbd3ead,_0x5e88b3,_0x5b09d6){_0x5e88b3['layers']&&_0x5e88b3['layers']['length']&&(_0x5e88b3['layers']=_0x5e88b3['layers']['slice'](0x890+0x2*0x11b7+-0x2bfe));for(let _0x4de73c=0x221e+0xd*-0x9f+-0x1a0b;_0x4de73c<To['length'];_0x4de73c++)_0x5e88b3['hasOwnProp'+'erty'](To[_0x4de73c])&&(_0xbd3ead[To[_0x4de73c]]=_0x5e88b3[To[_0x4de73c]]);_0x5e88b3['aabbCenter']&&_0x5e88b3['aabbHalfEx'+'tents']&&(_0xbd3ead['customAabb']=new De(new D(_0x5e88b3['aabbCenter']),new D(_0x5e88b3['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xbd3ead,_0x5e88b3,Vu);}['cloneCompo'+'nent'](_0x25f230,_0x54a97a){const _0x12fe65=_0x25f230['gsplat'],_0x56b54f={};To['forEach'](_0x52ac82=>{_0x52ac82==='material'?_0x56b54f[_0x52ac82]=_0x12fe65[_0x52ac82]['clone']():_0x56b54f[_0x52ac82]=_0x12fe65[_0x52ac82];}),_0x56b54f['enabled']=_0x12fe65['enabled'];const _0x31f4da=this['addCompone'+'nt'](_0x54a97a,_0x56b54f);return _0x12fe65['customAabb']&&(_0x31f4da['customAabb']=_0x12fe65['customAabb']['clone']()),_0x31f4da;}['onRemove'](_0xb6bead,_0x48e711){_0x48e711['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x17f483){this['decRefMesh'+'es'](),this['_meshes']=_0x17f483,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x17f483);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x327c38;(_0x327c38=this['_meshes'])==null||_0x327c38['forEach']((_0x486ceb,_0x364acb)=>{_0x486ceb&&(_0x486ceb['decRefCoun'+'t'](),_0x486ceb['refCount']<0x7da*0x1+-0x2629+0xa*0x308&&(_0x486ceb['destroy'](),this['_meshes'][_0x364acb]=null));});}['incRefMesh'+'es'](){var _0x265973;(_0x265973=this['_meshes'])==null||_0x265973['forEach'](_0x35fbcd=>{_0x35fbcd==null||_0x35fbcd['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x5d64a6){const _0x3427f5=this;if(!_0x3427f5['resource'])return;const _0x985bc1=_0x5d64a6['resource'],_0x4cd95e=_0x985bc1['renders']&&_0x985bc1['renders'][_0x3427f5['data']['renderInde'+'x']];_0x4cd95e&&(_0x3427f5['resource']['meshes']=_0x4cd95e['resource']['meshes']);}function pS(_0x3b4839){const _0x11a64f=this;_0x11a64f['registry']['off']('load:'+_0x3b4839['id'],sh,_0x11a64f),_0x11a64f['registry']['on']('load:'+_0x3b4839['id'],sh,_0x11a64f),_0x11a64f['registry']['off']('remove:'+_0x3b4839['id'],mS,_0x11a64f),_0x11a64f['registry']['once']('remove:'+_0x3b4839['id'],mS,_0x11a64f),_0x3b4839['resource']?sh['call'](_0x11a64f,_0x3b4839):_0x11a64f['registry']['load'](_0x3b4839);}function mS(_0x35174b){const _0x390da7=this;_0x390da7['registry']['off']('load:'+_0x35174b['id'],sh,_0x390da7),_0x390da7['resource']&&_0x390da7['resource']['destroy']();}class zF extends Qe{constructor(_0x293534){super(_0x293534,'render'),this['_registry']=_0x293534['assets'];}['open'](_0x34d877,_0x1db415){return new Em();}['patch'](_0x4054d1,_0x5e0b3b){if(!_0x4054d1['data']['containerA'+'sset'])return;const _0x4316d2=_0x5e0b3b['get'](_0x4054d1['data']['containerA'+'sset']);if(!_0x4316d2){_0x5e0b3b['once']('add:'+_0x4054d1['data']['containerA'+'sset'],pS,_0x4054d1);return;}pS['call'](_0x4054d1,_0x4316d2);}}class v0{constructor(_0x40ed19,_0x4c8093,_0x17dddd,_0x3f8349){this['_paths']=_0x40ed19,this['_input']=_0x4c8093,this['_output']=_0x17dddd,this['_interpola'+'tion']=_0x3f8349;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0xf53542,_0x342bc0){this['_component'+'s']=_0xf53542,this['_data']=_0x342bc0;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x13cf1a,_0x1f9c75){let _0x4f14f5;const _0x2be272=(_0x44819c,_0x122fbe)=>{switch(_0x122fbe){case _0x4f14f5['DT_INT8']:return new Int8Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']);case _0x4f14f5['DT_INT16']:return new Int16Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']/(-0x17*0x8f+-0x23e+0x5*0x305));case _0x4f14f5['DT_INT32']:return new Int32Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']/(0x81*0x1f+0x61e*0x5+-0x2e31));case _0x4f14f5['DT_UINT8']:return new Uint8Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']);case _0x4f14f5['DT_UINT16']:return new Uint16Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']/(-0x5d7+0x112*0x23+-0x1f9d));case _0x4f14f5['DT_UINT32']:return new Uint32Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']/(0x5*0x623+0x1f25+-0x17*0x2b0));case _0x4f14f5['DT_FLOAT32']:return new Float32Array(_0x44819c['buffer'],_0x44819c['byteOffset'],_0x44819c['byteLength']/(-0x2*-0x1058+-0x1839+-0x873));}return null;},_0x53b9a0=_0x461f62=>{switch(_0x461f62){case _0x4f14f5['DT_INT8']:return 0x1d6f+-0x1*-0x1d6a+-0x3ad8;case _0x4f14f5['DT_INT16']:return-0x1d99*0x1+0xc*-0x85+0x23d7;case _0x4f14f5['DT_INT32']:return 0x1271+-0x1*0x1a95+0x828;case _0x4f14f5['DT_UINT8']:return 0x26bd+0x65*-0x5+-0x24c3*0x1;case _0x4f14f5['DT_UINT16']:return-0x1e9b*0x1+0x65a*-0x5+0x3e5f;case _0x4f14f5['DT_UINT32']:return-0x580*-0x2+0x1830+-0x232c*0x1;case _0x4f14f5['DT_FLOAT32']:return-0x187d*-0x1+-0x42d+-0xa26*0x2;}return 0x2*-0x760+0x215+0x1*0xcac;},_0x243c1a=_0xef5292=>_0xef5292['num_compon'+'ents']()*_0x53b9a0(_0xef5292['data_type']()),_0x1c5aee={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x17db8a=(_0x4a1ab8,_0x2e4ea7)=>{const _0x3e0cde=(_0x3dbe0a,_0x6cc6f,_0x33c45a)=>{_0x3dbe0a[0x13a9*0x1+-0x1f*0x85+-0xd*0x46]=_0x6cc6f[-0x4*-0x504+0xee0+0x8*-0x45e]-_0x33c45a[0x1a89*0x1+-0x22f1+-0x1*-0x868],_0x3dbe0a[0x11ba*0x1+0x28*-0xe7+0x125f*0x1]=_0x6cc6f[0x672+0x92c*-0x4+-0x1e3f*-0x1]-_0x33c45a[0x22f*0x1+-0x3*-0x9f7+-0x2013],_0x3dbe0a[0x1d4d*0x1+0x12cd*0x2+-0x42e5]=_0x6cc6f[0x490+-0x3f9*0x4+0xb56]-_0x33c45a[0x139*-0x2+-0x22da+0x254e];},_0x2c9375=(_0x291f1b,_0x188f4a,_0x51ebe2)=>{_0x291f1b[0xc7*-0x14+0x1*0xd1a+0x1*0x272]=_0x188f4a[-0xcd*-0x2+0x25f2+-0x278b]*_0x51ebe2[0x1fcd+-0x2572*0x1+-0x1*-0x5a7]-_0x51ebe2[-0x212*-0x2+0xc5*-0x1a+0xfdf]*_0x188f4a[0x2a*-0x1+-0x1*-0xbfb+-0xbcf],_0x291f1b[-0x21a3+-0x2535+0x46d9*0x1]=_0x188f4a[0x733+0x5fc+-0xd2d]*_0x51ebe2[0xe0f*-0x2+-0xa25*-0x1+-0x2b*-0x6b]-_0x51ebe2[0x1*-0x106d+0x93d+0x732]*_0x188f4a[0x1*-0x2680+0x699+0x1fe7*0x1],_0x291f1b[0x1c3c+-0x9c7+-0x1273]=_0x188f4a[0x2c2+-0x5*0x731+0x2133]*_0x51ebe2[0x53b*0x7+-0x2497+-0x5]-_0x51ebe2[0x18f1+-0x6d*-0x4f+-0x3a94]*_0x188f4a[-0x83e+-0xda4+-0x1af*-0xd];},_0x139546=(_0x4dfec8,_0x18db2a)=>{const _0x55cdd5=_0x4dfec8[_0x18db2a+(-0x19f3+-0x3*0x67f+-0x2d7*-0x10)],_0x30a78b=_0x4dfec8[_0x18db2a+(0xb3*0x17+0x155*0x19+-0x3161)],_0x2fb071=_0x4dfec8[_0x18db2a+(0x8*-0x447+-0x1c02*0x1+0x3e3c)],_0x4a8a86=(-0x2310+0x2245+0x33*0x4)/Math['sqrt'](_0x55cdd5*_0x55cdd5+_0x30a78b*_0x30a78b+_0x2fb071*_0x2fb071);_0x4dfec8[_0x18db2a+(0x9*0x2f8+0x4ae+-0x1f66)]*=_0x4a8a86,_0x4dfec8[_0x18db2a+(0x869+-0x11d*0xd+0x611)]*=_0x4a8a86,_0x4dfec8[_0x18db2a+(-0x2*-0xcaa+-0x476*0x5+-0x304)]*=_0x4a8a86;},_0x1bb13c=(_0x5682cf,_0x4ebf76,_0x51bd18)=>{for(let _0x18a119=0x8*0x28d+0xb6c+-0x1fd4;_0x18a119<-0xa*0x1b1+-0xae1+0x1bce*0x1;++_0x18a119)_0x5682cf[_0x18a119]=_0x4ebf76[_0x51bd18+_0x18a119];},_0x1ae46f=_0x2e4ea7['length']/(0xcb9+0x753+0xdf*-0x17),_0x1e2aed=_0x4a1ab8['length']/(0x62a+0x3*-0x7fa+0x11c7),_0x9cc441=new Float32Array(_0x4a1ab8['length']),_0x3bb0ff=[0x5d3+0xe*-0x26e+0x407*0x7,-0x1282+0x7*0x1e4+-0x87*-0xa,0x1b4f+-0x1869*0x1+0xe*-0x35],_0x541da8=[-0x3e3+-0x3*0x280+0xb63,-0x4c7*0x3+-0x2172*-0x1+-0x131d,-0x8f1+0x1f56+-0x75*0x31],_0x512db8=[-0x12bb*0x2+-0x2*-0x122f+0x118,0x1879+0xd5a+-0x25d3,0x5*-0x6a6+0xcbf*0x1+0x147f],_0x1ba748=[-0x1*0x1968+-0x16c9+0x3031,-0x10c8+0x1f9d*0x1+-0xed5*0x1,0x61a+-0x1a6f+0x1455],_0x21cbcb=[0x9f*-0x29+0xfd0+-0x7*-0x161,0xa5a+0x7*0x81+-0xde1,0xee4+-0xd98+-0x14c],_0x4ed0b4=[0x53f+0x10b6+-0x15f5,-0x188b+0x432*0x1+0x1*0x1459,0x13f4+-0x69a*0x5+0x2*0x687];for(let _0x27937c=-0xbf9*0x1+0x2b*-0xe3+0xf2*0x35;_0x27937c<_0x1ae46f;++_0x27937c){const _0x2b2439=_0x2e4ea7[_0x27937c*(0x1670+0x5b3+-0x1c20)+(-0xc36*-0x2+0xb*0x313+-0x3a3d)]*(0x3*-0x2ca+-0x14e*0x5+0xee7),_0x4b44e3=_0x2e4ea7[_0x27937c*(0x11c*-0xd+-0x1*-0x1a92+-0xc23)+(-0x198*0x18+-0x1984+-0x19*-0x28d)]*(0xa07*-0x2+0x23*0xeb+-0x608*0x2),_0x47dc8d=_0x2e4ea7[_0x27937c*(0x90d*-0x2+-0x13a7+0x25c4)+(-0x21a3+-0x47*-0x6d+0x36a*0x1)]*(-0x287+0x1391+0x1107*-0x1);_0x1bb13c(_0x3bb0ff,_0x4a1ab8,_0x2b2439),_0x1bb13c(_0x541da8,_0x4a1ab8,_0x4b44e3),_0x1bb13c(_0x512db8,_0x4a1ab8,_0x47dc8d),_0x3e0cde(_0x1ba748,_0x541da8,_0x3bb0ff),_0x3e0cde(_0x21cbcb,_0x512db8,_0x3bb0ff),_0x2c9375(_0x4ed0b4,_0x1ba748,_0x21cbcb),_0x139546(_0x4ed0b4,0x803+0x2*0x719+-0x1635);for(let _0x39ae22=0x1e96+0x25f*0x4+0x2*-0x1409;_0x39ae22<-0xa*-0xef+-0x1*-0x1435+-0x1d88;++_0x39ae22)_0x9cc441[_0x2b2439+_0x39ae22]+=_0x4ed0b4[_0x39ae22],_0x9cc441[_0x4b44e3+_0x39ae22]+=_0x4ed0b4[_0x39ae22],_0x9cc441[_0x47dc8d+_0x39ae22]+=_0x4ed0b4[_0x39ae22];}for(let _0x3a1abc=0x14e*-0x19+0x292+0x1e0c;_0x3a1abc<_0x1e2aed;++_0x3a1abc)_0x139546(_0x9cc441,_0x3a1abc*(-0x99*-0x18+0x1*-0x25f+0x5fb*-0x2));return new Uint8Array(_0x9cc441['buffer']);},_0x164b2b=_0x5d03fe=>{const _0x3ce320={},_0x3a17e4=new _0x4f14f5['DecoderBuf'+'fer']();_0x3a17e4['Init'](_0x5d03fe,_0x5d03fe['length']);const _0xc6ce4a=new _0x4f14f5['Decoder']();if(_0xc6ce4a['GetEncoded'+'GeometryTy'+'pe'](_0x3a17e4)!==_0x4f14f5['TRIANGULAR'+'_MESH'])return _0x3ce320['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x3ce320;const _0x1e6b4e=new _0x4f14f5['Mesh'](),_0x49c725=_0xc6ce4a['DecodeBuff'+'erToMesh'](_0x3a17e4,_0x1e6b4e);if(!_0x49c725||!_0x49c725['ok']()||_0x4f14f5['getPointer'](_0x1e6b4e)===0xd2b*0x2+-0x6*0xb1+-0x1630)return _0x3ce320['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x3ce320;const _0x24c0f8=_0x1e6b4e['num_faces']()*(-0x1f0f*0x1+0xe*-0x27b+-0x20e6*-0x2),_0x3fdb23=_0x1e6b4e['num_points']()<=-0x2562+-0x1c95a+-0x2eebb*-0x1,_0x7ac701=_0x24c0f8*(_0x3fdb23?-0x88+0x1*-0x1dd9+0x1e63:-0x1d53+-0x22e2+-0x191*-0x29),_0x59bef8=_0x4f14f5['_malloc'](_0x7ac701);_0x3fdb23?(_0xc6ce4a['GetTriangl'+'esUInt16Ar'+'ray'](_0x1e6b4e,_0x7ac701,_0x59bef8),_0x3ce320['indices']=new Uint16Array(_0x4f14f5['HEAPU16']['buffer'],_0x59bef8,_0x24c0f8)['slice']()['buffer']):(_0xc6ce4a['GetTriangl'+'esUInt32Ar'+'ray'](_0x1e6b4e,_0x7ac701,_0x59bef8),_0x3ce320['indices']=new Uint32Array(_0x4f14f5['HEAPU32']['buffer'],_0x59bef8,_0x24c0f8)['slice']()['buffer']),_0x4f14f5['_free'](_0x59bef8);const _0x228e69=[];for(let _0x23da3c=0xa77+0x24a7+-0x2f1e;_0x23da3c<_0x1e6b4e['num_attrib'+'utes']();++_0x23da3c)_0x228e69['push'](_0xc6ce4a['GetAttribu'+'te'](_0x1e6b4e,_0x23da3c));_0x228e69['sort']((_0x11bb23,_0x4a3b91)=>(_0x1c5aee[_0x11bb23['attribute_'+'type']()]??_0x1c5aee['length'])-(_0x1c5aee[_0x4a3b91['attribute_'+'type']()]??_0x1c5aee['length'])),_0x3ce320['attributes']=_0x228e69['map'](_0x1a535a=>_0x1a535a['unique_id']());let _0x2b3791=-0x1c3b+0x1f9+0x1a42;const _0x363bb7=_0x228e69['map'](_0x2c993c=>{const _0x418088=_0x2b3791;return _0x2b3791+=Math['ceil'](_0x243c1a(_0x2c993c)/(-0x2128+-0x10*0x204+0x416c))*(0x1b0c+0xdec+-0x28f4),_0x418088;}),_0x589a93=_0x228e69['some'](_0x3053a9=>_0x3053a9['attribute_'+'type']()===-0x25d5+-0x11*0x1ed+0x4693),_0x5d1294=_0x363bb7[0x64*-0x59+-0xf*0x217+0x421e];if(!_0x589a93){for(let _0x3a8804=0x7c1+0x10a2+0x2*-0xc31;_0x3a8804<_0x363bb7['length'];++_0x3a8804)_0x363bb7[_0x3a8804]+=0x48b*0x8+-0x234d+0xf*-0x11;_0x2b3791+=0xe15+-0xe*-0x61+-0x1*0x1357;}_0x3ce320['vertices']=new ArrayBuffer(_0x1e6b4e['num_points']()*_0x2b3791);const _0x3f9af4=new Uint8Array(_0x3ce320['vertices']);for(let _0x5b8740=-0x1a8f+0x1c53+-0x1c4;_0x5b8740<_0x1e6b4e['num_attrib'+'utes']();++_0x5b8740){const _0x59168a=_0x228e69[_0x5b8740],_0x245cc8=_0x243c1a(_0x59168a),_0xfe019=_0x1e6b4e['num_points']()*_0x245cc8,_0x1709c8=_0x4f14f5['_malloc'](_0xfe019);_0xc6ce4a['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x1e6b4e,_0x59168a,_0x59168a['data_type'](),_0xfe019,_0x1709c8);const _0x4f8826=new Uint8Array(_0x4f14f5['HEAPU8']['buffer'],_0x1709c8,_0xfe019);for(let _0x4ed220=0x1517+-0xe7d*0x1+0x1a*-0x41;_0x4ed220<_0x1e6b4e['num_points']();++_0x4ed220)for(let _0x21f0a2=-0x2451+-0x449*-0x2+0x1bbf;_0x21f0a2<_0x245cc8;++_0x21f0a2)_0x3f9af4[_0x4ed220*_0x2b3791+_0x363bb7[_0x5b8740]+_0x21f0a2]=_0x4f8826[_0x4ed220*_0x245cc8+_0x21f0a2];if(!_0x589a93&&_0x59168a['attribute_'+'type']()===-0x49e+0x1ed5*-0x1+0x2373){const _0x270715=_0x17db8a(_0x2be272(_0x4f8826,_0x59168a['data_type']()),_0x3fdb23?new Uint16Array(_0x3ce320['indices']):new Uint32Array(_0x3ce320['indices']));for(let _0x3d48d=0x24*-0x9+-0x61+0x1a5;_0x3d48d<_0x1e6b4e['num_points']();++_0x3d48d)for(let _0x58510e=0x1dc*-0xa+0x174d+0x1*-0x4b5;_0x58510e<-0x16e1+-0x112d+0x281a;++_0x58510e)_0x3f9af4[_0x3d48d*_0x2b3791+_0x5d1294+_0x58510e]=_0x270715[_0x3d48d*(-0x199a+0x103a+0x86*0x12)+_0x58510e];}_0x4f14f5['_free'](_0x1709c8);}return _0x4f14f5['destroy'](_0x1e6b4e),_0x4f14f5['destroy'](_0xc6ce4a),_0x4f14f5['destroy'](_0x3a17e4),_0x3ce320;},_0x51401e=_0x105b11=>{const _0x59124d=_0x164b2b(new Uint8Array(_0x105b11['buffer']));self['postMessag'+'e']({'jobId':_0x105b11['jobId'],'error':_0x59124d['error'],'indices':_0x59124d['indices'],'vertices':_0x59124d['vertices'],'attributes':_0x59124d['attributes']},[_0x59124d['indices'],_0x59124d['vertices']]['filter'](_0x28a8fd=>_0x28a8fd!=null));},_0x150513=[];self['onmessage']=_0x263e03=>{const _0x2e97b2=_0x263e03['data'];switch(_0x2e97b2['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x4d3949,_0x56a616)=>(WebAssembly['instantiat'+'e'](_0x2e97b2['module'],_0x4d3949)['then'](_0xe10394=>_0x56a616(_0xe10394))['catch'](_0x501190=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x501190)),{})})['then'](_0x44ca18=>{_0x4f14f5=_0x44ca18,_0x150513['forEach'](_0x2864e1=>_0x51401e(_0x2864e1));});break;case'decodeMesh':_0x4f14f5?_0x51401e(_0x2e97b2):_0x150513['push'](_0x2e97b2);break;}};}const _S=-0x7eb*-0x1+-0x1b82+-0x1*-0x139a;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x2383+-0x8c+0x240f,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x4c7a4a,_0x2c9991)=>{_0x4c7a4a['postMessag'+'e']({'type':'decodeMesh','jobId':_0x2c9991['jobId'],'buffer':_0x2c9991['buffer']},[_0x2c9991['buffer']]);};}['init'](_0x5ce7fc){for(_0x5ce7fc['forEach'](_0x5a1094=>{_0x5a1094['addEventLi'+'stener']('message',_0x15ad5b=>{const _0x241a0f=_0x15ad5b['data'],_0x38ce38=this['jobCallbac'+'ks']['get'](_0x241a0f['jobId']);if(_0x38ce38&&_0x38ce38(_0x241a0f['error'],{'indices':_0x241a0f['indices'],'vertices':_0x241a0f['vertices'],'attributes':_0x241a0f['attributes']}),this['jobCallbac'+'ks']['delete'](_0x241a0f['jobId']),this['jobQueue']['length']>0x751+0x6*0x190+-0x10b1){const _0x12b784=this['jobQueue']['shift']();this['run'](_0x5a1094,_0x12b784);}else{const _0x4a24cf=this['workers'][0xe13*-0x1+-0x2*-0xf61+0x58f*-0x3]['indexOf'](_0x5a1094);if(_0x4a24cf!==-(-0x1*0x178b+0x354*-0x6+0x2b84))this['workers'][-0xc69*-0x2+0x26e+0xd9f*-0x2]['splice'](_0x4a24cf,-0x8a7+-0x18*-0x2+0x878),this['workers'][-0x2581+-0x1*-0x909+-0x1c79*-0x1]['push'](_0x5a1094);else{const _0x162cce=this['workers'][-0x1546+-0xb3*0x2b+0x3358]['indexOf'](_0x5a1094);_0x162cce!==-(-0x1967+0x142e+0x53a)?(this['workers'][-0x1*-0x2333+0x9*-0x351+-0x25*0x25]['splice'](_0x162cce,-0x1e47+-0x1f*-0x101+-0x5*0x2b),this['workers'][-0x95*-0x37+0xf4*0x23+-0x415f]['push'](_0x5a1094)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x1087*0x1+0x12b1+-0x22a*0x1]=_0x5ce7fc;this['jobQueue']['length']&&(this['workers'][-0x2*-0xc5e+0x16b*-0x1+0x1751*-0x1]['length']||this['workers'][-0x1*-0xf4d+-0x1b*0x13+-0xd4b]['length']);){const _0x36c8c8=this['jobQueue']['shift']();if(this['workers'][-0x2132+0x5*-0x58f+-0x3cfd*-0x1]['length']>0x127c+-0x15*0xc9+0x7*-0x49){const _0x26a7f1=this['workers'][0x2179+-0x23ee+-0x1*-0x275]['shift']();this['workers'][-0x5e5*0x1+-0xe*-0x25d+-0x1b30]['push'](_0x26a7f1),this['run'](_0x26a7f1,_0x36c8c8);}else{const _0x409950=this['workers'][0xd90+0xc*0xb3+0x3*-0x751]['shift']();this['workers'][0x2383+-0x55d*-0x2+-0x3*0xf69]['push'](_0x409950),this['run'](_0x409950,_0x36c8c8);}}}['enqueueJob'](_0x47bd7d,_0x11efe5){const _0x4b2a35={'jobId':this['jobId']++,'buffer':_0x47bd7d};if(this['jobCallbac'+'ks']['set'](_0x4b2a35['jobId'],_0x11efe5),this['workers'][0xf*0x170+0x249a+-0x3a2a]['length']>-0x7*-0x138+0x11*0x2b+0x5*-0x247){const _0x2d7af2=this['workers'][0xb6b+-0xc1f+0xb4]['shift']();this['workers'][-0x1*0x1444+-0x3*0x362+0x1e6b]['push'](_0x2d7af2),this['run'](_0x2d7af2,_0x4b2a35);}else{if(this['workers'][0x3d7*-0x1+0x2149+0x1*-0x1d71]['length']>0x581+0x1*-0x1413+0x2ea*0x5){const _0x4f2868=this['workers'][0x3*-0xa26+0x93*-0x3b+0x4054]['shift']();this['workers'][0x4*-0x5c1+0x16b7+-0x1*-0x4f]['push'](_0x4f2868),this['run'](_0x4f2868,_0x4b2a35);}else this['jobQueue']['push'](_0x4b2a35);}}}const HF=_0x2fb044=>new Promise((_0x952ba7,_0x1bce1c)=>{const _0x232644={'cache':!(-0x1*-0xf63+0x1550+-0x24b3),'responseType':'text','retry':_S>0x120f+0x1*-0x152e+0x2f*0x11,'maxRetries':_S};ot['get'](_0x2fb044,_0x232644,(_0x1ac2cb,_0x95eae6)=>{_0x1ac2cb?_0x1bce1c(_0x1ac2cb):_0x952ba7(_0x95eae6);});}),WF=_0x4deb3f=>{const _0x29d155=()=>fetch(_0x4deb3f)['then'](_0x329f8f=>_0x329f8f['arrayBuffe'+'r']())['then'](_0x1ba977=>WebAssembly['compile'](_0x1ba977)),_0x5b95d4=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x4deb3f))['catch'](_0x19bc5a=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4deb3f+'\x20('+_0x19bc5a+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x29d155()));return WebAssembly['compileStr'+'eaming']?_0x5b95d4():_0x29d155();},gS=0x1381*-0x1+-0x13a3*0x1+0x2725;let ih;const $F=_0x30f60c=>{if(ih)return!(0x1c7e+-0x2*0xa0f+-0x218*0x4);if(!_0x30f60c){const _0x26faeb=YS['getConfig']('DracoDecod'+'erModule');_0x26faeb?_0x30f60c={'jsUrl':_0x26faeb['glueUrl'],'wasmUrl':_0x26faeb['wasmUrl'],'numWorkers':_0x26faeb['numWorkers']}:_0x30f60c={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x30f60c['jsUrl']||!_0x30f60c['wasmUrl']?!(-0x2*0xb35+0x25cf+0x3d9*-0x4):(ih=new GF(),Promise['all']([HF(_0x30f60c['jsUrl']),WF(_0x30f60c['wasmUrl'])])['then'](([_0x3feab0,_0x2c8733])=>{const _0x42e2a6=['/*\x20draco\x20*'+'/',_0x3feab0,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x248f44=new Blob([_0x42e2a6],{'type':'applicatio'+'n/javascri'+'pt'}),_0xb11eb7=URL['createObje'+'ctURL'](_0x248f44),_0x1ac044=Math['max'](0x5c5+0x268+-0x2*0x416,Math['min'](0x1855+0x1e34+-0x5*0xae5,_0x30f60c['numWorkers']||gS)),_0x18c82b=[];for(let _0x433e9e=0x871+-0x1118+0x8a7;_0x433e9e<_0x1ac044;++_0x433e9e){const _0x4be47a=new Worker(_0xb11eb7);_0x4be47a['postMessag'+'e']({'type':'init','module':_0x2c8733}),_0x18c82b['push'](_0x4be47a);}ih['init'](_0x18c82b);}),!(-0x729+-0x1*0x79d+-0x7a*-0x1f));},XF=(_0x396511,_0x251ca3)=>$F()?(ih['enqueueJob'](_0x396511,_0x251ca3),!(0xd4b+-0x36f+-0x277*0x4)):!(0x229a+-0x2344+0xab);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x5aa02c=>{_0x5aa02c['meshes']=null;});}}const x0=_0x40ae70=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x40ae70),jF=_0x275f9e=>_0x275f9e['substring'](_0x275f9e['indexOf'](':')+(0x16bb*-0x1+0x1f7a+-0x8be),_0x275f9e['indexOf'](';')),yl=_0x4a5cf0=>{switch(_0x4a5cf0){case'SCALAR':return-0x1027+-0xd84+0x1dac;case'VEC2':return-0x667+0x644*-0x6+0x2c01;case'VEC3':return 0x29b*-0x2+-0x1766+0x1af*0x11;case'VEC4':return 0x125e+0x1a0b+-0x8e1*0x5;case'MAT2':return 0x1624*-0x1+-0x1*-0x194c+-0x86*0x6;case'MAT3':return 0x2*0x6a1+-0xc52+0xe7*-0x1;case'MAT4':return 0x2038+0x31*0x88+0x2*-0x1d18;default:return 0x34+-0x1d3+0xb*0x26;}},Dd=_0x5c7299=>{switch(_0x5c7299){case-0x1a1*0x13+0x6cf*0x4+0xd*0x1d3:return dd;case 0x3f1*-0x3+-0xfd1+0x2fa5:return la;case-0x11d8+0x179c+0xe3e:return fd;case-0x3d*0x2b+-0x1ee+0x2030:return Ml;case-0x19*-0x127+-0xf87+0x6bc:return Ty;case 0x1473+0x11b*-0x1c+0x1e86:return el;case-0x43a*-0x3+0x1*-0x1c13+0x236b*0x1:return Ve;default:return 0x1d9*-0x4+0x20f6+0x886*-0x3;}},YF=_0x2d7d0a=>{switch(_0x2d7d0a){case-0x26ce+-0x15a6+0x5074:return-0x2*0x4+0xa56+-0x125*0x9;case-0x1*0x173d+0x995+0x4cf*0x7:return 0x1*0x1cbd+-0x24f8+0x41e*0x2;case 0xf00+-0x1*-0xcb9+-0x1*0x7b7:return-0x164+-0xa6*-0x1d+0x4*-0x45a;case-0x1*-0x8f3+-0x194d+-0x1d*-0x141:return 0x2007*-0x1+-0x2*0x1ec+-0x72d*-0x5;case-0x1c06+0x1f8d+0x7*0x25b:return-0x1680+0xd8e*-0x1+0xf3*0x26;case 0x12d+0x25b6+-0x12de:return 0x2122+-0x1*-0x27b+-0x2399;case-0x13*-0x119+-0x927+0x852:return-0xcae+0x19c7+-0xd15;default:return 0x1463+0x691+-0x1af4;}},KF=_0xf749=>{switch(_0xf749){case 0x7*0xc5+0x486+-0x7b*-0x15:return Int8Array;case 0xb6d+0x10bd+-0x829:return Uint8Array;case-0x3*0x385+-0x149+0x1fda:return Int16Array;case-0x269*-0x2+-0x1*-0xca+0xe67*0x1:return Uint16Array;case-0x844+0x1*0x2349+0xb*-0xa3:return Int32Array;case 0xbb7+0x899*0x2+0x239*-0x4:return Uint32Array;case-0x715*0x5+0x2596+0x5f3*0x3:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x3*0x9f2+0x346+0x1a90,[gs]:0x1b46*0x1+-0x1e8+-0x195d,[yi]:0x159c+0x1*-0xa8b+0x13*-0x95,[Wt]:-0x18fb+0x16*0x107+-0x11*-0x24,[us]:0x9*-0x174+-0xb03+-0xbb*-0x21,[gi]:-0x6c+-0x1e08+0x1d*0x10d,[is]:0x5*-0x45+-0x1*-0x9f3+-0x9*0xf4,[ba]:0x1e83+-0x12ee+0xae*-0x11,[wl]:-0x25b1+0xc8b+0x16*0x125,[El]:-0x5*-0x733+0x1*-0x56b+0x7*-0x45d,[bl]:-0x169d+-0x3e7+0x1a8e,[Al]:0x1d68+-0x14cb*0x1+0x892*-0x1,[Cl]:-0x1*-0x1e77+-0x223*0x5+0x4ef*-0x4,[Pl]:-0x3*-0xc01+-0x248+0x3*-0xb3a},ZF=_0x5a9f6e=>{switch(_0x5a9f6e){case dd:return _0x3c0729=>Math['max'](_0x3c0729/(-0xbd4*0x1+0x267f+-0x2*0xd16),-(-0x3*0x459+0x7f*0x1a+0x13*0x2));case la:return _0x349068=>_0x349068/(-0x177+0x1398+-0x81*0x22);case fd:return _0x48f9f7=>Math['max'](_0x48f9f7/(-0x18*0x751+-0x1daa+0x14d41),-(0xd5e*-0x1+-0xea3*0x1+0x1c02));case Ml:return _0x3e717a=>_0x3e717a/(-0x175*0xff+-0x1bd21+0x7*0x993d);default:return _0x2c7cf9=>_0x2c7cf9;}},Gu=(_0x55ecfd,_0x28beb2,_0x2fa123)=>{const _0x8c15b1=ZF(_0x2fa123),_0x3ab265=_0x28beb2['length'];for(let _0x45b79c=0xf54+0x14b3+-0x2407;_0x45b79c<_0x3ab265;++_0x45b79c)_0x55ecfd[_0x45b79c]=_0x8c15b1(_0x28beb2[_0x45b79c]);return _0x55ecfd;},ua=(_0xa95430,_0x212cfb,_0x52b642=!(0x1f4+0x689+-0x87c))=>{const _0x5d39f1=yl(_0xa95430['type']),_0x30873e=KF(_0xa95430['componentT'+'ype']);if(!_0x30873e)return null;let _0x210ceb;if(_0xa95430['sparse']){const _0x4ccfce=_0xa95430['sparse'],_0x3020bb={'count':_0x4ccfce['count'],'type':'SCALAR'},_0xc9b2a0=ua(Object['assign'](_0x3020bb,_0x4ccfce['indices']),_0x212cfb,!(-0x138a+0xaac+0x8de)),_0x507aba={'count':_0x4ccfce['count'],'type':_0xa95430['type'],'componentType':_0xa95430['componentT'+'ype']},_0x266583=ua(Object['assign'](_0x507aba,_0x4ccfce['values']),_0x212cfb,!(0x22f*0x7+0x19f5+-0x149f*0x2));if(_0xa95430['hasOwnProp'+'erty']('bufferView')){const _0x5761c1={'bufferView':_0xa95430['bufferView'],'byteOffset':_0xa95430['byteOffset'],'componentType':_0xa95430['componentT'+'ype'],'count':_0xa95430['count'],'type':_0xa95430['type']};_0x210ceb=ua(_0x5761c1,_0x212cfb,!(-0x4*-0x3af+-0x3d1*-0xa+0x6*-0x8d1))['slice']();}else _0x210ceb=new _0x30873e(_0xa95430['count']*_0x5d39f1);for(let _0x27c016=-0x26b6*-0x1+0xe5*-0xb+-0x185*0x13;_0x27c016<_0x4ccfce['count'];++_0x27c016){const _0x2b01eb=_0xc9b2a0[_0x27c016];for(let _0x53a2a1=-0x1aa5+0xee0+-0x1*-0xbc5;_0x53a2a1<_0x5d39f1;++_0x53a2a1)_0x210ceb[_0x2b01eb*_0x5d39f1+_0x53a2a1]=_0x266583[_0x27c016*_0x5d39f1+_0x53a2a1];}}else{if(_0xa95430['hasOwnProp'+'erty']('bufferView')){const _0x95467b=_0x212cfb[_0xa95430['bufferView']];if(_0x52b642&&_0x95467b['hasOwnProp'+'erty']('byteStride')){const _0x9cfe5d=_0x5d39f1*_0x30873e['BYTES_PER_'+'ELEMENT'],_0x3df21a=new ArrayBuffer(_0xa95430['count']*_0x9cfe5d),_0x55a666=new Uint8Array(_0x3df21a);let _0x4b3385=-0x27e*-0x4+-0x1*-0x3f1+-0x1*0xde9;for(let _0x56637b=0x108f+-0x100*0x18+0x771;_0x56637b<_0xa95430['count'];++_0x56637b){let _0x22a64d=(_0xa95430['byteOffset']||-0xfef+0x3*0x8e1+0x4*-0x2ad)+_0x56637b*_0x95467b['byteStride'];for(let _0xc9285a=0x53d*0x4+0x9*-0x9d+-0x525*0x3;_0xc9285a<_0x9cfe5d;++_0xc9285a)_0x55a666[_0x4b3385++]=_0x95467b[_0x22a64d++];}_0x210ceb=new _0x30873e(_0x3df21a);}else _0x210ceb=new _0x30873e(_0x95467b['buffer'],_0x95467b['byteOffset']+(_0xa95430['byteOffset']||-0x7*-0x431+-0x1*-0x89a+-0x25f1),_0xa95430['count']*_0x5d39f1);}else _0x210ceb=new _0x30873e(_0xa95430['count']*_0x5d39f1);}return _0x210ceb;},Pn=(_0x3a646c,_0xc965c1)=>{const _0x42080a=ua(_0x3a646c,_0xc965c1,!(-0x13c0+0x1203+-0x1bd*-0x1));if(_0x42080a instanceof Float32Array||!_0x3a646c['normalized'])return _0x42080a;const _0x5db0d6=new Float32Array(_0x42080a['length']);return Gu(_0x5db0d6,_0x42080a,Dd(_0x3a646c['componentT'+'ype'])),_0x5db0d6;},Hu=_0x2e90bb=>{let _0x3058e5=_0x2e90bb['min'],_0x3db555=_0x2e90bb['max'];if(!_0x3058e5||!_0x3db555)return null;if(_0x2e90bb['normalized']){const _0x57ba79=Dd(_0x2e90bb['componentT'+'ype']);_0x3058e5=Gu([],_0x3058e5,_0x57ba79),_0x3db555=Gu([],_0x3db555,_0x57ba79);}return new De(new D((_0x3db555[0x1e*0xa4+0xd22+-0x205a]+_0x3058e5[-0x38*-0x68+-0x1*-0x151f+-0x2bdf*0x1])*(-0x11*0x71+-0x11*0x1a8+-0x219*-0x11+0.5),(_0x3db555[0x1b4*-0xd+-0x281*-0x7+0x49e]+_0x3058e5[0x3*0x148+-0x101*0x1d+0x1946])*(0x103*0x13+-0x1*-0x32b+-0x1664*0x1+0.5),(_0x3db555[-0x7d*-0x14+0x4*-0x1f7+-0x1e6]+_0x3058e5[-0x97c+-0x474+0xdf2])*(0x5*0x97+0x1*-0xea3+0xbb0+0.5)),new D((_0x3db555[-0x1bd6+0xd7c+-0xe5a*-0x1]-_0x3058e5[-0x7*-0x3a5+-0x404*-0x6+-0x319b])*(-0x5b*-0x3f+0x162a+0x1*-0x2c8f+0.5),(_0x3db555[-0x13ba+-0x172f+0xe4e*0x3]-_0x3058e5[0x2484+0x552*0x1+-0x29d5])*(0x25*-0xdb+0x707*-0x2+0x2db5+0.5),(_0x3db555[0x2074+0x9dd*-0x1+-0x7b*0x2f]-_0x3058e5[0x687+-0xc*0x1c5+-0xeb7*-0x1])*(0x726+-0xc43+0x51d+0.5)));},T0=_0x540b31=>{if(!_0x540b31['hasOwnProp'+'erty']('mode'))return js;switch(_0x540b31['mode']){case 0x260c+-0x155c+0x1*-0x10b0:return cd;case-0x7d*-0x3d+-0xd14+0x10b4*-0x1:return hd;case 0x1148+-0x110+-0x1036:return _y;case 0x1b*-0xc6+0x161*-0x8+-0x2e7*-0xb:return gy;case 0x120c+-0x25ac+0x4*0x4e9:return js;case 0x254f*0x1+0x9d*-0x21+-0xf*0x123:return Er;case 0x19cf*-0x1+0x1d16+-0x341:return oa;default:return js;}},QF=_0x5a39c0=>{const _0xece674=new Uint16Array(_0x5a39c0);for(let _0x56de7f=0x2cb*0x4+0x211c+-0x2c48;_0x56de7f<_0x5a39c0;_0x56de7f++)_0xece674[_0x56de7f]=_0x56de7f;return _0xece674;},JF=(_0x212e85,_0x54aa57)=>{const _0xe3a76e=_0x212e85[Me];if(!_0xe3a76e||_0xe3a76e['components']!==0x5e9*0x1+-0x65*-0x5b+-0x29cd)return;let _0x4d4142;if(_0xe3a76e['size']!==_0xe3a76e['stride']){const _0x487b31=_0xe3a76e['stride']/No[_0xe3a76e['type']],_0x5ba485=new wn[_0xe3a76e['type']](_0xe3a76e['buffer'],_0xe3a76e['offset'],_0xe3a76e['count']*_0x487b31);_0x4d4142=new wn[_0xe3a76e['type']](_0xe3a76e['count']*(0x1*0x11e1+-0x1775*0x1+-0x9*-0x9f));for(let _0x379b10=0xd22+-0x1093+0x371;_0x379b10<_0xe3a76e['count'];++_0x379b10)_0x4d4142[_0x379b10*(-0x61*-0x53+-0xdf*0x3+0x1cd3*-0x1)+(-0x1bfd+0xa*-0x2f+0x5f7*0x5)]=_0x5ba485[_0x379b10*_0x487b31+(0x7*-0x556+-0x1*0x1675+0x3d*0xfb)],_0x4d4142[_0x379b10*(0x9e*-0x11+-0x2444+0x2ec5)+(-0x35*-0x47+0x26eb+-0x359d)]=_0x5ba485[_0x379b10*_0x487b31+(-0x1*0x57a+0x1ac4+-0x1549)],_0x4d4142[_0x379b10*(-0x51a+0x2233+0x11*-0x1b6)+(0xdba+-0x600+-0x2*0x3dc)]=_0x5ba485[_0x379b10*_0x487b31+(0x86+0x1*0xde2+-0xe66)];}else _0x4d4142=new wn[_0xe3a76e['type']](_0xe3a76e['buffer'],_0xe3a76e['offset'],_0xe3a76e['count']*(0x17a2+-0x1*-0x2567+-0x3d06));const _0x4e91e6=_0xe3a76e['count'];_0x54aa57||(_0x54aa57=QF(_0x4e91e6));const _0x47a8b2=Iv(_0x4d4142,_0x54aa57),_0x2039f7=new Float32Array(_0x47a8b2['length']);_0x2039f7['set'](_0x47a8b2),_0x212e85[gs]={'buffer':_0x2039f7['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x4e91e6,'components':0x3,'type':Ve};},eN=_0x32d6bf=>{const _0x132b40=_0x1a732c=>{const _0x50fa75=[];for(let _0x169bc0=-0xa17+0x1b*0x171+-0x1cd4;_0x169bc0<_0x1a732c['_levels']['length'];++_0x169bc0){let _0xedf2d7=[];if(_0x1a732c['cubemap']){for(let _0x4eccfd=-0xd77+-0x26e1+0x3458;_0x4eccfd<0x20+-0x8b+-0x1*-0x71;++_0x4eccfd)_0xedf2d7['push'](_0x1a732c['_levels'][_0x169bc0][_0x4eccfd]);}else _0xedf2d7=_0x1a732c['_levels'][_0x169bc0];_0x50fa75['push'](_0xedf2d7);}return _0x50fa75;},_0x21a86c=new _e(_0x32d6bf['device'],_0x32d6bf);return _0x21a86c['_levels']=_0x132b40(_0x32d6bf),_0x21a86c;},tN=_0x48f642=>{const _0x23af4e=new pe(_0x48f642['name']+'_clone',_0x48f642['type'],_0x48f642['file'],_0x48f642['data'],_0x48f642['options']);return _0x23af4e['loaded']=!(-0x21b1+-0x9*-0x265+0xc24),_0x23af4e['resource']=eN(_0x48f642['resource']),_0x48f642['registry']['add'](_0x23af4e),_0x23af4e;},sN=(_0x8e3b9f,_0x33e4eb)=>{const _0x3c056a=_0x33e4eb[Me];if(!_0x3c056a)return null;const _0x35d1b4=_0x3c056a['count'],_0x352ad0=[];for(const _0x4c1fbb in _0x33e4eb)if(_0x33e4eb['hasOwnProp'+'erty'](_0x4c1fbb)){const _0x2abb67={'semantic':_0x4c1fbb,'components':_0x33e4eb[_0x4c1fbb]['components'],'type':_0x33e4eb[_0x4c1fbb]['type'],'normalize':!!_0x33e4eb[_0x4c1fbb]['normalize']};kt['isElementV'+'alid'](_0x8e3b9f,_0x2abb67)||_0x2abb67['components']++,_0x352ad0['push'](_0x2abb67);}_0x352ad0['sort']((_0x3273de,_0x4719ee)=>SS[_0x3273de['semantic']]-SS[_0x4719ee['semantic']]);let _0x2aaaf2,_0x4eb88d,_0x507f4e,_0x2a6306,_0x3ffa2c,_0x1eeecb;const _0x2794d0=new kt(_0x8e3b9f,_0x352ad0);let _0x5d181f=!(0x20a+-0x2234+0x202a);for(_0x2aaaf2=0x4a*-0x43+-0x1efd*-0x1+0x11*-0xaf;_0x2aaaf2<_0x2794d0['elements']['length'];++_0x2aaaf2)if(_0x3ffa2c=_0x2794d0['elements'][_0x2aaaf2],_0x2a6306=_0x33e4eb[_0x3ffa2c['name']],_0x1eeecb=_0x2a6306['offset']-_0x3c056a['offset'],_0x2a6306['buffer']!==_0x3c056a['buffer']||_0x2a6306['stride']!==_0x3ffa2c['stride']||_0x2a6306['size']!==_0x3ffa2c['size']||_0x1eeecb!==_0x3ffa2c['offset']){_0x5d181f=!(0xcc*-0x24+-0x1241+0x2ef2);break;}const _0x4039ba=new Is(_0x8e3b9f,_0x2794d0,_0x35d1b4),_0x5598b7=_0x4039ba['lock'](),_0x23f403=new Uint32Array(_0x5598b7);let _0x20da8c;if(_0x5d181f)_0x20da8c=new Uint32Array(_0x3c056a['buffer'],_0x3c056a['offset'],_0x35d1b4*_0x4039ba['format']['size']/(-0x10b6+0x256b+-0x14b1)),_0x23f403['set'](_0x20da8c);else{let _0x28f0c5,_0x2e4432;for(_0x2aaaf2=-0x1bcc+0xf*0xd7+0xf33;_0x2aaaf2<_0x4039ba['format']['elements']['length'];++_0x2aaaf2){_0x3ffa2c=_0x4039ba['format']['elements'][_0x2aaaf2],_0x28f0c5=_0x3ffa2c['stride']/(0x479*0x1+-0x7e6+0x371),_0x2a6306=_0x33e4eb[_0x3ffa2c['name']],_0x2e4432=_0x2a6306['stride']/(-0x13c8+0x106*0x20+-0x4*0x33d),_0x20da8c=new Uint32Array(_0x2a6306['buffer'],_0x2a6306['offset'],(_0x2a6306['count']-(-0x1b4+0x1*0x5c9+-0x414))*_0x2e4432+(_0x2a6306['size']+(0x1c6a+0x1d2b+-0x3992))/(-0x2209+0x638*-0x3+0x67*0x83));let _0x29f019=0x206a+0xa14+-0x2a7e,_0x53fa95=_0x3ffa2c['offset']/(0x5*-0x742+-0x1f7b*0x1+0x43c9);const _0x2c4e44=Math['floor']((_0x2a6306['size']+(-0x2*0x8f9+-0x1ed4+0x45*0xb5))/(0x1323+-0x1565+0x6*0x61));for(_0x4eb88d=0xb*0xd3+-0xe2+-0x82f;_0x4eb88d<_0x35d1b4;++_0x4eb88d){for(_0x507f4e=0x1068+-0x11d+-0xf4b;_0x507f4e<_0x2c4e44;++_0x507f4e)_0x23f403[_0x53fa95+_0x507f4e]=_0x20da8c[_0x29f019+_0x507f4e];_0x29f019+=_0x2e4432,_0x53fa95+=_0x28f0c5;}}}return _0x4039ba['unlock'](),_0x4039ba;},iN=(_0x431fed,_0xfdbbd9,_0x3c5eda,_0x7c1579,_0x445e9d,_0x2784ba)=>{const _0x4b4eff={},_0x4fc91c=[];for(const _0x15166e in _0xfdbbd9)_0xfdbbd9['hasOwnProp'+'erty'](_0x15166e)&&Nh['hasOwnProp'+'erty'](_0x15166e)&&(_0x4b4eff[_0x15166e]=_0xfdbbd9[_0x15166e],_0x4fc91c['push'](_0x15166e+':'+_0xfdbbd9[_0x15166e]));_0x4fc91c['sort']();const _0x43f6f1=_0x4fc91c['join']();let _0x2dfe96=_0x2784ba[_0x43f6f1];if(!_0x2dfe96){const _0x3f5a37={};for(const _0x5e729e in _0x4b4eff){const _0x470059=_0x7c1579[_0xfdbbd9[_0x5e729e]],_0x5a330b=ua(_0x470059,_0x445e9d),_0x59b047=_0x445e9d[_0x470059['bufferView']],_0x106281=Nh[_0x5e729e],_0x46ac16=yl(_0x470059['type'])*YF(_0x470059['componentT'+'ype']),_0x1bb86c=_0x59b047&&_0x59b047['hasOwnProp'+'erty']('byteStride')?_0x59b047['byteStride']:_0x46ac16;_0x3f5a37[_0x106281]={'buffer':_0x5a330b['buffer'],'size':_0x46ac16,'offset':_0x5a330b['byteOffset'],'stride':_0x1bb86c,'count':_0x470059['count'],'components':yl(_0x470059['type']),'type':Dd(_0x470059['componentT'+'ype']),'normalize':_0x470059['normalized']};}_0x3f5a37['hasOwnProp'+'erty'](gs)||JF(_0x3f5a37,_0x3c5eda),_0x2dfe96=sN(_0x431fed,_0x3f5a37),_0x2784ba[_0x43f6f1]=_0x2dfe96;}return _0x2dfe96;},rN=(_0x561397,_0x414744,_0x533fda,_0x48a2f8,_0x5e148c,_0x5a6f98)=>{let _0x383e73,_0x3a401c,_0x17c0a0;const _0x15b586=_0x414744['joints'],_0x4c4daa=_0x15b586['length'],_0x4d2cf2=[];if(_0x414744['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x2543c6=_0x414744['inverseBin'+'dMatrices'],_0x4b3553=ua(_0x533fda[_0x2543c6],_0x48a2f8,!(0x8d2+0x48*0x37+-0x184a)),_0x238641=[];for(_0x383e73=-0xdb+-0x13ab+0x1486;_0x383e73<_0x4c4daa;_0x383e73++){for(_0x3a401c=0x1d66+-0x23*-0x65+-0x2b35;_0x3a401c<-0xc2*-0x32+0x1*0x1779+-0x3d4d;_0x3a401c++)_0x238641[_0x3a401c]=_0x4b3553[_0x383e73*(-0x4f*0x39+0x61c+0xf*0xc5)+_0x3a401c];_0x17c0a0=new te(),_0x17c0a0['set'](_0x238641),_0x4d2cf2['push'](_0x17c0a0);}}else{for(_0x383e73=-0x175e+-0xd*0x1a0+0x2c7e;_0x383e73<_0x4c4daa;_0x383e73++)_0x17c0a0=new te(),_0x4d2cf2['push'](_0x17c0a0);}const _0x105281=[];for(_0x383e73=0x1340+0xe7d*-0x1+-0x4c3;_0x383e73<_0x4c4daa;_0x383e73++)_0x105281[_0x383e73]=_0x5e148c[_0x15b586[_0x383e73]]['name'];const _0x1df186=_0x105281['join']('#');let _0x576d4a=_0x5a6f98['get'](_0x1df186);return _0x576d4a||(_0x576d4a=new Lv(_0x561397,_0x4d2cf2,_0x105281),_0x5a6f98['set'](_0x1df186,_0x576d4a)),_0x576d4a;},aN=(_0x1db4c1,_0x3f2e43,_0x125106,_0x15ca03,_0x2b4a70,_0x55f883,_0x38b7bf)=>{var _0x3d3a32;const _0x1510d9=new Ge(_0x1db4c1);_0x1510d9['aabb']=Hu(_0x125106[_0x3f2e43['attributes']['POSITION']]);const _0x485fd4=[];for(const [_0x52ba8c,_0x1c5e35]of Object['entries'](_0x3f2e43['attributes'])){const _0x42a78c=_0x125106[_0x1c5e35],_0x32893c=Nh[_0x52ba8c],_0x47dd7f=Dd(_0x42a78c['componentT'+'ype']);_0x485fd4['push']({'semantic':_0x32893c,'components':yl(_0x42a78c['type']),'type':_0x47dd7f,'normalize':_0x42a78c['normalized']??(_0x32893c===Wt&&(_0x47dd7f===la||_0x47dd7f===Ml))});}if(_0x38b7bf['push'](new Promise((_0x3b8c7d,_0x575d09)=>{const _0x41d86c=_0x3f2e43['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x15ca03[_0x41d86c['bufferView']]['slice']()['buffer'],(_0x3e98d1,_0x37c356)=>{var _0x57a4be;if(_0x3e98d1)console['log'](_0x3e98d1),_0x575d09(_0x3e98d1);else{const _0x1baf5a={};for(const [_0x230e4c,_0x22b52f]of Object['entries'](_0x41d86c['attributes']))_0x1baf5a[Nh[_0x230e4c]]=_0x37c356['attributes']['indexOf'](_0x22b52f);_0x485fd4['sort']((_0x59a94,_0x321a84)=>_0x1baf5a[_0x59a94['semantic']]-_0x1baf5a[_0x321a84['semantic']]),(_0x57a4be=_0x3f2e43['attributes'])!=null&&_0x57a4be['NORMAL']||_0x485fd4['splice'](-0x26d+-0x2149+-0x29*-0xdf,-0x1b2f+0x246e*0x1+-0x315*0x3,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x591741=new kt(_0x1db4c1,_0x485fd4),_0x510f50=_0x37c356['vertices']['byteLength']/_0x591741['size'],_0x2b2fd2=_0x510f50<=0x3d7d+0x1*0x15e6+0xac9c?Yi:wr,_0x510e21=_0x37c356['indices']['byteLength']/(_0x510f50<=0x1f185+0x17938*-0x1+0x87b2?0x13*-0x115+-0x8*-0x59+0x11c9:-0x2*0x12c4+-0x41*0x4e+-0x1cad*-0x2);w['call'](()=>{_0x510f50!==_0x125106[_0x3f2e43['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x510e21!==_0x125106[_0x3f2e43['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0xd53a22=new Is(_0x1db4c1,_0x591741,_0x510f50,{'data':_0x37c356['vertices']}),_0x3d0618=new br(_0x1db4c1,_0x2b2fd2,_0x510e21,ms,_0x37c356['indices']);_0x1510d9['vertexBuff'+'er']=_0xd53a22,_0x1510d9['indexBuffe'+'r'][0x8f4*-0x1+0x227d+-0x1989]=_0x3d0618,_0x1510d9['primitive'][-0xe0f+0x1e4b*-0x1+-0x1*-0x2c5a]['type']=T0(_0x3f2e43),_0x1510d9['primitive'][-0x1730+0x410+-0x660*-0x3]['base']=-0x3ed*-0x1+0x1184+-0x1571,_0x1510d9['primitive'][-0x10c3+-0x5*0x185+0x4*0x617]['count']=_0x3d0618?_0x510e21:_0x510f50,_0x1510d9['primitive'][-0x75e+0x1*0x247d+0x23*-0xd5]['indexed']=!!_0x3d0618,_0x3b8c7d();}});})),(_0x3d3a32=_0x3f2e43==null?void(-0x17d5*0x1+0x44*0x37+-0x1*-0x939):_0x3f2e43['extensions'])!=null&&_0x3d3a32['KHR_materi'+'als_varian'+'ts']){const _0x1cb3ae=_0x3f2e43['extensions']['KHR_materi'+'als_varian'+'ts'],_0x5ba8b3={};_0x1cb3ae['mappings']['forEach'](_0x5afb63=>{_0x5afb63['variants']['forEach'](_0x5f4ee3=>{_0x5ba8b3[_0x5f4ee3]=_0x5afb63['material'];});}),_0x2b4a70[_0x1510d9['id']]=_0x5ba8b3;}return _0x55f883[_0x1510d9['id']]=_0x3f2e43['material'],_0x1510d9;},nN=(_0x3db45b,_0x24f38f,_0x52a4bf,_0x2cee96,_0x54a9c6,_0x5cc5ad,_0x12b9db,_0x4edbc4,_0x19fdc7)=>{const _0x1cff8a=[];return _0x24f38f['primitives']['forEach'](_0xf57340=>{var _0x18ffa5;if((_0x18ffa5=_0xf57340['extensions'])!=null&&_0x18ffa5['KHR_draco_'+'mesh_compr'+'ession'])_0x1cff8a['push'](aN(_0x3db45b,_0xf57340,_0x52a4bf,_0x2cee96,_0x5cc5ad,_0x12b9db,_0x19fdc7));else{let _0x270c3d=_0xf57340['hasOwnProp'+'erty']('indices')?ua(_0x52a4bf[_0xf57340['indices']],_0x2cee96,!(0x18ba+-0xa25+-0xe95*0x1)):null;const _0x581cac=iN(_0x3db45b,_0xf57340['attributes'],_0x270c3d,_0x52a4bf,_0x2cee96,_0x54a9c6),_0x562519=T0(_0xf57340),_0x1fb584=new Ge(_0x3db45b);if(_0x1fb584['vertexBuff'+'er']=_0x581cac,_0x1fb584['primitive'][-0x1919+0x11b0*0x1+0x769]['type']=_0x562519,_0x1fb584['primitive'][0x1929+-0x1*-0xc0b+-0x2534]['base']=-0x1d*0xd7+0x10c6+0x795,_0x1fb584['primitive'][-0x48c*-0x5+-0x607+-0x10b5*0x1]['indexed']=_0x270c3d!==null,_0x270c3d!==null){let _0x117dca;_0x270c3d instanceof Uint8Array?_0x117dca=$f:_0x270c3d instanceof Uint16Array?_0x117dca=Yi:_0x117dca=wr,_0x117dca===$f&&_0x3db45b['isWebGPU']&&(_0x117dca=Yi,_0x270c3d=new Uint16Array(_0x270c3d));const _0x4941d4=new br(_0x3db45b,_0x117dca,_0x270c3d['length'],ms,_0x270c3d);_0x1fb584['indexBuffe'+'r'][0x237a*-0x1+-0x877*-0x4+0x19e]=_0x4941d4,_0x1fb584['primitive'][-0x33*0x9b+-0x18cb+0x37ac]['count']=_0x270c3d['length'];}else _0x1fb584['primitive'][0x6*-0x3f1+0x59*-0x69+0x3c27]['count']=_0x581cac['numVertice'+'s'];if(_0xf57340['hasOwnProp'+'erty']('extensions')&&_0xf57340['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x5810f2=_0xf57340['extensions']['KHR_materi'+'als_varian'+'ts'],_0x574751={};_0x5810f2['mappings']['forEach'](_0x2c7fc1=>{_0x2c7fc1['variants']['forEach'](_0x2b2821=>{_0x574751[_0x2b2821]=_0x2c7fc1['material'];});}),_0x5cc5ad[_0x1fb584['id']]=_0x574751;}_0x12b9db[_0x1fb584['id']]=_0xf57340['material'];let _0x15f3e0=_0x52a4bf[_0xf57340['attributes']['POSITION']];if(_0x1fb584['aabb']=Hu(_0x15f3e0),_0xf57340['hasOwnProp'+'erty']('targets')){const _0x294eb3=[];_0xf57340['targets']['forEach']((_0x50d5bd,_0x3881dd)=>{const _0x8544e8={};_0x50d5bd['hasOwnProp'+'erty']('POSITION')&&(_0x15f3e0=_0x52a4bf[_0x50d5bd['POSITION']],_0x8544e8['deltaPosit'+'ions']=Pn(_0x15f3e0,_0x2cee96),_0x8544e8['aabb']=Hu(_0x15f3e0)),_0x50d5bd['hasOwnProp'+'erty']('NORMAL')&&(_0x15f3e0=_0x52a4bf[_0x50d5bd['NORMAL']],_0x8544e8['deltaNorma'+'ls']=Pn(_0x15f3e0,_0x2cee96)),_0x24f38f['hasOwnProp'+'erty']('extras')&&_0x24f38f['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x8544e8['name']=_0x24f38f['extras']['targetName'+'s'][_0x3881dd]:_0x8544e8['name']=_0x3881dd['toString'](0x939+0x576*-0x5+-0x121f*-0x1),_0x24f38f['hasOwnProp'+'erty']('weights')&&(_0x8544e8['defaultWei'+'ght']=_0x24f38f['weights'][_0x3881dd]),_0x8544e8['preserveDa'+'ta']=_0x4edbc4['morphPrese'+'rveData'],_0x294eb3['push'](new Md(_0x8544e8));}),_0x1fb584['morph']=new mm(_0x294eb3,_0x3db45b,{'preferHighPrecision':_0x4edbc4['morphPrefe'+'rHighPreci'+'sion']});}_0x1cff8a['push'](_0x1fb584);}}),_0x1cff8a;},Dt=(_0x1369e5,_0x4242b8,_0x3d61b9)=>{var _0x3d3211;let _0x5c9321;const _0x1a3caf=_0x1369e5['texCoord'];if(_0x1a3caf){for(_0x5c9321=0x6*-0x667+0x74*-0x23+-0x2*-0x1b23;_0x5c9321<_0x3d61b9['length'];++_0x5c9321)_0x4242b8[_0x3d61b9[_0x5c9321]+'MapUv']=_0x1a3caf;}const _0x494fb3=[0xa99+0x1629+-0x20c2,-0x1963+-0x1*-0xef0+-0x217*-0x5],_0x43cf1c=[-0xedb+0xd4+0xe08,0x2406+0x1750+-0x3b55],_0x4b3a2c=(_0x3d3211=_0x1369e5['extensions'])==null?void(0x2*-0x52d+-0x457+-0x1*-0xeb1):_0x3d3211['KHR_textur'+'e_transfor'+'m'];if(_0x4b3a2c){const _0x39c225=_0x4b3a2c['offset']||_0x494fb3,_0x420e54=_0x4b3a2c['scale']||_0x43cf1c,_0x727480=_0x4b3a2c['rotation']?-_0x4b3a2c['rotation']*Y['RAD_TO_DEG']:0x1a3d+-0x8*0x243+-0x825,_0x41f2b0=new J(_0x420e54[0x321*0x5+0x2*0x811+-0x1fc7],_0x420e54[-0x2*-0xea7+0x197e+-0x36cb]),_0x32cf52=new J(_0x39c225[0x1*0x20b3+0x8*-0x390+-0x19*0x2b],-0xd57+0x243e+-0x16e6-_0x420e54[0xa*-0x11+0x2*0x10bb+-0x20cb]-_0x39c225[-0x141b+-0x2158+0x3574]);for(_0x5c9321=-0x2702+0xcdd+-0x123*-0x17;_0x5c9321<_0x3d61b9['length'];++_0x5c9321)_0x4242b8[_0x3d61b9[_0x5c9321]+'MapTiling']=_0x41f2b0,_0x4242b8[_0x3d61b9[_0x5c9321]+'MapOffset']=_0x32cf52,_0x4242b8[_0x3d61b9[_0x5c9321]+('MapRotatio'+'n')]=_0x727480;}},oN=(_0xebfb9c,_0x5ed6f6,_0x3067fb)=>{let _0x409949,_0x2f81e4;if(_0xebfb9c['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x409949=_0xebfb9c['diffuseFac'+'tor'],_0x5ed6f6['diffuse']['set'](Math['pow'](_0x409949[-0x231e+0x268+0x20b6],(-0x1637+-0x1ae5+-0x105f*-0x3)/(-0xbf5*-0x1+-0x66*0x57+0x5*0x48b+0.20000000000000018)),Math['pow'](_0x409949[-0x9c*-0x8+0x17b0+-0x3*0x985],(0xb38*-0x1+-0x1579+-0x136*-0x1b)/(-0x744+-0x2358+-0x154f*-0x2+0.20000000000000018)),Math['pow'](_0x409949[0x62+0x1c72+-0x1cd2],(0x45*-0x5e+0xede+-0xa79*-0x1)/(-0x6c3+-0x1ed7+0x259c+0.20000000000000018))),_0x5ed6f6['opacity']=_0x409949[0xe6f*-0x2+0x5ef*-0x1+0x22d0]):(_0x5ed6f6['diffuse']['set'](0x1c4*-0x15+0x7*0x47f+-0x4*-0x167,-0x10a+0xd91+0x1ca*-0x7,-0xa37+-0x1c86+0x26be),_0x5ed6f6['opacity']=0x2252+0x35*-0x34+0x1*-0x178d),_0xebfb9c['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x462d63=_0xebfb9c['diffuseTex'+'ture'];_0x2f81e4=_0x3067fb[_0x462d63['index']],_0x5ed6f6['diffuseMap']=_0x2f81e4,_0x5ed6f6['diffuseMap'+'Channel']='rgb',_0x5ed6f6['opacityMap']=_0x2f81e4,_0x5ed6f6['opacityMap'+'Channel']='a',Dt(_0x462d63,_0x5ed6f6,['diffuse','opacity']);}if(_0x5ed6f6['useMetalne'+'ss']=!(-0x50*-0x38+0x20c+-0x138b),_0xebfb9c['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x409949=_0xebfb9c['specularFa'+'ctor'],_0x5ed6f6['specular']['set'](Math['pow'](_0x409949[0x4ae*-0x5+0x1aa3+-0x33d],(0x2be+0xb77+0x71a*-0x2)/(0x1*-0x2263+0x1*-0xe7+0x9*0x3ec+0.20000000000000018)),Math['pow'](_0x409949[0x41*0x7+-0x1f3c+0x1d76],(-0x98b*-0x2+-0xf16*0x2+0xb17)/(-0x47*0x3b+0xf0c+0x153*0x1+0.20000000000000018)),Math['pow'](_0x409949[0xda7+0x1da4+-0x2b49],(0xf12*-0x1+-0x4*-0xa9+0x425*0x3)/(0xc*0x18e+0x1f32+-0x28*0x13f+0.20000000000000018)))):_0x5ed6f6['specular']['set'](0x57*0x57+-0x1052+0xf*-0xe2,-0x2*0x1348+-0xab8+0x3149,-0x59c+0x1ffa+0x1*-0x1a5d),_0xebfb9c['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x5ed6f6['gloss']=_0xebfb9c['glossiness'+'Factor']:_0x5ed6f6['gloss']=-0x2061+-0x2236+0x4298,_0xebfb9c['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2c4738=_0xebfb9c['specularGl'+'ossinessTe'+'xture'];_0x5ed6f6['specularMa'+'p']=_0x5ed6f6['glossMap']=_0x3067fb[_0x2c4738['index']],_0x5ed6f6['specularMa'+'pChannel']='rgb',_0x5ed6f6['glossMapCh'+'annel']='a',Dt(_0x2c4738,_0x5ed6f6,['gloss','metalness']);}},lN=(_0x3afdf8,_0x1869ff,_0x521aad)=>{if(_0x3afdf8['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x1869ff['clearCoat']=_0x3afdf8['clearcoatF'+'actor']*(-0x250f+-0x2ce+0x27dd+0.25):_0x1869ff['clearCoat']=-0xe44+-0x1a*0x36+0x10*0x13c,_0x3afdf8['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x5bfc08=_0x3afdf8['clearcoatT'+'exture'];_0x1869ff['clearCoatM'+'ap']=_0x521aad[_0x5bfc08['index']],_0x1869ff['clearCoatM'+'apChannel']='r',Dt(_0x5bfc08,_0x1869ff,['clearCoat']);}if(_0x3afdf8['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x1869ff['clearCoatG'+'loss']=_0x3afdf8['clearcoatR'+'oughnessFa'+'ctor']:_0x1869ff['clearCoatG'+'loss']=-0x123+-0x26ed+0x2810,_0x3afdf8['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1a1fb7=_0x3afdf8['clearcoatR'+'oughnessTe'+'xture'];_0x1869ff['clearCoatG'+'lossMap']=_0x521aad[_0x1a1fb7['index']],_0x1869ff['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x1a1fb7,_0x1869ff,['clearCoatG'+'loss']);}if(_0x3afdf8['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x18b0b2=_0x3afdf8['clearcoatN'+'ormalTextu'+'re'];_0x1869ff['clearCoatN'+'ormalMap']=_0x521aad[_0x18b0b2['index']],Dt(_0x18b0b2,_0x1869ff,['clearCoatN'+'ormal']),_0x18b0b2['hasOwnProp'+'erty']('scale')?_0x1869ff['clearCoatB'+'umpiness']=_0x18b0b2['scale']:_0x1869ff['clearCoatB'+'umpiness']=0x7ac+-0x19a0+-0x1*-0x11f5;}_0x1869ff['clearCoatG'+'lossInvert']=!(-0x28a*0xd+-0x1b17+0x5*0xc05);},cN=(_0x34e589,_0x2e6d29,_0x153a96)=>{_0x2e6d29['useLightin'+'g']=!(-0x2148+-0x4e9+0x2632),_0x2e6d29['emissive']['copy'](_0x2e6d29['diffuse']),_0x2e6d29['emissiveMa'+'p']=_0x2e6d29['diffuseMap'],_0x2e6d29['emissiveMa'+'pUv']=_0x2e6d29['diffuseMap'+'Uv'],_0x2e6d29['emissiveMa'+'pTiling']['copy'](_0x2e6d29['diffuseMap'+'Tiling']),_0x2e6d29['emissiveMa'+'pOffset']['copy'](_0x2e6d29['diffuseMap'+'Offset']),_0x2e6d29['emissiveMa'+'pRotation']=_0x2e6d29['diffuseMap'+'Rotation'],_0x2e6d29['emissiveMa'+'pChannel']=_0x2e6d29['diffuseMap'+'Channel'],_0x2e6d29['emissiveVe'+'rtexColor']=_0x2e6d29['diffuseVer'+'texColor'],_0x2e6d29['emissiveVe'+'rtexColorC'+'hannel']=_0x2e6d29['diffuseVer'+'texColorCh'+'annel'],_0x2e6d29['useLightin'+'g']=!(0x7*-0x3bf+-0x6e*0x2e+0x2dfe),_0x2e6d29['useSkybox']=!(-0x4e*0x7d+-0x13bb*0x1+-0x39d2*-0x1),_0x2e6d29['diffuse']['set'](0x81*-0x3f+0x5da+0x19e6,0x2328+-0x1*0x1805+-0x13*0x96,0x2*0x92b+-0xe1*-0x13+-0x2308),_0x2e6d29['diffuseMap']=null,_0x2e6d29['diffuseVer'+'texColor']=!(-0x1a22+-0x1a86+0xd*0x40d);},hN=(_0x51c40d,_0x40362d,_0x2bf4fa)=>{if(_0x40362d['useMetalne'+'ssSpecular'+'Color']=!(0xb5e+-0x5f*0x11+-0x50f),_0x51c40d['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x40362d['specularMa'+'p']=_0x2bf4fa[_0x51c40d['specularCo'+'lorTexture']['index']],_0x40362d['specularMa'+'pChannel']='rgb',Dt(_0x51c40d['specularCo'+'lorTexture'],_0x40362d,['specular'])),_0x51c40d['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x52bddb=_0x51c40d['specularCo'+'lorFactor'];_0x40362d['specular']['set'](Math['pow'](_0x52bddb[-0x1*-0x939+0x1ec9+-0x2802],(0xf3*-0x6+-0x7*-0x88+0x1fb)/(0x1e2b+-0xf47+-0xee2+0.20000000000000018)),Math['pow'](_0x52bddb[0x1*-0x1d09+0xc55+0x2f*0x5b],(0x10c1*-0x1+0x1*0x1be0+-0xb1e)/(-0x2096+-0xac7*-0x2+-0x3*-0x3ae+0.20000000000000018)),Math['pow'](_0x52bddb[-0x4*0x49a+-0x1*-0x5b6+0x10f*0xc],(-0x117d+0x1a87+-0x101*0x9)/(-0xae3*0x3+-0x37d*0x1+0x2428+0.20000000000000018)));}else _0x40362d['specular']['set'](-0x198a+0x1957+0x34,0x19*0x135+0x284+-0x20b0,-0x6*-0x5d9+0x1679+-0x398e);_0x51c40d['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x40362d['specularit'+'yFactor']=_0x51c40d['specularFa'+'ctor']:_0x40362d['specularit'+'yFactor']=0x2533+-0xc8f+0x77*-0x35,_0x51c40d['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x40362d['specularit'+'yFactorMap'+'Channel']='a',_0x40362d['specularit'+'yFactorMap']=_0x2bf4fa[_0x51c40d['specularTe'+'xture']['index']],Dt(_0x51c40d['specularTe'+'xture'],_0x40362d,['specularit'+'yFactor']));},dN=(_0x2ba1e5,_0xe1868f,_0x328fdd)=>{_0x2ba1e5['hasOwnProp'+'erty']('ior')&&(_0xe1868f['refraction'+'Index']=(0x10d*0x1d+0x23e6+-0x2*0x212f)/_0x2ba1e5['ior']);},fN=(_0x27050c,_0x366a78,_0x829b66)=>{_0x27050c['hasOwnProp'+'erty']('dispersion')&&(_0x366a78['dispersion']=_0x27050c['dispersion']);},uN=(_0x3cb3e2,_0x58f330,_0x4dcaea)=>{_0x58f330['blendType']=Zs,_0x58f330['useDynamic'+'Refraction']=!(0x2528+-0x2231+0xfd*-0x3),_0x3cb3e2['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x58f330['refraction']=_0x3cb3e2['transmissi'+'onFactor']),_0x3cb3e2['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x58f330['refraction'+'MapChannel']='r',_0x58f330['refraction'+'Map']=_0x4dcaea[_0x3cb3e2['transmissi'+'onTexture']['index']],Dt(_0x3cb3e2['transmissi'+'onTexture'],_0x58f330,['refraction']));},pN=(_0x32c5b1,_0x7898cf,_0x301700)=>{if(_0x7898cf['useSheen']=!(0x16d6+0x5a4*-0x1+-0x1132),_0x32c5b1['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x3c8057=_0x32c5b1['sheenColor'+'Factor'];_0x7898cf['sheen']['set'](Math['pow'](_0x3c8057[-0x1*-0x1bca+0x162e+-0x31f8],(-0x4*0x5ea+0xf4*0x6+0x11f1)/(-0x1*0x23a0+0x15*-0x11b+0x17*0x28f+0.20000000000000018)),Math['pow'](_0x3c8057[0x8b*0x1+0xeba+-0x7a2*0x2],(0x10d*-0x17+0x296*0x5+0xb3e)/(0x431+-0x16a3+0x1274+0.20000000000000018)),Math['pow'](_0x3c8057[-0x736+0x22*-0x5f+-0x1*-0x13d6],(0x354+-0xf*0x8+0x2db*-0x1)/(-0x4fb+-0x515+0x1*0xa12+0.20000000000000018)));}else _0x7898cf['sheen']['set'](0x1e06+0x417*0x1+-0x221c,0x11*0x1b1+-0x21b4+0x4f4,0x7*-0x3cd+-0x1*-0x107e+0xa1e);_0x32c5b1['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x7898cf['sheenMap']=_0x301700[_0x32c5b1['sheenColor'+'Texture']['index']],Dt(_0x32c5b1['sheenColor'+'Texture'],_0x7898cf,['sheen'])),_0x7898cf['sheenGloss']=_0x32c5b1['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x32c5b1['sheenRough'+'nessFactor']:-0x1c75+-0x6f3+-0x2*-0x11b4,_0x32c5b1['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x7898cf['sheenGloss'+'Map']=_0x301700[_0x32c5b1['sheenRough'+'nessTextur'+'e']['index']],_0x7898cf['sheenGloss'+'MapChannel']='a',Dt(_0x32c5b1['sheenRough'+'nessTextur'+'e'],_0x7898cf,['sheenGloss'])),_0x7898cf['sheenGloss'+'Invert']=!(0x1*0xfa3+0x2644+0x35e7*-0x1);},mN=(_0x5a4655,_0x4469c9,_0x3633c3)=>{if(_0x4469c9['blendType']=Zs,_0x4469c9['useDynamic'+'Refraction']=!(0x167*0x5+0x1*0x1669+-0x1d6c),_0x5a4655['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x4469c9['thickness']=_0x5a4655['thicknessF'+'actor']),_0x5a4655['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x4469c9['thicknessM'+'ap']=_0x3633c3[_0x5a4655['thicknessT'+'exture']['index']],_0x4469c9['thicknessM'+'apChannel']='g',Dt(_0x5a4655['thicknessT'+'exture'],_0x4469c9,['thickness'])),_0x5a4655['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x4469c9['attenuatio'+'nDistance']=_0x5a4655['attenuatio'+'nDistance']),_0x5a4655['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x32528f=_0x5a4655['attenuatio'+'nColor'];_0x4469c9['attenuatio'+'n']['set'](Math['pow'](_0x32528f[-0x8*0x15b+-0x1624+0x20fc],(-0x1d10+-0x5*0x6d9+0x3f4e)/(-0x1*0x1e29+0x10c2+0xd69+0.20000000000000018)),Math['pow'](_0x32528f[-0x21f3+0x63c+0x1bb8],(-0x1564+0x13*-0x6a+0x1d43)/(0x1f4*0x4+0x14c3+-0x1*0x1c91+0.20000000000000018)),Math['pow'](_0x32528f[-0x2*0x76e+0x3a8*-0x5+0x2126],(0x1ff4+0x6c9+-0x1*0x26bc)/(0x233d+-0x1bb0+-0x78b+0.20000000000000018)));}},_N=(_0x4f7136,_0x12510e,_0x5e2423)=>{_0x4f7136['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x12510e['emissiveIn'+'tensity']=_0x4f7136['emissiveSt'+'rength']);},gN=(_0x205b0c,_0x1d5cfa,_0x273f65)=>{_0x1d5cfa['useIridesc'+'ence']=!(-0x1222+0xb7*-0xb+0x1*0x19ff),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x1d5cfa['iridescenc'+'e']=_0x205b0c['iridescenc'+'eFactor']),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x1d5cfa['iridescenc'+'eMapChanne'+'l']='r',_0x1d5cfa['iridescenc'+'eMap']=_0x273f65[_0x205b0c['iridescenc'+'eTexture']['index']],Dt(_0x205b0c['iridescenc'+'eTexture'],_0x1d5cfa,['iridescenc'+'e'])),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x1d5cfa['iridescenc'+'eRefractio'+'nIndex']=_0x205b0c['iridescenc'+'eIor']),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x1d5cfa['iridescenc'+'eThickness'+'Min']=_0x205b0c['iridescenc'+'eThickness'+'Minimum']),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x1d5cfa['iridescenc'+'eThickness'+'Max']=_0x205b0c['iridescenc'+'eThickness'+'Maximum']),_0x205b0c['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x1d5cfa['iridescenc'+'eThickness'+'MapChannel']='g',_0x1d5cfa['iridescenc'+'eThickness'+'Map']=_0x273f65[_0x205b0c['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x205b0c['iridescenc'+'eThickness'+'Texture'],_0x1d5cfa,['iridescenc'+'eThickness']));},SN=(_0x122258,_0x94c618,_0x3ed51a)=>{if(_0x94c618['enableGGXS'+'pecular']=!(0x2*0x5d5+-0xf89+0x3df),_0x122258['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x94c618['anisotropy'+'Intensity']=_0x122258['anisotropy'+'Strength']:_0x94c618['anisotropy'+'Intensity']=0x1281*-0x2+0xa*-0x1+0x250c,_0x122258['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x37e650=_0x122258['anisotropy'+'Texture'];_0x94c618['anisotropy'+'Map']=_0x3ed51a[_0x37e650['index']],Dt(_0x37e650,_0x94c618,['anisotropy']);}_0x122258['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x94c618['anisotropy'+'Rotation']=_0x122258['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x94c618['anisotropy'+'Rotation']=0x1e70+0x3b4+-0x5c*0x5f;},w0=(_0x273e6b,_0x20d517)=>{const _0x5ef4d3=new Ut();_0x273e6b['hasOwnProp'+'erty']('name')&&(_0x5ef4d3['name']=_0x273e6b['name']),_0x5ef4d3['occludeSpe'+'cular']=bd,_0x5ef4d3['diffuseVer'+'texColor']=!(-0x12e*-0x11+-0xb42+-0x8cc),_0x5ef4d3['specularTi'+'nt']=!(0x1c1e+-0x41*0x59+-0x585),_0x5ef4d3['specularVe'+'rtexColor']=!(-0x1*0xab5+-0x176e+0x2223),_0x5ef4d3['specular']['set'](0x6e1+0x27b+0x95b*-0x1,-0x19e8+-0x2*0x643+0x266f*0x1,-0x1*-0x6e1+-0x2*0x71+-0xd*0x76),_0x5ef4d3['gloss']=-0x4a3*-0x8+0xbc*0xf+0x301b*-0x1,_0x5ef4d3['glossInver'+'t']=!(0x11*0xca+0x3a2*-0x6+-0x3a*-0x25),_0x5ef4d3['useMetalne'+'ss']=!(-0x259+0x1*-0xf10+0x1169);let _0x247697,_0x16f1b1;if(_0x273e6b['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x29489e=_0x273e6b['pbrMetalli'+'cRoughness'];if(_0x29489e['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x247697=_0x29489e['baseColorF'+'actor'],_0x5ef4d3['diffuse']['set'](Math['pow'](_0x247697[0x76*0x11+0x1c25+0x1*-0x23fb],(-0xfdd+-0x1eef+0x2ecd)/(-0x4e8+-0x1*0x1d44+0x222e+0.20000000000000018)),Math['pow'](_0x247697[0x1967*0x1+-0x24f8+0x1*0xb92],(0x1*0x1fec+0x52*0x31+-0x2f9d)/(0x1d25+-0xd*-0x232+-0x39ad+0.20000000000000018)),Math['pow'](_0x247697[-0xe34+0x8*0x4d5+-0x1872],(-0x152*0x1+-0x163c+0x178f)/(-0x1*0x1522+0x2*0x19b+-0x36*-0x55+0.20000000000000018))),_0x5ef4d3['opacity']=_0x247697[0x10f*0x19+-0x16d*0xe+-0x67e]),_0x29489e['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3fe14c=_0x29489e['baseColorT'+'exture'];_0x16f1b1=_0x20d517[_0x3fe14c['index']],_0x5ef4d3['diffuseMap']=_0x16f1b1,_0x5ef4d3['diffuseMap'+'Channel']='rgb',_0x5ef4d3['opacityMap']=_0x16f1b1,_0x5ef4d3['opacityMap'+'Channel']='a',Dt(_0x3fe14c,_0x5ef4d3,['diffuse','opacity']);}if(_0x29489e['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x5ef4d3['metalness']=_0x29489e['metallicFa'+'ctor']),_0x29489e['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x5ef4d3['gloss']=_0x29489e['roughnessF'+'actor']),_0x29489e['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x141357=_0x29489e['metallicRo'+'ughnessTex'+'ture'];_0x5ef4d3['metalnessM'+'ap']=_0x5ef4d3['glossMap']=_0x20d517[_0x141357['index']],_0x5ef4d3['metalnessM'+'apChannel']='b',_0x5ef4d3['glossMapCh'+'annel']='g',Dt(_0x141357,_0x5ef4d3,['gloss','metalness']);}}if(_0x273e6b['hasOwnProp'+'erty']('normalText'+'ure')){const _0x208030=_0x273e6b['normalText'+'ure'];_0x5ef4d3['normalMap']=_0x20d517[_0x208030['index']],Dt(_0x208030,_0x5ef4d3,['normal']),_0x208030['hasOwnProp'+'erty']('scale')&&(_0x5ef4d3['bumpiness']=_0x208030['scale']);}if(_0x273e6b['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x186970=_0x273e6b['occlusionT'+'exture'];_0x5ef4d3['aoMap']=_0x20d517[_0x186970['index']],_0x5ef4d3['aoMapChann'+'el']='r',Dt(_0x186970,_0x5ef4d3,['ao']);}if(_0x273e6b['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x247697=_0x273e6b['emissiveFa'+'ctor'],_0x5ef4d3['emissive']['set'](Math['pow'](_0x247697[0x7c*0x4+-0x2c7*0x9+0x170f],(-0xa21+-0x20b2+-0x1*-0x2ad4)/(-0x53b*0x1+0x3*-0xc2f+0x29ca+0.20000000000000018)),Math['pow'](_0x247697[-0x56d*0x3+-0x236d+0x33b5],(-0x2*0x731+-0x1ab9+-0x148e*-0x2)/(-0x1*0xb85+-0x101a+0x1ba1+0.20000000000000018)),Math['pow'](_0x247697[-0x1*0x1c85+0x103a+-0x1*-0xc4d],(0x1639+-0x138+-0x1500)/(-0x1479+0x88a+-0x1*-0xbf1+0.20000000000000018)))),_0x273e6b['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x241024=_0x273e6b['emissiveTe'+'xture'];_0x5ef4d3['emissiveMa'+'p']=_0x20d517[_0x241024['index']],Dt(_0x241024,_0x5ef4d3,['emissive']);}if(_0x273e6b['hasOwnProp'+'erty']('alphaMode'))switch(_0x273e6b['alphaMode']){case'MASK':_0x5ef4d3['blendType']=Cs,_0x273e6b['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x5ef4d3['alphaTest']=_0x273e6b['alphaCutof'+'f']:_0x5ef4d3['alphaTest']=0x17*-0xe3+0x67+0x13fe+0.5;break;case'BLEND':_0x5ef4d3['blendType']=Zs,_0x5ef4d3['depthWrite']=!(-0x8e7+0xb44+-0x25c);break;default:case'OPAQUE':_0x5ef4d3['blendType']=Cs;break;}else _0x5ef4d3['blendType']=Cs;_0x273e6b['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x5ef4d3['twoSidedLi'+'ghting']=_0x273e6b['doubleSide'+'d'],_0x5ef4d3['cull']=_0x273e6b['doubleSide'+'d']?bt:pa):(_0x5ef4d3['twoSidedLi'+'ghting']=!(0x12c8+0x3d*0x41+-0xc*0x2db),_0x5ef4d3['cull']=pa);const _0x27ff9a={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x273e6b['hasOwnProp'+'erty']('extensions'))for(const _0x4bc43e in _0x273e6b['extensions']){const _0x49378a=_0x27ff9a[_0x4bc43e];_0x49378a!==void(-0xc59+-0x1094+0x1ced)&&_0x49378a(_0x273e6b['extensions'][_0x4bc43e],_0x5ef4d3,_0x20d517);}return _0x5ef4d3['update'](),_0x5ef4d3;},yN=(_0x40f64c,_0x346465,_0x1fb266,_0x3a36b6,_0x5d8cf6,_0x408221,_0x518d18)=>{const _0x2b9214=_0x1da5c4=>new Fh(yl(_0x1da5c4['type']),Pn(_0x1da5c4,_0x3a36b6)),_0x311c5d={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x2ef827={},_0x303010={},_0x3b633b={};let _0x161269=0x1ad2+0x2f*-0xd+-0xc37*0x2,_0x422e26;for(_0x422e26=0xe0c+0x1621+0x3f*-0x93;_0x422e26<_0x40f64c['samplers']['length'];++_0x422e26){const _0x152892=_0x40f64c['samplers'][_0x422e26];_0x2ef827['hasOwnProp'+'erty'](_0x152892['input'])||(_0x2ef827[_0x152892['input']]=_0x2b9214(_0x1fb266[_0x152892['input']])),_0x303010['hasOwnProp'+'erty'](_0x152892['output'])||(_0x303010[_0x152892['output']]=_0x2b9214(_0x1fb266[_0x152892['output']]));const _0x479907=_0x152892['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x311c5d['hasOwnProp'+'erty'](_0x152892['interpolat'+'ion'])?_0x311c5d[_0x152892['interpolat'+'ion']]:Su,_0x3e2086={'paths':[],'input':_0x152892['input'],'output':_0x152892['output'],'interpolation':_0x479907};_0x3b633b[_0x422e26]=_0x3e2086;}const _0x9d3dbd=[],_0x293fde={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x371d90=_0x16b036=>{const _0x2dc37f=[];for(;_0x16b036;)_0x2dc37f['unshift'](_0x16b036['name']),_0x16b036=_0x16b036['parent'];return _0x2dc37f;},_0x1756c5=(_0x159de2,_0x1c7ca9,_0x2daadc)=>{const _0x25d3cf=_0x303010[_0x159de2['output']];if(!_0x25d3cf){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x2daadc+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x529de8;if(_0x408221&&_0x408221[_0x1c7ca9['mesh']]){const _0x137e0d=_0x408221[_0x1c7ca9['mesh']];_0x137e0d['hasOwnProp'+'erty']('extras')&&_0x137e0d['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x529de8=_0x137e0d['extras']['targetName'+'s']);}const _0x276f40=_0x25d3cf['data'],_0x44e3ed=_0x276f40['length']/_0x2ef827[_0x159de2['input']]['data']['length'],_0x17fc05=_0x276f40['length']/_0x44e3ed,_0x245d91=_0x17fc05*(-0x733*-0x3+-0x869+-0xd2c*0x1),_0x5a5dfb=new ArrayBuffer(_0x245d91*_0x44e3ed);for(let _0x46382a=-0x193d+0x1e27+-0x4ea;_0x46382a<_0x44e3ed;_0x46382a++){const _0x11cb6d=new Float32Array(_0x5a5dfb,_0x245d91*_0x46382a,_0x17fc05);for(let _0x23e3c7=0xf7a*0x2+0x1426+-0x331a;_0x23e3c7<_0x17fc05;_0x23e3c7++)_0x11cb6d[_0x23e3c7]=_0x276f40[_0x23e3c7*_0x44e3ed+_0x46382a];const _0x257d4a=new Fh(0x12*-0x119+0xdb0+0x1*0x613,_0x11cb6d),_0x5cc99a=_0x529de8!=null&&_0x529de8[_0x46382a]?'name.'+_0x529de8[_0x46382a]:_0x46382a;_0x303010[-_0x161269]=_0x257d4a;const _0x1877bf={'paths':[{'entityPath':_0x2daadc,'component':'graph','propertyPath':['weight.'+_0x5cc99a]}],'input':_0x159de2['input'],'output':-_0x161269,'interpolation':_0x159de2['interpolat'+'ion']};_0x161269++,_0x3b633b['morphCurve'+'-'+_0x422e26+'-'+_0x46382a]=_0x1877bf;}};for(_0x422e26=0x23d3*-0x1+0x68*0x51+0x2eb;_0x422e26<_0x40f64c['channels']['length'];++_0x422e26){const _0x5c6492=_0x40f64c['channels'][_0x422e26],_0x4c7abc=_0x5c6492['target'],_0x7c2fa5=_0x3b633b[_0x5c6492['sampler']],_0x4661d4=_0x5d8cf6[_0x4c7abc['node']],_0x45e65a=_0x518d18[_0x4c7abc['node']],_0xaac2f6=_0x371d90(_0x4661d4);_0x4c7abc['path']['startsWith']('weights')?(_0x1756c5(_0x7c2fa5,_0x45e65a,_0xaac2f6),_0x3b633b[_0x5c6492['sampler']]['morphCurve']=!(0x1a*-0x133+-0x69*0x1+0x1f97*0x1)):_0x7c2fa5['paths']['push']({'entityPath':_0xaac2f6,'component':'graph','propertyPath':[_0x293fde[_0x4c7abc['path']]]});}const _0x15b17e=[],_0x35e96f=[],_0x4f8ec9=[];for(const _0x20572c in _0x2ef827)_0x15b17e['push'](_0x2ef827[_0x20572c]),_0x2ef827[_0x20572c]=_0x15b17e['length']-(0x1310+0x4*0x5de+-0x2a87);for(const _0x985b9 in _0x303010)_0x35e96f['push'](_0x303010[_0x985b9]),_0x303010[_0x985b9]=_0x35e96f['length']-(0x1c97*0x1+-0xa*0x148+-0xfc6);for(const _0x3488d9 in _0x3b633b){const _0x14359a=_0x3b633b[_0x3488d9];_0x14359a['morphCurve']||(_0x4f8ec9['push'](new v0(_0x14359a['paths'],_0x2ef827[_0x14359a['input']],_0x303010[_0x14359a['output']],_0x14359a['interpolat'+'ion'])),_0x14359a['paths']['length']>0x5*-0x1c5+-0x1414*0x1+-0x1ced*-0x1&&_0x14359a['paths'][0x307*0x2+-0x121*0x3+-0x2ab]['propertyPa'+'th'][-0xf*-0x1f3+-0x248d+0x750]==='localRotat'+'ion'&&_0x14359a['interpolat'+'ion']!==yu&&_0x9d3dbd['push'](_0x4f8ec9[_0x4f8ec9['length']-(0xb3*-0x13+0x83*-0x38+0x29f2*0x1)]['output']));}_0x9d3dbd['sort']();let _0x4572bb=null,_0x129532;for(_0x422e26=0x2a3+-0xbeb+0x4a4*0x2;_0x422e26<_0x9d3dbd['length'];++_0x422e26){const _0x59874d=_0x9d3dbd[_0x422e26];if(_0x422e26===-0x6*-0x1a8+-0x1*-0x204b+-0x2a3b||_0x59874d!==_0x4572bb){if(_0x129532=_0x35e96f[_0x59874d],_0x129532['components']===-0x2150+0x2*-0x4a7+0x22*0x141){const _0x4aacab=_0x129532['data'],_0x1e3ee6=_0x4aacab['length']-(0x1ee3+-0x1*0x673+-0x186c);for(let _0x54fab5=0x32d*0xc+-0x1*0x35f+-0x22bd;_0x54fab5<_0x1e3ee6;_0x54fab5+=0x21f8+-0x1*-0xb04+0x167c*-0x2)_0x4aacab[_0x54fab5+(-0x5db*0x5+-0x1c82+-0x3*-0x1343)]*_0x4aacab[_0x54fab5+(0x1e42+-0x1326+-0xb18)]+_0x4aacab[_0x54fab5+(-0xf1*0x5+0xffb+-0xb45)]*_0x4aacab[_0x54fab5+(-0x1d67+0x28*-0x7e+0x311c)]+_0x4aacab[_0x54fab5+(-0x3d*-0x8b+-0x24dd+-0x50*-0xc)]*_0x4aacab[_0x54fab5+(-0x2*-0xa85+-0x14b*0x3+-0x6b*0x29)]+_0x4aacab[_0x54fab5+(-0x39d*0x9+0x12fb+0xd8d)]*_0x4aacab[_0x54fab5+(-0x203+-0x8*0xc6+-0x15f*-0x6)]<0x245a+0x107*0x13+-0x1*0x37df&&(_0x4aacab[_0x54fab5+(-0x17b*-0xb+-0x13*0x7f+-0x6*0x124)]*=-(-0x7e+-0x112*0x4+0x4c7),_0x4aacab[_0x54fab5+(0x1*-0x9db+-0xd1+0x187*0x7)]*=-(-0x2544+-0x188f+-0x3dd4*-0x1),_0x4aacab[_0x54fab5+(0x1579+0x240c+0x397f*-0x1)]*=-(-0x1*-0x1793+0xe*0x95+-0x8c*0x3a),_0x4aacab[_0x54fab5+(0x21e6+0xe99*-0x2+-0x4ad)]*=-(0xef*-0xd+0x697+-0x58d*-0x1));}_0x4572bb=_0x59874d;}}let _0x473166=0x12f8+-0x1a93+0x79b;for(_0x422e26=0x19cf+-0x11a1*0x2+0x3b*0x29;_0x422e26<_0x15b17e['length'];_0x422e26++)_0x129532=_0x15b17e[_0x422e26]['_data'],_0x473166=Math['max'](_0x473166,_0x129532['length']===0x1*-0x67f+0x20a3+-0x1a24?0x19a*0x1+0x27*-0xa4+0xbb1*0x2:_0x129532[_0x129532['length']-(-0x48f+-0x1b*-0x15d+-0x27b*0xd)]);return new Qi(_0x40f64c['hasOwnProp'+'erty']('name')?_0x40f64c['name']:'animation_'+_0x346465,_0x473166,_0x15b17e,_0x35e96f,_0x4f8ec9);},Dc=new te(),Qa=new D(),vN=(_0x541476,_0xfe980a,_0x41fc55)=>{const _0x19f841=new Ie();if(_0x541476['hasOwnProp'+'erty']('name')&&_0x541476['name']['length']>0x289*0x4+0x1*-0x1293+-0x7f*-0x11?_0x19f841['name']=_0x541476['name']:_0x19f841['name']='node_'+_0xfe980a,_0x541476['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x541476['matrix']),Dc['getTransla'+'tion'](Qa),_0x19f841['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x19f841['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x19f841['setLocalSc'+'ale'](Qa)),_0x541476['hasOwnProp'+'erty']('rotation')){const _0x40bf18=_0x541476['rotation'];_0x19f841['setLocalRo'+'tation'](_0x40bf18[-0x8*-0x13b+0x24a*0x4+-0x1300],_0x40bf18[-0x1*-0x2531+-0x19e9+0x1*-0xb47],_0x40bf18[0xecd+-0x1978+0xaad],_0x40bf18[-0x2153+0x1b7f*0x1+0x5*0x12b]);}if(_0x541476['hasOwnProp'+'erty']('translatio'+'n')){const _0x30bd70=_0x541476['translatio'+'n'];_0x19f841['setLocalPo'+'sition'](_0x30bd70[-0xb87*-0x1+0x1706+-0x6e9*0x5],_0x30bd70[-0xcb1+0xd1f+0x1*-0x6d],_0x30bd70[-0x1d12+-0x10cb+-0x2ddf*-0x1]);}if(_0x541476['hasOwnProp'+'erty']('scale')){const _0x5cedb3=_0x541476['scale'];_0x19f841['setLocalSc'+'ale'](_0x5cedb3[-0x7*0x49c+-0x1de9+0x3e2d*0x1],_0x5cedb3[-0x1315+0x328+-0x1*-0xfee],_0x5cedb3[-0x1*-0x1d82+-0x3c8+-0x19b8]);}return _0x541476['hasOwnProp'+'erty']('extensions')&&_0x541476['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x41fc55['set'](_0x541476,{'ext':_0x541476['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x19f841;},xN=(_0x505266,_0x274240)=>{const _0x19736f=_0x505266['type']==='orthograph'+'ic'?En:ni,_0x29be99=_0x19736f===En?_0x505266['orthograph'+'ic']:_0x505266['perspectiv'+'e'],_0x4a03c2={'enabled':!(-0x2*0x6a5+0x1ccd+-0xf82),'projection':_0x19736f,'nearClip':_0x29be99['znear'],'aspectRatioMode':hm};_0x29be99['zfar']&&(_0x4a03c2['farClip']=_0x29be99['zfar']),_0x19736f===En?(_0x4a03c2['orthoHeigh'+'t']=(-0xd9+-0xc3e+-0x1*-0xd17+0.5)*_0x29be99['ymag'],_0x29be99['ymag']&&(_0x4a03c2['aspectRati'+'oMode']=lu,_0x4a03c2['aspectRati'+'o']=_0x29be99['xmag']/_0x29be99['ymag'])):(_0x4a03c2['fov']=_0x29be99['yfov']*Y['RAD_TO_DEG'],_0x29be99['aspectRati'+'o']&&(_0x4a03c2['aspectRati'+'oMode']=lu,_0x4a03c2['aspectRati'+'o']=_0x29be99['aspectRati'+'o']));const _0x12045e=new lt(_0x505266['name']);return _0x12045e['addCompone'+'nt']('camera',_0x4a03c2),_0x12045e;},TN=(_0xce62fd,_0x23ab62)=>{const _0x390a35={'enabled':!(-0x9ac+-0x3*0xc37+0x2e52),'type':_0xce62fd['type']==='point'?'omni':_0xce62fd['type'],'color':_0xce62fd['hasOwnProp'+'erty']('color')?new ie(_0xce62fd['color']):ie['WHITE'],'range':_0xce62fd['hasOwnProp'+'erty']('range')?_0xce62fd['range']:-0x4612+-0x26f+0x6f90,'falloffMode':ev,'intensity':_0xce62fd['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0xce62fd['intensity'],0x269*-0xb+0x1f08+-0x485,-0x265e+0x48e*-0x8+0x4ad0):-0x2358+-0x129*-0x1a+-0x1*-0x52f};_0xce62fd['hasOwnProp'+'erty']('spot')&&(_0x390a35['innerConeA'+'ngle']=_0xce62fd['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0xce62fd['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0xe8e+0x212b+0x1*-0x129d,_0x390a35['outerConeA'+'ngle']=_0xce62fd['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0xce62fd['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0xb0*0x1+0x1d3b*0x1+-0x1*0x1c87)),_0xce62fd['hasOwnProp'+'erty']('intensity')&&(_0x390a35['luminance']=_0xce62fd['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x390a35['type']],_0x390a35['outerConeA'+'ngle'],_0x390a35['innerConeA'+'ngle']));const _0x3d323b=new lt(_0x23ab62['name']);return _0x3d323b['rotateLoca'+'l'](-0x283+-0x1deb+0x20c8,-0x4d*0x45+-0x2*0x5b+0x1577,0x1bb7+0x1*0xab5+-0x266c),_0x3d323b['addCompone'+'nt']('light',_0x390a35),_0x3d323b;},wN=(_0x560b92,_0x3e1363,_0x1d3e9f,_0x17ac5c)=>{if(!_0x3e1363['hasOwnProp'+'erty']('skins')||_0x3e1363['skins']['length']===0x5*-0x2fe+0x1910+0x35e*-0x3)return[];const _0x29119f=new Map();return _0x3e1363['skins']['map'](_0x18c179=>rN(_0x560b92,_0x18c179,_0x3e1363['accessors'],_0x17ac5c,_0x1d3e9f,_0x29119f));},EN=(_0x4cf350,_0x5f26e2,_0x56742d,_0x59a2ff)=>{var _0x523787,_0x1568d7,_0x34b1b0;const _0x3cfe74={},_0x23e659={},_0x37c550={},_0x368860=[];return{'meshes':!_0x59a2ff['skipMeshes']&&((_0x523787=_0x5f26e2==null?void(-0x11*0x183+-0xa*-0x137+-0x1*-0xd8d):_0x5f26e2['meshes'])==null?void(-0x6c0*-0x5+-0xccd*-0x1+-0x1*0x2e8d):_0x523787['length'])&&((_0x1568d7=_0x5f26e2==null?void(0x1941+-0x38b*0x3+-0xea0):_0x5f26e2['accessors'])==null?void(-0x259a*0x1+0x1892+0x18*0x8b):_0x1568d7['length'])&&((_0x34b1b0=_0x5f26e2==null?void(-0x17a9+-0x5cf*0x5+0x34b4):_0x5f26e2['bufferView'+'s'])==null?void(-0x1*0x17b3+-0x21*-0x12a+-0xeb7):_0x34b1b0['length'])?_0x5f26e2['meshes']['map'](_0x1d5de6=>nN(_0x4cf350,_0x1d5de6,_0x5f26e2['accessors'],_0x56742d,_0x3cfe74,_0x23e659,_0x37c550,_0x59a2ff,_0x368860)):[],'meshVariants':_0x23e659,'meshDefaultMaterials':_0x37c550,'promises':_0x368860};},bN=(_0x5166c0,_0xb0f6de,_0x3e3456)=>{var _0x1248e7,_0xf14ad7,_0x57b54b;if(!_0x5166c0['hasOwnProp'+'erty']('materials')||_0x5166c0['materials']['length']===0x1*-0x1fb7+-0x2e*0xd4+0x45cf)return[];const _0x2eb388=(_0x1248e7=_0x3e3456==null?void(-0x1*0x5dd+0x1*0x23ed+-0x1e10):_0x3e3456['material'])==null?void(0xde7*-0x2+-0x2495+0x137*0x35):_0x1248e7['preprocess'],_0x25d7d0=((_0xf14ad7=_0x3e3456==null?void(0x1c9e+-0x20d5+0x437):_0x3e3456['material'])==null?void(-0x3e7*-0x7+-0x1*-0x2421+-0x6*0xa93):_0xf14ad7['process'])??w0,_0x245a08=(_0x57b54b=_0x3e3456==null?void(-0x32*-0x6b+-0x1fff*-0x1+-0x34e5):_0x3e3456['material'])==null?void(-0x205d+0x610+0x1*0x1a4d):_0x57b54b['postproces'+'s'];return _0x5166c0['materials']['map'](_0xf12950=>{_0x2eb388&&_0x2eb388(_0xf12950);const _0x42c72b=_0x25d7d0(_0xf12950,_0xb0f6de);return _0x245a08&&_0x245a08(_0xf12950,_0x42c72b),_0x42c72b;});},AN=_0x183d77=>{if(!_0x183d77['hasOwnProp'+'erty']('extensions')||!_0x183d77['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x1b24ab=_0x183d77['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x564fdb={};for(let _0x153822=-0x2*-0x793+0x1fe7*0x1+0xf*-0x323;_0x153822<_0x1b24ab['length'];_0x153822++)_0x564fdb[_0x1b24ab[_0x153822]['name']]=_0x153822;return _0x564fdb;},CN=(_0x33b439,_0x15d9db,_0x29c0c1,_0x2bfaf8)=>{var _0x3047a4,_0x7c7a5e;if(!_0x33b439['hasOwnProp'+'erty']('animations')||_0x33b439['animations']['length']===0x2541+-0x3eb+0x2*-0x10ab)return[];const _0x405495=(_0x3047a4=_0x2bfaf8==null?void(0xe8+-0x166f+-0xa7*-0x21):_0x2bfaf8['animation'])==null?void(0x1631+-0x1fdb+-0x1*-0x9aa):_0x3047a4['preprocess'],_0x5c90de=(_0x7c7a5e=_0x2bfaf8==null?void(-0x1674+0x127f+0x3f5*0x1):_0x2bfaf8['animation'])==null?void(-0x18f9+0x813+0x135*0xe):_0x7c7a5e['postproces'+'s'];return _0x33b439['animations']['map']((_0x4be6f4,_0x1f819b)=>{_0x405495&&_0x405495(_0x4be6f4);const _0x47f693=yN(_0x4be6f4,_0x1f819b,_0x33b439['accessors'],_0x29c0c1,_0x15d9db,_0x33b439['meshes'],_0x33b439['nodes']);return _0x5c90de&&_0x5c90de(_0x4be6f4,_0x47f693),_0x47f693;});},PN=(_0x548750,_0x23e625,_0x5d669f,_0x4693e4)=>{const _0x21fd9a=_0x23e625['accessors'];_0x5d669f['forEach']((_0xcbd830,_0x24c188)=>{const _0x2ea909=_0xcbd830['ext']['attributes'];let _0x5cf17c;if(_0x2ea909['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x510f1d=_0x21fd9a[_0x2ea909['TRANSLATIO'+'N']];_0x5cf17c=Pn(_0x510f1d,_0x4693e4);}let _0xbc23ca;if(_0x2ea909['hasOwnProp'+'erty']('ROTATION')){const _0x439b5c=_0x21fd9a[_0x2ea909['ROTATION']];_0xbc23ca=Pn(_0x439b5c,_0x4693e4);}let _0x2ea94c;if(_0x2ea909['hasOwnProp'+'erty']('SCALE')){const _0x5e41cc=_0x21fd9a[_0x2ea909['SCALE']];_0x2ea94c=Pn(_0x5e41cc,_0x4693e4);}const _0xc1d8be=(_0x5cf17c?_0x5cf17c['length']/(-0x17b1+-0xa*0x12+-0x8e*-0x2c):0x24a0*-0x1+0x13b1+-0x11*-0xff)||(_0xbc23ca?_0xbc23ca['length']/(-0x3*0xb9d+-0x488+-0xd21*-0x3):-0x20b1+-0x1*-0x1cbb+0x3*0x152)||(_0x2ea94c?_0x2ea94c['length']/(-0x397*0x4+0x139+0xd26):0x11c8+0x49*-0x13+0x41f*-0x3);if(_0xc1d8be){const _0x5be7e2=new Float32Array(_0xc1d8be*(0x201*0xa+0x1c8d+0x7b*-0x65)),_0x2d7894=new D(),_0x13841f=new le(),_0x1a165a=new D(0x1f84+-0x122c*-0x2+-0x43db,-0x8a8+-0x7*0x32d+0xc*0x293,0x60e*0x2+-0x5b1+-0x66a),_0x22c2c6=new te();let _0x3ab6dd=0xb*-0x21f+-0xb7a+0x22cf;for(let _0x226a4e=-0x1312*-0x1+0x3*0x3f1+0x2cf*-0xb;_0x226a4e<_0xc1d8be;_0x226a4e++){const _0x1f25c8=_0x226a4e*(0x51*0x2f+-0x1*-0x1367+-0x2243);if(_0x5cf17c&&_0x2d7894['set'](_0x5cf17c[_0x1f25c8],_0x5cf17c[_0x1f25c8+(-0x7d*0x6+-0x2*0xffd+0x22e9)],_0x5cf17c[_0x1f25c8+(-0x1*0xa67+0x9e3+-0x2*-0x43)]),_0xbc23ca){const _0x515a44=_0x226a4e*(-0x2665+-0x1e5*0xd+0x2*0x1f85);_0x13841f['set'](_0xbc23ca[_0x515a44],_0xbc23ca[_0x515a44+(-0x7e2*-0x3+0x1*0x1754+0xb9*-0x41)],_0xbc23ca[_0x515a44+(-0x1662+0x1*-0xbe7+0x224b)],_0xbc23ca[_0x515a44+(-0x110+0xc42+-0xb2f)]);}_0x2ea94c&&_0x1a165a['set'](_0x2ea94c[_0x1f25c8],_0x2ea94c[_0x1f25c8+(-0x1077+-0x1*0x9cd+0x1a45)],_0x2ea94c[_0x1f25c8+(-0x17*0x12b+0x1*-0x15f0+0x30cf)]),_0x22c2c6['setTRS'](_0x2d7894,_0x13841f,_0x1a165a);for(let _0x4ddc66=-0x1834+-0x1576+0x2daa;_0x4ddc66<-0x8ea+-0x980+0x16*0xd7;_0x4ddc66++)_0x5be7e2[_0x3ab6dd++]=_0x22c2c6['data'][_0x4ddc66];}_0xcbd830['matrices']=_0x5be7e2;}});},MN=(_0x24dd34,_0x4d98eb,_0x47b498)=>{var _0x341972,_0x57fb68,_0x224b2a;if(!_0x24dd34['hasOwnProp'+'erty']('nodes')||_0x24dd34['nodes']['length']===-0x24fb*-0x1+0x23a+0x2735*-0x1)return[];const _0x2f2e7e=(_0x341972=_0x4d98eb==null?void(0x1*0x2db+-0x319*-0x9+-0x1ebc):_0x4d98eb['node'])==null?void(-0xad*-0x17+-0x9b1*0x2+0x3d7):_0x341972['preprocess'],_0x5ab40e=((_0x57fb68=_0x4d98eb==null?void(0x1347+0x73*0x8+-0x16df):_0x4d98eb['node'])==null?void(0x5*-0x6+-0x353*0x1+0x371):_0x57fb68['process'])??vN,_0x2bc50c=(_0x224b2a=_0x4d98eb==null?void(0x1cbc+0x13bf+-0x307b):_0x4d98eb['node'])==null?void(0x7*-0x517+0x211+0x2190):_0x224b2a['postproces'+'s'],_0x303a31=_0x24dd34['nodes']['map']((_0x4d43ad,_0x59143a)=>{_0x2f2e7e&&_0x2f2e7e(_0x4d43ad);const _0x111306=_0x5ab40e(_0x4d43ad,_0x59143a,_0x47b498);return _0x2bc50c&&_0x2bc50c(_0x4d43ad,_0x111306),_0x111306;});for(let _0x461f46=0x1d*-0xba+0x190c+-0x3fa;_0x461f46<_0x24dd34['nodes']['length'];++_0x461f46){const _0x5052b7=_0x24dd34['nodes'][_0x461f46];if(_0x5052b7['hasOwnProp'+'erty']('children')){const _0xea4387=_0x303a31[_0x461f46],_0x57e45e={};for(let _0x8a5ca4=-0x1*-0x242e+0x1f86+-0x43b4;_0x8a5ca4<_0x5052b7['children']['length'];++_0x8a5ca4){const _0x227a6c=_0x303a31[_0x5052b7['children'][_0x8a5ca4]];_0x227a6c['parent']||(_0x57e45e['hasOwnProp'+'erty'](_0x227a6c['name'])?_0x227a6c['name']+=_0x57e45e[_0x227a6c['name']]++:_0x57e45e[_0x227a6c['name']]=-0x1594+-0x12c0+0x2855,_0xea4387['addChild'](_0x227a6c));}}}return _0x303a31;},DN=(_0x1f47f1,_0x251250)=>{var _0x26d94f;const _0x5ae72d=[],_0x4b2438=_0x1f47f1['scenes']['length'];if(_0x4b2438===0x1b76+0x7*0x2b3+-0x2e5a*0x1&&((_0x26d94f=_0x1f47f1['scenes'][0xc5f*-0x2+-0xcac+0x1*0x256a]['nodes'])==null?void(0x102+0x1769+0x37d*-0x7):_0x26d94f['length'])===-0x6*-0x307+-0x6a*-0x17+-0x1baf){const _0x85f213=_0x1f47f1['scenes'][0x2b*-0x9d+0x25b5+-0xb56]['nodes'][0x25d3+0x18a*0x13+-0x4311];_0x5ae72d['push'](_0x251250[_0x85f213]);}else for(let _0x56062b=0x635*-0x2+0x1488+-0x81e;_0x56062b<_0x4b2438;_0x56062b++){const _0xdb6f2d=_0x1f47f1['scenes'][_0x56062b];if(_0xdb6f2d['nodes']){const _0x241e4f=new Ie(_0xdb6f2d['name']);for(let _0x4a27d7=0x1*-0x217d+-0x9c8+-0x3ef*-0xb;_0x4a27d7<_0xdb6f2d['nodes']['length'];_0x4a27d7++){const _0xc0e374=_0x251250[_0xdb6f2d['nodes'][_0x4a27d7]];_0x241e4f['addChild'](_0xc0e374);}_0x5ae72d['push'](_0x241e4f);}}return _0x5ae72d;},IN=(_0x2cb4ba,_0x32d52a,_0x3b8d53)=>{var _0x50b6ba,_0x17cbfd,_0x162dd4;let _0x38f395=null;if(_0x2cb4ba['hasOwnProp'+'erty']('nodes')&&_0x2cb4ba['hasOwnProp'+'erty']('cameras')&&_0x2cb4ba['cameras']['length']>-0x47*-0x12+-0x1afb+-0x1*-0x15fd){const _0x554353=(_0x50b6ba=_0x3b8d53==null?void(-0x143*-0x1+0x4b3+0x5f6*-0x1):_0x3b8d53['camera'])==null?void(0x55+0x256f+-0x25c4):_0x50b6ba['preprocess'],_0xad18a4=((_0x17cbfd=_0x3b8d53==null?void(0xba2+-0x4cc+-0x6d6):_0x3b8d53['camera'])==null?void(0xf4c+-0x1e31*0x1+0xee5):_0x17cbfd['process'])??xN,_0x1e6c76=(_0x162dd4=_0x3b8d53==null?void(0x8dd*-0x4+0xb88+0x17ec):_0x3b8d53['camera'])==null?void(0x1cce*0x1+-0xc43*-0x2+-0xd55*0x4):_0x162dd4['postproces'+'s'];_0x2cb4ba['nodes']['forEach']((_0x159b8b,_0x1a643d)=>{if(_0x159b8b['hasOwnProp'+'erty']('camera')){const _0x126b38=_0x2cb4ba['cameras'][_0x159b8b['camera']];if(_0x126b38){_0x554353&&_0x554353(_0x126b38);const _0x2bff71=_0xad18a4(_0x126b38,_0x32d52a[_0x1a643d]);_0x1e6c76&&_0x1e6c76(_0x126b38,_0x2bff71),_0x2bff71&&(_0x38f395||(_0x38f395=new Map()),_0x38f395['set'](_0x159b8b,_0x2bff71));}}});}return _0x38f395;},LN=(_0x3cc3d6,_0x587290,_0x535648)=>{var _0x502e94,_0x52c9e1,_0xbad2f5;let _0x1a3a11=null;if(_0x3cc3d6['hasOwnProp'+'erty']('nodes')&&_0x3cc3d6['hasOwnProp'+'erty']('extensions')&&_0x3cc3d6['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x3cc3d6['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1899b2=_0x3cc3d6['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1899b2['length']){const _0x44eb35=(_0x502e94=_0x535648==null?void(0x15bf+-0x183*0x19+0x100c):_0x535648['light'])==null?void(-0x25a6+-0xd73+0x3319):_0x502e94['preprocess'],_0x3f929a=((_0x52c9e1=_0x535648==null?void(0x750+-0x8*-0x155+-0x11f8):_0x535648['light'])==null?void(0x1563+-0x13*-0x117+0x4*-0xa86):_0x52c9e1['process'])??TN,_0x535100=(_0xbad2f5=_0x535648==null?void(-0x64e*-0x4+0xd*0x41+0x413*-0x7):_0x535648['light'])==null?void(-0x2345*-0x1+-0x94c*0x4+0x1*0x1eb):_0xbad2f5['postproces'+'s'];_0x3cc3d6['nodes']['forEach']((_0x12cc11,_0x1909a7)=>{if(_0x12cc11['hasOwnProp'+'erty']('extensions')&&_0x12cc11['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x12cc11['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x43c15f=_0x12cc11['extensions']['KHR_lights'+'_punctual']['light'],_0x23d1c3=_0x1899b2[_0x43c15f];if(_0x23d1c3){_0x44eb35&&_0x44eb35(_0x23d1c3);const _0x598c16=_0x3f929a(_0x23d1c3,_0x587290[_0x1909a7]);_0x535100&&_0x535100(_0x23d1c3,_0x598c16),_0x598c16&&(_0x1a3a11||(_0x1a3a11=new Map()),_0x1a3a11['set'](_0x12cc11,_0x598c16));}}});}}return _0x1a3a11;},RN=(_0x170316,_0x4b713f,_0x13cf56)=>{_0x170316['nodes']['forEach'](_0x2a5c58=>{_0x2a5c58['hasOwnProp'+'erty']('mesh')&&_0x2a5c58['hasOwnProp'+'erty']('skin')&&_0x4b713f[_0x2a5c58['mesh']]['meshes']['forEach'](_0x2f2d39=>{_0x2f2d39['skin']=_0x13cf56[_0x2a5c58['skin']];});});},ON=async(_0x46fe12,_0x1d2200,_0x37d54a,_0x46513c,_0x2bf36b)=>{var _0xa4ab6c,_0x4f95c7;const _0x1810be=(_0xa4ab6c=_0x2bf36b==null?void(0x4*-0xdb+-0x6*0x16+0x3f0):_0x2bf36b['global'])==null?void(-0x2547+-0x25*0xd3+0x5*0xd8e):_0xa4ab6c['preprocess'],_0x2d4b85=(_0x4f95c7=_0x2bf36b==null?void(0xef1+-0x7*-0x2f5+0x4*-0x8e9):_0x2bf36b['global'])==null?void(-0x99a+-0x1e51+0x27eb):_0x4f95c7['postproces'+'s'];_0x1810be&&_0x1810be(_0x1d2200),_0x1d2200['asset']&&_0x1d2200['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x5a4db7=new Map(),_0xaa80eb=MN(_0x1d2200,_0x2bf36b,_0x5a4db7),_0x2ce868=DN(_0x1d2200,_0xaa80eb),_0x40d2fd=LN(_0x1d2200,_0xaa80eb,_0x2bf36b),_0x5a752a=IN(_0x1d2200,_0xaa80eb,_0x2bf36b),_0xc25b75=AN(_0x1d2200),_0x488394=await Promise['all'](_0x37d54a),{meshes:_0x39bb6a,meshVariants:_0x58a7ec,meshDefaultMaterials:_0x917c28,promises:_0x5b11b5}=EN(_0x46fe12,_0x1d2200,_0x488394,_0x2bf36b),_0x5ac45e=CN(_0x1d2200,_0xaa80eb,_0x488394,_0x2bf36b);PN(_0x46fe12,_0x1d2200,_0x5a4db7,_0x488394);const _0xb92e4e=await Promise['all'](_0x46513c),_0x2b139a=_0xb92e4e['map'](_0x27efe2=>_0x27efe2['resource']),_0x402940=bN(_0x1d2200,_0x2b139a,_0x2bf36b),_0x5499a7=wN(_0x46fe12,_0x1d2200,_0xaa80eb,_0x488394),_0x9fce70=[];for(let _0x479395=0x2*0x273+0x2*0x1285+-0x29f0;_0x479395<_0x39bb6a['length'];_0x479395++)_0x9fce70[_0x479395]=new Em(),_0x9fce70[_0x479395]['meshes']=_0x39bb6a[_0x479395];RN(_0x1d2200,_0x9fce70,_0x5499a7);const _0x545e99=new qF();return _0x545e99['gltf']=_0x1d2200,_0x545e99['nodes']=_0xaa80eb,_0x545e99['scenes']=_0x2ce868,_0x545e99['animations']=_0x5ac45e,_0x545e99['textures']=_0xb92e4e,_0x545e99['materials']=_0x402940,_0x545e99['variants']=_0xc25b75,_0x545e99['meshVarian'+'ts']=_0x58a7ec,_0x545e99['meshDefaul'+'tMaterials']=_0x917c28,_0x545e99['renders']=_0x9fce70,_0x545e99['skins']=_0x5499a7,_0x545e99['lights']=_0x40d2fd,_0x545e99['cameras']=_0x5a752a,_0x545e99['nodeInstan'+'cingMap']=_0x5a4db7,_0x2d4b85&&_0x2d4b85(_0x1d2200,_0x545e99),await Promise['all'](_0x5b11b5),_0x545e99;},FN=(_0x5260b4,_0xd42900)=>{const _0x4e5b3d=(_0x516abb,_0x4c140c)=>{switch(_0x516abb){case-0x441c+-0x2b5+0x6cd1:return Te;case-0x1*-0xa7+-0x301*0x9+0x4063:return vt;case 0x7a5+-0x7*-0x2ee+-0xad9*-0x1:return Kh;case-0x362b+-0x20a3+0x11f9*0x7:return Qh;case-0x1d*-0x67+0x2596+-0xa3f:return Zh;case-0x1eae+-0x264f+-0x40*-0x1b0:return ma;default:return _0x4c140c;}},_0x2cf96d=(_0x3943eb,_0x42392c)=>{switch(_0x3943eb){case 0x11*-0x3c0+0x13*-0x978+0xb*0x21e5:return ue;case 0x3*-0x737+0xc029*0x1+-0x2714:return ip;case 0x10*-0x4a8+-0x1*-0x1b33+0x584e:return yt;default:return _0x42392c;}};_0x5260b4&&(_0xd42900=_0xd42900??{},_0x5260b4['minFilter']=_0x4e5b3d(_0xd42900['minFilter'],ma),_0x5260b4['magFilter']=_0x4e5b3d(_0xd42900['magFilter'],vt),_0x5260b4['addressU']=_0x2cf96d(_0xd42900['wrapS'],yt),_0x5260b4['addressV']=_0x2cf96d(_0xd42900['wrapT'],yt));};let NN=0x1*-0x1350+-0x64e*0x1+0x3*0x88a;const nn=_0x35e784=>{var _0x22c3b4,_0x556446,_0x56e013,_0x219731;return((_0x556446=(_0x22c3b4=_0x35e784['extensions'])==null?void(-0x7*-0x1eb+-0xdb1+0x44):_0x22c3b4['KHR_textur'+'e_basisu'])==null?void(-0x1e4f*0x1+-0x12*0xdf+0x2dfd):_0x556446['source'])??((_0x219731=(_0x56e013=_0x35e784['extensions'])==null?void(0x173b+-0x19ab*0x1+0x6*0x68):_0x56e013['EXT_textur'+'e_webp'])==null?void(-0x1a86+-0x122e+0x2cb4):_0x219731['source'])??_0x35e784['source'];},kN=(_0x1445fe,_0x4dae0d,_0x39e7fb,_0x2ad3f6,_0x19ba16)=>{var _0x2646ba,_0x4597b0,_0x2e737f;if(!_0x1445fe['images']||_0x1445fe['images']['length']===-0xccd+0x1*0x1f3+0x56d*0x2)return[];const _0x367ad1=(_0x2646ba=_0x19ba16==null?void(0x36d*-0x7+-0x2441+0x3c3c):_0x19ba16['image'])==null?void(0x23d9+-0x10a5+0x2*-0x99a):_0x2646ba['preprocess'],_0x87bfc8=(_0x4597b0=_0x19ba16==null?void(-0x1*-0x1b2f+-0x17f*0x4+-0x1533):_0x19ba16['image'])==null?void(0x1932+0x1dbf*0x1+-0x36f1):_0x4597b0['processAsy'+'nc'],_0x4a380d=(_0x2e737f=_0x19ba16==null?void(0xf7+0x1334+0x142b*-0x1):_0x19ba16['image'])==null?void(-0x17c6+-0x2*0x142+0x1a4a*0x1):_0x2e737f['postproces'+'s'],_0x172ad1={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x4e49f8=_0x4ba7b4=>{const _0x21fb60=new Set();return _0x4ba7b4['hasOwnProp'+'erty']('materials')&&_0x4ba7b4['materials']['forEach'](_0x3810de=>{if(_0x3810de['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x264d94=_0x3810de['pbrMetalli'+'cRoughness'];if(_0x264d94['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x292a9e=_0x4ba7b4['textures'][_0x264d94['baseColorT'+'exture']['index']];_0x21fb60['add'](nn(_0x292a9e));}}if(_0x3810de['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x4522fc=_0x4ba7b4['textures'][_0x3810de['emissiveTe'+'xture']['index']];_0x21fb60['add'](nn(_0x4522fc));}if(_0x3810de['hasOwnProp'+'erty']('extensions')){const _0x4b5b74=_0x3810de['extensions']['KHR_materi'+'als_sheen'];if(_0x4b5b74&&_0x4b5b74['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x418a50=_0x4ba7b4['textures'][_0x4b5b74['sheenColor'+'Texture']['index']];_0x21fb60['add'](nn(_0x418a50));}const _0x46e642=_0x3810de['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x46e642&&_0x46e642['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2834e3=_0x4ba7b4['textures'][_0x46e642['specularGl'+'ossinessTe'+'xture']['index']];_0x21fb60['add'](nn(_0x2834e3));}const _0x176a45=_0x3810de['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x176a45&&_0x176a45['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x172911=_0x4ba7b4['textures'][_0x176a45['specularCo'+'lorTexture']['index']];_0x21fb60['add'](nn(_0x172911));}}}),_0x21fb60;},_0x56c26b=(_0x5e6dde,_0x39e12c,_0x277a72,_0x2b8e9a,_0x176b11,_0x2576e1)=>new Promise((_0x4c24fe,_0x34f4c9)=>{const _0x590dfb=_0x36dcfa=>{const _0x1faef9=(_0x5e6dde['name']||'gltf-textu'+'re')+'-'+NN++,_0x398e3f={'url':_0x39e12c||_0x1faef9};if(_0x36dcfa&&(_0x398e3f['contents']=_0x36dcfa['slice'](-0x1*0x69f+-0x147+0x7e6)['buffer']),_0x2b8e9a){const _0x1a637e=_0x172ad1[_0x2b8e9a];_0x1a637e&&(_0x398e3f['filename']=_0x398e3f['url']+'.'+_0x1a637e);}const _0x3b3ce9={'srgb':_0x2576e1},_0x4676e6=new pe(_0x1faef9,'texture',_0x398e3f,_0x3b3ce9,_0x176b11);_0x4676e6['on']('load',_0x1a22be=>_0x4c24fe(_0x1a22be)),_0x4676e6['on']('error',_0x3c7351=>_0x34f4c9(_0x3c7351)),_0x2ad3f6['add'](_0x4676e6),_0x2ad3f6['load'](_0x4676e6);};_0x277a72?_0x277a72['then'](_0x1ff069=>_0x590dfb(_0x1ff069)):_0x590dfb(null);}),_0xc983a=_0x4e49f8(_0x1445fe);return _0x1445fe['images']['map']((_0x411dc3,_0xc0225b)=>{_0x367ad1&&_0x367ad1(_0x411dc3);let _0x10432c;return _0x87bfc8?_0x10432c=new Promise((_0x367a01,_0x3f77e3)=>{_0x87bfc8(_0x411dc3,(_0x228498,_0x58aabe)=>{_0x228498?_0x3f77e3(_0x228498):_0x367a01(_0x58aabe);});}):_0x10432c=new Promise(_0x553140=>{_0x553140(null);}),_0x10432c=_0x10432c['then'](_0x482985=>{const _0x402840=_0xc983a['has'](_0xc0225b);return _0x482985||(_0x411dc3['hasOwnProp'+'erty']('uri')?x0(_0x411dc3['uri'])?_0x56c26b(_0x411dc3,_0x411dc3['uri'],null,jF(_0x411dc3['uri']),null,_0x402840):_0x56c26b(_0x411dc3,jn['test'](_0x411dc3['uri'])?_0x411dc3['uri']:xe['join'](_0x39e7fb,_0x411dc3['uri']),null,null,{'crossOrigin':'anonymous'},_0x402840):_0x411dc3['hasOwnProp'+'erty']('bufferView')&&_0x411dc3['hasOwnProp'+'erty']('mimeType')?_0x56c26b(_0x411dc3,null,_0x4dae0d[_0x411dc3['bufferView']],_0x411dc3['mimeType'],null,_0x402840):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0xc0225b)));}),_0x4a380d&&(_0x10432c=_0x10432c['then'](_0x4cc0dc=>(_0x4a380d(_0x411dc3,_0x4cc0dc),_0x4cc0dc))),_0x10432c;});},UN=(_0x3f2cbd,_0x3d4824,_0x45651f)=>{var _0x2a0e58,_0xd6849,_0x2b3a73,_0x4d56d5,_0x9e9de5;if(!((_0x2a0e58=_0x3f2cbd==null?void(-0x2*0x59a+0x48f*-0x1+-0x327*-0x5):_0x3f2cbd['images'])!=null&&_0x2a0e58['length'])||!((_0xd6849=_0x3f2cbd==null?void(0x204+0x506+-0x70a):_0x3f2cbd['textures'])!=null&&_0xd6849['length']))return[];const _0x2431ac=(_0x2b3a73=_0x45651f==null?void(0x1a83+-0x2f*0x67+0x3cd*-0x2):_0x45651f['texture'])==null?void(-0x715+-0xd0b+-0x170*-0xe):_0x2b3a73['preprocess'],_0x2e0588=(_0x4d56d5=_0x45651f==null?void(0x1061*-0x1+0xb22+0x53f):_0x45651f['texture'])==null?void(0x113+-0x2a9+0x1*0x196):_0x4d56d5['processAsy'+'nc'],_0x3791b6=(_0x9e9de5=_0x45651f==null?void(-0x5*-0x1d7+0x2218+-0x2b4b):_0x45651f['texture'])==null?void(-0x1*0x19ee+0x1*-0x1e13+0x213*0x1b):_0x9e9de5['postproces'+'s'],_0x437127=new Set();return _0x3f2cbd['textures']['map'](_0x1f5e6c=>{_0x2431ac&&_0x2431ac(_0x1f5e6c);let _0x1ff491;return _0x2e0588?_0x1ff491=new Promise((_0x264935,_0x50b703)=>{_0x2e0588(_0x1f5e6c,_0x3f2cbd['images'],(_0x48d4dd,_0x38c762)=>{_0x48d4dd?_0x50b703(_0x48d4dd):_0x264935(_0x38c762);});}):_0x1ff491=new Promise(_0x3f2b85=>{_0x3f2b85(null);}),_0x1ff491=_0x1ff491['then'](_0x2efdd2=>{_0x2efdd2=_0x2efdd2??nn(_0x1f5e6c);const _0x169558=_0x437127['has'](_0x2efdd2);return _0x437127['add'](_0x2efdd2),_0x3d4824[_0x2efdd2]['then'](_0x4828ef=>{const _0x3b7bd7=_0x169558?tN(_0x4828ef):_0x4828ef;return FN(_0x3b7bd7['resource'],(_0x3f2cbd['samplers']??[])[_0x1f5e6c['sampler']]),_0x3b7bd7;});}),_0x3791b6&&(_0x1ff491=_0x1ff491['then'](_0x56acb0=>(_0x3791b6(_0x1f5e6c,_0x56acb0),_0x56acb0))),_0x1ff491;});},BN=(_0x392fe0,_0x57e02b,_0xdde80b,_0x45ca86)=>{var _0x31d0b6,_0x58b1b2,_0x337af2;if(!_0x392fe0['buffers']||_0x392fe0['buffers']['length']===0x5c*-0x6b+0x1*-0x1272+0x38e6)return[];const _0x15a713=(_0x31d0b6=_0x45ca86==null?void(0x1*0x178d+0x1685*0x1+-0x2e12):_0x45ca86['buffer'])==null?void(-0x4de+0x709+0x3*-0xb9):_0x31d0b6['preprocess'],_0x19be67=(_0x58b1b2=_0x45ca86==null?void(0xf33*0x1+0xa31*-0x2+0x52f):_0x45ca86['buffer'])==null?void(-0x849+0x24c3+-0x1c7a):_0x58b1b2['processAsy'+'nc'],_0x517d9e=(_0x337af2=_0x45ca86==null?void(-0x21ad+-0x1ef2+0x47*0xe9):_0x45ca86['buffer'])==null?void(0x603+0x2363+-0x2966):_0x337af2['postproces'+'s'];return _0x392fe0['buffers']['map']((_0x539ad7,_0x29498a)=>{_0x15a713&&_0x15a713(_0x539ad7);let _0x5be66a;return _0x19be67?_0x5be66a=new Promise((_0xa17f41,_0x783da2)=>{_0x19be67(_0x539ad7,(_0x771f62,_0x37c391)=>{_0x771f62?_0x783da2(_0x771f62):_0xa17f41(_0x37c391);});}):_0x5be66a=new Promise(_0x2fd0c3=>{_0x2fd0c3(null);}),_0x5be66a=_0x5be66a['then'](_0x3d12db=>{if(_0x3d12db)return _0x3d12db;if(_0x539ad7['hasOwnProp'+'erty']('uri')){if(x0(_0x539ad7['uri'])){const _0x18567b=atob(_0x539ad7['uri']['split'](',')[0x2*-0x84f+0x217e+-0x10df]),_0x1ca508=new Uint8Array(_0x18567b['length']);for(let _0x26371e=0x1bfb+-0x5cb+-0x1630;_0x26371e<_0x18567b['length'];_0x26371e++)_0x1ca508[_0x26371e]=_0x18567b['charCodeAt'](_0x26371e);return _0x1ca508;}return new Promise((_0x23ad17,_0x1a5eed)=>{ot['get'](jn['test'](_0x539ad7['uri'])?_0x539ad7['uri']:xe['join'](_0xdde80b,_0x539ad7['uri']),{'cache':!(0xe*-0x65+0xf90+-0xa0a),'responseType':'arraybuffe'+'r','retry':!(-0x49d*0x7+-0x232f+0x5*0xd7f)},(_0x557603,_0x4ac970)=>{_0x557603?_0x1a5eed(_0x557603):_0x23ad17(new Uint8Array(_0x4ac970));});});}return _0x57e02b;}),_0x517d9e&&(_0x5be66a=_0x5be66a['then'](_0x2ccb4e=>(_0x517d9e(_0x392fe0['buffers'][_0x29498a],_0x2ccb4e),_0x2ccb4e))),_0x5be66a;});},zN=(_0x5d7c85,_0x185ee1)=>{const _0x39f832=JSON['parse']((_0x5e00d6=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x5e00d6);let _0xe984ae='';for(let _0x4248ce=-0x1712+-0x2287*-0x1+-0xb75;_0x4248ce<_0x5e00d6['length'];_0x4248ce++)_0xe984ae+=String['fromCharCo'+'de'](_0x5e00d6[_0x4248ce]);return decodeURIComponent(escape(_0xe984ae));})(_0x5d7c85));if(_0x39f832['asset']&&_0x39f832['asset']['version']&&parseFloat(_0x39f832['asset']['version'])<0x26df+0x209b+-0x4778){_0x185ee1('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x39f832['asset']['version']+'\x27.');return;}_0x185ee1(null,_0x39f832);},VN=(_0x23df0f,_0x5a02f6)=>{const _0x2126da=_0x23df0f instanceof ArrayBuffer?new DataView(_0x23df0f):new DataView(_0x23df0f['buffer'],_0x23df0f['byteOffset'],_0x23df0f['byteLength']),_0xcac8ce=_0x2126da['getUint32'](0x1769+-0xd91+-0x9d8,!(-0x3*0x51d+0x2*0x1d+0xf1d)),_0x42efe2=_0x2126da['getUint32'](-0x25c*-0x7+0x168b+-0x270b,!(0x18da+0x15b4+-0x2e8e)),_0x46c333=_0x2126da['getUint32'](-0x466*0x8+0xadb+-0xbd*-0x21,!(-0x5fa+-0xfb*-0x1b+0x1dd*-0xb));if(_0xcac8ce!==0x4a93a2d8+-0x1*-0x1146b2e+-0x1abce5*0x33){_0x5a02f6('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0xcac8ce['toString'](0x2b*0x66+0xee9+-0xaa9*0x3));return;}if(_0x42efe2!==-0xea6+-0x1*0x10a3+-0x1f4b*-0x1){_0x5a02f6('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x42efe2);return;}if(_0x46c333<=-0x25ff+-0x19fe+0x1*0x3ffd||_0x46c333>_0x2126da['byteLength']){_0x5a02f6('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x46c333);return;}const _0x164326=[];let _0x2748d3=-0x1062+0x1f9c+0x1*-0xf2e;for(;_0x2748d3<_0x46c333;){const _0x535890=_0x2126da['getUint32'](_0x2748d3,!(0x8*-0x20b+-0x1f42+-0x54a*-0x9));_0x2748d3+_0x535890+(-0x220*-0xd+-0x1c84+0xec)>_0x2126da['byteLength']&&_0x5a02f6('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x535890);const _0x191d07=_0x2126da['getUint32'](_0x2748d3+(-0x3*-0x4fc+-0x94*-0x6+0x3e*-0x4c),!(-0x148d+0x228b+0x6*-0x255)),_0x2b9449=new Uint8Array(_0x2126da['buffer'],_0x2126da['byteOffset']+_0x2748d3+(-0x3*0x49+-0x89c*-0x2+0x71*-0x25),_0x535890);_0x164326['push']({'length':_0x535890,'type':_0x191d07,'data':_0x2b9449}),_0x2748d3+=_0x535890+(0x22b0+-0xb8*0x14+-0x2*0xa24);}if(_0x164326['length']!==0xddc+0x209*-0x7+-0x4*-0x19&&_0x164326['length']!==-0x1*0x13a2+-0x2593+0x61*0x97){_0x5a02f6('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x164326[0xc7a+0x1f9+-0x89*0x1b]['type']!==0x1*0x858656f4+-0x3c35cd5d+0x4fec9b3){_0x5a02f6('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x164326[0xa*0x36d+-0xd8b+0x1*-0x14b7]['type']['toString'](-0x50b+-0x84b+-0xa*-0x157));return;}if(_0x164326['length']>0x2a8*-0x6+0x1*-0x995+0x16*0x129&&_0x164326[-0x4*-0x513+0x1*-0x23b5+0xf6a]['type']!==-0x1a8f8d*-0x2+-0x986149+0x1cb1b*0x63){_0x5a02f6('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x164326[-0xd3*0x19+0x2467*-0x1+-0x3cd*-0xf]['type']['toString'](0x24a7*-0x1+-0x691+0x2b48*0x1));return;}_0x5a02f6(null,{'gltfChunk':_0x164326[-0x2299*-0x1+-0x238d+0xf4]['data'],'binaryChunk':_0x164326['length']===-0x153*0x1+-0x11ca+-0x131f*-0x1?_0x164326[-0x11f9+-0x6a7+0x18a1]['data']:null});},GN=(_0x1feca6,_0x48518f,_0x673681)=>{const _0xcb3497=()=>{const _0x37e0e2=new Uint8Array(_0x48518f);return _0x37e0e2[0xacc+0x1b76+-0x2642]===0x1d58+-0x1929+-0x3c8&&_0x37e0e2[0x1b91+-0x12a8+-0x8e8]===-0x3*0x833+-0x495+0x9*0x34a&&_0x37e0e2[0x1*-0x1273+-0x32*0x28+0x1a45]===-0x245a+0x3a9+0x2105&&_0x37e0e2[-0x2*0x1200+-0x1cfc+-0x40ff*-0x1]===0x1*-0xd66+0x2a*-0xd9+0x3146;};_0x1feca6&&_0x1feca6['toLowerCas'+'e']()['endsWith']('.glb')||_0xcb3497()?VN(_0x48518f,_0x673681):_0x673681(null,{'gltfChunk':_0x48518f,'binaryChunk':null});},HN=(_0x355fe6,_0x2eafad,_0x3f25d9)=>{var _0x35e15a,_0x3a83d6,_0x17b10e,_0x47d32f;const _0x5e58ad=[],_0x128375=(_0x35e15a=_0x3f25d9==null?void(0x179a+-0x1baa+0x410):_0x3f25d9['bufferView'])==null?void(-0x1*-0x4ed+0xf7e+-0x1*0x146b):_0x35e15a['preprocess'],_0x224b0e=(_0x3a83d6=_0x3f25d9==null?void(0x22fd+-0x19*0x110+0x1*-0x86d):_0x3f25d9['bufferView'])==null?void(0x1*0x132d+0x1*-0x3bd+-0xd0*0x13):_0x3a83d6['processAsy'+'nc'],_0x24bb9e=(_0x17b10e=_0x3f25d9==null?void(0x1d16+0x958+-0x266e):_0x3f25d9['bufferView'])==null?void(-0x1e31+0x1ae6+0x34b):_0x17b10e['postproces'+'s'];if(!((_0x47d32f=_0x355fe6['bufferView'+'s'])!=null&&_0x47d32f['length']))return _0x5e58ad;for(let _0x27c1d1=-0x19e0+-0x336*-0x8+0x30;_0x27c1d1<_0x355fe6['bufferView'+'s']['length'];++_0x27c1d1){const _0x2b2b43=_0x355fe6['bufferView'+'s'][_0x27c1d1];_0x128375&&_0x128375(_0x2b2b43);let _0x2df54b;_0x224b0e?_0x2df54b=new Promise((_0x2e31cb,_0x5bc49b)=>{_0x224b0e(_0x2b2b43,_0x2eafad,(_0x4936e,_0x26cded)=>{_0x4936e?_0x5bc49b(_0x4936e):_0x2e31cb(_0x26cded);});}):_0x2df54b=new Promise(_0x5f2e62=>{_0x5f2e62(null);}),_0x2df54b=_0x2df54b['then'](_0x3373a8=>_0x3373a8||_0x2eafad[_0x2b2b43['buffer']]['then'](_0x3a84ef=>new Uint8Array(_0x3a84ef['buffer'],_0x3a84ef['byteOffset']+(_0x2b2b43['byteOffset']||0x1237*-0x1+0x1a3*-0x14+0x32f3),_0x2b2b43['byteLength']))),_0x2b2b43['hasOwnProp'+'erty']('byteStride')&&(_0x2df54b=_0x2df54b['then'](_0x26cd23=>(_0x26cd23['byteStride']=_0x2b2b43['byteStride'],_0x26cd23))),_0x24bb9e&&(_0x2df54b=_0x2df54b['then'](_0x27d000=>(_0x24bb9e(_0x2b2b43,_0x27d000),_0x27d000))),_0x5e58ad['push'](_0x2df54b);}return _0x5e58ad;};class kh{static['parse'](_0x220814,_0x26c2ca,_0x3ad14d,_0x5a87bd,_0x222ed7,_0x21ca52,_0x3c6cbf){GN(_0x220814,_0x3ad14d,(_0x18977f,_0x524f98)=>{if(_0x18977f){_0x3c6cbf(_0x18977f);return;}zN(_0x524f98['gltfChunk'],(_0x36c636,_0x5b050f)=>{if(_0x36c636){_0x3c6cbf(_0x36c636);return;}const _0x7d842e=BN(_0x5b050f,_0x524f98['binaryChun'+'k'],_0x26c2ca,_0x21ca52),_0x47bca1=HN(_0x5b050f,_0x7d842e,_0x21ca52),_0xaee73b=kN(_0x5b050f,_0x47bca1,_0x26c2ca,_0x222ed7,_0x21ca52),_0x5c1467=UN(_0x5b050f,_0xaee73b,_0x21ca52);ON(_0x5a87bd,_0x5b050f,_0x47bca1,_0x5c1467,_0x21ca52)['then'](_0x4f092e=>_0x3c6cbf(null,_0x4f092e))['catch'](_0x3aa0ad=>_0x3c6cbf(_0x3aa0ad));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x407642){super(_0x407642,'animation'),this['device']=_0x407642['graphicsDe'+'vice'],this['assets']=_0x407642['assets'];}['load'](_0xd51c1d,_0x1bbd5e,_0x442937){typeof _0xd51c1d=='string'&&(_0xd51c1d={'load':_0xd51c1d,'original':_0xd51c1d});const _0x57f790={'retry':this['maxRetries']>0x109d+0x8b4+0x1951*-0x1,'maxRetries':this['maxRetries']};(_0xd51c1d['load']['startsWith']('blob:')||_0xd51c1d['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0xd51c1d['original'])['toLowerCas'+'e']()==='.glb'?_0x57f790['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x57f790['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0xd51c1d['load'],_0x57f790,(_0x2441b0,_0x395c42)=>{_0x2441b0?_0x1bbd5e('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0xd51c1d['original']+'\x20['+_0x2441b0+']'):xe['getExtensi'+'on'](_0xd51c1d['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x395c42,this['device'],this['assets'],(_0x442937==null?void(-0x3*-0xab+-0x882+0x681):_0x442937['options'])??{},(_0x5d3e82,_0x5cb572)=>{var _0x8bf2f6;if(_0x5d3e82)_0x1bbd5e(_0x5d3e82);else{const _0xadd785=_0x5cb572['animations'];if((_0x8bf2f6=_0x442937==null?void(0x14d3+0x1af*0x17+-0x67*0x94):_0x442937['data'])!=null&&_0x8bf2f6['events']){for(let _0x2ee207=-0x24c1+0x1d89+0x6*0x134;_0x2ee207<_0xadd785['length'];_0x2ee207++)_0xadd785[_0x2ee207]['events']=new Hv(Object['values'](_0x442937['data']['events']));}_0x5cb572['destroy'](),_0x1bbd5e(null,_0xadd785);}}):_0x1bbd5e(null,this['_parseAnim'+'ationV'+_0x395c42['animation']['version']](_0x395c42));});}['open'](_0x4e1e6c,_0x4a84fa,_0xa269cd){return _0x4a84fa;}['_parseAnim'+'ationV3'](_0x125ae6){const _0x14ae0c=_0x125ae6['animation'],_0x31e0ed=new ug();_0x31e0ed['name']=_0x14ae0c['name'],_0x31e0ed['duration']=_0x14ae0c['duration'];for(let _0x4cf9e2=-0x1162+-0x1e63+0x2fc5;_0x4cf9e2<_0x14ae0c['nodes']['length'];_0x4cf9e2++){const _0x321044=new fg(),_0x4a88bf=_0x14ae0c['nodes'][_0x4cf9e2];_0x321044['_name']=_0x4a88bf['name'];for(let _0x3c7a8f=0x2433*0x1+-0x34b+-0x20e8;_0x3c7a8f<_0x4a88bf['keys']['length'];_0x3c7a8f++){const _0x6b7d13=_0x4a88bf['keys'][_0x3c7a8f],_0x1df170=_0x6b7d13['time'],_0x2f9089=_0x6b7d13['pos'],_0x287da8=_0x6b7d13['rot'],_0x54b10d=_0x6b7d13['scale'],_0x449a34=new D(_0x2f9089[0x1*0x17f3+0x108*0x24+-0x3d13],_0x2f9089[0x869+0x12*-0x208+0x1c28],_0x2f9089[0xb*-0x311+-0x4*-0x670+0x7fd]),_0x527490=new le()['setFromEul'+'erAngles'](_0x287da8[-0x343+0x6*0x26e+-0x1*0xb51],_0x287da8[0x334*-0x9+-0x1d93*-0x1+0x2*-0x5f],_0x287da8[0x2*0x64a+-0x2058+0x13c6]),_0x6b0ee2=new D(_0x54b10d[-0x1*0xbf+0x1*0x123d+-0x8bf*0x2],_0x54b10d[0x74*-0x34+-0x256a*0x1+0x1*0x3cfb],_0x54b10d[0x23c2+0x1df4+-0x692*0xa]),_0x3ad6c2=new dg(_0x1df170,_0x449a34,_0x527490,_0x6b0ee2);_0x321044['_keys']['push'](_0x3ad6c2);}_0x31e0ed['addNode'](_0x321044);}return _0x31e0ed;}['_parseAnim'+'ationV4'](_0x4aa6ff){const _0x5cefdd=_0x4aa6ff['animation'],_0x352019=new ug();_0x352019['name']=_0x5cefdd['name'],_0x352019['duration']=_0x5cefdd['duration'];for(let _0x51700b=-0x982+0x20d2+0x1750*-0x1;_0x51700b<_0x5cefdd['nodes']['length'];_0x51700b++){const _0x1d357c=new fg(),_0xb67ff9=_0x5cefdd['nodes'][_0x51700b];_0x1d357c['_name']=_0xb67ff9['name'];const _0x1ee99b=_0xb67ff9['defaults']['p'],_0x27cbdf=_0xb67ff9['defaults']['r'],_0x53d0a5=_0xb67ff9['defaults']['s'];for(let _0x250202=0xc5e*-0x1+-0xdfd*-0x1+-0x19f;_0x250202<_0xb67ff9['keys']['length'];_0x250202++){const _0x3d8e05=_0xb67ff9['keys'][_0x250202],_0x482777=_0x3d8e05['t'],_0xb289ed=_0x1ee99b||_0x3d8e05['p'],_0x37e1c6=_0x27cbdf||_0x3d8e05['r'],_0x45a5d0=_0x53d0a5||_0x3d8e05['s'],_0xc64909=new D(_0xb289ed[-0xebf+-0x1adf+0x299e],_0xb289ed[0x2068*-0x1+-0x1e81+0x3eea],_0xb289ed[-0x1e65*-0x1+0x1*0x50b+0x236e*-0x1]),_0x1ea168=new le()['setFromEul'+'erAngles'](_0x37e1c6[-0x149+0xad*0xe+-0x82d],_0x37e1c6[0x2*-0x315+0x12e9+-0xcbe],_0x37e1c6[0x11d3+-0x1b56*-0x1+-0x2d27]),_0x2d24fa=new D(_0x45a5d0[0x7c*0x43+-0x1bfb+-0x479],_0x45a5d0[0xf2e+0xe30+0x1d5d*-0x1],_0x45a5d0[-0xc9e+0x1*0x1237+-0x597]),_0x5bc009=new dg(_0x482777,_0xc64909,_0x1ea168,_0x2d24fa);_0x1d357c['_keys']['push'](_0x5bc009);}_0x352019['addNode'](_0x1d357c);}return _0x352019;}}class $N extends Qe{constructor(_0x453bd9){super(_0x453bd9,'animclip');}['load'](_0x5bf7db,_0x4c3c5e){typeof _0x5bf7db=='string'&&(_0x5bf7db={'load':_0x5bf7db,'original':_0x5bf7db});const _0xd38256={'retry':this['maxRetries']>0x11fc*0x1+0x11f6*0x2+-0x35e8,'maxRetries':this['maxRetries']};_0x5bf7db['load']['startsWith']('blob:')&&(_0xd38256['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5bf7db['load'],_0xd38256,(_0x2369bc,_0xe8e185)=>{_0x2369bc?_0x4c3c5e('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x5bf7db['original']+'\x20['+_0x2369bc+']'):_0x4c3c5e(null,_0xe8e185);});}['open'](_0x5cae41,_0x26bc6e){const _0x54be6b=_0x26bc6e['name'],_0x23ca6d=_0x26bc6e['duration'],_0x3fc1ab=_0x26bc6e['inputs']['map'](_0x30fd92=>new Fh(-0xaa8*-0x1+-0x70a+-0x39d*0x1,_0x30fd92)),_0xdfff02=_0x26bc6e['outputs']['map'](_0x5b1862=>new Fh(_0x5b1862['components'],_0x5b1862['data'])),_0x2a7e36=_0x26bc6e['curves']['map'](_0x4a5b5f=>new v0([_0x4a5b5f['path']],_0x4a5b5f['inputIndex'],_0x4a5b5f['outputInde'+'x'],_0x4a5b5f['interpolat'+'ion']));return new Qi(_0x54be6b,_0x23ca6d,_0x3fc1ab,_0xdfff02,_0x2a7e36);}}class XN extends Qe{constructor(_0x34e69a){super(_0x34e69a,'animstateg'+'raph');}['load'](_0x49328d,_0x7a793){typeof _0x49328d=='string'&&(_0x49328d={'load':_0x49328d,'original':_0x49328d});const _0x234186={'retry':this['maxRetries']>0xb2d*0x1+-0x45a+0x6d3*-0x1,'maxRetries':this['maxRetries']};_0x49328d['load']['startsWith']('blob:')&&(_0x234186['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x49328d['load'],_0x234186,(_0x57b027,_0x1f35bf)=>{_0x57b027?_0x7a793('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x49328d['original']+'\x20['+_0x57b027+']'):_0x7a793(null,_0x1f35bf);});}['open'](_0x432ce8,_0x48175f){return new Jc(_0x48175f);}}const Af=(function(){if(typeof window>'u')return!(0xbae+0x2242+-0x2def);const _0x3060ff=window['navigator']['userAgent'],_0x19a613=_0x3060ff['indexOf']('MSIE\x20');if(_0x19a613>0x1280+0x34a*-0xb+0x11ae)return parseInt(_0x3060ff['substring'](_0x19a613+(-0x13da+-0xb*0x17c+0xc11*0x3),_0x3060ff['indexOf']('.',_0x19a613)),0x1bee+0x2*-0xf3a+0x148*0x2);if(_0x3060ff['indexOf']('Trident/')>0x6ec+0xd03+-0x13ef){const _0x2f6e88=_0x3060ff['indexOf']('rv:');return parseInt(_0x3060ff['substring'](_0x2f6e88+(0x1d*-0x9+-0x67*-0x52+0x1*-0x1ff6),_0x3060ff['indexOf']('.',_0x2f6e88)),-0xa97*-0x2+0x1548+-0xc*0x389);}return!(-0x11c3*0x1+-0x8e*-0x23+-0xd3*0x2);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x499652){super(_0x499652,'audio'),this['manager']=_0x499652['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x47c08f){const _0x18b52e=xe['getExtensi'+'on'](_0x47c08f);return qN['indexOf'](_0x18b52e)>-(0x2339+0x114a+0xb*-0x4c6)||_0x47c08f['startsWith']('blob:');}['load'](_0x2f51a6,_0x1629f6){typeof _0x2f51a6=='string'&&(_0x2f51a6={'load':_0x2f51a6,'original':_0x2f51a6});const _0x5b99eb=function(_0x2272d0){_0x1629f6(null,new Mw(_0x2272d0));},_0x4265d2=function(_0x8330cc){let _0xcc6664='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x2f51a6['original'];_0x8330cc&&(_0xcc6664+=':\x20'+(_0x8330cc['message']||_0x8330cc)),console['warn'](_0xcc6664),_0x1629f6(_0xcc6664);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x2f51a6['original'])){_0x4265d2('Audio\x20form'+'at\x20for\x20'+_0x2f51a6['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x2f51a6['load'],_0x5b99eb,_0x4265d2);}else _0x4265d2(null);}['_createSou'+'nd'](_0x5c42b5,_0x37e84a,_0x58f604){if(Dl()){const _0x26f33f=this['manager'];if(!_0x26f33f['context']){_0x58f604('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x32ac5a={'retry':this['maxRetries']>-0xfd4*-0x1+-0x1*0x1896+-0x461*-0x2,'maxRetries':this['maxRetries']};(_0x5c42b5['startsWith']('blob:')||_0x5c42b5['startsWith']('data:'))&&(_0x32ac5a['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x5c42b5,_0x32ac5a,(_0x5c8a09,_0x4a1b5a)=>{if(_0x5c8a09){_0x58f604(_0x5c8a09);return;}_0x26f33f['context']['decodeAudi'+'oData'](_0x4a1b5a,_0x37e84a,_0x58f604);});}else{let _0x3f4e7a=null;try{_0x3f4e7a=new Audio();}catch{_0x58f604('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x3f4e7a);const _0x5a25b3=function(){_0x3f4e7a['removeEven'+'tListener']('canplaythr'+'ough',_0x5a25b3),Af&&document['body']['removeChil'+'d'](_0x3f4e7a),_0x37e84a(_0x3f4e7a);};_0x3f4e7a['onerror']=function(){_0x3f4e7a['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x3f4e7a),_0x58f604();},_0x3f4e7a['addEventLi'+'stener']('canplaythr'+'ough',_0x5a25b3),_0x3f4e7a['src']=_0x5c42b5;}}}class YN extends Qe{constructor(_0x1644f5){super(_0x1644f5,'binary');}['load'](_0x462d7f,_0xaf56e1){typeof _0x462d7f=='string'&&(_0x462d7f={'load':_0x462d7f,'original':_0x462d7f}),ot['get'](_0x462d7f['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x908*0x3+0xccb+0x7*0x20b,'maxRetries':this['maxRetries']},(_0x1747d2,_0x3cd8b6)=>{_0x1747d2?_0xaf56e1('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x462d7f['original']+'\x20['+_0x1747d2+']'):_0xaf56e1(null,_0x3cd8b6);});}['openBinary'](_0x3fd94){return _0x3fd94['buffer'];}}class yr{constructor(_0x31ece2,_0x216a82,_0x232a44,_0x17def1){const _0x22d81f=function(_0x1ac905,_0x4dffb9,_0x5616d8){const _0x4b9b89=yr['createAsse'+'t'](_0x216a82['name'],_0x1ac905,_0x4dffb9,_0x5616d8);return _0x232a44['add'](_0x4b9b89),_0x4b9b89;},_0xacccc8=[];for(let _0x22ded2=-0x2052+-0x13ce+-0x2*-0x1a10;_0x22ded2<_0x31ece2['renders']['length'];++_0x22ded2)_0xacccc8['push'](_0x22d81f('render',_0x31ece2['renders'][_0x22ded2],_0x22ded2));const _0x43af94=[];for(let _0x5be00a=0x4ed*0x1+0x92c+-0xe19;_0x5be00a<_0x31ece2['materials']['length'];++_0x5be00a)_0x43af94['push'](_0x22d81f('material',_0x31ece2['materials'][_0x5be00a],_0x5be00a));const _0x5219f7=[];for(let _0x201640=-0xcaa*0x1+-0x2058+0x2d02;_0x201640<_0x31ece2['animations']['length'];++_0x201640)_0x5219f7['push'](_0x22d81f('animation',_0x31ece2['animations'][_0x201640],_0x201640));this['data']=_0x31ece2,this['_model']=null,this['_assetName']=_0x216a82['name'],this['_assets']=_0x232a44,this['_defaultMa'+'terial']=_0x17def1,this['renders']=_0xacccc8,this['materials']=_0x43af94,this['textures']=_0x31ece2['textures'],this['animations']=_0x5219f7;}get['model'](){if(!this['_model']){const _0x20f6f5=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x1d5bfa=yr['createAsse'+'t'](this['_assetName'],'model',_0x20f6f5,-0x204+0x2420+0x887*-0x4);this['_assets']['add'](_0x1d5bfa),this['_model']=_0x1d5bfa;}return this['_model'];}static['createAsse'+'t'](_0x55c8b4,_0x55431b,_0x37262a,_0x509d55){const _0x2545f5=new pe(_0x55c8b4+'/'+_0x55431b+'/'+_0x509d55,_0x55431b,{'url':''});return _0x2545f5['resource']=_0x37262a,_0x2545f5['loaded']=!(0xbe0+-0x24f6+0x1916),_0x2545f5;}['instantiat'+'eModelEnti'+'ty'](_0x28a8c2){const _0x375eec=new lt(void(0x122e+0x2e7*0x7+-0x267f),this['_assets']['_loader']['_app']);return _0x375eec['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x28a8c2)),_0x375eec;}['instantiat'+'eRenderEnt'+'ity'](_0x319407){const _0x1125bd=this['_defaultMa'+'terial'],_0x34d29b=[],_0x3e0993=function(_0x1bd7c7,_0x649ab8,_0x439a99,_0x5f4e25,_0x56ba9f,_0x1bf459,_0x5c3a1e,_0x25828b){const _0x55da62=_0x56ba9f[_0x439a99['id']],_0x4a65c5=_0x55da62===void(-0x8*-0x148+0x101*0x6+-0x1046)?_0x1125bd:_0x5f4e25[_0x55da62],_0x5383b5=new He(_0x439a99,_0x4a65c5);_0x439a99['morph']&&(_0x5383b5['morphInsta'+'nce']=new xa(_0x439a99['morph'])),_0x5c3a1e['hasOwnProp'+'erty']('skin')&&_0x34d29b['push']({'meshInstance':_0x5383b5,'rootBone':_0x1bd7c7,'entity':_0x649ab8});const _0x5dd422=_0x25828b['get'](_0x5c3a1e);if(_0x5dd422){const _0x1bb67c=_0x5dd422['matrices'],_0x21714b=kt['getDefault'+'Instancing'+'Format'](_0x439a99['device']),_0xb9435f=new Is(_0x439a99['device'],_0x21714b,_0x1bb67c['length']/(0x3*-0x8f4+0x1c3*-0xa+0x2c8a),{'data':_0x1bb67c});_0x5383b5['setInstanc'+'ing'](_0xb9435f),_0x5383b5['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x4*-0x101+-0x1ddf+0x21e3);}return _0x5383b5;},_0x5b172e=(_0x37874c,_0x56c4f6,_0x373726)=>{const _0x5c728d=new lt(void(-0x2317+-0x445*-0x1+-0xf69*-0x2),this['_assets']['_loader']['_app']);_0x56c4f6['_cloneInte'+'rnal'](_0x5c728d),_0x37874c||(_0x37874c=_0x5c728d);let _0x5242ac=null,_0x5710ba=null;for(let _0x558e46=0x7d*0x18+-0x33*-0x1+-0xbeb;_0x558e46<_0x373726['nodes']['length'];_0x558e46++)if(_0x373726['nodes'][_0x558e46]===_0x56c4f6){const _0x1bce76=_0x373726['gltf']['nodes'][_0x558e46];if(_0x1bce76['hasOwnProp'+'erty']('mesh')){const _0xb07657=_0x373726['renders'][_0x1bce76['mesh']]['meshes'];_0x5710ba=this['renders'][_0x1bce76['mesh']];for(let _0x26fca6=-0x24f7+-0x1*0xd2b+0x1*0x3222;_0x26fca6<_0xb07657['length'];_0x26fca6++){const _0x7a7974=_0xb07657[_0x26fca6];if(_0x7a7974){const _0xfc90d8=_0x3e0993(_0x37874c,_0x5c728d,_0x7a7974,_0x373726['materials'],_0x373726['meshDefaul'+'tMaterials'],_0x373726['skins'],_0x1bce76,_0x373726['nodeInstan'+'cingMap']);_0x5242ac||(_0x5242ac=[]),_0x5242ac['push'](_0xfc90d8);}}}if(_0x373726['lights']){const _0xb96fa2=_0x373726['lights']['get'](_0x1bce76);_0xb96fa2&&_0x5c728d['addChild'](_0xb96fa2['clone']());}if(_0x373726['cameras']){const _0x3b1a40=_0x373726['cameras']['get'](_0x1bce76);_0x3b1a40&&_0x3b1a40['camera']['system']['cloneCompo'+'nent'](_0x3b1a40,_0x5c728d);}}_0x5242ac&&(_0x5c728d['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x5242ac},_0x319407)),_0x5c728d['render']['assignAsse'+'t'](_0x5710ba));const _0x550c1a=_0x56c4f6['children'];for(let _0x4835e9=-0x23a0+-0x1be6+-0x15a*-0x2f;_0x4835e9<_0x550c1a['length'];_0x4835e9++){const _0xad7cd9=_0x5b172e(_0x37874c,_0x550c1a[_0x4835e9],_0x373726);_0x5c728d['addChild'](_0xad7cd9);}return _0x5c728d;},_0x290c99=[];for(const _0x54906b of this['data']['scenes'])_0x290c99['push'](_0x5b172e(null,_0x54906b,this['data']));return _0x34d29b['forEach'](_0x1768c0=>{_0x1768c0['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1768c0['meshInstan'+'ce']['mesh']['skin'],_0x1768c0['rootBone'],_0x1768c0['entity']),_0x1768c0['meshInstan'+'ce']['node']['render']['rootBone']=_0x1768c0['rootBone'];}),yr['createScen'+'eHierarchy'](_0x290c99,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x20a3b1,_0x1714eb){const _0x1b320b=_0x1714eb?this['data']['variants'][_0x1714eb]:null;if(_0x1b320b===void(0x27d*0x9+-0x2437*0x1+-0xdd2*-0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1714eb+('\x20exists\x20in'+'\x20resource'));return;}const _0x414d6b=_0x20a3b1['findCompon'+'ents']('render');for(let _0xa9dac8=-0x1d5*0x3+-0x1fd1+0x255*0x10;_0xa9dac8<_0x414d6b['length'];_0xa9dac8++){const _0x36a675=_0x414d6b[_0xa9dac8];this['_applyMate'+'rialVarian'+'t'](_0x1b320b,_0x36a675['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x471ec4,_0x360392){const _0x376848=_0x360392?this['data']['variants'][_0x360392]:null;if(_0x376848===void(0x556+-0x158f+0x1039)){w['warn']('No\x20variant'+'\x20named\x20'+_0x360392+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x376848,_0x471ec4);}['_applyMate'+'rialVarian'+'t'](_0x1ad7cd,_0xc72764){_0xc72764['forEach'](_0x6673e5=>{if(_0x1ad7cd===null)_0x6673e5['material']=this['_defaultMa'+'terial'];else{const _0x1972b5=this['data']['meshVarian'+'ts'][_0x6673e5['mesh']['id']];_0x1972b5&&(_0x6673e5['material']=this['data']['materials'][_0x1972b5[_0x1ad7cd]]);}w['assert'](_0x6673e5['material']);});}static['createScen'+'eHierarchy'](_0x5d83a1,_0x1996bc){let _0x1fbc4f=null;if(_0x5d83a1['length']===0x3*-0x2f+0x4*0x75a+-0x4cf*0x6)_0x1fbc4f=_0x5d83a1[-0x1*-0xf92+-0x765+-0x82d];else{_0x1fbc4f=new _0x1996bc('SceneGroup');for(const _0x45d812 of _0x5d83a1)_0x1fbc4f['addChild'](_0x45d812);}return _0x1fbc4f;}static['createMode'+'l'](_0x2c5f61,_0x13067c){const _0x57d721=function(_0x33bb32,_0x4605e1,_0x3ed1d1,_0x3a174f,_0x26e0fa,_0x455257,_0x13ed3f){const _0x516833=_0x2c5f61['meshDefaul'+'tMaterials'][_0x4605e1['id']],_0x28452b=_0x516833===void(0x886*-0x1+-0x1eb+0x1*0xa71)?_0x13067c:_0x26e0fa[_0x516833],_0x44a1a0=new He(_0x4605e1,_0x28452b,_0x455257);if(_0x4605e1['morph']){const _0xe87946=new xa(_0x4605e1['morph']);_0x44a1a0['morphInsta'+'nce']=_0xe87946,_0x33bb32['morphInsta'+'nces']['push'](_0xe87946);}if(_0x13ed3f['hasOwnProp'+'erty']('skin')){const _0x3a9990=_0x13ed3f['skin'],_0x161c78=_0x3ed1d1[_0x3a9990];_0x4605e1['skin']=_0x161c78;const _0xd06857=_0x3a174f[_0x3a9990];_0x44a1a0['skinInstan'+'ce']=_0xd06857,_0x33bb32['skinInstan'+'ces']['push'](_0xd06857);}_0x33bb32['meshInstan'+'ces']['push'](_0x44a1a0);},_0x18b223=new sr(),_0x53d61c=[];for(const _0x59b146 of _0x2c5f61['skins']){const _0xb82ba9=new Ol(_0x59b146);_0xb82ba9['bones']=_0x59b146['bones'],_0x53d61c['push'](_0xb82ba9);}_0x18b223['graph']=yr['createScen'+'eHierarchy'](_0x2c5f61['scenes'],Ie);for(let _0x111548=-0x1eb8+-0x1267+-0x19*-0x1f7;_0x111548<_0x2c5f61['nodes']['length'];_0x111548++){const _0x90a4a5=_0x2c5f61['nodes'][_0x111548];if(_0x90a4a5['root']===_0x18b223['graph']){const _0x3927f7=_0x2c5f61['gltf']['nodes'][_0x111548];if(_0x3927f7['hasOwnProp'+'erty']('mesh')){const _0x4d2a4b=_0x2c5f61['renders'][_0x3927f7['mesh']]['meshes'];for(let _0x4e9337=-0x1*-0x4ff+-0x1*0xaa5+-0x2d3*-0x2;_0x4e9337<_0x4d2a4b['length'];_0x4e9337++){const _0x401b78=_0x4d2a4b[_0x4e9337];_0x401b78&&_0x57d721(_0x18b223,_0x401b78,_0x2c5f61['skins'],_0x53d61c,_0x2c5f61['materials'],_0x90a4a5,_0x3927f7);}}}}return _0x18b223;}['destroy'](){const _0x571163=this['_assets'],_0x5e3def=function(_0x452d75){_0x571163['remove'](_0x452d75),_0x452d75['unload']();},_0x4d0049=function(_0x4dded3){_0x4dded3['forEach'](_0x10d8eb=>{_0x5e3def(_0x10d8eb);});};this['animations']&&(_0x4d0049(this['animations']),this['animations']=null),this['textures']&&(_0x4d0049(this['textures']),this['textures']=null),this['materials']&&(_0x4d0049(this['materials']),this['materials']=null),this['renders']&&(_0x4d0049(this['renders']),this['renders']=null),this['_model']&&(_0x5e3def(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x4e4230,_0x5ad2d4,_0x2218df){this['_device']=_0x4e4230,this['_assets']=_0x5ad2d4,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x2218df;}['_getUrlWit'+'houtParams'](_0x2d2b95){return _0x2d2b95['indexOf']('?')>=0x1127*0x1+-0x79f*-0x2+-0x2065?_0x2d2b95['split']('?')[-0x25c0+0x1dda+0x6*0x151]:_0x2d2b95;}['load'](_0x2bec17,_0x4eac35,_0x825f3d){pe['fetchArray'+'Buffer'](_0x2bec17['load'],(_0x1e4f8b,_0x45a2e6)=>{_0x1e4f8b?_0x4eac35(_0x1e4f8b):kh['parse'](this['_getUrlWit'+'houtParams'](_0x2bec17['original']),xe['extractPat'+'h'](_0x2bec17['load']),_0x45a2e6,this['_device'],_0x825f3d['registry'],_0x825f3d['options'],(_0x3b7f3f,_0x23a806)=>{_0x3b7f3f?_0x4eac35(_0x3b7f3f):_0x4eac35(null,new yr(_0x23a806,_0x825f3d,this['_assets'],this['_defaultMa'+'terial']));});},_0x825f3d,this['maxRetries']);}['open'](_0x2a477e,_0x18aa2b,_0x299183){return _0x18aa2b;}['patch'](_0x569be1,_0x1bf7ec){}}class ZN extends Qe{constructor(_0x58f80a){super(_0x58f80a,'container'),this['glbContain'+'erParser']=new KN(_0x58f80a['graphicsDe'+'vice'],_0x58f80a['assets'],0xa10+0x17fe+-0x220e),this['parsers']={};}set['maxRetries'](_0x45a98a){this['glbContain'+'erParser']['maxRetries']=_0x45a98a;for(const _0x2188b1 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x2188b1)&&(this['parsers'][_0x2188b1]['maxRetries']=_0x45a98a);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x289470){return _0x289470['indexOf']('?')>=0x783+0xa*-0x32+0x1*-0x58f?_0x289470['split']('?')[0x4a9*0x3+-0x68e+-0x1*0x76d]:_0x289470;}['_getParser'](_0x3e8572){const _0x1e7f9a=_0x3e8572?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x3e8572))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x1e7f9a]||this['glbContain'+'erParser'];}['load'](_0x725c3f,_0x142404,_0x27e14f){typeof _0x725c3f=='string'&&(_0x725c3f={'load':_0x725c3f,'original':_0x725c3f}),this['_getParser'](_0x725c3f['original'])['load'](_0x725c3f,_0x142404,_0x27e14f);}['open'](_0x3de5fb,_0x3469e4,_0x692d36){return this['_getParser'](_0x3de5fb)['open'](_0x3de5fb,_0x3469e4,_0x692d36);}}class QN extends Qe{constructor(_0x330e56){super(_0x330e56,'css'),h(this,'decoder',null);}['load'](_0x301423,_0x31ae60){typeof _0x301423=='string'&&(_0x301423={'load':_0x301423,'original':_0x301423}),ot['get'](_0x301423['load'],{'retry':this['maxRetries']>0x111*0x4+-0x1471+-0x29*-0x65,'maxRetries':this['maxRetries']},(_0x23c1ff,_0x2921dc)=>{_0x23c1ff?_0x31ae60('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x301423['original']+'\x20['+_0x23c1ff+']'):_0x31ae60(null,_0x2921dc);});}['openBinary'](_0x27738a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x27738a);}}class JN extends Qe{constructor(_0x52c702){super(_0x52c702,'cubemap'),this['_device']=_0x52c702['graphicsDe'+'vice'],this['_registry']=_0x52c702['assets'],this['_loader']=_0x52c702['loader'];}['load'](_0x5aa903,_0x4663b7,_0x30d095){this['loadAssets'](_0x30d095,_0x4663b7);}['open'](_0x8402cf,_0x296adb,_0x35dd84){return _0x35dd84?_0x35dd84['resource']:null;}['patch'](_0x2e4256,_0xa932db){this['loadAssets'](_0x2e4256,(_0x2b9bac,_0x5643a7)=>{_0x2b9bac&&(_0xa932db['fire']('error',_0x2e4256),_0xa932db['fire']('error:'+_0x2e4256['id'],_0x2b9bac,_0x2e4256),_0x2e4256['fire']('error',_0x2e4256));});}['getAssetId'+'s'](_0x2113f4){const _0x270c34=[];if(_0x270c34[0x6ee*-0x2+0xb*-0x1bb+0x1*0x20e5]=_0x2113f4['file'],(_0x2113f4['loadFaces']||!_0x2113f4['file'])&&_0x2113f4['data']&&_0x2113f4['data']['textures']){for(let _0x34f9f7=-0x3*0x68c+0xf*-0x28d+0xf3*0x3d;_0x34f9f7<-0x1*-0x1fe2+0x1146+-0x3122;++_0x34f9f7)_0x270c34[_0x34f9f7+(0x1937+-0x1*-0x65b+0x1*-0x1f91)]=_0x2113f4['data']['textures'][_0x34f9f7];}else _0x270c34[-0x2*0x365+-0x176f+-0xf1d*-0x2]=_0x270c34[-0x3*0xb90+-0x207d+-0x3*-0x1665]=_0x270c34[0xc7*0x9+0xa8d+-0x1189]=_0x270c34[-0x231+0x89*-0x31+-0x97a*-0x3]=_0x270c34[-0x3*-0x4cf+-0x16*0xa4+-0x50*0x1]=_0x270c34[0x11aa+0x54d+-0x7*0x347]=null;return _0x270c34;}['compareAss'+'etIds'](_0x1dd986,_0x14f95a){return _0x1dd986&&_0x14f95a?parseInt(_0x1dd986,0xb46+0x1*0x1556+0x1049*-0x2)===_0x1dd986||typeof _0x1dd986=='string'?_0x1dd986===_0x14f95a:_0x1dd986['url']===_0x14f95a['url']:_0x1dd986!==null==(_0x14f95a!==null);}['update'](_0x1be600,_0x287adc,_0x23f74e){const _0x24d3d0=_0x1be600['data']||{},_0x502177=_0x1be600['_handlerSt'+'ate']['assets'],_0x317c53=_0x1be600['_resources'];let _0xd5374d,_0x1b2d4a,_0x5901ae;const _0x27ce52=[null,null,null,null,null,null,null],_0x19bffe=function(){return _0x24d3d0['hasOwnProp'+'erty']('type')?_0x24d3d0['type']:_0x24d3d0['hasOwnProp'+'erty']('rgbm')?_0x24d3d0['rgbm']?Zi:Ds:null;};if(!_0x1be600['loaded']||_0x23f74e[0x25fd*0x1+0x1434+0x3a31*-0x1]!==_0x502177[-0x1fe6+-0x857+0x283d]){if(_0x23f74e[0x2135*0x1+0x49*0x13+-0x10*0x26a]){if(_0xd5374d=_0x23f74e[-0x96*-0x32+-0x399*0x1+-0x19b3]['resource'],_0xd5374d['cubemap']){for(_0x5901ae=-0x35*-0x89+0x9b8+0x1*-0x2615;_0x5901ae<-0x5*-0x167+-0xf7*-0x9+-0x76*0x22;++_0x5901ae)_0x27ce52[_0x5901ae+(0x1af7+0x1*0x9f5+-0x24eb)]=new _e(this['_device'],{'name':_0x1be600['name']+('_prelitCub'+'emap')+(_0xd5374d['width']>>_0x5901ae),'cubemap':!(-0x18c2+0x12a*-0x7+0x20e8),'type':_0x19bffe()||_0xd5374d['type'],'width':_0xd5374d['width']>>_0x5901ae,'height':_0xd5374d['height']>>_0x5901ae,'format':_0xd5374d['format'],'levels':[_0xd5374d['_levels'][_0x5901ae]],'addressU':ue,'addressV':ue,'mipmaps':_0x5901ae===-0x2318+0xb15+0x1803});}else _0x27ce52[0x16c1+0xb37*-0x2+-0x2*0x29]=_0xd5374d;}}else _0x27ce52[0xb52+0x41*0x5d+-0x22*0x107]=_0x317c53[0xa9*-0x9+0x79*-0x4b+0x2965]||null,_0x27ce52[0x39b+-0x2*-0x163+-0xe9*0x7]=_0x317c53[-0xe3f+-0xb1c+-0x2b*-0x97]||null,_0x27ce52[0x9e4+0x1b9d+-0x257e]=_0x317c53[-0x138b*-0x1+0x22b6*-0x1+-0x2*-0x797]||null,_0x27ce52[0x6a*-0x13+-0x1*0xf0+0x8d2]=_0x317c53[-0x2*0x5a3+0x5c*-0x4c+0x269a*0x1]||null,_0x27ce52[0x558+0x134f+-0x18a2]=_0x317c53[0xe5c*0x2+0x999+-0x264c]||null,_0x27ce52[-0x1c*0x115+0x1*-0x26c9+0x451b]=_0x317c53[0x2f*0x9d+-0x1*0xaf3+-0x11da]||null;const _0x49c8a3=_0x23f74e['slice'](-0x828+-0x29*-0x21+-0x2e*-0x10);if(!_0x1be600['loaded']||!this['cmpArrays'](_0x49c8a3,_0x502177['slice'](-0xab6+0x1f2f+-0x1478))){if(_0x49c8a3['indexOf'](null)===-(0x4ef*-0x1+0x1*0x43f+0xb1)){const _0x3e358d=_0x49c8a3['map'](_0x27d44c=>_0x27d44c['resource']),_0x802149=[];for(_0x1b2d4a=0xaf6+-0x141*-0x16+-0x1*0x268c;_0x1b2d4a<_0x3e358d[0x26c9+-0x1de5+-0x1*0x8e4]['_levels']['length'];++_0x1b2d4a)_0x802149['push'](_0x3e358d['map'](_0x21de47=>_0x21de47['_levels'][_0x1b2d4a]));const _0x323a56=_0x3e358d[-0x12b*-0x10+0x2349*-0x1+0x1099]['format'],_0x129879=new _e(this['_device'],{'name':_0x1be600['name']+'_faces','cubemap':!(0xdb4+0x246b*-0x1+-0x5*-0x48b),'type':_0x19bffe()||_0x3e358d[-0x1*-0x1442+-0x1bec+0x7aa]['type'],'width':_0x3e358d[0x251d+0x1c96*-0x1+0x887*-0x1]['width'],'height':_0x3e358d[0x1*0xd6+-0x1df2+0x1d1c]['height'],'format':_0x323a56===Cr?Ne:_0x323a56,'mipmaps':_0x24d3d0['mipmaps']??!(0x1c*-0x52+-0x67f+0xf77),'levels':_0x802149,'minFilter':_0x24d3d0['hasOwnProp'+'erty']('minFilter')?_0x24d3d0['minFilter']:_0x3e358d[0x14e2+0x1ece+0x33b*-0x10]['minFilter'],'magFilter':_0x24d3d0['hasOwnProp'+'erty']('magFilter')?_0x24d3d0['magFilter']:_0x3e358d[0x1902+-0x17d0+-0x132]['magFilter'],'anisotropy':_0x24d3d0['hasOwnProp'+'erty']('anisotropy')?_0x24d3d0['anisotropy']:-0x1aae+0x1*0x1205+0x455*0x2,'addressU':ue,'addressV':ue});_0x27ce52[-0xf69+-0xeca+0x1*0x1e33]=_0x129879;}}else _0x27ce52[-0x2b*-0x95+0x12ae+-0x2bb5]=_0x317c53[-0x1ae7+-0x43c*0x5+0x3013]||null;if(!this['cmpArrays'](_0x27ce52,_0x317c53)){for(_0x1be600['resources']=_0x27ce52,_0x1be600['_handlerSt'+'ate']['assetIds']=_0x287adc,_0x1be600['_handlerSt'+'ate']['assets']=_0x23f74e,_0x5901ae=-0x1364*0x1+0x1*-0x15c1+0x2925;_0x5901ae<_0x317c53['length'];++_0x5901ae)_0x317c53[_0x5901ae]!==null&&_0x27ce52['indexOf'](_0x317c53[_0x5901ae])===-(0xdc1+0x24ce+-0x328e)&&_0x317c53[_0x5901ae]['destroy']();}for(_0x5901ae=0x2b8*0x1+0x2239+-0x24f1;_0x5901ae<_0x502177['length'];++_0x5901ae)_0x502177[_0x5901ae]!==null&&_0x23f74e['indexOf'](_0x502177[_0x5901ae])===-(0x1*-0x2507+-0x12f*-0x13+0xe8b)&&_0x502177[_0x5901ae]['unload']();}['cmpArrays'](_0x381d10,_0x54f95e){if(_0x381d10['length']!==_0x54f95e['length'])return!(0x2bf*0x2+-0x2*-0x125+-0x7c7*0x1);for(let _0x5f3bf4=0x38*-0x37+-0x1*0x108e+0x1c96;_0x5f3bf4<_0x381d10['length'];++_0x5f3bf4)if(_0x381d10[_0x5f3bf4]!==_0x54f95e[_0x5f3bf4])return!(-0x89*-0x26+-0x1*-0x467+-0x18bc);return!(-0x116+-0x1175+0x2f*0x65);}['resolveId'](_0x30cb06){const _0x1ede29=parseInt(_0x30cb06,-0x174b+0x1e03+-0x6ae);return _0x1ede29===_0x30cb06||_0x1ede29['toString']()===_0x30cb06?_0x1ede29:_0x30cb06;}['loadAssets'](_0x4ba0d4,_0x29c7e2){_0x4ba0d4['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x4ba0d4['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3d4252=this,_0x18d1a9=_0x3d4252['getAssetId'+'s'](_0x4ba0d4),_0x23f619=[null,null,null,null,null,null,null],_0x4f6bbc=_0x4ba0d4['_handlerSt'+'ate']['assetIds'],_0x519e67=_0x4ba0d4['_handlerSt'+'ate']['assets'],_0xcdead6=_0x3d4252['_registry'];let _0x1beb71=0x1*0xc9d+0x76*0x25+-0x1da4;const _0x5276fa=function(_0x340302,_0x349bbe){_0x23f619[_0x340302]=_0x349bbe,_0x1beb71--,_0x1beb71===0x5*-0x6a7+-0x2*-0xaf1+0xb61&&(_0x3d4252['update'](_0x4ba0d4,_0x18d1a9,_0x23f619),_0x29c7e2(null,_0x4ba0d4['resources']));},_0x35498a=function(_0x3a36bb,_0x210baf,_0xf3b490){_0x29c7e2(_0x210baf);},_0x1349d9=function(_0x4928d0,_0x21bcc8){_0x21bcc8['loaded']?_0x5276fa(_0x4928d0,_0x21bcc8):(_0xcdead6['once']('load:'+_0x21bcc8['id'],_0x5276fa['bind'](_0x3d4252,_0x4928d0)),_0xcdead6['once']('error:'+_0x21bcc8['id'],_0x35498a['bind'](_0x3d4252,_0x4928d0)),_0x21bcc8['loading']||_0xcdead6['load'](_0x21bcc8));};let _0x495e49;for(let _0x397f9e=-0xd84+0x31*0x1e+0x7c6;_0x397f9e<0x1*0x13af+-0x13*0x1f2+0x114e*0x1;++_0x397f9e){const _0x5dc00d=this['resolveId'](_0x18d1a9[_0x397f9e]);if(!_0x5dc00d)_0x5276fa(_0x397f9e,null);else{if(_0x3d4252['compareAss'+'etIds'](_0x5dc00d,_0x4f6bbc[_0x397f9e]))_0x1349d9(_0x397f9e,_0x519e67[_0x397f9e]);else{if(parseInt(_0x5dc00d,-0x9d*0x10+0x289*-0x9+-0x20ab*-0x1)===_0x5dc00d)_0x495e49=_0xcdead6['get'](_0x5dc00d),_0x495e49?_0x1349d9(_0x397f9e,_0x495e49):setTimeout(((_0x52024a,_0xe6d94b)=>{const _0x16a0b0=_0xcdead6['get'](_0xe6d94b);_0x16a0b0?_0x1349d9(_0x52024a,_0x16a0b0):_0x35498a(_0x52024a,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0xe6d94b);})['bind'](null,_0x397f9e,_0x5dc00d));else{const _0x5bc928=typeof _0x5dc00d=='string'?{'url':_0x5dc00d,'filename':_0x5dc00d}:_0x5dc00d,_0x411020=_0x5bc928['url']['search']('.dds')===-(-0xf73+-0x2*0x11fb+0x336a)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1*0x2607+-0x241c+-0x31*0xa)}:null;_0x495e49=new pe(_0x4ba0d4['name']+'_part_'+_0x397f9e,'texture',_0x5bc928,_0x411020),_0xcdead6['add'](_0x495e49),_0x1349d9(_0x397f9e,_0x495e49);}}}}}}class ek extends Qe{constructor(_0x3c646a){super(_0x3c646a,'folder');}['load'](_0x50e36b,_0x2a84a3){_0x2a84a3(null,null);}}class yS{constructor(_0x25f197,_0x4d7881){this['type']=_0x4d7881&&_0x4d7881['type']||Rh,this['em']=0xc3b*-0x1+0x15c1+0x985*-0x1,this['textures']=_0x25f197,this['intensity']=-0xb*-0x117+0xf3b+-0x1b38,this['_data']=null,this['data']=_0x4d7881;}set['data'](_0x1e72d0){if(this['_data']=_0x1e72d0,!!_0x1e72d0&&(this['_data']['intensity']!==void(-0x1cfd*0x1+0x3*0x179+0x1892)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x122b+0x244d+0x1d0*-0xa)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x2e7765 in this['_data']['chars'])this['_data']['chars'][_0x2e7765]['map']=0x2*0x4c5+-0x10b1+0x727*0x1;}}get['data'](){return this['_data'];}}function Cf(_0x516bbd){return _0x516bbd['version']<-0x24cb*0x1+-0x96f*0x3+0x411b&&(_0x516bbd['version']<0xa29+-0x908+0x11f*-0x1&&(_0x516bbd['info']['maps']=_0x516bbd['info']['maps']||[{'width':_0x516bbd['info']['width'],'height':_0x516bbd['info']['height']}]),_0x516bbd['chars']=Object['keys'](_0x516bbd['chars']||{})['reduce']((_0x5ec59a,_0x53fb74)=>{const _0x55a565=_0x516bbd['chars'][_0x53fb74],_0x2e87c1=_0x55a565['letter']!==void(-0x6c*-0x50+-0xd4c+-0x1474)?_0x55a565['letter']:Hc['fromCodePo'+'int'](_0x53fb74);return _0x516bbd['version']<0xa94+-0xd7*-0xe+-0x1654&&(_0x55a565['map']=_0x55a565['map']||0x213f+-0xb10+-0x9*0x277),_0x5ec59a[_0x2e87c1]=_0x55a565,_0x5ec59a;},{}),_0x516bbd['version']=-0x1265+0x2311*-0x1+0x3579),_0x516bbd;}class tk extends Qe{constructor(_0x4db9e3){super(_0x4db9e3,'font'),this['_loader']=_0x4db9e3['loader'],this['maxRetries']=-0x1f3f*0x1+0x255e+-0x61f*0x1;}['load'](_0xcab58b,_0x373df7,_0x29bde2){typeof _0xcab58b=='string'&&(_0xcab58b={'load':_0xcab58b,'original':_0xcab58b});const _0x109d42=this;xe['getExtensi'+'on'](_0xcab58b['original'])==='.json'?ot['get'](_0xcab58b['load'],{'retry':this['maxRetries']>0x4*0x2ab+0xe45+-0x18f1,'maxRetries':this['maxRetries']},(_0xc637d7,_0x4e472b)=>{if(_0xc637d7)_0x373df7('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0xcab58b['original']+'\x20['+_0xc637d7+']');else{const _0x288fd8=Cf(_0x4e472b);_0x109d42['_loadTextu'+'res'](_0xcab58b['load']['replace']('.json','.png'),_0x288fd8,(_0x3dfb72,_0x2a39ab)=>{_0x3dfb72?_0x373df7(_0x3dfb72):_0x373df7(null,{'data':_0x288fd8,'textures':_0x2a39ab});});}}):(_0x29bde2&&_0x29bde2['data']&&(_0x29bde2['data']=Cf(_0x29bde2['data'])),this['_loadTextu'+'res'](_0xcab58b['load'],_0x29bde2&&_0x29bde2['data'],_0x373df7));}['_loadTextu'+'res'](_0x428957,_0x2655ac,_0x762362){const _0x57bc31=_0x2655ac['info']['maps']['length'];let _0x448b97=0x35d*-0x7+0x110d*-0x2+0x39a5,_0x275ed0=null;const _0x2fe54a=new Array(_0x57bc31),_0x493492=this['_loader'],_0x1c4712=function(_0x2cdbc0){const _0x346230=function(_0x1af7ea,_0x56baca){if(!_0x275ed0){if(_0x1af7ea){_0x275ed0=_0x1af7ea,_0x762362(_0x1af7ea);return;}_0x56baca['upload'](),_0x2fe54a[_0x2cdbc0]=_0x56baca,_0x448b97++,_0x448b97===_0x57bc31&&_0x762362(null,_0x2fe54a);}};_0x2cdbc0===0x5ed+-0x26db+-0x232*-0xf?_0x493492['load'](_0x428957,'texture',_0x346230):_0x493492['load'](_0x428957['replace']('.png',_0x2cdbc0+'.png'),'texture',_0x346230);};for(let _0x440684=0xb7+0x3a5*-0x8+0x329*0x9;_0x440684<_0x57bc31;_0x440684++)_0x1c4712(_0x440684);}['open'](_0x28a243,_0x3f46ac,_0xb6efb0){let _0x525cf9;return _0x3f46ac['textures']?_0x525cf9=new yS(_0x3f46ac['textures'],_0x3f46ac['data']):_0x525cf9=new yS(_0x3f46ac,null),_0x525cf9;}['patch'](_0x551112,_0x26a3bf){const _0x256109=_0x551112['resource'];!_0x256109['data']&&_0x551112['data']?_0x256109['data']=_0x551112['data']:!_0x551112['data']&&_0x256109['data']&&(_0x551112['data']=_0x256109['data']),_0x551112['data']&&(_0x551112['data']=Cf(_0x551112['data']));}}async function sk(){const _0x150030=0x2376+-0x1e0d+-0x569+0.28209479177387814;class _0x41afd4{constructor(_0x1f94ca,_0x283eab,_0x28e612){this['x']=_0x1f94ca,this['y']=_0x283eab,this['z']=_0x28e612;}}class _0x19b18c{constructor(_0x51f49d,_0xbf0517,_0x2a5054,_0x297615){this['x']=_0x51f49d,this['y']=_0xbf0517,this['z']=_0x2a5054,this['w']=_0x297615;}}class _0x4acca2{constructor(_0x34fd9b,_0x3a9659,_0x12efa0,_0x301371){this['x']=_0x34fd9b,this['y']=_0x3a9659,this['z']=_0x12efa0,this['w']=_0x301371;}['set'](_0x51bd7a,_0x2f6590,_0x3ea2d1,_0xf775ae){this['x']=_0x51bd7a,this['y']=_0x2f6590,this['z']=_0x3ea2d1,this['w']=_0xf775ae;}}class _0x324b69{constructor(_0x2fb781,_0x18b4d6,_0x3841f7,_0x5dcba2,_0x5f2a74,_0x3a7c68,_0x26b5ab,_0x1ad49e,_0x15b356,_0x2de9f5,_0x2fe897,_0x24f20f,_0x3370b5,_0x122556){const _0x366b85=(_0x4c626,_0x4c560f)=>{const _0x1f15c2=(-0x1cfa+-0xf6e+0x2c69<<_0x4c560f)-(-0x13d7+-0x2*0xc9b+0x2d0e*0x1);return(_0x4c626&_0x1f15c2)/_0x1f15c2;},_0x417183=(_0x556fa3,_0x46d512)=>{_0x556fa3['x']=_0x366b85(_0x46d512>>>-0x83*-0xb+-0x591+-0x5*-0x1,-0x110a+-0x1732+0x2847),_0x556fa3['y']=_0x366b85(_0x46d512>>>-0x1020+0x1*-0x3d7+0x1402,-0x1a4f+0x2*0xa53+0x5b3),_0x556fa3['z']=_0x366b85(_0x46d512,-0x571+-0x1*-0x14f6+0x11b*-0xe);},_0x2380bf=(_0x41dbbe,_0xdfc073)=>{_0x41dbbe['x']=_0x366b85(_0xdfc073>>>0x138d+-0x192e+0x125*0x5,-0x257b+0xbf9+0x198a),_0x41dbbe['y']=_0x366b85(_0xdfc073>>>0x292*0x5+-0x1555+0x88b,0xb41+-0x9a3+-0x196*0x1),_0x41dbbe['z']=_0x366b85(_0xdfc073>>>-0x1e*0x92+-0x480+0x15a4,0x2*0x11f5+-0xb*0x2c3+-0x581*0x1),_0x41dbbe['w']=_0x366b85(_0xdfc073,-0x19*-0x6b+0x1f*-0x123+-0x6*-0x423);},_0xb7c8a9=(_0x3e4a15,_0x25cdca)=>{const _0x45dae1=(-0x494+0x1e2f+-0x1*0x199a)/(Math['sqrt'](0x1657+-0x1e0d+0x7b8)*(-0x4*0x50e+-0x1c80+0x30b8+0.5)),_0x26db9a=(_0x366b85(_0x25cdca>>>-0x74*0x4+-0x245*0x8+0x140c,-0x1128+-0x1f62+0x3094)-(0x13ee*-0x1+-0x1989+0x2d77+0.5))*_0x45dae1,_0x4a1a19=(_0x366b85(_0x25cdca>>>0x11db+-0x1*-0x1cda+0x1*-0x2eab,0x44*-0x21+0x8*-0xad+0xe36*0x1)-(0xde7+-0x5*-0x11a+0x1369*-0x1+0.5))*_0x45dae1,_0x42d75b=(_0x366b85(_0x25cdca,0x1cc8+-0x21eb+0x52d)-(0x1ccf+0x147b+-0x314a+0.5))*_0x45dae1,_0x468531=Math['sqrt'](-0xecb+0x17f+0xd4d-(_0x26db9a*_0x26db9a+_0x4a1a19*_0x4a1a19+_0x42d75b*_0x42d75b));switch(_0x25cdca>>>-0x827*-0x3+-0x1061+-0x7f6){case-0x23ed+0x10*0x1fb+-0x7*-0x9b:_0x3e4a15['set'](_0x26db9a,_0x4a1a19,_0x42d75b,_0x468531);break;case-0x261d+0x6b2+0x1f6c:_0x3e4a15['set'](_0x468531,_0x4a1a19,_0x42d75b,_0x26db9a);break;case 0x1*-0x1208+0x67*0x11+0xb33:_0x3e4a15['set'](_0x4a1a19,_0x468531,_0x42d75b,_0x26db9a);break;case 0x2cf*0xa+0x7bb*-0x4+-0x3*-0xf3:_0x3e4a15['set'](_0x4a1a19,_0x42d75b,_0x468531,_0x26db9a);break;}},_0x22d0cc=(_0x1c498d,_0x104445,_0x278f86)=>_0x1c498d*(0x4*0x779+-0xc3*0x13+0x7b5*-0x2-_0x278f86)+_0x104445*_0x278f86,_0x8aa5a5=[0x1f82+-0x9c6+0x15b9*-0x1,-0x144f+-0x242b*-0x1+0x4*-0x3f5,0x61*-0x59+-0x3f2*-0x5+-0x101*-0xe][_0x26b5ab-(-0x124b+0x2099+-0xe4d)],_0x2fdb2c=0x1*0xc0e+-0x39e*0x8+0x10e8;this['read']=_0x4a99f4=>{const _0x139e20=Math['floor'](_0x4a99f4/(-0x2*-0x1381+-0x1371+-0x31*0x61))*_0x18b4d6;if(_0x1ad49e&&(_0x417183(_0x1ad49e,_0x3841f7[_0x4a99f4*_0x2fdb2c+(-0x401*0x1+-0x897+0xc98)]),_0x1ad49e['x']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x2543*0x1+-0x2022+0x4565)],_0x2fb781[_0x139e20+(-0x234+-0x371+0x5a8)],_0x1ad49e['x']),_0x1ad49e['y']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x2006+0x9f+-0xc*-0x29e)],_0x2fb781[_0x139e20+(-0x25e3+-0x971+0x8*0x5eb)],_0x1ad49e['y']),_0x1ad49e['z']=_0x22d0cc(_0x2fb781[_0x139e20+(0x9*-0xdb+-0x6e2+-0x2d*-0x53)],_0x2fb781[_0x139e20+(0xa7b*-0x2+0x18+-0x14e3*-0x1)],_0x1ad49e['z'])),_0x15b356&&_0xb7c8a9(_0x15b356,_0x3841f7[_0x4a99f4*_0x2fdb2c+(0x79*0x45+0x16b0+0x2*-0x1ba6)]),_0x2de9f5&&(_0x417183(_0x2de9f5,_0x3841f7[_0x4a99f4*_0x2fdb2c+(-0x12df+-0x1d67+-0xce*-0x3c)]),_0x2de9f5['x']=_0x22d0cc(_0x2fb781[_0x139e20+(0x2b7+-0x12e*-0x8+-0xc21)],_0x2fb781[_0x139e20+(-0xdd0+-0x2*0x5c9+0x196b)],_0x2de9f5['x']),_0x2de9f5['y']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x1a65+-0x4b2+-0x1*-0x1f1e)],_0x2fb781[_0x139e20+(-0x102b+0x14e7+-0x4b2)],_0x2de9f5['y']),_0x2de9f5['z']=_0x22d0cc(_0x2fb781[_0x139e20+(0x1984+0x1*0x2467+0x3de3*-0x1)],_0x2fb781[_0x139e20+(-0x40*0x7f+0x83f*-0x1+0x5*0x802)],_0x2de9f5['z'])),_0x2fe897&&(_0x2380bf(_0x2fe897,_0x3841f7[_0x4a99f4*_0x2fdb2c+(0xebf+0x1c0b+0x2ac7*-0x1)]),_0x18b4d6>0x146e+0x200e+-0x2*0x1a38&&(_0x2fe897['x']=_0x22d0cc(_0x2fb781[_0x139e20+(0xe70+0x1*-0x1f4b+0x1*0x10e7)],_0x2fb781[_0x139e20+(-0x55c+-0x14bb+0xd13*0x2)],_0x2fe897['x']),_0x2fe897['y']=_0x22d0cc(_0x2fb781[_0x139e20+(0xf*0x1d7+-0x1849+-0xa7*0x5)],_0x2fb781[_0x139e20+(-0x36*0x61+-0x2607+-0x1*-0x3a8d)],_0x2fe897['y']),_0x2fe897['z']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x49*0x47+-0xba*-0x1f+-0x239)],_0x2fb781[_0x139e20+(-0x2*0x4cf+0x263b+-0x1c8c)],_0x2fe897['z']))),_0x24f20f&&(_0x417183(_0x24f20f,_0x3841f7[_0x4a99f4*_0x2fdb2c+(0x1f+0x1921+-0x193c)]),_0x24f20f['x']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x1*-0x1400+0x14db+-0x28c9)],_0x2fb781[_0x139e20+(-0x2*-0x1225+-0xfc5+-0x1470)],_0x24f20f['x']),_0x24f20f['y']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x6f*-0x46+0x22aa+0x19*-0x299)],_0x2fb781[_0x139e20+(-0x1bd3+-0x419*0x1+0x2002)],_0x24f20f['y']),_0x24f20f['z']=_0x22d0cc(_0x2fb781[_0x139e20+(0x486*0x5+-0x900*-0x3+-0x2*0x18c5)],_0x2fb781[_0x139e20+(-0x2a*0x59+0x1*0x1eb7+-0x1006)],_0x24f20f['z'])),_0x3370b5&&(_0x417183(_0x3370b5,_0x3841f7[_0x4a99f4*_0x2fdb2c+(-0x4*0x871+-0xe21+0x2fea)]),_0x3370b5['x']=_0x22d0cc(_0x2fb781[_0x139e20+(0x2*0xa4b+-0x1271+0x15*-0x19)],_0x2fb781[_0x139e20+(-0x4*0x8ee+-0x1f4a+0x1*0x431b)],_0x3370b5['x']),_0x3370b5['y']=_0x22d0cc(_0x2fb781[_0x139e20+(-0x2*-0x6c7+0x56f+0x5*-0x3c7)],_0x2fb781[_0x139e20+(0x152f+0x26d*0xd+0x1*-0x349d)],_0x3370b5['y'])),_0x122556&&_0x26b5ab>0x3c2+0x2c5*-0xe+0x2304){const _0xc2b38c=[_0x5dcba2,_0x5f2a74,_0x3a7c68];for(let _0x3cb5f0=0x33*0x79+0x84a+-0x2065;_0x3cb5f0<-0x1*-0x106d+0x138+-0x1*0x11a2;++_0x3cb5f0)for(let _0x1589fb=0x6c*-0x6+0x1*-0x1c3d+0x1*0x1ec5;_0x1589fb<-0x1b*-0x6d+0x3ab*-0x3+-0x6f*0x1;++_0x1589fb)_0x122556[_0x3cb5f0*(-0xd*0x10c+-0x1b1f+0x28ca)+_0x1589fb]=_0x1589fb<_0x8aa5a5?_0xc2b38c[_0x3cb5f0][_0x4a99f4*(-0x1d7f+0xca2+0x26b*0x7)+_0x1589fb]*((-0x2380+0x8b*-0x47+-0x1*-0x4a15)/(0xc25+0x1*0x1214+-0x1d3a))-(0xc3+-0x3cf+0x310):-0x3*0x9+0xd61+-0xd46;}};}}self['onmessage']=async _0x104071=>{const {data:_0x5caa57}=_0x104071;switch(_0x5caa57['type']){case'initWorker':break;case'decompress':_0x451afb(_0x5caa57['numSplats'],_0x5caa57['chunkData'],_0x5caa57['chunkSize'],_0x5caa57['vertexData'],_0x5caa57['shData0'],_0x5caa57['shData1'],_0x5caa57['shData2'],_0x5caa57['shBands']);break;}};const _0x451afb=(_0x4bf0c5,_0x2a9dcb,_0x3bcdf3,_0x424bd3,_0x1b9d72,_0x2f670d,_0x26c337,_0x3d0a60)=>{const _0x4363b2=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x3d0a60>0x37e+-0x11c0*-0x1+-0x153e){const _0x5c4e4c=[];for(let _0x2f58ca=-0x1138+0x13*0x127+0x9*-0x85;_0x2f58ca<-0xe4*-0x27+-0xd*0x36+-0x1fd1;++_0x2f58ca)_0x5c4e4c['push']('f_rest_'+_0x2f58ca);_0x4363b2['splice'](_0x4363b2['indexOf']('f_dc_0')+(0x2*0x949+-0x1*-0x23bf+0x4*-0xd94),-0x889+-0x24e+0xad7,..._0x5c4e4c);}const _0x1edda9={};_0x4363b2['forEach'](_0x36f936=>{_0x1edda9[_0x36f936]=new Float32Array(_0x4bf0c5);});const _0x1b255f=new _0x41afd4(),_0x3bb927=new _0x4acca2(),_0x4d78af=new _0x41afd4(),_0x20c378=new _0x19b18c(),_0x15563f=new _0x41afd4(),_0x4da274=new _0x41afd4(),_0x597710=_0x3d0a60>0x1*0x12a1+-0x7*0x97+-0xe80?new Float32Array(-0x223*-0xc+0x9a3+-0x1*0x231a):null,_0x590f4e=new _0x324b69(_0x2a9dcb,_0x3bcdf3,_0x424bd3,_0x1b9d72,_0x2f670d,_0x26c337,_0x3d0a60,_0x1b255f,_0x3bb927,_0x4d78af,_0x20c378,_0x15563f,_0x4da274,_0x597710);for(let _0x1ba082=0x15aa+0x340*0x6+-0x292a;_0x1ba082<_0x4bf0c5;++_0x1ba082)if(_0x590f4e['read'](_0x1ba082),_0x1edda9['x'][_0x1ba082]=_0x1b255f['x'],_0x1edda9['y'][_0x1ba082]=_0x1b255f['y'],_0x1edda9['z'][_0x1ba082]=_0x1b255f['z'],_0x1edda9['rot_1'][_0x1ba082]=_0x3bb927['x'],_0x1edda9['rot_2'][_0x1ba082]=_0x3bb927['y'],_0x1edda9['rot_3'][_0x1ba082]=_0x3bb927['z'],_0x1edda9['rot_0'][_0x1ba082]=_0x3bb927['w'],_0x1edda9['scale_0'][_0x1ba082]=_0x4d78af['x'],_0x1edda9['scale_1'][_0x1ba082]=_0x4d78af['y'],_0x1edda9['scale_2'][_0x1ba082]=_0x4d78af['z'],_0x1edda9['motion_0'][_0x1ba082]=_0x15563f['x'],_0x1edda9['motion_1'][_0x1ba082]=_0x15563f['y'],_0x1edda9['motion_2'][_0x1ba082]=_0x15563f['z'],_0x1edda9['t_scale'][_0x1ba082]=_0x4da274['x'],_0x1edda9['t'][_0x1ba082]=_0x4da274['y'],_0x1edda9['f_dc_0'][_0x1ba082]=(_0x20c378['x']-(0x21c5+-0x1b12+-0x6b3+0.5))/_0x150030,_0x1edda9['f_dc_1'][_0x1ba082]=(_0x20c378['y']-(0x1718+0xf3*-0x3+0x1*-0x143f+0.5))/_0x150030,_0x1edda9['f_dc_2'][_0x1ba082]=(_0x20c378['z']-(-0x1*0x1e85+-0x210b+0x3f90+0.5))/_0x150030,_0x1edda9['opacity'][_0x1ba082]=_0x20c378['w']<=-0xc8*0x1a+-0x2005+0x1*0x3455?-(0x1*0x114b+0x25+-0x2*0x8a4):_0x20c378['w']>=0x31b+-0x2d*-0x83+0x1a21*-0x1?-0x238e+0x207*-0x2+0x1fd*0x14:-Math['log']((0x3*-0x6dd+-0x1*-0x15c5+-0x12d)/_0x20c378['w']-(0x24a7+0x1e91+-0x1*0x4337)),_0x597710){for(let _0x362090=0x22da+-0x12d9+-0x1001;_0x362090<-0x2*-0x598+-0x293*-0x1+-0x4a*0x2f;++_0x362090)_0x1edda9['f_rest_'+_0x362090][_0x1ba082]=_0x597710[_0x362090];}let _0x56454d={'x':_0x1edda9['x'],'y':_0x1edda9['y'],'z':_0x1edda9['z'],'rot_1':_0x1edda9['rot_1'],'rot_2':_0x1edda9['rot_2'],'rot_3':_0x1edda9['rot_3'],'rot_0':_0x1edda9['rot_0'],'scale_0':_0x1edda9['scale_0'],'scale_1':_0x1edda9['scale_1'],'scale_2':_0x1edda9['scale_2'],'motion_0':_0x1edda9['motion_0'],'motion_1':_0x1edda9['motion_1'],'motion_2':_0x1edda9['motion_2'],'t_scale':_0x1edda9['t_scale'],'t':_0x1edda9['t'],'f_dc_0':_0x1edda9['f_dc_0'],'f_dc_1':_0x1edda9['f_dc_1'],'f_dc_2':_0x1edda9['f_dc_2'],'opacity':_0x1edda9['opacity']};_0x597710&&(_0x56454d={..._0x56454d,'f_rest_0':_0x1edda9['f_rest_0'],'f_rest_1':_0x1edda9['f_rest_1'],'f_rest_2':_0x1edda9['f_rest_2'],'f_rest_3':_0x1edda9['f_rest_3'],'f_rest_4':_0x1edda9['f_rest_4'],'f_rest_5':_0x1edda9['f_rest_5'],'f_rest_6':_0x1edda9['f_rest_6'],'f_rest_7':_0x1edda9['f_rest_7'],'f_rest_8':_0x1edda9['f_rest_8'],'f_rest_9':_0x1edda9['f_rest_9'],'f_rest_10':_0x1edda9['f_rest_10'],'f_rest_11':_0x1edda9['f_rest_11'],'f_rest_12':_0x1edda9['f_rest_12'],'f_rest_13':_0x1edda9['f_rest_13'],'f_rest_14':_0x1edda9['f_rest_14'],'f_rest_15':_0x1edda9['f_rest_15'],'f_rest_16':_0x1edda9['f_rest_16'],'f_rest_17':_0x1edda9['f_rest_17'],'f_rest_18':_0x1edda9['f_rest_18'],'f_rest_19':_0x1edda9['f_rest_19'],'f_rest_20':_0x1edda9['f_rest_20'],'f_rest_21':_0x1edda9['f_rest_21'],'f_rest_22':_0x1edda9['f_rest_22'],'f_rest_23':_0x1edda9['f_rest_23'],'f_rest_24':_0x1edda9['f_rest_24'],'f_rest_25':_0x1edda9['f_rest_25'],'f_rest_26':_0x1edda9['f_rest_26'],'f_rest_27':_0x1edda9['f_rest_27'],'f_rest_28':_0x1edda9['f_rest_28'],'f_rest_29':_0x1edda9['f_rest_29'],'f_rest_30':_0x1edda9['f_rest_30'],'f_rest_31':_0x1edda9['f_rest_31'],'f_rest_32':_0x1edda9['f_rest_32'],'f_rest_33':_0x1edda9['f_rest_33'],'f_rest_34':_0x1edda9['f_rest_34'],'f_rest_35':_0x1edda9['f_rest_35'],'f_rest_36':_0x1edda9['f_rest_36'],'f_rest_37':_0x1edda9['f_rest_37'],'f_rest_38':_0x1edda9['f_rest_38'],'f_rest_39':_0x1edda9['f_rest_39'],'f_rest_40':_0x1edda9['f_rest_40'],'f_rest_41':_0x1edda9['f_rest_41'],'f_rest_42':_0x1edda9['f_rest_42'],'f_rest_43':_0x1edda9['f_rest_43'],'f_rest_44':_0x1edda9['f_rest_44']});const _0x39319b=Object['values'](_0x56454d)['map'](_0x8105ad=>_0x8105ad['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x56454d},_0x39319b);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x108c36=>{if(!this['worker'])return;const {data:_0x43ae45}=_0x108c36;switch(_0x43ae45['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x43ae45['data']);break;}};}['decompress'](_0x5abc25,_0x7fbc19,_0x1895be,_0x24aadd,_0x33a3b8,_0x4b63ad,_0x29f4f4,_0x3ff8dc){const _0x1c3338=[_0x7fbc19['buffer'],_0x24aadd['buffer']];_0x33a3b8&&_0x1c3338['push'](_0x33a3b8['buffer']),_0x4b63ad&&_0x1c3338['push'](_0x4b63ad['buffer']),_0x29f4f4&&_0x1c3338['push'](_0x29f4f4['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x5abc25,'chunkData':_0x7fbc19,'chunkSize':_0x1895be,'vertexData':_0x24aadd,'shData0':_0x33a3b8,'shData1':_0x4b63ad,'shData2':_0x29f4f4,'shBands':_0x3ff8dc},_0x1c3338);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x56ac19,_0x48d6e6,_0x2a36e1,_0x582b56,_0x37a2e5,_0x44f221,_0x25f84f,_0x38c544){const _0xb6d7ca=(_0x561d4d,_0x3c02ff)=>{const _0x21ac7c=(-0x1f89+0x4d*-0x2b+0x40b*0xb<<_0x3c02ff)-(-0x19d5+0x15af+0x427*0x1);return(_0x561d4d&_0x21ac7c)/_0x21ac7c;},_0x59142f=(_0x3a7ee0,_0x3bf841)=>{_0x3a7ee0['x']=_0xb6d7ca(_0x3bf841>>>0x1a81*-0x1+-0x1175+0x5*0x8cf,-0x1398+0x15*0xb1+-0x1*-0x51e),_0x3a7ee0['y']=_0xb6d7ca(_0x3bf841>>>-0x246f+-0x1*0x20a4+0x451e,0x2*-0xec1+-0x16a6+0x3432),_0x3a7ee0['z']=_0xb6d7ca(_0x3bf841,0xe30+-0x1222+0x1*0x3fd);},_0x5a4ec1=(_0x5e26e9,_0xefb0e2)=>{_0x5e26e9['x']=_0xb6d7ca(_0xefb0e2>>>0x1c19+0x2238+-0x3e39,-0x7*-0x565+0x1286+-0x3841*0x1),_0x5e26e9['y']=_0xb6d7ca(_0xefb0e2>>>-0x107*-0x6+0x3*-0x9e4+0x1792,0x541+0x22bd*0x1+-0x27f6*0x1),_0x5e26e9['z']=_0xb6d7ca(_0xefb0e2>>>-0x4f*-0x4f+0x10*-0x206+0x807,0x1*-0x1edb+0x141d*0x1+0xac6),_0x5e26e9['w']=_0xb6d7ca(_0xefb0e2,-0x776+0x10bd*0x1+-0x315*0x3);},_0x16a91e=(_0x16f23e,_0x14107e)=>{const _0x593f83=(-0xa*0x2f3+0x156b+0x814)/(Math['sqrt'](-0x473+0x145*0xc+0x59*-0x1f)*(-0xae8+0x1992+-0xeaa+0.5)),_0x1bb091=(_0xb6d7ca(_0x14107e>>>0xaeb+-0x17ba+-0x1*-0xce3,0x1c29+0x1511+-0x8*0x626)-(-0x1*-0x15be+0x69d+-0x1c5b+0.5))*_0x593f83,_0x1a047f=(_0xb6d7ca(_0x14107e>>>-0x530+-0x25*0x6+0x618,-0xabb*0x2+-0x7ed+-0x117*-0x1b)-(-0xe5*-0xc+0x127e+-0x1d*0x102+0.5))*_0x593f83,_0x240df4=(_0xb6d7ca(_0x14107e,0x1e75+-0x2307+0x76*0xa)-(-0x209*0xb+-0x7f4+0x1e57+0.5))*_0x593f83,_0x13bc39=Math['sqrt'](-0xdf*-0xe+0x2680+-0x32b1*0x1-(_0x1bb091*_0x1bb091+_0x1a047f*_0x1a047f+_0x240df4*_0x240df4));switch(_0x14107e>>>0x2682+-0x830+-0x1e34){case 0x1e8+-0x24e6+-0x6*-0x5d5:_0x16f23e['set'](_0x1bb091,_0x1a047f,_0x240df4,_0x13bc39);break;case-0x7b*0x1d+0x17*0x13+0x1f*0x65:_0x16f23e['set'](_0x13bc39,_0x1a047f,_0x240df4,_0x1bb091);break;case 0x1f34*0x1+-0x989*0x3+0x33*-0xd:_0x16f23e['set'](_0x1a047f,_0x13bc39,_0x240df4,_0x1bb091);break;case-0x461+0x1211+-0xdad:_0x16f23e['set'](_0x1a047f,_0x240df4,_0x13bc39,_0x1bb091);break;}},_0x3c18bd=(_0x5727a8,_0x43b146,_0xd04128)=>_0x5727a8*(0xf9*0x9+-0x7b3+0x1*-0x10d-_0xd04128)+_0x43b146*_0xd04128,{chunkData:_0x424572,chunkSize:_0xb34edf,vertexData:_0x55f372,shData0:_0x8878e7,shData1:_0xf4ebd4,shData2:_0x43d32d,shBands:_0x2f2500}=_0x56ac19,_0x2aca71=[0xde0+-0xb2e+-0x2af,0x4*0x28f+0x2*0xaca+0x9*-0x388,0xc91*-0x1+0x1*0x3be+0x6*0x17b][_0x2f2500-(0x3ed*0x9+-0xe6e+-0x14e6)],_0x4748bf=-0x2325+0x3*0x4cd+0x531*0x4;this['read']=_0x5a38ad=>{const _0x6c7b5b=Math['floor'](_0x5a38ad/(-0x1941+-0x4f1+0x1f32))*_0xb34edf;if(_0x48d6e6&&(_0x59142f(_0x48d6e6,_0x55f372[_0x5a38ad*_0x4748bf+(0x16fb+0x13*0x161+0x4eb*-0xa)]),_0x48d6e6['x']=_0x3c18bd(_0x424572[_0x6c7b5b+(0x269*0x7+0x49*-0x5+-0xf72)],_0x424572[_0x6c7b5b+(-0x1*-0x20c+0xb75+-0xd7e)],_0x48d6e6['x']),_0x48d6e6['y']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x34f*0x4+0x1*0x11b4+-0x477)],_0x424572[_0x6c7b5b+(0x12b8+0x1*-0x2432+0x8bf*0x2)],_0x48d6e6['y']),_0x48d6e6['z']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x1388+0xd7c+-0x1f*-0x32)],_0x424572[_0x6c7b5b+(-0x14da+-0x1697+0x2b76)],_0x48d6e6['z'])),_0x2a36e1&&_0x16a91e(_0x2a36e1,_0x55f372[_0x5a38ad*_0x4748bf+(-0x1304+0x31e+0xfe7)]),_0x582b56&&(_0x59142f(_0x582b56,_0x55f372[_0x5a38ad*_0x4748bf+(0x1835*-0x1+-0x79+0x10*0x18b)]),_0x582b56['x']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x5d9*0x5+0x5cb+-0x2ef*-0x8)],_0x424572[_0x6c7b5b+(-0xc*-0xf4+0xc5f*-0x3+0x449*0x6)],_0x582b56['x']),_0x582b56['y']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x2113+0x1409+-0x5*-0x29d)],_0x424572[_0x6c7b5b+(0x1406+-0x44*0xc+-0x10cc)],_0x582b56['y']),_0x582b56['z']=_0x3c18bd(_0x424572[_0x6c7b5b+(0x989+0x4*-0x4bd+0x973)],_0x424572[_0x6c7b5b+(-0xb05+0x1a89+-0x11*0xe9)],_0x582b56['z'])),_0x37a2e5&&(_0x5a4ec1(_0x37a2e5,_0x55f372[_0x5a38ad*_0x4748bf+(-0x234*-0x3+0x2498+-0x2b31)]),_0xb34edf>0x19d0+-0x829+0x119b*-0x1&&(_0x37a2e5['x']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x197*0x17+-0x20d5+0x4572)],_0x424572[_0x6c7b5b+(0x2*0xfda+0x197c*-0x1+-0x1*0x629)],_0x37a2e5['x']),_0x37a2e5['y']=_0x3c18bd(_0x424572[_0x6c7b5b+(0x2273*0x1+-0x1*0x23b9+0x153)],_0x424572[_0x6c7b5b+(0x4a9*0x4+0xf73+-0x2207)],_0x37a2e5['y']),_0x37a2e5['z']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x1bb8*-0x1+-0x2634+0xa8a)],_0x424572[_0x6c7b5b+(-0x1*0xf47+0x15d8+0x340*-0x2)],_0x37a2e5['z']))),_0x44f221&&(_0x59142f(_0x44f221,_0x55f372[_0x5a38ad*_0x4748bf+(-0x71b+-0x1*-0x1c69+-0x154a)]),_0x44f221['x']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x42e+0x1*-0xd3+0x513)],_0x424572[_0x6c7b5b+(-0x1*-0xfd1+0x1912+-0x1467*0x2)],_0x44f221['x']),_0x44f221['y']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x1d1b*0x1+0x7a*0x28+-0xa1e*-0x1)],_0x424572[_0x6c7b5b+(-0x1cf4+0x798+0x1572)],_0x44f221['y']),_0x44f221['z']=_0x3c18bd(_0x424572[_0x6c7b5b+(0x1a70+0x260e+0x1e5*-0x22)],_0x424572[_0x6c7b5b+(0xfa1*0x1+-0x26dd+0x1753)],_0x44f221['z'])),_0x25f84f&&(_0x59142f(_0x25f84f,_0x55f372[_0x5a38ad*_0x4748bf+(0x23df+-0x860*-0x4+-0x455a*0x1)]),_0x25f84f['x']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0x2476+0x2*-0x4e1+0x2e50)],_0x424572[_0x6c7b5b+(-0x8*-0x4ca+-0x18d3+-0x4*0x359)],_0x25f84f['x']),_0x25f84f['y']=_0x3c18bd(_0x424572[_0x6c7b5b+(-0xce+-0x2339+0x2421)],_0x424572[_0x6c7b5b+(0x1*-0x248d+0x16e9+0xdbf)],_0x25f84f['y'])),_0x38c544&&_0x2f2500>0x151*-0x11+-0x19*-0x5c+-0xd65*-0x1){const _0xb41693=[_0x8878e7,_0xf4ebd4,_0x43d32d];for(let _0x557cc7=0x3*0x687+0xad3+-0x1e68;_0x557cc7<-0x1*-0xd3+0x5ee+-0x6be;++_0x557cc7)for(let _0x590daa=-0x1*0x2176+0x1c4e+-0x14*-0x42;_0x590daa<0x1*-0x2482+0xd*-0x2bd+0x482a;++_0x590daa)_0x38c544[_0x557cc7*(0x2*0x937+0x12b*0x3+0x5*-0x460)+_0x590daa]=_0x590daa<_0x2aca71?_0xb41693[_0x557cc7][_0x5a38ad*(0x1549*-0x1+-0x1546+0x2a9f)+_0x590daa]*((-0x949*0x1+-0xeac+-0x17*-0x10b)/(-0x1bd0+0x25e8+-0x89*0x11))-(0x601*-0x6+-0x7*-0xe5+-0x1*-0x1dc7):-0x1d95+-0x17*0xa1+0x2c0c;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x1d41fb,_0x3568d4,_0x2bdac8,_0x161714,_0x57fac5,_0x496ec2,_0x42f65f){return new rk(this,_0x1d41fb,_0x3568d4,_0x2bdac8,_0x161714,_0x57fac5,_0x496ec2,_0x42f65f);}['calcAabb'](_0x5782bf){const {chunkData:_0x28d037,numChunks:_0x4dcfbb,chunkSize:_0x20febe}=this;let _0x2960a2=Math['exp'](Math['max'](_0x28d037[-0x20d+0x3*0x296+-0x79*0xc],_0x28d037[0x12b4+-0x1bbf+0x915],_0x28d037[-0xc2*-0x4+0x1262+-0x155f*0x1])),_0xd3c776=_0x28d037[0x19ba+0x3dd*-0x5+0x223*-0x3]-_0x2960a2,_0x31ee7a=_0x28d037[0x45a*0x3+-0x14f2+0x7e5*0x1]-_0x2960a2,_0x317427=_0x28d037[0x1528+-0x2e2+-0x1244]-_0x2960a2,_0x418450=_0x28d037[-0x1*0xde2+0x1e7d+0x48*-0x3b]+_0x2960a2,_0x325256=_0x28d037[-0x2*0xf12+-0xf*0x3c+0x35e*0xa]+_0x2960a2,_0xa78c68=_0x28d037[0x6*0x12a+0x602*0x6+0x3e9*-0xb]+_0x2960a2;for(let _0x39ff9d=-0xe8f*-0x1+0x59*-0x9+-0xb6d;_0x39ff9d<_0x4dcfbb;++_0x39ff9d){const _0x8978bd=_0x39ff9d*_0x20febe;_0x2960a2=Math['exp'](Math['max'](_0x28d037[_0x8978bd+(0x1*-0x742+-0x493+-0x1b2*-0x7)],_0x28d037[_0x8978bd+(0x40*-0x1+0x2*-0x7d5+0x7fa*0x2)],_0x28d037[_0x8978bd+(0xb55+-0x1205*0x1+-0x6bb*-0x1)])),_0xd3c776=Math['min'](_0xd3c776,_0x28d037[_0x8978bd+(-0x8e*0x31+0x29c*0x1+0x172*0x11)]-_0x2960a2),_0x31ee7a=Math['min'](_0x31ee7a,_0x28d037[_0x8978bd+(-0x1*0x20dd+-0x1*0xe89+0x2f67)]-_0x2960a2),_0x317427=Math['min'](_0x317427,_0x28d037[_0x8978bd+(0x1ae*-0x1+0xa1e+-0x86e)]-_0x2960a2),_0x418450=Math['max'](_0x418450,_0x28d037[_0x8978bd+(-0x20a1*-0x1+0x1*-0x998+-0x1a5*0xe)]+_0x2960a2),_0x325256=Math['max'](_0x325256,_0x28d037[_0x8978bd+(0x4*0x88e+0x3*-0xb7+-0x200f)]+_0x2960a2),_0xa78c68=Math['max'](_0xa78c68,_0x28d037[_0x8978bd+(0x21f5+0x745+-0x2935)]+_0x2960a2);}return _0x5782bf['center']['set']((_0xd3c776+_0x418450)*(-0x2*0x1303+-0x1fb1+0x7bf*0x9+0.5),(_0x31ee7a+_0x325256)*(-0x1ce8+-0x2100+-0x8*-0x7bd+0.5),(_0x317427+_0xa78c68)*(0x15c*-0x9+0x17*-0x175+0x2dbf+0.5)),_0x5782bf['halfExtent'+'s']['set']((_0x418450-_0xd3c776)*(0x53b*-0x7+-0x853+-0x2cf0*-0x1+0.5),(_0x325256-_0x31ee7a)*(0x2*0x12a+-0x1b85+0x1931+0.5),(_0xa78c68-_0x317427)*(0x107a+-0x261c+-0x1aa*-0xd+0.5)),!(0x848+0x1c6f+-0xd*0x2d3);}['getCenters'](_0x53b4ff){const {vertexData:_0x3c762e,chunkData:_0x1a3547,numChunks:_0x240e78,chunkSize:_0x245cd7}=this;let _0x44035b,_0x28650f,_0x4e1284,_0x1349f0,_0xf5f349,_0x3ba9c9;for(let _0x3e6075=-0x7a2+0x5*-0x5f0+0x2552;_0x3e6075<_0x240e78;++_0x3e6075){const _0x2020ca=_0x3e6075*_0x245cd7;_0x44035b=_0x1a3547[_0x2020ca+(-0x1a2a+0x868+-0x2*-0x8e1)],_0x28650f=_0x1a3547[_0x2020ca+(-0x695*-0x2+0x1*0xf6f+-0x988*0x3)],_0x4e1284=_0x1a3547[_0x2020ca+(-0xa83+0xc*0x179+-0x1*0x727)],_0x1349f0=_0x1a3547[_0x2020ca+(-0x10*-0x37+0x14c3*0x1+0x1830*-0x1)],_0xf5f349=_0x1a3547[_0x2020ca+(-0x10d2+-0x142b+0x2501)],_0x3ba9c9=_0x1a3547[_0x2020ca+(0x244a+-0x2*0x184+-0x43*0x7f)];const _0x2d64ce=Math['min'](this['numSplats'],(_0x3e6075+(0x117e+-0x63d+-0xb40))*(0xa38*-0x1+-0x11ee+-0xb6*-0x29));for(let _0x19e298=_0x3e6075*(0x8*0x1c2+-0x1953+0x1*0xc43);_0x19e298<_0x2d64ce;++_0x19e298){const _0x2585fa=_0x3c762e[_0x19e298*(0x1d59+0x1d7b+-0x3ad0)],_0x2f4dc6=(_0x2585fa>>>-0x1d1*-0xd+-0x22ed+0xb65)/(0x2172+0x1743+-0x30b6),_0x12ffd4=(_0x2585fa>>>0x225b*0x1+0x12*0x15b+0x5df*-0xa&-0x34f+0x407*-0x3+0x1363)/(-0x123*0x1f+0x2*0xf17+0x90e),_0x1b757b=(_0x2585fa&0x1748+-0x2513*0x1+0x1*0x15ca)/(0x4f*-0x63+0xcf*0xe+-0x1b3a*-0x1);_0x53b4ff[_0x19e298*(0x23d5*0x1+-0x3*-0x3f1+-0x2fa5*0x1)+(-0x3*-0xb89+-0x812+-0x1a89)]=(0x1*-0x18c7+-0x1f94*-0x1+-0x6cc-_0x2f4dc6)*_0x44035b+_0x2f4dc6*_0x1349f0,_0x53b4ff[_0x19e298*(-0x17f3+-0x20a9+0x45b*0xd)+(-0x1fcd+0x14ee+0xae0)]=(-0x886+0x1*0x21b5+-0x192e-_0x12ffd4)*_0x28650f+_0x12ffd4*_0xf5f349,_0x53b4ff[_0x19e298*(0x159f+-0x1a38+0x49c*0x1)+(0x17ff+-0x14f3+-0x30a)]=(0x50b*0x1+0x1*-0x1ec4+0x19ba-_0x1b757b)*_0x4e1284+_0x1b757b*_0x3ba9c9;}}}['getChunks'](_0x4ef43f){const {chunkData:_0x44271d,numChunks:_0x4efb1a,chunkSize:_0x16a9f5}=this;let _0x1f95c7,_0x9b8005,_0x3c2a9b,_0x1e9b6d,_0x42593e,_0x373cb0;for(let _0xc103fb=0x409+0x2084*0x1+-0x3*0xc2f;_0xc103fb<_0x4efb1a;++_0xc103fb){const _0x213349=_0xc103fb*_0x16a9f5;_0x1f95c7=_0x44271d[_0x213349+(0x4*-0x1ed+0x313*-0xb+0x2985)],_0x9b8005=_0x44271d[_0x213349+(0x4c2+-0x119f*0x1+0x225*0x6)],_0x3c2a9b=_0x44271d[_0x213349+(0xd*0x254+0xa57+-0x2899)],_0x1e9b6d=_0x44271d[_0x213349+(-0x409*0x3+0x5*0x25d+0x4d)],_0x42593e=_0x44271d[_0x213349+(-0xaf7*0x1+0x51e+-0x4f*-0x13)],_0x373cb0=_0x44271d[_0x213349+(-0x2327+0x2*-0x53a+-0x10*-0x2da)],_0x4ef43f[_0xc103fb*(-0x1d1f+0x1200+-0x13d*-0x9)+(-0x1*0x2629+-0x4*0x1e2+0x2db1)]=_0x1f95c7,_0x4ef43f[_0xc103fb*(-0x2608+-0x21c6+0x47d4)+(-0x1*0x1c74+-0x2*-0x45e+0x13b9)]=_0x9b8005,_0x4ef43f[_0xc103fb*(0xc9*-0x31+-0x911*0x2+0x38a1)+(-0x2d*-0x15+-0x9*0x25+-0x262)]=_0x3c2a9b,_0x4ef43f[_0xc103fb*(-0x913+-0xe9+0x501*0x2)+(0x14ad+-0x1749+0x29f)]=_0x1e9b6d,_0x4ef43f[_0xc103fb*(-0x23bb*0x1+-0x3*-0x300+-0x9*-0x2f9)+(-0x2683+-0x3*-0x51c+0x1733*0x1)]=_0x42593e,_0x4ef43f[_0xc103fb*(0x25d4+-0xfbf+0x1*-0x160f)+(0x452*0x7+-0x19f9+0x44*-0x10)]=_0x373cb0;}}['calcFocalP'+'oint'](_0x2ef263){const {chunkData:_0x29e5c5,numChunks:_0x185ad2,chunkSize:_0x3288a0}=this;_0x2ef263['x']=0x72d+-0x225d+-0x57*-0x50,_0x2ef263['y']=0x162e+-0x17a9*-0x1+-0x2dd7,_0x2ef263['z']=-0xa*-0x256+0x137*-0x2+-0x14ee;for(let _0x29b9b2=0x144e+-0x1*-0x1d63+0x1*-0x31b1;_0x29b9b2<_0x185ad2;++_0x29b9b2){const _0xbcdd84=_0x29b9b2*_0x3288a0;_0x2ef263['x']+=_0x29e5c5[_0xbcdd84+(-0x1e4*-0xc+0x8cb+0x1f7b*-0x1)]+_0x29e5c5[_0xbcdd84+(-0x1*-0x1fe7+-0x1886+-0x75e)],_0x2ef263['y']+=_0x29e5c5[_0xbcdd84+(0x1443+-0x1e62*0x1+-0x9*-0x120)]+_0x29e5c5[_0xbcdd84+(0x1605+0x397*0x2+-0x1d2f)],_0x2ef263['z']+=_0x29e5c5[_0xbcdd84+(-0x16f*0xd+0x1888+-0x5e3)]+_0x29e5c5[_0xbcdd84+(0x67*-0xf+0x1a48+-0x143a)];}_0x2ef263['mulScalar']((-0x1bf1+-0x1fc3+0x3bb4+0.5)/_0x185ad2);}get['isCompress'+'ed'](){return!(0x1521*0x1+0x556+-0x1a77);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x2*-0xda6+0x664+0x15e8));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x52c7ec=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x160744}=this;if(_0x160744>0xf1+0xfac+-0x109d){const _0x28279c=[];for(let _0x25f5a2=0x287+0x1c74+-0x2d1*0xb;_0x25f5a2<-0x20*0xae+-0x1*0x16b9+0xfe*0x2d;++_0x25f5a2)_0x28279c['push']('f_rest_'+_0x25f5a2);_0x52c7ec['splice'](_0x52c7ec['indexOf']('f_dc_0')+(-0x1122+-0x2*-0x4c7+0x795*0x1),0x2533+-0x1*-0x581+-0x2ab4,..._0x28279c);}const _0x453002=new ik();return _0x453002['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x41d4cf,_0x35440e)=>{_0x453002['on']('decompress'+'ed',_0x54897f=>{_0x453002['destroy'](),_0x41d4cf(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x52c7ec['map'](_0x2eef6f=>({'type':'float','name':_0x2eef6f,'storage':_0x54897f[_0x2eef6f],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x47ded0='super4d-ca'+'che-v1',_0xd69cf1={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0xf15c7b=new Uint8Array([0x2429+0x2555*-0x1+-0x2*-0xce,-0xb*0x119+-0x1*0x17ff+0x247e,-0x9*0x2e1+0x4b+0x1a17*0x1,0x1*-0x1733+-0x1a28+-0x5*-0x9e1]),_0x143c37=new Uint8Array([0x1*-0xc61+-0x2*-0xecb+-0x125*0xf,-0x2*0x1251+-0x1d04+0x420b,-0x22f1+0x1181+0x8ef*0x2,0x7*-0x577+-0x2281*-0x1+0x212*0x2,0x8aa+0x2a5*0x1+-0xaf0,0x159d+0x1161+-0x2*0x134b,0x7bd*0x5+-0x1ea7+-0x13*0x67,-0x1fb*0x8+-0x1*-0x1253+-0x21a,-0x641*-0x2+-0x16dd+0xabf,0x83*0x3a+-0x1*0x1d5c+0x13,0x2b*-0x3d+-0x13*0xab+-0x1762*-0x1,-0xb28+-0x171c+0x1*0x224e]),_0x328cfe=-0xa1b+0x1d05+-0x12*0x10d+0.28209479177387814,_0x1f5e9e=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x3b25cd{constructor(_0x125c0a={}){this['options']={..._0xd69cf1,..._0x125c0a},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x196a+0xc86+-0x294*-0x5,this['initialize'+'d']=!(0x21e9+0xfda+-0x243*0x16);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x47ded0);const _0x4cb807=await this['cache']['keys'](),_0x52cb3b=[];for(const _0x354aae of _0x4cb807){const _0x47cd14=_0x354aae['url'],_0x21acc6=await this['cache']['match'](_0x47cd14);if(_0x21acc6){const _0xb7bbf9=(await _0x21acc6['blob']())['size'],_0x4f0b21=_0x21acc6['headers']['get']('x-cache-ti'+'me');_0x4f0b21&&_0x52cb3b['push']({'url':_0x47cd14,'size':_0xb7bbf9,'cacheTime':parseInt(_0x4f0b21)});}}_0x52cb3b['sort']((_0x47601f,_0x320087)=>_0x47601f['cacheTime']-_0x320087['cacheTime']);for(const _0x18e0d9 of _0x52cb3b)this['cacheSizes']['set'](_0x18e0d9['url'],_0x18e0d9['size']),this['currentSiz'+'e']+=_0x18e0d9['size'],this['lruList']['push'](_0x18e0d9['url']);}catch(_0x2c715a){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x2c715a);}this['initialize'+'d']=!(0x4*-0x90f+-0x20b+0x2647);}}async['get'](_0x416649){if(await this['init'](),!this['cache'])return null;try{const _0x2879c7=await this['cache']['match'](_0x416649);if(!_0x2879c7)return null;const _0x16ad2e=_0x2879c7['headers']['get']('x-cache-ti'+'me');return _0x16ad2e&&Date['now']()-parseInt(_0x16ad2e)>this['options']['maxAge']?(await this['delete'](_0x416649),null):(this['updateLRU'](_0x416649),_0x2879c7);}catch{return null;}}async['set'](_0xab42fa,_0x3252f7){if(!(!this['cache']||_0xab42fa['startsWith']('blob:')))try{const _0x428d8f=_0x3252f7['clone'](),_0x1de330=await _0x428d8f['blob'](),_0x2e44da=_0x1de330['size'];this['currentSiz'+'e']+_0x2e44da>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x2e44da);const _0x37465e=new Headers(_0x428d8f['headers']);_0x37465e['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x749692=new Response(_0x1de330,{'status':_0x428d8f['status'],'statusText':_0x428d8f['statusText'],'headers':_0x37465e});await this['cache']['put'](_0xab42fa,_0x749692),this['cacheSizes']['set'](_0xab42fa,_0x2e44da),this['currentSiz'+'e']+=_0x2e44da,this['updateLRU'](_0xab42fa);}catch(_0x193010){console['error']('Cache\x20set\x20'+'error:',_0x193010);}}['updateLRU'](_0x51ea11){const _0x113991=this['lruList']['indexOf'](_0x51ea11);_0x113991>-(-0xdf7+-0x12cf+-0xaed*-0x3)&&this['lruList']['splice'](_0x113991,0x218e+0xf*0xa2+-0x2b0b),this['lruList']['push'](_0x51ea11);}async['cleanupSpa'+'ce'](_0x56ffef){const _0x314f3f=this['options']['maxSize']*(0x47*-0x6a+-0x1baa+0x3910+0.9);if(!(this['currentSiz'+'e']<=_0x314f3f))for(;this['lruList']['length']>0x1cef+0x2*-0xe23+-0xa9&&this['currentSiz'+'e']>_0x314f3f;){const _0x38aeed=this['lruList']['shift']();_0x38aeed&&await this['delete'](_0x38aeed);}}async['delete'](_0x2aa633){if(this['cache'])try{await this['cache']['delete'](_0x2aa633);const _0x158b98=this['cacheSizes']['get'](_0x2aa633)||0x755*0x1+0x1*-0x1db+-0x57a;this['currentSiz'+'e']-=_0x158b98,this['cacheSizes']['delete'](_0x2aa633);const _0x1ee3fa=this['lruList']['indexOf'](_0x2aa633);_0x1ee3fa>-(0x247*-0x2+0x1cbf+-0x1830)&&this['lruList']['splice'](_0x1ee3fa,0x247b+0x2*-0xc37+-0x3*0x404);}catch(_0x55f4bc){console['error']('Cache\x20dele'+'te\x20error:',_0x55f4bc);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x2f9be9=>Promise['all'](_0x2f9be9['map'](_0xa3dbc=>{var _0x353dfd;return(_0x353dfd=this['cache'])==null?void(-0xe85*-0x1+0xe4b+-0x1cd0):_0x353dfd['delete'](_0xa3dbc);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x2*0x2f2+-0x3*0x29a+0x1ea;}catch(_0x2ceb67){console['error']('Cache\x20clea'+'r\x20error:',_0x2ceb67);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x2573*0x1+0x77d+-0x2cf*0x10;}}class _0x12f439{constructor(_0x1accd5=[],_0x35cccb={}){this['cacheManag'+'er']=new _0x3b25cd(_0x35cccb['cache']),this['retryCount']=_0x35cccb['retryCount']||0x3*0xb15+-0xbe*-0x17+0x5e*-0x89,this['retryDelay']=_0x35cccb['retryDelay']||-0x24*0xb3+0x593*0x7+-0xbe5,this['maxConcurr'+'ency']=_0x35cccb['maxConcurr'+'ency']||-0xf04+-0x26a7+-0x1*-0x35ad,this['downloadQu'+'eue']=_0x1accd5,this['isProcessi'+'ngDownload'+'Queue']=!(-0x2400+0xfc1+0x1440),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0xbcf+-0x2016+0x1447*0x1);this['downloadQu'+'eue']['length']>0x1c*-0x13f+-0xde2*0x1+0x30c6;)try{const _0x1d60b0=this['downloadQu'+'eue']['splice'](-0x730+0x4*-0x3d1+-0xb3a*-0x2,this['maxConcurr'+'ency'])['map'](_0x4af35f=>{if(!this['pendingRes'+'ponses']['has'](_0x4af35f)){const _0x2f1ede=this['download'](_0x4af35f);return this['pendingRes'+'ponses']['set'](_0x4af35f,_0x2f1ede),_0x2f1ede['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x4af35f);});}return Promise['resolve']();});await Promise['all'](_0x1d60b0);}catch(_0x42d2fe){console['error']('Download\x20e'+'rror:',_0x42d2fe);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x7fe+0xa27+0x183*-0xc);}}}async['fetch'](_0x5e36ea,_0x61a317={}){if(this['pendingRes'+'ponses']['has'](_0x5e36ea))return this['pendingRes'+'ponses']['get'](_0x5e36ea);const {forceRefresh:_0x3af8ef=!(-0x92*0x3b+0x15ce*-0x1+-0x3775*-0x1),..._0x235ede}=_0x61a317;this['pendingRes'+'ponses']['set'](_0x5e36ea,this['download'](_0x5e36ea,_0x235ede));const _0x290ab3=await this['pendingRes'+'ponses']['get'](_0x5e36ea);return this['pendingRes'+'ponses']['delete'](_0x5e36ea),_0x290ab3;}async['download'](_0x2514b6,_0x40c450={}){var _0x483806;await((_0x483806=this['cacheManag'+'er'])==null?void(-0x2560+0x3d*0xb+-0x4f7*-0x7):_0x483806['init']());const {forceRefresh:_0x26cfa3=!(0xcf*0x6+0x3f1+-0x8ca),..._0x52382c}=_0x40c450;_0x26cfa3&&await this['cacheManag'+'er']['delete'](_0x2514b6);const _0xe56fe2=await this['cacheManag'+'er']['get'](_0x2514b6);if(_0xe56fe2)return _0xe56fe2;let _0x5ddc11;for(let _0x9aadb0=0xdcc+-0x3*-0x43e+-0x7*0x3ca;_0x9aadb0<this['retryCount'];_0x9aadb0++)try{const _0x3eeb6f=await fetch(_0x2514b6,_0x52382c);if(!_0x3eeb6f['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x3eeb6f['status']);return await this['cacheManag'+'er']['set'](_0x2514b6,_0x3eeb6f),_0x3eeb6f;}catch(_0x2099fb){console['error']('Download\x20e'+'rror:',_0x2099fb),_0x5ddc11=_0x2099fb,_0x9aadb0<this['retryCount']-(-0x2257*-0x1+0x1ada+0x2c*-0x164)&&await new Promise(_0x12ec86=>setTimeout(_0x12ec86,this['retryDelay']*(_0x9aadb0+(-0x1723*0x1+0x80f+-0x1*-0xf15))));}throw _0x5ddc11;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x1f66+0xbc2+0x13a5),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x494822{constructor(){this['numSplats']=0x47e+-0x29*-0x1b+-0x8d1,this['comments']=[],this['chunkData']=new Float32Array(0x959+-0x2061+0x1708),this['vertexData']=new Uint32Array(0x1e5d+0x2*0x1079+-0x3f4f),this['is4D']=!(-0x1afb*0x1+0x3*0xf8+0x1813*0x1),this['shBands']=-0x1416+-0x161*0x19+0x1*0x368f,this['shData0']=new Uint8Array(-0x395+-0x13ad*-0x1+-0x1018),this['shData1']=new Uint8Array(0x24a*0x2+0x2*0xc14+0x72f*-0x4),this['shData2']=new Uint8Array(0x2084+-0x520+0x2*-0xdb2),this['elements']=[],this['isCompress'+'ed']=!(0xd58+0x20c5+0xf5f*-0x3);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x3*-0x88a+-0x21d3+0x3c71*0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x14a903{constructor(_0x1f496d,_0x3f573=[]){this['elements']=_0x1f496d,this['comments']=_0x3f573,this['isCompress'+'ed']=!(0x7fd*0x3+-0x2675+0xe7f);}}class _0x56301c{constructor(_0x3cfc9c,_0x57bbd2){this['reader']=_0x3cfc9c,this['progressFu'+'nc']=_0x57bbd2,this['head']=0x1a5a+0xa9c+0x127b*-0x2,this['tail']=0x2067+0x5c+-0x20c3;}async['read'](){var _0x33a425;const {value:_0x309a2e,done:_0x531464}=await this['reader']['read']();if(_0x531464)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x309a2e),(_0x33a425=this['progressFu'+'nc'])==null||_0x33a425['call'](this,_0x309a2e['byteLength']);}['push'](_0x276e20){if(!this['data'])this['data']=_0x276e20,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x276e20['length'];else{const _0x462d89=this['tail']-this['head'],_0x502eab=_0x462d89+_0x276e20['length'];if(this['data']['length']>=_0x502eab)this['head']>-0x2*-0x6da+-0xa1c*-0x2+-0xd*0x29c?(this['data']['copyWithin'](0x1d07+0x1*-0x12bf+0x1*-0xa48,this['head'],this['tail']),this['data']['set'](_0x276e20,_0x462d89),this['head']=-0xbcd+0x1*0x178d+-0xbc0,this['tail']=_0x502eab):(this['data']['set'](_0x276e20,this['tail']),this['tail']+=_0x276e20['length']);else{const _0x58560d=new Uint8Array(_0x502eab);this['head']>-0x1*-0x1871+-0x3*0xae5+-0x83e*-0x1||this['tail']<this['data']['length']?_0x58560d['set'](this['data']['subarray'](this['head'],this['tail']),-0x5*0x2de+0x236a+-0x1514):_0x58560d['set'](this['data'],0x1de7+0x259+0x20*-0x102),_0x58560d['set'](_0x276e20,_0x462d89),this['data']=_0x58560d,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1*0x3d7+0x1*-0x32b+-0x8a*-0xd,this['tail']=_0x502eab;}}}['compact'](){this['head']>-0x3*0x6eb+0x1d0e+-0x84d&&(this['data']['copyWithin'](0x1a12+0x233f+-0x3d51,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x1d1e+-0x1b77*-0x1+0x1a7);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x1244e9=this['view']['getInt8'](this['head']);return this['head']++,_0x1244e9;}['getUint8'](){const _0x5889a4=this['view']['getUint8'](this['head']);return this['head']++,_0x5889a4;}['getInt16'](){const _0x3480bf=this['view']['getInt16'](this['head'],!(0xda*-0x4+0x13ed+0x1*-0x1085));return this['head']+=-0x235*-0xa+-0x1cbe+-0x3*-0x23a,_0x3480bf;}['getUint16'](){const _0x326750=this['view']['getUint16'](this['head'],!(0x82b*0x3+0x7*-0x446+0x569));return this['head']+=-0xf*-0xdc+0x209d+-0x2d7f,_0x326750;}['getInt32'](){const _0x5371e5=this['view']['getInt32'](this['head'],!(0x29b+0xd37+-0xf*0x10e));return this['head']+=0x1bb6+0x517+-0x20c9,_0x5371e5;}['getUint32'](){const _0x1f45ef=this['view']['getUint32'](this['head'],!(-0x3a*0x1f+0x2575+0x1*-0x1e6f));return this['head']+=0xa8e+0x24ba+-0x2f44,_0x1f45ef;}['getFloat32'](){const _0x28335b=this['view']['getFloat32'](this['head'],!(-0x1958+0x1093+0x1*0x8c5));return this['head']+=0xd5+-0x1*0x223+0x152,_0x28335b;}['getFloat64'](){const _0x546d21=this['view']['getFloat64'](this['head'],!(-0x6*0x2f9+-0x1*0xaa+0x94*0x20));return this['head']+=-0x11e9+0x1*-0xaea+0x1*0x1cdb,_0x546d21;}}class _0x1703e4{constructor(_0x5d4f2d,_0x2690c7,_0x27a6f2){this['x']=_0x5d4f2d,this['y']=_0x2690c7,this['z']=_0x27a6f2;}}class _0x4a77cb{constructor(_0x14c9cc,_0x587c97,_0x5be54b,_0x2938cc){this['x']=_0x14c9cc,this['y']=_0x587c97,this['z']=_0x5be54b,this['w']=_0x2938cc;}}class _0x3f19a1{constructor(_0x66008b,_0xa8013a,_0x12788d,_0x1a4556){this['x']=_0x66008b,this['y']=_0xa8013a,this['z']=_0x12788d,this['w']=_0x1a4556;}['set'](_0x5ede4a,_0x44cbf1,_0x50fdfd,_0x33f59a){this['x']=_0x5ede4a,this['y']=_0x44cbf1,this['z']=_0x50fdfd,this['w']=_0x33f59a;}}class _0x3e0d55{constructor(_0x3d6d53,_0x2cdcc9,_0x1cea7d,_0x38e529,_0x418c3b,_0x31ce7e,_0x4aca31,_0x5749e6,_0x59109c,_0xd121a1,_0xb962fb,_0x1641fd,_0x3c3ad1,_0x422a61){const _0x4039c8=(_0x4db8b1,_0x30bb6c)=>{const _0x4c11d8=(0x10e4+-0x1*0xa3e+-0x6a5<<_0x30bb6c)-(0xeb1+-0x1873*0x1+0x9c3);return(_0x4db8b1&_0x4c11d8)/_0x4c11d8;},_0x1044e8=(_0x54ff50,_0x31a699)=>{_0x54ff50['x']=_0x4039c8(_0x31a699>>>0xfa7+0x6a3*0x1+-0x17b*0xf,-0x1c94+0x2115+-0x476),_0x54ff50['y']=_0x4039c8(_0x31a699>>>0x6e5+-0x2050+0x1976,-0x28f*-0x9+0x2*0xc1+-0x187f),_0x54ff50['z']=_0x4039c8(_0x31a699,0x19cd*-0x1+0x13d1*0x1+-0x1*-0x607);},_0x15ea33=(_0x231292,_0x22dfb2)=>{_0x231292['x']=_0x4039c8(_0x22dfb2>>>0xd46*-0x1+0x417+-0x1db*-0x5,-0xccf*0x2+0x1b5a+0xda*-0x2),_0x231292['y']=_0x4039c8(_0x22dfb2>>>0xa5b*-0x1+-0x1139*0x1+-0xdd2*-0x2,-0xf90+0x16e8*-0x1+0x2680),_0x231292['z']=_0x4039c8(_0x22dfb2>>>-0x16b9+-0x1aac+0x316d,0xf4c*-0x1+-0x2218+0x316c),_0x231292['w']=_0x4039c8(_0x22dfb2,0xc92+-0xc59+-0x1*0x31);},_0x31788c=(_0x2b2452,_0x272653)=>{const _0x109f84=(-0x208a+0x1afc+0x58f)/(Math['sqrt'](-0x69f+-0x16d2+0x1d73)*(0x39*0x11+-0x1*-0x10b1+-0x147a*0x1+0.5)),_0x3a1343=(_0x4039c8(_0x272653>>>-0x931+-0x1e21+-0xf6*-0x29,-0xa*0x2a+0x1ad*-0x3+0x11*0x65)-(0x1*-0x173d+0x1*-0x25bd+0x1be*0x23+0.5))*_0x109f84,_0x5577c8=(_0x4039c8(_0x272653>>>0x49*0x2b+0x244+-0xe7d,-0xf4d*-0x1+-0x3*-0x7a9+0x16*-0x1bd)-(0x576*-0x3+-0x18c3+-0x3*-0xdb7+0.5))*_0x109f84,_0x2b9894=(_0x4039c8(_0x272653,-0x3*0x15+0x206b+-0x2022)-(-0x1db7*-0x1+0x255*0x9+-0x32b4+0.5))*_0x109f84,_0x5eb7f3=Math['sqrt'](0xaf2+0x1*0x26c3+-0x1*0x31b4-(_0x3a1343*_0x3a1343+_0x5577c8*_0x5577c8+_0x2b9894*_0x2b9894));switch(_0x272653>>>0x1d0c+0x2456+-0x4144){case-0x8b*0x21+-0x517*-0x1+0x1*0xcd4:_0x2b2452['set'](_0x3a1343,_0x5577c8,_0x2b9894,_0x5eb7f3);break;case-0x18b9+-0xc*0xf2+0x39*0xa2:_0x2b2452['set'](_0x5eb7f3,_0x5577c8,_0x2b9894,_0x3a1343);break;case 0x2335+-0x12e6*-0x1+-0x3619:_0x2b2452['set'](_0x5577c8,_0x5eb7f3,_0x2b9894,_0x3a1343);break;case 0xe*0xeb+-0x173a+-0x1*-0xa63:_0x2b2452['set'](_0x5577c8,_0x2b9894,_0x5eb7f3,_0x3a1343);break;}},_0x5846db=(_0x1e64ca,_0x38ca75,_0x24418d)=>_0x1e64ca*(0x2*-0xc4d+0x1*-0xaae+0x1*0x2349-_0x24418d)+_0x38ca75*_0x24418d,_0xdddd50=[0x23b*0x5+0xf4e*0x1+-0x1a72*0x1,-0x3*-0x5cb+-0x859+-0x240*0x4,-0x1f*0x3e+-0xaff+0x1290][_0x4aca31-(0x15b9+0x21eb+-0x37a3)],_0x8f7d06=-0xa6*-0xb+-0x1*0xb+-0x711;this['read']=_0x152cd1=>{const _0x3aff7e=Math['floor'](_0x152cd1/(0x2091+0x6*-0x649+0x8f*0xb))*_0x2cdcc9;if(_0x5749e6&&(_0x1044e8(_0x5749e6,_0x1cea7d[_0x152cd1*_0x8f7d06+(-0x20cd*-0x1+0x1489+-0x3556)]),_0x5749e6['x']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x1*0xfe0+-0xbdf+-0x401)],_0x3d6d53[_0x3aff7e+(0x21e5*0x1+0x296+-0x2478)],_0x5749e6['x']),_0x5749e6['y']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x942+0x16df*0x1+-0x404*0x8)],_0x3d6d53[_0x3aff7e+(0x2639+0x82*0x16+-0x3161)],_0x5749e6['y']),_0x5749e6['z']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x3d3+0x245c+-0x282d)],_0x3d6d53[_0x3aff7e+(-0x6*0x136+-0x1b73+-0x1*-0x22bc)],_0x5749e6['z'])),_0x59109c&&_0x31788c(_0x59109c,_0x1cea7d[_0x152cd1*_0x8f7d06+(0x24da+-0x16*-0xa5+-0x3307)]),_0xd121a1&&(_0x1044e8(_0xd121a1,_0x1cea7d[_0x152cd1*_0x8f7d06+(0x1367+-0x3*-0x463+0x208e*-0x1)]),_0xd121a1['x']=_0x5846db(_0x3d6d53[_0x3aff7e+(-0x4*0x80f+0x1*-0x362+0x23a4)],_0x3d6d53[_0x3aff7e+(0xfc6+0x13eb+0xa3*-0x38)],_0xd121a1['x']),_0xd121a1['y']=_0x5846db(_0x3d6d53[_0x3aff7e+(0xa*0x31c+0x65b*0x3+0x3e*-0xcf)],_0x3d6d53[_0x3aff7e+(0x65*0x63+0x117d+-0x1*0x3882)],_0xd121a1['y']),_0xd121a1['z']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x2bf+-0x122f+0x294*0x6)],_0x3d6d53[_0x3aff7e+(0x1688+-0x8*0x406+0x9b3)],_0xd121a1['z'])),_0xb962fb&&(_0x15ea33(_0xb962fb,_0x1cea7d[_0x152cd1*_0x8f7d06+(-0xe0+0x1fd0+-0xd*0x261)]),_0x2cdcc9>0x2*0xf3e+0x67c+0x11*-0x22c&&(_0xb962fb['x']=_0x5846db(_0x3d6d53[_0x3aff7e+(-0xa*-0x315+0x2526+0xc*-0x5a9)],_0x3d6d53[_0x3aff7e+(0xb4f+0x164*0xf+-0x201c)],_0xb962fb['x']),_0xb962fb['y']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x1944+0x1bfd+-0x3534)],_0x3d6d53[_0x3aff7e+(-0xc17*0x1+0x1b4c*-0x1+0x2773)],_0xb962fb['y']),_0xb962fb['z']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x1e65+-0xb*0xcd+-0x562*0x4)],_0x3d6d53[_0x3aff7e+(-0x21*0x5f+-0x213b+-0x59*-0x83)],_0xb962fb['z']))),_0x1641fd&&(_0x1044e8(_0x1641fd,_0x1cea7d[_0x152cd1*_0x8f7d06+(0xd0d*0x1+-0x2*-0x3db+-0x14bf)]),_0x1641fd['x']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x8b*0x3+0x8*0x27+0x2c7*-0x1)],_0x3d6d53[_0x3aff7e+(0x1*0x2227+0x1689+0x389b*-0x1)],_0x1641fd['x']),_0x1641fd['y']=_0x5846db(_0x3d6d53[_0x3aff7e+(0x3*0xca+-0x1*0x21a9+-0x2da*-0xb)],_0x3d6d53[_0x3aff7e+(-0x9df+0x22bd*0x1+-0x18c8)],_0x1641fd['y']),_0x1641fd['z']=_0x5846db(_0x3d6d53[_0x3aff7e+(-0x27d*0xe+-0x8b9+0x1*0x2ba3)],_0x3d6d53[_0x3aff7e+(-0x1aea+-0x1496+0x2f97)],_0x1641fd['z'])),_0x3c3ad1&&(_0x1044e8(_0x3c3ad1,_0x1cea7d[_0x152cd1*_0x8f7d06+(-0x11d7+-0x4cd+0x16a9*0x1)]),_0x3c3ad1['x']=_0x5846db(_0x3d6d53[_0x3aff7e+(-0x117e+-0x568*0x4+0x2736)],_0x3d6d53[_0x3aff7e+(-0x1b75+0x3d*-0x6d+0x3587)],_0x3c3ad1['x']),_0x3c3ad1['y']=_0x5846db(_0x3d6d53[_0x3aff7e+(-0x153*-0xa+0x47a*0x8+0xc3d*-0x4)],_0x3d6d53[_0x3aff7e+(-0x149e+0x1*0xdab+0x102*0x7)],_0x3c3ad1['y'])),_0x422a61&&_0x4aca31>-0x89*-0x3b+-0x4*-0x86b+-0x413f){const _0x29c633=[_0x38e529,_0x418c3b,_0x31ce7e];for(let _0x46ac78=0x93a+0x1fe2+-0x148e*0x2;_0x46ac78<-0x43c*0x6+0x2131+-0x7c6;++_0x46ac78)for(let _0x384450=-0x2399+0x2518+-0x17f;_0x384450<0x2321+-0xa*0x2ee+0x1*-0x5c6;++_0x384450)_0x422a61[_0x46ac78*(0x502+-0x10*0xba+0x6ad)+_0x384450]=_0x384450<_0xdddd50?_0x29c633[_0x46ac78][_0x152cd1*(0x11*0x18d+0x43*-0x77+0x4d8)+_0x384450]*((0x163d*-0x1+0x9*-0x17d+0x23aa)/(0x480+-0x2469+0x20e8))-(-0xefc+0x682+-0x2*-0x43f):-0x12e*0x19+0x1307+-0x2f*-0x39;}};}}self['onmessage']=async _0x2d0f3c=>{var _0x51875c,_0x1ab7af,_0x2ba3fe;const {data:_0x3dc0fa}=_0x2d0f3c;switch(_0x3dc0fa['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x3dc0fa['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x12f439(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x51875c=globalThis['fetchWorke'+'r'])==null||_0x51875c['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x21581f,decompress:_0x209ab2}=_0x3dc0fa;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x12f439(globalThis['loadUrlLis'+'t']));const _0x56666e=await globalThis['fetchWorke'+'r']['fetch'](_0x21581f);if(!_0x56666e||!_0x56666e['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x21581f});else{const _0x42e84e=parseInt(_0x56666e['headers']['get']('content-le'+'ngth')??'0',0x13*-0xf1+0xcf1*0x1+0x4fc);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x42e84e,'bytes':0x0,'url':_0x21581f});let _0x214310=await _0x26d160(_0x56666e['body']['getReader'](),_0x23c9cd=>{self['postMessag'+'e']({'type':'progress','bytes':_0x23c9cd,'totalLength':_0x42e84e,'url':_0x21581f});});if(_0x209ab2&&_0x214310['isCompress'+'ed']){const _0x13140a=_0x5bf9b1(_0x214310),_0x536e99=(_0x1ab7af=_0x13140a==null?void(-0x1*-0x2a5+0x1be*-0x14+0x1*0x2033):_0x13140a['elements'][0x20*0x9a+0x255f*-0x1+0x121f])==null?void(-0x6*-0x40f+-0xc*-0x1d4+-0x2e4a):_0x1ab7af['properties']['map'](_0x5623a4=>_0x5623a4['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x13140a,'url':_0x21581f},_0x536e99);}else{if(_0x214310['isCompress'+'ed']){const _0x4dc7f6=['chunkData','vertexData'];_0x214310['shData0']&&_0x4dc7f6['push']('shData0','shData1','shData2');const _0x2b04f3=_0x4dc7f6['map'](_0x47f59e=>{var _0x5afbb5;return(_0x5afbb5=_0x214310[_0x47f59e])==null?void(-0x15bb+-0x2*0x124f+0x1*0x3a59):_0x5afbb5['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x214310,'url':_0x21581f},_0x2b04f3);}else{_0x214310=_0x5461c8(_0x214310);const _0x3bf71c=(_0x2ba3fe=_0x214310==null?void(0x2007+0x6b0+0x1*-0x26b7):_0x214310['elements'][0xb8*0x2+-0x1083*-0x2+-0x2276])==null?void(0x3*-0xcf2+-0x113b+0x1cf*0x1f):_0x2ba3fe['properties']['map'](_0x556463=>_0x556463['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x214310,'url':_0x21581f},_0x3bf71c);}}}}catch(_0x576fc8){self['postMessag'+'e']({'type':'error','data':_0x576fc8['message'],'url':_0x21581f});}break;}};const _0x5461c8=_0x4326ba=>{var _0x3b4759;const _0x3ed695=(_0x3b4759=_0x4326ba==null?void(-0x764*0x4+-0x2318*-0x1+-0x588):_0x4326ba['elements'][-0xde2+-0xb06+0x18e8])==null?void(0x1*-0xb7e+-0x1ae+0xd2c):_0x3b4759['properties']['find'](_0x51baf9=>_0x51baf9['name']==='opacity');if(_0x3ed695){for(let _0xb26056=-0x9ee*0x1+-0x1671*0x1+0x205f;_0xb26056<_0x3ed695['storage']['length'];_0xb26056++)_0x3ed695['storage'][_0xb26056]=(0x5e3*0x3+0x12*-0x133+-0x1*-0x3ee)/(0x2*0x1019+-0xe8f+-0x11a2+Math['exp'](-_0x3ed695['storage'][_0xb26056]));}return _0x4326ba;},_0x38f1b3=_0x1ef119=>{const _0x14171e=[],_0x29ffe2=[];let _0x3e43c6;for(let _0x860a98=0x776*-0x3+-0xc*-0x1ba+0x1ab;_0x860a98<_0x1ef119['length'];++_0x860a98){const _0x589a64=_0x1ef119[_0x860a98]['split']('\x20');switch(_0x589a64[-0x95f*-0x1+-0x141c+0xabd]){case'comment':_0x29ffe2['push'](_0x589a64['slice'](-0x1*0xbc3+-0x133*-0x3+-0x29*-0x33)['join']('\x20'));break;case'format':_0x3e43c6=_0x589a64[-0x2538+0x1*0xbc3+0x1976];break;case'element':_0x14171e['push']({'name':_0x589a64[-0x1391+-0x1*-0x1e2b+-0xa99*0x1],'count':parseInt(_0x589a64[0xb11*-0x1+-0x2639+0x314c],-0x4*-0x1cd+-0x83*-0x1f+-0x1707),'properties':[]});break;case'property':{if(!_0x1f5e9e['has'](_0x589a64[0x74d+0xdf8+0x551*-0x4]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x589a64[-0xb25+-0x1a*0x25+0xee8]+('\x27\x20in\x20ply\x20h'+'eader'));_0x14171e[_0x14171e['length']-(0x1674+-0xa14+-0xc5f*0x1)]['properties']['push']({'type':_0x589a64[-0x1ceb+0x24ac+0x4*-0x1f0],'name':_0x589a64[-0x2003+0x8*0xb5+-0x11*-0x18d],'storage':null,'byteSize':_0x1f5e9e['get'](_0x589a64[0x301*-0x2+0x267c+-0x2079])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x589a64[0x7*-0x22d+-0x1e4b+0x2d86]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x14171e,'format':_0x3e43c6,'comments':_0x29ffe2};},_0x3064e7=_0x1d817b=>{const _0x28dd5d=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x1963ee=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x2e9700=new Array(-0x5*0x262+0x1e90+0x1279*-0x1)['fill']('')['map']((_0x1ee623,_0x53beda)=>'f_rest_'+_0x53beda),_0x3ebea4=()=>_0x1d817b[0x512+0x1492+-0x19a4]['name']==='chunk'&&_0x1d817b[0x26+-0x19ee+0x19c8]['properties']['every']((_0x575621,_0x52cb74)=>_0x575621['name']===_0x28dd5d[_0x52cb74]&&_0x575621['type']==='float')&&_0x1d817b[-0x297*0x9+0x6bb*0x1+0x1095]['name']==='vertex'&&_0x1d817b[-0x168d+0xe*-0x292+0x76*0x7f]['properties']['every']((_0x560a74,_0x485bf0)=>_0x560a74['name']===_0x1963ee[_0x485bf0]&&_0x560a74['type']==='uint'),_0x530a39=()=>_0x1d817b[-0x5a1+-0x163*-0x3+0xbd*0x2]['name']==='sh'&&[0x245c+-0x5*-0x3a9+-0x36a0,0x2*-0x44+0x629*0x4+-0x1804,0x2157+-0x430+-0x1*0x1cfa]['indexOf'](_0x1d817b[0x3a5+0xab0+-0xe53]['properties']['length'])!==-(-0x1cf6+-0x65e+0x1*0x2355)&&_0x1d817b[0x136d+0x5be+-0x1929]['properties']['every']((_0x9ea20e,_0x3991a2)=>_0x9ea20e['name']===_0x2e9700[_0x3991a2]&&_0x9ea20e['type']==='uchar');return _0x1d817b['length']===0x17ce+-0x36c+-0x1460&&_0x3ebea4()||_0x1d817b['length']===0x2458+0x741+-0x2b96&&_0x3ebea4()&&_0x530a39();},_0x8517ea=_0x255149=>_0x255149['length']===-0x247f+-0x7fe+0x2c7e&&_0x255149[-0x1781+-0x81*-0x47+-0xc46]['name']==='vertex'&&_0x255149[0x118b+-0x2415+0x128a]['properties']['every'](_0x27b9b4=>_0x27b9b4['type']==='float'),_0x3427b6=async(_0x1d7819,_0x1c758b,_0x98579d)=>{const _0x159d58=new _0x494822();_0x159d58['comments']=_0x98579d;const _0x53bfb5=_0x1c758b[-0x18e*-0x7+0x7b5*-0x3+0xc3d*0x1]['count'],_0x4594ca=_0x1c758b[0x22a+-0x7ae*-0x2+0x2*-0x8c3]['properties']['length'],_0x441e37=_0x1c758b[-0x1615+0x1ab0+-0x49a]['count'],_0x159979=_0x1c758b[0xbea*0x2+-0xbd3*-0x1+0x75*-0x4e]['properties']['some'](_0x5607b9=>_0x5607b9['name']==='packed_tim'+'e'),_0xe8d82e=(_0x58a402=>{const _0x4d7fcf=Math['ceil'](Math['sqrt'](_0x58a402)),_0x427e58=Math['ceil'](_0x58a402/_0x4d7fcf);return _0x4d7fcf*_0x427e58;})(_0x441e37);_0x159d58['numSplats']=_0x441e37,_0x159d58['is4D']=_0x159979,_0x159d58['chunkData']=new Float32Array(_0x53bfb5*_0x4594ca),_0x159d58['vertexData']=new Uint32Array(_0xe8d82e*(-0x1d3f+0x12e2*0x1+-0xa63*-0x1));const _0x1b0bdb=async(_0x473306,_0x9b0e5d)=>{const _0x5750aa=new Uint8Array(_0x473306);let _0x18c678=0x11c5*-0x1+-0x2*-0x415+0x99b*0x1;for(;_0x18c678<_0x9b0e5d;){for(;_0x1d7819['remaining']===-0x1639+0x7f5*0x2+0x64f;)await _0x1d7819['read']();const _0x48d398=Math['min'](_0x9b0e5d-_0x18c678,_0x1d7819['remaining']),_0x3f6024=_0x1d7819['data'];for(let _0x2e86bb=-0x706*0x1+-0x1*0x1817+-0xf*-0x213;_0x2e86bb<_0x48d398;++_0x2e86bb)_0x5750aa[_0x18c678++]=_0x3f6024[_0x1d7819['head']++];}};if(await _0x1b0bdb(_0x159d58['chunkData']['buffer'],_0x53bfb5*_0x4594ca*(0x46d*0x1+0x6*-0x3c6+0x123b)),await _0x1b0bdb(_0x159d58['vertexData']['buffer'],_0x441e37*(-0x20b6+-0x230e+0x43ca)*(0xdc9+-0x2*-0x31a+0x1*-0x13f9)),_0x1c758b['length']===0x15c*0x1+-0xf0+-0x3*0x23){const _0x285939=_0xe8d82e*(0x23dc+0x24aa+0x35*-0x15e),_0x2f408c=new Uint8Array(_0x285939),_0x27bfff=new Uint8Array(_0x285939),_0x252756=new Uint8Array(_0x285939),_0x1dcdb6=-0x1*-0x19db+-0x19a2+0x3c7,_0x2707e2=_0x1c758b[0x22b4+-0x2601+0x34f]['properties']['length']/(-0x1687+0x1106+0x584),_0x2755d1=new Uint8Array(_0x1dcdb6*_0x2707e2*(-0x23*-0x108+0x16f5+-0x3b0a));for(let _0xd1cc3c=-0x31*0x29+-0x1436+0x1c0f;_0xd1cc3c<_0x159d58['numSplats'];_0xd1cc3c+=_0x1dcdb6){const _0x4fd4fc=Math['min'](_0x1dcdb6,_0x159d58['numSplats']-_0xd1cc3c);await _0x1b0bdb(_0x2755d1['buffer'],_0x4fd4fc*_0x2707e2*(-0x2*0x211+0x1f0d*-0x1+0x2332));for(let _0x117f88=-0x1b*-0x35+0x17f6+-0x1d8d;_0x117f88<_0x4fd4fc;++_0x117f88)for(let _0x970b4f=0x112e+-0x1d*0x153+0x3*0x713;_0x970b4f<-0x5f9+-0x1*0x2348+0x2950;++_0x970b4f){const _0x2f80b0=(_0xd1cc3c+_0x117f88)*(-0x11*0x211+0x134+0x21fd)+_0x970b4f;_0x970b4f<_0x2707e2?(_0x2f408c[_0x2f80b0]=_0x2755d1[(_0x117f88*(-0x681+0x1*-0xd93+0x8b*0x25)+(0x3*-0x8eb+0x3*0x10f+0x1794))*_0x2707e2+_0x970b4f],_0x27bfff[_0x2f80b0]=_0x2755d1[(_0x117f88*(-0x1977+0x2332+-0x9b8)+(0xad0*-0x1+0x5eb+-0x39*-0x16))*_0x2707e2+_0x970b4f],_0x252756[_0x2f80b0]=_0x2755d1[(_0x117f88*(-0x3*-0x42d+0x187*-0x14+0x1208)+(0x236*0xb+0xd42+-0x2592))*_0x2707e2+_0x970b4f]):(_0x2f408c[_0x2f80b0]=0xcaa+-0x1*0x24cd+0x18a2,_0x27bfff[_0x2f80b0]=0x1288*-0x2+-0x430*0x2+0x2def,_0x252756[_0x2f80b0]=-0x6d5*0x3+0x1f64+0x533*-0x2);}}_0x159d58['shData0']=_0x2f408c,_0x159d58['shData1']=_0x27bfff,_0x159d58['shData2']=_0x252756,_0x159d58['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x2707e2];}else _0x159d58['shBands']=0x15a8+0x2*0xdb7+-0x3116;return _0x159d58;},_0x464b64=async(_0x357f6e,_0x18afd6,_0xf0e94a)=>{const _0x2a439e=_0x18afd6[-0xf*-0x92+-0x1*0x2683+-0x1df5*-0x1],_0x216f09=_0x2a439e['properties'],_0x60e44e=_0x216f09['length'],_0x49e274=_0x216f09['map'](_0x59eebc=>_0x59eebc['storage']),_0x39042d=_0x216f09['reduce']((_0xd65351,_0x20ec1b)=>_0xd65351+_0x20ec1b['byteSize'],-0x2*0x590+-0x1da8+0x78*0x57);let _0x27aa77=0x38*-0x1c+-0x2*-0x24d+-0x82*-0x3,_0x2107a0;const _0x4cac4d=()=>{const _0x3f8f9a=_0x357f6e['data']['buffer'];(_0x2107a0==null?void(0x12*-0x146+-0x1acd+0x31b9*0x1):_0x2107a0['buffer'])!==_0x3f8f9a&&(_0x2107a0=new Float32Array(_0x3f8f9a,0x1*0x10d3+-0x7*-0x275+0x2206*-0x1,_0x3f8f9a['byteLength']/(0x902+-0x2395*0x1+-0x1a97*-0x1)));};for(_0x4cac4d();_0x27aa77<_0x2a439e['count'];){for(;_0x357f6e['remaining']<_0x39042d;)await _0x357f6e['read'](),_0x4cac4d();const _0x37c013=Math['min'](_0x2a439e['count']-_0x27aa77,Math['floor'](_0x357f6e['remaining']/_0x39042d));for(let _0x51bedb=0x10e7+0x1*0x10a2+-0x6b5*0x5;_0x51bedb<_0x60e44e;++_0x51bedb){const _0x394d0a=_0x49e274[_0x51bedb];for(let _0x164acf=0x1*-0x1571+-0x1b*-0x80+0x6b*0x13;_0x164acf<_0x37c013;++_0x164acf)_0x394d0a[_0x164acf+_0x27aa77]=_0x2107a0[_0x164acf*_0x60e44e+_0x51bedb];}_0x27aa77+=_0x37c013,_0x357f6e['head']+=_0x37c013*_0x39042d;}return new _0x14a903(_0x18afd6,_0xf0e94a);},_0x2e5899=async(_0x205a4e,_0x550706,_0x5d7784)=>{for(let _0x662122=0xd18+0x14c8+-0x21e0;_0x662122<_0x550706['length'];++_0x662122){const _0x36c94e=_0x550706[_0x662122],_0x3b11ea=_0x36c94e['properties']['reduce']((_0xf37f72,_0x551c44)=>_0xf37f72+_0x551c44['byteSize'],-0x1*0x1cb+-0x527+-0x2*-0x379),_0x34dd29=_0x36c94e['properties']['map'](_0x3af7fb=>{if(_0x3af7fb['storage'])switch(_0x3af7fb['type']){case'char':return(_0x1944ff,_0x401947)=>{_0x3af7fb['storage'][_0x401947]=_0x1944ff['getInt8']();};case'uchar':return(_0x2123f9,_0x5aff76)=>{_0x3af7fb['storage'][_0x5aff76]=_0x2123f9['getUint8']();};case'short':return(_0x25da2e,_0x5c50fd)=>{_0x3af7fb['storage'][_0x5c50fd]=_0x25da2e['getInt16']();};case'ushort':return(_0x470ff0,_0x17314e)=>{_0x3af7fb['storage'][_0x17314e]=_0x470ff0['getUint16']();};case'int':return(_0x459c0b,_0x216c19)=>{_0x3af7fb['storage'][_0x216c19]=_0x459c0b['getInt32']();};case'uint':return(_0x4846d7,_0x518dd9)=>{_0x3af7fb['storage'][_0x518dd9]=_0x4846d7['getUint32']();};case'float':return(_0x111eae,_0x569d3b)=>{_0x3af7fb['storage'][_0x569d3b]=_0x111eae['getFloat32']();};case'double':return(_0x2ed963,_0x63d53c)=>{_0x3af7fb['storage'][_0x63d53c]=_0x2ed963['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3af7fb['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x506800=>{_0x506800['head']+=_0x3af7fb['byteSize'];};});let _0x140d4a=-0x661+0x25a0+-0x13*0x1a5;for(;_0x140d4a<_0x36c94e['count'];){for(;_0x205a4e['remaining']<_0x3b11ea;)await _0x205a4e['read']();const _0x5d5928=Math['min'](_0x36c94e['count']-_0x140d4a,Math['floor'](_0x205a4e['remaining']/_0x3b11ea));for(let _0x39f38c=0x364*-0x2+0x131c+-0xc54;_0x39f38c<_0x5d5928;++_0x39f38c){for(let _0x55dd3c=-0x1*0xe59+-0x237c*-0x1+-0x1523;_0x55dd3c<_0x36c94e['properties']['length'];++_0x55dd3c)_0x34dd29[_0x55dd3c](_0x205a4e,_0x140d4a);_0x140d4a++;}}}return new _0x14a903(_0x550706,_0x5d7784);},_0x26d160=async(_0x2e814b,_0x2660e2=null)=>{const _0x5141a9=(_0x3c3c0b,_0x336be0)=>{const _0x52ae52=_0x3c3c0b['length']-_0x336be0['length'];let _0x375cce,_0x4653f1;for(_0x375cce=-0x6fe*0x5+-0x38*0x83+0x3f9e;_0x375cce<=_0x52ae52;++_0x375cce){for(_0x4653f1=0x11fb+-0x2444+0x1249;_0x4653f1<_0x336be0['length']&&_0x3c3c0b[_0x375cce+_0x4653f1]===_0x336be0[_0x4653f1];++_0x4653f1);if(_0x4653f1===_0x336be0['length'])return _0x375cce;}return-(0x29*-0xc4+0x1b47*-0x1+0xa*0x5de);},_0x48cc61=(_0x539e22,_0xf39643)=>{if(_0x539e22['length']<_0xf39643['length'])return!(-0x1*0xbb8+0x487+0x732);for(let _0x4228de=0x25f9*0x1+-0x1003+0x15f6*-0x1;_0x4228de<_0xf39643['length'];++_0x4228de)if(_0x539e22[_0x4228de]!==_0xf39643[_0x4228de])return!(0x238e+-0x133e+-0x19*0xa7);return!(-0x7e8+0x18b4+-0x10cc);},_0x3a86ba=new _0x56301c(_0x2e814b,_0x2660e2);let _0xe31484;for(;;){if(await _0x3a86ba['read'](),_0x3a86ba['tail']>=_0xf15c7b['length']&&!_0x48cc61(_0x3a86ba['data'],_0xf15c7b))throw new Error('Invalid\x20pl'+'y\x20header');if(_0xe31484=_0x5141a9(_0x3a86ba['data'],_0x143c37),_0xe31484!==-(0x19d1+0x321*-0x7+-0x3e9*0x1))break;}const _0x576cbe=new TextDecoder('ascii')['decode'](_0x3a86ba['data']['subarray'](-0xa45+-0x8ad*0x1+0x12f2,_0xe31484))['split']('\x0a'),{elements:_0x15dbd4,format:_0x197d42,comments:_0x524b93}=_0x38f1b3(_0x576cbe);if(_0x197d42!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3a86ba['head']=_0xe31484+_0x143c37['length'],_0x3a86ba['compact'](),await((async()=>_0x3064e7(_0x15dbd4)?await _0x3427b6(_0x3a86ba,_0x15dbd4,_0x524b93):(_0x15dbd4['forEach'](_0x847740=>{_0x847740['properties']['forEach'](_0x1cf667=>{const _0x47b8af=_0x1f5e9e['get'](_0x1cf667['type']);if(_0x47b8af){const _0x5c2ec5=new _0x47b8af(_0x847740['count']);_0x1cf667['storage']=_0x5c2ec5;}});}),_0x8517ea(_0x15dbd4)?await _0x464b64(_0x3a86ba,_0x15dbd4,_0x524b93):await _0x2e5899(_0x3a86ba,_0x15dbd4,_0x524b93)))());},_0x5bf9b1=_0x2a8d67=>{const {numSplats:_0x1b1185,chunkData:_0x33f9f3,chunkSize:_0x1b276c,vertexData:_0x4a0996,shData0:_0x4d659b,shData1:_0x4e3fc3,shData2:_0x1df050,shBands:_0x1c1a56,comments:_0x1d6aee,is4D:_0x25a01d}=_0x2a8d67,_0x5cdf08=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x25a01d&&_0x5cdf08['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x1c1a56>-0x15d4+0x6d*0x6+-0x1346*-0x1){const _0x5c8ade=[];for(let _0x36c40d=0x13ef+-0xc0*0xb+-0xbaf;_0x36c40d<0xa*-0x7d+-0x2*0x491+0xe31;++_0x36c40d)_0x5c8ade['push']('f_rest_'+_0x36c40d);_0x5cdf08['splice'](_0x5cdf08['indexOf']('f_dc_0')+(-0x196f+0x4cd*0x1+0x14a3),-0x1a6b*-0x1+-0x2e9*0x1+-0x1782,..._0x5c8ade);}const _0x1343ab={};_0x5cdf08['forEach'](_0x469ecd=>{_0x1343ab[_0x469ecd]=new Float32Array(_0x1b1185);});const _0xd337de=new _0x1703e4(),_0x29165f=new _0x3f19a1(),_0x40df8a=new _0x1703e4(),_0x1ea7ac=new _0x4a77cb(),_0x51de49=new _0x1703e4(),_0x486e55=new _0x1703e4(),_0x277922=_0x1c1a56>-0x2498*0x1+-0x5*-0x573+0x959*0x1?new Float32Array(-0xd40+0x493*0x5+-0x972):null,_0x2a7b58=new _0x3e0d55(_0x33f9f3,_0x1b276c,_0x4a0996,_0x4d659b,_0x4e3fc3,_0x1df050,_0x1c1a56,_0xd337de,_0x29165f,_0x40df8a,_0x1ea7ac,_0x51de49,_0x486e55,_0x277922);for(let _0x1705ce=0x10f*-0x10+-0x1d3*0xd+0x28a7*0x1;_0x1705ce<_0x1b1185;++_0x1705ce){_0x2a7b58['read'](_0x1705ce),_0x1343ab['x'][_0x1705ce]=_0xd337de['x'],_0x1343ab['y'][_0x1705ce]=_0xd337de['y'],_0x1343ab['z'][_0x1705ce]=_0xd337de['z'],_0x1343ab['rot_1'][_0x1705ce]=_0x29165f['x'],_0x1343ab['rot_2'][_0x1705ce]=_0x29165f['y'],_0x1343ab['rot_3'][_0x1705ce]=_0x29165f['z'],_0x1343ab['rot_0'][_0x1705ce]=_0x29165f['w'],_0x1343ab['scale_0'][_0x1705ce]=_0x40df8a['x'],_0x1343ab['scale_1'][_0x1705ce]=_0x40df8a['y'],_0x1343ab['scale_2'][_0x1705ce]=_0x40df8a['z'],_0x1343ab['motion_0'][_0x1705ce]=_0x51de49['x'],_0x1343ab['motion_1'][_0x1705ce]=_0x51de49['y'],_0x1343ab['motion_2'][_0x1705ce]=_0x51de49['z'],_0x1343ab['t_scale'][_0x1705ce]=_0x486e55['x'],_0x1343ab['t'][_0x1705ce]=_0x486e55['y'],_0x1343ab['f_dc_0'][_0x1705ce]=(_0x1ea7ac['x']-(-0x1*0x8e1+-0x2*-0x124f+-0x3*0x93f+0.5))/_0x328cfe,_0x1343ab['f_dc_1'][_0x1705ce]=(_0x1ea7ac['y']-(0x16bd+0xbf*-0x22+0x1*0x2a1+0.5))/_0x328cfe,_0x1343ab['f_dc_2'][_0x1705ce]=(_0x1ea7ac['z']-(-0x1*0x204d+0xc48*-0x3+0x4525+0.5))/_0x328cfe;const _0x47c7f8=_0x1ea7ac['w']<=-0x5*0x623+0x1543+0x96c*0x1?-(-0xbc*-0x7+0xec*0x1+-0x5e8):_0x1ea7ac['w']>=-0xcc2+0xa70+0x5*0x77?-0x1*0x1ce+0x1486+0x2c*-0x6c:-Math['log']((0x4b8+0xb6f+0x6a*-0x27)/_0x1ea7ac['w']-(-0x1*-0x1388+-0xd5a+-0x1f*0x33));if(_0x1343ab['opacity'][_0x1705ce]=(0x245*-0x3+-0x35d+-0x209*-0x5)/(0x437*-0x2+0x2*0x1037+-0x17ff+Math['exp'](-_0x47c7f8)),_0x277922){for(let _0x247fbf=-0x1efd+-0x1694+-0x7a7*-0x7;_0x247fbf<-0xce4+-0x1ce7+0x29f8;++_0x247fbf)_0x1343ab['f_rest_'+_0x247fbf][_0x1705ce]=_0x277922[_0x247fbf];}}const _0x43e5f0=[{'count':_0x1b1185,'name':'vertex','properties':_0x5cdf08['map'](_0x1c5015=>({'byteSize':0x4,'name':_0x1c5015,'type':'float','storage':_0x1343ab[_0x1c5015]}))}];return new _0x14a903(_0x43e5f0,_0x1d6aee);};}class ok extends me{constructor(_0xb1a3f5){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0xb1a3f5,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x2ab0fe,_0x45e415,_0x3b2c71=(_0x3f5eb4,_0x3a906b)=>{},_0x14b276=(_0x2a642d,_0x1b9d00,_0x23ad0a)=>{},_0x2f3a51=(_0x24dcc6,_0x57b96d)=>{}){var _0x362ee7;return(_0x362ee7=this['worker'])==null||_0x362ee7['postMessag'+'e']({'type':'loadPly','url':_0x2ab0fe,'decompress':_0x45e415}),new Promise((_0x1c8b2b,_0x5a0f39)=>{if(!this['worker']){_0x5a0f39(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x21ef39=>{if(!this['worker'])return;const {data:_0x5acf25}=_0x21ef39;if(_0x2ab0fe===_0x5acf25['url'])switch(_0x5acf25['type']){case'totalLengt'+'h':_0x3b2c71==null||_0x3b2c71(_0x5acf25['totalLengt'+'h'],_0x5acf25['url']);break;case'progress':_0x14b276==null||_0x14b276(_0x5acf25['bytes'],_0x5acf25['totalLengt'+'h'],_0x5acf25['url']);break;case'splatData':_0x1c8b2b(_0x5acf25['data']);break;case'error':_0x2f3a51==null||_0x2f3a51(_0x5acf25['data'],_0x5acf25['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x581*-0x1+-0xcd9+-0x1*-0x125a));}}class lk{constructor(_0x1b869e,_0x4393a2){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x1b869e,this['maxRetries']=_0x4393a2,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=-0x2024+-0x22a9+0x42cd);}async['load'](_0x566293,_0x387f30,_0x363c4e){var _0x22c63e,_0x2cbd29,_0x21d72d;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x566293['load']['includes'](',')?this['urlList']=_0x566293['load']['split'](','):this['urlList']['push'](_0x566293['load']);const _0xf1abf2=_0x363c4e['data']['createTime']!==((_0x2cbd29=(_0x22c63e=this['onlyOneAss'+'et'])==null?void(0x1*0x11e6+0x1f*-0x76+0x134*-0x3):_0x22c63e['data'])==null?void(0x1f3*0xb+0x4*0x739+-0x1*0x3255):_0x2cbd29['createTime']);(!this['readWorker']||_0xf1abf2)&&((_0x21d72d=this['readWorker'])==null||_0x21d72d['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x3a91f2=_0x363c4e['data']['loadIndex']>=0x12e4+0xa28+-0x1d0c?_0x363c4e['data']['loadIndex']:0x68a+0x93c+-0x542*0x3,_0x26990b=_0x363c4e['data']['loadMode']==='all'?this['urlList']['length']-_0x3a91f2:_0x3a91f2+(-0xd*-0x11f+0x1*-0x152b+0x699),_0x5a9481=_0x363c4e['data']['timeOption'],_0x505a95=_0x363c4e['data']['events'];for(let _0x5b76c2=_0x3a91f2;_0x5b76c2<_0x26990b;_0x5b76c2++)await this['loadGsplat'+'Data'](this['urlList'],_0x387f30,_0x363c4e,_0x5b76c2,_0x5a9481,_0x505a95,_0x26990b);_0x505a95['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x30331a,_0x22584b,_0xbd207e,_0x3b73f1,_0x36c219,_0x20451a,_0x188b53){var _0x516c09,_0x3beecc,_0x3d74a0;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x30331a[_0x3b73f1]['trim'](),_0x3b73f1);const _0x3f6d7d=_0x36c219[(-0x3*-0xbbf+-0x24ae*0x1+-0x1*-0x173)*_0x3b73f1]+_0x36c219[(-0x1174+-0x1b86+0x2cfc)*_0x3b73f1+(-0xc19+-0xe99+0x1ab3)],_0x4a6964=_0x30331a[_0x3b73f1]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1943+0x8*-0x67+0x1*-0x283))['toFixed'](-0x1*0x6df+-0x2f6+0x9d7));try{const _0x232478=await((_0x516c09=this['readWorker'])==null?void(-0x1879+-0x1e00+0x5*0xae5):_0x516c09['loadPly'](_0x4a6964,_0xbd207e['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x3cf+0x116f+0x6d0*-0x2;},(_0x5bbb7d,_0x3dc442)=>{this['totalRecei'+'ved']+=_0x5bbb7d,_0xbd207e&&_0x20451a['fire']('progress',_0x3dc442*_0x3b73f1/_0x188b53+this['totalRecei'+'ved']/_0x188b53,_0x3dc442);},(_0x68e251,_0x5f0b80)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x5f0b80,_0x68e251);}));let _0xaf48b1;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x2302*0x1+-0xd*-0x2a1+0x145d))['toFixed'](0x1110+0x663+-0x1771)),_0x232478['isCompress'+'ed']?(_0xaf48b1=new ak(),_0xaf48b1['comments']=_0x232478['comments'],_0xaf48b1['numSplats']=_0x232478['numSplats'],_0xaf48b1['is4D']=_0x232478['is4D'],_0xaf48b1['chunkData']=_0x232478['chunkData'],_0xaf48b1['vertexData']=_0x232478['vertexData'],_0xaf48b1['shData0']=_0x232478['shData0'],_0xaf48b1['shData1']=_0x232478['shData1'],_0xaf48b1['shData2']=_0x232478['shData2'],_0xaf48b1['shBands']=_0x232478['shBands']):_0xaf48b1=new qn(_0x232478['elements'],_0x232478['comments']),_0xbd207e['fire']('load:data',_0xaf48b1),_0xaf48b1['isCompress'+'ed']||_0xbd207e['data']['reorder'];const _0x25dd0e=_0xbd207e['data']['createTime']!==((_0x3d74a0=(_0x3beecc=this['onlyOneAss'+'et'])==null?void(-0x21d9+-0x3*0x9b+0x23aa):_0x3beecc['data'])==null?void(0x1e4d+0xd5b+-0x2ba8):_0x3d74a0['createTime']);this['gsplatReso'+'urce']&&!_0x25dd0e?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0xaf48b1['isCompress'+'ed']?await _0xaf48b1['decompress']():_0xaf48b1,_0x36c219,_0x3f6d7d,_0xbd207e,_0x20451a):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0xaf48b1['isCompress'+'ed']?await _0xaf48b1['decompress']():_0xaf48b1),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x36c219,this['onlyOneAss'+'et']=_0xbd207e),_0x22584b(null,this['gsplatReso'+'urce']);}catch(_0x3bea37){_0x22584b(_0x3bea37,null);}}['open'](_0x4b3bfe,_0x1dc5c8){return _0x1dc5c8;}}async function ck(){const _0x32a524='super4d-ca'+'che-v1',_0x4bdc23={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x476950=-0xb56+-0x8aa+0x1400+0.28209479177387814;class _0x3485e5{constructor(_0x11f255={}){this['options']={..._0x4bdc23,..._0x11f255},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x1*-0x1b8c+-0x1b47*-0x1+0x45*0x1,this['initialize'+'d']=!(0x1288+0x1*-0x1f7e+0x1*0xcf7);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x32a524);const _0x1fb22b=await this['cache']['keys'](),_0x5c4561=[];for(const _0xd68323 of _0x1fb22b){const _0x3f5aa0=_0xd68323['url'],_0x1f3f41=await this['cache']['match'](_0x3f5aa0);if(_0x1f3f41){const _0x2ca7b2=(await _0x1f3f41['blob']())['size'],_0xc6acf4=_0x1f3f41['headers']['get']('x-cache-ti'+'me');_0xc6acf4&&_0x5c4561['push']({'url':_0x3f5aa0,'size':_0x2ca7b2,'cacheTime':parseInt(_0xc6acf4)});}}_0x5c4561['sort']((_0x18cc7f,_0x17428d)=>_0x18cc7f['cacheTime']-_0x17428d['cacheTime']);for(const _0x123b0d of _0x5c4561)this['cacheSizes']['set'](_0x123b0d['url'],_0x123b0d['size']),this['currentSiz'+'e']+=_0x123b0d['size'],this['lruList']['push'](_0x123b0d['url']);}catch(_0x7c4cf1){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x7c4cf1);}this['initialize'+'d']=!(0x2*0x52f+-0xcc5*0x1+0x1*0x267);}}async['get'](_0x4536c2){if(await this['init'](),!this['cache'])return null;try{const _0x4e445f=await this['cache']['match'](_0x4536c2);if(!_0x4e445f)return null;const _0x5f3bd6=_0x4e445f['headers']['get']('x-cache-ti'+'me');return _0x5f3bd6&&Date['now']()-parseInt(_0x5f3bd6)>this['options']['maxAge']?(await this['delete'](_0x4536c2),null):(this['updateLRU'](_0x4536c2),_0x4e445f);}catch{return null;}}async['set'](_0x140e6b,_0x14f029){if(!(!this['cache']||_0x140e6b['startsWith']('blob:')))try{const _0x2bd9e1=_0x14f029['clone'](),_0x1bea83=await _0x2bd9e1['blob'](),_0x17fa24=_0x1bea83['size'];this['currentSiz'+'e']+_0x17fa24>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x17fa24);const _0x39e388=new Headers(_0x2bd9e1['headers']);_0x39e388['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x53f246=new Response(_0x1bea83,{'status':_0x2bd9e1['status'],'statusText':_0x2bd9e1['statusText'],'headers':_0x39e388});await this['cache']['put'](_0x140e6b,_0x53f246),this['cacheSizes']['set'](_0x140e6b,_0x17fa24),this['currentSiz'+'e']+=_0x17fa24,this['updateLRU'](_0x140e6b);}catch(_0x459fb9){console['error']('Cache\x20set\x20'+'error:',_0x459fb9);}}['updateLRU'](_0x17b8c4){const _0x3b77f1=this['lruList']['indexOf'](_0x17b8c4);_0x3b77f1>-(-0x128*0xb+-0x4b5*-0x5+-0xad0*0x1)&&this['lruList']['splice'](_0x3b77f1,-0x2ac+-0x150e+0x17bb),this['lruList']['push'](_0x17b8c4);}async['cleanupSpa'+'ce'](_0x17f9c2){const _0x40bb58=this['options']['maxSize']*(0x25ea+0xcb9+0x1bf*-0x1d+0.9);if(!(this['currentSiz'+'e']<=_0x40bb58))for(;this['lruList']['length']>-0x1*0x121d+0x1d63+-0xb46&&this['currentSiz'+'e']>_0x40bb58;){const _0x49abd3=this['lruList']['shift']();_0x49abd3&&await this['delete'](_0x49abd3);}}async['delete'](_0x458dfc){if(this['cache'])try{await this['cache']['delete'](_0x458dfc);const _0x13d2b7=this['cacheSizes']['get'](_0x458dfc)||-0x653*0x5+-0x31*-0xb+-0xec2*-0x2;this['currentSiz'+'e']-=_0x13d2b7,this['cacheSizes']['delete'](_0x458dfc);const _0x53e4d1=this['lruList']['indexOf'](_0x458dfc);_0x53e4d1>-(0x3*0x2bf+-0x7a9*0x5+0x1e11)&&this['lruList']['splice'](_0x53e4d1,0x1d93+-0x29f*-0xe+-0x2*0x2122);}catch(_0x3d7d0a){console['error']('Cache\x20dele'+'te\x20error:',_0x3d7d0a);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xa5bf09=>Promise['all'](_0xa5bf09['map'](_0xf0e49b=>{var _0x191f40;return(_0x191f40=this['cache'])==null?void(-0xe*-0x3+0xa83+-0xaad):_0x191f40['delete'](_0xf0e49b);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1426+0x9*0x144+-0x1f8a;}catch(_0x1c2717){console['error']('Cache\x20clea'+'r\x20error:',_0x1c2717);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x2186+0x17b*0x1a+-0x4f8;}}class _0x48528d{constructor(_0x1dda84=[],_0x5c03bf={}){this['cacheManag'+'er']=new _0x3485e5(_0x5c03bf['cache']),this['retryCount']=_0x5c03bf['retryCount']||0x197*0xf+0x1271+-0x1*0x2a47,this['retryDelay']=_0x5c03bf['retryDelay']||0x1243+0x2363+0x33b2*-0x1,this['maxConcurr'+'ency']=_0x5c03bf['maxConcurr'+'ency']||-0x1*-0x22b1+0x662*0x5+-0x4295,this['downloadQu'+'eue']=_0x1dda84,this['isProcessi'+'ngDownload'+'Queue']=!(-0x26*-0x1a+-0x1e*-0x8d+-0x2f*0x6f),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*-0x6da+-0x1a8*-0x10+-0x215a);this['downloadQu'+'eue']['length']>-0xe9*0x29+-0x1567+-0x1d5c*-0x2;)try{const _0x3db06b=this['downloadQu'+'eue']['splice'](-0x59*0x25+-0x318+-0x331*-0x5,this['maxConcurr'+'ency'])['map'](_0x9129b4=>{if(!this['pendingRes'+'ponses']['has'](_0x9129b4)){const _0x36f1d5=this['download'](_0x9129b4);return this['pendingRes'+'ponses']['set'](_0x9129b4,_0x36f1d5),_0x36f1d5['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x9129b4);});}return Promise['resolve']();});await Promise['all'](_0x3db06b);}catch(_0x6637bd){console['error']('Download\x20e'+'rror:',_0x6637bd);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x2377+0x2*0x475+0x6*0x46d);}}}async['fetch'](_0x43b481,_0x395a7c={}){if(this['pendingRes'+'ponses']['has'](_0x43b481))return this['pendingRes'+'ponses']['get'](_0x43b481);const {forceRefresh:_0x7896=!(-0x788*0x1+-0x3*-0x217+0x24*0x9),..._0x19807b}=_0x395a7c;this['pendingRes'+'ponses']['set'](_0x43b481,this['download'](_0x43b481,_0x19807b));const _0x2580a8=await this['pendingRes'+'ponses']['get'](_0x43b481);return this['pendingRes'+'ponses']['delete'](_0x43b481),_0x2580a8;}async['download'](_0x284405,_0x722fc9={}){var _0x3c59fb;await((_0x3c59fb=this['cacheManag'+'er'])==null?void(-0x2*0x54f+-0x1ae1+-0x1*-0x257f):_0x3c59fb['init']());const {forceRefresh:_0x54c8f7=!(0x1*0x2395+-0xce4+-0x16b0),..._0x2d44f1}=_0x722fc9;_0x54c8f7&&await this['cacheManag'+'er']['delete'](_0x284405);const _0xbb3c1e=await this['cacheManag'+'er']['get'](_0x284405);if(_0xbb3c1e)return _0xbb3c1e;let _0x3f384b;for(let _0xc24561=0x452*0x8+0x6b*0x2f+-0x3635*0x1;_0xc24561<this['retryCount'];_0xc24561++)try{const _0x53940f=await fetch(_0x284405,_0x2d44f1);if(!_0x53940f['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x53940f['status']);return await this['cacheManag'+'er']['set'](_0x284405,_0x53940f),_0x53940f;}catch(_0x42835b){console['error']('Download\x20e'+'rror:',_0x42835b),_0x3f384b=_0x42835b,_0xc24561<this['retryCount']-(-0x2*0xdb1+0x125*-0x6+0x2241)&&await new Promise(_0x2a9d6b=>setTimeout(_0x2a9d6b,this['retryDelay']*(_0xc24561+(0x2f*-0xc1+-0xbb8+0x2f28))));}throw _0x3f384b;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x2d147f;(_0x2d147f=this['cacheManag'+'er'])==null||_0x2d147f['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x26*0x17+0x2*0x1102+0x45f*-0x7),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x27dd93{constructor(_0x1d5176,_0x2cc550=[]){this['elements']=_0x1d5176,this['comments']=_0x2cc550,this['isCompress'+'ed']=!(0x3*0x6ee+-0x668+-0xe61);}}class _0x574581{constructor(_0x14c6d){this['url']=_0x14c6d;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x48528d(globalThis['downloadQu'+'eueUrlList']));const _0x5fb28d=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x5fb28d['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x5fb28d['statusText']);const _0x2a4211=await _0x5fb28d['arrayBuffe'+'r'](),_0x58c549=new Uint8Array(_0x2a4211);let _0x18f1ed=-0x1a91+-0x26a7+-0x2*-0x209c,{size:_0xf75760,type:_0x84f692}=this['_readBoxHe'+'ader'](_0x58c549,_0x18f1ed);if(_0x84f692!=='moof')throw new Error('Not\x20a\x20moof');_0x18f1ed+=-0x1*0x583+0x2b*0xcd+0x739*-0x4;const _0x2fbb9c=_0x18f1ed+_0xf75760-(0x23d0+0x19d2+0x19f*-0x26);let _0x5306bf=null;for(;_0x18f1ed<_0x2fbb9c;){const {size:_0x47abe,type:_0x14c19a}=this['_readBoxHe'+'ader'](_0x58c549,_0x18f1ed);_0x18f1ed+=-0x965+-0x1*-0x59e+0x3cf;const _0x4ef994=_0x58c549['slice'](_0x18f1ed,_0x18f1ed+_0x47abe-(-0x1af*-0xc+0x1e28+-0x3254));_0x18f1ed+=_0x47abe-(0xfd6+0x26*0x1b+-0x9e8*0x2),_0x14c19a==='emsg'&&(_0x5306bf=this['_parseEmsg'](_0x4ef994));}if(!_0x5306bf)throw new Error('Incomplete'+'\x20moof');const {size:_0x878ce5,type:_0x7c2338}=this['_readBoxHe'+'ader'](_0x58c549,_0x18f1ed);if(_0x7c2338!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x18f1ed+=0x400*-0x1+0x6d*-0x2f+0x180b*0x1;const _0x3929a2=_0x58c549['slice'](_0x18f1ed,_0x18f1ed+(_0x878ce5-(-0x968+-0x3*0xbbf+-0x1*-0x2cad)));return{'metadata':_0x5306bf,'segmentData':_0x3929a2};}['_readBoxHe'+'ader'](_0x26fc82,_0x277c7c){if(_0x277c7c+(-0xf35+-0x1613+-0x18*-0x18e)>_0x26fc82['length'])throw new Error('EOF');const _0x12eca1=_0x26fc82[_0x277c7c]<<-0xb*0x5b+-0x1*-0x10e1+-0x20*0x67|_0x26fc82[_0x277c7c+(-0xa10+-0x2e*-0xac+-0x14d7)]<<-0x1e5*-0x13+0x24c9+-0x48b8|_0x26fc82[_0x277c7c+(-0x291+0x2*-0x7b5+0x11fd*0x1)]<<-0x1*0x12c1+0x1bc7+-0x8fe|_0x26fc82[_0x277c7c+(0x772+-0x25*-0x24+-0xca3)],_0x268935=String['fromCharCo'+'de'](_0x26fc82[_0x277c7c+(-0x2183*-0x1+-0x300+0xd3*-0x25)],_0x26fc82[_0x277c7c+(0x2258*0x1+-0x1bc9+-0x68a)],_0x26fc82[_0x277c7c+(-0x3db+-0x53*-0x5b+-0x50*0x52)],_0x26fc82[_0x277c7c+(-0x86e*0x1+0x15*-0x176+0x1*0x2723)]);return{'size':_0x12eca1,'type':_0x268935};}['_parseEmsg'](_0xb2ae64){let _0xb2eb56=0x1a1e+-0x1df0+-0x1*-0x3d2;_0xb2eb56=_0xb2ae64['indexOf'](0xea5*0x1+-0x2540+0x169b,_0xb2eb56)+(-0x4*0x68c+0xac3+0x5*0x316),_0xb2eb56=_0xb2ae64['indexOf'](-0x1e83*-0x1+0x1*0x1fdf+-0x3e62,_0xb2eb56)+(-0x83*-0x28+-0x11db+-0x29c),_0xb2eb56+=0x2a1+0x5bb+-0x84c;const _0x3315e3=_0xb2ae64['slice'](_0xb2eb56);return globalThis['CBOR']['decode'](_0x3315e3);}}class _0x57f33c{constructor(_0x4d25f3=0x1*0x19b1+-0x5*-0x4d6+-0x2ef*0x11,_0x4195b4=0x164e*-0x1+0x49*0x19+0xf2d,_0x5eb6c4=0x1*-0x1e0d+0x1fd*0x2+-0x1a13*-0x1,_0x324584=0x19dd+-0x18cb*-0x1+-0x32a7){this['x']=_0x4d25f3,this['y']=_0x4195b4,this['z']=_0x5eb6c4,this['w']=_0x324584;}['set'](_0x45bb8d,_0x42f78f,_0x5c2bc6,_0x1c8e27){return this['x']=_0x45bb8d,this['y']=_0x42f78f,this['z']=_0x5c2bc6,this['w']=_0x1c8e27,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x2ec467=this){let _0x490a85=_0x2ec467['length']();return _0x490a85===0x6*-0x63f+0x1*0x170e+0x11c*0xd?(this['x']=this['y']=this['z']=0xc28*0x3+-0x24a*-0x10+-0x4*0x1246,this['w']=0x226+0x49*0x9+-0x192*0x3):(_0x490a85=(0x269*0x7+-0x8f6*-0x1+0x227*-0xc)/_0x490a85,this['x']=_0x2ec467['x']*_0x490a85,this['y']=_0x2ec467['y']*_0x490a85,this['z']=_0x2ec467['z']*_0x490a85,this['w']=_0x2ec467['w']*_0x490a85),this;}['mulScalar'](_0x17e90e,_0x4d555c=this){return this['x']=_0x4d555c['x']*_0x17e90e,this['y']=_0x4d555c['y']*_0x17e90e,this['z']=_0x4d555c['z']*_0x17e90e,this['w']=_0x4d555c['w']*_0x17e90e,this;}}self['onmessage']=async _0x5f1606=>{var _0x346717,_0x50e08a;const {data:_0x288ea4}=_0x5f1606;switch(_0x288ea4['type']){case'initWorker':importScripts(_0x288ea4['cborXUrl']);break;case'destroyWor'+'ker':_0x4451ca();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x3ccf0b,loadRepresentation:_0x1f44f3}=_0x288ea4,_0x2d9fa6=await _0x441d9d(_0x3ccf0b,_0x1f44f3);globalThis['manifestUr'+'l']=_0x3ccf0b,globalThis['manifest']=_0x2d9fa6,globalThis['resentatio'+'n']=_0x2d9fa6['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x147503(),globalThis['fetchWorke'+'r']=new _0x48528d(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x2d9fa6,'url':_0x3ccf0b,'representation':_0x1f44f3});break;case'loadGsdSeg'+'ments':try{const _0x4a2e23=_0x1c937b(globalThis['manifest'],globalThis['resentatio'+'n']),_0x375c27=await _0x36c3dd(globalThis['manifest'],_0x4a2e23),_0x28eb47=(_0x346717=_0x375c27==null?void(0x9cf*-0x3+0x1628+0x745):_0x375c27['elements'][-0x1274+0x1db9*0x1+-0x241*0x5])==null?void(0x1*-0x6dd+0x1*-0x13ed+0x12*0x17d):_0x346717['properties']['map'](_0x1e4a9b=>_0x1e4a9b['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x375c27,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x28eb47);}catch(_0x469e79){console['error']('Error\x20load'+'ing\x20GSD:',_0x469e79),self['postMessag'+'e']({'type':'error','data':_0x469e79['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x398c42}=_0x288ea4;try{const _0x2bfb38=_0x1c937b(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3ac4fc=await _0x10229a(globalThis['manifest'],_0x2bfb38,_0x398c42),_0x4beb70=(_0x50e08a=_0x3ac4fc==null?void(0x17*-0x136+0x1df4+-0x2*0x10d):_0x3ac4fc['elements'][-0x8c1+-0x611*0x1+-0x2*-0x769])==null?void(-0x1f5e*-0x1+0x29*0x53+0x3*-0xee3):_0x50e08a['properties']['map'](_0x955766=>_0x955766['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x3ac4fc,'timelineIndexs':_0x398c42,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x4beb70);}catch(_0x4e0835){console['error']('Error\x20load'+'ing\x20GSD:',_0x4e0835),self['postMessag'+'e']({'type':'error','data':_0x4e0835['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x4451ca=()=>{var _0x387187;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x387187=globalThis['fetchWorke'+'r'])==null||_0x387187['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x147503=()=>{const _0x456f0c=new Set(),_0x4549ab=_0x1c937b(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4c88a2=globalThis['manifest']['baseUrl'],_0x4bd2ee=_0x4549ab['segmentTem'+'plate'][-0x751+-0x246a+0x2bbb];for(const _0x4ba6f1 of _0x4bd2ee['segmentTim'+'eline'])for(const _0x428e37 of _0x4ba6f1['nl']){const _0x13237b=''+_0x4c88a2+_0x4bd2ee['media']['replace']('$SegGroupI'+'ndex$',String(_0x4ba6f1['sg']))['replace']('$NodeIndex'+'$',String(_0x428e37));_0x456f0c['add'](_0x13237b);}return Array['from'](_0x456f0c);},_0x441d9d=async(_0x418f92,_0x5e6dff)=>{const _0x52f414=await(await fetch(_0x418f92))['text'](),_0x1580db=JSON['parse'](_0x52f414);_0x1580db['baseUrl']=_0x418f92['replace'](/\/[^\/]*$/,'/');const {schemas:_0x41eee2,gsiUrl:_0x48068e,repId:_0x2cd3fd}=await _0x2ccfd0(_0x1580db,_0x5e6dff);return _0x1580db['schemas']=_0x41eee2,_0x1580db['gsiUrl']=_0x48068e,_0x1580db['representa'+'tion']=_0x2cd3fd,_0x1580db;},_0x2ccfd0=async(_0x59adb1,_0x137b8c)=>{let _0xda1663=null,_0x10ffab=null;for(const _0x3c9bba of _0x59adb1['adaptation'+'Sets'])if(_0x3c9bba['contentTyp'+'e']==='4dgs'){_0x10ffab=_0x3c9bba;for(const _0x495d10 of _0x3c9bba['representa'+'tions'])if(_0x495d10['id']===_0x137b8c){_0xda1663=_0x495d10;break;}break;}_0xda1663||(_0xda1663=_0x10ffab['representa'+'tions'][-0x2*-0x2db+-0x153*-0x1+-0x709],console['warn']('Representa'+'tion\x20\x27'+_0x137b8c+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x2da9a3=_0xda1663['id'],_0x443c69=_0x59adb1['baseUrl']+_0x2da9a3+('/init.gsi.'+'json'),_0x27b5a1=await(await fetch(_0x443c69))['text'](),_0x226820=JSON['parse'](_0x27b5a1),_0x3a109b={};return _0x3a109b[_0x2da9a3]=_0x226820,{'schemas':_0x3a109b,'gsiUrl':_0x443c69,'repId':_0x2da9a3};},_0x1c937b=(_0x3cd3c9,_0x21ad66='high-quant'+'ized')=>{let _0x531a62=null;for(const _0x26e01f of _0x3cd3c9['adaptation'+'Sets'])if(_0x26e01f['contentTyp'+'e']==='4dgs'){for(const _0x3cc865 of _0x26e01f['representa'+'tions'])if(_0x3cc865['id']===_0x21ad66){_0x531a62=_0x3cc865;break;}break;}if(!_0x531a62)throw new Error('Representa'+'tion\x20\x27'+_0x21ad66+('\x27\x20not\x20foun'+'d'));return _0x531a62;},_0x36c3dd=async(_0x3e6243,_0x48e033)=>{const _0xdc36b9=_0x48e033['id'],_0x2da419=_0x3e6243['schemas'][_0xdc36b9]['attributes'],_0x46e850=_0x48e033['segmentTem'+'plate'][0x25a+-0x1*0x1f1e+0x2*0xe62];globalThis['loadedSegm'+'ents']=[];const _0x481b33=[],_0x9cab5c=[];for(const _0x273198 of _0x46e850['segmentTim'+'eline'])for(const _0x4cd12b of _0x273198['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x273198['sg']+'_'+_0x4cd12b))continue;globalThis['loadedSegm'+'ents']['push'](_0x273198['sg']+'_'+_0x4cd12b);const _0x39c4e0=await _0x388abb(_0x3e6243,_0x48e033,_0x2da419,_0x273198['sg'],_0x4cd12b);_0x9cab5c['push'](_0x39c4e0['decoded']),_0x481b33['push'](_0x39c4e0['metadata']);}return _0x54cd3b(_0x9cab5c,_0x2da419,_0x3e6243['comments']);},_0x10229a=async(_0x4b82da,_0x446327,_0x2ffc0d)=>{if(!_0x2ffc0d||_0x2ffc0d['length']===-0x1a9+-0x228*0x10+0x2429)return{'decoded':[],'metadata':[]};const _0x28026f=_0x446327['id'],_0x47cb83=_0x4b82da['schemas'][_0x28026f]['attributes'],_0x868eed=_0x446327['segmentTem'+'plate'][-0x739*0x1+0x1891+0x14*-0xde];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x28fb0c=_0x868eed['segmentTim'+'eline'][_0x2ffc0d[-0x2*0x15d+-0x1c6d+-0x2d5*-0xb]];globalThis['currentLoa'+'dSg']!==_0x28fb0c['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x4b4928=>!_0x4b4928['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x28fb0c['sg']);let _0x297d38;const _0x408e2e=[];for(const _0x4ecfa0 of _0x2ffc0d){_0x297d38=_0x868eed['segmentTim'+'eline'][_0x4ecfa0];for(const _0x182459 of _0x297d38['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x297d38['sg']+'_'+_0x182459)||(globalThis['loadedSegm'+'ents']['push'](_0x297d38['sg']+'_'+_0x182459),_0x408e2e['push'](_0x182459));}const _0xf433aa=await _0x388abb(_0x4b82da,_0x446327,_0x47cb83,_0x297d38['sg'],_0x408e2e);_0xf433aa['metadata'];const _0x3dbc88=_0xf433aa['decoded'];return _0x54cd3b(_0x3dbc88,_0x47cb83,_0x4b82da['comments']);},_0x388abb=async(_0x57a14b,_0x48e41b,_0x588277,_0x1bd122,_0x306f27)=>{const _0x570d04=_0x57a14b['baseUrl'],_0x2faa68=_0x48e41b['segmentTem'+'plate'][-0x6*-0x167+-0xf14+0x6aa]['media'],_0x51a97e=_0x306f27['map'](_0x5e071e=>''+_0x570d04+_0x2faa68['replace']('$SegGroupI'+'ndex$',String(_0x1bd122))['replace']('$NodeIndex'+'$',String(_0x5e071e))),_0x1d252a=await Promise['all'](_0x51a97e['map'](async _0x71c57f=>{const _0x3e4295=await _0x57c699(_0x71c57f),_0x4bc33c=_0x3e4295['metadata'],_0x39fced=_0x3e4295['segmentDat'+'a'],_0x20add7=_0x4bc33c['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x71c57f),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x4bc33c['timeStart'],'segment\x20ti'+'meEnd:',_0x4bc33c['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x20add7);let _0x530131;if(_0x48e41b['id']['includes']('quantized')){const _0xc4c54e=_0x4bc33c['chunk_boun'+'ds'];_0x530131=_0x1c806d(_0x39fced,_0x20add7,_0x588277,_0x1bd122,_0xc4c54e);}else _0x530131=_0x221899(_0x39fced,_0x20add7,_0x588277,_0x1bd122);return{'decoded':_0x530131,'metadata':_0x4bc33c};})),_0x18121f=_0x1d252a['map'](_0x46c023=>_0x46c023['decoded']),_0x20a67a=_0x1d252a['map'](_0x2ec56c=>_0x2ec56c['metadata']);return{'decoded':_0x18121f,'metadata':_0x20a67a};},_0x54cd3b=(_0x41b14d,_0x20b743,_0x24e14c)=>{if(_0x41b14d['length']===-0x17cc+-0x18f7+0x1*0x30c3)return new _0x27dd93([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x822+0x251e+-0x1cfc),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0x474+-0xd7*-0x1b+-0x1*0x1b21),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x17d2+-0x12d5+-0x4fd*0x1),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(-0x195d+0x1085*-0x1+-0x1*-0x29e2),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x2473+-0xf5d+-0x1516),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x6*0x605+0x1b34+-0x655*0xa),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x22c+0xb*0x2f+-0x431),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x1c2b+-0x1cfb*-0x1+0x181*-0x26),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x1cce+0x1*-0x1607+0x4d*0xa9),'byteSize':0x4}]}],_0x24e14c);const _0x37bae3=_0xad1946(_0x41b14d),[_0x2c8d4b,_0x341767,_0xad6b76]=_0x556f99(_0x37bae3['lifecycle'],-0x120e*0x1+-0x1590+0x7ed*0x5,Float32Array),_0x4e8f43=_0x37bae3['time_index'],_0x3faca2=_0x20b743['find'](_0x55df79=>_0x55df79['name']==='feature_re'+'st'),_0x1cde69=[];if(_0x3faca2&&_0x37bae3['feature_re'+'st']){const _0x41810f=_0x3faca2['dataType']['split'](',')[0x120e+0x198*0x12+0x959*-0x5]['trim']()['replace']('>',''),_0x485df5=_0x556f99(_0x37bae3['feature_re'+'st'],-0x15d7+0x1b9*0x3+-0x1*-0x10af,Float32Array);for(const _0x54854f of _0x485df5){const _0x5bd0fd=_0x556f99(_0x54854f,_0x41810f/(-0x3b3+0xd12+0x4*-0x257),Float32Array);for(let _0x26f3c9=-0x6bb+0x1*-0x1fab+0x2666;_0x26f3c9<_0x5bd0fd['length'];_0x26f3c9++)_0x1cde69['push']({'name':'f_rest_'+_0x26f3c9,'type':'float','storage':_0x5bd0fd[_0x26f3c9],'byteSize':0x4});}}return new _0x27dd93([{'name':'vertex','count':_0x37bae3['position']['length']/(-0x1*0x1305+-0x2*-0x66e+0x9e*0xa),'properties':[{'name':'position','type':'float','storage':_0x37bae3['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x37bae3['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x341767,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x2c8d4b,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0xad6b76,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x37bae3['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x37bae3['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x37bae3['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x4e8f43,'byteSize':0x4},..._0x1cde69]}],_0x24e14c);},_0x556f99=(_0x590d70,_0x2d70b3,_0x5b1235)=>{const _0x5c2199=new Array(_0x2d70b3),_0x813b50=Math['floor'](_0x590d70['length']/_0x2d70b3),_0x579ae1=_0x590d70['length']%_0x2d70b3;for(let _0x10b70a=0x1b2f+-0x922*0x4+0x959;_0x10b70a<_0x2d70b3;_0x10b70a++){const _0x404910=_0x10b70a<_0x579ae1?_0x813b50+(-0x1*-0x1e24+0xd9e+0x2bc1*-0x1):_0x813b50;_0x5c2199[_0x10b70a]=new _0x5b1235(_0x404910);}for(let _0x572d47=0x1d06+-0x7ff*-0x3+-0x1*0x3503;_0x572d47<_0x590d70['length'];_0x572d47++){const _0x116306=_0x572d47%_0x2d70b3,_0x4584c1=Math['floor'](_0x572d47/_0x2d70b3);_0x5c2199[_0x116306][_0x4584c1]=_0x590d70[_0x572d47];}return _0x5c2199;},_0x57c699=async _0xc2e917=>{const _0xed6655=new _0x574581(_0xc2e917),{metadata:_0x1bcfc6,segmentData:_0x7494ca}=await _0xed6655['readFragme'+'nt']();return{'metadata':_0x1bcfc6,'segmentData':_0x7494ca};},_0x283c03=(_0x535f4c,_0x3af9ff)=>{let _0x3079f2,_0x1df0cf,_0x5f0d51=-(0x4*0x7af+0x24ee+-0x43a9*0x1);if(_0x535f4c['encoding']){const _0x5e3d5c=_0x535f4c['encoding']['storageTyp'+'e'];if(_0x5e3d5c==='uint32')_0x1df0cf=Uint32Array,_0x3079f2=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x5e3d5c['startsWith']('array<ucha'+'r')){_0x1df0cf=Uint8Array;const _0x5cb336=_0x5e3d5c['split'](',')[-0x1b5a+-0xd7b+0x2*0x146b]['trim']()['replace']('>','');_0x5f0d51=parseInt(_0x5cb336),_0x3079f2=_0x5f0d51*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x5e3d5c);}}else{if(_0x1df0cf=Float32Array,_0x535f4c['dataType']==='vec3f')_0x3079f2=(-0x101*0xb+0x11b+0x1*0x9f3)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x535f4c['dataType']==='vec4f')_0x3079f2=(-0x44*-0xd+0x1264+-0x15d4)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x535f4c['dataType']==='vec2f')_0x3079f2=(0x1d0+-0x3*0x8f9+-0x1*-0x191d)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x535f4c['dataType']['startsWith']('array<floa'+'t')){const _0x253e56=_0x535f4c['dataType']['split'](',')[-0x1*0x54f+-0x1*-0x4f7+-0x1*-0x59]['trim']()['replace']('>','');_0x5f0d51=parseInt(_0x253e56),_0x3079f2=_0x5f0d51*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x535f4c['dataType']);}}}}return{'dataSize':_0x3af9ff*_0x3079f2,'datatype':_0x1df0cf,'arraySize':_0x5f0d51};},_0x1046fb=(_0x259f8c,_0xf6c322)=>{const _0xbc1863=(0x2*-0x137b+-0x1b7e+0x141*0x35<<_0xf6c322)-(0x53*-0xb+0x2050+-0xe5f*0x2);return(_0x259f8c&_0xbc1863)/_0xbc1863;},_0x179b95=_0x517e3a=>{const _0x1edc1d=new Float32Array(_0x517e3a['length']*(-0x1c*-0x70+0xe9*-0xb+-0x23a));for(let _0x51735a=0xf07+0x12d5*0x1+-0x21dc;_0x51735a<_0x517e3a['length'];_0x51735a++)_0x1edc1d[_0x51735a*(0x1f28*0x1+0x1*0x22c+-0x2151)]=_0x1046fb(_0x517e3a[_0x51735a]>>>0xcfb+0xb*-0x37+0x1d*-0x5d,0x1255+0x5*-0x63d+0xce7),_0x1edc1d[_0x51735a*(0x2*0x603+0x139*0x18+-0x295b)+(0x97e+-0xa9*0x3a+-0x1ccd*-0x1)]=_0x1046fb(_0x517e3a[_0x51735a]>>>0xca6*-0x3+-0x3*0x28d+0x2da4,-0x5*0x4d2+-0x93b+0x215f),_0x1edc1d[_0x51735a*(0x1885*-0x1+0x124d*-0x1+0x55*0x81)+(0x22e1*-0x1+-0x1ff7+0x2*0x216d)]=_0x1046fb(_0x517e3a[_0x51735a],-0x1f*-0xcf+0x1d74+-0x367a);return _0x1edc1d;},_0x2ec6ac=_0x2a8258=>{const _0x333f56=new Float32Array(_0x2a8258['length']*(-0x21*-0xdb+-0x3d*0x29+-0x626*0x3));for(let _0x351167=0x84e+-0x1c19+0x13cb;_0x351167<_0x2a8258['length'];_0x351167++)_0x333f56[_0x351167*(-0x1090+-0x47*-0x2f+0x38b)]=_0x1046fb(_0x2a8258[_0x351167]>>>-0xf1*-0xb+0x12f9+0x74f*-0x4,-0x12cc+-0x1*-0xd83+0x551),_0x333f56[_0x351167*(0x1*0x75a+0x1*-0x1a87+0x1331)+(0x43*-0x49+0x13b*0x5+-0x1*-0xcf5)]=_0x1046fb(_0x2a8258[_0x351167]>>>0x21ad+-0x1771*0x1+-0xa2c,0x6b*0x19+0x21c7*0x1+-0x1*0x2c32),_0x333f56[_0x351167*(-0x1*-0x15a7+-0xcf9+-0x8aa)+(0x2257+-0x2*-0xc9+-0x23e7)]=_0x1046fb(_0x2a8258[_0x351167]>>>0x29*0x7+0x2b*0x66+0x137*-0xf,0x2ef*-0xd+-0x431+-0x152e*-0x2),_0x333f56[_0x351167*(0x505*-0x4+0x70*0x1+0x4*0x4ea)+(0x13b4+0x3*0xaac+-0x33b5)]=_0x1046fb(_0x2a8258[_0x351167],-0xba1*-0x1+0x59a*-0x3+-0x1f*-0x2b);return _0x333f56;},_0x24a3b6=_0x3c2a47=>{const _0x336326=new Float32Array(_0x3c2a47['length']*(-0x321+-0x1416+-0x6*-0x3df)),_0x290872=(0x1*-0x15d+0x5*0x48d+-0x1563)/(Math['sqrt'](-0x1dfa+0xd0+0x74b*0x4)*(0x3*0xaef+0x10e1+0x18d7*-0x2+0.5));for(let _0x375cf6=-0x903+0x80*0xd+0x1*0x283;_0x375cf6<_0x3c2a47['length'];_0x375cf6++){const _0x919bcd=(_0x1046fb(_0x3c2a47[_0x375cf6]>>>-0x4f*-0x56+-0x4ce+0xe*-0x18c,-0x5e3+-0x146a+0x1a57)-(0x25ee+0x3a*0x6d+-0x3ea0+0.5))*_0x290872,_0x523db2=(_0x1046fb(_0x3c2a47[_0x375cf6]>>>0xb*-0x26e+0xa94+0x1030,0x1f92*-0x1+-0x2386+0x4322)-(0x742*0x3+0x5*0x157+0x1*-0x1c79+0.5))*_0x290872,_0x3f3339=(_0x1046fb(_0x3c2a47[_0x375cf6],-0x1ee9+0xf23+0xfd0)-(-0xa9*-0x1e+0xfaa+-0x28*0xe3+0.5))*_0x290872,_0x1049a5=Math['sqrt'](-0x16bb+-0x1c91+0x1*0x334d-(_0x919bcd*_0x919bcd+_0x523db2*_0x523db2+_0x3f3339*_0x3f3339));let _0x37a710=-0x24cd+0x1101+0x13cc,_0x5f4475=-0xf2c+-0x522*-0x6+-0xfa0,_0x2753b5=-0x1*0x1f97+0x1*0x871+0x2*0xb93,_0x270c8c=-0x87b+0x1b6c+0xd*-0x175;switch(_0x3c2a47[_0x375cf6]>>>0x7*0x593+0x159+-0x1c0*0x17){case-0x18ed+0xcc2+0x23*0x59:_0x37a710=_0x1049a5,_0x5f4475=_0x919bcd,_0x2753b5=_0x523db2,_0x270c8c=_0x3f3339;break;case-0x44*-0x18+-0x49c+-0x1c3:_0x37a710=_0x1049a5,_0x5f4475=_0x523db2,_0x2753b5=_0x3f3339,_0x270c8c=_0x919bcd;break;case 0x1526+0x1*0x1859+-0x55*0x89:_0x37a710=_0x523db2,_0x5f4475=_0x1049a5,_0x2753b5=_0x3f3339,_0x270c8c=_0x919bcd;break;case-0x1d0c+0x2*0xd8c+0x1f7*0x1:_0x37a710=_0x523db2,_0x5f4475=_0x3f3339,_0x2753b5=_0x1049a5,_0x270c8c=_0x919bcd;break;}const _0x1af876=_0x57f74f(_0x37a710,_0x5f4475,_0x2753b5,_0x270c8c);_0x336326[_0x375cf6*(-0xe35+-0x1a46+-0x49*-0x8e)]=_0x1af876['x'],_0x336326[_0x375cf6*(-0x1cc0+0x1a7f+0x244)+(-0xbb*-0xb+-0x191*-0x3+0xcbb*-0x1)]=_0x1af876['y'],_0x336326[_0x375cf6*(-0x10b1*-0x1+0x1b0c+-0x2bba)+(0x147e+-0x2*-0x8b0+-0x25dc*0x1)]=_0x1af876['z'];}return _0x336326;},_0x57ea8f=(_0x289e9d,_0x44f969,_0x1c44d0)=>{const _0x6489f1=_0x1c44d0-_0x44f969,_0xc5c9e4=new Float32Array(_0x289e9d['length']);for(let _0x5b628f=-0x11e8+-0x2346+-0x3*-0x11ba;_0x5b628f<_0x289e9d['length'];_0x5b628f++)_0xc5c9e4[_0x5b628f]=_0x289e9d[_0x5b628f]/(-0xb1*0x5+-0x2*0x5a8+0x2*0x7e2)*_0x6489f1+_0x44f969;return _0xc5c9e4;},_0x5bdb3f=new Float32Array(0x9*-0x3b5+-0x117+0x1*0x2275),_0x5c9859=new Int32Array(_0x5bdb3f['buffer']),_0x2a4f50=_0x5dfe8e=>{_0x5bdb3f[0x25*0x31+0x2*0x9d+-0x2c5*0x3]=_0x5dfe8e;const _0x35db8c=_0x5c9859[0x1ba6+0x127f*-0x1+-0x30d*0x3];let _0xdc67d8=_0x35db8c>>-0x115*-0x1f+0x6c7+0x2842*-0x1&0x1127*0xd+-0x6*-0x2a2a+-0x15bf7,_0x3d5e8b=_0x35db8c>>-0x1957+-0x162b+-0x7ed*-0x6&0x2c*-0x68+-0x489+-0x22c*-0xe;const _0x56374b=_0x35db8c>>0xe09*-0x1+0x250d+-0x16ed*0x1&-0x1*-0x727+0xbea+0x303*-0x6;return _0x56374b<-0x2282+0x1f63*0x1+0x386?_0xdc67d8:_0x56374b>0x2*0x5b3+0x47*0x17+-0x1139?(_0xdc67d8|=-0xbc3*-0x13+-0x18*-0x3aa+0xbb69*-0x1,_0xdc67d8|=(_0x56374b===-0x1*-0xd76+0x221b+-0x2e92?-0x25b3*-0x1+-0x2114+-0x49f:-0x1fd5+0x1*0x1159+-0xe7d*-0x1)&&_0x35db8c&-0x23715a*0x1+0xfd975+0x9397e4*0x1,_0xdc67d8):_0x56374b<-0x2167+0x1126+0x10b2?(_0x3d5e8b|=0xeec+0x8a5*0x1+-0xf91,_0xdc67d8|=(_0x3d5e8b>>0xad*-0x1+0x1ff+-0xe0-_0x56374b)+(_0x3d5e8b>>0x8*-0x337+0x249f+-0xa76-_0x56374b&-0xc4f*0x1+-0x1b9e+0x21a*0x13),_0xdc67d8):(_0xdc67d8|=_0x56374b-(0x7*0x4bd+-0x1afb+0x20*-0x2e)<<0x1061*-0x2+-0x532+-0x3*-0xcaa|_0x3d5e8b>>0x1487+0x231b+-0x65*0x8d,_0xdc67d8+=_0x3d5e8b&0x19*-0x137+0x269+0x1bf7,_0xdc67d8);},_0x465c6a=_0x129fcb=>{const _0x5d5335=new Uint16Array(_0x129fcb['length']);for(let _0x25f005=-0xb39*-0x1+-0x3dc+-0x75d;_0x25f005<_0x129fcb['length']/(0xe*-0x1ea+0x1*-0x556+0x2*0x1013);++_0x25f005)_0x5d5335[_0x25f005*(-0x1265*0x2+-0x9*0x423+-0x1*-0x4a09)]=_0x2a4f50(_0x129fcb[_0x25f005*(-0x1*-0x1af5+-0xfde+0x5*-0x237)]*_0x476950+(0x65*-0x4d+0x1204+0xc5d+0.5)),_0x5d5335[_0x25f005*(0x1835+0x701+-0x2*0xf99)+(-0x5f+-0x75*-0x1b+-0xbf7)]=_0x2a4f50(_0x129fcb[_0x25f005*(0x23b1+-0x15cc+-0xde1)+(0x85+0x16cc+-0x10*0x175)]*_0x476950+(0x1*-0x23f6+0x194*0x4+0x45*0x6e+0.5)),_0x5d5335[_0x25f005*(0x21fd+-0x1576+-0xc83)+(-0x4f5+0xe9c*-0x2+-0x3*-0xb65)]=_0x2a4f50(_0x129fcb[_0x25f005*(0x9*-0x38b+-0x776*0x2+0x2ed3)+(0x1a8*0x13+0x1*-0x1b29+-0x44d)]*_0x476950+(0x1afd+0x2563+-0x4060+0.5)),_0x5d5335[_0x25f005*(0x107f+0x2360+-0x1149*0x3)+(0x20*-0x108+0x849+0x6*0x41f)]=_0x2a4f50(_0x129fcb[_0x25f005*(-0x1575+-0x212e+-0x11*-0x337)+(0x2f6+0x2cf+-0x5c2*0x1)]);return _0x5d5335;},_0x33bae2=new _0x57f33c(-0x2*-0xc34+0x2c5*0x7+0xe99*-0x3,-0x20e6+-0x3b*0x1b+0x5*0x7d3,0x1dc7+-0x268c+0x1c1*0x5,0x2558+-0x3a1*-0xa+-0x49a2),_0x57f74f=(_0x2b6746,_0x1b22dd,_0x58eea0,_0x5c4a46)=>(_0x33bae2['set'](_0x1b22dd,_0x58eea0,_0x5c4a46,_0x2b6746),_0x33bae2['normalize'](),_0x33bae2['w']<0x63d*0x5+0x115*0x1f+-0x40bc&&_0x33bae2['mulScalar'](-(0x909*-0x1+0x466*-0x3+0xb1e*0x2)),_0x33bae2);function _0x1c806d(_0xaea6a9,_0x18fc0f,_0x543112,_0x4914c8,_0x5c24e4){const _0x3a173f=_0x5c24e4[Object['keys'](_0x5c24e4)[-0x1b19+0x1d5f+-0x246]]['length'],_0x2d22a8=0x1*0x15c1+0x7*0x451+0xe9*-0x38;let _0x23e7a9=[],_0x4b6188=_0x18fc0f;for(let _0x6deb05=-0xf1*-0x17+0x1a45+0x1*-0x2fec;_0x6deb05<_0x3a173f;_0x6deb05++){const _0x67e42c=Math['min'](_0x2d22a8,_0x4b6188);_0x23e7a9['push'](_0x67e42c),_0x4b6188-=_0x67e42c;}let _0x303b78=0x5b6+0x3*0x30b+-0x1*0xed7,_0x32eb7d={};for(let _0x16faa5 of _0x543112){const _0x5969fd=_0x16faa5['name'],{dataSize:_0x4d9137,datatype:_0x33b6d0}=_0x283c03(_0x16faa5,_0x18fc0f);let _0xb96efb=_0xaea6a9['buffer']['slice'](_0x303b78,_0x303b78+_0x4d9137),_0x452495=new _0x33b6d0(_0xb96efb);_0x32eb7d[_0x5969fd]=_0x452495,_0x303b78+=_0x4d9137;}let _0x54f4f1=[],_0x5ade56=0x1bdc*0x1+-0xbbd+-0x101f*0x1;for(let _0x400397=0x109a+0x1478+-0x2512;_0x400397<_0x3a173f;_0x400397++){const _0x5ccd0a=_0x2b33ce(_0x32eb7d,_0x5c24e4,_0x400397,_0x23e7a9,_0x5ade56,_0x543112),_0x592c76=_0x5ccd0a['chunkDecom'+'pressed'];_0x54f4f1['push'](_0x592c76),_0x5ade56=_0x5ccd0a['chunkStart'+'Idx'];}let _0x18ea89={};for(let _0x594659 of Object['keys'](_0x54f4f1[0x1413+0x1fd*0x9+0x168*-0x1b])){let _0x38a5c7=0xd0f+0x764+0x6d1*-0x3;for(let _0x5ea241=-0x17d1+0x85d*0x2+0x25d*0x3;_0x5ea241<_0x54f4f1['length'];_0x5ea241++)_0x38a5c7+=_0x54f4f1[_0x5ea241][_0x594659]['length'];_0x594659==='color_opac'+'ity'||_0x594659==='scale'?_0x18ea89[_0x594659]=new Uint16Array(_0x38a5c7):_0x18ea89[_0x594659]=new Float32Array(_0x38a5c7);let _0x47a177=0x4c7+-0xb0d*-0x1+0x2*-0x7ea;for(let _0x55f6ab=-0xbf+0x16e+0x23*-0x5;_0x55f6ab<_0x54f4f1['length'];_0x55f6ab++)_0x18ea89[_0x594659]['set'](_0x54f4f1[_0x55f6ab][_0x594659],_0x47a177),_0x47a177+=_0x54f4f1[_0x55f6ab][_0x594659]['length'];}return _0x543112['some'](_0x48d2cd=>_0x48d2cd['name']==='feature_re'+'st')&&(_0x18ea89['feature_re'+'st']=_0x2df3a2(_0x32eb7d,_0x543112)),_0x18ea89['time_index']=new Float32Array(_0x18fc0f),_0x18ea89['time_index']['fill'](_0x4914c8-(0x13*0x49+0x1756+-0x2e*0xa0)),_0x18ea89;}const _0x2b33ce=(_0x39bdbc,_0xfba212,_0x325b82,_0x66147d,_0x119fd2,_0x2ab6a4)=>{const _0x352a1d=_0x66147d[_0x325b82],_0x4de0ca=_0x119fd2+_0x352a1d,_0x30b5fd=(_0x41e0c4,_0xf754d6,_0x1deca6)=>_0x41e0c4*(0x1998+0x20db+-0x3a72-_0x1deca6)+_0xf754d6*_0x1deca6;let _0x591ba1={};for(let _0x506d51 of _0x2ab6a4){const _0x5f39ab=_0x506d51['name'],_0x260921=_0x506d51['encoding']['codec'],_0x5a25f7=_0x39bdbc[_0x5f39ab]['slice'](_0x119fd2,_0x4de0ca);if(_0x260921==='pack_11_10'+'_11'){if(_0x5f39ab==='scale'){const _0x37efc4=_0xfba212['min_scales'][_0x325b82],_0x5eb545=_0xfba212['max_scales'][_0x325b82],_0x43c822=_0x179b95(_0x5a25f7),_0x56d59b=_0x43c822['length'],_0x2b9a6a=new Uint16Array(_0x56d59b);for(let _0x5c6562=-0x1*-0x7dd+-0xe8d+-0x1ac*-0x4;_0x5c6562<_0x56d59b;_0x5c6562++)_0x2b9a6a[_0x5c6562]=_0x2a4f50(Math['exp'](_0x30b5fd(_0x37efc4[_0x5c6562%(0x2*0x990+-0x6b*-0x1e+-0x1fa7)],_0x5eb545[_0x5c6562%(-0x1*-0x18c1+0x1009*0x1+-0x28c7)],_0x43c822[_0x5c6562])));_0x591ba1[_0x5f39ab]=_0x2b9a6a;}else{const _0x14ceeb=_0x179b95(_0x5a25f7);let _0x30497a,_0x5398fc;if(_0x5f39ab==='position')_0x30497a=_0xfba212['min_means'][_0x325b82],_0x5398fc=_0xfba212['max_means'][_0x325b82];else{if(_0x5f39ab==='motion')_0x30497a=_0xfba212['min_motion'][_0x325b82],_0x5398fc=_0xfba212['max_motion'][_0x325b82];else{if(_0x5f39ab==='lifecycle'){const _0x2291cb=_0xfba212['min_t_scal'+'e'][_0x325b82],_0xcecd73=_0xfba212['max_t_scal'+'e'][_0x325b82],_0x53f979=_0xfba212['min_time'][_0x325b82],_0x402b53=_0xfba212['max_time'][_0x325b82],_0x4853ad=_0xfba212['min_cutoff'][_0x325b82],_0x4081f9=_0xfba212['max_cutoff'][_0x325b82];_0x30497a=[_0x2291cb[0x61*-0x13+0x2240+-0x19*0x115],_0x53f979[0x78*0x11+0x17db+-0x1fd3],_0x4853ad[0x6f8*-0x4+-0x1209+0x2de9]],_0x5398fc=[_0xcecd73[-0x964+-0x1799+0x20fd],_0x402b53[0xbee*0x1+-0x1552+0x964],_0x4081f9[0xd31+0x17f+-0xeb0]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x5f39ab);}}for(let _0x26fb43=0xadb+-0x3*0x1f6+-0x13*0x43;_0x26fb43<_0x14ceeb['length'];_0x26fb43++)_0x14ceeb[_0x26fb43]=_0x30b5fd(_0x30497a[_0x26fb43%(-0x57*0x69+0x6d*-0x38+0x3b8a*0x1)],_0x5398fc[_0x26fb43%(0xacd+0x26b*0x3+-0x1f*0x95)],_0x14ceeb[_0x26fb43]);_0x591ba1[_0x5f39ab]=_0x14ceeb;}}else{if(_0x260921==='pack_8888'){let _0x15dddd=_0x2ec6ac(_0x5a25f7);const _0x41c57f=_0xfba212['min_colors'][_0x325b82],_0x234f79=_0xfba212['max_colors'][_0x325b82],_0x239798=new Uint16Array(_0x15dddd['length']);for(let _0x579494=0x29c+-0x12f0+0x16*0xbe;_0x579494<_0x15dddd['length'];_0x579494++){const _0x29681f=_0x579494*(0x49e+-0x206e*0x1+0x1bd4);_0x239798[_0x29681f]=_0x2a4f50(_0x30b5fd(_0x41c57f[-0x2a7*-0x4+0xf37+-0x19d3*0x1],_0x234f79[-0x1f7*-0x2+-0x1*-0x935+-0x3*0x461],_0x15dddd[_0x29681f])),_0x239798[_0x29681f+(-0x1*0x26f9+-0x203*-0x9+0x14df)]=_0x2a4f50(_0x30b5fd(_0x41c57f[0x95b+0x14*0x79+-0x12ce],_0x234f79[0x1e3d*-0x1+0x3*0x8d5+0x3bf],_0x15dddd[_0x29681f+(-0x1007*0x1+0x1636+-0x62e)])),_0x239798[_0x29681f+(-0x2da+0x17fb+-0x1*0x151f)]=_0x2a4f50(_0x30b5fd(_0x41c57f[-0x3d9+0x18fe+-0x7*0x305],_0x234f79[-0x1382+-0x1*0x1c7e+0x3002],_0x15dddd[_0x29681f+(0x214e+0x1*0x4d6+-0x2622)])),_0x239798[_0x29681f+(-0x185*-0x17+0x1f9+0x24e9*-0x1)]=_0x2a4f50(_0x15dddd[_0x29681f+(0x30b+-0xe*0x1a9+-0x1a*-0xc7)]);}_0x591ba1[_0x5f39ab]=_0x239798;}else{if(_0x260921==='pack_rotat'+'ion_32'){const _0x4b8215=_0x24a3b6(_0x5a25f7);_0x591ba1[_0x5f39ab]=_0x4b8215;}else{if(_0x260921==='range_quan'+'t_u8'){if(_0x5f39ab==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x260921);}}}}}return{'chunkDecompressed':_0x591ba1,'chunkStartIdx':_0x4de0ca};},_0x2df3a2=(_0x54a5f2,_0x3585f1)=>{const _0x1e7d08='feature_re'+'st',_0x53269b=_0x3585f1['find'](_0x1ec269=>_0x1ec269['name']===_0x1e7d08);let _0x467e4a;const _0x3d8efa=_0x53269b['encoding']['codec'],_0xbcae63=_0x54a5f2[_0x1e7d08];if(_0x3d8efa==='range_quan'+'t_u8'){const [_0x1a4572,_0x248a01]=_0x53269b['encoding']['range'];_0x467e4a=_0x57ea8f(_0xbcae63,_0x1a4572,_0x248a01);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x3d8efa);return _0x467e4a;},_0x221899=(_0x52ea7d,_0x18f78c,_0x2206b4,_0x340c82)=>{let _0x111e1c=-0x1eef+-0x2*-0x3e4+0x1727;const _0x52b216={};for(const _0x4e39bc of _0x2206b4){const {dataSize:_0x12898c}=_0x283c03(_0x4e39bc,_0x18f78c);if(['vec3f','vec4f','vec2f']['includes'](_0x4e39bc['dataType']))_0x52b216[_0x4e39bc['name']]=new Float32Array(_0x52ea7d['buffer']['slice'](_0x111e1c,_0x111e1c+_0x12898c));else{if(_0x4e39bc['dataType']['startsWith']('array<floa'+'t'))_0x52b216[_0x4e39bc['name']]=new Float32Array(_0x52ea7d['buffer']['slice'](_0x111e1c,_0x111e1c+_0x12898c));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x4e39bc['dataType']);}_0x111e1c+=_0x12898c;}const _0x59680c=new Uint16Array(_0x52b216['scale']['length']);for(let _0x5d0805=-0x1c*0xc2+0x2502+-0xfca;_0x5d0805<_0x52b216['scale']['length'];_0x5d0805++)_0x59680c[_0x5d0805]=_0x2a4f50(Math['exp'](_0x52b216['scale'][_0x5d0805]));_0x52b216['scale']=_0x59680c;const _0x252a20=_0x52b216['rotation']['length']/(-0x7*0x290+-0x23b2+0x12*0x2fb),_0x417d9c=new Float32Array(_0x252a20*(0x386*0x4+-0x13*0x1f6+0x172d));for(let _0x57f25f=0x112d+0x1e08+-0x2f35;_0x57f25f<_0x252a20;_0x57f25f++){const _0x1fecf4=_0x57f74f(_0x52b216['rotation'][_0x57f25f*(-0x2550+-0x1c*-0x134+0x3a4)],_0x52b216['rotation'][_0x57f25f*(-0x1*0x8e1+-0x2481+0x2d66)+(-0x44*-0x26+-0x7*0x3cb+0x1076)],_0x52b216['rotation'][_0x57f25f*(-0x2*0x1168+0x1b68+0x4c*0x19)+(0x15fa+0x1*-0x1b50+0xe4*0x6)],_0x52b216['rotation'][_0x57f25f*(-0x1621+-0x8*0x1a6+0x2355)+(0x134+-0x355+0x2*0x112)]);_0x417d9c[_0x57f25f*(-0x1*0xecf+0x10c5*-0x1+-0x1f97*-0x1)]=_0x1fecf4['x'],_0x417d9c[_0x57f25f*(0x177f+0x15ec*-0x1+-0x190)+(0x25fe+0x2683+-0x4c80)]=_0x1fecf4['y'],_0x417d9c[_0x57f25f*(0x31*0x77+0x251f+0x3be3*-0x1)+(0x20a2*-0x1+-0x2487+0x452b)]=_0x1fecf4['z'];}return _0x52b216['rotation']=_0x417d9c,_0x52b216['color_opac'+'ity']=_0x465c6a(_0x52b216['color_opac'+'ity']),_0x52b216['time_index']=new Float32Array(_0x18f78c),_0x52b216['time_index']['fill'](_0x340c82-(-0x1a5*-0x14+0xf9b+-0x307e)),_0x52b216;},_0xad1946=(_0x4ebec6,_0x283bb8)=>{const _0x5ce7fb={};if(_0x4ebec6['length']===-0x2*-0x9d+-0xd0*-0x12+0xfd9*-0x1)return _0x4ebec6[-0xc9+0x7*-0x2e0+0x14e9];for(const _0x428e9a of Object['keys'](_0x4ebec6[0xb*0x82+-0x142d+0x53*0x2d]))if(_0x4ebec6[0x12e6+-0x15d6+-0x2f*-0x10][_0x428e9a]instanceof Float32Array||_0x4ebec6[0x155*0x5+0x3*0x371+-0x10fc][_0x428e9a]instanceof Uint16Array){const _0x226e83=_0x4ebec6['reduce']((_0x37e850,_0x3fba4c)=>_0x37e850+_0x3fba4c[_0x428e9a]['length'],-0x1d19+0x691+0x1688);let _0x273574;_0x4ebec6[-0x12b9+0x183b+-0x582][_0x428e9a]instanceof Uint16Array?_0x273574=new Uint16Array(_0x226e83):_0x273574=new Float32Array(_0x226e83);let _0x5ae2b8=0x11cc*-0x1+0x155+0x1077;for(const _0x262901 of _0x4ebec6)_0x273574['set'](_0x262901[_0x428e9a],_0x5ae2b8),_0x5ae2b8+=_0x262901[_0x428e9a]['length'];_0x5ce7fb[_0x428e9a]=_0x273574;}else Array['isArray'](_0x4ebec6[-0xba7*-0x2+0x1dd3+-0x1d5*0x1d][_0x428e9a])?_0x5ce7fb[_0x428e9a]=_0x4ebec6['flatMap'](_0x26b05e=>Array['from'](_0x26b05e[_0x428e9a])):_0x5ce7fb[_0x428e9a]=_0x4ebec6['map'](_0x104084=>_0x104084[_0x428e9a])['flat']();return _0x5ce7fb;};}class hk extends me{constructor(_0x57d843){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x57d843,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x116947){var _0x4c9c52;return(_0x4c9c52=this['worker'])==null||_0x4c9c52['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x116947}),new Promise((_0x338383,_0x1d7d39)=>{if(!this['worker']){_0x1d7d39(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x4dc930=>{if(!this['worker'])return;const {data:_0x3c035d}=_0x4dc930;if(this['manifestUr'+'l']===_0x3c035d['url'])switch(_0x3c035d['type']){case'onloadMani'+'fest':_0x338383({'manifest':_0x3c035d['data'],'url':_0x3c035d['url'],'representation':_0x3c035d['representa'+'tion']});break;case'error':_0x1d7d39(_0x3c035d['data']);break;}};});}['loadGsdSeg'+'ments'](_0x5bcb35,_0x4249b8){var _0x591966;return(_0x591966=this['worker'])==null||_0x591966['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x910b9,_0x750177)=>{if(!this['worker']){_0x750177(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x362987=>{if(!this['worker'])return;const {data:_0x30064f}=_0x362987;if(this['manifestUr'+'l']===_0x30064f['url'])switch(_0x30064f['type']){case'progress':_0x5bcb35==null||_0x5bcb35(_0x30064f['bytes'],_0x30064f['totalLengt'+'h'],_0x30064f['url']);break;case'loadGsdSeg'+'mentsDone':_0x910b9(_0x30064f['data']);break;case'error':_0x4249b8==null||_0x4249b8(_0x30064f['data'],_0x30064f['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x453eef,_0x3d5d72,_0x192417){var _0x15d62e;return(_0x15d62e=this['worker'])==null||_0x15d62e['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x453eef}),new Promise((_0x3f2360,_0x47483c)=>{if(!this['worker']){_0x47483c(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x206c7d=>{if(!this['worker'])return;const {data:_0x3172d8}=_0x206c7d;if(this['manifestUr'+'l']===_0x3172d8['url'])switch(_0x3172d8['type']){case'progress':_0x3d5d72==null||_0x3d5d72(_0x3172d8['bytes'],_0x3172d8['totalLengt'+'h'],_0x3172d8['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x3f2360(_0x3172d8);break;case'error':_0x192417==null||_0x192417(_0x3172d8['data'],_0x3172d8['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1*-0x1de9+-0xcaf+-0x113a));}}const Xh=class Xh{constructor(_0x2970a7,_0x31d49a,_0x22da2f){h(this,'lastLoadIn'+'dex',-0x1426+0x1*0xeef+0x537),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x2970a7,this['representa'+'tion']=_0x31d49a,this['gsdAssetPa'+'rser']=_0x22da2f,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x2970a7,_0x31d49a));}['getSegment'+'Timeline'](_0x51dc6d,_0x2ac759){let _0x53a9c3=null;for(const _0x4395ef of _0x51dc6d['adaptation'+'Sets'])if(_0x4395ef['contentTyp'+'e']==='4dgs'){for(const _0x2e1fda of _0x4395ef['representa'+'tions'])if(_0x2e1fda['id']===_0x2ac759){_0x53a9c3=_0x2e1fda;break;}break;}if(!_0x53a9c3)throw new Error('Representa'+'tion\x20\x27'+_0x2ac759+('\x27\x20not\x20foun'+'d'));return _0x53a9c3['segmentTem'+'plate'][0x10*-0x14b+0x964*0x2+0x1e8]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0xefb379){const _0x23966e=this['findSegmen'+'tTimeline'](_0xefb379);if(!_0x23966e)return;const _0x5a04d1=_0x23966e['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x1f5b*0x1+-0xa*-0x3a+-0x26*-0xc4)?_0x23966e['timelineIn'+'dex']+(0x1c48+-0x955*0x1+-0x1*0x12f2):-0xcbf+-0x1f+0xcde;this['lastLoadIn'+'dex']!==_0x5a04d1&&(this['lastLoadIn'+'dex']=_0x5a04d1,this['loadNextSe'+'gment'](_0x5a04d1));}async['loadNextSe'+'gment'](_0x29353e){const _0x8b19d9=[];for(let _0xfbe241=-0x2087+-0x6bc+0x2743;_0xfbe241<Xh['CACHE_COUN'+'T'];_0xfbe241++)_0x8b19d9['push']((_0x29353e+_0xfbe241)%this['segmentTim'+'elines']['length']);const _0x478dd1=_0x8b19d9[_0x8b19d9['length']-(-0x135*0x1b+-0x1987+0x3a1f)],_0xc962aa=this['segmentTim'+'elines'][_0x478dd1]['t']+this['segmentTim'+'elines'][_0x478dd1]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x8b19d9,_0xc962aa);}['findSegmen'+'tTimeline'](_0x2d7532){let _0x157f27=0x1*0xd8d+-0xf6a*-0x1+0x1cf7*-0x1,_0x245229=this['segmentTim'+'elines']['length']-(-0x1f81+-0x2665+0xdfb*0x5);for(;_0x157f27<=_0x245229;){const _0x5645eb=_0x157f27+_0x245229>>-0x63*0x25+0x1c2d+0x3*-0x49f,{t:_0x20256b,d:_0x54619c}=this['segmentTim'+'elines'][_0x5645eb];if(_0x2d7532<_0x20256b)_0x245229=_0x5645eb-(-0x11b1+-0x8*0xb2+-0xe5*-0x1a);else{if(_0x2d7532>=_0x20256b+_0x54619c)_0x157f27=_0x5645eb+(-0x1*-0x12df+-0x3ed+-0xef1);else return{'timeline':this['segmentTim'+'elines'][_0x5645eb],'timelineIndex':_0x5645eb};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x91*-0x3d+0xc5*0x2b+-0x439e);let Wu=Xh;class dk{constructor(_0xc9a2db,_0x1bda22){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x65e*0x2+0x1*-0x12fd+0x1f*0x106)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0xc9a2db,this['maxRetries']=_0x1bda22,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0xbeb*-0x2+-0xfd3+-0x803,this['manifest']={});}async['load'](_0x44e81a,_0x32a210,_0x31a950){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x44e81a['load']);const _0x2c37d0=_0x31a950['data']['events'];this['events']=_0x2c37d0,this['asset']=_0x31a950,this['callback']=_0x32a210,this['timeOption']=_0x31a950['data']['timeOption'];let _0x47b1ef=_0x31a950['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x44e81a['load']);const _0x34c3dc=await this['readWorker']['loadGsdMan'+'ifest'](_0x47b1ef);this['manifest']=_0x34c3dc['manifest'],_0x47b1ef=_0x34c3dc['manifest']['representa'+'tion']||_0x47b1ef,this['schedule']=new Wu(this['manifest'],_0x47b1ef,this),this['totalRecei'+'vedCount']=-0x1a*0x6c+-0x3*-0x75e+-0xb22;const _0x566dae=this['getSegment'+'Timeline'](this['manifest'],_0x47b1ef),_0x6a9fd9=_0x566dae[0x1e*0x7e+-0x8*0x388+0x35f*0x4]['t']+_0x566dae[-0x2b*0xd9+0xeeb+-0x1588*-0x1]['d'];this['appendload'+'DataTask']([-0x1a8e+-0xcfe*0x1+0x278c,0xd*0xac+-0x736+-0x185],_0x6a9fd9),_0x2c37d0['on']('timeChange'+'d',_0x569dbc=>{var _0x4e921a;(_0x4e921a=this['schedule'])==null||_0x4e921a['onTimeChan'+'ged'](_0x569dbc);});}['getSegment'+'Timeline'](_0x281a68,_0x172b11){let _0x4af748=null;for(const _0x3b51ee of _0x281a68['adaptation'+'Sets'])if(_0x3b51ee['contentTyp'+'e']==='4dgs'){for(const _0xc13714 of _0x3b51ee['representa'+'tions'])if(_0xc13714['id']===_0x172b11){_0x4af748=_0xc13714;break;}break;}if(!_0x4af748)throw new Error('Representa'+'tion\x20\x27'+_0x172b11+('\x27\x20not\x20foun'+'d'));return _0x4af748['segmentTem'+'plate'][-0x500+-0x12d*0x8+-0x1*-0xe68]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x2abef6,_0x5cd8a9){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x2abef6,'loadedTime':_0x5cd8a9}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x3e8*-0x6+0x8e*-0x1a+0x25dc);try{for(;this['loadDataTa'+'skQueue']['length']>-0xaf*-0x9+-0x4b+0xfa*-0x6;){const _0x14f017=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x14f017);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x17cf+-0x329*0x8+0x3118);}}}async['loadGsplat'+'Data'](_0x352843){var _0x543e04,_0x23e1d9;const {segmentIndexs:_0x5e078d,loadedTime:_0x5708b5}=_0x352843,_0x51544b=this['events'],_0x2217e0=this['asset'],_0x4f88ea=this['callback'],_0x2cfb98=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x5e078d,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0xb*-0x2f3+0x1ec2+-0x1b1*-0x1));try{const _0x3ecd70=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x5e078d,(_0x1a2af1,_0x134a45)=>{this['totalRecei'+'ved']+=_0x1a2af1,_0x2217e0&&_0x51544b['fire']('progress',this['totalRecei'+'ved'],_0x134a45);},(_0x3825a7,_0x46e578)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x46e578,_0x3825a7);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0xf35+0x615+0xe*0xa7),_0x3ecd70['data']['elements'][-0x135a+0x7*0x71+0x1043]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x3ecd70['data']['elements'][0x1975+0x1d*0x34+-0x1f59]['count']*(-0x1*-0x1bfe+0x182d+-0xd1b))['toFixed'](0x2b2+0x29*0x19+-0x6b1));const _0xe52cd6=_0x3ecd70['data'];if(_0xe52cd6['elements'][0x3*-0x713+0x1b5a+-0x621]['count']===0xb*0x21f+-0x83*-0x1+-0x17d8)return;this['totalRecei'+'vedCount']+=_0xe52cd6['elements'][0xc9*-0x26+-0x2591+0x4367]['count'];const _0x3b9600=new iC(_0xe52cd6['elements'],_0xe52cd6['comments']);_0x2217e0['fire']('load:data',_0x3b9600);const _0x4aac6e=_0x2217e0['data']['createTime']!==((_0x23e1d9=(_0x543e04=this['onlyOneAss'+'et'])==null?void(0xbe*0x11+0xb*0x4a+-0xfcc):_0x543e04['data'])==null?void(-0xb*-0x32b+-0x1f83+0x1*-0x356):_0x23e1d9['createTime']);this['gsplatReso'+'urce']&&!_0x4aac6e?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x3b9600,_0x2cfb98,_0x5708b5,_0x2217e0)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x3b9600),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x2cfb98,this['onlyOneAss'+'et']=_0x2217e0,_0x4f88ea&&_0x4f88ea(null,this['gsplatReso'+'urce']),_0x51544b['fire']('loadAllAss'+'etsDone'));}catch(_0x4b54b3){console['error']('loadGsplat'+'Data','error',_0x4b54b3),_0x4f88ea&&_0x4f88ea(_0x4b54b3,null);}}['open'](_0x355d38,_0x1cd621){return _0x1cd621;}}class fk extends Qe{constructor(_0x1afa80){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1afa80,'gsplat'),this['parsers']={'ply':new lk(_0x1afa80,0x38*-0x3e+-0x317+-0x4f*-0x36),'json':new dk(_0x1afa80,-0x8cc+0x232d+0x5a*-0x4b)};}['_getUrlWit'+'houtParams'](_0x56b54c){return _0x56b54c['indexOf']('?')>=-0x1*-0x2665+-0x1a8b+0x5ed*-0x2?_0x56b54c['split']('?')[0xd*0x12a+0x1e50+-0x2d72]:_0x56b54c;}['_getParser'](_0x5cc1eb){const _0x204515=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5cc1eb))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x204515]||this['parsers']['ply'];}['load'](_0x2a0d32,_0x33cb22,_0xb37840){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x2a0d32=='string'&&(_0x2a0d32={'load':_0x2a0d32,'original':_0x2a0d32}),this['_getParser'](_0x2a0d32['original'])['load'](_0x2a0d32,_0x33cb22,_0xb37840);}['open'](_0x4e5a7c,_0x3da7d8,_0x528266){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x3da7d8;}}class $u{static['setCompres'+'sedPRS'](_0x5884d3,_0x7ab638,_0x240653){const _0x1cf2c6=_0x240653['singleVecs'];let _0x3b24b0,_0x2e6705;const _0x5a5875=_0x7ab638['___1'];_0x5a5875||(_0x3b24b0=_0x240653['tripleVecs'],_0x2e6705=_0x7ab638['___2']);let _0x545a53=_0x5a5875?_0x5a5875[-0x1*0x1a19+0xb*-0x9d+-0x41b*-0x8]:_0x3b24b0[_0x2e6705];_0x5884d3['setLocalPo'+'sition'](_0x1cf2c6[_0x545a53],_0x1cf2c6[_0x545a53+(-0xed*0x7+-0x137*0xb+0x13d9)],_0x1cf2c6[_0x545a53+(-0x1568+-0xcc*-0x9+0xe3e)]),_0x545a53=_0x5a5875?_0x5a5875[-0x273*0x3+0x1*0x2543+-0x1de9]:_0x3b24b0[_0x2e6705+(-0x7*0x4c7+-0xb5e+0x2cd0)],_0x5884d3['setLocalEu'+'lerAngles'](_0x1cf2c6[_0x545a53],_0x1cf2c6[_0x545a53+(0x7d8+0x494+0x121*-0xb)],_0x1cf2c6[_0x545a53+(-0x12cd+0x781+0xb4e)]),_0x545a53=_0x5a5875?_0x5a5875[0x1b05*0x1+-0xef*-0x14+-0x2daf]:_0x3b24b0[_0x2e6705+(0x22*0x38+-0x6ce*-0x4+0xa*-0x377)],_0x5884d3['setLocalSc'+'ale'](_0x1cf2c6[_0x545a53],_0x1cf2c6[_0x545a53+(0x1245*-0x1+-0xc11+0x35f*0x9)],_0x1cf2c6[_0x545a53+(0x21ab+-0x2*0x5c9+0xf*-0x179)]);}static['oneCharToK'+'ey'](_0x24ecce,_0x5edbed){const _0x5bf3c5=_0x24ecce['charCodeAt'](-0xcef+-0x208b+-0x2*-0x16bd)-_0x5edbed['fieldFirst'+'Code'];return _0x5edbed['fieldArray'][_0x5bf3c5];}static['multCharTo'+'Key'](_0x1e47b4,_0x556999){let _0x5e13c6=-0x15*-0x179+-0x932+-0x15bb;for(let _0x3f93af=-0x1351+-0x26ae+0x39ff;_0x3f93af<_0x1e47b4['length'];_0x3f93af++)_0x5e13c6=_0x5e13c6*_0x556999['fieldCodeB'+'ase']+_0x1e47b4['charCodeAt'](_0x3f93af)-_0x556999['fieldFirst'+'Code'];return _0x556999['fieldArray'][_0x5e13c6];}}class Uh{constructor(_0x17050d,_0x56a65d){this['_node']=_0x17050d,this['_data']=_0x56a65d;}['run'](){const _0x5595ae=Object['prototype']['toString']['call'](this['_node']);return _0x5595ae==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x5595ae==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x14eb01){let _0x537242=_0x14eb01;const _0x4f7bc7=_0x14eb01['length'];_0x4f7bc7===0x491*0x8+-0x2*0xa10+0x143*-0xd?_0x537242=$u['oneCharToK'+'ey'](_0x14eb01,this['_data']):_0x4f7bc7===0x1a1c+0x7*-0x527+-0x1*-0x9f7&&(_0x537242=$u['multCharTo'+'Key'](_0x14eb01,this['_data'])),this['_result'][_0x537242]=new Uh(this['_node'][_0x14eb01],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x276c57){const _0x5099a1=new Uh(_0x276c57,this['_data'])['run']();this['_result']['push'](_0x5099a1);}}class bm{constructor(_0x423df9,_0x2130d2){this['_app']=_0x423df9,this['_isTemplat'+'e']=_0x2130d2;}['parse'](_0x4a3188){const _0x4202b1={};let _0x5d4a89=null;const _0x16ea66=_0x4a3188['compressed'+'Format'];_0x16ea66&&!_0x4a3188['entDecompr'+'essed']&&(_0x4a3188['entDecompr'+'essed']=!(-0x7e8+-0x16f3+0x1edb),_0x4a3188['entities']=new Uh(_0x4a3188['entities'],_0x16ea66)['run']());for(const _0x477e0c in _0x4a3188['entities']){const _0x2ba472=_0x4a3188['entities'][_0x477e0c],_0x4148c4=this['_createEnt'+'ity'](_0x2ba472,_0x16ea66);_0x4202b1[_0x477e0c]=_0x4148c4,_0x2ba472['parent']===null&&(_0x5d4a89=_0x4148c4);}for(const _0x2739b4 in _0x4a3188['entities']){const _0x329082=_0x4202b1[_0x2739b4],_0x460fde=_0x4a3188['entities'][_0x2739b4]['children'],_0x186abb=_0x460fde['length'];for(let _0x376b8e=0xcf5+-0xce9+-0xc;_0x376b8e<_0x186abb;_0x376b8e++){const _0x2b1522=_0x4202b1[_0x460fde[_0x376b8e]];_0x2b1522&&_0x329082['addChild'](_0x2b1522);}}return this['_openCompo'+'nentData'](_0x5d4a89,_0x4a3188['entities']),_0x5d4a89;}['_createEnt'+'ity'](_0x4588df,_0x3da15b){const _0x2869b6=new lt(_0x4588df['name'],this['_app']);if(_0x2869b6['setGuid'](_0x4588df['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x2869b6,_0x4588df,_0x3da15b),_0x2869b6['_enabled']=_0x4588df['enabled']??!(-0x382+0x70c*-0x5+0x26be),this['_isTemplat'+'e']?_0x2869b6['_template']=!(0x2063+-0x24ab+0x89*0x8):_0x2869b6['_enabledIn'+'Hierarchy']=_0x2869b6['_enabled'],_0x2869b6['template']=_0x4588df['template'],_0x4588df['tags']){for(let _0x2f604f=-0x1369*-0x2+-0x184c*0x1+0xa9*-0x16;_0x2f604f<_0x4588df['tags']['length'];_0x2f604f++)_0x2869b6['tags']['add'](_0x4588df['tags'][_0x2f604f]);}return _0x2869b6;}['_setPosRot'+'Scale'](_0x2cdc34,_0x20a5b7,_0x1eaee3){if(_0x1eaee3)$u['setCompres'+'sedPRS'](_0x2cdc34,_0x20a5b7,_0x1eaee3);else{const _0x57cd8a=_0x20a5b7['position'],_0x70b713=_0x20a5b7['rotation'],_0x516555=_0x20a5b7['scale'];_0x2cdc34['setLocalPo'+'sition'](_0x57cd8a[0xe36+0x14d6+0x2*-0x1186],_0x57cd8a[-0x1*0x21c7+-0x73+0x223b],_0x57cd8a[-0x50*0x6c+0x1*0x1cf7+-0x199*-0x3]),_0x2cdc34['setLocalEu'+'lerAngles'](_0x70b713[0xdf5+0x71f+0x8e*-0x26],_0x70b713[0x3*0xbf9+-0x147d+-0xf6d],_0x70b713[0x2554+-0x246f+-0xe3]),_0x2cdc34['setLocalSc'+'ale'](_0x516555[0x112c+-0x1*0x1e2e+0xd02],_0x516555[0x531*-0x2+-0x1*-0x1bea+-0x1187],_0x516555[-0x1676+-0x17ab+0x2e23]);}}['_openCompo'+'nentData'](_0x2be5ce,_0xf429bb){const _0x3e5d77=this['_app']['systems']['list'];let _0x5d5a17=_0x3e5d77['length'];const _0x5b69ad=_0xf429bb[_0x2be5ce['getGuid']()];for(let _0x5a91bc=-0x130f+0x1757+-0x112*0x4;_0x5a91bc<_0x5d5a17;_0x5a91bc++){const _0x2fad18=_0x3e5d77[_0x5a91bc],_0x1630c3=_0x5b69ad['components'][_0x2fad18['id']];_0x1630c3&&_0x2fad18['addCompone'+'nt'](_0x2be5ce,_0x1630c3);}_0x5d5a17=_0x5b69ad['children']['length'];const _0xd0b579=_0x2be5ce['_children'];for(let _0x34304a=-0x245*-0x8+0xb73*-0x3+-0x5*-0x33d;_0x34304a<_0x5d5a17;_0x34304a++)_0xd0b579[_0x34304a]?_0xd0b579[_0x34304a]=this['_openCompo'+'nentData'](_0xd0b579[_0x34304a],_0xf429bb):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x2be5ce['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x2be5ce;}}class E0{static['load'](_0x49744e,_0x3bea61,_0x362a91){typeof _0x49744e=='string'&&(_0x49744e={'load':_0x49744e,'original':_0x49744e}),ot['get'](_0x49744e['load'],{'retry':_0x3bea61>-0x983+-0x649+-0x2a2*-0x6,'maxRetries':_0x3bea61},(_0x4adbfb,_0x28506b)=>{if(!_0x4adbfb)_0x362a91(_0x4adbfb,_0x28506b);else{let _0x4cc01c='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x49744e['original'];_0x4adbfb['message']?(_0x4cc01c+=':\x20'+_0x4adbfb['message'],_0x4adbfb['stack']&&(_0x4cc01c+='\x0a'+_0x4adbfb['stack'])):_0x4cc01c+=':\x20'+_0x4adbfb,_0x362a91(_0x4cc01c);}});}}class uk extends Qe{constructor(_0x64bb13){super(_0x64bb13,'hierarchy');}['load'](_0x5f086d,_0x31819b){E0['load'](_0x5f086d,this['maxRetries'],_0x31819b);}['open'](_0x363171,_0x3758f4){this['_app']['systems']['script']['preloading']=!(0x2*0x9d9+-0xe60*-0x2+-0x3072);const _0x10ce1b=new bm(this['_app'],!(0x8d5+-0x10bc+0x5c*0x16))['parse'](_0x3758f4);return this['_app']['systems']['script']['preloading']=!(-0x37d*0x5+0xb03*-0x2+0x2778),_0x10ce1b;}}class pk extends Qe{constructor(_0x5287db){super(_0x5287db,'html'),h(this,'decoder',null);}['load'](_0x443511,_0x5bd874){typeof _0x443511=='string'&&(_0x443511={'load':_0x443511,'original':_0x443511}),ot['get'](_0x443511['load'],{'retry':this['maxRetries']>0x10dd*0x2+0x1*0x1cf9+-0x1*0x3eb3,'maxRetries':this['maxRetries']},(_0x530042,_0x564453)=>{_0x530042?_0x5bd874('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x443511['original']+'\x20['+_0x530042+']'):_0x5bd874(null,_0x564453);});}['openBinary'](_0x2d8751){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2d8751);}}class mk extends Qe{constructor(_0x94554b){super(_0x94554b,'json'),h(this,'decoder',null);}['load'](_0x183d42,_0x1b3654){typeof _0x183d42=='string'&&(_0x183d42={'load':_0x183d42,'original':_0x183d42});const _0x362b6d={'retry':this['maxRetries']>-0x7*-0x49d+0x7*0x108+-0x2783,'maxRetries':this['maxRetries']};_0x183d42['load']['startsWith']('blob:')&&(_0x362b6d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x183d42['load'],_0x362b6d,(_0x3006eb,_0x41b1bd)=>{_0x3006eb?_0x1b3654('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x183d42['original']+'\x20['+_0x3006eb+']'):_0x1b3654(null,_0x41b1bd);});}['openBinary'](_0x4f5a7e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x4f5a7e));}}class _k{constructor(){this['removeInva'+'lid']=!(0x95b*0x2+0x3c8+-0x167e),this['valid']=!(0x319*-0xb+0x1c1+-0x7*-0x49e),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x29cb55,_0x11f895){this['valid']=!(0x1a3f+0x5fd*-0x1+-0x1441),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x29cb55,_0x11f895[_0x29cb55]),this['removeInva'+'lid']&&delete _0x11f895[_0x29cb55];}['validate'](_0x386694){const _0x51360b=$n,_0x17b2fa=gb,_0x446419=_0x386694['mappingFor'+'mat']==='path';for(const _0x343377 in _0x386694){const _0x566535=_0x51360b[_0x343377];if(!_0x566535){_0x17b2fa[_0x343377]?delete _0x386694[_0x343377]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x343377),this['valid']=!(-0x19b+0x39*0x71+-0x178d));continue;}if(_0x566535['startsWith']('enum')){const _0x2922cc=_0x566535['split'](':')[-0x6*0x8+-0x2159+0x218a];this['enumValida'+'tors'][_0x2922cc]&&(this['enumValida'+'tors'][_0x2922cc](_0x386694[_0x343377])||this['setInvalid'](_0x343377,_0x386694));}else{if(_0x566535==='number')typeof _0x386694[_0x343377]!='number'&&this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='boolean')typeof _0x386694[_0x343377]!='boolean'&&this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='string')typeof _0x386694[_0x343377]!='string'&&this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='vec2')_0x386694[_0x343377]instanceof Array&&_0x386694[_0x343377]['length']===-0x1c1b+0x1*-0x1a69+-0x7ca*-0x7||this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='rgb')_0x386694[_0x343377]instanceof Array&&_0x386694[_0x343377]['length']===-0x11f*-0x1b+0x145e+-0x6c*0x78||this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='texture')_0x446419?typeof _0x386694[_0x343377]=='string'||_0x386694[_0x343377]===null||_0x386694[_0x343377]instanceof _e||this['setInvalid'](_0x343377,_0x386694):typeof _0x386694[_0x343377]=='number'||_0x386694[_0x343377]===null||_0x386694[_0x343377]instanceof _e||this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='boundingbo'+'x')_0x386694[_0x343377]['center']&&_0x386694[_0x343377]['center']instanceof Array&&_0x386694[_0x343377]['center']['length']===-0x187a+0x2*0xab2+0x319||this['setInvalid'](_0x343377,_0x386694),_0x386694[_0x343377]['halfExtent'+'s']&&_0x386694[_0x343377]['halfExtent'+'s']instanceof Array&&_0x386694[_0x343377]['halfExtent'+'s']['length']===0x122*-0x8+-0x29*-0x65+-0xca*0x9||this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='cubemap')typeof _0x386694[_0x343377]=='number'||_0x386694[_0x343377]===null||_0x386694[_0x343377]===void(0x2007+-0x84e+-0x17b9)||_0x386694[_0x343377]instanceof _e&&_0x386694[_0x343377]['cubemap']||this['setInvalid'](_0x343377,_0x386694);else{if(_0x566535==='chunks'){const _0x4abf32=Object['keys'](_0x386694[_0x343377]);for(let _0x1de39d=0x4*0x3cb+0x2147+-0x3073;_0x1de39d<_0x4abf32['length'];_0x1de39d++)typeof _0x386694[_0x343377][_0x4abf32[_0x1de39d]]!='string'&&this['setInvalid'](_0x4abf32[_0x1de39d],_0x386694[_0x343377]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x566535);}}}}}}}}}}return _0x386694['validated']=!(0x4*-0x4f3+-0x42f+0x1*0x17fb),this['valid'];}['_createEnu'+'mValidator'](_0x1ebbad){return function(_0x4b250a){return _0x1ebbad['indexOf'](_0x4b250a)>=0x19fb+-0xed4+0x1*-0xb27;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x58b96f){const _0x4b37ba=this['migrate'](_0x58b96f),_0x2f3ee3=this['_validate'](_0x4b37ba),_0x4684bb=new Ut();return this['initialize'](_0x4684bb,_0x2f3ee3),_0x4684bb;}['initialize'](_0x26c350,_0x440e1e){if(_0x440e1e['validated']||(_0x440e1e=this['_validate'](_0x440e1e)),_0x440e1e['chunks']&&_0x440e1e['chunks']&&Object['keys'](_0x440e1e['chunks'])['length']>0x2*0x543+0x19a6+-0x90b*0x4){const _0x24c4a2=_0x26c350['shaderChun'+'ks']['glsl'];Object['entries'](_0x440e1e['chunks'])['forEach'](([_0x323e0f,_0x155255])=>_0x24c4a2['set'](_0x323e0f,_0x155255));}for(const _0x40c8de in _0x440e1e){const _0x50779b=$n[_0x40c8de],_0x43705e=_0x440e1e[_0x40c8de];if(_0x50779b==='vec2')_0x26c350[_0x40c8de]=new J(_0x43705e[-0x2*-0xb56+0x9*-0x63+-0x1331],_0x43705e[-0x2b*0x1+0x154*-0x1d+0x26b0]);else{if(_0x50779b==='rgb')_0x26c350[_0x40c8de]=new ie(_0x43705e[-0x972*-0x1+-0x27d+0xd*-0x89],_0x43705e[0x158d+0x31*-0x8b+0x50f],_0x43705e[-0xfe2*0x1+-0xf2+-0x35e*-0x5]);else{if(_0x50779b==='texture')_0x43705e instanceof _e?_0x26c350[_0x40c8de]=_0x43705e:_0x26c350[_0x40c8de]instanceof _e&&typeof _0x43705e=='number'&&_0x43705e>0x295*0x1+-0x24a+-0x4b||(_0x26c350[_0x40c8de]=null);else{if(_0x50779b==='cubemap')_0x43705e instanceof _e?_0x26c350[_0x40c8de]=_0x43705e:_0x26c350[_0x40c8de]instanceof _e&&typeof _0x43705e=='number'&&_0x43705e>-0xbb4+-0x21a4+0x2d58||(_0x26c350[_0x40c8de]=null),_0x40c8de==='cubeMap'&&!_0x43705e&&(_0x26c350['prefiltere'+'dCubemaps']=null);else{if(_0x50779b==='boundingbo'+'x'){const _0x4c6b7=new D(_0x43705e['center'][-0x23f9+0xcac+0x4a9*0x5],_0x43705e['center'][0x9bf+0x1*0x2034+-0x29f2],_0x43705e['center'][0x119+0x1d7b*-0x1+0x1c64*0x1]),_0x2063ae=new D(_0x43705e['halfExtent'+'s'][0x2d2*0xd+-0xbf2+0xe2*-0x1c],_0x43705e['halfExtent'+'s'][0x161*0x4+0x94d*0x2+-0x181d],_0x43705e['halfExtent'+'s'][0x22b7+-0x244e+-0x1*-0x199]);_0x26c350[_0x40c8de]=new De(_0x4c6b7,_0x2063ae);}else _0x26c350[_0x40c8de]=_0x440e1e[_0x40c8de];}}}}}_0x26c350['update']();}['migrate'](_0x754db1){_0x754db1['shader']&&delete _0x754db1['shader'],_0x754db1['mapping_fo'+'rmat']&&(_0x754db1['mappingFor'+'mat']=_0x754db1['mapping_fo'+'rmat'],delete _0x754db1['mapping_fo'+'rmat']);let _0x5a60e5;const _0x28814a=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x5a60e5=-0xa02+0x446+0x5bc;_0x5a60e5<_0x28814a['length'];_0x5a60e5++){const _0x56c24c=_0x28814a[_0x5a60e5][-0xff*-0x24+0x32d+0xd03*-0x3],_0x3a41dc=_0x28814a[_0x5a60e5][-0x798+0x5*-0x5ab+-0x17*-0x190];_0x754db1[_0x56c24c]!==void(-0x1146+0x7c1*-0x2+-0x419*-0x8)&&(_0x754db1[_0x3a41dc]===void(0x1b3b+-0x2*0xb03+-0x535)&&(_0x754db1[_0x3a41dc]=_0x754db1[_0x56c24c]),delete _0x754db1[_0x56c24c]);}const _0x34e277=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x5a60e5=0x53b+-0xd73+0x838;_0x5a60e5<_0x34e277['length'];_0x5a60e5++){const _0x467381=_0x34e277[_0x5a60e5];_0x754db1['hasOwnProp'+'erty'](_0x467381)&&delete _0x754db1[_0x467381];}return _0x754db1;}['_validate'](_0x2b9c2c){return _0x2b9c2c['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x2b9c2c)),_0x2b9c2c;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x2dcb50){super(_0x2dcb50,'material'),this['_assets']=_0x2dcb50['assets'],this['_device']=_0x2dcb50['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x3470dc,_0x4f4a34){typeof _0x3470dc=='string'&&(_0x3470dc={'load':_0x3470dc,'original':_0x3470dc}),ot['get'](_0x3470dc['load'],{'retry':this['maxRetries']>0x4*0x4ca+0x27*-0x79+-0x1*0xb9,'maxRetries':this['maxRetries']},(_0x3f7b23,_0x5eba80)=>{_0x3f7b23?_0x4f4a34&&_0x4f4a34('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x3470dc['original']+'\x20['+_0x3f7b23+']'):_0x4f4a34&&(_0x5eba80['_engine']=!(0x3e9+0xef8+0x3*-0x64b),_0x4f4a34(null,_0x5eba80));});}['open'](_0x544eda,_0x35dde8){const _0x3a4418=this['_parser']['parse'](_0x35dde8);return _0x35dde8['_engine']&&(_0x3a4418['_data']=_0x35dde8,delete _0x35dde8['_engine']),_0x3a4418;}['patch'](_0x172775,_0x551b72){_0x172775['resource']['_data']&&(_0x172775['_data']=_0x172775['resource']['_data'],delete _0x172775['resource']['_data']),_0x172775['data']['name']=_0x172775['name'],_0x172775['resource']['name']=_0x172775['name'],this['_bindAndAs'+'signAssets'](_0x172775,_0x551b72),_0x172775['off']('unload',this['_onAssetUn'+'load'],this),_0x172775['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x561cc5){delete _0x561cc5['data']['parameters'],delete _0x561cc5['data']['chunks'],delete _0x561cc5['data']['name'];}['_assignTex'+'ture'](_0xca5632,_0x305b55,_0x1a8c72){_0x305b55['resource'][_0xca5632]=_0x1a8c72;}['_getPlaceh'+'olderTextu'+'re'](_0x89447){const _0x2ad7c5=Sk[_0x89447];return w['assert'](_0x2ad7c5,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x89447),fa(this['_device'],_0x2ad7c5);}['_assignPla'+'ceholderTe'+'xture'](_0x2fdb2a,_0x27d606){_0x27d606['resource'][_0x2fdb2a]=this['_getPlaceh'+'olderTextu'+'re'](_0x2fdb2a);}['_onTexture'+'Load'](_0x4bbd04,_0x33ab98,_0x4af1f0){this['_assignTex'+'ture'](_0x4bbd04,_0x33ab98,_0x4af1f0['resource']),_0x33ab98['resource']['update']();}['_onTexture'+'Add'](_0x455def,_0x4527e2,_0x5558a0){this['_assets']['load'](_0x5558a0);}['_onTexture'+'RemoveOrUn'+'load'](_0x31b724,_0x5279ee,_0x4b4897){const _0x5bf9cc=_0x5279ee['resource'];_0x5bf9cc&&_0x5279ee['resource'][_0x31b724]===_0x4b4897['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x31b724,_0x5279ee),_0x5bf9cc['update']());}['_assignCub'+'emap'](_0x12f7cd,_0x6a6223,_0x5ae93d){if(_0x6a6223['resource'][_0x12f7cd]=_0x5ae93d[0x1*0x251b+-0x77c+0x1*-0x1d9f],_0x12f7cd==='cubeMap'){const _0x3d05f6=_0x5ae93d['slice'](-0x543*-0x3+0xc64+-0x1*0x1c2c);_0x3d05f6['every'](_0x289c33=>_0x289c33)?_0x6a6223['resource']['prefiltere'+'dCubemaps']=_0x3d05f6:_0x3d05f6[-0x252c+0x1*0x1273+0x12b9*0x1]&&(_0x6a6223['resource']['envAtlas']=_0x3d05f6[0xcf1+0xe31+-0x12e*0x17]);}}['_onCubemap'+'Load'](_0x431bad,_0x1d34c2,_0xe32699){this['_assignCub'+'emap'](_0x431bad,_0x1d34c2,_0xe32699['resources']),this['_parser']['initialize'](_0x1d34c2['resource'],_0x1d34c2['data']);}['_onCubemap'+'Add'](_0x517870,_0xe69f54,_0x4a2f0e){this['_assets']['load'](_0x4a2f0e);}['_onCubemap'+'RemoveOrUn'+'load'](_0x5cfd73,_0x57f896,_0x321477){const _0x3165db=_0x57f896['resource'];_0x57f896['data']['prefiltere'+'dCubeMap12'+'8']===_0x321477['resources'][0x154c+0xb*0x125+-0x2*0x10f1]&&(this['_assignCub'+'emap'](_0x5cfd73,_0x57f896,[null,null,null,null,null,null,null]),_0x3165db['update']());}['_bindAndAs'+'signAssets'](_0x43e2a5,_0x2f82d2){const _0x56ce6b=this['_parser']['migrate'](_0x43e2a5['data']),_0x26d2b2=_0x43e2a5['resource'],_0x1cb381=_0x56ce6b['mappingFor'+'mat']==='path',_0x5cc38c=Cd;let _0x11d006,_0x479eef,_0x25e6bb;for(_0x11d006=0x1*-0x7bf+-0x1163*-0x1+-0x9a4;_0x11d006<_0x5cc38c['length'];_0x11d006++){_0x479eef=_0x5cc38c[_0x11d006],_0x25e6bb=_0x26d2b2['_assetRefe'+'rences'][_0x479eef];const _0x3b028f=_0x56ce6b[_0x479eef],_0x163b8d=_0x26d2b2[_0x479eef],_0x33129a=_0x163b8d===this['_getPlaceh'+'olderTextu'+'re'](_0x479eef),_0x1deaab=_0x56ce6b['validated'];_0x3b028f&&(!_0x163b8d||!_0x1deaab||_0x33129a)?(_0x25e6bb||(_0x25e6bb=new gl(_0x479eef,_0x43e2a5,_0x2f82d2,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x26d2b2['_assetRefe'+'rences'][_0x479eef]=_0x25e6bb),_0x1cb381?_0x25e6bb['url']=_0x43e2a5['getAbsolut'+'eUrl'](_0x3b028f):_0x25e6bb['id']=_0x3b028f,_0x25e6bb['asset']&&(_0x25e6bb['asset']['resource']?this['_assignTex'+'ture'](_0x479eef,_0x43e2a5,_0x25e6bb['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x479eef,_0x43e2a5),_0x2f82d2['load'](_0x25e6bb['asset']))):_0x25e6bb&&(_0x1cb381?_0x25e6bb['url']=null:_0x25e6bb['id']=null);}const _0x44124d=fm;for(_0x11d006=0xaaf+0x19be+0x246d*-0x1;_0x11d006<_0x44124d['length'];_0x11d006++)_0x479eef=_0x44124d[_0x11d006],_0x25e6bb=_0x26d2b2['_assetRefe'+'rences'][_0x479eef],_0x56ce6b[_0x479eef]&&!_0x43e2a5['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x25e6bb||(_0x25e6bb=new gl(_0x479eef,_0x43e2a5,_0x2f82d2,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x26d2b2['_assetRefe'+'rences'][_0x479eef]=_0x25e6bb),_0x1cb381?_0x25e6bb['url']=_0x56ce6b[_0x479eef]:_0x25e6bb['id']=_0x56ce6b[_0x479eef],_0x25e6bb['asset']&&(_0x25e6bb['asset']['loaded']&&this['_assignCub'+'emap'](_0x479eef,_0x43e2a5,_0x25e6bb['asset']['resources']),_0x2f82d2['load'](_0x25e6bb['asset'])));this['_parser']['initialize'](_0x26d2b2,_0x56ce6b);}}class vk{constructor(_0x556d37){this['_device']=_0x556d37['device'],this['_defaultMa'+'terial']=_0x556d37['defaultMat'+'erial'],this['_assets']=_0x556d37['assets'];}['parse'](_0x15196f,_0x3ffe8b,_0x261011){kh['parse']('filename.g'+'lb','',_0x15196f,this['_device'],this['_assets'],(_0x261011==null?void(0x417+-0x263b+0x1b5*0x14):_0x261011['options'])??{},(_0x5b0b54,_0x130112)=>{if(_0x5b0b54)_0x3ffe8b(_0x5b0b54);else{const _0x2b80bf=yr['createMode'+'l'](_0x130112,this['_defaultMa'+'terial']);_0x130112['destroy'](),_0x3ffe8b(null,_0x2b80bf);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x1e2ff6){this['_device']=_0x1e2ff6['device'],this['_defaultMa'+'terial']=_0x1e2ff6['defaultMat'+'erial'];}['parse'](_0x5dfc64,_0x42a1c8){const _0x1795ae=_0x5dfc64['model'];if(!_0x1795ae){_0x42a1c8(null,null);return;}if(_0x1795ae['version']<=0x12b5*-0x1+0x153b+-0x285){_0x42a1c8('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x5bfdbf=this['_parseNode'+'s'](_0x5dfc64),_0x39d33e=this['_parseSkin'+'s'](_0x5dfc64,_0x5bfdbf),_0x46f637=this['_parseVert'+'exBuffers'](_0x5dfc64),_0xd0cc2b=this['_parseInde'+'xBuffers'](_0x5dfc64,_0x46f637),_0x118832=this['_parseMorp'+'hs'](_0x5dfc64,_0x5bfdbf,_0x46f637),_0x31d875=this['_parseMesh'+'es'](_0x5dfc64,_0x39d33e['skins'],_0x118832['morphs'],_0x46f637,_0xd0cc2b['buffer'],_0xd0cc2b['data']),_0x14e3f1=this['_parseMesh'+'Instances'](_0x5dfc64,_0x5bfdbf,_0x31d875,_0x39d33e['skins'],_0x39d33e['instances'],_0x118832['morphs'],_0x118832['instances']),_0x2d85ff=new sr();_0x2d85ff['graph']=_0x5bfdbf[0x3*-0xc51+-0x680+0x2b73],_0x2d85ff['meshInstan'+'ces']=_0x14e3f1,_0x2d85ff['skinInstan'+'ces']=_0x39d33e['instances'],_0x2d85ff['morphInsta'+'nces']=_0x118832['instances'],_0x2d85ff['getGraph']()['syncHierar'+'chy'](),_0x42a1c8(null,_0x2d85ff);}['_parseNode'+'s'](_0x479906){const _0x48f7c2=_0x479906['model'],_0x15f758=[];let _0x380d1a;for(_0x380d1a=-0x109e+0x2d*0x26+0x9f0;_0x380d1a<_0x48f7c2['nodes']['length'];_0x380d1a++){const _0xe12af0=_0x48f7c2['nodes'][_0x380d1a],_0x2bb219=new Ie(_0xe12af0['name']);_0x2bb219['setLocalPo'+'sition'](_0xe12af0['position'][0x1*0x611+0x1170+-0x1781],_0xe12af0['position'][0x236c+-0x22a0+0x7*-0x1d],_0xe12af0['position'][0x1459+0x1*-0x21d7+0xd80]),_0x2bb219['setLocalEu'+'lerAngles'](_0xe12af0['rotation'][-0x1efe+0x179f+0x3*0x275],_0xe12af0['rotation'][-0xf4c+-0x2*0x12bf+0x34cb],_0xe12af0['rotation'][0x18+0x1e*0x20+0x3d6*-0x1]),_0x2bb219['setLocalSc'+'ale'](_0xe12af0['scale'][-0x3*-0x74f+-0x105*0x17+0x186],_0xe12af0['scale'][-0x121e+-0xbdb+0x1dfa],_0xe12af0['scale'][0x570+-0xa08+0x49a]),_0x2bb219['scaleCompe'+'nsation']=!!_0xe12af0['scaleCompe'+'nsation'],_0x15f758['push'](_0x2bb219);}for(_0x380d1a=0x2*0x1312+0x25f3+-0x2*0x260b;_0x380d1a<_0x48f7c2['parents']['length'];_0x380d1a++)_0x15f758[_0x48f7c2['parents'][_0x380d1a]]['addChild'](_0x15f758[_0x380d1a]);return _0x15f758;}['_parseSkin'+'s'](_0x24ee21,_0x25351){const _0x33b6bd=_0x24ee21['model'],_0x4cae2e=[],_0x535761=[];let _0xa356f7,_0x45ff6d;for(_0xa356f7=0x1a81+-0x101*0x1+-0x1980;_0xa356f7<_0x33b6bd['skins']['length'];_0xa356f7++){const _0x5f1674=_0x33b6bd['skins'][_0xa356f7],_0x5dd724=[];for(_0x45ff6d=0xd7c+-0x2032+0x12b6;_0x45ff6d<_0x5f1674['inverseBin'+'dMatrices']['length'];_0x45ff6d++){const _0x53e575=_0x5f1674['inverseBin'+'dMatrices'][_0x45ff6d];_0x5dd724[_0x45ff6d]=new te()['set'](_0x53e575);}const _0x2219e9=new Lv(this['_device'],_0x5dd724,_0x5f1674['boneNames']);_0x4cae2e['push'](_0x2219e9);const _0x3fffca=new Ol(_0x2219e9),_0x1817e0=[];for(_0x45ff6d=-0xe8*-0x22+0x7*-0x2bc+-0x14c*0x9;_0x45ff6d<_0x2219e9['boneNames']['length'];_0x45ff6d++){const _0xa6c3cd=_0x2219e9['boneNames'][_0x45ff6d],_0x16e52a=_0x25351[0xbda*-0x1+0x1e43+-0x1269*0x1]['findByName'](_0xa6c3cd);_0x1817e0['push'](_0x16e52a);}_0x3fffca['bones']=_0x1817e0,_0x535761['push'](_0x3fffca);}return{'skins':_0x4cae2e,'instances':_0x535761};}['_getMorphV'+'ertexCount'](_0x56c256,_0x55121b,_0x13d340){for(let _0x20a35c=0x1b9+-0x26*0xf7+0x22f1;_0x20a35c<_0x56c256['meshes']['length'];_0x20a35c++){const _0x4b902a=_0x56c256['meshes'][_0x20a35c];if(_0x4b902a['morph']===_0x55121b)return _0x13d340[_0x4b902a['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x254b89,_0x223905,_0xa45239){const _0x3f4a75=_0x254b89['model'],_0x1416d6=[],_0x23af57=[];let _0x33790b,_0x51fc22,_0x2d1765,_0x23f7c0,_0x31b8f0,_0x4c53be;if(_0x3f4a75['morphs']){const _0x4e868e=function(_0x449f06,_0x43692b,_0xce6e1f){const _0x32f6ed=new Float32Array(_0xce6e1f*(-0x1c69+-0x5*-0x1a5+-0x1433*-0x1));for(let _0x333100=0x4b*-0x53+0x263d+0x6c*-0x21;_0x333100<_0x43692b['length'];_0x333100++){const _0x57973c=_0x43692b[_0x333100]*(0x7ad*-0x1+0x1d14+-0x1564);_0x32f6ed[_0x57973c]=_0x449f06[_0x333100*(0xfcb*-0x2+-0xbb5+0x15a7*0x2)],_0x32f6ed[_0x57973c+(0x3*0x2e7+-0x195e+-0x58e*-0x3)]=_0x449f06[_0x333100*(0xd3f+0x7*-0x303+0x7d9)+(-0x1*-0x2cf+0x129f+-0x5*0x449)],_0x32f6ed[_0x57973c+(0x205a+0x2431+-0x4489)]=_0x449f06[_0x333100*(-0x673+0x22*0xb2+-0x2dd*0x6)+(-0xb*-0x47+0x106c*-0x1+-0x19*-0x89)];}return _0x32f6ed;};for(_0x33790b=-0x835+0x26cb+-0x1e96;_0x33790b<_0x3f4a75['morphs']['length'];_0x33790b++){for(_0x23f7c0=_0x3f4a75['morphs'][_0x33790b]['targets'],_0x4c53be=[],_0x2d1765=this['_getMorphV'+'ertexCount'](_0x3f4a75,_0x33790b,_0xa45239),_0x51fc22=-0x1*0x263f+0x10c9+0x1576;_0x51fc22<_0x23f7c0['length'];_0x51fc22++){const _0x55ddca=_0x23f7c0[_0x51fc22]['aabb'],_0x395dc2=_0x55ddca['min'],_0x58c0ba=_0x55ddca['max'],_0x33f76b=new De(new D((_0x58c0ba[-0x2099*0x1+0x116e+0xf2b]+_0x395dc2[0x115b+-0x229a+-0x5*-0x373])*(0x41+-0x1b9e+0x5*0x579+0.5),(_0x58c0ba[0x1*0x12e5+-0xa17+-0x8cd*0x1]+_0x395dc2[-0x38f*0x1+-0x17fb+0x1*0x1b8b])*(0x9f2+-0x253e+-0x6d3*-0x4+0.5),(_0x58c0ba[0x9*-0x47+-0x145e+0x16df*0x1]+_0x395dc2[-0xb*0x3b+0x14f7+-0x126c])*(-0x1*0x1a7d+-0x1333+0x2db0*0x1+0.5)),new D((_0x58c0ba[-0xa*-0x342+0x4*-0x6ad+0x2*-0x2f0]-_0x395dc2[0xec2*-0x1+0x116*-0x3+0x1204])*(0xe3*-0x25+-0x29*0x80+-0x11c5*-0x3+0.5),(_0x58c0ba[-0x2372*-0x1+0x119e+-0x350f]-_0x395dc2[0x87d*0x3+-0x3*0x38c+-0xed2])*(0x22f*0x3+0x2fe*-0x1+-0x38f+0.5),(_0x58c0ba[0x1ab9+-0x1*-0x823+0x6*-0x5cf]-_0x395dc2[0x1*-0x1937+-0xd6a+0x9*0x44b])*(0x1*-0x459+0x42c+0x2d+0.5))),_0x4b8353=_0x23f7c0[_0x51fc22]['indices'];let _0x11277d=_0x23f7c0[_0x51fc22]['deltaPosit'+'ions'],_0x1d85d5=_0x23f7c0[_0x51fc22]['deltaNorma'+'ls'];_0x4b8353&&(_0x11277d=_0x4e868e(_0x11277d,_0x4b8353,_0x2d1765),_0x1d85d5=_0x4e868e(_0x1d85d5,_0x4b8353,_0x2d1765)),_0x31b8f0=new Md({'deltaPositions':_0x11277d,'deltaNormals':_0x1d85d5,'name':_0x23f7c0[_0x51fc22]['name'],'aabb':_0x33f76b}),_0x4c53be['push'](_0x31b8f0);}const _0x177f8b=new mm(_0x4c53be,this['_device']);_0x1416d6['push'](_0x177f8b);const _0x5b67db=new xa(_0x177f8b);_0x23af57['push'](_0x5b67db);}}return{'morphs':_0x1416d6,'instances':_0x23af57};}['_parseVert'+'exBuffers'](_0x4f471a){const _0x314cca=_0x4f471a['model'],_0x138329=[],_0x5a7ddd={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x3e23e4=-0x81e+-0x5f6+0x2*0x70a;_0x3e23e4<_0x314cca['vertices']['length'];_0x3e23e4++){const _0x21eb82=_0x314cca['vertices'][_0x3e23e4],_0x4dac81=[];for(const _0x170dc1 in _0x21eb82){const _0x221a3d=_0x21eb82[_0x170dc1];_0x4dac81['push']({'semantic':_0x5a7ddd[_0x170dc1],'components':_0x221a3d['components'],'type':Tk[_0x221a3d['type']],'normalize':_0x5a7ddd[_0x170dc1]===Wt});}const _0x52a3c4=new kt(this['_device'],_0x4dac81),_0x3a3cda=_0x21eb82['position']['data']['length']/_0x21eb82['position']['components'],_0x41936c=new Is(this['_device'],_0x52a3c4,_0x3a3cda),_0x56e2e3=new Uo(_0x41936c);for(let _0x13e740=0xeae*-0x1+-0xa1c+0x18ca;_0x13e740<_0x3a3cda;_0x13e740++){for(const _0xac7334 in _0x21eb82){const _0x40a010=_0x21eb82[_0xac7334];switch(_0x40a010['components']){case-0x26a9*0x1+0x23e*0x11+0x8c:_0x56e2e3['element'][_0x5a7ddd[_0xac7334]]['set'](_0x40a010['data'][_0x13e740]);break;case-0x3*-0x53+0x14bd+-0x15b4:_0x56e2e3['element'][_0x5a7ddd[_0xac7334]]['set'](_0x40a010['data'][_0x13e740*(-0x3a0*-0x6+0x21f+-0x17dd)],-0x2c*0x67+-0x711+-0x421*-0x6-_0x40a010['data'][_0x13e740*(-0x1f1+0xdb6+-0xbc3)+(-0xff*0x1a+-0x301*-0x1+0x16e6)]);break;case 0x1*-0x2d3+-0xd49+-0x1*-0x101f:_0x56e2e3['element'][_0x5a7ddd[_0xac7334]]['set'](_0x40a010['data'][_0x13e740*(-0x2*-0x102f+-0x1161*0x1+-0xefa)],_0x40a010['data'][_0x13e740*(-0x1450+0x79a+0xcb9)+(0x283*-0x7+-0x1696+0x282c)],_0x40a010['data'][_0x13e740*(-0x1*0x16d9+-0x1d44*0x1+-0x2*-0x1a10)+(0x1835*-0x1+0xf5a+0x1*0x8dd)]);break;case-0xf*-0x1ce+-0x1d74+0x266:_0x56e2e3['element'][_0x5a7ddd[_0xac7334]]['set'](_0x40a010['data'][_0x13e740*(-0x1d99+0x1*0x1991+0x40c)],_0x40a010['data'][_0x13e740*(0xb0a+0x811+-0x1317)+(-0xcf0+0x9*0x89+0x820)],_0x40a010['data'][_0x13e740*(-0x1*0x8ef+-0x2670+0x2f63)+(-0x1807*-0x1+0x228f+-0x28c*0x17)],_0x40a010['data'][_0x13e740*(-0x2ae+0x1fbf+0x9af*-0x3)+(0x17b9+-0xcab+-0xb0b)]);break;}}_0x56e2e3['next']();}_0x56e2e3['end'](),_0x138329['push'](_0x41936c);}return _0x138329;}['_parseInde'+'xBuffers'](_0x215b25,_0x3db589){const _0x120dfc=_0x215b25['model'];let _0x10edc0=null,_0x36aee6=null,_0x25c00e,_0xa7d05b=0x1*0x1e05+-0x2fd+-0x28*0xad;for(_0x25c00e=0x5a6*-0x1+0xc*-0x2c9+0x2712*0x1;_0x25c00e<_0x120dfc['meshes']['length'];_0x25c00e++){const _0x51973e=_0x120dfc['meshes'][_0x25c00e];_0x51973e['indices']!==void(0x213c+0x1d4a+-0x1*0x3e86)&&(_0xa7d05b+=_0x51973e['indices']['length']);}let _0x67863e=-0x7d*-0x5+-0x1639+0x13c8;for(_0x25c00e=0x6f+0x5a5+0x4*-0x185;_0x25c00e<_0x3db589['length'];_0x25c00e++)_0x67863e=Math['max'](_0x67863e,_0x3db589[_0x25c00e]['numVertice'+'s']);return _0xa7d05b>-0x1cf2+-0x26ef+0x43e1&&(_0x67863e>-0x269*0x7+-0xbdc6+0x1cea4?(_0x10edc0=new br(this['_device'],wr,_0xa7d05b),_0x36aee6=new Uint32Array(_0x10edc0['lock']())):(_0x10edc0=new br(this['_device'],Yi,_0xa7d05b),_0x36aee6=new Uint16Array(_0x10edc0['lock']()))),{'buffer':_0x10edc0,'data':_0x36aee6};}['_parseMesh'+'es'](_0x5e7d5a,_0x13e583,_0x9d3266,_0x10c96f,_0x4182b7,_0x2703c6){const _0x4b6388=_0x5e7d5a['model'],_0x464ead=[];let _0x55fcd0=-0x2bf*-0x8+-0xffd+-0x5fb;for(let _0x250bdb=-0x428+0x519+0xf1*-0x1;_0x250bdb<_0x4b6388['meshes']['length'];_0x250bdb++){const _0x50c7c3=_0x4b6388['meshes'][_0x250bdb],_0x459abf=_0x50c7c3['aabb'],_0x56d261=_0x459abf['min'],_0x4e25a4=_0x459abf['max'],_0x372232=new De(new D((_0x4e25a4[0x491+0x1566+-0x19f7]+_0x56d261[0x1*0x1744+0x308+-0x16*0x132])*(-0x182d+0xd80+0x3*0x38f+0.5),(_0x4e25a4[0x222f+0x1336+-0x3564]+_0x56d261[-0x194f+-0x8b7+-0x1*-0x2207])*(-0x1*-0xb5c+-0x14cf+-0x1*-0x973+0.5),(_0x4e25a4[-0x2545+0xabe+0x1a89]+_0x56d261[0x1*-0x1148+-0x1ab9*-0x1+0x7*-0x159])*(-0x2416+0x2492+0x7c*-0x1+0.5)),new D((_0x4e25a4[-0x24d5+0xf93+0x3*0x716]-_0x56d261[-0x1495+0x1f12+-0x5*0x219])*(-0x22f*0x1+-0x7*-0x30b+-0x2*0x98f+0.5),(_0x4e25a4[0x2209+-0x377*-0x5+-0x335b*0x1]-_0x56d261[-0x1a69*-0x1+-0xc33+0x1*-0xe35])*(-0x122e+-0x16f7*0x1+-0x2925*-0x1+0.5),(_0x4e25a4[-0x22c4+-0x8f3+0x111*0x29]-_0x56d261[0x2b*0x70+-0x1ed4+0xc06])*(-0x1*-0x17a3+0x18fd+-0x30a0+0.5))),_0x37f2f8=_0x50c7c3['indices']!==void(-0xacb+-0x5a5+0x20e*0x8),_0xcd8bab=new Ge(this['_device']);_0xcd8bab['vertexBuff'+'er']=_0x10c96f[_0x50c7c3['vertices']],_0xcd8bab['indexBuffe'+'r'][0xb0*0x13+-0x1*0x5e+-0xcb2]=_0x37f2f8?_0x4182b7:null,_0xcd8bab['primitive'][-0x17a8+-0x1*0x961+0x2109]['type']=xk[_0x50c7c3['type']],_0xcd8bab['primitive'][-0x17e5+0x26d8*-0x1+0x3ebd*0x1]['base']=_0x37f2f8?_0x50c7c3['base']+_0x55fcd0:_0x50c7c3['base'],_0xcd8bab['primitive'][-0x13*-0x13d+-0x2545+0x6df*0x2]['count']=_0x50c7c3['count'],_0xcd8bab['primitive'][-0xc*-0x7+0x82c+-0x880]['indexed']=_0x37f2f8,_0xcd8bab['skin']=_0x50c7c3['skin']!==void(0x2d*0xd+-0x19*-0x101+0x5*-0x57a)?_0x13e583[_0x50c7c3['skin']]:null,_0xcd8bab['morph']=_0x50c7c3['morph']!==void(-0x1e32+0xf0d*0x1+0x1*0xf25)?_0x9d3266[_0x50c7c3['morph']]:null,_0xcd8bab['aabb']=_0x372232,_0x37f2f8&&(_0x2703c6['set'](_0x50c7c3['indices'],_0x55fcd0),_0x55fcd0+=_0x50c7c3['indices']['length']),_0x464ead['push'](_0xcd8bab);}return _0x4182b7!==null&&_0x4182b7['unlock'](),_0x464ead;}['_parseMesh'+'Instances'](_0x320446,_0x524a03,_0x5028f0,_0x11f80c,_0x3eeed6,_0x165409,_0x262a0b){const _0x449c2e=_0x320446['model'],_0xa4ab53=[];let _0x58bcee;for(_0x58bcee=0x7*0x122+-0x4f*-0x3+-0x8db*0x1;_0x58bcee<_0x449c2e['meshInstan'+'ces']['length'];_0x58bcee++){const _0xf90e22=_0x449c2e['meshInstan'+'ces'][_0x58bcee],_0x5613ac=_0x524a03[_0xf90e22['node']],_0x251566=_0x5028f0[_0xf90e22['mesh']],_0xb5f73c=new He(_0x251566,this['_defaultMa'+'terial'],_0x5613ac);if(_0x251566['skin']){const _0x38249e=_0x11f80c['indexOf'](_0x251566['skin']);if(_0x38249e===-(0x1*0xf26+-0x1*0x15e4+-0x1*-0x6bf))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0xb5f73c['skinInstan'+'ce']=_0x3eeed6[_0x38249e];}if(_0x251566['morph']){const _0x2bfa3b=_0x165409['indexOf'](_0x251566['morph']);if(_0x2bfa3b===-(0x64*0x2c+-0x2f4+0x1*-0xe3b))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0xb5f73c['morphInsta'+'nce']=_0x262a0b[_0x2bfa3b];}_0xa4ab53['push'](_0xb5f73c);}return _0xa4ab53;}}class Ek extends Qe{constructor(_0x141e63){super(_0x141e63,'model'),this['_parsers']=[],this['device']=_0x141e63['graphicsDe'+'vice'],this['assets']=_0x141e63['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x580407,_0x3f76aa)=>xe['getExtensi'+'on'](_0x580407)==='.json'),this['addParser'](new vk(this),(_0x400e44,_0xf4d89e)=>xe['getExtensi'+'on'](_0x400e44)==='.glb');}['load'](_0x444e3a,_0x461374,_0x543d4b){typeof _0x444e3a=='string'&&(_0x444e3a={'load':_0x444e3a,'original':_0x444e3a});const _0x1b196e={'retry':this['maxRetries']>-0x3e2*-0x1+-0x1296+0xeb4,'maxRetries':this['maxRetries']};(_0x444e3a['load']['startsWith']('blob:')||_0x444e3a['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x444e3a['original'])['toLowerCas'+'e']()==='.glb'?_0x1b196e['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1b196e['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x444e3a['load'],_0x1b196e,(_0x375d36,_0x221ec1)=>{if(_0x461374){if(_0x375d36)_0x461374('Error\x20load'+'ing\x20model:'+'\x20'+_0x444e3a['original']+'\x20['+_0x375d36+']');else{for(let _0x5e244d=-0x6*-0x3f3+0xc5*0x1a+-0x2bb4;_0x5e244d<this['_parsers']['length'];_0x5e244d++){const _0x29e9b7=this['_parsers'][_0x5e244d];if(_0x29e9b7['decider'](_0x444e3a['original'],_0x221ec1)){_0x29e9b7['parser']['parse'](_0x221ec1,(_0xc13bdf,_0x127397)=>{_0xc13bdf?_0x461374(_0xc13bdf):_0x461374(null,_0x127397);},_0x543d4b);return;}}_0x461374('No\x20parsers'+'\x20found');}}});}['open'](_0x1a9b73,_0x4d712d){return _0x4d712d;}['patch'](_0x580162,_0x36ddcd){if(!_0x580162['resource'])return;const _0x45fbbc=_0x580162['data'],_0x43098b=this;_0x580162['resource']['meshInstan'+'ces']['forEach']((_0x42c59,_0x383f15)=>{if(_0x45fbbc['mapping']){const _0x257f01=function(_0x1813a8){_0x1813a8['resource']?_0x42c59['material']=_0x1813a8['resource']:(_0x1813a8['once']('load',_0x257f01),_0x36ddcd['load'](_0x1813a8)),_0x1813a8['once']('remove',_0x3b30c2=>{_0x42c59['material']===_0x3b30c2['resource']&&(_0x42c59['material']=_0x43098b['defaultMat'+'erial']);});};if(!_0x45fbbc['mapping'][_0x383f15]){_0x42c59['material']=_0x43098b['defaultMat'+'erial'];return;}const _0x5aea13=_0x45fbbc['mapping'][_0x383f15]['material'],_0x43e8f4=_0x45fbbc['mapping'][_0x383f15]['path'];let _0x156960;if(_0x5aea13!==void(-0xb1+0x1a3e+-0x198d))_0x5aea13?(_0x156960=_0x36ddcd['get'](_0x5aea13),_0x156960?_0x257f01(_0x156960):_0x36ddcd['once']('add:'+_0x5aea13,_0x257f01)):_0x42c59['material']=_0x43098b['defaultMat'+'erial'];else{if(_0x43e8f4){const _0xeeea87=_0x580162['getAbsolut'+'eUrl'](_0x45fbbc['mapping'][_0x383f15]['path']);_0x156960=_0x36ddcd['getByUrl'](_0xeeea87),_0x156960?_0x257f01(_0x156960):_0x36ddcd['once']('add:url:'+_0xeeea87,_0x257f01);}}}});}['addParser'](_0x5044ed,_0x21be1c){this['_parsers']['push']({'parser':_0x5044ed,'decider':_0x21be1c});}}class bk extends Qe{constructor(_0x3a8bb8){super(_0x3a8bb8,'scene');}['load'](_0x521917,_0x797ded){E0['load'](_0x521917,this['maxRetries'],_0x797ded);}['open'](_0x30af7a,_0x56bb2e){this['_app']['systems']['script']['preloading']=!(0xc4c+0x19*-0x1+0xc33*-0x1);const _0x3588de=new bm(this['_app'],!(-0x10fd+-0x845*0x2+0x2188))['parse'](_0x56bb2e),_0x32668e=this['_app']['scene'];return _0x32668e['root']=_0x3588de,this['_app']['applyScene'+'Settings'](_0x56bb2e['settings']),this['_app']['systems']['script']['preloading']=!(0x1*-0x12ef+-0x6a6+0x1996),_0x32668e;}}const qh=class qh{static['push'](_0x5bb650){qh['_types']['push'](_0x5bb650);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x27c565,_0x24c658,_0x13ce0b)=>{Ck[_0x27c565]=0x16f*-0x2+-0x21b9+0x8*0x493;});function Pk(_0x4d0e80,_0xc8264f,_0x3ee0da){if(typeof _0x4d0e80!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x4d0e80+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x4d0e80['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x4d0e80)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0xc8264f=_0xc8264f||_0x4d0e80['__name']||Wo['__getScrip'+'tName'](_0x4d0e80),Ak['has'](_0xc8264f))throw new Error('script\x20nam'+'e:\x20\x27'+_0xc8264f+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x4d0e80['__name']=_0xc8264f,Ks['getApplica'+'tion']()['scripts']['add'](_0x4d0e80),aa['push'](_0x4d0e80);}const Mk=_0x6b71e7=>_0x6b71e7[-0x1c35+0x11*0x8a+0x130b]['toLowerCas'+'e']()+_0x6b71e7['substring'](-0xe*-0x277+-0x743*0x2+-0x5*0x3ff);class Dk extends Qe{constructor(_0x30a2b9){super(_0x30a2b9,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x10907d in this['_cache']){const _0x36e871=this['_cache'][_0x10907d],_0x524eb9=_0x36e871['parentNode'];_0x524eb9&&_0x524eb9['removeChil'+'d'](_0x36e871);}this['_cache']={};}['load'](_0x57b139,_0x5ecc82){typeof _0x57b139=='string'&&(_0x57b139={'load':_0x57b139,'original':_0x57b139});const _0x330a84=this;this['_app'];const _0x25f1e2=(_0x57b139['load'],(_0x18d565,_0x5a55d1,_0x18060c)=>{if(_0x18d565)_0x5ecc82(_0x18d565);else{const _0x51b740={};for(let _0x4cf351=0x1f7f+0xb24*-0x3+0x1ed;_0x4cf351<aa['_types']['length'];_0x4cf351++)_0x51b740[aa['_types'][_0x4cf351]['name']]=aa['_types'][_0x4cf351];aa['_types']['length']=-0x4*-0x979+0x2475*0x1+-0x7*0xa9f,_0x5ecc82(null,_0x51b740,_0x18060c);const _0x1e03ef=_0x5a55d1['split']('&hash=')[-0x1*-0x315+-0x2*-0x273+-0x1*0x7fb];delete _0x330a84['_loader']['_cache'][Cn['makeKey'](_0x1e03ef,'script')];}}),[_0x4aaf2b]=_0x57b139['load']['split']('?');_0x4aaf2b['endsWith']('.mjs')?this['_loadModul'+'e'](_0x4aaf2b,_0x25f1e2):this['_loadScrip'+'t'](_0x57b139['load'],_0x25f1e2);}['open'](_0x4ae48f,_0x3cdc73){return _0x3cdc73;}['patch'](_0x4cd123,_0x37ce12){}['_loadScrip'+'t'](_0x452d68,_0x3ec82a){const _0x4ee773=document['head'],_0x15032b=document['createElem'+'ent']('script');this['_cache'][_0x452d68]=_0x15032b,_0x15032b['async']=!(-0x55c+0x1*0x15cb+-0x106e),_0x15032b['addEventLi'+'stener']('error',_0x176254=>{_0x3ec82a('Script:\x20'+_0x176254['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0xe*-0xbb+-0x11cf+0x796*0x1));let _0x130c59=!(0x1*0x1976+0x161*-0x13+-0x1*-0xbe);_0x15032b['onload']=_0x15032b['onreadysta'+'techange']=function(){!_0x130c59&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x130c59=!(0xd69*-0x1+0x5c6+-0x5*-0x187),_0x3ec82a(null,_0x452d68,_0x15032b));},_0x15032b['src']=_0x452d68,_0x4ee773['appendChil'+'d'](_0x15032b);}['_loadModul'+'e'](_0x1671d6,_0x373ac5){const _0x12061e=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x16a0f7=new URL(_0x1671d6,_0x12061e);import(_0x16a0f7['toString']())['then'](_0x4f8aef=>{var _0x313041,_0x217fab;const _0x59c6db=_0x16a0f7['pathname']['split']('/')['pop'](),_0x2e6a74=(_0x217fab=(_0x313041=this['_app']['assets']['find'](_0x59c6db,'script'))==null?void(0x46c*0x7+0x127*-0x2+-0x1ca6):_0x313041['data'])==null?void(-0x8ad*0x3+0x14fc+-0x50b*-0x1):_0x217fab['scripts'];for(const _0x5b610e in _0x4f8aef){const _0x16c902=_0x4f8aef[_0x5b610e];if(_0x16c902['prototype']instanceof ts){const _0x54155a=Mk(_0x16c902['name']);_0x16c902['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x16c902['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x16c902['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x54155a+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x12cae1=_0x16c902['scriptName']??_0x54155a;Pk(_0x16c902,_0x12cae1),_0x2e6a74&&this['_app']['scripts']['addSchema'](_0x12cae1,_0x2e6a74[_0x12cae1]);}}_0x373ac5(null,_0x1671d6,null);})['catch'](_0x398f97=>{_0x373ac5(_0x398f97);});}}class Ik extends Qe{constructor(_0x53a46d){super(_0x53a46d,'shader'),h(this,'decoder',null);}['load'](_0x5abe6e,_0xbf82a2){typeof _0x5abe6e=='string'&&(_0x5abe6e={'load':_0x5abe6e,'original':_0x5abe6e}),ot['get'](_0x5abe6e['load'],{'retry':this['maxRetries']>-0x2087+0xb*-0x31c+0x1*0x42bb,'maxRetries':this['maxRetries']},(_0x16aab2,_0x4ad97b)=>{_0x16aab2?_0xbf82a2('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x5abe6e['original']+'\x20['+_0x16aab2+']'):_0xbf82a2(null,_0x4ad97b);});}['openBinary'](_0x25f456){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x25f456);}}function Pf(_0x48e5e8){const _0x56b74a=this;_0x56b74a['resource']&&(_0x56b74a['resource']['atlas']=_0x48e5e8['resource']);}function Mf(_0x52bb9a){this['registry']['load'](_0x52bb9a);}class Lk extends Qe{constructor(_0x1882c1){super(_0x1882c1,'sprite'),this['_assets']=_0x1882c1['assets'],this['_device']=_0x1882c1['graphicsDe'+'vice'];}['load'](_0x57c3f9,_0x10f3a2){typeof _0x57c3f9=='string'&&(_0x57c3f9={'load':_0x57c3f9,'original':_0x57c3f9}),xe['getExtensi'+'on'](_0x57c3f9['original'])==='.json'&&ot['get'](_0x57c3f9['load'],{'retry':this['maxRetries']>-0xc7+-0x17f7+0x1*0x18be,'maxRetries':this['maxRetries']},(_0x520395,_0x1189be)=>{_0x520395?_0x10f3a2(_0x520395):_0x10f3a2(null,_0x1189be);});}['open'](_0x94d8ce,_0x36f974){const _0x4f5475=new BA(this['_device']);return _0x94d8ce&&(_0x4f5475['__data']=_0x36f974),_0x4f5475;}['patch'](_0x29d312,_0x246d05){const _0x8643d7=_0x29d312['resource'];if(_0x8643d7['__data']&&(_0x29d312['data']['pixelsPerU'+'nit']=_0x8643d7['__data']['pixelsPerU'+'nit'],_0x29d312['data']['renderMode']=_0x8643d7['__data']['renderMode'],_0x29d312['data']['frameKeys']=_0x8643d7['__data']['frameKeys'],_0x8643d7['__data']['textureAtl'+'asAsset'])){const _0xf0d486=_0x246d05['getByUrl'](_0x8643d7['__data']['textureAtl'+'asAsset']);_0xf0d486?_0x29d312['data']['textureAtl'+'asAsset']=_0xf0d486['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x8643d7['__data']['textureAtl'+'asAsset']);}_0x8643d7['startUpdat'+'e'](),_0x8643d7['renderMode']=_0x29d312['data']['renderMode'],_0x8643d7['pixelsPerU'+'nit']=_0x29d312['data']['pixelsPerU'+'nit'],_0x8643d7['frameKeys']=_0x29d312['data']['frameKeys'],this['_updateAtl'+'as'](_0x29d312),_0x8643d7['endUpdate'](),_0x29d312['off']('change',this['_onAssetCh'+'ange'],this),_0x29d312['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x427a2b){const _0x848b84=_0x427a2b['resource'];if(!_0x427a2b['data']['textureAtl'+'asAsset']){_0x848b84['atlas']=null;return;}this['_assets']['off']('load:'+_0x427a2b['data']['textureAtl'+'asAsset'],Pf,_0x427a2b),this['_assets']['on']('load:'+_0x427a2b['data']['textureAtl'+'asAsset'],Pf,_0x427a2b);const _0x17a4dd=this['_assets']['get'](_0x427a2b['data']['textureAtl'+'asAsset']);_0x17a4dd&&_0x17a4dd['resource']?_0x848b84['atlas']=_0x17a4dd['resource']:_0x17a4dd?this['_assets']['load'](_0x17a4dd):(this['_assets']['off']('add:'+_0x427a2b['data']['textureAtl'+'asAsset'],Mf,_0x427a2b),this['_assets']['on']('add:'+_0x427a2b['data']['textureAtl'+'asAsset'],Mf,_0x427a2b));}['_onAssetCh'+'ange'](_0x363c2e,_0x1c083e,_0x20149a,_0x1bf25e){_0x1c083e==='data'&&_0x20149a&&_0x20149a['textureAtl'+'asAsset']&&_0x1bf25e&&_0x20149a['textureAtl'+'asAsset']!==_0x1bf25e['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x1bf25e['textureAtl'+'asAsset'],Pf,_0x363c2e),this['_assets']['off']('add:'+_0x1bf25e['textureAtl'+'asAsset'],Mf,_0x363c2e));}}class vS{constructor(_0x22f0d6,_0x341135){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x22f0d6,this['_data']=_0x341135);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x49fd3e=new bm(this['_app'],!(0x3*-0x61d+0x61*-0x35+-0x2*-0x1336));this['_templateR'+'oot']=_0x49fd3e['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x5cec02){super(_0x5cec02,'template'),h(this,'decoder',null);}['load'](_0x18388b,_0x2e41b1){typeof _0x18388b=='string'&&(_0x18388b={'load':_0x18388b,'original':_0x18388b});const _0x3d6875={'retry':this['maxRetries']>0x22ce+0xd21+-0x7*0x6d9,'maxRetries':this['maxRetries']};ot['get'](_0x18388b['load'],_0x3d6875,(_0x7c992,_0x2c35c0)=>{_0x7c992?_0x2e41b1('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x18388b['original']):_0x2e41b1(_0x7c992,_0x2c35c0);});}['open'](_0x2af28a,_0x332026){return new vS(this['_app'],_0x332026);}['openBinary'](_0x5d868f){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x5d868f)));}}class Ok extends Qe{constructor(_0x10f57a){super(_0x10f57a,'text'),h(this,'decoder',null);}['load'](_0x3adf67,_0x431b81){typeof _0x3adf67=='string'&&(_0x3adf67={'load':_0x3adf67,'original':_0x3adf67}),ot['get'](_0x3adf67['load'],{'retry':this['maxRetries']>0x8*-0x4a5+-0x2635+0x4b5d,'maxRetries':this['maxRetries']},(_0x5d54ba,_0x2b80d7)=>{_0x5d54ba?_0x431b81('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x3adf67['original']+'\x20['+_0x5d54ba+']'):_0x431b81(null,_0x2b80d7);});}['openBinary'](_0x365309){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x365309);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x327f34){super(_0x327f34,'textureatl'+'as'),this['_loader']=_0x327f34['loader'];}['load'](_0x5ae276,_0x3c813c){typeof _0x5ae276=='string'&&(_0x5ae276={'load':_0x5ae276,'original':_0x5ae276});const _0x3e0925=this,_0x436e69=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x5ae276['original'])==='.json'?ot['get'](_0x5ae276['load'],{'retry':this['maxRetries']>0x90b*-0x1+0x17cd+-0xec2*0x1,'maxRetries':this['maxRetries']},(_0x42fb6b,_0x58ad72)=>{if(_0x42fb6b)_0x3c813c(_0x42fb6b);else{const _0xdfbd78=_0x5ae276['original']['replace']('.json','.png');_0x3e0925['_loader']['load'](_0xdfbd78,'texture',(_0x24f2fd,_0x17c69a)=>{_0x24f2fd?_0x3c813c(_0x24f2fd):_0x3c813c(null,{'data':_0x58ad72,'texture':_0x17c69a});});}}):_0x436e69['load'](_0x5ae276,_0x3c813c);}['open'](_0x5673fc,_0x228eab,_0x1e444e){const _0x1998c2=new zA();if(_0x228eab['texture']&&_0x228eab['data'])_0x1998c2['texture']=_0x228eab['texture'],_0x1998c2['__data']=_0x228eab['data'];else{const _0x4cca33=this['_loader']['getHandler']('texture')['open'](_0x5673fc,_0x228eab,_0x1e444e);if(!_0x4cca33)return null;_0x1998c2['texture']=_0x4cca33;}return _0x1998c2;}['patch'](_0x581490,_0x1a5edf){if(!_0x581490['resource'])return;_0x581490['resource']['__data']&&(_0x581490['resource']['__data']['minfilter']!==void(-0x3*-0x585+0xd*-0x158+-0x1*-0xe9)&&(_0x581490['data']['minfilter']=_0x581490['resource']['__data']['minfilter']),_0x581490['resource']['__data']['magfilter']!==void(-0x1*-0xde5+0x1f15+-0x26*0x12f)&&(_0x581490['data']['magfilter']=_0x581490['resource']['__data']['magfilter']),_0x581490['resource']['__data']['addressu']!==void(-0x265*0x1+-0x1677+0x18dc)&&(_0x581490['data']['addressu']=_0x581490['resource']['__data']['addressu']),_0x581490['resource']['__data']['addressv']!==void(0x71d+0x23bc*0x1+-0x2ad9*0x1)&&(_0x581490['data']['addressv']=_0x581490['resource']['__data']['addressv']),_0x581490['resource']['__data']['mipmaps']!==void(-0x1d3f+-0x63d*0x4+-0xf*-0x39d)&&(_0x581490['data']['mipmaps']=_0x581490['resource']['__data']['mipmaps']),_0x581490['resource']['__data']['anisotropy']!==void(-0xfde+-0x2009+0x2fe7*0x1)&&(_0x581490['data']['anisotropy']=_0x581490['resource']['__data']['anisotropy']),_0x581490['resource']['__data']['rgbm']!==void(-0x2*-0xbe9+0x228f*-0x1+0xabd*0x1)&&(_0x581490['data']['rgbm']=!!_0x581490['resource']['__data']['rgbm']),_0x581490['data']['frames']=_0x581490['resource']['__data']['frames'],delete _0x581490['resource']['__data']);const _0x2e4aaf=_0x581490['resource']['texture'];if(_0x2e4aaf&&(_0x2e4aaf['name']=_0x581490['name'],_0x581490['data']['hasOwnProp'+'erty']('minfilter')&&_0x2e4aaf['minFilter']!==Lc[_0x581490['data']['minfilter']]&&(_0x2e4aaf['minFilter']=Lc[_0x581490['data']['minfilter']]),_0x581490['data']['hasOwnProp'+'erty']('magfilter')&&_0x2e4aaf['magFilter']!==Lc[_0x581490['data']['magfilter']]&&(_0x2e4aaf['magFilter']=Lc[_0x581490['data']['magfilter']]),_0x581490['data']['hasOwnProp'+'erty']('addressu')&&_0x2e4aaf['addressU']!==Ic[_0x581490['data']['addressu']]&&(_0x2e4aaf['addressU']=Ic[_0x581490['data']['addressu']]),_0x581490['data']['hasOwnProp'+'erty']('addressv')&&_0x2e4aaf['addressV']!==Ic[_0x581490['data']['addressv']]&&(_0x2e4aaf['addressV']=Ic[_0x581490['data']['addressv']]),_0x581490['data']['hasOwnProp'+'erty']('mipmaps')&&_0x2e4aaf['mipmaps']!==_0x581490['data']['mipmaps']&&(_0x2e4aaf['mipmaps']=_0x581490['data']['mipmaps']),_0x581490['data']['hasOwnProp'+'erty']('anisotropy')&&_0x2e4aaf['anisotropy']!==_0x581490['data']['anisotropy']&&(_0x2e4aaf['anisotropy']=_0x581490['data']['anisotropy']),_0x581490['data']['hasOwnProp'+'erty']('rgbm'))){const _0x36f2e5=_0x581490['data']['rgbm']?Zi:Ds;_0x2e4aaf['type']!==_0x36f2e5&&(_0x2e4aaf['type']=_0x36f2e5);}_0x581490['resource']['texture']=_0x2e4aaf;const _0x47eb4f={};for(const _0x4efd14 in _0x581490['data']['frames']){const _0x3c01a0=_0x581490['data']['frames'][_0x4efd14];_0x47eb4f[_0x4efd14]={'rect':new re(_0x3c01a0['rect']),'pivot':new J(_0x3c01a0['pivot']),'border':new re(_0x3c01a0['border'])};}_0x581490['resource']['frames']=_0x47eb4f,_0x581490['off']('change',this['_onAssetCh'+'ange'],this),_0x581490['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x2aa564,_0x306b57,_0xb20d80){let _0x40838e;if(_0x306b57==='data'||_0x306b57==='data.frame'+'s'){const _0x4791cb={};for(const _0x1f0b9f in _0xb20d80['frames'])_0x40838e=_0xb20d80['frames'][_0x1f0b9f],_0x4791cb[_0x1f0b9f]={'rect':new re(_0x40838e['rect']),'pivot':new J(_0x40838e['pivot']),'border':new re(_0x40838e['border'])};_0x2aa564['resource']['frames']=_0x4791cb;}else{const _0x1e3069=_0x306b57['match'](Fk);if(_0x1e3069){const _0x3b03aa=_0x1e3069[0x131*0x3+0x33*-0x58+0x2*0x6fb];_0xb20d80?(_0x2aa564['resource']['frames'][_0x3b03aa]?(_0x40838e=_0x2aa564['resource']['frames'][_0x3b03aa],_0x40838e['rect']['set'](_0xb20d80['rect'][0xe83+-0xd0e+0x1*-0x175],_0xb20d80['rect'][0x1*-0x24ec+0x1*-0x129e+0xf1*0x3b],_0xb20d80['rect'][0xa0d+-0xa3*0x1+-0x968],_0xb20d80['rect'][-0x15fd+0x1937+-0x337]),_0x40838e['pivot']['set'](_0xb20d80['pivot'][0xb*-0x158+0x1f2e*0x1+-0x1066],_0xb20d80['pivot'][0x10c7+0x1993*0x1+-0x2a59]),_0x40838e['border']['set'](_0xb20d80['border'][-0x19f4+-0x1ae6+0x34da],_0xb20d80['border'][-0x8f7+0x1*-0x148b+0x1d83],_0xb20d80['border'][-0x25*-0xf1+-0x1a57+0x21f*-0x4],_0xb20d80['border'][-0x1cf3*-0x1+0x1*-0x1f1c+-0x116*-0x2])):_0x2aa564['resource']['frames'][_0x3b03aa]={'rect':new re(_0xb20d80['rect']),'pivot':new J(_0xb20d80['pivot']),'border':new re(_0xb20d80['border'])},_0x2aa564['resource']['fire']('set:frame',_0x3b03aa,_0x2aa564['resource']['frames'][_0x3b03aa])):_0x2aa564['resource']['frames'][_0x3b03aa]&&(delete _0x2aa564['resource']['frames'][_0x3b03aa],_0x2aa564['resource']['fire']('remove:fra'+'me',_0x3b03aa));}}}}function kk(){const _0x1ceade={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x15b0ba={'astc':_0x1ceade['cTFASTC_4x'+'4'],'dxt':_0x1ceade['cTFBC1'],'etc1':_0x1ceade['cTFETC1'],'etc2':_0x1ceade['cTFETC1'],'pvr':_0x1ceade['cTFPVRTC1_'+'4_RGB'],'atc':_0x1ceade['cTFATC_RGB'],'none':_0x1ceade['cTFRGB565']},_0x2a2cb7={'astc':_0x1ceade['cTFASTC_4x'+'4'],'dxt':_0x1ceade['cTFBC3'],'etc1':_0x1ceade['cTFRGBA444'+'4'],'etc2':_0x1ceade['cTFETC2'],'pvr':_0x1ceade['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1ceade['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1ceade['cTFRGBA444'+'4']},_0x20cc4e={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x4cb61a=(_0x24a248,_0x2a3434)=>{switch(_0x24a248){case _0x1ceade['cTFETC1']:return _0x2a3434['formats']['etc2']?_0x20cc4e['ETC2_RGB']:_0x20cc4e['ETC1'];case _0x1ceade['cTFETC2']:return _0x20cc4e['ETC2_RGBA'];case _0x1ceade['cTFBC1']:return _0x20cc4e['DXT1'];case _0x1ceade['cTFBC3']:return _0x20cc4e['DXT5'];case _0x1ceade['cTFPVRTC1_'+'4_RGB']:return _0x20cc4e['PVRTC_4BPP'+'_RGB_1'];case _0x1ceade['cTFPVRTC1_'+'4_RGBA']:return _0x20cc4e['PVRTC_4BPP'+'_RGBA_1'];case _0x1ceade['cTFASTC_4x'+'4']:return _0x20cc4e['ASTC_4x4'];case _0x1ceade['cTFATC_RGB']:return _0x20cc4e['ATC_RGB'];case _0x1ceade['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x20cc4e['ATC_RGBA'];case _0x1ceade['cTFRGBA32']:return _0x20cc4e['R8_G8_B8_A'+'8'];case _0x1ceade['cTFRGB565']:return _0x20cc4e['R5_G6_B5'];case _0x1ceade['cTFRGBA444'+'4']:return _0x20cc4e['R4_G4_B4_A'+'4'];}},_0x5799a1=_0x5c2aff=>{const _0x3a7cfe=function(_0x4c7490,_0x1396aa){const _0x5ccedc=_0x4c7490*(-0xca3*-0x2+-0xa1*-0x33+-0x3959+0.00784313725490196)-(-0x11c7+-0x1887+0x2a4f),_0x41e7d2=_0x1396aa*((0x2635*-0x1+-0x12f2+-0x1*-0x3929)/(-0x1073*0x1+0x19f*-0x9+0x2009))-(-0x10*0x3f+-0x17f6+0x1be7),_0x5ba052=Math['sqrt'](-0x2d7+0x1*-0x200b+0x22e3-Math['min'](0x1*-0xcd6+-0x17*0x178+0x2e9f,_0x5ccedc*_0x5ccedc+_0x41e7d2*_0x41e7d2));return Math['max'](0xce*-0x27+-0x130e+-0x21a*-0x18,Math['min'](0x1f9*0xb+0x26*-0x65+-0x2*0x2db,Math['floor']((_0x5ba052+(-0xd36+-0x202*-0xd+-0xce3))*(0x1d*-0x11+-0x6f9+-0x11*-0x86+0.5)*(-0x7bd*0x3+-0x1535+0xb*0x421))));};for(let _0x574ba0=-0xc52+-0x140f+0x2061;_0x574ba0<_0x5c2aff['length'];_0x574ba0+=-0x1*-0x18eb+-0x21e9+0x902){const _0x49f49=_0x5c2aff[_0x574ba0+(-0xf4b+-0xe2d+0x1*0x1d7b)],_0x144ac7=_0x5c2aff[_0x574ba0+(0xc*-0x11+-0x1*-0xb2a+-0xa5d)];_0x5c2aff[_0x574ba0+(-0x14*0xda+0xc0b*0x1+-0x4fd*-0x1)]=_0x49f49,_0x5c2aff[_0x574ba0+(-0x23d+-0x674*0x3+0x159b*0x1)]=_0x3a7cfe(_0x49f49,_0x144ac7),_0x5c2aff[_0x574ba0+(0x1a3*0x7+0x1*-0x1966+0xdf4)]=-0x15c8*0x1+-0x2+0x16c9;}return _0x5c2aff;},_0x376acd=_0x26fa7d=>{const _0x548ee7=new Uint16Array(_0x26fa7d['length']/(-0x1757+0x4a7*0x6+-0x48f));for(let _0x28e76d=0x1*0x1dd0+0x1*-0x629+-0x17a7;_0x28e76d<_0x26fa7d['length'];_0x28e76d+=0x1ecc+0x2356+0x4b9*-0xe){const _0x2f04cf=_0x26fa7d[_0x28e76d+(-0x7ad+0x11*0x7c+-0x8f)],_0x3d3b30=_0x26fa7d[_0x28e76d+(0x1*0x1a95+-0xe67*0x1+-0xc2d)],_0x357cde=_0x26fa7d[_0x28e76d+(0x1fc+0x1871+0x1*-0x1a6b)];_0x548ee7[_0x28e76d/(-0xa47+0x1*0xf59+-0x50e)]=(_0x2f04cf&0x1085*-0x2+-0x1*-0xb32+0x16d0)<<0x2*-0x425+0x67*-0x1f+-0x14cb*-0x1|(_0x3d3b30&0xae+-0x5d1*-0x2+-0xb54)<<0xe*-0x232+0x1*-0x7b1+0xa4*0x3c|_0x357cde>>0xa*0x2c2+0x233b+-0x3ecc;}return _0x548ee7;},_0x22c189=(_0x4e7680,_0x2f0d16)=>(_0x4e7680&_0x4e7680-(0x13b0+0x1*-0x745+-0xc6a))===-0x4*-0x231+-0x87a+0x2*-0x25&&(_0x2f0d16&_0x2f0d16-(-0x33e*0x7+0x8e9+0xdca*0x1))===0x1369*0x1+0x1*0x190f+0x2*-0x163c,_0x227f66=()=>typeof performance<'u'?performance['now']():-0x223*-0xd+-0x111b+0x2ab*-0x4;let _0x1dbb79,_0x25a8d4,_0x25953e;const _0x42c267=(_0x257bf1,_0x30b0b1,_0x4dc0bd)=>{if(_0x4dc0bd){if(_0x257bf1['formats']['astc'])return'astc';}else{if(_0x30b0b1){if(_0x257bf1['formats']['etc2'])return'etc2';}else{if(_0x257bf1['formats']['etc2'])return'etc2';if(_0x257bf1['formats']['etc1'])return'etc1';}}return(_0x46d9cd=>{for(let _0x104c4e=-0x1*-0xd3d+0x1fb+-0x4*0x3ce;_0x104c4e<_0x46d9cd['length'];++_0x104c4e){const _0x42a5c0=_0x46d9cd[_0x104c4e];if(_0x257bf1['formats'][_0x42a5c0])return _0x42a5c0;}return'none';})(_0x30b0b1?_0x25953e:_0x25a8d4);},_0x1a8cf3=(_0x307831,_0x55c55a,_0x8e5662)=>{switch(_0x8e5662){case _0x1ceade['cTFETC1']:case _0x1ceade['cTFETC2']:return!(-0x117f+0x1d2b+-0xbac);case _0x1ceade['cTFBC1']:case _0x1ceade['cTFBC3']:return(_0x307831&-0xd9b*0x1+0x63*0x25+-0xb1*0x1)===0xdfc+-0x1cc7+0x21d*0x7&&(_0x55c55a&-0x1*-0x1075+0x1*-0x1c14+0xba2)===-0x2185+-0x10d7+0x125*0x2c;case _0x1ceade['cTFPVRTC1_'+'4_RGB']:case _0x1ceade['cTFPVRTC1_'+'4_RGBA']:return _0x22c189(_0x307831,_0x55c55a);case _0x1ceade['cTFASTC_4x'+'4']:return!(-0x13c+0x2*-0xb73+0x1822);case _0x1ceade['cTFATC_RGB']:case _0x1ceade['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x3a5*-0x2+-0x1*-0x1f16+-0x17cc);}return!(-0x18c4+0x67*-0x4d+0x37c0);},_0x558d0e=(_0xdf906e,_0xe8f1e6,_0x423e46)=>{if(!_0x1dbb79['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4392b5=_0x227f66(),_0x547859=new _0x1dbb79['KTX2File'](new Uint8Array(_0xe8f1e6)),_0x4e7f89=_0x547859['getWidth'](),_0x115e3a=_0x547859['getHeight'](),_0x5c71b7=_0x547859['getLevels'](),_0x225ce1=!!_0x547859['getHasAlph'+'a'](),_0x184356=_0x547859['isUASTC']&&_0x547859['isUASTC']();if(!_0x4e7f89||!_0x115e3a||!_0x5c71b7)throw _0x547859['close'](),_0x547859['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xdf906e+'\x20width='+_0x4e7f89+'\x20height='+_0x115e3a+'\x20levels='+_0x5c71b7);const _0x1f866f=_0x42c267(_0x423e46['deviceDeta'+'ils'],_0x225ce1,_0x184356),_0xf7e053=!!_0x423e46['isGGGR']&&_0x1f866f==='pvr';let _0x46acbb;if(_0xf7e053?_0x46acbb=_0x1ceade['cTFRGBA32']:(_0x46acbb=_0x225ce1?_0x2a2cb7[_0x1f866f]:_0x15b0ba[_0x1f866f],_0x1a8cf3(_0x4e7f89,_0x115e3a,_0x46acbb)||(_0x46acbb=_0x225ce1?_0x1ceade['cTFRGBA32']:_0x1ceade['cTFRGB565'])),!_0x547859['startTrans'+'coding']())throw _0x547859['close'](),_0x547859['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xdf906e);let _0x26d4be;const _0x1b5ba6=[];for(let _0x23be1a=0x2*-0x117b+0x18ad*-0x1+0x3ba3*0x1;_0x23be1a<_0x5c71b7;++_0x23be1a){const _0x39eb26=_0x547859['getImageTr'+'anscodedSi'+'zeInBytes'](_0x23be1a,-0xfcc+-0x24da+0x34a6,-0xd76*0x1+-0xf0f+-0x95*-0x31,_0x46acbb),_0x2bdb14=new Uint8Array(_0x39eb26);if(!_0x547859['transcodeI'+'mage'](_0x2bdb14,_0x23be1a,-0x26cf+-0x1ec6*0x1+-0x2f*-0x17b,0x34b*-0x3+-0x9f9+-0x9a*-0x21,_0x46acbb,-0x192b+-0x150b*0x1+-0x23*-0x152,-(-0x43*-0x7d+0x21bd+-0x4273),-(-0x1191+-0x327+0x14b9)))throw _0x547859['close'](),_0x547859['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xdf906e);const _0x19f2b7=_0x46acbb===_0x1ceade['cTFRGB565']||_0x46acbb===_0x1ceade['cTFRGBA444'+'4'];_0x1b5ba6['push'](_0x19f2b7?new Uint16Array(_0x2bdb14['buffer']):_0x2bdb14);}if(_0x547859['close'](),_0x547859['delete'](),_0xf7e053){for(_0x46acbb=_0x1ceade['cTFRGB565'],_0x26d4be=-0x15d*-0x1+0x18d2+-0x1a2f;_0x26d4be<_0x1b5ba6['length'];++_0x26d4be)_0x1b5ba6[_0x26d4be]=_0x376acd(_0x5799a1(_0x1b5ba6[_0x26d4be]));}return{'format':_0x4cb61a(_0x46acbb,_0x423e46['deviceDeta'+'ils']),'width':_0x4e7f89,'height':_0x115e3a,'levels':_0x1b5ba6,'cubemap':!(-0x10b*-0x1f+-0x8a8+-0x3*0x7e4),'transcodeTime':_0x227f66()-_0x4392b5,'url':_0xdf906e,'unswizzledGGGR':_0xf7e053};},_0x4a57f4=(_0x2b3d92,_0x5f30f1,_0x50b6df)=>{const _0x28d66a=_0x227f66(),_0x33e774=new _0x1dbb79['BasisFile'](new Uint8Array(_0x5f30f1)),_0x1ae408=_0x33e774['getImageWi'+'dth'](0x2472+0x985+0x2df7*-0x1,0x952*-0x1+0xac1+0x16f*-0x1),_0x4e2149=_0x33e774['getImageHe'+'ight'](0x757*-0x2+-0xd3f+0x1bed,-0x1a9d+0xf1*0x1d+-0xb*0x10),_0x23a6ea=_0x33e774['getNumImag'+'es'](),_0x3d770a=_0x33e774['getNumLeve'+'ls'](0x76c+0x41*0x3f+-0x176b),_0x8946a0=!!_0x33e774['getHasAlph'+'a'](),_0x45333c=_0x33e774['isUASTC']&&_0x33e774['isUASTC']();if(!_0x1ae408||!_0x4e2149||!_0x23a6ea||!_0x3d770a)throw _0x33e774['close'](),_0x33e774['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2b3d92+'\x20width='+_0x1ae408+'\x20height='+_0x4e2149+'\x20images='+_0x23a6ea+'\x20levels='+_0x3d770a);const _0x11340a=_0x42c267(_0x50b6df['deviceDeta'+'ils'],_0x8946a0,_0x45333c),_0x1dc843=!!_0x50b6df['isGGGR']&&_0x11340a==='pvr';let _0x3ef63d;if(_0x1dc843?_0x3ef63d=_0x1ceade['cTFRGBA32']:(_0x3ef63d=_0x8946a0?_0x2a2cb7[_0x11340a]:_0x15b0ba[_0x11340a],_0x1a8cf3(_0x1ae408,_0x4e2149,_0x3ef63d)||(_0x3ef63d=_0x8946a0?_0x1ceade['cTFRGBA32']:_0x1ceade['cTFRGB565'])),!_0x33e774['startTrans'+'coding']())throw _0x33e774['close'](),_0x33e774['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2b3d92);let _0x5988cf;const _0x32d7f4=[];for(let _0x29af81=-0x6cd*-0x1+0x24e4+-0x2bb1;_0x29af81<_0x3d770a;++_0x29af81){const _0x4b9957=_0x33e774['getImageTr'+'anscodedSi'+'zeInBytes'](-0x2332+-0x1*0x7fd+0x2b2f,_0x29af81,_0x3ef63d),_0x5c7806=new Uint8Array(_0x4b9957);if(!_0x33e774['transcodeI'+'mage'](_0x5c7806,-0x58d*-0x4+-0x1d20+0x6ec,_0x29af81,_0x3ef63d,-0x1f6a+0xfa0+0xfca,0x228+0x19*-0x4e+0x576)){if(_0x29af81===_0x3d770a-(-0x1349*0x1+-0x4eb*0x3+0x220b)&&_0x4b9957===_0x32d7f4[_0x29af81-(0x2c*0x20+0x2af*-0x5+0x7ec)]['buffer']['byteLength'])_0x5c7806['set'](new Uint8Array(_0x32d7f4[_0x29af81-(0x1cf3+-0x1ad4+-0x21e)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x2b3d92);else throw _0x33e774['close'](),_0x33e774['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2b3d92);}const _0x3437b3=_0x3ef63d===_0x1ceade['cTFRGB565']||_0x3ef63d===_0x1ceade['cTFRGBA444'+'4'];_0x32d7f4['push'](_0x3437b3?new Uint16Array(_0x5c7806['buffer']):_0x5c7806);}if(_0x33e774['close'](),_0x33e774['delete'](),_0x1dc843){for(_0x3ef63d=_0x1ceade['cTFRGB565'],_0x5988cf=-0x3f9+-0x10f*-0xa+-0x69d*0x1;_0x5988cf<_0x32d7f4['length'];++_0x5988cf)_0x32d7f4[_0x5988cf]=_0x376acd(_0x5799a1(_0x32d7f4[_0x5988cf]));}return{'format':_0x4cb61a(_0x3ef63d,_0x50b6df['deviceDeta'+'ils']),'width':_0x1ae408,'height':_0x4e2149,'levels':_0x32d7f4,'cubemap':!(0xb92+0x30*-0x76+-0x1*-0xa8f),'transcodeTime':_0x227f66()-_0x28d66a,'url':_0x2b3d92,'unswizzledGGGR':_0x1dc843};},_0x5a4cec=(_0x4a119f,_0x27cd55,_0x2b35c1)=>_0x2b35c1['isKTX2']?_0x558d0e(_0x4a119f,_0x27cd55,_0x2b35c1):_0x4a57f4(_0x4a119f,_0x27cd55,_0x2b35c1),_0x3e32da=(_0x450add,_0x2d820c,_0x2e3f98)=>{try{const _0x2021e1=_0x5a4cec(_0x450add,_0x2d820c,_0x2e3f98);_0x2021e1['levels']=_0x2021e1['levels']['map'](_0x405d24=>_0x405d24['buffer']),self['postMessag'+'e']({'url':_0x450add,'data':_0x2021e1},_0x2021e1['levels']);}catch(_0x4e1189){self['postMessag'+'e']({'url':_0x450add,'err':_0x4e1189},null);}},_0x3d86d1=(_0x53a865,_0x14a901)=>{const _0x5bebdc=(_0x54af85,_0x287d6c)=>(WebAssembly['instantiat'+'e'](_0x53a865['module'],_0x54af85)['then'](_0x52e256=>{_0x287d6c(_0x52e256);})['catch'](_0x15843b=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x15843b);}),{});self['BASIS'](_0x53a865['module']?{'instantiateWasm':_0x5bebdc}:null)['then'](_0x4b2bbf=>{_0x4b2bbf['initialize'+'Basis'](),_0x1dbb79=_0x4b2bbf,_0x25a8d4=_0x53a865['rgbPriorit'+'y'],_0x25953e=_0x53a865['rgbaPriori'+'ty'],_0x14a901(null);});},_0x47f10f=[];self['onmessage']=_0x49727e=>{const _0x262ccd=_0x49727e['data'];switch(_0x262ccd['type']){case'init':_0x3d86d1(_0x262ccd['config'],()=>{for(let _0x54e015=0x6*0x137+-0x44c+0x2*-0x17f;_0x54e015<_0x47f10f['length'];++_0x54e015)_0x3e32da(_0x47f10f[_0x54e015]['url'],_0x47f10f[_0x54e015]['data'],_0x47f10f[_0x54e015]['options']);_0x47f10f['length']=0x13*0x4f+0x11a*-0x6+0xbf;});break;case'transcode':_0x1dbb79?_0x3e32da(_0x262ccd['url'],_0x262ccd['data'],_0x262ccd['options']):_0x47f10f['push'](_0x262ccd);break;}};}const Uk=_0x7b344=>({'astc':!!_0x7b344['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x7b344['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x7b344['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x7b344['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x7b344['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x7b344['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x5147b2,_0x5e3d38)=>{const _0x450a03=_0x53ac9e=>{const _0x4ca0fe=['/*\x20basis\x20*'+'/',_0x53ac9e,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x4ca0fe],{'type':'applicatio'+'n/javascri'+'pt'});},_0x284d93=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x205c3f=new WebAssembly['Module'](Uint8Array['of'](0x88*-0x36+0x1e35+-0x185,0x15a0+-0x1b01+0x2*0x2e1,-0x753+-0x3cd*-0x1+-0x3*-0x153,-0x2338+0x4+0x23a1*0x1,0x1*-0x2d7+0x17c3*-0x1+0x1a9b,-0x3ef+0x19c3+0x2*-0xaea,0x125a+0x3*-0x8bd+0x7dd,0x5*-0x1fc+-0xdb*-0x3+0x75b));if(_0x205c3f instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x205c3f)instanceof WebAssembly['Instance'];}}catch{}return!(-0x762+0x201a+-0x18b7);},_0x506e1b=(_0x578c5f,_0x5af7ad)=>{_0x5e3d38(null,{'workerUrl':URL['createObje'+'ctURL'](_0x450a03(_0x578c5f)),'module':_0x5af7ad,'rgbPriority':_0x5147b2['rgbPriorit'+'y'],'rgbaPriority':_0x5147b2['rgbaPriori'+'ty']});},_0x3d7439={'cache':!(-0x9*-0x288+0x24a9+0x3b71*-0x1),'responseType':'text','retry':_0x5147b2['maxRetries']>-0x2129+-0x1*0x214f+-0x1*-0x4278,'maxRetries':_0x5147b2['maxRetries']};if(_0x5147b2['glueUrl']&&_0x5147b2['wasmUrl']&&_0x284d93()){let _0x35a373=null,_0x142234=null;ot['get'](_0x5147b2['glueUrl'],_0x3d7439,(_0x31fd82,_0x22a529)=>{_0x31fd82?_0x5e3d38(_0x31fd82):_0x142234?_0x506e1b(_0x22a529,_0x142234):_0x35a373=_0x22a529;});const _0x1ecd95=fetch(_0x5147b2['wasmUrl']),_0x436957=()=>{_0x1ecd95['then'](_0x1e74b8=>_0x1e74b8['arrayBuffe'+'r']())['then'](_0x336ce2=>WebAssembly['compile'](_0x336ce2))['then'](_0x46870f=>{_0x35a373?_0x506e1b(_0x35a373,_0x46870f):_0x142234=_0x46870f;})['catch'](_0x31c74d=>{_0x5e3d38(_0x31c74d,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x1ecd95)['then'](_0x3bd5c7=>{_0x35a373?_0x506e1b(_0x35a373,_0x3bd5c7):_0x142234=_0x3bd5c7;})['catch'](_0x2236bd=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5147b2['wasmUrl']+'\x20('+_0x2236bd+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x436957();}):_0x436957();}else ot['get'](_0x5147b2['fallbackUr'+'l'],_0x3d7439,(_0x4ade52,_0x1503fb)=>{_0x4ade52?_0x5e3d38(_0x4ade52,null):_0x506e1b(_0x1503fb,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x9ad938,_0xd5cc24,_0xe77998,_0x872078){if(this['callbacks']['hasOwnProp'+'erty'](_0x9ad938))this['callbacks'][_0x9ad938]['push'](_0xe77998);else{this['callbacks'][_0x9ad938]=[_0xe77998];const _0x52ecb8={'url':_0x9ad938,'data':_0xd5cc24,'options':_0x872078};this['clients']['length']>0x1*-0xe39+-0x1*-0x30+0xe09?this['clients']['shift']()['run'](_0x52ecb8):this['queue']['push'](_0x52ecb8);}}['enqueueCli'+'ent'](_0x4d8fe6){this['queue']['length']>-0x169*-0xb+-0x2477+0x14f4?_0x4d8fe6['run'](this['queue']['shift']()):this['clients']['push'](_0x4d8fe6);}['handleResp'+'onse'](_0x46601e,_0x27707a,_0x1accf0){const _0x9c2318=this['callbacks'][_0x46601e];if(_0x27707a){for(let _0x2a5740=-0xc13+0x25bc+-0x19a9;_0x2a5740<_0x9c2318['length'];++_0x2a5740)_0x9c2318[_0x2a5740](_0x27707a);}else{_0x1accf0['format']===Jh||_0x1accf0['format']===ed?_0x1accf0['levels']=_0x1accf0['levels']['map'](_0x32bb0d=>new Uint16Array(_0x32bb0d)):_0x1accf0['levels']=_0x1accf0['levels']['map'](_0x33ffcf=>new Uint8Array(_0x33ffcf));for(let _0x10d613=-0x49+0x1*-0xdc3+-0x1*-0xe0c;_0x10d613<_0x9c2318['length'];++_0x10d613)_0x9c2318[_0x10d613](null,_0x1accf0);}delete this['callbacks'][_0x46601e];}}class Vk{constructor(_0x58a50f,_0x11b0d4,_0x37f2da){this['queue']=_0x58a50f,this['worker']=new Worker(_0x11b0d4['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x2d85fe=>{const _0x3bdd72=_0x2d85fe['data'];this['queue']['handleResp'+'onse'](_0x3bdd72['url'],_0x3bdd72['err'],_0x3bdd72['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x11b0d4}),this['eager']=_0x37f2da;}['run'](_0x5e7f83){const _0x46edc3=[];_0x5e7f83['data']instanceof ArrayBuffer&&_0x46edc3['push'](_0x5e7f83['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5e7f83['url'],'format':_0x5e7f83['format'],'data':_0x5e7f83['data'],'options':_0x5e7f83['options']},_0x46edc3),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=-0x8d*-0x1+-0x605+0x1*0x579,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x267a+0x1d2d+-0x43a2,Xu=new zk();let xS=null,qu=!(-0x1*0x204a+-0x2630+0x467b);function Xk(_0x5d3c03){if(!qu){if(!_0x5d3c03)_0x5d3c03=xS||{};else{if(_0x5d3c03['lazyInit']){xS=_0x5d3c03;return;}}if(!_0x5d3c03['glueUrl']||!_0x5d3c03['wasmUrl']||!_0x5d3c03['fallbackUr'+'l']){const _0x2a793c=YS['getConfig']('BASIS');_0x2a793c&&(_0x5d3c03={'glueUrl':_0x2a793c['glueUrl'],'wasmUrl':_0x2a793c['wasmUrl'],'fallbackUrl':_0x2a793c['fallbackUr'+'l'],'numWorkers':_0x2a793c['numWorkers']});}if(_0x5d3c03['glueUrl']||_0x5d3c03['wasmUrl']||_0x5d3c03['fallbackUr'+'l']){qu=!(0x1362+0x5*0x1a9+-0x1baf);const _0x2a4814=Math['max'](-0x1c4a+-0x3*-0xb42+-0x57b,Math['min'](0xb0c+-0x702+-0x3fa,_0x5d3c03['numWorkers']||Gk)),_0x1d5b9f=_0x5d3c03['numWorkers']===0xd*0x154+-0xe63+0x8*-0x5c||(_0x5d3c03['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x5d3c03['eagerWorke'+'rs']:!(-0x7+-0x1*0xc25+0x4*0x30b));_0x5d3c03['rgbPriorit'+'y']=_0x5d3c03['rgbPriorit'+'y']||Hk,_0x5d3c03['rgbaPriori'+'ty']=_0x5d3c03['rgbaPriori'+'ty']||Wk,_0x5d3c03['maxRetries']=_0x5d3c03['hasOwnProp'+'erty']('maxRetries')?_0x5d3c03['maxRetries']:$k,Bk(_0x5d3c03,(_0x33658d,_0x4abb76)=>{if(_0x33658d)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x33658d);else{for(let _0x45faf8=0x2*0x1104+0x1fc1+-0x41c9;_0x45faf8<_0x2a4814;++_0x45faf8)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x4abb76,_0x1d5b9f));}});}}}let Df=null;function b0(_0x1c629e,_0x5849bd,_0x46222d,_0x57d30a,_0x646310){return Xk(),Df||(Df={'formats':Uk(_0x1c629e)}),Xu['enqueueJob'](_0x5849bd,_0x46222d,_0x57d30a,{'deviceDetails':Df,'isGGGR':!!(_0x646310!=null&&_0x646310['isGGGR']),'isKTX2':!!(_0x646310!=null&&_0x646310['isKTX2'])}),qu;}class eo{['load'](_0x355fed,_0x371a6d,_0x56786e){throw new Error('not\x20implem'+'ented');}['open'](_0x1e9633,_0x19b94c,_0x190110){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x2244c2,_0x4f1c4b){super(),this['device']=_0x4f1c4b,this['maxRetries']=0x20f8+0x2123+-0x421b;}['load'](_0x1518d1,_0x8e26dd,_0x1fe3be){const _0x11d8e6=this['device'],_0x31ef6c=_0x4acaf5=>{var _0x174012,_0x3d582c,_0x251f0e;b0(_0x11d8e6,_0x1518d1['load'],_0x4acaf5,_0x8e26dd,{'isGGGR':(((_0x251f0e=(_0x3d582c=(_0x174012=_0x1fe3be==null?void(-0x162c+-0x2a4+0x18d0):_0x1fe3be['file'])==null?void(-0x1670+0x84a+-0x713*-0x2):_0x174012['variants'])==null?void(0x1*0x23c9+0x928+0x2cf1*-0x1):_0x3d582c['basis'])==null?void(-0x5d8+0x252c+-0x4*0x7d5):_0x251f0e['opt'])&0x25fc+0x1c45*0x1+-0x4239)!==0x7cc+-0x8a*-0x6+-0xb08})||_0x8e26dd('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1fe3be['name']+']('+_0x1fe3be['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x1518d1['load'],(_0x5d43bf,_0x4e1908)=>{_0x5d43bf?_0x8e26dd(_0x5d43bf):_0x31ef6c(_0x4e1908);},_0x1fe3be,this['maxRetries']);}['open'](_0x41ec71,_0x188ce7,_0x3f1871,_0x402172={}){const _0x483067=_0x402172['srgb']?ld(_0x188ce7['format']):_0x188ce7['format'],_0x4d5775=new _e(_0x3f1871,{'name':_0x41ec71,'profilerHint':Pr,'addressU':_0x188ce7['cubemap']?ue:yt,'addressV':_0x188ce7['cubemap']?ue:yt,'width':_0x188ce7['width'],'height':_0x188ce7['height'],'format':_0x483067,'cubemap':_0x188ce7['cubemap'],'levels':_0x188ce7['levels'],..._0x402172});return _0x4d5775['upload'](),_0x4d5775;}}const A0=new Uint8Array([0x73*-0x4f+-0x341*0x1+0x7db*0x5,0x20*-0x104+-0x653*-0x1+0x1a7d,0x1*0x2217+0x23ab+-0x1*0x4574,-0x737+-0x1d52+0x24d0,0x1ed7+0x23eb+0x1*-0x42b5,0x1*-0x11a5+-0x44f*-0x7+-0xc7a,-0x84f*-0x1+0xeb2+-0xb*0x215,0x5*-0x205+-0x16ad+-0x96*-0x38,0xd4+-0x9*0x16b+0x263*0x5,0x3c1*-0x3+0x234d+-0x11*0x16a,-0x2676+-0x1ecf+0x4545,0x22e9+-0x65*0x54+0x8*-0x37,0x1*-0xe2+0x181f+0x34*-0x71,-0x1a*-0x12b+0xeda+-0x2cf0,-0x1f*-0x117+-0x11*0x43+-0x1d12,-0x1d38+0x5e*-0x4+0x1f02,-0xec*0x1+0xee2+-0xdf6,0xad5+-0x2*-0x2de+-0x1091*0x1,0x9f*-0x24+0xb09+0x1*0xb53,-0x1b90+0x696+0x14fb,-0x142*0x7+0x712*-0x2+0x16f2,0x536+0xc62+-0x1198,0x178*-0x8+-0xa61+0x1621,0x3d*-0x9+-0xd13+0xf39,-0x3*-0x13b+-0x1*-0x108d+0x1a*-0xc7,0x22c*-0x7+0xf6d+-0x33,-0xb9+-0x5e7+0x2*0x350,-0x1946+-0x1e20+-0xe*-0x3f5,-0x12b5*0x1+-0x103d+0x2a*0xd5,0x15d+0x155+-0x293,0x179e+-0x1*-0x1c43+-0x33cc,-0x958+0x1d26*0x1+-0x130a,-0xab1+-0x20b*0xe+0x1*0x27d4,-0x6*-0x8e+0x7*0x3df+-0x1e6d,-0xa22+0x2*0xad5+-0x171*0x8,-0x15da+-0x1*0x1181+0x275b,0x918+-0x182f+-0x4c*-0x33,0x5*0x425+0x107*0x25+-0x3a73,-0x1636+0x132b+-0x1*-0x34f,-0x18ee+0x1c9*-0x1+0x4*0x6be,0x2056+0x230c+-0x430e,-0xae2+-0x1b1*-0x6+0x7*0x2c,0x4dd*0x8+-0xc+-0x1301*0x2,-0x2419*0x1+0x1aa+-0x2*-0x1169,0x45*0x73+0x7*0x32+0x5*-0x665,-0x5*-0x49a+-0x1*-0x1363+-0x2a01,0x10c+-0x803*0x1+-0xb*-0xab,0x682+-0xd28+0x75c,-0x1380+-0x5*-0x65b+0xc40*-0x1,-0xc19*-0x1+0xb11+-0x172a,-0xa23+-0x32*-0xe+-0x1*-0x767,0x1b2a+0xcb*-0x2+-0x193b,-0x353+-0x1237+0x158a*0x1,0x2*0x6d9+-0x1df9+0x108e,-0x1c44+0x2ca+0x19bd,-0x8b3+-0x1835+0x216d,-0x2b3+0x61f*-0x2+0xf85,-0x1c3f+0x0+0x1d2c,-0x11e2+0x785+0xa5d,0x1c92*0x1+0x1c84+-0x2*0x1c8b,-0xc5*-0x2c+0x246e+-0x464a,-0x3*0xb7e+0x371*0x2+0x1b98*0x1,0x1778*0x1+0xff5+-0x343*0xc,0x4d5*0x1+-0x1cbb+-0x17*-0x10d,-0x250c*-0x1+0xa*0xda+-0x78b*0x6,-0xca5*-0x1+0x2e*-0x3b+0x41*-0x7,0xd*-0x1f3+-0x5*-0x23d+-0x2*-0x76a,-0x19b9+-0x58*-0x1d+0x1003,0x3*-0x7ff+0x1dd2+-0x575,-0x2*-0x592+-0xb45+0xa3]),C0=(_0x3b6d84,_0x4ee116)=>{const _0x3bd31e=new _e(_0x3b6d84,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x1*0x2127+0x15ab+-0xad*-0x11),'levels':[_0x4ee116]}),_0xa0313=new gt({'colorBuffer':_0x3bd31e,'depth':!(-0x1*0x258d+-0x2*0x717+0x33bc)});_0x3b6d84['setFramebu'+'ffer'](_0xa0313['impl']['_glFrameBu'+'ffer']),_0x3b6d84['initRender'+'Target'](_0xa0313);const _0x34403c=new Uint8ClampedArray(0x167+0x1d9+-0x33c);return _0x3b6d84['gl']['readPixels'](0x9f2+0x137*0x10+-0xeb1*0x2,-0xa*-0x1d7+0x247a+-0x36e0,-0x3*0x92f+0xc47*0x1+0xf47,0x2050+-0x784+-0x18cb,_0x3b6d84['gl']['RGBA'],_0x3b6d84['gl']['UNSIGNED_B'+'YTE'],_0x34403c),_0xa0313['destroy'](),_0x3bd31e['destroy'](),_0x34403c[-0x1ac9+-0x22ca+-0xb*-0x599]===-0x1bad+0x1e1*-0xb+-0x1*-0x3059&&_0x34403c[0x2*0x1065+0x6c6+0x13*-0x215]===-0x2*0x65b+-0x13bf+0x2077*0x1&&_0x34403c[-0x3*-0x8df+-0x1*-0x1bbc+-0x3657]===-0x1020+-0xc*-0x22f+-0x1*0xa11&&_0x34403c[0x1ccd*-0x1+0x21c3+-0x4f3]===0xcac+0x610*-0x1+-0x1*0x65d;},jk=_0x5e950d=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x41265f=>C0(_0x5e950d,_0x41265f))['catch'](_0x2110f3=>!(-0x1198+-0x16e0+0x2879)),Yk=_0x3da842=>new Promise((_0x28c792,_0x53f384)=>{const _0x349ee7=new Image();_0x349ee7['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x349ee7['onload']=()=>{_0x28c792(C0(_0x3da842,_0x349ee7));};});class Kk{static['run'](_0xd8aa2b){jk(_0xd8aa2b)['then'](_0x153e0b=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x153e0b);}),Yk(_0xd8aa2b)['then'](_0x140c96=>{console['log']('imgElement'+'IsCorrect='+_0x140c96);});}}class Zk extends eo{constructor(_0x34d5b8,_0x3b601c){super(),this['crossOrigi'+'n']=_0x34d5b8['prefix']?'anonymous':null,this['maxRetries']=-0x1da5+-0x10ec+0x2e91,this['device']=_0x3b601c,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x20a23e,_0xf5fdae,_0x355386){var _0x138461;const _0x5b17c0=!!((_0x138461=_0x355386==null?void(-0x7f0+-0x18c3+0x20b3*0x1):_0x355386['file'])!=null&&_0x138461['contents']);if(_0x5b17c0){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x355386['file']['contents']]),_0xf5fdae);return;}_0x20a23e={'load':URL['createObje'+'ctURL'](new Blob([_0x355386['file']['contents']])),'original':_0x20a23e['original']};}const _0x4a40d2=(_0x1f4806,_0x59c600)=>{_0x5b17c0&&URL['revokeObje'+'ctURL'](_0x20a23e['load']),_0xf5fdae(_0x1f4806,_0x59c600);};let _0xb3e795;_0x355386&&_0x355386['options']&&_0x355386['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0xb3e795=_0x355386['options']['crossOrigi'+'n']:jn['test'](_0x20a23e['load'])&&(_0xb3e795=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x20a23e['load'],_0x20a23e['original'],_0xb3e795,_0x4a40d2,_0x355386):this['_loadImage'](_0x20a23e['load'],_0x20a23e['original'],_0xb3e795,_0x4a40d2);}['open'](_0x9bdc2,_0x21e46a,_0x2b5397,_0x2423ae={}){const _0x59c779=new _e(_0x2b5397,{'name':_0x9bdc2,'profilerHint':Pr,'width':_0x21e46a['width'],'height':_0x21e46a['height'],'format':_0x2423ae['srgb']?_s:Ne,..._0x2423ae});return _0x59c779['setSource'](_0x21e46a),_0x59c779;}['_loadImage'](_0x136999,_0x15218c,_0x1fcaa4,_0x8ac2af){const _0x271b4f=new Image();_0x1fcaa4&&(_0x271b4f['crossOrigi'+'n']=_0x1fcaa4);let _0x1ffccc=-0xbf9+-0x278*0xa+0x5*0x755;const _0x240ee9=this['maxRetries'];let _0x57ef5d;_0x271b4f['onload']=function(){_0x8ac2af(null,_0x271b4f);},_0x271b4f['onerror']=function(){if(!_0x57ef5d){if(_0x240ee9>-0x19*-0x161+0x1*-0x24f5+0x35*0xc&&++_0x1ffccc<=_0x240ee9){const _0x393f68=Math['pow'](0x21ed+0x56*-0x2b+0x3e5*-0x5,_0x1ffccc)*(0x24f0+0x1611+-0x3a9d);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x15218c+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x393f68+'ms...');const _0x2bd173=_0x136999['indexOf']('?')>=-0xdf7+0x1879+0x10d*-0xa?'&':'?';_0x57ef5d=setTimeout(()=>{_0x271b4f['src']=_0x136999+_0x2bd173+'retry='+Date['now'](),_0x57ef5d=null;},_0x393f68);}else _0x8ac2af('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x15218c+'\x27');}},_0x271b4f['src']=_0x136999;}['_loadImage'+'Bitmap'](_0x56c21c,_0x3acee5,_0x472c0a,_0x1e5733,_0x4978c7){const _0x529361={'cache':!(-0x668+0x970+-0x308),'responseType':'blob','retry':this['maxRetries']>0x145c+0x2116+0x1*-0x3572,'maxRetries':this['maxRetries'],'progress':_0x4978c7};ot['get'](_0x56c21c,_0x529361,(_0x5ed06c,_0xaa9a47)=>{_0x5ed06c?_0x1e5733(_0x5ed06c):this['_loadImage'+'BitmapFrom'+'Blob'](_0xaa9a47,_0x1e5733);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x5036db,_0x415eb5){createImageBitmap(_0x5036db,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2977bd=>_0x415eb5(null,_0x2977bd))['catch'](_0x1cbce2=>_0x415eb5(_0x1cbce2));}}const If=[0x86e9752a+-0x60dbf*-0x749+-0x5aaf4df6,0x2c54b*-0x2285+-0x150f1c749+0x26bc76e60,-0x8ba5419+-0xe7ca6bb+0x215104e1*0x1],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x26e31b,_0x179562,_0x7005f6,_0x3cb47e){return _0x26e31b===In?new Uint32Array(_0x179562,_0x7005f6,_0x3cb47e/(0x26a4+-0x94a*-0x2+-0x3934)):new Uint8Array(_0x179562,_0x7005f6,_0x3cb47e);}class eU extends eo{constructor(_0x3b8a5d){super(),this['maxRetries']=0x4f*0x61+-0x2406+0x617;}['load'](_0x229323,_0x3ed2c5,_0x34d0d5){pe['fetchArray'+'Buffer'](_0x229323['load'],_0x3ed2c5,_0x34d0d5,this['maxRetries']);}['open'](_0x802629,_0x1487fb,_0x124604,_0x1f5432={}){const _0x4e572a=this['parse'](_0x1487fb);if(!_0x4e572a)return null;const _0x50be87=_0x1f5432['srgb']?ld(_0x4e572a['format']):_0x4e572a['format'],_0x938f88=new _e(_0x124604,{'name':_0x802629,'profilerHint':Pr,'addressU':_0x4e572a['cubemap']?ue:yt,'addressV':_0x4e572a['cubemap']?ue:yt,'width':_0x4e572a['width'],'height':_0x4e572a['height'],'format':_0x50be87,'cubemap':_0x4e572a['cubemap'],'levels':_0x4e572a['levels'],..._0x1f5432});return _0x938f88['upload'](),_0x938f88;}['parse'](_0x2681f6){const _0x1d8b65=new Uint32Array(_0x2681f6);if(If[0x25b7*-0x1+-0x4*0x2ed+-0x316b*-0x1]!==_0x1d8b65[-0x1*0x79b+0x1cac*0x1+0x1*-0x1511]||If[0x21f8+0x130d+-0x3504]!==_0x1d8b65[0x6ee+0x17bf+0x97*-0x34]||If[0x649*-0x4+0x1842+0xe4]!==_0x1d8b65[-0x4*0x46d+0xcd8+0xe*0x59])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x47f945={'endianness':_0x1d8b65[-0x6cb+0x2ea*0xd+0xea*-0x22],'glType':_0x1d8b65[-0x13dd+0xbeb+0x7f6*0x1],'glTypeSize':_0x1d8b65[0xbf4+-0x69*0x35+-0x1*-0x9ce],'glFormat':_0x1d8b65[-0x1634+0x17a8+-0x3d*0x6],'glInternalFormat':_0x1d8b65[0x20c*-0x8+-0x15c*0x4+-0x1*-0x15d7],'glBaseInternalFormat':_0x1d8b65[-0x5*-0x7c9+-0x2678+-0x6d],'pixelWidth':_0x1d8b65[-0x230f+0xba9+-0x7*-0x359],'pixelHeight':_0x1d8b65[0x652*0x6+-0x14*-0x12e+-0x3d7a],'pixelDepth':_0x1d8b65[-0xb1f*-0x1+-0x12ee*0x1+0x7da],'numberOfArrayElements':_0x1d8b65[0xd07+-0x18f6+0xbfb],'numberOfFaces':_0x1d8b65[0x1*-0x1091+0xf7e+0x48*0x4],'numberOfMipmapLevels':_0x1d8b65[-0x476*-0x4+-0xb*0x257+0x1*0x7f3],'bytesOfKeyValueData':_0x1d8b65[-0x251a+0x2464+0xc5]};if(_0x47f945['pixelDepth']>0xe49+0xe85+-0x1ccd)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x47f945['numberOfAr'+'rayElement'+'s']!==0x14f0+0x215d*-0x1+-0xc6d*-0x1)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x2dd678=Qk[_0x47f945['glInternal'+'Format']];if(_0x2dd678===void(-0x39*0x1d+-0x2455+0x2aca))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x47f945['glInternal'+'Format']),null;let _0x2d73f2=-0x142*-0x3+-0xad6+0x60*0x13+_0x47f945['bytesOfKey'+'ValueData']/(-0x13a1+-0x1159+0x24fe);const _0x3c6020=_0x47f945['numberOfFa'+'ces']>-0xe4e+0x430+0xa1f,_0xfc53f5=[];for(let _0x585fe0=-0x4*0x95b+0xa61+-0x1*-0x1b0b;_0x585fe0<(_0x47f945['numberOfMi'+'pmapLevels']||0xd*-0x74+-0x5*-0x76e+0x3*-0xa6b);_0x585fe0++){const _0x3dc050=_0x1d8b65[_0x2d73f2++];_0x3c6020&&_0xfc53f5['push']([]);const _0x54e24d=_0x3c6020?_0xfc53f5[_0x585fe0]:_0xfc53f5;for(let _0x5cf9e2=0x12e9*0x1+-0x107+-0x7*0x28e;_0x5cf9e2<(_0x3c6020?0x17da*-0x1+0xbc0+-0x2*-0x610:-0x2041+0x4a*-0x6d+-0xe*-0x48e);++_0x5cf9e2)_0x54e24d['push'](Jk(_0x2dd678,_0x2681f6,_0x2d73f2*(0xdd*0x1f+-0xb*0x24b+-0x186),_0x3dc050)),_0x2d73f2+=_0x3dc050+(0x1e*0x136+-0x115*-0x13+-0x38e0)>>-0x1efe+0x2047*0x1+-0x6d*0x3;}return{'format':_0x2dd678,'width':_0x47f945['pixelWidth'],'height':_0x47f945['pixelHeigh'+'t'],'levels':_0xfc53f5,'cubemap':_0x3c6020};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x29bffe,_0x5ada3b){super(),this['maxRetries']=0x1*-0x1b57+0x568+0x15ef,this['device']=_0x5ada3b;}['load'](_0x154cea,_0x1be7f6,_0x440949){pe['fetchArray'+'Buffer'](_0x154cea['load'],(_0x4fe4de,_0x38e2e8)=>{_0x4fe4de?_0x1be7f6(_0x4fe4de,_0x38e2e8):this['parse'](_0x38e2e8,_0x154cea,_0x1be7f6,_0x440949);},_0x440949,this['maxRetries']);}['open'](_0x143d48,_0x5c9e2c,_0x48eba5,_0x34e0f0={}){const _0x597787=_0x34e0f0['srgb']?ld(_0x5c9e2c['format']):_0x5c9e2c['format'],_0x378a03=new _e(_0x48eba5,{'name':_0x143d48,'profilerHint':Pr,'addressU':_0x5c9e2c['cubemap']?ue:yt,'addressV':_0x5c9e2c['cubemap']?ue:yt,'width':_0x5c9e2c['width'],'height':_0x5c9e2c['height'],'format':_0x597787,'cubemap':_0x5c9e2c['cubemap'],'levels':_0x5c9e2c['levels'],..._0x34e0f0});return _0x378a03['upload'](),_0x378a03;}['parse'](_0x14fa6b,_0x7f4afc,_0x3b85bb,_0x120c01){var _0x94cc4,_0x24e17d,_0x53e08e;const _0x52b640=new KS(_0x14fa6b),_0x481310=[_0x52b640['readU32be'](),_0x52b640['readU32be'](),_0x52b640['readU32be']()];if(_0x481310[0x14af+-0x1d35+0x886]!==-0xeee8b6af+0x9ea260a1+0xfb91aa66*0x1||_0x481310[-0x1e11+-0xb54+-0x2966*-0x1]!==0x25e3ce0e+-0x3f0670e4+0x3954d391||_0x481310[-0x2cf+-0x19*0x25+-0x66e*-0x1]!==-0x5857815+-0x6e67a0f+-0x6*-0x43e575d)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x5a018a={'vkFormat':_0x52b640['readU32'](),'typeSize':_0x52b640['readU32'](),'pixelWidth':_0x52b640['readU32'](),'pixelHeight':_0x52b640['readU32'](),'pixelDepth':_0x52b640['readU32'](),'layerCount':_0x52b640['readU32'](),'faceCount':_0x52b640['readU32'](),'levelCount':_0x52b640['readU32'](),'supercompressionScheme':_0x52b640['readU32']()},_0x385a24={'dfdByteOffset':_0x52b640['readU32'](),'dfdByteLength':_0x52b640['readU32'](),'kvdByteOffset':_0x52b640['readU32'](),'kvdByteLength':_0x52b640['readU32'](),'sgdByteOffset':_0x52b640['readU64'](),'sgdByteLength':_0x52b640['readU64']()},_0x456a3a=[];for(let _0x4d5a6d=0x71*-0x4d+-0x5ee+0x27eb;_0x4d5a6d<Math['max'](-0x1*-0x991+0x17c+-0xb0c,_0x5a018a['levelCount']);++_0x4d5a6d)_0x456a3a['push']({'byteOffset':_0x52b640['readU64'](),'byteLength':_0x52b640['readU64'](),'uncompressedByteLength':_0x52b640['readU64']()});if(_0x52b640['readU32']()!==_0x385a24['kvdByteOff'+'set']-_0x385a24['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x52b640['skip'](0x211b+0xfc2*-0x2+-0x18f);const _0x29e525=_0x52b640['readU8']();_0x52b640['skip'](_0x385a24['dfdByteLen'+'gth']-(-0x1972+0x1773+0x208)),_0x52b640['skip'](_0x385a24['kvdByteLen'+'gth']),_0x5a018a['supercompr'+'essionSche'+'me']===0x172+-0x191c+0x49*0x53||_0x29e525===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x7f4afc['load'],_0x14fa6b,_0x3b85bb,{'isGGGR':(((_0x53e08e=(_0x24e17d=(_0x94cc4=_0x120c01==null?void(0x19f1+0x18b3+-0x32a4):_0x120c01['file'])==null?void(-0x9*0x2fd+-0x2086+0x3b6b):_0x94cc4['variants'])==null?void(0x1d*0xb3+0x1*0x1a63+-0x2eaa):_0x24e17d['basis'])==null?void(-0x1f3e+-0x2*-0x552+-0x9*-0x24a):_0x53e08e['opt'])&-0x247f+0x268f+-0x104*0x2)!==0x105d*0x2+0x425*-0x2+-0xb8*0x22,'isKTX2':!(-0x1d7d+0x1d71+-0xc*-0x1)})||_0x3b85bb('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x120c01['name']+']('+_0x120c01['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x3b85bb('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x1b22f3){super(),this['maxRetries']=0x1*0x1247+0x26*-0xd1+0x1*0xcbf;}['load'](_0x2940be,_0x3d4cb1,_0x1a1b87){pe['fetchArray'+'Buffer'](_0x2940be['load'],_0x3d4cb1,_0x1a1b87,this['maxRetries']);}['open'](_0x148f4b,_0x12de80,_0x527f81,_0xb72856={}){const _0x454d6d=new Uint32Array(_0x12de80,-0x22a5+0x26db+0x7*-0x9a,0x204e+-0x1*-0x1715+-0x3743),_0xa8c832=_0x454d6d[0x26e+0x1*-0x473+-0x209*-0x1],_0x10e040=_0x454d6d[0xac9+0x24be+-0x17c2*0x2],_0x23073d=Math['max'](_0x454d6d[-0x1*0x154f+-0x9d3*0x3+-0x1*-0x32cf],0x976*-0x2+0x29*-0x3d+0x1*0x1cb2),_0x4b8b95=_0x454d6d[0x6*-0x472+-0x33*-0x3b+0x1*0xeff]===0x26d3+-0x14*-0x185+0x1*-0x4533,_0x1ca894=_0x454d6d[0x24f7+-0x1c86+-0x85c],_0x43aaaa=_0x454d6d[-0x153d+0x7*0x1a3+0x9de],_0x36d290=_0x454d6d[0x503*-0x3+-0x21dc+0x3101]===-0x4e55*-0x1+-0x947*0x2+0xc239*0x1,_0x58d718=-0x15746392*0x1+-0x1*0x5eb0c7f3+-0x9*-0x1262d5c1,_0x4f116a=-0x6441fdf4+0x179ea50*-0x16+-0x8*-0x17420f23,_0x2a77a=0x143*0x1d+0x191+0x5*-0x78b,_0x55a3fd=0x100d*-0x2+-0xa*-0x152+-0x9ad*-0x2,_0x3d4560=-0x4baa1ab*-0x5+-0x6161a628+-0x2*-0x3d7fe90b,_0xae303e=-0x437fa8b5+-0x255a7eb7+0x1cdc*0x55689,_0x4f957b=-0xc12ed1*0x67+0x6d43*-0x6a76+0xac5e2349,_0x1f2c39=-0x1*-0x2ab83d77+-0x5*0x134d6cbc+0x66fe1685,_0x43c235=-0x25fdc*0xdc9+0x12f*-0x16320d+0x6c34e16f;let _0x3245dc=!(0x4a7+-0x790+-0x2ea*-0x1),_0x344e6e=!(0xf21+-0x1*-0x8f+-0x49*0x37),_0x4a6ba7=!(-0x14b8+-0x1af5+0x2fae),_0x4966c3=!(0x166a+-0x17bd+0xa*0x22),_0x58ae81=null,_0x575023=0x2095+0xe9e+-0x2f32,_0x266287;if(_0x4b8b95?_0x1ca894===_0x58d718?(_0x58ae81=td,_0x3245dc=!(0x5e+0x2b*0x5e+-0x1028)):_0x1ca894===_0x4f116a?(_0x58ae81=vl,_0x3245dc=!(-0x1b14+-0x81+-0x1b95*-0x1)):_0x1ca894===_0x2a77a?(_0x58ae81=nt,_0x575023=-0x1*0x258b+-0x1*-0x8e1+0x1cac):_0x1ca894===_0x55a3fd?(_0x58ae81=Xt,_0x575023=-0x17*-0x14c+-0x12*0x132+-0x84c):_0x1ca894===_0x3d4560?(_0x58ae81=id,_0x3245dc=!(0x1b0b+0x5*-0x2b3+0x3*-0x484),_0x344e6e=!(-0x1ed2+-0x12d0+0x31a2*0x1)):_0x1ca894===_0xae303e||_0x1ca894===_0x4f957b?(_0x58ae81=_0x1ca894===_0xae303e?xl:Tl,_0x3245dc=!(-0xe7c+0x15ad*0x1+-0x731),_0x4a6ba7=!(0xf3e+0xd9*0x2e+-0x363c)):(_0x1ca894===_0x1f2c39||_0x1ca894===_0x43c235)&&(_0x58ae81=_0x1ca894===_0x1f2c39?rd:ad,_0x3245dc=!(0x1*0x17b1+0xa2e+-0x179*0x17),_0x4966c3=!(-0x1*-0x1d36+0x49*-0xd+-0x1981)):_0x43aaaa===-0x1*0x19e3+-0x88c+0x228f&&(_0x58ae81=Ne),!_0x58ae81)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x148f4b+'.'),_0x266287=new _e(_0x527f81,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x266287;_0x266287=new _e(_0x527f81,{'name':_0x148f4b,'profilerHint':Pr,'addressU':_0x36d290?ue:yt,'addressV':_0x36d290?ue:yt,'width':_0xa8c832,'height':_0x10e040,'format':_0x58ae81,'cubemap':_0x36d290,'mipmaps':_0x23073d>0x1aa7+-0x11bd*0x1+-0x8e9,..._0xb72856});let _0x1ac000=-0x10fb+0x1*-0x16d6+0x2851*0x1;const _0xd60820=_0x36d290?0x1b60+0x5f*-0x65+0xa21:0x2*-0x51c+0x1f7*0xb+-0xb64;let _0xcad4f7;const _0x19b1b8=-0x1*0x2619+0x1*0x18ef+-0xf1*-0xe,_0x1c6b09=-0x74*0x17+-0x11ed+-0x1c5d*-0x1,_0x3e0bbb=_0x1ca894===_0x58d718?-0x1*0x16cf+-0xb9*-0x11+0x2*0x547:-0x2*-0x27b+0x8c4+-0x6d5*0x2;let _0x5a38f0,_0x2eec34,_0x37dd02;for(let _0x19281d=0x1db6+0x569+-0x231f;_0x19281d<_0xd60820;_0x19281d++){let _0xef01aa=_0xa8c832,_0x2a0828=_0x10e040;for(let _0x164636=0x1359*-0x2+0x220e+0x9*0x84;_0x164636<_0x23073d;_0x164636++){_0x3245dc?_0x344e6e?_0xcad4f7=Math['floor']((_0xef01aa+(-0xd*-0x2f+-0xbb*0x19+0xfe3))/(0x1e85+0xaaf*0x1+-0x2930))*Math['floor']((_0x2a0828+(0xcb3+-0x2290+0x15e0))/(-0x26aa+0x2*0x1f4+-0x1*-0x22c6))*(0x165b+-0x6aa*0x4+0x455):_0x4a6ba7?_0xcad4f7=Math['max'](_0xef01aa,0x16df+0xae9+0x53*-0x68)*Math['max'](_0x2a0828,-0x2*0x337+0x1a5d*-0x1+0x20d3*0x1)/(0x127+-0x1*-0x20ed+-0x2210):_0x4966c3?_0xcad4f7=Math['max'](_0xef01aa,-0x32b*-0xb+0x54d+0x9e*-0x41)*Math['max'](_0x2a0828,-0x2aa+-0x15b4+-0x1*-0x1866)/(-0x59+0x47*0x77+-0x15*0x18e):(_0x5a38f0=Math['floor']((_0xef01aa+_0x19b1b8-(0x4*-0x878+-0xe3*-0x19+0x5db*0x2))/_0x19b1b8),_0x2eec34=Math['floor']((_0x2a0828+_0x1c6b09-(0x1706*-0x1+-0x20e6+0x37ed))/_0x1c6b09),_0x37dd02=_0x5a38f0*_0x2eec34,_0xcad4f7=_0x37dd02*_0x3e0bbb):_0xcad4f7=_0xef01aa*_0x2a0828*(0x2*-0x10c9+0x2*0x12dd+0xa*-0x6a);const _0x1230f7=_0x58ae81===Xt?new Float32Array(_0x12de80,_0x1ac000,_0xcad4f7):_0x58ae81===nt?new Uint16Array(_0x12de80,_0x1ac000,_0xcad4f7):new Uint8Array(_0x12de80,_0x1ac000,_0xcad4f7);_0x36d290?(_0x266287['_levels'][_0x164636]||(_0x266287['_levels'][_0x164636]=[]),_0x266287['_levels'][_0x164636][_0x19281d]=_0x1230f7):_0x266287['_levels'][_0x164636]=_0x1230f7,_0x1ac000+=_0xcad4f7*_0x575023,_0xef01aa=Math['max'](_0xef01aa*(0x6c2+-0x2551+0x1e8f*0x1+0.5),-0x203e+0x18d1*-0x1+0x3910),_0x2a0828=Math['max'](_0x2a0828*(-0x1761+-0x1*0x30d+-0x18e*-0x11+0.5),0x1*-0x902+0x17e0+0x5*-0x2f9);}}return _0x266287['upload'](),_0x266287;}}class rU extends eo{constructor(_0x1d1355){super(),this['maxRetries']=-0x1*0x1c55+0x1*-0x200b+0x3c60;}['load'](_0x301cd6,_0x31fcd5,_0x23427e){pe['fetchArray'+'Buffer'](_0x301cd6['load'],_0x31fcd5,_0x23427e,this['maxRetries']),_0x23427e['data']&&!_0x23427e['data']['type']&&(_0x23427e['data']['type']=mh);}['open'](_0x4f4078,_0x2c52ef,_0x3259fd,_0xd6dd42={}){const _0x3a4ae5=this['parse'](_0x2c52ef);if(!_0x3a4ae5)return null;const _0x3774e8=new _e(_0x3259fd,{'name':_0x4f4078,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x3a4ae5['width'],'height':_0x3a4ae5['height'],'levels':_0x3a4ae5['levels'],'format':Ne,'type':mh,'mipmaps':!(-0x1706+0x19d2+0x1*-0x2cb),..._0xd6dd42});return _0x3774e8['upload'](),_0x3774e8;}['parse'](_0x3c24bf){const _0x28ac66=new KS(_0x3c24bf);if(!_0x28ac66['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x39589f={};for(;;){const _0x5b9a50=_0x28ac66['readLine']();if(_0x5b9a50['length']===0x21a7+0xcab+-0x21b*0x16)break;{const _0x57ab57=_0x5b9a50['split']('=');_0x57ab57['length']===-0x19f4+0x1f9a+0x169*-0x4&&(_0x39589f[_0x57ab57[-0x1cc9+-0x1a29+0x36f2]]=_0x57ab57[-0xfc8+-0x23e2+0x33ab]);}}if(!_0x39589f['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1c7f7f=_0x28ac66['readLine']()['split']('\x20');if(_0x1c7f7f['length']!==0x12*0x38+0xbd1+-0xfbd)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x49dfdf=parseInt(_0x1c7f7f[0x1128+0x4b+-0x1172],0x9d9+-0x10*-0x1ca+-0x266f),_0x1b3fd7=parseInt(_0x1c7f7f[-0x1*0xe9+0x2532+0x2*-0x1223],-0x2*-0x76e+-0x77e+-0x754),_0x58e21e=this['_readPixel'+'s'](_0x28ac66,_0x1b3fd7,_0x49dfdf,_0x1c7f7f[0x86d*0x4+0x2*0x10a1+-0x217b*0x2]==='-Y');return _0x58e21e?{'width':_0x1b3fd7,'height':_0x49dfdf,'levels':[_0x58e21e]}:null;}['_readPixel'+'s'](_0x27f8dc,_0x373a22,_0x19c743,_0x1e1a7d){if(_0x373a22<0x1*0x15f7+0xfab+-0x259a||_0x373a22>0x5*0x210b+-0xf283+0x1*0xcd4b)return this['_readPixel'+'sFlat'](_0x27f8dc,_0x373a22,_0x19c743);const _0x2bbfe5=[0xd*-0x182+0x5d0*0x5+-0x976,-0x1*0x1a5f+0x20e5+-0x686,-0x1ddd+-0xa9f*0x1+0xa1f*0x4,0x9b*0x1f+0x2b7*-0xd+-0x8d*-0x1e];if(_0x27f8dc['readArray'](_0x2bbfe5),_0x2bbfe5[0x1dd3+0x1a89+-0x385c]!==0x2a5*0x3+-0xb*0x36c+0x1db7||_0x2bbfe5[-0x610+0x4a*0x2f+-0x785]!==-0x2*0x39+0x256*-0x1+-0xe*-0x33||(_0x2bbfe5[-0x3*0x609+-0x99e*-0x2+-0x1*0x11f]&0xc9a+0x127e+0x2c*-0xb2)!==-0x71c+-0x1b95*0x1+0x22b1)return _0x27f8dc['skip'](-(0xea4+-0x19a0+0x8*0x160)),this['_readPixel'+'sFlat'](_0x27f8dc,_0x373a22,_0x19c743);const _0x5a2211=new ArrayBuffer(_0x373a22*_0x19c743*(-0x2017+-0x1*0x79f+0x27ba*0x1)),_0x517cdf=new Uint8Array(_0x5a2211);let _0xb7a094=_0x1e1a7d?0x1*-0x1b1+-0x17c2*-0x1+-0x1611:_0x373a22*(0x7f4*-0x3+0x18d1+-0xf1)*(_0x19c743-(-0x42c+-0xac8+0xef5*0x1)),_0x317c4d,_0x20255d,_0x533892,_0x5b2a32,_0x228b55,_0x199afe;for(_0x20255d=0x6d*-0x4f+-0x1d42+0x6fd*0x9;_0x20255d<_0x19c743;++_0x20255d){if(_0x20255d&&_0x27f8dc['readArray'](_0x2bbfe5),(_0x2bbfe5[-0x1147+0x24c6+-0x137d]<<-0x8*0xf1+-0x249b+0x2c2b)+_0x2bbfe5[0x1*-0xa75+-0xd7f*-0x1+-0x307]!==_0x373a22)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5b2a32=-0xfde+-0x4c+0x102a;_0x5b2a32<-0x1e7*-0xa+-0x815+-0xaed*0x1;++_0x5b2a32)for(_0x317c4d=0x4*-0x3f8+-0x3c2+0x1*0x13a2;_0x317c4d<_0x373a22;)if(_0x228b55=_0x27f8dc['readU8'](),_0x228b55>0x1c00+-0x10a8+0x15b*-0x8){if(_0x228b55-=-0x19ac+-0x1712+0x313e,_0x317c4d+_0x228b55>_0x373a22)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x199afe=_0x27f8dc['readU8'](),_0x533892=0x1816+0x6b6+-0x1ecc;_0x533892<_0x228b55;++_0x533892)_0x517cdf[_0xb7a094+_0x5b2a32+(-0x1b84+-0x2*-0x3a0+0x1448)*_0x317c4d++]=_0x199afe;}else{if(_0x228b55===0x108b*0x1+-0x1360+-0x5*-0x91||_0x317c4d+_0x228b55>_0x373a22)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x533892=-0x1019*-0x1+0xf42+0x1f5b*-0x1;_0x533892<_0x228b55;++_0x533892)_0x517cdf[_0xb7a094+_0x5b2a32+(-0xf40+0x2239+0x1*-0x12f5)*_0x317c4d++]=_0x27f8dc['readU8']();}_0xb7a094+=_0x373a22*(-0xd*0x1af+-0x1*0x15ca+0x2bb1)*(_0x1e1a7d?0xa*-0x93+0x1a13+-0x1454:-(0x153+-0x64a+0x4f8));}return _0x517cdf;}['_readPixel'+'sFlat'](_0x10a90e,_0x25f147,_0x145332){return _0x10a90e['remainingB'+'ytes']===_0x25f147*_0x145332*(-0xd*-0x27f+0x1fc5*0x1+0x92c*-0x7)?new Uint8Array(_0x10a90e['arraybuffe'+'r'],_0x10a90e['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x22c64c){const _0x3d60c6=Xi['calcMipLev'+'elsCount'](_0x22c64c['_width'],_0x22c64c['_height']),_0x20de8c=function(_0x358e0f){return _0x358e0f instanceof HTMLCanvasElement||_0x358e0f instanceof HTMLImageElement||_0x358e0f instanceof HTMLVideoElement;};if(!(_0x22c64c['_format']===Ne||_0x22c64c['_format']===Xt)||_0x22c64c['_volume']||_0x22c64c['_compresse'+'d']||_0x22c64c['_levels']['length']===-0x1d3*0x3+0xe*-0x1fd+0x2150||_0x22c64c['_levels']['length']===_0x3d60c6||_0x20de8c(_0x22c64c['_cubemap']?_0x22c64c['_levels'][-0x220+-0xa*0x2c9+0x1dfa][-0xa4+0xcb6*0x1+-0xc12]:_0x22c64c['_levels'][-0x1bea+0x1*-0x50e+0x20f8]))return;const _0x6e4ced=function(_0x5ba59b,_0x10a8da,_0x4b606b){const _0x48af7e=Math['max'](0x189*-0x17+-0xb81+0x2ed1,_0x5ba59b>>0x3*-0x3b9+-0x20ef*0x1+-0x64d*-0x7),_0x1d3b20=Math['max'](-0xcb5+-0x254d+0x3203,_0x10a8da>>-0x139*-0x6+-0xbcf+0x47a),_0x3a6417=new _0x4b606b['constructo'+'r'](_0x48af7e*_0x1d3b20*(-0x373*-0xa+-0xd*0x223+-0x6b3)),_0x55bad5=Math['floor'](_0x5ba59b/_0x48af7e),_0xf7c82d=Math['floor'](_0x10a8da/_0x1d3b20),_0x3d5950=_0x55bad5*_0xf7c82d;for(let _0x3963c6=-0xe88+0x21*-0x13+0x10fb;_0x3963c6<_0x1d3b20;++_0x3963c6)for(let _0x2db790=-0x1f*-0x11+0x202f+0x3*-0xb6a;_0x2db790<_0x48af7e;++_0x2db790)for(let _0x45c7e1=0x1932+0x1*-0x827+0x110b*-0x1;_0x45c7e1<-0x18fd*-0x1+-0x7c6+-0x1133;++_0x45c7e1){let _0x578c05=0xbd1+0x1*0xbf2+-0x17c3;for(let _0x5de1ef=0x1fb7+0x3*0xbf9+-0x1*0x43a2;_0x5de1ef<_0xf7c82d;++_0x5de1ef)for(let _0x399f44=-0x878+0xdc4+0x3*-0x1c4;_0x399f44<_0x55bad5;++_0x399f44)_0x578c05+=_0x4b606b[(_0x2db790*_0x55bad5+_0x399f44+(_0x3963c6*_0xf7c82d+_0x5de1ef)*_0x5ba59b)*(-0x2*0x1032+-0x5*-0x652+-0x1*-0xce)+_0x45c7e1];_0x3a6417[(_0x2db790+_0x3963c6*_0x48af7e)*(-0x22ce+0x1af*-0x5+0x2b3d*0x1)+_0x45c7e1]=_0x578c05/_0x3d5950;}return _0x3a6417;};for(let _0x485a63=_0x22c64c['_levels']['length'];_0x485a63<_0x3d60c6;++_0x485a63){const _0x534370=Math['max'](0xea6+-0x103+0xda2*-0x1,_0x22c64c['_width']>>_0x485a63-(0x3*0xb92+0xdcb+-0x8*0x610)),_0x1fb9b0=Math['max'](-0x1cec+-0x1275+0x2f62,_0x22c64c['_height']>>_0x485a63-(-0x13*-0x1c9+0x114*-0x12+0x1*-0xe82));if(_0x22c64c['_cubemap']){const _0x2b5582=[];for(let _0x1dbea3=-0x1611+-0x121*0x17+0x3008;_0x1dbea3<0x68f+0x56*-0x4b+0x1*0x12a9;++_0x1dbea3)_0x2b5582['push'](_0x6e4ced(_0x534370,_0x1fb9b0,_0x22c64c['_levels'][_0x485a63-(0x4eb*0x1+-0x716+0x22c)][_0x1dbea3]));_0x22c64c['_levels']['push'](_0x2b5582);}else _0x22c64c['_levels']['push'](_0x6e4ced(_0x534370,_0x1fb9b0,_0x22c64c['_levels'][_0x485a63-(-0x1*-0x13df+0x23a9+0x1*-0x3787)]));}_0x22c64c['_levelsUpd'+'ated']=_0x22c64c['_cubemap']?[[!(0x1194*-0x1+0x2f9*-0x3+0x165*0x13),!(0x3*-0x3fa+-0x15fb*-0x1+-0x1f*0x53),!(-0x2387+0x5b9*-0x1+0x2940),!(0xac5+0x221b*-0x1+0x1756),!(-0x26e9+0x2069*-0x1+0x4752),!(0xa06+0x836+0x4*-0x48f)]]:[!(-0x1*0x22f4+-0x5e*0x44+0x82*0x76)];};class oU extends Qe{constructor(_0x4c6e69){super(_0x4c6e69,'texture');const _0x1efff5=_0x4c6e69['assets'],_0x34e017=_0x4c6e69['graphicsDe'+'vice'];this['_device']=_0x34e017,this['_assets']=_0x1efff5,this['imgParser']=new Zk(_0x1efff5,_0x34e017),this['parsers']={'dds':new iU(_0x1efff5),'ktx':new eU(_0x1efff5),'ktx2':new sU(_0x1efff5,_0x34e017),'basis':new qk(_0x1efff5,_0x34e017),'hdr':new rU(_0x1efff5)};}set['crossOrigi'+'n'](_0x5b5776){this['imgParser']['crossOrigi'+'n']=_0x5b5776;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x35e900){this['imgParser']['maxRetries']=_0x35e900;for(const _0x4ba846 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4ba846)&&(this['parsers'][_0x4ba846]['maxRetries']=_0x35e900);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1b95b2){return _0x1b95b2['indexOf']('?')>=-0x15f5+-0x195b+0x2f50?_0x1b95b2['split']('?')[0x53*-0x4a+-0x4a*0x25+0x22b0]:_0x1b95b2;}['_getParser'](_0x465d79){const _0xc6385f=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x465d79))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0xc6385f]||this['imgParser'];}['_getTextur'+'eOptions'](_0x145c66){var _0x1c94b4;const _0x78cf97={'profilerHint':Pr};if(_0x145c66){((_0x1c94b4=_0x145c66['name'])==null?void(0x1130+-0x1eb6*0x1+0xd86):_0x1c94b4['length'])>-0x26e1+-0x92c+0x300d*0x1&&(_0x78cf97['name']=_0x145c66['name']);const _0x1eae90=_0x145c66['data'];_0x1eae90['hasOwnProp'+'erty']('minfilter')&&(_0x78cf97['minFilter']=wS[_0x1eae90['minfilter']]),_0x1eae90['hasOwnProp'+'erty']('magfilter')&&(_0x78cf97['magFilter']=wS[_0x1eae90['magfilter']]),_0x1eae90['hasOwnProp'+'erty']('addressu')&&(_0x78cf97['addressU']=TS[_0x1eae90['addressu']]),_0x1eae90['hasOwnProp'+'erty']('addressv')&&(_0x78cf97['addressV']=TS[_0x1eae90['addressv']]),_0x1eae90['hasOwnProp'+'erty']('mipmaps')&&(_0x78cf97['mipmaps']=_0x1eae90['mipmaps']),_0x1eae90['hasOwnProp'+'erty']('anisotropy')&&(_0x78cf97['anisotropy']=_0x1eae90['anisotropy']),_0x1eae90['hasOwnProp'+'erty']('flipY')&&(_0x78cf97['flipY']=!!_0x1eae90['flipY']),_0x1eae90['hasOwnProp'+'erty']('srgb')&&(_0x78cf97['srgb']=!!_0x1eae90['srgb']),_0x78cf97['type']=Ds,_0x1eae90['hasOwnProp'+'erty']('type')?_0x78cf97['type']=aU[_0x1eae90['type']]:_0x1eae90['hasOwnProp'+'erty']('rgbm')&&_0x1eae90['rgbm']?_0x78cf97['type']=Zi:_0x145c66['file']&&(_0x145c66['file']['opt']&-0x1539+-0x9*-0x81+-0x14*-0xd6)!==-0x77c+0x1*0x1dbf+-0x1643&&(_0x78cf97['type']=Jo);}return _0x78cf97;}['load'](_0x4c2441,_0x50e739,_0x503ed1){typeof _0x4c2441=='string'&&(_0x4c2441={'load':_0x4c2441,'original':_0x4c2441}),this['_getParser'](_0x4c2441['original'])['load'](_0x4c2441,_0x50e739,_0x503ed1);}['open'](_0x12ea35,_0x34db90,_0x66759b){if(!_0x12ea35)return;const _0x59d7d6=this['_getTextur'+'eOptions'](_0x66759b);let _0x502e49=this['_getParser'](_0x12ea35)['open'](_0x12ea35,_0x34db90,this['_device'],_0x59d7d6);return _0x502e49===null?_0x502e49=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x502e49),_0x34db90['unswizzled'+'GGGR']&&(_0x66759b['file']['variants']['basis']['opt']&=-(0x17*0x83+0x1daa+-0x2966))),_0x502e49;}['patch'](_0x46d504,_0x9538c1){const _0x4cbe19=_0x46d504['resource'];if(!_0x4cbe19)return;const _0x2ee3f6=this['_getTextur'+'eOptions'](_0x46d504);for(const _0x4b8c0a of Object['keys'](_0x2ee3f6))_0x4cbe19[_0x4b8c0a]=_0x2ee3f6[_0x4b8c0a];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x291b4a){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x291b4a;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x33cf8a){!this['_supported']||this['_manager']['active']||(this['_root']=_0x33cf8a);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x53c4fd,_0x1c8659,_0x36a278,_0x38c45a=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x53c4fd,this['_xrHitTest'+'Source']=_0x1c8659,this['_transient']=_0x36a278,this['_inputSour'+'ce']=_0x38c45a);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x1bbd22=this['manager']['hitTest']['sources'],_0x1911b3=_0x1bbd22['indexOf'](this);_0x1911b3!==-(-0x23b6+0x1843+0xb74)&&_0x1bbd22['splice'](_0x1911b3,0x152e+0xd23+-0x2250),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x267e61){if(this['_transient']){const _0x29f37f=_0x267e61['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x5dac86=-0x1e7a+0x211+-0x40f*-0x7;_0x5dac86<_0x29f37f['length'];_0x5dac86++){const _0x55def1=_0x29f37f[_0x5dac86];if(!_0x55def1['results']['length'])continue;let _0x5d6587;_0x55def1['inputSourc'+'e']&&(_0x5d6587=this['manager']['input']['_getByInpu'+'tSource'](_0x55def1['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x55def1['results'],_0x5d6587);}}else{const _0x206dc2=_0x267e61['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x206dc2['length'])return;this['updateHitR'+'esults'](_0x206dc2);}}['updateHitR'+'esults'](_0x390e4c,_0x372adc){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x372adc)return;const _0x3291a5=Rc['pop']()??new D();_0x372adc?_0x3291a5['copy'](_0x372adc['getOrigin']()):_0x3291a5['copy'](this['manager']['camera']['getPositio'+'n']());let _0x3c0a80=(-0xab9+-0x96d*0x2+0x1d94)/(-0x20a6+-0xd35+-0x7*-0x68d),_0x39b0bb=null;const _0x14cfc6=Rc['pop']()??new D(),_0x2ab0dd=bS['pop']()??new le();for(let _0x5edced=0x2069*-0x1+-0x24cb*-0x1+-0x462;_0x5edced<_0x390e4c['length'];_0x5edced++){const _0x7f0422=_0x390e4c[_0x5edced]['getPose'](this['manager']['_reference'+'Space']),_0xddae61=_0x3291a5['distance'](_0x7f0422['transform']['position']);_0xddae61>=_0x3c0a80||(_0x3c0a80=_0xddae61,_0x39b0bb=_0x390e4c[_0x5edced],_0x14cfc6['copy'](_0x7f0422['transform']['position']),_0x2ab0dd['copy'](_0x7f0422['transform']['orientatio'+'n']));}this['fire']('result',_0x14cfc6,_0x2ab0dd,_0x372adc||this['_inputSour'+'ce'],_0x39b0bb),this['manager']['hitTest']['fire']('result',this,_0x14cfc6,_0x2ab0dd,_0x372adc||this['_inputSour'+'ce'],_0x39b0bb),Rc['push'](_0x3291a5),Rc['push'](_0x14cfc6),bS['push'](_0x2ab0dd);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x4a19db){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x2052+-0x19d9*0x1+0x11*0x36c)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x163*-0x1+0x152a+-0x5a3*0x4)),h(this,'sources',[]),(this['manager']=_0x4a19db,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x15b010=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0xf8*0x8+-0x23da+0x1c1b);if(!_0x15b010)return;this['_available']=_0x15b010,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0xc77+0x5ae*0x6+0x94f*-0x5),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x7c8929=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x7c8929})['then'](_0xdbde74=>{_0xdbde74['cancel'](),this['manager']['active']&&(this['_available']=!(0x14a1+0x1*0x1454+-0x28f5),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x5d1+0x1*0x107+0x11*-0x67);for(let _0x57f7a5=0xc*0x1a7+0x164+-0x1538;_0x57f7a5<this['sources']['length'];_0x57f7a5++)this['sources'][_0x57f7a5]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x41837b={}){var _0x374bce,_0x2de177;if(!this['_supported']){(_0x374bce=_0x41837b['callback'])==null||_0x374bce['call'](_0x41837b,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x2de177=_0x41837b['callback'])==null||_0x2de177['call'](_0x41837b,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x41837b['profile']&&!_0x41837b['spaceType']&&(_0x41837b['spaceType']=ES);let _0x22d996;const _0x1b6f51=_0x41837b['offsetRay'];if(_0x1b6f51){const _0x93ff0=new DOMPoint(_0x1b6f51['origin']['x'],_0x1b6f51['origin']['y'],_0x1b6f51['origin']['z'],0x1a5c+0x20f*-0x5+-0x1010),_0x19b334=new DOMPoint(_0x1b6f51['direction']['x'],_0x1b6f51['direction']['y'],_0x1b6f51['direction']['z'],0x11*0xfb+0x1f8a+-0x3035);_0x22d996=new XRRay(_0x93ff0,_0x19b334);}const _0x3e67bb=_0x41837b['callback'];_0x41837b['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x41837b['spaceType'])['then'](_0x2da606=>{if(!this['manager']['session']){const _0x18ce73=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x3e67bb&&_0x3e67bb(_0x18ce73),this['fire']('error',_0x18ce73);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x2da606,'entityTypes':_0x41837b['entityType'+'s']||void(0xd3*0x1+0xd*-0xb9+0x892),'offsetRay':_0x22d996})['then'](_0x354d75=>{this['_onHitTest'+'Source'](_0x354d75,!(-0x72c+-0x54f+0xc7c),_0x41837b['inputSourc'+'e'],_0x3e67bb);})['catch'](_0x2ececb=>{_0x3e67bb&&_0x3e67bb(_0x2ececb),this['fire']('error',_0x2ececb);});})['catch'](_0x219b1c=>{_0x3e67bb&&_0x3e67bb(_0x219b1c),this['fire']('error',_0x219b1c);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x41837b['profile'],'entityTypes':_0x41837b['entityType'+'s']||void(-0x2679+-0x1bb*0xd+0x3cf8),'offsetRay':_0x22d996})['then'](_0x28d3b0=>{this['_onHitTest'+'Source'](_0x28d3b0,!(-0xf42+0x1*-0x8e1+0x1823),_0x41837b['inputSourc'+'e'],_0x3e67bb);})['catch'](_0x5b4d59=>{_0x3e67bb&&_0x3e67bb(_0x5b4d59),this['fire']('error',_0x5b4d59);});}['_onHitTest'+'Source'](_0x4d8f04,_0x5dfa74,_0x52d687,_0x144df4){if(!this['manager']['session']){_0x4d8f04['cancel']();const _0x5351ea=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x144df4&&_0x144df4(_0x5351ea),this['fire']('error',_0x5351ea);return;}const _0x303054=new ju(this['manager'],_0x4d8f04,_0x5dfa74,_0x52d687??null);this['sources']['push'](_0x303054),_0x144df4&&_0x144df4(null,_0x303054),this['fire']('add',_0x303054);}['update'](_0x1ebe8e){if(this['_available']){for(let _0x3e89cf=-0x1ea0+0xd19*0x1+0x1187;_0x3e89cf<this['sources']['length'];_0x3e89cf++)this['sources'][_0x3e89cf]['update'](_0x1ebe8e);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x4904ce,_0x1a26e4){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x33d+0x47*-0x37+-0x9*-0x20e),h(this,'_trackable',!(-0x1*0x4f3+-0x19fe*-0x1+-0x150a)),h(this,'_tracking',!(-0x79b+0x1*-0x1a57+0x21f3)),h(this,'_emulated',!(0x203e+0x1429+0x26*-0x161)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x4904ce,this['_width']=_0x1a26e4);}get['image'](){return this['_image'];}set['width'](_0x481bbc){this['_width']=_0x481bbc;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x2fee66=>(this['_bitmap']=_0x2fee66,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0xd4b2e9){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x10de+0xae4+-0xf5*0x1d)),h(this,'_images',[]),(this['_manager']=_0xd4b2e9,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x2389a6,_0x15791e){if(!this['_supported']||this['_manager']['active'])return null;const _0x290b22=new Yu(_0x2389a6,_0x15791e);return this['_images']['push'](_0x290b22),_0x290b22;}['remove'](_0x355118){if(this['_manager']['active'])return;const _0x3c4502=this['_images']['indexOf'](_0x355118);_0x3c4502!==-(-0x1aa2+0x1ae0+-0x3d)&&(_0x355118['destroy'](),this['_images']['splice'](_0x3c4502,0x1b35*-0x1+0x18d7+0x25f*0x1));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x162b0e=>{this['_available']=!(-0xd6f*0x2+0x6*0x4cf+-0x1fc);for(let _0x4b6e83=-0xa76*-0x2+-0x2168+-0xc7c*-0x1;_0x4b6e83<_0x162b0e['length'];_0x4b6e83++)this['_images'][_0x4b6e83]['_trackable']=_0x162b0e[_0x4b6e83]==='trackable';})['catch'](_0x46e8fc=>{this['_available']=!(0x1dd+0x12a2+-0x147e),this['fire']('error',_0x46e8fc);});}['_onSession'+'End'](){this['_available']=!(0xd67+-0x26*-0xfb+-0x32a8);for(let _0x5f25bb=0x8f3+0x4*-0x29+-0x1*0x84f;_0x5f25bb<this['_images']['length'];_0x5f25bb++){const _0xfc7153=this['_images'][_0x5f25bb];_0xfc7153['_pose']=null,_0xfc7153['_measuredW'+'idth']=-0xd57*0x1+-0x952+0x16a9,_0xfc7153['_tracking']&&(_0xfc7153['_tracking']=!(0x1*0x2357+0x52*0x10+0x1*-0x2876),_0xfc7153['fire']('untracked'));}}['prepareIma'+'ges'](_0x28008e){this['_images']['length']?Promise['all'](this['_images']['map'](_0x29e928=>_0x29e928['prepare']()))['then'](_0x1051ed=>{_0x28008e(null,_0x1051ed);})['catch'](_0x2ad7d3=>{_0x28008e(_0x2ad7d3,null);}):_0x28008e(null,null);}['update'](_0x477e07){if(!this['_available'])return;const _0x9223f1=_0x477e07['getImageTr'+'ackingResu'+'lts'](),_0x451950={};for(let _0x39888f=0x4*0x157+0xa5*0x9+0x1*-0xb29;_0x39888f<_0x9223f1['length'];_0x39888f++){_0x451950[_0x9223f1[_0x39888f]['index']]=_0x9223f1[_0x39888f];const _0x3fc636=this['_images'][_0x9223f1[_0x39888f]['index']];_0x3fc636['_emulated']=_0x9223f1[_0x39888f]['trackingSt'+'ate']==='emulated',_0x3fc636['_measuredW'+'idth']=_0x9223f1[_0x39888f]['measuredWi'+'dthInMeter'+'s'],_0x3fc636['_pose']=_0x477e07['getPose'](_0x9223f1[_0x39888f]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x5f32b2=-0x5f4+0x1aa6+-0x14b2;_0x5f32b2<this['_images']['length'];_0x5f32b2++)this['_images'][_0x5f32b2]['_tracking']&&!_0x451950[_0x5f32b2]?(this['_images'][_0x5f32b2]['_tracking']=!(0x14d0+-0x8*0x4d8+0x11f1),this['_images'][_0x5f32b2]['fire']('untracked')):!this['_images'][_0x5f32b2]['_tracking']&&_0x451950[_0x5f32b2]&&(this['_images'][_0x5f32b2]['_tracking']=!(0x3e*0x34+-0x6d1+-0x5c7),this['_images'][_0x5f32b2]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x4f228a,_0x1d8548){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x4f228a,this['_hand']=_0x1d8548,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x1f27+-0xbb6*-0x2+0x1*0x7bb;l<AS['length'];l++)R0[AS[l]]=!(-0x14e6+0x34c*0x7+-0x1*0x22e);class CS{constructor(_0x25b0a6,_0x15e557,_0x5a3526,_0x5af5ef=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x93b+-0x17df+-0xea4*-0x1)),(this['_index']=_0x25b0a6,this['_id']=_0x15e557,this['_hand']=_0x5a3526,this['_finger']=_0x5af5ef,this['_wrist']=_0x15e557==='wrist',this['_tip']=this['_finger']&&!!R0[_0x15e557]);}['update'](_0x3aa33d){this['_dirtyLoca'+'l']=!(0xd*0xd9+0x1ce4+-0x1*0x27e9),this['_radius']=_0x3aa33d['radius'],this['_localPosi'+'tion']['copy'](_0x3aa33d['transform']['position']),this['_localRota'+'tion']['copy'](_0x3aa33d['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x4*-0x47f+0x1296+0x11*-0x9),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x301077=this['_hand']['_manager']['camera']['parent'];_0x301077?this['_worldTran'+'sform']['mul2'](_0x301077['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x1cab+0x131+-0x15*0x16c+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x2879a5){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x12fa+0x17d6+-0x4db)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x557fe5=_0x2879a5['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x2879a5['_manager'],this['_inputSour'+'ce']=_0x2879a5,_0x557fe5['get']('wrist')){const _0x25cb09=new CS(-0x7d8+-0x12c4+0x1a9c,'wrist',this,null);this['_wrist']=_0x25cb09,this['_joints']['push'](_0x25cb09),this['_jointsByI'+'d']['wrist']=_0x25cb09;}for(let _0x5b728b=-0x1a39+-0x1*0x270d+-0x5*-0xd0e;_0x5b728b<rh['length'];_0x5b728b++){const _0x33d238=new uU(_0x5b728b,this);for(let _0x4bc533=-0x1*-0x1d01+-0x13*0x20e+0xa09;_0x4bc533<rh[_0x5b728b]['length'];_0x4bc533++){const _0x5c65f0=rh[_0x5b728b][_0x4bc533];if(!_0x557fe5['get'](_0x5c65f0))continue;const _0x55925f=new CS(_0x4bc533,_0x5c65f0,this,_0x33d238);this['_joints']['push'](_0x55925f),this['_jointsByI'+'d'][_0x5c65f0]=_0x55925f,_0x55925f['tip']&&(this['_tips']['push'](_0x55925f),_0x33d238['_tip']=_0x55925f),_0x33d238['_joints']['push'](_0x55925f);}}}['update'](_0x1669a1){const _0x33de05=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x456d99=0x2185+0x60e+-0x3*0xd31;_0x456d99<this['_joints']['length'];_0x456d99++){const _0x2c5ab2=this['_joints'][_0x456d99],_0x5d648f=_0x33de05['hand']['get'](_0x2c5ab2['_id']);if(_0x5d648f){let _0x4013dd;if(_0x1669a1['session']['visibility'+'State']!=='hidden'&&(_0x4013dd=_0x1669a1['getJointPo'+'se'](_0x5d648f,this['_manager']['_reference'+'Space'])),_0x4013dd)_0x2c5ab2['update'](_0x4013dd),_0x2c5ab2['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x111b+-0x29*0x40+0x1b5b),this['fire']('tracking'));else{if(_0x2c5ab2['wrist']){this['_tracking']&&(this['_tracking']=!(-0x2116+-0xb57+0x2c6e),this['fire']('trackinglo'+'st'));break;}}}}const _0x365d19=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x127f7c=this['_jointsByI'+'d']['thumb-tip'],_0x44b12c=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0xca07e5=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x3c97a3=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0xe27a33=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x365d19&&_0x127f7c&&_0x44b12c&&_0xca07e5&&_0x3c97a3&&_0xe27a33){this['_inputSour'+'ce']['_dirtyRay']=!(-0x1*0x20ad+0x879*-0x1+-0x2e*-0xe5),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x127f7c['_localPosi'+'tion'],_0xca07e5['_localPosi'+'tion'],-0x23f0+0x141+0x22af+0.5);let _0x1058d9=_0x365d19,_0x5d7166=_0xe27a33;if(this['_inputSour'+'ce']['handedness']===hU){const _0x3e3415=_0x1058d9;_0x1058d9=_0x5d7166,_0x5d7166=_0x3e3415;}Wr['sub2'](_0x1058d9['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x5d7166['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x44b12c['_localPosi'+'tion'],_0x3c97a3['_localPosi'+'tion'],0x581*0x6+0xec7+0x3*-0xfef+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x1078+-0x1315+0x238d+0.5)['normalize']();}this['_fingerIsC'+'losed'](0xadc+-0x18ad+0xdd2*0x1)&&this['_fingerIsC'+'losed'](-0x232e+0x15f+0x313*0xb)&&this['_fingerIsC'+'losed'](0x5b3+0x2260+-0x2810)&&this['_fingerIsC'+'losed'](-0x127*-0x6+-0x1957+0x1*0x1271)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1b2a+-0x78b+-0x139f),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x259a+0x7*0x2fb+-0x3a76),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x1bd0fc){const _0x12369c=this['_fingers'][_0x1bd0fc];return Wr['sub2'](_0x12369c['joints'][0x227f*-0x1+-0xef*0x23+0x3*0x1664]['_localPosi'+'tion'],_0x12369c['joints'][-0x27c+-0xc7*0x2+0x45*0xf]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x12369c['joints'][0x1*0x15bb+-0x53b*-0x6+0xa9f*-0x5]['_localPosi'+'tion'],_0x12369c['joints'][0x1ef1+0x1b68*-0x1+-0x386*0x1]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x2356+-0x1*-0x14d3+-0x2e7*-0x5+0.8);}['getJointBy'+'Id'](_0xac46e9){return this['_jointsByI'+'d'][_0xac46e9]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=-0xe27+0x1be6+-0xdbf;class Qt extends me{constructor(_0x421e6e,_0x2a9a37){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0xf14+-0x139d*0x1+-0x48a*-0x1)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x2f6*-0x1+0x3*0xb19+-0x795*0x4)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x4*-0x316+-0x1*-0x18ca+-0xc72)),h(this,'_dirtyRay',!(-0x28*0xef+-0x5*0x4cf+0x3d64*0x1)),h(this,'_selecting',!(-0x225+0x15f1+-0x13cb)),h(this,'_squeezing',!(0x869*-0x2+-0x1*0x3f5+0x98*0x23)),h(this,'_elementIn'+'put',!(0x1a17+0x7*0xaa+0x2b*-0xb7)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x421e6e,this['_xrInputSo'+'urce']=_0x2a9a37,_0x2a9a37['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2616d7){this['_elementIn'+'put']!==_0x2616d7&&(this['_elementIn'+'put']=_0x2616d7,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x351091){if(this['_hand'])this['_hand']['update'](_0x351091);else{const _0x3197ef=this['_xrInputSo'+'urce']['gripSpace'];if(_0x3197ef){const _0x1e4628=_0x351091['getPose'](_0x3197ef,this['_manager']['_reference'+'Space']);if(_0x1e4628){this['_grip']||(this['_grip']=!(0x3d*-0xa2+-0x90*-0x34+-0x156*-0x7),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x2aa153=de(),_0x182709=(_0x2aa153-this['_velocitie'+'sTimestamp'])/(0x7d*-0x1a+0xef*-0xe+0x1dac);this['_velocitie'+'sTimestamp']=_0x2aa153,this['_dirtyLoca'+'l']=!(-0x9d5+-0x22a2+0x2c77),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x1e4628['transform']['position']),this['_localRota'+'tion']['copy'](_0x1e4628['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0xc82+0x1*-0x179c+0x241e),this['_manager']['input']['velocities'+'Supported']&&_0x1e4628['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x1e4628['linearVelo'+'city']):_0x182709>0x139*-0x1+-0x202a+-0xb*-0x309&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x182709),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x2282+0xf5a+0x4*-0xc77+0.15));}else this['_velocitie'+'sAvailable']=!(0x1719+0x1a2b+-0x3143);}const _0x518a99=_0x351091['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x518a99&&(this['_dirtyRay']=!(-0x574*0x2+0x15a3+-0xabb),this['_rayLocal']['origin']['copy'](_0x518a99['transform']['position']),this['_rayLocal']['direction']['set'](0x1fd2+-0x1d97+-0x23b,-0x1*-0x2371+-0xf6*-0x16+-0x3895,-(-0x103f+-0x2c6+0x1306)),DS['copy'](_0x518a99['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1*0x1b23+-0x1524+-0x2ff*0x2),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x2cc1e3=this['_manager']['camera']['parent'];_0x2cc1e3?this['_worldTran'+'sform']['mul2'](_0x2cc1e3['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x512b0d=this['_dirtyRay'];if(this['_dirtyRay']=!(-0xad8+-0x707+0x11e0),this['_manager']['camera']['parent']){const _0x1ea0f4=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x1ea0f4['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x1ea0f4),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x512b0d&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x30f34c={}){_0x30f34c['inputSourc'+'e']=this,_0x30f34c['profile']=this['_xrInputSo'+'urce']['profiles'][-0x997+0x1aec+-0x1155];const _0x257d29=_0x30f34c['callback'];_0x30f34c['callback']=(_0x4901e9,_0x36fe4e)=>{_0x36fe4e&&this['onHitTestS'+'ourceAdd'](_0x36fe4e),_0x257d29&&_0x257d29(_0x4901e9,_0x36fe4e);},this['_manager']['hitTest']['start'](_0x30f34c);}['onHitTestS'+'ourceAdd'](_0x174bf7){this['_hitTestSo'+'urces']['push'](_0x174bf7),this['fire']('hittest:ad'+'d',_0x174bf7),_0x174bf7['on']('result',(_0x22bdba,_0x1583ab,_0xc98ff5,_0x4595b6)=>{_0xc98ff5===this&&this['fire']('hittest:re'+'sult',_0x174bf7,_0x22bdba,_0x1583ab,_0x4595b6);}),_0x174bf7['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x174bf7),this['fire']('hittest:re'+'move',_0x174bf7);});}['onHitTestS'+'ourceRemov'+'e'](_0x272dbc){const _0x33f96a=this['_hitTestSo'+'urces']['indexOf'](_0x272dbc);_0x33f96a!==-(0x171d*0x1+-0x235*0x7+-0x7a9)&&this['_hitTestSo'+'urces']['splice'](_0x33f96a,0x3b*0x25+0x49*0x1+-0xcd*0xb);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x5e4e76){var _0x54c07b,_0x207297;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1398+0x46+0x33*0x61)),(this['manager']=_0x5e4e76,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x207297=(_0x54c07b=window['XRPose'])==null?void(0xa25+0x1f3f+-0x1*0x2964):_0x54c07b['prototype'])!=null&&_0x207297['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x1c44f1=>{this['_onInputSo'+'urcesChang'+'e'](_0x1c44f1);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x2b9cc8=this['manager']['session'];_0x2b9cc8['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x2b9cc8['addEventLi'+'stener']('select',_0x51be07=>{const _0x462913=this['_getByInpu'+'tSource'](_0x51be07['inputSourc'+'e']);_0x462913['update'](_0x51be07['frame']),_0x462913['fire']('select',_0x51be07),this['fire']('select',_0x462913,_0x51be07);}),_0x2b9cc8['addEventLi'+'stener']('selectstar'+'t',_0x920119=>{const _0x35bf36=this['_getByInpu'+'tSource'](_0x920119['inputSourc'+'e']);_0x35bf36['_selecting']||(_0x35bf36['update'](_0x920119['frame']),_0x35bf36['_selecting']=!(0x1*0xd3f+0x15*0x13+0xa*-0x17b),_0x35bf36['fire']('selectstar'+'t',_0x920119),this['fire']('selectstar'+'t',_0x35bf36,_0x920119));}),_0x2b9cc8['addEventLi'+'stener']('selectend',_0x1a3ec6=>{const _0x41410b=this['_getByInpu'+'tSource'](_0x1a3ec6['inputSourc'+'e']);_0x41410b['update'](_0x1a3ec6['frame']),_0x41410b['_selecting']=!(0x7*-0x301+0x10d6+0x1*0x432),_0x41410b['fire']('selectend',_0x1a3ec6),this['fire']('selectend',_0x41410b,_0x1a3ec6);}),_0x2b9cc8['addEventLi'+'stener']('squeeze',_0x282a1e=>{const _0xd63e7b=this['_getByInpu'+'tSource'](_0x282a1e['inputSourc'+'e']);_0xd63e7b['update'](_0x282a1e['frame']),_0xd63e7b['fire']('squeeze',_0x282a1e),this['fire']('squeeze',_0xd63e7b,_0x282a1e);}),_0x2b9cc8['addEventLi'+'stener']('squeezesta'+'rt',_0x40b6de=>{const _0x557645=this['_getByInpu'+'tSource'](_0x40b6de['inputSourc'+'e']);_0x557645['update'](_0x40b6de['frame']),_0x557645['_squeezing']=!(0x22c7+0x1100+-0x33c7),_0x557645['fire']('squeezesta'+'rt',_0x40b6de),this['fire']('squeezesta'+'rt',_0x557645,_0x40b6de);}),_0x2b9cc8['addEventLi'+'stener']('squeezeend',_0x2693fc=>{const _0x4816e8=this['_getByInpu'+'tSource'](_0x2693fc['inputSourc'+'e']);_0x4816e8['update'](_0x2693fc['frame']),_0x4816e8['_squeezing']=!(-0x21b4+-0x1536+0x36eb),_0x4816e8['fire']('squeezeend',_0x2693fc),this['fire']('squeezeend',_0x4816e8,_0x2693fc);});const _0x13528e=_0x2b9cc8['inputSourc'+'es'];for(let _0xcb02a9=0x1fc5+0x529*-0x4+-0xb21;_0xcb02a9<_0x13528e['length'];_0xcb02a9++)this['_addInputS'+'ource'](_0x13528e[_0xcb02a9]);}['_onSession'+'End'](){let _0x3b18c7=this['_inputSour'+'ces']['length'];for(;_0x3b18c7--;){const _0x41d848=this['_inputSour'+'ces'][_0x3b18c7];this['_inputSour'+'ces']['splice'](_0x3b18c7,0x129c+-0x83d*0x4+0xe59),_0x41d848['fire']('remove'),this['fire']('remove',_0x41d848);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x26fef9){for(let _0x75c73a=0x1d51+0x859*-0x1+-0x1*0x14f8;_0x75c73a<_0x26fef9['removed']['length'];_0x75c73a++)this['_removeInp'+'utSource'](_0x26fef9['removed'][_0x75c73a]);for(let _0x39d5d8=-0x7+0x1e64+0x3*-0xa1f;_0x39d5d8<_0x26fef9['added']['length'];_0x39d5d8++)this['_addInputS'+'ource'](_0x26fef9['added'][_0x39d5d8]);}['_getByInpu'+'tSource'](_0x5745f4){for(let _0x16a27d=-0x3*-0x3f1+0x1aa2+-0x2675;_0x16a27d<this['_inputSour'+'ces']['length'];_0x16a27d++)if(this['_inputSour'+'ces'][_0x16a27d]['inputSourc'+'e']===_0x5745f4)return this['_inputSour'+'ces'][_0x16a27d];return null;}['_removeApp'+'Entity'](_0x34a128){const _0x5e486f=this['manager']['app']['root']['findByName']('Armature_'+_0x34a128);_0x5e486f&&this['manager']['app']['root']['removeChil'+'d'](_0x5e486f);}['_addInputS'+'ource'](_0x25cce9){if(this['_removeApp'+'Entity'](_0x25cce9['handedness']),this['_getByInpu'+'tSource'](_0x25cce9))return;const _0x5565b1=new Qt(this['manager'],_0x25cce9);this['_inputSour'+'ces']['push'](_0x5565b1),this['fire']('add',_0x5565b1);}['_removeInp'+'utSource'](_0x4b93b9){for(let _0x215149=0x3*-0xbfb+-0x15b*0x13+0x3db2;_0x215149<this['_inputSour'+'ces']['length'];_0x215149++){if(this['_inputSour'+'ces'][_0x215149]['inputSourc'+'e']!==_0x4b93b9)continue;const _0xc81f2a=this['_inputSour'+'ces'][_0x215149];this['_inputSour'+'ces']['splice'](_0x215149,-0x3b5+-0x1156+0x150c);let _0xd29da1=_0xc81f2a['hitTestSou'+'rces']['length'];for(;_0xd29da1--;)_0xc81f2a['hitTestSou'+'rces'][_0xd29da1]['remove']();this['_removeApp'+'Entity'](_0xc81f2a['handedness']),_0xc81f2a['fire']('remove'),this['fire']('remove',_0xc81f2a);return;}}['update'](_0x574e59){for(let _0x5d4fa0=-0x3*-0x3d6+0x1380+-0x1f02;_0x5d4fa0<this['_inputSour'+'ces']['length'];_0x5d4fa0++)this['_inputSour'+'ces'][_0x5d4fa0]['update'](_0x574e59);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x4b8052){super(),h(this,'_manager'),h(this,'_supported',!(0x35f*0x9+-0xf88+-0xece)),h(this,'_available',!(0x5dd+0x2080+-0x4*0x997)),h(this,'_lightProb'+'eRequested',!(-0x15e3+0x1da+-0x72*-0x2d)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0x7*0x23+0x4*-0x11e+0x56d),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x3*-0x7bd+-0x2703+0x3b*0x45)),(this['_manager']=_0x4b8052,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x1f6*0x1+0xd*0x2c1+-0x25c3*0x1));}['_onSession'+'End'](){this['_supported']=!(-0x1f1f+-0x1315*-0x1+-0xc0b*-0x1),this['_available']=!(-0xde4+-0x186b+0x2*0x1328),this['_lightProb'+'eRequested']=!(-0x874+0x2145*-0x1+0x29ba),this['_lightProb'+'e']=null;}['start'](){let _0xff3634;if(this['_manager']['session']||(_0xff3634=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0xff3634&&this['_manager']['type']!==$o&&(_0xff3634=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0xff3634&&!this['_supported']&&(_0xff3634=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0xff3634&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0xff3634=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0xff3634){this['fire']('error',_0xff3634);return;}this['_lightProb'+'eRequested']=!(-0x3*-0x485+-0x239c+0x160d),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x16c835=>{const _0x4d4882=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x19ed+-0x2415*-0x1+-0x3e01),this['_manager']['active']?_0x4d4882&&(this['_lightProb'+'e']=_0x16c835):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0xc35df0=>{this['_lightProb'+'eRequested']=!(-0xb53+0x477*0x6+-0xf76),this['fire']('error',_0xc35df0);});}['end'](){this['_lightProb'+'eRequested']=!(-0xea3+-0x1*-0x21e+0xe5*0xe),this['_lightProb'+'e']=null,this['_available']=!(0x8c6+0x5*-0x785+0x1cd4);}['update'](_0x937979){if(!this['_lightProb'+'e'])return;const _0x462524=_0x937979['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x462524)return;this['_available']||(this['_available']=!(-0x1fcb*-0x1+0xf3*0x1b+-0x396c),this['fire']('available'));const _0x1ac5b3=_0x462524['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0xd98+-0xd67+0x1b00*0x1,Math['max'](_0x1ac5b3['x'],Math['max'](_0x1ac5b3['y'],_0x1ac5b3['z']))),Ja['copy'](_0x1ac5b3)['mulScalar']((0xf9e*0x2+0xf*-0xfb+-0x1*0x1086)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x5*-0x11c+-0xb38+0x10c4,0x2f*0xe+0x2069+-0x22fb,0x3f*-0x2b+0x20e3+-0xb27*0x2),IS['copy'](_0x462524['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x95*0x3a+-0xa*-0x262+0xa48),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x462524['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0x21ce+-0x161f+-0x67*-0x8b;class Qu extends me{constructor(_0x32c06c,_0xb123ed){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x32c06c,this['_xrPlane']=_0xb123ed,this['_lastChang'+'edTime']=_0xb123ed['lastChange'+'dTime'],this['_orientati'+'on']=_0xb123ed['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0xf93a94){const _0x573cba=this['_planeDete'+'ction']['_manager'],_0x5ddaea=_0xf93a94['getPose'](this['_xrPlane']['planeSpace'],_0x573cba['_reference'+'Space']);_0x5ddaea&&(this['_position']['copy'](_0x5ddaea['transform']['position']),this['_rotation']['copy'](_0x5ddaea['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x12425d){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x14*-0x145+0x1dfd+0x15*-0x38)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x12425d,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0xf80+-0x2*0xc4b+0x917)&&(this['_available']=!(-0x5*-0x233+0x1*0x2461+0x5ec*-0x8),this['fire']('available'));}['_onSession'+'End'](){for(let _0x179228=0x14*0x4a+0x1d69+-0x2331;_0x179228<this['_planes']['length'];_0x179228++)this['_planes'][_0x179228]['destroy'](),this['fire']('remove',this['_planes'][_0x179228]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0xe67+-0x1c*-0x49+0x1f*0x35,this['_available']&&(this['_available']=!(-0x82d+0x1*0x3ec+0x442),this['fire']('unavailabl'+'e'));}['update'](_0x4f73a7){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4f73a7['detectedPl'+'anes']['size'])this['_available']=!(-0xbf3*0x1+-0x2e*-0x32+-0x17*-0x21),this['fire']('available');else return;}const _0x1874bd=_0x4f73a7['detectedPl'+'anes'];for(const [_0x4807ae,_0x52294c]of this['_planesInd'+'ex'])_0x1874bd['has'](_0x4807ae)||(this['_planesInd'+'ex']['delete'](_0x4807ae),this['_planes']['splice'](this['_planes']['indexOf'](_0x52294c),0x255c+-0xa3d*0x2+0x10e1*-0x1),_0x52294c['destroy'](),this['fire']('remove',_0x52294c));for(const _0x1a4759 of _0x1874bd){let _0x5ddc84=this['_planesInd'+'ex']['get'](_0x1a4759);_0x5ddc84?_0x5ddc84['update'](_0x4f73a7):(_0x5ddc84=new Qu(this,_0x1a4759),this['_planesInd'+'ex']['set'](_0x1a4759,_0x5ddc84),this['_planes']['push'](_0x5ddc84),_0x5ddc84['update'](_0x4f73a7),this['fire']('add',_0x5ddc84));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x3dcc66,_0x2ea15b,_0x1329ac=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x3dcc66,this['_xrAnchor']=_0x2ea15b,this['_uuid']=_0x1329ac);}['destroy'](){if(!this['_xrAnchor'])return;const _0x1c183a=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x1c183a,this);}['update'](_0x2861a8){if(!this['_xrAnchor'])return;const _0x5e6a20=_0x2861a8['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x5e6a20){if(this['_position']['equals'](_0x5e6a20['transform']['position'])&&this['_rotation']['equals'](_0x5e6a20['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x5e6a20['transform']['position']),this['_rotation']['copy'](_0x5e6a20['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x24fba5){if(!this['_anchors']['persistenc'+'e']){_0x24fba5==null||_0x24fba5(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x24fba5==null||_0x24fba5(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x24fba5&&this['_uuidReque'+'sts']['push'](_0x24fba5);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x2ac156=>{this['_uuid']=_0x2ac156,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x24fba5==null||_0x24fba5(null,_0x2ac156);for(const _0x4ae993 of this['_uuidReque'+'sts'])_0x4ae993(null,_0x2ac156);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x2ac156);})['catch'](_0x7356e4=>{_0x24fba5==null||_0x24fba5(_0x7356e4,null);for(const _0x2dc66b of this['_uuidReque'+'sts'])_0x2dc66b(_0x7356e4,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4983d2){if(!this['_uuid']){_0x4983d2==null||_0x4983d2(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x3bdc39=>{this['_uuid']=null,_0x4983d2==null||_0x4983d2(_0x3bdc39),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x1ccdb7){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x2653+0xcb*-0x23+0x5*-0x21d)),h(this,'_checkingA'+'vailabilit'+'y',!(0x22*0x47+-0x1d9f+0x1432)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x1ff8+-0x1*0xb4+-0x1*0x1f44):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x1ccdb7,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x4bec3a;const _0xbcdf5f=((_0x4bec3a=this['manager']['session']['enabledFea'+'tures'])==null?void(0x1*0x1b6d+-0x1809+0x2*-0x1b2):_0x4bec3a['indexOf']('anchors'))>=-0x1*-0x1024+-0x13ae+0x3*0x12e;_0xbcdf5f&&(this['_available']=_0xbcdf5f,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0xa8*-0x30+-0x656*0x1+0x153*-0x13);for(let _0x171df4=-0x1*-0x2118+-0xc46+-0x14d2;_0x171df4<this['_creationQ'+'ueue']['length'];_0x171df4++)this['_creationQ'+'ueue'][_0x171df4]['callback']&&this['_creationQ'+'ueue'][_0x171df4]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x795+0x22b6*0x1+-0x2a4b,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x4d15c6=this['_list']['length'];for(;_0x4d15c6--;)this['_list'][_0x4d15c6]['destroy']();this['_list']['length']=-0x1c1c+-0x269d+-0x383*-0x13,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x477d97,_0x1c0497=null){const _0x2893e5=new Io(this,_0x477d97,_0x1c0497);return this['_index']['set'](_0x477d97,_0x2893e5),_0x1c0497&&this['_indexByUu'+'id']['set'](_0x1c0497,_0x2893e5),this['_list']['push'](_0x2893e5),_0x2893e5['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x2893e5;}['_onAnchorD'+'estroy'](_0x712dc,_0x329603){this['_index']['delete'](_0x712dc),_0x329603['uuid']&&this['_indexByUu'+'id']['delete'](_0x329603['uuid']);const _0x5295ce=this['_list']['indexOf'](_0x329603);_0x5295ce!==-(0x1*-0x74b+0x98*-0x5+-0x92*-0x12)&&this['_list']['splice'](_0x5295ce,0xc11*-0x2+-0x2*0xdf3+0x3409),this['fire']('destroy',_0x329603);}['create'](_0x2799d6,_0x5a77b3,_0x2b078f){if(!this['_available']){_0x2b078f==null||_0x2b078f(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x2799d6 instanceof XRHitTestResult){const _0x40cb76=_0x2799d6;if(_0x2b078f=_0x5a77b3,!this['_supported']){_0x2b078f==null||_0x2b078f(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x40cb76['createAnch'+'or']){_0x2b078f==null||_0x2b078f(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x40cb76['createAnch'+'or']()['then'](_0x50696e=>{const _0x16cc5e=this['_createAnc'+'hor'](_0x50696e);_0x2b078f==null||_0x2b078f(null,_0x16cc5e),this['fire']('add',_0x16cc5e);})['catch'](_0x411163=>{_0x2b078f==null||_0x2b078f(_0x411163,null),this['fire']('error',_0x411163);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x2799d6,_0x5a77b3),'callback':_0x2b078f});}['restore'](_0x2df592,_0x1007ad){if(!this['_available']){_0x1007ad==null||_0x1007ad(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x1007ad==null||_0x1007ad(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x1007ad==null||_0x1007ad(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x2df592)['then'](_0x5b5f65=>{const _0x5c31c6=this['_createAnc'+'hor'](_0x5b5f65,_0x2df592);_0x1007ad==null||_0x1007ad(null,_0x5c31c6),this['fire']('add',_0x5c31c6);})['catch'](_0x138a9a=>{_0x1007ad==null||_0x1007ad(_0x138a9a,null),this['fire']('error',_0x138a9a);});}['forget'](_0x1cd935,_0x39bdff){if(!this['_available']){_0x39bdff==null||_0x39bdff(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x39bdff==null||_0x39bdff(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x39bdff==null||_0x39bdff(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x1cd935)['then'](()=>{_0x39bdff==null||_0x39bdff(null);})['catch'](_0x525f9c=>{_0x39bdff==null||_0x39bdff(_0x525f9c),this['fire']('error',_0x525f9c);});}['update'](_0x39aa53){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x5b6+0x3fa*0x1+0x1*-0x9b0),_0x39aa53['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x586b3e=>{_0x586b3e['delete'](),this['manager']['active']&&(this['_available']=!(0x2246+0xbc+0x2*-0x1181),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x53baf5=-0xd0b+0x1ece+0x11c3*-0x1;_0x53baf5<this['_creationQ'+'ueue']['length'];_0x53baf5++){const _0x4776a5=this['_creationQ'+'ueue'][_0x53baf5];_0x39aa53['createAnch'+'or'](_0x4776a5['transform'],this['manager']['_reference'+'Space'])['then'](_0x5a4370=>{_0x4776a5['callback']&&this['_callbacks'+'Anchors']['set'](_0x5a4370,_0x4776a5['callback']);})['catch'](_0x185dfa=>{_0x4776a5['callback']&&_0x4776a5['callback'](_0x185dfa,null),this['fire']('error',_0x185dfa);});}this['_creationQ'+'ueue']['length']=0x2*0x22d+0x7cd*-0x5+0xb8d*0x3;}for(const [_0x5a628a,_0x1df1b0]of this['_index'])_0x39aa53['trackedAnc'+'hors']['has'](_0x5a628a)||(this['_index']['delete'](_0x5a628a),_0x1df1b0['destroy']());for(let _0x430ad1=-0x19ed+0x7*0x22d+-0xab2*-0x1;_0x430ad1<this['_list']['length'];_0x430ad1++)this['_list'][_0x430ad1]['update'](_0x39aa53);for(const _0xebbee8 of _0x39aa53['trackedAnc'+'hors']){if(this['_index']['has'](_0xebbee8))continue;try{const _0x2af478=_0xebbee8['anchorSpac'+'e'];}catch{continue;}const _0xc482f=this['_createAnc'+'hor'](_0xebbee8);_0xc482f['update'](_0x39aa53);const _0x178fc6=this['_callbacks'+'Anchors']['get'](_0xebbee8);_0x178fc6&&(this['_callbacks'+'Anchors']['delete'](_0xebbee8),_0x178fc6(null,_0xc482f)),this['fire']('add',_0xc482f);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0xdb0c73,_0x2c1306){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x5a7+-0x135b+0xc2*0x21),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0xdb0c73,this['_xrMesh']=_0x2c1306,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0xbe3fc2){const _0xfb2b9f=this['_meshDetec'+'tion']['_manager'],_0x43ee5d=_0xbe3fc2['getPose'](this['_xrMesh']['meshSpace'],_0xfb2b9f['_reference'+'Space']);_0x43ee5d&&(this['_position']['copy'](_0x43ee5d['transform']['position']),this['_rotation']['copy'](_0x43ee5d['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x20880a){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x1489+0x79c+-0xcee*-0x1)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x20880a,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0xb2f870){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0xb2f870['detectedMe'+'shes']['size'])this['_available']=!(-0xad*0x9+0x1417+-0xe02),this['fire']('available');else return;}for(const _0x1e75f0 of _0xb2f870['detectedMe'+'shes']){let _0x5427b4=this['_index']['get'](_0x1e75f0);_0x5427b4?_0x5427b4['update'](_0xb2f870):(_0x5427b4=new Ju(this,_0x1e75f0),this['_index']['set'](_0x1e75f0,_0x5427b4),this['_list']['push'](_0x5427b4),_0x5427b4['update'](_0xb2f870),this['fire']('add',_0x5427b4));}for(const _0x5c1c85 of this['_index']['values']())_0xb2f870['detectedMe'+'shes']['has'](_0x5c1c85['xrMesh'])||this['_removeMes'+'h'](_0x5c1c85);}['_removeMes'+'h'](_0x170fcd){this['_index']['delete'](_0x170fcd['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x170fcd),0x401+0x8*-0x1f1+0xb88),_0x170fcd['destroy'](),this['fire']('remove',_0x170fcd);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x4e32f2=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0xc4e+0x1651+-0x229e);if(!_0x4e32f2)return;this['_available']=_0x4e32f2,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x13ee+0x1*-0x1783+0x396);for(const _0x4903f3 of this['_index']['values']())this['_removeMes'+'h'](_0x4903f3);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x49b509,_0xe116d8,_0x897c08){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x3e3*0x3+-0x11*0x3d+0x1*-0x799)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x219c+0xe*0x130+-0x321c)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x49b509,this['_xrView']=_0xe116d8);const _0xd6d41=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0xd6d41,{'format':Cr,'mipmaps':!(0x6d*-0xb+-0x67*0x27+0x6f*0x2f),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0xc0dfe=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0xd6d41,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x897c08===-0x4be*-0x1+0x1516*-0x1+0x1059?-0x848+0x132f+0x1*-0xae7:_0x897c08,'mipmaps':!(0x17d+-0x12b1+-0x371*-0x5),'addressU':ue,'addressV':ue,'minFilter':_0xc0dfe,'magFilter':_0xc0dfe,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x16a809=-0x214f+0x1c44+-0x1*-0x50b;_0x16a809<this['_textureDe'+'pth']['_levels']['length'];_0x16a809++)this['_textureDe'+'pth']['_levels'][_0x16a809]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0xd6d41['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x1b2879;return((_0x1b2879=this['_depthInfo'])==null?void(-0x166f+0xc*0x206+-0x1d9):_0x1b2879['rawValueTo'+'Meters'])||0x367*-0x7+0x18a7+-0xd6;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x2d2c59,_0x1a186c){this['_xrView']=_0x1a186c,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x2d09d4=_0x2d2c59['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x2d09d4['x'],this['_viewport']['y']=_0x2d09d4['y'],this['_viewport']['z']=_0x2d09d4['width'],this['_viewport']['w']=_0x2d09d4['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x2d2c59);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x46d71f=this['_manager']['webglBindi'+'ng'];if(!_0x46d71f)return;const _0x1a83bf=_0x46d71f['getCameraI'+'mage'](this['_xrCamera']);if(!_0x1a83bf)return;const _0x59e985=this['_manager']['app']['graphicsDe'+'vice'],_0x5809b8=_0x59e985['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5809b8['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5809b8['createFram'+'ebuffer']();else{const _0x2a1212=_0x5809b8['COLOR_ATTA'+'CHMENT0'],_0x2c48a2=this['_xrCamera']['width'],_0x1892ee=this['_xrCamera']['height'];_0x59e985['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5809b8['framebuffe'+'rTexture2D'](_0x5809b8['FRAMEBUFFE'+'R'],_0x2a1212,_0x5809b8['TEXTURE_2D'],_0x1a83bf,-0x20a2+-0x25dc+0x7*0xa12),_0x59e985['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5809b8['framebuffe'+'rTexture2D'](_0x5809b8['FRAMEBUFFE'+'R'],_0x2a1212,_0x5809b8['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1*0x1411+0x17*-0xe3+-0x2*-0x143b),_0x5809b8['bindFrameb'+'uffer'](_0x5809b8['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5809b8['bindFrameb'+'uffer'](_0x5809b8['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5809b8['blitFrameb'+'uffer'](-0x681+0x2*-0xc5d+0x7b*0x41,_0x1892ee,_0x2c48a2,0x32*-0x29+-0x25d2+0x1a3*0x1c,0x2489+0xfa3+-0x2e6*0x12,-0x15c0+0x43+0x157d*0x1,_0x2c48a2,_0x1892ee,_0x5809b8['COLOR_BUFF'+'ER_BIT'],_0x5809b8['NEAREST']);}}['_updateDep'+'th'](_0x4fdbaf){var _0x2a9394,_0x5ec098;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x212672=this['_manager']['views']['depthGpuOp'+'timized'],_0x304a9c=_0x212672?this['_manager']['webglBindi'+'ng']:_0x4fdbaf;if(!_0x304a9c){this['_depthInfo']=null;return;}const _0x7948dd=_0x304a9c['getDepthIn'+'formation'](this['_xrView']);if(!_0x7948dd){this['_depthInfo']=null;return;}let _0x269485=!this['_depthInfo']!=!_0x7948dd;this['_depthInfo']=_0x7948dd;const _0x448f5a=((_0x2a9394=this['_depthInfo'])==null?void(0x1fcf*0x1+0x37c+-0x234b):_0x2a9394['width'])||-0xfac+0x2f5*0x1+-0xcbb*-0x1,_0x1bcb7e=((_0x5ec098=this['_depthInfo'])==null?void(-0x1*-0xa2f+0x12df*0x1+-0x1d0e):_0x5ec098['height'])||-0x331*-0x3+0x1ce8+-0x2677;let _0x739438=!(0xdda+0x1a9e+-0x2877);if((this['_textureDe'+'pth']['width']!==_0x448f5a||this['_textureDe'+'pth']['height']!==_0x1bcb7e)&&(this['_textureDe'+'pth']['_width']=_0x448f5a,this['_textureDe'+'pth']['_height']=_0x1bcb7e,_0x269485=!(-0x1a19+0x109*-0x1e+0x3927),_0x739438=!(-0x703*0x2+-0x48b*0x2+0x171c)),_0x269485&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x212672){if(this['_depthInfo']['texture']){const _0x4a2f9a=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x4a2f9a['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x4a2f9a['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x4a2f9a['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x4a2f9a['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x4a2f9a['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x4a2f9a['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x4a2f9a['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x4a2f9a['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x1cd8+-0x1*0x503+-0x1*0x17d5);}}else this['_textureDe'+'pth']['_levels'][0x1fd2+0xa8b+-0x1*0x2a5d]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x25d+0x1bfc+-0x199f]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x739438&&this['fire']('depth:resi'+'ze',_0x448f5a,_0x1bcb7e);}['updateTran'+'sforms'](_0x4f3557){_0x4f3557?(this['_viewInvOf'+'fMat']['mul2'](_0x4f3557,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x4ad*-0x7+-0x6bb+0x2776]=this['_viewInvOf'+'fMat']['data'][0x1*-0x1517+0x4de+0x1045],this['_positionD'+'ata'][0x1*-0x2195+-0x2b*0x45+-0x3*-0xf0f]=this['_viewInvOf'+'fMat']['data'][-0x21fa+-0x1f42*-0x1+0x2c5*0x1],this['_positionD'+'ata'][0x268f*0x1+-0x1034+-0x1659]=this['_viewInvOf'+'fMat']['data'][0xf12+-0x6a0+-0x1*0x864];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x41b319,_0x196089){var _0x2849dc;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x2849dc=this['_depthInfo'])==null?void(-0xf8a*0x2+0x5*-0x33d+0x2f45):_0x2849dc['getDepthIn'+'Meters'](_0x41b319,_0x196089))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x116b62=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x116b62['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x116b62['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x2e0895){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0x94d*0x3+0x2*-0x621+-0x8f*0x1c)),h(this,'_available'+'Depth',!(-0x2094+-0xc6*-0x22+0x1*0x649)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x2e0895,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x54314b,_0x218a61){for(let _0x37d2e7=0x11*-0x71+-0x1f8e+0x270f;_0x37d2e7<_0x218a61['length'];_0x37d2e7++)this['_indexTmp']['set'](_0x218a61[_0x37d2e7]['eye'],_0x218a61[_0x37d2e7]);for(const [_0x46bf7e,_0xfb2435]of this['_indexTmp']){let _0x1b1b20=this['_index']['get'](_0x46bf7e);_0x1b1b20?_0x1b1b20['update'](_0x54314b,_0xfb2435):(_0x1b1b20=new O0(this['_manager'],_0xfb2435,_0x218a61['length']),this['_index']['set'](_0x46bf7e,_0x1b1b20),this['_list']['push'](_0x1b1b20),_0x1b1b20['update'](_0x54314b,_0xfb2435),this['fire']('add',_0x1b1b20));}for(const [_0x5c2470,_0x3212d4]of this['_index']){if(this['_indexTmp']['has'](_0x5c2470))continue;_0x3212d4['destroy'](),this['_index']['delete'](_0x5c2470);const _0x24c120=this['_list']['indexOf'](_0x3212d4);_0x24c120!==-(0x11f8+0x1*0x33b+-0x1532)&&this['_list']['splice'](_0x24c120,-0x962*0x1+-0x1*0x1a75+0x23d8),this['fire']('remove',_0x3212d4);}this['_indexTmp']['clear']();}['get'](_0x36b877){return this['_index']['get'](_0x36b877)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x13de+0x22e3+0x1b60*-0x2),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0xc8e+-0x947*-0x1+0x348),this['_available'+'Depth'])){const _0x1bd199=this['_manager']['session'];this['_depthUsag'+'e']=_0x1bd199['depthUsage'],this['_depthForm'+'at']=_0x1bd199['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x42562c of this['_index']['values']())_0x42562c['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x4*-0x8ab+-0xb1d+0x2dca*0x1),this['_available'+'Depth']=!(0xb8b+-0x223*-0xf+-0x2b97),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x2*0x1187+0x2*0x5c5+0x5e1*0x4;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x26e868){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',-0x1e*0x10d+-0x1aee+0x1d3a*0x2+0.1),h(this,'_depthFar',-0xc7*-0x2c+-0x851+0x1*-0x15fb),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x1*-0xb83+-0x4bb*-0x1+0xe*-0x129),h(this,'_height',-0x162a*0x1+0x5e+0x15cc),h(this,'_framebuff'+'erScaleFac'+'tor',-0x331*-0x2+0x39a*-0x3+0x46d),(this['app']=_0x26e868,this['_available'][lU]=!(-0x124a+-0x1e12+0x305d),this['_available'][cU]=!(0x1ab8+0xbb3+-0x266a),this['_available'][$o]=!(-0x621+-0x1ecb*0x1+0x24ed),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x18090d,_0x2f381f,_0x2515c9,_0x120062){let _0x1be8fb=_0x120062;if(typeof _0x120062=='object'&&(_0x1be8fb=_0x120062['callback']),!this['_available'][_0x2f381f]){_0x1be8fb&&_0x1be8fb(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x1be8fb&&_0x1be8fb(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x18090d,this['_camera']['camera']['xr']=this,this['_type']=_0x2f381f,this['_spaceType']=_0x2515c9,this['_framebuff'+'erScaleFac'+'tor']=(_0x120062==null?void(-0x102*0x9+0x76f+0x1a3*0x1):_0x120062['framebuffe'+'rScaleFact'+'or'])??0x11*0x107+0x15d5+-0x274b,this['_setClipPl'+'anes'](_0x18090d['nearClip'],_0x18090d['farClip']);const _0x49f909={'requiredFeatures':[_0x2515c9],'optionalFeatures':[]},_0x546a1f=this['app']['graphicsDe'+'vice'];_0x546a1f!=null&&_0x546a1f['isWebGPU']&&_0x49f909['requiredFe'+'atures']['push']('webgpu');const _0x103976=_0x546a1f==null?void(-0x851+-0x23bf*-0x1+-0x1b6e):_0x546a1f['isWebGL2'];if(_0x2f381f===$o){if(_0x49f909['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x49f909['optionalFe'+'atures']['push']('hit-test'),_0x120062&&(_0x120062['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x49f909['optionalFe'+'atures']['push']('image-trac'+'king'),_0x120062['planeDetec'+'tion']&&_0x49f909['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x120062['meshDetect'+'ion']&&_0x49f909['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x49f909['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x49f909['domOverlay']={'root':this['domOverlay']['root']}),_0x120062&&_0x120062['anchors']&&this['anchors']['supported']&&_0x49f909['optionalFe'+'atures']['push']('anchors'),_0x120062&&_0x120062['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x49f909['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x4b52ca=[],_0x4a9eca=[];if(_0x4b52ca['push'](P0,dU),_0x4a9eca['push'](I0,M0,D0),_0x120062['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x338dc6=_0x4b52ca['indexOf'](_0x120062['depthSensi'+'ng']['usagePrefe'+'rence']);_0x338dc6!==-(0x5f*-0x1+0x65+-0x5)&&_0x4b52ca['splice'](_0x338dc6,-0x1462+0x1*0xaf3+0x970),_0x4b52ca['unshift'](_0x120062['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x120062['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x282345=_0x4a9eca['indexOf'](_0x120062['depthSensi'+'ng']['dataFormat'+'Preference']);_0x282345!==-(0x3f8*0x5+-0x11d+-0x12ba)&&_0x4a9eca['splice'](_0x282345,0x9e6+-0x24d9*-0x1+-0x2ebe),_0x4a9eca['unshift'](_0x120062['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x49f909['depthSensi'+'ng']={'usagePreference':_0x4b52ca,'dataFormatPreference':_0x4a9eca};}_0x103976&&_0x120062&&_0x120062['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x49f909['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x49f909['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x120062&&_0x120062['optionalFe'+'atures']&&(_0x49f909['optionalFe'+'atures']=_0x49f909['optionalFe'+'atures']['concat'](_0x120062['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x228193,_0x4b7cc3)=>{if(_0x228193){_0x1be8fb&&_0x1be8fb(_0x228193),this['fire']('error',_0x228193);return;}_0x4b7cc3!==null&&(_0x49f909['trackedIma'+'ges']=_0x4b7cc3),this['_onStartOp'+'tionsReady'](_0x2f381f,_0x2515c9,_0x49f909,_0x1be8fb);}):this['_onStartOp'+'tionsReady'](_0x2f381f,_0x2515c9,_0x49f909,_0x1be8fb);}['_onStartOp'+'tionsReady'](_0x124ed3,_0x3053a0,_0x58d9aa,_0x309657){const _0x3da662=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x58d9aa;navigator['xr']['requestSes'+'sion'](_0x124ed3,_0x3da662)['then'](_0x452a4b=>{this['_onSession'+'Start'](_0x452a4b,_0x3053a0,_0x309657);})['catch'](_0x24c2ee=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x309657&&_0x309657(_0x24c2ee),this['fire']('error',_0x24c2ee);});}['end'](_0x3418b4){if(!this['_session']){_0x3418b4&&_0x3418b4(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x3418b4&&this['once']('end',_0x3418b4),this['_session']['end']();}['isAvailabl'+'e'](_0x5461f6){return this['_available'][_0x5461f6];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x174590 in this['_available'])this['_sessionSu'+'pportCheck'](_0x174590);}['initiateRo'+'omCapture'](_0x3c7942){if(!this['_session']){_0x3c7942(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x3c7942(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x3c7942&&_0x3c7942(null);})['catch'](_0x46b1b7=>{_0x3c7942&&_0x3c7942(_0x46b1b7);});}['updateTarg'+'etFrameRat'+'e'](_0x69f4e1,_0x5b9fff){var _0x28c152;if(!((_0x28c152=this['_session'])!=null&&_0x28c152['updateTarg'+'etFrameRat'+'e'])){_0x5b9fff==null||_0x5b9fff(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x69f4e1)['then'](()=>{_0x5b9fff==null||_0x5b9fff();})['catch'](_0xfe51ba=>{_0x5b9fff==null||_0x5b9fff(_0xfe51ba);});}['_sessionSu'+'pportCheck'](_0x48514b){navigator['xr']['isSessionS'+'upported'](_0x48514b)['then'](_0x14d1bc=>{this['_available'][_0x48514b]!==_0x14d1bc&&(this['_available'][_0x48514b]=_0x14d1bc,this['fire']('available',_0x48514b,_0x14d1bc),this['fire']('available:'+_0x48514b,_0x14d1bc));})['catch'](_0x569375=>{this['fire']('error',_0x569375);});}['_onSession'+'Start'](_0x4f2940,_0x9f5326,_0x2601c1){let _0x21fb75=!(0xce+0x32*-0x19+0x13*0x37);this['_session']=_0x4f2940;const _0x48b967=()=>{this['fire']('visibility'+':change',_0x4f2940['visibility'+'State']);},_0xe11496=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x2a9d89=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0xe11496),this['_camera']['off']('set_farCli'+'p',_0xe11496),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x4f2940['removeEven'+'tListener']('end',_0x2a9d89),_0x4f2940['removeEven'+'tListener']('visibility'+'change',_0x48b967),_0x21fb75||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1*0x907+-0x1829+0xf22,this['_height']=0x776*-0x4+-0x1cc9*-0x1+-0x1*-0x10f,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x4f2940['addEventLi'+'stener']('end',_0x2a9d89),_0x4f2940['addEventLi'+'stener']('visibility'+'change',_0x48b967),this['_camera']['on']('set_nearCl'+'ip',_0xe11496),this['_camera']['on']('set_farCli'+'p',_0xe11496),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x4a29ff;this['fire']('frameratec'+'hange',(_0x4a29ff=this['_session'])==null?void(-0x5*0x32+0x134e+-0x1254):_0x4a29ff['frameRate']);}),_0x4f2940['requestRef'+'erenceSpac'+'e'](_0x9f5326)['then'](_0x1d1761=>{this['_reference'+'Space']=_0x1d1761,this['app']['tick'](),_0x2601c1&&_0x2601c1(null),this['fire']('start');})['catch'](_0x12c9ff=>{_0x21fb75=!(0xe7a+-0xdd0+-0xaa),_0x4f2940['end'](),_0x2601c1&&_0x2601c1(_0x12c9ff),this['fire']('error',_0x12c9ff);});}['_setClipPl'+'anes'](_0x21f998,_0x23df13){this['_depthNear']===_0x21f998&&this['_depthFar']===_0x23df13||(this['_depthNear']=_0x21f998,this['_depthFar']=_0x23df13,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x46eef0=this['app']['graphicsDe'+'vice'],_0x183b2b=_0x46eef0['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x46eef0['gl'],{'alpha':!(0x1e43+-0x1b6*-0x13+-0x3ec5*0x1),'depth':!(-0x1a13+0x71c+0x12f7*0x1),'stencil':!(-0x12df+0x65b+0x321*0x4),'framebufferScaleFactor':_0x183b2b,'antialias':!(-0x8dd*-0x3+0x1090+-0x1*0x2b26)}),_0x46eef0!=null&&_0x46eef0['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x46eef0['gl']);}catch(_0x4b2f97){this['fire']('error',_0x4b2f97);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x499f3f=>{this['fire']('error',_0x499f3f);});},-0x7ab*0x5+-0xb1a*-0x2+0x1023);}['update'](_0x373c1d){if(!this['_session'])return!(-0x2*-0x10c5+-0x7*-0x1b1+-0x58*0x84);const _0x3d2e87=_0x373c1d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x5095b0=_0x373c1d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x3d2e87||this['_height']!==_0x5095b0)&&(this['_width']=_0x3d2e87,this['_height']=_0x5095b0,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x3d2e87,_0x5095b0));const _0x5dc788=_0x373c1d['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5dc788)return!(0xb0d+-0x4*-0x17d+0x1*-0x1100);const _0x2b832b=this['views']['list']['length'];this['views']['update'](_0x373c1d,_0x5dc788['views']);const _0x20e330=_0x5dc788['transform']['position'],_0x46ded5=_0x5dc788['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x20e330['x'],_0x20e330['y'],_0x20e330['z']),this['_localRota'+'tion']['set'](_0x46ded5['x'],_0x46ded5['y'],_0x46ded5['z'],_0x46ded5['w']),_0x2b832b===-0x2*-0x27f+0x11c+0x30d*-0x2&&this['views']['list']['length']>0x1d*0x125+0x1114+0x2f5*-0x11){const _0x3c4d00=new te(),_0x3c52af=this['views']['list'][-0xe7*-0xe+-0x258c+0x18ea];_0x3c4d00['copy'](_0x3c52af['projMat']);const _0x1c8604=_0x3c4d00['data'],_0x232889=(0x94b*-0x4+-0x5*-0x2b0+0x17be)*Math['atan']((-0x15e*0x1+-0xdf9*0x1+0xf58)/_0x1c8604[-0x1*-0x1d6c+0xc73*0x1+0x14ed*-0x2])*(0x1024+-0x1*0x1025+0xb5)/Math['PI'],_0x3ffc6c=_0x1c8604[0x11e1*-0x1+0xecb+0xf*0x35]/_0x1c8604[-0xe72+-0x2163+0x2fd5],_0x8fb85f=_0x1c8604[-0xeb5+-0x3ab*0x3+0x19c4]/(_0x1c8604[0x5*-0x3b+0x147c+-0x134b]+(-0x1222+0x1875+0x2*-0x329)),_0x2749c4=_0x1c8604[-0x2*-0x24b+0xc45+-0xb*0x187]/(_0x1c8604[-0xa54*-0x2+0x1924+-0x2dc2]-(-0x1cca*0x1+0x1*0x709+0x15c2));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x3ffc6c,'farClip':_0x8fb85f,'fov':_0x232889,'horizontalFov':!(0x1e0d+-0x16db+-0x731*0x1),'nearClip':_0x2749c4});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x373c1d),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x373c1d),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x373c1d),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x373c1d),this['anchors']['supported']&&this['anchors']['update'](_0x373c1d),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x373c1d),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x373c1d)),this['fire']('update',_0x373c1d),!(-0xa7f*0x1+-0x221d+0x476*0xa);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x31835d;return((_0x31835d=this['_session'])==null?void(-0x23aa+-0x1e0*-0x8+0x1*0x14aa):_0x31835d['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x19d38e){var _0x117fec;(((_0x117fec=this['_baseLayer'])==null?void(-0x1f29+0x7*0x2de+-0x1*-0xb17):_0x117fec['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x2f1*-0xb+-0x23fb+0x4457&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x19d38e);}get['fixedFovea'+'tion'](){var _0x3e3813;return((_0x3e3813=this['_baseLayer'])==null?void(0xfc+-0x4c1+-0xc1*-0x5):_0x3e3813['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x57ba4b,_0x20dd6b={}){super(_0x57ba4b);const _0x25582a=new tL();_0x25582a['graphicsDe'+'vice']=_0x20dd6b['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x57ba4b,_0x20dd6b),this['addCompone'+'ntSystems'](_0x25582a),this['addResourc'+'eHandles'](_0x25582a),_0x25582a['elementInp'+'ut']=_0x20dd6b['elementInp'+'ut'],_0x25582a['keyboard']=_0x20dd6b['keyboard'],_0x25582a['mouse']=_0x20dd6b['mouse'],_0x25582a['touch']=_0x20dd6b['touch'],_0x25582a['gamepads']=_0x20dd6b['gamepads'],_0x25582a['scriptPref'+'ix']=_0x20dd6b['scriptPref'+'ix'],_0x25582a['assetPrefi'+'x']=_0x20dd6b['assetPrefi'+'x'],_0x25582a['scriptsOrd'+'er']=_0x20dd6b['scriptsOrd'+'er'],_0x25582a['soundManag'+'er']=new Pw(),_0x25582a['lightmappe'+'r']=pL,_0x25582a['batchManag'+'er']=IE,_0x25582a['xr']=ln,this['init'](_0x25582a);}['createDevi'+'ce'](_0x49f2b4,_0x4ee12a){return _0x4ee12a['graphicsDe'+'viceOption'+'s']||(_0x4ee12a['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x4ee12a['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x998+-0xe*0x89+-0x21a)),_0x4ee12a['graphicsDe'+'viceOption'+'s']['alpha']=_0x4ee12a['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x78+0x6a2*0x2+-0x1*0xccb),new aw(_0x49f2b4,_0x4ee12a['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x28d76e){_0x28d76e['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x164ef6){_0x164ef6['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x19dc40,_0x47a8f3){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x25d4+0x255d*0x1+0x1910*-0x3)),h(this,'_loaded',!(0x3*0x4f5+-0x1*-0x1be+-0x109c)),h(this,'_failed',[]),(this['_registry']=_0x47a8f3,_0x19dc40['forEach'](_0x16a9d2=>{if(_0x16a9d2 instanceof pe)_0x16a9d2['registry']||(_0x16a9d2['registry']=_0x47a8f3),this['_assets']['add'](_0x16a9d2);else{const _0x572d29=_0x47a8f3['get'](_0x16a9d2);_0x572d29?this['_assets']['add'](_0x572d29):this['_waitForAs'+'set'](_0x16a9d2);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x34401d=>{this['_registry']['off']('add:'+_0x34401d,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x5acab0){var _0x193110;return _0x5acab0['type']==='model'&&((_0x193110=_0x5acab0['file'])==null?void(0xacf*0x2+-0x1da2*0x1+0x804):_0x193110['url'])&&_0x5acab0['file']['url']&&_0x5acab0['file']['url']['match'](/.json$/g);}['load'](_0x56aced,_0x1612c1){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(0xdd*-0x1f+0x9f6+0x11*0xfd),this['_callback']=_0x56aced,this['_scope']=_0x1612c1,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x2b1e2e=!(-0x41b+0x14bf+-0x10a3);this['_assets']['forEach'](_0x22c810=>{_0x22c810['loaded']||(_0x2b1e2e=!(-0x2*0xd86+0xf3d+0x1*0xbcf),this['_assetHasD'+'ependencie'+'s'](_0x22c810)&&this['_registry']['loadFromUr'+'l'](_0x22c810['file']['url'],_0x22c810['type'],(_0x5e0793,_0x3d9fcd)=>{if(_0x5e0793){this['_onError'](_0x5e0793,_0x22c810);return;}this['_onLoad'](_0x22c810);}),this['_loadingAs'+'sets']['add'](_0x22c810),this['_registry']['add'](_0x22c810));}),this['_loadingAs'+'sets']['forEach'](_0x353428=>{this['_assetHasD'+'ependencie'+'s'](_0x353428)||this['_registry']['load'](_0x353428);}),!_0x2b1e2e&&this['_waitingAs'+'sets']['size']===-0x1f38+-0x6bb+0x797*0x5&&this['_loadingCo'+'mplete']();}['ready'](_0x4b38b5,_0x1d55d=this){this['_loaded']?_0x4b38b5['call'](_0x1d55d,Array['from'](this['_assets'])):this['once']('load',_0x5cea2a=>{_0x4b38b5['call'](_0x1d55d,_0x5cea2a);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x24de+-0x97c+-0x2*0xdb1),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x3630cf){this['_loadingAs'+'sets']['has'](_0x3630cf)&&(this['fire']('progress',_0x3630cf),this['_loadingAs'+'sets']['delete'](_0x3630cf)),this['_loadingAs'+'sets']['size']===0xd52+-0xc1+-0xc91&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x1ff9+-0x12ea+0xd0f*-0x1);}['_onError'](_0x25ee58,_0x59848a){this['_loadingAs'+'sets']['has'](_0x59848a)&&(this['_failed']['push'](_0x59848a),this['_loadingAs'+'sets']['delete'](_0x59848a)),this['_loadingAs'+'sets']['size']===-0x2ff*0x9+0x56+0x1aa1&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x15d*-0xb+-0x948+0x1847);}['_onAddAsse'+'t'](_0x2278b2){this['_waitingAs'+'sets']['delete'](_0x2278b2),this['_assets']['add'](_0x2278b2),_0x2278b2['loaded']||(this['_loadingAs'+'sets']['add'](_0x2278b2),this['_registry']['load'](_0x2278b2));}['_waitForAs'+'set'](_0x4c3732){this['_waitingAs'+'sets']['add'](_0x4c3732),this['_registry']['once']('add:'+_0x4c3732,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x326a4c,_0x57d8ca){super(_0x326a4c),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x57d8ca;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x6de67=>{_0x6de67['defaultUni'+'formBuffer']['destroy'](),_0x6de67['destroy']();}),this['viewBindGr'+'oups']['length']=-0x26bf+0x25c6+0xf9;}['update'](_0x323040,_0x5de942,_0x5319e5,_0x4070f7){this['camera']=_0x323040,this['scene']=_0x5de942,this['layers']=_0x5319e5,this['mapping']=_0x4070f7;}['execute'](){const _0x56e0e0=this['device'],{renderer:_0x3c0b05,camera:_0x320f71,scene:_0x343b48,layers:_0x5f1aa6,mapping:_0x1421b4,renderTarget:_0x5953cb}=this,_0x497186=_0x343b48['layers']['layerList'],_0x47e77f=_0x343b48['layers']['subLayerEn'+'abled'],_0x3879b9=_0x343b48['layers']['subLayerLi'+'st'];for(let _0x1b8bb9=-0x8*-0x469+0x14*-0x1eb+-0x2*-0x18a;_0x1b8bb9<_0x497186['length'];_0x1b8bb9++){const _0x39798a=_0x497186[_0x1b8bb9];if(!(_0x5f1aa6&&_0x5f1aa6['indexOf'](_0x39798a)<0x1*-0xa75+0x22eb+-0x1876)&&_0x39798a['enabled']&&_0x47e77f[_0x1b8bb9]&&_0x39798a['camerasSet']['has'](_0x320f71['camera'])){const _0x102502=_0x3879b9[_0x1b8bb9];Q['pushGpuMar'+'ker'](_0x56e0e0,_0x39798a['name']+'('+(_0x102502?'TRANSP':'OPAQUE')+')'),_0x39798a['_clearDept'+'hBuffer']&&_0x3c0b05['clear'](_0x320f71['camera'],!(0xf*-0x49+-0xd1*0xd+0x5d*0x29),!(-0x45*0x2e+-0x21bb+-0x2e21*-0x1),!(0x1277+0x6*-0x622+0x2*0x92b));const _0x3002a6=_0x39798a['meshInstan'+'ces'];for(let _0x55dba4=-0x1a1b*-0x1+-0xdc0+-0xc5b;_0x55dba4<_0x3002a6['length'];_0x55dba4++){const _0x130ab1=_0x3002a6[_0x55dba4];_0x130ab1['pick']&&_0x130ab1['transparen'+'t']===_0x102502&&(Fc['push'](_0x130ab1),_0x1421b4['set'](_0x130ab1['id'],_0x130ab1));}Fc['length']>0x221+-0x1*-0x363+-0x584&&(_0x343b48['clusteredL'+'ightingEna'+'bled']&&_0x3c0b05['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x3c0b05['setCameraU'+'niforms'](_0x320f71['camera'],_0x5953cb),_0x56e0e0['supportsUn'+'iformBuffe'+'rs']&&_0x3c0b05['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x3c0b05['viewUnifor'+'mFormat'],_0x3c0b05['viewBindGr'+'oupFormat'],null),_0x3c0b05['renderForw'+'ard'](_0x320f71['camera'],_0x5953cb,Fc,_U,Zn,_0x2836cf=>{_0x56e0e0['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0xed4+-0x72b*0x3+0x2455),Q['popGpuMark'+'er'](_0x56e0e0);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x29e938,_0x3eec95,_0x178c02){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x1e91+0xf4*-0x14+-0x5f*0x1f)),(w['assert'](_0x29e938),this['renderer']=_0x29e938['renderer'],this['device']=_0x29e938['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x29e938['renderer']),this['width']=0x1423+-0x1fd2+0xbaf,this['height']=0x26*0x4+-0x1410+0x26f*0x8,this['resize'](_0x3eec95,_0x178c02),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x8b4*-0x3+0xf2+-0x1b0d);}));}['getSelecti'+'on'](_0x5621fa,_0x3d012f,_0x57215b=0x24+-0x245+-0x1*-0x222,_0x9843be=-0xd0d*0x1+-0x1d1b+0x1*0x2a29){const _0x54924b=this['device'];if(_0x54924b['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x5621fa!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x3d012f=this['renderTarg'+'et']['height']-(_0x3d012f+_0x9843be);const _0x806580=this['sanitizeRe'+'ct'](_0x5621fa,_0x3d012f,_0x57215b,_0x9843be);_0x54924b['setRenderT'+'arget'](this['renderTarg'+'et']),_0x54924b['updateBegi'+'n']();const _0x929e7e=new Uint8Array((0x149d+0xdf4+-0x228d)*_0x806580['z']*_0x806580['w']);return _0x54924b['readPixels'](_0x806580['x'],_0x806580['y'],_0x806580['z'],_0x806580['w'],_0x929e7e),_0x54924b['updateEnd'](),this['decodePixe'+'ls'](_0x929e7e,this['mapping']);}['getSelecti'+'onAsync'](_0x6ced9f,_0x2488d7,_0x2debc7=-0x19f4+-0x96b*-0x3+-0x24c,_0xf13403=-0x90e+0x83a+0xd5){var _0x3feb8a;(_0x3feb8a=this['device'])!=null&&_0x3feb8a['isWebGL2']&&(_0x2488d7=this['renderTarg'+'et']['height']-(_0x2488d7+_0xf13403));const _0x208024=this['sanitizeRe'+'ct'](_0x6ced9f,_0x2488d7,_0x2debc7,_0xf13403);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x208024['x'],_0x208024['y'],_0x208024['z'],_0x208024['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x1d95+0x42a+0x196b)})['then'](_0x667a28=>this['decodePixe'+'ls'](_0x667a28,this['mapping']));}['sanitizeRe'+'ct'](_0x27902d,_0x152cd8,_0x22c223,_0x27ef70){const _0x51b81c=this['renderTarg'+'et']['width'],_0x1a28c9=this['renderTarg'+'et']['height'];return _0x27902d=Y['clamp'](Math['floor'](_0x27902d),0x241*0x10+-0x157*-0x1+-0x2567,_0x51b81c-(-0x6*-0x417+-0x1442+0xf*-0x49)),_0x152cd8=Y['clamp'](Math['floor'](_0x152cd8),-0x15b0+0x1*0x126e+-0x116*-0x3,_0x1a28c9-(-0x3bf*-0x2+0x17e5+-0x135*0x1a)),_0x22c223=Math['floor'](Math['max'](_0x22c223,-0x123c+-0x9*0x377+0x316c)),_0x22c223=Math['min'](_0x22c223,_0x51b81c-_0x27902d),_0x27ef70=Math['floor'](Math['max'](_0x27ef70,-0x34d+-0x19fc+-0xa3*-0x2e)),_0x27ef70=Math['min'](_0x27ef70,_0x1a28c9-_0x152cd8),SU['set'](_0x27902d,_0x152cd8,_0x22c223,_0x27ef70);}['decodePixe'+'ls'](_0x54329c,_0x82994d){const _0x1dde60=[];if(this['deviceVali'+'d']){const _0x5bb041=_0x54329c['length'];for(let _0x4d5a4b=0x112f+0x18d1*-0x1+-0x3d1*-0x2;_0x4d5a4b<_0x5bb041;_0x4d5a4b+=0x2498+-0x8dd*0x1+-0x1bb7){const _0x213d8d=_0x54329c[_0x4d5a4b+(0x1a7a+-0x836+-0x1244)],_0x159e41=_0x54329c[_0x4d5a4b+(-0x1d*0xe4+0x3e6+0x15ef)],_0x23b58f=_0x54329c[_0x4d5a4b+(-0x1bfc*0x1+-0x1441+0x303f)],_0x5d7a33=(_0x54329c[_0x4d5a4b+(0x266*0x7+0x18c3+-0x298a)]<<0x1c0c+0x1*0x14d5+-0x17*0x21f|_0x213d8d<<-0x799+0x23cb+-0x2*0xe11|_0x159e41<<-0x1d64+-0xaf2+0x285e|_0x23b58f)>>>-0x10f4+0x1*-0x2e3+0x13d7;_0x5d7a33!==-0x1718cfd5f*0x1+-0xfce5a977+0x5f17*0x93cf3&&Rf['add'](_0x82994d['get'](_0x5d7a33));}Rf['forEach'](_0x373fc8=>{_0x373fc8&&_0x1dde60['push'](_0x373fc8);}),Rf['clear']();}return _0x1dde60;}['allocateRe'+'nderTarget'](){const _0x2ed353=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x923*-0x3+0x9*-0x111+-0x11cf),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x2ed353,'depth':!(0x262a+-0x1e5e+-0x7cc)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x496a2b,_0x4276d7,_0x4a065c){_0x4a065c instanceof Ot&&(_0x4a065c=[_0x4a065c]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x324697=this['renderPass'];_0x324697['init'](this['renderTarg'+'et']),_0x324697['colorOps']['clearValue']=ie['WHITE'],_0x324697['colorOps']['clear']=!(0x1686+0x1*0x129e+-0x2924),_0x324697['depthStenc'+'ilOps']['clearDepth']=!(0x240f+0x1*-0x252d+0x11e),_0x324697['update'](_0x496a2b,_0x4276d7,_0x4a065c,this['mapping']),_0x324697['render']();}['resize'](_0x3b487f,_0x7bb10e){this['width']=Math['floor'](_0x3b487f),this['height']=Math['floor'](_0x7bb10e);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x48b2a8,_0x32addd,_0x5827f6){return yU['cross'](_0x48b2a8,_0x32addd)['dot'](_0x5827f6);}function xU(_0xf3eb84,_0x39d92e,_0x248b14){en['sub2'](_0x39d92e,_0xf3eb84),Nc['sub2'](_0x248b14[-0x23e6+-0x1bc5+0x3fab],_0xf3eb84),Ff['sub2'](_0x248b14[-0xa*0xc9+-0xf7f*-0x1+-0x7a4],_0xf3eb84),OS['sub2'](_0x248b14[-0x9d3+-0x1*-0x1a53+-0x107e],_0xf3eb84),kc['cross'](OS,en);let _0x503f67=Nc['dot'](kc),_0x59223e,_0x2eb93b;if(_0x503f67>=0x1c90+-0x2108+-0x8*-0x8f){if(_0x59223e=-Ff['dot'](kc),_0x59223e<0xcb*-0x2f+-0x153e+0x3a83||(_0x2eb93b=BS(en,Ff,Nc),_0x2eb93b<0x2*0x12f6+0x2121+0x470d*-0x1))return-(0x1*0x2626+-0x6d*0x2d+0x1b*-0xb4);const _0x1b1887=(-0x2234+0x1be*-0x7+0x2e67)/(_0x59223e+_0x503f67+_0x2eb93b);Uc['copy'](_0x248b14[-0x1*-0x1c1+-0x76*-0xc+-0x749])['mulScalar'](_0x59223e*_0x1b1887),Bc['copy'](_0x248b14[0x23*0xbf+0x65b*-0x4+-0xb*0x10])['mulScalar'](_0x503f67*_0x1b1887),zc['copy'](_0x248b14[-0x1e89*-0x1+-0x1b27+-0x360])['mulScalar'](_0x2eb93b*_0x1b1887),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x248b14[0x1*0x1321+-0xec6+-0x458],_0xf3eb84),_0x59223e=Nf['dot'](kc),_0x59223e<0x1*-0x15d+0x17*-0x8b+0xdda||(_0x2eb93b=BS(en,Nc,Nf),_0x2eb93b<0xc9f+-0x2*-0xfe2+-0x2c63*0x1))return-(0x1897*0x1+-0x1205*-0x1+-0x2a9b);_0x503f67=-_0x503f67;const _0x47ee7e=(0x14bc+0x11db*0x1+-0x2696)/(_0x59223e+_0x503f67+_0x2eb93b);Uc['copy'](_0x248b14[0x2*0x1186+0x1*-0xa22+-0x18ea])['mulScalar'](_0x59223e*_0x47ee7e),Bc['copy'](_0x248b14[0x1ba+-0x389*-0x1+-0x38*0x18])['mulScalar'](_0x503f67*_0x47ee7e),zc['copy'](_0x248b14[0x1dfe+-0x1*0xa61+-0x15*0xef])['mulScalar'](_0x2eb93b*_0x47ee7e),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x248b14[0x1643+0x15f1+0x3*-0xebc],_0x248b14[-0x15d*-0xd+-0x1365+0x1ae])['lengthSq']()<(0x102e+-0x120e+0x1e0+0.0001)*(-0x7*-0x16b+-0x1eeb+0x14fe+0.0001)||en['sub2'](_0x248b14[0xa33+0x1122+-0x1b54],_0x248b14[-0x1cc2+0x26d7+-0x1*0xa12])['lengthSq']()<(-0xe15+0x254+0x1*0xbc1+0.0001)*(0x1bf4+0x13+-0x1c07+0.0001)?-(-0x207d*0x1+-0xbd5+0x7*0x655):kf['sub'](_0xf3eb84)['lengthSq']();}class Am{constructor(_0x184185,_0x1822a0,_0x3df96b){this['event']=_0x184185,this['element']=_0x1822a0,this['camera']=_0x3df96b,this['_stopPropa'+'gation']=!(0x7bf+-0x4be+0x8*-0x60);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0xdf*-0x3+0x199*0x5+-0x1*0xa9a),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0xa32416,_0x4fc263,_0x38c9bd,_0xd38ca7,_0x3e0e7d,_0x11106a,_0x465d48){super(_0xa32416,_0x4fc263,_0x38c9bd),this['x']=_0xd38ca7,this['y']=_0x3e0e7d,this['ctrlKey']=_0xa32416['ctrlKey']||!(-0x2f3+-0xa38+-0x696*-0x2),this['altKey']=_0xa32416['altKey']||!(0x23da+0x1179+0x96*-0x5b),this['shiftKey']=_0xa32416['shiftKey']||!(-0xc6b+0x10b*-0x1b+0x2895),this['metaKey']=_0xa32416['metaKey']||!(-0x4f6+-0x342+0x839*0x1),this['button']=_0xa32416['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0xa32416['movementX']||_0xa32416['webkitMove'+'mentX']||_0xa32416['mozMovemen'+'tX']||0x2162+-0x23f8+0x296,this['dy']=_0xa32416['movementY']||_0xa32416['webkitMove'+'mentY']||_0xa32416['mozMovemen'+'tY']||0x87b+-0x716+0x1*-0x165):(this['dx']=_0xd38ca7-_0x11106a,this['dy']=_0x3e0e7d-_0x465d48),this['wheelDelta']=-0x5a*-0x17+0x26d0+-0x2ee6,_0xa32416['type']==='wheel'&&(_0xa32416['deltaY']>-0x6c0+-0x2*0xd5e+0x217c?this['wheelDelta']=0x1*-0x18e9+-0x2*0x986+0x2bf6:_0xa32416['deltaY']<-0xe2*0x1+-0x99f*0x3+0x1dbf&&(this['wheelDelta']=-(-0x24ff+0x8d*0x1a+0x16ae)));}}class Ao extends Am{constructor(_0x9500f5,_0x108ca9,_0x83a6f,_0x15835b,_0xd3732,_0x4c1d62){super(_0x9500f5,_0x108ca9,_0x83a6f),this['touches']=_0x9500f5['touches'],this['changedTou'+'ches']=_0x9500f5['changedTou'+'ches'],this['x']=_0x15835b,this['y']=_0xd3732,this['touch']=_0x4c1d62;}}class dr extends Am{constructor(_0x551ab1,_0x2ccb39,_0x5c74ca,_0x5b248c){super(_0x551ab1,_0x2ccb39,_0x5c74ca),this['inputSourc'+'e']=_0x5b248c;}}class Xo{constructor(_0xe56c6a,_0x3ae4da){this['_app']=null,this['_attached']=!(0x1aa5+-0x34*-0xa2+-0x3b8c),this['_target']=null,this['_enabled']=!(0x99d+0xf3e+-0x18db),this['_lastX']=-0x186a+-0x3d2+-0x2*-0xe1e,this['_lastY']=-0x337*0x1+0x529+-0xf9*0x2,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x3ae4da||_0x3ae4da['useMouse']!==!(-0x1cee+0x120+0x1bcf),this['_useTouch']=!_0x3ae4da||_0x3ae4da['useTouch']!==!(-0x93e+0x163*0x1c+-0x1d95),this['_useXr']=!_0x3ae4da||_0x3ae4da['useXr']!==!(0x7f7*0x1+0xb90+0x341*-0x6),this['_selectEve'+'ntsAttache'+'d']=!(-0x1*-0x238d+-0x193b+-0xa51),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0xe56c6a);}set['enabled'](_0x40858a){this['_enabled']=_0x40858a;}get['enabled'](){return this['_enabled'];}set['app'](_0x50a73c){this['_app']=_0x50a73c;}get['app'](){return this['_app']||Ms();}['attach'](_0x50844d){this['_attached']&&(this['_attached']=!(0x26*0xf4+-0x999+0x1a9e*-0x1),this['detach']()),this['_target']=_0x50844d,this['_attached']=!(0x265d*0x1+0x2e2*-0x2+-0x2099);const _0xff5b51=Ae['passiveEve'+'nts']?{'passive':!(0x7fd+0x1*0x67+-0x4*0x219)}:!(-0x4d*0x7+0x2*0x59+0x16a);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0xff5b51),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0xff5b51),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0xff5b51),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0xff5b51)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0xff5b51),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x1d3*-0x15+-0x1*-0x595+0x3a3*0x9)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x1f31+-0x1d5f+0xf*-0x1f)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x1a1*-0x1+-0x1677+0x14d7))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x3*0x617+0x4*-0x679+0x79f),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x6*-0x26f+-0xed8+0x3f);const _0x44c88c=Ae['passiveEve'+'nts']?{'passive':!(0x8b0+-0x1*-0x14b8+-0x1d68)}:!(0x2e2+-0xaf*-0x1b+-0x2*0xaab);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x44c88c),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x44c88c),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x44c88c),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x44c88c)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x44c88c),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0x80*-0x22+-0x124+0x3*-0x549)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x241b+-0x5*-0xef+0x1f1*-0x15)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x1*-0xd73+0x1eea+0xb17*-0x4))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x6a*0x19+0x4*-0x89f+-0xd*-0x373),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x64c1dc){this['_elements']['indexOf'](_0x64c1dc)===-(-0x47b*-0x2+0x47f*-0x1+-0x476)&&this['_elements']['push'](_0x64c1dc);}['removeElem'+'ent'](_0x4514b8){const _0x25b912=this['_elements']['indexOf'](_0x4514b8);_0x25b912!==-(0x1576+-0x26dd+0x1168)&&this['_elements']['splice'](_0x25b912,0x102b+-0x113a+0x1*0x110);}['_handleUp'](_0x2f9660){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2f9660),this['_onElement'+'MouseEvent']('mouseup',_0x2f9660)));}['_handleDow'+'n'](_0x1006e6){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x1006e6),this['_onElement'+'MouseEvent']('mousedown',_0x1006e6)));}['_handleMov'+'e'](_0x31ac8d){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x31ac8d),this['_onElement'+'MouseEvent']('mousemove',_0x31ac8d),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x3553ce){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x3553ce),this['_onElement'+'MouseEvent']('mousewheel',_0x3553ce));}['_determine'+'TouchedEle'+'ments'](_0xc4f523){const _0x224a76={},_0x29bc89=this['app']['systems']['camera']['cameras'];for(let _0x145dbc=_0x29bc89['length']-(-0x8*-0x219+-0x1b8a+-0x5f*-0x1d);_0x145dbc>=-0x255f+0x1739+-0x713*-0x2;_0x145dbc--){const _0x1eef0b=_0x29bc89[_0x145dbc];let _0x50cc29=0x82c+0x732*-0x1+-0xfa;const _0x521781=_0xc4f523['changedTou'+'ches']['length'];for(let _0x26b1d0=0x397*0x1+-0x1a83+0x16ec;_0x26b1d0<_0x521781;_0x26b1d0++){if(_0x224a76[_0xc4f523['changedTou'+'ches'][_0x26b1d0]['identifier']]){_0x50cc29++;continue;}const _0x29e1df=Wc(_0xc4f523['changedTou'+'ches'][_0x26b1d0]),_0x5273a9=this['_getTarget'+'ElementByC'+'oords'](_0x1eef0b,_0x29e1df['x'],_0x29e1df['y']);_0x5273a9&&(_0x50cc29++,_0x224a76[_0xc4f523['changedTou'+'ches'][_0x26b1d0]['identifier']]={'element':_0x5273a9,'camera':_0x1eef0b,'x':_0x29e1df['x'],'y':_0x29e1df['y']});}if(_0x50cc29===_0x521781)break;}return _0x224a76;}['_handleTou'+'chStart'](_0x7d869){if(!this['_enabled'])return;const _0x406c75=this['_determine'+'TouchedEle'+'ments'](_0x7d869);for(let _0x3f411d=0x3d*-0x55+-0x70d+-0x1b4e*-0x1,_0x15500a=_0x7d869['changedTou'+'ches']['length'];_0x3f411d<_0x15500a;_0x3f411d++){const _0xad6cbe=_0x7d869['changedTou'+'ches'][_0x3f411d],_0x9dd648=_0x406c75[_0xad6cbe['identifier']],_0x12e238=this['_touchedEl'+'ements'][_0xad6cbe['identifier']];_0x9dd648&&(!_0x12e238||_0x9dd648['element']!==_0x12e238['element'])&&(this['_fireEvent'](_0x7d869['type'],new Ao(_0x7d869,_0x9dd648['element'],_0x9dd648['camera'],_0x9dd648['x'],_0x9dd648['y'],_0xad6cbe)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0xad6cbe['identifier']]=!(0x4a*-0x6a+-0x1*-0x676+-0x97*-0x29));}for(const _0x6e02b1 in _0x406c75)this['_touchedEl'+'ements'][_0x6e02b1]=_0x406c75[_0x6e02b1];}['_handleTou'+'chEnd'](_0x2d85a0){if(!this['_enabled'])return;const _0x317a6e=this['app']['systems']['camera']['cameras'];for(const _0x5f12e7 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x5f12e7];for(let _0x25404c=0xe50+0x83b+-0x168b,_0x8e3cfe=_0x2d85a0['changedTou'+'ches']['length'];_0x25404c<_0x8e3cfe;_0x25404c++){const _0x5d5cdb=_0x2d85a0['changedTou'+'ches'][_0x25404c],_0x343848=this['_touchedEl'+'ements'][_0x5d5cdb['identifier']];if(!_0x343848)continue;const _0x4e31e4=_0x343848['element'],_0x21440c=_0x343848['camera'],_0x1cf6b7=_0x343848['x'],_0x1a16c7=_0x343848['y'];delete this['_touchedEl'+'ements'][_0x5d5cdb['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5d5cdb['identifier']];const _0x20ca65=Wc(_0x5d5cdb);for(let _0x23de51=_0x317a6e['length']-(0x13ba+0x2*-0x6fd+-0x5bf*0x1);_0x23de51>=-0x21d8+-0x1*0x1f1b+0x40f3;_0x23de51--)this['_getTarget'+'ElementByC'+'oords'](_0x317a6e[_0x23de51],_0x20ca65['x'],_0x20ca65['y'])===_0x4e31e4&&(this['_clickedEn'+'tities'][_0x4e31e4['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x2d85a0,_0x4e31e4,_0x21440c,_0x1cf6b7,_0x1a16c7,_0x5d5cdb)),this['_clickedEn'+'tities'][_0x4e31e4['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x2d85a0['type'],new Ao(_0x2d85a0,_0x4e31e4,_0x21440c,_0x1cf6b7,_0x1a16c7,_0x5d5cdb));}}['_handleTou'+'chMove'](_0x56c05f){if(_0x56c05f['preventDef'+'ault'](),!this['_enabled'])return;const _0x3e3185=this['_determine'+'TouchedEle'+'ments'](_0x56c05f);for(let _0x2d3c3f=0x23dd+0x3a9*-0x5+-0x1*0x1190,_0xd81094=_0x56c05f['changedTou'+'ches']['length'];_0x2d3c3f<_0xd81094;_0x2d3c3f++){const _0x2a5b13=_0x56c05f['changedTou'+'ches'][_0x2d3c3f],_0x19af06=_0x3e3185[_0x2a5b13['identifier']],_0x3b915e=this['_touchedEl'+'ements'][_0x2a5b13['identifier']];if(_0x3b915e){const _0x56ce21=Wc(_0x2a5b13);(!_0x19af06||_0x19af06['element']!==_0x3b915e['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x2a5b13['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x56c05f,_0x3b915e['element'],_0x3b915e['camera'],_0x56ce21['x'],_0x56ce21['y'],_0x2a5b13)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x2a5b13['identifier']]=!(-0x225f*-0x1+0xda*-0x2b+0x23f)),this['_fireEvent']('touchmove',new Ao(_0x56c05f,_0x3b915e['element'],_0x3b915e['camera'],_0x56ce21['x'],_0x56ce21['y'],_0x2a5b13));}}}['_onElement'+'MouseEvent'](_0x52d2fb,_0x3753b9){let _0x55f174=null;const _0x1913af=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x4b00a1=this['app']['systems']['camera']['cameras'];let _0x5b33ab;for(let _0x4d08c7=_0x4b00a1['length']-(0x565+0x901+0xe65*-0x1);_0x4d08c7>=-0xfd9+0x5*0x145+0x980&&(_0x5b33ab=_0x4b00a1[_0x4d08c7],_0x55f174=this['_getTarget'+'ElementByC'+'oords'](_0x5b33ab,cr,hr),!_0x55f174);_0x4d08c7--);if(this['_hoveredEl'+'ement']=_0x55f174,(_0x52d2fb==='mousemove'||_0x52d2fb==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x52d2fb,new bo(_0x3753b9,this['_pressedEl'+'ement'],_0x5b33ab,cr,hr,this['_lastX'],this['_lastY'])):_0x55f174&&(this['_fireEvent'](_0x52d2fb,new bo(_0x3753b9,_0x55f174,_0x5b33ab,cr,hr,this['_lastX'],this['_lastY'])),_0x52d2fb==='mousedown'&&(this['_pressedEl'+'ement']=_0x55f174)),_0x1913af!==this['_hoveredEl'+'ement']&&(_0x1913af&&this['_fireEvent']('mouseleave',new bo(_0x3753b9,_0x1913af,_0x5b33ab,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x3753b9,this['_hoveredEl'+'ement'],_0x5b33ab,cr,hr,this['_lastX'],this['_lastY']))),_0x52d2fb==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x986c09=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x2f655e=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x19327a=this['_clickedEn'+'tities'][_0x986c09]||0x2*-0x18e+0x1cc1*0x1+-0x19a5;_0x2f655e=Date['now']()-_0x19327a>0x1*0xa69+-0x10bb+-0x3bf*-0x2,delete this['_clickedEn'+'tities'][_0x986c09];}_0x2f655e&&this['_fireEvent']('click',new bo(_0x3753b9,this['_hoveredEl'+'ement'],_0x5b33ab,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x7ef037=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x3a37a3=-0x133*0x17+0x2fb*-0x9+0x3668;_0x3a37a3<_0x7ef037['length'];_0x3a37a3++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x7ef037[_0x3a37a3],null);}['_onXrInput'+'Remove'](_0x9db57a){const _0x264206=this['_selectedE'+'lements'][_0x9db57a['id']];_0x264206&&(_0x9db57a['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x264206,null,_0x9db57a))),delete this['_selectedE'+'lements'][_0x9db57a['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x9db57a['id']];}['_onSelectS'+'tart'](_0x233233,_0x2a44a3){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x233233,_0x2a44a3);}['_onSelectE'+'nd'](_0x2476ec,_0x176ba9){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x2476ec,_0x176ba9);}['_onElement'+'SelectEven'+'t'](_0x39551b,_0x543c56,_0x1e9afa){let _0x34634e;const _0x4d1469=this['_selectedE'+'lements'][_0x543c56['id']];let _0x5206c5;const _0x57c2e9=this['app']['systems']['camera']['cameras'];let _0x28a701;if(_0x543c56['elementInp'+'ut']){ep['set'](_0x543c56['getOrigin'](),_0x543c56['getDirecti'+'on']());for(let _0x13ddec=_0x57c2e9['length']-(-0x260b+-0xe17+0x3423);_0x13ddec>=0x378+-0xb91+0x819&&(_0x28a701=_0x57c2e9[_0x13ddec],_0x34634e=this['_getTarget'+'ElementByR'+'ay'](ep,_0x28a701),!_0x34634e);_0x13ddec--);}_0x543c56['_elementEn'+'tity']=_0x34634e||null,_0x34634e?(this['_selectedE'+'lements'][_0x543c56['id']]=_0x34634e,_0x5206c5=_0x34634e):delete this['_selectedE'+'lements'][_0x543c56['id']],_0x4d1469!==_0x5206c5&&(_0x4d1469&&this['_fireEvent']('selectleav'+'e',new dr(_0x1e9afa,_0x4d1469,_0x28a701,_0x543c56)),_0x5206c5&&this['_fireEvent']('selectente'+'r',new dr(_0x1e9afa,_0x5206c5,_0x28a701,_0x543c56)));const _0x25bd9d=this['_selectedP'+'ressedElem'+'ents'][_0x543c56['id']];_0x39551b==='selectmove'&&_0x25bd9d&&this['_fireEvent']('selectmove',new dr(_0x1e9afa,_0x25bd9d,_0x28a701,_0x543c56)),_0x39551b==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x543c56['id']]=_0x5206c5,_0x5206c5&&this['_fireEvent']('selectstar'+'t',new dr(_0x1e9afa,_0x5206c5,_0x28a701,_0x543c56))),!_0x543c56['elementInp'+'ut']&&_0x25bd9d&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x543c56['id']],_0x4d1469&&this['_fireEvent']('selectend',new dr(_0x1e9afa,_0x25bd9d,_0x28a701,_0x543c56))),_0x39551b==='selectend'&&_0x543c56['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x543c56['id']],_0x25bd9d&&this['_fireEvent']('selectend',new dr(_0x1e9afa,_0x25bd9d,_0x28a701,_0x543c56)),_0x25bd9d&&_0x25bd9d===_0x4d1469&&this['_fireEvent']('click',new dr(_0x1e9afa,_0x25bd9d,_0x28a701,_0x543c56)));}['_fireEvent'](_0x42676e,_0xf2a5ee){let _0x1778ab=_0xf2a5ee['element'];for(;_0x1778ab['fire'](_0x42676e,_0xf2a5ee),!(_0xf2a5ee['_stopPropa'+'gation']||!_0x1778ab['entity']['parent']||(_0x1778ab=_0x1778ab['entity']['parent']['element'],!_0x1778ab)););}['_calcMouse'+'Coords'](_0x2133de){const _0x4c2096=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x518284=Math['floor'](_0x4c2096['left']),_0x376495=Math['floor'](_0x4c2096['top']);cr=_0x2133de['clientX']-_0x518284,hr=_0x2133de['clientY']-_0x376495;}['_sortEleme'+'nts'](_0x3203e7,_0x51b1b4){const _0x30f55b=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x3203e7['layers'],_0x51b1b4['layers']);return _0x30f55b!==0x62f*-0x3+-0x1*0xc2e+0x1*0x1ebb?_0x30f55b:_0x3203e7['screen']&&!_0x51b1b4['screen']?-(-0x3dc+0x112f+0xb*-0x136):!_0x3203e7['screen']&&_0x51b1b4['screen']?0x1bcb*0x1+0x15*-0x115+-0x511*0x1:!_0x3203e7['screen']&&!_0x51b1b4['screen']?0x2*0x1169+-0x12c6+-0x100c:_0x3203e7['screen']['screen']['screenSpac'+'e']&&!_0x51b1b4['screen']['screen']['screenSpac'+'e']?-(-0x17*-0x133+0x224+-0x13d*0x18):_0x51b1b4['screen']['screen']['screenSpac'+'e']&&!_0x3203e7['screen']['screen']['screenSpac'+'e']?0x9ff+-0x2*0x275+0x1*-0x514:_0x51b1b4['drawOrder']-_0x3203e7['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x7bdcd4,_0x58fffe,_0x2cfa8d){const _0x54ccd9=this['_calculate'+'RayScreen'](_0x58fffe,_0x2cfa8d,_0x7bdcd4,Ri)?Ri:null,_0x5f23f8=this['_calculate'+'Ray3d'](_0x58fffe,_0x2cfa8d,_0x7bdcd4,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x7bdcd4,_0x54ccd9,_0x5f23f8);}['_getTarget'+'ElementByR'+'ay'](_0x38e8b0,_0x17f28c){Ri['origin']['copy'](_0x38e8b0['origin']),Ri['direction']['copy'](_0x38e8b0['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x17f28c['farClip']*(-0x27e+-0x2*0xa1f+0x16be))['add'](Ri['origin']);const _0x48f2de=Ri,_0x3f7d42=_0x17f28c['worldToScr'+'een'](_0x48f2de['origin'],Of),_0x20d325=this['_calculate'+'RayScreen'](_0x3f7d42['x'],_0x3f7d42['y'],_0x17f28c,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x17f28c,_0x20d325,_0x48f2de);}['_getTarget'+'Element'](_0x18b783,_0x3479e0,_0x4a5e4f){let _0x383ac2=null,_0x40bd22=(0x83c*0x1+0x6*-0x133+-0x109)/(0x18ed+-0x1e99+-0x2c*-0x21);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x49dc58=0x9da+-0x2*-0x67b+0x5b4*-0x4,_0x56ad99=this['_elements']['length'];_0x49dc58<_0x56ad99;_0x49dc58++){const _0x50f23b=this['_elements'][_0x49dc58];if(_0x50f23b['layers']['some'](_0x1a444e=>_0x18b783['layersSet']['has'](_0x1a444e))){if(_0x50f23b['screen']&&_0x50f23b['screen']['screen']['screenSpac'+'e']){if(!_0x3479e0)continue;if(this['_checkElem'+'ent'](_0x3479e0,_0x50f23b,!(-0xb5*-0x1a+0xfe2+0x56*-0x66))>=0x7c6*-0x2+0xf3b+0x51){_0x383ac2=_0x50f23b;break;}}else{if(!_0x4a5e4f)continue;const _0x4789fc=this['_checkElem'+'ent'](_0x4a5e4f,_0x50f23b,!(0xca7+-0x23b2+-0xb86*-0x2));if(_0x4789fc>=-0x11d*-0x21+0x1*0xdfa+-0x32b7*0x1&&(_0x4789fc<_0x40bd22&&(_0x383ac2=_0x50f23b,_0x40bd22=_0x4789fc),_0x50f23b['screen'])){_0x383ac2=_0x50f23b;break;}}}}return _0x383ac2;}['_calculate'+'RayScreen'](_0x4b97e5,_0x103211,_0x3ebeca,_0x11892c){const _0x508e2a=this['app']['graphicsDe'+'vice']['width'],_0x13b3c6=this['app']['graphicsDe'+'vice']['height'],_0x56c94e=_0x3ebeca['rect']['z']*_0x508e2a,_0x30dbf6=_0x3ebeca['rect']['w']*_0x13b3c6,_0x341b48=_0x3ebeca['rect']['x']*_0x508e2a,_0x48f90f=_0x341b48+_0x56c94e,_0x3e90f5=(0x2e6*0xc+-0x1*0x1723+-0xba4-_0x3ebeca['rect']['y'])*_0x13b3c6,_0x3c4bfb=_0x3e90f5-_0x30dbf6;let _0x29b8c4=_0x4b97e5*_0x508e2a/this['_target']['clientWidt'+'h'],_0x348242=_0x103211*_0x13b3c6/this['_target']['clientHeig'+'ht'];return _0x29b8c4>=_0x341b48&&_0x29b8c4<=_0x48f90f&&_0x348242<=_0x3e90f5&&_0x348242>=_0x3c4bfb?(_0x29b8c4=_0x508e2a*(_0x29b8c4-_0x341b48)/_0x56c94e,_0x348242=_0x13b3c6*(_0x348242-_0x3c4bfb)/_0x30dbf6,_0x348242=_0x13b3c6-_0x348242,_0x11892c['origin']['set'](_0x29b8c4,_0x348242,-0x2f9*-0x3+-0x14da+0x5f8*0x2),_0x11892c['direction']['set'](-0x2274+-0x192b+0x3b9f,-0x1*0x1a89+0x22e6*0x1+-0x85d,-(0x46a+-0x10f0+-0xc87*-0x1)),_0x11892c['end']['copy'](_0x11892c['direction'])['mulScalar'](0xb*0x232+-0x258+0x14*-0x117)['add'](_0x11892c['origin']),!(-0x21f8+0x26a*0xd+0x296)):!(-0x6dc+-0x1c03+0xba*0x30);}['_calculate'+'Ray3d'](_0x528c1d,_0x26ac78,_0x11009a,_0x575209){const _0xc6d7c0=this['_target']['clientWidt'+'h'],_0x404c9a=this['_target']['clientHeig'+'ht'],_0x5dcece=_0x11009a['rect']['z']*_0xc6d7c0,_0x56e9a9=_0x11009a['rect']['w']*_0x404c9a,_0x426d2e=_0x11009a['rect']['x']*_0xc6d7c0,_0xc9307f=_0x426d2e+_0x5dcece,_0x464db1=(0xe3b+-0x1f57+0x111d-_0x11009a['rect']['y'])*_0x404c9a,_0x14ef16=_0x464db1-_0x56e9a9;let _0x4035bb=_0x528c1d,_0x39726a=_0x26ac78;return _0x528c1d>=_0x426d2e&&_0x528c1d<=_0xc9307f&&_0x26ac78<=_0x464db1&&_0x39726a>=_0x14ef16?(_0x4035bb=_0xc6d7c0*(_0x4035bb-_0x426d2e)/_0x5dcece,_0x39726a=_0x404c9a*(_0x39726a-_0x14ef16)/_0x56e9a9,_0x11009a['screenToWo'+'rld'](_0x4035bb,_0x39726a,_0x11009a['nearClip'],Of),_0x11009a['screenToWo'+'rld'](_0x4035bb,_0x39726a,_0x11009a['farClip'],RS),_0x575209['origin']['copy'](Of),_0x575209['direction']['set'](-0x23d6+-0x4*0xe7+0x2772,0x1f2a+0x4*-0x665+-0xd*0x6e,-(-0x1ad9*0x1+-0x89e+0x2378)),_0x575209['end']['copy'](RS),!(0x2b*-0xb5+0x153+-0x1*-0x1d14)):!(-0x2*-0x455+-0x12bc+0xa13);}['_checkElem'+'ent'](_0x480be7,_0x5ea33b,_0x4e4cf5){if(_0x5ea33b['maskedBy']&&this['_checkElem'+'ent'](_0x480be7,_0x5ea33b['maskedBy']['element'],_0x4e4cf5)<-0x1*-0x20e+0x1873+-0x1a81*0x1)return-(0x1*-0x205f+-0x2351+0x2b*0x193);let _0xa5b56b;_0x4e4cf5?_0xa5b56b=Xo['calculateS'+'caleToScre'+'en'](_0x5ea33b):_0xa5b56b=Xo['calculateS'+'caleToWorl'+'d'](_0x5ea33b);const _0x5597e5=Xo['buildHitCo'+'rners'](_0x5ea33b,_0x4e4cf5?_0x5ea33b['screenCorn'+'ers']:_0x5ea33b['worldCorne'+'rs'],_0xa5b56b);return xU(_0x480be7['origin'],_0x480be7['end'],_0x5597e5);}static['buildHitCo'+'rners'](_0x17e285,_0x4ed0d6,_0x21aa6e){let _0x4d811e=_0x4ed0d6;if(_0x17e285['entity']&&_0x17e285['entity']['button']){const _0x2d28d3=_0x17e285['entity']['button']['hitPadding']||vU;wo['copy'](_0x17e285['entity']['up']),Vc['copy'](wo)['mulScalar'](-(0x1335+-0x23b*-0x3+-0x1*0x19e5)),Eo['copy'](_0x17e285['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0x2f5*0x5+0x10b3+-0x1e9)),wo['mulScalar'](_0x2d28d3['w']*_0x21aa6e['y']),Vc['mulScalar'](_0x2d28d3['y']*_0x21aa6e['y']),Eo['mulScalar'](_0x2d28d3['z']*_0x21aa6e['x']),Gc['mulScalar'](_0x2d28d3['x']*_0x21aa6e['x']),FS['copy'](_0x4d811e[0x113*-0x17+-0x945*-0x3+-0x31a])['add'](Vc)['add'](Gc),NS['copy'](_0x4d811e[0x6*0x293+-0x1*-0x2507+-0x2*0x1a3c])['add'](Vc)['add'](Eo),kS['copy'](_0x4d811e[-0x195b+-0x12fd+0x7*0x656])['add'](wo)['add'](Eo),US['copy'](_0x4d811e[0x972+0x7ee+0x7*-0x27b])['add'](wo)['add'](Gc),_0x4d811e=[FS,NS,kS,US];}if(_0x21aa6e['x']<0x2*-0xf+-0xcd1+-0x1*-0xcef){const _0x14b7d6=_0x4d811e[0x5*-0x3c5+-0x41*-0x1+0x129a]['x'],_0x53e40f=_0x4d811e[-0x1a4c+0x136e+-0x36f*-0x2]['x'];_0x4d811e[0xb*-0x67+-0x13f2+0x16f*0x11]['x']=_0x14b7d6,_0x4d811e[-0x6a3*0x2+-0xdc5+0x1b0c]['x']=_0x53e40f,_0x4d811e[-0x1431+-0x1ccf+0x3102]['x']=_0x53e40f,_0x4d811e[-0x13ee+0x1e09+0x11*-0x98]['x']=_0x14b7d6;}if(_0x21aa6e['y']<-0x9b*-0x1b+0x13*0x59+-0x16f4){const _0x464398=_0x4d811e[-0x1*0x925+0x24f2+-0x1bcb]['y'],_0x4f4a82=_0x4d811e[-0x193d+0x1*-0x1e63+0x37a0]['y'];_0x4d811e[0x5b1+0x85e+-0x3b*0x3d]['y']=_0x464398,_0x4d811e[0x1e1f+0x19bb+-0x37d9]['y']=_0x464398,_0x4d811e[-0x518*-0x7+0x1eb0+-0x4256]['y']=_0x4f4a82,_0x4d811e[-0x1fe8+0x8ee+0x16fd]['y']=_0x4f4a82;}if(_0x21aa6e['z']<0xd7*-0x25+0x1533+0x9e0){const _0x392905=_0x4d811e[0xd*0x45+0x1732+0x1ab1*-0x1]['x'],_0x2a8bc8=_0x4d811e[0xb3*-0x1c+0x76c+0xad*0x12]['y'],_0x984f3a=_0x4d811e[-0x3*-0x39c+-0xf9b*0x2+0x1464]['z'];_0x4d811e[0x26c7+0xc58+-0x1*0x331d]['x']=_0x4d811e[0x1b4f*0x1+0x245*0x7+-0x2b32]['x'],_0x4d811e[0xbf6*-0x1+-0x13bf+0x1fb7]['y']=_0x4d811e[0xb77+-0x13c3*0x1+-0xb1*-0xc]['y'],_0x4d811e[0x26*-0x73+-0x26a9+0x37bd]['z']=_0x4d811e[0x1*-0x2140+0x19cf*-0x1+0x3b0f]['z'],_0x4d811e[0x81a+0x1438+-0x1c52]['x']=_0x392905,_0x4d811e[0x1209+-0x16f7+-0x4ee*-0x1]['y']=_0x2a8bc8,_0x4d811e[0x32*0x61+0x63a*-0x1+-0xcb8]['z']=_0x984f3a;}return _0x4d811e;}static['calculateS'+'caleToScre'+'en'](_0x4f1168){let _0x397492=_0x4f1168['entity'];const _0x535212=_0x4f1168['screen']['screen']['scale'];for(tn['set'](_0x535212,_0x535212,_0x535212);_0x397492&&!_0x397492['screen'];)tn['mul'](_0x397492['getLocalSc'+'ale']()),_0x397492=_0x397492['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x7818df){let _0x3349f6=_0x7818df['entity'];for(tn['set'](-0x26c2+-0x104f+0x3712,-0x7d*-0x46+-0x18c5+-0x968,-0x5b9*0x6+-0x2*-0x7cf+-0x12b9*-0x1);_0x3349f6;)tn['mul'](_0x3349f6['getLocalSc'+'ale']()),_0x3349f6=_0x3349f6['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x590840,_0x5ed35b){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x590840,new _m(_0x5ed35b));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x4db450){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x293c28){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x293c28?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x2d0095){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x2d0095?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x24cb+-0xc81+0x354c;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x1319+-0x124d+-0xcc);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x2*0x821+0x1c9*-0x7+-0x3*0x141);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0xde7*-0x1+0xc8e+-0x5*-0x45);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x22f3+0x1*-0x427+0x271a);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0xfea+-0x4cd*0x2+0x1984);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x848+-0x3a*0x1b+0x1*-0x22a);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0xb8+-0x1c0+0x2*0x84);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x148f+0x8cc+0xa7*-0x2d);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0x2*-0x611+0x307+-0x1*0xf29);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x1*-0x190c+-0x4c*0x3+-0x1828);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0x837+-0x1d53+0x151c);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x5b6190,_0x11e899){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x33de77=this['blendState'];ut['copy'](_0x33de77),ut['setColorBl'+'end'](_0x33de77['colorOp'],_0x5b6190,_0x11e899),ut['setAlphaBl'+'end'](_0x33de77['alphaOp'],_0x5b6190,_0x11e899),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x24c92f,_0x562951,_0x24b8f7,_0x18bc3a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x38bf46=this['blendState'];ut['copy'](_0x38bf46),ut['setColorBl'+'end'](_0x38bf46['colorOp'],_0x24c92f,_0x562951),ut['setAlphaBl'+'end'](_0x38bf46['alphaOp'],_0x24b8f7,_0x18bc3a),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x418958){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3ab40e=this['blendState'];ut['copy'](_0x3ab40e),ut['setColorBl'+'end'](_0x418958,_0x3ab40e['colorSrcFa'+'ctor'],_0x3ab40e['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x418958,_0x3ab40e['alphaSrcFa'+'ctor'],_0x3ab40e['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x1e85df,_0x1e076f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x285455=this['blendState'];ut['copy'](_0x285455),ut['setColorBl'+'end'](_0x1e85df,_0x285455['colorSrcFa'+'ctor'],_0x285455['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x1e076f,_0x285455['alphaSrcFa'+'ctor'],_0x285455['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x51e74f,_0x2a2a93,_0x259cde,_0xed631a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x2ddd2a=this['blendState'];ut['copy'](_0x2ddd2a),ut['setColorWr'+'ite'](_0x51e74f,_0x2a2a93,_0x259cde,_0xed631a),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x2fe7fe){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x2fe7fe,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x45dc49){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x45dc49,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x51b28f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x51b28f,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x209d13){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x209d13,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x2dad3f,_0x4c6adf){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x4c6adf+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x4c6adf);},'set'(_0x1573b9,_0x4785a7,_0x136995){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x4785a7+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x4785a7,_0x136995),!(0x37*-0x81+-0x47*-0x1+0x1b70);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x4faebb){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x4faebb;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x37e4a4){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x37e4a4;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0xa852){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0xa852;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x67fac6){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x67fac6;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x2f575d){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x5a6bba){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x46f4b3){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x478fe8,_0x3911e1)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x478fe8,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x478fe8+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x3911e1];},'set':function(_0x15b99f){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x478fe8+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x3911e1]=_0x15b99f,this['updateShad'+'ers']=!(-0x9*0x1a8+0xdd9+0x1*0x10f);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x4af6a3,_0x4b3f7a,_0x1b5dfa=''){Object['defineProp'+'erty'](_0x4af6a3['prototype'],_0x4b3f7a,{'set':function(_0x5aca04){w['errorOnce'](_0x4af6a3['name']+'#'+_0x4b3f7a+('\x20has\x20been\x20'+'removed.\x20')+_0x1b5dfa);},'get':function(){w['errorOnce'](_0x4af6a3['name']+'#'+_0x4b3f7a+('\x20has\x20been\x20'+'removed.\x20')+_0x1b5dfa);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x43ca80){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x43ca80);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x5096f7){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x5096f7];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x49b24f){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x49b24f;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x11c539){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x30c526){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x30c526;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(0x2*-0x12a+-0x1*-0x20e3+0x1*-0x1e2b);},'set':function(_0x23bdd8){this['gloss']=_0x23bdd8*(-0xb9a+0xae2+0xb8+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x3a353b){this['useTonemap']=_0x3a353b;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x3f39f5=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x176*0x1+-0x2113*0x1+0x1f9f)));return this['anisotropy'+'Intensity']*_0x3f39f5;},'set':function(_0x218de4){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x218de4),_0x218de4>=0x2361+-0xa*0x2af+-0x88b?this['anisotropy'+'Rotation']=-0x21c3+-0x3*-0x35f+0x3*0x7e2:this['anisotropy'+'Rotation']=-0x831+-0x265e+-0xfa3*-0x3;}});function Qs(_0x54e389,_0x491eee){Object['defineProp'+'erty'](Ut['prototype'],_0x491eee,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x491eee+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x54e389+'\x20instead.'),this[_0x54e389];},'set':function(_0x374ee0){w['deprecated']('pc.Standar'+'dMaterial#'+_0x491eee+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x54e389+'\x20instead.'),this[_0x54e389]=_0x374ee0;}});}function Id(_0x57bb63){Object['defineProp'+'erty'](Ut['prototype'],_0x57bb63,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x57bb63+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x57bb63+('\x20was\x20alway'+'s\x20true')),!(0x482*0x3+0x6*-0xbf+0x2*-0x486);},'set':function(_0x4b3d8f){w['deprecated']('pc.Standar'+'dMaterial#'+_0x57bb63+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x57bb63+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x157008,_0x640d85){_0x157008!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x157008,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x157008+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x640d85||_0x157008)+'.'),this['litOptions'][_0x640d85||_0x157008];},'set':function(_0x2e7ca7){w['deprecated']('Setting\x20pc'+'.Options#'+_0x157008+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x640d85||_0x157008)+'.'),this['litOptions'][_0x640d85||_0x157008]=_0x2e7ca7;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x214b5d){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x214b5d);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0xba6+-0x1e6d+0x7*0x603);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x171+-0x755*0x1+0x8*0x119);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x165b72,_0x5edd37,_0x1b8633){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x165b72=_0x165b72||this['graphicsDe'+'vice']['canvas'];const _0x4301b2=function(){_0x5edd37(),document['removeEven'+'tListener']('fullscreen'+'change',_0x4301b2);},_0x2622b9=function(){_0x1b8633(),document['removeEven'+'tListener']('fullscreen'+'error',_0x2622b9);};_0x5edd37&&document['addEventLi'+'stener']('fullscreen'+'change',_0x4301b2,!(-0x602*-0x4+-0x1ed+0x3af*-0x6)),_0x1b8633&&document['addEventLi'+'stener']('fullscreen'+'error',_0x2622b9,!(0x51e+-0x1989+0x51b*0x4)),_0x165b72['requestFul'+'lscreen']?_0x165b72['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x1b8633();},Ks['prototype']['disableFul'+'lscreen']=function(_0x320c62){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0xd6f288=function(){_0x320c62(),document['removeEven'+'tListener']('fullscreen'+'change',_0xd6f288);};_0x320c62&&document['addEventLi'+'stener']('fullscreen'+'change',_0xd6f288,!(-0xc4c+0x1bb6*0x1+-0xf69)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x426b15){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x5e7c7f=this['scenes']['find'](_0x426b15);return _0x5e7c7f?_0x5e7c7f['url']:null;},Ks['prototype']['loadScene']=function(_0x332203,_0x2adc24){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x332203,_0x2adc24);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x457f5f,_0x2f6f03){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x457f5f,_0x2f6f03);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x56f1f8,_0x595414){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x56f1f8,_0x595414);},Tm['prototype']['setVisible']=function(_0x9eed0d){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x9eed0d;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x42835e){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x42835e;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x6*0x2ef+-0x1*-0x149f+-0x304?this['gravity']['copy'](arguments[-0x1da9+-0x120+0x1ec9]):this['gravity']['set'](arguments[0x2287+-0xc01+-0x2*0xb43],arguments[0x1980+0x1*-0x2c3+-0x48c*0x5],arguments[-0x25c1+0x1d*0x91+0x1556]);};class wU{constructor(_0x3a9495){this['_frameInde'+'x']=-0x15b2+0x1c5c+-0x6aa,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x25c0+-0x1c9b+0x3*-0x30c,this['enabled']=!(0x1*0x1a05+0x168f+-0x3094),_0x3a9495['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3a9495['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3a9495['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x22bde6){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x6159df=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x6159df,this['_frameInde'+'x']=0x2613+0x363*-0xa+-0x435,this['mark'](_0x22bde6);}['mark'](_0x379904){if(!this['enabled'])return;const _0x53d7bb=de();if(this['_frameInde'+'x']>-0x299+0x8d3*0x1+-0x63a){const _0x21f758=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1c66+0xc5*-0xa+-0x14b3)];_0x21f758[0x1c08+0x4a7+-0x1*0x20ae]=_0x53d7bb-_0x21f758[0xd8f+0x1c2b*-0x1+0xe9d];}else{if(this['_timings']['length']>0xc9*-0x10+0x8*-0x424+-0x4*-0xb6c){const _0xa2aab5=this['_timings'][this['_timings']['length']-(-0xd*0x113+-0x98b*-0x1+0x46d)];_0xa2aab5[0x20bf+-0x8be+-0x1800]=_0x53d7bb-_0xa2aab5[-0xe37+0x1dbe+-0xf86];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x379904,_0x53d7bb]);else{const _0x54ea5e=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x54ea5e[0x1*0x5fb+0x2*-0x1046+0x8db*0x3]=_0x379904,_0x54ea5e[-0x1639*-0x1+-0x1085*-0x1+-0x26bd]=_0x53d7bb;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1696+-0xedd+0x2573,-(0x191+0x6*-0x61+0xb6))['map'](_0x2125ae=>_0x2125ae[-0x4*0x1f6+-0xff8+-0x1d5*-0xd]);}}class EU{constructor(_0x199161){this['device']=_0x199161,_0x199161['gpuProfile'+'r']['enabled']=!(-0x1d45+-0x1*-0x1b69+-0x11*-0x1c),this['enabled']=!(-0x5a0+-0x425*-0x2+-0x2aa),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1197+-0x3*-0xafd+0xf5f*-0x1,this['_timings']=[];}get['timings'](){return this['_timings'][0x19cf*-0x1+0x1eee+-0x51f]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x3d2097,_0x35c540,_0x1f8f8c,_0x1d4608,_0x464fc0){this['app']=_0x3d2097,this['values']=[],this['statNames']=_0x35c540,this['statNames']['length']>-0x1166+-0x128b+0x23f4&&(this['statNames']['length']=0x2*-0x11a5+0x1*0x1c73+-0x36d*-0x2),this['unitsName']=_0x1d4608,this['decimalPla'+'ces']=_0x1f8f8c,this['multiplier']=_0x464fc0||-0x2*-0x123a+0x1eeb+-0x435e;const _0x34c0ac=(_0x203e39,_0x57cef4)=>_0x203e39['split']('.')['reduce']((_0x4d45c3,_0xfc7919)=>_0x4d45c3?_0x4d45c3[_0xfc7919]:null,_0x57cef4||this);_0x3d2097['on']('frameupdat'+'e',_0x1808b0=>{for(let _0x1e132e=-0x1d65+0xcb5*-0x3+-0x74*-0x95;_0x1e132e<this['statNames']['length'];_0x1e132e++)this['values'][_0x1e132e]=_0x34c0ac(this['statNames'][_0x1e132e],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x266af2,_0x3aa7cf,_0x209814,_0x991188,_0x4d3fec){this['app']=_0x3aa7cf,this['name']=_0x266af2,this['device']=_0x3aa7cf['graphicsDe'+'vice'],this['timer']=_0x4d3fec,this['watermark']=_0x209814,this['enabled']=!(0x168e+-0x189+-0x1504),this['textRefres'+'hRate']=_0x991188,this['avgTotal']=-0xd4*-0xf+-0x71*0x2c+-0x70*-0x10,this['avgTimer']=-0x1488+0x14b*-0x13+0x2d19*0x1,this['avgCount']=0x16ba+-0x19d6+-0x18e*-0x2,this['timingText']='',this['texture']=null,this['yOffset']=-0x1dd4+0x2327+0x1d*-0x2f,this['cursor']=-0x1*-0x10fd+-0x47e+-0xc7f,this['sample']=new Uint8ClampedArray(0x28*-0xf9+0x157a+0x4d*0x3a),this['sample']['set']([-0x2160+-0x16a9*-0x1+0xab7,-0x8d*-0x33+-0x2*0xd1c+0x1*-0x1df,-0x166*0x3+-0x6*-0x52f+0x6*-0x47c,-0x2466+-0x1*0x212e+0x4693]),this['counter']=-0x2502+0x1ed6+0x62c,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x4a4fe2){const _0x465f40=this['timer']['timings'],_0x5e556f=_0x465f40['reduce']((_0x15cf28,_0x25a88b)=>_0x15cf28+_0x25a88b,0x1*-0x67d+-0xe39+0x14b6);if(this['avgTotal']+=_0x5e556f,this['avgTimer']+=_0x4a4fe2,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0xc*-0xc1+0xdfa+-0x1706,this['avgTotal']=0x781+0x160c+-0x11*0x1bd,this['avgCount']=0x21e0+-0xdf6*-0x1+-0x2fd6),this['enabled']){let _0x2c2e2b=-0x7d8+-0x1227+-0x5*-0x533;const _0x19c54b=(0x5*-0x82+-0x11*-0x1a3+-0x4*0x652+0.5)*this['watermark'];for(let _0x1b6d1c=-0x4f*0x19+-0xa8e+0x1245;_0x1b6d1c<_0x465f40['length'];++_0x1b6d1c)_0x2c2e2b+=Math['floor'](_0x465f40[_0x1b6d1c]/_0x19c54b*(0x1*-0x137b+0x2e*0xd5+-0x11cc)),this['sample'][_0x1b6d1c]=_0x2c2e2b;this['sample'][0x40e+-0x41*-0x42+-0x14cd]=this['watermark']/_0x19c54b*(0xe4c+-0x2*0x29e+-0x811),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0xe*-0x1e+-0x26e5+0x288d)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x1dc9+0x33*0x3d+0x11a2);}}['render'](_0x455618,_0x52b97a,_0x3be572,_0x41f6c2,_0x1fa7b2){_0x455618['quad'](_0x52b97a+_0x41f6c2,_0x3be572,-_0x41f6c2,_0x1fa7b2,this['enabled']?this['cursor']:0x1505+-0x105*0x4+0x10f1*-0x1,this['enabled']?-0x6*-0x45a+0x1f43+-0x395f+0.5+this['yOffset']:this['texture']['height']-(0x608*0x6+0x1*0x848+-0x2c77*0x1),-_0x41f6c2,0x202*0xe+-0x1a98+-0x184,this['texture'],-0xba4+0x4a*-0x49+0x20be);}}class AU{constructor(_0x21b4b7,_0x43b5a3){const _0x552ca2=_0x56377a=>{_0x56377a['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x56377a['textAlign']='left',_0x56377a['textBaseli'+'ne']='alphabetic';},_0x2b2754=_0x840a51=>_0x840a51==='.'||_0x840a51['length']===0x6*0x65f+0x216b+0x72a*-0xa&&_0x840a51['charCodeAt'](-0x1665+-0x13c1+-0x86e*-0x5)>=-0x12eb+0x253c+0x7*-0x297&&_0x840a51['charCodeAt'](0x9*-0x23b+0xc68*0x3+-0x4d*0x39)<=-0x1c81+0x1*0x1ae3+0x1d7*0x1,_0x29beaa=document['createElem'+'ent']('canvas'),_0x373119=_0x29beaa['getContext']('2d',{'alpha':!(-0x56c*-0x2+-0xa53+-0x85)});_0x552ca2(_0x373119);const _0x5779f1=new Map(),_0x450f29=-0x20b*0xb+0x15f1*0x1+-0x8d*-0x1,_0x461f1e=-0x464+-0x10*0x26f+0x2d54;let _0x18757d=_0x450f29,_0x34f984=_0x450f29;_0x43b5a3['forEach'](_0x5ef0f9=>{const _0x2264b6=_0x373119['measureTex'+'t'](_0x5ef0f9),_0x319ffe=Math['ceil'](-_0x2264b6['actualBoun'+'dingBoxLef'+'t']),_0x35f84d=Math['ceil'](_0x2264b6['actualBoun'+'dingBoxRig'+'ht']),_0x3cb785=Math['ceil'](_0x2264b6['actualBoun'+'dingBoxAsc'+'ent']),_0x46ed8c=Math['ceil'](_0x2264b6['actualBoun'+'dingBoxDes'+'cent']),_0x52d240=_0x319ffe+_0x35f84d,_0x20ff07=_0x3cb785+_0x46ed8c;_0x18757d+_0x52d240+_0x450f29>=_0x461f1e&&(_0x18757d=_0x450f29,_0x34f984+=0xb49+-0x203b*-0x1+-0x2b74),_0x5779f1['set'](_0x5ef0f9,{'l':_0x319ffe,'r':_0x35f84d,'a':_0x3cb785,'d':_0x46ed8c,'w':_0x52d240,'h':_0x20ff07,'x':_0x18757d,'y':_0x34f984}),_0x18757d+=_0x52d240+_0x450f29;}),_0x29beaa['width']=-0x2288+-0x1*0x50d+0x2995,_0x29beaa['height']=Y['nextPowerO'+'fTwo'](_0x34f984+(0x5+-0xf7b+-0x7c3*-0x2)+_0x450f29),_0x552ca2(_0x373119),_0x373119['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x373119['fillRect'](0xe15+0x1038+-0x1e4d,-0x28d*0x1+-0x1465*-0x1+-0x11d8,_0x29beaa['width'],_0x29beaa['height']),_0x5779f1['forEach']((_0x9aa5b9,_0x103ee6)=>{_0x373119['fillStyle']=_0x2b2754(_0x103ee6)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x373119['fillText'](_0x103ee6,_0x9aa5b9['x']-_0x9aa5b9['l'],_0x9aa5b9['y']+_0x9aa5b9['a']);}),this['placements']=_0x5779f1;const _0x5a434a=_0x373119['getImageDa'+'ta'](-0x5*0x4db+-0x1229*0x1+0x2a70,0xa0f+0x917+-0x662*0x3,_0x29beaa['width'],_0x29beaa['height'])['data'];for(let _0x33d4ac=-0x2*-0xdd5+0x12*-0x18b+0x1c;_0x33d4ac<_0x5a434a['length'];_0x33d4ac+=0x1*-0x8dd+0x1*0x4b8+0x3*0x163)_0x5a434a[_0x33d4ac+(0x5b*-0x13+-0x1*-0x2015+-0x1951*0x1)]=_0x5a434a[_0x33d4ac+(-0x1118+-0xa6*-0x30+-0xe08)],_0x5a434a[_0x33d4ac+(-0x10f*0x17+-0x3ab+0x1c04)]=0x1c41+0x742*0x4+0x2*-0x1c25,_0x5a434a[_0x33d4ac+(-0x4b+0x3*-0x1c9+0x5a7)]=-0x968*-0x4+0x9e3+-0x2e84,_0x5a434a[_0x33d4ac+(-0x1*-0x205d+-0x11a*-0xc+-0x2d93)]=-0x221a+0x61*-0x61+0x47da;this['texture']=new _e(_0x21b4b7,{'name':'mini-stats'+'-word-atla'+'s','width':_0x29beaa['width'],'height':_0x29beaa['height'],'mipmaps':!(-0x20ca+-0x2*-0xccd+0x731),'minFilter':Te,'magFilter':Te,'levels':[_0x5a434a]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x48ca07,_0x2865fe,_0x2b9ba1,_0x4d165a){const _0x6a4cdc=this['placements']['get'](_0x2865fe);return _0x6a4cdc?(_0x48ca07['quad'](_0x2b9ba1+_0x6a4cdc['l']-(0x1ebf*0x1+-0x17*-0x89+0x67*-0x6b),_0x4d165a-_0x6a4cdc['d']+(-0x67c*-0x4+-0xdf6*0x2+-0x1*-0x1fd),_0x6a4cdc['w']+(0x39*-0x77+-0x3*0xa5+-0x410*-0x7),_0x6a4cdc['h']+(0x69a+-0xfa1+0x909),_0x6a4cdc['x']-(-0xd94+-0x14f2+0x2287),this['texture']['height']-_0x6a4cdc['y']-_0x6a4cdc['h']-(0x426+0x3*-0xbb2+-0x1ef1*-0x1),void(0x353*-0x3+0xe11+-0x8*0x83),void(-0x1*-0x1baf+0x7*0x16+-0x1c49),this['texture'],-0x178f+0x11b7+0x5d9),_0x6a4cdc['w']):0x7c8+0x1cd1+-0x9*0x411;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x4e888f,_0x3585f6=-0x1979+0x14a8+0x6d1*0x1){const _0x14a60c=new kt(_0x4e888f,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x463797=new Uint16Array(_0x3585f6*(-0x1*0x2519+0x1ccf+0x850));for(let _0x47f5ec=-0x1584+-0x355+0x18d9*0x1;_0x47f5ec<_0x3585f6;++_0x47f5ec)_0x463797[_0x47f5ec*(-0x23e*-0x2+0xf27+-0x139d*0x1)+(0x305*-0x5+0x235d*-0x1+-0x193b*-0x2)]=_0x47f5ec*(-0xe57*-0x1+0x17d9+-0x262c),_0x463797[_0x47f5ec*(0x539*0x3+-0xd75+-0x118*0x2)+(0x12bc+-0xa69+-0x852)]=_0x47f5ec*(-0x10e2+-0x1*0x183b+0x2921)+(0x13*0x1fd+0xf4c+-0x1a89*0x2),_0x463797[_0x47f5ec*(0x104+0xbf*-0x6+0x37c)+(0x65*0x56+0x40f+-0x25fb)]=_0x47f5ec*(-0x109*-0x1+0xa0f+-0xb14)+(-0x1dbc+0x236d+-0x5af),_0x463797[_0x47f5ec*(0x1814+-0x1a70+0x262)+(-0x1d32+0x122e+0xb07*0x1)]=_0x47f5ec*(-0x12c3*-0x2+0x1*0x4a5+0x63*-0x6d),_0x463797[_0x47f5ec*(0x5e9*-0x3+0xedc+0x2e5)+(0x56c+-0x1bc8+0x1660)]=_0x47f5ec*(-0x26d2+-0x17a9+-0x14d5*-0x3)+(-0x13*0x95+0xad*-0x1b+0x1d50),_0x463797[_0x47f5ec*(-0x1969+0x1*0x1987+-0x18)+(-0x2604+-0xa*0x19+0x2703)]=_0x47f5ec*(-0x1ff+0x181b+-0x1618)+(-0xe91+-0x203b+0x1*0x2ecf);this['device']=_0x4e888f,this['buffer']=new Is(_0x4e888f,_0x14a60c,_0x3585f6*(0x236d+-0x1a3f+-0x92a),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x16a6+-0xd8+-0x15ca)),this['indexBuffe'+'r']=new br(_0x4e888f,Yi,_0x3585f6*(0x1f49+-0xbfc+-0x2c1*0x7),ms,_0x463797),this['prim']={'type':js,'indexed':!(-0xa59+-0x16d*-0x9+-0x27c),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x76d*0x4+0x2*-0x832+0x2e18,this['mesh']=new Ge(_0x4e888f),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x3c*0x32+0x1bb5+-0x276d]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x4f81e6=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x4f81e6,_0x4f81e6['cull']=bt,_0x4f81e6['depthState']=Yt['NODEPTH'],_0x4f81e6['blendState']=new pt(!(-0x4a*0x27+0x1c36*0x1+-0x10f0*0x1),fs,jh,Yh,fs,Ft,Ft),_0x4f81e6['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x4f81e6,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x2561+-0x58b+-0x1fd2)},this['targetSize']={'width':_0x4e888f['width'],'height':_0x4e888f['height']};}['quad'](_0x3e3946,_0x4403d1,_0x24cb0c,_0x6e8e68,_0x3576ab,_0x5e7094,_0x3b6a86,_0x2a3aea,_0x21f3c4,_0x220b64=-0x1*-0x995+0x963+-0x12f8){const _0x3b9823=this['targetSize']['width'],_0xc43a5b=this['targetSize']['height'],_0x386da6=_0x3e3946/_0x3b9823,_0x39a809=_0x4403d1/_0xc43a5b,_0x5a125c=(_0x3e3946+_0x24cb0c)/_0x3b9823,_0x524030=(_0x4403d1+_0x6e8e68)/_0xc43a5b,_0x3dab90=_0x21f3c4['width'],_0x182fc9=_0x21f3c4['height'],_0x4f6b9c=_0x3576ab/_0x3dab90,_0x1d7229=_0x5e7094/_0x182fc9,_0x28c948=(_0x3576ab+(_0x3b6a86??_0x24cb0c))/_0x3dab90,_0xd3f9ab=(_0x5e7094+(_0x2a3aea??_0x6e8e68))/_0x182fc9;this['data']['set']([_0x386da6,_0x39a809,_0x220b64,_0x4f6b9c,_0x1d7229,0xe8b*0x1+-0x1e5f+0xfd4,0x1835+0x1ac*0xc+-0x2c45*0x1,_0x5a125c,_0x39a809,_0x220b64,_0x28c948,_0x1d7229,-0x1ad5+0x2*0x47+0x1d*0xe8,-0x66b*-0x1+0xda*-0x6+-0x14f,_0x5a125c,_0x524030,_0x220b64,_0x28c948,_0xd3f9ab,-0x29e+0xfd4+-0xd35,-0xc54+-0x569+-0x6*-0x2f5,_0x386da6,_0x524030,_0x220b64,_0x4f6b9c,_0xd3f9ab,-0x13fe+-0xd2b+0x2129,0x10*0x26a+-0x1cb*-0x9+-0x36c2],(0x7ef*-0x1+0x225b+-0x1a50)*this['quads']),this['quads']++,this['prim']['count']+=0x2234+-0x2477*-0x1+-0x46a5;}['startFrame'](){this['quads']=0x1de3+0x2*0xd4f+-0x1*0x3881,this['prim']['count']=-0xa4d*0x1+0x1ade+-0x1091,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5879b7,_0x853e39,_0x5eb1cb,_0x51c68f,_0x4e5f4c,_0x367b56){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x4e5f4c,-0x81*0x48+-0xda9*0x1+0x31f1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x5eb1cb),this['material']['setParamet'+'er']('wordsTex',_0x51c68f),_0x5879b7['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x853e39);}}class N0{constructor(_0x256741,_0x4f94ed){const _0x35b387=_0x256741['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x35b387['height']/_0x35b387['maxPixelRa'+'tio'],_0x4f94ed={...N0['getDefault'+'Options'](),..._0x4f94ed},this['options']=_0x4f94ed,this['initGraphs'](_0x256741,_0x35b387,_0x4f94ed);const _0x56f24d=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x908633=>_0x908633['name']))['concat'](_0x4f94ed['stats']?_0x4f94ed['stats']['map'](_0xf48d01=>_0xf48d01['unitsName']):[])['filter'](_0x5ca1ae=>!!_0x5ca1ae));this['wordAtlas']=new AU(_0x35b387,_0x56f24d),this['sizes']=_0x4f94ed['sizes'],this['_activeSiz'+'eIndex']=_0x4f94ed['startSizeI'+'ndex'];const _0xd2d7a1=document['createElem'+'ent']('div');_0xd2d7a1['setAttribu'+'te']('id','mini-stats'),_0x4f94ed['position']==='top'?_0xd2d7a1['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0xd2d7a1['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0xd2d7a1['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0xd2d7a1),_0xd2d7a1['addEventLi'+'stener']('mouseenter',_0x348352=>{this['opacity']=-0x175b+-0x52d+0x5*0x5b5;}),_0xd2d7a1['addEventLi'+'stener']('mouseleave',_0x190970=>{this['opacity']=0x1fbf+0x96*-0x3d+0x155*0x3+0.7;}),_0xd2d7a1['addEventLi'+'stener']('click',_0x4b0657=>{_0x4b0657['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x760+-0x11c3+0xa64))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x35b387['on']('resizecanv'+'as',this['updateDiv'],this),_0x35b387['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x256741['on']('postrender',this['postRender'],this),this['app']=_0x256741,this['drawLayer']=_0x256741['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x35b387,this['render2d']=new IU(_0x35b387),this['div']=_0xd2d7a1,this['width']=0x1c89+-0x1584+0x257*-0x3,this['height']=-0x77d*0x3+0x134a+0x1*0x32d,this['gspacing']=0x2*-0xd3c+-0x11*0x167+0xb*0x493,this['clr']=[0xdc9+0x1dd5*0x1+-0x2b9d,-0x1f6d+0x1*0x23b4+0x223*-0x2,-0x4b4+-0x14fe+-0x81*-0x33,0x2*-0x11cf+0x2322+0x7c+0.5],this['_enabled']=!(0x8a9+0x357+-0xc00),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x3a1476=>_0x3a1476['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x1c1e+-0x72*-0x8+-0x1*-0x188f)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1*0x143e+0x2ea+-0x1728)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x2036+0x4f7*-0x5+-0x1d7*-0x1f)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x174e+-0x1*-0x1fd5+-0x3723),'watermark':0x21},'gpu':{'enabled':!(0x17b5*-0x1+0x800*-0x2+0x27b5),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0xff62ac){this['_activeSiz'+'eIndex']=_0xff62ac,this['gspacing']=this['sizes'][_0xff62ac]['spacing'],this['resize'](this['sizes'][_0xff62ac]['width'],this['sizes'][_0xff62ac]['height'],this['sizes'][_0xff62ac]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x937a77){this['clr'][0x87b+0x1aab*0x1+0x7*-0x505]=_0x937a77;}get['opacity'](){return this['clr'][0x2*0x122b+-0xb01+-0x1952];}get['overallHei'+'ght'](){const _0x5ca6d7=this['graphs'],_0x25e12f=this['gspacing'];return this['height']*_0x5ca6d7['length']+_0x25e12f*(_0x5ca6d7['length']-(0x6*-0x23d+-0x6c6+0x1435));}set['enabled'](_0x1f8479){if(_0x1f8479!==this['_enabled']){this['_enabled']=_0x1f8479;for(let _0x1350de=0x1c1d+-0x1*-0x17d5+0x6d*-0x7a;_0x1350de<this['graphs']['length'];++_0x1350de)this['graphs'][_0x1350de]['enabled']=_0x1f8479,this['graphs'][_0x1350de]['timer']['enabled']=_0x1f8479;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x2e0fd9,_0x30d0c3,_0x3a042f){if(this['graphs']=[],_0x3a042f['cpu']['enabled']){const _0x3f72d4=new wU(_0x2e0fd9),_0x164962=new Uf('CPU',_0x2e0fd9,_0x3a042f['cpu']['watermark'],_0x3a042f['textRefres'+'hRate'],_0x3f72d4);this['graphs']['push'](_0x164962);}if(_0x3a042f['gpu']['enabled']){const _0x44c520=new EU(_0x30d0c3),_0x286e3d=new Uf('GPU',_0x2e0fd9,_0x3a042f['gpu']['watermark'],_0x3a042f['textRefres'+'hRate'],_0x44c520);this['graphs']['push'](_0x286e3d);}_0x3a042f['stats']&&_0x3a042f['stats']['forEach'](_0x268713=>{const _0xa4d284=new bU(_0x2e0fd9,_0x268713['stats'],_0x268713['decimalPla'+'ces'],_0x268713['unitsName'],_0x268713['multiplier']),_0x218506=new Uf(_0x268713['name'],_0x2e0fd9,_0x268713['watermark'],_0x3a042f['textRefres'+'hRate'],_0xa4d284);this['graphs']['push'](_0x218506);});const _0x15fcc7=_0x3a042f['sizes']['reduce']((_0x3a3ee0,_0x22d5ac)=>_0x22d5ac['width']>_0x3a3ee0?_0x22d5ac['width']:_0x3a3ee0,-0x1*-0x2631+-0x1b76+-0xabb);this['texture']=new _e(_0x30d0c3,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x15fcc7),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x32*-0x53+0x1d4*-0xf+0xb37),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x1a4f9a,_0x2c1de2)=>{_0x1a4f9a['texture']=this['texture'],_0x1a4f9a['yOffset']=_0x2c1de2;});}['render'](){const _0x4dff74=this['graphs'],_0x307456=this['wordAtlas'],_0xc760f8=this['render2d'],_0x158456=this['width'],_0x431699=this['height'],_0xfc0723=this['gspacing'];_0xc760f8['startFrame']();for(let _0x4a5610=-0x1*0x1979+-0xeac+0x2825;_0x4a5610<_0x4dff74['length'];++_0x4a5610){const _0x72b436=_0x4dff74[_0x4a5610];let _0x403c43=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x4a5610+(0x79*-0x4a+0x25ce+0x3*-0xf1))*(_0x431699+_0xfc0723):_0x4a5610*(_0x431699+_0xfc0723);_0x72b436['render'](_0xc760f8,0x1dd3*-0x1+-0x46e+0x3*0xb6b,_0x403c43,_0x158456,_0x431699);let _0x59792d=-0x3*0xa26+-0x1*0x20d7+0x3f4a;_0x403c43+=_0x431699-(-0x1462+-0x1229+-0x13*-0x208),_0x59792d+=_0x307456['render'](_0xc760f8,_0x72b436['name'],_0x59792d,_0x403c43)+(0x19f4+0x86d+0x2257*-0x1);const _0x4cb477=_0x72b436['timingText'];for(let _0x3ccb31=-0x1af4+-0x1*0x4d5+-0x1fc9*-0x1;_0x3ccb31<_0x4cb477['length'];++_0x3ccb31)_0x59792d+=_0x307456['render'](_0xc760f8,_0x4cb477[_0x3ccb31],_0x59792d,_0x403c43);_0x72b436['timer']['unitsName']&&(_0x59792d+=0x1*-0x511+-0x16b5+-0x3*-0x943,_0x307456['render'](_0xc760f8,_0x72b436['timer']['unitsName'],_0x59792d,_0x403c43));}_0xc760f8['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x431699);}['resize'](_0x336a6f,_0x2bfb9e,_0xaf33ef){const _0xc6013=this['graphs'];for(let _0x58341e=-0xd57*0x2+0x22a0+0x1*-0x7f2;_0x58341e<_0xc6013['length'];++_0x58341e)_0xc6013[_0x58341e]['enabled']=_0xaf33ef;this['width']=_0x336a6f,this['height']=_0x2bfb9e,this['updateDiv']();}['updateDiv'](){const _0x3f6297=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x3f6297['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x3f6297['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x1cdbd0=>_0x1cdbd0['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0xc20a45,_0x599fb2,_0x29a5b7)=>{_0xc20a45['on'](_0x599fb2,_0x29a5b7),this['eventsList']=this['eventsList']['concat']({'e':_0xc20a45,'ty':_0x599fb2,'fn':_0x29a5b7});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x9ff33a,ty:_0x2fa7c8,fn:_0x494bd3})=>{_0x9ff33a['off'](_0x2fa7c8,_0x494bd3);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0xc26abb=>{var _0x16d6a5;if(console['log']('add\x20xr\x20inp'+'ut',_0xc26abb['handedness']),!((_0x16d6a5=_0xc26abb['profiles'])!=null&&_0x16d6a5['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0xd1dec7=_0xc26abb['profiles']['map'](async _0x5ae859=>{var _0x2655ea;const _0x2acf7b=this['basePath']+'/'+_0x5ae859+('/profile.j'+'son');try{const _0x131828=await fetch(_0x2acf7b);if(!_0x131828['ok'])return null;const _0x10e554=await _0x131828['json'](),_0x2ba97c=((_0x2655ea=_0x10e554['layouts'][_0xc26abb['handedness']])==null?void(0x20e*0x2+-0x701+0x39*0xd):_0x2655ea['assetPath'])||'',_0x1cd719=this['basePath']+'/'+_0x10e554['profileId']+'/'+_0xc26abb['handedness']+_0x2ba97c['replace'](/^\/?(left|right)/,''),_0x41ebd4=await new Promise((_0x3d176f,_0x1c445d)=>{this['app']['assets']['loadFromUr'+'l'](_0x1cd719,'container',(_0x198e79,_0x4401b1)=>{_0x198e79?_0x1c445d(_0x198e79):_0x3d176f(_0x4401b1);});});return{'profileId':_0x5ae859,'asset':_0x41ebd4};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x5ae859),null;}}),_0x55b77d=(await Promise['all'](_0xd1dec7))['find'](_0x370dea=>_0x370dea!==null);if(_0x55b77d){const {asset:_0x2d358f}=_0x55b77d,_0x3f0d93=_0x2d358f['resource']['instantiat'+'eRenderEnt'+'ity']();_0x3f0d93['name']='Armature_'+_0xc26abb['handedness'],this['app']['root']['addChild'](_0x3f0d93),this['preEntitie'+'s']['set'](_0xc26abb,_0x3f0d93);const _0x2ef46e=new Map();if(_0xc26abb['hand'])for(const _0x4821d6 of _0xc26abb['hand']['joints']){const _0x1e8ce2=_0x3f0d93['findByName'](_0x4821d6['id']);_0x1e8ce2&&_0x2ef46e['set'](_0x4821d6,_0x1e8ce2);}this['controller'+'s']['set'](_0xc26abb,{'entity':_0x3f0d93,'jointMap':_0x2ef46e});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2290af=>{var _0x37cda4;const _0x203613=this['controller'+'s']['get'](_0x2290af);_0x203613&&((_0x37cda4=_0x203613['entity'])==null||_0x37cda4['destroy'](),this['app']['root']['removeChil'+'d'](_0x203613==null?void(0xe83*-0x1+0x21ae+-0x132b):_0x203613['entity']),this['controller'+'s']['delete'](_0x2290af));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x3f733c,_0x2103de,_0x3999cc;const _0x9d3160=this['app'];(_0x3f733c=this['controller'+'s'])==null||_0x3f733c['forEach'](_0x15b181=>{var _0x2cddfe;_0x9d3160['root']['removeChil'+'d'](_0x15b181==null?void(0x67*0x46+-0x6*0x57d+0x4c4):_0x15b181['entity']),(_0x2cddfe=_0x15b181['entity'])==null||_0x2cddfe['destroy']();}),(_0x2103de=this['controller'+'s'])==null||_0x2103de['clear'](),(_0x3999cc=this['preEntitie'+'s'])==null||_0x3999cc['forEach'](_0xbbe3f0=>{_0x9d3160['root']['removeChil'+'d'](_0xbbe3f0),_0xbbe3f0==null||_0xbbe3f0['destroy']();});const _0x424b15=()=>{const _0x22df76=_0x9d3160['root']['findByName']('Armature_l'+'eft'),_0x2979b5=_0x9d3160['root']['findByName']('Armature_r'+'ight');for(_0x22df76&&_0x9d3160['root']['removeChil'+'d'](_0x22df76),_0x2979b5&&_0x9d3160['root']['removeChil'+'d'](_0x2979b5);_0x9d3160['root']['findByName']('Armature_l'+'eft')||_0x9d3160['root']['findByName']('Armature_r'+'ight');)_0x424b15();};_0x424b15();});}['update'](_0x1b1ba0){var _0x44ef9c;if((_0x44ef9c=this['app']['xr'])!=null&&_0x44ef9c['active']){for(const [_0x4cc635,{entity:_0x2d457c,jointMap:_0x24568a}]of this['controller'+'s'])if(_0x4cc635['hand']){for(const [_0x4d6dc7,_0x9fab7a]of _0x24568a)_0x9fab7a['setPositio'+'n'](_0x4d6dc7['getPositio'+'n']()),_0x9fab7a['setRotatio'+'n'](_0x4d6dc7['getRotatio'+'n']());}else _0x2d457c['setPositio'+'n'](_0x4cc635['getPositio'+'n']()),_0x2d457c['setRotatio'+'n'](_0x4cc635['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0xf58+-0x1*-0xb66+-0x1abd)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0xd62+-0x2505+0x17a3,-0x1*0x269f+-0x2613+-0x11*-0x483,0x868*0x1+-0x494*-0x4+-0x1ab8)),h(this,'invalidCol'+'or',new ie(-0x524+0x4*-0x3f3+0x14f1,-0xf*-0x17f+-0xb7*-0xe+-0xad1*0x3,0x15*0x1ab+0x10c9*0x1+-0x33d0)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x17*0xad+-0x15aa+-0x38*-0x1c)),h(this,'teleportLe'+'ftOpenStat'+'us',!(-0x55*0x71+-0xdeb*0x1+-0x1*-0x3371));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x25489b=>{const _0x35953a=()=>{this['activePoin'+'ters']['set'](_0x25489b,!(-0x1e58+0x795+0x16c3));},_0x50d3ba=()=>{this['activePoin'+'ters']['set'](_0x25489b,!(0x641+0x1110+-0xba8*0x2)),this['tryTelepor'+'t'](_0x25489b);};_0x25489b['on']('selectstar'+'t',_0x35953a),_0x25489b['on']('selectend',_0x50d3ba),this['inputHandl'+'ers']['set'](_0x25489b,{'handleSelectStart':_0x35953a,'handleSelectEnd':_0x50d3ba}),this['inputSourc'+'es']['add'](_0x25489b);}),this['app']['xr']['input']['on']('remove',_0x185c93=>{const _0x589cce=this['inputHandl'+'ers']['get'](_0x185c93);_0x589cce&&(_0x185c93['off']('selectstar'+'t',_0x589cce['handleSele'+'ctStart']),_0x185c93['off']('selectend',_0x589cce['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x185c93)),this['activePoin'+'ters']['delete'](_0x185c93),this['inputSourc'+'es']['delete'](_0x185c93);});}['findPlaneI'+'ntersectio'+'n'](_0x5577e2,_0x5c2544){if(Math['abs'](_0x5c2544['y'])<0x77d+-0x1837*0x1+0x10ba+0.00001)return null;const _0x12ac3c=-_0x5577e2['y']/_0x5c2544['y'];return _0x12ac3c<0x2*0x92e+0x3*-0xb92+0x142*0xd?null:new D(_0x5577e2['x']+_0x5c2544['x']*_0x12ac3c,0x169*-0x1b+-0x1*-0x17cf+0x2c*0x53,_0x5577e2['z']+_0x5c2544['z']*_0x12ac3c);}['tryTelepor'+'t'](_0x1cb21d){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x22c443=_0x1cb21d['getOrigin'](),_0x20a48d=_0x1cb21d['getDirecti'+'on'](),_0x378c46=this['findPlaneI'+'ntersectio'+'n'](_0x22c443,_0x20a48d);if(_0x378c46){const _0x4e7513=this['entity']['getPositio'+'n']()['y'];_0x378c46['y']=_0x4e7513,this['entity']['setPositio'+'n'](_0x378c46);}}}['update'](){for(const _0x562b86 of this['inputSourc'+'es']){const _0x10aa13=_0x562b86['getOrigin'](),_0x3abb1e=_0x562b86['getDirecti'+'on']();if(_0x562b86['gamepad']&&!_0x562b86['hand']){const _0x57091a=_0x562b86['gamepad'];for(let _0x438d6a=0x136a+-0x1fd6+0x4*0x31b;_0x438d6a<_0x57091a['buttons']['length'];++_0x438d6a)_0x57091a['buttons'][_0x438d6a]['pressed']&&console['log'](_0x438d6a,_0x562b86['handedness']),_0x562b86['handedness']==='right'&&_0x438d6a===-0x11*0xd3+0xe3f*0x1+-0x3b*0x1&&(this['teleportOp'+'enStatus']=_0x57091a['buttons'][-0xad1+0x1*0x1903+-0x15*0xad]['pressed']),_0x562b86['handedness']==='left'&&_0x438d6a===0xb50+0x79c+-0x12eb&&(this['teleportLe'+'ftOpenStat'+'us']=_0x57091a['buttons'][0x1c0a+-0x403*0x1+-0x1806]['pressed']);}const _0x1fcbda=_0x562b86['handedness'];if(!this['enableDraw'+'Ray']&&(_0x1fcbda==='right'&&!this['teleportOp'+'enStatus']||_0x1fcbda==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x5266dd=this['findPlaneI'+'ntersectio'+'n'](_0x10aa13,_0x3abb1e);if(this['enableDraw'+'Ray']||!_0x5266dd){const _0x285616=_0x10aa13['clone']()['add'](_0x3abb1e['clone']()['mulScalar'](0x1c*-0x17+0x17ce*-0x1+-0xd*-0x20e)),_0x2beae1=this['enableDraw'+'Ray']?_0x562b86['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x10aa13,_0x285616,_0x2beae1);}else this['app']['drawLine'](_0x10aa13,_0x5266dd,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x5266dd);}}['drawTelepo'+'rtIndicato'+'r'](_0x59e804){for(let _0x5726fd=-0x16e0+-0xe6f+0x254f*0x1;_0x5726fd<0x4*0x1f+0xd6*-0x22+-0x8*-0x382;_0x5726fd++){const _0x4914be=_0x5726fd/(0x286+-0x301*-0x2+-0x868)*Math['PI']*(-0x964*-0x2+0x3e6+-0x16ac),_0x52f06c=(_0x5726fd+(-0x1613*0x1+0xd1*0x25+-0x821))/(0x18d+-0xcdb*-0x1+-0x1*0xe48)*Math['PI']*(0x1b0c+0x91f*-0x2+-0x4*0x233),_0xd7fef2=_0x59e804['x']+Math['cos'](_0x4914be)*(-0x43c*-0x7+-0x1138+-0xc6c+0.2),_0xcf8b66=_0x59e804['z']+Math['sin'](_0x4914be)*(-0xae8+-0x1726+0x220e+0.2),_0xdf5d7b=_0x59e804['x']+Math['cos'](_0x52f06c)*(0x54e+0xa33+-0xf81+0.2),_0xf384ee=_0x59e804['z']+Math['sin'](_0x52f06c)*(0x84b*-0x1+-0xf0f+0x175a+0.2);this['app']['drawLine'](new D(_0xd7fef2,-0xa*-0x6+0x11*-0xd9+-0xbf*-0x13+0.01,_0xcf8b66),new D(_0xdf5d7b,-0x1*-0x1492+0x4*0xcd+-0x17c6+0.01,_0xf384ee),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x419904(_0x385d6d){function _0x30d388(_0x4dae8b){if(typeof _0x4dae8b==='string')return function(_0x42cfde){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x4dae8b/_0x4dae8b)['length']!==0x1cae+0x1a7d*0x1+-0x372a||_0x4dae8b%(0x428+-0xdf4+-0x1*-0x9e0)===0x8f*-0x29+0x1d54*-0x1+0x343b?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x30d388(++_0x4dae8b);}try{if(_0x385d6d)return _0x30d388;else _0x30d388(-0x1*0x2467+-0x14ae+0x3915);}catch(_0x47f054){}}